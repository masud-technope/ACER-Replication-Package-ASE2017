licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache log xml junit framework test case testcase org apache log appender org apache log file appender fileappender org apache log level org apache log log manager logmanager org apache log logger org apache log vector appender vectorappender org apache log spi error handler errorhandler org apache log spi logger factory loggerfactory org apache log spi logging event loggingevent org apache log spi throwable renderer throwablerenderer org apache log spi option handler optionhandler org apache log spi throwable renderer support throwablerenderersupport org apache log util compare org apache log util control filter controlfilter org apache log util filter org apache log util iso filter org apache log util junit test runner filter junittestrunnerfilter org apache log util line number filter linenumberfilter org apache log util sun ref lect filter sunreflectfilter org apache log util transformer java file java file input stream fileinputstream java file output stream fileoutputstream java io exception ioexception java input stream inputstream java net url java util zip zip entry zipentry java util zip zip output stream zipoutputstream dom test case domtestcase test case testcase string temp output temp string temp output temp string filtered output filtered string filtered output filtered string exception java lang exception testing string exception string exception method string exception compiled code string exception lib gcj libgcj string test pat trace debug info warn error fatal message string test pat trace debug info warn error fatal root message string test pat main trace debug info warn error fatal message logger root logger logger dom test case domtestcase string set up setup root logger get root logger getrootlogger logger logger get logger getlogger dom test case domtestcase tear down teardown root get logger repository getloggerrepository reset configuration resetconfiguration test exception dom configurator domconfigurator configure input xml dom test case domtestcase xml common control filter controlfilter control filter controlfilter string test pat test pat exception exception exception exception exception control filter controlfilter control filter controlfilter string test pat exception exception exception exception exception transformer transform temp filtered filter line number filter linenumberfilter sun ref lect filter sunreflectfilter junit test runner filter junittestrunnerfilter transformer transform temp filtered filter line number filter linenumberfilter iso filter sun ref lect filter sunreflectfilter junit test runner filter junittestrunnerfilter assert true asserttrue compare compare filtered witness dom assert true asserttrue compare compare filtered witness dom tests processing external entities xml file test exception dom configurator domconfigurator configure input xml dom test domtest xml common control filter controlfilter control filter controlfilter string test pat test pat exception exception exception exception exception control filter controlfilter control filter controlfilter string test pat exception exception exception exception exception transformer transform temp filtered filter line number filter linenumberfilter sun ref lect filter sunreflectfilter junit test runner filter junittestrunnerfilter transformer transform temp filtered filter line number filter linenumberfilter iso filter sun ref lect filter sunreflectfilter junit test runner filter junittestrunnerfilter assert true asserttrue compare compare filtered witness dom assert true asserttrue compare compare filtered witness dom common string old thread name oldthreadname thread current thread currentthread get name getname thread current thread currentthread set name setname main logger trace message root trace message logger debug message root debug message logger info message root info message logger warn message root warn message logger error message root error message logger log level fatal message root log level fatal message exception exception testing logger debug message root debug message logger error message root error message thread current thread currentthread set name setname old thread name oldthreadname custom logger customlogger implementation test category factory testcategoryfactory custom logger customlogger logger creates instance param logger custom logger customlogger string creates instances custom logger customlogger custom logger factory customloggerfactory logger factory loggerfactory add ivity addivity expected configuration file add itivity additivity create instance factory custom logger factory customloggerfactory add itivity additivity create logger param logger logger logger make new logger instance makenewloggerinstance string logger logger custom logger customlogger assert false assertfalse add itivity additivity logger add itivity additivity param new val newval add itivity additivity set add itivity setadditivity new val newval add itivity additivity new val newval custom error handler customerrorhandler test category factory testcategoryfactory custom error handler customerrorhandler error handler errorhandler custom error handler customerrorhandler activate options activateoptions set logger setlogger logger logger error string message exception error code errorcode error string message error string message exception error code errorcode logging event loggingevent event set appender setappender appender appender set backup appender setbackupappender appender appender tests log gers loggers mentioned logger elements category factory categoryfactory bug test category factory testcategoryfactory dom configurator domconfigurator configure input xml category factory categoryfactory xml logger explicitly mentioned configuration custom logger customlogger logger logger logger get logger getlogger org apache log xml dom test case domtestcase test category factory testcategoryfactory assert true asserttrue logger custom logger customlogger logger explicitly mentioned configuration factory logger logger logger get logger getlogger org apache log xml dom test case domtestcase test category factory testcategoryfactory assert false assertfalse logger custom logger customlogger tests log gers loggers mentioned logger elements category factory categoryfactory bug test category factory testcategoryfactory dom configurator domconfigurator configure input xml category factory categoryfactory xml logger explicitly mentioned configuration custom logger customlogger logger logger logger get logger getlogger org apache log xml dom test case domtestcase test category factory testcategoryfactory assert true asserttrue logger custom logger customlogger logger explicitly mentioned configuration factory logger logger logger get logger getlogger org apache log xml dom test case domtestcase test category factory testcategoryfactory assert false assertfalse logger custom logger customlogger tests log gers loggers mentioned logger elements logger factory loggerfactory bug test logger factory testloggerfactory dom configurator domconfigurator configure input xml logger factory loggerfactory xml logger explicitly mentioned configuration custom logger customlogger logger logger logger get logger getlogger org apache log xml dom test case domtestcase test logger factory testloggerfactory assert true asserttrue logger custom logger customlogger logger explicitly mentioned configuration factory logger logger logger get logger getlogger org apache log xml dom test case domtestcase test logger factory testloggerfactory assert false assertfalse logger custom logger customlogger tests reset log configuration element res ets resets repository configuration exception thrown error test reset testreset exception vector appender vectorappender appender vector appender vectorappender appender set name setname logger get root logger getrootlogger add appender addappender appender dom configurator domconfigurator configure input xml test reset testreset xml assert null assertnull logger get root logger getrootlogger get appender getappender test checks configure and watch configureandwatch initial configuration bug exception error test configure and watch testconfigureandwatch exception dom configurator domconfigurator configure and watch configureandwatch input xml dom test case domtestcase xml assert not null assertnotnull logger get root logger getrootlogger get appender getappender test checks subst method extending checked eval uating evaluating parameters bug test override subst testoverridesubst dom configurator domconfigurator config urator configurator dom configurator domconfigurator string subst string output temp equals output subst test config urator configurator do configure doconfigure input xml dom test case domtestcase xml log manager logmanager get logger repository getloggerrepository file appender fileappender file appender fileappender logger get root logger getrootlogger get appender getappender string file get file getfile assert equals assertequals output subst test file mock throwable renderer throwablerenderer test throwable renderer testthrowablerenderer bug mock throwable renderer mockthrowablerenderer throwable renderer throwablerenderer option handler optionhandler activated show version showversion mock throwable renderer mockthrowablerenderer activate options activateoptions activated is activated isactivated activated string do render dorender throwable string set show version setshowversion show version showversion get show version getshowversion show version showversion test log throwable renderer throwablerenderer support bug test throwable renderer testthrowablerenderer dom configurator domconfigurator configure input xml throwable renderer throwablerenderer xml throwable renderer support throwablerenderersupport repo throwable renderer support throwablerenderersupport log manager logmanager get logger repository getloggerrepository mock throwable renderer mockthrowablerenderer renderer mock throwable renderer mockthrowablerenderer repo get throwable renderer getthrowablerenderer log manager logmanager reset configuration resetconfiguration assert not null assertnotnull renderer assert equals assertequals renderer is activated isactivated assert equals assertequals renderer get show version getshowversion test bug configure url close opened jarurlconnection io exception ioexception io exception ioexception creating properties jar testjarurl io exception ioexception file input file input xml default init defaultinit xml system println input get absolute path getabsolutepath input stream inputstream file input stream fileinputstream input file dir file output dir mkdirs file file file output xml jar zip output stream zipoutputstream zos zip output stream zipoutputstream file output stream fileoutputstream file zos put next entry putnextentry zip entry zipentry log xml len buf len read buf zos write buf len zos close entry closeentry zos close url url url jar file tourl log xml dom configurator domconfigurator configure url assert true asserttrue file delete assert false assertfalse file exists
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license thomas tuft muller ttm online org apache log java text message format messageformat java util array list arraylist java util enumeration java util hash map hashmap java util iterator java util list java util map org apache log helpers appender attachable impl appenderattachableimpl org apache log spi appender attachable appenderattachable org apache log spi logging event loggingevent async appender asyncappender users log events async hronously asynchronously async appender asyncappender collect events dispatch append ers appenders attached attach multiple append ers appenders async appender asyncappender async appender asyncappender separate thread serve events buffer not e note code async appender asyncappender code script configured link org apache log xml dom configurator domconfigurator author ceki uuml uuml author curt arnold async appender asyncappender appender skeleton appenderskeleton appender attachable appenderattachable buffer size events buffer size event buffer monitor protect discard map discardmap simulate nous simulatenous modifications list buffer array list arraylist map discard summary discardsummary objects keyed logger map discard map discardmap hash map hashmap buffer size buffer size buffersize buffer size nested append ers appenders appender attachable impl appenderattachableimpl aai nested append ers appenders appender attachable impl appenderattachableimpl append ers appenders dispatcher thread dispatcher location info included dispatched messages location info locationinfo appender block buffer full blocking create instance async appender asyncappender append ers appenders appender attachable impl appenderattachableimpl compatibility aai append ers appenders dispatcher thread dispatcher buffer discard map discardmap append ers appenders user resp onsibility responsibility close append ers appenders exiting dispatcher set daemon setdaemon dispatcher priority lowest dispatcher set priority setpriority thread min priority dispatcher set name setname async appender asyncappender dispatcher dispatcher get name getname dispatcher start add appender param new appender newappender appender add add appender addappender appender new appender newappender append ers appenders append ers appenders add appender addappender new appender newappender inherit doc inheritdoc append logging event loggingevent event bug dispatcher dispatcher is alive isalive buffer size buffersize append ers appenders append ers appenders append loop on appenders appendlooponappenders event ndc thread calling thread logging event loggingevent fields event creation time event getndc event get thread name getthreadname copy thread mdc event getmdccopy location info locationinfo event get location information getlocationinformation event get rendered message getrenderedmessage event get throwable str rep getthrowablestrrep buffer previous size previoussize buffer size previous size previoussize buffer size buffersize buffer add event previous size previoussize buffer notify all notifyall code reachable buffer full blocking thread int errupted interrupted dispatcher wait buffer not ification notification discard blocking thread int errupted interrupted thread current thread currentthread dispatcher buffer wait discard interrupted exception interruptedexception thread current thread currentthread int errupt interrupt discard string logger name loggername event get logger name getloggername discard summary discardsummary summary discard summary discardsummary discard map discardmap logger name loggername summary summary discard summary discardsummary event discard map discardmap logger name loggername summary summary add event close code async appender asyncappender code int err upting interrupting dispatcher thread process pending events exiting close closed flag notify threads check conditions result dispatcher terminating buffer closed buffer notify all notifyall dispatcher join interrupted exception interruptedexception thread current thread currentthread int errupt interrupt org apache log helpers log log loglog error interrupted exception interruptedexception waiting dispatcher finish append ers appenders enumeration iter append ers appenders get all appenders getallappenders iter iter has more elements hasmoreelements object iter next element nextelement appender appender close iterator attached append ers appenders iterator attached append ers appenders enumeration get all appenders getallappenders append ers appenders append ers appenders get all appenders getallappenders appender param matching appender appender get appender getappender string append ers appenders append ers appenders get appender getappender location logging request call captured current location info locationinfo option get location info getlocationinfo location info locationinfo determines appender attached param appender appender attached is attached isattached appender appender append ers appenders append ers appenders is attached isattached appender inherit doc inheritdoc requires layout requireslayout removes closes attached append ers appenders remove all appenders removeallappenders append ers appenders append ers appenders remove all appenders removeallappenders removes appender param appender appender remove remove appender removeappender appender appender append ers appenders append ers appenders remove appender removeappender appender remove appender param remove appender removeappender string append ers appenders append ers appenders remove appender removeappender location info locationinfo option takes effort extract location event result event ultimately log ged logged wrong location log format location extract ion extraction comp aratively comparatively slow avoided performance concern param flag location extracted set location info setlocationinfo flag location info locationinfo flag sets number messages allowed event buffer calling thread blocked blocking messages sum marized summarized discarded changing size affect messages buffer param size buffer size positive set buffer size setbuffersize size size java lang negative array size exception negativearraysizeexception size buffer don size buffer size buffersize size size buffer notify all notifyall current buffer size current buffer size buffersize option get buffer size getbuffersize buffer size buffersize sets appender wait space event buffer param appender wait space buffer set blocking setblocking buffer blocking buffer notify all notifyall appender block calling thread buffer full messages counted logger summary message appended contents buffer appended calling thread blocked buffer full get blocking getblocking blocking summary discarded logging events logger discard summary discardsummary event highest severity logging event loggingevent max event maxevent total count messages discarded count create instance param event event discard summary discardsummary logging event loggingevent event max event maxevent event count add discarded event summary param event event add logging event loggingevent event event get level getlevel to int toint max event maxevent get level getlevel to int toint max event maxevent event count create event summary event logging event loggingevent create event createevent string msg message format messageformat format discarded messages full event buffer including object integer count max event maxevent get message getmessage logging event loggingevent org apache log async appender asyncappender dont report location logger get logger getlogger max event maxevent get logger name getloggername max event maxevent get level getlevel msg event dispatcher dispatcher runnable parent async appender asyncappender async appender asyncappender parent event buffer list buffer map discard summary discardsummary keyed logger map discard map discardmap wrapped append ers appenders appender attachable impl appenderattachableimpl append ers appenders create instance dispatcher param parent parent async appender asyncappender param buffer event buffer param discard map discardmap discard map param append ers appenders append ers appenders dispatcher async appender asyncappender parent list buffer map discard map discardmap appender attachable impl appenderattachableimpl append ers appenders parent parent buffer buffer append ers appenders append ers appenders discard map discardmap discard map discardmap inherit doc inheritdoc is active isactive is active isactive logging event loggingevent events buffer buffer size buffersize buffer size is active isactive parent closed buffer size buffersize is active isactive buffer wait buffer size buffersize buffer size is active isactive parent closed buffer size buffersize events logging event loggingevent buffer size buffersize discard map discardmap size buffer to array toarray events add events buffer overflow buffer size buffersize iterator iter discard map discardmap values iterator iter has next hasnext events discard summary discardsummary iter create event createevent clear buffer discard map buffer clear discard map discardmap clear blocked app ends appends buffer notify all notifyall events events length append ers appenders append ers appenders append loop on appenders appendlooponappenders events interrupted exception interruptedexception thread current thread currentthread int errupt interrupt
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache log org apache log spi throwable renderer throwablerenderer java file java lang reflect method java net url java security code source codesource java util hash map hashmap java util map enhanced implementation throwable renderer throwablerenderer throwable get stack trace getstacktrace running jdk delegates default throwable renderer defaultthrowablerenderer render earlier virtual machines enhanced throwable renderer enhancedthrowablerenderer throwable renderer throwablerenderer throwable get stack trace getstacktrace method method get stack trace method getstacktracemethod stack trace element stacktraceelement get class name getclassname method method get class name method getclassnamemethod construct instance enhanced throwable renderer enhancedthrowablerenderer no args noargs get stack trace method getstacktracemethod throwable get method getmethod get stack trace getstacktrace no args noargs ste for name forname java lang stack trace element stacktraceelement get class name method getclassnamemethod ste get method getmethod get class name getclassname no args noargs exception inherit doc inheritdoc string do render dorender throwable throwable get stack trace method getstacktracemethod object no args noargs object elements object get stack trace method getstacktracemethod invoke throwable no args noargs string lines string elements length lines throwable to string tostring map class map classmap hash map hashmap elements length lines format element formatelement elements class map classmap lines exception default throwable renderer defaultthrowablerenderer render throwable format element stack trace param element element param class map classmap map location string representation element string format element formatelement object element map class map classmap string buffer stringbuffer buf string buffer stringbuffer tat buf append element string class name classname get class name method getclassnamemethod invoke element object to string tostring object class details classdetails class map classmap class name classname class details classdetails buf append class details classdetails cls find class findclass class name classname detail start detailstart buf length buf append code source codesource source cls get protection domain getprotectiondomain get code source getcodesource source url locationurl source get location getlocation locationurl file equals locationurl get protocol getprotocol string path locationurl get path getpath path find file separator character last slash lastslash path last index of lastindexof last back lastback path last index of lastindexof file separator char separatorchar last back lastback last slash lastslash last slash lastslash last back lastback last slash lastslash last slash lastslash path length buf append locationurl buf append path substring last slash lastslash buf append locationurl security exception securityexception buf append pkg cls get package getpackage pkg string impl version implversion pkg get implementation version getimplementationversion impl version implversion buf append impl version implversion buf append class map classmap class name classname buf substring detail start detailstart exception buf to string tostring find param class name classname class not found exception classnotfoundexception thrown find class findclass string class name classname class not found exception classnotfoundexception thread current thread currentthread get context class loader getcontextclassloader load class loadclass class name classname class not found exception classnotfoundexception for name forname class name classname class not found exception classnotfoundexception get class getclass get class loader getclassloader load class loadclass class name classname
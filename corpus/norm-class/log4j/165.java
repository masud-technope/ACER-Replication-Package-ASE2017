licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache log performance program comp ares compares cost creating string buffer stringbuffer converting string keeping string buffer stringbuffer setting size converting string table figures table border cellpadding bgcolor ccff bgcolor cccccc rows pan rowspan total message length colspan align center colspan align center colspan align center colspan align center colspan align center bgcolor buffer set length setlength buffer set length setlength buffer set length setlength buffer set length setlength buffer set length setlength align bgcolor cccccc align bgcolor cccccc align bgcolor cccccc align bgcolor cccccc align bgcolor cccccc align bgcolor cccccc align bgcolor cccccc align bottom performance comp arisons comparisons buffer creation set length setlength app roach approach message sizes secondary loop len gths lengths table tests copy message destination string buffer copy character buffer buffer number times secondary loop length code set length setlength code method faster copying large string slow copying small strings peculiarity code copy code method string buffer stringbuffer creates character array length buffer vast majority characters unused tests performed linux ibm jdk test script crude model happen reality remain unconvinced send alternative measurement scenario new vs set len newvssetlen string bigbuf len sbuf len length bigbuf len sbuf sbuf len bigbuf bigbuf len sbuf len sbuf bigbuf len bigbuf main string args len sbuf len len bigbuf len len length system println len system println loop length length len len new buffer newbuffer len system print set len setlen len system println new buffer newbuffer size system current time millis currenttimemillis length string buffer stringbuffer buf string buffer stringbuffer sbuf len buf append sbuf sbuf length buf append bigbuf size buf to string tostring string buffer stringbuffer buf string buffer stringbuffer sbuf len buf append sbuf sbuf len buf to string tostring system current time millis currenttimemillis length set len setlen size system current time millis currenttimemillis string buffer stringbuffer buf string buffer stringbuffer sbuf len length buf append sbuf sbuf length buf append bigbuf size buf to string tostring buf set length setlength buf append sbuf sbuf len buf to string tostring buf set length setlength system current time millis currenttimemillis length
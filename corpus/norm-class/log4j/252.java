licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache log java io exception ioexception java interruptedioexception java output stream outputstream java output stream writer outputstreamwriter java writer org apache log helpers log log loglog org apache log helpers quiet writer quietwriter org apache log spi error handler errorhandler org apache log spi logging event loggingevent writer appender writerappender app ends appends log events link java writer link java output stream outputstream depending user choice author ceki uuml uuml writer appender writerappender appender skeleton appenderskeleton flush underlying writer output stream flushed append operation should flush shouldflush overridden flush slower ensures append request written code immediate flush immediateflush code code code good chance logs events written persistent media application crashes code immediate flush immediateflush code variable code code immediate flush immediateflush encoding writing code encoding code variable code utilization system encoding string encoding link quiet writer quietwriter quiet writer quietwriter write quiet writer quietwriter constructor writer appender writerappender instantiate writer appender writerappender output destination link output stream writer outputstreamwriter initialized code code link output stream outputstream writer appender writerappender layout layout output stream outputstream layout output stream writer outputstreamwriter instantiate writer appender writerappender output destination code writer code code writer code opened user writer appender writerappender layout layout writer writer layout layout set writer setwriter writer immediate flush immediateflush option code code appender flush write behavior option code code underlying stream defer writing physical medium time avoiding flush operation append performance gain per cent percent safety tra deoff tradeoff involved skip ping skipping flushing flushing skipped log events recorded disk application exits high pri ce price pay performance gain set immediate flush setimmediateflush immediate flush immediateflush returns immediate flush immediateflush option get immediate flush getimmediateflush immediate flush immediateflush activate options activateoptions method called link appender skeleton appenderskeleton do append doappend method output stream exists writable write log statement output stream write single warning message code system err code format output depend appender layout append logging event loggingevent event check entry conditions checkentryconditions sub append subappend event method determines sense attempting append checks output target layout checks fail code code returned check entry conditions checkentryconditions closed log log loglog warn allowed write closed appender error handler errorhandler error output stream file appender named layout error handler errorhandler error layout appender named close appender instance underlying stream writer closed closed append ers appenders reused set writer setwriter close closed closed write foo ter writefooter reset close underlying link java writer close writer closewriter close io exception ioexception interruptedioexception thread current thread currentthread int errupt interrupt log log loglog error close returns output stream writer outputstreamwriter passed output stream outputstream encoding depend code encoding code property encoding incorrectly writer opened system encoding error message printed log log loglog output stream writer outputstreamwriter create writer createwriter output stream outputstream output stream writer outputstreamwriter retval string enc get encoding getencoding enc retval output stream writer outputstreamwriter enc io exception ioexception interruptedioexception thread current thread currentthread int errupt interrupt log log loglog warn error initial izing initializing output writer log log loglog warn unsupported encoding retval retval output stream writer outputstreamwriter retval string get encoding getencoding encoding set encoding setencoding string encoding link error handler errorhandler writer appender writerappender underlying link quiet writer quietwriter set error handler seterrorhandler error handler errorhandler log log loglog warn error handler error handler errorhandler set error handler seterrorhandler sets writer log output writer opened user writable code java writer code closed appender instance closed warning logging unopened writer fail param writer opened writer set writer setwriter writer writer reset quiet writer quietwriter writer error handler errorhandler tracer print writer tracerprintwriter write header writeheader actual writing occurs subclasses code writer appender writerappender code override method sub append subappend logging event loggingevent event write layout format event layout ignores throwable ignoresthrowable string event get throwable str rep getthrowablestrrep len length len write write layout sep should flush shouldflush event flush writer appender writerappender requires layout method returns code code requires layout requireslayout clear internal references writer variables subclasses override method alternate closing behavior reset close writer closewriter write foo ter footer produced embedded layout link layout get foo ter getfooter method write foo ter writefooter layout string layout get foo ter getfooter write flush write header produced embedded layout link layout get header getheader method write header writeheader layout string layout get header getheader write determines writer flushed event written should flush shouldflush logging event loggingevent event immediate flush immediateflush
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache log xml org apache log layout org apache log helpers transform org apache log spi location info locationinfo org apache log spi logging event loggingevent java util java util arrays output xml layout xmllayout consists series log event elements defined href log dtd log dtd output complete for med formed xml file output designed included external entity separate file form correct xml file code abc code file xml layout xmllayout ouput for med formed xml file pre xml version doctype log event set eventset apache dtd log log dtd entity data system abc log event set eventset version xml ns xmlns log http jakarta apache org log nbsp nbsp data log event set eventset pre app roach approach enforces ind ependence independence xml layout xmllayout appender embedded code version code attribute helps components correctly int rep ret intrepret output generated xml layout xmllayout attribute output generated log versions prior log release relase appenders layout encoding utf utf events ascii characters result corrupted log files author ceki uuml uuml xml layout xmllayout layout size upper limit string buffer stringbuffer buf string buffer stringbuffer size location info locationinfo properties location info locationinfo option takes location output layout option file number statement origin log statement output embedding layout link org apache log net smtp appender smtpappender location info locationinfo option appender set location info setlocationinfo flag location info locationinfo flag returns current location info locationinfo option get location info getlocationinfo location info locationinfo sets mdc key pairs output param flag set properties setproperties flag properties flag mdc key pairs output mdc key pairs output get properties getproperties properties options activate activate options activateoptions form ats formats link org apache log spi logging event loggingevent conf ormance conformance log dtd string format logging event loggingevent event order avoid penalty creating large array buf capacity upper limit buf string buffer stringbuffer size buf set length setlength yield here sy heresy buf append log event logger buf append transform escape tags escapetags event get logger name getloggername buf append timestamp buf append event time stamp timestamp buf append level buf append transform escape tags escapetags string value of valueof event get level getlevel buf append thread buf append transform escape tags escapetags event get thread name getthreadname buf append buf append log message cdata append rendered message escape existing cdata sections transform appendescapingcdata buf event get rendered message getrenderedmessage buf append log message string ndc event getndc ndc buf append log ndc cdata transform appendescapingcdata buf ndc buf append log ndc string event get throwable str rep getthrowablestrrep buf append log throwable cdata length transform appendescapingcdata buf buf append buf append log throwable location info locationinfo location info locationinfo location info locationinfo event get location information getlocationinformation buf append log location info locationinfo buf append transform escape tags escapetags location info locationinfo get class name getclassname buf append method buf append transform escape tags escapetags location info locationinfo get method name getmethodname buf append file buf append transform escape tags escapetags location info locationinfo get file name getfilename buf append buf append location info locationinfo get line number getlinenumber buf append properties key set keyset event get property key set getpropertykeyset key set keyset size buf append log properties object key set keyset to array toarray arrays sort length string key to string tostring object val event getmdc key val buf append log data buf append transform escape tags escapetags key buf append buf append transform escape tags escapetags string value of valueof val buf append buf append log properties buf append log event buf to string tostring xml layout xmllayout prints ignore exceptions code code ignores throwable ignoresthrowable
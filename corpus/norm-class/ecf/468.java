copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf server app java file input stream fileinputstream java io exception ioexception java security permission collection permissioncollection java util org eclipse ecf core identity org eclipse ecf core security i connect handler policy iconnecthandlerpolicy org eclipse ecf core shared object sharedobject i shared object container group manager isharedobjectcontainergroupmanager org eclipse ecf provider org eclipse equinox app i application iapplication org eclipse equinox app i application context iapplicationcontext controls aspects application execution generic server genericserver i application iapplication map server groups servergroups hash map hashmap javadoc org eclipse equinox app i application iapplication start org eclipse equinox app i application context iapplicationcontext object start i application context iapplicationcontext context exception nls string args munge arguments mungearguments string context get arguments getarguments application args nls nls args length args equals args equals usage i application iapplication exit nls nls args length args equals config args equals setup configuration file expected file file input stream fileinputstream fis fis file input stream fileinputstream args setup server from config setupserverfromconfig server config parser serverconfigparser load fis fis fis close string hostname tcpserversocontainer host port tcpserversocontainer port string tcpserversocontainer keep alive keepalive tcpserversocontainer keep alive keepalive args length keep alive keepalive integer parse int parseint args hostname args args nls starts with startswith nls port integer parse int parseint args setup server from parameters setupserverfromparameters hostname port keep alive keepalive wait i application iapplication exit exception usage system println nls usage eclipse exe application get class getclass get name getname nls port group name groupname hostname keep alive keepalive config config file configfile xml nls system println examples eclipse application org eclipse ecf provider generic server genericserver nls system println eclipse application org eclipse ecf provider generic server genericserver system println nls eclipse application org eclipse ecf provider generic server genericserver nls mygroup foobar host foobarhost nls system println eclipse application org eclipse ecf provider generic server genericserver myconfig xml param hostname param port param param keep alive keepalive setup server from parameters setupserverfromparameters string hostname port string keep alive keepalive io exception ioexception id create exception idcreateexception nls string hostname port hostnameport hostname port server groups servergroups tcp server container group tcpserversocontainergroup server group servergroup tcp server container group tcpserversocontainergroup server groups servergroups hostname port hostnameport server group servergroup nls nls system println put ting putting server hostname port hostnameport air server group servergroup tcp server container group tcpserversocontainergroup hostname port string url nls tcpserversocontainer protocol nls hostname port hostnameport create tcpserversocontainer container create server container createservercontainer url server group servergroup keep alive keepalive configure configure server container configureservercontainer container air server group servergroup put on the air putontheair io exception ioexception print stack trace printstacktrace system err id create exception idcreateexception print stack trace printstacktrace system err server groups servergroups hostname port hostnameport server group servergroup nls nls system println generic server container genericservercontainer hostname port hostnameport air system println nls generic server container genericservercontainer nls hostname port hostnameport air method overridden subclasses order customize configuration newly created server containers air connect policy param container container configure configure server container configureservercontainer tcpserversocontainer container setup join policy i shared object container group manager isharedobjectcontainergroupmanager container set connect policy setconnectpolicy join listener joinlistener setup server from config setupserverfromconfig list connectors io exception ioexception id create exception idcreateexception iterator connectors iterator has next hasnext connector connector connector string hostname connector get host name gethostname port connector get port getport nls string hostname port hostnameport hostname port tcp server container group tcpserversocontainergroup server group servergroup server groups servergroups server group servergroup tcp server container group tcpserversocontainergroup server groups servergroups hostname port hostnameport server group servergroup nls nls system println put ting putting server hostname port hostnameport air server group servergroup tcp server container group tcpserversocontainergroup hostname port list groups connector get groups getgroups iterator groups iterator has next hasnext name d group namedgroup group name d group namedgroup create tcpserversocontainer container create server container createservercontainer group getidforgroup server group servergroup group get name getname connector get timeout gettimeout configure configure server container configureservercontainer container server group servergroup put on the air putontheair server groups servergroups hostname port hostnameport server group servergroup system println nls generic server container genericservercontainer nls hostname port hostnameport nls air system println nls generic server container genericservercontainer nls hostname port hostnameport air javadoc org eclipse equinox app i application iapplication server groups servergroups iterator server groups servergroups key set keyset iterator has next hasnext tcp server container group tcpserversocontainergroup server group servergroup tcp server container group tcpserversocontainergroup server groups servergroups server group servergroup take off the air takeofftheair nls nls nls system println server group servergroup get name getname server group servergroup get port getport air iterator iter server group servergroup elements iter has next hasnext tcpserversocontainer container tcpserversocontainer iter container dispose server groups servergroups clear notify string munge arguments mungearguments string original args originalargs original args originalargs string list array list arraylist original args originalargs length nls original args originalargs equals pde launch pdelaunch add original args originalargs string to array toarray string tcpserversocontainer create server container createservercontainer string tcp server container group tcpserversocontainergroup group string path keep alive keepalive id create exception idcreateexception nls nls system println creating container keep alive keepalive keep alive keepalive new server d newserverid id factory idfactory get default getdefault create string d createstringid so container config socontainerconfig config so container config socontainerconfig new server d newserverid tcpserversocontainer config group path keep alive keepalive join listener joinlistener i connect handler policy iconnecthandlerpolicy permission collection permissioncollection check connect checkconnect object add r addr fromid targetid string target group targetgroup object join data joindata exception nls nls nls system println client connect from address fromaddress add r addr fromid fromid target group targetgroup target group targetgroup refresh
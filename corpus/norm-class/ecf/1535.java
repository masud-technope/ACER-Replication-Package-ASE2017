header data cvs org eclipse ecf tests bundles org eclipse ecf tests apache httpclient server src org apache commons httpclient test redirects testredirects java slewis exp revision copyright apache software foundation licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license software consists voluntary contributions individuals behalf apache software foundation apache software foundation http apache org org apache commons httpclient java i o exception ioexception junit framework test junit framework test suite testsuite org apache commons httpclient methods get method getmethod org apache commons httpclient methods post method postmethod org apache commons httpclient methods string request entity stringrequestentity org apache commons httpclient params http client params httpclientparams org apache commons httpclient protocol protocol org apache commons httpclient server http service httpservice org apache commons httpclient server request line requestline org apache commons httpclient server simple http server simplehttpserver org apache commons httpclient server simple request simplerequest org apache commons httpclient server simple response simpleresponse redirect ion redirection test cases author oleg kalnichevski version test redirects testredirects java slewis exp test redirects testredirects http client test base httpclienttestbase constructor test redirects testredirects string test name testname i o exception ioexception test name testname main main string args string test case name testcasename test redirects testredirects get name getname junit text ui textui test runner testrunner main test case name testcasename test case testcase methods test suite test suite testsuite suite test suite testsuite test redirects testredirects proxy test decorator proxytestdecorator add tests addtests suite suite basic redirect service basicredirectservice http service httpservice status code statuscode http status httpstatus moved temporarily string host port basic redirect service basicredirectservice string host port status code statuscode host host port port status code statuscode status code statuscode status code statuscode basic redirect service basicredirectservice string host port host port process simple request simplerequest request simple response simpleresponse response i o exception ioexception request line requestline reqline request get request line getrequestline http version httpversion ver reqline get http version gethttpversion reqline get uri geturi equals oldlocation response set status line setstatusline ver status code statuscode response add header addheader header location http host port new location newlocation response add header addheader header connection close reqline get uri geturi equals new location newlocation response set status line setstatusline ver http status httpstatus response set body string setbodystring successful redirect response set status line setstatusline ver http status httpstatus circular redirect service circularredirectservice http service httpservice invocations circular redirect service circularredirectservice process simple request simplerequest request simple response simpleresponse response i o exception ioexception request line requestline reqline request get request line getrequestline http version httpversion ver reqline get http version gethttpversion reqline get uri geturi starts with startswith circular oldlocation response set status line setstatusline ver http status httpstatus moved temporarily response add header addheader header location circular location invk invocations reqline get uri geturi starts with startswith circular location response set status line setstatusline ver http status httpstatus moved temporarily response add header addheader header location circular oldlocation invk invocations response set status line setstatusline ver http status httpstatus relative redirect service relativeredirectservice http service httpservice relative redirect service relativeredirectservice process simple request simplerequest request simple response simpleresponse response i o exception ioexception request line requestline reqline request get request line getrequestline http version httpversion ver reqline get http version gethttpversion reqline get uri geturi equals oldlocation response set status line setstatusline ver http status httpstatus moved temporarily response add header addheader header location relative location relativelocation reqline get uri geturi equals relative location relativelocation response set status line setstatusline ver http status httpstatus response set body string setbodystring successful redirect response set status line setstatusline ver http status httpstatus bogus redirect service bogusredirectservice http service httpservice string url bogus redirect service bogusredirectservice string redirect url redirecturl url redirect url redirecturl process simple request simplerequest request simple response simpleresponse response i o exception ioexception request line requestline reqline request get request line getrequestline http version httpversion ver reqline get http version gethttpversion reqline get uri geturi equals oldlocation response set status line setstatusline ver http status httpstatus moved temporarily response add header addheader header location url reqline get uri geturi equals relative location relativelocation response set status line setstatusline ver http status httpstatus response set body string setbodystring successful redirect response set status line setstatusline ver http status httpstatus test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus multiple choices get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus multiple choices httpget get status code getstatuscode assert equals assertequals oldlocation httpget get path getpath assert equals assertequals uri oldlocation httpget geturi httpget release connection releaseconnection test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus moved per manently permanently get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus httpget get status code getstatuscode assert equals assertequals new location newlocation httpget get path getpath assert equals assertequals host httpget geturi get host gethost assert equals assertequals port httpget geturi get port getport assert equals assertequals uri http host port new location newlocation httpget geturi httpget release connection releaseconnection test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus moved temporarily get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus httpget get status code getstatuscode assert equals assertequals new location newlocation httpget get path getpath assert equals assertequals host httpget geturi get host gethost assert equals assertequals port httpget geturi get port getport assert equals assertequals uri http host port new location newlocation httpget geturi httpget release connection releaseconnection test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus httpget get status code getstatuscode assert equals assertequals new location newlocation httpget get path getpath assert equals assertequals host httpget geturi get host gethost assert equals assertequals port httpget geturi get port getport assert equals assertequals uri http host port new location newlocation httpget geturi httpget release connection releaseconnection test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus modified get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus modified httpget get status code getstatuscode assert equals assertequals oldlocation httpget get path getpath assert equals assertequals uri oldlocation httpget geturi httpget release connection releaseconnection test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus proxy get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus proxy httpget get status code getstatuscode assert equals assertequals oldlocation httpget get path getpath assert equals assertequals uri oldlocation httpget geturi httpget release connection releaseconnection test basic redirect testbasicredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port http status httpstatus temp orary temporary redirect get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus httpget get status code getstatuscode assert equals assertequals new location newlocation httpget get path getpath assert equals assertequals host httpget geturi get host gethost assert equals assertequals port httpget geturi get port getport assert equals assertequals uri http host port new location newlocation httpget geturi httpget release connection releaseconnection test no redirect testnoredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus moved temporarily httpget get status code getstatuscode assert equals assertequals oldlocation httpget get path getpath assert equals assertequals uri oldlocation httpget geturi httpget release connection releaseconnection test max redirect check testmaxredirectcheck i o exception ioexception server set http service sethttpservice circular redirect service circularredirectservice get method getmethod httpget get method getmethod circular oldlocation client get params getparams set boolean parameter setbooleanparameter http client params httpclientparams circular redirects client get params getparams set int parameter setintparameter http client params httpclientparams max redirects client execute method executemethod httpget fail redirect exception redirectexception exception thrown redirect exception redirectexception httpget release connection releaseconnection test circular redirect testcircularredirect i o exception ioexception server set http service sethttpservice circular redirect service circularredirectservice get method getmethod httpget get method getmethod circular oldlocation client get params getparams set boolean parameter setbooleanparameter http client params httpclientparams circular redirects client execute method executemethod httpget fail circular redirect exception circularredirectexception exception thrown circular redirect exception circularredirectexception expected httpget release connection releaseconnection test post redirect testpostredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port post method postmethod http post httppost post method postmethod oldlocation http post httppost set request entity setrequestentity string request entity stringrequestentity stuff client execute method executemethod http post httppost assert equals assertequals http status httpstatus moved temporarily http post httppost get status code getstatuscode assert equals assertequals oldlocation http post httppost get path getpath assert equals assertequals uri oldlocation http post httppost geturi http post httppost release connection releaseconnection test relative redirect testrelativeredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice relative redirect service relativeredirectservice client get params getparams set boolean parameter setbooleanparameter http client params httpclientparams reject relative redirect get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals relative location relativelocation httpget get path getpath assert equals assertequals host httpget geturi get host gethost assert equals assertequals port httpget geturi get port getport assert equals assertequals uri http host port relative location relativelocation httpget geturi httpget release connection releaseconnection test reject relative redirect testrejectrelativeredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice relative redirect service relativeredirectservice client get params getparams set boolean parameter setbooleanparameter http client params httpclientparams reject relative redirect get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus moved temporarily httpget get status code getstatuscode assert equals assertequals oldlocation httpget get path getpath assert equals assertequals uri oldlocation httpget geturi httpget release connection releaseconnection test reject bogus redirect location testrejectbogusredirectlocation i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice bogus redirect service bogusredirectservice xxx bogus get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget fail bogus redirect service bogusredirectservice thrown illegal state exception illegalstateexception httpget release connection releaseconnection test cross site redirect testcrosssiteredirect i o exception ioexception string host server get local address getlocaladdress port server get local port getlocalport simple http server simplehttpserver that server thatserver simple http server simplehttpserver server set http service sethttpservice basic redirect service basicredirectservice host port that server thatserver set http service sethttpservice basic redirect service basicredirectservice host port that server thatserver set test name settestname get name getname host configuration hostconfiguration host config hostconfig host configuration hostconfiguration host config hostconfig set host sethost that server thatserver get local address getlocaladdress that server thatserver get local port getlocalport protocol get protocol getprotocol http get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod host config hostconfig httpget assert equals assertequals http status httpstatus httpget get status code getstatuscode assert equals assertequals new location newlocation httpget get path getpath assert equals assertequals host httpget geturi get host gethost assert equals assertequals port httpget geturi get port getport assert equals assertequals uri http host port new location newlocation httpget geturi httpget release connection releaseconnection that server thatserver destroy test redirect with cookie testredirectwithcookie i o exception ioexception client get state getstate add cookie addcookie cookie localhost string host server get local address getlocaladdress port server get local port getlocalport server set http service sethttpservice basic redirect service basicredirectservice host port get method getmethod httpget get method getmethod oldlocation httpget set follow redirects setfollowredirects client execute method executemethod httpget assert equals assertequals http status httpstatus httpget get status code getstatuscode assert equals assertequals new location newlocation httpget get path getpath header headers httpget get request headers getrequestheaders cookie count cookiecount headers length cookie equals ignore case equalsignorecase headers get name getname cookie count cookiecount assert equals assertequals cookie cookie count cookiecount httpget release connection releaseconnection
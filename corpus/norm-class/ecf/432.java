rcs file rcsfile revision sun feb copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx provider org jivesoftware smack packet packet extension packetextension org jivesoftware smack provider packet extension provider packetextensionprovider org jivesoftware smack util string utils stringutils org jivesoftware smackx packet xhtml extension xhtmlextension org xml pull xmlpull xml pull parser xmlpullparser xhtml extension provider xhtmlextensionprovider parses xhtml pack ets packets author gaston dom biak dombiak xhtml extension provider xhtmlextensionprovider packet extension provider packetextensionprovider creates xhtml extension provider xhtmlextensionprovider provider manager providermanager requires packet extension provider packetextensionprovider argument constructor xhtml extension provider xhtmlextensionprovider parses xhtml extension xhtmlextension packet extension packet param parser xml parser pos itioned positioned starting element extension packet extension packetextension exception parsing error occurs packet extension packetextension parse extension parseextension xml pull parser xmlpullparser parser exception xhtml extension xhtmlextension xhtml extension xhtmlextension xhtml extension xhtmlextension string builder stringbuilder buffer string builder stringbuilder start depth startdepth parser get depth getdepth depth parser get depth getdepth string last tag lasttag event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals body buffer string builder stringbuilder depth parser get depth getdepth last tag lasttag parser get text gettext buffer append parser get text gettext event type eventtype xml pull parser xmlpullparser text buffer valid xml text escaped buffer append string utils stringutils escapeforxml parser get text gettext event type eventtype xml pull parser xmlpullparser tag parser get name getname equals body parser get depth getdepth depth buffer append parser get text gettext xhtml extension xhtmlextension add body addbody buffer to string tostring parser get name getname equals xhtml extension xhtmlextension get element name getelementname parser get depth getdepth start depth startdepth double d doubled last tag lasttag equals parser get text gettext buffer append parser get text gettext xhtml extension xhtmlextension
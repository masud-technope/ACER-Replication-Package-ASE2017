copyright apache software foundation licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license software consists voluntary contributions individuals behalf apache software foundation apache software foundation http apache org additional not ices notices required prior licensing conditions org apache commons http client httpclient java io exception ioexception junit framework org apache commons http client httpclient methods org apache commons http client httpclient params http method params httpmethodparams org apache commons http client httpclient server http request handler httprequesthandler org apache commons http client httpclient server response writer responsewriter org apache commons http client httpclient server simple http server connection simplehttpserverconnection org apache commons http client httpclient server simple request simplerequest tests handling comp liant compliant resp onses responses author oleg kalnichevski author jeff dever test non comp liant testnoncompliant http client test base httpclienttestbase test non comp liant testnoncompliant string io exception ioexception test suite test suite testsuite suite test suite testsuite test non comp liant testnoncompliant suite tests client recover gracefully http server proxy fails send status code expected client resume sending request body defined timeout received code test non comp liant post method string testnoncompliantpostmethodstring exception server set request handler setrequesthandler http request handler httprequesthandler process request processrequest simple http server connection simplehttpserverconnection conn simple request simplerequest request io exception ioexception response writer responsewriter conn get writer getwriter println http println connection close println content length println flush post method postmethod method post method postmethod method get params getparams set boolean parameter setbooleanparameter http method params httpmethodparams expect method set request entity setrequestentity string request entity stringrequestentity data body http post client execute method executemethod method assert equals assertequals method get status code getstatuscode tests response status handled test non comp liant status line testnoncompliantstatusline server set request handler setrequesthandler http request handler httprequesthandler process request processrequest simple http server connection simplehttpserverconnection conn simple request simplerequest request io exception ioexception response writer responsewriter conn get writer getwriter println http status message new line newline carrage println connection close println content length println flush get method getmethod method get method getmethod client execute method executemethod method exception print stack trace printstacktrace fail unexpected exception to string tostring assert equals assertequals method get status code getstatuscode test response head method comp liant compliant server unexpected body content correctly redirected test non comp liant head with response body testnoncompliantheadwithresponsebody exception string body test body server set request handler setrequesthandler http request handler httprequesthandler process request processrequest simple http server connection simplehttpserverconnection conn simple request simplerequest request io exception ioexception response writer responsewriter conn get writer getwriter println http println connection close println content length body length println print body flush head method headmethod method head method headmethod method get params getparams set int parameter setintparameter http method params httpmethodparams head body check timeout client execute method executemethod method assert equals assertequals method get status code getstatuscode method release connection releaseconnection test response head method comp liant compliant server http exception httpexception thrown test non comp liant head strict mode testnoncompliantheadstrictmode exception string body test body server set request handler setrequesthandler http request handler httprequesthandler process request processrequest simple http server connection simplehttpserverconnection conn simple request simplerequest request io exception ioexception response writer responsewriter conn get writer getwriter println http println connection close println content length body length println print body flush client get params getparams set boolean parameter setbooleanparameter http method params httpmethodparams reject head body head method headmethod method non comp liant head method noncompliantheadmethod method get params getparams set int parameter setintparameter http method params httpmethodparams head body check timeout client execute method executemethod method fail http exception httpexception thrown http exception httpexception method release connection releaseconnection tests client handle gracefully malformed resp onses responses include response body test malformed testmalformed response exception server set request handler setrequesthandler http request handler httprequesthandler process request processrequest simple http server connection simplehttpserverconnection conn simple request simplerequest request io exception ioexception conn set socket timeout setsockettimeout response writer responsewriter conn get writer getwriter println http println connection alive println content length println flush conn set keep alive setkeepalive get method getmethod method get method getmethod method get params getparams set so timeout setsotimeout client execute method executemethod method assert equals assertequals http status httpstatus modified method get status code getstatuscode method get response body getresponsebody test malformed testmalformed response exception server set request handler setrequesthandler http request handler httprequesthandler process request processrequest simple http server connection simplehttpserverconnection conn simple request simplerequest request io exception ioexception conn set socket timeout setsockettimeout response writer responsewriter conn get writer getwriter println http println connection close println content length println flush conn set keep alive setkeepalive get method getmethod method get method getmethod method get params getparams set so timeout setsotimeout client execute method executemethod method assert equals assertequals http status httpstatus content method get status code getstatuscode method get response body getresponsebody
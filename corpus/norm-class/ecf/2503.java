copyright marcelo may worm mayworm rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors marcelo may worm mayworm initial api implementation org eclipse ecf internal provider xmpp search java net uri syntax exception urisyntaxexception java util hash set hashset java util iterator java util list java util org eclipse core runtime org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime status org eclipse core runtime jobs job org eclipse ecf core identity org eclipse ecf core identity name space namespace org eclipse ecf core user i user iuser org eclipse ecf core user user org eclipse ecf core util ecf exception ecfexception org eclipse ecf internal provider xmpp messages org eclipse ecf internal provider xmpp xmpp plugin xmppplugin org eclipse ecf internal provider xmpp smack ecf connection ecfconnection org eclipse ecf presence search abstract user search manager abstractusersearchmanager org eclipse ecf presence search i criteria icriteria org eclipse ecf presence search ic rit erion icriterion org eclipse ecf presence search i restriction irestriction org eclipse ecf presence search i result list iresultlist org eclipse ecf presence search i search isearch org eclipse ecf presence search i user search event iusersearchevent org eclipse ecf presence search i user search listener iusersearchlistener org eclipse ecf presence search i user search manager iusersearchmanager org eclipse ecf presence search result list resultlist org eclipse ecf presence search user search complete event usersearchcompleteevent org eclipse ecf presence search user search exception usersearchexception org eclipse ecf provider xmpp identity xmpp id xmppid org jivesoftware smack xmpp exception xmppexception org jivesoftware smackx form org jivesoftware smackx form field formfield org jivesoftware smackx reported data reporteddata org jivesoftware smackx reported data reporteddata row org jivesoftware smackx search user search usersearch specific implementation xmpp provider xep http xmpp org extensions xep html i user search manager iusersearchmanager xmpp user search manager xmppusersearchmanager abstract user search manager abstractusersearchmanager search service xmpp server nls string service search search wrapper xmpp connection ecf connection ecfconnection ecf connection ecfconnection name space namespace connect name space connectnamespace connectedid form form user search usersearch manager enabled i criteria icriteria criteria nls string form type form type nls string nls string jid jid nls string search action search xmpp user search manager xmppusersearchmanager manager user search usersearch create specific link i criteria icriteria xmpp i criteria icriteria create criteria createcriteria xmpp criteria xmppcriteria create specific link i restriction irestriction xmpp i restriction irestriction create restriction createrestriction xmpp selection xmppselection specific implementation xmpp i user search manager iusersearchmanager search i criteria icriteria i search isearch search i criteria icriteria criteria user search exception usersearchexception result list resultlist result list resultlist result list resultlist initialize form chance form form manager get search form getsearchform ecf connection ecfconnection getxmppconnection service search ecf connection ecfconnection getxmppconnection get service name getservicename xmpp criterion considered xmpp server deal search list criterions criteria get criterions getcriterions add fields search dynamically fields search fields checked user string fields get user properties fields getuserpropertiesfields fields length iterator criterions iterator criterionsiterator criterions iterator partial result result list criterions iterator criterionsiterator has next hasnext ic rit erion icriterion criterion ic rit erion icriterion criterions iterator criterionsiterator criterion equals fields form answer form answerform form create answer form createanswerform answer form answerform set answer setanswer fields answer form answerform set answer setanswer search action criterion to expression toexpression reported data reporteddata data manager send search form sendsearchform ecf connection ecfconnection getxmppconnection answer form answerform service search ecf connection ecfconnection getxmppconnection get service name getservicename create result list reported data reporteddata i result list iresultlist partial result list partialresultlist create result list createresultlist data result list resultlist add all addall partial result list partialresultlist get results getresults xmpp search xmppsearch result list resultlist xmpp exception xmppexception string message getxmpperror getxmpperror get code getcode message messages xmpp container xmppcontainer unrecogonized search service message get local ized message getlocalizedmessage user search exception usersearchexception message criteria ecf exception ecfexception user search exception usersearchexception criteria create result list reported data reporteddata identify dynamically columns rows create users adding link i result list iresultlist param data reported data reporteddata link i result list iresultlist list users i result list iresultlist create result list createresultlist reported data reporteddata data result list resultlist result result list resultlist iterator rows data get rows getrows rows has next hasnext row row row rows iterator jids row get values getvalues jid iterator names row get values getvalues string jid string xmpp server returns length jids has next hasnext names has next hasnext jid string jids string names i user iuser user user xmpp id xmppid connect name space connectnamespace jid result add xmpp result item xmppresultitem user uri syntax exception urisyntaxexception runtime exception runtimeexception create connect client jid result specific implementation xmpp i user search manager iusersearchmanager search i criteria icriteria i user search listener iusersearchlistener search i criteria icriteria criteria i user search listener iusersearchlistener listener is not null isnotnull criteria is not null isnotnull listener job job job messages xmpp user search manager xmppusersearchmanager job i status istatus i progress monitor iprogressmonitor monitor i search isearch search search criteria user search complete event usersearchcompleteevent complete user search complete event usersearchcompleteevent search listener handle user search event handleusersearchevent complete user search exception usersearchexception log get local ized message getlocalizedmessage status i status istatus error xmpp plugin xmppplugin plugin i status istatus error exception user search status status job schedule parameters param connect name space connectnamespace param connectedid param connection set connection setconnection name space namespace connect name space connectnamespace connectedid ecf connection ecfconnection connection is not null isnotnull connect name space connectnamespace is not null isnotnull connectedid is not null isnotnull connection connect name space connectnamespace connect name space connectnamespace connectedid connectedid ecf connection ecfconnection connection returns user properties fields xmpp server param form string fields form ecf exception ecfexception string get user properties fields getuserpropertiesfields ecf exception ecfexception form form manager get search form getsearchform ecf connection ecfconnection getxmppconnection service search ecf connection ecfconnection getxmppconnection get service name getservicename fields hash set hashset iterator user properties userproperties form get fields getfields user properties userproperties has next hasnext form field formfield field form field formfield user properties userproperties string variable field get variable getvariable ignore fields variable equals ignore case equalsignorecase form type variable equals ignore case equalsignorecase search action fields add variable string fields to array toarray string xmpp exception xmppexception string message getxmpperror getxmpperror get code getcode message messages xmpp container xmppcontainer unrecogonized search service message get local ized message getlocalizedmessage ecf exception ecfexception message notify user search xmpp enabled is enabled isenabled enabled gtalk enabled param enabled set enabled setenabled enabled enabled enabled utility methods log string msg throwable xmpp plugin xmppplugin log msg javadoc org eclipse ecf presence search abstract user search manager abstractusersearchmanager fire user search event fireusersearchevent org eclipse ecf presence search i user search event iusersearchevent fire user search event fireusersearchevent i user search event iusersearchevent event fire user search event fireusersearchevent event
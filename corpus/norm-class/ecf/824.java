copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf core shared object sharedobject java util org eclipse ecf core events i container connected event icontainerconnectedevent org eclipse ecf core events i container disconnected event icontainerdisconnectedevent org eclipse ecf core identity org eclipse ecf core shared object sharedobject events org eclipse ecf core util org eclipse ecf internal core shared object sharedobject activator org eclipse ecf internal core shared object sharedobject shared object debug options sharedobjectdebugoptions implementation phase commit tra nsactional transactional replication shared objects i shared object transaction config isharedobjecttransactionconfig i shared object transaction participants filter isharedobjecttransactionparticipantsfilter two p has e commit event processor twophasecommiteventprocessor i event processor ieventprocessor i shared object container transaction isharedobjectcontainertransaction base shared object basesharedobject shared object sharedobject transaction state transactionstate i shared object container transaction isharedobjectcontainertransaction active object lock object list participants vector map failed hash map hashmap timeout i shared object transaction config isharedobjecttransactionconfig timeout min failed to abort minfailedtoabort identifier i shared object transaction participants filter isharedobjecttransactionparticipantsfilter participants filter participantsfilter two p has e commit event processor twophasecommiteventprocessor base shared object basesharedobject bse i shared object transaction config isharedobjecttransactionconfig config shared object sharedobject bse config config transaction shared object configuration transactionsharedobjectconfiguration timeout config get timeout gettimeout participants filter participantsfilter config get participants filter getparticipantsfilter trace string msg trace trace activator plugin msg trace stack tracestack string msg throwable nls trace cat ching catching activator plugin shared object debug options sharedobjectdebugoptions exceptions cat ching catching two p has e commit event processor twophasecommiteventprocessor trace stack tracestack get timeout gettimeout timeout get min failed to abort getminfailedtoabort min failed to abort minfailedtoabort is primary isprimary get shared object getsharedobject is primary isprimary base shared object basesharedobject get shared object getsharedobject shared object sharedobject get home d gethomeid get shared object getsharedobject get home container d gethomecontainerid suppress warnings suppresswarnings unchecked add participants addparticipants ids ids ids length nls nls trace add participant addparticipant ids get home d gethomeid equals ids participants add ids remove participant removeparticipant nls nls trace remove participant removeparticipant participants remove suppress warnings suppresswarnings unchecked add failed addfailed remote throwable failure remote failure nls nls nls trace add failed addfailed remote failure failed remote failure i shared object context isharedobjectcontext get context getcontext get shared object getsharedobject get context getcontext implementation i event processor ieventprocessor methods entry point methods base shared object basesharedobject method dispatch call javadoc org eclipse ecf core util i event processor ieventprocessor process event processevent org eclipse ecf core util event process event processevent event event event i shared object activated event isharedobjectactivatedevent handle activated handleactivated i shared object activated event isharedobjectactivatedevent event event i container connected event icontainerconnectedevent handle joined handlejoined i container connected event icontainerconnectedevent event event i shared object create response event isharedobjectcreateresponseevent handle create response handlecreateresponse i shared object create response event isharedobjectcreateresponseevent event event i container disconnected event icontainerdisconnectedevent handle dep arted handledeparted i container disconnected event icontainerdisconnectedevent event event i shared object message event isharedobjectmessageevent i shared object message event isharedobjectmessageevent i shared object message event isharedobjectmessageevent event object data get data getdata data i shared object commit event isharedobjectcommitevent local committed localcommitted event processors shot event handle activated handleactivated i shared object activated event isharedobjectactivatedevent event nls nls trace handle activated handleactivated event lock is primary isprimary primary handle primary activated handleprimaryactivated event handle replica activated handlereplicaactivated event notify threads waiting change lock notify all notifyall replicate to replicateto remotes get shared object getsharedobject replicate to remote containers replicatetoremotecontainers remotes handle primary activated handleprimaryactivated i shared object activated event isharedobjectactivatedevent event nls nls trace handle primary activated handleprimaryactivated event current group membership get context getcontext get connected d getconnectedid group members groupmembers get context getcontext get group member ds getgroupmemberids participants transaction participants transactionparticipants current group membership participants filter participantsfilter transaction participants transactionparticipants participants filter participantsfilter filter participants filterparticipants group members groupmembers replicate transaction participants transactionparticipants current group members included participants replicate to replicateto transaction participants transactionparticipants group members groupmembers participants filter replicate replicate to replicateto transaction participants transactionparticipants add participants collection add participants addparticipants transaction participants transactionparticipants transaction voting set transaction state settransactionstate i shared object container transaction isharedobjectcontainertransaction voting set transaction state settransactionstate i shared object container transaction isharedobjectcontainertransaction committed get next identifier getnextidentifier identifier handle replica activated handlereplicaactivated i shared object activated event isharedobjectactivatedevent event nls nls trace handle replica activated handlereplicaactivated event resp ond respond create success message host get context getcontext send create response sendcreateresponse get home d gethomeid get next identifier getnextidentifier succeeds prepared set transaction state settransactionstate i shared object container transaction isharedobjectcontainertransaction prepared exception trace stack tracestack handle replica activated handlereplicaactivated event set transaction state settransactionstate i shared object container transaction isharedobjectcontainertransaction aborted handle joined handlejoined i container connected event icontainerconnectedevent event nls nls trace handle joined handlejoined event primary event matters is primary isprimary participants get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction voting lock send replicate message matter new member newmember event get target d gettargetid replicate to replicateto new member newmember add participants addparticipants new member newmember handle create response handlecreateresponse i shared object create response event isharedobjectcreateresponseevent event nls nls trace handle create response handlecreateresponse event is primary isprimary lock throwable event get exception getexception remoteid event get remote container d getremotecontainerid ident event get sequence getsequence get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction voting remove participant removeparticipant remoteid add failed addfailed remoteid handle voting completed create response handlevotingcompletedcreateresponse remoteid ident lock notify all notifyall don care not e note transaction monitor handle dep arted handledeparted i container disconnected event icontainerdisconnectedevent event nls nls trace handle dep arted handledeparted event is primary isprimary remoteid event get target d gettargetid lock get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction voting add failed addfailed remoteid exception nls container nls remoteid nls left lock notify all notifyall don care transaction monitor handle voting completed create response handlevotingcompletedcreateresponse fromid throwable identifier trace nls nls nls handle voting completed create response handlevotingcompletedcreateresponse fromid identifier nls remote creation successful simply send commit message get shared object getsharedobject get context getcontext send message sendmessage fromid shared object commit event sharedobjectcommitevent get shared object getsharedobject getid exception trace stack tracestack exception send commit sendcommit fromid late vote handle post commit failure handlepostcommitfailure fromid identifier handle post commit failure handlepostcommitfailure fromid throwable identifier report trace nls nls nls handle post commit failure handlepostcommitfailure fromid identifier nls send commit sendcommit shared object add abort exception sharedobjectaddabortexception get context getcontext send message sendmessage shared object commit event sharedobjectcommitevent get shared object getsharedobject getid exception dotmabort shared object add abort exception sharedobjectaddabortexception shared object commit event sharedobjectcommitevent get timeout gettimeout get transaction state gettransactionstate lock transaction state transactionstate set transaction state settransactionstate lock transaction state transactionstate wait to commit waittocommit shared object add abort exception sharedobjectaddabortexception get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction committed lock system current time millis currenttimemillis get timeout gettimeout is voting completed isvotingcompleted wait system current time millis currenttimemillis trace nls nls wait for finish waitforfinish waiting wait get shared object getsharedobject getid wait nls nls shared object add abort exception sharedobjectaddabortexception timeout adding get shared object getsharedobject getid get home d gethomeid throwable get timeout gettimeout wait lock wait wait exception dotmabort success send commit remotes clean returning dotmcommit dotmabort throwable shared object add abort exception sharedobjectaddabortexception nls trace dotmabort variable aborted set transaction state settransactionstate i shared object container transaction isharedobjectcontainertransaction aborted send destroy message remotes dest royed destroyed remove local space get shared object getsharedobject destroy self destroyself caller exception deal shared object add abort exception sharedobjectaddabortexception shared object add abort exception sharedobjectaddabortexception nls shared object add abort exception sharedobjectaddabortexception shared object add aborted get timeout gettimeout dotmcommit shared object add abort exception sharedobjectaddabortexception nls trace dotmcommit connected send commit message get shared object getsharedobject get connected d getconnectedid send commit sendcommit call local committed message local committed localcommitted local committed localcommitted nls trace local committed localcommitted variable committed set transaction state settransactionstate i shared object container transaction isharedobjectcontainertransaction committed get shared object getsharedobject creation completed creationcompleted is voting completed isvotingcompleted shared object add abort exception sharedobjectaddabortexception participants transaction get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction committed failed size get min failed to abort getminfailedtoabort abort trace nls is voting completed isvotingcompleted aborting failed get min failed to abort getminfailedtoabort nls failed nls failed nls shared object add abort exception sharedobjectaddabortexception shared object sharedobject add aborted participants failed get timeout gettimeout problems number participants get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction voting participants size success nls trace is voting completed isvotingcompleted returning waiting nls trace is voting completed isvotingcompleted
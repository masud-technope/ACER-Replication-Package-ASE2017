copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf coll ab collab share java util hashtable java util vector org eclipse ecf core identity org eclipse ecf core shared object sharedobject i shared object container transaction isharedobjectcontainertransaction org eclipse ecf core shared object sharedobject shared object add abort exception sharedobjectaddabortexception org eclipse ecf internal coll ab collab messages transaction shared object transactionsharedobject generic shared object genericsharedobject i shared object container transaction isharedobjectcontainertransaction nls string replica commit msg rep lica commit replicacommit timeout dummy provide lock lock timeout object replication timeout replication object lock variable lock lock vector participantids hashtable failed participants failedparticipants transaction shared object transactionsharedobject timeout timeout timeout init transaction shared object transactionsharedobject timeout init i shared object container transaction isharedobjectcontainertransaction active lock lock participantids vector failed participants failedparticipants hashtable activated lock is host ishost replicate add remote participants addremoteparticipants get context getcontext get group member ds getgroupmemberids i shared object container transaction isharedobjectcontainertransaction voting clients resp ond respond create success message host get context getcontext send create response sendcreateresponse get home container d gethomecontainerid get next rep licate d getnextreplicateid succeeds prepared i shared object container transaction isharedobjectcontainertransaction prepared exception i shared object container transaction isharedobjectcontainertransaction aborted log unable send create response get home container d gethomecontainerid notify threads waiting change lock notify all notifyall member added memberadded member is host ishost replicate message lock replicate member get transaction state gettransactionstate i shared object container transaction isharedobjectcontainertransaction voting add remote participants addremoteparticipants member replicate member add remote participants addremoteparticipants ids ids participantids ids length get home container d gethomecontainerid equals ids participantids add element addelement ids remove remote participant removeremoteparticipant participantids participantids index of indexof participantids remove element at removeelementat add remote participant failed addremoteparticipantfailed remote throwable failure remote failure failed participants failedparticipants failed participants failedparticipants remote failure handle create response handlecreateresponse fromid throwable identifier exception remove lock i shared object container transaction isharedobjectcontainertransaction voting remove remote participant removeremoteparticipant fromid add remote participant failed addremoteparticipantfailed fromid handle voting completed create response handlevotingcompletedcreateresponse fromid identifier lock notify all notifyall handle voting completed create response handlevotingcompletedcreateresponse fromid throwable identifier remote creation successful simply send commit message send commit message for ward msg to forwardmsgto fromid shared object msg sharedobjectmsg create msg createmsg string replica commit msg exception log exception sending commit message fromid member removed memberremoved member care host is host ishost lock i shared object container transaction isharedobjectcontainertransaction voting add remote participant failed addremoteparticipantfailed member nls exception member nls member left lock notify all notifyall wait to commit waittocommit shared object add abort exception sharedobjectaddabortexception lock system current time millis currenttimemillis timeout voting completed votingcompleted wait system current time millis currenttimemillis wait shared object add abort exception sharedobjectaddabortexception messages transaction shared object transactionsharedobject exception timeout wait lock wait wait interrupted exception interruptedexception shared object add abort exception sharedobjectaddabortexception messages transaction shared object transactionsharedobject exception int erupted interupted shared object add abort exception sharedobjectaddabortexception do abort doabort success send commit remotes clean returning do commit docommit get transaction state gettransactionstate lock do abort doabort shared object add abort exception sharedobjectaddabortexception shared object add abort exception sharedobjectaddabortexception send destroy message remotes dest royed destroyed remove local space destroy self destroyself variable aborted i shared object container transaction isharedobjectcontainertransaction aborted caller exception deal do commit docommit shared object add abort exception sharedobjectaddabortexception current membership get context getcontext get group member ds getgroupmemberids length current membership connected participantids send rep lica commit replicacommit message remote clients for ward msg to forwardmsgto shared object msg sharedobjectmsg create msg createmsg string replica commit msg exception do abort doabort shared object add abort exception sharedobjectaddabortexception messages transaction shared object transactionsharedobject exception commit message variable committed i shared object container transaction isharedobjectcontainertransaction committed call local committed message committed participantids failed participants failedparticipants exec msg invoke execmsginvoke shared object msg sharedobjectmsg msg fromid object exception object args msg get args getargs string msg get method name getmethodname equals replica commit msg rep lica commit replicacommit exec msg invoke execmsginvoke msg fromid rep lica commit replicacommit lock committed lock notify all notifyall participantids failed participants failedparticipants call subclass override able overrideable method committed committed subclasses override voting completed votingcompleted shared object add abort exception sharedobjectaddabortexception transaction failed participants failedparticipants failed participants failedparticipants size remoteid failed participants failedparticipants next element nextelement exception exception failed participants failedparticipants remoteid abort shared object add abort exception sharedobjectaddabortexception messages transaction shared object transactionsharedobject exception abort problems number participants i shared object container transaction isharedobjectcontainertransaction voting participantids size success waiting
rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx pub sub pubsub util java string reader stringreader javax xml transform output keys outputkeys javax xml transform transformer javax xml transform transformer factory transformerfactory javax xml transform stream stream result streamresult javax xml transform stream stream source streamsource simple utility pretty printin g printing xml author robin collier xml utils xmlutils param header title sta nza stanza read ability readability single word spaces inserted root element output param xml string pretty print pretty print prettyprint string header string xml transformer transformer transformer factory transformerfactory new instance newinstance new transformer newtransformer transformer set output property setoutputproperty output keys outputkeys indent transformer set output property setoutputproperty http xml apache org xslt indent amount header xml header xml header transformer transform stream source streamsource string reader stringreader xml stream result streamresult system exception system println wrong xml xml print stack trace printstacktrace append attribute appendattribute string builder stringbuilder builder string att string builder append builder append att builder append builder append builder append
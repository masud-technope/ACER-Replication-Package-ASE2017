copyright remy suen comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors remy suen remy suen gmail initial api implementation org eclipse ecf protocol bit torrent bittorrent internal torrent java file java io exception ioexception java random access file randomaccessfile java nio channels file channel filechannel code data file datafile code representation file down loaded downloaded torrent data file datafile files down loaded downloaded torrent random access file randomaccessfile file array int egers integers pieces torrent file file represents pieces number bytes occupy piece piece lengths piecelengths size file length constructs code data file datafile code handle reading writing pieces blocks param a file afile file wrap param length length file meta info metainfo stored torrent file io exception ioexception error occurs creating wrapper file length data file datafile file a file afile length io exception ioexception nls file random access file randomaccessfile a file afile a file afile length length a file afile delete a file afile length length file see k seek length file write length length sets piece numbers file represents length piece length subsequent pieces excluding param pieces array int egers integers specifies pieces file param initial length initiallength length piece param length length pieces excluding piece illegal argument exception illegalargumentexception code initial length initiallength code greater code length code pieces set pieces setpieces pieces initial length initiallength length illegal argument exception illegalargumentexception pieces length initial length initiallength length nls illegal argument exception illegalargumentexception piece length larger regular piece length pieces pieces num pieces numpieces pieces length piece lengths piecelengths num pieces numpieces piece lengths piecelengths additional values num pieces numpieces piece lengths piecelengths initial length initiallength num pieces numpieces piece lengths piecelengths piece lengths piecelengths length writes data retrieved peer file param piece piece number param offset offset piece param block data retrieved peer contents written file param data int eger integer array write amount stored code block code represents amount written represents amount data write piece file writing applicable returned code code files data written illegal argument exception illegalargumentexception code piece code file offset see k seek write file exc eeds exceeds file length io exception ioexception error occurs attempting write file write piece offset block data illegal argument exception illegalargumentexception io exception ioexception offset data index of indexof piece illegal argument exception illegalargumentexception see k seek piece lengths piecelengths offset see k seek length nls illegal argument exception illegalargumentexception see king seeking position greater file length file move position write file file see k seek see k seek large file holds see k seek data length exc essive excessive amount data difference write length see k seek file write block data write data write data write data write data file write block data data retrieves data piece represents file piece split multiple files array returned equal piece length param piece number int erested interested piece block data represented int erested interested piece code code file piece io exception ioexception error occurs attempting read data file get data getdata piece io exception ioexception check file piece index of indexof piece data length datalength length file starting length piece piece lengths piecelengths length data length datalength length piece lengths piecelengths length decr ementing decrementing length piece current piece data length datalength piece lengths piecelengths piece lengths piecelengths create array store data returned data data length datalength file file see k seek piece lengths piecelengths file read data data length datalength data retrieves length file file length length length checks piece file param piece piece check code code file piece code code contains piece containspiece piece pieces length pieces piece pieces piece pieces pieces length piece position piece link pieces param piece piece number piece number code pieces code code code index of indexof piece contains piece containspiece piece pieces length pieces piece retrieves code file channel filechannel code file wrapped file code file channel filechannel code file channel filechannel get channel getchannel file get channel getchannel int eger integer array stores numbers pieces file array int egers integers piece numbers file get pieces getpieces pieces
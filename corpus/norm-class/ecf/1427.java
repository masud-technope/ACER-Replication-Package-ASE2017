copyright jan rellermeyer systems group dep artment department computer science eth zurich rights reserved redistribution source binary forms modification permitted conditions met redistributions source code retain copyright not ice notice list conditions disclaimer redistributions binary form reproduce copyright not ice notice list conditions disclaimer documentation materials distribution eth zurich names contributors end orse endorse promote products derived software specific prior written permission software copyright holders contributors express implied warranties including limited implied warranties merchantability fitness purpose disclaimed event copyright owner contributors liable dir ect direct indirect incidental special exemplary consequential damages including limited procurement substitute goods services loss data profits business interruption caused theory liability contract strict liability tort including negligence arising software advised possibility damage ethz iks osgi impl java byte array output stream bytearrayoutputstream java file java file input stream fileinputstream java i o exception ioexception java input stream inputstream java lang reflect method java net inet address inetaddress java net url java net unknown host exception unknownhostexception java util array list arraylist java util arrays java util collection java util dictionary java util enumeration java util hash map hashmap java util hash set hashset java util list java util map java util java util jar jar entry jarentry java util jar jar output stream jaroutputstream java util jar manifest java util zip crc org osgi framework bundle org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework filter org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service reference servicereference org osgi service event event admin eventadmin org osgi service event event constants eventconstants org osgi service event event handler eventhandler org osgi service log log service logservice org osgi service package admin packageadmin package admin packageadmin org osgi util tracker service tracker servicetracker org osgi util tracker service tracker customizer servicetrackercustomizer ethz iks osgi async remote call callback asyncremotecallcallback ethz iks osgi remoteosgiexception ethz iks osgi remoteosgiservice ethz iks osgi remote service event remoteserviceevent ethz iks osgi remote service listener remoteservicelistener ethz iks osgi remote service reference remoteservicereference ethz iks osgi remoting ethz iks osgi surrogate registration surrogateregistration ethz iks osgi uri ethz iks osgi channels channel endpoint channelendpoint ethz iks osgi channels channel endpoint manager channelendpointmanager ethz iks osgi channels network channel networkchannel ethz iks osgi channels network channel factory networkchannelfactory ethz iks osgi messages lease update message leaseupdatemessage ethz iks osgi service discovery service discovery handler servicediscoveryhandler ethz iks util collection utils collectionutils ethz iks util string utils stringutils os gi osgi core handles remote channels subs criptions subscriptions local framework local services released remoting discovered remote peers author jan rellermeyer eth zurich remote gi service impl remoteosgiserviceimpl remoteosgiservice remoting java method get entry getentry method get entry paths getentrypaths file base nls string ver string verstring system get property getproperty java version ver string verstring parse float parsefloat ver string verstring java string osgi ver string osgiverstring system get property getproperty constants framework version nls osgi ver string osgiverstring osgi ver string osgiverstring trim starts with startswith method method bundle get method getmethod get entry getentry string bundle get method getmethod get entry paths getentrypaths string security exception securityexception print stack trace printstacktrace no such method exception nosuchmethodexception get entry getentry get entry paths getentrypaths base get entry getentry remoteosgiactivator get activator getactivator get context getcontext get data file getdatafile os gi osgi standard port osgi port os gi osgi port property nls string os gi osgi port property ethz iks osgi port register tcp channel channel registered nls string register tcp channel ethz iks osgi register default channel registerdefaultchannel register tcp channel channel registered nls string threads end point endpoint ethz iks osgi threads per endpoint threadsperendpoint constant holds property string proxy debug option nls string proxy debug property ethz iks osgi debug proxy generation proxygeneration constant holds property string message debug option nls string msg debug property ethz iks osgi debug messages constant holds property string internal debug option nls string debug property ethz iks osgi debug internal marker channel registered event handlers don contribute peer topic space nls string os gi osgi internal internal file manifest nls string manifest file meta inf manifest don platform dependent jars unix variant nls string separator buffer size buffer size worker threads endpoint max threads end point endpoint integer get integer getinteger threads end point endpoint int value intvalue log proxy generation debug output proxy debug log message tra ffic traffic msg debug log method invocation debug output debug add ress address peer string address service reference remote service registration map service registrations serviceregistrations hash map hashmap transaction next xid nextxid os gi osgi log service instance log service logservice log event admin tracker service tracker servicetracker event admin tracker eventadmintracker service tracker servicetracker event handler tracker eventhandlertracker service tracker servicetracker remote service tracker remoteservicetracker service tracker servicetracker remote service listener tracker remoteservicelistenertracker service tracker servicetracker net work channel factory tracker networkchannelfactorytracker service tracker servicetracker service discovery handler tracker servicediscoveryhandlertracker channel channel endpoint channelendpoint map channels hash map hashmap channel channel endpoint multiple xer channelendpointmultiplexer map multiple xers multiplexers hash map hashmap event topics instance ignore remote topic filters topicfilters hash set hashset admin package admin packageadmin pkg admin pkgadmin creates remote gi service impl remoteosgiserviceimpl instance i o exception ioexception problems remote gi service impl remoteosgiserviceimpl i o exception ioexception os gi osgi event admin problems https bugs eclipse org string topics system get property getproperty ethz iks osgi topic filter string strings string utils stringutils string to array stringtoarray topics strings length topic filters topicfilters add strings tck os gi osgi non serializable exception nonserializableexception running remote service admin remoteserviceadmin https bugs eclipse org topic filters topicfilters add org osgi service remote service admin remoteserviceadmin find add ress address address inet address inetaddress get all by name getallbyname inet address inetaddress get local host getlocalhost get host name gethostname get host address gethostaddress throwable address system get property getproperty ethz iks osgi debug switches bundle context bundlecontext context remoteosgiactivator get activator getactivator get context getcontext string prop context get property getproperty proxy debug property proxy debug prop value of valueof prop boolean value booleanvalue prop context get property getproperty msg debug property msg debug prop value of valueof prop boolean value booleanvalue prop context get property getproperty debug property debug prop value of valueof prop boolean value booleanvalue log proxy debug nls log log nls log service logservice log info nls proxy debug outputs enabled msg debug nls log log nls log service logservice log info nls message debug outputs enabled debug nls log log nls log service logservice log info nls internal debug outputs enabled proxy debug msg debug debug system err println warning log service debug properties proxy debug msg debug debug port prop context get property getproperty os gi osgi port property osgi port prop integer parse int parseint prop initialize transactionid random next xid nextxid math math random max admin service reference servicereference context get service reference getservicereference package admin packageadmin get name getname todo handle gracefully runtime exception runtimeexception admin service os gi osgi terminates pkg admin pkgadmin package admin packageadmin context get service getservice setup track ers setuptrackers context setup track ers setuptrackers bundle context bundlecontext context i o exception ioexception initialize service track ers trackers event admin tracker eventadmintracker service tracker servicetracker context event admin eventadmin get name getname event admin tracker eventadmintracker open event admin tracker eventadmintracker get tracking count gettrackingcount log log log log service logservice log warning event admin remote event del i very delivery temp orarily temporarily disabled event handler tracker eventhandlertracker service tracker servicetracker context context create filter createfilter nls nls constants objectclass event handler eventhandler get name getname nls os gi osgi internal nls nls event constants eventconstants event topic org osgi service remote service admin remoteserviceadmin service tracker customizer servicetrackercustomizer object adding service addingservice service reference servicereference reference https bugs eclipse org bugs bug cgi collection the topics thetopics object topic reference get property getproperty event constants eventconstants event topic topic string the topics thetopics arrays as list aslist string string topic the topics thetopics arrays as list aslist string topic remove filtered topics the topics thetopics string utils stringutils right difference rightdifference topic filters topicfilters the topics thetopics lease update message leaseupdatemessage lease update message leaseupdatemessage set type settype lease update message leaseupdatemessage topic update nls set service d setserviceid set payload setpayload object the topics thetopics to array toarray string the topics thetopics size update leases updateleases the topics thetopics modified service modifiedservice service reference servicereference reference object old topics oldtopics list old topic list oldtopiclist list old topics oldtopics https bugs eclipse org bugs bug cgi collection new topic list newtopiclist object topic reference get property getproperty event constants eventconstants event topic topic string new topic list newtopiclist arrays as list aslist string string topic new topic list newtopiclist arrays as list aslist string topic remove filtered topics new topic list newtopiclist string utils stringutils right difference rightdifference topic filters topicfilters new topic list newtopiclist collection removed collection utils collectionutils right difference rightdifference new topic list newtopiclist old topic list oldtopiclist collection collection utils collectionutils left difference leftdifference new topic list newtopiclist old topic list oldtopiclist string added topics addedtopics string to array toarray string removed size string removed topics removedtopics string removed to array toarray added topics addedtopics old topic list oldtopiclist remove all removeall removed old topic list oldtopiclist add all addall lease update message leaseupdatemessage lease update message leaseupdatemessage set type settype lease update message leaseupdatemessage topic update nls set service d setserviceid set payload setpayload object added topics addedtopics removed topics removedtopics update leases updateleases removed service removedservice service reference servicereference reference object old topics oldtopics list old topics list oldtopicslist list old topics oldtopics string removed topics removedtopics string old topics list oldtopicslist to array toarray string old topics list oldtopicslist size lease update message leaseupdatemessage lease update message leaseupdatemessage set type settype lease update message leaseupdatemessage topic update nls set service d setserviceid set payload setpayload object removed topics removedtopics update leases updateleases event handler tracker eventhandlertracker open debug log log log service logservice log debug local topic space arrays as list aslist get topics gettopics remote service listener tracker remoteservicelistenertracker service tracker servicetracker context remote service listener remoteservicelistener get name getname remote service listener tracker remoteservicelistenertracker open service discovery handler tracker servicediscoveryhandlertracker service tracker servicetracker context service discovery handler servicediscoveryhandler get name getname service tracker customizer servicetrackercustomizer object adding service addingservice service reference servicereference reference register services discovery service discovery handler servicediscoveryhandler handler service discovery handler servicediscoveryhandler context get service getservice reference remote service registration remoteserviceregistration regs remote service registration remoteserviceregistration service registrations serviceregistrations values to array toarray remote service registration remoteserviceregistration service registrations serviceregistrations size regs length handler register service registerservice regs get reference getreference regs get properties getproperties uri create nls osgi remote gi service impl remoteosgiserviceimpl address nls remote gi service impl remoteosgiserviceimpl osgi port nls regs get service d getserviceid handler modified service modifiedservice service reference servicereference reference object service removed service removedservice service reference servicereference reference object service service discovery handler tracker servicediscoveryhandlertracker open remote service tracker remoteservicetracker service tracker servicetracker context nls context create filter createfilter remoteosgiservice os gi osgi registration service tracker customizer servicetrackercustomizer object adding service addingservice service reference servicereference reference fixme surrogates monitored sep arately separately service reference servicereference service arrays as list aslist string reference get property getproperty constants objectclass surrogate registration surrogateregistration get name getname service reference servicereference reference get property getproperty surrogate registration surrogateregistration service reference reference remote service registration remoteserviceregistration reg remote service registration remoteserviceregistration reference service log log log nls log service logservice log info registering reference nls proxied services service registrations serviceregistrations service reg register with service discovery registerwithservicediscovery reg lease update message leaseupdatemessage lease update message leaseupdatemessage set type settype lease update message leaseupdatemessage service set service d setserviceid string value of valueof reg get service d getserviceid set payload setpayload object reg get interface names getinterfacenames reg get properties getproperties update leases updateleases service class not found exception classnotfoundexception print stack trace printstacktrace remoteosgiexception find service modified service modifiedservice service reference servicereference reference object service reference get property getproperty os gi osgi registration removed service removedservice reference service remote service registration remoteserviceregistration reg remote service registration remoteserviceregistration service registrations serviceregistrations reference register with service discovery registerwithservicediscovery reg lease update message leaseupdatemessage lease update message leaseupdatemessage set type settype lease update message leaseupdatemessage service modified set service d setserviceid string value of valueof reg get service d getserviceid set payload setpayload object reg get properties getproperties update leases updateleases removed service removedservice service reference servicereference reference object service service reference servicereference sref arrays as list aslist string reference get property getproperty constants objectclass surrogate registration surrogateregistration get name getname service reference servicereference reference get property getproperty surrogate registration surrogateregistration service reference reference remote service registration remoteserviceregistration reg remote service registration remoteserviceregistration service registrations serviceregistrations remove sref unregister from service discovery unregisterfromservicediscovery reg lease update message leaseupdatemessage lease update message leaseupdatemessage set type settype lease update message leaseupdatemessage service removed set service d setserviceid string value of valueof reg get service d getserviceid set payload setpayload object update leases updateleases remote service tracker remoteservicetracker open net work channel factory tracker networkchannelfactorytracker service tracker servicetracker context context create filter createfilter nls nls constants objectclass network channel factory networkchannelfactory get name getname service tracker customizer servicetrackercustomizer object adding service addingservice service reference servicereference reference network channel factory networkchannelfactory factory network channel factory networkchannelfactory context get service getservice reference factory activate remote gi service impl remoteosgiserviceimpl i o exception ioexception ioe log log log log service logservice log error ioe get message getmessage ioe factory modified service modifiedservice service reference servicereference reference object factory removed service removedservice service reference servicereference reference object factory net work channel factory tracker networkchannelfactorytracker open invalid syntax exception invalidsyntaxexception ise ise print stack trace printstacktrace network channel factory networkchannelfactory get network channel factory getnetworkchannelfactory string protocol remoteosgiexception filter filter remoteosgiactivator get activator getactivator get context getcontext create filter createfilter nls network channel factory networkchannelfactory protocol property nls protocol nls service reference servicereference net work channel factory tracker networkchannelfactorytracker get service references getservicereferences length filter match network channel factory networkchannelfactory net work channel factory tracker networkchannelfactorytracker get service getservice remoteosgiexception nls network channel factory networkchannelfactory nls protocol nls invalid syntax exception invalidsyntaxexception print stack trace printstacktrace connect remote os gi osgi host param uri uri remote os gi osgi peer array service urls services off ered offered remote peer remoteosgiexception errors i o exception ioexception problems remote service reference remoteservicereference connect uri uri remoteosgiexception i o exception ioexception uri endpoint uri create getchanneluri uri channel endpoint impl channelendpointimpl test channel endpoint impl channelendpointimpl channels endpoint to string tostring test test usage counter usagecounter test get all remote references getallremotereferences channel endpoint impl channelendpointimpl channel string protocol endpoint get scheme getscheme network channel factory networkchannelfactory factory get network channel factory getnetworkchannelfactory protocol channel channel endpoint impl channelendpointimpl factory endpoint channel send lease sendlease get services getservices get topics gettopics ethz iks osgi remoteosgiservice get list ening port getlisteningport java lang string category remoteosgiservice get list ening port getlisteningport string protocol remoteosgiexception network channel factory networkchannelfactory factory get network channel factory getnetworkchannelfactory protocol factory get list ening port getlisteningport protocol param endpoint remoteosgiexception disconnect uri endpoint remoteosgiexception string channeluri getchanneluri endpoint to string tostring channel endpoint impl channelendpointimpl channel channel endpoint impl channelendpointimpl channels channeluri channel channel usage counter usagecounter channel dispose multiple xers multiplexers remove channeluri channel usage counter usagecounter ethz iks osgi remoteosgiservice get remote service reference getremoteservicereference ethz iks osgi uri remote service reference remoteservicereference get remote service reference getremoteservicereference uri serviceuri string uri getchanneluri serviceuri channel endpoint impl channelendpointimpl channel channel endpoint impl channelendpointimpl channels getchanneluri serviceuri channel connect serviceuri channel channel endpoint impl channelendpointimpl channels uri i o exception ioexception ioe remoteosgiexception connect uri channel get remote reference getremotereference serviceuri to string tostring ethz iks osgi remoteosgiservice get remote service references getremoteservicereferences ethz iks osgi uri java lang string org osgi framework filter remote service reference remoteservicereference get remote service references getremoteservicereferences uri service string clazz filter filter string uri getchanneluri service channel endpoint impl channelendpointimpl channel channel endpoint impl channelendpointimpl channels uri channel connect service channel channel endpoint impl channelendpointimpl channels uri i o exception ioexception ioe remoteosgiexception connect uri clazz channel get all remote references getallremotereferences channel get all remote references getallremotereferences remoteosgiactivator get activator getactivator get context getcontext create filter createfilter filter nls nls filter constants objectclass clazz nls nls nls constants objectclass clazz nls nls invalid syntax exception invalidsyntaxexception ise ise print stack trace printstacktrace param code remote service reference remoteservicereference code service object code code service ethz iks osgi remoteosgiservice get remote service getremoteservice ethz iks osgi remote service reference remoteservicereference category remoteosgiservice object get remote service getremoteservice remote service reference remoteservicereference nls illegal argument exception illegalargumentexception remote reference service reference servicereference sref get fetched service reference getfetchedservicereference sref fetch service fetchservice sref get fetched service reference getfetchedservicereference sref remoteosgiactivator get activator getactivator get context getcontext get service getservice sref interrupted exception interruptedexception ethz iks osgi remoteosgiservice get remote service bundle getremoteservicebundle ethz iks osgi remote service reference remoteservicereference object get remote service bundle getremoteservicebundle remote service reference remoteservicereference timeout interrupted exception interruptedexception nls illegal argument exception illegalargumentexception remote reference get channel getchannel geturi get clone bundle getclonebundle timeout todo fixme service interfaces service tracker servicetracker tracker service tracker servicetracker remoteosgiactivator get activator getactivator get context getcontext get service interfaces getserviceinterfaces tracker open tracker wait for service waitforservice bundle tracker get service getservice param code remote service reference remoteservicereference code service service reference service service proxy code code service ethz iks osgi remoteosgiservice get fetched service reference getfetchedservicereference ethz iks osgi remote service reference remoteservicereference category remoteosgiservice service reference servicereference get fetched service reference getfetchedservicereference remote service reference remoteservicereference service reference servicereference remoteosgiactivator get activator getactivator get context getcontext get service references getservicereferences nls get service interfaces getserviceinterfaces service uri nls nls geturi nls nls invalid syntax exception invalidsyntaxexception does not happen doesnothappen does not happen doesnothappen print stack trace printstacktrace fetch discovered remote service service fetched service providing host proxy bundle registered local framework param service code serviceurl code remoteosgiexception fetching fails ethz iks osgi remoteosgiservice get proxy bundle getproxybundle ethz iks slp serviceurl category remoteosgiservice fetch service fetchservice remote service reference remoteservicereference remoteosgiexception channel endpoint impl channelendpointimpl channel channel remote service reference impl remoteservicereferenceimpl get channel getchannel channel get proxy bundle getproxybundle unknown host exception unknownhostexception remoteosgiexception resolve host geturi i o exception ioexception ioe remoteosgiexception proxy generation error ioe channel endpoint impl channelendpointimpl get channel getchannel uri uri channel endpoint impl channelendpointimpl channels getchanneluri uri ethz iks osgi remoting get endpoint getendpoint java lang string category remoting channel endpoint channelendpoint get endpoint getendpoint string uri get multiple xer getmultiplexer uri ethz iks osgi remoteosgiservice get endpoint manager getendpointmanager ethz iks osgi uri category remoting channel endpoint manager channelendpointmanager get endpoint manager getendpointmanager uri remote endpoint address remoteendpointaddress get multiple xer getmultiplexer remote endpoint address remoteendpointaddress to string tostring param uri channel endpoint multiple xer channelendpointmultiplexer get multiple xer getmultiplexer string uri string channel getchanneluri uri create uri channel endpoint multiple xer channelendpointmultiplexer multiplexer channel endpoint multiple xer channelendpointmultiplexer multiple xers multiplexers channel multiplexer multiplexer is connected isconnected multiplexer channel endpoint multiple xer channelendpointmultiplexer channel endpoint impl channelendpointimpl channels channel multiple xers multiplexers channel multiplexer multiplexer param serviceuri string getchanneluri uri serviceuri uri create nls nls serviceuri get scheme getscheme serviceuri get host gethost serviceuri get port getport to string tostring method called os gi osgi bundle stopped removes registered proxy bundles cleanup channel endpoint channelendpoint channel endpoint channelendpoint channels values to array toarray channel endpoint channelendpoint channels size channels clear length dispose object factories net work channel factory tracker networkchannelfactorytracker get services getservices factories factories length network channel factory networkchannelfactory factories deactivate i o exception ioexception ioe log log log log service logservice log error ioe get message getmessage ioe event admin tracker eventadmintracker close remote service tracker remoteservicetracker close service discovery handler tracker servicediscoveryhandlertracker close remote service listener tracker remoteservicelistenertracker close net work channel factory tracker networkchannelfactorytracker close remote enabled services peer services remote service registration remoteserviceregistration get services getservices remote service registration remoteserviceregistration service registrations serviceregistrations values to array toarray remote service registration remoteserviceregistration service registrations serviceregistrations size param serviceid remote service registration remoteserviceregistration get service registration getserviceregistration string serviceid string filter nls equals serviceid nls constants service serviceid nls nls service reference servicereference remoteosgiactivator get activator getactivator get context getcontext get service references getservicereferences string filter log log log log service logservice log warning nls find nls filter remote service registration remoteserviceregistration service registrations serviceregistrations invalid syntax exception invalidsyntaxexception print stack trace printstacktrace topics event handlers registered topics string get topics gettopics object topic lists topiclists event handler tracker eventhandlertracker get services getservices list topics array list arraylist topic lists topiclists topic lists topiclists length topics add all addall list topic lists topiclists string topics to array toarray string topics size transaction xid next xid nextxid next xid nextxid next xid nextxid next xid nextxid register channel param channel local endpoint channel register channel endpoint registerchannelendpoint channel endpoint channelendpoint channel channels channel get remote address getremoteaddress to string tostring channel unregister channel param channel local endpoint channel unregister channel endpoint unregisterchannelendpoint string channeluri channels remove channeluri update leases update leases updateleases lease update message leaseupdatemessage msg channel endpoint impl channelendpointimpl end points endpoints channel endpoint impl channelendpointimpl channels values to array toarray channel endpoint impl channelendpointimpl channels size end points endpoints length end points endpoints send lease update sendleaseupdate msg param event notify remote service listeners notifyremoteservicelisteners remote service event remoteserviceevent event service reference servicereference remote service listener tracker remoteservicelistenertracker get service references getservicereferences service i faces serviceifaces hash set hashset arrays as list aslist event get remote reference getremotereference get service interfaces getserviceinterfaces length string ifaces string get property getproperty remote service listener remoteservicelistener service interfaces ifaces match event ifaces length service i faces serviceifaces ifaces match event param param event match service reference servicereference remote service event remoteserviceevent event filter filter filter get property getproperty remote service listener remoteservicelistener filter filter filter match remote service reference impl remoteservicereferenceimpl event get remote reference getremotereference get properties getproperties remote service listener remoteservicelistener listener remote service listener remoteservicelistener remote service listener tracker remoteservicelistenertracker get service getservice listener listener remote service event remoteserviceevent event register service remote service discovery layer register with service discovery registerwithservicediscovery remote service registration remoteserviceregistration reg register service service discovery handler object handler service discovery handler tracker servicediscoveryhandlertracker get services getservices handler handler length dictionary props reg get properties getproperties service discovery handler servicediscoveryhandler handler register service registerservice reg get reference getreference nls props uri create osgi nls remote gi service impl remoteosgiserviceimpl address nls remote gi service impl remoteosgiserviceimpl osgi port reg get service d getserviceid unregister service service discovery layer param reg remote service registration unregister from service discovery unregisterfromservicediscovery remote service registration remoteserviceregistration reg object handler service discovery handler tracker servicediscoveryhandlertracker get services getservices handler handler length service discovery handler servicediscoveryhandler handler unregister service unregisterservice reg get reference getreference get bundle getbundle bundle bundle i o exception ioexception buffer buffer size crc crc get entry getentry crc byte array output stream bytearrayoutputstream get entry getentry byte array output stream bytearrayoutputstream buffer size get entry getentry get bundle concierge getbundleconcierge bundle buffer work around workaround eclipse string prefix get entry getentry invoke bundle object pkg admin pkgadmin get exported packages getexportedpackages bundle get name getname replace nls nls bin nls generate bundle generatebundle bundle prefix buffer crc exception print stack trace printstacktrace i o exception ioexception get message getmessage get bundles for packages getbundlesforpackages string packages i o exception ioexception hash set hashset visited bundles visitedbundles hash set hashset packages length array list arraylist bundle bytes bundlebytes array list arraylist packages length reuse buffer objects iteration bundles entries improve performance smaller vm s vms buffer buffer size crc crc get entry getentry crc byte array output stream bytearrayoutputstream get entry getentry byte array output stream bytearrayoutputstream buffer size todo handle multiple versions packages length bundle bundle pkg admin pkgadmin get exported package getexportedpackage packages get exp orting bundle getexportingbundle visited bundles visitedbundles bundle visited bundles visitedbundles add bundle get entry getentry bundle bytes bundlebytes add get bundle concierge getbundleconcierge bundle buffer work around workaround eclipse string prefix get entry getentry invoke bundle nls object packages replace nls bin nls bundle bytes bundlebytes add generate bundle generatebundle bundle prefix buffer crc exception print stack trace printstacktrace i o exception ioexception get message getmessage bundle bytes bundlebytes to array toarray bundle bytes bundlebytes size get bundle concierge getbundleconcierge bundle bundle buffer byte array output stream bytearrayoutputstream i o exception ioexception file input stream fileinputstream file input stream fileinputstream file base bundle get bundle i d getbundleid bundle reset read read read buffer write buffer read to byte array tobytearray check package import checkpackageimport string pkg todo versions pkg starts with startswith org osgi pkg admin pkgadmin get exported package getexportedpackage pkg generate bundle generatebundle bundle bundle string prefix buffer crc crc exception url url url get entry getentry invoke bundle object separator manifest file manifest manifest read url open stream openstream byte array output stream bytearrayoutputstream bout byte array output stream bytearrayoutputstream jar output stream jaroutputstream jar output stream jaroutputstream bout nls scan bundle prefix buffer crc flush finish close bout to byte array tobytearray scan bundle bundle string prefix string path jar output stream jaroutputstream buffer crc crc exception enumeration enumeration get entry paths getentrypaths invoke bundle object prefix separator path has more elements hasmoreelements string entry string next element nextelement substring prefix length entry equals manifest file entry ends with endswith separator scan bundle prefix entry buffer crc url url bundle get resource getresource prefix entry input stream inputstream url open stream openstream read to tally read totallyread jar entry jarentry jar entry jarentry jar entry jarentry entry put next entry putnextentry jar entry jarentry crc reset read read buffer to tally read totallyread read write buffer read crc update buffer read jar entry jarentry set size setsize to tally read totallyread jar entry jarentry set crc setcrc crc get value getvalue flush close entry closeentry ethz iks osgi remoting create endpoint createendpoint ethz iks osgi channels network channel networkchannel category remoteosgiservice create endpoint createendpoint network channel networkchannel channel channel endpoint impl channelendpointimpl channel ethz iks osgi remoteosgiservice unget remote service ungetremoteservice ethz iks osgi remote service reference remoteservicereference category remoteosgiservice unget remote service ungetremoteservice remote service reference remoteservicereference remote service reference remoteservicereference remote service reference impl remoteservicereferenceimpl remote service reference remoteservicereference get channel getchannel unget remote service ungetremoteservice remote service reference remoteservicereference geturi async remote call asyncremotecall uri service string method signature methodsignature object args async remote call callback asyncremotecallcallback callback channel endpoint impl channelendpointimpl endpoint get channel getchannel service endpoint async remote call asyncremotecall service get fragment getfragment method signature methodsignature args callback
copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf collab share java java util org eclipse core runtime org eclipse ecf core identity org eclipse ecf core shared object sharedobject org eclipse ecf collab share shared object msg sharedobjectmsg org eclipse ecf collab share transaction shared object transactionsharedobject org eclipse ecf internal collab messages org eclipse osgi util nls file transfer shared object filetransfersharedobject transaction shared object transactionsharedobject start wait interval nls string handledata msg handle data handledata nls string handledone msg handle done handledone nls string start send toall startsendtoall msg start send to all startsendtoall nls string start msg start host container file transfer params filetransferparams transfer params transferparams file transfer listener filetransferlistener progress listener progresslistener host target receiver targetreceiver input stream inputstream input stream inputstream client output stream outputstream output stream outputstream data written datawritten file transfer shared object filetransfersharedobject input stream inputstream ins file transfer params filetransferparams params ins params file transfer shared object filetransfersharedobject input stream inputstream ins ins file transfer shared object filetransfersharedobject file transfer params filetransferparams params params transfer params transferparams file transfer params filetransferparams transfer params transferparams params progress listener progresslistener transfer params transferparams get progress listener getprogresslistener file transfer shared object filetransfersharedobject receiver input stream inputstream ins file transfer params filetransferparams params target receiver targetreceiver receiver is not null isnotnull ins ins null pointer exception nullpointerexception messages file transfer shared object filetransfersharedobject exception input stream inputstream set input stream setinputstream ins transfer params transferparams params file transfer params filetransferparams params progress listener progresslistener transfer params transferparams get progress listener getprogresslistener file transfer shared object filetransfersharedobject set input stream setinputstream input stream inputstream src input stream inputstream src javadoc org eclipse ecf collab share transaction shared object transactionsharedobject add remote participants addremoteparticipants org eclipse ecf core identity add remote participants addremoteparticipants ids ids participantids ids length target receiver targetreceiver get home container d gethomecontainerid equals ids participantids add element addelement ids target receiver targetreceiver equals ids participantids add element addelement ids set output stream setoutputstream output stream outputstream src output stream outputstream src activated open output file host instance is host ishost get context getcontext is group manager isgroupmanager notify listener starting receive progress listener progresslistener progress listener progresslistener receive start receivestart transfer params transferparams get remote file getremotefile transfer params transferparams get length getlength transfer params transferparams get rate getrate open output file open output file openoutputfile transfer params transferparams get length getlength data written datawritten notify listener sending progress listener progresslistener progress listener progresslistener send start sendstart transfer params transferparams get length getlength transfer params transferparams get rate getrate exception get context getcontext send create response sendcreateresponse get home container d gethomecontainerid get next replicate d getnextreplicateid exception log exception sending failure host call activated report success activated open output file openoutputfile io exception ioexception file a file afile transfer params transferparams get remote file getremotefile a file afile io exception ioexception messages file transfer shared object filetransfersharedobject exception remote file skip file creation totally get context getcontext is group manager isgroupmanager transfer params transferparams get include server getincludeserver my file myfile output stream outputstream set output stream setoutputstream string parent a file afile get parent getparent parent file parent mkdirs exception log nls bind exception creating local directory a file afile set output stream setoutputstream buffered output stream bufferedoutputstream file output stream fileoutputstream a file afile replicate remote member remotemember handle replication target receiver targetreceiver replicate remote member remotemember rep licating replicating activation remote member remotemember replica shared object description replicasharedobjectdescription create info createinfo get replica description getreplicadescription target receiver targetreceiver create info createinfo get context getcontext send create sendcreate target receiver targetreceiver create info createinfo io exception ioexception log send create fail createfail message init i shared object config isharedobjectconfig config shared object init exception sharedobjectinitexception init config map map config get properties getproperties object args object map args property args args length transfer params transferparams file transfer params filetransferparams args progress listener progresslistener transfer params transferparams get progress listener getprogresslistener replica shared object description replicasharedobjectdescription get replica description getreplicadescription remote member remotemember hash map hashmap map hash map hashmap map args property object transfer params transferparams replica shared object description replicasharedobjectdescription get class getclass getid get config getconfig get home container d gethomecontainerid map get next replicate d getnextreplicateid send data senddata rcvr file data filedata data io exception ioexception send data delivery for ward msg to forwardmsgto rcvr shared object msg sharedobjectmsg create msg createmsg handledata msg data data is done isdone send chunk sendchunk rcvr io exception ioexception file data filedata data file data filedata input stream inputstream transfer params transferparams get chunk size getchunksize size data get data size getdatasize progress listener progresslistener size progress listener progresslistener send data senddata size send data senddata rcvr data handle data handledata file data filedata data pre save data presavedata data save file data size data get data size getdatasize progress listener progresslistener size progress listener progresslistener receive data receivedata size save data savedata data pre save data presavedata file data filedata data save data file method called handle data handledata save data received clients file param data file data filedata save save data savedata file data filedata data save data locally output stream output stream outputstream len transfer params transferparams get length getlength data written datawritten data get data size getdatasize len data written datawritten len io exception ioexception nls bind messages file transfer shared object filetransfersharedobject exception file large r larger len string value of valueof len data save data savedata output stream outputstream flush verify data saved output stream outputstream flush exception notify exception on save notifyexceptiononsave for ward msg home forwardmsghome shared object msg sharedobjectmsg create msg createmsg handledone msg hard close hardclose exception log exception sending msg host progress listener progresslistener progress listener progresslistener receive done receivedone exception report success data is done isdone cleaned hard close hardclose exception notify exception on close notifyexceptiononclose object progress listener progresslistener progress listener progresslistener receive done receivedone for ward msg home forwardmsghome shared object msg sharedobjectmsg create msg createmsg handledone msg exception log exception sending message call done receiving donereceiving destroy done receiving donereceiving notify exception on save notifyexceptiononsave throwable notify exception on close notifyexceptiononclose throwable done receiving donereceiving handler msg note method changed variable handledone msg changed match param exception involved failure handle done handledone exception pre start waiting prestartwaiting pre start sending prestartsending pre chunk sent prechunksent chunk sent chunksent done sending donesending exception progress listener progresslistener progress listener progresslistener send done senddone committed pre start waiting prestartwaiting start pre wait prewait start is host ishost start transfer params transferparams get start date getstartdate start start pre wait prewait wait start wait interval async hronous asynchronous tail recursion send self sendself shared object msg sharedobjectmsg create msg createmsg start msg exception pre start sending prestartsending start send to all startsendtoall start sending data clients entry point method sending desired data remotes start send to all startsendtoall send chunks remotes call subclass override able overrideable method sending chunk pre chunk sent prechunksent send chunk res send chunk sendchunk target receiver targetreceiver call subclass override able overrideable method sending chunk chunk sent chunksent res wait time waittime transfer params transferparams get wait time getwaittime wait time waittime wait time waittime wait wait time waittime data send message method iter ating iterating entire file send self sendself shared object msg sharedobjectmsg create msg createmsg start send toall startsendtoall msg close input stream hard close hardclose done sending donesending exception done sending donesending io exception ioexception hard close hardclose io exception ioexception input stream inputstream input stream inputstream close exception input stream inputstream output stream outputstream output stream outputstream close exception output stream outputstream deactivated deactivated cleaned properly wrong trousers hard close hardclose exception
copyright jan rellermeyer systems group dep artment department computer science eth z uric h zurich rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jan rellermeyer initial api implementation mark us markus alexander kuppe enhancements bug fixes ethz iks slp test java file java file not found exception filenotfoundexception java file output stream fileoutputstream java lang reflect method java util array list arraylist java util collection java util enumeration java util iterator junit framework test case testcase junit framework test failure testfailure junit framework test result testresult junit framework test suite testsuite org apache tools ant task defs taskdefs optional junit brief unit result formatter briefjunitresultformatter org apache tools ant task defs taskdefs optional junit j unit result formatter junitresultformatter org apache tools ant task defs taskdefs optional junit j unit test junittest org apache tools ant task defs taskdefs optional junit xml j unit result formatter xmljunitresultformatter org osgi framework bundle activator bundleactivator org osgi framework bundle context bundlecontext org osgi framework service reference servicereference ethz iks slp advertiser ethz iks slp locator test activator testactivator bundle activator bundleactivator string output directory outputdirectory system get property getproperty test result output dir system get property getproperty user dir advertiser advertiser locator locator start bundle context bundlecontext context exception service reference servicereference advertiser ref advertiserref service reference servicereference a s refs asrefs context get service references getservicereferences advertiser get name getname a s refs asrefs length service reference servicereference service reference servicereference a s refs asrefs string version string service reference servicereference get bundle getbundle get headers getheaders bundle version version equals system get property getproperty net slp version under test versionundertest advertiser ref advertiserref service reference servicereference context get service getservice service reference servicereference advertiser advertiser context get service getservice advertiser ref advertiserref locator locator context get service getservice context get service reference getservicereference locator get name getname exception system exit start tests starttests start tests starttests test suite testsuite suite test suite testsuite test result testresult result test result testresult j unit test junittest j unit test junittest j unit test junittest ethz iks slp test j unit test junittest set properties setproperties system get properties getproperties create xml result formatter j unit result formatter junitresultformatter xml result formatter xmlresultformatter xml j unit result formatter xmljunitresultformatter file file file output directory outputdirectory test ethz iks slp test xml xml result formatter xmlresultformatter set output setoutput file output stream fileoutputstream file file not found exception filenotfoundexception print stack trace printstacktrace result add listener addlistener xml result formatter xmlresultformatter create result formatter prints console j unit result formatter junitresultformatter console result formatter consoleresultformatter brief unit result formatter briefjunitresultformatter console result formatter consoleresultformatter set output setoutput system result add listener addlistener console result formatter consoleresultformatter add actual tests test suite collection collection array list arraylist collection add self discovery test selfdiscoverytest iterator iterator collection iterator iterator has next hasnext clazz iterator methods starting test method methods clazz get methods getmethods methods length methods get name getname starts with startswith test test case testcase test case testcase test case testcase test case testcase clazz new instance newinstance test case testcase set name setname methods get name getname suite add test addtest test case testcase instantiation exception instantiationexception print stack trace printstacktrace illegal access exception illegalaccessexception print stack trace printstacktrace prepare tests start system current time millis currenttimemillis xml result formatter xmlresultformatter start test suite starttestsuite j unit test junittest console result formatter consoleresultformatter start test suite starttestsuite j unit test junittest tests suite result write stats close reultformatter j unit test junittest set counts setcounts result run count runcount result failure count failurecount result error count errorcount j unit test junittest set run time setruntime system current time millis currenttimemillis start xml result formatter xmlresultformatter end test suite endtestsuite j unit test junittest console result formatter consoleresultformatter end test suite endtestsuite j unit test junittest print success failure result was successful wassuccessful system exit result error count errorcount system err println errors enumeration errors result errors errors has more elements hasmoreelements test failure testfailure error test failure testfailure errors next element nextelement system err println error trace result failure count failurecount system err println failures enumeration failures result failures failures has more elements hasmoreelements test failure testfailure failure test failure testfailure failures next element nextelement system err println failure trace system exit bundle context bundlecontext context exception advertiser locator
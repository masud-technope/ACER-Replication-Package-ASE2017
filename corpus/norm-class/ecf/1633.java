revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx work group workgroup ext history org jivesoftware smackx work group workgroup util meta data utils metadatautils org jivesoftware smack packet org jivesoftware smack provider iq provider iqprovider org xml pull xmlpull xml pull parser xmlpullparser java util hash map hashmap java util list java util map chat metadata chatmetadata element packet extension string element chat metadata name space namespace packet extension string name space namespace http jivesoftware protocol work group workgroup string sessionid string get session d getsessionid sessionid set session d setsessionid string sessionid sessionid sessionid map string list string map hash map hashmap string list string set metadata setmetadata map string list string metadata map metadata map string list string get metadata getmetadata map string get child element l getchildelementxml string builder stringbuilder buf string builder stringbuilder buf append append element append xml ns xmlns append name space namespace append buf append sessionid append get session d getsessionid append sessionid buf append append element append buf to string tostring iq provider iqprovider metadata pack ets packets author d erek derek d e mor o demoro provider iq provider iqprovider provider parseiq xml pull parser xmlpullparser parser exception chat metadata chatmetadata chat m chatm chat metadata chatmetadata event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals sessionid chat m chatm set session d setsessionid parser next text nexttext parser get name getname equals metadata map string list string map meta data utils metadatautils parse meta data parsemetadata parser chat m chatm set metadata setmetadata map event type eventtype xml pull parser xmlpullparser tag parser get name getname equals element chat m chatm
copyright florian schmaus rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smack compression java io exception ioexception java input stream inputstream java output stream outputstream java lang reflect invocation target exception invocationtargetexception java lang reflect method java util zip deflater java util zip deflater output stream deflateroutputstream java util zip inflater java util zip inflater input stream inflaterinputstream xmpp zlib compression deflater java api note method needed java work java higher author florian schmaus href http docs oracle java se javase docs api java util zip deflater html def late deflate required def late deflate method java zlib input output stream zlibinputoutputstream xmpp input output stream xmppinputoutputstream method method supported compression level compressionlevel deflater strategy method deflater get method getmethod def late deflate security exception securityexception no such method exception nosuchmethodexception method supported method java zlib input output stream zlibinputoutputstream compression method compressionmethod zlib override is supported issupported supported override input stream inputstream get input stream getinputstream input stream inputstream input stream inputstream inflater input stream inflaterinputstream input stream inputstream inflater provide input stream inputstream compatible version read blocking system block input data io exception ioexception override io exception ioexception a s mac k asmack remark k xml parser kxmlparser fun ny funny code blocks inflater input stream inflaterinputstream violates contract input stream inputstream breaks kxml blame oracle sun broken api google guys mixin g mixing sun bug xml reader handle simple breaks suns distorted reality helps api intended inf needs input needsinput override output stream outputstream get output stream getoutputstream output stream outputstream output stream outputstream deflater output stream deflateroutputstream output stream outputstream deflater compression level compressionlevel flush io exception ioexception supported flush count def needs input needsinput count def def late deflate buf buf length write buf count count flush count integer method invoke def buf buf length write buf count count illegal argument exception illegalargumentexception io exception ioexception flush illegal access exception illegalaccessexception io exception ioexception flush invocation target exception invocationtargetexception io exception ioexception flush flush
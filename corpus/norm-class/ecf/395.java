copyright ibm comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors chris aniszczyk ibm initial api implementation ken gilmer kgilmer gmail org eclipse ecf tutorial scribbleshare java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java io exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java util array list arraylist java util iterator java util list org eclipse ecf datas hare datashare i channel ichannel org eclipse ecf tutorial scribbleshare toolbox abstract tool abstracttool org eclipse ecf tutorial scribbleshare toolbox box org eclipse ecf tutorial scribbleshare toolbox draw settings drawsettings org eclipse ecf tutorial scribbleshare toolbox org eclipse ecf tutorial scribbleshare toolbox list content provider listcontentprovider org eclipse ecf tutorial scribbleshare toolbox oval org eclipse ecf tutorial scribbleshare toolbox pencil org eclipse ecf tutorial scribbleshare toolbox tool box label provider toolboxlabelprovider org eclipse jface viewers i selection changed listener iselectionchangedlistener org eclipse jface viewers selection changed event selectionchangedevent org eclipse jface viewers structured selection structuredselection org eclipse jface viewers table viewer tableviewer org eclipse swt swt org eclipse swt events modify event modifyevent org eclipse swt events modify listener modifylistener org eclipse swt events paint event paintevent org eclipse swt events paint listener paintlistener org eclipse swt events selection event selectionevent org eclipse swt events selection listener selectionlistener org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets button org eclipse swt widgets can vas canvas org eclipse swt widgets composite org eclipse swt widgets display org eclipse swt widgets event org eclipse swt widgets label org eclipse swt widgets listener org eclipse swt widgets text org eclipse view part viewpart scribble view scribbleview view part viewpart display display can vas canvas can vas canvas abstract tool abstracttool current tool currenttool draw settings drawsettings draw settings drawsettings draw settings drawsettings list tools color black red blue green channel send data i channel ichannel channel scribble view scribbleview tools array list arraylist set user color setusercolor red green blue red red green green blue blue set channel setchannel i channel ichannel channel channel channel called remote client calls code send tool sendtool code param message handle draw line handledrawline message byte array input stream bytearrayinputstream bins byte array input stream bytearrayinputstream message data input stream datainputstream dins data input stream datainputstream bins object input stream objectinputstream ois object input stream objectinputstream bins abstract tool abstracttool tool abstract tool abstracttool ois read object readobject apply tool local can vas canvas tool draw can vas canvas tools add tool io exception ioexception print stack trace printstacktrace class not found exception classnotfoundexception print stack trace printstacktrace send tool sendtool abstract tool abstracttool tool channel current tool currenttool byte array output stream bytearrayoutputstream bouts byte array output stream bytearrayoutputstream create array serialized tool object output stream objectoutputstream douts object output stream objectoutputstream bouts douts write object writeobject tool send serialized tool clients channel send message sendmessage bouts to byte array tobytearray exception print stack trace printstacktrace create part control createpartcontrol composite parent composite background composite backgroundcomposite composite parent swt grid layout gridlayout background grid layout backgroundgridlayout grid layout gridlayout background grid layout backgroundgridlayout margin height marginheight background grid layout backgroundgridlayout margin bottom marginbottom background grid layout backgroundgridlayout margin left marginleft background grid layout backgroundgridlayout margin right marginright background grid layout backgroundgridlayout margin width marginwidth background grid layout backgroundgridlayout horizontal spacing horizontalspacing background composite backgroundcomposite set layout setlayout background grid layout backgroundgridlayout background composite backgroundcomposite set layout data setlayoutdata grid data griddata grid data griddata fill composite palette composite palettecomposite composite background composite backgroundcomposite swt background grid layout backgroundgridlayout grid layout gridlayout background grid layout backgroundgridlayout margin height marginheight background grid layout backgroundgridlayout margin bottom marginbottom background grid layout backgroundgridlayout margin left marginleft background grid layout backgroundgridlayout margin right marginright background grid layout backgroundgridlayout margin width marginwidth background grid layout backgroundgridlayout horizontal spacing horizontalspacing palette composite palettecomposite set layout setlayout background grid layout backgroundgridlayout grid data griddata toolbox grid data toolboxgriddata grid data griddata grid data griddata fill vertical toolbox grid data toolboxgriddata width hint widthhint palette composite palettecomposite set layout data setlayoutdata toolbox grid data toolboxgriddata table viewer tableviewer toolbox table viewer tableviewer palette composite palettecomposite swt flat swt full selection toolbox grid data toolboxgriddata grid data griddata grid data griddata fill toolbox get table gettable set layout data setlayoutdata toolbox grid data toolboxgriddata toolbox set label provider setlabelprovider tool box label provider toolboxlabelprovider toolbox set content provider setcontentprovider list content provider listcontentprovider toolbox set input setinput create tools createtools toolbox add selection changed listener addselectionchangedlistener i selection changed listener iselectionchangedlistener selection changed selectionchanged selection changed event selectionchangedevent event current tool currenttool abstract tool abstracttool structured selection structuredselection toolbox get selection getselection get first element getfirstelement apply draw settings drawsettings selected tool current tool currenttool set draw settings setdrawsettings draw settings drawsettings create widgets modify draw settings drawsettings instance create settings createsettings palette composite palettecomposite label separator label background composite backgroundcomposite swt separator swt swt vertical separator set layout data setlayoutdata grid data griddata grid data griddata fill vertical can vas canvas can vas canvas background composite backgroundcomposite swt can vas canvas set layout data setlayoutdata grid data griddata grid data griddata fill display parent get display getdisplay can vas canvas set background setbackground display get system color getsystemcolor swt color white can vas canvas add paint listener addpaintlistener paint listener paintlistener paint control paintcontrol paint event paintevent iterator tools iterator has next hasnext abstract tool abstracttool abstract tool abstracttool draw can vas canvas listener listener listener handle event handleevent event event current tool currenttool tool int erpret interpret mouse events current tool currenttool handleuievent event can vas canvas clients rendering current tool currenttool is complete iscomplete tools add current tool currenttool send tool sendtool current tool currenttool tool current tool currenttool set complete setcomplete current tool currenttool pencil tools add current tool currenttool can vas canvas add listener addlistener swt mouse down mousedown listener can vas canvas add listener addlistener swt mouse move mousemove listener can vas canvas add listener addlistener swt mouse up mouseup listener create settings createsettings composite palette composite palettecomposite size pen draw width drawwidth label label palette composite palettecomposite swt set text settext pen size text text palette composite palettecomposite swt border set layout data setlayoutdata grid data griddata grid data griddata fill horizontal set text settext add modify listener addmodifylistener modify listener modifylistener modify text modifytext modify event modifyevent draw settings drawsettings set pen width setpenwidth integer parse int parseint get text gettext current tool currenttool set draw settings setdrawsettings draw settings drawsettings toggles anti alias antialias property button button palette composite palettecomposite swt check set text settext ant ialias antialias add selection listener addselectionlistener selection listener selectionlistener widget selected widgetselected selection event selectionevent draw settings drawsettings set ant ialias setantialias get selection getselection current tool currenttool set draw settings setdrawsettings draw settings drawsettings widget default selected widgetdefaultselected selection event selectionevent create list tools add subclasses abstract tool abstracttool list create tools createtools list tool list toollist array list arraylist tool list toollist add pencil tool list toollist add box tool list toollist add tool list toollist add oval tool list toollist set focus setfocus can vas canvas set focus setfocus
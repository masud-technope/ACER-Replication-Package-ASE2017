revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx work group workgroup settings org jivesoftware smack packet org jivesoftware smack provider iq provider iqprovider org xml pull xmlpull xml pull parser xmlpullparser java util array list arraylist java util collection java util iterator java util list chat settings chatsettings defined image type image settings defined text settings type text settings defined bot settings type bot settings list chat setting chatsetting settings string key type chat settings chatsettings settings array list arraylist chat setting chatsetting chat settings chatsettings string key set key setkey key set key setkey string key key key set type settype type type type add setting addsetting chat setting chatsetting setting settings add setting collection chat setting chatsetting get settings getsettings settings chat setting chatsetting get chat setting getchatsetting string key collection chat setting chatsetting col get settings getsettings col iterator chat setting chatsetting iter col iterator iter has next hasnext chat setting chatsetting chat setting chatsetting iter chat setting chatsetting get key getkey equals key chat setting chatsetting chat setting chatsetting get first entry getfirstentry settings size chat setting chatsetting settings element packet extension string element chat settings name space namespace packet extension string name space namespace http jivesoftware protocol work group workgroup string get child element l getchildelementxml string builder stringbuilder buf string builder stringbuilder buf append append element append xml ns xmlns buf append buf append name space namespace buf append key buf append key key type buf append type type buf append append element append buf to string tostring packet extension provider agent status request agentstatusrequest pack ets packets internal provider internalprovider iq provider iqprovider parseiq xml pull parser xmlpullparser parser exception parser get event type geteventtype xml pull parser xmlpullparser start tag illegal state exception illegalstateexception parser proper position bad xml chat settings chatsettings chat settings chatsettings chat settings chatsettings event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag chat setting equals parser get name getname chat settings chatsettings add setting addsetting parse chat setting parsechatsetting parser event type eventtype xml pull parser xmlpullparser tag element equals parser get name getname chat settings chatsettings chat setting chatsetting parse chat setting parsechatsetting xml pull parser xmlpullparser parser exception string key string type event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag key equals parser get name getname key parser next text nexttext event type eventtype xml pull parser xmlpullparser start tag equals parser get name getname parser next text nexttext event type eventtype xml pull parser xmlpullparser start tag type equals parser get name getname type integer parse int parseint parser next text nexttext event type eventtype xml pull parser xmlpullparser tag chat setting equals parser get name getname chat setting chatsetting key type
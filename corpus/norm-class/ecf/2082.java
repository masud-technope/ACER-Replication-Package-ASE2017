copyright remy suen rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors remy suen remy suen gmail initial api implementation org eclipse ecf file transfer filetransfer java text decimal format decimalformat java text simple date format simpledateformat java util org eclipse ecf file transfer filetransfer org eclipse ecf internal file transfer filetransfer messages org eclipse jface action org eclipse jface viewers org eclipse osgi util nls org eclipse swt swt org eclipse swt graphics image org eclipse swt layout grid data griddata org eclipse swt program program org eclipse swt widgets org eclipse org eclipse view part viewpart file transfers view filetransfersview view part viewpart map transfers hash map hashmap nls string org eclipse ecf file transfer filetransfer file transfers view filetransfersview string columns nls nls nls nls messages get string getstring file transfers view filetransfersview column nls nls nls nls messages get string getstring file transfers view filetransfersview column down load download nls nls nls nls messages get string getstring file transfers view filetransfersview column upload nls nls nls nls messages get string getstring file transfers view filetransfersview column local file messages get string getstring file transfers view filetransfersview column messages get string getstring file transfers view filetransfersview column start time messages get string getstring file transfers view filetransfersview column time nls nls nls nls messages get string getstring file transfers view filetransfersview column rate widths nls string date format dateformat simple date format simpledateformat sdf simple date format simpledateformat date format dateformat object empty array object gigabyte math pow megabyte math pow kilobyte math pow downloaded uploaded downloaded filename uploaded filename start time starttime end time endtime start time starttime rate end time endtime file transfer entry filetransferentry i file transfer ifiletransfer file transfer filetransfer string local file name localfilename start time starttime file transfer entry filetransferentry i file transfer ifiletransfer file transfer filetransfer string local file name localfilename file transfer filetransfer file transfer filetransfer local file name localfilename local file name localfilename start time starttime system current time millis currenttimemillis file transfer entry filetransferentry i file transfer ifiletransfer file transfer filetransfer file transfer filetransfer i file transfer ifiletransfer get file transfer getfiletransfer file transfer filetransfer string get local file name getlocalfilename local file name localfilename get start time getstarttime start time starttime file transfers view filetransfersview add transfer addtransfer i file transfer ifiletransfer transfer file transfer entry filetransferentry entry file transfer entry filetransferentry transfer transfers transfer entry instance instance add entry instance file transfers view filetransfersview add transfer addtransfer i file transfer ifiletransfer transfer string local file name localfilename file transfer entry filetransferentry entry file transfer entry filetransferentry transfer local file name localfilename transfers transfer entry instance instance add entry instance table viewer tableviewer viewer table table action resume action resumeaction action pause action pauseaction action remove action removeaction action launch action launchaction string get two digit number gettwodigitnumber gigabyte num gigabyte nls nls to string tostring math floor num messages get string getstring file transfers view filetransfersview megabyte num megabyte nls nls to string tostring math floor num messages get string getstring file transfers view filetransfersview kilobyte num kilobyte nls nls to string tostring math floor num messages get string getstring file transfers view filetransfersview nls nls messages get string getstring file transfers view filetransfersview bytes file transfers view filetransfersview instance file transfers view filetransfersview instance dispose instance dispose create part control createpartcontrol composite parent viewer table viewer tableviewer parent swt multi swt scroll swt scroll swt virtual swt full selection viewer set content provider setcontentprovider view content provider viewcontentprovider viewer set label provider setlabelprovider view label provider viewlabelprovider viewer set sorter setsorter viewer sorter viewersorter viewer set input setinput get view site getviewsite table viewer get table gettable widths length table column tablecolumn col table column tablecolumn table swt left col set text settext columns col set alignment setalignment swt center col set width setwidth widths iterator iterator transfers key set keyset iterator iterator has next hasnext i file transfer ifiletransfer file transfer filetransfer i file transfer ifiletransfer iterator add file transfer entry filetransferentry transfers file transfer filetransfer make actions makeactions hook context menu hookcontextmenu table set lines visible setlinesvisible table set header visible setheadervisible table set layout data setlayoutdata grid data griddata grid data griddata fill table set size setsize add file transfer entry filetransferentry transfer entry transferentry table table is disposed isdisposed viewer add transfer entry transferentry update i file transfer ifiletransfer transfer table table is disposed isdisposed file transfer entry filetransferentry entry file transfer entry filetransferentry transfers transfer viewer update entry columns hook context menu hookcontextmenu menu manager menumanager menu mgr menumgr menu manager menumanager menu mgr menumgr set remove all when shown setremoveallwhenshown menu mgr menumgr add menu listener addmenulistener i menu listener imenulistener menu about to show menuabouttoshow i menu manager imenumanager manager fill context menu fillcontextmenu manager enable actions enableactions menu menu menu mgr menumgr create context menu createcontextmenu viewer get control getcontrol table set menu setmenu menu get site getsite register context menu registercontextmenu menu mgr menumgr viewer fill context menu fillcontextmenu i menu manager imenumanager manager manager add launch action launchaction manager add separator manager add resume action resumeaction manager add pause action pauseaction manager add remove action removeaction manager add separator i workbench action constants iworkbenchactionconstants add itions additions make actions makeactions resume action resumeaction action i selection iselection sel viewer get selection getselection sel i structured selection istructuredselection i structured selection istructuredselection ssel i structured selection istructuredselection sel object ssel get first element getfirstelement file transfer entry filetransferentry file transfer entry filetransferentry entry file transfer entry filetransferentry i file transfer ifiletransfer transfer entry get file transfer getfiletransfer i file transfer pausable ifiletransferpausable pausable i file transfer pausable ifiletransferpausable transfer get adapter getadapter i file transfer pausable ifiletransferpausable pausable pausable resume nls resume action resumeaction set id setid resume nls resume action resumeaction set text settext messages get string getstring file transfers view filetransfersview menu resume text pause action pauseaction action i selection iselection sel viewer get selection getselection sel i structured selection istructuredselection i structured selection istructuredselection ssel i structured selection istructuredselection sel object ssel get first element getfirstelement file transfer entry filetransferentry file transfer entry filetransferentry entry file transfer entry filetransferentry i file transfer ifiletransfer transfer entry get file transfer getfiletransfer i file transfer pausable ifiletransferpausable pausable i file transfer pausable ifiletransferpausable transfer get adapter getadapter i file transfer pausable ifiletransferpausable pausable pausable pause nls pause action pauseaction set text settext messages get string getstring file transfers view filetransfersview menu pause text remove action removeaction action i selection iselection sel viewer get selection getselection sel i structured selection istructuredselection i structured selection istructuredselection ssel i structured selection istructuredselection sel object ssel get first element getfirstelement file transfer entry filetransferentry file transfer entry filetransferentry entry file transfer entry filetransferentry i file transfer ifiletransfer transfer entry get file transfer getfiletransfer transfer cancel viewer remove entry transfers remove entry nls remove action removeaction set text settext messages get string getstring file transfers view filetransfersview menu remove text remove action removeaction set image descriptor setimagedescriptor platformui get workbench getworkbench get shared images getsharedimages get image descriptor getimagedescriptor i shared images isharedimages img tool delete launch action launchaction action i selection iselection sel viewer get selection getselection sel i structured selection istructuredselection i structured selection istructuredselection ssel i structured selection istructuredselection sel object ssel get first element getfirstelement file transfer entry filetransferentry file transfer entry filetransferentry entry file transfer entry filetransferentry string file name filename entry get local file name getlocalfilename program launch file name filename nls launch action launchaction set text settext messages get string getstring file transfers view filetransfersview menu launch text enable actions enableactions i selection iselection viewer get selection getselection resume action resumeaction set enabled setenabled pause action pauseaction set enabled setenabled i structured selection istructuredselection i structured selection istructuredselection iss i structured selection istructuredselection remove action removeaction set enabled setenabled iss is empty isempty enable launch element download object iss get first element getfirstelement file transfer entry filetransferentry file transfer entry filetransferentry entry file transfer entry filetransferentry i file transfer ifiletransfer transfer entry get file transfer getfiletransfer string local file name localfilename entry get local file name getlocalfilename transfer i incoming file transfer iincomingfiletransfer transfer is done isdone transfer get exception getexception local file name localfilename launch action launchaction set enabled setenabled i file transfer pausable ifiletransferpausable pausable i file transfer pausable ifiletransferpausable transfer get adapter getadapter i file transfer pausable ifiletransferpausable transfer is done isdone pausable resume action resumeaction set enabled setenabled pause action pauseaction set enabled setenabled set focus setfocus table set focus setfocus view label provider viewlabelprovider label provider labelprovider i table label provider itablelabelprovider string end time endtime string get column text getcolumntext object obj obj file transfer entry filetransferentry get text gettext obj file transfer entry filetransferentry entry file transfer entry filetransferentry obj i file transfer ifiletransfer transfer entry get file transfer getfiletransfer transfer getid get name getname downloaded transfer i incoming file transfer iincomingfiletransfer get two digit number gettwodigitnumber i incoming file transfer iincomingfiletransfer transfer get bytes received getbytesreceived messages get string getstring file transfers view filetransfersview uploaded transfer i out going file transfer ioutgoingfiletransfer get two digit number gettwodigitnumber i out going file transfer ioutgoingfiletransfer transfer get bytes sent getbytessent messages get string getstring file transfers view filetransfersview filename string file name filename entry get local file name getlocalfilename nls file name filename nls nls file name filename transfer is done isdone exception transfer get exception getexception nls nls messages get string getstring file transfers view filetransfersview messages get string getstring file transfers view filetransfersview error per cent complete percentcomplete transfer get per cent complete getpercentcomplete to string tostring per cent complete percentcomplete start time starttime sdf format entry get start time getstarttime end time endtime transfer is done isdone end time endtime end time endtime sdf format end time endtime messages get string getstring file transfers view filetransfersview progress rate file length filelength transfer get file length getfilelength file length filelength messages get string getstring file transfers view filetransfersview show transfer rate showtransferrate entry get start time getstarttime file length filelength transfer get per cent complete getpercentcomplete get text gettext obj image get column image getcolumnimage object obj view content provider viewcontentprovider i structured content provider istructuredcontentprovider input changed inputchanged viewer object old input oldinput object new input newinput dispose object get elements getelements object input element inputelement empty array string show transfer rate showtransferrate start time starttime bytes received bytesreceived converted size convertedsize string unit size bytes received bytesreceived system current time millis currenttimemillis start time starttime size converted size convertedsize size nls unit messages get string getstring file transfers view filetransfersview size converted size convertedsize size nls unit messages get string getstring file transfers view filetransfersview size converted size convertedsize size nls unit messages get string getstring file transfers view filetransfersview converted size convertedsize size nls unit messages get string getstring file transfers view filetransfersview bytes nls decimal format decimalformat decimal format decimalformat nls bind unit format converted size convertedsize
header data cvs org eclipse ecf tests bundles org eclipse ecf tests apache httpclient server src org apache commons httpclient test proxy testproxy java slewis exp revision copyright apache software foundation licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license software consists voluntary contributions individuals behalf apache software foundation apache software foundation http apache org org apache commons httpclient java io exception ioexception java util enumeration junit extensions test setup testsetup junit framework test junit framework test suite testsuite org apache commons httpclient auth scheme authscheme org apache commons httpclient auth scope authscope org apache commons httpclient credentials not available exception credentialsnotavailableexception org apache commons httpclient credentials provider credentialsprovider org apache commons httpclient methods get method getmethod org apache commons httpclient methods post method postmethod org apache commons httpclient methods string request entity stringrequestentity org apache commons httpclient server auth request handler authrequesthandler org apache commons httpclient server http request handler chain httprequesthandlerchain org apache commons httpclient server http service handler httpservicehandler tests pro xied proxied connections author ortwin glueck author oleg kalnichevski test proxy testproxy http client test base httpclienttestbase test proxy testproxy string test name testname io exception ioexception test name testname set use proxy setuseproxy ssl decorator ssldecorator test setup testsetup add tests addtests test suite testsuite suite test suite testsuite test suite testsuite add test addtest suite suite add test addtest add test addtest test suite testsuite suite test test proxy testproxy suite add test addtest ssl decorator ssldecorator test proxy testproxy test suite testsuite enumeration test suite testsuite tests has more elements hasmoreelements add test addtest suite test next element nextelement ssl decorator ssldecorator test proxy testproxy test test set up setup exception test proxy testproxy base test proxy testproxy get test gettest base setusessl test suite test suite testsuite suite test suite testsuite test proxy testproxy ssl decorator ssldecorator add tests addtests suite suite get it wrong then get it right getitwrongthengetitright credentials provider credentialsprovider host count hostcount proxy count proxycount get it wrong then get it right getitwrongthengetitright credentials get credentials getcredentials auth scheme authscheme scheme string host port proxy credentials not available exception credentialsnotavailableexception proxy host count hostcount provide credentials providecredentials host count hostcount proxy count proxycount provide credentials providecredentials proxy count proxycount credentials provide credentials providecredentials count count username password credentials usernamepasswordcredentials test user testuser wrong stuff wrongstuff username password credentials usernamepasswordcredentials test user testuser test pass testpass tests authenticating proxy test simple get testsimpleget exception server set http service sethttpservice feedback service feedbackservice get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy host connection alive test get host auth conn keep alive testgethostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy host connection close test get host auth conn close testgethostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy invalid host test get host invalid auth testgethostinvalidauth exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice client get state getstate set credentials setcredentials auth scope authscope username password credentials usernamepasswordcredentials test user testuser wrong stuff wrongstuff server set request handler setrequesthandler handlerchain get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus unauthorized get status code getstatuscode release connection releaseconnection tests authenticating proxy int eractive interactive host connection alive test get int eractive host auth conn keep alive testgetinteractivehostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy int eractive interactive host connection close test get int eractive host auth conn close testgetinteractivehostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy host connection alive test get proxy auth host auth conn keep alive testgetproxyauthhostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds client get state getstate set proxy credentials setproxycredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy test get auth proxy testgetauthproxy exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set proxy credentials setproxycredentials auth scope authscope creds server set http service sethttpservice feedback service feedbackservice proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy host connection close test get proxy auth host auth conn close testgetproxyauthhostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds client get state getstate set proxy credentials setproxycredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy invalid host test get proxy auth host invalid auth testgetproxyauthhostinvalidauth exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice client get state getstate set credentials setcredentials auth scope authscope username password credentials usernamepasswordcredentials test user testuser wrong stuff wrongstuff client get state getstate set proxy credentials setproxycredentials auth scope authscope creds server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus unauthorized get status code getstatuscode release connection releaseconnection tests authenticating proxy int eractive interactive host proxy connection alive test get int eractive proxy auth host auth conn keep alive testgetinteractiveproxyauthhostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests authenticating proxy int eractive interactive host proxy connection close test get int eractive proxy auth host auth conn close testgetinteractiveproxyauthhostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection tests post authenticating proxy test simple post testsimplepost exception server set http service sethttpservice feedback service feedbackservice post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy host connection alive test post host auth conn keep alive testposthostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy host connection close test post host auth conn close testposthostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy invalid host test post host invalid auth testposthostinvalidauth exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice client get state getstate set credentials setcredentials auth scope authscope username password credentials usernamepasswordcredentials test user testuser wrong stuff wrongstuff server set request handler setrequesthandler handlerchain post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus unauthorized post get status code getstatuscode post release connection releaseconnection tests post authenticating proxy int eractive interactive host connection alive test post int eractive host auth conn keep alive testpostinteractivehostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy int eractive interactive host connection close test post int eractive host auth conn close testpostinteractivehostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy test post auth proxy testpostauthproxy exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set proxy credentials setproxycredentials auth scope authscope creds server set http service sethttpservice feedback service feedbackservice proxy require authentication requireauthentication creds test post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy host connection alive test post proxy auth host auth conn keep alive testpostproxyauthhostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds client get state getstate set proxy credentials setproxycredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy host connection close test post proxy auth host auth conn close testpostproxyauthhostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds client get state getstate set proxy credentials setproxycredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy invalid host test post proxy auth host invalid auth testpostproxyauthhostinvalidauth exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set proxy credentials setproxycredentials auth scope authscope creds http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice client get state getstate set credentials setcredentials auth scope authscope username password credentials usernamepasswordcredentials test user testuser wrong stuff wrongstuff server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus unauthorized post get status code getstatuscode post release connection releaseconnection tests post authenticating proxy int eractive interactive host connection alive test post int eractive proxy auth host auth conn keep alive testpostinteractiveproxyauthhostauthconnkeepalive exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection tests post authenticating proxy int eractive interactive host connection close test post int eractive proxy auth host auth conn close testpostinteractiveproxyauthhostauthconnclose exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get params getparams set parameter setparameter credentials provider credentialsprovider provider get it wrong then get it right getitwrongthengetitright http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test post method postmethod post post method postmethod post set request entity setrequestentity string request entity stringrequestentity tons stuff client execute method executemethod post assert equals assertequals http status httpstatus post get status code getstatuscode assert not null assertnotnull post get response body as string getresponsebodyasstring post release connection releaseconnection test preemptive auth proxy testpreemptiveauthproxy exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set proxy credentials setproxycredentials auth scope authscope creds client get params getparams set authentication preemptive setauthenticationpreemptive server set http service sethttpservice feedback service feedbackservice proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode isusessl assert null assertnull get request header getrequestheader proxy authorization assert not null assertnotnull get request header getrequestheader proxy authorization release connection releaseconnection tests authenticating proxy host http test get proxy auth host auth p testgetproxyauthhostauthhttp exception username password credentials usernamepasswordcredentials creds username password credentials usernamepasswordcredentials test user testuser test pass testpass client get state getstate set credentials setcredentials auth scope authscope creds client get state getstate set proxy credentials setproxycredentials auth scope authscope creds client get params getparams set version setversion http version httpversion http http request handler chain httprequesthandlerchain handlerchain http request handler chain httprequesthandlerchain handlerchain append handler appendhandler auth request handler authrequesthandler creds test handlerchain append handler appendhandler http service handler httpservicehandler feedback service feedbackservice server set request handler setrequesthandler handlerchain proxy require authentication requireauthentication creds test get method getmethod get method getmethod client execute method executemethod assert equals assertequals http status httpstatus get status code getstatuscode release connection releaseconnection
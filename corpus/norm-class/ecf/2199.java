copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation must afa mustafa isik conflict resolution operational transformations marcelo may worm mayworm adding sync api dep endence dependence ibm corporation support text editors org eclipse ecf docs hare docshare java util hash map hashmap java util map org eclipse core file buf fers filebuffers org eclipse core resources org eclipse core runtime org eclipse ecf core identity org eclipse ecf core util ecf exception ecfexception org eclipse ecf data share datashare abstract share abstractshare org eclipse ecf data share datashare i channel container adapter ichannelcontaineradapter org eclipse ecf docs hare docshare messages org eclipse ecf internal docs hare docshare doc share activator docshareactivator org eclipse ecf sync i model change message imodelchangemessage org eclipse ecf sync serialization exception serializationexception org eclipse ecf sync doc document change message documentchangemessage org eclipse jface text i document idocument org eclipse jface text source i annotation model iannotationmodel doc share docshare abstract share abstractshare i synchronization context isynchronizationcontext context i synchronization context isynchronizationcontext runnable runnable runnable i text file buffer manager itextfilebuffermanager manager i text file buffer manager itextfilebuffermanager map doc uments documents shared keyed based workspace relative paths map shared documents shareddocuments create document sharing session instance param adapter link i channel container adapter ichannelcontaineradapter create document sharing session ecf exception ecfexception channel created doc share docshare i channel container adapter ichannelcontaineradapter adapter ecf exception ecfexception adapter shared documents shareddocuments hash map hashmap lock string paths lock files locked paths length document share documentshare share document share documentshare shared documents shareddocuments paths share share lock unlock string paths paths length document share documentshare share document share documentshare shared documents shareddocuments paths share revert content lock change underlying file revert document matches underlying file revert paths manager get text file buffer gettextfilebuffer path paths location kind locationkind ifile share unlock iterator shared documents shareddocuments entry set entryset iterator has next hasnext map entry entry map entry string path string entry get key getkey document share documentshare share document share documentshare entry get value getvalue share is locally active islocallyactive revert path manager get text file buffer gettextfilebuffer path path location kind locationkind ifile share is locally active islocallyactive share unlock start sharing startsharing localid targetid string path i annotation model iannotationmodel annotation model annotationmodel core exception coreexception ecf exception ecfexception document share documentshare share document share documentshare shared documents shareddocuments path i document idocument document connect path path location kind locationkind ifile share share document share documentshare get channel getchannel targetid path document annotation model annotationmodel shared documents shareddocuments path share starting share file remote peer hook listeners share connect annotation model annotationmodel share add document listener adddocumentlistener starting share file locally active share set locally active setlocallyactive send start message sendstartmessage localid targetid document path send start message sendstartmessage localid targetid string content string path ecf exception ecfexception start message startmessage message start message startmessage localid content path send message sendmessage targetid message serialize send selection sendselection targetid string path offset length ecf exception ecfexception document share documentshare share document share documentshare shared documents shareddocuments path send selection messages side active point selection isn share is remotely active isremotelyactive send message sendmessage targetid selection message selectionmessage path offset length serialize s tops stops sharing document path notify target param targetid target notify document path longer shared param path path document code code ecf exception ecfexception stop sharing stopsharing targetid string path ecf exception ecfexception document share documentshare share document share documentshare shared documents shareddocuments path share is remotely active isremotelyactive share set locally active setlocallyactive shared documents shareddocuments remove path share remove document listener removedocumentlistener share disconnect disconnect path send stop message sendstopmessage targetid path send stop message sendstopmessage targetid string path ecf exception ecfexception send message sendmessage targetid stop message stopmessage path serialize handle message handlemessage from container d fromcontainerid data i model change message imodelchangemessage message message deserialize data is not null isnotnull message message selection message selectionmessage handle selection message handleselectionmessage selection message selectionmessage message message file system document change message filesystemdocumentchangemessage handle file system document change message handlefilesystemdocumentchangemessage file system document change message filesystemdocumentchangemessage message message start message startmessage handle start message handlestartmessage start message startmessage message message stop message stopmessage handle stop message handlestopmessage stop message stopmessage message serialization exception serializationexception doc share activator docshareactivator log status i status istatus error doc share activator docshareactivator plugin deserialize message from container d fromcontainerid core exception coreexception doc share activator docshareactivator log status i status istatus error doc share activator docshareactivator plugin connect file buffer runtime exception runtimeexception doc share activator docshareactivator log status i status istatus error doc share activator docshareactivator plugin runtime exception occurred handling message from container d fromcontainerid reverts content file buffer underlying file param path path file param buffer buffer revert revert string path i file buffer ifilebuffer buffer revert synchronization context editor open buffer revert thread get synchronization context getsynchronizationcontext path runnable buffer revert core exception coreexception doc share activator docshareactivator log status i status istatus error doc share activator docshareactivator plugin connect revert buffer buffer get location getlocation i synchronization context isynchronizationcontext get synchronization context getsynchronizationcontext string path context handle file system document change message handlefilesystemdocumentchangemessage file system document change message filesystemdocumentchangemessage message string path message get path getpath document share documentshare share document share documentshare shared documents shareddocuments path share document about to be changed documentabouttobechanged path share handle update message handleupdatemessage get synchronization context getsynchronizationcontext path document change message documentchangemessage message get message getmessage document changed documentchanged path method called prior document modified remote peer performing preparation work invoked prior document modified param path path document modified document about to be changed documentabouttobechanged string path subclasses override method called document modified remote peer note document changed param path path document modified document changed documentchanged string path subclasses override handle start message handlestartmessage start message startmessage message core exception coreexception string sent path sentpath message get path getpath document share documentshare share document share documentshare shared documents shareddocuments sent path sentpath share i path ipath path path message get path getpath i workspace root iworkspaceroot workspace root workspaceroot resources plugin resourcesplugin get workspace getworkspace get root getroot i file ifile file workspace root workspaceroot get file getfile path fixme file doesn exist should n shouldn creating location kind locationkind kind file exists location kind locationkind ifile location kind locationkind location i document idocument document connect path kind share document share documentshare get channel getchannel message get peer d getpeerid message get path getpath document shared documents shareddocuments message get path getpath share share set remotely active setremotelyactive handle selection message handleselectionmessage selection message selectionmessage message document share documentshare share document share documentshare shared documents shareddocuments message get path getpath share get synchronization context getsynchronizationcontext message get path getpath runnable share handle selection message handleselectionmessage message handle stop message handlestopmessage stop message stopmessage message string path message get path getpath document share documentshare share document share documentshare shared documents shareddocuments path share revert content ensures unsaved discarded todo sense revert path manager get text file buffer gettextfilebuffer path path location kind locationkind ifile share is locally active islocallyactive active locally not e note remotely active share set remotely active setremotelyactive active remove completely shared documents shareddocuments remove path perform clean share remove document listener removedocumentlistener share disconnect disconnect path i document idocument connect i path ipath path location kind locationkind kind core exception coreexception manager connect path kind manager get text file buffer gettextfilebuffer path location kind locationkind ifile get document getdocument disconnect string path manager disconnect path path location kind locationkind ifile core exception coreexception doc share activator docshareactivator log status i status istatus error doc share activator docshareactivator plugin disconnect file buffer path path
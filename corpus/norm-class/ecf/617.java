rcs file rcsfile revision tue mar copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smack util java beans property descriptor propertydescriptor java byte array input stream bytearrayinputstream java io exception ioexception java object input stream objectinputstream java util array list arraylist java util collection java util hash map hashmap java util list java util map org jivesoftware smack connection org jivesoftware smack packet authentication org jivesoftware smack packet bind org jivesoftware smack packet default packet extension defaultpacketextension org jivesoftware smack packet org jivesoftware smack packet message org jivesoftware smack packet packet org jivesoftware smack packet packet extension packetextension org jivesoftware smack packet presence org jivesoftware smack packet registration org jivesoftware smack packet roster packet rosterpacket org jivesoftware smack packet stream error streamerror org jivesoftware smack packet xmpp error xmpperror org jivesoftware smack provider iq provider iqprovider org jivesoftware smack provider packet extension provider packetextensionprovider org jivesoftware smack provider provider manager providermanager org jivesoftware smack sasl sasl mechanism saslmechanism failure org xml pull xmlpull xml pull parser xmlpullparser org xml pull xmlpull xml pull parser exception xmlpullparserexception utility helps parse pack ets packets parsing pack ets packets method shared clients utility author gaston dom biak dombiak packet parser utils packetparserutils name space namespace store packet properties string properties name space namespace http jivesoftware xml ns xmlns xmpp properties parses message packet param parser xml parser pos itioned positioned start message packet message packet exception exception occurs parsing packet packet parse message parsemessage xml pull parser xmlpullparser parser exception message message message string parser get attribute value getattributevalue message set packet d setpacketid packet message set to setto parser get attribute value getattributevalue message set from setfrom parser get attribute value getattributevalue message set type settype message type from string fromstring parser get attribute value getattributevalue type string language get language attribute getlanguageattribute parser determine message language string default language defaultlanguage language equals language trim message set language setlanguage language default language defaultlanguage language default language defaultlanguage packet get default language getdefaultlanguage parse elements include extra logic values read names arbitrary elements string thread map string object properties event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string element name elementname parser get name getname string namespace parser get name space getnamespace element name elementname equals subject string xml lang xmllang get language attribute getlanguageattribute parser xml lang xmllang xml lang xmllang default language defaultlanguage string subject parse content parsecontent parser message get sub ject getsubject xml lang xmllang message add sub ject addsubject xml lang xmllang subject element name elementname equals body string xml lang xmllang get language attribute getlanguageattribute parser xml lang xmllang xml lang xmllang default language defaultlanguage string body parse content parsecontent parser message get body getbody xml lang xmllang message add body addbody xml lang xmllang body element name elementname equals thread thread thread parser next text nexttext element name elementname equals error message set error seterror parse error parseerror parser element name elementname equals properties namespace equals properties name space namespace properties parse properties parseproperties parser packet extension message add extension addextension packet parser utils packetparserutils parse packet extension parsepacketextension element name elementname namespace parser event type eventtype xml pull parser xmlpullparser tag parser get name getname equals message message set thread setthread thread packet properties properties string properties key set keyset message set property setproperty properties message returns content tag string tags included param parser xml pull parser content tag string xml pull parser exception xmlpullparserexception parser encounters invalid xml io exception ioexception error occurs string parse content parsecontent xml pull parser xmlpullparser parser xml pull parser exception xmlpullparserexception io exception ioexception string buffer stringbuffer content string buffer stringbuffer parser depth parserdepth parser get depth getdepth parser xml pull parser xmlpullparser tag parser get depth getdepth parser depth parserdepth content append parser get text gettext content to string tostring parses presence packet param parser xml parser pos itioned positioned start presence packet presence packet exception exception occurs parsing packet presence parse presence parsepresence xml pull parser xmlpullparser parser exception presence type type presence type string type string typestring parser get attribute value getattributevalue type type string typestring type string typestring equals type presence type value of valueof type string typestring illegal argument exception illegalargumentexception iae system err println invalid presence type type string typestring presence presence presence type presence set to setto parser get attribute value getattributevalue presence set from setfrom parser get attribute value getattributevalue string parser get attribute value getattributevalue presence set packet d setpacketid packet string language get language attribute getlanguageattribute parser language equals language trim presence set language setlanguage language presence set packet d setpacketid packet parse elements event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string element name elementname parser get name getname string namespace parser get name space getnamespace element name elementname equals status presence set status setstatus parser next text nexttext element name elementname equals priority priority integer parse int parseint parser next text nexttext presence set priority setpriority priority number format exception numberformatexception nfe illegal argument exception illegalargumentexception iae presence set priority setpriority element name elementname equals string mode text modetext parser next text nexttext presence set mode setmode presence mode value of valueof mode text modetext illegal argument exception illegalargumentexception iae system err println invalid presence mode mode text modetext element name elementname equals error presence set error seterror parse error parseerror parser element name elementname equals properties namespace equals properties name space namespace map string object properties parse properties parseproperties parser packet properties string properties key set keyset presence set property setproperty properties packet extension presence add extension addextension packet parser utils packetparserutils parse packet extension parsepacketextension element name elementname namespace parser exception system err println failed parse extension packet presence packet event type eventtype xml pull parser xmlpullparser tag parser get name getname equals presence presence parses packet param parser xml parser pos itioned positioned start packet object exception exception occurs parsing packet parseiq xml pull parser xmlpullparser parser connection connection exception iq packet iqpacket string parser get attribute value getattributevalue string parser get attribute value getattributevalue string parser get attribute value getattributevalue type type type from string fromstring parser get attribute value getattributevalue type xmpp error xmpperror error event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string element name elementname parser get name getname string namespace parser get name space getnamespace element name elementname equals error error packet parser utils packetparserutils parse error parseerror parser element name elementname equals query namespace equals jabber iq packet iqpacket parse authentication parseauthentication parser element name elementname equals query namespace equals jabber roster iq packet iqpacket parse roster parseroster parser element name elementname equals query namespace equals jabber register iq packet iqpacket parse registration parseregistration parser element name elementname equals bind namespace equals urn ietf params xml xmpp bind iq packet iqpacket parse resource binding parseresourcebinding parser registered provider element namespace object provider provider manager providermanager get instance getinstance getiqprovider element name elementname namespace provider provider iq provider iqprovider iq packet iqpacket iq provider iqprovider provider parseiq parser provider iq packet iqpacket packet parser utils packetparserutils parse with int rospection parsewithintrospection element name elementname provider parser answered error response code lines type result type provider stanza parse unparsediq instance content exam ined examined iq packet iqpacket unparsed result q unparsedresultiq parse content parsecontent parser event type eventtype xml pull parser xmlpullparser tag parser get name getname equals decide packet under stood understood iq packet iqpacket type type type type stanza type child element qualified namespace under stand understand answer type error code feature implemented iq packet iqpacket override string get child element l getchildelementxml iq packet iqpacket set packet d setpacketid iq packet iqpacket set to setto iq packet iqpacket set from setfrom iq packet iqpacket set type settype type error iq packet iqpacket set error seterror xmpp error xmpperror xmpp error xmpperror condition feature implemented connection send packet sendpacket iq packet iqpacket packet was n wasn created create empty packet iq packet iqpacket override string get child element l getchildelementxml basic values packet iq packet iqpacket set packet d setpacketid iq packet iqpacket set to setto iq packet iqpacket set from setfrom iq packet iqpacket set type settype type iq packet iqpacket set error seterror error iq packet iqpacket authentication parse authentication parseauthentication xml pull parser xmlpullparser parser exception authentication authentication authentication event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals username authentication set username setusername parser next text nexttext parser get name getname equals password authentication set password setpassword parser next text nexttext parser get name getname equals digest authentication set digest setdigest parser next text nexttext parser get name getname equals resource authentication set resource setresource parser next text nexttext event type eventtype xml pull parser xmlpullparser tag parser get name getname equals query authentication roster packet rosterpacket parse roster parseroster xml pull parser xmlpullparser parser exception roster packet rosterpacket roster roster packet rosterpacket roster packet rosterpacket item item event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals item string jid parser get attribute value getattributevalue jid string parser get attribute value getattributevalue create packet item roster packet rosterpacket item jid status string parser get attribute value getattributevalue roster packet rosterpacket item status itemstatus status roster packet rosterpacket item status itemstatus from string fromstring item set item status setitemstatus status type string sub script ion subscription parser get attribute value getattributevalue sub script ion subscription roster packet rosterpacket item type itemtype type roster packet rosterpacket item type itemtype value of valueof sub script ion subscription sub script ion subscription item set item type setitemtype type parser get name getname equals group item string group name groupname parser next text nexttext group name groupname group name groupname trim length item add group name addgroupname group name groupname event type eventtype xml pull parser xmlpullparser tag parser get name getname equals item roster add roster item addrosteritem item parser get name getname equals query roster registration parse registration parseregistration xml pull parser xmlpullparser parser exception registration registration registration map string string fields event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag attempt parse form parser get name space getnamespace equals jabber register string parser get name getname string fields fields hash map hashmap string string parser xml pull parser xmlpullparser text parser get text gettext ignore instructions map equals instructions fields registration set instructions setinstructions packet extension registration add extension addextension packet parser utils packetparserutils parse packet extension parsepacketextension parser get name getname parser get name space getnamespace parser event type eventtype xml pull parser xmlpullparser tag parser get name getname equals query registration set attributes setattributes fields registration bind parse resource binding parseresourcebinding xml pull parser xmlpullparser parser io exception ioexception xml pull parser exception xmlpullparserexception bind bind bind event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals resource bind set resource setresource parser next text nexttext parser get name getname equals jid bind set jid setjid parser next text nexttext event type eventtype xml pull parser xmlpullparser tag parser get name getname equals bind bind parse sasl mechanisms reported server param parser xml parser pos itioned positioned start mechanisms stanza collection stings mechanisms included mechanisms stanza exception exception occurs parsing stanza collection string parse mechanisms parsemechanisms xml pull parser xmlpullparser parser exception list string mechanisms array list arraylist string event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string element name elementname parser get name getname element name elementname equals mechanism mechanisms add parser next text nexttext event type eventtype xml pull parser xmlpullparser tag parser get name getname equals mechanisms mechanisms parse compression methods reported server param parser xml parser pos itioned positioned start compression stanza collection stings methods included compression stanza exception exception occurs parsing stanza collection string parse compression methods parsecompressionmethods xml pull parser xmlpullparser parser io exception ioexception xml pull parser exception xmlpullparserexception list string methods array list arraylist string event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string element name elementname parser get name getname element name elementname equals method methods add parser next text nexttext event type eventtype xml pull parser xmlpullparser tag parser get name getname equals compression methods parse properties packet errors occur serial izing serializing java object properties exception printed thrown thrown exception shut entire connection class cast exceptions classcastexceptions occur sender receiver packet don identical versions param parser xml parser pos itioned positioned start properties packet map properties exception error occurs parsing properties map string object parse properties parseproperties xml pull parser xmlpullparser parser exception map string object properties hash map hashmap string object event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals property parse property string string type string value text valuetext object event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string element name elementname parser get name getname element name elementname equals parser next text nexttext element name elementname equals type parser get attribute value getattributevalue type value text valuetext parser next text nexttext event type eventtype xml pull parser xmlpullparser tag parser get name getname equals property int eger integer equals type integer value of valueof value text valuetext equals type value of valueof value text valuetext equals type value of valueof value text valuetext equals type value of valueof value text valuetext equals type value of valueof value text valuetext string equals type value text valuetext java object equals type bytes string utils stringutils decode base decodebase value text valuetext object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream bytes read object readobject exception print stack trace printstacktrace properties event type eventtype xml pull parser xmlpullparser tag parser get name getname equals properties properties parses sasl authentication error pack ets packets param parser xml parser sasl failure packet exception exception occurs parsing packet failure parsesaslfailure xml pull parser xmlpullparser parser exception string condition event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals failure condition parser get name getname event type eventtype xml pull parser xmlpullparser tag parser get name getname equals failure failure condition parses stream error pack ets packets param parser xml parser stream error packet exception exception occurs parsing packet stream error streamerror parse stream error parsestreamerror xml pull parser xmlpullparser parser io exception ioexception xml pull parser exception xmlpullparserexception stream error streamerror stream error streamerror event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag stream error streamerror stream error streamerror parser get name getname event type eventtype xml pull parser xmlpullparser tag parser get name getname equals error stream error streamerror parses error pack ets packets param parser xml parser error packet exception exception occurs parsing packet xmpp error xmpperror parse error parseerror xml pull parser xmlpullparser parser exception string error name space errornamespace urn ietf params xml xmpp sta nzas stanzas string error code errorcode string type string message string condition list packet extension packetextension extensions array list arraylist packet extension packetextension parse error header parser get attribute count getattributecount parser get attribute name getattributename equals code error code errorcode parser get attribute value getattributevalue code parser get attribute name getattributename equals type type parser get attribute value getattributevalue type parse text condition tags event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals text message parser next text nexttext condition tag xmpp error application defined error string element name elementname parser get name getname string namespace parser get name space getnamespace error name space errornamespace equals namespace condition element name elementname extensions add parse packet extension parsepacketextension element name elementname namespace parser event type eventtype xml pull parser xmlpullparser tag parser get name getname equals error parse error type xmpp error xmpperror type error type errortype xmpp error xmpperror type cancel type error type errortype xmpp error xmpperror type value of valueof type to upper case touppercase illegal argument exception illegalargumentexception iae iae print stack trace printstacktrace xmpp error xmpperror integer parse int parseint error code errorcode error type errortype condition message extensions parses packet extension packet param element name elementname xml element packet extension param namespace xml namespace packet extension param parser xml parser pos itioned positioned starting element extension packet extension packetextension exception parsing error occurs packet extension packetextension parse packet extension parsepacketextension string element name elementname string namespace xml pull parser xmlpullparser parser exception provider registered handle extension object provider provider manager providermanager get instance getinstance get extension provider getextensionprovider element name elementname namespace provider provider packet extension provider packetextensionprovider packet extension provider packetextensionprovider provider parse extension parseextension parser provider packet extension packetextension parse with int rospection parsewithintrospection element name elementname provider parser providers registered extension default packet extension defaultpacketextension extension default packet extension defaultpacketextension element name elementname namespace event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string parser get name getname empty element empty string parser is empty element tag isemptyelementtag extension set value setvalue element text event type eventtype parser event type eventtype xml pull parser xmlpullparser text string parser get text gettext extension set value setvalue event type eventtype xml pull parser xmlpullparser tag parser get name getname equals element name elementname extension string get language attribute getlanguageattribute xml pull parser xmlpullparser parser parser get attribute count getattributecount string attribute name attributename parser get attribute name getattributename xml lang equals attribute name attributename lang equals attribute name attributename xml equals parser get attribute prefix getattributeprefix parser get attribute value getattributevalue object parse with int rospection parsewithintrospection string element name elementname object class objectclass xml pull parser xmlpullparser parser exception object object object class objectclass new instance newinstance event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string parser get name getname string string value stringvalue parser next text nexttext property descriptor propertydescriptor descriptor property descriptor propertydescriptor object class objectclass load type property property type propertytype descriptor get property type getpropertytype property converting string correct object type object decode property type propertytype string value stringvalue bean descriptor get write method getwritemethod invoke object event type eventtype xml pull parser xmlpullparser tag parser get name getname equals element name elementname object decodes string object type object type supported returned param type type property param encode string decode string decoded type exception decoding failed error object decode type string exception type get name getname equals java lang string type get name getname equals value of valueof type get name getname equals integer value of valueof type get name getname equals value of valueof type get name getname equals value of valueof type get name getname equals value of valueof type get name getname equals java lang for name forname represents unparsed type result created iq provider iqprovider element child elements exam ined examined get child element l getchildelementxml method unparsed result q unparsedresultiq unparsed result q unparsedresultiq string content str content string str override string get child element l getchildelementxml str
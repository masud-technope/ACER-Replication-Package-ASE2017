copyright eclipse source eclipsesource rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors eclipse source eclipsesource initial api implementation org eclipse ecf tests osgi services remoteserviceadmin java util map java util properties java util vector org eclipse ecf core container factory containerfactory org eclipse ecf core container type description containertypedescription org eclipse ecf core i container icontainer org eclipse ecf core identity org eclipse ecf remote service remoteservice constants org eclipse ecf remote service remoteservice i remote service container adapter iremoteservicecontaineradapter org eclipse ecf remote service remoteservice i remote service reference iremoteservicereference org osgi framework service registration serviceregistration org osgi service remoteserviceadmin endpoint description endpointdescription org osgi service remoteserviceadmin export reference exportreference org osgi service remoteserviceadmin remote constants remoteconstants org osgi service remoteserviceadmin remote service admin event remoteserviceadminevent org osgi service remoteserviceadmin remote service admin listener remoteserviceadminlistener abstract remote service register test abstractremoteserviceregistertest abstract distribution test abstractdistributiontest register wait service registration serviceregistration registration vector remote service admin event remoteserviceadminevent remote service admin events remoteserviceadminevents vector remote service admin event remoteserviceadminevent string get server container type name getservercontainertypename tear down teardown exception remote service admin events remoteserviceadminevents clear unregister registration registration unregister registration thread sleep register wait tear down teardown i container icontainer containers get container manager getcontainermanager get all containers getallcontainers containers length containers dispose get container manager getcontainermanager remove all containers removeallcontainers register wait and unregister registerwaitandunregister properties props verify registration verifyregistration exception register service i concat service iconcatservice registration register default service registerdefaultservice props wait thread sleep register wait verify verify registration verifyregistration verify remote service registered with server verifyremoteserviceregisteredwithserver verify remote service registered with server verifyremoteserviceregisteredwithserver exception verify remote service registered verifyremoteserviceregistered get server container adapter getservercontaineradapter get default service classes getdefaultserviceclasses verify remote service registered verifyremoteserviceregistered i remote service container adapter iremoteservicecontaineradapter adapter string class name classname exception i remote service reference iremoteservicereference adapter get remote service references getremoteservicereferences class name classname assert not null assertnotnull assert true asserttrue length string object classes objectclasses string get property getproperty constants object class objectclass assert true asserttrue object classes objectclasses assert true asserttrue object classes objectclasses length assert true asserttrue object classes objectclasses equals class name classname i remote service container adapter iremoteservicecontaineradapter get server container adapter getservercontaineradapter server i remote service container adapter iremoteservicecontaineradapter server get adapter getadapter i remote service container adapter iremoteservicecontaineradapter i container icontainer containers get container manager getcontainermanager get all containers getallcontainers string container type containertype get server container type name getservercontainertypename containers length container type description containertypedescription ctd get container manager getcontainermanager get container type description getcontainertypedescription containers getid ctd ctd get name getname equals container type containertype i remote service container adapter iremoteservicecontaineradapter containers get adapter getadapter i remote service container adapter iremoteservicecontaineradapter test register on created server testregisteroncreatedserver exception properties props get service properties getserviceproperties register wait and unregister registerwaitandunregister props properties get service properties getserviceproperties properties props properties config server container provider config ecf server props remote constants remoteconstants service exported configs get server container type name getservercontainertypename service exported interfaces props remote constants remoteconstants service exported interfaces props test register on created server with identity testregisteroncreatedserverwithidentity exception properties props get service properties getserviceproperties container factory arguments server identity ecf tcp ecftcp localhost server props org eclipse ecf osgi services remoteserviceadmin remote constants remoteconstants service exported container factory args string get server identity getserveridentity props custom svc prop customsvcprop foo props custom svc prop customsvcprop bar register wait and unregister registerwaitandunregister props test register on existing server testregisteronexistingserver exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties register wait and unregister registerwaitandunregister props test register on existing server with int ents testregisteronexistingserverwithintents exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add int ents intents props remote constants remoteconstants service intents pass by value passbyvalue register wait and unregister registerwaitandunregister props test register on existing server with missing int ents testregisteronexistingserverwithmissingintents exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add intent exposes props remote constants remoteconstants service intents foo bar foobar register wait and unregister registerwaitandunregister props test register on existing server with exported int ents testregisteronexistingserverwithexportedintents exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add int ents intents props remote constants remoteconstants service exported intents pass by value passbyvalue register wait and unregister registerwaitandunregister props test register on existing server with missing exported int ents testregisteronexistingserverwithmissingexportedintents exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add intent exposes props remote constants remoteconstants service exported intents foo bar foobar register wait and unregister registerwaitandunregister props test register on existing server with exported extra int ents testregisteronexistingserverwithexportedextraintents exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add int ents intents props remote constants remoteconstants service exported intents extra pass by value passbyvalue register wait and unregister registerwaitandunregister props test register on existing server with missing exported extra int ents testregisteronexistingserverwithmissingexportedextraintents exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add intent exposes props remote constants remoteconstants service exported intents extra foo bar foobar register wait and unregister registerwaitandunregister props test register on existing server with container d testregisteronexistingserverwithcontainerid exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties props org eclipse ecf osgi services remoteserviceadmin remote constants remoteconstants service exported container server getid register wait and unregister registerwaitandunregister props test register on existing server with identity testregisteronexistingserverwithidentity exception create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename get server identity getserveridentity properties props get service properties getserviceproperties register wait and unregister registerwaitandunregister props contains event type containseventtype event type eventtype remote service admin event remoteserviceadminevent event remote service admin events remoteserviceadminevents event get type gettype event type eventtype remote service admin listener remoteserviceadminlistener create remote service admin listener createremoteserviceadminlistener remote service admin listener remoteserviceadminlistener remote admin event remoteadminevent remote service admin event remoteserviceadminevent event system println remote admin event remoteadminevent event event remote service admin events remoteserviceadminevents add event test remote service admin listener testremoteserviceadminlistener exception remote service admin listener remoteserviceadminlistener listener create remote service admin listener createremoteserviceadminlistener service registration serviceregistration listener reg listenerreg get context getcontext register service registerservice remote service admin listener remoteserviceadminlistener get name getname listener properties props get service properties getserviceproperties registration register default service registerdefaultservice props wait thread sleep register wait assert true asserttrue remote service admin events remoteserviceadminevents size assert true asserttrue contains event type containseventtype remote service admin event remoteserviceadminevent export registration bring registration unregister registration wait thread sleep register wait assert true asserttrue remote service admin events remoteserviceadminevents size assert true asserttrue contains event type containseventtype remote service admin event remoteserviceadminevent export unregistration unregister listener reg listenerreg listener reg listenerreg unregister test register and update properties testregisterandupdateproperties exception remote service admin events remoteserviceadminevents clear register remote service admin listener remoteserviceadminlistener service registration serviceregistration listener reg listenerreg get context getcontext register service registerservice remote service admin listener remoteserviceadminlistener get name getname create remote service admin listener createremoteserviceadminlistener create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid create props properties props get service properties getserviceproperties test one key testonekey props test one key testonekey register service i concat service iconcatservice remote service registration register default service registerdefaultservice props export reference exportreference export ref exportref thread sleep remote service admin event remoteserviceadminevent remote service admin events remoteserviceadminevents get type gettype remote service admin event remoteserviceadminevent export registration export ref exportref get export reference getexportreference assert true asserttrue export ref exportref remote service admin events remoteserviceadminevents export registration assert true asserttrue remote service admin events remoteserviceadminevents size export reference exportreference endpoint description endpointdescription olded export ref exportref get exported endpoint getexportedendpoint assert not null assertnotnull olded map string oldedproperties olded get properties getproperties assert not null assertnotnull oldedproperties assert true asserttrue equals oldedproperties test one key testonekey assert true asserttrue oldedproperties test two key testtwokey change test one key testonekey property test two key testtwokey props test one key testonekey props test two key testtwokey update properties registration registration set properties setproperties props endpoint description endpointdescription test properties changed endpoint description endpointdescription endpoint description endpointdescription updateded export ref exportref get exported endpoint getexportedendpoint assert not null assertnotnull updateded map string updatededproperties updateded get properties getproperties assert not null assertnotnull updatededproperties assert true asserttrue equals updatededproperties test one key testonekey assert true asserttrue equals updatededproperties test two key testtwokey thread sleep listener reg listenerreg unregister
revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx work group workgroup packet org jivesoftware smack packet packet extension packetextension org jivesoftware smack provider packet extension provider packetextensionprovider org xml pull xmlpull xml pull parser xmlpullparser java text parse exception parseexception java text simple date format simpledateformat java util agent status packet author matt tucker agent status agentstatus packet extension packetextension simple date format simpledateformat utc format simple date format simpledateformat yyyymmdd utc format set time zone settimezone time zone timezone get time zone gettimezone gmt element packet extension string element agent status name space namespace packet extension string name space namespace http jabber org protocol work group workgroup string workgroupjid list chat info chatinfo current chats currentchats array list arraylist chat info chatinfo max chats maxchats agent status agentstatus string get work group d getworkgroupjid workgroupjid returns collection chat info chatinfo chat info chatinfo represents chat agent part icipating participating collection chat info chatinfo chat info chatinfo represents chat agent part icipating participating list chat info chatinfo get current chats getcurrentchats collections unmodifiable list unmodifiablelist current chats currentchats get max chats getmaxchats max chats maxchats string get element name getelementname element string get name space getnamespace name space namespace string toxml string builder stringbuilder buf string builder stringbuilder buf append append element append xml ns xmlns append name space namespace append workgroupjid buf append jid append workgroupjid append buf append max chats maxchats buf append max chats append max chats maxchats append max chats current chats currentchats is empty isempty buf append current chats xml ns xmlns http jivesoftware protocol work group workgroup iterator chat info chatinfo current chats currentchats iterator has next hasnext buf append chat info chatinfo toxml buf append current chats buf append append get element name getelementname append buf to string tostring represents chat agent part icipating participating author gaston dom biak dombiak chat info chatinfo string sessionid string userid string email string username string question chat info chatinfo string sessionid string userid string email string username string question sessionid sessionid userid userid email email username username question question returns sessionid chat chat unique sessionid retrieving tra nscript transcript conversation sessionid chat string get session d getsessionid sessionid returns user unique ide ntification identification user initial request chat generated user joined anonymous connection userid attribute user element userid bar e bare jid user request user unique ide ntification identification user initial request string get user d getuserid userid returns agent joined chat agent joined chat get date getdate returns email address user email address user string get email getemail email returns username nickname user username user string get username getusername username returns question user asked question user asked string get question getquestion question string toxml string builder stringbuilder buf string builder stringbuilder buf append chat sessionid buf append sessionid append sessionid append userid buf append userid append userid append buf append start time starttime append utc format format append email buf append email append email append username buf append username append username append question buf append question append question append buf append buf to string tostring packet extension provider agent status agentstatus pack ets packets provider packet extension provider packetextensionprovider packet extension packetextension parse extension parseextension xml pull parser xmlpullparser parser exception agent status agentstatus agent status agentstatus agent status agentstatus agent status agentstatus workgroupjid parser get attribute value getattributevalue jid event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag chat equals parser get name getname agent status agentstatus current chats currentchats add parse chat info parsechatinfo parser max chats equals parser get name getname agent status agentstatus max chats maxchats integer parse int parseint parser next text nexttext event type eventtype xml pull parser xmlpullparser tag element equals parser get name getname agent status agentstatus chat info chatinfo parse chat info parsechatinfo xml pull parser xmlpullparser parser string sessionid parser get attribute value getattributevalue sessionid string userid parser get attribute value getattributevalue userid utc format parse parser get attribute value getattributevalue start time starttime parse exception parseexception string email parser get attribute value getattributevalue email string username parser get attribute value getattributevalue username string question parser get attribute value getattributevalue question chat info chatinfo sessionid userid email username question
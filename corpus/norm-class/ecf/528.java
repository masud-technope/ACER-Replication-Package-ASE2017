rcs file rcsfile revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx file transfer filetransfer org jivesoftware smack packet collector packetcollector org jivesoftware smack smack configuration smackconfiguration org jivesoftware smack connection org jivesoftware smack xmpp exception xmppexception org jivesoftware smack filter packet filter packetfilter org jivesoftware smack packet org jivesoftware smack packet packet org jivesoftware smack packet xmpp error xmpperror org jivesoftware smackx form org jivesoftware smackx form field formfield org jivesoftware smackx packet data form dataform org jivesoftware smackx packet stream initiation streaminitiation java input stream inputstream java output stream outputstream file transfer negotiation process completed jep negotiation process passed stream negotiator stream negotiator negotiate chosen stream stream transfer file author alexander wenckus stream negotiator streamnegotiator creates init iation initiation acceptance packet stream init iator initiator param stream initiation offer streaminitiationoffer offer stream init iator initiator connect stream param names paces namespaces namespace rel ates relates accepted transfer response for warded forwarded init iator initiator stream initiation streaminitiation create initiation accept createinitiationaccept stream initiation streaminitiation stream initiation offer streaminitiationoffer string names paces namespaces stream initiation streaminitiation response stream initiation streaminitiation response set to setto stream initiation offer streaminitiationoffer get from getfrom response set from setfrom stream initiation offer streaminitiationoffer get to getto response set type settype type result response set packet d setpacketid stream initiation offer streaminitiationoffer get packet d getpacketid data form dataform form data form dataform form type sub mit submit form field formfield field form field formfield file transfer negotiator filetransfernegotiator stream data field string namespace names paces namespaces field add value addvalue namespace form add field addfield field response set feature negotiation form setfeaturenegotiationform form response create error createerror string string string packetid xmpp error xmpperror xmpp error xmpperror file transfer negotiator filetransfernegotiator createiq packetid type error set error seterror xmpp error xmpperror packet init iate incoming stream initiateincomingstream connection connection stream initiation streaminitiation init iation initiation xmpp exception xmppexception stream initiation streaminitiation response create initiation accept createinitiationaccept init iation initiation get names paces getnamespaces establish collector await response packet collector packetcollector collector connection create packet collector createpacketcollector get initiation packet filter getinitiationpacketfilter init iation initiation get from getfrom init iation initiation get session d getsessionid connection send packet sendpacket response packet stream method initiation streammethodinitiation collector next result nextresult smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout collector cancel stream method initiation streammethodinitiation xmpp exception xmppexception response file transfer init iator initiator stream method initiation streammethodinitiation returns packet filter init iation initiation packet stream init iation initiation param init iator initiator file transfer param streamid stream transfer packet filter packetfilter packet rel atable relatable stream init iation initiation packet filter packetfilter get initiation packet filter getinitiationpacketfilter string string streamid input stream inputstream negotiate incoming stream negotiateincomingstream packet stream initiation streaminitiation xmpp exception xmppexception interrupted exception interruptedexception method handles file stream download negotiation process stream negotiator init iate initiate incoming stream called file transfer method selected manager resp ond respond init iator initiator selected transfer handle negotiation specific transfer method method returns input stream inputstream ready transfer file param init iation initiation init iation initiation triggered download negotiation process complete input stream inputstream write file returned xmpp exception xmppexception error occurs process xmpp exception xmppexception thrown interrupted exception interruptedexception thread int errupted interrupted input stream inputstream create incoming stream createincomingstream stream initiation streaminitiation init iation initiation xmpp exception xmppexception interrupted exception interruptedexception method handles file upload stream negotiation process stream negotiator determined file transfer negotiation process method returns output stream outputstream tra nsmit transmit file remote user param streamid streamid uniquely identifies file transfer param init iator initiator fully qualified jid init iator initiator file transfer param target fully qualified jid target receiver file transfer negotiated stream ready data xmpp exception xmppexception error occurs negotiation process exception thrown output stream outputstream create out going stream createoutgoingstream string streamid string init iator initiator string target xmpp exception xmppexception returns xmpp namespace reserved type file transfer returns xmpp namespace reserved type file transfer string get names paces getnamespaces clean up cleanup resources negotiator cleanup
copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf presence collab scr eencapture screencapture java byte array output stream bytearrayoutputstream java util org eclipse ecf core identity org eclipse ecf core util ecf exception ecfexception org eclipse ecf data share datashare i channel container adapter ichannelcontaineradapter org eclipse ecf internal presence collab messages org eclipse ecf presence collab abstract collab share abstractcollabshare org eclipse ecf scr eencapture screencapture org eclipse osgi util nls org eclipse swt events dispose event disposeevent org eclipse swt events dispose listener disposelistener org eclipse swt graphics image data imagedata org eclipse swt widgets display send receive requests share specific view identified view screen capture share screencaptureshare abstract collab share abstractcollabshare max message size map scr een capture share channels screencapturesharechannels hashtable screen capture share screencaptureshare get screen capture share getscreencaptureshare containerid screen capture share screencaptureshare scr een capture share channels screencapturesharechannels containerid screen capture share screencaptureshare add screen capture share addscreencaptureshare containerid i channel container adapter ichannelcontaineradapter channel adapter channeladapter ecf exception ecfexception screen capture share screencaptureshare scr een capture share channels screencapturesharechannels containerid screen capture share screencaptureshare channel adapter channeladapter screen capture share screencaptureshare remove screen capture share removescreencaptureshare containerid screen capture share screencaptureshare scr een capture share channels screencapturesharechannels remove containerid screen capture share screencaptureshare i channel container adapter ichannelcontaineradapter adapter ecf exception ecfexception adapter javadoc org eclipse ecf data share datashare abstract share abstractshare dispose dispose dispose shells clear map shells hash map hashmap handle screen capture start handlescreencapturestart string from user fromuser image wrapper imagewrapper image wrapper imagewrapper display default display defaultdisplay display get default getdefault default display defaultdisplay async exec asyncexec runnable show image shell showimageshell show image shell showimageshell show image shell showimageshell shells show image shell showimageshell show image shell showimageshell show image shell showimageshell default display defaultdisplay dispose listener disposelistener widget disposed widgetdisposed dispose event disposeevent shells remove shells show image shell showimageshell show image shell showimageshell initialize nls bind messages screen capture share screencaptureshare screen capture receive title from user fromuser image wrapper imagewrapper show image shell showimageshell open handle screen capture data handlescreencapturedata data show image shell showimageshell show image shell showimageshell show image shell showimageshell shells show image shell showimageshell display display show image shell showimageshell get display getdisplay display display async exec asyncexec runnable show image shell showimageshell add data adddata data boolean value booleanvalue show image shell showimageshell show image showimage send image sendimage senderid string sender user senderuser toid image data imagedata image data imagedata send message sendmessage toid serialize screen capture start message screencapturestartmessage senderid sender user senderuser image wrapper imagewrapper image data imagedata comp res sed data compresseddata screen capture util screencaptureutil comp ress compress image data imagedata data byte array output stream bytearrayoutputstream bos byte array output stream bytearrayoutputstream max message size start pos startpos start pos startpos comp res sed data compresseddata length bos reset length math min comp res sed data compresseddata length start pos startpos max message size bos write comp res sed data compresseddata start pos startpos length start pos startpos max message size bos flush send message sendmessage toid serialize screen capture data message screencapturedatamessage senderid bos to byte array tobytearray comp res sed data compresseddata length start pos startpos exception log error logerror messages share exception log send javadoc org eclipse ecf data share datashare abstract share abstractshare handle channel data handlechanneldata handle message handlemessage from container d fromcontainerid data object msg deserialize data msg screen capture start message screencapturestartmessage handle screen capture start handlescreencapturestart screen capture start message screencapturestartmessage msg get sender d getsenderid screen capture start message screencapturestartmessage msg get sender user getsenderuser screen capture start message screencapturestartmessage msg get image wrapper getimagewrapper msg screen capture data message screencapturedatamessage handle screen capture data handlescreencapturedata screen capture data message screencapturedatamessage msg get sender d getsenderid screen capture data message screencapturedatamessage msg get data getdata screen capture data message screencapturedatamessage msg get is done getisdone exception log error logerror messages share exception log message
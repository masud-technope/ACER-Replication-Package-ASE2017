copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf tests remoteservice java util dictionary java util enumeration java util properties org eclipse ecf core container connect exception containerconnectexception org eclipse ecf core identity org eclipse ecf core identity name space namespace org eclipse ecf core util ecf exception ecfexception org eclipse ecf remoteservice constants org eclipse ecf remoteservice i remote call iremotecall org eclipse ecf remoteservice i remote call listener iremotecalllistener org eclipse ecf remoteservice i remote service iremoteservice org eclipse ecf remoteservice i remote service container adapter iremoteservicecontaineradapter org eclipse ecf remoteservice i remote service d iremoteserviceid org eclipse ecf remoteservice i remote service listener iremoteservicelistener org eclipse ecf remoteservice i remote service proxy iremoteserviceproxy org eclipse ecf remoteservice i remote service reference iremoteservicereference org eclipse ecf remoteservice i remote service registration iremoteserviceregistration org eclipse ecf remoteservice events i remote call event iremotecallevent org eclipse ecf remoteservice events i remote service event iremoteserviceevent org eclipse ecf remoteservice events i remote service registered event iremoteserviceregisteredevent org eclipse ecf tests container abstract test case containerabstracttestcase org eclipse equinox concurrent i future ifuture org osgi framework invalid syntax exception invalidsyntaxexception abstract remote service test abstractremoteservicetest container abstract test case containerabstracttestcase sleeptime integer system get property getproperty org eclipse ecf tests remoteservice abstract remote service test abstractremoteservicetest sleeptime int value intvalue i remote service container adapter iremoteservicecontaineradapter adapters i remote service d iremoteserviceid ids javadoc org eclipse ecf tests container abstract test case containerabstracttestcase get client container name getclientcontainername string get client container name getclientcontainername set client count setclientcount count set client count setclientcount count adapters i remote service container adapter iremoteservicecontaineradapter count ids i remote service d iremoteserviceid count setup remote service adapters setupremoteserviceadapters exception server server get adapter getadapter i remote service container adapter iremoteservicecontaineradapter client count clientcount get client count getclientcount client count clientcount adapters i remote service container adapter iremoteservicecontaineradapter get clients getclients get adapter getadapter i remote service container adapter iremoteservicecontaineradapter i remote service container adapter iremoteservicecontaineradapter get remote service adapters getremoteserviceadapters adapters i remote service listener iremoteservicelistener create remote service listener createremoteservicelistener server i remote service listener iremoteservicelistener handle service event handleserviceevent i remote service event iremoteserviceevent event system println server server client handle service event handleserviceevent event event i remote service registered event iremoteserviceregisteredevent server ids event get reference getreference getid ids event get reference getreference getid add remote service listeners addremoteservicelisteners adapters length adapters add remote service listener addremoteservicelistener create remote service listener createremoteservicelistener i remote service registration iremoteserviceregistration register service registerservice i remote service container adapter iremoteservicecontaineradapter adapter string service interface serviceinterface object service dictionary service properties serviceproperties sleep time sleeptime i remote service registration iremoteserviceregistration result adapter register remote service registerremoteservice string service interface serviceinterface service service properties serviceproperties sleep sleep time sleeptime result i remote service reference iremoteservicereference get remote service references getremoteservicereferences i remote service container adapter iremoteservicecontaineradapter adapter target id filter idfilter string clazz string filter container connect exception containerconnectexception adapter get remote service references getremoteservicereferences target id filter idfilter clazz filter invalid syntax exception invalidsyntaxexception fail happen i remote service iremoteservice get remote service getremoteservice i remote service container adapter iremoteservicecontaineradapter adapter target id filter idfilter string clazz string filter sleep time sleeptime container connect exception containerconnectexception i remote service reference iremoteservicereference get remote service references getremoteservicereferences adapter target id filter idfilter clazz filter length adapter get remote service getremoteservice string get filter from service properties getfilterfromserviceproperties dictionary service properties serviceproperties string buffer stringbuffer filter service properties serviceproperties service properties serviceproperties size filter string buffer stringbuffer enumeration service properties serviceproperties has more elements hasmoreelements object key next element nextelement object val service properties serviceproperties key key val filter append append key append append val append filter append filter filter to string tostring i remote service iremoteservice register and get remote service registerandgetremoteservice i remote service container adapter iremoteservicecontaineradapter server i remote service container adapter iremoteservicecontaineradapter client target id filter idfilter string service name servicename dictionary service properties serviceproperties sleep time sleeptime container connect exception containerconnectexception register service registerservice server service name servicename create service createservice service properties serviceproperties sleep time sleeptime get remote service getremoteservice client target id filter idfilter service name servicename get filter from service properties getfilterfromserviceproperties service properties serviceproperties sleep time sleeptime i remote call iremotecall create remote call createremotecall string method object params i remote call iremotecall string get method getmethod method object get parameters getparameters params get timeout gettimeout object create service createservice i concat service iconcatservice string concat string string string string string result string concat string system println service concat string string returning result string concat string test remote service adapters testremoteserviceadapters exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters assert not null assertnotnull adapters adapters length assert not null assertnotnull adapters thread sleep sleeptime test remote service name space testremoteservicenamespace exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters assert not null assertnotnull adapters adapters length name space namespace namespace adapters get remote service name space getremoteservicenamespace assert not null assertnotnull namespace thread sleep sleeptime test register service testregisterservice exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters adapter service server i remote service registration iremoteserviceregistration reg register service registerservice adapters i concat service iconcatservice get name getname create service createservice customize properties customizeproperties assert not null assertnotnull reg i remote service d iremoteserviceid remote service d remoteserviceid reg getid assert not null assertnotnull remote service d remoteserviceid assert not null assertnotnull remote service d remoteserviceid get container d getcontainerid thread sleep sleeptime test unregister service testunregisterservice exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters adapter service server i remote service registration iremoteserviceregistration reg register service registerservice adapters i concat service iconcatservice get name getname create service createservice customize properties customizeproperties sleeptime assert not null assertnotnull reg assert not null assertnotnull reg get container d getcontainerid reg unregister thread sleep sleeptime get connect target d getconnecttargetid getidfilter test get service references testgetservicereferences exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters register service client register service registerservice adapters i concat service iconcatservice get name getname create service createservice customize properties customizeproperties sleeptime i remote service reference iremoteservicereference get remote service references getremoteservicereferences adapters get connect target d getconnecttargetid getidfilter i concat service iconcatservice get name getname assert true asserttrue assert true asserttrue length thread sleep sleeptime test get service references with filter testgetservicereferenceswithfilter exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters properties props properties props foo bar props foo bar register service registerservice adapters i concat service iconcatservice get name getname create service createservice customize properties customizeproperties props sleeptime i remote service reference iremoteservicereference get remote service references getremoteservicereferences adapters get connect target d getconnecttargetid getidfilter i concat service iconcatservice get name getname get filter from service properties getfilterfromserviceproperties props assert true asserttrue assert true asserttrue length thread sleep sleeptime test get service references with filter fail testgetservicereferenceswithfilterfail exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters properties props properties props foo bar props foo bar register service registerservice adapters i concat service iconcatservice get name getname create service createservice customize properties customizeproperties props sleeptime create dictionary props filter properties miss props missprops properties miss props missprops bar foo string miss filter missfilter get filter from service properties getfilterfromserviceproperties miss props missprops i remote service reference iremoteservicereference get remote service references getremoteservicereferences adapters get connect target d getconnecttargetid getidfilter i concat service iconcatservice get name getname miss filter missfilter assert true asserttrue thread sleep sleeptime test get service testgetservice exception i remote service iremoteservice service register and get remote service registerandgetremoteservice assert not null assertnotnull service thread sleep sleeptime test get proxy testgetproxy exception i remote service iremoteservice service register and get remote service registerandgetremoteservice assert not null assertnotnull service object proxy service get proxy getproxy assert true asserttrue proxy i remote service proxy iremoteserviceproxy thread sleep sleeptime test get proxy no remote service proxy testgetproxynoremoteserviceproxy exception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters properties props properties props constants service prevent rsproxy i remote service iremoteservice service register and get remote service registerandgetremoteservice adapters adapters get client getclient get connected d getconnectedid getidfilter i concat service iconcatservice get name getname customize properties customizeproperties props sleeptime assert not null assertnotnull service object proxy service get proxy getproxy assert true asserttrue proxy i remote service proxy iremoteserviceproxy thread sleep sleeptime i remote call iremotecall create remote concat createremoteconcat string string create remote call createremotecall concat object i remote service iremoteservice register and get remote service registerandgetremoteservice container connect exception containerconnectexception i remote service container adapter iremoteservicecontaineradapter adapters get remote service adapters getremoteserviceadapters register and get remote service registerandgetremoteservice adapters adapters get client getclient get connected d getconnectedid getidfilter i concat service iconcatservice get name getname customize properties customizeproperties sleeptime i remote call listener iremotecalllistener create remote call listener createremotecalllistener i remote call listener iremotecalllistener handle event handleevent i remote call event iremotecallevent event system println client handle event handleevent event test call synch testcallsynch exception i remote service iremoteservice service register and get remote service registerandgetremoteservice service trace call start tracecallstart call synch callsynch object result service call sync callsync create remote concat createremoteconcat eclipse cool trace call end tracecallend call synch callsynch result assert not null assertnotnull result assert true asserttrue result equals eclipse concat cool thread sleep sleeptime trace call start tracecallstart string call type calltype system println call type calltype start trace call end tracecallend string call type calltype object result system println call type calltype system println result result trace call end tracecallend string call type calltype system println call type calltype test bad call synch testbadcallsynch exception i remote service iremoteservice service register and get remote service registerandgetremoteservice service exist service call sync callsync create remote call createremotecall concat object fail ecf exception ecfexception concat service call sync callsync create remote call createremotecall concat object fail ecf exception ecfexception thread sleep sleeptime test call a sync h testcallasynch exception i remote service iremoteservice service register and get remote service registerandgetremoteservice service trace call start tracecallstart call a sync h callasynch service call async callasync create remote concat createremoteconcat ecf cool create remote call listener createremotecalllistener trace call end tracecallend call a sync h callasynch thread sleep sleeptime test fire a sync h testfireasynch exception i remote service iremoteservice service register and get remote service registerandgetremoteservice service trace call start tracecallstart fire a sync h fireasynch service fire async fireasync create remote concat createremoteconcat eclipse sucks trace call end tracecallend fire a sync h fireasynch thread sleep sleeptime test proxy testproxy exception i remote service iremoteservice service register and get remote service registerandgetremoteservice service i concat service iconcatservice proxy i concat service iconcatservice service get proxy getproxy assert not null assertnotnull proxy trace call start tracecallstart get proxy getproxy string result proxy concat ecf sucks trace call end tracecallend get proxy getproxy result thread sleep sleeptime test async result testasyncresult exception i remote service iremoteservice service register and get remote service registerandgetremoteservice service trace call start tracecallstart call a sync h result callasynchresult i future ifuture result service call async callasync create remote concat createremoteconcat ecf a sync h results asynchresults cool trace call end tracecallend call a sync h result callasynchresult result assert not null assertnotnull result thread sleep sleeptime dictionary customize properties customizeproperties dictionary props props
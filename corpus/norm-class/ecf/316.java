copyright eclipse source eclipsesource rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors eclipse source eclipsesource initial api implementation org eclipse ecf tests osgi services distribution java util properties org eclipse ecf core container factory containerfactory org eclipse ecf core container type description containertypedescription org eclipse ecf core i container icontainer org eclipse ecf core identity org eclipse ecf remote service remoteservice constants org eclipse ecf remote service remoteservice i remote service container adapter iremoteservicecontaineradapter org eclipse ecf remote service remoteservice i remote service reference iremoteservicereference org osgi framework service registration serviceregistration abstract remote service register test abstractremoteserviceregistertest abstract distribution test abstractdistributiontest register wait service registration serviceregistration registration string get server container type name getservercontainertypename tear down teardown exception unregister registration registration unregister registration thread sleep register wait tear down teardown i container icontainer containers get container manager getcontainermanager get all containers getallcontainers containers length containers dispose get container manager getcontainermanager remove all containers removeallcontainers register wait and unregister registerwaitandunregister properties props verify registration verifyregistration exception register service i concat service iconcatservice registration register default service registerdefaultservice props wait thread sleep register wait verify verify registration verifyregistration verify remote service registered with server verifyremoteserviceregisteredwithserver verify remote service registered with server verifyremoteserviceregisteredwithserver exception verify remote service registered verifyremoteserviceregistered get server container adapter getservercontaineradapter get default service classes getdefaultserviceclasses verify remote service registered verifyremoteserviceregistered i remote service container adapter iremoteservicecontaineradapter adapter string class name classname exception assert not null assertnotnull adapter i remote service reference iremoteservicereference adapter get remote service references getremoteservicereferences class name classname assert not null assertnotnull assert true asserttrue length string object classes objectclasses string get property getproperty constants object class objectclass assert true asserttrue object classes objectclasses assert true asserttrue object classes objectclasses length assert true asserttrue object classes objectclasses equals class name classname i remote service container adapter iremoteservicecontaineradapter get server container adapter getservercontaineradapter server i remote service container adapter iremoteservicecontaineradapter server get adapter getadapter i remote service container adapter iremoteservicecontaineradapter i container icontainer containers get container manager getcontainermanager get all containers getallcontainers string container type containertype get server container type name getservercontainertypename containers length container type description containertypedescription ctd get container manager getcontainermanager get container type description getcontainertypedescription containers getid ctd ctd get name getname equals container type containertype i remote service container adapter iremoteservicecontaineradapter containers get adapter getadapter i remote service container adapter iremoteservicecontaineradapter test register on created server testregisteroncreatedserver exception start test starttest test register on created server testregisteroncreatedserver properties props get service properties getserviceproperties register wait and unregister registerwaitandunregister props end test endtest test register on created server testregisteroncreatedserver properties get service properties getserviceproperties properties props properties config server container provider config ecf server props service exported configs get server container type name getservercontainertypename service exported interfaces props service exported interfaces service exported interfaces wildcard props test register on created server with identity testregisteroncreatedserverwithidentity exception start test starttest test register on created server with identity testregisteroncreatedserverwithidentity properties props get service properties getserviceproperties container factory arguments server identity ecf tcp ecftcp localhost server props service exported container factory arguments string get server identity getserveridentity register wait and unregister registerwaitandunregister props end test endtest test register on created server with identity testregisteroncreatedserverwithidentity test register on existing server testregisteronexistingserver exception start test starttest test register on existing server testregisteronexistingserver create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties register wait and unregister registerwaitandunregister props end test endtest test register on existing server testregisteronexistingserver test register on existing server with int ents testregisteronexistingserverwithintents exception start test starttest test register on existing server with int ents testregisteronexistingserverwithintents create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add int ents intents props service intents pass by value passbyvalue register wait and unregister registerwaitandunregister props end test endtest test register on existing server with int ents testregisteronexistingserverwithintents test register on existing server with missing int ents testregisteronexistingserverwithmissingintents exception start test starttest test register on existing server with missing int ents testregisteronexistingserverwithmissingintents create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add intent exposes props service intents foo bar foobar register wait and unregister registerwaitandunregister props end test endtest test register on existing server with missing int ents testregisteronexistingserverwithmissingintents test register on existing server with exported int ents testregisteronexistingserverwithexportedintents exception start test starttest test register on existing server with exported int ents testregisteronexistingserverwithexportedintents create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add int ents intents props service exported intents pass by value passbyvalue register wait and unregister registerwaitandunregister props end test endtest test register on existing server with exported int ents testregisteronexistingserverwithexportedintents test register on existing server with missing exported int ents testregisteronexistingserverwithmissingexportedintents exception start test starttest test register on existing server with missing exported int ents testregisteronexistingserverwithmissingexportedintents create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add intent exposes props service exported intents foo bar foobar register wait and unregister registerwaitandunregister props end test endtest test register on existing server with missing exported int ents testregisteronexistingserverwithmissingexportedintents test register on existing server with exported extra int ents testregisteronexistingserverwithexportedextraintents exception start test starttest test register on existing server with exported extra int ents testregisteronexistingserverwithexportedextraintents create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add int ents intents props service exported intents extra pass by value passbyvalue register wait and unregister registerwaitandunregister props end test endtest test register on existing server with exported extra int ents testregisteronexistingserverwithexportedextraintents test register on existing server with missing exported extra int ents testregisteronexistingserverwithmissingexportedextraintents exception start test starttest test register on existing server with missing exported extra int ents testregisteronexistingserverwithmissingexportedextraintents create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties add intent exposes props service exported intents extra foo bar foobar register wait and unregister registerwaitandunregister props end test endtest test register on existing server with missing exported extra int ents testregisteronexistingserverwithmissingexportedextraintents test register on existing server with container d testregisteronexistingserverwithcontainerid exception start test starttest test register on existing server with container d testregisteronexistingserverwithcontainerid create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename object create server d createserverid properties props get service properties getserviceproperties props service exported container server getid register wait and unregister registerwaitandunregister props end test endtest test register on existing server with container d testregisteronexistingserverwithcontainerid test register on existing server with identity testregisteronexistingserverwithidentity exception start test starttest test register on existing server with identity testregisteronexistingserverwithidentity create server container server container factory containerfactory get default getdefault create container createcontainer get server container type name getservercontainertypename get server identity getserveridentity properties props get service properties getserviceproperties register wait and unregister registerwaitandunregister props end test endtest test register on existing server with identity testregisteronexistingserverwithidentity
rcs file rcsfile revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx file transfer filetransfer java net url connection urlconnection java util array list arraylist java util arrays java util collection java util collections java util iterator java util list java util map java util random java util concurrent concurrent hash map concurrenthashmap org jivesoftware smack connection org jivesoftware smack connection listener connectionlistener org jivesoftware smack packet collector packetcollector org jivesoftware smack xmpp exception xmppexception org jivesoftware smack filter packetidfilter org jivesoftware smack packet org jivesoftware smack packet packet org jivesoftware smack packet xmpp error xmpperror org jivesoftware smackx form org jivesoftware smackx form field formfield org jivesoftware smackx service discovery manager servicediscoverymanager org jivesoftware smackx bytes treams bytestreams ibb in band bytes tream manager inbandbytestreammanager org jivesoftware smackx bytes treams bytestreams socks socks bytes tream manager bytestreammanager org jivesoftware smackx packet data form dataform org jivesoftware smackx packet stream init iation streaminitiation manages negotiation file transfers jep file remote user chooses type stream file author alexander wenckus href http xmpp org extensions xep html xep file transfer file transfer negotiator filetransfernegotiator string namespace http jabber org protocol profile file transfer http jabber org protocol map connection file transfer negotiator filetransfernegotiator transfer object transferobject concurrent hash map concurrenthashmap connection file transfer negotiator filetransfernegotiator string stream init prefix jsi string stream data field stream method random random generator randomgenerator random variable offer ibb file transfer gen erally generally rec ommend recommend variable testing purposes ibb backup file transfer method should n shouldn transfer method product ion production systems ibb system get property getproperty ibb returns file transfer negotiator connection requested connection file transfer service automatically enabled param connection connection transfer manager desired im file transfer manager imfiletransfermanager file transfer negotiator filetransfernegotiator get instance for getinstancefor connection connection connection illegal argument exception illegalargumentexception connection connection is connected isconnected transfer object transferobject contains key containskey connection transfer object transferobject connection file transfer negotiator filetransfernegotiator transfer file transfer negotiator filetransfernegotiator connection set service enabled setserviceenabled connection transfer object transferobject connection transfer transfer enable jabber services file transfer connection param connection connection enable disable services param is enabled isenabled enable disable set service enabled setserviceenabled connection connection is enabled isenabled service discovery manager servicediscoverymanager manager service discovery manager servicediscoverymanager get instance for getinstancefor connection list string name spaces namespaces array list arraylist string name spaces namespaces add all addall arrays as list aslist namespace name spaces namespaces add in band bytes tream manager inbandbytestreammanager namespace ibb name spaces namespaces add socks bytes tream manager bytestreammanager namespace string namespace name spaces namespaces is enabled isenabled manager includes feature includesfeature namespace manager add feature addfeature namespace manager remove feature removefeature namespace checks file transfer services enabled connection param connection connection check services enabled is service enabled isserviceenabled connection connection service discovery manager servicediscoverymanager manager service discovery manager servicediscoverymanager get instance for getinstancefor connection list string name spaces namespaces array list arraylist string name spaces namespaces add all addall arrays as list aslist namespace name spaces namespaces add in band bytes tream manager inbandbytestreammanager namespace ibb name spaces namespaces add socks bytes tream manager bytestreammanager namespace string namespace name spaces namespaces manager includes feature includesfeature namespace convenience method create packet param packet param packet add res sed addressed param packet param type type packet created packet createiq string string string type type iq packet iqpacket string get child element l getchildelementxml iq packet iqpacket set packet d setpacketid iq packet iqpacket set to setto iq packet iqpacket set from setfrom iq packet iqpacket set type settype type iq packet iqpacket returns collection supported transfer protocols returns collection supported transfer protocols collection string get supported protocols getsupportedprotocols list string protocols array list arraylist string protocols add in band bytes tream manager inbandbytestreammanager namespace ibb protocols add socks bytes tream manager bytestreammanager namespace collections unmodifiable list unmodifiablelist protocols connection connection stream negotiator streamnegotiator byte stream transfer manager bytestreamtransfermanager stream negotiator streamnegotiator inband transfer manager inbandtransfermanager file transfer negotiator filetransfernegotiator connection connection configure connection configureconnection connection connection connection byte stream transfer manager bytestreamtransfermanager socks transfer negotiator transfernegotiator connection inband transfer manager inbandtransfermanager ibb transfer negotiator ibbtransfernegotiator connection configure connection configureconnection connection connection connection add connection listener addconnectionlistener connection listener connectionlistener connection closed connectionclosed cleanup connection connection closed on error connectionclosedonerror exception cleanup connection reconnect ion failed reconnectionfailed exception ignore reconnect ion successful reconnectionsuccessful ignore rec onnecting in reconnectingin seconds ignore cleanup connection connection transfer object transferobject remove connection inband transfer manager inbandtransfermanager cleanup selects stream negotiator exam ining examining incoming file transfer request param request file transfer request file transfer object handles transfer xmpp exception xmppexception stream methods contained packet stream method stream negotiator streamnegotiator select stream negotiator selectstreamnegotiator file transfer request filetransferrequest request xmpp exception xmppexception stream init iation streaminitiation request get stream init iation getstreaminitiation form field formfield stream method field streammethodfield get stream method field getstreammethodfield get feature negotiation form getfeaturenegotiationform stream method field streammethodfield string error message errormessage stream methods contained packet xmpp error xmpperror error xmpp error xmpperror xmpp error xmpperror condition bad request error message errormessage iq packet iqpacket createiq get packet d getpacketid get from getfrom get to getto type error iq packet iqpacket set error seterror error connection send packet sendpacket iq packet iqpacket xmpp exception xmppexception error message errormessage error select protocol stream negotiator streamnegotiator selected stream negotiator selectedstreamnegotiator selected stream negotiator selectedstreamnegotiator get negotiator getnegotiator stream method field streammethodfield xmpp exception xmppexception iq packet iqpacket createiq get packet d getpacketid get from getfrom get to getto type error iq packet iqpacket set error seterror getxmpperror connection send packet sendpacket iq packet iqpacket selected stream negotiator selectedstreamnegotiator form field formfield get stream method field getstreammethodfield data form dataform form form field formfield field iterator form field formfield form get fields getfields has next hasnext field field get variable getvariable equals stream data field field field stream negotiator streamnegotiator get negotiator getnegotiator form field formfield field xmpp exception xmppexception string variable is byte stream isbytestream isibb iterator form field formfield option field get options getoptions has next hasnext variable get value getvalue variable equals socks bytes tream manager bytestreammanager namespace ibb is byte stream isbytestream variable equals in band bytes tream manager inbandbytestreammanager namespace isibb is byte stream isbytestream isibb xmpp error xmpperror error xmpp error xmpperror xmpp error xmpperror condition bad request accept able acceptable transfer mechanism xmpp exception xmppexception error get message getmessage error is byte stream isbytestream isibb field get type gettype equals form field formfield type list multi is byte stream isbytestream isibb fault tolerant negotiator faulttolerantnegotiator connection byte stream transfer manager bytestreamtransfermanager inband transfer manager inbandtransfermanager is byte stream isbytestream byte stream transfer manager bytestreamtransfermanager inband transfer manager inbandtransfermanager reject stream init iation initiation request remote user param stream init iation initiation request reject reject stream rejectstream stream init iation streaminitiation xmpp error xmpperror error xmpp error xmpperror xmpp error xmpperror condition for bidden forbidden offer decl ined declined iq packet iqpacket createiq get packet d getpacketid get from getfrom get to getto type error iq packet iqpacket set error seterror error connection send packet sendpacket iq packet iqpacket returns unique stream identify file transfer returns unique stream identify file transfer string get next stream d getnextstreamid string builder stringbuilder buffer string builder stringbuilder buffer append stream init prefix buffer append math abs random generator randomgenerator next long nextlong buffer to string tostring send request user send file user option accepting rejecting resp onding responding received file transfer request accept packet user chosen stream type send file choices implementation user file transfer href http jabber org jeps jep html socks bytes treams bytestreams preferred method transfer href http jabber org jeps jep html band bytes treams bytestreams fallback mechanism user choose dec line decline file request desire file client support jep accept able acceptable transfer file user resp ond respond method timeout param userid userid user file param streamid unique identifier file transfer param file name filename file pref erably preferably include extension determine type file param size size bytes file param desc description file param response timeout responsetimeout amount time milliseconds wait remote user resp ond respond resp ond respond time returns stream negotiator selected peer xmpp exception xmppexception thrown error negotiating file transfer stream negotiator streamnegotiator negotiate outgoing transfer negotiateoutgoingtransfer string userid string streamid string file name filename size string desc response timeout responsetimeout xmpp exception xmppexception stream init iation streaminitiation stream init iation streaminitiation set sesssion d setsesssionid streamid set mime type setmimetype url connection urlconnection guess content type from name guesscontenttypefromname file name filename stream init iation streaminitiation file si file sifile stream init iation streaminitiation file file name filename size si file sifile set desc setdesc desc set file setfile si file sifile set feature negotiation form setfeaturenegotiationform create default init iation form createdefaultinitiationform set from setfrom connection get user getuser set to setto userid set type settype type packet collector packetcollector collector connection create packet collector createpacketcollector packetidfilter get packet d getpacketid connection send packet sendpacket packet si response siresponse collector next result nextresult response timeout responsetimeout collector cancel si response siresponse iq response iqresponse si response siresponse iq response iqresponse get type gettype equals type result stream init iation streaminitiation response stream init iation streaminitiation si response siresponse get outgoing negotiator getoutgoingnegotiator get stream method field getstreammethodfield response get feature negotiation form getfeaturenegotiationform iq response iqresponse get type gettype equals type error xmpp exception xmppexception iq response iqresponse get error geterror xmpp exception xmppexception file transfer response unread able unreadable stream negotiator streamnegotiator get outgoing negotiator getoutgoingnegotiator form field formfield field xmpp exception xmppexception string variable is byte stream isbytestream isibb iterator string field get values getvalues has next hasnext variable variable equals socks bytes tream manager bytestreammanager namespace ibb is byte stream isbytestream variable equals in band bytes tream manager inbandbytestreammanager namespace isibb is byte stream isbytestream isibb xmpp error xmpperror error xmpp error xmpperror xmpp error xmpperror condition bad request accept able acceptable transfer mechanism xmpp exception xmppexception error get message getmessage error is byte stream isbytestream isibb fault tolerant negotiator faulttolerantnegotiator connection byte stream transfer manager bytestreamtransfermanager inband transfer manager inbandtransfermanager is byte stream isbytestream byte stream transfer manager bytestreamtransfermanager inband transfer manager inbandtransfermanager data form dataform create default init iation form createdefaultinitiationform data form dataform form data form dataform form type form form field formfield field form field formfield stream data field field set type settype form field formfield type list single ibb field add option addoption form field formfield option socks bytes tream manager bytestreammanager namespace field add option addoption form field formfield option in band bytes tream manager inbandbytestreammanager namespace form add field addfield field form
rcs file rcsfile revision fri mar copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smack org jivesoftware smack connection listener wrapper listenerwrapper org jivesoftware smack packet org jivesoftware smack sasl sasl mechanism saslmechanism challenge org jivesoftware smack sasl sasl mechanism saslmechanism failure org jivesoftware smack sasl sasl mechanism saslmechanism success org jivesoftware smack util packet parser utils packetparserutils org xml pull xmlpull mxp mx parser mxparser org xml pull xmlpull xml pull parser xmlpullparser org xml pull xmlpull xml pull parser exception xmlpullparserexception java util concurrent list ens listens xml tra ffic traffic xmpp server parses packet objects packet reader invokes packet listeners collect ors collectors connection create packet collector createpacketcollector connection add packet listener addpacketlistener author matt tucker packet reader packetreader thread reader thread readerthread executor service executorservice listener executor listenerexecutor xmpp connection xmppconnection connection xml pull parser xmlpullparser parser string connectionid packet reader packetreader xmpp connection xmppconnection connection connection connection init initializes reader order reader initialized connection rec onnecting reconnecting abruptly disconnect ion disconnection init connectionid reader thread readerthread thread parse pack ets parsepackets reader thread readerthread set name setname smack packet reader connection connection counter value connectioncountervalue reader thread readerthread set daemon setdaemon create executor deliver incoming pack ets packets listeners single thread unbounded queue listener executor listenerexecutor exec utors executors new single thread executor newsinglethreadexecutor thread factory threadfactory thread new thread newthread runnable runnable thread thread thread runnable smack listener processor connection connection counter value connectioncountervalue thread set daemon setdaemon thread reset parser resetparser starts packet reader thread returns connection server established connection att empted attempted maximum seconds xmpp exception xmppexception thrown connection fails xmpp exception xmppexception server fails send opening stream seconds startup xmpp exception xmppexception reader thread readerthread start throwing error waiting thread woken wait time notify rare waiting connectionid notify total wait time elapsed wait time waittime smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout wait wait time waittime interrupted exception interruptedexception connectionid xmpp exception xmppexception connection failed response server connection connectionid connectionid shuts packet reader shutdown notify connection listeners connection closing has n hasn connection listener connectionlistener listener connection get connection listeners getconnectionlisteners listener connection closed connectionclosed exception print stack trace printstacktrace shut listener executor listener executor listenerexecutor shutdown cleans resources packet reader cleanup connection rec v listeners recvlisteners clear connection collect ors collectors clear resets parser latest connection reader res eting reseting parser plain connection secured opening stream element server reset parser resetparser parser mx parser mxparser parser set feature setfeature xml pull parser xmlpullparser feature process names paces namespaces parser set input setinput connection reader xml pull parser exception xmlpullparserexception xppe xppe print stack trace printstacktrace parse top level pack ets packets order process param thread thread reader parse incoming pack ets packets parse pack ets parsepackets thread thread event type eventtype parser get event type geteventtype event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals message process packet processpacket packet parser utils packetparserutils parse message parsemessage parser parser get name getname equals process packet processpacket packet parser utils packetparserutils parseiq parser connection parser get name getname equals presence process packet processpacket packet parser utils packetparserutils parse presence parsepresence parser connectionid lock packet reader startup finish parser get name getname equals stream ensure correct jabber client namespace jabber client equals parser get name space getnamespace connection parser get attribute count getattributecount parser get attribute name getattributename equals save connectionid connectionid parser get attribute value getattributevalue equals parser get attribute value getattributevalue version notify stream opened server xmpp comp liant compliant not ification notification tls negotiated tls supported releaseconnectionidlock parser get attribute name getattributename equals server server connection config set service name setservicename parser get attribute value getattributevalue parser get name getname equals error xmpp exception xmppexception packet parser utils packetparserutils parse stream error parsestreamerror parser parser get name getname equals features parse features parsefeatures parser parser get name getname equals proceed secure connection negotiating tls connection proceedtlsreceived reset parser stream element server reset parser resetparser parser get name getname equals failure string namespace parser get name space getnamespace urn ietf params xml xmpp tls equals namespace tls negotiation failed server close connection exception tls negotiation failed http jabber org protocol comp ress compress equals namespace stream compression denied rec over able recoverable situation authenticate connection uncompressed connection connection stream compression denied streamcompressiondenied sasl authentication failed server close connection depending number retries failure failure packet parser utils packetparserutils parsesaslfailure parser process packet processpacket failure connection getsaslauthentication authentication failed authenticationfailed failure get condition getcondition parser get name getname equals challenge server challenging sasl authentication client string challenge data challengedata parser next text nexttext process packet processpacket challenge challenge data challengedata connection getsaslauthentication challenge received challengereceived challenge data challengedata parser get name getname equals success process packet processpacket success parser next text nexttext bind resource connection open stream wait response connection packet writer packetwriter open stream openstream reset parser stream element server reset parser resetparser sasl authentication server successful step bind resource connection getsaslauthentication authenticated parser get name getname equals comp res sed compressed server conf irmed confirmed stream compression start stream compression connection start stream compression startstreamcompression reset parser stream element server reset parser resetparser event type eventtype xml pull parser xmlpullparser tag parser get name getname equals stream disconnect connection connection disconnect event type eventtype parser event type eventtype xml pull parser xmlpullparser document thread reader thread readerthread exception connection is socket closed issocketclosed connection notify connection error notifyconnectionerror releases connection lock thread waiting resume lock released conditions met opening stream xmpp comp liant compliant server stream features received xmpp comp liant compliant server support tls tls negotiation successful releaseconnectionidlock notify processes packet fully parsed looping installed packet collect ors collectors listeners let ting letting examine packet match filter param packet packet process process packet processpacket packet packet packet loop collect ors collectors notify packet collector packetcollector collector connection get packet collectors getpacketcollectors collector process packet processpacket packet d eliver deliver incoming packet listeners listener executor listenerexecutor sub mit submit listener notification listenernotification packet parse features parsefeatures xml pull parser xmlpullparser parser exception starttlsreceived starttlsrequired event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals start tls starttls starttlsreceived parser get name getname equals mechanisms server reporting sasl mechanisms store logging auth enticating authenticating server connection getsaslauthentication setavailablesaslmethods packet parser utils packetparserutils parse mechanisms parsemechanisms parser parser get name getname equals bind server requires client bind resource stream connection getsaslauthentication binding required bindingrequired http xmpp org extensions xep html stream parser get name getname equals string node parser get attribute value getattributevalue node string ver parser get attribute value getattributevalue ver ver node string caps node capsnode node ver order avoid dependency smack smack x smackx services caps node connection entity caps manager entitycapsmanager connection set service caps node setservicecapsnode caps node capsnode parser get name getname equals session server supports sessions connection getsaslauthentication sessions supported sessionssupported parser get name getname equals compression server supports stream compression connection set available compression methods setavailablecompressionmethods packet parser utils packetparserutils parse compression methods parsecompressionmethods parser parser get name getname equals register connection get acc ount manager getaccountmanager set supports acc ount creation setsupportsaccountcreation event type eventtype xml pull parser xmlpullparser tag parser get name getname equals start tls starttls confirm server tls connection starttlsreceived starttlsrequired parser get name getname equals required starttlsreceived starttlsrequired parser get name getname equals features secure features parsed time tls established connection is secure connection issecureconnection starttlsreceived connection get configuration getconfiguration get security mode getsecuritymode connection configuration connectionconfiguration security mode securitymode required xmpp exception xmppexception server support security tls security required connection configuration xmpp error xmpperror xmpp error xmpperror condition for bidden forbidden release lock tls negotiated inst erested insterested tls starttlsreceived connection get configuration getconfiguration get security mode getsecuritymode connection configuration connectionconfiguration security mode securitymode disabled releaseconnectionidlock runnable notify listeners packet listener notification listenernotification runnable packet packet listener notification listenernotification packet packet packet packet listener wrapper listenerwrapper listener wrapper listenerwrapper connection rec v listeners recvlisteners values listener wrapper listenerwrapper notify listener notifylistener packet
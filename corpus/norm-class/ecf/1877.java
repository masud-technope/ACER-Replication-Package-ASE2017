rcs file rcsfile revision sun mar copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smack x smackx packet java buffered input stream bufferedinputstream java file java file input stream fileinputstream java io exception ioexception java lang reflect field java lang reflect modifier java net url java security message digest messagedigest java security n o such algorithm exception nosuchalgorithmexception java util hash map hashmap java util iterator java util map java util map entry org jivesoftware smack connection org jivesoftware smack packet collector packetcollector org jivesoftware smack smack configuration smackconfiguration org jivesoftware smack xmpp exception xmppexception org jivesoftware smack filter packetidfilter org jivesoftware smack packet org jivesoftware smack packet packet org jivesoftware smack packet xmpp error xmpperror org jivesoftware smack util string utils stringutils v card vcard href http jivesoftware org smack target blank smack jabber library refer href http jabber org jeps jep html target blank jep documentation not e note incomplete provide commonly v cards vcards remember v card vcard transfer standard protocol change replaced usage pre save v card vcard v card vcard v card vcard v card vcard v card vcard set first name setfirstname kir v card vcard set last name setlastname max v card vcard set email home setemailhome foo fee bar v card vcard set jabber id setjabberid jabber org v card vcard set organization setorganization jetbrains v card vcard set nick name setnickname kir v card vcard set field setfield title v card vcard set address field home setaddressfieldhome street str eet street v card vcard set address field work setaddressfieldwork ctry v card vcard set phone work setphonework fax v card vcard save connection load v card vcard v card vcard v card vcard v card vcard v card vcard load conn load v card vcard v card vcard load conn joe foo bar load v card vcard pre author kirill max imov maximov kir max kir maxkir v card vcard string mime type image jpeg phone types voice fax page r pager msg cell video bbs modem isdn pcs pref map string string home phones homephones hash map hashmap string string map string string work phones workphones hash map hashmap string string address types postal parcel dom intl pref pobox extadr street locality region pcode ctry map string string home addr homeaddr hash map hashmap string string map string string work addr workaddr hash map hashmap string string string first name firstname string last name lastname string middle name middlename string email home emailhome string email work emailwork string org anization organization string org anization unit organizationunit string photo mime type photomimetype string photo binval photobinval desc role geo jep map string string other simple fields othersimplefields hash map hashmap string string fields escaped for warding forwarding server map string string other unescapable fields otherunescapablefields hash map hashmap string string v card vcard v card vcard field param field field values nickname photo bday jabberid mailer geo title role log o logo note prodid rev sort string sound uid url desc string get field getfield string field other simple fields othersimplefields field v card vcard field param field param field field link get field getfield string get field getfield string set field setfield string field string set field setfield field unescapable v card vcard field unescabale xml param field param field field link get field getfield string param is unescapable isunescapable escaped set field setfield string field string is unescapable isunescapable is unescapable isunescapable other simple fields othersimplefields field other unescapable fields otherunescapablefields field string get first name getfirstname first name firstname set first name setfirstname string first name firstname first name firstname first name firstname update field updatefn string get last name getlastname last name lastname set last name setlastname string last name lastname last name lastname last name lastname update field updatefn string get middle name getmiddlename middle name middlename set middle name setmiddlename string middle name middlename middle name middlename middle name middlename update field updatefn string get nick name getnickname other simple fields othersimplefields nickname set nick name setnickname string nick name nickname other simple fields othersimplefields nickname nick name nickname string get email home getemailhome email home emailhome set email home setemailhome string email email home emailhome email string get email work getemailwork email work emailwork set email work setemailwork string email work emailwork email work emailwork email work emailwork string get jabber id getjabberid other simple fields othersimplefields jabberid set jabber id setjabberid string jabber id jabberid other simple fields othersimplefields jabberid jabber id jabberid string get organization getorganization org anization organization set organization setorganization string org anization organization org anization organization org anization organization string get organization unit getorganizationunit org anization unit organizationunit set organization unit setorganizationunit string org anization unit organizationunit org anization unit organizationunit org anization unit organizationunit add ress address field param add r field addrfield postal parcel dom intl pref pobox extadr street locality region pcode ctry string get address field home getaddressfieldhome string add r field addrfield home addr homeaddr add r field addrfield add ress address field param add r field addrfield postal parcel dom intl pref pobox extadr street locality region pcode ctry set address field home setaddressfieldhome string add r field addrfield string home addr homeaddr add r field addrfield work add ress address field param add r field addrfield postal parcel dom intl pref pobox extadr street locality region pcode ctry string get address field work getaddressfieldwork string add r field addrfield work addr workaddr add r field addrfield work add ress address field param add r field addrfield postal parcel dom intl pref pobox extadr street locality region pcode ctry set address field work setaddressfieldwork string add r field addrfield string work addr workaddr add r field addrfield phone number param phone type phonetype voice fax page r pager msg cell video bbs modem isdn pcs pref param phone num phonenum phone number set phone home setphonehome string phone type phonetype string phone num phonenum home phones homephones phone type phonetype phone num phonenum phone number param phone type phonetype voice fax page r pager msg cell video bbs modem isdn pcs pref string get phone home getphonehome string phone type phonetype home phones homephones phone type phonetype work phone number param phone type phonetype voice fax page r pager msg cell video bbs modem isdn pcs pref param phone num phonenum phone number set phone work setphonework string phone type phonetype string phone num phonenum work phones workphones phone type phonetype phone num phonenum work phone number param phone type phonetype voice fax page r pager msg cell video bbs modem isdn pcs pref string get phone work getphonework string phone type phonetype work phones workphones phone type phonetype avatar v card vcard url image param avatarurl url image png jpeg gif bmp set avatar setavatar url avatarurl bytes bytes get bytes getbytes avatarurl io exception ioexception print stack trace printstacktrace set avatar setavatar bytes removes avatar v card vcard setting photo empty string defined xep remove avatar removeavatar remove avatar photo binval photobinval photo mime type photomimetype bytes jpeg avatar bytes avatar removed image jpeg mime type param bytes bytes avatar remove avatar data set avatar setavatar bytes set avatar setavatar bytes mime type bytes avatar mime type param bytes bytes avatar param mime type mimetype mime type avatar set avatar setavatar bytes string mime type mimetype bytes remove avatar bytes remove avatar removeavatar add mappings string encoded image encodedimage string utils stringutils encode base encodebase bytes set avatar setavatar encoded image encodedimage mime type mimetype avatar v card vcard param encoded image encodedimage base encoded image string param mime type mimetype mime type image set avatar setavatar string encoded image encodedimage string mime type mimetype photo binval photobinval encoded image encodedimage photo mime type photomimetype mime type mimetype encoded avatar string provider param encoded avatar encodedavatar encoded avatar string deprecated link set avatar setavatar string string set encoded image setencodedimage string encoded avatar encodedavatar set avatar setavatar encoded avatar encodedavatar mime type representation avatar exists returns avatar pre load avatar v card vcard avatar bytes avatarbytes v card vcard get avatar getavatar create image icon imageicon swing applications image icon imageicon icon image icon imageicon avatar create image object bytes byte array input stream bytearrayinputstream bais byte array input stream bytearrayinputstream avatar image image imageio read bais io exception ioexception print stack trace printstacktrace pre representation avatar get avatar getavatar photo binval photobinval string utils stringutils decode base decodebase photo binval photobinval returns mime type avatar mime type avatar string get avatar mime type getavatarmimetype photo mime type photomimetype common code bytes url param url url read get bytes getbytes url url io exception ioexception string path url get path getpath file file file path file exists get file bytes getfilebytes file get file bytes getfilebytes file file io exception ioexception buffered input stream bufferedinputstream bis bis buffered input stream bufferedinputstream file input stream fileinputstream file bytes file length buffer bytes read bytes readbytes bis read buffer read bytes readbytes buffer length io exception ioexception entire file read buffer bis bis close returns sha hash avatar image sha hash avatar image string get avatar hash getavatarhash bytes get avatar getavatar bytes message digest messagedigest digest digest message digest messagedigest get instance getinstance sha n o such algorithm exception nosuchalgorithmexception print stack trace printstacktrace digest update bytes string utils stringutils encode hex encodehex digest digest updatefn string builder stringbuilder string builder stringbuilder first name firstname append string utils stringutils escapeforxml first name firstname append middle name middlename append string utils stringutils escapeforxml middle name middlename append last name lastname append string utils stringutils escapeforxml last name lastname set field setfield to string tostring save v card vcard user connected connection connection authenticated anonymous note method asynchronous wait returned param connection connection xmpp exception xmppexception thrown issue setting v card vcard server save connection connection xmpp exception xmppexception check authenticated checkauthenticated connection set type settype type set from setfrom connection get user getuser packet collector packetcollector collector connection create packet collector createpacketcollector packetidfilter get packet d getpacketid connection send packet sendpacket packet response collector next result nextresult smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout cancel collector collector cancel response xmpp exception xmppexception response server status response get error geterror xmpp exception xmppexception response get error geterror load v card vcard connected user connection authenticated anonymous load connection connection xmpp exception xmppexception check authenticated checkauthenticated connection set from setfrom connection get user getuser do load doload connection connection get user getuser load v card vcard user connection authenticated anonymous load connection connection string user xmpp exception xmppexception check authenticated checkauthenticated connection set to setto user do load doload connection user do load doload connection connection string user xmpp exception xmppexception set type settype type packet collector packetcollector collector connection create packet collector createpacketcollector packetidfilter get packet d getpacketid connection send packet sendpacket v card vcard result result v card vcard collector next result nextresult smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout result string error message errormessage timeout v card vcard xmpp exception xmppexception error message errormessage xmpp error xmpperror xmpp error xmpperror condition request timeout error message errormessage result get error geterror xmpp exception xmppexception result get error geterror class cast exception classcastexception system println v card vcard user copy fields from copyfieldsfrom result string get child element l getchildelementxml string builder stringbuilder string builder stringbuilder v card writer vcardwriter write to string tostring copy fields from copyfieldsfrom v card vcard field fields v card vcard get declared fields getdeclaredfields field field fields field get declaring class getdeclaringclass v card vcard modifier is final isfinal field get modifiers getmodifiers field set accessible setaccessible field field illegal access exception illegalaccessexception runtime exception runtimeexception happen field check authenticated checkauthenticated connection connection check for anonymous checkforanonymous connection illegal argument exception illegalargumentexception connection connection is authenticated isauthenticated illegal argument exception illegalargumentexception connection authenticated check for anonymous checkforanonymous connection is anonymous isanonymous illegal argument exception illegalargumentexception connection anonymous has content hascontent noinspection overly complex boolean expression overlycomplexbooleanexpression has name field hasnamefield has organization fields hasorganizationfields email home emailhome email work emailwork other simple fields othersimplefields size other unescapable fields otherunescapablefields size home addr homeaddr size home phones homephones size work addr workaddr size work phones workphones size photo binval photobinval has name field hasnamefield first name firstname last name lastname middle name middlename has organization fields hasorganizationfields org anization organization org anization unit organizationunit tests equals object get class getclass get class getclass v card vcard v card vcard v card vcard email home emailhome email home emailhome equals v card vcard email home emailhome v card vcard email home emailhome email work emailwork email work emailwork equals v card vcard email work emailwork v card vcard email work emailwork first name firstname first name firstname equals v card vcard first name firstname v card vcard first name firstname home addr homeaddr equals v card vcard home addr homeaddr home phones homephones equals v card vcard home phones homephones last name lastname last name lastname equals v card vcard last name lastname v card vcard last name lastname middle name middlename middle name middlename equals v card vcard middle name middlename v card vcard middle name middlename org anization organization org anization organization equals v card vcard org anization organization v card vcard org anization organization org anization unit organizationunit org anization unit organizationunit equals v card vcard org anization unit organizationunit v card vcard org anization unit organizationunit other simple fields othersimplefields equals v card vcard other simple fields othersimplefields work addr workaddr equals v card vcard work addr workaddr photo binval photobinval photo binval photobinval equals v card vcard photo binval photobinval v card vcard photo binval photobinval work phones workphones equals v card vcard work phones workphones hash code hashcode result result home phones homephones hash code hashcode result result work phones workphones hash code hashcode result result home addr homeaddr hash code hashcode result result work addr workaddr hash code hashcode result result first name firstname first name firstname hash code hashcode result result last name lastname last name lastname hash code hashcode result result middle name middlename middle name middlename hash code hashcode result result email home emailhome email home emailhome hash code hashcode result result email work emailwork email work emailwork hash code hashcode result result org anization organization org anization organization hash code hashcode result result org anization unit organizationunit org anization unit organizationunit hash code hashcode result result other simple fields othersimplefields hash code hashcode result result photo binval photobinval photo binval photobinval hash code hashcode result string to string tostring get child element l getchildelementxml v card writer vcardwriter string builder stringbuilder v card writer vcardwriter string builder stringbuilder write append tag appendtag v card vcard xml ns xmlns v card vcard temp has content hascontent content builder contentbuilder add tag content addtagcontent build actual content buildactualcontent build actual content buildactualcontent has name field hasnamefield append n appendn append organization appendorganization append generic fields appendgenericfields append p hot o appendphoto append email appendemail email work emailwork work append email appendemail email home emailhome append phones appendphones work phones workphones work append phones appendphones home phones homephones append address appendaddress work addr workaddr work append address appendaddress home addr homeaddr append p hot o appendphoto photo binval photobinval append tag appendtag photo content builder contentbuilder add tag content addtagcontent escape photo binval photobinval base encoded append tag appendtag bin val binval photo binval photobinval append tag appendtag type string utils stringutils escapeforxml photo mime type photomimetype append email appendemail string email string type email append tag appendtag email content builder contentbuilder add tag content addtagcontent append empty tag appendemptytag type append empty tag appendemptytag int ernet internet append empty tag appendemptytag pref append tag appendtag user id userid string utils stringutils escapeforxml email append phones appendphones map string string phones string code iterator map entry string string phones entry set entryset iterator has next hasnext map entry string string entry append tag appendtag tel content builder contentbuilder add tag content addtagcontent append empty tag appendemptytag entry get key getkey append empty tag appendemptytag code append tag appendtag number string utils stringutils escapeforxml entry get value getvalue append address appendaddress map string string add r addr string code add r addr size append tag appendtag adr content builder contentbuilder add tag content addtagcontent append empty tag appendemptytag code iterator map entry string string add r addr entry set entryset iterator has next hasnext entry string string entry append tag appendtag entry get key getkey string utils stringutils escapeforxml entry get value getvalue append empty tag appendemptytag object tag append append tag append append generic fields appendgenericfields iterator map entry string string other simple fields othersimplefields entry set entryset iterator has next hasnext map entry string string entry append tag appendtag entry get key getkey to string tostring string utils stringutils escapeforxml entry get value getvalue other unescapable fields otherunescapablefields entry set entryset iterator has next hasnext map entry string string entry append tag appendtag entry get key getkey to string tostring entry get value getvalue append organization appendorganization has organization fields hasorganizationfields append tag appendtag org content builder contentbuilder add tag content addtagcontent append tag appendtag org name orgname string utils stringutils escapeforxml org anization organization append tag appendtag org unit orgunit string utils stringutils escapeforxml org anization unit organizationunit append n appendn append tag appendtag content builder contentbuilder add tag content addtagcontent append tag appendtag family string utils stringutils escapeforxml last name lastname append tag appendtag string utils stringutils escapeforxml first name firstname append tag appendtag middle string utils stringutils escapeforxml middle name middlename append tag appendtag string tag string attr string attr value attrvalue has content hascontent content builder contentbuilder builder append append tag attr append append attr append append append attr value attrvalue append has content hascontent append builder add tag content addtagcontent append append tag append append append tag appendtag string tag has content hascontent content builder contentbuilder builder append tag appendtag tag has content hascontent builder append tag appendtag string tag string tag text tagtext tag text tagtext content builder contentbuilder content builder contentbuilder content builder contentbuilder add tag content addtagcontent append tag text tagtext trim append tag appendtag tag content builder contentbuilder content builder contentbuilder add tag content addtagcontent
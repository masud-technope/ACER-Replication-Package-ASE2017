copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf server java io exception ioexception java input stream inputstream java net inet address inetaddress java net uri java util org eclipse core runtime org eclipse ecf core container type description containertypedescription org eclipse ecf core i container manager icontainermanager org eclipse ecf core identity org eclipse ecf core shared object sharedobject i shared object container isharedobjectcontainer org eclipse ecf discovery org eclipse ecf discovery identity i service type d iservicetypeid org eclipse ecf discovery identity serviceidfactory org eclipse ecf internal server activator org eclipse ecf provider org eclipse ecf server app server manager servermanager nls string ecf name space namespace jmdns ecf namespace jmdns nls string group property group nls string pwrequired property pwrequired nls string protocol property protocol nls string service type ecf generic ecfgeneric tcp server container group tcpserversocontainergroup server groups servergroups map servers hash map hashmap nls string extension point configuration string extension point nls activator plugin extension point nls string configuration element configuration nls string connector element connector string group element group property nls string hostname attr host name hostname nls string port attr port nls string keepalive attr keep alive keepalive nls string attr nls string discovery attr discovery server manager servermanager i extension registry iextensionregistry reg activator get default getdefault get extension registry getextensionregistry reg reg get extension point getextensionpoint extension point create servers from extension registry createserversfromextensionregistry reg create servers from configuration file createserversfromconfigurationfile nls activator get default getdefault get bundle getbundle get entry getentry server xml open stream openstream exception activator log exception creating servers i shared object container isharedobjectcontainer get server getserver i shared object container isharedobjectcontainer servers create servers from extension registry createserversfromextensionregistry i extension registry iextensionregistry registry exception i extension point iextensionpoint extension point extensionpoint registry get extension point getextensionpoint extension point extension point extensionpoint i configuration element iconfigurationelement elements extension point extensionpoint get configuration elements getconfigurationelements list connectors array list arraylist elements length i configuration element iconfigurationelement element elements string port string portstring element get attribute getattribute port attr port tcpserversocontainer port port string portstring port integer parse int parseint port string portstring keep alive keepalive tcpserversocontainer keepalive string keep alive string keepalivestring element get attribute getattribute keepalive attr keep alive string keepalivestring keep alive keepalive integer parse int parseint keep alive string keepalivestring discovery string discovery string discoverystring element get attribute getattribute discovery attr discovery string discoverystring discovery value of valueof discovery string discoverystring boolean value booleanvalue connector connector connector element get attribute getattribute hostname attr port keep alive keepalive discovery i configuration element iconfigurationelement group elements groupelements element get children getchildren group element group elements groupelements length string group name groupname group elements groupelements get attribute getattribute attr group name groupname connector add group addgroup name d group namedgroup group name groupname connectors add connector create servers from connector list createserversfromconnectorlist connectors is active isactive servers size close servers closeservers iterator servers key set keyset iterator has next hasnext serverid tcpserversocontainer server tcpserversocontainer servers serverid server server dispose exception activator log exception disposing serverid serverid servers clear server groups servergroups server groups servergroups length server groups servergroups take off the air takeofftheair server groups servergroups create servers from connector list createserversfromconnectorlist list connectors id create exception idcreateexception io exception ioexception server groups servergroups tcp server container group tcpserversocontainergroup connectors size iterator connectors iterator has next hasnext connector connect connector server groups servergroups create server group createservergroup connect list groups connect get groups getgroups iterator groups iterator has next hasnext name d group namedgroup group name d group namedgroup tcpserversocontainer cont create server container createservercontainer group getidforgroup server groups servergroups group get name getname connect get timeout gettimeout connect should register for discovery shouldregisterfordiscovery register server for discovery registerserverfordiscovery group servers cont getid cont string msg starting server nls cont getid get name getname system println msg activator log msg server groups servergroups put on the air putontheair create servers from configuration file createserversfromconfigurationfile input stream inputstream ins exception server config parser serverconfigparser scp server config parser serverconfigparser list connectors scp load ins connectors create servers from connector list createserversfromconnectorlist connectors tcp server container group tcpserversocontainergroup create server group createservergroup connector connector tcp server container group tcpserversocontainergroup group tcp server container group tcpserversocontainergroup connector get host name gethostname connector get port getport group tcpserversocontainer create server container createservercontainer string tcp server container group tcpserversocontainergroup group string path keep alive keepalive id create exception idcreateexception new server d newserverid id factory idfactory get default getdefault create string d createstringid tcpserversocontainer container tcpserversocontainer so container config socontainerconfig new server d newserverid group path keep alive keepalive i container manager icontainermanager container manager containermanager activator get default getdefault get container manager getcontainermanager container manager containermanager nls container type description containertypedescription ctd container manager containermanager get container factory getcontainerfactory get description by name getdescriptionbyname ecf server container manager containermanager add container addcontainer container ctd container register server for discovery registerserverfordiscovery name d group namedgroup group pwrequired i discovery advertiser idiscoveryadvertiser discovery activator get default getdefault get discovery getdiscovery discovery string raw group name rawgroupname group get raw name getrawname connector connector group get connector getconnector properties props properties props protocol property tcpserversocontainer protocol props pwrequired property pwrequired to string tostring props group property raw group name rawgroupname name space namespace id factory idfactory get default getdefault get name space by name getnamespacebyname ecf name space namespace jmdns i service type d iservicetypeid service type d servicetypeid serviceidfactory get default getdefault create service type d createservicetypeid string service type i service type d iservicetypeid proto inet address inetaddress host inet address inetaddress get by name getbyname connector get host name gethostname uri uri uri tcpserversocontainer protocol host get host address gethostaddress connector get port getport service info serviceinfo svc info svcinfo service info serviceinfo uri raw group name rawgroupname service type d servicetypeid service properties serviceproperties props discovery register service registerservice svc info svcinfo exception activator log discovery registration exception
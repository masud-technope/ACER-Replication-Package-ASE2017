revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx work group workgroup ext history org jivesoftware smack packet org jivesoftware smack provider iq provider iqprovider org xml pull xmlpull xml pull parser xmlpullparser java util array list arraylist java util collection java util java util list provider retrieve individual agent chat session mapped jids ret rievable retrievable agent chat history agentchathistory string agentjid max sessions maxsessions start date startdate list agent chat session agentchatsession agent chat sessions agentchatsessions array list arraylist agent chat session agentchatsession agent chat history agentchathistory string agentjid max sessions maxsessions start date startdate agentjid agentjid max sessions maxsessions max sessions maxsessions start date startdate start date startdate get time gettime agent chat history agentchathistory string agentjid max sessions maxsessions agentjid agentjid max sessions maxsessions max sessions maxsessions start date startdate agent chat history agentchathistory add chat session addchatsession agent chat session agentchatsession chat session chatsession agent chat sessions agentchatsessions add chat session chatsession collection agent chat session agentchatsession get agent chat sessions getagentchatsessions agent chat sessions agentchatsessions element packet extension string element chat sessions name space namespace packet extension string name space namespace http jivesoftware protocol work group workgroup string get child element l getchildelementxml string builder stringbuilder buf string builder stringbuilder buf append append element append xml ns xmlns buf append buf append name space namespace buf append buf append agentjid agentjid buf append max sessions maxsessions max sessions maxsessions buf append start date startdate start date startdate buf append append element append buf to string tostring packet extension provider agent history agenthistory pack ets packets internal provider internalprovider iq provider iqprovider parseiq xml pull parser xmlpullparser parser exception parser get event type geteventtype xml pull parser xmlpullparser start tag illegal state exception illegalstateexception parser proper position bad xml agent chat history agentchathistory agent chat history agentchathistory agent chat history agentchathistory event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag chat session equals parser get name getname agent chat history agentchathistory add chat session addchatsession parse chat setting parsechatsetting parser event type eventtype xml pull parser xmlpullparser tag element equals parser get name getname agent chat history agentchathistory agent chat session agentchatsession parse chat setting parsechatsetting xml pull parser xmlpullparser parser exception duration string visit ors name visitorsname string visit ors email visitorsemail string sessionid string question event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag equals parser get name getname string date str datestr parser next text nexttext value of valueof date str datestr long value longvalue event type eventtype xml pull parser xmlpullparser start tag duration equals parser get name getname duration value of valueof parser next text nexttext long value longvalue event type eventtype xml pull parser xmlpullparser start tag visit ors name visitorsname equals parser get name getname visit ors name visitorsname parser next text nexttext event type eventtype xml pull parser xmlpullparser start tag visit ors email visitorsemail equals parser get name getname visit ors email visitorsemail parser next text nexttext event type eventtype xml pull parser xmlpullparser start tag sessionid equals parser get name getname sessionid parser next text nexttext event type eventtype xml pull parser xmlpullparser start tag question equals parser get name getname question parser next text nexttext event type eventtype xml pull parser xmlpullparser tag chat session equals parser get name getname agent chat session agentchatsession duration visit ors name visitorsname visit ors email visitorsemail sessionid question
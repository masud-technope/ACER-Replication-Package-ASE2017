copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx search org jivesoftware smack packet org jivesoftware smackx form org jivesoftware smackx form field formfield org jivesoftware smackx reported data reporteddata org xml pull xmlpull xml pull parser xmlpullparser java util array list arraylist java util iterator java util list simple user search simpleusersearch support data form dataform type jep mechanism allowing type reported data reporteddata returned search result form data returned server author derek de mor o demoro simple user search simpleusersearch form form reported data reporteddata data set form setform form form form form reported data reporteddata get reported data getreporteddata data string get child element l getchildelementxml string builder stringbuilder buf string builder stringbuilder buf append query xml ns xmlns jabber search buf append get items to search getitemstosearch buf append query buf to string tostring string get items to search getitemstosearch string builder stringbuilder buf string builder stringbuilder form form form get form from getformfrom form iterator form field formfield fields form get fields getfields fields has next hasnext form field formfield field fields string field get variable getvariable string get single value getsinglevalue field trim length buf append append append append append append append buf to string tostring string get single value getsinglevalue form field formfield form field formfield iterator string values form field formfield get values getvalues values has next hasnext values parse items parseitems xml pull parser xmlpullparser parser exception reported data reporteddata data reported data reporteddata data add column addcolumn reported data reporteddata column jid jid text single list reported data reporteddata field fields array list arraylist reported data reporteddata field parser get attribute count getattributecount string jid parser get attribute value getattributevalue jid list string value list valuelist array list arraylist string value list valuelist add jid reported data reporteddata field field reported data reporteddata field jid value list valuelist fields add field event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals item fields array list arraylist reported data reporteddata field event type eventtype xml pull parser xmlpullparser tag parser get name getname equals item reported data reporteddata row row reported data reporteddata row fields data add row addrow row event type eventtype xml pull parser xmlpullparser start tag string parser get name getname string parser next text nexttext list string value list valuelist array list arraylist string value list valuelist add reported data reporteddata field field reported data reporteddata field value list valuelist fields add field exists iterator reported data reporteddata column cols data get columns getcolumns cols has next hasnext reported data reporteddata column column cols column get variable getvariable equals exists column exists reported data reporteddata column column reported data reporteddata column text single data add column addcolumn column event type eventtype xml pull parser xmlpullparser tag parser get name getname equals query data data
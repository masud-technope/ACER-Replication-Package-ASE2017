copyright jan rellermeyer systems group ins titute institute per vasive pervasive comp uting computing eth zurich rights reserved redistribution source binary forms modification permitted conditions met redistributions source code retain copyright not ice notice list conditions disclaimer redistributions binary form reproduce copyright not ice notice list conditions disclaimer documentation materials distribution eth zurich names contributors end orse endorse promote products derived software specific prior written permission software copyright holders contributors express implied warranties including limited implied warranties merchantability fitness purpose disclaimed event copyright owner contributors liable dir ect direct indirect incidental special exemplary consequential damages including limited procurement substitute goods services loss data profits business interruption caused theory liability contract strict liability tort including negligence arising software advised possibility damage ethz iks osgi impl java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java io exception ioexception java input stream inputstream java util array list arraylist java util arrays java util hash set hashset java util list java util map java util java util jar attributes java util jar jar entry jarentry java util jar jar output stream jaroutputstream java util jar manifest java util zip crc org objectweb asm annotation visitor annotationvisitor org objectweb asm attribute org objectweb asm class reader classreader org objectweb asm class visitor classvisitor org objectweb asm class writer classwriter org objectweb asm field visitor fieldvisitor org objectweb asm label org objectweb asm method visitor methodvisitor org objectweb asm opcodes org objectweb asm type org osgi service log log service logservice ethz iks osgi remoteosgiservice ethz iks osgi remoting ethz iks osgi uri ethz iks osgi channels channel endpoint channelendpoint ethz iks osgi messages deliver service message deliverservicemessage ethz iks osgi types serviceuicomponent byte code bytecode manipulation magic build proxy bundles interfaces smart proxy classes author jan rellermeyer eth zurich proxy generator proxygenerator class visitor classvisitor opcodes sourceid string sourceid string service interface names serviceinterfacenames implemented string impl name implname service uri string uri asm writer class writer classwriter writer list injections map injections determine method implemented implemented list interfaces describing hierarchy service list super interfaces superinterfaces array list arraylist visited interfaces avoid loops visited interfaces visitedinterfaces hash set hashset smart proxy string smart proxy class name smartproxyclassname smart proxy dashed notation string smart proxy class name dashed smartproxyclassnamedashed add lifecycle support smart proxy smart proxy ethz iks osgi smart proxy smartproxy add lifecycle support addlifecyclesupport constants iconst iconst iconst iconst iconst iconst iconst boxed types string boxed type nls nls error nls nls java lang nls nls nls java lang character nls nls nls java lang nls nls nls java lang nls nls nls java lang integer nls nls nls java lang nls nls nls java lang nls java lang unbox methods string unbox method nls nls error nls nls boolean value booleanvalue nls nls nls nls nls char value charvalue nls nls nls nls nls byte value bytevalue nls nls nls nls nls short value shortvalue nls nls nls nls nls int value intvalue nls nls nls nls nls float value floatvalue long value longvalue nls nls double value doublevalue character table gen erating generating signature add ress address table remoting string remoting remoting get name getname replace channel endpoint string endpoint channel endpoint channelendpoint get name getname replace serviceuicomponent string uicomp serviceuicomponent get name getname replace constructor proxy generator proxygenerator opcodes asm param service serviceurl param deliv deliver service message deliverservicemessage bundle location io exception ioexception proxy generation error input stream inputstream generate proxy bundle generateproxybundle uri service deliver service message deliverservicemessage deliv io exception ioexception uri service to string tostring sourceid generate source d generatesourceid uri implemented hash set hashset injections deliv get inject ions getinjections bytes deliv get smart proxy name getsmartproxyname generate proxy class generateproxyclass deliv get interface names getinterfacenames deliv get interface class getinterfaceclass generate proxy class generateproxyclass deliv get interface names getinterfacenames deliv get interface class getinterfaceclass deliv get smart proxy name getsmartproxyname deliv get proxy class getproxyclass string class name classname impl name implname replace jar entry jarentry jar entry jarentry generate jar manifest manifest attributes attr get main attributes getmainattributes nls nls attr put value putvalue manifest version nls nls attr put value putvalue created os gi osgi proxy generator nls attr put value putvalue bundle activator class name classname nls nls attr put value putvalue bundle classpath attr put value putvalue bundle symbolic name symbolicname nls nls os gi osgi proxy bundle generated endpoint uri to string tostring attr put value putvalue org osgi framework ethz iks osgi ethz iks osgi types ethz iks osgi channels nls nls nls equals deliv get optional imports getoptionalimports nls nls nls deliv get optional imports getoptionalimports nls nls nls equals deliv get imports getimports deliv get imports getimports nls equals deliv get exports getexports nls attr put value putvalue export deliv get exports getexports byte array output stream bytearrayoutputstream bout byte array output stream bytearrayoutputstream jar output stream jaroutputstream jar output stream jaroutputstream bout crc crc crc crc update bytes bytes length nls jar entry jarentry jar entry jarentry impl name implname jar entry jarentry set size setsize bytes length jar entry jarentry set crc setcrc crc get value getvalue put next entry putnextentry jar entry jarentry write bytes bytes length flush close entry closeentry string injection names injectionnames string injections key set keyset to array toarray string injections size write injections injection names injectionnames length string injection names injectionnames original smart proxy nls equals smart proxy class name dashed smartproxyclassnamedashed data injections rewritten point generated proxy smart proxy class name dashed smartproxyclassnamedashed starts with startswith smart proxy class name dashed smartproxyclassnamedashed string substring smart proxy class name dashed smartproxyclassnamedashed length impl name implname class reader classreader rewriter reader rewriterreader class reader classreader data class writer classwriter rewriter writer rewriterwriter class writer classwriter rewriter reader rewriterreader accept class rewriter classrewriter rewriter writer rewriterwriter class reader classreader skip debug rewritten rewriter writer rewriterwriter to byte array tobytearray rewritten data crc crc crc update rewritten rewritten length jar entry jarentry jar entry jarentry jar entry jarentry set size setsize rewritten length jar entry jarentry set crc setcrc crc get value getvalue put next entry putnextentry jar entry jarentry write rewritten rewritten length flush close entry closeentry flush finish close remote gi service impl remoteosgiserviceimpl proxy debug file file remoteosgiactivator context get data file getdatafile file name filename sourceid jar remote gi service impl remoteosgiserviceimpl log log log service logservice log debug created proxy bundle file byte array input stream bytearrayinputstream bout to byte array tobytearray param interface name interfacename param interface class interfaceclass bytes generated proxy io exception ioexception generation error generate proxy class generateproxyclass string interface names interfacenames interface class interfaceclass io exception ioexception service interface names serviceinterfacenames interface names interfacenames impl name implname nls nls proxy sourceid nls interface names interfacenames replace nls impl class reader classreader reader class reader classreader interface class interfaceclass writer class writer classwriter class writer classwriter compute frames reader accept class reader classreader skip debug visited interfaces visitedinterfaces add interface names interfacenames replace recurse interface hierarchy recurseinterfacehierarchy service interface names serviceinterfacenames bytes writer to byte array tobytearray bytes param interface names interfacenames names param interface class interfaceclass param proxy name proxyname smart proxy param proxy class proxyclass smart proxy bytes proxy io exception ioexception generation error generate proxy class generateproxyclass string interface names interfacenames interface class interfaceclass string proxy name proxyname proxy class proxyclass io exception ioexception service interface names serviceinterfacenames interface names interfacenames impl name implname nls nls proxy sourceid proxy name proxyname replace nls impl smart proxy class name smartproxyclassname proxy name proxyname smart proxy class name dashed smartproxyclassnamedashed smart proxy class name smartproxyclassname replace class reader classreader reader class reader classreader proxy class proxyclass writer class writer classwriter class writer classwriter compute frames reader accept class reader classreader skip debug visited interfaces visitedinterfaces add smart proxy class name dashed smartproxyclassnamedashed recurse interface hierarchy recurseinterfacehierarchy service interface names serviceinterfacenames bytes writer to byte array tobytearray bytes recurse interface hierarchy recurseinterfacehierarchy io exception ioexception recurse inheritance tree super interfaces superinterfaces is empty isempty string super iface superiface string super interfaces superinterfaces remove visited interfaces visitedinterfaces super iface superiface bytes injections super iface superiface nls class reader classreader reader bytes clazz for name forname super iface superiface replace class loader classloader class loader classloader clazz get class loader getclassloader class loader classloader classes loaded bootstrap classes java serializable classes jre https bugs eclipse org class loader classloader get class getclass get class loader getclassloader reader class reader classreader class loader classloader get resource as stream getresourceasstream super iface superiface nls io exception ioexception ioe io exception ioexception processing super iface superiface replace ioe get message getmessage reader class reader classreader bytes visited interfaces visitedinterfaces add super iface superiface reader accept class not found exception classnotfoundexception print stack trace printstacktrace param version version param access access param param signature signature param super name supername super name supername param interfaces interfaces org objectweb asm class visitor classvisitor visit java lang string java lang string java lang string java lang string visit version access string string signature string super name supername string interfaces method visitor methodvisitor method field visitor fieldvisitor field initial equals smart proxy class name dashed smartproxyclassnamedashed smart proxy class name smartproxyclassname equals service interface names serviceinterfacenames replace remote gi service impl remoteosgiserviceimpl proxy debug remote gi service impl remoteosgiserviceimpl log log log service logservice log debug nls creating proxy nls impl name implname string service interfaces serviceinterfaces string service interface names serviceinterfacenames length service interface names serviceinterfacenames length service interfaces serviceinterfaces service interface names serviceinterfacenames replace nls service interfaces serviceinterfaces service interface names serviceinterfacenames length org osgi framework bundle activator bundleactivator access acc smart proxy ifaces hash set hashset ifaces add all addall arrays as list aslist interfaces nls ifaces add nls org osgi framework bundle activator bundleactivator ifaces add all addall arrays as list aslist service interfaces serviceinterfaces writer visit version remote gi service impl remoteosgiserviceimpl java acc acc impl name implname super name supername string ifaces to array toarray string ifaces size java util arrays as list aslist interfaces ethz iks osgi smart proxy smartproxy add lifecycle support addlifecyclesupport writer visit version remote gi service impl remoteosgiserviceimpl java acc acc impl name implname nls java lang object nls service interfaces serviceinterfaces remote gi service impl remoteosgiserviceimpl proxy debug remote gi service impl remoteosgiserviceimpl log log log service logservice log debug creating proxy bundle interfaces arrays as list aslist service interface names serviceinterfacenames creates method writer methodwriter implicit constructor method nls nls writer visit method visitmethod nls nls acc nls nls init nls nls nls nls method visit var insn visitvarinsn aload method visit method insn visitmethodinsn invokespecial java lang object init nls nls method visit insn visitinsn method visit maxs visitmaxs method visit end visitend add remaining interfaces list visited service interface names serviceinterfacenames length visited interfaces visitedinterfaces service interface names serviceinterfacenames super interfaces superinterfaces add service interface names serviceinterfacenames replace field writer visit field visitfield acc endpoint nls nls endpoint nls nls nls field visit end visitend method nls writer visit method visitmethod nls acc nls start lorg osgi framework bundle context bundlecontext string java lang exception method visit code visitcode method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload method visit ldc insn visitldcinsn remoting get name getname method visit method insn visitmethodinsn invokeinterface org osgi framework bundle context bundlecontext nls get service reference getservicereference ljava lang string lorg osgi framework service reference servicereference method visit method insn visitmethodinsn invokeinterface org osgi framework bundle context bundlecontext nls get service getservice lorg osgi framework service reference servicereference ljava lang object method visit type insn visittypeinsn checkcast remoting method visit var insn visitvarinsn ast ore astore method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload method visit ldc insn visitldcinsn uri method visit method insn visitmethodinsn invokeinterface remoting get endpoint getendpoint nls nls ljava lang string endpoint nls nls nls method visit field insn visitfieldinsn nls nls putfield nls nls impl name implname nls nls endpoint nls endpoint method visit var insn visitvarinsn aload nls nls method visit field insn visitfieldinsn nls nls getfield nls nls impl name implname nls nls endpoint nls endpoint method visit ldc insn visitldcinsn uri method visit var insn visitvarinsn aload len service interface names serviceinterfacenames length len method visit insn visitinsn iconst service interface names serviceinterfacenames length method visit int insn visitintinsn bipush len nls method visit type insn visittypeinsn nls anewarray nls java lang string len method visit insn visitinsn dup method visit insn visitinsn iconst method visit ldc insn visitldcinsn service interface names serviceinterfacenames method visit insn visitinsn aastore len method visit insn visitinsn dup method visit int insn visitintinsn bipush method visit ldc insn visitldcinsn service interface names serviceinterfacenames method visit insn visitinsn aastore method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload nls nls method visit field insn visitfieldinsn nls nls getfield nls nls impl name implname nls nls endpoint nls endpoint method visit ldc insn visitldcinsn uri method visit method insn visitmethodinsn invokeinterface endpoint nls get properties getproperties ljava lang string ljava util dictionary method visit method insn visitmethodinsn invokeinterface org osgi framework bundle context bundlecontext nls register service registerservice ljava lang string ljava lang object ljava util dictionary lorg osgi framework service registration serviceregistration method visit method insn visitmethodinsn invokeinterface endpoint nls track registration trackregistration ljava lang string lorg osgi framework service registration serviceregistration method visit var insn visitvarinsn aload nls nls method visit field insn visitfieldinsn nls nls getfield nls nls impl name implname nls nls endpoint nls endpoint method visit ldc insn visitldcinsn uri method visit method insn visitmethodinsn invokeinterface endpoint nls get properties getproperties ljava lang string ljava util dictionary method visit ldc insn visitldcinsn remoteosgiservice presentation method visit method insn visitmethodinsn invokevirtual java util dictionary nls nls ljava lang object ljava lang object nls method visit type insn visittypeinsn nls checkcast nls java lang string method visit var insn visitvarinsn ast ore astore method visit var insn visitvarinsn aload label label method visit jump insn visitjumpinsn ifnull method visit var insn visitvarinsn aload method visit method insn visitmethodinsn invoke static invokestatic java lang for name forname nls nls ljava lang string ljava lang method visit method insn visitmethodinsn invokevirtual java lang new instance newinstance nls nls ljava lang object method visit type insn visittypeinsn checkcast uicomp method visit var insn visitvarinsn ast ore astore method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload method visit method insn visitmethodinsn invokeinterface uicomp nls init component initcomponent ljava lang object lorg osgi framework bundle context bundlecontext method visit var insn visitvarinsn aload method visit ldc insn visitldcinsn serviceuicomponent get name getname method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload nls nls method visit field insn visitfieldinsn nls nls getfield nls nls impl name implname nls nls endpoint nls endpoint method visit ldc insn visitldcinsn uri method visit method insn visitmethodinsn invokeinterface endpoint get presentation properties getpresentationproperties ljava lang string ljava util dictionary method visit method insn visitmethodinsn invokeinterface org osgi framework bundle context bundlecontext nls register service registerservice ljava lang string ljava lang object ljava util dictionary lorg osgi framework service registration serviceregistration method visit insn visitinsn pop method visit label visitlabel add lifecycle support addlifecyclesupport method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload nls method visit method insn visitmethodinsn nls invokevirtual nls impl name implname nls started lorg osgi framework bundle context bundlecontext method visit insn visitinsn method visit maxs visitmaxs method visit end visitend method nls writer visit method visitmethod nls acc nls lorg osgi framework bundle context bundlecontext string java lang exception method visit code visitcode method visit var insn visitvarinsn aload nls nls method visit field insn visitfieldinsn nls nls getfield nls nls impl name implname nls nls endpoint nls endpoint method visit ldc insn visitldcinsn uri method visit method insn visitmethodinsn invokeinterface endpoint untrack registration untrackregistration nls nls ljava lang string method visit var insn visitvarinsn aload method visit insn visitinsn aconst nls nls method visit field insn visitfieldinsn nls nls putfield nls nls impl name implname nls nls endpoint nls endpoint add lifecycle support addlifecyclesupport method visit var insn visitvarinsn aload method visit var insn visitvarinsn aload nls method visit method insn visitmethodinsn nls invokevirtual nls impl name implname nls stopped lorg osgi framework bundle context bundlecontext method visit insn visitinsn method visit maxs visitmaxs method visit end visitend add interfaces list visited interfaces length visited interfaces visitedinterfaces interfaces super interfaces superinterfaces add interfaces param source source param debug debug org objectweb asm class visitor classvisitor visit source visitsource java lang string java lang string visit source visitsource string source string debug param owner owner param param desc desc org objectweb asm class visitor classvisitor visit outer class visitouterclass java lang string java lang string java lang string visit outer class visitouterclass string owner string string desc param desc desc param visible visible annotation visitor annotationvisitor org objectweb asm class visitor classvisitor visit annotation visitannotation java lang string annotation visitor annotationvisitor visit annotation visitannotation string desc visible writer visit annotation visitannotation check rewrite desc checkrewritedesc desc visible param attr attr org objectweb asm class visitor classvisitor visit attribute visitattribute org objectweb asm attribute visit attribute visitattribute attribute attr writer visit attribute visitattribute attr param param outer name outername outer name outername param inner name innername inner name innername param access access org objectweb asm class visitor classvisitor visit inner class visitinnerclass java lang string java lang string java lang string visit inner class visitinnerclass string string outer name outername string inner name innername access writer visit inner class visitinnerclass check rewrite checkrewrite check rewrite checkrewrite outer name outername check rewrite checkrewrite inner name innername access param access access param param desc desc param signature signature param field visitor fieldvisitor org objectweb asm class visitor classvisitor visit field visitfield java lang string java lang string java lang string java lang object field visitor fieldvisitor visit field visitfield access string string desc string signature object nls equals endpoint writer visit field visitfield access check rewrite desc checkrewritedesc desc signature param access access param param desc desc param signature signature param exceptions exceptions method visitor methodvisitor org objectweb asm class visitor classvisitor visit method visitmethod java lang string java lang string java lang string java lang string method visitor methodvisitor visit method visitmethod access string string desc string signature string exceptions implemented desc method access methodaccess access method access methodaccess acc type args type get argument types getargumenttypes desc needs boxing needsboxing method access methodaccess method access methodaccess acc method visitor methodvisitor method writer visit method visitmethod method access methodaccess desc signature exceptions method visit var insn visitvarinsn aload nls nls method visit field insn visitfieldinsn nls nls getfield nls nls impl name implname nls nls endpoint nls endpoint nls method visit ldc insn visitldcinsn uri method visit ldc insn visitldcinsn desc args length method visit insn visitinsn iconst args length method visit int insn visitintinsn bipush args length nls method visit type insn visittypeinsn anewarray java lang object slot boxing primitive type arguments args length args length args get sort getsort type array args get sort getsort type object method visit insn visitinsn dup method visit insn visitinsn iconst method visit var insn visitvarinsn aload slot method visit insn visitinsn aastore slot method visit insn visitinsn dup method visit insn visitinsn iconst method visit type insn visittypeinsn ethz iks osgi types boxed primitive boxedprimitive method visit insn visitinsn dup method visit var insn visitvarinsn args get opcode getopcode iload slot method visit method insn visitmethodinsn invokespecial ethz iks osgi types boxed primitive boxedprimitive init nls nls nls args get descriptor getdescriptor method visit insn visitinsn aastore slot args get size getsize needs boxing needsboxing args length args get sort getsort type array args get sort getsort type object method visit insn visitinsn dup method visit int insn visitintinsn bipush method visit var insn visitvarinsn aload slot method visit insn visitinsn aastore slot method visit insn visitinsn dup method visit int insn visitintinsn bipush method visit type insn visittypeinsn ethz iks osgi types boxed primitive boxedprimitive method visit insn visitinsn dup method visit var insn visitvarinsn args get opcode getopcode iload slot method visit method insn visitmethodinsn invokespecial ethz iks osgi types boxed primitive boxedprimitive init nls nls nls args get descriptor getdescriptor method visit insn visitinsn aastore slot args get size getsize needs boxing needsboxing nls method visit method insn visitmethodinsn nls invokeinterface nls endpoint nls invoke method invokemethod ljava lang string ljava lang string ljava lang object ljava lang object unboxing primitive type values type return type returntype type get return type getreturntype desc sort return type returntype get sort getsort sort type method visit insn visitinsn pop method visit insn visitinsn type type type type type type type type method visit type insn visittypeinsn checkcast boxed type sort method visit method insn visitmethodinsn invokevirtual boxed type sort unbox method sort nls return type returntype get descriptor getdescriptor method visit insn visitinsn return type returntype get opcode getopcode ireturn type array string buffer stringbuffer string buffer stringbuffer return type returntype get dimensions getdimensions nls append method visit type insn visittypeinsn checkcast to string tostring return type returntype get element type getelementtype to string tostring method visit insn visitinsn areturn method visit type insn visittypeinsn checkcast return type returntype get internal name getinternalname method visit insn visitinsn areturn method visit maxs visitmaxs args length needs boxing needsboxing args length slot method visit end visitend implemented add desc proxy method code rewrite code method visitor methodvisitor method writer visit method visitmethod access desc signature exceptions implemented add desc method rewriter methodrewriter method org objectweb asm class visitor classvisitor visit end visitend visit end visitend writer visit end visitend class rewriter classrewriter class visitor classvisitor class rewriter classrewriter class writer classwriter writer opcodes asm writer org objectweb asm class visitor classvisitor visit java lang string java lang string java lang string java lang string visit version access string string signature string super name supername string interfaces rewriting visit version remote gi service impl remoteosgiserviceimpl java access check rewrite checkrewrite signature check rewrite checkrewrite super name supername interfaces org objectweb asm class visitor classvisitor visit field visitfield java lang string java lang string java lang string java lang object field visitor fieldvisitor visit field visitfield access string string desc string signature object visit field visitfield access check rewrite checkrewrite check rewrite desc checkrewritedesc desc signature visits enclosing method called enclosing param owner internal enclosing param method enclosed method enclosing param desc descriptor method enclosed method enclosing visit outer class visitouterclass string owner string string desc visit outer class visitouterclass check rewrite checkrewrite owner check rewrite checkrewrite check rewrite desc checkrewritedesc desc org objectweb asm class visitor classvisitor visit inner class visitinnerclass java lang string java lang string java lang string visit inner class visitinnerclass string string outer name outername string inner name innername access visit inner class visitinnerclass check rewrite checkrewrite check rewrite checkrewrite outer name outername check rewrite checkrewrite inner name innername access org objectweb asm class visitor classvisitor visit method visitmethod java lang string java lang string java lang string java lang string method visitor methodvisitor visit method visitmethod access string string desc string signature string exceptions nls init equals desc method rewriter methodrewriter visit method visitmethod access check rewrite desc checkrewritedesc desc signature exceptions author jan rellermeyer eth zurich method rewriter methodrewriter method visitor methodvisitor param method writer methodwriter method writer methodwriter method rewriter methodrewriter method visitor methodvisitor method writer methodwriter opcodes asm method writer methodwriter param opcode opcode param desc desc org objectweb asm method visitor methodvisitor visit type insn visittypeinsn java lang string visit type insn visittypeinsn opcode string desc visit type insn visittypeinsn opcode check rewrite checkrewrite desc param opcode opcode param owner owner param param desc desc org objectweb asm method visitor methodvisitor visit field insn visitfieldinsn java lang string java lang string java lang string visit field insn visitfieldinsn opcode string owner string string desc visit field insn visitfieldinsn opcode check rewrite checkrewrite owner check rewrite desc checkrewritedesc desc param opcode opcode param owner owner param param desc desc org objectweb asm method visitor methodvisitor visit method insn visitmethodinsn java lang string java lang string java lang string visit method insn visitmethodinsn opcode string owner string string desc rewriting visit method insn visitmethodinsn opcode check rewrite checkrewrite owner check rewrite desc checkrewritedesc desc org objectweb asm method visitor methodvisitor visit method insn visitmethodinsn java lang string java lang string java lang string visit method insn visitmethodinsn opcode string owner string string desc itf visit method insn visitmethodinsn opcode check rewrite checkrewrite owner check rewrite desc checkrewritedesc desc itf param desc desc param dims dims org objectweb asm method visitor methodvisitor visit multi new array insn visitmultianewarrayinsn java lang string visit multi new array insn visitmultianewarrayinsn string desc dims rewriting visit multi new array insn visitmultianewarrayinsn check rewrite checkrewrite desc dims param param desc desc param signature signature param start start param param org objectweb asm method visitor methodvisitor visit local variable visitlocalvariable java lang string java lang string java lang string org objectweb asm label org objectweb asm label visit local variable visitlocalvariable string string desc string signature label start label rewriting visit local variable visitlocalvariable check rewrite desc checkrewritedesc desc signature start param desc desc param visible visible org objectweb asm method visitor methodvisitor annotation visitor annotationvisitor visit annotation visitannotation java lang string annotation visitor annotationvisitor visit annotation visitannotation string desc visible rewrite visit annotation visitannotation check rewrite desc checkrewritedesc desc visible generate source host param sourceid string generate source d generatesourceid string nls pos index of indexof chars substring pos replace replace replace to char array tochararray string buffer stringbuffer buffer string buffer stringbuffer chars length chars buffer append chars chars buffer append table chars chars buffer append chars buffer to string tostring string check rewrite checkrewrite string clazz name clazzname smart proxy class name dashed smartproxyclassnamedashed clazz name clazzname clazz name clazzname clazz name clazzname equals smart proxy class name dashed smartproxyclassnamedashed nls clazz name clazzname starts with startswith smart proxy class name dashed smartproxyclassnamedashed string clazz name clazzname substring smart proxy class name dashed smartproxyclassnamedashed length impl name implname clazz name clazzname string check rewrite desc checkrewritedesc string desc smart proxy class name dashed smartproxyclassnamedashed desc desc string result desc nls result index of indexof smart proxy class name dashed smartproxyclassnamedashed smart proxy class name dashed smartproxyclassnamedashed length result result substring impl name implname result substring result index of indexof smart proxy class name dashed smartproxyclassnamedashed nls result index of indexof smart proxy class name dashed smartproxyclassnamedashed smart proxy class name dashed smartproxyclassnamedashed length result result substring impl name implname result substring result index of indexof smart proxy class name dashed smartproxyclassnamedashed result
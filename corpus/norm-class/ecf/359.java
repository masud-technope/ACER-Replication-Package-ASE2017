copyright arthur van hoff rick blair javax jmdns impl java byte array output stream bytearrayoutputstream java data output stream dataoutputstream java io exception ioexception java net inet address java net inet address inetaddress java net unknown host exception unknownhostexception java util iterator dns record version author arthur van hoff rick blair werner ran del shofer randelshofer pierre frisch dns record dnsrecord dns entry dnsentry logger logger logger get logger getlogger dns record dnsrecord get name getname ttl created source debug ging debugging purposes address record inet address inetaddress source create dns record dnsrecord type clazz ttl dns record dnsrecord string type clazz ttl type clazz ttl ttl created system current time millis currenttimemillis record record equals object dns record dnsrecord same as sameas dns record dnsrecord record record same as sameas dns record dnsrecord equals same value samevalue dns record dnsrecord record record same value samevalue dns record dnsrecord record type record same type sametype dns record dnsrecord type type handles query represented record returns conflict services registered jmdns hostname occured handle query handlequery jmdnsimpl dns expiration time expirationtime handles response represented responserepresented record returns conflict services registered jmdns hostname occured handle response handleresponse jmdnsimpl dns adds answer out going outgoing data gram datagram dns out going dnsoutgoing add answer addanswer jmdnsimpl dns dns incoming dnsincoming inet address inetaddress add r addr port dns out going dnsoutgoing io exception ioexception record suppressed answers message suppressed by suppressedby dns incoming dnsincoming msg msg num answers numanswers suppressed by suppressedby dns record dnsrecord msg answers array index out of bounds exception arrayindexoutofboundsexception record sup res sed supressed answer record longer ttl suppressed by suppressedby dns record dnsrecord same as sameas ttl ttl expiration time record get expiration time getexpirationtime per cent percent created per cent percent ttl remaining ttl record getremainingttl math max get expiration time getexpirationtime check record expired is expired isexpired get expiration time getexpirationtime check record stale out live d outlived ttl is stale isstale get expiration time getexpirationtime reset ttl record avoids update entire record cache resetttl dns record dnsrecord created created ttl ttl write record out going outgoing message write dns out going dnsoutgoing io exception ioexception address record address dns record dnsrecord logger logger logger get logger getlogger address get name getname inet address inetaddress add r addr address string type clazz ttl inet address inetaddress add r addr type clazz ttl add r addr add r addr address string type clazz ttl raw address rawaddress type clazz ttl add r addr inet address inetaddress get by address getbyaddress raw address rawaddress unknown host exception unknownhostexception exception write dns out going dnsoutgoing io exception ioexception add r addr buffer add r addr get address getaddress dns constants dnsconstants type type type records answer ip v ipv address add r addr inet address good bytes temp buffer tempbuffer buffer buffer system arraycopy temp buffer tempbuffer buffer type aaaa records answer ip v ipv address add r addr inet address temp buffer tempbuffer buffer buffer buffer temp buffer tempbuffer buffer length buffer length write bytes writebytes buffer length dns record dnsrecord same name samename same value samevalue same name samename dns record dnsrecord equals ignore case equalsignorecase address same value samevalue dns record dnsrecord add r addr equals address get address getaddress inet address inetaddress get address getaddress add r addr creates array representation record needed tie tests draft cheshire dns ext dnsext multicastdns txt chapter to byte array tobytearray byte array output stream bytearrayoutputstream bout byte array output stream bytearrayoutputstream data output stream dataoutputstream dout data output stream dataoutputstream bout dout write get bytes getbytes utf dout write short writeshort type dout write short writeshort clazz dout write int writeint len buffer add r addr get address getaddress buffer length dout write byte writebyte buffer dout close bout to byte array tobytearray io exception ioexception internal error internalerror lex icographic lexicographic comparison array representation record record needed tie tests draft cheshire dns ext dnsext multicastdns txt chapter lex compare lexcompare dns record dnsrecord address this bytes thisbytes to byte array tobytearray that bytes thatbytes to byte array tobytearray math min this bytes thisbytes length that bytes thatbytes length this bytes thisbytes that bytes thatbytes this bytes thisbytes that bytes thatbytes this bytes thisbytes length that bytes thatbytes length actions query handle query handlequery jmdnsimpl dns expiration time expirationtime dns record dnsrecord address dns address dnsaddress dns get local host getlocalhost getdnsaddressrecord dns address dnsaddress dns address dnsaddress same type sametype dns address dnsaddress same name samename dns address dnsaddress same value samevalue tie breaker test dns get state getstate is probing isprobing lex compare lexcompare dns address dnsaddress lost tie choose dns get local host getlocalhost increment host name incrementhostname dns get cache getcache clear iterator dns get services getservices values iterator has next hasnext service info impl serviceinfoimpl info service info impl serviceinfoimpl info revert state revertstate dns revert state revertstate actions response handle response handleresponse jmdnsimpl dns dns record dnsrecord address dns address dnsaddress dns get local host getlocalhost getdnsaddressrecord dns address dnsaddress dns address dnsaddress same type sametype dns address dnsaddress same name samename dns address dnsaddress same value samevalue dns get state getstate is probing isprobing dns get local host getlocalhost increment host name incrementhostname dns get cache getcache clear iterator dns get services getservices values iterator has next hasnext service info impl serviceinfoimpl info service info impl serviceinfoimpl info revert state revertstate dns revert state revertstate dns out going dnsoutgoing add answer addanswer jmdnsimpl dns dns incoming dnsincoming inet address inetaddress add r addr port dns out going dnsoutgoing io exception ioexception string to string tostring to string tostring address add r addr add r addr get host address gethostaddress pointer record pointer dns record dnsrecord logger logger logger get logger getlogger pointer get name getname string alias pointer string type clazz ttl string alias type clazz ttl alias alias write dns out going dnsoutgoing io exception ioexception write name writename alias same value samevalue dns record dnsrecord alias equals pointer alias handle query handlequery jmdnsimpl dns expiration time expirationtime pos sibility possibility conflicts record type handle response handleresponse jmdnsimpl dns pos sibility possibility conflicts record type string get alias getalias alias dns out going dnsoutgoing add answer addanswer jmdnsimpl dns dns incoming dnsincoming inet address inetaddress add r addr port dns out going dnsoutgoing io exception ioexception string to string tostring to string tostring alias text dns record dnsrecord logger logger logger get logger getlogger text get name getname text text string type clazz ttl text type clazz ttl text text write dns out going dnsoutgoing io exception ioexception write bytes writebytes text text length same value samevalue dns record dnsrecord text txt text txt text length text length text length txt text text handle query handlequery jmdnsimpl dns expiration time expirationtime pos sibility possibility conflicts record type handle response handleresponse jmdnsimpl dns service info serviceinfo info service info serviceinfo dns services to lower case tolowercase info arrays equals text info text info revert state revertstate dns out going dnsoutgoing add answer addanswer jmdnsimpl dns dns incoming dnsincoming inet address inetaddress add r addr port dns out going dnsoutgoing io exception ioexception string to string tostring to string tostring text length string text string text service record service dns record dnsrecord logger logger logger get logger getlogger service get name getname priority weight port string server service string type clazz ttl priority weight port string server type clazz ttl priority priority weight weight port port server server write dns out going dnsoutgoing io exception ioexception write short writeshort priority write short writeshort weight write short writeshort port dns incoming dnsincoming domain format srv target write name writename server writeutf server server length add safe str ange strange form bonjour conf ormance test bonjourconformancetest write byte writebyte to byte array tobytearray byte array output stream bytearrayoutputstream bout byte array output stream bytearrayoutputstream data output stream dataoutputstream dout data output stream dataoutputstream bout dout write get bytes getbytes utf dout write short writeshort type dout write short writeshort clazz dout write int writeint len dout write short writeshort priority dout write short writeshort weight dout write short writeshort port dout write server get bytes getbytes utf dout close bout to byte array tobytearray io exception ioexception internal error internalerror lex compare lexcompare dns record dnsrecord service this bytes thisbytes to byte array tobytearray that bytes thatbytes to byte array tobytearray math min this bytes thisbytes length that bytes thatbytes length this bytes thisbytes that bytes thatbytes this bytes thisbytes that bytes thatbytes this bytes thisbytes length that bytes thatbytes length same value samevalue dns record dnsrecord service service priority priority weight weight port port server equals server handle query handlequery jmdnsimpl dns expiration time expirationtime service info impl serviceinfoimpl info service info impl serviceinfoimpl dns get services getservices to lower case tolowercase info port info port server equals ignore case equalsignorecase dns get local host getlocalhost get name getname logger finer handle query handlequery conflicting pro be probe detected get record source getrecordsource dns record dnsrecord service local service localservice dns record dnsrecord service info get qualified name getqualifiedname dns constants dnsconstants type srv dns constants dnsconstants dns constants dnsconstants unique dns constants dnsconstants dns ttl info priority info weight info port dns get local host getlocalhost get name getname dns get interface getinterface equals get record source getrecordsource logger warning conflicting pro be probe incoming to string tostring local local service localservice to string tostring io exception ioexception print stack trace printstacktrace comparison lex compare lexcompare local service localservice comparison logger finer handle query handlequery ignoring identical service query tie breaker test info get state getstate is probing isprobing comparison lost tie string old name oldname info get qualified name getqualifiedname to lower case tolowercase info set name setname dns increment name incrementname info get name getname dns get services getservices remove old name oldname dns get services getservices info get qualified name getqualifiedname to lower case tolowercase info logger finer handle query handlequery lost tie unique chosen info get name getname revert start pro bin g probing info revert state revertstate paragraph mdns draft spec handle response handleresponse jmdnsimpl dns service info impl serviceinfoimpl info service info impl serviceinfoimpl dns get services getservices to lower case tolowercase info port info port server equals ignore case equalsignorecase dns get local host getlocalhost get name getname info get state getstate is probing isprobing string old name oldname info get qualified name getqualifiedname to lower case tolowercase info set name setname dns increment name incrementname info get name getname dns get services getservices remove old name oldname dns get services getservices info get qualified name getqualifiedname to lower case tolowercase info logger finer handle response handleresponse unique chose info get name getname info revert state revertstate dns out going dnsoutgoing add answer addanswer jmdnsimpl dns dns incoming dnsincoming inet address inetaddress add r addr port dns out going dnsoutgoing io exception ioexception service info impl serviceinfoimpl info service info impl serviceinfoimpl dns get services getservices to lower case tolowercase info port info port server equals dns get local host getlocalhost get name getname dns add answer addanswer add r addr port dns record dnsrecord service info get qualified name getqualifiedname dns constants dnsconstants type srv dns constants dnsconstants dns constants dnsconstants unique dns constants dnsconstants dns ttl info priority info weight info port dns get local host getlocalhost get name getname string to string tostring to string tostring server port set record source setrecordsource inet address inetaddress source source source inet address inetaddress get record source getrecordsource source string to string tostring string to string tostring record ttl getremainingttl system current time millis currenttimemillis set ttl setttl ttl ttl ttl get ttl getttl ttl
revision copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx work group workgroup packet org jivesoftware smackx work group workgroup meta data metadata org jivesoftware smackx work group workgroup agent invitation request invitationrequest org jivesoftware smackx work group workgroup agent offer content offercontent org jivesoftware smackx work group workgroup agent transfer request transferrequest org jivesoftware smackx work group workgroup agent user request userrequest org jivesoftware smackx work group workgroup util meta data utils metadatautils org jivesoftware smack packet org jivesoftware smack provider iq provider iqprovider org jivesoftware smack util packet parser utils packetparserutils org xml pull xmlpull xml pull parser xmlpullparser java util hash map hashmap java util list java util map iq provider iqprovider agent offer requests author loki der qua ele r quaeler offer request provider offerrequestprovider iq provider iqprovider offer request provider offerrequestprovider parseiq xml pull parser xmlpullparser parser exception event type eventtype parser get event type geteventtype string sessionid timeout offer content offercontent content map string list string meta data metadata hash map hashmap string list string event type eventtype xml pull parser xmlpullparser start tag exception string userjid parser get attribute value getattributevalue jid userid jid string userid userjid event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag string elem name elemname parser get name getname timeout equals elem name elemname timeout integer parse int parseint parser next text nexttext meta data metadata element equals elem name elemname meta data metadata meta data utils metadatautils parse meta data parsemetadata parser sessionid element equals elem name elemname sessionid parser get attribute value getattributevalue userid element equals elem name elemname userid parser get attribute value getattributevalue user request equals elem name elemname content user request userrequest get instance getinstance room invitation roominvitation element equals elem name elemname room invitation roominvitation invitation room invitation roominvitation packet parser utils packetparserutils parse packet extension parsepacketextension room invitation roominvitation element room invitation roominvitation name space namespace parser content invitation request invitationrequest invitation get inviter getinviter invitation get room getroom invitation get reason getreason room transfer roomtransfer element equals elem name elemname room transfer roomtransfer transfer room transfer roomtransfer packet parser utils packetparserutils parse packet extension parsepacketextension room transfer roomtransfer element room transfer roomtransfer name space namespace parser content transfer request transferrequest transfer get inviter getinviter transfer get room getroom transfer get reason getreason event type eventtype xml pull parser xmlpullparser tag offer equals parser get name getname offer request packet offerrequestpacket offer request offerrequest offer request packet offerrequestpacket userjid userid timeout meta data metadata sessionid content offer request offerrequest set type settype type offer request offerrequest offer request packet offerrequestpacket timeout string userid string userjid map string list string meta data metadata string sessionid offer content offercontent content offer request packet offerrequestpacket string userjid string userid timeout map string list string meta data metadata string sessionid offer content offercontent content userjid userjid userid userid timeout timeout meta data metadata meta data metadata sessionid sessionid content content returns userid userjid special user join queue request user string get user d getuserid userid jid user join queue request user jid string getuserjid userjid returns session request ensuing chat offer session returned session request string get session d getsessionid sessionid returns number seconds agent accept offer times offer timeout seconds get timeout gettimeout timeout offer content offercontent get content getcontent content returns meta data offer meta data offer map string list string get meta data getmetadata meta data metadata string get child element l getchildelementxml string builder stringbuilder buf string builder stringbuilder buf append offer xml ns xmlns http jabber org protocol work group workgroup jid append userjid append buf append timeout append timeout append timeout sessionid buf append append sessionid element buf append session buf append get session d getsessionid append xml ns xmlns buf append sessionid name space namespace append meta data metadata buf append meta data utils metadatautils serialize meta data serializemetadata meta data metadata userid buf append append userid element buf append buf append userid append xml ns xmlns buf append userid name space namespace append buf append offer buf to string tostring
copyright jan rellermeyer systems group dep artment department computer science eth zurich rights reserved redistribution source binary forms modification permitted conditions met redistributions source code retain copyright not ice notice list conditions disclaimer redistributions binary form reproduce copyright not ice notice list conditions disclaimer documentation materials distribution eth zurich names contributors end orse endorse promote products derived software specific prior written permission software copyright holders contributors express implied warranties including limited implied warranties merchantability fitness purpose disclaimed event copyright owner contributors liable dir ect direct indirect incidental special exemplary consequential damages including limited procurement substitute goods services loss data profits business interruption caused theory liability contract strict liability tort including negligence arising software advised possibility damage ethz iks osgi impl java buffered input stream bufferedinputstream java buffered output stream bufferedoutputstream java object input stream objectinputstream java object output stream objectoutputstream java i o exception ioexception java net bind exception bindexception java net server socket serversocket java net socket org osgi service log log service logservice ethz iks osgi remoting ethz iks osgi uri ethz iks osgi channels channel endpoint channelendpoint ethz iks osgi channels network channel networkchannel ethz iks osgi channels network channel factory networkchannelfactory ethz iks osgi messages remoteosgimessage ethz iks util smart object input stream smartobjectinputstream ethz iks util smart object output stream smartobjectoutputstream channel factory persistent tcp transport protocol author jan rellermeyer eth zurich tcp channel factory tcpchannelfactory network channel factory networkchannelfactory nls string protocol osgi remoting remoting tcp acc eptor thread tcpacceptorthread thread list ening port listeningport connection param endpoint channel endpoint param endpointuri uri remote host transport channel i o exception ioexception network channel networkchannel get connection getconnection channel endpoint channelendpoint endpoint uri endpointuri i o exception ioexception tcp channel tcpchannel endpoint endpointuri activate factory called os gi osgi factory discovered ethz iks osgi channels network channel factory networkchannelfactory activate ethz iks osgi remoting activate remoting i o exception ioexception remoting thread tcp acc eptor thread tcpacceptorthread thread start deactivate factory ethz iks osgi channels network channel factory networkchannelfactory deactivate ethz iks osgi remoting deactivate remoting i o exception ioexception thread thread int errupt interrupt remoting list ening listening port ethz iks osgi channels network channel factory networkchannelfactory get list ening port getlisteningport java lang string get list ening port getlisteningport string protocol list ening port listeningport representing channel tcp transport tcp connection tcp keep alive keepalive option reduce reconnect ion reconnection over head overhead author jan rellermeyer eth zurich tcp channel tcpchannel network channel networkchannel socket socket socket remote endpoint address uri remote endpoint address remoteendpointaddress local endpoint address uri local endpoint address localendpointaddress input stream object input stream objectinputstream input output stream object output stream objectoutputstream output channel endpoint channel endpoint channelendpoint endpoint connected connected create tcp channel tcpchannel param endpoint channel endpoint param endpoint address endpointaddress remote peer uri i o exception ioexception errors tcp channel tcpchannel channel endpoint channelendpoint endpoint uri endpoint address endpointaddress i o exception ioexception port endpoint address endpointaddress get port getport port port endpoint endpoint remote endpoint address remoteendpointaddress endpoint address endpointaddress open socket endpoint address endpointaddress get host gethost port receiver thread receiverthread start create tcp channel tcpchannel existing socket param socket socket i o exception ioexception errors tcp channel tcpchannel socket socket i o exception ioexception remote endpoint address remoteendpointaddress uri create nls get protocol getprotocol nls socket get inet address getinetaddress get host name gethostname nls socket get port getport open socket bind channel channel endpoint param channel endpoint ethz iks osgi channels network channel networkchannel bind ethz iks osgi channels channel endpoint channelendpoint bind channel endpoint channelendpoint endpoint receiver thread receiverthread start open channel param socket socket i o exception ioexception wrong open socket i o exception ioexception socket local endpoint address localendpointaddress uri create nls get protocol getprotocol nls socket get local address getlocaladdress get host name gethostname nls socket get local port getlocalport socket set keep alive setkeepalive throwable socket set tcp no delay settcpnodelay output smart object output stream smartobjectoutputstream buffered output stream bufferedoutputstream socket get output stream getoutputstream output flush input smart object input stream smartobjectinputstream buffered input stream bufferedinputstream socket get input stream getinputstream string representation channel java lang object to string tostring string to string tostring nls nls tcp channel tcpchannel get remote address getremoteaddress close channel i o exception ioexception close i o exception ioexception socket close receiver int errupt interrupt connected protocol implemented channel protocol ethz iks osgi channels network channel networkchannel get protocol getprotocol string get protocol getprotocol protocol remote address ethz iks osgi channels network channel networkchannel get remote address getremoteaddress uri get remote address getremoteaddress remote endpoint address remoteendpointaddress local address ethz iks osgi channels network channel networkchannel get local address getlocaladdress uri get local address getlocaladdress local endpoint address localendpointaddress send message channel param message message i o exception ioexception errors send message sendmessage remoteosgimessage message i o exception ioexception remote gi service impl remoteosgiserviceimpl msg debug remote gi service impl remoteosgiserviceimpl log log log service logservice log debug nls tcp channel sending nls message message send output receiver thread cont inuously continuously receive messages endpoint author jan rellermeyer eth zurich receiver thread receiverthread thread receiver thread receiverthread set name setname nls tcp channel tcpchannel receiver thread receiverthread get remote address getremoteaddress set daemon setdaemon connected remoteosgimessage msg remoteosgimessage parse input remote gi service impl remoteosgiserviceimpl msg debug remote gi service impl remoteosgiserviceimpl log log log service logservice log debug nls tcp channel received msg endpoint received message receivedmessage msg i o exception ioexception ioe connected socket close i o exception ioexception endpoint received message receivedmessage throwable print stack trace printstacktrace tcp thread tcpthread handles incoming tcp messages tcp acc eptor thread tcpacceptorthread thread server socket serversocket socket creates starts tcp thread tcpthread i o exception ioexception server socket opened tcp acc eptor thread tcpacceptorthread i o exception ioexception nls set name setname tcp channel tcpchannel tcp acc eptor thread tcpacceptorthread set daemon setdaemon list ening port listeningport remote gi service impl remoteosgiserviceimpl osgi port socket server socket serversocket list ening port listeningport system err println nls warning port remote gi service impl remoteosgiserviceimpl osgi port instance os gi osgi running port list ening port listeningport remote gi service impl remoteosgiserviceimpl osgi port list ening port listeningport bind exception bindexception thread loop java lang thread is interrupted isinterrupted accept incoming connections build channel end points endpoints remoting create endpoint createendpoint tcp channel tcpchannel socket accept i o exception ioexception ioe ioe print stack trace printstacktrace
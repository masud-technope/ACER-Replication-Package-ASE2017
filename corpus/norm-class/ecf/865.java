copyright remy suen comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors remy suen remy suen gmail initial api implementation hiroyuki i naba inaba hiroyuki inaba gmail bug error message chat message correct org eclipse ecf presence java text simple date format simpledateformat java util org eclipse core runtime org eclipse ecf core identity org eclipse ecf core util ecf exception ecfexception org eclipse ecf internal presence activator org eclipse ecf internal presence messages org eclipse ecf presence org eclipse jface action org eclipse jface dialogs message dialog messagedialog org eclipse jface text document org eclipse jface text source source viewer sourceviewer org eclipse jface util i property change listener ipropertychangelistener org eclipse jface util property change event propertychangeevent org eclipse osgi util nls org eclipse swt swt org eclipse swt custom org eclipse swt events org eclipse swt graphics org eclipse swt layout fill layout filllayout org eclipse swt widgets org eclipse i workbench preference constants iworkbenchpreferenceconstants org eclipse platformui org eclipse editors text editorsui org eclipse editors text text source viewer configuration textsourceviewerconfiguration org eclipse view part viewpart org eclipse progress ui job uijob messages view messagesview view part viewpart nls simple date format simpledateformat formatter simple date format simpledateformat nls string view org eclipse ecf presence messages view messagesview weights c tab folder ctabfolder tab folder tabfolder color red color redcolor color blue color bluecolor map tabs show time stamps showtimestamps messages view messagesview tabs hash map hashmap create part control createpartcontrol composite parent use traditional tab folder usetraditionaltabfolder platformui get preference store getpreferencestore get boolean getboolean i workbench preference constants iworkbenchpreferenceconstants traditional style tabs tab folder tabfolder c tab folder ctabfolder parent swt close tab folder tabfolder set tab position settabposition swt bottom tab folder tabfolder set simple setsimple use traditional tab folder usetraditionaltabfolder platformui get preference store getpreferencestore add property change listener addpropertychangelistener i property change listener ipropertychangelistener property change propertychange property change event propertychangeevent event event get property getproperty equals i workbench preference constants iworkbenchpreferenceconstants traditional style tabs tab folder tabfolder is disposed isdisposed tab folder tabfolder set simple setsimple event get new value getnewvalue boolean value booleanvalue tab folder tabfolder redraw tab folder tabfolder add selection listener addselectionlistener selection adapter selectionadapter widget selected widgetselected selection event selectionevent iterator tabs values iterator has next hasnext chat tab chattab tab chat tab chattab tab item item tab input text inputtext set focus setfocus tab folder tabfolder add tab folder addctabfolder listener c tab folder ctabfolder adapter close c tab folder event ctabfolderevent iterator tabs key set keyset iterator has next hasnext object key chat tab chattab tab chat tab chattab tabs key tab item item tabs remove key i menu manager imenumanager manager get view site getviewsite get action bars getactionbars get menu manager getmenumanager i action iaction timestamp action timestampaction action messages messages view messagesview show time stamps showtimestamps i action iaction check box show time stamps showtimestamps show time stamps showtimestamps timestamp action timestampaction set checked setchecked i action iaction clear chat log action clearchatlogaction action messages messages view messagesview clear chat log clearchatlog c tab item ctabitem item tab folder tabfolder get selection getselection item iterator iterator tabs values iterator iterator has next hasnext chat tab chattab tab chat tab chattab iterator tab item item message dialog messagedialog open confirm openconfirm tab folder tabfolder get shell getshell messages messages view messagesview clear chat log dialog title clearchatlogdialogtitle messages messages view messagesview clear chat log dialog message clearchatlogdialogmessage tab nls tab chat text chattext set text settext manager add clear chat log action clearchatlogaction manager add timestamp action timestampaction red color redcolor color parent get display getdisplay blue color bluecolor color parent get display getdisplay dispose red color redcolor dispose blue color bluecolor dispose dispose chat tab chattab get tab gettab i chat message sender ichatmessagesender message sender messagesender i typing message sender itypingmessagesender typing sender typingsender localid userid string local name localname chat tab chattab tab chat tab chattab tabs userid tab tab chat tab chattab message sender messagesender typing sender typingsender localid userid local name localname tabs userid tab tab display message notify current user typing event occurred param event typing message event display typing notification displaytypingnotification i typing message event itypingmessageevent event chat tab chattab tab tabs tab chat tab chattab tabs event get from d getfromid tab tab show is typing showistyping event get typing message gettypingmessage is typing istyping opens tab conv ersing conversing user param message sender messagesender i chat message sender ichatmessagesender send messages user param typing sender typingsender i typing message sender itypingmessagesender notify user current user typing message unsupported param localid local user param remoteid remote user open tab opentab i chat message sender ichatmessagesender message sender messagesender i typing message sender itypingmessagesender typing sender typingsender localid remoteid string local name localname is not null isnotnull message sender messagesender is not null isnotnull localid is not null isnotnull remoteid chat tab chattab tab get tab gettab message sender messagesender typing sender typingsender localid remoteid local name localname tab select tab tabs size tab folder tabfolder set selection setselection tab item string get local name getlocalname i chat d ichatid cid i chat d ichatid get adapter getadapter i chat d ichatid cid get name getname cid get username getusername open tab opentab i chat message sender ichatmessagesender message sender messagesender i typing message sender itypingmessagesender typing sender typingsender localid remoteid open tab opentab message sender messagesender typing sender typingsender localid remoteid get local name getlocalname remoteid select tab selecttab i chat message sender ichatmessagesender message sender messagesender i typing message sender itypingmessagesender typing sender typingsender localid userid string local name localname chat tab chattab tab get tab gettab message sender messagesender typing sender typingsender localid userid local name localname tab folder tabfolder set selection setselection tab item tab input text inputtext set focus setfocus select tab selecttab i chat message sender ichatmessagesender message sender messagesender i typing message sender itypingmessagesender typing sender typingsender localid userid select tab selecttab message sender messagesender typing sender typingsender localid userid get local name getlocalname userid display chat message remote user designated chat box param message chat message local user show message showmessage i chat message ichatmessage message is not null isnotnull message remoteid message get from d getfromid chat tab chattab tab chat tab chattab tabs remoteid tab tab append remoteid message get body getbody set focus setfocus c tab item ctabitem item tab folder tabfolder get selection getselection item iterator tabs values iterator has next hasnext chat tab chattab tab chat tab chattab tab item item tab input text inputtext set focus setfocus chat tab chattab c tab item ctabitem item styled text styledtext chat text chattext text input text inputtext i chat message sender ichatmessagesender icms i typing message sender itypingmessagesender itms localid remoteid send typing sendtyping is first message isfirstmessage string local name localname chat tab chattab i chat message sender ichatmessagesender icms i typing message sender itypingmessagesender itms localid remoteid string local name localname icms icms itms itms localid localid remoteid remoteid local name localname local name localname construct widgets constructwidgets add listeners addlisteners add listeners addlisteners input text inputtext add key listener addkeylistener key adapter keyadapter key pressed keypressed key event keyevent key code keycode swt swt key pad keypad state mask statemask string text input text inputtext get text gettext nls input text inputtext set text settext nls text equals icms send chat message sendchatmessage remoteid text append localid text ecf exception ecfexception string message get message getmessage message message equals message get status getstatus get message getmessage message message equals message get cause getcause get message getmessage message message equals set content description setcontentdescription messages messages view messagesview could not send message couldnotsendmessage set content description setcontentdescription nls bind messages messages view messagesview could not send message cause known couldnotsendmessagecauseknown message doit send typing sendtyping input text inputtext add modify listener addmodifylistener modify listener modifylistener modify text modifytext modify event modifyevent send typing sendtyping itms send typing sendtyping itms send typing message sendtypingmessage remoteid ecf exception ecfexception scroll bar scrollbar vscroll bar vscrollbar chat text chattext get vertical bar getverticalbar vscroll bar vscrollbar vscroll bar vscrollbar add selection listener addselectionlistener scr oll selection listener scrollselectionlistener chat text chattext add dispose listener adddisposelistener dispose listener disposelistener widget disposed widgetdisposed dispose event disposeevent scroll bar scrollbar bar chat text chattext get vertical bar getverticalbar bar bar remove selection listener removeselectionlistener scr oll selection listener scrollselectionlistener selection listener selectionlistener scr oll selection listener scrollselectionlistener selection listener selectionlistener widget default selected widgetdefaultselected selection event selectionevent widget selected widgetselected selection event selectionevent should scroll to end shouldscrolltoend chat text chattext bold tab title boldtabtitle should scroll to end shouldscrolltoend styled text styledtext chat text chattext point loc at end locatend chat text chattext get location at offset getlocationatoffset chat text chattext get text gettext length rectangle bounds chat text chattext get bounds getbounds loc at end locatend bounds height append fromid string body scr oll to end scrolltoend should scroll to end shouldscrolltoend chat text chattext is first message isfirstmessage chat text chattext append text delimiter length chat text chattext get char count getcharcount string local name localname fromid equals remoteid show time stamps showtimestamps chat text chattext append formatter format system current time millis currenttimemillis chat text chattext set style range setstylerange style range stylerange length red color redcolor length chat text chattext get char count getcharcount nls chat text chattext append nls body chat text chattext set style range setstylerange style range stylerange length length red color redcolor swt bold set content description setcontentdescription nls is first message isfirstmessage message notification popup messagenotificationpopup popup message notification popup messagenotificationpopup get site getsite get workbench window getworkbenchwindow tab folder tabfolder get shell getshell remoteid popup set content setcontent body popup open ui job uijob tab folder tabfolder get display getdisplay close popup job i status istatus run i n thread runinuithread i progress monitor iprogressmonitor monitor shell shell popup get shell getshell shell shell is disposed isdisposed popup close status status schedule show time stamps showtimestamps chat text chattext append formatter format system current time millis currenttimemillis chat text chattext set style range setstylerange style range stylerange length blue color bluecolor length chat text chattext get char count getcharcount nls chat text chattext append nls body chat text chattext set style range setstylerange style range stylerange length length blue color bluecolor swt bold is first message isfirstmessage scr oll to end scrolltoend chat text chattext invoke action invokeaction text bold tab title boldtabtitle scr oll to end scrolltoend styled text styledtext create styled text widget createstyledtextwidget composite parent source viewer sourceviewer result source viewer sourceviewer parent swt border swt wrap swt scroll swt multi swt read result configure text source viewer configuration textsourceviewerconfiguration editorsui get preference store getpreferencestore result set document setdocument document result get text widget gettextwidget exception activator get default getdefault get log getlog log status i status istatus warning activator plugin i status istatus warning messages messages view messagesview warning hyperlinking styled text styledtext parent swt border swt wrap swt scroll swt multi swt read no class def found error noclassdeffounderror activator get default getdefault get log getlog log status i status istatus warning activator plugin i status istatus warning messages messages view messagesview warning hyperlinking styled text styledtext parent swt border swt wrap swt scroll swt multi swt read bold tab title boldtabtitle bold font old font oldfont item get font getfont font data fontdata old font oldfont get font data getfontdata item set font setfont font old font oldfont get device getdevice get name getname get height getheight bold swt bold swt normal construct widgets constructwidgets item c tab item ctabitem tab folder tabfolder swt composite parent composite tab folder tabfolder swt parent set layout setlayout fill layout filllayout sash form sashform sash sash form sashform parent swt vertical chat text chattext create styled text widget createstyledtextwidget sash input text inputtext text sash swt multi swt border swt scroll sash set weights setweights weights menu menu menu chat text chattext menu item menuitem menu item menuitem menu swt push set text settext messages messages view messagesview copy set image setimage platformui get workbench getworkbench get shared images getsharedimages get image getimage org eclipse i shared images isharedimages img tool copy add selection listener addselectionlistener selection adapter selectionadapter widget selected widgetselected selection event selectionevent string text chat text chattext get selection text getselectiontext nls text equals chat text chattext copy menu item menuitem menu swt push set text settext messages messages view messagesview select all selectall add selection listener addselectionlistener selection adapter selectionadapter widget selected widgetselected selection event selectionevent chat text chattext select all selectall chat text chattext set menu setmenu menu item set control setcontrol parent item set text settext local name localname show is typing showistyping is typing istyping nls set content description setcontentdescription is typing istyping nls bind messages messages view messagesview typing notification typingnotification local name localname
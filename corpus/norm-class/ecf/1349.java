copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation boris bokowski ibm org eclipse ecf clients applications org eclipse ecf core identity org eclipse ecf core util ecf exception ecfexception org eclipse ecf clients i message receiver imessagereceiver org eclipse ecf clients xmpp chat room client xmppchatroomclient org eclipse ecf presence iim message event iimmessageevent org eclipse ecf presence iim message listener iimmessagelistener org eclipse ecf presence chatroom i chat room container ichatroomcontainer org eclipse ecf presence chatroom i chat room message ichatroommessage org eclipse ecf presence chatroom i chat room message event ichatroommessageevent org eclipse ecf presence chatroom i chat room message sender ichatroommessagesender org eclipse ecf presence i chat message ichatmessage org eclipse equinox app i application iapplication org eclipse equinox app i application context iapplicationcontext started application create eclipse application select org eclipse ecf clients robot application required plug ins chat room robot application chatroomrobotapplication i application iapplication i message receiver imessagereceiver iim message listener iimmessagelistener string sender acc ount senderaccount object lock object i chat room message sender ichatroommessagesender sender object start i application context iapplicationcontext context exception process program arguments string original args originalargs string context get arguments getarguments application args original args originalargs length system println parameters sender acc ount senderaccount sender password senderpassword chatroom name chatroomname sender gmail sender password senderpassword mychatroom integer sender acc ount senderaccount original args originalargs create client xmpp chat room client xmppchatroomclient client xmpp chat room client xmppchatroomclient connect sender acc ount senderaccount sender password senderpassword client connect sender acc ount senderaccount original args originalargs chat room i chat room container ichatroomcontainer chat room container chatroomcontainer client create chat room createchatroom original args originalargs join connect chat room chat room container chatroomcontainer connect client get chat room info getchatroominfo get room d getroomid system println ecf chat room robot sender sender acc ount senderaccount connected room client get chat room info getchatroominfo get room d getroomid get name getname add message listener chat room chat room container chatroomcontainer add message listener addmessagelistener chat room message sender sender chat room container chatroomcontainer get chat room message sender getchatroommessagesender sender send message sendmessage robot rid send direct message lock lock wait i application iapplication exit handle message handlemessage i chat message ichatmessage chat message chatmessage direct message sender send message sendmessage got ta gotta ecf exception ecfexception print stack trace printstacktrace lock lock notify handle message event handlemessageevent iim message event iimmessageevent message event messageevent message event messageevent i chat room message event ichatroommessageevent i chat room message ichatroommessage i chat room message event ichatroommessageevent message event messageevent get chat room message getchatroommessage handle chat room message handlechatroommessage get from d getfromid get message getmessage handle chat room message handlechatroommessage fromid string message body messagebody message chat room fromid get name getname index of indexof sender acc ount senderaccount message don resp ond respond message body messagebody index of indexof sender send message sendmessage kewl message body messagebody index of indexof sender send message sendmessage sender send message sendmessage ecf exception ecfexception print stack trace printstacktrace lock lock notify
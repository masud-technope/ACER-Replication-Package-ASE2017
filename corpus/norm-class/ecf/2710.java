copyright comp osent composent ibm rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation maarten meijer bug gzip encoded transfer henrich kraemer bug test https receive file testhttpsreceivefile fails http proxy henrich kraemer bug transport update site cont acting contacting down loading downloading cancel able cancelable henrich kraemer bug transport investigate main tain maintain http session org eclipse ecf provider filetransfer httpclient java filter input stream filterinputstream java io exception ioexception java input stream inputstream java net httpurlconnection java util collections java util hash map hashmap java util iterator java util map javax net socket factory socketfactory org apache commons httpclient credentials org apache commons httpclient header org apache commons httpclient host configuration hostconfiguration org apache commons httpclient http client httpclient org apache commons httpclient http connection httpconnection org apache commons httpclient http exception httpexception org apache commons httpclient http state httpstate org apache commons httpclient http status httpstatus org apache commons httpclient http version httpversion org apache commons httpclient nt credentials ntcredentials org apache commons httpclient username password credentials usernamepasswordcredentials org apache commons httpclient auth scope authscope org apache commons httpclient credentials provider credentialsprovider org apache commons httpclient methods get method getmethod org apache commons httpclient protocol protocol org apache commons httpclient protocol protocol socket factory protocolsocketfactory org apache commons httpclient protocol secure protocol socket factory secureprotocolsocketfactory org apache commons httpclient util date util dateutil org eclipse core runtime org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse core runtime status org eclipse ecf core identity org eclipse ecf core security callback org eclipse ecf core security callback handler callbackhandler org eclipse ecf core security i connect context iconnectcontext org eclipse ecf core security name callback namecallback org eclipse ecf core security object callback objectcallback org eclipse ecf core security unsupported callback exception unsupportedcallbackexception org eclipse ecf core util proxy org eclipse ecf core util proxy address proxyaddress org eclipse ecf core util trace org eclipse ecf filetransfer file transfer job filetransferjob org eclipse ecf filetransfer i file range specification ifilerangespecification org eclipse ecf filetransfer i file transfer pausable ifiletransferpausable org eclipse ecf filetransfer i file transfer runnable ifiletransferrunnable org eclipse ecf filetransfer i retrieve file transfer options iretrievefiletransferoptions org eclipse ecf filetransfer incoming file transfer exception incomingfiletransferexception org eclipse ecf filetransfer invalid file range specification exception invalidfilerangespecificationexception org eclipse ecf filetransfer events i file transfer connect start event ifiletransferconnectstartevent org eclipse ecf filetransfer events socket i socket event source isocketeventsource org eclipse ecf filetransfer events socket i socket listener isocketlistener org eclipse ecf filetransfer identity i file d ifileid org eclipse ecf internal provider filetransfer httpclient activator org eclipse ecf internal provider filetransfer httpclient connecting socket monitor connectingsocketmonitor org eclipse ecf internal provider filetransfer httpclient connection manager helper connectionmanagerhelper org eclipse ecf internal provider filetransfer httpclient debug options debugoptions org eclipse ecf internal provider filetransfer httpclient ecf http client protocol socket factory ecfhttpclientprotocolsocketfactory org eclipse ecf internal provider filetransfer httpclient ecf http client secure protocol socket factory ecfhttpclientsecureprotocolsocketfactory org eclipse ecf internal provider filetransfer httpclient http client proxy credential provider httpclientproxycredentialprovider org eclipse ecf internal provider filetransfer httpclient issl socket factory modifier isslsocketfactorymodifier org eclipse ecf internal provider filetransfer httpclient messages org eclipse ecf provider filetransfer events socket socket event source socketeventsource org eclipse ecf provider filetransfer identity file transfer d filetransferid org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer org eclipse ecf provider filetransfer retrieve http helper httphelper org eclipse ecf provider filetransfer util jre proxy helper jreproxyhelper org eclipse ecf provider filetransfer util proxy setup helper proxysetuphelper org eclipse osgi util nls http client retrieve file transfer httpclientretrievefiletransfer abstract retrieve file transfer abstractretrievefiletransfer gzip encoding wrapper httpclient copied mylyn project bug gzip get method gzipgetmethod get method getmethod nls string content encoding content encoding nls string accept encoding accept encoding nls string content encoding gzip gzip string content encoding accepted content encoding gzip gzip received gzipreceived gzip get method gzipgetmethod string url string urlstring url string urlstring is zipped response iszippedresponse bug https bugs eclipse org bugs bug cgi content encoding gzip contentencodinggzip get response header getresponseheader content encoding get response header getresponseheader content encoding get value getvalue equals content encoding gzip nls nls nls trace trace activator plugin content encoding gzip header content encoding gzip contentencodinggzip absent has gz suffix hasgzsuffix target has gz suffix targethasgzsuffix remote file name remotefilename content encoding gzip contentencodinggzip has gz suffix hasgzsuffix execute http state httpstate http connection httpconnection conn http exception httpexception io exception ioexception nls trace entering activator plugin debug options debugoptions methods entering get class getclass gzip get method gzipgetmethod execute insert accept encoding header result execute conn code deal impl ications implications bug https bugs eclipse org bugs bug cgi result http status httpstatus moved temp orarily temporarily http status httpstatus moved per manently permanently http status httpstatus http status httpstatus temp orary temporary redirect nls nls trace trace activator plugin gzip get method gzipgetmethod execute received redirect result removing gzip accept encoding gzip received gzipreceived remove request header removerequestheader gzip get method gzipgetmethod accept encoding test nls trace exiting activator plugin debug options debugoptions methods exiting get class getclass gzip get method gzipgetmethod execute integer result result input stream inputstream get response body as unzipped stream getresponsebodyasunzippedstream io exception ioexception gzip received gzipreceived is zipped response iszippedresponse input stream inputstream input get response body as stream getresponsebodyasstream gzip received gzipreceived trace trace activator plugin gzip input stream decode extract fly java util zip gzip input stream gzipinputstream input nls trace trace nls activator plugin nls gzip input stream io exception ioexception activator get default getdefault log status i status istatus warning activator plugin i status istatus warning exception creating gzip input stream input object release lock releaselock object override work around workaround https bugs eclipse org bugs bug cgi get method getmethod release connection releaseconnection reentrant reentrancy circumstances npe thrown multithreaded access release connection releaseconnection release lock releaselock release connection releaseconnection host config helper hostconfighelper i socket event source isocketeventsource source i socket listener isocketlistener socket listener socketlistener string targeturl string target relative path targetrelativepath host configuration hostconfiguration host configuration hostconfiguration host config helper hostconfighelper i socket event source isocketeventsource source i socket listener isocketlistener socket listener socketlistener is not null isnotnull source source source socket listener socketlistener socket listener socketlistener host configuration hostconfiguration host configuration hostconfiguration host configuration hostconfiguration get host configuration gethostconfiguration host configuration hostconfiguration drops scheme server port http server html html string get target relative path from l gettargetrelativepathfromurl string url rfc uri scheme hier query fragment hier authority path abempty path absolute path root less rootless path empty path path abempty empty path absolute path noscheme colon segment path root less rootless segment path empty characters routine supposed remove authority url relative path http clients httpclients method constructor get method getmethod string uri ecf executes methods passing host configuration hostconfiguration represents authority nls colon slash slash colonslashslash url index of indexof colon slash slash colonslashslash url authority authority character next slash nextslash url index of indexof colon slash slash colonslashslash next slash nextslash nls include slash string relativeurl url substring next slash nextslash full exp lanation explanation nls relativeurl starts with startswith string nls host nls relativeurl nls host nls relativeurl relativeurl set target host by l settargethostbyurl credentials provider credentialsprovider cred provider credprovider string url targeturl url target relative path targetrelativepath get target relative path from l gettargetrelativepathfromurl targeturl string host get host from l gethostfromurl targeturl port get port from l getportfromurl targeturl http client retrieve file transfer httpclientretrievefiletransfer url uses https urluseshttps targeturl issl socket factory modifier isslsocketfactorymodifier ssl socket factory modifier sslsocketfactorymodifier activator get default getdefault getsslsocketfactorymodifier ssl socket factory modifier sslsocketfactorymodifier ssl socket factory modifier sslsocketfactorymodifier http client default socket factory modifier httpclientdefaultsslsocketfactorymodifier secure protocol socket factory secureprotocolsocketfactory psf ecf http client secure protocol socket factory ecfhttpclientsecureprotocolsocketfactory ssl socket factory modifier sslsocketfactorymodifier source socket listener socketlistener protocol ssl protocol sslprotocol protocol http client retrieve file transfer httpclientretrievefiletransfer https protocol socket factory protocolsocketfactory psf https port nls nls trace trace activator plugin retrieve host host port port host configuration hostconfiguration set host sethost host port ssl protocol sslprotocol host configuration hostconfiguration get params getparams set parameter setparameter credentials provider credentialsprovider provider cred provider credprovider protocol socket factory protocolsocketfactory psf ecf http client protocol socket factory ecfhttpclientprotocolsocketfactory socket factory socketfactory get default getdefault source socket listener socketlistener protocol protocol protocol http client retrieve file transfer httpclientretrievefiletransfer http psf http port nls nls trace trace activator plugin retrieve host host port port host configuration hostconfiguration set host sethost host port protocol host configuration hostconfiguration get params getparams set parameter setparameter credentials provider credentialsprovider provider cred provider credprovider string get target relative path gettargetrelativepath target relative path targetrelativepath string use rname username prefix messages http client retrieve file transfer httpclientretrievefiletransfer username prefix changing minutes bug https bugs eclipse org bugs bug cgi system property org eclipse ecf provider filetransfer httpclient retrieve connect timeout connecttimeout https bugs eclipse org bugs bug cgi connection timeout connection manager helper connectionmanagerhelper connection timeout changing minutes bug https bugs eclipse org bugs bug cgi system property org eclipse ecf provider filetransfer httpclient retrieve read timeout readtimeout https bugs eclipse org bugs bug cgi read timeout connection manager helper connectionmanagerhelper read timeout http port https port max retry string https messages file transfer name space filetransfernamespace https protocol string http messages file transfer name space filetransfernamespace http protocol string supported protocols supportedprotocols http https nls string modified header modified gzip get method gzipgetmethod get method getmethod http client httpclient http client httpclient string username string password response code responsecode done fired donefired string remote file name remotefilename http version httpversion i file d ifileid file id fileid jre proxy helper jreproxyhelper proxy helper proxyhelper host config helper hostconfighelper host config helper hostconfighelper socket event source socketeventsource socket event source socketeventsource connecting socket monitor connectingsocketmonitor connecting sockets connectingsockets file transfer job filetransferjob connect job connectjob http client retrieve file transfer httpclientretrievefiletransfer http client httpclient client http client httpclient client proxy helper proxyhelper jre proxy helper jreproxyhelper connecting sockets connectingsockets connecting socket monitor connectingsocketmonitor socket event source socketeventsource socket event source socketeventsource object get adapter getadapter adapter adapter adapter is instance isinstance http client retrieve file transfer httpclientretrievefiletransfer get adapter getadapter adapter javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer get remote file name getremotefilename string get remote file name getremotefilename remote file name remotefilename cancel nls trace entering activator plugin debug options debugoptions methods entering get class getclass cancel is canceled iscanceled job cancel recursion set done canceled setdonecanceled exception fire done event firedoneevent connect job connectjob nls trace trace activator plugin calling connect job connectjob cancel connect job connectjob cancel job lock joblock job transfer jobs resp onsibility responsibility event fire done event firedoneevent nls trace trace nls activator plugin nls calling transfer job cancel job cancel get method getmethod get method getmethod is aborted isaborted nls trace trace nls activator plugin nls calling get method getmethod abort get method getmethod abort connecting sockets connectingsockets connecting sockets connectingsockets close sockets closesockets hard close hardclose fire done event firedoneevent fire transfer receive done event firetransferreceivedoneevent nls trace exiting activator plugin debug options debugoptions methods exiting get class getclass cancel javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer hard close hardclose hard close hardclose changed addr essing addressing bug https bugs eclipse org bugs bug cgi get method getmethod is done isdone paused is done isdone is paused ispaused get method getmethod abort release get method getmethod release connection releaseconnection get method getmethod close output stream supposed local file contents localfilecontents close output stream closeoutputstream local file contents localfilecontents close io exception ioexception activator get default getdefault log status i status istatus error activator plugin i status istatus error hard close hardclose clear input output str eams streams remote file contents remotefilecontents local file contents localfilecontents reset response code response code responsecode proxy helper exists dispose proxy helper proxyhelper is done isdone proxy helper proxyhelper dispose proxy helper proxyhelper credentials get file request credentials getfilerequestcredentials unsupported callback exception unsupportedcallbackexception io exception ioexception connect context connectcontext callback handler callbackhandler callback handler callbackhandler connect context connectcontext get callback handler getcallbackhandler callback handler callbackhandler name callback namecallback username callback usernamecallback name callback namecallback use rname username prefix object callback objectcallback password callback passwordcallback object callback objectcallback callback handler callbackhandler handle callback username callback usernamecallback password callback passwordcallback username username callback usernamecallback get name getname password string password callback passwordcallback get object getobject username password credentials usernamepasswordcredentials username password setup proxies setupproxies ecf api overrides platform settings proxy socks priority https bugs eclipse org bugs bug cgi proxy proxy setup helper proxysetuphelper get socks proxy getsocksproxy get remote file l getremotefileurl proxy proxy proxy setup helper proxysetuphelper get proxy getproxy get remote file l getremotefileurl to external form toexternalform no class def found error noclassdeffounderror activator log no proxy warning lognoproxywarning proxy setup proxy setupproxy proxy setup authentication setupauthentication string url string urlstring unsupported callback exception unsupportedcallbackexception io exception ioexception credentials credentials username credentials get file request credentials getfilerequestcredentials credentials username auth scope authscope auth scope authscope auth scope authscope get host from l gethostfromurl url string urlstring get port from l getportfromurl url string urlstring auth scope authscope realm nls trace trace activator plugin retrieve credentials credentials http client httpclient get state getstate set credentials setcredentials auth scope authscope credentials setup host and port setuphostandport credentials provider credentialsprovider cred provider credprovider string url string urlstring creates host config helper hostconfighelper needed get host configuration gethostconfiguration host config helper hostconfighelper set target host by l settargethostbyurl cred provider credprovider url string urlstring set request header values setrequestheadervalues invalid file range specification exception invalidfilerangespecificationexception i file range specification ifilerangespecification range spec rangespec get file range specification getfilerangespecification range spec rangespec start position startposition range spec rangespec get start position getstartposition end position endposition range spec rangespec get end position getendposition start position startposition invalid file range specification exception invalidfilerangespecificationexception messages http client retrieve file transfer httpclientretrievefiletransfer resume start position range spec rangespec end position endposition end position endposition start position startposition invalid file range specification exception invalidfilerangespecificationexception messages http client retrieve file transfer httpclientretrievefiletransfer resume error position start range spec rangespec nls nls nls nls string range header rangeheader bytes start position startposition end position endposition end position endposition nls trace trace activator plugin retrieve range header range header rangeheader set range header setrangeheader range header rangeheader nls max age maxage integer get integer getinteger org eclipse ecf http cache max age int value intvalue bug bug max age maxage nls nls get method getmethod add request header addrequestheader cache control max age max age maxage nls nls get method getmethod add request header addrequestheader cache control max age max age maxage set request header values from options setrequestheadervaluesfromoptions set request header values from options setrequestheadervaluesfromoptions map local options localoptions get options getoptions local options localoptions object local options localoptions i retrieve file transfer options iretrievefiletransferoptions request headers map map request headers requestheaders map iterator request headers requestheaders key set keyset iterator has next hasnext object object request headers requestheaders string string get method getmethod add request header addrequestheader string string set range header setrangeheader string nls get method getmethod add request header addrequestheader range ishttp http version httpversion get response code getresponsecode response code responsecode response code responsecode http version httpversion version get method getmethod get effective version geteffectiveversion version response code responsecode http version httpversion response code responsecode http version httpversion version get minor getminor response code responsecode get method getmethod get status code getstatuscode response code responsecode javadoc org eclipse ecf core identity i ide ntifiable iidentifiable getid getid file id fileid get last modified time from header getlastmodifiedtimefromheader io exception ioexception header last modified header lastmodifiedheader get method getmethod get response header getresponseheader modified header last modified header lastmodifiedheader io exception ioexception messages http client retrieve file transfer httpclientretrievefiletransfer invalid modified time string last modified string lastmodifiedstring last modified header lastmodifiedheader get value getvalue last modified lastmodified last modified string lastmodifiedstring last modified lastmodified date util dateutil parse date parsedate last modified string lastmodifiedstring get time gettime exception io exception ioexception messages http client retrieve file transfer httpclientretrievefiletransfer excepition invalid modified server last modified lastmodified get response header values getresponseheadervalues io exception ioexception get response code getresponsecode io exception ioexception messages http client retrieve file transfer httpclientretrievefiletransfer invalid server response partial range request header last modified header lastmodifiedheader get method getmethod get response header getresponseheader modified header last modified header lastmodifiedheader set last modified time setlastmodifiedtime get last modified time from header getlastmodifiedtimefromheader set file length setfilelength get method getmethod get response content length getresponsecontentlength file id fileid file transfer d filetransferid get retrieve name space getretrievenamespace get remote file l getremotefileurl content disposition header remote file header content disposition header contentdispositionheader get method getmethod get response header getresponseheader http helper httphelper content disposition header content disposition header contentdispositionheader remote file name remotefilename http helper httphelper get remote file name from content disposition header getremotefilenamefromcontentdispositionheader content disposition header contentdispositionheader get value getvalue path httpclient get method getmethod remote file name remotefilename extracted content disposition path get method getmethod string path str pathstr get method getmethod get path getpath path str pathstr path str pathstr length i path ipath path path from portable string fromportablestring path str pathstr path segment count segmentcount remote file name remotefilename path last segment lastsegment input file remote file name remotefilename res ort resort path initial url request remote file name remotefilename get remote file name getremotefilename ecf credentials provider ecfcredentialsprovider http client proxy credential provider httpclientproxycredentialprovider proxy getecfproxy get proxy getproxy credentials getntlmcredentials proxy hasforcentlmproxyoption http client retrieve file transfer httpclientretrievefiletransfer createntlmcredentials proxy get proxy getproxy proxy set input stream setinputstream input stream inputstream ins remote file contents remotefilecontents ins input stream inputstream wrap transfer read input stream wraptransferreadinputstream input stream inputstream input stream inputstream i progress monitor iprogressmonitor monitor add ress address bug https bugs eclipse org bugs bug cgi no close wrapper input stream noclosewrapperinputstream input stream inputstream add ress address bug https bugs eclipse org bugs bug cgi no close wrapper input stream noclosewrapperinputstream filter input stream filterinputstream no close wrapper input stream noclosewrapperinputstream input stream inputstream close hasforcentlmproxyoption map local options localoptions get options getoptions local options localoptions local options localoptions http client options httpclientoptions force ntlm prop system get properties getproperties get property getproperty http client options httpclientoptions force ntlm prop get socket read timeout getsocketreadtimeout connection manager helper connectionmanagerhelper get socket read timeout getsocketreadtimeout get options getoptions get connect timeout getconnecttimeout connection manager helper connectionmanagerhelper get connect timeout getconnecttimeout get options getoptions init http client connection manager inithttpclientconnectionmanager activator get default getdefault get connection manager helper getconnectionmanagerhelper init connection manager initconnectionmanager http client httpclient get options getoptions javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer open streams openstreams open streams openstreams incoming file transfer exception incomingfiletransferexception nls trace entering activator plugin debug options debugoptions methods entering get class getclass open streams openstreams string url string urlstring get remote file l getremotefileurl to string tostring done fired donefired code init http client connection manager inithttpclientconnectionmanager setup authentication setupauthentication url string urlstring credentials provider credentialsprovider cred provider credprovider ecf credentials provider ecfcredentialsprovider setup host and port setuphostandport cred provider credprovider url string urlstring get method getmethod gzip get method gzipgetmethod host config helper hostconfighelper get target relative path gettargetrelativepath nls nls get method getmethod add request header addrequestheader connection alive get method getmethod set follow redirects setfollowredirects define credentials provider credentialsprovider pos sibility possibility debug ging debugging org apache commons httpclient http method dir ector httpmethoddirector process proxy auth challenge processproxyauthchallenge http method httpmethod select credentials get method getmethod get params getparams set parameter setparameter credentials provider credentialsprovider provider cred provider credprovider set request header values setrequestheadervalues nls trace trace activator plugin retrieve url string urlstring target remote file bug https bugs eclipse org bugs bug cgi get file range specification getfilerangespecification target has gz suffix targethasgzsuffix get remote file name getremotefilename nls trace trace nls activator plugin nls accept encoding gzip request header get method getmethod set request header setrequestheader gzip get method gzipgetmethod accept encoding gzip get method gzipgetmethod content encoding accepted nls trace trace nls activator plugin nls accept encoding header fire connect start event fireconnectstartevent check and handle done checkandhandledone connecting sockets connectingsockets clear redirect response code handled int ernally internally connect job connectjob perform connect performconnect null progress monitor nullprogressmonitor connect job connectjob schedule connect job connectjob join connect job connectjob check and handle done checkandhandledone code response code responsecode response headers responseheaders get response headers getresponseheaders nls trace trace activator plugin retrieve resp code check ntlm proxy response headers check deal bug https bugs eclipse org bugs bug cgi ntlm proxy found ntlmproxyfound ntlm proxy detector ntlmproxydetector detectntlmproxy get method getmethod ntlm proxy found ntlmproxyfound hasforcentlmproxyoption nls incoming file transfer exception incomingfiletransferexception nls http client httpclient provider configured support ntlm proxy authentication nls http client options httpclientoptions ntlm proxy response code code httpurlconnection http partial code httpurlconnection http get response header values getresponseheadervalues set input stream setinputstream get method getmethod get response body as unzipped stream getresponsebodyasunzippedstream fire receive start event firereceivestartevent code httpurlconnection http get method getmethod release connection releaseconnection nls incoming file transfer exception incomingfiletransferexception nls nls bind file url string urlstring nls code code httpurlconnection http unauthorized get method getmethod release connection releaseconnection incoming file transfer exception incomingfiletransferexception messages http client retrieve file transfer httpclientretrievefiletransfer unauthorized code code httpurlconnection http forbidden get method getmethod release connection releaseconnection nls incoming file transfer exception incomingfiletransferexception nls for bidden forbidden nls code code httpurlconnection http proxy get method getmethod release connection releaseconnection incoming file transfer exception incomingfiletransferexception messages http client retrieve file transfer httpclientretrievefiletransfer proxy required code get method getmethod release connection releaseconnection incoming file transfer exception incomingfiletransferexception nls bind messages http client retrieve file transfer httpclientretrievefiletransfer error general response code integer code code exception trace throwing activator plugin debug options debugoptions exceptions throwing get class getclass open streams openstreams code is done isdone set done exception setdoneexception fire transfer receive done event firetransferreceivedoneevent incoming file transfer exception incomingfiletransferexception incoming file transfer exception incomingfiletransferexception incoming file transfer exception incomingfiletransferexception incoming file transfer exception incomingfiletransferexception nls bind messages http client retrieve file transfer httpclientretrievefiletransfer exception connect url string urlstring code nls trace exiting activator plugin debug options debugoptions methods exiting get class getclass open streams openstreams map get response headers getresponseheaders get method getmethod header headers get method getmethod get response headers getresponseheaders map result headers headers length result hash map hashmap headers length string headers get name getname string val headers get value getvalue val result val collections unmodifiable map unmodifiablemap result check and handle done checkandhandledone is done isdone cancel event fire d fired done fired donefired fire transfer receive done event firetransferreceivedoneevent javadoc org eclipse ecf filetransfer i retrieve file transfer container adapter iretrievefiletransfercontaineradapter set connect context for authentication setconnectcontextforauthentication org eclipse ecf core security i connect context iconnectcontext set connect context for authentication setconnectcontextforauthentication i connect context iconnectcontext connect context connectcontext set connect context for authentication setconnectcontextforauthentication connect context connectcontext username password string get host from l gethostfromurl string url string result url nls colon slash slash colonslashslash url index of indexof colon slash slash colonslashslash nls colon slash slash colonslashslash result url substring colon slash slash colonslashslash colon port colonport result index of indexof request path requestpath result index of indexof substring end substringend colon port colonport request path requestpath substring end substringend math min colon port colonport request path requestpath colon port colonport substring end substringend colon port colonport request path requestpath substring end substringend request path requestpath substring end substringend result length result substring substring end substringend get port from l getportfromurl string url nls colon slash slash colonslashslash url index of indexof colon slash slash colonslashslash url uses https urluseshttps url https port http port wrong url colon port colonport colon port colonport url index of indexof colon slash slash colonslashslash colon port colonport url uses https urluseshttps url https port http port colon port colonport url next slash nextslash url index of indexof colon slash slash colonslashslash next slash nextslash colon port colonport next slash nextslash url uses https urluseshttps url https port http port colon port colonport credentials uri at server atserver url index of indexof colon slash slash colonslashslash at server atserver colon port colonport at server atserver at server atserver next slash nextslash colon port colonport url index of indexof at server atserver colon port colonport url uses https urluseshttps url https port http port request path requestpath url index of indexof colon port colonport request path requestpath url length request path requestpath integer parse int parseint url substring colon port colonport url uses https urluseshttps string url url url trim url starts with startswith https javadoc org eclipse ecf internal provider filetransfer abstract retrieve file transfer abstractretrievefiletransfer supports protocol supportsprotocol java lang string supports protocol supportsprotocol string protocol string protocolstring supported protocols supportedprotocols length supported protocols supportedprotocols equals ignore case equalsignorecase protocol string protocolstring is connected isconnected get method getmethod javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer do pause dopause do pause dopause is paused ispaused is connected isconnected is done isdone paused paused javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer do resume doresume do resume doresume is paused ispaused is connected isconnected open streams for resume openstreamsforresume set resume request header values setresumerequestheadervalues io exception ioexception bytes received bytesreceived file length filelength bytes received bytesreceived io exception ioexception messages http client retrieve file transfer httpclientretrievefiletransfer resume start error nls nls set range header setrangeheader bytes bytes received bytesreceived nls max age maxage integer get integer getinteger org eclipse ecf http cache max age int value intvalue bug bug max age maxage nls nls get method getmethod add request header addrequestheader cache control max age max age maxage nls nls get method getmethod add request header addrequestheader cache control max age max age maxage set request header values from options setrequestheadervaluesfromoptions open streams for resume openstreamsforresume nls trace entering activator plugin debug options debugoptions methods entering get class getclass open streams for resume openstreamsforresume string url string urlstring get remote file l getremotefileurl to string tostring done fired donefired code init http client connection manager inithttpclientconnectionmanager credentials provider credentialsprovider cred provider credprovider ecf credentials provider ecfcredentialsprovider setup authentication setupauthentication url string urlstring setup host and port setuphostandport cred provider credprovider url string urlstring get method getmethod gzip get method gzipgetmethod host config helper hostconfighelper get target relative path gettargetrelativepath nls nls get method getmethod add request header addrequestheader connection alive get method getmethod set follow redirects setfollowredirects define credentials provider credentialsprovider pos sibility possibility debug ging debugging org apache commons httpclient http method dir ector httpmethoddirector process proxy auth challenge processproxyauthchallenge http method httpmethod select credentials get method getmethod get params getparams set parameter setparameter credentials provider credentialsprovider provider cred provider credprovider set resume request header values setresumerequestheadervalues nls trace trace activator plugin resume url string urlstring gzip encoding option resume fire connect start event fireconnectstartevent check and handle done checkandhandledone connecting sockets connectingsockets clear redirect response code handled int ernally internally connect job connectjob perform connect performconnect null progress monitor nullprogressmonitor connect job connectjob schedule connect job connectjob join connect job connectjob check and handle done checkandhandledone code response code responsecode response headers responseheaders get response headers getresponseheaders nls trace trace activator plugin retrieve resp code code httpurlconnection http partial code httpurlconnection http get resume response header values getresumeresponseheadervalues set input stream setinputstream get method getmethod get response body as unzipped stream getresponsebodyasunzippedstream paused fire receive resume d event firereceiveresumedevent code httpurlconnection http get method getmethod release connection releaseconnection nls incoming file transfer exception incomingfiletransferexception nls nls bind file url string urlstring nls code nls response headers responseheaders code httpurlconnection http unauthorized get method getmethod release connection releaseconnection incoming file transfer exception incomingfiletransferexception messages http client retrieve file transfer httpclientretrievefiletransfer unauthorized code response headers responseheaders code httpurlconnection http forbidden get method getmethod release connection releaseconnection nls incoming file transfer exception incomingfiletransferexception nls for bidden forbidden nls code nls response headers responseheaders code httpurlconnection http proxy get method getmethod release connection releaseconnection incoming file transfer exception incomingfiletransferexception messages http client retrieve file transfer httpclientretrievefiletransfer proxy required code response headers responseheaders get method getmethod release connection releaseconnection incoming file transfer exception incomingfiletransferexception nls bind messages http client retrieve file transfer httpclientretrievefiletransfer error general response code integer code code response headers responseheaders nls trace exiting activator plugin debug options debugoptions methods exiting get class getclass open streams for resume openstreamsforresume exception trace cat ching catching activator plugin debug options debugoptions exceptions cat ching catching get class getclass open streams for resume openstreamsforresume code is done isdone set done exception setdoneexception set done exception setdoneexception incoming file transfer exception incomingfiletransferexception incoming file transfer exception incomingfiletransferexception nls bind messages http client retrieve file transfer httpclientretrievefiletransfer exception connect url string urlstring code response headers responseheaders fire transfer receive done event firetransferreceivedoneevent trace exiting activator plugin debug options debugoptions methods exiting get class getclass open streams for resume openstreamsforresume get resume response header values getresumeresponseheadervalues io exception ioexception get response code getresponsecode httpurlconnection http partial io exception ioexception last modified time lastmodifiedtime get last modified time from header getlastmodifiedtimefromheader io exception ioexception messages http client retrieve file transfer httpclientretrievefiletransfer exception file modified access javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer get adapter getadapter java lang object get adapter getadapter adapter adapter adapter equals i file transfer pausable ifiletransferpausable ishttp adapter equals i socket event source isocketeventsource socket event source socketeventsource get adapter getadapter adapter host configuration hostconfiguration get host configuration gethostconfiguration host config helper hostconfighelper host config helper hostconfighelper host config helper hostconfighelper socket event source socketeventsource connecting sockets connectingsockets host config helper hostconfighelper get host configuration gethostconfiguration javadoc org eclipse ecf provider filetransfer retrieve abstract retrieve file transfer abstractretrievefiletransfer setup proxy setupproxy org eclipse ecf core util proxy setup proxy setupproxy proxy proxy proxy get type gettype equals proxy type http proxy address proxyaddress add ress address proxy get address getaddress get host configuration gethostconfiguration set proxy setproxy add ress address get host name gethostname add ress address get port getport proxy get type gettype equals proxy type socks nls trace trace activator plugin retrieve sock sproxy socksproxy proxy get address getaddress proxy helper proxyhelper setup proxy setupproxy proxy nt credentials ntcredentials createntlmcredentials proxy string getntlmusername string domain getntlmdomainname domain nt credentials ntcredentials get password getpassword get address getaddress get host name gethostname domain string getntlmdomainname proxy string domain username domainusername get username getusername domain username domainusername slashloc domain username domainusername index of indexof slashloc domain username domainusername substring slashloc string getntlmusername proxy string domain username domainusername get username getusername domain username domainusername slashloc domain username domainusername index of indexof slashloc domain username domainusername substring slashloc fire connect start event fireconnectstartevent trace entering activator plugin debug options debugoptions methods entering get class getclass fire connect start event fireconnectstartevent listener handle transfer event handletransferevent i file transfer connect start event ifiletransferconnectstartevent i file d ifileid get file d getfileid remote file d remotefileid cancel http client retrieve file transfer httpclientretrievefiletransfer cancel file transfer job filetransferjob prepare connect job prepareconnectjob file transfer job filetransferjob http client retrieve file transfer httpclientretrievefiletransfer prepare connect job prepareconnectjob connect using job connectusingjob file transfer job filetransferjob http client retrieve file transfer httpclientretrievefiletransfer connect using job connectusingjob string to string tostring string buffer stringbuffer string buffer stringbuffer i file transfer connect start event ifiletransferconnectstartevent append get file d getfileid append to string tostring object get adapter getadapter adapter http client retrieve file transfer httpclientretrievefiletransfer get adapter getadapter adapter string create connect job name createconnectjobname get remote file l getremotefileurl to string tostring create range name createrangename messages http client retrieve file transfer httpclientretrievefiletransfer connecting job file transfer job filetransferjob prepare connect job prepareconnectjob file transfer job filetransferjob cjob cjob cjob file transfer job filetransferjob create job name createjobname cjob set file transfer setfiletransfer cjob set file transfer runnable setfiletransferrunnable file connect runnable fileconnectrunnable cjob connect using job connectusingjob file transfer job filetransferjob cjob is not null isnotnull cjob connect job connectjob cjob i file transfer runnable ifiletransferrunnable file connect runnable fileconnectrunnable i file transfer runnable ifiletransferrunnable i status istatus perform file transfer performfiletransfer i progress monitor iprogressmonitor monitor perform connect performconnect monitor i status istatus perform connect performconnect i progress monitor iprogressmonitor monitor ticks monitor begin task begintask get remote file l getremotefileurl to string tostring messages http client retrieve file transfer httpclientretrievefiletransfer connecting task ticks monitor is canceled iscanceled new user cancelled exception newusercancelledexception response code responsecode http client httpclient execute method executemethod get host configuration gethostconfiguration get method getmethod trace trace activator plugin retrieve resp response code responsecode exception trace cat ching catching activator plugin debug options debugoptions exceptions cat ching catching get class getclass perform connect performconnect is done isdone set done exception setdoneexception monitor status status fire receive resume d event firereceiveresumedevent trace entering activator plugin debug options debugoptions methods entering get class getclass fire receive resume d event firereceiveresumedevent len file length filelength rcvd bytes received bytesreceived fire receive resume d event firereceiveresumedevent fire transfer receive data event firetransferreceivedataevent trace entering activator plugin debug options debugoptions methods entering get class getclass fire transfer receive data event firetransferreceivedataevent len file length filelength rcvd bytes received bytesreceived fire transfer receive data event firetransferreceivedataevent fire transfer receive done event firetransferreceivedoneevent trace entering activator plugin debug options debugoptions methods entering get class getclass fire transfer receive done event firetransferreceivedoneevent len file length filelength rcvd bytes received bytesreceived done fired donefired fire transfer receive done event firetransferreceivedoneevent fire transfer receive paused event firetransferreceivepausedevent trace entering activator plugin debug options debugoptions methods entering get class getclass fire transfer receive paused event firetransferreceivepausedevent len file length filelength rcvd bytes received bytesreceived fire transfer receive paused event firetransferreceivepausedevent
copyright jive software rights reserved licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smackx search org jivesoftware smack packet collector packetcollector org jivesoftware smack smack configuration smackconfiguration org jivesoftware smack connection org jivesoftware smack xmpp exception xmppexception org jivesoftware smack filter packetidfilter org jivesoftware smack packet org jivesoftware smack provider iq provider iqprovider org jivesoftware smack util packet parser utils packetparserutils org jivesoftware smackx form org jivesoftware smackx form field formfield org jivesoftware smackx reported data reporteddata org jivesoftware smackx packet data form dataform org xml pull xmlpull xml pull parser xmlpullparser protocol search repositories jabber net work network jabber search protocol search people registered user directories jabber user directory hosted users jabber org jabber search protocol limited user directories search jabber repositories chatroom directories provide jabber conventional search engines basic functionality query repository search fields send search query receive search author derek d e moro demoro user search usersearch creates instance user search usersearch user search usersearch string get child element l getchildelementxml string builder stringbuilder buf string builder stringbuilder buf append query xml ns xmlns jabber search buf append getextensionsxml buf append query buf to string tostring returns form search fields supported search service param con current connection param search service searchservice search service search jivesoftware search form received server org jivesoftware smack xmpp exception xmppexception thrown server error occurred form get search form getsearchform connection con string search service searchservice xmpp exception xmppexception user search usersearch search user search usersearch search set type settype type search set to setto search service searchservice packet collector packetcollector collector con create packet collector createpacketcollector packetidfilter search get packet d getpacketid con send packet sendpacket search response collector next result nextresult smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout cancel collector collector cancel response xmpp exception xmppexception response server status response get error geterror xmpp exception xmppexception response get error geterror form get form from getformfrom response s ends sends filled answer form queried search service param con current connection param search form searchform code form code send querying param search service searchservice search service search jivesoftware reported data reporteddata data query org jivesoftware smack xmpp exception xmppexception thrown server error occurred reported data reporteddata send search form sendsearchform connection con form search form searchform string search service searchservice xmpp exception xmppexception user search usersearch search user search usersearch search set type settype type search set to setto search service searchservice search add extension addextension search form searchform get data form to send getdataformtosend packet collector packetcollector collector con create packet collector createpacketcollector packetidfilter search get packet d getpacketid con send packet sendpacket search response collector next result nextresult smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout cancel collector collector cancel response xmpp exception xmppexception response server status response get error geterror send simple search form sendsimplesearchform con search form searchform search service searchservice reported data reporteddata get reported data from getreporteddatafrom response s ends sends filled answer form queried search service param con current connection param search form searchform code form code send querying param search service searchservice search service search jivesoftware reported data reporteddata data query org jivesoftware smack xmpp exception xmppexception thrown server error occurred reported data reporteddata send simple search form sendsimplesearchform connection con form search form searchform string search service searchservice xmpp exception xmppexception simple user search simpleusersearch search simple user search simpleusersearch search set form setform search form searchform search set type settype type search set to setto search service searchservice packet collector packetcollector collector con create packet collector createpacketcollector packetidfilter search get packet d getpacketid con send packet sendpacket search response collector next result nextresult smack configuration smackconfiguration get packet reply timeout getpacketreplytimeout cancel collector collector cancel response xmpp exception xmppexception response server status response get error geterror xmpp exception xmppexception response get error geterror response simple user search simpleusersearch simple user search simpleusersearch response get reported data getreporteddata internal search service provider provider iq provider iqprovider provider constructor provider parseiq xml pull parser xmlpullparser parser exception user search usersearch search simple user search simpleusersearch simple user search simpleusersearch simple user search simpleusersearch event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals instructions build data form builddataform simple user search simpleusersearch parser next text nexttext parser simple user search simpleusersearch event type eventtype xml pull parser xmlpullparser start tag parser get name getname equals item simple user search simpleusersearch parse items parseitems parser simple user search simpleusersearch event type eventtype xml pull parser xmlpullparser start tag parser get name space getnamespace equals jabber data packet extension search user search usersearch search add extension addextension packet parser utils packetparserutils parse packet extension parsepacketextension parser get name getname parser get name space getnamespace parser event type eventtype xml pull parser xmlpullparser tag parser get name getname equals query search search simple user search simpleusersearch build data form builddataform simple user search simpleusersearch search string instructions xml pull parser xmlpullparser parser exception data form dataform data form dataform data form dataform form type form data form dataform set title settitle user search data form dataform add instruction addinstruction instructions event type eventtype parser event type eventtype xml pull parser xmlpullparser start tag parser get name space getnamespace equals jabber data string parser get name getname form field formfield field form field formfield handle hard code d coded values equals field set label setlabel equals field set label setlabel equals email field set label setlabel email address equals nick field set label setlabel nickname field set type settype form field formfield type text single data form dataform add field addfield field event type eventtype xml pull parser xmlpullparser tag parser get name getname equals query event type eventtype xml pull parser xmlpullparser start tag parser get name space getnamespace equals jabber data search add extension addextension packet parser utils packetparserutils parse packet extension parsepacketextension parser get name getname parser get name space getnamespace parser search get extension getextension jabber data search add extension addextension data form dataform
generics note genericsnote converted represented internal str uctures structures big change copyright apache software foundation licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org jivesoftware smack util collect ions collections java io exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java util implementation hash based map num erous numerous points subclasses override features subclass hash based map key entries stored instances code hash entry hashentry code overridden replaced iter ators iterators replaced replace key set keyset entry set entryset values view classes overridable methods change has hing hashing behaviour change entries removed map unusual subclasses note commons collections abstract map abstractmap provide compatibility reference map referencemap clause removed author java util hash map hashmap author matt hall john watkinson step hen stephen colebourne version revision commons collections abstract hashed map abstracthashedmap abstract map abstractmap iterable map iterablemap string entry entry iteration string previous entry previous entry iteration string remove invalid remove called string get key getkey invalid get key getkey called remove string get value getvalue invalid get value getvalue called remove string set value setvalue invalid set value setvalue called remove capacity capacity threshold threshold load factor load factor maximum capacity allowed maximum capacity object masking object object load factor load factor loadfactor size map size map entries hash entry hashentry data size rehash threshold modification count iter ators iterators mod count modcount entry entry set entryset entry set entryset key key set keyset key set keyset values values values constructor deserialization abstract hashed map abstracthashedmap constructor performs validation passed parameters param initial capacity initialcapacity initial capacity power param load factor loadfactor load factor gen erally generally param threshold threshold abstract hashed map abstracthashedmap initial capacity initialcapacity load factor loadfactor threshold load factor loadfactor load factor loadfactor data hash entry hashentry initial capacity initialcapacity threshold threshold init constructs empty map initial capacity load factor param initial capacity initialcapacity initial capacity illegal argument exception illegalargumentexception initial capacity abstract hashed map abstracthashedmap initial capacity initialcapacity initial capacity initialcapacity load factor constructs empty map initial capacity load factor param initial capacity initialcapacity initial capacity param load factor loadfactor load factor illegal argument exception illegalargumentexception initial capacity illegal argument exception illegalargumentexception load factor equal abstract hashed map abstracthashedmap initial capacity initialcapacity load factor loadfactor initial capacity initialcapacity illegal argument exception illegalargumentexception initial capacity greater load factor loadfactor is na n isnan load factor loadfactor illegal argument exception illegalargumentexception load factor greater load factor loadfactor load factor loadfactor threshold calculate threshold calculatethreshold initial capacity initialcapacity load factor loadfactor initial capacity initialcapacity calculate new capacity calculatenewcapacity initial capacity initialcapacity data hash entry hashentry initial capacity initialcapacity init constructor copying elements map param map map copy null pointer exception nullpointerexception map abstract hashed map abstracthashedmap map map math max map size capacity load factor put all putall map init ialise initialise subclasses construction cloning deserialization init mapped key param key key mapped match object key hash code hashcode hash key key local hash hash entry hashentry entry data hash index hashindex hash code hashcode data length entry entry hash code hashcode hash code hashcode is equal key isequalkey key entry key entry get value getvalue entry entry size map size size size checks map empty map size is empty isempty size checks map key param key key search map key contains key containskey object key hash code hashcode hash key key local hash hash entry hashentry entry data hash index hashindex hash code hashcode data length entry entry hash code hashcode hash code hashcode is equal key isequalkey key entry get key getkey entry entry checks map param search map contains value containsvalue object isize data length isize hash entry hashentry entry data entry entry get value getvalue entry entry isize data length isize hash entry hashentry entry data entry is equal value isequalvalue entry get value getvalue entry entry puts key mapping map param key key add param add mapped key key hash code hashcode hash key key hash index hashindex hash code hashcode data length hash entry hashentry entry data entry entry hash code hashcode hash code hashcode is equal key isequalkey key entry get key getkey old value oldvalue entry get value getvalue update entry updateentry entry old value oldvalue entry entry add mapping addmapping hash code hashcode key puts values map map implementation iter ates iterates map link object object param map map add null pointer exception nullpointerexception map put all putall map map map size mapsize map size map size mapsize new size newsize size map size mapsize load factor loadfactor ensure capacity ensurecapacity calculate new capacity calculatenewcapacity new size newsize compiler inference problems iterator map entry set entryset iterator has next hasnext map entry entry map entry entry get key getkey entry get value getvalue removes mapping map param key mapping remove mapped removed key key map remove object key hash code hashcode hash key key hash index hashindex hash code hashcode data length hash entry hashentry entry data hash entry hashentry previous entry entry hash code hashcode hash code hashcode is equal key isequalkey key entry get key getkey old value oldvalue entry get value getvalue remove mapping removemapping entry previous old value oldvalue previous entry entry entry clears map reset ting resetting size null ifying nullifying references avoid garbage collection issues clear mod count modcount hash entry hashentry data data data length data size hash code key implementation additional has hing hashing routine jdk subclasses override alternate hash codes param key key hash code hash code hash object key jdk key hash code hashcode compares internal converted form equal implementation equals method subclasses override match differently param key key compare passed param key key extracted entry code entry key code equal is equal key isequalkey object key object key key key key key equals key compares values external form equal implementation equals method assumes subclasses override match differently param compare passed param extracted entry code get value getvalue code equal is equal value isequalvalue object object equals data storage hash code hashcode implementation bits hash code hashcode subclasses override alternate bucketing param hash code hashcode hash code param data size datasize size data pick bucket bucket hash index hashindex hash code hashcode data size datasize hash code hashcode data size datasize entry mapped key method exists subclasses perform multi step process accessing entry methods don method gain small performance boost param key key entry match hash entry hashentry get entry getentry object key hash code hashcode hash key key local hash hash entry hashentry entry data hash index hashindex hash code hashcode data length entry entry hash code hashcode hash code hashcode is equal key isequalkey key entry get key getkey entry entry entry updates existing key mapping change implementation calls code set value setvalue code entry subclasses override handle map param entry entry update param new value newvalue store update entry updateentry hash entry hashentry entry new value newvalue entry set value setvalue new value newvalue reuses existing key mapping storing completely data implementation sets data fields entry subclasses populate additional entry fields param entry entry update param hash index hashindex data array param hash code hashcode hash code key add param key key add param add reuse entry reuseentry hash entry hashentry entry hash index hashindex hash code hashcode key entry data hash index hashindex entry hash code hashcode hash code hashcode entry key key entry adds key mapping map implementation calls code create entry createentry code code add entry addentry code code check capacity checkcapacity code handles code mod count modcount code code size code subclasses override fully control adds map param hash index hashindex data array store param hash code hashcode hash code key add param key key add param add add mapping addmapping hash index hashindex hash code hashcode key mod count modcount hash entry hashentry entry create entry createentry data hash index hashindex hash code hashcode key add entry addentry entry hash index hashindex size check capacity checkcapacity creates entry store key data implementation creates hash entry hashentry instance subclasses override storage implement caching param entry sequence param hash code hashcode hash code param key key store param store newly created entry hash entry hashentry create entry createentry hash entry hashentry hash code hashcode key hash entry hashentry hash code hashcode key adds entry map implementation adds entry data storage table subclasses override handle map param entry entry add param hash index hashindex data array store add entry addentry hash entry hashentry entry hash index hashindex data hash index hashindex entry removes mapping map implementation calls code remove entry removeentry code code destroy entry destroyentry code handles code mod count modcount code code size code subclasses override fully control removals map param entry entry remove param hash index hashindex data structure param previous previous entry chain remove mapping removemapping hash entry hashentry entry hash index hashindex hash entry hashentry previous mod count modcount remove entry removeentry entry hash index hashindex previous size destroy entry destroyentry entry removes entry chain stored implementation removes entry data storage table size updated subclasses override handle map param entry entry remove param hash index hashindex data structure param previous previous entry chain remove entry removeentry hash entry hashentry entry hash index hashindex hash entry hashentry previous previous data hash index hashindex entry previous entry kills entry ready garbage collector implementation prepares hash entry hashentry garbage collection subclasses override implement caching override clear param entry entry destroy destroy entry destroyentry hash entry hashentry entry entry entry key entry checks capacity map enlarges implementation threshold check map enlarging check capacity checkcapacity size threshold new capacity newcapacity data length new capacity newcapacity maximum capacity ensure capacity ensurecapacity new capacity newcapacity size data structure capacity proposed param new capacity newcapacity capacity array power equal max ensure capacity ensurecapacity new capacity newcapacity old capacity oldcapacity data length new capacity newcapacity old capacity oldcapacity size threshold calculate threshold calculatethreshold new capacity newcapacity load factor loadfactor data hash entry hashentry new capacity newcapacity hash entry hashentry old entries oldentries data hash entry hashentry new entries newentries hash entry hashentry new capacity newcapacity mod count modcount old capacity oldcapacity hash entry hashentry entry old entries oldentries entry old entries oldentries hash entry hashentry entry hash index hashindex entry hash code hashcode new capacity newcapacity entry new entries newentries new entries newentries entry entry entry threshold calculate threshold calculatethreshold new capacity newcapacity load factor loadfactor data new entries newentries calculates capacity map implementation normal izes normalizes capacity power param proposed capacity proposedcapacity proposed capacity normalized capacity calculate new capacity calculatenewcapacity proposed capacity proposedcapacity new capacity newcapacity proposed capacity proposedcapacity maximum capacity new capacity newcapacity maximum capacity new capacity newcapacity proposed capacity proposedcapacity multiply new capacity newcapacity new capacity newcapacity maximum capacity new capacity newcapacity maximum capacity new capacity newcapacity calculates threshold map resize d resized implementation load factor param new capacity newcapacity capacity param factor load factor resize threshold calculate threshold calculatethreshold new capacity newcapacity factor new capacity newcapacity factor code code field code hash entry hashentry code subclasses visibility field param entry entry query code code field entry null pointer exception nullpointerexception entry commons collections hash entry hashentry entry next entrynext hash entry hashentry entry entry code hash code hashcode code field code hash entry hashentry code subclasses visibility field param entry entry query code hash code hashcode code field entry null pointer exception nullpointerexception entry commons collections entry hash code entryhashcode hash entry hashentry entry entry hash code hashcode code key code field code hash entry hashentry code subclasses visibility field param entry entry query code key code field entry null pointer exception nullpointerexception entry commons collections entry key entrykey hash entry hashentry entry entry key code code field code hash entry hashentry code subclasses visibility field param entry entry query code code field entry null pointer exception nullpointerexception entry commons collections entry value entryvalue hash entry hashentry entry entry iterator map iterator affect map map iterator mapiterator returns map convenient methods key avoids create entry set entryset key set keyset values object avoids creating map entry object map iterator map iterator mapiterator map iterator mapiterator size empty map iterator emptymapiterator instance hash map iterator hashmapiterator map iterator mapiterator implementation hash map iterator hashmapiterator hash iterator hashiterator map iterator mapiterator hash map iterator hashmapiterator abstract hashed map abstracthashedmap parent parent next entry nextentry get key getkey get key getkey hash entry hashentry current current entry currententry current illegal state exception illegalstateexception abstract hashed map abstracthashedmap get key getkey invalid current get key getkey get value getvalue hash entry hashentry current current entry currententry current illegal state exception illegalstateexception abstract hashed map abstracthashedmap get value getvalue invalid current get value getvalue set value setvalue hash entry hashentry current current entry currententry current illegal state exception illegalstateexception abstract hashed map abstracthashedmap set value setvalue invalid current set value setvalue entry set entryset view map view affect map simply iterate entries link map iterator mapiterator entry set entryset view map entry entry set entryset entry set entryset entry set entryset entry set entryset entry set entryset creates entry iterator subclasses override iter ators iterators properties entry set entryset iterator iterator map entry create entry set iterator createentrysetiterator size empty iterator emptyiterator instance entry set iterator entrysetiterator entry set entryset implementation entry set entryset abstract set abstractset map entry parent map abstract hashed map abstracthashedmap parent entry set entryset abstract hashed map abstracthashedmap parent parent parent size parent size clear parent clear map entry entry map entry entry entry match parent get entry getentry get key getkey match match equals remove object obj obj map entry obj map entry entry map entry obj key entry get key getkey parent remove key iterator map entry iterator parent create entry set iterator createentrysetiterator entry set entryset iterator entry set iterator entrysetiterator hash iterator hashiterator iterator map entry entry set iterator entrysetiterator abstract hashed map abstracthashedmap parent parent hash entry hashentry next entry nextentry key set keyset view map view affect map simply iterate link map iterator mapiterator key set keyset view key set keyset key set keyset key set keyset key set keyset key set keyset creates key iterator subclasses override iter ators iterators properties key set keyset iterator iterator create key set iterator createkeysetiterator size empty iterator emptyiterator instance key set iterator keysetiterator key set keyset implementation key set keyset abstract set abstractset abstract hashed map abstracthashedmap parent key set keyset abstract hashed map abstracthashedmap parent parent parent size parent size clear parent clear object key parent contains key containskey key remove object key result parent contains key containskey key parent remove key result iterator iterator parent create key set iterator createkeysetiterator key set keyset iterator key set iterator keysetiterator hash iterator hashiterator iterator key set iterator keysetiterator abstract hashed map abstracthashedmap parent parent next entry nextentry get key getkey values view map view affect map simply iterate values link map iterator mapiterator values view collection values values values values values creates values iterator subclasses override iter ators iterators properties values iterator iterator create values iterator createvaluesiterator size empty iterator emptyiterator instance values iterator valuesiterator values implementation values abstract collection abstractcollection abstract hashed map abstracthashedmap parent values abstract hashed map abstracthashedmap parent parent parent size parent size clear parent clear object parent contains value containsvalue iterator iterator parent create values iterator createvaluesiterator values iterator values iterator valuesiterator hash iterator hashiterator iterator values iterator valuesiterator abstract hashed map abstracthashedmap parent parent next entry nextentry get value getvalue hash entry hashentry store data subclass code abstract hashed map abstracthashedmap code code hash entry hashentry code access fields code entry xxx entryxxx code methods code abstract hashed map abstracthashedmap code exist provide access hash entry hashentry map entry key value keyvalue entry hash chain hash entry hashentry hash code key hash code hashcode key key hash entry hashentry hash entry hashentry hash code hashcode key hash code hashcode hash code hashcode key key get key getkey key set key setkey key key key get value getvalue set value setvalue equals object obj obj obj map entry map entry map entry obj get key getkey get key getkey get key getkey equals get key getkey get value getvalue get value getvalue get value getvalue equals get value getvalue hash code hashcode get key getkey get key getkey hash code hashcode get value getvalue get value getvalue hash code hashcode string to string tostring string builder stringbuilder append get key getkey append append get value getvalue to string tostring base iterator hash iterator hashiterator abstract hashed map abstracthashedmap parent current array buckets hash index hashindex returned entry hash entry hashentry entry hash entry hashentry modification count expected expected mod count expectedmodcount hash iterator hashiterator abstract hashed map abstracthashedmap parent parent parent hash entry hashentry data parent data data length hash entry hashentry data hash index hashindex expected mod count expectedmodcount parent mod count modcount has next hasnext hash entry hashentry next entry nextentry parent mod count modcount expected mod count expectedmodcount concurrent modification exception concurrentmodificationexception hash entry hashentry new current newcurrent new current newcurrent no such element exception nosuchelementexception abstract hashed map abstracthashedmap entry hash entry hashentry data parent data hash index hashindex hash entry hashentry new current newcurrent data hash index hashindex new current newcurrent new current newcurrent hash entry hashentry current entry currententry remove illegal state exception illegalstateexception abstract hashed map abstracthashedmap remove invalid parent mod count modcount expected mod count expectedmodcount concurrent modification exception concurrentmodificationexception parent remove get key getkey expected mod count expectedmodcount parent mod count modcount string to string tostring iterator get key getkey get value getvalue iterator writes map data stream method overridden subclass setup code code serialization jdk nicest topics normal serialization init ialise initialise superclass subclass isn code code method read subclass solution serialize data method method called code write object writeobject code serializable subclass subclasses override specific field read implementation work gen erally generally read determines serialized param output stream do write object dowriteobject object output stream objectoutputstream io exception ioexception write float writefloat load factor loadfactor write int writeint data length write int writeint size map iterator mapiterator map iterator mapiterator has next hasnext write object writeobject write object writeobject get value getvalue reads map data stream method overridden subclass setup code code serialization jdk nicest topics normal serialization init ialise initialise superclass subclass isn code code method read subclass solution deserialize data method method called code read object readobject code serializable subclass subclasses override subclass specific field code code code calculate threshold calculatethreshold code work correctly param input stream do read object doreadobject object input stream objectinputstream io exception ioexception class not found exception classnotfoundexception load factor loadfactor read float readfloat capacity read int readint size read int readint init data hash entry hashentry capacity size key read object readobject read object readobject key threshold calculate threshold calculatethreshold data length load factor loadfactor clones map cloning values implement code clone code subclass implement code cloneable code method shallow clone object clone abstract hashed map abstracthashedmap cloned abstract hashed map abstracthashedmap clone cloned data hash entry hashentry data length cloned entry set entryset cloned key set keyset cloned values cloned mod count modcount cloned size cloned init cloned put all putall cloned clone not supported exception clonenotsupportedexception compares map param obj object compare equal equals object obj obj obj map map map map obj map size size map iterator mapiterator map iterator mapiterator has next hasnext object key object get value getvalue map key map contains key containskey key equals map key class cast exception classcastexception null pointer exception nullpointerexception standard map hash code hashcode hash code defined map hash code hashcode total iterator create entry set iterator createentrysetiterator has next hasnext total hash code hashcode total map string string version map string to string tostring size string builder stringbuilder buf string builder stringbuilder size buf append map iterator mapiterator map iterator mapiterator has next hasnext has next hasnext has next hasnext object key object get value getvalue buf append key map key append append map has next hasnext has next hasnext has next hasnext buf append append buf append buf to string tostring
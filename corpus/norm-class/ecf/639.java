copyright jan rellermeyer systems group dep artment department computer science eth z uric h zurich rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jan rellermeyer initial api implementation mark us markus alexander kuppe enhancements bug fixes ethz iks slp impl java byte array output stream bytearrayoutputstream java data input stream datainputstream java data output stream dataoutputstream java i o exception ioexception java util list ethz iks slp service location exception servicelocationexception daa dvertisement daadvertisement advertise service author jan rellermeyer eth zï¿½rich daa dvertisement daadvertisement reply message replymessage error code errorcode message error code errorcode state less stateless boot timestamp sa s sas determine rebooted registration services reregistered state less boot timestamp statelessboottimestamp url string url list scopes supports list scope list scopelist list attributes list attr list attrlist spi string string spi original url string origurl original attributes string orig attrs origattrs original scopes string orig scopes origscopes blocks authentication block authenticationblock auth blocks authblocks create daa dvertisement daadvertisement data input datainput str eaming streaming bytes daa dvertisement daadvertisement message body param input stream bytes for min g forming message body service location exception servicelocationexception caused exception i o exception ioexception daa dvertisement daadvertisement data input stream datainputstream input service location exception servicelocationexception i o exception ioexception error code errorcode input read short readshort state less boot timestamp statelessboottimestamp input read int readint origurl input readutf trim origurl equals url origurl substring origurl index of indexof origurl length pos url index of indexof pos url url substring pos orig scopes origscopes input readutf scope list scopelist string to list stringtolist orig scopes origscopes scope list scopelist is empty isempty service location exception servicelocationexception service location exception servicelocationexception parse error received da adv ert daadvert empty scope list orig attrs origattrs input readutf attr list attrlist attribute string to list attributestringtolist orig attrs origattrs spi input readutf auth blocks authblocks authentication block authenticationblock parse input slp core slpcore config get security enabled getsecurityenabled verify service location exception servicelocationexception service location exception servicelocationexception authentication failed verify to string tostring bytes message body rfc comp liant compliant format pre service location header function daa dvert daadvert error code state less stateless boot timestamp state less stateless boot time cont d contd length url url length scope list scope list length attr list attr list length slp spi list slp spi list string blocks authentication block pre array bytes service location exception servicelocationexception exception occurs write to writeto data output stream dataoutputstream i o exception ioexception length message length message ethz iks slp impl slp message slpmessage get size getsize get size getsize len get header size getheadersize origurl length orig scopes origscopes length orig attrs origattrs length spi length auth blocks authblocks length len auth blocks authblocks get length getlength len string representation attribute reply attributereply message string displaying properties message instance string to string tostring string buffer stringbuffer buffer string buffer stringbuffer buffer append to string tostring buffer append error code errorcode error code errorcode buffer append state less boot timestamp statelessboottimestamp state less boot timestamp statelessboottimestamp buffer append url url buffer append scope list scopelist scope list scopelist buffer append attr list attrlist attr list attrlist buffer append spi spi buffer to string tostring verify daa dvertisement daadvertisement verification succeeded service location exception servicelocationexception errors verify service location exception servicelocationexception auth blocks authblocks length auth blocks authblocks verify get auth data getauthdata auth blocks authblocks getspi auth blocks authblocks get timestamp gettimestamp authentication data param spi str spistr spi param timestamp timestamp authentication data service location exception servicelocationexception errors get auth data getauthdata string spi str spistr timestamp service location exception servicelocationexception byte array output stream bytearrayoutputstream bos byte array output stream bytearrayoutputstream data output stream dataoutputstream dos data output stream dataoutputstream bos dos writeutf spi str spistr dos write int writeint state less boot timestamp statelessboottimestamp dos writeutf origurl wrong rfc attrs scopes openslp bug dos writeutf orig scopes origscopes dos writeutf orig attrs origattrs dos writeutf spi dos write int writeint timestamp bos to byte array tobytearray i o exception ioexception ioe service location exception servicelocationexception service location exception servicelocationexception internal system error ioe get message getmessage list get result getresult scope list scopelist
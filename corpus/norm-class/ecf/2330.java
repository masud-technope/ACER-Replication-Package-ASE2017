copyright comp osent composent rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors comp osent composent initial api implementation org eclipse ecf tests presence java util array list arraylist java util hash map hashmap java util list java util map org eclipse ecf core identity org eclipse ecf core identity id factory idfactory org eclipse ecf presence iim message event iimmessageevent org eclipse ecf presence iim message listener iimmessagelistener org eclipse ecf presence i chat manager ichatmanager org eclipse ecf presence i chat message ichatmessage org eclipse ecf presence i chat message event ichatmessageevent abstract chat test abstractchattest abstract presence test case abstractpresencetestcase i chat manager ichatmanager chat chat sleeptime integer system get property getproperty org eclipse ecf tests presence abstract chat test abstractchattest sleeptime int value intvalue list received chat messages receivedchatmessages array list arraylist iim message listener iimmessagelistener listener iim message listener iimmessagelistener handle message event handlemessageevent iim message event iimmessageevent message event messageevent message event messageevent i chat message event ichatmessageevent i chat message ichatmessage chatmessage i chat message event ichatmessageevent message event messageevent get chat message getchatmessage system println received chat message chatmessage received chat messages receivedchatmessages add chatmessage javadoc org eclipse ecf tests presence abstract presence test case abstractpresencetestcase set up setup set up setup exception set up setup set client count setclientcount clients create clients createclients chat get presence adapter getpresenceadapter get chat manager getchatmanager chat get presence adapter getpresenceadapter get chat manager getchatmanager chat add message listener addmessagelistener listener connect client connectclient javadoc junit framework test case testcase tear down teardown tear down teardown exception received chat messages receivedchatmessages clear disconnect clients disconnectclients test send m testsendim exception chat get chat message sender getchatmessagesender send chat message sendchatmessage get client getclient get connected d getconnectedid abc def abcdef sleep sleeptime assert has event asserthasevent received chat messages receivedchatmessages i chat message ichatmessage i chat message ichatmessage message i chat message ichatmessage received chat messages receivedchatmessages assert true asserttrue message get body getbody equals abc def abcdef assert true asserttrue message get type gettype equals i chat message ichatmessage type chat assert null assertnull message get subject getsubject map props message get properties getproperties assert not null assertnotnull props assert true asserttrue props size test send m testsendim exception map send props sendprops hash map hashmap send props sendprops prop send thread id sendthreadid id factory idfactory get default getdefault create string d createstringid thread send chat get chat message sender getchatmessagesender send chat message sendchatmessage get client getclient get connected d getconnectedid send thread id sendthreadid i chat message ichatmessage type chat subject uvwxyz send props sendprops sleep sleeptime assert has event asserthasevent received chat messages receivedchatmessages i chat message ichatmessage i chat message ichatmessage message i chat message ichatmessage received chat messages receivedchatmessages reason smack library doesn assert true asserttrue message get thread d getthreadid equals send thread id sendthreadid assert true asserttrue message get subject getsubject equals subject assert true asserttrue message get body getbody equals uvwxyz assert true asserttrue message get type gettype equals i chat message ichatmessage type chat map props message get properties getproperties assert not null assertnotnull props assert true asserttrue props size string val string props prop assert not null assertnotnull val assert equals assertequals val test send message properties testsendmessageproperties exception map send props sendprops hash map hashmap send props sendprops prop send chat get chat message sender getchatmessagesender send chat message sendchatmessage get client getclient get connected d getconnectedid i chat message ichatmessage type chat send props sendprops sleep sleeptime assert has event asserthasevent received chat messages receivedchatmessages i chat message ichatmessage i chat message ichatmessage message i chat message ichatmessage received chat messages receivedchatmessages assert null assertnull message get subject getsubject assert true asserttrue message get body getbody equals assert true asserttrue message get type gettype equals i chat message ichatmessage type chat map props message get properties getproperties assert not null assertnotnull props assert true asserttrue props size string val string props prop assert not null assertnotnull val assert equals assertequals val
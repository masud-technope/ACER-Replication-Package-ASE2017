copyright versant corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors remy chi jian suen versant corporation initial api implementation org eclipse team internal ecf core java java util org eclipse core resources org eclipse core runtime org eclipse ecf core identity org eclipse ecf core util ecf exception ecfexception org eclipse ecf data share datashare abstract share abstractshare org eclipse ecf data share datashare i channel container adapter ichannelcontaineradapter org eclipse osgi util nls org eclipse team core team exception teamexception org eclipse team core var iants variants i resource var iant iresourcevariant org eclipse team internal ecf core messages org eclipse team internal ecf core var iants variants remote resource var iant remoteresourcevariant remote share remoteshare abstract share abstractshare map participants hash map hashmap object return value returnvalue remote share remoteshare i channel container adapter ichannelcontaineradapter adapter ecf exception ecfexception adapter send share request sendsharerequest local id localid remote id remoteid i resource iresource resources i progress monitor iprogressmonitor monitor ecf exception ecfexception interrupted exception interruptedexception is not null isnotnull local id localid is not null isnotnull remote id remoteid is not null isnotnull resources send message sendmessage remote id remoteid serialize share request sharerequest local id localid resources return value returnvalue thread sleep monitor is canceled iscanceled operation canceled exception operationcanceledexception object tmp value tmpvalue return value returnvalue return value returnvalue tmp value tmpvalue boolean value booleanvalue i resource var iant iresourcevariant fetch members fetchmembers own id ownid remote id remoteid i resource var iant iresourcevariant variant i progress monitor iprogressmonitor monitor team exception teamexception remote resource var iant remoteresourcevariant remote var iant remotevariant remote resource var iant remoteresourcevariant variant remote var iant remotevariant has members hasmembers members empty array i resource var iant iresourcevariant monitor sub task subtask nls bind messages remote share remoteshare fetching var iant fetchingvariant variant get name getname send message sendmessage remote id remoteid fetch var iants request fetchvariantsrequest own id ownid remote var iant remotevariant get path getpath remote var iant remotevariant get type gettype return value returnvalue thread sleep monitor is canceled iscanceled operation canceled exception operationcanceledexception interrupted exception interruptedexception thread int errupted interrupted team exception teamexception interrupted fetching members monitor object tmp value tmpvalue return value returnvalue return value returnvalue i resource var iant iresourcevariant tmp value tmpvalue i resource var iant iresourcevariant fetch var iant fetchvariant own id ownid remote id remoteid i resource iresource resource i progress monitor iprogressmonitor monitor team exception teamexception monitor sub task subtask nls bind messages remote share remoteshare fetching var iant fetchingvariant resource get full path getfullpath to string tostring substring send message sendmessage remote id remoteid fetch var iant request fetchvariantrequest own id ownid resource get full path getfullpath to string tostring resource get type gettype return value returnvalue thread sleep monitor is canceled iscanceled operation canceled exception operationcanceledexception interrupted exception interruptedexception thread int errupted interrupted team exception teamexception interrupted fetching variant monitor object tmp value tmpvalue return value returnvalue return value returnvalue i resource var iant iresourcevariant tmp value tmpvalue i resource var iant iresourcevariant get resource var iant getresourcevariant own id ownid remote id remoteid i resource iresource resource team exception teamexception send message sendmessage remote id remoteid fetch var iant request fetchvariantrequest own id ownid resource get full path getfullpath to string tostring resource get type gettype implemented preferences layer return value returnvalue thread sleep interrupted exception interruptedexception thread int errupted interrupted team exception teamexception interrupted variant object tmp value tmpvalue return value returnvalue return value returnvalue i resource var iant iresourcevariant tmp value tmpvalue send message sendmessage serializable serializable send message sendmessage serialize serializable ecf exception ecfexception team synchronization teamsynchronization log send message peer handle message handlemessage from container id fromcontainerid data object message deserialize data message fetch var iants request fetchvariantsrequest fetch var iant request fetchvariantrequest msg fetch var iant request fetchvariantrequest message string path msg get path getpath i container icontainer container msg get type gettype i resource iresource file should n shouldn happen fetch request files place team synchronization teamsynchronization log files var iants variants request i resource iresource project container resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject path path last segment lastsegment i resource iresource folder container resources plugin resourcesplugin get workspace getworkspace get root getroot get folder getfolder path path team synchronization teamsynchronization log unsupported resource type msg get type gettype send fetch var iants response sendfetchvariantsresponse msg get from id getfromid container message fetch var iant request fetchvariantrequest fetch var iant request fetchvariantrequest msg fetch var iant request fetchvariantrequest message i resource iresource resource i path ipath path path msg get path getpath msg get type gettype i resource iresource project resource resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject path last segment lastsegment i resource iresource folder resource resources plugin resourcesplugin get workspace getworkspace get root getroot get folder getfolder path i resource iresource file resource resources plugin resourcesplugin get workspace getworkspace get root getroot get file getfile path team synchronization teamsynchronization log unsupported resource type msg get type gettype send fetch var iant response sendfetchvariantresponse msg get from id getfromid resource message share request sharerequest share request sharerequest request share request sharerequest message response prompt request get from id getfromid request get paths getpaths response response string paths request get paths getpaths types request get types gettypes i workspace root iworkspaceroot workspace root workspaceroot resources plugin resourcesplugin get workspace getworkspace get root getroot resource loop resourceloop paths length types i resource iresource project workspace root workspaceroot get project getproject path paths last segment lastsegment exists response resource loop resourceloop i resource iresource folder workspace root workspaceroot get folder getfolder path paths exists response resource loop resourceloop i resource iresource file workspace root workspaceroot get file getfile path paths exists response resource loop resourceloop send message sendmessage request get from id getfromid share response shareresponse response message i response iresponse return value returnvalue i response iresponse message get response getresponse prompt from id fromid string paths send fetch var iants response sendfetchvariantsresponse from id fromid i container icontainer container container invalid resource type container send message sendmessage from id fromid fetch response fetchresponse i resource iresource members container members list var iants variants array list arraylist members length members is derived isderived var iants variants add remote resource var iant remoteresourcevariant members i resource var iant iresourcevariant var iants array variantsarray i resource var iant iresourcevariant var iants variants to array toarray i resource var iant iresourcevariant var iants variants size send message sendmessage from id fromid fetch response fetchresponse var iants array variantsarray core exception coreexception team synchronization teamsynchronization log retrieve container members container get full path getfullpath send fetch var iant response sendfetchvariantresponse from id fromid i resource iresource resource resource invalid resource type resource resource exists send message sendmessage from id fromid fetch response fetchresponse remote resource var iant remoteresourcevariant resource send message sendmessage from id fromid fetch response fetchresponse i resource var iant iresourcevariant dispose participants clear dispose object deserialize data byte array input stream bytearrayinputstream bais byte array input stream bytearrayinputstream data object input stream objectinputstream input stream inputstream object input stream objectinputstream bais input stream inputstream read object readobject io exception ioexception team synchronization teamsynchronization log read deserialize data class not found exception classnotfoundexception team synchronization teamsynchronization log find deserialization serialize serializable serializable byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream object output stream objectoutputstream output stream outputstream object output stream objectoutputstream baos output stream outputstream write object writeobject serializable baos to byte array tobytearray io exception ioexception team synchronization teamsynchronization log read serialize object
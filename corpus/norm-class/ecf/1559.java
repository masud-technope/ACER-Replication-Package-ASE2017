header data cvs org eclipse ecf tests bundles org eclipse ecf tests apache http client httpclient server src org apache commons http client httpclient server simple http server simplehttpserver java slewis exp revision copyright apache software foundation licensed apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license software consists voluntary contributions individuals behalf apache software foundation apache software foundation http apache org org apache commons http client httpclient server java io exception ioexception java net inet address inetaddress java net server socket serversocket java net socket org apache commons logging log org apache commons logging log factory logfactory simple ext ensible extensible http server testing purposes author christian kohlschuetter author oleg kalnichevski simple http server simplehttpserver runnable log log log factory logfactory get log getlog simple http server simplehttpserver string test name testname simple test count server socket serversocket listener thread thread group threadgroup stopped simple conn set simpleconnset connections simple conn set simpleconnset http request handler httprequesthandler request handler requesthandler creates http server instance arbitrary free tcp port io exception ioexception wrong initialization simple http server simplehttpserver io exception ioexception simple http server simplehttpserver string server thread name serverthreadname io exception ioexception server thread name serverthreadname creates http server instance socket factory tcp port param port desired tcp port io exception ioexception io exception ioexception wrong initialization simple http server simplehttpserver simple socket factory simplesocketfactory socket factory socketfactory port io exception ioexception socket factory socketfactory port simple http server simplehttpserver string server thread name serverthreadname simple socket factory simplesocketfactory socket factory socketfactory port io exception ioexception socket factory socketfactory socket factory socketfactory simple plain socket factory simpleplainsocketfactory listener socket factory socketfactory create server socket createserversocket port log is debug enabled isdebugenabled log debug starting test http server port get local port getlocalport thread group threadgroup simple http server simplehttpserver thread group thread server thread name serverthreadname simple http server simplehttpserver listener port listener get local port getlocalport set daemon setdaemon start creates http server instance tcp port param port desired tcp port io exception ioexception wrong initialization simple http server simplehttpserver port io exception ioexception port simple http server simplehttpserver string server thread name serverthreadname port io exception ioexception server thread name serverthreadname port string get test name gettestname test name testname set test name settestname string test name testname test name testname test name testname returns tcp port http server instance bound tcp port running get local port getlocalport listener get local port getlocalport returns address http server instance bound string representation address code code running string get local address getlocaladdress inet address inetaddress address listener get inet address getinetaddress ugly work older jdk s jdks octets address get address getaddress octets octets octets octets localhost address get host address gethostaddress checks http server instance running is running isrunning is alive isalive s tops stops http server instance destroy stopped stopped log is debug enabled isdebugenabled log debug stopping test http server port get local port getlocalport int errupt interrupt listener listener close io exception ioexception connections shutdown returns http request handler httprequesthandler simple http server simplehttpserver http request handler httprequesthandler http request handler httprequesthandler get request handler getrequesthandler request handler requesthandler sets http request handler httprequesthandler simple http server simplehttpserver param request handler disable set request handler setrequesthandler http request handler httprequesthandler request handler requesthandler set http service sethttpservice http service httpservice service set request handler setrequesthandler http service handler httpservicehandler service stopped thread int errupted interrupted socket socket listener accept request handler requesthandler socket close simple http server connection simplehttpserverconnection conn simple http server connection simplehttpserverconnection socket connections add connection addconnection conn thread simple connection thread simpleconnectionthread test name testname thread count conn connections request handler requesthandler set daemon setdaemon start io exception ioexception log error error get message getmessage count thread sleep interrupted exception interruptedexception accept io exception ioexception stopped log error error get message getmessage destroy
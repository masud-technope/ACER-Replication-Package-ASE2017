copyright remy chi jian suen rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors remy chi jian suen remy suen gmail initial api implementation org eclipse ecf internal sync resources core java util hash set hashset java util iterator java util org eclipse core resources i resource iresource org eclipse core resources i workspace iworkspace org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core resources resources plugin resourcesplugin org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime jobs i scheduling rule ischedulingrule org eclipse core runtime jobs multi rule multirule org eclipse ecf core identity org eclipse ecf core util ecf exception ecfexception org eclipse ecf data share datashare abstract share abstractshare org eclipse ecf data share datashare i channel container adapter ichannelcontaineradapter org eclipse ecf sync i model change imodelchange org eclipse ecf sync i model change message imodelchangemessage resources share resourcesshare abstract share abstractshare response shared projects sharedprojects hash set hashset receiverid containerid localid resources share resourcesshare containerid i channel container adapter ichannelcontaineradapter adapter ecf exception ecfexception adapter containerid containerid attach listener attachlistener shared projects sharedprojects size sync resources core syncresourcescore get default getdefault attach listener attachlistener detach listener detachlistener shared projects sharedprojects is empty isempty sync resources core syncresourcescore get default getdefault detach listener detachlistener send response sendresponse accept string project name projectname accept send receiverid accept message acceptmessage project name projectname send receiverid deny message denymessage project name projectname ecf exception ecfexception print stack trace printstacktrace get response getresponse response temp response response temp get container d getcontainerid containerid get receiver d getreceiverid receiverid get local d getlocalid localid is sharing issharing string project name projectname shared projects sharedprojects shared projects sharedprojects project name projectname start share startshare from id fromid toid string project name projectname ecf exception ecfexception shared projects sharedprojects add project name projectname reset stale response send toid start message startmessage project name projectname from id fromid toid localid from id fromid receiverid toid attach listener attachlistener ecf exception ecfexception receiverid shared projects sharedprojects remove project name projectname detach listener detachlistener stop sharing stopsharing string project name projectname shared projects sharedprojects remove project name projectname send receiverid stop message stopmessage project name projectname ecf exception ecfexception print stack trace printstacktrace receiverid detach listener detachlistener send toid message message ecf exception ecfexception send message sendmessage toid message serialize send bytes ecf exception ecfexception send message sendmessage receiverid bytes send resource change message sendresourcechangemessage i resource iresource resource kind i model change imodelchange change resource change message resourcechangemessage create resource change createresourcechange resource kind i model change message imodelchangemessage messages resources synchronization strategy resourcessynchronizationstrategy get instance getinstance register local change registerlocalchange change messages length send messages serialize ecf exception ecfexception print stack trace printstacktrace handle start message handlestartmessage start message startmessage msg receiverid msg get from id getfromid localid msg get local id getlocalid shared projects sharedprojects add msg get project name getprojectname attach listener attachlistener handle stop message handlestopmessage stop message stopmessage msg shared projects sharedprojects remove msg get project name getprojectname detach listener detachlistener handle resource change message handleresourcechangemessage data exception i model change imodelchange remote change remotechange resources synchronization strategy resourcessynchronizationstrategy get instance getinstance deserialize remote change deserializeremotechange data i model change imodelchange remote changes remotechanges resources synchronization strategy resourcessynchronizationstrategy get instance getinstance transform remote change transformremotechange remote change remotechange create scheduling rule lock projects i scheduling rule ischedulingrule rules i scheduling rule ischedulingrule shared projects sharedprojects size iterator shared projects sharedprojects iterator has next hasnext string project name projectname string rules resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject project name projectname lock prevent resource prop agated propagated lock remote changes remotechanges apply remote changes applyremotechanges remote changes remotechanges multi rule multirule rules unlock applied remote workspace unlock remote changes remotechanges remote change remotechange batch model change batchmodelchange batch model change batchmodelchange batch change batchchange batch model change batchmodelchange remote change remotechange batch change batchchange set out going setoutgoing batch change batchchange set time settime system current time millis currenttimemillis sync resources core syncresourcescore add batch change batchchange lock i model change imodelchange remote changes remotechanges sync resources core syncresourcescore lock unlock i model change imodelchange remote changes remotechanges sync resources core syncresourcescore unlock apply remote changes applyremotechanges i model change imodelchange remote changes remotechanges i scheduling rule ischedulingrule rule core exception coreexception resources plugin resourcesplugin get workspace getworkspace i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception monitor begin task begintask processing remote remote changes remotechanges length remote changes remotechanges length monitor is canceled iscanceled applies resource remote changes remotechanges apply to model applytomodel containerid monitor worked monitor rule i workspace iworkspace avoid update handle message handlemessage from container d fromcontainerid data object message message deserialize data message start message startmessage handle start message handlestartmessage start message startmessage message message stop message stopmessage handle stop message handlestopmessage stop message stopmessage message message accept message acceptmessage response message deny message denymessage shared projects sharedprojects remove deny message denymessage message get project name getprojectname receiverid detach listener detachlistener response handle resource change message handleresourcechangemessage data exception print stack trace printstacktrace
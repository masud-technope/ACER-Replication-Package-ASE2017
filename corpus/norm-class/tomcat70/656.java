licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina ant java buffered input stream bufferedinputstream java file java file input stream fileinputstream java i o exception ioexception java input stream inputstream org apache catalina globals org apache catalina startup constants org apache tomcat util descriptor digester factory digesterfactory org apache tomcat util digester digester org apache tools ant build exception buildexception org xml sax input source inputsource task valid ating validating web application deployment descriptor xml schema validation author remy maucherat validator task validatortask base redirect or helper task baseredirectorhelpertask instance variables properties path webapp directory string path string get path getpath path set path setpath string path path path methods execute command logic performs common attribute validation required subclasses perform functional logic exception build exception buildexception validation error occurs override execute build exception buildexception path build exception buildexception path file file file path constants application web xml applicationwebxml file exists file can read canread build exception buildexception find web xml commons logging likes context class loader classloader class loader classloader oldcl thread current thread currentthread get context class loader getcontextclassloader thread current thread currentthread set context class loader setcontextclassloader validator task validatortask get class loader getclassloader called trusted manager running security manager securitymanager assume untrusted applications deployed digester digester digester factory digesterfactory new digester newdigester globals security enabled input stream inputstream stream file file get canonical file getcanonicalfile stream buffered input stream bufferedinputstream file input stream fileinputstream file input source inputsource input source inputsource file touri tourl to external form toexternalform set byte stream setbytestream stream digester parse handle output handleoutput web xml validated exception is fail on error isfailonerror build exception buildexception validation failure handle error output handleerroroutput validation failure stream stream close i o exception ioexception thread current thread currentthread set context class loader setcontextclassloader oldcl close redirect or closeredirector
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http filters java eof exception eofexception java io exception ioexception java nio charset charset java util locale java util org apache coyote input buffer inputbuffer org apache coyote request org apache coyote http constants org apache coyote http input filter inputfilter org apache tomcat util buf byte chunk bytechunk org apache tomcat util buf hex utils hexutils org apache tomcat util buf message bytes messagebytes org apache tomcat util http mime headers mimeheaders org apache tomcat util res string manager stringmanager chunked input filter parses chunked data href http org protocols rfc rfc html http org protocols rfc rfc html author remy maucherat author filip hanik chunked input filter chunkedinputfilter input filter inputfilter string manager stringmanager string manager stringmanager get manager getmanager chunked input filter chunkedinputfilter get package getpackage get name getname constants string encoding chunked byte chunk bytechunk encoding byte chunk bytechunk encoding set bytes setbytes encoding get bytes getbytes charset default charset defaultcharset encoding length instance variables buffer pipeline input buffer inputbuffer buffer number bytes remaining current chunk remaining position buffer pos valid buffer last valid lastvalid read bytes buffer buf chunk read bytes byte chunk bytechunk read chunk readchunk byte chunk bytechunk flag chunk read end chunk endchunk chunk store trailing headers byte chunk bytechunk trailing headers trailingheaders byte chunk bytechunk flag call do read doread parse crlf pair needcrlfparse request parsed request request limit extension size max extension size maxextensionsize limit trailer size max trailer size maxtrailersize size extensions processed request extension size extensionsize max swallow size maxswallowsize flag error occurred error string allowed trailer headers allowedtrailerheaders chunked input filter chunkedinputfilter max trailer size maxtrailersize string allowed trailer headers allowedtrailerheaders max extension size maxextensionsize max swallow size maxswallowsize trailing headers trailingheaders set limit setlimit max trailer size maxtrailersize allowed trailer headers allowedtrailerheaders allowed trailer headers allowedtrailerheaders max extension size maxextensionsize max extension size maxextensionsize max trailer size maxtrailersize max trailer size maxtrailersize max swallow size maxswallowsize max swallow size maxswallowsize input buffer inputbuffer methods read bytes filter request length control number bytes consumed buffer current request body buffer length greater filter request body length control returned override do read doread byte chunk bytechunk chunk request req io exception ioexception end chunk endchunk check error checkerror needcrlfparse needcrlfparse parsecrlf remaining parse chunk header parsechunkheader throwioexception get string getstring chunked input filter chunkedinputfilter invalid header invalidheader end chunk endchunk parse end chunk parseendchunk result pos last valid lastvalid read bytes readbytes throwioexception get string getstring chunked input filter chunkedinputfilter eos remaining last valid lastvalid pos result last valid lastvalid pos remaining remaining result chunk set bytes setbytes buf pos result pos last valid lastvalid result remaining chunk set bytes setbytes buf pos remaining pos pos remaining remaining crlf pos last valid lastvalid call parsecrlf over run overrun buffer defer call needcrlfparse parse crlf parsecrlf result input filter inputfilter methods read content length request override set request setrequest request request request request current request override io exception ioexception swallowed read consume extra bytes parse stream chunk read do read doread read chunk readchunk swallowed read max swallow size maxswallowsize swallowed max swallow size maxswallowsize throwioexception get string getstring input filter inputfilter max swallow maxswallow number extra bytes consumed last valid lastvalid pos amount bytes buffer override last valid lastvalid pos buffer filter pipeline override set buffer setbuffer input buffer inputbuffer buffer buffer buffer filter ready process request override recycle remaining pos last valid lastvalid end chunk endchunk needcrlfparse trailing headers trailingheaders recycle trailing headers trailingheaders set limit setlimit max trailer size maxtrailersize extension size extensionsize error encoding identity override byte chunk bytechunk get encoding name getencodingname encoding methods read bytes previous buffer read bytes readbytes io exception ioexception n read nread buffer do read doread read chunk readchunk pos read chunk readchunk get start getstart last valid lastvalid pos n read nread buf read chunk readchunk get bytes getbytes n read nread parse header chunk chunk header crlf chunk extension ignoredcrlf letters crlf valid hex digits parse iamgonnamessthisup crlf valid header spec parse chunk header parsechunkheader io exception ioexception result eol read digit readdigit extension eol pos last valid lastvalid read bytes readbytes buf pos constants buf pos constants parsecrlf eol buf pos constants semi colon extension semi colon marks start extension semi colons separate multiple chunk extensions processed parsing extensions extension extension size extensionsize extension don read data trailer char value charvalue hex utils hexutils get dec getdec buf pos char value charvalue read digit readdigit read digit readdigit result result char value charvalue chunked header extension parsing note chunk extension parsed validated simply extension size extensionsize max extension size maxextensionsize extension size extensionsize max extension size maxextensionsize throwioexception get string getstring chunked input filter chunkedinputfilter max extension maxextension parsing crlf increments pos eol pos read digit readdigit result result end chunk endchunk remaining result parse crlf chunk deprecated link parsecrlf deprecated parsecrlf io exception ioexception parsecrlf parse crlf chunk param tolerant tolerant parsing crlf recommended rfc message headers parsecrlf tolerant io exception ioexception eol crfound eol pos last valid lastvalid read bytes readbytes throwioexception get string getstring chunked input filter chunkedinputfilter invalid crlf no data invalidcrlfnodata buf pos constants crfound throwioexception get string getstring chunked input filter chunkedinputfilter invalidcrlfcrcr crfound buf pos constants tolerant crfound throwioexception get string getstring chunked input filter chunkedinputfilter invalid crlf no r invalidcrlfnocr eol throwioexception get string getstring chunked input filter chunkedinputfilter invalid crlf invalidcrlf pos parse chunk data parse end chunk parseendchunk io exception ioexception handle optional trailer headers parse header parseheader loop headers parse header parseheader io exception ioexception mime headers mimeheaders headers request get mime headers getmimeheaders chr read bytes needed pos last valid lastvalid read bytes readbytes throweofexception get string getstring chunked input filter chunkedinputfilter eos trailer eostrailer chr buf pos crlf terminates request chr constants chr constants parsecrlf mark current buffer position start pos startpos trailing headers trailingheaders get end getend reading header header ascii colon colon read bytes needed pos last valid lastvalid read bytes readbytes throweofexception get string getstring chunked input filter chunkedinputfilter eos trailer eostrailer chr buf pos chr constants chr constants chr chr constants offset chr constants colon colon trailing headers trailingheaders append chr pos colon pos colonpos trailing headers trailingheaders get end getend reading header span ned spanned multiple lines eol valid line validline last sig nificant char lastsignificantchar valid line validline space skip ping skipping spaces space read bytes needed pos last valid lastvalid read bytes readbytes throweofexception get string getstring chunked input filter chunkedinputfilter eos trailer eostrailer chr buf pos chr constants chr constants pos swallow whitespace counts limit trailing header size new limit newlimit trailing headers trailingheaders get limit getlimit trailing headers trailingheaders get end getend new limit newlimit throwioexception get string getstring chunked input filter chunkedinputfilter max trailer maxtrailer trailing headers trailingheaders set limit setlimit new limit newlimit space reading bytes eol read bytes needed pos last valid lastvalid read bytes readbytes throweofexception get string getstring chunked input filter chunkedinputfilter eos trailer eostrailer chr buf pos chr constants chr constants parsecrlf eol chr constants trailing headers trailingheaders append chr trailing headers trailingheaders append chr last sig nificant char lastsignificantchar trailing headers trailingheaders get end getend eol pos read bytes needed pos last valid lastvalid read bytes readbytes throweofexception get string getstring chunked input filter chunkedinputfilter eos trailer eostrailer chr buf pos chr constants chr constants valid line validline eol copying extra space buffer space inserted lines trailing headers trailingheaders append chr string header name headername string trailing headers trailingheaders get bytes getbytes start pos startpos colon pos colonpos start pos startpos iso allowed trailer headers allowedtrailerheaders header name headername to lower case tolowercase locale english message bytes messagebytes header value headervalue headers add value addvalue header name headername header header value headervalue set bytes setbytes trailing headers trailingheaders get bytes getbytes colon pos colonpos last sig nificant char lastsignificantchar colon pos colonpos throwioexception string msg io exception ioexception error io exception ioexception msg throweofexception string msg io exception ioexception error eof exception eofexception msg check error checkerror io exception ioexception error io exception ioexception get string getstring chunked input filter chunkedinputfilter error
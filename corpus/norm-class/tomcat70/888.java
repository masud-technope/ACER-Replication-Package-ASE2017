licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina core java io exception ioexception javax servlet servlet exception servletexception javax servlet servlet request event servletrequestevent javax servlet servlet request listener servletrequestlistener javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org junit assert equals assertequals org junit test org apache catalina context org apache catalina connector response org apache catalina deploy error page errorpage org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache tomcat util buf byte chunk bytechunk test standard context valve teststandardcontextvalve tomcat base test tomcatbasetest test test bug testbug exception container tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext traces order events multiple components string builder stringbuilder trace string builder stringbuilder add error tomcat add servlet addservlet ctx error page errorpage bug error page errorpage trace ctx add servlet mapping addservletmapping error error page errorpage handling resp onses responses error page errorpage error page errorpage error page errorpage error page errorpage set error code seterrorcode response error page errorpage set location setlocation error ctx add error page adderrorpage error page errorpage add request listener bug request listener requestlistener req listener reqlistener bug request listener requestlistener trace standard context standardcontext ctx add application event listener addapplicationeventlistener req listener reqlistener tomcat start request exist get url geturl http localhost get port getport invalid byte chunk bytechunk time test fails servlet request listener servletrequestlistener complete trace to string tostring ends with endswith destroy thread sleep assert equals assertequals response assert equals assertequals init error destroy initerrordestroy trace to string tostring test test bug testbug exception container tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext traces order events multiple components string builder stringbuilder trace string builder stringbuilder add generates error tomcat add servlet addservlet ctx test bug error trigger errortrigger ctx add servlet mapping addservletmapping test test add error tomcat add servlet addservlet ctx error page errorpage bug error page errorpage trace ctx add servlet mapping addservletmapping error error page errorpage handling resp onses responses error page errorpage error page errorpage error page errorpage error page errorpage set error code seterrorcode response error page errorpage set location setlocation error ctx add error page adderrorpage error page errorpage add request listener bug request listener requestlistener req listener reqlistener bug request listener requestlistener trace standard context standardcontext ctx add application event listener addapplicationeventlistener req listener reqlistener tomcat start request exist get url geturl http localhost get port getport test byte chunk bytechunk time test fails servlet request listener servletrequestlistener complete trace to string tostring ends with endswith destroy thread sleep assert equals assertequals response assert equals assertequals init error destroy initerrordestroy trace to string tostring bug error trigger errortrigger http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception resp send error senderror response bug error page errorpage http servlet httpservlet serialversionuid string builder stringbuilder bug error page errorpage string builder stringbuilder override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception append error resp set content type setcontenttype text plain resp get writer getwriter write error bug request listener requestlistener servlet request listener servletrequestlistener string builder stringbuilder bug request listener requestlistener string builder stringbuilder override request initialized requestinitialized servlet request event servletrequestevent sre append init override request destroyed requestdestroyed servlet request event servletrequestevent sre append destroy
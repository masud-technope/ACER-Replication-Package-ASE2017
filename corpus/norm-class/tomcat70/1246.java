licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util net java serializable java net malformedurlexception java util locale strong url strong designed provide api s apis parsing synth esizing synthesizing uniform resource locators api s apis code java net url code ability open stream connection consequences construct url s urls protocols url stream handler urlstreamhandler https url jsse installed strong warning strong assumes string representation url conf orms conforms code spec code argument rfc uniform resource identifiers syntax pre scheme authority path query fragment pre strong fixme strong commons some place someplace author craig mc clanahan mcclanahan url serializable serialversionuid create url object string representation param spec string representation url exception malformedurlexception string representation parsed url string spec malformedurlexception spec create url object parsing string representation relative context based logic jdk code java net url code param context url relative representation resolved param spec string representation url relative exception malformedurlexception string representation parsed url url context string spec malformedurlexception string original spec limit start string new protocol newprotocol a ref aref eliminate leading trailing whitespace limit spec length limit spec char at charat limit limit start limit spec char at charat start start string representation starts url skip spec region matches regionmatches start url start relative context url start spec length spec char at charat start a ref aref parse protocol start a ref aref limit spec char at charat string spec substring start to lower case tolowercase locale english assume protocols valid new protocol newprotocol start a ref aref is scheme char isschemechar context protocols match protocol new protocol newprotocol context new protocol newprotocol new protocol newprotocol equals ignore case equalsignorecase context get protocol getprotocol scheme rfc context get path getpath context get path getpath starts with startswith new protocol newprotocol new protocol newprotocol protocol context get protocol getprotocol authority context get auth ority getauthority user info userinfo context get user info getuserinfo host context get host gethost port context get port getport file context get file getfile question file last index of lastindexof question path file path file substring question protocol malformedurlexception protocol original parse portion spec spec index of indexof start spec substring limit limit parse remainder spec protocol specific fashion parse spec start limit context normalize malformedurlexception exception malformedurlexception to string tostring create url object components port number protocol param protocol protocol param host host add res sed addressed protocol param file file name filename host exception malformedurlexception thrown compatible api s apis deprecated unused removed tomcat deprecated url string protocol string host string file malformedurlexception protocol host file create url object components port number url port protocol based logic jdk code java net url code param protocol protocol param host host add res sed addressed protocol param port port number port protocol param file file name filename host exception malformedurlexception thrown compatible api s apis deprecated unused removed tomcat deprecated url string protocol string host port string file malformedurlexception protocol protocol host host port port hash file index of indexof file hash file file substring hash hash file substring hash question file last index of lastindexof question query file substring question path file substring question path file host host length authority port host host port instance variables authority url string authority filename url string file host url string host path url string path port number url port protocol url string protocol query url string query reference url string user info url string user info userinfo methods compare url s urls equality result code code argument code url code object represents code url code object code url s urls code equal protocol reference host port number host file anchor host param obj url compare override equals object obj obj url url url obj same file samefile compare get ref getref override hash code hashcode prime result result prime result file file hash code hashcode result prime result host host hash code hashcode result prime result port result prime result protocol protocol hash code hashcode result prime result hash code hashcode result authority url string get auth ority getauthority authority filename url strong note strong compatibility code java net url code includes query string path portion call code get path getpath code string get file getfile file file host url string get host gethost host path url string get path getpath path path port number url get port getport port protocol url string get protocol getprotocol protocol query url string get query getquery query reference url string get ref getref user info url string get user info getuserinfo user info userinfo normalize code path code code file code port ions portions url strong note strong method api code java net url code service implementation exception malformedurlexception nor malization normalization error occurs move hierarchical root normalize malformedurlexception special path path query file query file create place normalized path string normalized path normalized equals path query file path query file path normalize slashes add leading slash normalized index of indexof normalized normalized replace normalized starts with startswith normalized normalized normalized index of indexof normalized normalized substring normalized substring normalized index of indexof normalized normalized substring normalized substring normalized index of indexof malformedurlexception invalid relative url reference normalized last index of lastindexof normalized normalized substring normalized substring normalized ends with endswith normalized normalized substring normalized length normalized ends with endswith normalized length normalized last index of lastindexof malformedurlexception invalid relative url reference normalized normalized substring path normalized query file path query file path same file samefile url compare protocol get protocol getprotocol compare host get host gethost port get port getport compare file get file getfile deprecated string to external form toexternalform string builder stringbuilder string builder stringbuilder protocol append protocol append authority append append authority path append path query append append query append append to string tostring override string to string tostring string builder stringbuilder string builder stringbuilder url append authority append authority append file append file append host append host append port append port append protocol append protocol append query append query append append append user info userinfo append user info userinfo append to string tostring compare string string equals parse string spec start limit malformedurlexception question spec last index of lastindexof limit question question limit query spec substring question limit limit question query spec index of indexof start start path start pathstart spec index of indexof start path start pathstart path start pathstart limit authority spec substring start path start pathstart start path start pathstart authority spec substring start limit start limit authority length authority index of indexof user info userinfo authority substring ipv authority index of indexof h start hstart ipv h start hstart ipv ipv authority index of indexof ipv ipv malformedurlexception closing ipv add ress address authority ipv colon authority index of indexof colon port integer parse int parseint authority substring colon number format exception numberformatexception malformedurlexception to string tostring host authority substring h start hstart colon host authority substring h start hstart port spec index of indexof start start path spec substring start limit query file path query file path path query file query file path starts with startswith malformedurlexception base path start path ends with endswith path path spec substring start limit query file path query file path determine character allowed scheme uri rfc is scheme char isschemechar character is letter or digit isletterordigit
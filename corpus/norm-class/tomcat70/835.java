licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper compiler java file java io exception ioexception java util java util hash map hashmap java util list java util map javax servlet http http servlet response httpservletresponse javax servlet jsp jsp exception jspexception javax servlet jsp tagext tag data tagdata javax servlet jsp tagext tag extra info tagextrainfo javax servlet jsp tagext tag support tagsupport javax servlet jsp tagext variable info variableinfo org junit assert equals assertequals org junit assert true asserttrue org junit org junit test org apache catalina lifecycle exception lifecycleexception org apache catalina core standard context standardcontext org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache tomcat util buf byte chunk bytechunk test generator testgenerator tomcat base test tomcatbasetest test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res get url geturl http localhost get port getport test bug nnn bug jsp string result res to string tostring beware differences escaping jsp attributes java strings assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result assert echo assertecho result test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start get url geturl http localhost get port getport test bug nnn bug jsp byte chunk bytechunk assert equals assertequals http servlet response httpservletresponse internal server error test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start get url geturl http localhost get port getport test bug nnn bug jsp byte chunk bytechunk assert equals assertequals http servlet response httpservletresponse internal server error test test bug testbug fail exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server standard context standardcontext ctxt standard context standardcontext tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath test jstl libraries file lib file web apps webapps examples web inf lib ctxt set aliases setaliases web inf lib lib get canonical path getcanonicalpath tomcat start get url geturl http localhost get port getport test bug nnn bug fail jsp byte chunk bytechunk assert equals assertequals http servlet response httpservletresponse internal server error test test bug testbug use bean usebean exception test bug testbug bug nnn bug use bean usebean jsp test test bug testbug variable info variableinfo exception test bug testbug bug nnn bug jsp test test bug testbug tag variable info name given tagvariableinfonamegiven exception test bug testbug bug nnn bug tvi jsp test test bug testbug tag variable info name from attribute tagvariableinfonamefromattribute exception test bug testbug bug nnn bug tvi nfa jsp test bug testbug string jsp exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res get url geturl http localhost get port getport test jsp string result res to string tostring assert echo assertecho result pass bug tag support tagsupport serialversionuid string bean name beanname set bean name setbeanname string bean name beanname bean name beanname bean name beanname string get bean name getbeanname bean name beanname override do start tag dostarttag jsp exception jspexception bean bean bean bean set time settime to string tostring page context pagecontext set attribute setattribute bean do start tag dostarttag bug tei tag extra info tagextrainfo override variable info variableinfo get variable info getvariableinfo tag data tagdata data variable info variableinfo variable info variableinfo bean get canonical name getcanonicalname variable info variableinfo bean string time set time settime string time time time string get time gettime time test test bug testbug exception string expected style color red red red style color red red red style color red red red tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res byte chunk bytechunk map string list string headers hash map hashmap string list string get url geturl http localhost get port getport test bug nnn bug jsp res headers check request completed string result res to string tostring string lines result split string lines length assert equals assertequals expected assertion text printed tags echo assert echo assertecho string result string expected assert true asserttrue result index of indexof expected test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk byte chunk bytechunk get url geturl http localhost get port getport test bug nnnn bug jsp assert equals assertequals http servlet response httpservletresponse string response to string internal tostringinternal assert true asserttrue response response attribute attribute assert true asserttrue response response attribute attribute bug tag support tagsupport serialversionuid string attribute string attribute set attribute setattribute string attribute attribute attribute string get attribute getattribute attribute set attribute setattribute string attribute attribute attribute string get attribute getattribute attribute override do end tag doendtag jsp exception jspexception page context pagecontext get out getout print attribute attribute attribute attribute io exception ioexception jsp exception jspexception eval test test bug testbug lifecycle exception lifecycleexception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res byte chunk bytechunk get url geturl http localhost get port getport test bug nnnn bug jsp res fail io exception ioexception expected io exception ioexception expected string result res to string tostring assert true asserttrue result starts with startswith assert true asserttrue result ends with endswith
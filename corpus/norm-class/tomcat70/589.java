licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina core java i o exception ioexception java security access controller accesscontroller java security privileged action privilegedaction javax servlet dispatcher type dispatchertype javax servlet request dispatcher requestdispatcher javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet http http servlet response httpservletresponse org apache catalina context org apache catalina globals org apache catalina wrapper org apache catalina comet comet event cometevent org apache catalina connector client abort exception clientabortexception org apache catalina connector request org apache catalina connector response org apache catalina deploy error page errorpage org apache catalina valves valve base valvebase org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util exception utils exceptionutils org apache tomcat util res string manager stringmanager org apache tomcat util security privileged set tccl privilegedsettccl standard host valve standardhostvalve valve base valvebase log log log factory logfactory get log getlog standard host valve standardhostvalve strict servlet compliance access session strict servlet compliance globals strict servlet compliance string access session accesssession system get property getproperty org apache catalina core standard host valve standardhostvalve access session access session accesssession access session strict servlet compliance access session parse boolean parseboolean access session accesssession constructor standard host valve standardhostvalve instance variables descriptive implementation string info org apache catalina core standard host valve standardhostvalve string manager string manager stringmanager string manager stringmanager get manager getmanager constants properties descriptive valve implementation override string get info getinfo info methods select child context process request based request uri matching context http error param request request processed param response response produced exception i o exception ioexception input output error occurred exception servlet exception servletexception servlet error occurred override invoke request request response response i o exception ioexception servlet exception servletexception select context request context context request get context getcontext context response send error senderror http servlet response httpservletresponse internal server error get string getstring standard host standardhost no context nocontext bind context current thread context get loader getloader event ually eventually move engine globals security enabled privileged action privilegedaction privileged set tccl privilegedsettccl context get loader getloader get class loader getclassloader access controller accesscontroller do privileged doprivileged thread current thread currentthread set context class loader setcontextclassloader context get loader getloader get class loader getclassloader request is async supported isasyncsupported request set async supported setasyncsupported context get pipeline getpipeline is async supported isasyncsupported async at start asyncatstart request is async isasync async dispatching asyncdispatching request is async dispatching isasyncdispatching async at start asyncatstart context fire request init event firerequestinitevent request defined error async at start asyncatstart async dispatching asyncdispatching context get pipeline getpipeline get first getfirst invoke request response report required response is error report required iserrorreportrequired illegal state exception illegalstateexception get string getstring standard host standardhost async state error asyncstateerror throwable exception utils exceptionutils handle throwable handlethrowable container get logger getlogger error exception processing request getrequesturi response is error report required iserrorreportrequired request set attribute setattribute request dispatcher requestdispatcher error exception throwable request response request response pair container control lift suspension error handling complete container flush remaining data response set suspended setsuspended throwable throwable request get attribute getattribute request dispatcher requestdispatcher error exception running request context get state getstate is available isavailable render application level error response is error report required iserrorreportrequired throwable request response status request response request is async isasync async at start asyncatstart response is error report required iserrorreportrequired context fire request destroy event firerequestdestroyevent request str ict strict int erpretation interpretation specification access session request get session getsession restore context class loader classloader globals security enabled privileged action privilegedaction privileged set tccl privilegedsettccl standard host valve standardhostvalve get class loader getclassloader access controller accesscontroller do privileged doprivileged thread current thread currentthread set context class loader setcontextclassloader standard host valve standardhostvalve get class loader getclassloader process comet event param request request processed param response response produced param event event exception i o exception ioexception input output error occurred exception servlet exception servletexception servlet error occurred override event request request response response comet event cometevent event i o exception ioexception servlet exception servletexception select context request context context request get context getcontext bind context current thread context get loader getloader started check availability event ually eventually move engine thread current thread currentthread set context class loader setcontextclassloader context get loader getloader get class loader getclassloader context process request context get pipeline getpipeline get first getfirst event request response event error processing response set suspended setsuspended throwable throwable request get attribute getattribute request dispatcher requestdispatcher error exception throwable request response status request response str ict strict int erpretation interpretation specification access session request get session getsession restore context class loader classloader thread current thread currentthread set context class loader setcontextclassloader standard host valve standardhostvalve get class loader getclassloader methods handle http status code message generated processing request produce response exceptions occur generation error report log ged logged swallowed param request request processed param response response generated status request request response response status code statuscode response get status getstatus handle custom error status code context context request get context getcontext context error is error iserror is error iserror response send error senderror invoked custom error rel ying relying web xml response is error iserror error page errorpage error page errorpage context find error page finderrorpage status code statuscode error page errorpage error error page errorpage context find error page finderrorpage error page errorpage response is error report required iserrorreportrequired response set app committed setappcommitted request set attribute setattribute request dispatcher requestdispatcher error status code integer value of valueof status code statuscode string message response get message getmessage message message request set attribute setattribute request dispatcher requestdispatcher error message message request set attribute setattribute globals dispatcher request path attr error page errorpage get location getlocation request set attribute setattribute globals dispatcher type attr dispatcher type dispatchertype error wrapper wrapper request get wrapper getwrapper wrapper request set attribute setattribute request dispatcher requestdispatcher error servlet wrapper get name getname request set attribute setattribute request dispatcher requestdispatcher error request uri request getrequesturi custom request response error page errorpage response set error reported seterrorreported response finish response finishresponse client abort exception clientabortexception i o exception ioexception container get logger getlogger warn exception processing error page errorpage handle throwable encountered processing request produce response exceptions occur generation exception report log ged logged swallowed param request request processed param response response generated param throwable exception occurred wraps root exception throwable request request response response throwable throwable context context request get context getcontext context throwable real error realerror throwable real error realerror servlet exception servletexception real error realerror servlet exception servletexception real error realerror get root cause getrootcause real error realerror real error realerror throwable aborted request client log real error realerror client abort exception clientabortexception log is debug enabled isdebugenabled log debug get string getstring standard host standardhost client abort clientabort real error realerror get cause getcause get message getmessage error page errorpage error page errorpage find error page finderrorpage context throwable error page errorpage real error realerror throwable error page errorpage find error page finderrorpage context real error realerror error page errorpage response set error reported seterrorreported response set app committed setappcommitted request set attribute setattribute globals dispatcher request path attr error page errorpage get location getlocation request set attribute setattribute globals dispatcher type attr dispatcher type dispatchertype error request set attribute setattribute request dispatcher requestdispatcher error status code integer value of valueof http servlet response httpservletresponse internal server error request set attribute setattribute request dispatcher requestdispatcher error message throwable get message getmessage request set attribute setattribute request dispatcher requestdispatcher error exception real error realerror wrapper wrapper request get wrapper getwrapper wrapper request set attribute setattribute request dispatcher requestdispatcher error servlet wrapper get name getname request set attribute setattribute request dispatcher requestdispatcher error request uri request getrequesturi request set attribute setattribute request dispatcher requestdispatcher error exception type real error realerror get class getclass custom request response error page errorpage response finish response finishresponse i o exception ioexception container get logger getlogger warn exception processing error page errorpage custom error defined exception thrown request processing check error error code send response response set status setstatus http servlet response httpservletresponse internal server error response error response set error seterror status request response handle http status code java exception for warding forwarding control location included error page errorpage object assumed caller recorded request attributes for warded forwarded code code util ized utilized error location code code error report rendered param request request processed param response response generated param error page errorpage error page errorpage directive obeying custom request request response response error page errorpage error page errorpage container get logger getlogger is debug enabled isdebugenabled container get logger getlogger debug processing error page errorpage control location servlet context servletcontext servlet context servletcontext request get context getcontext get servlet context getservletcontext request dispatcher requestdispatcher servlet context servletcontext get request dispatcher getrequestdispatcher error page errorpage get location getlocation container get logger getlogger error get string getstring standard host value standardhostvalue custom status failed customstatusfailed error page errorpage get location getlocation response is committed iscommitted response committed including error include request get request getrequest response get response getresponse reset response keeping real error code message response reset buffer resetbuffer response set content length setcontentlength request get request getrequest response get response getresponse response suspended response set suspended setsuspended processed custom throwable exception utils exceptionutils handle throwable handlethrowable container get logger getlogger error exception processing error page errorpage find error page errorpage instance exception error page errorpage instance closest superclass definition error page errorpage instance code code param context context search param exception exception find error page errorpage error page errorpage find error page finderrorpage context context throwable exception exception clazz exception get class getclass string clazz get name getname object equals clazz error page errorpage error page errorpage context find error page finderrorpage error page errorpage error page errorpage clazz clazz get superclass getsuperclass clazz clazz get name getname
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java sql connection java sql result set resultset java sql statement java util concurrent org apache tomcat jdbc pool data source datasource org apache tomcat jdbc pool pool configuration poolconfiguration org apache tomcat jdbc pool pool properties poolproperties simplepojoasyncexample main string args exception pool configuration poolconfiguration pool properties poolproperties set fair queue setfairqueue set url seturl jdbc mysql localhost mysql auto reconnect autoreconnect set driver class name setdriverclassname mysql jdbc driver set username setusername root set password setpassword password set jmx enabled setjmxenabled set test while idle settestwhileidle set test on borrow settestonborrow set validation query setvalidationquery select set test on return settestonreturn set validation interval setvalidationinterval set time between eviction runs millis settimebetweenevictionrunsmillis set max active setmaxactive set initial size setinitialsize set max wait setmaxwait set remove abandoned timeout setremoveabandonedtimeout set min evictable idle time millis setminevictableidletimemillis set min idle setminidle set log abandoned setlogabandoned set remove abandoned setremoveabandoned set jdbc int erceptors setjdbcinterceptors org apache tomcat jdbc pool int erceptor interceptor connection state connectionstate org apache tomcat jdbc pool int erceptor interceptor statement final izer statementfinalizer data source datasource datasource data source datasource datasource set pool properties setpoolproperties connection con connection datasource get connection async getconnectionasync is done isdone system println connection background work simulate work thread sleep interrupted exception interruptedexception thread int errupted interrupted inst antly instantly con statement con create statement createstatement result set resultset execute query executequery select user cnt system println cnt host get string getstring host user get string getstring user password get string getstring password close close con con close exception ignore
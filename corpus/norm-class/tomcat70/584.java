licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina comet java io exception ioexception javax servlet servlet exception servletexception javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse comet event cometevent author filip hanik author remy maucherat comet event cometevent enumeration describing major events container invoke comet processors cometprocessors event method called processing connection initialize relevant fields request response objects processing event processing error events response object write data open connection note response object dependent output stream outputstream writer accessed multiple threads synchronization mandatory processing initial event request considered committed read input data read blocking ready methods input stream inputstream reader determine ris k risk blocking servlet read data reported enc ountering encountering read error servlet report prop agating propagating exception properly throwing exception error event invoked connection closed alternately exception perform clean data structure servlet close method event allowed attempt reading data request object execution method called processing request fields initialized method reset event processed request response objects dependent objects recycled process requests called data file reached request input client pipeline d pipelined request error error called container exception unrecoverable error occurs connection fields initialized method reset event processed request response objects dependent objects recycled process requests enum event type eventtype read error event details timeout connection time d timed type error not e note error type fatal connection closed servlet close method event client disconnect client connection closed type error ioexception exception occurred invalid content invalid chunk block type error webapp reload webapp lication webapplication reloaded type server shutdown server shutting type session servlet ended session type enum event sub type eventsubtype timeout client disconnect ioexception webapp reload server shutdown session returns http servlet request httpservletrequest http servlet request httpservletrequest http servlet request httpservletrequest get http servlet request gethttpservletrequest returns http servlet response httpservletresponse http servlet response httpservletresponse http servlet response httpservletresponse get http servlet response gethttpservletresponse returns event type event type eventtype event type eventtype get event type geteventtype returns type event event sub type eventsubtype event sub type eventsubtype get event sub type geteventsubtype ends comet session sig nals signals container container comet session send client not ice notice server data send request servlet perform needed cleanup received error event io exception ioexception exception occurs close io exception ioexception sets timeout comet connection note implementation connection timeout optional implemented method sets timeout milliseconds idle time connection timeout reset time data received connection data flushed code response flush buffer flushbuffer code timeout occurs code error http servlet request httpservletrequest http servlet response httpservletresponse code method invoked web application attempt reuse request response objects timeout code error http servlet request httpservletrequest http servlet response httpservletresponse code method method called async hronously asynchronously param timeout timeout milliseconds connection positive larger io exception ioexception io exception ioexception thrown error eof reached connection servlet exception servletexception exception occurred root unsupported operation exception unsupportedoperationexception connection timeout supported phase invocation set timeout settimeout timeout io exception ioexception servlet exception servletexception unsupported operation exception unsupportedoperationexception
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util net java file java net socket exception socketexception javax net ssl ssl exception sslexception org junit assert equals assertequals org junit assert true asserttrue org junit fail org junit assume org junit test org apache catalina connector connector org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache coyote protocol handler protocolhandler org apache coyote http abstract http abstracthttp jsse protocol jsseprotocol org apache tomcat util buf byte chunk bytechunk org apache tomcat util net jsse tester bug testerbug ssl impl sslimpl certificates file svn generated test files tomcat pmc repository license d licensed test custom ssl testcustomssl tomcat base test tomcatbasetest test test custom ssl implementation testcustomsslimplementation exception tester support testersupport configure client ssl configureclientssl tomcat tomcat get tomcat instance gettomcatinstance connector connector tomcat get connector getconnector assume assume false assumefalse test jsse based ssl connectors connector get protocol handler class name getprotocolhandlerclassname apr connector set property setproperty ssl implementation name sslimplementationname org apache tomcat util net jsse tester bug testerbug ssl impl sslimpl connector set property setproperty tester bug testerbug ssl impl sslimpl property tester bug testerbug ssl impl sslimpl property connector set property setproperty ssl protocol sslprotocol tls file keys tore file keystorefile file test org apache tomcat util net localhost jks connector set attribute setattribute keys tore file keystorefile keys tore file keystorefile get absolute path getabsolutepath connector set secure setsecure connector set property setproperty ssl enabled sslenabled file app dir appdir file get build directory getbuilddirectory web apps webapps examples tomcat add webapp addwebapp examples app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res get url geturl https localhost get port getport examples servlets servlet hello world example helloworldexample assert true asserttrue res to string tostring index of indexof href helloworld html test test custom trust manager testcustomtrustmanager exception do test custom trust manager dotestcustomtrustmanager test test custom trust manager testcustomtrustmanager exception do test custom trust manager dotestcustomtrustmanager do test custom trust manager dotestcustomtrustmanager server trust all servertrustall exception tester support testersupport rfc supported ssl renegotiation disabled jvm system set property setproperty sun security ssl allow unsafe renegotiation allowunsaferenegotiation tomcat tomcat get tomcat instance gettomcatinstance assume assume true assumetrue ssl renegotiation supported test tester support testersupport is renegotiation supported isrenegotiationsupported get tomcat instance gettomcatinstance tester support testersupport configure client cert context configureclientcertcontext tomcat override defaults protocol handler protocolhandler handler tomcat get connector getconnector get protocol handler getprotocolhandler handler abstract http abstracthttp jsse protocol jsseprotocol abstract http abstracthttp jsse protocol jsseprotocol handler set truststore file settruststorefile unexpected fail unexpected handler type server trust all servertrustall tomcat get connector getconnector set attribute setattribute trust manager class name trustmanagerclassname org apache tomcat util net tester support testersupport trust all certs trustallcerts start tomcat tomcat start tester support testersupport configure client ssl configureclientssl unprotected resource byte chunk bytechunk res get url geturl https localhost get port getport unprotected assert equals assertequals res to string tostring resource res recycle get url geturl https localhost get port getport res socket exception socketexception server trust all servertrustall fail get message getmessage print stack trace printstacktrace ssl exception sslexception server trust all servertrustall fail get message getmessage print stack trace printstacktrace server trust all servertrustall assert equals assertequals assert equals assertequals tester support testersupport role res to string tostring assert true asserttrue assert equals assertequals res to string tostring
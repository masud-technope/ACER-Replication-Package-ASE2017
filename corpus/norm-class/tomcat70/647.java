licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc bugs java sql callable statement callablestatement java sql connection java sql sql exception sqlexception java sql statement java util array list arraylist java util list org apache tomcat jdbc pool connection pool connectionpool org apache tomcat jdbc pool pool configuration poolconfiguration org apache tomcat jdbc test default properties defaultproperties bug param args sql exception sqlexception main string args sql exception sqlexception org apache tomcat jdbc pool data source datasource datasource pool configuration poolconfiguration default properties defaultproperties set jmx enabled setjmxenabled set test on borrow settestonborrow set test on return settestonreturn set validation interval setvalidationinterval set time between eviction runs millis settimebetweenevictionrunsmillis set max wait setmaxwait set min evictable idle time millis setminevictableidletimemillis datasource org apache tomcat jdbc pool data source datasource datasource set pool properties setpoolproperties datasource set jdbc int erceptors setjdbcinterceptors org apache tomcat jdbc pool int erceptor interceptor slow query report jmx slowqueryreportjmx threshold connection pool connectionpool pool datasource create pool createpool connection con pool get connection getconnection statement con create statement createstatement execute drop alias sleep exception ignore execute create alias sleep nboolean sleep thread sleep exception close con close iter iter connection connection pool get connection getconnection callable statement callablestatement connection prepare call preparecall call sleep list thread thread list threadlist array list arraylist thread thread thread thread override thread sleep cancel statement block longer time start system current time millis currenttimemillis system println get name getname calling sleep execute system println get name getname executed sleep system current time millis currenttimemillis start thread sleep connection close interrupted exception interruptedexception sql exception sqlexception print stack trace printstacktrace thread list threadlist add thread thread start thread thread list threadlist join interrupted exception interruptedexception print stack trace printstacktrace
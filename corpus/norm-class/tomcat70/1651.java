licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina mbeans java io exception ioexception java serializable java lang management management factory managementfactory java net inet address inetaddress java net malformedurlexception java net server socket serversocket java net socket java net unknown host exception unknownhostexception java rmi already bound exception alreadyboundexception java rmi remote exception remoteexception java rmi registry locate registry locateregistry java rmi registry registry java rmi server rmi client socket factory rmiclientsocketfactory java rmi server rmi server socket factory rmiserversocketfactory java security no such algorithm exception nosuchalgorithmexception java util array list arraylist java util hash map hashmap java util list java util locale javax management remote jmx connector server jmxconnectorserver javax management remote jmxserviceurl javax management remote rmi rmi connector server rmiconnectorserver javax management remote rmi rmi jrmp server impl rmijrmpserverimpl javax net ssl ssl context sslcontext javax net ssl ssl server socket sslserversocket javax net ssl ssl server socket factory sslserversocketfactory javax rmi ssl sslrmiclientsocketfactory javax rmi ssl sslrmiserversocketfactory org apache catalina lifecycle org apache catalina lifecycle event lifecycleevent org apache catalina lifecycle listener lifecyclelistener org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util res string manager stringmanager listener fixes port jmx rmi server making simple r simpler connect jconsole remote tomcat instance running fire wall firewall ports configured listener remainder configuration standard system properties config uri ng configuring jmx jmx remote lifecycle listener jmxremotelifecyclelistener lifecycle listener lifecyclelistener log log log factory logfactory get log getlog jmx remote lifecycle listener jmxremotelifecyclelistener string manager stringmanager string manager stringmanager get manager getmanager constants string rmi bind address rmibindaddress rmi registry port platform rmiregistryportplatform rmi server port platform rmiserverportplatform rmiregistryssl rmiserverssl string ciphers string protocols client auth clientauth authenticate string password file passwordfile string login module name loginmodulename string access file accessfile use local ports uselocalports jmx connector server jmxconnectorserver cs platform csplatform inet address platform rmi server exported text ual textual representation inet address string get rmi bind address getrmibindaddress rmi bind address rmibindaddress inet address platform rmi server exported param the rmi bind address thermibindaddress text ual textual representation inet address set rmi bind address setrmibindaddress string the rmi bind address thermibindaddress rmi bind address rmibindaddress the rmi bind address thermibindaddress port platform rmi server exported port chosen rmi stack port number get rmi server port platform getrmiserverportplatform rmi server port platform rmiserverportplatform port platform rmi server exported port chosen rmi stack param the rmi server port platform thermiserverportplatform port number set rmi server port platform setrmiserverportplatform the rmi server port platform thermiserverportplatform rmi server port platform rmiserverportplatform the rmi server port platform thermiserverportplatform port platform rmi registry exported port number get rmi registry port platform getrmiregistryportplatform rmi registry port platform rmiregistryportplatform port platform rmi registry exported param the rmi registry port platform thermiregistryportplatform port number set rmi registry port platform setrmiregistryportplatform the rmi registry port platform thermiregistryportplatform rmi registry port platform rmiregistryportplatform the rmi registry port platform thermiregistryportplatform flag local ports connections ssh tunnels ensure rmi client tunnel code code local ports get use local ports getuselocalports use local ports uselocalports flag local ports connections ssh tunnels ensure rmi client tunnel param use local ports uselocalports code code local ports set use local ports setuselocalports use local ports uselocalports use local ports uselocalports use local ports uselocalports init parameters required standard system properties parameters affect creation server port string rmiregistrysslvalue system get property getproperty sun management jmxremote registry ssl rmiregistryssl parse boolean parseboolean rmiregistrysslvalue string rmiserversslvalue system get property getproperty sun management jmxremote ssl rmiserverssl parse boolean parseboolean rmiserversslvalue string protocols value protocolsvalue system get property getproperty sun management jmxremote ssl enabled protocols protocols value protocolsvalue protocols protocols value protocolsvalue split string ciphers value ciphersvalue system get property getproperty sun management jmxremote ssl enabled cipher suites ciphers value ciphersvalue ciphers ciphers value ciphersvalue split string client auth value clientauthvalue system get property getproperty sun management jmxremote ssl client client auth clientauth parse boolean parseboolean client auth value clientauthvalue string authenticate value authenticatevalue system get property getproperty sun management jmxremote authenticate authenticate parse boolean parseboolean authenticate value authenticatevalue password file passwordfile system get property getproperty sun management jmxremote password file jmxremote password access file accessfile system get property getproperty sun management jmxremote access file jmxremote access login module name loginmodulename system get property getproperty sun management jmxremote login config override lifecycle event lifecycleevent lifecycle event lifecycleevent event server starts configure jmx rmi lifecycle start event equals event get type gettype configure standard jmx system properties init prevent att acker attacker guessing rmi object system set property setproperty java rmi server randomids create environment hash map hashmap string object env hash map hashmap string object rmi client socket factory rmiclientsocketfactory registry csf registrycsf rmi server socket factory rmiserversocketfactory registry ssf registryssf rmi client socket factory rmiclientsocketfactory server csf servercsf rmi server socket factory rmiserversocketfactory server ssf serverssf configure registry socket factories rmiregistryssl registry csf registrycsf sslrmiclientsocketfactory rmi bind address rmibindaddress registry ssf registryssf sslrmiserversocketfactory ciphers protocols client auth clientauth registry ssf registryssf ssl rmi server bind socket factory sslrmiserverbindsocketfactory ciphers protocols client auth clientauth rmi bind address rmibindaddress rmi bind address rmibindaddress registry ssf registryssf rmi server bind socket factory rmiserverbindsocketfactory rmi bind address rmibindaddress configure server socket factories rmiserverssl server csf servercsf sslrmiclientsocketfactory rmi bind address rmibindaddress server ssf serverssf sslrmiserversocketfactory ciphers protocols client auth clientauth server ssf serverssf ssl rmi server bind socket factory sslrmiserverbindsocketfactory ciphers protocols client auth clientauth rmi bind address rmibindaddress rmi bind address rmibindaddress server ssf serverssf rmi server bind socket factory rmiserverbindsocketfactory rmi bind address rmibindaddress configured address rmi bind address rmibindaddress system set property setproperty java rmi server host name hostname rmi bind address rmibindaddress force local ports required use local ports uselocalports registry csf registrycsf rmi client local host socket factory rmiclientlocalhostsocketfactory registry csf registrycsf server csf servercsf rmi client local host socket factory rmiclientlocalhostsocketfactory server csf servercsf populate env properties create server server csf servercsf env rmi connector server rmiconnectorserver rmi client socket factory attribute server csf servercsf env sun jndi rmi factory socket registry csf registrycsf server ssf serverssf env rmi connector server rmiconnectorserver rmi server socket factory attribute server ssf serverssf configure authentication authenticate env jmx remote password file password file passwordfile env jmx remote access file access file accessfile env jmx remote login config login module name loginmodulename create platform server cs platform csplatform create server createserver platform rmi bind address rmibindaddress rmi registry port platform rmiregistryportplatform rmi server port platform rmiserverportplatform env registry csf registrycsf registry ssf registryssf server csf servercsf server ssf serverssf lifecycle event equals event get type gettype destroy server destroyserver platform cs platform csplatform jmx connector server jmxconnectorserver create server createserver string server name servername string bind address bindaddress the rmi registry port thermiregistryport the rmi server port thermiserverport hash map hashmap string object the env theenv rmi client socket factory rmiclientsocketfactory registry csf registrycsf rmi server socket factory rmiserversocketfactory registry ssf registryssf rmi client socket factory rmiclientsocketfactory server csf servercsf rmi server socket factory rmiserversocketfactory server ssf serverssf create rmi registry registry registry registry locate registry locateregistry create registry createregistry the rmi registry port thermiregistryport registry csf registrycsf registry ssf registryssf remote exception remoteexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener create registry failed createregistryfailed server name servername integer to string tostring the rmi registry port thermiregistryport bind address bindaddress bind address bindaddress localhost string url service jmx rmi bind address bindaddress jmxserviceurl service url serviceurl service url serviceurl jmxserviceurl url malformedurlexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener invalidurl server name servername url rmi connector server rmiconnectorserver rmi jrmp server impl rmijrmpserverimpl server rmi jrmp server impl rmijrmpserverimpl rmi server port platform rmiserverportplatform server csf servercsf server ssf serverssf the env theenv rmi connector server rmiconnectorserver service url serviceurl the env theenv server management factory managementfactory get platform bean server getplatformmbeanserver start registry bind jmx rmi jmxrmi server log info get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener start integer to string tostring the rmi registry port thermiregistryport integer to string tostring the rmi server port thermiserverport server name servername io exception ioexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener create server failed createserverfailed server name servername already bound exception alreadyboundexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener create server failed createserverfailed server name servername destroy server destroyserver string server name servername jmx connector server jmxconnectorserver the connector server theconnectorserver the connector server theconnectorserver the connector server theconnectorserver io exception ioexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener destroy server failed destroyserverfailed server name servername rmi client local host socket factory rmiclientlocalhostsocketfactory rmi client socket factory rmiclientsocketfactory serializable serialversionuid string for ced forced host localhost rmi client socket factory rmiclientsocketfactory factory rmi client local host socket factory rmiclientlocalhostsocketfactory rmi client socket factory rmiclientsocketfactory the factory thefactory factory the factory thefactory override socket create socket createsocket string host port io exception ioexception factory socket for ced forced host port factory create socket createsocket for ced forced host port rmi server bind socket factory rmiserverbindsocketfactory rmi server socket factory rmiserversocketfactory inet address inetaddress bind address bindaddress rmi server bind socket factory rmiserverbindsocketfactory string address inet address inetaddress bind address bindaddress bind address bindaddress inet address inetaddress get by name getbyname address unknown host exception unknownhostexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener invalid rmi bind address invalidrmibindaddress address bind address bindaddress bind address bindaddress override server socket serversocket create server socket createserversocket port io exception ioexception server socket serversocket port bind address bindaddress ssl rmi server bind socket factory sslrmiserverbindsocketfactory sslrmiserversocketfactory ssl server socket factory sslserversocketfactory ssl server socket factory sslserversocketfactory string default protocols defaultprotocols ssl context sslcontext ssl context sslcontext ssl context sslcontext ssl context sslcontext get default getdefault no such algorithm exception nosuchalgorithmexception illegal state exception illegalstateexception ssl server socket factory sslserversocketfactory ssl context sslcontext get server socket factory getserversocketfactory string protocols ssl context sslcontext getdefaultsslparameters get protocols getprotocols list string filtered protocols filteredprotocols array list arraylist string protocols length string protocol protocols protocol to upper case touppercase locale english ssl filtered protocols filteredprotocols add protocol default protocols defaultprotocols filtered protocols filteredprotocols to array toarray string filtered protocols filteredprotocols size inet address inetaddress bind address bindaddress ssl rmi server bind socket factory sslrmiserverbindsocketfactory string enabled cipher suites enabledciphersuites string enabled protocols enabledprotocols need client auth needclientauth string address enabled cipher suites enabledciphersuites enabled protocols enabledprotocols need client auth needclientauth inet address inetaddress bind address bindaddress bind address bindaddress inet address inetaddress get by name getbyname address unknown host exception unknownhostexception log error get string getstring jmx remote lifecycle listener jmxremotelifecyclelistener invalid rmi bind address invalidrmibindaddress address bind address bindaddress bind address bindaddress override server socket serversocket create server socket createserversocket port io exception ioexception ssl server socket sslserversocket ssl server socket sslserversocket ssl server socket sslserversocket ssl server socket factory sslserversocketfactory create server socket createserversocket port bind address bindaddress get enabled cipher suites getenabledciphersuites ssl server socket sslserversocket set enabled cipher suites setenabledciphersuites get enabled cipher suites getenabledciphersuites get enabled protocols getenabledprotocols ssl server socket sslserversocket set enabled protocols setenabledprotocols default protocols defaultprotocols ssl server socket sslserversocket set enabled protocols setenabledprotocols get enabled protocols getenabledprotocols ssl server socket sslserversocket set need client auth setneedclientauth get need client auth getneedclientauth ssl server socket sslserversocket
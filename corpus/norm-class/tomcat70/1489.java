licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina mbeans java file java net inet address inetaddress java net unknown host exception unknownhostexception java util array list arraylist java util arrays java util list java util javax management m bean server mbeanserver javax management object name objectname org junit assert equals assertequals org junit assert true asserttrue org junit fail org junit test org apache catalina context org apache catalina realm org apache catalina core standard host standardhost org apache catalina realm combined realm combinedrealm org apache catalina realm null realm nullrealm org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache tomcat util modeler registry general tests process registration registration don apply specific tomcat test registration testregistration tomcat base test tomcatbasetest string context name contextname foo string address string address address inet address inetaddress get by name getbyname localhost get host address gethostaddress unknown host exception unknownhostexception address init failed address address string basic bean names basicmbeannames string tomcat type engine tomcat type realm realm path realmpath realm tomcat type m bean factory mbeanfactory tomcat type naming resources namingresources tomcat type server tomcat type service tomcat type string cache stringcache tomcat type valve standard engine valve standardenginevalve string host bean names hostmbeannames string host string tomcat type host host host tomcat type valve host host error report valve errorreportvalve tomcat type valve host host standard host valve standardhostvalve string optional bean names optionalmbeannames string host is access log enabled isaccesslogenabled string tomcat type valve host host access log valve accesslogvalve string string request bean names requestmbeannames string port string type string tomcat type request processor requestprocessor worker object name objectname quote http type address port http request httprequest string context bean names contextmbeannames string host string context string tomcat ee type eetype web module webmodule host context ee application eeapplication ee server eeserver tomcat type cache host host context context tomcat type loader context context host host tomcat type manager context context host host tomcat type naming resources namingresources context context host host tomcat type valve context context host host non login authenticator nonloginauthenticator tomcat type valve context context host host standard context valve standardcontextvalve tomcat type webapp class loader webappclassloader context context host host tomcat type realm realm path realmpath realm context context host host tomcat type realm realm path realmpath realm realm context context host host string connector bean names connectormbeannames string port string type string tomcat type connector port port address object name objectname quote address tomcat type global request processor globalrequestprocessor object name objectname quote http type address port tomcat type mapper port port address object name objectname quote address tomcat type protocol handler protocolhandler port port address object name objectname quote address tomcat type thread pool threadpool object name objectname quote http type address port test verifying tomcat correctly registers m beans mbeans registered author marc guillemot test test bean deregistration testmbeanderegistration exception m bean server mbeanserver mbean server mbeanserver registry get registry getregistry get bean server getmbeanserver verify catalina tomcat m beans mbeans object name objectname onames mbean server mbeanserver query names querynames object name objectname catalina log info m bean dumper mbeandumper dump beans dumpbeans mbean server mbeanserver onames assert equals assertequals unexpected onames onames size onames mbean server mbeanserver query names querynames object name objectname tomcat log info m bean dumper mbeandumper dump beans dumpbeans mbean server mbeanserver onames assert equals assertequals unexpected onames onames size tomcat tomcat get tomcat instance gettomcatinstance file context dir contextdir file get temporary directory gettemporarydirectory webapp foo webappfoo add delete on tear down adddeleteonteardown context dir contextdir context dir contextdir mkdirs context dir contextdir is directory isdirectory fail failed create context dir contextdir to string tostring context ctx tomcat add context addcontext context name contextname context dir contextdir get absolute path getabsolutepath combined realm combinedrealm combined realm combinedrealm combined realm combinedrealm realm null realm nullrealm null realm nullrealm combined realm combinedrealm add realm addrealm null realm nullrealm ctx set realm setrealm combined realm combinedrealm disable alive request processing threads alive won shut fast bio register processor triggering test failure tomcat get connector getconnector set attribute setattribute max keep alive requests maxkeepaliverequests integer value of valueof tomcat start get url geturl http localhost get port getport verify catalina m beans mbeans onames mbean server mbeanserver query names querynames object name objectname catalina log info m bean dumper mbeandumper dump beans dumpbeans mbean server mbeanserver onames assert equals assertequals onames onames size verify correct tomcat m beans mbeans onames mbean server mbeanserver query names querynames object name objectname tomcat array list arraylist string array list arraylist string onames size object name objectname onames add to string tostring create list expected m bean mbean names string protocol tomcat get connector getconnector get protocol handler class name getprotocolhandlerclassname protocol index of indexof nio protocol nio protocol index of indexof apr protocol apr protocol bio string tomcat get connector getconnector get property getproperty name index nameindex to string tostring array list arraylist string expected array list arraylist string arrays as list aslist basic bean names basicmbeannames expected add all addall arrays as list aslist host bean names hostmbeannames localhost expected add all addall arrays as list aslist context bean names contextmbeannames localhost context name contextname expected add all addall arrays as list aslist connector bean names connectormbeannames auto protocol expected add all addall arrays as list aslist optional bean names optionalmbeannames localhost expected add all addall arrays as list aslist request bean names requestmbeannames auto get port getport protocol find expected m beans mbeans array list arraylist string missing array list arraylist string expected missing remove all removeall assert true asserttrue missing tomcat m beans mbeans missing missing is empty isempty find unexpected m beans mbeans list string additional additional remove all removeall expected assert true asserttrue unexpected tomcat m beans mbeans additional additional is empty isempty tomcat tomcat m beans mbeans onames mbean server mbeanserver query names querynames object name objectname tomcat assert true asserttrue tomcat m beans mbeans onames size add host standard host standardhost host standard host standardhost host set name setname other host otherhost tomcat get engine getengine add child addchild host file context dir contextdir file get temporary directory gettemporarydirectory webapp foo webappfoo add delete on tear down adddeleteonteardown context dir contextdir context dir contextdir mkdirs context dir contextdir is directory isdirectory fail failed create context dir contextdir to string tostring tomcat add context addcontext host context name contextname context dir contextdir get absolute path getabsolutepath tomcat start tomcat tomcat destroy catalina m beans mbeans tomcat m beans mbeans onames mbean server mbeanserver query names querynames object name objectname catalina log info m bean dumper mbeandumper dump beans dumpbeans mbean server mbeanserver onames assert equals assertequals remaining onames onames size onames mbean server mbeanserver query names querynames object name objectname tomcat log info m bean dumper mbeandumper dump beans dumpbeans mbean server mbeanserver onames assert equals assertequals remaining onames onames size
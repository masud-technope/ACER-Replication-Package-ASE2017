licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina deploy java file java util hash map hashmap java util iterator java util map org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util res string manager stringmanager war watcher warwatcher variables log log log factory logfactory get log getlog war watcher warwatcher string manager stringmanager string manager stringmanager get manager getmanager constants instance variables directory watch war files file watch dir watchdir parent not ified notified file change listener filechangelistener listener deployed files map string war info warinfo current status currentstatus hash map hashmap string war info warinfo war watcher warwatcher war watcher warwatcher file change listener filechangelistener listener file watch dir watchdir listener listener watch dir watchdir watch dir watchdir logic check modification send notification listener check log is debug enabled isdebugenabled log debug get string getstring war watcher warwatcher checking wars checkingwars watch dir watchdir file list watch dir watchdir list files listfiles war filter warfilter list log warn get string getstring war watcher warwatcher can t list watch dir cantlistwatchdir watch dir watchdir list file files listed current status list length list exists log warn get string getstring war watcher warwatcher listed file does not exist listedfiledoesnotexist list watch dir watchdir add war info addwarinfo list check status codes update farm deployer farmdeployer iterator map entry string war info warinfo current status currentstatus entry set entryset iterator has next hasnext map entry string war info warinfo entry war info warinfo info entry get value getvalue log is trace enabled istraceenabled log trace get string getstring war watcher warwatcher checking war checkingwar info get war getwar check info check check listener file modified filemodified info get war getwar check listener file removed fileremoved info get war getwar memory remove log is trace enabled istraceenabled log trace get string getstring war watcher warwatcher check war result checkwarresult integer value of valueof check info get war getwar add cluster war watcher param warfile add war info addwarinfo file warfile war info warinfo info current status currentstatus warfile get absolute path getabsolutepath info info war info warinfo warfile assume file existent info set last state setlaststate current status currentstatus warfile get absolute path getabsolutepath info clear watcher clear current status currentstatus clear returns watch dir watchdir file get watch dir getwatchdir watch dir watchdir param watch dir watchdir watch dir watchdir set watch dir setwatchdir file watch dir watchdir watch dir watchdir watch dir watchdir returns listener file change listener filechangelistener get listener getlistener listener param listener listener set listener setlistener file change listener filechangelistener listener listener listener file filter war files war filter warfilter java file name filter filenamefilter override accept file path string ends with endswith war file existing war files war info warinfo file war last checked lastchecked last state laststate war info warinfo file war war war last checked lastchecked war last modified lastmodified war exists last state laststate modified war exists war last modified lastmodified last checked lastchecked exists war exists returns file modified file unchanged file removed file unchanged file removed check file unchanged result modified file changed timestamp result last state laststate result exists last state laststate file removed result last state laststate result last state laststate exists file result last state laststate result last checked lastchecked system current time millis currenttimemillis result file get war getwar war override hash code hashcode war get absolute path getabsolutepath hash code hashcode override equals object war info warinfo war info warinfo war info warinfo get war getwar equals get war getwar set last state setlaststate last state laststate last state laststate last state laststate
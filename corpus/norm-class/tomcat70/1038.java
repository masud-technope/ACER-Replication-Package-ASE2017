licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java sql connection org junit org junit test org apache tomcat jdbc pool pooled connection pooledconnection test suspect timeout testsuspecttimeout default test case defaulttestcase test test suspect testsuspect exception datasource set max active setmaxactive datasource set max idle setmaxidle datasource set initial size setinitialsize datasource get pool properties getpoolproperties set abandon when per centage full setabandonwhenpercentagefull datasource get pool properties getpoolproperties set time between eviction runs millis settimebetweenevictionrunsmillis datasource get pool properties getpoolproperties set remove abandoned setremoveabandoned datasource get pool properties getpoolproperties set remove abandoned timeout setremoveabandonedtimeout datasource get pool properties getpoolproperties set suspect timeout setsuspecttimeout datasource get pool properties getpoolproperties set log abandoned setlogabandoned connection con datasource get connection getconnection assert equals assertequals number connections active busy datasource get pool getpool get active getactive thread sleep pooled connection pooledconnection pcon con unwrap pooled connection pooledconnection assert true asserttrue connection marked suspect pcon is suspect issuspect con close
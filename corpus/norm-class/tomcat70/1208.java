licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache juli java text simple date format simpledateformat java util java util locale java util time zone timezone cache structure simple date format simpledateformat for matted formatted times tamps timestamps based seconds millis econd millisecond for matting formatting supported add millisecond for matting formatting cache consists entries consecutive range seconds length range config urable configurable implemented based cyclic buffer entries shift range cache threads afe threadsafe synchronization thread local instances synchronization global cache cache created parent cache build cache hierarchy access parent cache threads afe threadsafe date format cache dateformatcache string msec pattern msecpattern timestamp format string format number cached entries cache size cachesize cache cache replace millisecond for matting formatting character dummy characters order for matted formatted time stamps cache able cacheable consumer choose replace dummy chars actual milliseconds cheap string tidy format tidyformat string format escape string builder stringbuilder result string builder stringbuilder len format length len format char at charat escape result append result append msec pattern msecpattern escape escape result to string tostring date format cache dateformatcache size string format date format cache dateformatcache parent cache size cachesize size format tidy format tidyformat format cache parent cache parentcache parent parent parent cache parentcache parent cache cache cache parent cache parentcache string get format getformat time cache get format getformat time cache for matted formatted invocation previous seconds previousseconds min for matted formatted timestamp generated invocation string previous format previousformat contained cache min contained cache min cyclic cache offset helper object call simple date format simpledateformat format current date currentdate string cache simple date format simpledateformat formatter cache parent cache cache parent cache string cache size cachesize cache size cachesize cache formatter simple date format simpledateformat format locale formatter set time zone settimezone time zone timezone get default getdefault parent parent string get format getformat time seconds time step timestamp previous call previous seconds previous seconds previousseconds previous format previousformat step locate cache previous seconds previousseconds seconds offset seconds cache size cachesize cache size cachesize seconds seconds cache remember call previous format previousformat cache previous format previousformat step cache adjust cache add item seconds cache size cachesize seconds cache size cachesize seconds cache size cachesize offset cache size cachesize cache seconds seconds cache cache size cachesize cache size cachesize seconds cache size cachesize seconds offset cache size cachesize seconds seconds cache cache size cachesize seconds seconds cache size cachesize offset step format timestamp parent cache locally parent parent previous format previousformat parent get format getformat time current date currentdate set time settime time previous format previousformat formatter format current date currentdate cache previous format previousformat previous format previousformat
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java util array list arraylist java util list javax websocket encode exception encodeexception javax websocket encoder javax websocket endpoint config endpointconfig javax websocket extension javax websocket extension parameter javax websocket message handler messagehandler org junit org junit test test util testutil init secure random securerandom prior running tests generate mask generatemask util generate mask generatemask test test get message type simple testgetmessagetypesimple assert equals assertequals string util get message type getmessagetype simple message handler simplemessagehandler test test get message type sub class testgetmessagetypesubclass assert equals assertequals string util get message type getmessagetype sub simple message handler subsimplemessagehandler test test get message type generic sub class testgetmessagetypegenericsubclass assert equals assertequals string util get message type getmessagetype generic sub message handler genericsubmessagehandler test test get message type generic multiple sub class testgetmessagetypegenericmultiplesubclass assert equals assertequals string util get message type getmessagetype generic multiple sub sub message handler genericmultiplesubsubmessagehandler test test get message type generic multiple sub class swap testgetmessagetypegenericmultiplesubclassswap assert equals assertequals string util get message type getmessagetype generic multiple sub sub swap message handler genericmultiplesubsubswapmessagehandler test test get encoder type simple testgetencodertypesimple assert equals assertequals string util get encoder type getencodertype simple encoder simpleencoder test test get encoder type sub class testgetencodertypesubclass assert equals assertequals string util get encoder type getencodertype sub simple encoder subsimpleencoder test test get encoder type generic sub class testgetencodertypegenericsubclass assert equals assertequals string util get encoder type getencodertype generic sub encoder genericsubencoder test test get encoder type generic multiple sub class testgetencodertypegenericmultiplesubclass assert equals assertequals string util get encoder type getencodertype generic multiple sub sub encoder genericmultiplesubsubencoder test test get encoder type generic multiple sub class swap testgetencodertypegenericmultiplesubclassswap assert equals assertequals string util get encoder type getencodertype generic multiple sub sub swap encoder genericmultiplesubsubswapencoder test test get encoder type simple with generic type testgetencodertypesimplewithgenerictype assert equals assertequals list util get encoder type getencodertype simple encoder with generic type simpleencoderwithgenerictype test test generic array encoder string testgenericarrayencoderstring assert equals assertequals string util get encoder type getencodertype generic array encoder string genericarrayencoderstring test test generic array sub encoder string testgenericarraysubencoderstring assert equals assertequals string util get encoder type getencodertype generic array sub encoder string genericarraysubencoderstring simple message handler simplemessagehandler message handler messagehandler string override on message onmessage string message sub simple message handler subsimplemessagehandler simple message handler simplemessagehandler generic message handler genericmessagehandler message handler messagehandler generic sub message handler genericsubmessagehandler generic message handler genericmessagehandler string override on message onmessage string message foo do something dosomething generic multiple message handler genericmultiplemessagehandler message handler messagehandler foo generic multiple sub message handler genericmultiplesubmessagehandler generic multiple message handler genericmultiplemessagehandler generic multiple sub sub message handler genericmultiplesubsubmessagehandler generic multiple sub message handler genericmultiplesubmessagehandler string override on message onmessage string message override do something dosomething generic multiple sub swap message handler genericmultiplesubswapmessagehandler generic multiple message handler genericmultiplemessagehandler generic multiple sub sub swap message handler genericmultiplesubsubswapmessagehandler generic multiple sub swap message handler genericmultiplesubswapmessagehandler string override on message onmessage string message override do something dosomething simple encoder simpleencoder encoder text string override init endpoint config endpointconfig endpoint config endpointconfig override destroy override string encode string object encode exception encodeexception sub simple encoder subsimpleencoder simple encoder simpleencoder generic encoder genericencoder encoder text override init endpoint config endpointconfig endpoint config endpointconfig override destroy generic sub encoder genericsubencoder generic encoder genericencoder string override string encode string object encode exception encodeexception generic multiple encoder genericmultipleencoder encoder text foo override init endpoint config endpointconfig endpoint config endpointconfig override destroy generic multiple sub encoder genericmultiplesubencoder generic multiple encoder genericmultipleencoder generic multiple sub sub encoder genericmultiplesubsubencoder generic multiple sub encoder genericmultiplesubencoder string override string encode string object encode exception encodeexception override do something dosomething generic multiple sub swap encoder genericmultiplesubswapencoder generic multiple encoder genericmultipleencoder generic multiple sub sub swap encoder genericmultiplesubsubswapencoder generic multiple sub swap encoder genericmultiplesubswapencoder string override string encode string object encode exception encodeexception override do something dosomething simple encoder with generic type simpleencoderwithgenerictype encoder text list string override init endpoint config endpointconfig endpoint config endpointconfig override destroy override string encode list string object encode exception encodeexception generic array encoder genericarrayencoder encoder text generic array encoder string genericarrayencoderstring generic array encoder genericarrayencoder string override init endpoint config endpointconfig endpoint config endpointconfig override destroy override string encode string object encode exception encodeexception generic array sub encoder genericarraysubencoder generic array encoder genericarrayencoder generic array sub encoder string genericarraysubencoderstring generic array sub encoder genericarraysubencoder string override init endpoint config endpointconfig endpoint config endpointconfig override destroy override string encode string object encode exception encodeexception test test parse extension header simple testparseextensionheadersimple do test parse extension header simple dotestparseextensionheadersimple ext test test parse extension header simple testparseextensionheadersimple do test parse extension header simple dotestparseextensionheadersimple ext test test parse extension header simple testparseextensionheadersimple do test parse extension header simple dotestparseextensionheadersimple ext test test parse extension header simple testparseextensionheadersimple do test parse extension header simple dotestparseextensionheadersimple ext do test parse extension header simple dotestparseextensionheadersimple string header simple test list extension result array list arraylist extension util parse extension header parseextensionheader result header assert equals assertequals result size extension ext result assert equals assertequals ext ext get name getname list parameter params ext get parameters getparameters assert equals assertequals params size parameter param a parama params assert equals assertequals param a parama get name getname assert equals assertequals param a parama get value getvalue parameter param b paramb params assert equals assertequals param b paramb get name getname assert equals assertequals param b paramb get value getvalue test test parse extension header multiple testparseextensionheadermultiple do test parse extension header multiple dotestparseextensionheadermultiple ext ext xyz ext test test parse extension header multiple testparseextensionheadermultiple do test parse extension header multiple dotestparseextensionheadermultiple ext ext xyz ext do test parse extension header multiple dotestparseextensionheadermultiple string header simple test list extension result array list arraylist extension util parse extension header parseextensionheader result header assert equals assertequals result size extension ext result assert equals assertequals ext ext get name getname list parameter params ext get parameters getparameters assert equals assertequals params size parameter param a parama params assert equals assertequals param a parama get name getname assert equals assertequals param a parama get value getvalue parameter param b paramb params assert equals assertequals param b paramb get name getname assert equals assertequals param b paramb get value getvalue extension ext result assert equals assertequals ext ext get name getname list parameter params ext get parameters getparameters assert equals assertequals params size parameter param c paramc params assert equals assertequals param c paramc get name getname assert null assertnull param c paramc get value getvalue parameter param d paramd params assert equals assertequals param d paramd get name getname assert equals assertequals xyz param d paramd get value getvalue extension ext result assert equals assertequals ext ext get name getname list parameter params ext get parameters getparameters assert equals assertequals params size test expected illegal argument exception illegalargumentexception test parse extension header invalid testparseextensionheaderinvalid util parse extension header parseextensionheader array list arraylist extension ext test expected illegal argument exception illegalargumentexception test parse extension header invalid testparseextensionheaderinvalid util parse extension header parseextensionheader array list arraylist extension ext
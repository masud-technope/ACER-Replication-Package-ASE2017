licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes demos java awt color java awt component java awt component orientation componentorientation java awt dimension java awt event action event actionevent java awt event action listener actionlistener java awt event mouse adapter mouseadapter java awt event mouse event mouseevent java serializable java util random javax swing box layout boxlayout javax swing j button jbutton javax swing j frame jframe javax swing j panel jpanel javax swing j scroll pane jscrollpane javax swing j table jtable javax swing j text field jtextfield javax swing table abstract table model abstracttablemodel javax swing table default table cell renderer defaulttablecellrenderer javax swing table table column tablecolumn org apache catalina tribes channel org apache catalina tribes channel listener channellistener org apache catalina tribes managed channel managedchannel org apache catalina tribes member org apache catalina tribes member ship listener membershiplistener org apache catalina tribes tipis lazy replicated map lazyreplicatedmap lazy replicated map works backup manager backupmanager works tomcat cluster author fhanik version map demo mapdemo channel listener channellistener member ship listener membershiplistener map replicated data lazy replicated map lazyreplicatedmap string string builder stringbuilder map table displayed swing simple table demo simpletabledemo table constructs map demo object param channel tribes channel object communication param map name mapname map map demo mapdemo channel channel string map name mapname instantiate replicated map map lazy replicated map lazyreplicatedmap string string builder stringbuilder channel map name mapname create gui member jvm table simple table demo simpletabledemo create and show i createandshowgui map channel get local member getlocalmember get name getname add our self ourself listener messages channel add channel listener addchannellistener add our self ourself listener members hips memberships channel add member ship listener addmembershiplistener initialize map receiving fake message message received messagereceived dec ides decides message received messagereceived invoked rely lazy map messaging override accept serializable msg member source simple refresh table model table data model datamodel get value at getvalueat invoked accept returns param msg message received param source sending member override message received messagereceived serializable msg member source noop invoked member group override member added memberadded member member noop invoked member leaves group override member disappeared memberdisappeared member member refresh table model table data model datamodel get value at getvalueat prints usage usage system println tribes map demo mapdemo system println usage java map demo mapdemo channel options map name mapname t channel tchannel options channel creator channelcreator usage main method param args exception suppress warnings suppresswarnings unused main string args exception start system current time millis currenttimemillis create channel object managed channel managedchannel channel managed channel managedchannel channel creator channelcreator create channel createchannel args define map defined param ters paramters string map name mapname map demo mapdemo args length args args length starts with startswith map name mapname args args length start channel channel start channel listen shutdown runtime get runtime getruntime add shutdown hook addshutdownhook shutdown channel create map demo object map demo mapdemo channel map name mapname main thread sleep system println system test complete time start system current time millis currenttimemillis start sleeping threads finish thread sleep list ens listens shutdown events stops instance shutdown thread channel running demo managed channel managedchannel channel shutdown managed channel managedchannel channel channel channel override system println shutting create exit thread for ces forces shutdown jvm won t wont exit cleanly system exit systemexit exit system exit systemexit exit set daemon setdaemon exit start channel channel channel exception print stack trace printstacktrace system println channel stopped system exit systemexit thread delay system exit systemexit delay delay delay override thread sleep delay exception print stack trace printstacktrace system exit simple table demo simpletabledemo j panel jpanel action listener actionlistener serialversionuid width lazy replicated map lazyreplicatedmap string string builder stringbuilder map debug abstract table model abstracttablemodel data model datamodel abstract table model abstracttablemodel serialversionuid string column names columnnames row num rownum key primary node backup node is primary isprimary is proxy isproxy is backup isbackup override get column count getcolumncount column names columnnames length override get row count getrowcount map size full sizefull string builder stringbuilder get member names getmembernames member members string builder stringbuilder buf string builder stringbuilder members members length buf append members get name getname buf append buf override object get value at getvalueat row col row update row column names columnnames col object map key set full keysetfull to array toarray string key string row lazy replicated map lazyreplicatedmap map entry mapentry string string builder stringbuilder entry map get internal getinternal key col string value of valueof row entry get key getkey entry get value getvalue entry get primary getprimary entry get primary getprimary get name getname get member names getmembernames entry get backup nodes getbackupnodes value of valueof entry is primary isprimary value of valueof entry is proxy isproxy value of valueof entry is backup isbackup update fire table data changed firetabledatachanged j text field jtextfield txt add key txtaddkey j text field jtextfield j text field jtextfield txt add value txtaddvalue j text field jtextfield j text field jtextfield txt remove key txtremovekey j text field jtextfield j text field jtextfield txt change key txtchangekey j text field jtextfield j text field jtextfield txt change value txtchangevalue j text field jtextfield j table jtable table simple table demo simpletabledemo lazy replicated map lazyreplicatedmap string string builder stringbuilder map map map set component orientation setcomponentorientation component orientation componentorientation left j table jtable table j table jtable data column names columnnames table j table jtable data model datamodel table set preferred scrollable view port size setpreferredscrollableviewportsize dimension width table get column count getcolumncount table column tablecolumn table get column model getcolumnmodel get column getcolumn set cell renderer setcellrenderer color renderer colorrenderer debug table add mouse listener addmouselistener mouse adapter mouseadapter override mouse clicked mouseclicked mouse event mouseevent print debug data printdebugdata table set layout setlayout grid layout gridlayout set layout setlayout box layout boxlayout box layout boxlayout axis create scr oll scroll pane add table j scroll pane jscrollpane scr oll pane scrollpane j scroll pane jscrollpane table add scr oll scroll pane panel add scr oll pane scrollpane create add button j panel jpanel add panel addpanel j panel jpanel add panel addpanel set preferred size setpreferredsize dimension width add panel addpanel add create button createbutton add add add panel addpanel add txt add key txtaddkey add panel addpanel add txt add value txtaddvalue add panel addpanel set maximum size setmaximumsize dimension width add add panel addpanel create remove button j panel jpanel remove panel removepanel j panel jpanel remove panel removepanel set preferred size setpreferredsize dimension width remove panel removepanel add create button createbutton remove remove remove panel removepanel add txt remove key txtremovekey remove panel removepanel set maximum size setmaximumsize dimension width add remove panel removepanel create change button j panel jpanel change panel changepanel j panel jpanel change panel changepanel add create button createbutton change change change panel changepanel add txt change key txtchangekey change panel changepanel add txt change value txtchangevalue change panel changepanel set preferred size setpreferredsize dimension width change panel changepanel set maximum size setmaximumsize dimension width add change panel changepanel create sync button j panel jpanel syncpanel j panel jpanel syncpanel add create button createbutton synchronize sync syncpanel add create button createbutton replicate replicate syncpanel add create button createbutton random random syncpanel set preferred size setpreferredsize dimension width syncpanel set maximum size setmaximumsize dimension width add syncpanel j button jbutton create button createbutton string text string command j button jbutton button j button jbutton text button set action command setactioncommand command button add action listener addactionlistener button override action performed actionperformed action event actionevent system println get action command getactioncommand add equals get action command getactioncommand system println add key txt add key txtaddkey get text gettext txt add value txtaddvalue get text gettext map txt add key txtaddkey get text gettext string builder stringbuilder txt add value txtaddvalue get text gettext change equals get action command getactioncommand system println change key txt change key txtchangekey get text gettext txt change value txtchangevalue get text gettext string builder stringbuilder buf map txt change key txtchangekey get text gettext buf buf delete buf length buf append txt change value txtchangevalue get text gettext map replicate txt change key txtchangekey get text gettext buf string builder stringbuilder buf append txt change value txtchangevalue get text gettext map txt change key txtchangekey get text gettext buf remove equals get action command getactioncommand system println remove key txt remove key txtremovekey get text gettext map remove txt remove key txtremovekey get text gettext sync equals get action command getactioncommand system println syncing node map transfer state transferstate random equals get action command getactioncommand thread thread override string key random map key string builder stringbuilder key data model datamodel fire table data changed firetabledatachanged table paint table get graphics getgraphics thread sleep interrupted exception interruptedexception thread int errupted interrupted start replicate equals get action command getactioncommand system println rep licating replicating nodes map replicate data model datamodel get value at getvalueat random random random string random count start letters numbers chars count count illegal argument exception illegalargumentexception requested random string length count start start letters numbers start integer max buffer count gap start count chars random next int nextint gap start chars random next int nextint gap start letters character is letter isletter numbers character is digit isdigit letters numbers count count surrogate insert high surrogate put ting putting buffer count count buffer count random next int nextint count count high surrogate insert surrogate put ting putting buffer count random next int nextint count buffer count high surrogate effing clue skip count buffer count count string buffer print debug data printdebugdata j table jtable table num rows numrows table get row count getrowcount num cols numcols table get column count getcolumncount javax swing table table model tablemodel model table get model getmodel system println data num rows numrows system print row num cols numcols system print model get value at getvalueat system println system println create gui thread safety method invoked event dispatching thread simple table demo simpletabledemo create and show i createandshowgui lazy replicated map lazyreplicatedmap string string builder stringbuilder map string title nice window decorations j frame jframe set default look and feel decorated setdefaultlookandfeeldecorated create window j frame jframe frame j frame jframe simple table demo simpletabledemo title frame set default close operation setdefaultcloseoperation j frame jframe exit close create content pane simple table demo simpletabledemo new content pane newcontentpane simple table demo simpletabledemo map content panes opaque new content pane newcontentpane set opaque setopaque frame set content pane setcontentpane new content pane newcontentpane display window frame set size setsize new content pane newcontentpane set size setsize frame pack frame set visible setvisible new content pane newcontentpane color renderer colorrenderer default table cell renderer defaulttablecellrenderer serialversionuid color renderer colorrenderer override component get table cell renderer component gettablecellrenderercomponent j table jtable table object is selected isselected has focus hasfocus row column component cell get table cell renderer component gettablecellrenderercomponent table is selected isselected has focus hasfocus row column cell set background setbackground color white row color color primary table get value at getvalueat row boolean value booleanvalue proxy table get value at getvalueat row boolean value booleanvalue backup table get value at getvalueat row boolean value booleanvalue primary color color green proxy color color red backup color color blue color cell set background setbackground color cell
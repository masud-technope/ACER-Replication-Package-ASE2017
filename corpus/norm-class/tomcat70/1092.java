licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes group int erceptors interceptors java text decimal format decimalformat java util concurrent atomic atomic integer atomicinteger java util concurrent atomic atomic long atomiclong org apache catalina tribes channel exception channelexception org apache catalina tribes channel message channelmessage org apache catalina tribes member org apache catalina tribes group channel interceptor base channelinterceptorbase org apache catalina tribes group interceptor payload interceptorpayload org apache catalina tribes channel data channeldata org apache catalina tribes x byte buffer xbytebuffer org apache juli logging log org apache juli logging log factory logfactory author filip hanik version throughput interceptor throughputinterceptor channel interceptor base channelinterceptorbase log log log factory logfactory get log getlog throughput interceptor throughputinterceptor mb tx mbtx mb app tx mbapptx mb rx mbrx time tx timetx last cnt lastcnt atomic long atomiclong msg tx cnt msgtxcnt atomic long atomiclong atomic long atomiclong msg rx cnt msgrxcnt atomic long atomiclong atomic long atomiclong msg tx err msgtxerr atomic long atomiclong int erval interval atomic integer atomicinteger access atomic integer atomicinteger tx start txstart rx start rxstart decimal format decimalformat decimal format decimalformat override send message sendmessage member destination channel message channelmessage msg interceptor payload interceptorpayload payload channel exception channelexception access add and get addandget tx start txstart system current time millis currenttimemillis bytes x byte buffer xbytebuffer get data package length getdatapackagelength channel data channeldata msg get data package length getdatapackagelength send message sendmessage destination msg payload channel exception channelexception msg tx err msgtxerr add and get addandget access access add and get addandget mb tx mbtx bytes destination length mb app tx mbapptx bytes access add and get addandget system current time millis currenttimemillis time tx timetx tx start txstart msg tx cnt msgtxcnt int erval interval last cnt lastcnt last cnt lastcnt report time tx timetx msg tx cnt msgtxcnt add and get addandget override message received messagereceived channel message channelmessage msg rx start rxstart rx start rxstart system current time millis currenttimemillis bytes x byte buffer xbytebuffer get data package length getdatapackagelength channel data channeldata msg get data package length getdatapackagelength mb rx mbrx bytes msg rx cnt msgrxcnt add and get addandget msg rx cnt msgrxcnt int erval interval report time tx timetx message received messagereceived msg report time tx timetx string builder stringbuilder buf string builder stringbuilder throughput interceptor throughputinterceptor report t tx ttx msg buf append msg tx cnt msgtxcnt append messages t sent tsent buf append format mb tx mbtx buf append total t sent tsent buf append format mb app tx mbapptx buf append application t time ttime buf append format time tx timetx buf append seconds t tx ttx speed buf append format mb tx mbtx time tx timetx buf append total t tx speed ttxspeed buf append format mb app tx mbapptx time tx timetx buf append application t error terror msg buf append msg tx err msgtxerr append t rx trx msg buf append msg rx cnt msgrxcnt buf append messages t rx trx speed buf append format mb rx mbrx system current time millis currenttimemillis rx start rxstart buf append msg t received treceived buf append format mb rx mbrx append log is info enabled isinfoenabled log info buf set interval setinterval int erval interval int erval interval int erval interval get interval getinterval int erval interval get last cnt getlastcnt last cnt lastcnt get mb app tx getmbapptx mb app tx mbapptx get mb rx getmbrx mb rx mbrx get mb tx getmbtx mb tx mbtx atomic long atomiclong get msg rx cnt getmsgrxcnt msg rx cnt msgrxcnt atomic long atomiclong get msg tx cnt getmsgtxcnt msg tx cnt msgtxcnt atomic long atomiclong get msg tx err getmsgtxerr msg tx err msgtxerr get rx start getrxstart rx start rxstart get time tx gettimetx time tx timetx get tx start gettxstart tx start txstart
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina loader java beans property change event propertychangeevent java beans property change listener propertychangelistener java beans property change support propertychangesupport java file java file output stream fileoutputstream java file permission filepermission java io exception ioexception java input stream inputstream java output stream outputstream java unsupported encoding exception unsupportedencodingexception java lang reflect constructor java lang reflect method java net malformedurlexception java net url java net url class loader urlclassloader java net url decoder urldecoder java net url stream handler factory urlstreamhandlerfactory java util array list arraylist java util jar jar file jarfile javax management object name objectname javax naming name class pair nameclasspair javax naming naming enumeration namingenumeration javax naming naming exception namingexception javax naming directory dir context dircontext javax servlet servlet context servletcontext org apache catalina container org apache catalina context org apache catalina globals org apache catalina lifecycle org apache catalina lifecycle exception lifecycleexception org apache catalina lifecycle state lifecyclestate org apache catalina loader org apache catalina core standard context standardcontext org apache catalina mbeans m bean utils mbeanutils org apache catalina util lifecycle bean base lifecyclembeanbase org apache naming resources dircontexturlstreamhandler org apache naming resources dir context stream handler factory dircontexturlstreamhandlerfactory org apache naming resources resource org apache tomcat util exception utils exceptionutils org apache tomcat util modeler registry org apache tomcat util res string manager stringmanager webapp loader webapploader lifecycle bean base lifecyclembeanbase loader property change listener propertychangelistener construct webapp loader webapploader defined parent loader actual parent system loader webapp loader webapploader construct webapp loader webapploader loader defined parent class loader classloader ultimately create param parent parent loader webapp loader webapploader class loader classloader parent parent class loader parentclassloader parent instance variables load loader managed loader component webapp class loader base webappclassloaderbase class loader classloader container loader container container follow standard delegation model flag configure class loader classloader delegate descriptive loader implementation string info org apache catalina loader webapp loader webapploader java class loader classloader implementation extend webapp class loader base webappclassloaderbase loader implementation string loader class loaderclass org apache catalina loader webapp class loader webappclassloader parent loader loader create class loader classloader parent class loader parentclassloader reloadable flag loader reloadable repositories loader string repositories string string manager string manager stringmanager string manager stringmanager get manager getmanager constants property change support component property change support propertychangesupport support property change support propertychangesupport classpath loader string classpath repositories loader jmx array list arraylist string loader repositories loaderrepositories search external repositories search external first searchexternalfirst properties java loader container override class loader classloader get class loader getclassloader class loader classloader container logger override container get container getcontainer container container logger param container container override set container setcontainer container container deregister container container container context context container remove property change listener removepropertychangelistener process property change container old container oldcontainer container container container support fire property change firepropertychange container old container oldcontainer container register container container container context set reloadable setreloadable context container get reloadable getreloadable context container add property change listener addpropertychangelistener follow standard delegation model flag configure class loader classloader override get delegate getdelegate delegate follow standard delegation model flag configure class loader classloader param delegate flag override set delegate setdelegate delegate old delegate olddelegate delegate delegate delegate support fire property change firepropertychange delegate value of valueof old delegate olddelegate value of valueof delegate descriptive loader implementation version number format code description version code override string get info getinfo info class loader classloader string get loader class getloaderclass loader class loaderclass class loader classloader param loader class loaderclass class loader classloader set loader class setloaderclass string loader class loaderclass loader class loaderclass loader class loaderclass reloadable flag loader override get reloadable getreloadable reloadable reloadable flag loader param reloadable reloadable flag override set reloadable setreloadable reloadable process property change old reloadable oldreloadable reloadable reloadable reloadable support fire property change firepropertychange reloadable value of valueof old reloadable oldreloadable value of valueof reloadable returns search external first searchexternalfirst get search external first getsearchexternalfirst search external first searchexternalfirst param search external first searchexternalfirst external repositories searched set search external first setsearchexternalfirst search external first searchexternalfirst search external first searchexternalfirst search external first searchexternalfirst class loader classloader class loader classloader set search external first setsearchexternalfirst search external first searchexternalfirst methods add property change listener component param listener listener add override add property change listener addpropertychangelistener property change listener propertychangelistener listener support add property change listener addpropertychangelistener listener add repository repositories loader param repository repository override add repository addrepository string repository log is debug enabled isdebugenabled log debug get string getstring webapp loader webapploader add repository addrepository repository repositories length repository equals repositories string string repositories length repositories length repositories repositories length repository repositories get state getstate is available isavailable class loader classloader class loader classloader add repository addrepository repository loader repositories loaderrepositories loader repositories loaderrepositories add repository set class path setclasspath execute per iodic periodic task reloading method invoked class loading classloading context container unexpected throw ables throwables caught log ged logged override background process backgroundprocess reloadable modified thread current thread currentthread set context class loader setcontextclassloader webapp loader webapploader get class loader getclassloader container standard context standardcontext standard context standardcontext container reload container get loader getloader thread current thread currentthread set context class loader setcontextclassloader container get loader getloader get class loader getclassloader closejars repositories defined loader defined length array returned security reason returns clone array string immutable override string find repositories findrepositories repositories clone string get repositories getrepositories repositories clone extra repositories loader string get repositories string getrepositoriesstring string builder stringbuilder string builder stringbuilder repositories length append repositories append to string tostring string get loader repositories getloaderrepositories loader repositories loaderrepositories string res string loader repositories loaderrepositories size loader repositories loaderrepositories to array toarray res res string get loader repositories string getloaderrepositoriesstring string repositories get loader repositories getloaderrepositories string builder stringbuilder string builder stringbuilder repositories length append repositories append to string tostring classpath org apache catalina jsp classpath context property classpath string get classpath getclasspath classpath internal repository loader modified loaded classes reloaded override modified class loader classloader class loader classloader modified per iodically periodically signal class loader classloader release jar resources closejars force class loader classloader class loader classloader closejars force remove property change listener component param listener listener remove override remove property change listener removepropertychangelistener property change listener propertychangelistener listener support remove property change listener removepropertychangelistener listener string representation component override string to string tostring string builder stringbuilder string builder stringbuilder webapp loader webapploader container append container get name getname append to string tostring start link class loader classloader implement requirements link org apache catalina util lifecycle base lifecyclebase start internal startinternal exception lifecycle exception lifecycleexception component detects fatal error prevents component override start internal startinternal lifecycle exception lifecycleexception log is debug enabled isdebugenabled log debug get string getstring webapp loader webapploader starting container get resources getresources log info resources container set state setstate lifecycle state lifecyclestate starting register stream handler factory jndi protocol url stream handler factory urlstreamhandlerfactory stream handler factory streamhandlerfactory dir context stream handler factory dircontexturlstreamhandlerfactory get instance getinstance url seturlstreamhandlerfactory stream handler factory streamhandlerfactory exception log error error registering jndi stream handler throwable exception utils exceptionutils handle throwable handlethrowable log info dual registration jndi stream handler get message getmessage construct loader based current repositories list class loader classloader create class loader createclassloader class loader classloader set resources setresources container get resources getresources class loader classloader set delegate setdelegate delegate class loader classloader set search external first setsearchexternalfirst search external first searchexternalfirst container standard context standardcontext class loader classloader setantijarlocking standard context standardcontext container getantijarlocking class loader classloader set clear references rmi targets setclearreferencesrmitargets standard context standardcontext container get clear references rmi targets getclearreferencesrmitargets class loader classloader set clear references static setclearreferencesstatic standard context standardcontext container get clear references static getclearreferencesstatic class loader classloader set clear references stop threads setclearreferencesstopthreads standard context standardcontext container get clear references stop threads getclearreferencesstopthreads class loader classloader set clear references stop timer threads setclearreferencesstoptimerthreads standard context standardcontext container get clear references stop timer threads getclearreferencesstoptimerthreads class loader classloader set clear references http client keep alive thread setclearreferenceshttpclientkeepalivethread standard context standardcontext container get clear references http client keep alive thread getclearreferenceshttpclientkeepalivethread repositories length class loader classloader add repository addrepository repositories configure repositories set repositories setrepositories set class path setclasspath set per missions setpermissions lifecycle class loader classloader start binding webapp loader directory context dircontexturlstreamhandler bind class loader classloader container get resources getresources standard context standardcontext ctx standard context standardcontext container string context name contextname ctx get name getname context name contextname starts with startswith context name contextname context name contextname object name objectname cloname object name objectname m bean utils mbeanutils get domain getdomain ctx type webapp class loader webappclassloader context context name contextname host ctx get parent getparent get name getname registry get registry getregistry register component registercomponent class loader classloader cloname throwable exception utils exceptionutils unwrap invocation target exception unwrapinvocationtargetexception exception utils exceptionutils handle throwable handlethrowable log error lifecycle exception lifecycleexception lifecycle exception lifecycleexception start set state setstate lifecycle state lifecyclestate starting link class loader classloader implement requirements link org apache catalina util lifecycle base lifecyclebase stop internal stopinternal exception lifecycle exception lifecycleexception component detects fatal error prevents component override stop internal stopinternal lifecycle exception lifecycleexception log is debug enabled isdebugenabled log debug get string getstring webapp loader webapploader stop ping stopping set state setstate lifecycle state lifecyclestate stopping remove context attributes container context servlet context servletcontext servlet context servletcontext context container get servlet context getservletcontext servlet context servletcontext remove attribute removeattribute globals path attr current loader class loader classloader lifecycle class loader classloader dircontexturlstreamhandler unbind class loader classloader standard context standardcontext ctx standard context standardcontext container string context name contextname ctx get name getname context name contextname starts with startswith context name contextname context name contextname object name objectname cloname object name objectname m bean utils mbeanutils get domain getdomain ctx type webapp class loader webappclassloader context context name contextname host ctx get parent getparent get name getname registry get registry getregistry unregister component unregistercomponent cloname exception log error lifecycle exception lifecycleexception class loader classloader property change listener propertychangelistener methods process property change events context param event property change event occurred override property change propertychange property change event propertychangeevent event validate source event event get source getsource context process relevant property change event get property name getpropertyname equals reloadable set reloadable setreloadable event get new value getnewvalue boolean value booleanvalue number format exception numberformatexception log error get string getstring webapp loader webapploader reloadable event get new value getnewvalue to string tostring methods create class loader classloader webapp class loader base webappclassloaderbase create class loader createclassloader exception clazz for name forname loader class loaderclass webapp class loader base webappclassloaderbase class loader classloader parent class loader parentclassloader parent class loader parentclassloader container get parent class loader getparentclassloader arg types argtypes class loader classloader object args parent class loader parentclassloader constructor constr clazz get constructor getconstructor arg types argtypes class loader classloader webapp class loader base webappclassloaderbase constr new instance newinstance args class loader classloader configure loader permissions set per missions setpermissions globals security enabled container context loader root context servlet context servletcontext servlet context servletcontext context container get servlet context getservletcontext ass igning assigning permissions work directory file work dir workdir file servlet context servletcontext get attribute getattribute servlet context servletcontext tempdir work dir workdir string work dir path workdirpath work dir workdir get canonical path getcanonicalpath class loader classloader add permission addpermission file permission filepermission work dir path workdirpath read write class loader classloader add permission addpermission file permission filepermission work dir path workdirpath file separator read write delete io exception ioexception url rooturl servlet context servletcontext get resource getresource class loader classloader add permission addpermission rooturl string context root contextroot servlet context servletcontext get real path getrealpath context root contextroot context root contextroot file context root contextroot get canonical path getcanonicalpath class loader classloader add permission addpermission context root contextroot io exception ioexception url classesurl servlet context servletcontext get resource getresource web inf classes class loader classloader add permission addpermission classesurl url liburl servlet context servletcontext get resource getresource web inf lib class loader classloader add permission addpermission liburl context root contextroot liburl file root dir rootdir file context root contextroot file lib dir libdir file root dir rootdir web inf lib string path lib dir libdir get canonical path getcanonicalpath class loader classloader add permission addpermission path io exception ioexception work dir workdir liburl file lib dir libdir file work dir workdir web inf lib string path lib dir libdir get canonical path getcanonicalpath class loader classloader add permission addpermission path io exception ioexception classesurl file classes dir classesdir file work dir workdir web inf classes string path classes dir classesdir get canonical path getcanonicalpath class loader classloader add permission addpermission path io exception ioexception malformedurlexception configure repositories loader based context io exception ioexception set repositories setrepositories io exception ioexception container context servlet context servletcontext servlet context servletcontext context container get servlet context getservletcontext servlet context servletcontext loader repositories loaderrepositories array list arraylist string loading work directory file work dir workdir file servlet context servletcontext get attribute getattribute servlet context servletcontext tempdir work dir workdir log info work dir servlet context servletcontext log is debug enabled isdebugenabled work dir workdir log debug get string getstring webapp loader webapploader deploy work dir workdir get absolute path getabsolutepath class loader classloader set work dir setworkdir work dir workdir dir context dircontext resources container get resources getresources setting repository web inf classes exists string classes path classespath web inf classes dir context dircontext classes object object resources lookup classes path classespath object dir context dircontext classes dir context dircontext object naming exception namingexception classes file class repository classrepository string absolute classes path absoluteclassespath servlet context servletcontext get real path getrealpath classes path classespath absolute classes path absoluteclassespath class repository classrepository file absolute classes path absoluteclassespath class repository classrepository file work dir workdir classes path classespath class repository classrepository mkdirs class repository classrepository is directory isdirectory io exception ioexception get string getstring webapp loader webapploader mkdir failure mkdirfailure copy dir copydir classes class repository classrepository io exception ioexception get string getstring webapp loader webapploader copy failure copyfailure log is debug enabled isdebugenabled log debug get string getstring webapp loader webapploader class deploy classdeploy classes path classespath class repository classrepository get absolute path getabsolutepath adding repository loader class loader classloader add repository addrepository classes path classespath class repository classrepository loader repositories loaderrepositories add classes path classespath setting jar repository web inf lib exists string lib path libpath web inf lib class loader classloader set jar path setjarpath lib path libpath dir context dircontext lib dir libdir directory web inf lib context object object resources lookup lib path libpath object dir context dircontext lib dir libdir dir context dircontext object naming exception namingexception lib dir libdir copy jars copyjars string absolute lib path absolutelibpath servlet context servletcontext get real path getrealpath lib path libpath file dest dir destdir absolute lib path absolutelibpath dest dir destdir file absolute lib path absolutelibpath copy jars copyjars dest dir destdir file work dir workdir lib path libpath dest dir destdir mkdirs dest dir destdir is directory isdirectory io exception ioexception get string getstring webapp loader webapploader mkdir failure mkdirfailure directory web inf lib context naming enumeration namingenumeration name class pair nameclasspair enumeration enumeration lib dir libdir list naming exception namingexception io exception ioexception ioe io exception ioexception get string getstring webapp loader webapploader naming failure namingfailure lib path libpath ioe init cause initcause ioe enumeration has more elements hasmoreelements name class pair nameclasspair nc pair ncpair enumeration next element nextelement string filename lib path libpath nc pair ncpair get name getname filename ends with endswith jar copy jar work directory jar file locked impossible update remove runtime file dest file destfile file dest dir destdir nc pair ncpair get name getname log is debug enabled isdebugenabled log debug get string getstring webapp loader webapploader jar deploy jardeploy filename dest file destfile get absolute path getabsolutepath bug explicitly call lookup check resource readable resources returned list bindings listbindings lists perform checks object obj obj lib dir libdir lookup nc pair ncpair get name getname naming exception namingexception io exception ioexception ioe io exception ioexception get string getstring webapp loader webapploader naming failure namingfailure filename ioe init cause initcause ioe obj resource resource jar resource jarresource resource obj copy jars copyjars copy jar resource jarresource stream content streamcontent file output stream fileoutputstream dest file destfile io exception ioexception get string getstring webapp loader webapploader copy failure copyfailure jar file jarfile jar file jarfile jar file jarfile dest file destfile class loader classloader add jar addjar filename jar file jarfile dest file destfile exception loader repositories loaderrepositories add filename context attribute path required jasper depends set class path setclasspath validate current container context servlet context servletcontext servlet context servletcontext context container get servlet context getservletcontext servlet context servletcontext container standard context standardcontext string base classpath baseclasspath standard context standardcontext container get compiler classpath getcompilerclasspath base classpath baseclasspath servlet context servletcontext set attribute setattribute globals path attr base classpath baseclasspath string builder stringbuilder classpath string builder stringbuilder assemble path loader chain class loader classloader loader get class loader getclassloader delegate loader skip webapp loader delegation enabled loader loader get parent getparent loader build class path buildclasspath servlet context servletcontext classpath loader loader loader get parent getparent delegate delegation enabled add webapp paths loader get class loader getclassloader loader build class path buildclasspath servlet context servletcontext classpath loader classpath classpath to string tostring store assembled path servlet context attribute servlet context servletcontext set attribute setattribute globals path attr classpath to string tostring build class path buildclasspath servlet context servletcontext servlet context servletcontext string builder stringbuilder classpath class loader classloader loader loader url class loader urlclassloader url repositories url class loader urlclassloader loader geturls repositories length string repository repositories to string tostring repository starts with startswith file repository utf decode repository substring repository starts with startswith file repository utf decode repository substring repository starts with startswith jndi repository servlet context servletcontext get real path getrealpath repository substring repository classpath length classpath append file path separator pathseparator classpath append repository string get classpath getclasspath loader log info unknown loader loader loader get class getclass classpath length classpath append file path separator pathseparator classpath append string utf decode string input string result result url decoder urldecoder decode input utf unsupported encoding exception unsupportedencodingexception uee result extract classpath loader url class loader urlclassloader string get classpath getclasspath class loader classloader loader method loader get class getclass get method getmethod get classpath getclasspath log is trace enabled istraceenabled log trace get classpath getclasspath object invoke loader object log is debug enabled isdebugenabled log debug got classpath gotclasspath string string exception throwable exception utils exceptionutils unwrap invocation target exception unwrapinvocationtargetexception exception utils exceptionutils handle throwable handlethrowable log is debug enabled isdebugenabled log debug get classpath getclasspath copy directory copy dir copydir dir context dircontext src dir srcdir file dest dir destdir naming enumeration namingenumeration name class pair nameclasspair enumeration src dir srcdir list enumeration has more elements hasmoreelements name class pair nameclasspair nc pair ncpair enumeration next element nextelement string nc pair ncpair get name getname object object src dir srcdir lookup file current file currentfile file dest dir destdir object resource input stream inputstream resource object stream content streamcontent output stream outputstream file output stream fileoutputstream current file currentfile copy object input stream inputstream output stream outputstream file output stream fileoutputstream current file currentfile copy input stream inputstream object object dir context dircontext current file currentfile is directory isdirectory current file currentfile mkdir copy dir copydir dir context dircontext object current file currentfile naming exception namingexception io exception ioexception copy file temp directory required jasper depends copy input stream inputstream output stream outputstream buf len read buf len write buf len close close io exception ioexception org apache juli logging log log org apache juli logging log factory logfactory get log getlog webapp loader webapploader override string get domain internal getdomaininternal m bean utils mbeanutils get domain getdomain container override string get object name key properties getobjectnamekeyproperties string builder stringbuilder string builder stringbuilder type loader container context append context context context context container string context name contextname context get name getname context name contextname starts with startswith append append context name contextname append host append context get parent getparent get name getname impossible handle safe append container append container get name getname to string tostring
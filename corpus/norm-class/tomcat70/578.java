licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java util concurrent java util concurrent time unit timeunit java util concurrent timeout exception timeoutexception org junit org junit org junit org junit test org apache tomcat jdbc pool fair blocking queue fairblockingqueue test async queue testasyncqueue fair blocking queue fairblockingqueue object queue set up setup exception queue fair blocking queue fairblockingqueue object tear down teardown exception queue test test async poll testasyncpoll exception object item object queue offer item object queue poll async pollasync assert equals assertequals item test test async poll testasyncpoll exception object item object offer thread offerthread thread offer thread offerthread item thread start object queue poll async pollasync time unit timeunit milliseconds assert false assertfalse request timed timeout exception timeoutexception assert true asserttrue request timed properly exception assert true asserttrue request thr ew threw error print stack trace printstacktrace assert equals assertequals item offer thread offerthread thread object item delay off ered offered offer thread offerthread object item delay set daemon setdaemon set name setname test async queue testasyncqueue get name getname offer thread offerthread override sleep delay exception ignore off ered offered test async queue testasyncqueue queue offer item
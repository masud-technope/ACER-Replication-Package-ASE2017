licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina session java byte array output stream bytearrayoutputstream java external izable externalizable java io exception ioexception java object output stream objectoutputstream java security principal java util linked list linkedlist org apache catalina session listener sessionlistener org apache catalina realm generic principal genericprincipal org apache tomcat util res string manager stringmanager delta request deltarequest external izable externalizable org apache juli logging log log org apache juli logging log factory logfactory get log getlog delta request deltarequest string manager string manager stringmanager string manager stringmanager get manager getmanager constants type attribute type principal type isnew type max interval maxinterval type authtype type listener action action remove string principal principal string max interval maxinterval max interval maxinterval string isnew isnew string authtype authtype string listener listener string session id sessionid linked list linkedlist attribute info attributeinfo actions linked list linkedlist attribute info attributeinfo linked list linkedlist attribute info attributeinfo action pool actionpool linked list linkedlist attribute info attributeinfo record all actions recordallactions delta request deltarequest delta request deltarequest string session id sessionid record all actions recordallactions record all actions recordallactions record all actions recordallactions session id sessionid set session id setsessionid session id sessionid set attribute setattribute string object action action remove action add action addaction type attribute action remove attribute removeattribute string action action remove add action addaction type attribute action set max inactive interval setmaxinactiveinterval int erval interval action action add action addaction type max interval maxinterval action max interval maxinterval integer value of valueof int erval interval convert principal serializable principal serializableprincipal backup nodes support principals type link generic principal genericprincipal generic principal genericprincipal param session principal generic principal genericprincipal set principal setprincipal principal action action remove action serializable principal serializableprincipal generic principal genericprincipal serializable principal serializableprincipal create principal createprincipal generic principal genericprincipal log is debug enabled isdebugenabled log debug get string getstring delta request deltarequest show principal showprincipal get name getname get session id getsessionid log error get string getstring delta request deltarequest wrong principal class wrongprincipalclass get class getclass get name getname add action addaction type principal action principal set new setnew action action add action addaction type isnew action isnew value of valueof set auth type setauthtype string auth type authtype action auth type authtype action remove action add action addaction type authtype action authtype auth type authtype add session listener addsessionlistener session listener sessionlistener listener add action addaction type listener action listener listener remove session listener removesessionlistener session listener sessionlistener listener add action addaction type listener action remove listener listener add action addaction type action string object attribute info attributeinfo info action pool actionpool size info action pool actionpool remove first removefirst exception log error unable remove element info attribute info attributeinfo type action info init type action info attribute info attributeinfo type action don send multiple actions wire record all actions recordallactions actions remove info java util no such element exception nosuchelementexception add action actions add last addlast info execute delta session deltasession session notify listeners notifylisteners session id sessionid equals session get id getid java lang illegal argument exception illegalargumentexception session mismatch executing delta request session access actions size attribute info attributeinfo info actions info get type gettype type attribute info get action getaction action log is trace enabled istraceenabled log trace session set attribute setattribute info get name getname info get value getvalue session set attribute setattribute info get name getname info get value getvalue notify listeners notifylisteners log is trace enabled istraceenabled log trace session remove attribute removeattribute info get name getname session remove attribute removeattribute info get name getname notify listeners notifylisteners type isnew log is trace enabled istraceenabled log trace session set new setnew info get value getvalue session set new setnew info get value getvalue boolean value booleanvalue type max interval maxinterval log is trace enabled istraceenabled log trace session set max inactive interval setmaxinactiveinterval info get value getvalue session set max inactive interval setmaxinactiveinterval integer info get value getvalue int value intvalue type principal principal info get action getaction action serializable principal serializableprincipal serializable principal serializableprincipal info get value getvalue get principal getprincipal session set principal setprincipal type authtype string auth type authtype info get action getaction action auth type authtype string info get value getvalue session set auth type setauthtype auth type authtype type listener session listener sessionlistener listener session listener sessionlistener info get value getvalue info get action getaction action session add session listener addsessionlistener listener session remove session listener removesessionlistener listener java lang illegal argument exception illegalargumentexception invalid attribute info type info session end access endaccess reset reset actions size attribute info attributeinfo info actions remove first removefirst info recycle action pool actionpool add last addlast info exception log error unable remove element actions clear string get session id getsessionid session id sessionid set session id setsessionid string session id sessionid session id sessionid session id sessionid session id sessionid exception session set session id setsessionid fill in stack trace fillinstacktrace print stack trace printstacktrace get size getsize actions size clear actions clear action pool actionpool clear override read external readexternal java object input objectinput io exception ioexception class not found exception classnotfoundexception session id sessionid string record all recordall size attribute info attributeinfo array reset session id sessionid readutf record all actions recordallactions read boolean readboolean cnt read int readint actions actions linked list linkedlist attribute info attributeinfo actions clear cnt attribute info attributeinfo info action pool actionpool size info action pool actionpool remove first removefirst exception log error unable remove element info attribute info attributeinfo info attribute info attributeinfo info read external readexternal actions add last addlast info override write external writeexternal java object output objectoutput java io exception ioexception session id sessionid string record all recordall size attribute info attributeinfo array writeutf get session id getsessionid write boolean writeboolean record all actions recordallactions write int writeint get size getsize get size getsize attribute info attributeinfo info actions info write external writeexternal serialize delta request deltarequest delta request deltarequest write external writeexternal java object output objectoutput serialized delta request io exception ioexception serialize io exception ioexception byte array output stream bytearrayoutputstream bos byte array output stream bytearrayoutputstream object output stream objectoutputstream oos object output stream objectoutputstream bos write external writeexternal oos oos flush oos close bos to byte array tobytearray attribute info attributeinfo java external izable externalizable string object action type attribute info attributeinfo attribute info attributeinfo type action string object init type action init type action string object action action type type get type gettype type get action getaction action object get value getvalue override hash code hashcode hash code hashcode string get name getname recycle type action override equals object attribute info attributeinfo attribute info attributeinfo attribute info attributeinfo get name getname equals get name getname override read external readexternal java object input objectinput io exception ioexception class not found exception classnotfoundexception type action string has value hasvalue object type read int readint action read int readint readutf has value hasvalue read boolean readboolean has value hasvalue read object readobject override write external writeexternal java object output objectoutput io exception ioexception type action string has value hasvalue object write int writeint get type gettype write int writeint get action getaction writeutf get name getname write boolean writeboolean get value getvalue get value getvalue write object writeobject get value getvalue override string to string tostring string builder stringbuilder buf string builder stringbuilder attribute info attributeinfo type buf append get type gettype append action append get action getaction buf append append get name getname append append get value getvalue buf append add r addr append to string tostring append buf to string tostring
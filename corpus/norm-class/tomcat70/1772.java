licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java io exception ioexception java net uri java nio byte buffer bytebuffer java util concurrent count down latch countdownlatch javax websocket client endpoint clientendpoint javax websocket container provider containerprovider javax websocket on close onclose javax websocket on error onerror javax websocket on message onmessage javax websocket session javax websocket web socket container websocketcontainer org apache tomcat util exception utils exceptionutils runs auto bahn autobahn test suite client mode testing web socket websocket client implementation tester ws client auto bahn testerwsclientautobahn string host localhost port string user agent apache tomcat apachetomcat web socket client websocketclient main string args exception web socket container websocketcontainer wsc container provider containerprovider get web socket container getwebsocketcontainer test case count testcasecount get test case count gettestcasecount wsc system println test case count testcasecount test cases test case testcase test case testcase test case count testcasecount test case testcase test case testcase system println test case testcase system print execute test case executetestcase wsc test case testcase throwable exception utils exceptionutils handle throwable handlethrowable print stack trace printstacktrace system println testing complete update reports updatereports wsc get test case count gettestcasecount web socket container websocketcontainer wsc exception uri uri uri host port get case count getcasecount case count client casecountclient case count client casecountclient case count client casecountclient wsc connect to server connecttoserver case count client casecountclient uri case count client casecountclient get case count getcasecount execute test case executetestcase web socket container websocketcontainer wsc test case testcase exception uri uri uri host port run case runcase test case testcase agent user agent test case client testcaseclient test case client testcaseclient test case client testcaseclient wsc connect to server connecttoserver test case client testcaseclient uri test case client testcaseclient wait for close waitforclose update reports updatereports web socket container websocketcontainer wsc exception uri uri uri host port update reports updatereports agent user agent update reports client updatereportsclient update reports client updatereportsclient update reports client updatereportsclient wsc connect to server connecttoserver update reports client updatereportsclient uri client endpoint clientendpoint case count client casecountclient count down latch countdownlatch latch count down latch countdownlatch case count casecount wait message get case count getcasecount interrupted exception interruptedexception latch await case count casecount on message onmessage on message onmessage string msg latch count down countdown case count casecount integer parse int parseint msg on error onerror on error onerror throwable latch count down countdown print stack trace printstacktrace client endpoint clientendpoint test case client testcaseclient count down latch countdownlatch latch count down latch countdownlatch wait for close waitforclose interrupted exception interruptedexception latch await on message onmessage echo text message echotextmessage session session string msg session is open isopen session get basic remote getbasicremote send text sendtext msg io exception ioexception session close io exception ioexception on message onmessage echo binary message echobinarymessage session session byte buffer bytebuffer session is open isopen session get basic remote getbasicremote send binary sendbinary io exception ioexception session close io exception ioexception on close onclose release latch releaselatch latch count down countdown client endpoint clientendpoint update reports client updatereportsclient count down latch countdownlatch latch count down latch countdownlatch wait for close waitforclose interrupted exception interruptedexception latch await on close onclose on close onclose latch count down countdown
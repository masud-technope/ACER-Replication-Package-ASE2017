licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket org junit org junit org apache catalina startup tomcat base test tomcatbasetest web socket base test websocketbasetest tomcat base test tomcatbasetest check background process has stopped checkbackgroundprocesshasstopped exception tomcat ensure background processed stopped get tomcat instance gettomcatinstance background process stopped test environments tests check stopped count plenty gump lot slower count background process manager backgroundprocessmanager get instance getinstance get process count getprocesscount thread sleep count assert equals assertequals background process manager backgroundprocessmanager get instance getinstance get process count getprocesscount ensure test background process manager backgroundprocessmanager get instance getinstance shutdown
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina session java util hash set hashset java util iterator java util org apache catalina distributed manager distributedmanager org apache catalina lifecycle exception lifecycleexception org apache catalina lifecycle state lifecyclestate org apache catalina session org apache catalina cluster manager clustermanager org apache catalina cluster message clustermessage org apache catalina tribes channel org apache catalina tribes tipis abstract replicated map abstractreplicatedmap map owner mapowner org apache catalina tribes tipis lazy replicated map lazyreplicatedmap org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util res string manager stringmanager author filip hanik version backup manager backupmanager cluster manager base clustermanagerbase map owner mapowner distributed manager distributedmanager log log log factory logfactory get log getlog backup manager backupmanager string manager string manager stringmanager string manager stringmanager get manager getmanager constants seconds repl timeout don sessions expire shutdown deprecated unused removed tomcat deprecated m expire sessions on shutdown mexpiresessionsonshutdown manager string map send options mapsendoptions channel send options ack channel send options ack timeout rpc messages rpc timeout rpctimeout repl timeout flag terminate map failed start terminate on start failure terminateonstartfailure constructor calls backup manager backupmanager cluster manager clustermanager override message data received messagedatareceived cluster message clustermessage msg deprecated unused removed tomcat deprecated set expire sessions on shutdown setexpiresessionsonshutdown expire sessions on shutdown expiresessionsonshutdown m expire sessions on shutdown mexpiresessionsonshutdown expire sessions on shutdown expiresessionsonshutdown deprecated unused removed tomcat deprecated get expire sessions on shutdown getexpiresessionsonshutdown m expire sessions on shutdown mexpiresessionsonshutdown override cluster message clustermessage request completed requestcompleted string session id sessionid get state getstate is available isavailable lazy replicated map lazyreplicatedmap string session map lazy replicated map lazyreplicatedmap string session sessions map replicate session id sessionid override methods implement replication override object made primay objectmadeprimay object key object delta session deltasession delta session deltasession session delta session deltasession session session access session set primary session setprimarysession session end access endaccess override session create empty session createemptysession delta session deltasession override string get name getname start component implement requirements link org apache catalina util lifecycle base lifecyclebase start internal startinternal starts cluster communication channel connect nodes cluster request current session transfer red transferred node exception lifecycle exception lifecycleexception component detects fatal error prevents component override start internal startinternal lifecycle exception lifecycleexception start internal startinternal cluster lifecycle exception lifecycleexception get string getstring backup manager backupmanager no cluster nocluster get name getname lazy replicated map lazyreplicatedmap string session map lazy replicated map lazyreplicatedmap string session cluster get channel getchannel rpc timeout rpctimeout get map name getmapname get class loaders getclassloaders terminate on start failure terminateonstartfailure map set channel send options setchannelsendoptions map send options mapsendoptions sessions map exception log error get string getstring backup manager backupmanager start unable startunable get name getname lifecycle exception lifecycleexception get string getstring backup manager backupmanager start failed startfailed get name getname set state setstate lifecycle state lifecyclestate starting string get map name getmapname string cluster get manager name getmanagername get name getname map log is debug enabled isdebugenabled log debug backup manager setting map component implement requirements link org apache catalina util lifecycle base lifecyclebase stop internal stopinternal disconnect cluster communication channel listener thread exception lifecycle exception lifecycleexception component detects fatal error prevents component override stop internal stopinternal lifecycle exception lifecycleexception log is debug enabled isdebugenabled log debug get string getstring backup manager backupmanager stopped get name getname set state setstate lifecycle state lifecyclestate stopping sessions lazy replicated map lazyreplicatedmap lazy replicated map lazyreplicatedmap string session map lazy replicated map lazyreplicatedmap string session sessions map break down breakdown stop internal stopinternal override set name setname string set map send options setmapsendoptions map send options mapsendoptions map send options mapsendoptions map send options mapsendoptions get map send options getmapsendoptions map send options mapsendoptions set rpc timeout setrpctimeout rpc timeout rpctimeout rpc timeout rpctimeout rpc timeout rpctimeout get rpc timeout getrpctimeout rpc timeout rpctimeout set terminate on start failure setterminateonstartfailure terminate on start failure terminateonstartfailure terminate on start failure terminateonstartfailure terminate on start failure terminateonstartfailure is terminate on start failure isterminateonstartfailure terminate on start failure terminateonstartfailure override string get invalid ated sessions getinvalidatedsessions string override cluster manager clustermanager clone from template clonefromtemplate backup manager backupmanager result backup manager backupmanager clone result result m expire sessions on shutdown mexpiresessionsonshutdown m expire sessions on shutdown mexpiresessionsonshutdown result map send options mapsendoptions map send options mapsendoptions result rpc timeout rpctimeout rpc timeout rpctimeout result terminate on start failure terminateonstartfailure terminate on start failure terminateonstartfailure result override get active sessions full getactivesessionsfull lazy replicated map lazyreplicatedmap string session map lazy replicated map lazyreplicatedmap string session sessions map size full sizefull override string get session ids full getsessionidsfull string session ids sessionids hash set hashset string lazy replicated map lazyreplicatedmap string session map lazy replicated map lazyreplicatedmap string session sessions iterator string map key set full keysetfull iterator has next hasnext session ids sessionids add session ids sessionids
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java sql connection org junit org junit test org apache tomcat jdbc pool int erceptor interceptor test interceptor testinterceptor test interceptor short name testinterceptorshortname default test case defaulttestcase test test short interceptor testshortinterceptor exception datasource create default data source createdefaultdatasource datasource set jdbc int erceptors setjdbcinterceptors test interceptor testinterceptor datasource set use disposable connection facade setusedisposableconnectionfacade datasource set max active setmaxactive datasource create pool createpool assert equals assertequals int erceptor interceptor called set properties setproperties test interceptor testinterceptor instance count instancecount test interceptor testinterceptor instance count instancecount connection con datasource get connection getconnection assert true asserttrue pool started test interceptor testinterceptor pools tar ted poolstarted assert equals assertequals int erceptor interceptor called set properties setproperties test interceptor testinterceptor instance count instancecount con close datasource close assert true asserttrue pool closed test interceptor testinterceptor pool closed poolclosed
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina filters java i o exception ioexception javax servlet filter javax servlet filter chain filterchain javax servlet filter config filterconfig javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse filter attempts force webdav clients connecting port webdav client works work arounds workarounds include port port connect can celling cancelling authentication dialog box reconnect gen erally generally version client problems todo update filter rec ognise recognise specific clients apply work arounds workarounds client filter configured web xml filter map filter webdav servlet mapped add ition addition issues fixed filter issues observed fixed filter filter add message logs min i redir miniredir version conn ects connects port unknown issue doesn work webdav fix filter webdavfixfilter filter string log message preamble webdav fix filter webdavfixfilter detected client problem start string versions string minidir start microsoft webdav min i redir miniredir bit string minidir microsoft webdav min i redir miniredir bit string minidir microsoft webdav min i redir miniredir override init filter config filterconfig filter config filterconfig servlet exception servletexception noop override destroy noop check broken webdav client detected issue direct broken client override do filter dofilter servlet request servletrequest request servlet response servletresponse response filter chain filterchain chain i o exception ioexception servlet exception servletexception request http servlet request httpservletrequest response http servlet response httpservletresponse chain do filter dofilter request response http servlet request httpservletrequest http request httprequest http servlet request httpservletrequest request http servlet response httpservletresponse http response httpresponse http servlet response httpservletresponse response string http request httprequest get header getheader user agent length starts with startswith minidir start starts hope works chain do filter dofilter request response starts with startswith minidir bit redirect explicit port http response httpresponse send redirect sendredirect build redirect buildredirect http request httprequest starts with startswith minidir bit equals http request httprequest get context path getcontextpath log request clients work root context name space namespace issue http greenbytes tech webdav webdav redirect or redirector list html log request work webdav servlet chain do filter dofilter request response don client redirect explicit port hope moves client webdav implementation works http response httpresponse send redirect sendredirect build redirect buildredirect http request httprequest string build redirect buildredirect http servlet request httpservletrequest request string builder stringbuilder location string builder stringbuilder request getrequesturl length location append request get scheme getscheme location append location append request get server name getservername location append include port clients webdav client works min i redir miniredir problems basic authentication location append request get server port getserverport location append request getrequesturi location to string tostring log servlet request servletrequest request string msg string builder stringbuilder builder string builder stringbuilder log message preamble builder append msg request get servlet context getservletcontext log builder to string tostring
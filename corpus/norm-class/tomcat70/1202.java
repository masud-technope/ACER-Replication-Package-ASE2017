licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java eof exception eofexception java io exception ioexception java nio byte buffer bytebuffer java nio channels completion handler completionhandler javax websocket close reason closereason javax websocket close reason closereason close codes closecodes org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util res string manager stringmanager ws frame client wsframeclient ws frame base wsframebase log log log factory logfactory get log getlog ws frame client wsframeclient string manager stringmanager string manager stringmanager get manager getmanager constants async channel wrapper asyncchannelwrapper channel completion handler completionhandler integer handler size d sized byte buffer bytebuffer response ws frame client wsframeclient byte buffer bytebuffer response async channel wrapper asyncchannelwrapper channel ws session wssession ws session wssession transformation transformation ws session wssession transformation response response channel channel handler ws frame client completion handler wsframeclientcompletionhandler start input processing startinputprocessing process socket read processsocketread io exception ioexception close process socket read processsocketread io exception ioexception response has remaining hasremaining remaining response remaining to copy tocopy math min remaining input buffer inputbuffer length write pos writepos copy remaining bytes read http phase input buffer frame processing response input buffer inputbuffer write pos writepos to copy tocopy write pos writepos to copy tocopy process data process input buffer processinputbuffer response clear data is open isopen channel read response handler close throwable close reason closereason wsioexception wsioexception get close reason getclosereason close reason closereason close codes closecodes closed abnormally get message getmessage ws session wssession close io exception ioexception ignore override is masked ismasked data server masked override log get log getlog log ws frame client completion handler wsframeclientcompletionhandler completion handler completionhandler integer override completed integer result attachment result int value intvalue error handle is open isopen close frame received close eof exception eofexception data process response flip process socket read processsocketread io exception ioexception is open isopen log debug get string getstring ws frame client wsframeclient ioe close override failed throwable exc attachment exc read buffer overflow exception readbufferoverflowexception response empty exception thrown response byte buffer bytebuffer all ocate allocate read buffer overflow exception readbufferoverflowexception exc get min buffer size getminbuffersize response flip process socket read processsocketread io exception ioexception close close exc
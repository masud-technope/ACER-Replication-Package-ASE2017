licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java sql connection org junit org junit org junit test org apache tomcat jdbc test driver driver pool purge test poolpurgetest default test case defaulttestcase expected size expectedsize override org apache tomcat jdbc pool data source datasource create default data source createdefaultdatasource todo auto generated method stub org apache tomcat jdbc pool data source datasource create default data source createdefaultdatasource get pool properties getpoolproperties set driver class name setdriverclassname driver get name getname get pool properties getpoolproperties set url seturl driver url get pool properties getpoolproperties set initial size setinitialsize expected size expectedsize get pool properties getpoolproperties set max idle setmaxidle expected size expectedsize get pool properties getpoolproperties set min idle setminidle expected size expectedsize get pool properties getpoolproperties set max active setmaxactive expected size expectedsize get pool properties getpoolproperties set time between eviction runs millis settimebetweenevictionrunsmillis get pool properties getpoolproperties set max age setmaxage max override tear down teardown exception driver reset tear down teardown test test pool purge testpoolpurge exception datasource get connection getconnection close assert equals assertequals connections expected size expectedsize expected size expectedsize datasource get size getsize datasource purge assert equals assertequals connections datasource get size getsize test test pool purge with active testpoolpurgewithactive exception connection con datasource get connection getconnection assert equals assertequals connections expected size expectedsize expected size expectedsize datasource get size getsize datasource purge assert equals assertequals connections expected size expectedsize expected size expectedsize datasource get size getsize con close assert equals assertequals connections datasource get size getsize test test pool purge on return testpoolpurgeonreturn exception init connection con datasource get connection getconnection assert equals assertequals connections expected size expectedsize expected size expectedsize datasource get size getsize datasource purge on return purgeonreturn assert equals assertequals connections expected size expectedsize expected size expectedsize datasource get size getsize con close assert equals assertequals connections expected size expectedsize expected size expectedsize datasource get size getsize tear down teardown
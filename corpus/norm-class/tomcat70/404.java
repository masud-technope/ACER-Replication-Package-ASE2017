licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http upgrade java eof exception eofexception java io exception ioexception java nio byte buffer bytebuffer java nio channels selector org apache tomcat util net nio channel niochannel org apache tomcat util net nio endpoint nioendpoint org apache tomcat util net nio selector pool nioselectorpool org apache tomcat util net socket wrapper socketwrapper deprecated removed tomcat deprecated upgrade nio processor upgradenioprocessor upgrade processor upgradeprocessor nio channel niochannel nio channel niochannel nio channel niochannel nio selector pool nioselectorpool pool max read maxread max write maxwrite upgrade nio processor upgradenioprocessor socket wrapper socketwrapper nio channel niochannel wrapper upgrade inbound upgradeinbound upgrade inbound upgradeinbound nio selector pool nioselectorpool pool upgrade inbound upgradeinbound wrapper set timeout settimeout upgrade inbound upgradeinbound get read timeout getreadtimeout nio channel niochannel wrapper get socket getsocket pool pool max read maxread nio channel niochannel get buf handler getbufhandler get read buffer getreadbuffer capacity max write maxwrite nio channel niochannel get buf handler getbufhandler get write buffer getwritebuffer capacity output methods override flush io exception ioexception nio endpoint nioendpoint key attachment keyattachment att nio endpoint nioendpoint key attachment keyattachment nio channel niochannel get attachment getattachment att io exception ioexception key cancelled write timeout writetimeout att get timeout gettimeout selector selector selector pool io exception ioexception nio channel niochannel flush selector write timeout writetimeout selector pool selector override write io exception ioexception write to socket writetosocket override write len io exception ioexception written len written max write maxwrite written write to socket writetosocket written max write maxwrite write to socket writetosocket written len written input methods override read io exception ioexception bytes result read socket readsocket bytes result bytes xff override read block bytes len io exception ioexception len max read maxread read socket readsocket block bytes max read maxread read socket readsocket block bytes len adapted nio input buffer nioinputbuffer read socket readsocket block bytes offset len io exception ioexception byte buffer bytebuffer read buffer readbuffer nio channel niochannel get buf handler getbufhandler get read buffer getreadbuffer remaining read buffer readbuffer remaining data read buffer satisfy request remaining len read buffer readbuffer bytes offset len len copy data read buffer array left to write lefttowrite len new offset newoffset offset remaining read buffer readbuffer bytes offset remaining left to write lefttowrite remaining new offset newoffset remaining fill read buffer read buffer readbuffer clear n read nread fill read buffer fillreadbuffer block read n read nread read buffer readbuffer flip read buffer readbuffer limit n read nread n read nread left to write lefttowrite read buffer readbuffer bytes new offset newoffset left to write lefttowrite left to write lefttowrite read buffer readbuffer bytes new offset newoffset n read nread left to write lefttowrite n read nread n read nread read buffer readbuffer flip read buffer readbuffer limit n read nread n read nread eof exception eofexception get string getstring nio eof error len left to write lefttowrite fill read buffer fillreadbuffer block io exception ioexception n read nread block selector selector selector pool io exception ioexception nio endpoint nioendpoint key attachment keyattachment att nio endpoint nioendpoint key attachment keyattachment nio channel niochannel get attachment getattachment att io exception ioexception key cancelled n read nread pool read nio channel niochannel get buf handler getbufhandler get read buffer getreadbuffer nio channel niochannel selector att get timeout gettimeout eof exception eofexception eof n read nread selector pool selector n read nread nio channel niochannel read nio channel niochannel get buf handler getbufhandler get read buffer getreadbuffer n read nread adapted nio output buffer niooutputbuffer write to socket writetosocket bytes len io exception ioexception nio channel niochannel get buf handler getbufhandler get write buffer getwritebuffer clear nio channel niochannel get buf handler getbufhandler get write buffer getwritebuffer bytes len nio channel niochannel get buf handler getbufhandler get write buffer getwritebuffer flip written nio endpoint nioendpoint key attachment keyattachment att nio endpoint nioendpoint key attachment keyattachment nio channel niochannel get attachment getattachment att io exception ioexception key cancelled write timeout writetimeout att get timeout gettimeout selector selector selector pool io exception ioexception written pool write nio channel niochannel get buf handler getbufhandler get write buffer getwritebuffer nio channel niochannel selector write timeout writetimeout selector pool selector written
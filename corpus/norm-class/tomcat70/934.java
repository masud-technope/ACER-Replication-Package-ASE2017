licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java lang reflect method java util properties org junit org junit org apache tomcat dbcp dbcp basic data source basicdatasource org apache tomcat dbcp dbcp basic data source factory basicdatasourcefactory org apache tomcat jdbc pool pool configuration poolconfiguration org apache tomcat jdbc pool pool properties poolproperties author filip hanik version default test case defaulttestcase org apache tomcat jdbc pool data source datasource datasource basic data source basicdatasource t data source tdatasource combo pooled data source combopooleddatasource data source datasource thread count threadcount iter ations iterations org apache tomcat jdbc pool data source datasource create default data source createdefaultdatasource org apache tomcat jdbc pool data source datasource datasource pool configuration poolconfiguration default properties defaultproperties set fair queue setfairqueue set jmx enabled setjmxenabled set test while idle settestwhileidle set test on borrow settestonborrow set test on return settestonreturn set validation interval setvalidationinterval set time between eviction runs millis settimebetweenevictionrunsmillis set max active setmaxactive thread count threadcount set initial size setinitialsize thread count threadcount set max wait setmaxwait set remove abandoned timeout setremoveabandonedtimeout set min evictable idle time millis setminevictableidletimemillis set min idle setminidle thread count threadcount set log abandoned setlogabandoned set remove abandoned setremoveabandoned datasource org apache tomcat jdbc pool data source datasource datasource set pool properties setpoolproperties datasource init exception datasource create default data source createdefaultdatasource transfer properties transferproperties properties properties properties length string character to upper case touppercase properties char at charat properties substring string bname substring method pool properties poolproperties get method getmethod no such method exception nosuchmethodexception pool properties poolproperties get method getmethod bname no such method exception nosuchmethodexception string msg get message getmessage msg index of indexof is pool prepared statements ispoolpreparedstatements msg index of indexof is max open prepared statements ismaxopenpreparedstatements system err println missing property get message getmessage object invoke datasource get pool properties getpoolproperties object set property setproperty properties to string tostring t data source tdatasource basic data source basicdatasource basic data source factory basicdatasourcefactory create data source createdatasource exception print stack trace printstacktrace transfer properties to c transferpropertiestoc exception system set property setproperty mchange log fallbackmlog cut off cutoff level warning m log mlog get logger getlogger set level setlevel m level mlevel warning m log mlog get logger getlogger set level setlevel m level mlevel warning http mchange projects html automatic test table automatictesttable combo pooled data source combopooleddatasource combo pooled data source combopooleddatasource set acquire increment setacquireincrement set acquire retry attempts setacquireretryattempts set acquire retry delay setacquireretrydelay datasource get pool properties getpoolproperties get max wait getmaxwait set check out timeout setcheckouttimeout datasource get pool properties getpoolproperties get max wait getmaxwait set debug unreturned connection stack traces setdebugunreturnedconnectionstacktraces datasource get pool properties getpoolproperties is log abandoned islogabandoned set idle connection test period setidleconnectiontestperiod datasource get pool properties getpoolproperties get time between eviction runs millis gettimebetweenevictionrunsmillis set initial pool size setinitialpoolsize datasource get pool properties getpoolproperties get initial size getinitialsize set max idle time setmaxidletime datasource get pool properties getpoolproperties get min evictable idle time millis getminevictableidletimemillis set max idle time excess connections setmaxidletimeexcessconnections datasource get pool properties getpoolproperties get max idle getmaxidle set max pool size setmaxpoolsize datasource get pool properties getpoolproperties get max active getmaxactive set min pool size setminpoolsize datasource get pool properties getpoolproperties get min idle getminidle set password setpassword datasource get pool properties getpoolproperties get password getpassword set preferred test query setpreferredtestquery datasource get pool properties getpoolproperties get validation query getvalidationquery set test connection on check in settestconnectiononcheckin datasource get pool properties getpoolproperties is test on return istestonreturn set test connection on check out settestconnectiononcheckout datasource get pool properties getpoolproperties is test on borrow istestonborrow set unreturned connection timeout setunreturnedconnectiontimeout datasource get pool properties getpoolproperties get remove abandoned timeout getremoveabandonedtimeout set user setuser datasource get pool properties getpoolproperties get username getusername set uses traditional ref lective proxies setusestraditionalreflectiveproxies set jdbc url setjdbcurl datasource get pool properties getpoolproperties get url geturl set driver class setdriverclass datasource get pool properties getpoolproperties get driver class name getdriverclassname data source datasource acquire increment acquireincrement acquire retry attempts acquireretryattempts acquire retry delay acquireretrydelay auto commit on close autocommitonclose automatic test table automatictesttable break after acquire failure breakafteracquirefailure check out timeout checkouttimeout connection customizer class name connectioncustomizerclassname connection tester class name connectiontesterclassname debug unreturned connection stack traces debugunreturnedconnectionstacktraces factory class location factoryclasslocation force ignore unresolved transactions forceignoreunresolvedtransactions idle connection test period idleconnectiontestperiod initial pool size initialpoolsize max administrative task time maxadministrativetasktime max connection age maxconnectionage max idle time maxidletime max idle time excess connections maxidletimeexcessconnections max pool size maxpoolsize max statements maxstatements max statements per connection maxstatementsperconnection min pool size minpoolsize num helper threads numhelperthreads override default user overridedefaultuser override default password overridedefaultpassword password preferred test query preferredtestquery property cycle propertycycle test connection on check in testconnectiononcheckin test connection on check out testconnectiononcheckout unreturned connection timeout unreturnedconnectiontimeout user uses traditional ref lective proxies usestraditionalreflectiveproxies tear down teardown exception datasource close exception ignore t data source tdatasource close exception ignore combo pooled data source combopooleddatasource data source datasource close exception ignore datasource t data source tdatasource data source datasource system org apache tomcat jdbc test driver driver reset string prop default auto commit defaultautocommit default auto commit defaultautocommit string prop default read only defaultreadonly default read only defaultreadonly string prop default transactionisolation defaulttransactionisolation default transaction isolation defaulttransactionisolation string prop default cat alog defaultcatalog default catalog defaultcatalog string prop driverclassname driver class name driverclassname string prop max active maxactive max active maxactive string prop max idle maxidle max idle maxidle string prop min idle minidle min idle minidle string prop init ialsize initialsize initial size initialsize string prop max wait maxwait max wait maxwait string prop test onborrow testonborrow test on borrow testonborrow string prop test onreturn testonreturn test on return testonreturn string prop time between evictionrunsmillis timebetweenevictionrunsmillis time between eviction runs millis timebetweenevictionrunsmillis string prop num tests per evictionrun numtestsperevictionrun num tests per eviction run numtestsperevictionrun string prop min evictableidletimemillis minevictableidletimemillis min evictable idle time millis minevictableidletimemillis string prop test while idle testwhileidle test while idle testwhileidle string prop password password string prop url url string prop use rname username username string prop validationquery validation query validationquery string prop access tounderlyingconnectionallowed accesstounderlyingconnectionallowed access to underlying connection allowed accesstounderlyingconnectionallowed string prop remove abandoned removeabandoned remove abandoned removeabandoned string prop remove abandonedtimeout removeabandonedtimeout remove abandoned timeout removeabandonedtimeout string prop log abandoned logabandoned log abandoned logabandoned string prop poolpreparedstatements pool prepared statements poolpreparedstatements string prop max open preparedstatements maxopenpreparedstatements max open prepared statements maxopenpreparedstatements string prop connectionproperties connection properties connectionproperties string properties prop default auto commit defaultautocommit prop default read only defaultreadonly prop default transactionisolation defaulttransactionisolation prop default cat alog defaultcatalog prop driverclassname prop max active maxactive prop max idle maxidle prop min idle minidle prop init ialsize initialsize prop max wait maxwait prop test onborrow testonborrow prop test onreturn testonreturn prop time between evictionrunsmillis timebetweenevictionrunsmillis prop num tests per evictionrun numtestsperevictionrun prop min evictableidletimemillis minevictableidletimemillis prop test while idle testwhileidle prop password prop url prop use rname username prop validationquery prop access tounderlyingconnectionallowed accesstounderlyingconnectionallowed prop remove abandoned removeabandoned prop remove abandonedtimeout removeabandonedtimeout prop log abandoned logabandoned prop poolpreparedstatements prop max open preparedstatements maxopenpreparedstatements prop connectionproperties
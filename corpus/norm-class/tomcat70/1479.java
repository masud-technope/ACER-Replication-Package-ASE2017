licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java util concurrent atomic atomic integer atomicinteger org junit org junit test test timeout testtimeout default test case defaulttestcase atomic integer atomicinteger counter atomic integer atomicinteger test test check out timeout testcheckouttimeout exception datasource get pool properties getpoolproperties set test while idle settestwhileidle datasource get pool properties getpoolproperties set test on borrow settestonborrow datasource get pool properties getpoolproperties set test on return settestonreturn datasource get pool properties getpoolproperties set validation interval setvalidationinterval datasource get pool properties getpoolproperties set time between eviction runs millis settimebetweenevictionrunsmillis datasource get pool properties getpoolproperties set max active setmaxactive datasource get pool properties getpoolproperties set max wait setmaxwait datasource get pool properties getpoolproperties set remove abandoned timeout setremoveabandonedtimeout datasource get pool properties getpoolproperties set min evictable idle time millis setminevictableidletimemillis datasource get pool properties getpoolproperties set min idle setminidle datasource get pool properties getpoolproperties set log abandoned setlogabandoned system println test connection pool datasource system current time millis currenttimemillis datasource get connection getconnection delta system current time millis currenttimemillis system println connection delta assert true asserttrue exception assert true asserttrue thread sleep test test check out timeout fair testcheckouttimeoutfair exception datasource get pool properties getpoolproperties set fair queue setfairqueue datasource get pool properties getpoolproperties set test while idle settestwhileidle datasource get pool properties getpoolproperties set test on borrow settestonborrow datasource get pool properties getpoolproperties set test on return settestonreturn datasource get pool properties getpoolproperties set validation interval setvalidationinterval datasource get pool properties getpoolproperties set time between eviction runs millis settimebetweenevictionrunsmillis datasource get pool properties getpoolproperties set max active setmaxactive datasource get pool properties getpoolproperties set max wait setmaxwait datasource get pool properties getpoolproperties set remove abandoned timeout setremoveabandonedtimeout datasource get pool properties getpoolproperties set min evictable idle time millis setminevictableidletimemillis datasource get pool properties getpoolproperties set min idle setminidle datasource get pool properties getpoolproperties set log abandoned setlogabandoned system println test connection pool datasource system current time millis currenttimemillis datasource get connection getconnection delta system current time millis currenttimemillis system println connection delta assert true asserttrue exception assert true asserttrue thread sleep
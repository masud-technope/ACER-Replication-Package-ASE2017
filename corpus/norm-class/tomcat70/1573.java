licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http upgrade java eof exception eofexception java io exception ioexception java util concurrent locks lock java util concurrent locks reentrant read write lock reentrantreadwritelock write lock writelock org apache juli logging log org apache juli logging log factory logfactory org apache tomcat jni org apache tomcat jni socket org apache tomcat jni status org apache tomcat util net socket wrapper socketwrapper apr servlet input stream aprservletinputstream abstract servlet input stream abstractservletinputstream log log log factory logfactory get log getlog apr servlet input stream aprservletinputstream socket wrapper socketwrapper wrapper socket eagain closed apr servlet input stream aprservletinputstream socket wrapper socketwrapper wrapper wrapper wrapper socket wrapper get socket getsocket long value longvalue override do read doread block len io exception ioexception closed io exception ioexception get string getstring apr closed value of valueof socket lock read lock readlock wrapper get blocking status read lock getblockingstatusreadlock write lock writelock write lock writelock wrapper get blocking status write lock getblockingstatuswritelock read done readdone result read lock readlock lock wrapper get blocking status getblockingstatus block result socket recv socket len read done readdone read lock readlock unlock read done readdone write lock writelock lock wrapper set blocking status setblockingstatus block current settings socket socket opt set optset socket socket apr non block nonblock block down grade downgrade lock read lock readlock lock write lock writelock unlock result socket recv socket len read lock readlock unlock exception paths write lock writelock is held by current thread isheldbycurrentthread write lock writelock unlock result eagain result result status eagain eagain result status apr egeneral wrapper is secure issecure suspected causing issues log is debug enabled isdebugenabled log debug get string getstring apr read ssl general error sslgeneralerror value of valueof socket wrapper eagain result status apr eof eof exception eofexception get string getstring apr client abort clientabort win win result status apr start syserr windows connection aborted eof exception eofexception get string getstring apr client abort clientabort io exception ioexception get string getstring apr read error integer value of valueof result value of valueof socket wrapper override do is ready doisready eagain override do close doclose io exception ioexception closed abstract processor abstractprocessor trigger close multiple closes apr sockets problems
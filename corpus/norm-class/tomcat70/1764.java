licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util threads java util collection java util concurrent linked blocking queue linkedblockingqueue java util concurrent rejected execution exception rejectedexecutionexception java util concurrent time unit timeunit task queue designed thread pool executor task queue opt imised optimised properly utilize threads thread pool executor normal queue executor spawn threads idle threads won t wont force items queue author fhanik task queue taskqueue linked blocking queue linkedblockingqueue runnable serialversionuid thread pool executor threadpoolexecutor parent times change read occur single thread context fired listeners integer for ced remaining capacity forcedremainingcapacity task queue taskqueue task queue taskqueue capacity capacity task queue taskqueue collection runnable set parent setparent thread pool executor threadpoolexecutor parent force runnable parent is shutdown isshutdown rejected execution exception rejectedexecutionexception executor running force command queue for ces forces item queue task rejected offer force runnable timeout time unit timeunit unit interrupted exception interruptedexception parent is shutdown isshutdown rejected execution exception rejectedexecutionexception executor running force command queue for ces forces item queue task rejected offer timeout unit override offer runnable checks parent offer maxed threads simply queue object parent get pool size getpoolsize parent get maximum pool size getmaximumpoolsize offer idle threads add queue parent get sub mitted count getsubmittedcount parent get pool size getpoolsize offer threads maximum force creation thread parent get pool size getpoolsize parent get maximum pool size getmaximumpoolsize reached add queue offer override runnable poll timeout time unit timeunit unit interrupted exception interruptedexception runnable runnable poll timeout unit runnable parent poll time d timed opportunity current thread needed avoid memory leaks parent stop current thread if needed stopcurrentthreadifneeded runnable override runnable interrupted exception interruptedexception parent parent current thread should be stopped currentthreadshouldbestopped poll parent get keep alive time getkeepalivetime time unit timeunit milliseconds time unit timeunit milliseconds timeout occur thread pool executor threadpoolexecutor implementation override remaining capacity remainingcapacity for ced remaining capacity forcedremainingcapacity req uirement requirement for ced remaining capacity forcedremainingcapacity int value intvalue remaining capacity remainingcapacity set for ced remaining capacity setforcedremainingcapacity integer for ced remaining capacity forcedremainingcapacity for ced remaining capacity forcedremainingcapacity for ced remaining capacity forcedremainingcapacity
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util buf java nio byte buffer bytebuffer java nio char buffer charbuffer java nio charset charset java nio charset charset decoder charsetdecoder java nio charset code r result coderresult java nio charset coding error action codingerroraction java util array list arraylist java util list org junit org junit test tests written reference href http unicode org versions unicode pdf unicode chapter test utf testutf invalid sequence detected character earliest moment error pos invalid sequence detected characters earliest moment error pos invalid sequence detected characters earliest moment error pos trailing valid included replacement previous error replace swallows trailer replacement character missing replace missing replacement characters missing replace missing replacement characters missing replace missing list utf test case testcase test cases array list arraylist utf test case testcase work around count workaroundcount issues fixed java https bugs open jdk openjdk java net browse jdk base assumption java java version javaversion for name forname java util stream collector java version javaversion exception utf test case testcase test case testcase test cases add utf test case testcase length input test cases add utf test case testcase valid sequence test cases add utf test case testcase valid sequence test cases add utf test case testcase valid sequence test cases add utf test case testcase valid sequence java jvm decoder report error bytes test case testcase utf test case testcase invalid code point range java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase java jvm decoder report error bytes test case testcase utf test case testcase valid sequence padded java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase java jvm decoder report error bytes test case testcase utf test case testcase valid sequence padded java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase java jvm decoder report error bytes test case testcase utf test case testcase valid sequence padded java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase invalid xff test case testcase utf test case testcase invalid java version javaversion test case testcase add for jvm addforjvm replace swallows trailer test cases add test case testcase test case testcase utf test case testcase invalid java version javaversion test case testcase add for jvm addforjvm replace swallows trailer test cases add test case testcase test case testcase utf test case testcase invalid java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase invalid test cases add utf test case testcase invalid sequence unicode spec table xbf test cases add utf test case testcase valid sequence truncated bytes test cases add utf test case testcase valid sequence truncated bytes test cases add utf test case testcase valid sequence truncated test cases add utf test case testcase valid sequence truncated bytes trailer test case testcase utf test case testcase valid sequence truncated bytes trailer java version javaversion test case testcase add for jvm addforjvm replace swallows trailer test cases add test case testcase test case testcase utf test case testcase valid sequence truncated trailer java version javaversion test case testcase add for jvm addforjvm replace swallows trailer test cases add test case testcase test case testcase utf test case testcase padded bytes java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase padded bytes xbf java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase bytes xff xff test case testcase utf test case testcase bytes nibble java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase bytes nibble test cases add utf test case testcase bytes invalid test cases add utf test case testcase bytes invalid test case testcase utf test case testcase bytes padded java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase bytes padded xbf java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase bytes padded xbf java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase bytes xff xff xff test case testcase utf test case testcase bytes invalid java version javaversion test case testcase add for jvm addforjvm replace missing add for jvm addforjvm replace swallows trailer test cases add test case testcase test case testcase utf test case testcase bytes invalid java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase bytes invalid test case testcase utf test case testcase bytes padded java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase bytes padded xbf java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase bytes padded xbf java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase bytes ffff padded xbf xbf java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase bytes xff xff xff xff test case testcase utf test case testcase bytes invalid java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm replace missing add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes invalid java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test case testcase utf test case testcase bytes invalid java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test cases add utf test case testcase bytes invalid fourth test case testcase utf test case testcase bytes padded java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes padded xbf java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes padded xbf java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes ffff padded xbf xbf java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes padded xfc java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm error pos add for jvm addforjvm replace missing add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes padded xfc xbf java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm error pos add for jvm addforjvm replace missing add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes padded xfc xbf java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm error pos add for jvm addforjvm replace missing add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase bytes ffff padded xfc xbf xbf java version javaversion test case testcase add for jvm addforjvm error pos add for jvm addforjvm error pos add for jvm addforjvm replace missing add for jvm addforjvm replace missing test cases add test case testcase test case testcase utf test case testcase original test derived auto bahn autobahn xce xba xdb xcf xce xbc xce xed edited java version javaversion test case testcase add for jvm addforjvm error pos test cases add test case testcase test test harmony decoder testharmonydecoder charset decoder charsetdecoder decoder utf decoder utf test case testcase test case testcase test cases do test dotest decoder test case testcase test test jvm decoder testjvmdecoder charset decoder charsetdecoder decoder charset for name forname utf new decoder newdecoder test count testcount utf test case testcase test case testcase test cases do test dotest decoder test case testcase test case testcase flags jvm flagsjvm test count testcount system err println work arounds workarounds work around count workaroundcount tests account jvm bugs test count testcount test cases size system err println executed test count testcount test cases size utf tests enc ountering encountering failure do test dotest charset decoder charsetdecoder decoder utf test case testcase test case testcase flags len test case testcase input length byte buffer bytebuffer byte buffer bytebuffer all ocate allocate len char buffer charbuffer char buffer charbuffer all ocate allocate len configure decoder fail error decoder reset decoder on malformed input onmalformedinput coding error action codingerroraction report decoder on unmappable character onunmappablecharacter coding error action codingerroraction report invalid sequence len test case testcase input flip code r result coderresult decoder decode is error iserror expected test case testcase invalid index invalidindex flags error pos expected flags error pos expected flags error pos expected assert equals assertequals test case testcase description expected compact configure decoder replace error decoder reset decoder on malformed input onmalformedinput coding error action codingerroraction replace decoder on unmappable character onunmappablecharacter coding error action codingerroraction replace add time clear clear len test case testcase input flip code r result coderresult decoder decode is error iserror fail test case testcase description compact incomplete sequences input decoder input ended flip code r result coderresult decoder decode is error iserror fail test case testcase description flip string expected test case testcase output replaced outputreplaced flags replace swallows trailer expected expected substring expected length flags replace missing expected expected substring expected substring expected length flags replace missing expected expected substring expected substring expected length flags replace missing expected expected substring expected substring expected length assert equals assertequals test case testcase description expected to string tostring enc apsulates encapsulates single utf test utf test case testcase string description input invalid index invalidindex string output replaced outputreplaced flags jvm flagsjvm utf test case testcase string description input invalid index invalidindex string output replaced outputreplaced description description input input invalid index invalidindex invalid index invalidindex output replaced outputreplaced output replaced outputreplaced utf test case testcase add for jvm addforjvm flag flags jvm flagsjvm test utf testutf work around count workaroundcount flags jvm flagsjvm flags jvm flagsjvm flag
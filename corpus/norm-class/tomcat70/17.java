licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat java lang instrument class file transformer classfiletransformer specifies loader capable decorated link class file transformer classfiletransformer transformers instrument weave code classes loaded loader alter behavior link org apache catalina loader webapp class loader base webappclassloaderbase web application frame works frameworks jpa providers bundle d bundled web application instrument web application classes program methods ref lection reflection methods code webapp class loader base webappclassloaderbase security manager ins tru mentable class loader instrumentableclassloader adds file transformer loader transformer instrument byte code bytecode classes loaded loader invocation method param transformer transformer add loader illegal argument exception illegalargumentexception literal transformer add transformer addtransformer class file transformer classfiletransformer transformer removes file transformer loader longer instrument code classes loaded loader invocation method classes ins trumented instrumented transformer method call remain ins trumented instrumented param transformer transformer remove remove transformer removetransformer class file transformer classfiletransformer transformer returns copy loader file transformers tool java persistence api providers inspect entity classes absence ins trumentation instrumentation guaranteed context link class file transformer classfiletransformer link class file transformer classfiletransformer transform class loader classloader string java security protection domain protectiondomain transform method returned loader resource cache cleared classes ins trumented instrumented retained returned transformer free copy loader class loader classloader copy without transformers copywithouttransformers
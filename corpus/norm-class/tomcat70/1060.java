licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina valves java text simple date format simpledateformat java util java util locale java util time zone timezone org junit org junit test test access log valve testaccesslogvalve note test org apache juli test date format cache testdateformatcache test bug testbug test test bug testbug exception cache size cachesize simple date format simpledateformat sdf simple date format simpledateformat mmm yyyy locale sdf set time zone settimezone time zone timezone get default getdefault access log valve accesslogvalve date format cache dateformatcache dfc access log valve accesslogvalve date format cache dateformatcache cache size cachesize locale create array hold expected values string expected string cache size cachesize fill cache populate expected values secs secs cache size cachesize secs dfc get format getformat secs expected secs generate expected generateexpected sdf secs assert array equals assertarrayequals expected dfc clfcache cache cache roll confirm dfc get format getformat cache size cachesize expected generate expected generateexpected sdf cache size cachesize assert array equals assertarrayequals expected dfc clfcache cache jump confirm skipped dfc get format getformat cache size cachesize expected expected generate expected generateexpected sdf cache size cachesize assert array equals assertarrayequals expected dfc clfcache cache fill gap dfc get format getformat cache size cachesize expected generate expected generateexpected sdf cache size cachesize assert array equals assertarrayequals expected dfc clfcache cache confirm skipped dfc get format getformat expected generate expected generateexpected sdf expected assert array equals assertarrayequals expected dfc clfcache cache dfc get format getformat expected generate expected generateexpected sdf assert array equals assertarrayequals expected dfc clfcache cache jump entire cache cleared dfc get format getformat cache size cachesize expected expected generate expected generateexpected sdf assert array equals assertarrayequals expected dfc clfcache cache string generate expected generateexpected simple date format simpledateformat sdf secs sdf format secs
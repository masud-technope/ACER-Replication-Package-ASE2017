licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license javax java buffered reader bufferedreader java file java file input stream fileinputstream java file not found exception filenotfoundexception java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java unsupported encoding exception unsupportedencodingexception java lang weak reference weakreference java lang reflect constructor java lang reflect invocation target exception invocationtargetexception java security access controller accesscontroller java security privileged action privilegedaction java util properties java util concurrent concurrent hash map concurrenthashmap java util concurrent concurrent map concurrentmap java util concurrent locks lock java util concurrent locks read write lock readwritelock java util concurrent locks reentrant read write lock reentrantreadwritelock expression factory expressionfactory security enabled system get security manager getsecuritymanager string service resource meta inf services javax expression factory expressionfactory string property javax expression factory expressionfactory string property file cache value cachevalue null tccl factory nulltcclfactory cache value cachevalue concurrent map concurrentmap cache key cachekey cache value cachevalue factory cache factorycache concurrent hash map concurrenthashmap cache key cachekey cache value cachevalue security enabled property file access controller accesscontroller do privileged doprivileged privileged action privilegedaction string override string system get property getproperty java file separator lib file separator properties property file system get property getproperty java file separator lib file separator properties coerce supplied object requested type param obj object coerce d coerced param expected type expectedtype type object coerce d coerced instance requested type el exception elexception conversion fails object coerce to type coercetotype object obj expected type expectedtype el exception elexception create expression param context context evaluation param expression string representation expression param expected type expectedtype expected type result eval uating evaluating expression expression for med formed input parameters null pointer exception nullpointerexception expected type code code el exception elexception syntax errors expression value expression valueexpression create value expression createvalueexpression el context elcontext context string expression expected type expectedtype null pointer exception nullpointerexception el exception elexception value expression valueexpression create value expression createvalueexpression object instance expected type expectedtype create method expression instance param context context evaluation param expression string representation method expression param expected return type expectedreturntype expected type result invoking method param expected param types expectedparamtypes expected types input parameters method expression for med formed input parameters null pointer exception nullpointerexception expected parameters types code code el exception elexception syntax errors expression method expression methodexpression create method expression createmethodexpression el context elcontext context string expression expected return type expectedreturntype expected param types expectedparamtypes el exception elexception null pointer exception nullpointerexception create link expression factory expressionfactory determined search order services api meta inf services javax expression factory expressionfactory jre lib properties key javax expression factory expressionfactory javax expression factory expressionfactory platform implementation org apache expression factory impl expressionfactoryimpl expression factory expressionfactory expression factory expressionfactory new instance newinstance new instance newinstance create link expression factory expressionfactory passing link properties search order link new instance newinstance param properties properties passed instance expression factory expressionfactory expression factory expressionfactory new instance newinstance properties properties expression factory expressionfactory result class loader classloader tccl thread current thread currentthread get context class loader getcontextclassloader cache value cachevalue cache value cachevalue clazz tccl cache value cachevalue null tccl factory nulltcclfactory cache key cachekey key cache key cachekey tccl cache value cachevalue factory cache factorycache key cache value cachevalue cache value cachevalue new cache value newcachevalue cache value cachevalue cache value cachevalue factory cache factorycache put if absent putifabsent key new cache value newcachevalue cache value cachevalue cache value cachevalue new cache value newcachevalue lock read lock readlock cache value cachevalue get lock getlock read lock readlock read lock readlock lock clazz cache value cachevalue get factory class getfactoryclass read lock readlock unlock clazz string class name classname lock write lock writelock cache value cachevalue get lock getlock write lock writelock write lock writelock lock class name classname cache value cachevalue get factory class name getfactoryclassname class name classname class name classname discover class name discoverclassname tccl cache value cachevalue set factory class name setfactoryclassname class name classname tccl clazz for name forname class name classname clazz tccl load class loadclass class name classname cache value cachevalue set factory class setfactoryclass clazz write lock writelock unlock class not found exception classnotfoundexception el exception elexception unable find expression factory expressionfactory type class name classname constructor constructor constructor properties properties constructor clazz get constructor getconstructor properties security exception securityexception el exception elexception no such method exception nosuchmethodexception nsme constructor result expression factory expressionfactory clazz new instance newinstance result expression factory expressionfactory constructor new instance newinstance properties instantiation exception instantiationexception el exception elexception unable create expression factory expressionfactory type clazz get name getname illegal access exception illegalaccessexception el exception elexception unable create expression factory expressionfactory type clazz get name getname illegal argument exception illegalargumentexception el exception elexception unable create expression factory expressionfactory type clazz get name getname invocation target exception invocationtargetexception throwable get cause getcause thread death threaddeath thread death threaddeath virtual machine error virtualmachineerror virtual machine error virtualmachineerror el exception elexception unable create expression factory expressionfactory type clazz get name getname result key cache expression factory expressionfactory discovery loader loader reference code code tccl handled sep arately separately cache key cachekey hash weak reference weakreference class loader classloader cache key cachekey class loader classloader hash hash code hashcode weak reference weakreference class loader classloader override hash code hashcode hash override equals object obj obj obj cache key cachekey class loader classloader this cl thiscl this cl thiscl this cl thiscl cache key cachekey obj cache value cachevalue read write lock readwritelock lock reentrant read write lock reentrantreadwritelock string class name classname weak reference weakreference cache value cachevalue read write lock readwritelock get lock getlock lock string get factory class name getfactoryclassname class name classname set factory class name setfactoryclassname string class name classname class name classname class name classname get factory class getfactoryclass set factory class setfactoryclass clazz weak reference weakreference clazz discover expression factory expressionfactory param tccl code class loader classloader code string discover class name discoverclassname class loader classloader tccl string class name classname services api class name classname get class name services getclassnameservices tccl class name classname security enabled class name classname access controller accesscontroller do privileged doprivileged privileged action privilegedaction string override string get class name jre dir getclassnamejredir properties file class name classname get class name jre dir getclassnamejredir class name classname security enabled class name classname access controller accesscontroller do privileged doprivileged privileged action privilegedaction string override string get class name sys prop getclassnamesysprop system property class name classname get class name sys prop getclassnamesysprop class name classname fourth class name classname org apache expression factory impl expressionfactoryimpl class name classname string get class name services getclassnameservices class loader classloader tccl input stream inputstream tccl class loader classloader get system resource as stream getsystemresourceasstream service resource tccl get resource as stream getresourceasstream service resource string buffered reader bufferedreader input stream reader inputstreamreader isr isr input stream reader inputstreamreader utf buffered reader bufferedreader isr read line readline trim length trim unsupported encoding exception unsupportedencodingexception io exception ioexception el exception elexception failed read service resource close io exception ioexception ioe isr isr close io exception ioexception ioe close io exception ioexception ioe string get class name jre dir getclassnamejredir file file file property file file can read canread input stream inputstream file input stream fileinputstream file properties props properties props load string props get property getproperty property trim length trim file not found exception filenotfoundexception io exception ioexception el exception elexception failed read property file close io exception ioexception string get class name sys prop getclassnamesysprop string system get property getproperty property trim length trim
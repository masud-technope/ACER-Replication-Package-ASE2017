licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina session java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java io exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java util enumeration java util hash map hashmap java util map org junit org junit test org apache catalina manager org apache catalina core standard context standardcontext test standard session teststandardsession manager test manager test manager standard manager standardmanager test manager set container setcontainer standard context standardcontext test test serialization empty testserializationempty exception standard session standardsession standard session standardsession test manager set valid setvalid standard session standardsession serialize then deserialize serializethendeserialize validate same validatesame test test serialization simple testserializationsimple exception standard session standardsession standard session standardsession test manager set valid setvalid set attribute setattribute attr standard session standardsession serialize then deserialize serializethendeserialize validate same validatesame test test serialization simple testserializationsimple exception standard session standardsession standard session standardsession test manager set valid setvalid set attribute setattribute attr non serializable nonserializable standard session standardsession serialize then deserialize serializethendeserialize validate same validatesame test test serialization simple testserializationsimple exception standard session standardsession standard session standardsession test manager set valid setvalid set attribute setattribute attr set attribute setattribute attr non serializable nonserializable standard session standardsession serialize then deserialize serializethendeserialize validate same validatesame bug test serialize skips non serializable attributes serializeskipsnonserializableattributes exception string non serializable key nonserializablekey non serializable nonserializable string nested non serializable key nestednonserializablekey nested non serializable nestednonserializable string serializable key serializablekey serializable object serializable value serializablevalue foo standard session standardsession standard session standardsession test manager set valid setvalid map string non serializable nonserializable hash map hashmap string non serializable nonserializable key non serializable nonserializable set attribute setattribute nested non serializable key nestednonserializablekey set attribute setattribute serializable key serializablekey serializable value serializablevalue set attribute setattribute non serializable key nonserializablekey non serializable nonserializable standard session standardsession serialize then deserialize serializethendeserialize assert null assertnull get attribute getattribute nested non serializable key nestednonserializablekey assert null assertnull get attribute getattribute non serializable key nonserializablekey assert equals assertequals serializable value serializablevalue get attribute getattribute serializable key serializablekey standard session standardsession serialize then deserialize serializethendeserialize standard session standardsession source io exception ioexception class not found exception classnotfoundexception byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream object output stream objectoutputstream oos object output stream objectoutputstream baos source write object data writeobjectdata oos standard session standardsession dest standard session standardsession test manager byte array input stream bytearrayinputstream bais byte array input stream bytearrayinputstream baos to byte array tobytearray object input stream objectinputstream ois object input stream objectinputstream bais dest read object data readobjectdata ois dest validate same validatesame standard session standardsession standard session standardsession expected count expectedcount count enumeration string names get attribute names getattributenames names has more elements hasmoreelements count string names next element nextelement object get attribute getattribute object get attribute getattribute assert equals assertequals assert equals assertequals expected count expectedcount count non serializable nonserializable
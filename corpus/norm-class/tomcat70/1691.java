licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes group int erceptors interceptors java util array list arraylist org junit assert equals assertequals org junit org junit org junit test org apache catalina tribes channel org apache catalina tribes managed channel managedchannel org apache catalina tribes member org apache catalina tribes member ship listener membershiplistener org apache catalina tribes group group channel groupchannel org apache catalina tribes util uuid generator uuidgenerator test domain filter interceptor testdomainfilterinterceptor count managed channel managedchannel channels managed channel managedchannel count test mbr listener testmbrlistener listeners test mbr listener testmbrlistener count set up setup exception channels length channels group channel groupchannel channels get member ship service getmembershipservice set payload setpayload channel get bytes getbytes ascii listeners test mbr listener testmbrlistener listener channels add member ship listener addmembershiplistener listeners domain filter interceptor domainfilterinterceptor filter domain filter interceptor domainfilterinterceptor filter set domain setdomain uuid generator uuidgenerator randomuuid channels add interceptor addinterceptor filter clear channels length listeners members clear test test member arr ival testmemberarrival exception purpose test received members expect start method returns thread threads thread channels length channels length channel channel channels thread thread override channel start channel exception runtime exception runtimeexception threads threads length threads start threads length threads join system println channels started listeners length assert equals assertequals checking member arr ival arrival length listeners members size tear down teardown exception channels length channels channel exception ignore test mbr listener testmbrlistener member ship listener membershiplistener string test mbr listener testmbrlistener string array list arraylist member members array list arraylist member override member added memberadded member member members member members add member system println member string member get payload getpayload ascii thread thread current thread currentthread get name getname exception system println member unknown override member disappeared memberdisappeared member member members member members remove member system println member disappeared string member get payload getpayload ascii thread thread current thread currentthread get name getname exception system println member disappeared unknown
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes group java util array list arraylist org junit assert equals assertequals org junit org junit org junit test org apache catalina tribes channel org apache catalina tribes managed channel managedchannel org apache catalina tribes member org apache catalina tribes member ship listener membershiplistener org apache catalina tribes tester util testerutil test group channel member arr ival testgroupchannelmemberarrival count managed channel managedchannel channels managed channel managedchannel count test mbr listener testmbrlistener listeners test mbr listener testmbrlistener count set up setup exception channels length channels group channel groupchannel channels get member ship service getmembershipservice set payload setpayload channel get bytes getbytes ascii listeners test mbr listener testmbrlistener listener channels add member ship listener addmembershiplistener listeners tester util testerutil add random domain addrandomdomain channels test test member arr ival testmemberarrival exception purpose test received members expect start method returns thread threads thread channels length channels length channel channel channels thread thread override channel start channel exception runtime exception runtimeexception threads threads length threads start threads length threads join thread sleep system println system current time millis currenttimemillis channels started listeners length test mbr listener testmbrlistener listener listeners listener members assert equals assertequals checking member arr ival arrival length listener channels length listener members size system println system current time millis currenttimemillis members arr ival arrival counts checked tear down teardown exception channels length channels channel exception ignore test mbr listener testmbrlistener member ship listener membershiplistener string test mbr listener testmbrlistener string array list arraylist member members array list arraylist member override member added memberadded member member string msg count members members member members add member msg member msg member called member list count members size report msg member count override member disappeared memberdisappeared member member string msg count members members member members remove member msg member disappeared msg member disappeared called member list count members size report msg member count report string event member member count string builder stringbuilder message string builder stringbuilder message append system current time millis currenttimemillis message append message append message append message append event message append message append count message append members member message append host append byte array to string appendbytearraytostring message member get host gethost message append port message append member get port getport message append append byte array to string appendbytearraytostring message member get unique id getuniqueid message append payload message append string member get payload getpayload ascii exception message append unknown thread thread current thread currentthread message append thread append get name getname append hash append hash code hashcode system println message append byte array to string appendbytearraytostring string builder stringbuilder input input append input length append append input xff
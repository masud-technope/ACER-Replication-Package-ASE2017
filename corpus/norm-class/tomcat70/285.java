licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license javax java lang weak reference weakreference java lang reflect array java lang reflect constructor java lang reflect method java lang reflect modifier java text message format messageformat java util array list arraylist java util hash map hashmap java util list java util locale java util map java util missing resource exception missingresourceexception java util resource bundle resourcebundle java util java util concurrent concurrent hash map concurrenthashmap java util concurrent concurrent map concurrentmap java util concurrent locks lock java util concurrent locks read write lock readwritelock java util concurrent locks reentrant read write lock reentrantreadwritelock util checks supplied throwable ret hrown rethrown swallows param throwable check handle throwable handlethrowable throwable thread death threaddeath thread death threaddeath virtual machine error virtualmachineerror virtual machine error virtualmachineerror instances throwable silently swallowed string message el context elcontext context string object props locale locale context locale context get locale getlocale locale locale locale get default getdefault locale resource bundle resourcebundle bundle resource bundle resourcebundle get bundle getbundle javax local strings localstrings locale string template bundle get string getstring props template message format messageformat format template props template missing resource exception missingresourceexception missing resource locale locale get display name getdisplayname cache value cachevalue null tccl factory nulltcclfactory cache value cachevalue concurrent map concurrentmap cache key cachekey cache value cachevalue factory cache factorycache concurrent hash map concurrenthashmap cache key cachekey cache value cachevalue loader cache expression factory expressionfactory instances pinning memory trigger memory leak expression factory expressionfactory get expression factory getexpressionfactory class loader classloader tccl thread current thread currentthread get context class loader getcontextclassloader cache value cachevalue cache value cachevalue expression factory expressionfactory factory tccl cache value cachevalue null tccl factory nulltcclfactory cache key cachekey key cache key cachekey tccl cache value cachevalue factory cache factorycache key cache value cachevalue cache value cachevalue new cache value newcachevalue cache value cachevalue cache value cachevalue factory cache factorycache put if absent putifabsent key new cache value newcachevalue cache value cachevalue cache value cachevalue new cache value newcachevalue lock read lock readlock cache value cachevalue get lock getlock read lock readlock read lock readlock lock factory cache value cachevalue get expression factory getexpressionfactory read lock readlock unlock factory lock write lock writelock cache value cachevalue get lock getlock write lock writelock write lock writelock lock factory cache value cachevalue get expression factory getexpressionfactory factory factory expression factory expressionfactory new instance newinstance cache value cachevalue set expression factory setexpressionfactory factory write lock writelock unlock factory key cache expression factory expressionfactory loader loader reference code code tccl handled sep arately separately cache key cachekey hash weak reference weakreference class loader classloader cache key cachekey class loader classloader key hash key hash code hashcode weak reference weakreference class loader classloader key override hash code hashcode hash override equals object obj obj obj cache key cachekey class loader classloader this key thiskey this key thiskey this key thiskey cache key cachekey obj cache value cachevalue read write lock readwritelock lock reentrant read write lock reentrantreadwritelock weak reference weakreference expression factory expressionfactory cache value cachevalue read write lock readwritelock get lock getlock lock expression factory expressionfactory get expression factory getexpressionfactory set expression factory setexpressionfactory expression factory expressionfactory factory weak reference weakreference expression factory expressionfactory factory method duplicates code org apache util reflection util reflectionutil making code sync method find method findmethod clazz string method name methodname param types paramtypes object param values paramvalues clazz method name methodname method not found exception methodnotfoundexception message util method not found notfound clazz method name methodname param string paramstring param types paramtypes param types paramtypes param types paramtypes get types from values gettypesfromvalues param values paramvalues method methods clazz get methods getmethods list wrapper wrappers wrapper wrap methods method name methodname wrapper result find wrapper findwrapper clazz wrappers method name methodname param types paramtypes param values paramvalues result get method getmethod clazz method result un wrap unwrap method duplicates code org apache util reflection util reflectionutil making code sync suppress warnings suppresswarnings wrapper find wrapper findwrapper clazz list wrapper wrappers string param types paramtypes object param values paramvalues map wrapper match result matchresult candidates hash map hashmap wrapper match result matchresult param count paramcount param types paramtypes param count paramcount param count paramcount param types paramtypes length wrapper wrappers m param types mparamtypes get parameter types getparametertypes m param count mparamcount m param types mparamtypes m param count mparamcount m param count mparamcount m param types mparamtypes length check number parameters param count paramcount m param count mparamcount is var args isvarargs param count paramcount m param count mparamcount method wrong number parameters check parameters match exact match exactmatch assignable match assignablematch coercible match coerciblematch no match nomatch m param count mparamcount m param types mparamtypes equals param types paramtypes exact match exactmatch m param count mparamcount is var args isvarargs var type vartype m param types mparamtypes get component type getcomponenttype param count paramcount is assignable from isassignablefrom param types paramtypes var type vartype assignable match assignablematch param values paramvalues no match nomatch is coercible from iscoerciblefrom param values paramvalues var type vartype coercible match coerciblematch no match nomatch don treat var args varargs match exact match lead var args varargs method matching result ambiguous is assignable from isassignablefrom param types paramtypes m param types mparamtypes assignable match assignablematch param values paramvalues no match nomatch is coercible from iscoerciblefrom param values paramvalues m param types mparamtypes coercible match coerciblematch no match nomatch no match nomatch exact match exactmatch param count paramcount candidates match result matchresult exact match exactmatch assignable match assignablematch coercible match coerciblematch is bridge isbridge method highest number parameters type matches match result matchresult best match bestmatch match result matchresult wrapper match multiple map entry wrapper match result matchresult entry candidates entry set entryset cmp entry get value getvalue compare to compareto best match bestmatch cmp match best match bestmatch entry get value getvalue match entry get key getkey multiple cmp multiple multiple best match bestmatch get exact getexact param count paramcount parameter exact match match resolve ambiguous wrapper resolveambiguouswrapper candidates key set keyset param types paramtypes match match match ambiguous exception method not found exception methodnotfoundexception message util method ambiguous clazz param string paramstring param types paramtypes handle match match method not found exception methodnotfoundexception message util method not found notfound clazz param string paramstring param types paramtypes match string param string paramstring types types string builder stringbuilder string builder stringbuilder types length types append append types get name getname append length set length setlength length to string tostring method duplicates code org apache util reflection util reflectionutil making code sync wrapper resolve ambiguous wrapper resolveambiguouswrapper wrapper candidates param types paramtypes identify parameter isn exact match wrapper candidates iterator non match index nonmatchindex non match class nonmatchclass param types paramtypes length get parameter types getparametertypes param types paramtypes non match index nonmatchindex non match class nonmatchclass param types paramtypes non match class nonmatchclass ambiguous wrapper candidates get parameter types getparametertypes non match index nonmatchindex param types paramtypes non match index nonmatchindex result ambiguous super class superclass non match class nonmatchclass get superclass getsuperclass super class superclass wrapper candidates get parameter types getparametertypes non match index nonmatchindex equals super class superclass match super class superclass super class superclass get superclass getsuperclass treat instances number special wrapper match number is assignable from isassignablefrom non match class nonmatchclass wrapper candidates candidate type candidatetype get parameter types getparametertypes non match index nonmatchindex number is assignable from isassignablefrom candidate type candidatetype candidate type candidatetype is primitive isprimitive match match match ambiguous match match method duplicates code org apache util reflection util reflectionutil making code sync is assignable from isassignablefrom src target coerce d coerced valid primitive src target class targetclass target is primitive isprimitive target type target class targetclass target character type target class targetclass character target type target class targetclass target type target class targetclass target integer type target class targetclass integer target type target class targetclass target type target class targetclass target class targetclass target class targetclass target target class targetclass is assignable from isassignablefrom src method duplicates code org apache util reflection util reflectionutil making code sync is coercible from iscoerciblefrom object src target required avoid exception get expression factory getexpressionfactory coerce to type coercetotype src target el exception elexception get types from values gettypesfromvalues object values values result values length values length values result result values get class getclass result method duplicates code org apache util reflection util reflectionutil making code sync method get method getmethod type method modifier is public ispublic type get modifiers getmodifiers inf type get interfaces getinterfaces method inf length inf get method getmethod get name getname get parameter types getparametertypes get method getmethod get declaring class getdeclaringclass no such method exception nosuchmethodexception type get superclass getsuperclass get method getmethod get name getname get parameter types getparametertypes get method getmethod get declaring class getdeclaringclass no such method exception nosuchmethodexception constructor find constructor findconstructor clazz param types paramtypes object param values paramvalues string method name methodname init clazz method not found exception methodnotfoundexception message util method not found notfound clazz method name methodname param string paramstring param types paramtypes param types paramtypes param types paramtypes get types from values gettypesfromvalues param values paramvalues constructor constructors clazz get constructors getconstructors list wrapper wrappers wrapper wrap constructors wrapper result find wrapper findwrapper clazz wrappers method name methodname param types paramtypes param values paramvalues result get constructor getconstructor clazz constructor result un wrap unwrap constructor get constructor getconstructor type constructor modifier is public ispublic type get modifiers getmodifiers constructor type get superclass getsuperclass get constructor getconstructor get parameter types getparametertypes get constructor getconstructor get declaring class getdeclaringclass no such method exception nosuchmethodexception object build parameters buildparameters parameter types parametertypes is var args isvarargs object params expression factory expressionfactory factory get expression factory getexpressionfactory object parameters parameter types parametertypes length parameters object parameter types parametertypes length param count paramcount params length is var args isvarargs var arg index varargindex parameter types parametertypes length arg count argcount parameters standard var arg index varargindex parameters factory coerce to type coercetotype params parameter types parametertypes parameter varargs var arg class varargclass parameter types parametertypes var arg index varargindex get component type getcomponenttype object varargs array new instance newinstance var arg class varargclass param count paramcount var arg index varargindex var arg index varargindex param count paramcount array varargs var arg index varargindex factory coerce to type coercetotype params var arg class varargclass parameters var arg index varargindex varargs parameters object parameter types parametertypes length parameter types parametertypes length parameters factory coerce to type coercetotype params parameter types parametertypes parameters wrapper list wrapper wrap method methods string list wrapper result array list arraylist wrapper method method methods method get name getname equals result add method wrapper methodwrapper method result list wrapper wrap constructor constructors list wrapper result array list arraylist wrapper constructor constructor constructors result add constructor wrapper constructorwrapper constructor result object un wrap unwrap get parameter types getparametertypes is var args isvarargs is bridge isbridge method wrapper methodwrapper wrapper method method wrapper methodwrapper method override object un wrap unwrap override get parameter types getparametertypes get parameter types getparametertypes override is var args isvarargs is var args isvarargs override is bridge isbridge is bridge isbridge constructor wrapper constructorwrapper wrapper constructor constructor wrapper constructorwrapper constructor override object un wrap unwrap override get parameter types getparametertypes get parameter types getparametertypes override is var args isvarargs is var args isvarargs override is bridge isbridge duplicates code org apache util reflection util reflectionutil making code sync match result matchresult comparable match result matchresult exact assignable coercible bridge match result matchresult exact assignable coercible bridge exact exact assignable assignable coercible coercible bridge bridge get exact getexact exact get assignable getassignable assignable get coercible getcoercible coercible is bridge isbridge bridge override compare to compareto match result matchresult get exact getexact get exact getexact get exact getexact get exact getexact get assignable getassignable get assignable getassignable get assignable getassignable get assignable getassignable get coercible getcoercible get coercible getcoercible get coercible getcoercible get coercible getcoercible is bridge isbridge is bridge isbridge is bridge isbridge is bridge isbridge
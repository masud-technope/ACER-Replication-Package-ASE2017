licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache naming javax naming context javax naming naming exception namingexception org junit org junit test org apache catalina deploy context environment contextenvironment org apache catalina deploy context resource link contextresourcelink org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache naming factory resource link factory resourcelinkfactory test naming context testnamingcontext tomcat base test tomcatbasetest string comp env comp env string global global string local local string data cabbage test test global naming testglobalnaming exception tomcat tomcat get tomcat instance gettomcatinstance tomcat enable naming enablenaming org apache catalina context ctx tomcat add context addcontext tomcat start context webapp initial webappinitial context bindings contextbindings get context getcontext ctx moment object obj do lookup dolookup webapp initial webappinitial comp env local assert null assertnull obj context environment contextenvironment context environment contextenvironment set name setname global set value setvalue data set type settype data get class getclass get name getname tomcat get server getserver get global naming resources getglobalnamingresources add environment addenvironment link obj do lookup dolookup webapp initial webappinitial comp env local assert null assertnull obj add resource link context context resource link contextresourcelink crl context resource link contextresourcelink crl set global setglobal global crl set name setname local crl set type settype data get class getclass get name getname ctx get naming resources getnamingresources add resource link addresourcelink crl link exists obj do lookup dolookup webapp initial webappinitial comp env local assert equals assertequals data obj short cut shortcut resource link factory resourcelinkfactory factory resource link factory resourcelinkfactory resource link ref resourcelinkref rlr resource link ref resourcelinkref data get class getclass get name getname global obj factory get object instance getobjectinstance rlr assert equals assertequals data obj remove link ctx get naming resources getnamingresources remove resource link removeresourcelink local link obj do lookup dolookup webapp initial webappinitial comp env local assert null assertnull obj shortcut fail obj factory get object instance getobjectinstance rlr assert null assertnull obj object do lookup dolookup context context string object result result context lookup naming exception namingexception nnfe result
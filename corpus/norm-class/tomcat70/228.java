licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina context java file java io exception ioexception javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org junit org junit test org apache catalina context org apache catalina host org apache catalina lifecycle exception lifecycleexception org apache catalina core standard host standardhost org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache tomcat util buf byte chunk bytechunk test replicated context testreplicatedcontext tomcat base test tomcatbasetest test test bug testbug lifecycle exception lifecycleexception io exception ioexception tomcat tomcat get tomcat instance gettomcatinstance host host tomcat get host gethost host standard host standardhost standard host standardhost host set context class setcontextclass replicated context replicatedcontext get name getname file root file test webapp context context tomcat add webapp addwebapp host root get absolute path getabsolutepath tomcat add servlet addservlet context test access context servlet accesscontextservlet context add servlet mapping addservletmapping access test tomcat start byte chunk bytechunk result get url geturl http localhost get port getport access assert equals assertequals result to string tostring access context servlet accesscontextservlet http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception get servlet context getservletcontext set attribute setattribute resp get writer getwriter print
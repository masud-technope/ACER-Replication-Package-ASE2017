licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache java util array list arraylist java util collections java util hash map hashmap java util list java util map javax el context elcontext javax expression factory expressionfactory javax value expression valueexpression javax value reference valuereference org junit assert equals assertequals org junit assert not null assertnotnull org junit test org apache jasper el context impl elcontextimpl test value expression impl testvalueexpressionimpl test test get value reference testgetvaluereference expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl tester bean b testerbeanb bean b beanb tester bean b testerbeanb bean b beanb set name setname tomcat value expression valueexpression factory create value expression createvalueexpression bean b beanb tester bean b testerbeanb context get variable mapper getvariablemapper set variable setvariable bean b beanb value expression valueexpression factory create value expression createvalueexpression context bean b beanb string check basics work string result string get value getvalue context assert equals assertequals tomcat result check reference value reference valuereference get value reference getvaluereference context assert not null assertnotnull assert equals assertequals bean b beanb get base getbase assert equals assertequals get property getproperty test test get value reference variable testgetvaluereferencevariable expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl tester bean b testerbeanb bean b beanb tester bean b testerbeanb bean b beanb set name setname tomcat value expression valueexpression factory create value expression createvalueexpression bean b beanb tester bean b testerbeanb context get variable mapper getvariablemapper set variable setvariable bean b beanb value expression valueexpression factory create value expression createvalueexpression context bean b beanb string context get variable mapper getvariablemapper set variable setvariable foo value expression valueexpression factory create value expression createvalueexpression context foo value expression valueexpression check reference value reference valuereference get value reference getvaluereference context assert not null assertnotnull assert equals assertequals bean b beanb get base getbase assert equals assertequals get property getproperty test test bug testbug expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl tester bean a testerbeana bean a beana tester bean a testerbeana tester bean b testerbeanb bean b beanb tester bean b testerbeanb bean b beanb set name setname tomcat bean a beana set bean setbean bean b beanb value expression valueexpression factory create value expression createvalueexpression bean a beana tester bean a testerbeana context get variable mapper getvariablemapper set variable setvariable bean a beana value expression valueexpression factory create value expression createvalueexpression context bean a beana bean string check basics work string result string get value getvalue context assert equals assertequals tomcat result check reference value reference valuereference get value reference getvaluereference context assert not null assertnotnull assert equals assertequals bean b beanb get base getbase assert equals assertequals get property getproperty test test bug testbug expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl tester enum testerenum test enum testenum tester enum testerenum apple value expression valueexpression factory create value expression createvalueexpression test enum testenum tester enum testerenum context get variable mapper getvariablemapper set variable setvariable test enum testenum coercing enum string value expression valueexpression factory create value expression createvalueexpression context test enum testenum string string result string get value getvalue context assert equals assertequals apple result value expression valueexpression factory create value expression createvalueexpression context foo test enum testenum bar string string result string get value getvalue context assert equals assertequals fooapplebar result test test bug testbug object map objectmap expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl object string object integer value of valueof map object object map hash map hashmap object object map key map key value expression valueexpression factory create value expression createvalueexpression map map context get variable mapper getvariablemapper set variable setvariable map value expression valueexpression factory create value expression createvalueexpression context map key object set value setvalue context assert equals assertequals get value getvalue context value expression valueexpression factory create value expression createvalueexpression context map key object set value setvalue context assert equals assertequals get value getvalue context test test bug testbug object list objectlist expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl object string object integer value of valueof list object list array list arraylist object list add list add value expression valueexpression factory create value expression createvalueexpression list list context get variable mapper getvariablemapper set variable setvariable list value expression valueexpression factory create value expression createvalueexpression context list object set value setvalue context assert equals assertequals get value getvalue context value expression valueexpression factory create value expression createvalueexpression context list object set value setvalue context assert equals assertequals get value getvalue context test returning empty list bean property test test bug testbug bean exception expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl tester bean a testerbeana bean a beana tester bean a testerbeana bean a beana set val list setvallist collections empty list emptylist value expression valueexpression factory create value expression createvalueexpression bean a beana tester bean a testerbeana context get variable mapper getvariablemapper set variable setvariable bean a beana value expression valueexpression factory create value expression createvalueexpression context bean a beana val list vallist size integer integer result integer get value getvalue context assert equals assertequals integer value of valueof result test list variable test test bug testbug direct exception expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl list list collections empty list emptylist value expression valueexpression factory create value expression createvalueexpression list list context get variable mapper getvariablemapper set variable setvariable list value expression valueexpression factory create value expression createvalueexpression context list size integer integer result integer get value getvalue context assert equals assertequals integer value of valueof result
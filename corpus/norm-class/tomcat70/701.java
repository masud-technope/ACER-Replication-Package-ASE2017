licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket server java lang reflect modifier java util hash set hashset java util javax servlet servlet container initializer servletcontainerinitializer javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet annotation handles types handlestypes javax websocket container provider containerprovider javax websocket deployment exception deploymentexception javax websocket endpoint javax websocket server server application config serverapplicationconfig javax websocket server server endpoint serverendpoint javax websocket server server endpoint config serverendpointconfig org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util res string manager stringmanager registers int erest interest annotated link server endpoint serverendpoint endpoint published web socket websocket server handles types handlestypes server endpoint serverendpoint server application config serverapplicationconfig endpoint ws sci wssci servlet container initializer servletcontainerinitializer log message written logmessagewritten log log log factory logfactory get log getlog ws sci wssci string manager stringmanager string manager stringmanager get manager getmanager constants override on startup onstartup clazzes servlet context servletcontext ctx servlet exception servletexception is java isjava or later orlater java log message written logmessagewritten log message written logmessagewritten log info get string getstring sci no web socket support nowebsocketsupport ws server container wsservercontainer init ctx clazzes clazzes size group discovered classes type server application config serverapplicationconfig server application configs serverapplicationconfigs hash set hashset server application config serverapplicationconfig endpoint scanned endpoint clazzes scannedendpointclazzes hash set hashset endpoint scanned pojo end points scannedpojoendpoints hash set hashset ws package wspackage javax websocket string ws package wspackage container provider containerprovider get name getname ws package wspackage ws package wspackage substring ws package wspackage last index of lastindexof clazz clazzes modifiers clazz get modifiers getmodifiers modifier is public ispublic modifiers modifier is abstract isabstract modifiers skip protect scanning web socket websocket api jar s jars clazz get name getname starts with startswith ws package wspackage server application config serverapplicationconfig is assignable from isassignablefrom clazz server application configs serverapplicationconfigs add server application config serverapplicationconfig clazz new instance newinstance endpoint is assignable from isassignablefrom clazz suppress warnings suppresswarnings unchecked endpoint endpoint endpoint clazz scanned endpoint clazzes scannedendpointclazzes add endpoint clazz is annotation present isannotationpresent server endpoint serverendpoint scanned pojo end points scannedpojoendpoints add clazz instantiation exception instantiationexception servlet exception servletexception illegal access exception illegalaccessexception servlet exception servletexception filter server endpoint config serverendpointconfig filtered endpoint configs filteredendpointconfigs hash set hashset server endpoint config serverendpointconfig filtered pojo end points filteredpojoendpoints hash set hashset server application configs serverapplicationconfigs is empty isempty filtered pojo end points filteredpojoendpoints add all addall scanned pojo end points scannedpojoendpoints server application config serverapplicationconfig config server application configs serverapplicationconfigs server endpoint config serverendpointconfig config filtered end points configfilteredendpoints config get endpoint configs getendpointconfigs scanned endpoint clazzes scannedendpointclazzes config filtered end points configfilteredendpoints filtered endpoint configs filteredendpointconfigs add all addall config filtered end points configfilteredendpoints config filtered pojos configfilteredpojos config get annotated endpoint classes getannotatedendpointclasses scanned pojo end points scannedpojoendpoints config filtered pojos configfilteredpojos filtered pojo end points filteredpojoendpoints add all addall config filtered pojos configfilteredpojos deploy end points endpoints server endpoint config serverendpointconfig config filtered endpoint configs filteredendpointconfigs add endpoint addendpoint config deploy pojo s pojos clazz filtered pojo end points filteredpojoendpoints add endpoint addendpoint clazz deployment exception deploymentexception servlet exception servletexception ws server container wsservercontainer init servlet context servletcontext servlet context servletcontext init by sci mechanism initbyscimechanism ws server container wsservercontainer ws server container wsservercontainer servlet context servletcontext servlet context servletcontext set attribute setattribute constants server container servlet context attribute servlet context servletcontext add listener addlistener ws session listener wssessionlistener calling method init by sci mechanism initbyscimechanism servlet context servletcontext add listener addlistener ws context listener wscontextlistener is java isjava or later orlater for name forname java nio channels async hronous socket channel asynchronoussocketchannel class not found exception classnotfoundexception
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes test channel java serializable java util arrays java util random org junit assert equals assertequals org junit org junit org junit test org apache catalina tribes channel org apache catalina tribes channel listener channellistener org apache catalina tribes managed channel managedchannel org apache catalina tribes member org apache catalina tribes tester util testerutil org apache catalina tribes group group channel groupchannel org apache catalina tribes group int erceptors interceptors message dispatch messagedispatch interceptor title description comp any company author attr ibutable attributable version test data int egrity testdataintegrity msg count msgcount thread count threadcount group channel groupchannel channel group channel groupchannel channel listener listener set up setup exception channel group channel groupchannel channel add interceptor addinterceptor message dispatch messagedispatch interceptor channel group channel groupchannel channel add interceptor addinterceptor message dispatch messagedispatch interceptor listener listener channel add channel listener addchannellistener listener tester util testerutil add random domain addrandomdomain managed channel managedchannel channel channel channel start channel channel start channel tear down teardown exception channel channel channel channel test test data send o testdatasendno ack exception system err println starting ack thread threads thread thread count threadcount threads length threads thread override start system current time millis currenttimemillis msg count msgcount channel send member channel get local member getlocalmember data create random data createrandomdata system println thread get name getname msg count msgcount messages system current time millis currenttimemillis start exception print stack trace printstacktrace threads length threads start threads length threads join sleep messages start system current time millis currenttimemillis system current time millis currenttimemillis start msg count msgcount thread count threadcount listener count thread sleep system err println finished ack listener count assert equals assertequals checking success messages msg count msgcount thread count threadcount listener count test testdatasendasyncm exception system err println starting async multi thread thread threads thread thread count threadcount threads length threads thread override start system current time millis currenttimemillis msg count msgcount channel send member channel get local member getlocalmember data create random data createrandomdata channel send options asynchronous system println thread get name getname msg count msgcount messages system current time millis currenttimemillis start exception print stack trace printstacktrace threads length threads start threads length threads join sleep messages start system current time millis currenttimemillis system current time millis currenttimemillis start msg count msgcount thread count threadcount listener count thread sleep system err println finished async multi thread listener count assert equals assertequals checking success messages msg count msgcount thread count threadcount listener count test testdatasendasync exception system err println starting async msg count msgcount channel send member channel get local member getlocalmember data create random data createrandomdata channel send options asynchronous sleep messages start system current time millis currenttimemillis system current time millis currenttimemillis start msg count msgcount listener count thread sleep system err println finished async assert equals assertequals checking success messages msg count msgcount listener count test test data send k testdatasendack exception system err println starting ack msg count msgcount channel send member channel get local member getlocalmember data create random data createrandomdata channel send options ack thread sleep system err println finished ack assert equals assertequals checking success messages msg count msgcount listener count test testdatasendsyncack exception system err println starting sync ack msg count msgcount channel send member channel get local member getlocalmember data create random data createrandomdata channel send options ack channel send options ack thread sleep system err println finished sync ack assert equals assertequals checking success messages msg count msgcount listener count listener channel listener channellistener count override accept serializable member data override message received messagereceived serializable member data data data verify system err println error count count system err println success count data serializable serialversionuid length data key random random data create random data createrandomdata next int nextint length math abs next int nextint data data length length key data length arrays fill data key verify data result length data length result data length result result data key result
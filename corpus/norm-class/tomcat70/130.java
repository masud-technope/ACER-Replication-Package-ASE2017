licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http upgrade java eof exception eofexception java io exception ioexception java nio byte buffer bytebuffer java nio channels selector org apache tomcat util net nio channel niochannel org apache tomcat util net nio endpoint nioendpoint org apache tomcat util net nio selector pool nioselectorpool org apache tomcat util net socket wrapper socketwrapper nio servlet input stream nioservletinputstream abstract servlet input stream abstractservletinputstream nio channel niochannel channel nio selector pool nioselectorpool pool nio servlet input stream nioservletinputstream socket wrapper socketwrapper nio channel niochannel wrapper nio selector pool nioselectorpool pool channel wrapper get socket getsocket pool pool override do is ready doisready io exception ioexception byte buffer bytebuffer read buffer readbuffer channel get buf handler getbufhandler get read buffer getreadbuffer read buffer readbuffer remaining read buffer readbuffer clear fill read buffer fillreadbuffer is ready isready read buffer readbuffer position read buffer readbuffer flip is ready isready override do read doread block len io exception ioexception byte buffer bytebuffer read buffer readbuffer channel get buf handler getbufhandler get read buffer getreadbuffer remaining read buffer readbuffer remaining data read buffer satisfy request remaining len read buffer readbuffer len len copy data read buffer array left to write lefttowrite len new offset newoffset remaining read buffer readbuffer remaining left to write lefttowrite remaining new offset newoffset remaining fill read buffer read buffer readbuffer clear n read nread fill read buffer fillreadbuffer block read n read nread read buffer readbuffer flip n read nread left to write lefttowrite read buffer readbuffer new offset newoffset left to write lefttowrite left to write lefttowrite read buffer readbuffer new offset newoffset n read nread left to write lefttowrite n read nread n read nread read buffer readbuffer flip n read nread todo eof exception eofexception len left to write lefttowrite override do close doclose io exception ioexception channel close fill read buffer fillreadbuffer block io exception ioexception n read nread block selector selector selector pool io exception ioexception nio endpoint nioendpoint key attachment keyattachment att nio endpoint nioendpoint key attachment keyattachment channel get attachment getattachment att io exception ioexception key cancelled n read nread pool read channel get buf handler getbufhandler get read buffer getreadbuffer channel selector att get timeout gettimeout eof exception eofexception eof n read nread selector pool selector n read nread channel read channel get buf handler getbufhandler get read buffer getreadbuffer n read nread
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper compiler java buffered output stream bufferedoutputstream java buffered reader bufferedreader java byte array output stream bytearrayoutputstream java file java file input stream fileinputstream java file not found exception filenotfoundexception java file output stream fileoutputstream java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java reader java util array list arraylist java util hash map hashmap java util locale java util map java util string tokenizer stringtokenizer org apache jasper jasper exception jasperexception org apache juli logging log org apache juli logging log factory logfactory org eclipse jdt core compiler i problem iproblem org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler compiler org eclipse jdt internal compiler default error handling policies defaulterrorhandlingpolicies org eclipse jdt internal compiler i compiler requestor icompilerrequestor org eclipse jdt internal compiler i error handling policy ierrorhandlingpolicy org eclipse jdt internal compiler i problem factory iproblemfactory org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler env i compilation unit icompilationunit org eclipse jdt internal compiler env i name environment inameenvironment org eclipse jdt internal compiler env name environment answer nameenvironmentanswer org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler problem default problem factory defaultproblemfactory jdt compiler compiler load source dependencies context class loader classloader reducing dramatically disk access compilation process author cocoon author remy maucherat jdt compiler jdtcompiler org apache jasper compiler compiler log log log factory logfactory get log getlog jdt compiler jdtcompiler compile servlet java file file override generate class generateclass string smap file not found exception filenotfoundexception jasper exception jasperexception exception log is debug enabled isdebugenabled system current time millis currenttimemillis string source file sourcefile ctxt get servlet java file name getservletjavafilename string output dir outputdir ctxt get options getoptions get scratch dir getscratchdir get absolute path getabsolutepath string package name packagename ctxt get servlet package name getservletpackagename string target class name targetclassname package name packagename length package name packagename ctxt get servlet class name getservletclassname class loader classloader class loader classloader ctxt get jsp loader getjsploader string file names filenames string source file sourcefile string class names classnames string target class name targetclassname array list arraylist javac error detail javacerrordetail problem list problemlist array list arraylist javac error detail javacerrordetail compilation unit compilationunit i compilation unit icompilationunit string class name classname string source file sourcefile compilation unit compilationunit string source file sourcefile string class name classname class name classname class name classname source file sourcefile source file sourcefile override get file name getfilename source file sourcefile to char array tochararray override get contents getcontents result file input stream fileinputstream input stream reader inputstreamreader isr reader reader file input stream fileinputstream source file sourcefile isr input stream reader inputstreamreader ctxt get options getoptions get java encoding getjavaencoding reader buffered reader bufferedreader isr chars string builder stringbuilder buf string builder stringbuilder count count reader read chars chars length buf append chars count result buf length buf get chars getchars result length result io exception ioexception log error compilation error reader reader close io exception ioexception ioe isr isr close io exception ioexception ioe close io exception ioexception exc result override get main type name getmaintypename dot class name classname last index of lastindexof dot class name classname substring dot to char array tochararray class name classname to char array tochararray override get package name getpackagename string tokenizer stringtokenizer izer string tokenizer stringtokenizer class name classname result izer count tokens counttokens result length string tok izer next token nexttoken result tok to char array tochararray result override ignore optional problems ignoreoptionalproblems i name environment inameenvironment env i name environment inameenvironment override name environment answer nameenvironmentanswer find type findtype compound type name compoundtypename string builder stringbuilder result string builder stringbuilder string sep compound type name compoundtypename length result append sep result append compound type name compoundtypename sep find type findtype result to string tostring override name environment answer nameenvironmentanswer find type findtype type name typename package name packagename string builder stringbuilder result string builder stringbuilder string sep package name packagename length result append sep result append package name packagename sep result append sep result append type name typename find type findtype result to string tostring name environment answer nameenvironmentanswer find type findtype string class name classname input stream inputstream class name classname equals target class name targetclassname i compilation unit icompilationunit compilation unit compilationunit compilation unit compilationunit source file sourcefile class name classname name environment answer nameenvironmentanswer compilation unit compilationunit string resource name resourcename class name classname replace class loader classloader get resource as stream getresourceasstream resource name resourcename class bytes classbytes buf byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream buf length count count read buf buf length baos write buf count baos flush class bytes classbytes baos to byte array tobytearray file name filename class name classname to char array tochararray class file reader classfilereader class file reader classfilereader class file reader classfilereader class bytes classbytes file name filename name environment answer nameenvironmentanswer class file reader classfilereader io exception ioexception exc log error compilation error exc org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception exc log error compilation error exc close io exception ioexception exc is package ispackage string result result equals target class name targetclassname string resource name resourcename result replace input stream inputstream class loader classloader get resource as stream getresourceasstream resource name resourcename close io exception ioexception override is package ispackage parent package name parentpackagename package name packagename string builder stringbuilder result string builder stringbuilder string sep parent package name parentpackagename parent package name parentpackagename length result append sep result append parent package name parentpackagename sep character is upper case isuppercase package name packagename is package ispackage result to string tostring result append sep result append package name packagename is package ispackage result to string tostring override cleanup i error handling policy ierrorhandlingpolicy policy default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems map string string settings hash map hashmap string string settings compiler options compileroptions option line number attribute linenumberattribute compiler options compileroptions generate settings compiler options compileroptions option source file attribute sourcefileattribute compiler options compileroptions generate settings compiler options compileroptions option report deprecation reportdeprecation compiler options compileroptions ignore ctxt get options getoptions get java encoding getjavaencoding settings compiler options compileroptions option encoding ctxt get options getoptions get java encoding getjavaencoding ctxt get options getoptions get class debug info getclassdebuginfo settings compiler options compileroptions option local variable attribute localvariableattribute compiler options compileroptions generate source jvm ctxt get options getoptions get compiler source m getcompilersourcevm string opt ctxt get options getoptions get compiler source m getcompilersourcevm opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version opt equals settings compiler options compileroptions option source compiler options compileroptions version log warn unknown source opt settings compiler options compileroptions option source compiler options compileroptions version settings compiler options compileroptions option source compiler options compileroptions version target jvm ctxt get options getoptions get compiler target m getcompilertargetvm string opt ctxt get options getoptions get compiler target m getcompilertargetvm opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version settings compiler options compileroptions option compliance compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version settings compiler options compileroptions option compliance compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version settings compiler options compileroptions option compliance compiler options compileroptions version opt equals settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version settings compiler options compileroptions option compliance compiler options compileroptions version log warn unknown target opt settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version settings compiler options compileroptions option target platform targetplatform compiler options compileroptions version settings compiler options compileroptions option compliance compiler options compileroptions version i problem factory iproblemfactory problem factory problemfactory default problem factory defaultproblemfactory locale get default getdefault i compiler requestor icompilerrequestor requestor i compiler requestor icompilerrequestor override accept result acceptresult compilation result compilationresult result result has problems hasproblems i problem iproblem problems result get problems getproblems problems length i problem iproblem problem problems problem is error iserror string string problems get originating file name getoriginatingfilename problem list problemlist add error dispatcher errordispatcher create javac error createjavacerror page nodes pagenodes string builder stringbuilder problem get message getmessage problem get source line number getsourcelinenumber ctxt jasper exception jasperexception log error error visiting node problem list problemlist is empty isempty class file classfile class files classfiles result get class files getclassfiles class files classfiles length class file classfile class file classfile class files classfiles compound name compoundname class file classfile get compound name getcompoundname string builder stringbuilder class file name classfilename string builder stringbuilder output dir outputdir append compound name compoundname length class file name classfilename append class file name classfilename append compound name compoundname bytes class file classfile get bytes getbytes class file name classfilename append file output stream fileoutputstream fout buffered output stream bufferedoutputstream bos fout file output stream fileoutputstream class file name classfilename to string tostring bos buffered output stream bufferedoutputstream fout bos write bytes bos bos close io exception ioexception io exception ioexception exc log error compilation error exc i compilation unit icompilationunit compilation units compilationunits i compilation unit icompilationunit class names classnames length compilation units compilationunits length string class name classname class names classnames compilation units compilationunits compilation unit compilationunit file names filenames class name classname compiler options compileroptions c options coptions compiler options compileroptions settings c options coptions parse literal expressions as constants parseliteralexpressionsasconstants compiler compiler compiler env policy c options coptions requestor problem factory problemfactory compiler compile compilation units compilationunits ctxt keep generated keepgenerated file java file javafile file ctxt get servlet java file name getservletjavafilename java file javafile delete problem list problemlist is empty isempty javac error detail javacerrordetail jeds problem list problemlist to array toarray javac error detail javacerrordetail err dispatcher errdispatcher java c error javacerror jeds log is debug enabled isdebugenabled system current time millis currenttimemillis log debug compiled ctxt get servlet java file name getservletjavafilename ctxt is prototype mode isprototypemode jsr support options is smap suppressed issmapsuppressed smap util smaputil install smap installsmap smap
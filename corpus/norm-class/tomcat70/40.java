licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache naming resources java util hash map hashmap java util random special purpose cache author href mailto remm apache org remy maucherat resource cache resourcecache resource cache resourcecache instance variables random generator determine elements free random random random cache path cache entry cache entry cacheentry cache cache entry cacheentry cache hash map hashmap string cache entry cacheentry not found cache notfoundcache hash map hashmap string cache entry cacheentry max size resources content cached cache max size cachemaxsize max amount removals space max all ocate iterations maxallocateiterations entry hit ratio entry removed cache compare d compared entry access hits count hitscount desired entry access ratio desiredentryaccessratio spare amount entries spare not found entries sparenotfoundentries current cache size cache size cachesize number accesses cache access count accesscount number cache hits hits count hitscount properties access count note update synced number completely accurate todo unused expose jmx get access count getaccesscount access count accesscount maximum size cache todo unused expose jmx get cache max size getcachemaxsize cache max size cachemaxsize maximum size cache set cache max size setcachemaxsize cache max size cachemaxsize cache max size cachemaxsize cache max size cachemaxsize current cache size todo unused expose jmx get cache size getcachesize cache size cachesize desired entry access ratio deprecated unused deprecated get desired entry access ratio getdesiredentryaccessratio desired entry access ratio desiredentryaccessratio desired entry access ratio deprecated unused deprecated set desired entry access ratio setdesiredentryaccessratio desired entry access ratio desiredentryaccessratio desired entry access ratio desiredentryaccessratio desired entry access ratio desiredentryaccessratio number cache hits note update synced number completely accurate todo unused expose jmx get hits count gethitscount hits count hitscount maximum amount iter ations iterations space allocation deprecated unused deprecated get max all ocate iterations getmaxallocateiterations max all ocate iterations maxallocateiterations maximum amount iter ations iterations space allocation deprecated unused deprecated set max all ocate iterations setmaxallocateiterations max all ocate iterations maxallocateiterations max all ocate iterations maxallocateiterations max all ocate iterations maxallocateiterations amount spare entries deprecated unused deprecated get spare not found entries getsparenotfoundentries spare not found entries sparenotfoundentries amount spare entries deprecated unused deprecated set spare not found entries setsparenotfoundentries spare not found entries sparenotfoundentries spare not found entries sparenotfoundentries spare not found entries sparenotfoundentries methods all ocate allocate space to free tofree space cache max size cachemaxsize cache size cachesize to free tofree inc rease increase amount free all ocate allocate won to free tofree cache max size cachemaxsize size not found cache notfoundcache size size spare not found entries sparenotfoundentries not found cache notfoundcache clear cache size cachesize size to free tofree size to free tofree attempts entries found entriesfound total space totalspace to remove toremove max all ocate iterations maxallocateiterations to free tofree attempts max all ocate iterations maxallocateiterations current cache ran domly randomly select entry array entry pos entrypos unique unique unique entry pos entrypos random next int nextint cache length guarantee uniqueness entries found entriesfound to remove toremove entry pos entrypos unique entry access ratio entryaccessratio cache entry pos entrypos access count accesscount access count accesscount entry access ratio entryaccessratio desired entry access ratio desiredentryaccessratio to remove toremove entries found entriesfound entry pos entrypos total space totalspace cache entry pos entrypos size to free tofree cache entry pos entrypos size entries found entriesfound attempts remove selected entries java util arrays sort to remove toremove entries found entriesfound cache entry cacheentry new cache newcache cache entry cacheentry cache length entries found entriesfound pos entries found entriesfound to remove toremove cache length pos entries found entriesfound to remove toremove pos pos pos new cache newcache pos cache cache new cache newcache cache size cachesize total space totalspace cache entry cacheentry lookup string cache entry cacheentry cache entry cacheentry cache entry cacheentry current cache currentcache cache access count accesscount pos find current cache currentcache pos equals current cache currentcache pos cache entry cacheentry current cache currentcache pos cache entry cacheentry cache entry cacheentry not found cache notfoundcache exception cache entry cacheentry hits count hitscount cache entry cacheentry load cache entry cacheentry entry entry exists insert cache insertcache entry cache size cachesize entry size size increment sizeincrement not found cache notfoundcache entry not found cache notfoundcache entry entry cache size cachesize size increment sizeincrement unload string cache entry cacheentry removed entry removedentry remove cache removecache removed entry removedentry cache size cachesize removed entry removedentry size not found cache notfoundcache remove cache size cachesize find map element sorted array map elements closest infer ior inferior equal item array find cache entry cacheentry map string map length special cases compare to compareto map result compare to compareto map result result result compare to compareto map result insert place sorted map element mapelement array prevent duplicates insert cache insertcache cache entry cacheentry new element newelement cache entry cacheentry old cache oldcache cache pos find old cache oldcache new element newelement pos new element newelement equals old cache oldcache pos cache entry cacheentry new cache newcache cache entry cacheentry cache length system arraycopy old cache oldcache new cache newcache pos new cache newcache pos new element newelement system arraycopy old cache oldcache pos new cache newcache pos old cache oldcache length pos cache new cache newcache insert place sorted map element mapelement array cache entry cacheentry remove cache removecache string cache entry cacheentry old cache oldcache cache pos find old cache oldcache pos equals old cache oldcache pos cache entry cacheentry new cache newcache cache entry cacheentry cache length system arraycopy old cache oldcache new cache newcache pos system arraycopy old cache oldcache pos new cache newcache pos old cache oldcache length pos cache new cache newcache old cache oldcache pos
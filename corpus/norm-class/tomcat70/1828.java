licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util buf java io exception ioexception java util bit set bitset efficient implementation encoders thread safe encoder thread encoder save recycle internal objects avoiding garbage add extra characters preserved encoding url add author costin manolache u encoder uencoder enum safe chars set safecharsset slash bit set bitset safe chars safechars bit set bitset get safe chars getsafechars safe chars safechars safe chars set safecharsset string additional safe chars additionalsafechars safe chars safechars initial safe chars initialsafechars additional safe chars additionalsafechars to char array tochararray safe chars safechars differ adding extra check bit set bitset safe chars safechars b converter bconverter byte chunk bytechunk char chunk charchunk char chunk charchunk output read only safe chars readonlysafechars string encoding utf u encoder uencoder safe chars safechars initial safe chars initialsafechars read only safe chars readonlysafechars create u encoder uencoder unmodifiable safe character calls link u encoder uencoder add safe character addsafecharacter add safe character addsafecharacter instances created constructor link illegal state exception illegalstateexception param safe chars set safecharsset safe characters encoder u encoder uencoder safe chars set safecharsset safe chars set safecharsset safe chars safechars safe chars set safecharsset get safe chars getsafechars read only safe chars readonlysafechars deprecated unused removed tomcat onwards deprecated set encoding setencoding string encoding add safe character addsafecharacter read only safe chars readonlysafechars illegal state exception illegalstateexception u encode rs uencoders safe char aracters safechararacters read safe chars safechars url encode string encoding param string encoded param start inclusive param exclusive io exception ioexception error occurs char chunk charchunk encodeurl string start io exception ioexception small byte chunk bytechunk small char chunk charchunk small output char chunk charchunk b converter bconverter encoding recycle recycle output recycle start char at charat safe chars safechars output append append convert ucs amazing xdbff char at charat xdc xdfff append convert url encode urlencode output recycle recycle output url encode urlencode char chunk charchunk byte chunk bytechunk io exception ioexception bytes get buffer getbuffer get start getstart get end getend append character for digit fordigit bytes append character for digit fordigit bytes append internal implementation bit set bitset initial safe chars initialsafechars bit set bitset initial safe chars initialsafechars bit set bitset initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars safe initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars dangerous treat rfc reserved initial safe chars initialsafechars extra initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars initial safe chars initialsafechars
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util http java print writer printwriter java string writer stringwriter java util enumeration org apache tomcat util buf message bytes messagebytes org apache tomcat util res string manager stringmanager memory efficient repository mime headers object recycle d recycled all ocated allocated headers mime header field mimeheaderfield generated input headers message byte messagebyte fields generated garbage generated string header names values avoided servlet calls header methods easy avoid tomcat goal message byte messagebyte based fields reduce memory over head overhead tomcat todo xxx buffer parsing http protocols don xxx remove unused methods xxx external enum erations enumerations xxx header name headername author dac eng sun author james todd gonzo eng sun author costin manolache author kevin seguin mime headers mimeheaders initial size average number headers request xxx config urable configurable fine tuning web apps header size string manager stringmanager string manager stringmanager get manager getmanager org apache tomcat util http header fields mime header field mimeheaderfield headers mime header field mimeheaderfield header size current number header fields count limit number header fields limit creates mime headers mimeheaders object buffer size mime headers mimeheaders limit number header fields set limit setlimit limit limit limit limit headers length limit count limit shrink header list array mime header field mimeheaderfield tmp mime header field mimeheaderfield limit system arraycopy headers tmp count headers tmp seguin consistency objects recycle recycle clear clears header fields clear count headers recycle count expensive debug ging debugging override string to string tostring string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter println mime headers mimeheaders enumeration string names has more elements hasmoreelements string next element nextelement enumeration string values has more elements hasmoreelements print print println next element nextelement to string tostring idx access headers returns current number header fields size count returns nth header header iter ate iterate header fields message bytes messagebytes get name getname count headers get name getname returns nth header header iter ate iterate header fields message bytes messagebytes get value getvalue count headers get value getvalue find header find header findheader string starting custom search tree starting count headers get name getname equals ignore case equalsignorecase returns enumeration strings representing header field names field names multiple times enumeration indicating multiple fields exist header enumeration string names names enum erator namesenumerator enumeration string values string values enum erator valuesenumerator adding headers adds part ially partially constructed field header field initialized mime header field mimeheaderfield create header createheader limit count limit illegal state exception illegalstateexception get string getstring headers max count fail maxcountfail integer value of valueof limit mime header field mimeheaderfield len headers length count len expand header list array new length newlength count limit new length newlength limit new length newlength limit mime header field mimeheaderfield tmp mime header field mimeheaderfield new length newlength system arraycopy headers tmp len headers tmp headers count headers count mime header field mimeheaderfield count create named header message bytes messagebytes container message bytes messagebytes add value addvalue string mime header field mimeheaderfield create header createheader get name getname set string setstring get value getvalue create named header translated conversion chars delayed encoding message bytes messagebytes add value addvalue start n startn len mime header field mimeheaderfield mhf create header createheader mhf get name getname set bytes setbytes start n startn len mhf get value getvalue create named header translated message bytes messagebytes add value addvalue start n startn len mime header field mimeheaderfield mhf create header createheader mhf get name getname set chars setchars start n startn len mhf get value getvalue operations message bytes messagebytes container header existing header message bytes messagebytes set value setvalue string count headers get name getname equals ignore case equalsignorecase count headers get name getname equals ignore case equalsignorecase remove header removeheader headers get value getvalue mime header field mimeheaderfield create header createheader get name getname set string setstring get value getvalue headers finds returns header field field exists returned field header arbitrary returned message bytes messagebytes get value getvalue string count headers get name getname equals ignore case equalsignorecase headers get value getvalue finds returns unique header field field exists returned header field unique link illegal argument exception illegalargumentexception thrown message bytes messagebytes get unique value getuniquevalue string message bytes messagebytes result count headers get name getname equals ignore case equalsignorecase result result headers get value getvalue illegal argument exception illegalargumentexception result bad short cut shortcut convert string early encoding guessed late string get header getheader string message bytes messagebytes get value getvalue to string tostring removing removes header field field param header field removed remove header removeheader string count headers get name getname equals ignore case equalsignorecase remove header removeheader reset swap header param idx header remove remove header removeheader idx mime header field mimeheaderfield headers idx recycle headers idx headers count headers count count enum erate enumerate distinct header names next element nextelement comparison previous elements frequent add add names enum erator namesenumerator enumeration string pos size string mime headers mimeheaders headers names enum erator namesenumerator mime headers mimeheaders headers headers headers pos size headers size find next findnext find next findnext pos size pos headers get name getname pos to string tostring pos headers get name getname equals ignore case equalsignorecase duplicate duplicate time find next findnext called element pos override has more elements hasmoreelements override string next element nextelement string current find next findnext current enum erate enumerate values multiple element values enum erator valuesenumerator enumeration string pos size message bytes messagebytes mime headers mimeheaders headers string values enum erator valuesenumerator mime headers mimeheaders headers string headers headers pos size headers size find next findnext find next findnext pos size pos message bytes messagebytes headers get name getname pos equals ignore case equalsignorecase headers get value getvalue pos pos override has more elements hasmoreelements override string next element nextelement message bytes messagebytes current find next findnext current to string tostring mime header field mimeheaderfield multiple headers linked list speed enum erations enumerations search cpu mime header field mimeheaderfield mime header field mimeheaderfield prev message bytes messagebytes name b nameb message bytes messagebytes new instance newinstance message bytes messagebytes value b valueb message bytes messagebytes new instance newinstance creates uninitialized header field mime header field mimeheaderfield recycle name b nameb recycle value b valueb recycle message bytes messagebytes get name getname name b nameb message bytes messagebytes get value getvalue value b valueb
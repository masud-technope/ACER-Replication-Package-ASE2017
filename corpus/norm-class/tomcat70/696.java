licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java nio byte buffer bytebuffer java util list java util queue java util concurrent copy on write array list copyonwritearraylist java util concurrent count down latch countdownlatch java util concurrent linked blocking queue linkedblockingqueue javax websocket client endpoint clientendpoint javax websocket close reason closereason javax websocket endpoint javax websocket endpoint config endpointconfig javax websocket message handler messagehandler javax websocket on close onclose javax websocket on error onerror javax websocket on open onopen javax websocket session tester message count client testermessagecountclient tester endpoint testerendpoint set latch setlatch count down latch countdownlatch latch tester program matic endpoint testerprogrammaticendpoint endpoint tester endpoint testerendpoint count down latch countdownlatch latch override set latch setlatch count down latch countdownlatch latch latch latch override on close onclose session session close reason closereason close reason closereason clear latch clearlatch override on error onerror session session throwable throwable clear latch clearlatch clear latch clearlatch latch latch get count getcount latch count down countdown override on open onopen session session endpoint config endpointconfig config session get user properties getuserproperties endpoint client endpoint clientendpoint tester annotated endpoint testerannotatedendpoint tester endpoint testerendpoint count down latch countdownlatch latch override set latch setlatch count down latch countdownlatch latch latch latch on close onclose on close onclose clear latch clearlatch on error onerror on error onerror suppress warnings suppresswarnings unused throwable throwable clear latch clearlatch clear latch clearlatch latch latch get count getcount latch count down countdown on open onopen on open onopen session session session get user properties getuserproperties endpoint basic handler basichandler message handler messagehandler count down latch countdownlatch latch queue messages linked blocking queue linkedblockingqueue basic handler basichandler count down latch countdownlatch latch latch latch count down latch countdownlatch get latch getlatch latch queue get messages getmessages messages basic binary basicbinary basic handler basichandler byte buffer bytebuffer basic binary basicbinary count down latch countdownlatch latch latch override on message onmessage byte buffer bytebuffer message get messages getmessages add message get latch getlatch get latch getlatch count down countdown basic text basictext basic handler basichandler string string expected basic text basictext count down latch countdownlatch latch latch basic text basictext count down latch countdownlatch latch string expected latch expected expected override on message onmessage string message expected get messages getmessages add message expected equals message illegal state exception illegalstateexception expected expected message get latch getlatch get latch getlatch count down countdown sleeping text sleepingtext message handler messagehandler string sleep sleeping text sleepingtext sleep sleep sleep override on message onmessage string message thread sleep sleep interrupted exception interruptedexception async handler asynchandler message handler messagehandler partial count down latch countdownlatch latch list messages copy on write array list copyonwritearraylist async handler asynchandler count down latch countdownlatch latch latch latch count down latch countdownlatch get latch getlatch latch list get messages getmessages messages async binary asyncbinary async handler asynchandler byte buffer bytebuffer async binary asyncbinary count down latch countdownlatch latch latch override on message onmessage byte buffer bytebuffer message get messages getmessages add message get latch getlatch get latch getlatch count down countdown async text asynctext async handler asynchandler string async text asynctext count down latch countdownlatch latch latch override on message onmessage string message get messages getmessages add message get latch getlatch get latch getlatch count down countdown
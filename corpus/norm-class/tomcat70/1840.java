licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes demos java buffered reader bufferedreader java io exception ioexception java input stream reader inputstreamreader java util string tokenizer stringtokenizer org apache catalina tribes channel org apache catalina tribes member org apache catalina tribes group group channel groupchannel org apache catalina tribes group int erceptors interceptors message dispatch messagedispatch interceptor org apache catalina tribes group int erceptors interceptors non blocking coordinator nonblockingcoordinator org apache catalina tribes group int erceptors interceptors tcp failure detector tcpfailuredetector org apache catalina tribes transport receiver base receiverbase org apache catalina tribes util arrays coordination demo coordinationdemo channel count screen width sleep time clear screen multi thread view events string builder stringbuilder status line statusline string builder stringbuilder status status buffered reader bufferedreader reader construct application coordination demo coordinationdemo constructor init reader buffered reader bufferedreader input stream reader inputstreamreader system status status channel count clear screen clearscreen string builder stringbuilder buf string builder stringbuilder clear screen buf append system println buf print menu options printmenuoptions system println commands system println tstart member system println tstop member system println tprint refresh system println tquit system print enter command print screen printscreen clear screen clearscreen system println get header getheader status length system print left fill leftfill string value of valueof status system print status get status line getstatusline system println system println status status line statusline print menu options printmenuoptions string get header getheader member running coord view view count string builder stringbuilder buf string builder stringbuilder buf append left fill leftfill member buf append left fill leftfill running buf append left fill leftfill coord buf append left fill leftfill view buf append left fill leftfill count buf append buf append right fill rightfill java sql timestamp system current time millis currenttimemillis to string tostring screen width buf append buf to string tostring string tokenize string string tokenizer stringtokenizer string tokenizer stringtokenizer string result string count tokens counttokens result length result next token nexttoken result wait for input waitforinput io exception ioexception status length status status print screen printscreen string reader read line readline string args args string args tokenize args length quit equals ignore case equalsignorecase args start equals ignore case equalsignorecase args cmd start cmdstart args equals ignore case equalsignorecase args cmd stop cmdstop args print screen printscreen reader read line readline args tokenize status length status cmd stop cmdstop string args args length set system status setsystemstatus system shutting thread thread channel count status length thread override status status length multi thread start set system status setsystemstatus system stopped integer parse int parseint args exception set system status setsystemstatus invalid args set system status setsystemstatus stopping member status set system status setsystemstatus member stopped cmd start cmdstart string args args length set system status setsystemstatus system starting thread thread channel count status length thread override status start status length multi thread start set system status setsystemstatus system started integer parse int parseint args exception set system status setsystemstatus invalid args set system status setsystemstatus starting member status start set system status setsystemstatus member started set system status setsystemstatus string status status line statusline delete status line statusline length status line statusline append status set events setevents string events java util arrays fill view events string tokenizer stringtokenizer string tokenizer stringtokenizer events has more tokens hasmoretokens idx integer parse int parseint next token nexttoken view events idx string args coordination demo coordinationdemo demo exception usage java util arrays fill view events args length equals args channel count integer parse int parseint args equals args multi thread parse boolean parseboolean args equals args sleep time parse long parselong args equals args clear screen integer parse int parseint args equals args set events setevents args equals args system exit demo init demo wait for input waitforinput usage system println usage system println tjava org apache catalina tribes demos coordination demo coordinationdemo channel count multi thread sleep time clear scr een screen view events csv system println system println tjava coordination demo coordinationdemo starts demo single threaded start channels system println tjava coordination demo coordinationdemo starts demo single threaded start channels system println tjava coordination demo coordinationdemo starts demo multi threaded start channels sleep time events lines clear scr een screen system println tjava coordination demo coordinationdemo starts demo multi threaded start channels prints evt conf event system println main string args exception coordination demo coordinationdemo demo coordination demo coordinationdemo args demo string left fill leftfill string length string fill length string right fill rightfill string length string fill length string fill string length string left string builder stringbuilder buf string builder stringbuilder left buf append trim trim length length buf append left buf append trim buf to string tostring status coordination demo coordinationdemo parent group channel groupchannel channel non blocking coordinator nonblockingcoordinator int erceptor interceptor string status exception error string starts tatus startstatus status coordination demo coordinationdemo parent parent parent string get status line getstatusline member running coord view view count string builder stringbuilder buf string builder stringbuilder string local string coord string view id viewid string count channel member channel get local member getlocalmember local get name getname coord int erceptor interceptor int erceptor interceptor get coordinator getcoordinator int erceptor interceptor get coordinator getcoordinator get name getname int erceptor interceptor view id viewid get byte string getbytestring int erceptor interceptor get view id getviewid int erceptor interceptor get view id getviewid get bytes getbytes count string value of valueof int erceptor interceptor get view getview length buf append left fill leftfill local buf append left fill leftfill starts tatus startstatus buf append left fill leftfill coord buf append left fill leftfill view id viewid buf append left fill leftfill count buf append buf append status status buf append buf to string tostring string get byte string getbytestring arrays to string tostring math min length start channel channel create channel createchannel starts tatus startstatus starting channel start channel starts tatus startstatus running status channel started exception system err system err println start failed stack trace element stacktraceelement els get stack trace getstacktrace els length system err println els to string tostring status start failed get message getmessage error starts tatus startstatus failed channel channel exception ignore channel int erceptor interceptor channel channel channel status channel stopped status channel stopped exception system err system err println failed stack trace element stacktraceelement els get stack trace getstacktrace els length system err println els to string tostring status failed get message getmessage error starts tatus startstatus stopped channel int erceptor interceptor group channel groupchannel create channel createchannel channel group channel groupchannel receiver base receiverbase channel get channel receiver getchannelreceiver set auto bind setautobind int erceptor interceptor non blocking coordinator nonblockingcoordinator override fire interceptor event fireinterceptorevent interceptor event interceptorevent event status event get event type desc geteventtypedesc type event get event type geteventtype display view events type display parent print screen printscreen thread sleep sleep time exception channel add interceptor addinterceptor int erceptor interceptor channel add interceptor addinterceptor tcp failure detector tcpfailuredetector channel add interceptor addinterceptor message dispatch messagedispatch interceptor channel
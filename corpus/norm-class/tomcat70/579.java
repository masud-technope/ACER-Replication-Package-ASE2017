licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper compiler java file java file not found exception filenotfoundexception java file output stream fileoutputstream java io exception ioexception java output stream writer outputstreamwriter java print writer printwriter java unsupported encoding exception unsupportedencodingexception java net jarurlconnection java net url java net url connection urlconnection java util iterator java util map java util map entry org apache jasper jasper exception jasperexception org apache jasper jsp compilation context jspcompilationcontext org apache jasper options org apache jasper servlet jsp servlet wrapper jspservletwrapper org apache juli logging log org apache juli logging log factory logfactory main jsp compiler ant compiling author anil vijendran author mandar raje author pierre delisle author kin man chung author remy maucherat author mark roth compiler log log log factory logfactory get log getlog compiler instance variables jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err dispatcher errdispatcher page info pageinfo page info pageinfo jsp servlet wrapper jspservletwrapper jsw tag file processor tagfileprocessor tfp options options node nodes page nodes pagenodes constructor init jsp compilation context jspcompilationcontext ctxt jsp servlet wrapper jspservletwrapper jsw jsw jsw ctxt ctxt options ctxt get options getoptions methods retrieves parsed nodes jsp dev elopment development mode generating detailed error messages http apache org bug zilla bugzilla bug cgi node nodes get page nodes getpagenodes page nodes pagenodes compile jsp file equivalent servlet java file smap current jsp generated string generate java generatejava exception string smap str smapstr log is debug enabled isdebugenabled system current time millis currenttimemillis setup info area page info pageinfo page info pageinfo bean repository beanrepository ctxt get class loader getclassloader err dispatcher errdispatcher ctxt get jsp file getjspfile ctxt is tag file istagfile jsp config jspconfig jsp config jspconfig options get jsp config getjspconfig jsp config jspconfig jsp property jspproperty jsp property jspproperty jsp config jspconfig find jsp property findjspproperty ctxt get jsp file getjspfile current uri matched pattern jsp property group web xml initialize page info pageinfo properties jsp property jspproperty iselignored page info pageinfo setelignored jsp util jsputil boolean value booleanvalue jsp property jspproperty iselignored jsp property jspproperty is scripting invalid isscriptinginvalid page info pageinfo set scripting invalid setscriptinginvalid jsp util jsputil boolean value booleanvalue jsp property jspproperty is scripting invalid isscriptinginvalid jsp property jspproperty get include prelude getincludeprelude page info pageinfo set include prelude setincludeprelude jsp property jspproperty get include prelude getincludeprelude jsp property jspproperty get include coda getincludecoda page info pageinfo set include coda setincludecoda jsp property jspproperty get include coda getincludecoda jsp property jspproperty is def ered syntax allowed as literal isdeferedsyntaxallowedasliteral page info pageinfo set deferred syntax allowed as literal setdeferredsyntaxallowedasliteral jsp util jsputil boolean value booleanvalue jsp property jspproperty is def ered syntax allowed as literal isdeferedsyntaxallowedasliteral jsp property jspproperty is trim directive whitespaces istrimdirectivewhitespaces page info pageinfo set trim directive whitespaces settrimdirectivewhitespaces jsp util jsputil boolean value booleanvalue jsp property jspproperty is trim directive whitespaces istrimdirectivewhitespaces parsed jsp property jspproperty get buffer getbuffer page info pageinfo set buffer value setbuffervalue jsp property jspproperty get buffer getbuffer err dispatcher errdispatcher jsp property jspproperty is error on undeclared name space iserroronundeclarednamespace page info pageinfo set error on undeclared name space seterroronundeclarednamespace jsp util jsputil boolean value booleanvalue jsp property jspproperty is error on undeclared name space iserroronundeclarednamespace ctxt is tag file istagfile library version libraryversion parse double parsedouble ctxt get tag info gettaginfo get tag library gettaglibrary get required version getrequiredversion library version libraryversion page info pageinfo setiselignored err dispatcher errdispatcher library version libraryversion page info pageinfo set deferred syntax allowed as literal setdeferredsyntaxallowedasliteral err dispatcher errdispatcher number format exception numberformatexception err dispatcher errdispatcher jsp error jsperror ctxt check output dir checkoutputdir string java file name javafilename ctxt get servlet java file name getservletjavafilename servlet writer servletwriter writer setting iselignored behaviour parser sub tle subtle ways add fun iselignored file forms translation unit setting file included translation unit change parser behaved parsing content point iselignored arg hh arghh previous attempts hack partial solutions passes parse translation unit parses directives parses translation unit iselignored todo opt imisations optimisations process parse file parser controller parsercontroller parser ctl parserctl parser controller parsercontroller ctxt pass directives node nodes directives parser ctl parserctl parse dir ectives parsedirectives ctxt get jsp file getjspfile validator validate dir ectives validatedirectives directives pass translation unit page nodes pagenodes parser ctl parserctl parse ctxt get jsp file getjspfile leave bug page info pageinfo get content type getcontenttype jsp property jspproperty get default content type getdefaultcontenttype page info pageinfo set content type setcontenttype jsp property jspproperty get default content type getdefaultcontenttype ctxt is prototype mode isprototypemode generate prototype java file tag file writer setup context writer setupcontextwriter java file name javafilename generator generate writer page nodes pagenodes writer close writer validate process attributes don validate directives validated pass validator validate ex dir ectives validateexdirectives page nodes pagenodes log is debug enabled isdebugenabled system current time millis currenttimemillis collect info collector collect page nodes pagenodes compile load tag files referenced compilation unit tfp tag file processor tagfileprocessor tfp load tag files loadtagfiles page nodes pagenodes log is debug enabled isdebugenabled system current time millis currenttimemillis determine custom tag declare scripting vars scripting variable r scriptingvariabler page nodes pagenodes err dispatcher errdispatcher optimizations tag plugins tag plugin manager tagpluginmanager tag plugin manager tagpluginmanager options get tag plugin manager gettagpluginmanager tag plugin manager tagpluginmanager apply page nodes pagenodes err dispatcher errdispatcher page info pageinfo optimization concatenate contiguous template texts text optimize r textoptimizer concatenate page nodes pagenodes generate function mapper codes el function mapper elfunctionmapper map page nodes pagenodes generate servlet java file writer setup context writer setupcontextwriter java file name javafilename generator generate writer page nodes pagenodes writer close writer writer compile dereference jsp compilation context jspcompilationcontext save memory ctxt set writer setwriter log is debug enabled isdebugenabled system current time millis currenttimemillis log debug generated java file name javafilename total generate validate exception writer writer close writer exception file file file java file name javafilename file exists file delete log warn localizer get message getmessage jsp warning compiler java file javafile delete fail file get absolute path getabsolutepath writer writer close exception jsr support options is smap suppressed issmapsuppressed smap str smapstr smap util smaputil generate smap generatesmap ctxt page nodes pagenodes proto type java files generated prototype java replaced current compilation tag file referencing file removed java c javac generate java file generated tfp remove proto type files removeprototypefiles ctxt get class file name getclassfilename smap str smapstr servlet writer servletwriter setup context writer setupcontextwriter string java file name javafilename file not found exception filenotfoundexception jasper exception jasperexception servlet writer servletwriter writer setup servlet writer servletwriter string java encoding javaencoding ctxt get options getoptions get java encoding getjavaencoding output stream writer outputstreamwriter osw osw output stream writer outputstreamwriter file output stream fileoutputstream java file name javafilename java encoding javaencoding unsupported encoding exception unsupportedencodingexception err dispatcher errdispatcher jsp error jsperror jsp error need alternate java encoding needalternatejavaencoding java encoding javaencoding writer servlet writer servletwriter print writer printwriter osw ctxt set writer setwriter writer writer compile servlet java file file generate class generateclass string smap file not found exception filenotfoundexception jasper exception jasperexception exception compile jsp file current engine context compile file not found exception filenotfoundexception jasper exception jasperexception exception compile compile jsp file current engine context side tag files referenced compiled param compile class compileclass generate java file generate java file compile compile class compileclass file not found exception filenotfoundexception jasper exception jasperexception exception compile compile class compileclass compile jsp file current engine context side tag files referenced compiled param compile class compileclass generate java file generate java file param jsp c mode jspcmode invoked jsp c jspc compile compile class compileclass jsp c mode jspcmode file not found exception filenotfoundexception jasper exception jasperexception exception err dispatcher errdispatcher err dispatcher errdispatcher error dispatcher errordispatcher jsp c mode jspcmode string smap generate java generatejava file java file javafile file ctxt get servlet java file name getservletjavafilename jsp last modified jsplastmodified ctxt get last modified getlastmodified ctxt get jsp file getjspfile java file javafile set last modified setlastmodified jsp last modified jsplastmodified long value longvalue compile class compileclass generate class generateclass smap bug zilla bugzilla jsp servlet wrapper jspservletwrapper servlet class last modified time servletclasslastmodifiedtime successful compile file target file targetfile file ctxt get class file name getclassfilename target file targetfile exists target file targetfile set last modified setlastmodified jsp last modified jsplastmodified long value longvalue jsw jsw set servlet class last modified time setservletclasslastmodifiedtime jsp last modified jsplastmodified long value longvalue tfp ctxt is prototype mode isprototypemode tfp remove proto type files removeprototypefiles object generation compilation jsp dereferenced reduce memory foo tprint footprint tfp err dispatcher errdispatcher page info pageinfo http apache org bug zilla bugzilla bug cgi options get development getdevelopment page nodes pagenodes ctxt get writer getwriter ctxt get writer getwriter close ctxt set writer setwriter method intended overridden subclasses compiler compile method compilation is out date d isoutdated is out date d isoutdated determine compilation checking time stamp jsp java file dependencies check extended dependents method overridden subclasses compiler param check class checkclass check file check java file is out date d isoutdated check class checkclass jsw ctxt get options getoptions get modification test interval getmodificationtestinterval jsw get last modification test getlastmodificationtest ctxt get options getoptions get modification test interval getmodificationtestinterval system current time millis currenttimemillis jsw set last modification test setlastmodificationtest system current time millis currenttimemillis jsp real last modified jspreallastmodified ctxt get last modified getlastmodified ctxt get jsp file getjspfile jsp real last modified jspreallastmodified long value longvalue wrong assume modification target last modified targetlastmodified file target file targetfile check class checkclass target file targetfile file ctxt get class file name getclassfilename target file targetfile file ctxt get servlet java file name getservletjavafilename target file targetfile exists target last modified targetlastmodified target file targetfile last modified lastmodified check class checkclass jsw jsw set servlet class last modified time setservletclasslastmodifiedtime target last modified targetlastmodified target last modified targetlastmodified jsp real last modified jspreallastmodified long value longvalue log is debug enabled isdebugenabled log debug compiler out date d outdated target file targetfile target last modified targetlastmodified directives changed jsw map string depends jsw get dependants getdependants depends iterator entry string depends entry set entryset iterator has next hasnext entry string include url connection urlconnection iuc string key include get key getkey url include url includeurl key starts with startswith jar key starts with startswith file include url includeurl url key include url includeurl ctxt get resource getresource include get key getkey include url includeurl iuc include url includeurl open connection openconnection include last modified includelastmodified iuc jarurlconnection include last modified includelastmodified jarurlconnection iuc get jar entry getjarentry get time gettime include last modified includelastmodified iuc get last modified getlastmodified include last modified includelastmodified include get value getvalue long value longvalue exception log is debug enabled isdebugenabled log debug problem accessing resource treat out date d outdated iuc iuc get input stream getinputstream close io exception ioexception error dispatcher error dispatcher errordispatcher get error dispatcher geterrordispatcher err dispatcher errdispatcher info compilation page info pageinfo get page info getpageinfo page info pageinfo jsp compilation context jspcompilationcontext get compilation context getcompilationcontext ctxt remove generated files remove generated files removegeneratedfiles remove generated class files removegeneratedclassfiles file java file javafile file ctxt get servlet java file name getservletjavafilename log is debug enabled isdebugenabled log debug deleting java file javafile java file javafile exists java file javafile delete log warn localizer get message getmessage jsp warning compiler java file javafile delete fail java file javafile get absolute path getabsolutepath exception log warn localizer get message getmessage jsp warning compiler class file classfile delete fail unknown remove generated class files removegeneratedclassfiles file class file classfile file ctxt get class file name getclassfilename log is debug enabled isdebugenabled log debug deleting class file classfile class file classfile exists class file classfile delete log warn localizer get message getmessage jsp warning compiler class file classfile delete fail class file classfile get absolute path getabsolutepath exception log warn localizer get message getmessage jsp warning compiler class file classfile delete fail unknown
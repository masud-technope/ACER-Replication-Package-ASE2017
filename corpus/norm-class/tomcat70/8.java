licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper compiler javax el context elcontext javax el exception elexception javax expression factory expressionfactory javax value expression valueexpression org junit org junit test org apache jasper jasper exception jasperexception org apache jasper compiler el node elnode nodes org apache jasper compiler el parser elparser text builder textbuilder org apache jasper el context impl elcontextimpl wits working min d mind do ubt doubt read jsp specifications escaping rules complex sub tle subtle exp lanation explanation tests implementation missed edge hard strings passed link do test parser dotestparser string string java escaped source code unescaped literal expressions literalexpressions occur literal expressions escape literal strings literalstrings occur literal strings escape escaping optional literal string delimited escaping optional literal string delimited testelparser test test text testtext jasper exception jasperexception do test parser dotestparser foo foo test test literal testliteral jasper exception jasperexception do test parser dotestparser foo foo test test variable testvariable jasper exception jasperexception do test parser dotestparser test test test function testfunction jasper exception jasperexception do test parser dotestparser test test function testfunction jasper exception jasperexception do test parser dotestparser test test function testfunction jasper exception jasperexception do test parser dotestparser test test function testfunction jasper exception jasperexception do test parser dotestparser test test function testfunction jasper exception jasperexception do test parser dotestparser test test compound testcompound jasper exception jasperexception do test parser dotestparser foo foo test test compound testcompound jasper exception jasperexception do test parser dotestparser test test test compound testcompound jasper exception jasperexception do test parser dotestparser foo bar test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception note invalid do test parser dotestparser aeq test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser empty link foo test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary testternary jasper exception jasperexception do test parser dotestparser test test ternary bug testternarybug jasper exception jasperexception do test parser dotestparser link empty registration registration test registration test test quotes testquotes jasper exception jasperexception do test parser dotestparser test test quotes testquotes jasper exception jasperexception do test parser dotestparser foo test test quotes testquotes jasper exception jasperexception do test parser dotestparser foo foo test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser test test escape testescape jasper exception jasperexception do test parser dotestparser do test parser dotestparser string input string expected jasper exception jasperexception do test parser dotestparser input expected input do test parser dotestparser string input string expected result expectedresult string expected builder output expectedbuilderoutput jasper exception jasperexception el exception elexception el exception elexception string el result elresult expected result expectedresult expression factory expressionfactory factory expression factory expressionfactory new instance newinstance el context elcontext context el context impl elcontextimpl value expression valueexpression factory create value expression createvalueexpression context input string el result elresult get value getvalue context to string tostring assert equals assertequals expected result expectedresult el result elresult el exception elexception ele el exception elexception ele nodes nodes nodes el parser elparser parse input assert null assertnull el exception elexception illegal argument exception illegalargumentexception iae assert not null assertnotnull el result elresult el exception elexception iae init cause initcause el exception elexception iae text builder textbuilder text builder textbuilder text builder textbuilder nodes visit text builder textbuilder assert equals assertequals expected builder output expectedbuilderoutput text builder textbuilder get text gettext
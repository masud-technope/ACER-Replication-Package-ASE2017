licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util http file upload fileupload util mime java byte array output stream bytearrayoutputstream java io exception ioexception java unsupported encoding exception unsupportedencodingexception java util hash map hashmap java util locale java util map org apache tomcat util code c codec binary base utility decode mime texts mime utility mimeutility code ascii charset identifier constant string ascii charset ascii marker text encoded base algorithm string base encoding marker marker text encoded quoted print able quotedprintable algorithm string quotedprintable encoding marker text encoded tokens tokens marked string encoded token marker text encoded tokens tokens terminate string encoded token finisher linear whitespace chars sequence string linear whitespace map pings mappings mime java charset map string string mime java hash map hashmap string string mime java iso iso mime java iso iso mime java utf utf mime java utf utf mime java iso iso mime java eucjp eucjis mime java euc ksc mime java euckr ksc mime java ascii iso mime java ascii iso hidden constructor instantiated mime utility mimeutility decode string text mail header proper form text gen erally generally consist string tokens encoded base encoding param text text decode decoded text string unsupported encoding exception unsupportedencodingexception detected encoding input text supported string decode text decodetext string text unsupported encoding exception unsupportedencodingexception source string doesn seq uent sequent decoding required text index of indexof encoded token marker text offset end offset endoffset text length start white space startwhitespace end white space endwhitespace string builder stringbuilder decoded text decodedtext string builder stringbuilder text length previous token encoded previoustokenencoded offset end offset endoffset text char at charat offset whitespace character linear whitespace index of indexof whitespace start white space startwhitespace offset offset end offset endoffset step white space characters text char at charat offset linear whitespace index of indexof whitespace offset record location lwsp drop process token characters end white space endwhitespace offset word token scan word parse word start wordstart offset offset end offset endoffset step white space characters text char at charat offset linear whitespace index of indexof white space offset trailing whitespace header strings discarded pull word token string word text substring word start wordstart offset token encoded decode word word starts with startswith encoded token marker parsing failure treat encoded word string decoded word decodedword decode word decodeword word whitespace characters append previous token encoded previoustokenencoded start white space startwhitespace decoded text decodedtext append text substring start white space startwhitespace end white space endwhitespace start white space startwhitespace decoded token previous token encoded previoustokenencoded add text decoded text decodedtext append decoded word decodedword handled normal text parse exception parseexception start white space startwhitespace decoded text decodedtext append text substring start white space startwhitespace end white space endwhitespace start white space startwhitespace decoded token previous token encoded previoustokenencoded decoded text decodedtext append word decoded text decodedtext to string tostring parse string rfc rules encoded word type encoding syntax encoded word charset encoding encoded text param word encoded word decoded word parse exception parseexception unsupported encoding exception unsupportedencodingexception string decode word decodeword string word parse exception parseexception unsupported encoding exception unsupportedencodingexception word starts with startswith encoded token marker parse exception parseexception invalid rfc encoded word word charset pos charsetpos word index of indexof charset pos charsetpos parse exception parseexception missing charset rfc encoded word word pull character mime point string charset word substring charset pos charsetpos to lower case tolowercase locale english pull encoding token encoding pos encodingpos word index of indexof charset pos charsetpos encoding pos encodingpos parse exception parseexception missing encoding rfc encoded word word string encoding word substring charset pos charsetpos encoding pos encodingpos encoded text encoded text pos encodedtextpos word index of indexof encoded token finisher encoding pos encodingpos encoded text pos encodedtextpos parse exception parseexception missing encoded text rfc encoded word word string encoded text encodedtext word substring encoding pos encodingpos encoded text pos encodedtextpos bit silly encode string easy deal encoded text encodedtext length decoder writes output stream byte array output stream bytearrayoutputstream byte array output stream bytearrayoutputstream encoded text encodedtext length decoded data decodeddata base encoded encoding equals base encoding marker decoded data decodeddata base decode base decodebase encoded text encodedtext encoding equals quotedprintable encoding marker quoted print able printable encoded data encodeddata encoded text encodedtext get bytes getbytes ascii charset quoted print able decoder quotedprintabledecoder decode encoded data encodeddata decoded data decodeddata to byte array tobytearray unsupported encoding exception unsupportedencodingexception unknown rfc encoding encoding convert decoded data string string decoded data decodeddata java charset javacharset charset io exception ioexception unsupported encoding exception unsupportedencodingexception invalid rfc encoding translate mime standard character java equivalent param charset mime standard java equivalent string java charset javacharset string charset charset string mapped charset mappedcharset mime java charset to lower case tolowercase locale english names map java reverse isn mapped charset mappedcharset charset mapped charset mappedcharset
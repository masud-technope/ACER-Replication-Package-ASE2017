licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java io exception ioexception java util concurrent atomic atomic integer atomicinteger javax servlet servlet context event servletcontextevent javax websocket deployment exception deploymentexception javax websocket on close onclose javax websocket on error onerror javax websocket on message onmessage javax websocket on open onopen javax websocket remote endpoint remoteendpoint basic javax websocket session javax websocket server server container servercontainer javax websocket server server endpoint serverendpoint org apache tomcat websocket server constants org apache tomcat websocket server ws context listener wscontextlistener s ends sends link message count messages size link message size bytes client sends message tester firehose server testerfirehoseserver message count string message message size wait time millis send time millis string builder stringbuilder string builder stringbuilder message size message size append message to string tostring config ws context listener wscontextlistener string path fire hose firehose override context initialized contextinitialized servlet context event servletcontextevent sce context initialized contextinitialized sce server container servercontainer server container servercontainer sce get servlet context getservletcontext get attribute getattribute constants server container servlet context attribute add endpoint addendpoint endpoint deployment exception deploymentexception illegal state exception illegalstateexception server endpoint serverendpoint config path endpoint atomic integer atomicinteger open connection count openconnectioncount atomic integer atomicinteger atomic integer atomicinteger error count errorcount atomic integer atomicinteger started get open connection count getopenconnectioncount open connection count openconnectioncount int value intvalue get error count geterrorcount error count errorcount int value intvalue on open onopen on open onopen open connection count openconnectioncount increment and get incrementandget on message onmessage on message onmessage session session string msg io exception ioexception started started started system println received msg sending data session get user properties getuserproperties org apache tomcat websocket blocking send timeout value of valueof send time millis basic remote session get basic remote getbasicremote remote set batching allowed setbatchingallowed message count remote send text sendtext message message count remote set batching allowed setbatchingallowed remote set batching allowed setbatchingallowed flushing happen automatically session close session close on error onerror on error onerror suppress warnings suppresswarnings unused throwable error count errorcount increment and get incrementandget on close onclose on close onclose open connection count openconnectioncount decrement and get decrementandget
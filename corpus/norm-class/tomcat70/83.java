licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina ssi java io exception ioexception java print writer printwriter java text decimal format decimalformat server side fsize command author bip the lin thelin author paul speed author dan sandberg author david becker ssi f size ssifsize ssi command ssicommand kilobyte megabyte ssi command ssicommand override process ssi mediator ssimediator ssi mediator ssimediator string command name commandname string param names paramnames string param values paramvalues print writer printwriter writer last modified lastmodified string config err msg configerrmsg ssi mediator ssimediator get config err msg getconfigerrmsg param names paramnames length string param name paramname param names paramnames string param value paramvalue param values paramvalues string substituted value substitutedvalue ssi mediator ssimediator substitute variables substitutevariables param value paramvalue param name paramname equals ignore case equalsignorecase file param name paramname equals ignore case equalsignorecase virtual virtual param name paramname equals ignore case equalsignorecase virtual last modified lastmodified ssi mediator ssimediator get file last modified getfilelastmodified substituted value substitutedvalue virtual size ssi mediator ssimediator get file size getfilesize substituted value substitutedvalue virtual string config size fmt configsizefmt ssi mediator ssimediator get config size fmt getconfigsizefmt writer write format size formatsize size config size fmt configsizefmt ssi mediator ssimediator log fsize invalid attribute param name paramname writer write config err msg configerrmsg io exception ioexception ssi mediator ssimediator log fsize could n couldn size file substituted value substitutedvalue writer write config err msg configerrmsg last modified lastmodified string repeat a char achar num chars numchars num chars numchars illegal argument exception illegalargumentexception num chars negative string builder stringbuilder buf string builder stringbuilder num chars numchars buf append a char achar buf to string tostring string pad left padleft string str max chars maxchars string result str chars to add charstoadd max chars maxchars str length chars to add charstoadd result repeat chars to add charstoadd str result mimic apache magic numbers util script apache source file string format size formatsize size string format string ret string retstring format equals ignore case equalsignorecase bytes decimal format decimalformat decimal format decimalformat decimal format decimalformat ret string retstring decimal format decimalformat format size size ret string retstring size kilobyte ret string retstring size megabyte ret string retstring to string tostring size kilobyte ret string retstring size megabyte decimal format decimalformat decimal format decimalformat decimal format decimalformat ret string retstring decimal format decimalformat format size megabyte ret string retstring to string tostring size kilobyte megabyte ret string retstring ret string retstring pad left padleft ret string retstring ret string retstring
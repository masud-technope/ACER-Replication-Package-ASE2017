licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util http java io exception ioexception javax servlet http cookie javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache catalina context org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest base test link cookies note code code constants link cookies tests executed jvm instance tests place separate classes facilitate running unit tests ant cookies base test cookiesbasetest tomcat base test tomcatbasetest servlet cookie naming test cookie servlet cookieservlet http servlet httpservlet serialversionuid string cookie name cookiename string cookie value cookievalue cookie servlet cookieservlet string cookie name cookiename string cookie value cookievalue cookie name cookiename cookie name cookiename cookie value cookievalue cookie value cookievalue override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse res io exception ioexception cookie cookie cookie cookie name cookiename cookie value cookievalue res add cookie addcookie cookie res get writer getwriter write cookie illegal argument exception illegalargumentexception iae res get writer getwriter write cookie fail add servlets addservlets tomcat tomcat file system doc base docbase required context ctx tomcat add context addcontext tomcat add servlet addservlet ctx invalid cookie servlet cookieservlet ctx add servlet mapping addservletmapping invalid invalid tomcat add servlet addservlet ctx cookie servlet cookieservlet ctx add servlet mapping addservletmapping tomcat add servlet addservlet ctx blank cookie servlet cookieservlet ctx add servlet mapping addservletmapping blank blank tomcat add servlet addservlet ctx invalid fwd invalidfwd cookie servlet cookieservlet ctx add servlet mapping addservletmapping invalid fwd invalidfwd invalid fwd invalidfwd tomcat add servlet addservlet ctx invalid strict invalidstrict cookie servlet cookieservlet ctx add servlet mapping addservletmapping invalid strict invalidstrict invalid strict invalidstrict tomcat add servlet addservlet ctx valid cookie servlet cookieservlet ctx add servlet mapping addservletmapping valid valid tomcat add servlet addservlet ctx cookie servlet cookieservlet val ctx add servlet mapping addservletmapping test cookies instance testcookiesinstance exception
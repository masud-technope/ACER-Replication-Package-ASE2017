licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina startup java file java util array list arraylist java util enumeration java util list java util concurrent executor service executorservice java util concurrent java util regex pattern org apache catalina context org apache catalina host org apache catalina lifecycle org apache catalina lifecycle event lifecycleevent org apache catalina lifecycle listener lifecyclelistener org apache tomcat util res string manager stringmanager startup event listener host config ures configures contexts web applications defined users web application directory directories context path deployed application code xxxxx code xxxxx username owning user web application author craig mc clanahan mcclanahan user config userconfig lifecycle listener lifecyclelistener org apache juli logging log log org apache juli logging log factory logfactory get log getlog user config userconfig instance variables java context configuration string config class configclass org apache catalina startup context config contextconfig java context implementation string context class contextclass org apache catalina core standard context standardcontext directory searched user directory string directory name directoryname html base directory user directories string home base homebase host host host string resources string manager stringmanager string manager stringmanager get manager getmanager constants java user database string user class userclass org apache catalina startup pass wd user data base passwduserdatabase regular expression defining user deployment allowed pattern regular expression defining user deployment denied pattern deny properties context configuration string get config class getconfigclass config class configclass context configuration param config class configclass context configuration set config class setconfigclass string config class configclass config class configclass config class configclass context implementation string get context class getcontextclass context class contextclass context implementation param context class contextclass context implementation set context class setcontextclass string context class contextclass context class contextclass context class contextclass directory user web applications string get directory name getdirectoryname directory name directoryname directory user web applications param directory name directoryname directory set directory name setdirectoryname string directory name directoryname directory name directoryname directory name directoryname base directory user directories string get home base gethomebase home base homebase base directory user directories param home base homebase base directory set home base sethomebase string home base homebase home base homebase home base homebase user database component string get user class getuserclass user class userclass user database component set user class setuserclass string user class userclass user class userclass user class userclass regular expression test user deployment allowed string get allow getallow to string tostring regular expression test user deployment allowed param expression set allow setallow string length pattern compile regular expression test user deployment denied string get deny getdeny deny deny to string tostring regular expression test user deployment denied param deny deny expression set deny setdeny string deny deny deny length deny deny pattern compile deny methods process start event host param event lifecycle event occurred override lifecycle event lifecycleevent lifecycle event lifecycleevent event identify host host host event get lifecycle getlifecycle class cast exception classcastexception log error get string getstring host config hostconfig cce event get lifecycle getlifecycle process event occurred event get type gettype equals lifecycle start event start event get type gettype equals lifecycle event methods deploy web application user web application directory directory deploy host get logger getlogger is debug enabled isdebugenabled host get logger getlogger debug get string getstring user config userconfig dep loying deploying load user database object host user data base userdatabase database clazz for name forname user class userclass database user data base userdatabase clazz new instance newinstance database set user config setuserconfig exception host get logger getlogger error get string getstring user config userconfig database executor service executorservice executor host get start stop executor getstartstopexecutor list array list arraylist deploy web application defined user enumeration string users database get use rs getusers users has more elements hasmoreelements string user users next element nextelement is deploy allowed isdeployallowed user string database get home gethome user add executor sub mit submit deploy user directory deployuserdirectory user result result exception host get logger getlogger error get string getstring user config userconfig deploy thr eaded threaded error deploy web application user application defined directory directory param user username owning application deployed param directory user deploy string user string user web application deployed string context path contextpath user host find child findchild context path contextpath file app file directory name directoryname app exists app is directory isdirectory file file app web inf web xml exists is file isfile can read canread host get logger getlogger info get string getstring user config userconfig deploy user deploy web application user clazz for name forname context class contextclass context context context clazz new instance newinstance context set path setpath context path contextpath context set doc base setdocbase app to string tostring clazz for name forname config class configclass lifecycle listener lifecyclelistener listener lifecycle listener lifecyclelistener clazz new instance newinstance context add lifecycle listener addlifecyclelistener listener host add child addchild context exception host get logger getlogger error get string getstring user config userconfig error user process start event host start host get logger getlogger is debug enabled isdebugenabled host get logger getlogger debug get string getstring user config userconfig start deploy process event host host get logger getlogger is debug enabled isdebugenabled host get logger getlogger debug get string getstring user config userconfig test deny rules user code code user allowed deploy code code is deploy allowed isdeployallowed string user deny deny matcher user matches matcher user matches deploy user directory deployuserdirectory runnable user config userconfig config string user string deploy user directory deployuserdirectory user config userconfig config string user string config config user user override config deploy user
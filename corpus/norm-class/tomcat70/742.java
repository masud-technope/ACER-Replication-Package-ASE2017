licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc pool java lang management management factory managementfactory java util hashtable javax management instance not found exception instancenotfoundexception javax management m bean registration mbeanregistration javax management m bean server mbeanserver javax management malformed object name exception malformedobjectnameexception javax management object name objectname org apache juli logging log org apache juli logging log factory logfactory data source datasource instantiated io c ioc data source datasource data source proxy datasourceproxy proxy data source datasource simply wraps link connection pool connectionpool order provide standard user author filip hanik version data source datasource data source proxy datasourceproxy javax sql data source datasource m bean registration mbeanregistration org apache tomcat jdbc pool jmx connection pool bean connectionpoolmbean javax sql connection pool data source connectionpooldatasource log log log factory logfactory get log getlog data source datasource constructor ref lection reflection pool properties created data source datasource constructs data source datasource object wrapping connection param pool properties poolproperties data source datasource pool configuration poolconfiguration pool properties poolproperties pool properties poolproperties jmx operations register actual pool tomcat jdbc domain object name objectname oname unregisters underlying connection pool mbean inherit doc inheritdoc override post deregister postderegister oname unregister jmx unregisterjmx inherit doc inheritdoc override post register postregister registration done registrationdone noop inherit doc inheritdoc override pre deregister prederegister exception noop connection pool m bean mbean exists registered operation inherit doc inheritdoc override object name objectname pre register preregister m bean server mbeanserver server object name objectname exception is jmx enabled isjmxenabled oname create object name createobjectname oname register jmx registerjmx malformed object name exception malformedobjectnameexception log error unable create object jdbc pool creates object name objectname connection pool bean connectionpoolmbean object registered param original object name objectname data source datasource object name objectname connection pool bean connectionpoolmbean malformed object name exception malformedobjectnameexception object name objectname create object name createobjectname object name objectname original malformed object name exception malformedobjectnameexception string domain connection pool connectionpool pool jmx domain hashtable string string properties original get key property list getkeypropertylist string orig domain origdomain original get domain getdomain properties type connection pool connectionpool properties get class getclass get name getname original get key property getkeyproperty path properties context ensures registration tomcat losing unique domain put ting putting engine attribute properties engine orig domain origdomain object name objectname object name objectname domain properties registers connection pool bean connectionpoolmbean unique based object name objectname data source datasource register jmx registerjmx pool get jmx pool getjmxpool m bean server mbeanserver mbs management factory managementfactory get platform bean server getplatformmbeanserver mbs registermbean pool get jmx pool getjmxpool oname exception log error unable register jdbc pool jmx unregister jmx unregisterjmx m bean server mbeanserver mbs management factory managementfactory get platform bean server getplatformmbeanserver mbs unregistermbean oname instance not found exception instancenotfoundexception ignore exception log error unable unregister jdbc pool jmx
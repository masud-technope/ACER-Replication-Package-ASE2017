licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util java lang management classloadingmxbean java lang management compilationmxbean java lang management garbagecollectormxbean java lang management lock info lockinfo java lang management management factory managementfactory java lang management memorymxbean java lang management memorymanagermxbean java lang management memorypoolmxbean java lang management memory usage memoryusage java lang management monitor info monitorinfo java lang management operatingsystemmxbean java lang management runtimemxbean java lang management thread info threadinfo java lang management threadmxbean java text simple date format simpledateformat java util array list arraylist java util arrays java util collections java util java util enumeration java util list java util locale java util map java util logging log manager logmanager java util logging loggingmxbean org apache tomcat util res string manager stringmanager diagnostics string org apache tomcat util string indent string indent string indent string crlf string vminfo system property vminfosystemproperty java info simple date format simpledateformat time format timeformat simple date format simpledateformat yyyy sss platform m beans mbeans classloadingmxbean classloadingmxbean management factory managementfactory get class loading bean getclassloadingmxbean compilationmxbean compilationmxbean management factory managementfactory getcompilationmxbean operatingsystemmxbean operatingsystemmxbean management factory managementfactory get operating system bean getoperatingsystemmxbean runtimemxbean runtimemxbean management factory managementfactory getruntimemxbean threadmxbean threadmxbean management factory managementfactory getthreadmxbean xxx m beans mbeans retrieved demand change dynamically m bean server mbeanserver loggingmxbean loggingmxbean log manager logmanager getloggingmxbean memorymxbean memorymxbean management factory managementfactory getmemorymxbean list garbagecollectormxbean garbagecollectormxbeans management factory managementfactory get garbage collector beans getgarbagecollectormxbeans list memorymanagermxbean memorymanagermxbeans management factory managementfactory get memory manager beans getmemorymanagermxbeans list memorypoolmxbean memorypoolmxbeans management factory managementfactory get memory pool beans getmemorypoolmxbeans form ats formats thread dump header thread param thread info threadinfo describing thread formatted thread dump header string get thread dump header getthreaddumpheader thread info threadinfo string builder stringbuilder string builder stringbuilder get thread name getthreadname append get thread id getthreadid append cpu threadmxbean get thread cpu time getthreadcputime get thread id getthreadid append usr threadmxbean get thread user time getthreadusertime get thread id getthreadid append blocked get blocked count getblockedcount get blocked time getblockedtime append waited get waited count getwaitedcount get waited time getwaitedtime is suspended issuspended append suspended is in native isinnative append running append crlf append indent java lang thread get thread state getthreadstate append crlf to string tostring form ats formats thread dump thread param thread info threadinfo describing thread formatted thread dump string get thread dump getthreaddump thread info threadinfo string builder stringbuilder string builder stringbuilder get thread dump header getthreaddumpheader lock info lockinfo get locked synchronize rs getlockedsynchronizers append indent locks to string tostring crlf start stack trace element stacktraceelement stes get stack trace getstacktrace object monitor depths monitordepths object stes length monitor info monitorinfo mis get locked monitors getlockedmonitors mis length monitor depths monitordepths mis get locked stack depth getlockedstackdepth mis stes length stack trace element stacktraceelement ste stes append indent ste to string tostring crlf start get lock name getlockname append indent waiting get lock name getlockname get lock owner name getlockownername append owned get lock owner name getlockownername get lock owner id getlockownerid append crlf start monitor depths monitordepths monitor info monitorinfo monitor info monitorinfo monitor depths monitordepths append indent locked to string tostring get locked stack depth getlockedstackdepth frame get locked stack frame getlockedstackframe to string tostring append crlf to string tostring form ats formats thread dump list threads param tinfos thread info threadinfo array describing thread list formatted thread dump string get thread dump getthreaddump thread info threadinfo tinfos string builder stringbuilder string builder stringbuilder thread info threadinfo tinfo tinfos append get thread dump getthreaddump tinfo append crlf to string tostring check threads dead locked deadlocked print thread dump threads deadlock message formatted thread dump dead locked deadlocked threads string find deadlock finddeadlock thread info threadinfo tinfos ids threadmxbean find dead locked threads finddeadlockedthreads ids tinfos threadmxbean get thread info getthreadinfo threadmxbean find dead locked threads finddeadlockedthreads tinfos string builder stringbuilder string builder stringbuilder deadlock threads append crlf append get thread dump getthreaddump tinfos to string tostring retrieves formatted jvm thread dump list locales retrieve string manager stringmanager param requested locales requestedlocales list locales formatted jvm thread dump string get thread dump getthreaddump enumeration locale requested locales requestedlocales get thread dump getthreaddump string manager stringmanager get manager getmanager requested locales requestedlocales retrieve jvm thread dump formatted string manager stringmanager param requested sm requestedsm string manager stringmanager formatted jvm thread dump string get thread dump getthreaddump string manager stringmanager requested sm requestedsm string builder stringbuilder string builder stringbuilder time format timeformat append time format timeformat format append crlf append requested sm requestedsm get string getstring diagnostics thread dump title threaddumptitle append append runtimemxbean get vm name getvmname append append runtimemxbean get vm version getvmversion string vminfo system get property getproperty vminfo system property vminfosystemproperty vminfo append vminfo append crlf append crlf thread info threadinfo tis threadmxbean dump all threads dumpallthreads append get thread dump getthreaddump tis append find deadlock finddeadlock to string tostring format contents memory usage memoryusage object param text prefix for matting formatting param usage memory usage memoryusage object format formatted contents string format memory usage formatmemoryusage string memory usage memoryusage usage usage string builder stringbuilder string builder stringbuilder append indent init usage get init getinit crlf append indent usage get used getused crlf append indent committed usage get committed getcommitted crlf append indent max usage get max getmax crlf to string tostring retrieves formatted jvm text list locales retrieve string manager stringmanager param requested locales requestedlocales list locales formatted jvm text string getvminfo enumeration locale requested locales requestedlocales getvminfo string manager stringmanager get manager getmanager requested locales requestedlocales retrieve jvm text formatted string manager stringmanager param requested sm requestedsm string manager stringmanager formatted jvm text string getvminfo string manager stringmanager requested sm requestedsm string builder stringbuilder string builder stringbuilder time format timeformat append time format timeformat format append crlf append requested sm requestedsm get string getstring diagnostics vm info runtime vminforuntime append crlf append indent vm name vmname runtimemxbean get vm name getvmname crlf append indent vm version vmversion runtimemxbean get vm version getvmversion crlf append indent vm vendor vmvendor runtimemxbean get vm vendor getvmvendor crlf append indent spec name specname runtimemxbean get spec name getspecname crlf append indent spec version specversion runtimemxbean get spec version getspecversion crlf append indent spec vendor specvendor runtimemxbean get spec vendor getspecvendor crlf append indent management spec version managementspecversion runtimemxbean get management spec version getmanagementspecversion crlf append indent runtimemxbean get name getname crlf append indent start time starttime runtimemxbean get start time getstarttime crlf append indent uptime runtimemxbean get uptime getuptime crlf append indent is boot class path supported isbootclasspathsupported runtimemxbean is boot class path supported isbootclasspathsupported crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info os vminfoos append crlf append indent operatingsystemmxbean get name getname crlf append indent version operatingsystemmxbean get version getversion crlf append indent arch itecture architecture operatingsystemmxbean get arch getarch crlf append indent available processors availableprocessors operatingsystemmxbean get available processors getavailableprocessors crlf append indent system load average systemloadaverage operatingsystemmxbean get system load average getsystemloadaverage crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info thread mx bean vminfothreadmxbean append crlf append indent is current thread cpu time supported iscurrentthreadcputimesupported threadmxbean is current thread cpu time supported iscurrentthreadcputimesupported crlf append indent is thread cpu time supported isthreadcputimesupported threadmxbean is thread cpu time supported isthreadcputimesupported crlf append indent is thread cpu time enabled isthreadcputimeenabled threadmxbean is thread cpu time enabled isthreadcputimeenabled crlf append indent is object monitor usage supported isobjectmonitorusagesupported threadmxbean is object monitor usage supported isobjectmonitorusagesupported crlf append indent is synchronizer usage supported issynchronizerusagesupported threadmxbean is synchronizer usage supported issynchronizerusagesupported crlf append indent is thread content ion monitoring supported isthreadcontentionmonitoringsupported threadmxbean is thread content ion monitoring supported isthreadcontentionmonitoringsupported crlf append indent is thread content ion monitoring enabled isthreadcontentionmonitoringenabled threadmxbean is thread content ion monitoring enabled isthreadcontentionmonitoringenabled crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info thread counts vminfothreadcounts append crlf append indent daemon threadmxbean get daemon thread count getdaemonthreadcount crlf append indent total threadmxbean get thread count getthreadcount crlf append indent peak threadmxbean get peak thread count getpeakthreadcount crlf append indent total started totalstarted threadmxbean get total started thread count gettotalstartedthreadcount crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info startup vminfostartup append crlf string arg runtimemxbean get input arguments getinputarguments append indent arg crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info path vminfopath append crlf append indent boot class path bootclasspath runtimemxbean get boot class path getbootclasspath crlf append indent class path classpath runtimemxbean get class path getclasspath crlf append indent library path librarypath runtimemxbean get library path getlibrarypath crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info class loading vminfoclassloading append crlf append indent loaded classloadingmxbean get loaded class count getloadedclasscount crlf append indent unloaded classloadingmxbean get unloaded class count getunloadedclasscount crlf append indent total loaded totalloaded classloadingmxbean get total loaded class count gettotalloadedclasscount crlf append indent is verbose isverbose classloadingmxbean is verbose isverbose crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info class compilation vminfoclasscompilation append crlf append indent compilationmxbean get name getname crlf append indent total compilation time totalcompilationtime compilationmxbean get total compilation time gettotalcompilationtime crlf append indent is compilation time monitoring supported iscompilationtimemonitoringsupported compilationmxbean is compilation time monitoring supported iscompilationtimemonitoringsupported crlf append crlf memorymanagermxbean mbean memorymanagermxbeans append requested sm requestedsm get string getstring diagnostics vm info memory managers vminfomemorymanagers mbean get name getname append crlf append indent is valid isvalid mbean is valid isvalid crlf append indent mbean get memory pool names getmemorypoolnames crlf string names mbean get memory pool names getmemorypoolnames arrays sort names string names append indent crlf append crlf garbagecollectormxbean mbean garbagecollectormxbeans append requested sm requestedsm get string getstring diagnostics vm info garbage collectors vminfogarbagecollectors mbean get name getname append crlf append indent is valid isvalid mbean is valid isvalid crlf append indent mbean get memory pool names getmemorypoolnames crlf string names mbean get memory pool names getmemorypoolnames arrays sort names string names append indent crlf append indent get collection count getcollectioncount mbean get collection count getcollectioncount crlf append indent get collection time getcollectiontime mbean get collection time getcollectiontime crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info memory vminfomemory append crlf append indent is verbose isverbose memorymxbean is verbose isverbose crlf append indent get object pending finalization count getobjectpendingfinalizationcount memorymxbean get object pending finalization count getobjectpendingfinalizationcount crlf append format memory usage formatmemoryusage heap memorymxbean get heap memory usage getheapmemoryusage append format memory usage formatmemoryusage heap memorymxbean get non heap memory usage getnonheapmemoryusage append crlf memorypoolmxbean mbean memorypoolmxbeans append requested sm requestedsm get string getstring diagnostics vm info memory pools vminfomemorypools mbean get name getname append crlf append indent is valid isvalid mbean is valid isvalid crlf append indent get type gettype mbean get type gettype crlf append indent mbean get memory manager names getmemorymanagernames crlf string names mbean get memory manager names getmemorymanagernames arrays sort names string names append indent crlf append indent is usage threshold supported isusagethresholdsupported mbean is usage threshold supported isusagethresholdsupported crlf append indent is usage threshold exceeded isusagethresholdexceeded mbean is usage threshold exceeded isusagethresholdexceeded crlf unsupported operation exception unsupportedoperationexception append indent is collection usage threshold supported iscollectionusagethresholdsupported mbean is collection usage threshold supported iscollectionusagethresholdsupported crlf append indent is collection usage threshold exceeded iscollectionusagethresholdexceeded mbean is collection usage threshold exceeded iscollectionusagethresholdexceeded crlf unsupported operation exception unsupportedoperationexception append indent get usage threshold getusagethreshold mbean get usage threshold getusagethreshold crlf unsupported operation exception unsupportedoperationexception append indent get usage threshold count getusagethresholdcount mbean get usage threshold count getusagethresholdcount crlf unsupported operation exception unsupportedoperationexception append indent get collection usage threshold getcollectionusagethreshold mbean get collection usage threshold getcollectionusagethreshold crlf unsupported operation exception unsupportedoperationexception append indent get collection usage threshold count getcollectionusagethresholdcount mbean get collection usage threshold count getcollectionusagethresholdcount crlf unsupported operation exception unsupportedoperationexception append format memory usage formatmemoryusage current mbean get usage getusage append format memory usage formatmemoryusage collection mbean get collection usage getcollectionusage append format memory usage formatmemoryusage peak mbean get peak usage getpeakusage append crlf append requested sm requestedsm get string getstring diagnostics vm info system vminfosystem append crlf map string string props runtimemxbean get system properties getsystemproperties array list arraylist string array list arraylist string props key set keyset collections sort string prop append indent prop props prop crlf append crlf append requested sm requestedsm get string getstring diagnostics vm info logger vminfologger append crlf list string log gers loggers loggingmxbean get logger names getloggernames collections sort log gers loggers string logger log gers loggers append indent logger level loggingmxbean get logger level getloggerlevel logger parent loggingmxbean get parent logger name getparentloggername logger crlf append crlf to string tostring
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina filters java i o exception ioexception java print writer printwriter java util array list arraylist java util calendar java util java util enumeration java util linked hash map linkedhashmap java util list java util locale java util map java util no such element exception nosuchelementexception java util string tokenizer stringtokenizer java util regex pattern javax servlet filter chain filterchain javax servlet filter config filterconfig javax servlet servlet exception servletexception javax servlet servlet output stream servletoutputstream javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse javax servlet http http servlet response wrapper httpservletresponsewrapper org apache juli logging log org apache juli logging log factory logfactory expires filter expiresfilter java servlet api port href http http d httpd apache org docs mod mod expires html apache mod expires add code expires code cache control max age headers http response code content type documentation ins pired inspired href http http d httpd apache org docs mod mod expires html mod expires summary filter controls setting code expires http header code max age directive code cache control http header server resp onses responses expiration relative time source file modified time client access http headers instruction client document val idity validity persistence cached document fetched cache source time passed cache copy considered quot expired quot invalid copy source modify code cache control directives code max age href http org protocols rfc rfc html rfc servlet filters href http http d httpd apache org docs mod mod headers html apache http d httpd mod headers module filter configuration basic configuration add code expires code cache control max age headers images css java script javascript pre code web app filter filter expires filter expiresfilter filter filter org apache catalina filters expires filter expiresfilter filter init param param expires by type expiresbytype image param param access minutes param init param init param param expires by type expiresbytype text css param param access minutes param init param init param param expires by type expiresbytype application java script javascript param param access minutes param init param filter filter mapping filter expires filter expiresfilter filter url pattern url pattern dispatcher request dispatcher filter mapping web app pre configuration parameters code expires by type expiresbytype content type directive defines code expires header code max age directive code cache control header generated doc uments documents type code text html argument sets number seconds base time construct expiration code cache control max age calculated sub tra cting subtracting request time expiration expr essing expressing result seconds base time modification time file time client access document code code field code file modification time base time code client access time duration expr essed expressed seconds code stands code access days alternate syntax difference sub tle subtle code code modification alternate syntax current copies document caches expire time good weekly not ice notice url code code access code alternate syntax expiration client good image files don change doc uments documents refer images images accessed repeatedly times pan timespan strong strong pre code init param param expires by type expiresbytype text html param param access month days hours param init param init param seconds days param expires by type expiresbytype image gif param param param init param pre note directive code expires active expiresactive overrides mime type expiration code expires default expiresdefault directive expiration time calculation alternate syntax earlier document code expires excluded response status codes expiresexcludedresponsestatuscodes directive defines http response status codes code expires filter expiresfilter generate expiration headers code status code quot code modified quot skipped comma separated list http status codes directive ease usage code expires default expiresdefault directive behavior code modified code content type header combined code expires code cache control max age headers unnecessarily tricky under stand understand configuration sample pre code init param param expires excluded response status codes expiresexcludedresponsestatuscodes param param param init param pre expires default expiresdefault directive sets algorithm calculating expiration time doc uments documents realm overridden type type basis code expires by type expiresbytype directive description directive details syntax argument alternate syntax description alternate syntax code expires default expiresdefault code expires by type expiresbytype directives defined readable syntax form pre code init param param expires default expiresdefault param param base num type param init param init param param expires by type expiresbytype type encoding param param base num type param init param pre code base code access code equivalent code access code modification code keyword optional code num int eger integer accept able acceptable code integer parse int parseint code type code years code months code weeks code days code hours code minutes code seconds directives doc uments documents expire month accessed pre code init param param expires default expiresdefault param param access month param init param init param param expires default expiresdefault param param access weeks param init param init param param expires default expiresdefault param param access days param init param pre exp iry expiry time fine tuned adding code num type clauses pre code init param param expires by type expiresbytype text html param param access month days hours param init param init param param expires by type expiresbytype image gif param param modification hours minutes param init param pre note modification based setting code expires header strong strong content file disk fact modification time content expiration headers generation eligibility response eligible enriched code expires filter expiresfilter expiration header defined code expires header code max age directive code cache control header response status code excluded directive code expires excluded response status codes expiresexcludedresponsestatuscodes code content type response matches types defined code expires by type expiresbytype directives code expires default expiresdefault directive defined note code cache control header directives code max age concat enated concatenated code max age directive code expires filter expiresfilter expiration configuration selection expiration configuration elected algorithm code expires by type expiresbytype matching exact content type returned code http servlet response httpservletresponse get content type getcontenttype including charset code text xml charset utf code expires by type expiresbytype matching content type charset code http servlet response httpservletresponse get content type getcontenttype charset code text xml charset utf code text xml code expires by type expiresbytype matching major type substring code code http servlet response httpservletresponse get content type getcontenttype code text xml charset utf code text code expires default expiresdefault implementation details write expiration headers code expires filter expiresfilter tra ps traps write response body event decide generate expiration headers trap write response body event code expires filter expiresfilter wraps http servlet response writer output stream outputstream int ercept intercept calls methods code write code print code close code flush empty response body empty files code write code print code close code flush methods called handle code expires filter expiresfilter code do filter dofilter method manually triggers code on before write response body onbeforewriteresponsebody method configuration syntax code expires filter expiresfilter supports configuration syntax apache http d httpd mod expires challenge choose code param code expires by type expiresbytype code filter declaration code expires by type expiresbytype directives declared code web xml syntax declare code init param work around workaround declare content type code param code param designed extension open close principle code expires filter expiresfilter designed extension open close principle key methods override extension link is eligible to expiration header generation iseligibletoexpirationheadergeneration http servlet request httpservletrequest x http servlet response xhttpservletresponse link get expiration date getexpirationdate x http servlet response xhttpservletresponse troubleshooting troubleshoot enable logging code org apache catalina filters expires filter expiresfilter extract logging properties code pre org apache catalina filters expires filter expiresfilter level fine pre code sample initialization log message code pre mar org apache catalina filters expires filter expiresfilter init fine filter initialized configuration expires filter expiresfilter excluded response status code excludedresponsestatuscode by type bytype image expires configuration expiresconfiguration starting point startingpoint access time duration minute text css expires configuration expiresconfiguration starting point startingpoint access time duration minute application java script javascript expires configuration expiresconfiguration starting point startingpoint access time duration minute pre code sample request log message code expires filter expiresfilter adds expiration code pre mar org apache catalina filters expires filter expiresfilter on before write response body onbeforewriteresponsebody fine request tomcat gif response status content type image gif expiration pre code sample request log message code expires filter expiresfilter add expiration code pre mar org apache catalina filters expires filter expiresfilter on before write response body onbeforewriteresponsebody fine request docs config manager html response status content type text html expiration configured pre code expires filter expiresfilter filter base filterbase duration comp osed composed link amount link unit duration amount duration unit durationunit unit duration amount duration unit durationunit unit amount amount unit unit get amount getamount amount duration unit durationunit get unit getunit unit override string to string tostring amount unit duration unit enum duration unit durationunit day calendar day year hour calendar hour minute calendar minute month calendar month calendar week calendar week year year calendar year calendar d field calendardfield duration unit durationunit calendar d field calendardfield calendar d field calendardfield calendar d field calendardfield get calendar d field getcalendardfield calendar d field calendardfield main piece configuration filter expr essed expressed code access month days hours expires configuration expiresconfiguration list duration elements list duration durations starting point elaspse response starting point startingpoint starting point startingpoint expires configuration expiresconfiguration starting point startingpoint starting point startingpoint list duration durations starting point startingpoint starting point startingpoint durations durations list duration get durations getdurations durations starting point startingpoint get starting point getstartingpoint starting point startingpoint override string to string tostring expires configuration expiresconfiguration starting point startingpoint starting point startingpoint duration durations expiration configuration starting point time html servlet response served link starting point startingpoint access time time html servlet response modified link starting point startingpoint modification time enum starting point startingpoint access time modification time wrapping extension link http servlet response httpservletresponse yrap start write response body event performance optimization extended response holds link last modified header lastmodifiedheader link cache control header cachecontrolheader values access slow link get header getheader string spare code string code code conversion x http servlet response xhttpservletresponse http servlet response wrapper httpservletresponsewrapper code cache control http response header string cache control header cachecontrolheader code modified http response header last modified header lastmodifiedheader last modified header set lastmodifiedheaderset print writer printwriter print writer printwriter http servlet request httpservletrequest request servlet output stream servletoutputstream servlet output stream servletoutputstream calls write methods code write code print response body called write response body started writeresponsebodystarted x http servlet response xhttpservletresponse http servlet request httpservletrequest request http servlet response httpservletresponse response response request request override add date header adddateheader string add date header adddateheader last modified header set lastmodifiedheaderset last modified header lastmodifiedheader last modified header set lastmodifiedheaderset override add header addheader string string add header addheader header cache control equals ignore case equalsignorecase cache control header cachecontrolheader cache control header cachecontrolheader string get cache control header getcachecontrolheader cache control header cachecontrolheader get last modified header getlastmodifiedheader last modified header lastmodifiedheader override servlet output stream servletoutputstream get output stream getoutputstream i o exception ioexception servlet output stream servletoutputstream servlet output stream servletoutputstream x servlet output stream xservletoutputstream get output stream getoutputstream request servlet output stream servletoutputstream override print writer printwriter get writer getwriter i o exception ioexception print writer printwriter print writer printwriter x print writer xprintwriter get writer getwriter request print writer printwriter is last modified header set islastmodifiedheaderset last modified header set lastmodifiedheaderset is write response body started iswriteresponsebodystarted write response body started writeresponsebodystarted override reset reset last modified header lastmodifiedheader last modified header set lastmodifiedheaderset cache control header cachecontrolheader override set date header setdateheader string set date header setdateheader header modified equals ignore case equalsignorecase last modified header lastmodifiedheader last modified header set lastmodifiedheaderset override set header setheader string string set header setheader header cache control equals ignore case equalsignorecase cache control header cachecontrolheader set write response body started setwriteresponsebodystarted write response body started writeresponsebodystarted write response body started writeresponsebodystarted write response body started writeresponsebodystarted wrapping extension link print writer printwriter trap start write response body event x print writer xprintwriter print writer printwriter print writer printwriter http servlet request httpservletrequest request x http servlet response xhttpservletresponse response x print writer xprintwriter print writer printwriter http servlet request httpservletrequest request x http servlet response xhttpservletresponse response request request response response override print writer printwriter append fire before write response body event firebeforewriteresponsebodyevent append override print writer printwriter append char sequence charsequence csq fire before write response body event firebeforewriteresponsebodyevent append csq override print writer printwriter append char sequence charsequence csq start fire before write response body event firebeforewriteresponsebodyevent append csq start override close fire before write response body event firebeforewriteresponsebodyevent close fire before write response body event firebeforewriteresponsebodyevent response is write response body started iswriteresponsebodystarted response set write response body started setwriteresponsebodystarted on before write response body onbeforewriteresponsebody request response override flush fire before write response body event firebeforewriteresponsebodyevent flush override print fire before write response body event firebeforewriteresponsebodyevent print override print fire before write response body event firebeforewriteresponsebodyevent print override print fire before write response body event firebeforewriteresponsebodyevent print override print fire before write response body event firebeforewriteresponsebodyevent print override print fire before write response body event firebeforewriteresponsebodyevent print override print fire before write response body event firebeforewriteresponsebodyevent print override print fire before write response body event firebeforewriteresponsebodyevent print override print object obj fire before write response body event firebeforewriteresponsebodyevent print obj override print string fire before write response body event firebeforewriteresponsebodyevent print override print writer printwriter printf locale string format object args fire before write response body event firebeforewriteresponsebodyevent printf format args override print writer printwriter printf string format object args fire before write response body event firebeforewriteresponsebodyevent printf format args override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println fire before write response body event firebeforewriteresponsebodyevent println override println object fire before write response body event firebeforewriteresponsebodyevent println override println string fire before write response body event firebeforewriteresponsebodyevent println override write buf fire before write response body event firebeforewriteresponsebodyevent write buf override write buf len fire before write response body event firebeforewriteresponsebodyevent write buf len override write fire before write response body event firebeforewriteresponsebodyevent write override write string fire before write response body event firebeforewriteresponsebodyevent write override write string len fire before write response body event firebeforewriteresponsebodyevent write len wrapping extension link servlet output stream servletoutputstream trap start write response body event x servlet output stream xservletoutputstream servlet output stream servletoutputstream http servlet request httpservletrequest request x http servlet response xhttpservletresponse response servlet output stream servletoutputstream servlet output stream servletoutputstream x servlet output stream xservletoutputstream servlet output stream servletoutputstream servlet output stream servletoutputstream http servlet request httpservletrequest request x http servlet response xhttpservletresponse response servlet output stream servletoutputstream servlet output stream servletoutputstream response response request request override close i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream close fire on before write response body event fireonbeforewriteresponsebodyevent response is write response body started iswriteresponsebodystarted response set write response body started setwriteresponsebodystarted on before write response body onbeforewriteresponsebody request response override flush i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream flush override print i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override print i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override print i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override print i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override print i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override print i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override print string i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream print override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override println string i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream println override write i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream write override write len i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream write len override write i o exception ioexception fire on before write response body event fireonbeforewriteresponsebodyevent servlet output stream servletoutputstream write link pattern comma delimited string support whitespace characters pattern comma separated values pattern commaseparatedvaluespattern pattern compile string header cache control cache control string header expires expires string header modified modified log log log factory logfactory get log getlog expires filter expiresfilter string parameter expires type expires by type expiresbytype string parameter expires expires default expiresdefault string parameter expires excluded response status codes expires excluded response status codes expiresexcludedresponsestatuscodes convert comma delimited list numbers code param comma delimited ints commadelimitedints code code array comma delimited list to int array commadelimitedlisttointarray string comma delimited ints commadelimitedints string ints as strings intsasstrings comma delimited list to string array commadelimitedlisttostringarray comma delimited ints commadelimitedints ints ints as strings intsasstrings length ints as strings intsasstrings length string int as string intasstring ints as strings intsasstrings ints integer parse int parseint int as string intasstring number format exception numberformatexception runtime exception runtimeexception exception parsing number based comma delimited list comma delimited ints commadelimitedints ints convert comma delimited list strings array string array patterns code string comma delimited list to string array commadelimitedlisttostringarray string comma delimited strings commadelimitedstrings comma delimited strings commadelimitedstrings comma delimited strings commadelimitedstrings length string comma separated values pattern commaseparatedvaluespattern split comma delimited strings commadelimitedstrings code code str code search str searchstr string str string search str searchstr str search str searchstr str index of indexof search str searchstr convert array ints comma delimited string string ints to comma delimited string intstocommadelimitedstring ints ints string builder stringbuilder result string builder stringbuilder ints length result append ints ints length result append result to string tostring code code str code characters length is empty isempty string str str str length code code str character with esp ace withespace is not empty isnotempty string str is empty isempty str code code string starts code prefix ignoring param string code param prefix code starts with ignore case startswithignorecase string string string prefix string prefix string prefix prefix length string length string region matches regionmatches prefix prefix length sub set subset code str occurence code separator code code str code separator empty string code separator empty param str code param separator code string substring before substringbefore string str string separator str str is empty isempty separator separator is empty isempty separator index separatorindex str index of indexof separator separator index separatorindex str str substring separator index separatorindex expires configuration expires configuration expiresconfiguration default expires configuration defaultexpiresconfiguration list response status code link expires filter expiresfilter generate expiration headers excluded response status codes excludedresponsestatuscodes http servlet response httpservletresponse modified expires configuration content type visible test map string expires configuration expiresconfiguration expires configuration by content type expiresconfigurationbycontenttype linked hash map linkedhashmap string expires configuration expiresconfiguration override do filter dofilter servlet request servletrequest request servlet response servletresponse response filter chain filterchain chain i o exception ioexception servlet exception servletexception request http servlet request httpservletrequest response http servlet response httpservletresponse http servlet request httpservletrequest http request httprequest http servlet request httpservletrequest request http servlet response httpservletresponse http response httpresponse http servlet response httpservletresponse response response is committed iscommitted log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter response already commited responsealreadycommited http request httprequest getrequesturl chain do filter dofilter request response x http servlet response xhttpservletresponse x response xresponse x http servlet response xhttpservletresponse http request httprequest http response httpresponse chain do filter dofilter request x response xresponse x response xresponse is write response body started iswriteresponsebodystarted empty response manually trigger on before write response body onbeforewriteresponsebody on before write response body onbeforewriteresponsebody http request httprequest x response xresponse chain do filter dofilter request response expires configuration expiresconfiguration get default expires configuration getdefaultexpiresconfiguration default expires configuration defaultexpiresconfiguration string get excluded response status codes getexcludedresponsestatuscodes ints to comma delimited string intstocommadelimitedstring excluded response status codes excludedresponsestatuscodes get excluded response status codes as ints getexcludedresponsestatuscodesasints excluded response status codes excludedresponsestatuscodes returns expiration link x http servlet response xhttpservletresponse code expiration configured declared content type code extension http servlet response httpservletresponse get content type getcontenttype get expiration date getexpirationdate x http servlet response xhttpservletresponse response string content type contenttype response get content type getcontenttype lookup exact content type match text html charset iso expires configuration expiresconfiguration configuration expires configuration by content type expiresconfigurationbycontenttype content type contenttype configuration result get expiration date getexpirationdate configuration response log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter use matching configuration usematchingconfiguration configuration content type contenttype content type contenttype result result content type contenttype lookup content type charset match text html string content type without charset contenttypewithoutcharset substring before substringbefore content type contenttype trim configuration expires configuration by content type expiresconfigurationbycontenttype content type without charset contenttypewithoutcharset configuration result get expiration date getexpirationdate configuration response log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter use matching configuration usematchingconfiguration configuration content type without charset contenttypewithoutcharset content type contenttype result result content type contenttype lookup major type match text string major type majortype substring before substringbefore content type contenttype configuration expires configuration by content type expiresconfigurationbycontenttype major type majortype configuration result get expiration date getexpirationdate configuration response log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter use matching configuration usematchingconfiguration configuration major type majortype content type contenttype result result default expires configuration defaultexpiresconfiguration result get expiration date getexpirationdate default expires configuration defaultexpiresconfiguration response log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter use default configuration usedefaultconfiguration default expires configuration defaultexpiresconfiguration content type contenttype result result log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter no expiration configured for content type noexpirationconfiguredforcontenttype content type contenttype returns expiration link expires configuration expiresconfiguration link http servlet request httpservletrequest link x http servlet response xhttpservletresponse code extension get expiration date getexpirationdate expires configuration expiresconfiguration configuration x http servlet response xhttpservletresponse response calendar calendar configuration get starting point getstartingpoint access time calendar calendar get instance getinstance modification time response is last modified header set islastmodifiedheaderset last modified lastmodified response get last modified header getlastmodifiedheader calendar calendar get instance getinstance calendar set time i n millis settimeinmillis last modified lastmodified number format exception numberformatexception calendar calendar get instance getinstance modified header calendar calendar get instance getinstance illegal state exception illegalstateexception get string getstring expires filter expiresfilter unsupported starting point unsupportedstartingpoint configuration get starting point getstartingpoint duration duration configuration get durations getdurations calendar add duration get unit getunit get calendar d field getcalendardfield duration get amount getamount calendar get time gettime map string expires configuration expiresconfiguration get expires configuration by content type getexpiresconfigurationbycontenttype expires configuration by content type expiresconfigurationbycontenttype override log get logger getlogger log override init filter config filterconfig filter config filterconfig servlet exception servletexception enumeration string names filter config filterconfig get init parameter names getinitparameternames names has more elements hasmoreelements string names next element nextelement string filter config filterconfig get init parameter getinitparameter starts with startswith parameter expires type string content type contenttype substring parameter expires type length trim expires configuration expiresconfiguration expires configuration expiresconfiguration parse expires configuration parseexpiresconfiguration expires configuration by content type expiresconfigurationbycontenttype content type contenttype expires configuration expiresconfiguration equals ignore case equalsignorecase parameter expires expires configuration expiresconfiguration expires configuration expiresconfiguration parse expires configuration parseexpiresconfiguration default expires configuration defaultexpiresconfiguration expires configuration expiresconfiguration equals ignore case equalsignorecase parameter expires excluded response status codes excluded response status codes excludedresponsestatuscodes comma delimited list to int array commadelimitedlisttointarray log warn get string getstring expires filter expiresfilter unknown parameter ignored unknownparameterignored runtime exception runtimeexception servlet exception servletexception get string getstring expires filter expiresfilter exception processing parameter exceptionprocessingparameter log debug get string getstring expires filter expiresfilter filter initialized filterinitialized to string tostring code extension is eligible to expiration header generation iseligibletoexpirationheadergeneration http servlet request httpservletrequest request x http servlet response xhttpservletresponse response expiration header has been set expirationheaderhasbeenset response contains header containsheader header expires response get cache control header getcachecontrolheader max age expiration header has been set expirationheaderhasbeenset log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter expiration header already defined expirationheaderalreadydefined request getrequesturi integer value of valueof response get status getstatus response get content type getcontenttype skipped status code skippedstatuscode excluded response status codes excludedresponsestatuscodes response get status getstatus skipped status code skippedstatuscode log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter skipped status code skippedstatuscode request getrequesturi integer value of valueof response get status getstatus response get content type getcontenttype expiration header servlet expiration defined link expires filter expiresfilter configuration sets code expires header attribute code max age code cache control header called start write response body event invocations code logger debug guarded link log is debug enabled isdebugenabled link http servlet request httpservletrequest getrequesturi link http servlet response httpservletresponse get content type getcontenttype costs code string objects ins tantiations instantiations tomcat on before write response body onbeforewriteresponsebody http servlet request httpservletrequest request x http servlet response xhttpservletresponse response is eligible to expiration header generation iseligibletoexpirationheadergeneration request response expiration date expirationdate get expiration date getexpirationdate response expiration date expirationdate log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter no expiration configured noexpirationconfigured request getrequesturi integer value of valueof response get status getstatus response get content type getcontenttype log is debug enabled isdebugenabled log debug get string getstring expires filter expiresfilter set expiration date setexpirationdate request getrequesturi integer value of valueof response get status getstatus response get content type getcontenttype expiration date expirationdate string max age directive maxagedirective max age expiration date expirationdate get time gettime system current time millis currenttimemillis string cache control header cachecontrolheader response get cache control header getcachecontrolheader string new cache control header newcachecontrolheader cache control header cachecontrolheader max age directive maxagedirective cache control header cachecontrolheader max age directive maxagedirective response set header setheader header cache control new cache control header newcachecontrolheader response set date header setdateheader header expires expiration date expirationdate get time gettime parse configuration lines code access month days hours code modification day hours seconds param input line inputline expires configuration expiresconfiguration parse expires configuration parseexpiresconfiguration string input line inputline string input line inputline trim string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer string current token currenttoken current token currenttoken tokenizer next token nexttoken no such element exception nosuchelementexception illegal state exception illegalstateexception get string getstring expires filter expiresfilter starting point not found startingpointnotfound starting point startingpoint starting point startingpoint access equals ignore case equalsignorecase current token currenttoken equals ignore case equalsignorecase current token currenttoken starting point startingpoint starting point startingpoint access time modification equals ignore case equalsignorecase current token currenttoken starting point startingpoint starting point startingpoint modification time tokenizer has more tokens hasmoretokens starts with ignore case startswithignorecase current token currenttoken starting point startingpoint starting point startingpoint access time trick convert duration configuration style tokenizer string tokenizer stringtokenizer current token currenttoken substring seconds tokenizer has more tokens hasmoretokens starts with ignore case startswithignorecase current token currenttoken starting point startingpoint starting point startingpoint modification time trick convert duration configuration style tokenizer string tokenizer stringtokenizer current token currenttoken substring seconds illegal state exception illegalstateexception get string getstring expires filter expiresfilter starting point invalid startingpointinvalid current token currenttoken current token currenttoken tokenizer next token nexttoken no such element exception nosuchelementexception illegal state exception illegalstateexception get string getstring expires filter expiresfilter no duration found nodurationfound equals ignore case equalsignorecase current token currenttoken skip current token currenttoken tokenizer next token nexttoken no such element exception nosuchelementexception illegal state exception illegalstateexception get string getstring expires filter expiresfilter no duration found nodurationfound list duration durations array list arraylist duration current token currenttoken amount amount integer parse int parseint current token currenttoken number format exception numberformatexception illegal state exception illegalstateexception get string getstring expires filter expiresfilter invalid duration number invaliddurationnumber current token currenttoken current token currenttoken tokenizer next token nexttoken no such element exception nosuchelementexception illegal state exception illegalstateexception get string getstring expires filter expiresfilter no duration unit after amount nodurationunitafteramount integer value of valueof amount duration unit durationunit duration unit durationunit year equals ignore case equalsignorecase current token currenttoken years equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit year month equals ignore case equalsignorecase current token currenttoken months equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit month week equals ignore case equalsignorecase current token currenttoken weeks equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit week day equals ignore case equalsignorecase current token currenttoken days equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit day hour equals ignore case equalsignorecase current token currenttoken hours equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit hour minute equals ignore case equalsignorecase current token currenttoken minutes equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit minute equals ignore case equalsignorecase current token currenttoken seconds equals ignore case equalsignorecase current token currenttoken duration unit durationunit duration unit durationunit illegal state exception illegalstateexception get string getstring expires filter expiresfilter invalid duration unit invaliddurationunit current token currenttoken duration duration duration amount duration unit durationunit durations add duration tokenizer has more tokens hasmoretokens current token currenttoken tokenizer next token nexttoken current token currenttoken expires configuration expiresconfiguration starting point startingpoint durations set default expires configuration setdefaultexpiresconfiguration expires configuration expiresconfiguration default expires configuration defaultexpiresconfiguration default expires configuration defaultexpiresconfiguration default expires configuration defaultexpiresconfiguration set excluded response status codes setexcludedresponsestatuscodes excluded response status codes excludedresponsestatuscodes excluded response status codes excludedresponsestatuscodes excluded response status codes excludedresponsestatuscodes set expires configuration by content type setexpiresconfigurationbycontenttype map string expires configuration expiresconfiguration expires configuration by content type expiresconfigurationbycontenttype expires configuration by content type expiresconfigurationbycontenttype expires configuration by content type expiresconfigurationbycontenttype override string to string tostring get class getclass get simple name getsimplename excluded response status code excludedresponsestatuscode ints to comma delimited string intstocommadelimitedstring excluded response status codes excludedresponsestatuscodes default expires configuration defaultexpiresconfiguration by type bytype expires configuration by content type expiresconfigurationbycontenttype
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina startup java file java i o exception ioexception java util javax servlet servlet javax servlet servlet container initializer servletcontainerinitializer javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet servlet registration servletregistration javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org junit org junit test org apache catalina context org apache catalina core standard context standardcontext org apache tomcat util buf byte chunk bytechunk test context config testcontextconfig tomcat base test tomcatbasetest test test override with default name testoverridewithscidefaultname exception do test override default servlet with i dotestoverridedefaultservletwithsci test test override with default mapping testoverridewithscidefaultmapping exception do test override default servlet with i dotestoverridedefaultservletwithsci do test override default servlet with i dotestoverridedefaultservletwithsci string servlet name servletname exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp standard context standardcontext ctxt standard context standardcontext tomcat add context addcontext test app dir appdir get absolute path getabsolutepath ctxt set default web xml setdefaultwebxml file conf web xml get absolute path getabsolutepath ctxt add lifecycle listener addlifecyclelistener context config contextconfig ctxt add servlet container initializer addservletcontainerinitializer custom default servlet i customdefaultservletsci servlet name servletname tomcat start assert page contains assertpagecontains test custom servlet test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start assert page contains assertpagecontains test bug jsp test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start assert page contains assertpagecontains test bug test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments empty absolute ordering tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start assert page contains assertpagecontains test resource a resourcea jsp resource a resourcea jsp resources jar assert page contains assertpagecontains test resources hello world example helloworldexample http servlet response httpservletresponse test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments context context tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat add servlet addservlet context test servlet testservlet org apache catalina startup tester servlet with life cycle methods testerservletwithlifecyclemethods context add servlet mapping addservletmapping test servlet testservlet test servlet testservlet tomcat enable naming enablenaming tomcat start assert page contains assertpagecontains test test servlet testservlet post construct postconstruct test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments context context tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat add servlet addservlet context test servlet testservlet org apache catalina startup tester servlet with annotations testerservletwithannotations context add servlet mapping addservletmapping test servlet testservlet test servlet testservlet tomcat enable naming enablenaming tomcat start assert page contains assertpagecontains test test servlet testservlet env entry enventry env entry enventry env entry enventry env entry enventry env entry enventry env entry enventry test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start assert page contains assertpagecontains test tester servlet testerservlet assert page contains assertpagecontains test tester servlet testerservlet custom default servlet i customdefaultservletsci servlet container initializer servletcontainerinitializer string servlet name servletname custom default servlet i customdefaultservletsci string servlet name servletname servlet name servletname servlet name servletname override on startup onstartup servlet context servletcontext ctx servlet exception servletexception servlet custom default servlet customdefaultservlet servlet registration servletregistration dynamic ctx add servlet addservlet servlet name servletname add mapping addmapping custom default servlet customdefaultservlet http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception resp set content type setcontenttype text plain resp get writer getwriter print custom servlet assert page contains assertpagecontains string page url pageurl string expected body expectedbody i o exception ioexception assert page contains assertpagecontains page url pageurl expected body expectedbody http servlet response httpservletresponse assert page contains assertpagecontains string page url pageurl string expected body expectedbody expected status expectedstatus i o exception ioexception byte chunk bytechunk res byte chunk bytechunk get url geturl http localhost get port getport page url pageurl res assert equals assertequals expected status expectedstatus expected status expectedstatus http servlet response httpservletresponse string result res to string tostring assert true asserttrue result result index of indexof expected body expectedbody
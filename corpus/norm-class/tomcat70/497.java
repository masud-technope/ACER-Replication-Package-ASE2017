licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina core java util concurrent executor org apache catalina container org apache catalina container event containerevent org apache catalina container listener containerlistener org apache catalina context org apache catalina engine org apache catalina host org apache catalina lifecycle org apache catalina lifecycle event lifecycleevent org apache catalina lifecycle listener lifecyclelistener org apache catalina server org apache catalina service org apache catalina connector connector org apache coyote protocol handler protocolhandler org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util res string manager stringmanager org apache tomcat util threads thread pool executor threadpoolexecutor link lifecycle listener lifecyclelistener triggers renewal threads executor pools link context stopped avoid thread local memory leaks note active threads renewed pool executing task link org apache tomcat util threads thread pool executor threadpoolexecutor after execute afterexecute listener declared server xml active thread local leak prevention listener threadlocalleakpreventionlistener lifecycle listener lifecyclelistener container listener containerlistener log log log factory logfactory get log getlog thread local leak prevention listener threadlocalleakpreventionlistener server stopping serverstopping string manager string manager stringmanager string manager stringmanager get manager getmanager constants list ens listens link lifecycle event lifecycleevent start link server initialize events link context override lifecycle event lifecycleevent lifecycle event lifecycleevent event lifecycle lifecycle event get lifecycle getlifecycle lifecycle start event equals event get type gettype lifecycle server server starts register our self ourself listener context container event listener context deployed server server server lifecycle register listeners for server registerlistenersforserver server lifecycle event equals event get type gettype lifecycle server server shutting thread pools shut clean threads server stopping serverstopping lifecycle event equals event get type gettype lifecycle context stop idle threads stopidlethreads context lifecycle exception string msg get string getstring thread local leak prevention listener threadlocalleakpreventionlistener lifecycle event lifecycleevent error event log error msg override container event containerevent container event containerevent event string type event get type gettype container add child event equals type process container add child processcontaineraddchild event get container getcontainer container event get data getdata container remove child event equals type process container remove child processcontainerremovechild event get container getcontainer container event get data getdata exception string msg get string getstring thread local leak prevention listener threadlocalleakpreventionlistener container event containerevent error event log error msg register listeners for server registerlistenersforserver server server service service server find services findservices engine engine engine service get container getcontainer engine add container listener addcontainerlistener register listeners for engine registerlistenersforengine engine register listeners for engine registerlistenersforengine engine engine container host container hostcontainer engine find children findchildren host host host host container hostcontainer host add container listener addcontainerlistener register listeners for host registerlistenersforhost host register listeners for host registerlistenersforhost host host container context container contextcontainer host find children findchildren context context context context container contextcontainer register context listener registercontextlistener context register context listener registercontextlistener context context context add lifecycle listener addlifecyclelistener process container add child processcontaineraddchild container parent container child log is debug enabled isdebugenabled log debug process add child addchild parent parent child child child context register context listener registercontextlistener context child child engine register listeners for engine registerlistenersforengine engine child child host register listeners for host registerlistenersforhost host child process container remove child processcontainerremovechild container parent container child log is debug enabled isdebugenabled log debug process remove child removechild parent parent child child child context context context context child context remove lifecycle listener removelifecyclelistener child host child engine child remove container listener removecontainerlistener updates thread pool executor threadpoolexecutor current time time context stopped param context context stopped discover connectors parent service stop idle threads stopidlethreads context context server stopping serverstopping context standard context standardcontext standard context standardcontext context get renew threads when stopping context getrenewthreadswhenstoppingcontext log debug renewing threads context stop ping stopping configured engine engine engine context get parent getparent get parent getparent service service engine get service getservice connector connectors service find connectors findconnectors connectors connector connector connectors protocol handler protocolhandler handler connector get protocol handler getprotocolhandler executor executor handler executor handler get executor getexecutor executor thread pool executor threadpoolexecutor thread pool executor threadpoolexecutor thread pool executor threadpoolexecutor thread pool executor threadpoolexecutor executor thread pool executor threadpoolexecutor context stopping contextstopping executor standard thread executor standardthreadexecutor standard thread executor standardthreadexecutor std thread executor stdthreadexecutor standard thread executor standardthreadexecutor executor std thread executor stdthreadexecutor context stopping contextstopping
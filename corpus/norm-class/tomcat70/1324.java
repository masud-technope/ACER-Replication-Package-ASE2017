licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper compiler java file not found exception filenotfoundexception java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java unsupported encoding exception unsupportedencodingexception java util vector java util jar jar file jarfile java util zip zip entry zipentry org apache jasper constants org apache jasper jasper exception jasperexception org apache jasper jsp compilation context jspcompilationcontext org xml sax attributes utility method ideally move bean containers author mandar raje author rajiv mordani author d anno danno ferrin author pierre delisle author shawn bayern author mark roth jsp util jsputil string web inf tags web inf tags string meta inf tags meta inf tags delimiters request time expressions jsp xml syntax string open expr string close expr string java key words javakeywords enum chunk size chunksize takes potential expression converts xml form string get expr in xml getexprinxml string expression string return string returnstring length expression length expression starts with startswith open expr expression ends with endswith close expr return string returnstring expression substring length return string returnstring expression escape xml escapexml return string returnstring checks scope valid param scope scope checked param node scope attribute checked param err error dispatcher jasper exception jasperexception scope quot quot quot request quot quot session quot quot application quot check scope checkscope string scope node error dispatcher errordispatcher err jasper exception jasperexception scope scope equals scope equals request scope equals session scope equals application err jsp error jsperror jsp error invalid scope scope checks mandatory attributes attributes valid names checks attributes xml style attributes attributes jsp attribute standard action check attributes checkattributes string type of tag typeoftag node valid attribute validattribute valid attributes validattributes error dispatcher errordispatcher err jasper exception jasperexception attributes attrs get attributes getattributes mark start get start getstart valid attributes impl attributesimpl remove attribute removeattribute broken temp length templength attrs attrs get length getlength vector string temp vector string temp length templength temp length templength attrs temp length templength suppress warnings suppresswarnings string q name qname attrs getqname q name qname equals xml ns xmlns q name qname starts with startswith xml ns xmlns temp add element addelement q name qname add names attributes jsp attribute node nodes tag body tagbody get body getbody tag body tagbody num sub elements numsubelements tag body tagbody size num sub elements numsubelements node node tag body tagbody get node getnode node node name d attribute namedattribute string attr name attrname node get attribute value getattributevalue temp add element addelement attr name attrname check attribute node get attribute value getattributevalue attr name attrname err jsp error jsperror jsp error duplicate jsp attribute jspattribute attr name attrname jsp body check mandatory attributes proceed attributes valid tag string missing attribute missingattribute valid attributes validattributes length attr pos attrpos valid attributes validattributes mandatory attr pos attrpos temp index of indexof valid attributes validattributes attr pos attrpos temp remove attr pos attrpos valid valid missing attribute missingattribute valid attributes validattributes mandatory attribute missing exception thrown valid err jsp error jsperror start jsp error mandatory attribute type of tag typeoftag missing attribute missingattribute check attributes tag attr left length attrleftlength temp size attr left length attrleftlength check attributes valid string attribute attr left length attrleftlength valid attribute temp element at elementat valid attributes validattributes length attribute equals valid attributes validattributes valid valid err jsp error jsperror start jsp error invalid attribute type of tag typeoftag attribute xxx move syntax validation escape entities defined xml string escape xml escapexml string string builder stringbuilder string builder stringbuilder length char at charat append append append apos append amp append quot append to string tostring replaces occurrences character replace string string replace string replace string string builder stringbuilder buf string builder stringbuilder length index of indexof replace buf append substring buf append buf to string tostring valid attribute validattribute string mandatory valid attribute validattribute string mandatory mandatory mandatory valid attribute validattribute string convert string standard conversions parse boolean parseboolean ignore converted returned param string converted string boolean value booleanvalue string equals ignore case equalsignorecase parse boolean parseboolean returns object string object determined passing string for name forname method string represents primitive type converted object app ending appending to class toclass string type class loader classloader loader class not found exception classnotfoundexception type index of indexof dims array count dimensions type length type char at charat dims type type substring equals type equals type equals type equals type equals type equals type equals type equals type equals type type index of indexof loader load class loadclass type dims dims java lang reflect array new instance newinstance get class getclass array dimension java lang reflect array new instance newinstance dims get class getclass produces string representing call int erpreter interpreter param expression string expressions param expected type expectedtype expected type int erpreted interpreted result param fnmapvar variable pointing function map param xml escape xmlescape result xml escaping string representing call int erpreter interpreter string int erpreter call interpretercall is tag file istagfile string expression expected type expectedtype string fnmapvar xml escape xmlescape determine context object string jsp ctxt jspctxt is tag file istagfile jsp ctxt jspctxt get jsp context getjspcontext jsp ctxt jspctxt jspx context determine expected type text ual textual primitive correspondent boxed type string target type targettype expected type expectedtype get canonical name getcanonicalname string primitive converter method primitiveconvertermethod expected type expectedtype is primitive isprimitive expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod boolean value booleanvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod byte value bytevalue expected type expectedtype equals character type target type targettype character get name getname primitive converter method primitiveconvertermethod char value charvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod short value shortvalue expected type expectedtype equals integer type target type targettype integer get name getname primitive converter method primitiveconvertermethod int value intvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod long value longvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod float value floatvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod double value doublevalue primitive converter method primitiveconvertermethod xml escape xmlescape build base call int erpreter interpreter xxx prop rietary proprietary call int erpreter interpreter current standard machinery inefficient requires lots wrappers adapters clear int erpreter interpreter moves jstl project replaced code calls expression evaluator expressionevaluator parse expression parseexpression cache expression objects int erpreter call interpretercall simply select pre cached expressions evaluate note page context impl pagecontextimpl variable resolver variableresolver generated servlet simple tag simpletag function mapper functionmapper machinery place mroth target type targettype to java source type tojavasourcetype target type targettype string builder stringbuilder call string builder stringbuilder target type targettype org apache jasper runtime page context impl pagecontextimpl prop rietary evaluate proprietaryevaluate generator quote expression target type targettype javax servlet jsp page context pagecontext jsp ctxt jspctxt fnmapvar xml escape xmlescape add primitive converter method primitive converter method primitiveconvertermethod call insert call append primitive converter method primitiveconvertermethod call to string tostring string coerce to primitive boolean coercetoprimitiveboolean string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to boolean coercetoboolean length value of valueof to string tostring string coerce to boolean coercetoboolean string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang length java lang detect format error translation time java lang value of valueof to string tostring string coerce to primitive byte coercetoprimitivebyte string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to byte coercetobyte length value of valueof to string tostring string coerce to byte coercetobyte string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang length java lang detect format error translation time java lang value of valueof to string tostring string coerce to char coercetochar string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to char coercetochar length char at charat trick avoids escaping issues string coerce to character coercetocharacter string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang character org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang character length java lang character char at charat trick avoids escaping issues java lang character string coerce to primitive double coercetoprimitivedouble string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to double coercetodouble length value of valueof to string tostring string coerce to double coercetodouble string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang org apache jasper runtime jsp runtime library jspruntimelibrary coerce length java lang detect format error translation time java lang value of valueof to string tostring string coerce to primitive float coercetoprimitivefloat string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to float coercetofloat length value of valueof to string tostring string coerce to float coercetofloat string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang length java lang detect format error translation time java lang value of valueof to string tostring string coerce to int coercetoint string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to int coercetoint length integer value of valueof to string tostring string coerce to integer coercetointeger string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang integer org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang integer length java lang integer detect format error translation time java lang integer integer value of valueof to string tostring string coerce to primitive short coercetoprimitiveshort string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to short coercetoshort length value of valueof to string tostring string coerce to short coercetoshort string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang length java lang detect format error translation time java lang value of valueof to string tostring string coerce to primitive long coercetoprimitivelong string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache jasper runtime jsp runtime library jspruntimelibrary coerce to long coercetolong length value of valueof to string tostring string coerce to long coercetolong string is name d attribute isnamedattribute is name d attribute isnamedattribute java lang org apache jasper runtime jsp runtime library jspruntimelibrary coerce java lang length java lang detect format error translation time java lang value of valueof to string tostring input stream inputstream get input stream getinputstream string fname jar file jarfile jar file jarfile jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err jasper exception jasperexception io exception ioexception input stream inputstream jar file jarfile string jar entry name jarentryname fname substring fname length zip entry zipentry jar entry jarentry jar file jarfile get entry getentry jar entry name jarentryname jar entry jarentry file not found exception filenotfoundexception localizer get message getmessage jsp error file fname jar file jarfile get input stream getinputstream jar entry jarentry ctxt get resource as stream getresourceasstream fname file not found exception filenotfoundexception localizer get message getmessage jsp error file fname fully qualified tag handler tag file path param path tag file path param err error dispatcher fully qualified tag handler tag file path string get tag handler class name gettaghandlerclassname string path string urn error dispatcher errordispatcher err jasper exception jasperexception string class name classname path last index of lastindexof tag err jsp error jsperror jsp error tag file tagfile bad suffix badsuffix path temp ting tempting remove tag suffix remove fully qualified tag conflict tags instance tag file web inf tags foo tag fully qualified org apache jsp tag web foo conflict tag file web inf tags foo bar tag path index of indexof web inf tags class name classname constants tag file web web inf tags length path index of indexof meta inf tags class name classname get class name base getclassnamebase urn meta inf tags length err jsp error jsperror jsp error tag file tagfile illegal path illegalpath path class name classname make java package makejavapackage path substring class name classname string get class name base getclassnamebase string urn string builder stringbuilder base string builder stringbuilder constants tag file meta urn base append make java package makejavapackage urn base append base to string tostring converts path java fully qualified param path path convert java path string make java package makejavapackage string path string class name components classnamecomponents split path string builder stringbuilder legal class names legalclassnames string builder stringbuilder class name components classnamecomponents length legal class names legalclassnames append make java identifier makejavaidentifier class name components classnamecomponents class name components classnamecomponents length legal class names legalclassnames append legal class names legalclassnames to string tostring splits string components param path string split param pat pattern split components path string split string path string pat vector string comps vector string pos path index of indexof pat start pos pos start string comp path substring start pos comps add comp start pos pat length pos path index of indexof pat start start path length comps add path substring start string result string comps size comps size result comps element at elementat result converts identifier legal java identifier param identifier identifier convert legal java identifier identifier string make java identifier makejavaidentifier string identifier make java identifier makejavaidentifier identifier converts identifier legal java identifier jsp tag file attribute names param identifier identifier convert legal java identifier identifier string make java identifier for attribute makejavaidentifierforattribute string identifier make java identifier makejavaidentifier identifier converts identifier legal java identifier param identifier identifier convert legal java identifier identifier string make java identifier makejavaidentifier string identifier period to underscore periodtounderscore string builder stringbuilder modified identifier modifiedidentifier string builder stringbuilder identifier length character is java identifier start isjavaidentifierstart identifier char at charat modified identifier modifiedidentifier append identifier length identifier char at charat character is java identifier part isjavaidentifierpart period to underscore periodtounderscore modified identifier modifiedidentifier append period to underscore periodtounderscore modified identifier modifiedidentifier append modified identifier modifiedidentifier append mangle char manglechar is java keyword isjavakeyword modified identifier modifiedidentifier to string tostring modified identifier modifiedidentifier append modified identifier modifiedidentifier to string tostring mangle character create legal java string mangle char manglechar result result result character for digit fordigit result character for digit fordigit result character for digit fordigit result character for digit fordigit string result test argument java keyword is java keyword isjavakeyword string key java key words javakeywords length result java key words javakeywords compare to compareto key result result is java identifier isjavaidentifier string key check key key length is java keyword isjavakeyword key check start character restrictions character is java identifier start isjavaidentifierstart key char at charat check remaining character permitted idx idx key length idx character is java identifier part isjavaidentifierpart key char at charat idx input stream reader inputstreamreader get reader getreader string fname string encoding jar file jarfile jar file jarfile jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err jasper exception jasperexception io exception ioexception get reader getreader fname encoding jar file jarfile ctxt err input stream reader inputstreamreader get reader getreader string fname string encoding jar file jarfile jar file jarfile jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err skip jasper exception jasperexception io exception ioexception input stream reader inputstreamreader reader input stream inputstream get input stream getinputstream fname jar file jarfile ctxt err skip read reader input stream reader inputstreamreader encoding unsupported encoding exception unsupportedencodingexception err jsp error jsperror jsp error unsupported encoding encoding reader handles input tld s tlds java lang object java lang object type param type string to java source type from tld tojavasourcetypefromtld string type type equals type java lang type type get name getname arrays form element type zbcdfijs class name classname converted forms under stood understood java c javac string to java source type tojavasourcetype string type type char at charat type dims string type length type char at charat dims type char at charat type substring type index of indexof string builder stringbuilder result type resulttype string builder stringbuilder dims dims result type resulttype append result type resulttype to string tostring
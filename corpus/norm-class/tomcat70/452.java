licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util buf java io exception ioexception java unsupported encoding exception unsupportedencodingexception java nio byte buffer bytebuffer java nio char buffer charbuffer java nio charset charset java nio charset charset decoder charsetdecoder java nio charset code r result coderresult java nio charset coding error action codingerroraction java util hash map hashmap java util locale java util map org apache tomcat util res string manager stringmanager nio based character decoder c converter cconverter string manager stringmanager string manager stringmanager get manager getmanager constants map string charset encoding to charset cache encodingtocharsetcache hash map hashmap string charset charset iso charset utf unit tests left over leftover size charset charset charset available chars ets availablecharsets values encoding to charset cache encodingtocharsetcache charset to lower case tolowercase locale english charset string alias charset aliases encoding to charset cache encodingtocharsetcache alias to lower case tolowercase locale english charset charset iso charset utf iso get charset getcharset iso utf get charset getcharset utf unsupported encoding exception unsupportedencodingexception print stack trace printstacktrace iso iso utf utf charset get charset getcharset string enc unsupported encoding exception unsupportedencodingexception encoding names ascii string lower case enc lowercaseenc enc to lower case tolowercase locale english get charset lower getcharsetlower lower case enc lowercaseenc encoding charset get charset lower getcharsetlower string lower case enc lowercaseenc unsupported encoding exception unsupportedencodingexception charset charset encoding to charset cache encodingtocharsetcache lower case enc lowercaseenc charset pre pop ulation population cache invalid unsupported encoding exception unsupportedencodingexception get string getstring c converter cconverter unknown encoding unknownencoding lower case enc lowercaseenc charset charset decoder charsetdecoder decoder byte buffer bytebuffer char buffer charbuffer left over leftover buffer incomplete characters byte buffer bytebuffer leftovers c converter cconverter string encoding io exception ioexception encoding c converter cconverter string encoding replace on error replaceonerror io exception ioexception left left over leftover size leftovers byte buffer bytebuffer wrap left coding error action codingerroraction action replace on error replaceonerror action coding error action codingerroraction replace action coding error action codingerroraction report charset charset get charset getcharset encoding fails faster invalid sequences charset equals utf decoder utf decoder decoder charset new decoder newdecoder decoder on malformed input onmalformedinput action decoder on unmappable character onunmappablecharacter action reset decoder recycle decoder reset leftovers position convert bytes characters param input param output param end of input endofinput data convert byte chunk bytechunk char chunk charchunk end of input endofinput io exception ioexception array get buffer getbuffer create buffer changed byte buffer bytebuffer wrap get buffer getbuffer get start getstart get length getlength initialize buffer limit get end getend position get start getstart array get buffer getbuffer create buffer changed char buffer charbuffer wrap get buffer getbuffer get end getend get buffer getbuffer length get end getend initialize buffer limit get buffer getbuffer length position get end getend code r result coderresult result parse left over leftover leftovers position pos position loop decoded decoder error leftovers sub str act b substractb leftovers flip result decoder decode leftovers end of input endofinput leftovers position leftovers limit leftovers limit leftovers array length result is under flow isunderflow position pos result is error iserror result is malformed ismalformed result throw exception throwexception position get start getstart leftovers position decoding chunk chunk result decoder decode end of input endofinput result is error iserror result is malformed ismalformed result throw exception throwexception result is overflow isoverflow propagate current positions chunk chunk continues buffer resize d resized set offset setoffset position set end setend position result is under flow isunderflow propagate current positions chunk chunk set offset setoffset position set end setend position leftovers leftovers buffer get length getlength leftovers limit leftovers array length leftovers position get length getlength sub str act substract leftovers array get length getlength
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java sql connection org junit org junit test org apache tomcat jdbc pool data source proxy datasourceproxy org apache tomcat jdbc pool int erceptor interceptor connection state connectionstate test connection state testconnectionstate default test case defaulttestcase test test auto commit false testautocommitfalse exception data source proxy datasourceproxy create default data source createdefaultdatasource set max active setmaxactive set min idle setminidle set max idle setmaxidle set jdbc int erceptors setjdbcinterceptors connection state connectionstate get name getname set default auto commit setdefaultautocommit connection get connection getconnection assert false assertfalse auto commit get auto commit getautocommit set auto commit setautocommit assert true asserttrue auto commit get auto commit getautocommit close get connection getconnection assert false assertfalse auto commit reused connection get auto commit getautocommit close assert true asserttrue connection closed is closed isclosed test test auto commit true testautocommittrue exception data source proxy datasourceproxy create default data source createdefaultdatasource set max active setmaxactive set jdbc int erceptors setjdbcinterceptors connection state connectionstate get name getname set default auto commit setdefaultautocommit set min idle setminidle connection get connection getconnection assert true asserttrue auto commit get auto commit getautocommit set auto commit setautocommit assert false assertfalse auto commit get auto commit getautocommit close get connection getconnection assert true asserttrue auto commit reused connection get auto commit getautocommit test test default catalog testdefaultcatalog exception data source proxy datasourceproxy create default data source createdefaultdatasource set max active setmaxactive set jdbc int erceptors setjdbcinterceptors connection state connectionstate get name getname set default catalog setdefaultcatalog schema set min idle setminidle connection get connection getconnection assert equals assertequals catalog schema get catalog getcatalog schema close get connection getconnection assert equals assertequals catalog schema get catalog getcatalog schema set catalog setcatalog mysql assert equals assertequals catalog schema get catalog getcatalog mysql close get connection getconnection assert equals assertequals catalog schema get catalog getcatalog schema
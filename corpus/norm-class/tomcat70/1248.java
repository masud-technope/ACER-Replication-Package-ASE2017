licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina startup java beans property change listener propertychangelistener java file java net uri syntax exception urisyntaxexception java net url java util hash set hashset java util javax servlet dispatcher type dispatchertype javax servlet servlet javax servlet servlet container initializer servletcontainerinitializer javax servlet servlet context servletcontext javax servlet servlet exception servletexception org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue org junit fail org junit test org apache catalina container org apache catalina loader org apache catalina core standard context standardcontext org apache catalina deploy filter def filterdef org apache catalina deploy filter map filtermap org apache catalina deploy servlet def servletdef org apache catalina deploy web xml webxml check servlet spec override annotation parameter web xml fragment author peter rossbach test context config annotation testcontextconfigannotation test test annotation testannotation exception web xml webxml webxml web xml webxml context config contextconfig config context config contextconfig file p file pfile param class resource paramclassresource org apache catalina startup param servlet paramservlet assert true asserttrue p file pfile exists config process annotations file processannotationsfile p file pfile webxml servlet def servletdef servlet def servletdef webxml get servlets getservlets param assert not null assertnotnull servlet def servletdef assert equals assertequals servlet def servletdef get parameter map getparametermap foo assert equals assertequals servlet def servletdef get parameter map getparametermap bar assert equals assertequals param webxml get servlet map pings getservletmappings annotation overwrite assert equals assertequals param servlet def servletdef get description getdescription assert equals assertequals param servlet def servletdef get display name getdisplayname assert equals assertequals param l arg e paramlarge png servlet def servletdef get l arg e icon getlargeicon assert equals assertequals param small paramsmall png servlet def servletdef get small icon getsmallicon assert equals assertequals servlet def servletdef get async supported getasyncsupported assert equals assertequals integer value of valueof servlet def servletdef get load on startup getloadonstartup assert null assertnull servlet def servletdef get enabled getenabled assert null assertnull servlet def servletdef get jsp file getjspfile test test overwrite annotation testoverwriteannotation exception web xml webxml webxml web xml webxml servlet def servletdef servlet def servletdef servlet def servletdef servlet def servletdef set servlet name setservletname param servlet def servletdef set servlet class setservletclass org apache catalina startup param servlet paramservlet servlet def servletdef add init parameter addinitparameter foo tomcat servlet def servletdef set description setdescription description servlet def servletdef set display name setdisplayname display name displayname servlet def servletdef set l arg e icon setlargeicon l arg e icon largeicon servlet def servletdef set small icon setsmallicon small icon smallicon servlet def servletdef set async supported setasyncsupported servlet def servletdef set load on startup setloadonstartup webxml add servlet addservlet servlet def servletdef webxml add servlet mapping addservletmapping param param context config contextconfig config context config contextconfig file p file pfile param class resource paramclassresource org apache catalina startup param servlet paramservlet assert true asserttrue p file pfile exists config process annotations file processannotationsfile p file pfile webxml assert equals assertequals servlet def servletdef webxml get servlets getservlets param assert equals assertequals tomcat servlet def servletdef get parameter map getparametermap foo assert equals assertequals param webxml get servlet map pings getservletmappings param annotation mapping servlet spec nov assert null assertnull webxml get servlet map pings getservletmappings annotation overwrite assert equals assertequals description servlet def servletdef get description getdescription assert equals assertequals display name displayname servlet def servletdef get display name getdisplayname assert equals assertequals l arg e icon largeicon servlet def servletdef get l arg e icon getlargeicon assert equals assertequals small icon smallicon servlet def servletdef get small icon getsmallicon assert equals assertequals servlet def servletdef get async supported getasyncsupported assert equals assertequals integer value of valueof servlet def servletdef get load on startup getloadonstartup assert null assertnull servlet def servletdef get enabled getenabled assert null assertnull servlet def servletdef get jsp file getjspfile test test no mapping testnomapping exception web xml webxml webxml web xml webxml context config contextconfig config context config contextconfig file p file pfile param class resource paramclassresource org apache catalina startup no mapping param servlet nomappingparamservlet assert true asserttrue p file pfile exists config process annotations file processannotationsfile p file pfile webxml servlet def servletdef servlet def servletdef webxml get servlets getservlets param assert null assertnull servlet def servletdef webxml add servlet mapping addservletmapping param param config process annotations file processannotationsfile p file pfile webxml servlet def servletdef webxml get servlets getservlets param assert null assertnull servlet def servletdef test test setup web no mapping testsetupwebxmlnomapping exception web xml webxml webxml web xml webxml servlet def servletdef servlet def servletdef servlet def servletdef servlet def servletdef set servlet name setservletname param servlet def servletdef set servlet class setservletclass org apache catalina startup no mapping param servlet nomappingparamservlet servlet def servletdef add init parameter addinitparameter foo tomcat webxml add servlet addservlet servlet def servletdef webxml add servlet mapping addservletmapping param param context config contextconfig config context config contextconfig file p file pfile param class resource paramclassresource org apache catalina startup no mapping param servlet nomappingparamservlet assert true asserttrue p file pfile exists config process annotations file processannotationsfile p file pfile webxml assert equals assertequals tomcat servlet def servletdef get parameter map getparametermap foo assert equals assertequals servlet def servletdef get parameter map getparametermap bar servlet def servletdef servlet def servletdef webxml get servlets getservlets param assert not null assertnotnull servlet def servletdef assert equals assertequals servlet def servletdef servlet def servletdef test test duplicate mapping testduplicatemapping exception web xml webxml webxml web xml webxml context config contextconfig config context config contextconfig file p file pfile param class resource paramclassresource org apache catalina startup duplicate mapping param servlet duplicatemappingparamservlet assert true asserttrue p file pfile exists config process annotations file processannotationsfile p file pfile webxml fail illegal argument exception illegalargumentexception servlet def servletdef servlet def servletdef webxml get servlets getservlets param assert null assertnull servlet def servletdef test test filter mapping testfiltermapping exception web xml webxml webxml web xml webxml context config contextconfig config context config contextconfig file s file sfile param class resource paramclassresource org apache catalina startup param servlet paramservlet config process annotations file processannotationsfile s file sfile webxml file f file ffile param class resource paramclassresource org apache catalina startup param filter paramfilter config process annotations file processannotationsfile f file ffile webxml filter def filterdef fdef webxml get filters getfilters param filter paramfilter assert not null assertnotnull fdef assert equals assertequals servlet fdef get parameter map getparametermap message test test overwrite filter mapping testoverwritefiltermapping exception web xml webxml webxml web xml webxml filter def filterdef filter def filterdef filter def filterdef filter def filterdef set filter name setfiltername param filter paramfilter filter def filterdef set filter class setfilterclass org apache catalina startup param filter paramfilter filter def filterdef add init parameter addinitparameter message tomcat filter def filterdef set description setdescription description filter def filterdef set display name setdisplayname display name displayname filter def filterdef set l arg e icon setlargeicon l arg e icon largeicon filter def filterdef set small icon setsmallicon small icon smallicon filter def filterdef set async supported setasyncsupported webxml add filter addfilter filter def filterdef filter map filtermap filter map filtermap filter map filtermap filter map filtermap addurlpattern param filter map filtermap set filter name setfiltername param filter paramfilter webxml add filter mapping addfiltermapping filter map filtermap context config contextconfig config context config contextconfig file s file sfile param class resource paramclassresource org apache catalina startup param servlet paramservlet config process annotations file processannotationsfile s file sfile webxml file f file ffile param class resource paramclassresource org apache catalina startup param filter paramfilter config process annotations file processannotationsfile f file ffile webxml filter def filterdef fdef webxml get filters getfilters param filter paramfilter assert not null assertnotnull fdef assert equals assertequals filter def filterdef fdef assert equals assertequals tomcat fdef get parameter map getparametermap message filter map filtermap filter map pings filtermappings webxml get filter map pings getfiltermappings assert true asserttrue filter map pings filtermappings filter map filtermap annotation mapping servlet spec nov string url patterns urlpatterns filter map filtermap geturlpatterns assert not null assertnotnull url patterns urlpatterns assert equals assertequals url patterns urlpatterns length assert equals assertequals param url patterns urlpatterns check simple parameter assert equals assertequals description fdef get description getdescription assert equals assertequals display name displayname fdef get display name getdisplayname assert equals assertequals l arg e icon largeicon fdef get l arg e icon getlargeicon assert equals assertequals small icon smallicon fdef get small icon getsmallicon fixme str ange strange servlet def servletdef filter def filterdef string assert equals assertequals fdef get async supported getasyncsupported string dis filter map filtermap get dispatcher names getdispatchernames assert equals assertequals dis length assert equals assertequals dispatcher type dispatchertype error to string tostring dis assert equals assertequals dispatcher type dispatchertype async to string tostring dis test test duplicate filter mapping testduplicatefiltermapping exception web xml webxml webxml web xml webxml context config contextconfig config context config contextconfig file p file pfile param class resource paramclassresource org apache catalina startup duplicate mapping param filter duplicatemappingparamfilter assert true asserttrue p file pfile exists config process annotations file processannotationsfile p file pfile webxml fail illegal argument exception illegalargumentexception filter def filterdef filter def filterdef webxml get filters getfilters param d paramd assert null assertnull filter def filterdef test test check handle types testcheckhandletypes exception context config contextconfig config context config contextconfig config handles types annotations handlestypesannotations config handles types non annotations handlestypesnonannotations context loader class loader classloader check handle types checkhandletypes standard context standardcontext context standard context standardcontext context set loader setloader tester loader testerloader config context context add sci int erest interest type sci sci non e scinone sci config initializer class map initializerclassmap sci non e scinone hash set hashset add sci int erest interest servlets sci sci servlet sciservlet sci config initializer class map initializerclassmap sci servlet sciservlet hash set hashset config type initializer map typeinitializermap servlet hash set hashset servlet container initializer servletcontainerinitializer config type initializer map typeinitializermap servlet add sci servlet sciservlet add sci int erest interest objects sci sci object sciobject sci config initializer class map initializerclassmap sci object sciobject hash set hashset config type initializer map typeinitializermap object hash set hashset servlet container initializer servletcontainerinitializer config type initializer map typeinitializermap object add sci object sciobject scan servlet filter servlet listener web xml webxml ignore web xml webxml file file param class resource paramclassresource org apache catalina startup param servlet paramservlet config process annotations file processannotationsfile file ignore file param class resource paramclassresource org apache catalina startup param filter paramfilter config process annotations file processannotationsfile file ignore file param class resource paramclassresource org apache catalina startup tester servlet testerservlet config process annotations file processannotationsfile file ignore file param class resource paramclassresource org apache catalina startup test listener testlistener config process annotations file processannotationsfile file ignore check number classes handled assert equals assertequals config initializer class map initializerclassmap sci non e scinone size assert equals assertequals config initializer class map initializerclassmap sci servlet sciservlet size assert equals assertequals config initializer class map initializerclassmap sci object sciobject size sci servlet container initializer servletcontainerinitializer override on startup onstartup servlet context servletcontext ctx servlet exception servletexception sci tester loader testerloader loader override background process backgroundprocess override class loader classloader get class loader getclassloader get class getclass get class loader getclassloader override container get container getcontainer override set container setcontainer container container override get delegate getdelegate override set delegate setdelegate delegate override string get info getinfo override get reloadable getreloadable override set reloadable setreloadable reloadable override add property change listener addpropertychangelistener property change listener propertychangelistener override add repository addrepository string repository override string find repositories findrepositories override modified override remove property change listener removepropertychangelistener property change listener propertychangelistener find compiled test param class name classname file resource uri syntax exception urisyntaxexception file param class resource paramclassresource string class name classname uri syntax exception urisyntaxexception url url get class getclass get class loader getclassloader get resource getresource class name classname assert not null assertnotnull url file file file url touri file
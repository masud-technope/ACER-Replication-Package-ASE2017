licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina describing collection valves executed sequence code invoke code method invoked required valve pipeline process request create response pass request generally single pipeline instance container container normal request processing functionality generally encapsulated container specific valve executed pipeline facilitate code set basic setbasic code method valve instance executed valves executed order basic valve executed author craig mc clanahan mcclanahan author peter don ald donald pipeline properties valve instance distinguished basic valve pipeline valve get basic getbasic valve instance distinguished basic valve pipeline prior setting basic valve valve code set container setcontainer code called code contained code owning container argument method code illegal argument exception illegalargumentexception code valve chooses container code illegal state exception illegalstateexception code container param valve valve distinguished basic valve set basic setbasic valve valve methods add valve pipeline container prior adding valve valve code set container setcontainer code method called code contained code owning container argument method code illegal argument exception illegalargumentexception code valve chooses container code illegal state exception illegalstateexception code container implementation not e note impl ementations implementations expected trigger link container add valve event container call successful param valve valve exception illegal argument exception illegalargumentexception container ref used refused accept valve exception illegal argument exception illegalargumentexception valve ref uses refuses container exception illegal state exception illegalstateexception valve container add valve addvalve valve valve valves pipeline container including basic valve valves length array returned valve get valves getvalves remove valve pipeline container valve removed valve code set container setcontainer code method called code contained code implementation not e note impl ementations implementations expected trigger link container remove valve event container call successful param valve valve removed remove valve removevalve valve valve valve instance distinguished basic valve pipeline valve get first getfirst returns valves pipeline support async valves pipeline support async is async supported isasyncsupported container pipeline container get container getcontainer container pipeline param container container set container setcontainer container container
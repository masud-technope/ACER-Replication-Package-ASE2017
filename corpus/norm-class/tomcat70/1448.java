licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes group int erceptors interceptors java net connect exception connectexception java net inet address inetaddress java net inet socket address inetsocketaddress java net socket java net socket timeout exception sockettimeoutexception java util arrays java util hash map hashmap org apache catalina tribes channel org apache catalina tribes channel exception channelexception org apache catalina tribes channel exception channelexception faulty member faultymember org apache catalina tribes channel message channelmessage org apache catalina tribes member org apache catalina tribes remote process exception remoteprocessexception org apache catalina tribes group channel interceptor base channelinterceptorbase org apache catalina tribes group interceptor payload interceptorpayload org apache catalina tribes channel data channeldata org apache catalina tribes x byte buffer xbytebuffer org apache catalina tribes membership member impl memberimpl org apache catalina tribes membership membership org apache catalina tribes membership static member staticmember title per fect perfect failure detector description tcp failure detector tcpfailuredetector int erceptor interceptor adds rel iability reliability membership layer net work network busy system busy membership receiver thread time update table members quot time d timed quot failure detector int ercept intercept member disappeared memberdisappeared message shutdown message connect member tcp tcp failure detector tcpfailuredetector works ways int ercepts intercepts member disappeared memberdisappeared events cat ches catches send errors author filip hanik version tcp failure detector tcpfailuredetector channel interceptor base channelinterceptorbase org apache juli logging log log org apache juli logging log factory logfactory get log getlog tcp failure detector tcpfailuredetector tcp fail detect deprecated unused removed tomcat perform connect test performconnecttest connect timeout connecttimeout perform send test performsendtest perform read test performreadtest seconds read test timeout readtesttimeout membership membership hash map hashmap member remove suspects removesuspects hash map hashmap member hash map hashmap member add suspects addsuspects hash map hashmap member min utes minutes remove suspects timeout removesuspectstimeout override send message sendmessage member destination channel message channelmessage msg interceptor payload interceptorpayload payload channel exception channelexception send message sendmessage destination msg payload channel exception channelexception faulty member faultymember mbrs get faulty members getfaultymembers mbrs length mbrs get cause getcause mbrs get cause getcause remote process exception remoteprocessexception member disappeared memberdisappeared mbrs get member getmember override message received messagereceived channel message channelmessage msg incoming process ok to process oktoprocess msg get options getoptions check test message testmessage process process msg get message getmessage get length getlength tcp fail detect length arrays equals tcp fail detect msg get message getmessage get bytes getbytes ignore message doesn t doesnt flag process message received messagereceived msg log is debug enabled isdebugenabled log debug received failure detector packet msg message received messagereceived override member added memberadded member member membership setup membership setupmembership notify membership remove suspects removesuspects contains key containskey member marked suspect system picked member remove suspects removesuspects remove member membership get member getmember member check alive member alive memberalive member membership member alive memberalive member impl memberimpl member notify add suspects addsuspects member value of valueof system current time millis currenttimemillis notify member added memberadded member override member disappeared memberdisappeared member member membership setup membership setupmembership notify shutdown arrays equals member get command getcommand member shutdown payload shutdown membership membership member membership remove member removemember member impl memberimpl member remove suspects removesuspects remove member member static member staticmember add suspects addsuspects member value of valueof system current time millis currenttimemillis member disappeared memberdisappeared member log is info enabled isinfoenabled log info received member disappeared memberdisappeared member message verify membership membership member log is info enabled isinfoenabled log info verification complete member disappeared member check member member alive memberalive member correct main tain maintain map membership remove member removemember member impl memberimpl member remove suspects removesuspects remove member member static member staticmember add suspects addsuspects member value of valueof system current time millis currenttimemillis notify add member suspect remove suspects removesuspects member value of valueof system current time millis currenttimemillis notify log is info enabled isinfoenabled log info verification complete member disappeared member member disappeared memberdisappeared member log is info enabled isinfoenabled log info verification complete member alive member override has members hasmembers membership setup membership setupmembership membership has members hasmembers override member get members getmembers membership setup membership setupmembership membership get members getmembers override member get member getmember member mbr membership setup membership setupmembership membership get member getmember mbr override member get local member getlocalmember inc alive incalive get local member getlocalmember inc alive incalive override heartbeat heartbeat check members checkmembers check members checkmembers check all checkall membership setup membership setupmembership membership check all checkall perform basic check performbasiccheck perform for ced check performforcedcheck exception log warn unable perform heartbeat tcp failure detector tcpfailuredetector perform for ced check performforcedcheck update alive times member members get members getmembers members members length member alive memberalive members membership member alive memberalive member impl memberimpl members member added memberadded members add suspects addsuspects remove members membership get member getmember members membership remove member removemember member impl memberimpl members remove suspects removesuspects remove members members static member staticmember add suspects addsuspects members value of valueof system current time millis currenttimemillis member disappeared memberdisappeared members perform basic check performbasiccheck update alive times member members get members getmembers members members length add suspects addsuspects contains key containskey members membership get member getmember members avoid temporary adding member membership member alive memberalive member impl memberimpl members don membership check alive member alive memberalive members log warn member were n weren not ified notified members member added memberadded members membership remove member removemember member impl memberimpl members check suspect members alive simply issue member disappeared memberdisappeared message member impl memberimpl remove suspects removesuspects key set keyset to array toarray member impl memberimpl remove suspects removesuspects size length member impl memberimpl membership get member getmember member alive memberalive membership remove member removemember static member staticmember add suspects addsuspects value of valueof system current time millis currenttimemillis member disappeared memberdisappeared remove suspects removesuspects remove log is info enabled isinfoenabled log info suspect member confirmed dead remove suspects timeout removesuspectstimeout time now timenow system current time millis currenttimemillis time idle timeidle time now timenow remove suspects removesuspects long value longvalue time idle timeidle remove suspects timeout removesuspectstimeout remove suspect member remove suspects removesuspects remove check add suspects members alive simply issue member added memberadded message add suspects addsuspects key set keyset to array toarray member impl memberimpl add suspects addsuspects size length member impl memberimpl membership get member getmember member alive memberalive membership member alive memberalive member added memberadded add suspects addsuspects remove log is info enabled isinfoenabled log info suspect member confirmed alive setup membership setupmembership membership membership membership member impl memberimpl get local member getlocalmember member alive memberalive member mbr member alive memberalive mbr tcp fail detect perform send test performsendtest perform read test performreadtest read test timeout readtesttimeout connect timeout connecttimeout get option flag getoptionflag member alive memberalive member mbr msg data msgdata send test sendtest read test readtest read timeout readtimeout con timeout contimeout option flag optionflag shutdown not ification notification arrays equals mbr get command getcommand member shutdown payload socket socket socket inet address inetaddress inet address inetaddress get by address getbyaddress mbr get host gethost inet socket address inetsocketaddress add r addr inet socket address inetsocketaddress mbr get port getport socket set so timeout setsotimeout read timeout readtimeout socket connect add r addr con timeout contimeout send test sendtest channel data channeldata data channel data channeldata data set address setaddress mbr data set message setmessage x byte buffer xbytebuffer msg data msgdata data set timestamp settimestamp system current time millis currenttimemillis options option flag optionflag channel send options message read test readtest options options channel send options ack options options channel send options ack data set options setoptions options message x byte buffer xbytebuffer create data package createdatapackage data socket get output stream getoutputstream write message read test readtest length socket get input stream getinputstream read message length socket timeout exception sockettimeoutexception connect exception connectexception exception log error unable perform failure detection check assuming member socket close exception ignore deprecated get perform connect test getperformconnecttest perform connect test performconnecttest get read test timeout getreadtesttimeout read test timeout readtesttimeout get perform send test getperformsendtest perform send test performsendtest get perform read test getperformreadtest perform read test performreadtest get connect timeout getconnecttimeout connect timeout connecttimeout get remove suspects timeout getremovesuspectstimeout remove suspects timeout removesuspectstimeout deprecated set perform connect test setperformconnecttest perform connect test performconnecttest perform connect test performconnecttest perform connect test performconnecttest set perform read test setperformreadtest perform read test performreadtest perform read test performreadtest perform read test performreadtest set perform send test setperformsendtest perform send test performsendtest perform send test performsendtest perform send test performsendtest set read test timeout setreadtesttimeout read test timeout readtesttimeout read test timeout readtesttimeout read test timeout readtesttimeout set connect timeout setconnecttimeout connect timeout connecttimeout connect timeout connecttimeout connect timeout connecttimeout set remove suspects timeout setremovesuspectstimeout remove suspects timeout removesuspectstimeout remove suspects timeout removesuspectstimeout remove suspects timeout removesuspectstimeout
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util http file upload fileupload util java filter input stream filterinputstream java io exception ioexception java input stream inputstream input stream limits data size stream content length unknown limited input stream limitedinputstream filter input stream filterinputstream closeable maximum size item bytes size max sizemax current number bytes count stream closed closed creates instance param input stream inputstream input stream limited param p size max psizemax limit number bytes returned source stream limited input stream limitedinputstream input stream inputstream input stream inputstream p size max psizemax input stream inputstream size max sizemax p size max psizemax called input str eams streams limit exc eeded exceeded param p size max psizemax input str eams streams limit bytes param p count pcount actual number bytes io exception ioexception called method expected raise io exception ioexception raise error raiseerror p size max psizemax p count pcount io exception ioexception called check input str eams streams limit reached io exception ioexception limit exc eeded exceeded check limit checklimit io exception ioexception count size max sizemax raise error raiseerror size max sizemax count reads data input stream returned code code range code code code code stream reached code code returned method blocks input data stream detected exception thrown method simply performs code read code returns result data code code stream reached io exception ioexception error occurs java filter input stream filterinputstream override read io exception ioexception res read res count check limit checklimit res reads code len code bytes data input stream array bytes code len code method blocks input bytes read code code returned method simply performs code read len code returns result param buffer data read param start offset destination array code code param len maximum number bytes read total number bytes read buffer code code data stream reached null pointer exception nullpointerexception code code code code index out of bounds exception indexoutofboundsexception code code negative code len code negative code len code greater code length code io exception ioexception error occurs java filter input stream filterinputstream override read len io exception ioexception res read len res count res check limit checklimit res returns stream closed stream closed io exception ioexception error occurred override is closed isclosed io exception ioexception closed closes input stream releases system resources stream method simply performs code close code io exception ioexception error occurs java filter input stream filterinputstream override close io exception ioexception closed close
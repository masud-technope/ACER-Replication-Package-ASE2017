licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http filters java io exception ioexception java output stream outputstream java util zip gzip output stream gzipoutputstream org apache coyote output buffer outputbuffer org apache coyote response org apache coyote http output filter outputfilter org apache tomcat util buf byte chunk bytechunk gzip output filter author remy maucherat gzip output filter gzipoutputfilter output filter outputfilter logger org apache juli logging log log org apache juli logging log factory logfactory get log getlog gzip output filter gzipoutputfilter instance variables buffer pipeline output buffer outputbuffer buffer compression output stream gzip output stream gzipoutputstream compression stream compressionstream fake internal output stream output stream outputstream fake output stream fakeoutputstream fake output stream fakeoutputstream output buffer outputbuffer methods write bytes number bytes written filter override do write dowrite byte chunk bytechunk chunk response res io exception ioexception compression stream compressionstream compression stream compressionstream flushablegzipoutputstream fake output stream fakeoutputstream compression stream compressionstream write chunk get bytes getbytes chunk get start getstart chunk get length getlength chunk get length getlength override get bytes written getbyteswritten buffer get bytes written getbyteswritten output filter outputfilter methods flushing happen gzip outputs tream outputstream flush compression stream compressionstream log is debug enabled isdebugenabled log debug flushing compression stream compression stream compressionstream flush io exception ioexception log is debug enabled isdebugenabled log debug exception flushing gzip filter filters additional parameters response reading occur method method called response header processing complete override set response setresponse response response noop parameters response filter buffer filter pipeline override set buffer setbuffer output buffer outputbuffer buffer buffer buffer current request accept able acceptable write extra bytes buffer do write dowrite execution method override io exception ioexception compression stream compressionstream compression stream compressionstream flushablegzipoutputstream fake output stream fakeoutputstream compression stream compressionstream finish compression stream compressionstream close output filter outputfilter buffer filter ready process request override recycle compression stream compression stream compressionstream fake output stream fakeoutputstream output stream outputstream byte chunk bytechunk output chunk outputchunk byte chunk bytechunk single byte buffer singlebytebuffer override write io exception ioexception should n shouldn good performance needed compatibility sun jdk single byte buffer singlebytebuffer xff output chunk outputchunk set bytes setbytes single byte buffer singlebytebuffer buffer do write dowrite output chunk outputchunk override write len io exception ioexception output chunk outputchunk set bytes setbytes len buffer do write dowrite output chunk outputchunk override flush io exception ioexception noop override close io exception ioexception noop
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina core java serializable java lang reflect invocation target exception invocationtargetexception java util collections java util enumeration java util hash map hashmap java util list java util map javax management object name objectname javax naming naming exception namingexception javax servlet filter javax servlet filter config filterconfig javax servlet servlet context servletcontext javax servlet servlet exception servletexception org apache catalina context org apache catalina globals org apache catalina deploy filter def filterdef org apache catalina security security util securityutil org apache juli logging log factory logfactory org apache tomcat instance manager instancemanager org apache tomcat util exception utils exceptionutils org apache tomcat util log system log handler systemloghandler org apache tomcat util modeler registry org apache tomcat util modeler util org apache tomcat util res string manager stringmanager implementation code javax servlet filter config filterconfig code managing filter instances instantiated web application started author craig mc clanahan mcclanahan application filter config applicationfilterconfig filter config filterconfig serializable serialversionuid string manager stringmanager string manager stringmanager get manager getmanager constants org apache juli logging log log log factory logfactory get log getlog application filter config applicationfilterconfig empty string collection serve basis empty enum erations enumerations list string empty string emptystring collections empty list emptylist construct application filter config applicationfilterconfig filter definition param context context param filter def filterdef filter definition filter config filterconfig constructed exception class cast exception classcastexception implement code javax servlet filter code exception class not found exception classnotfoundexception filter exception illegal access exception illegalaccessexception filter pub licly publicly instantiated exception instantiation exception instantiationexception exception occurs instantiating filter object exception servlet exception servletexception thrown filter init method naming exception namingexception invocation target exception invocationtargetexception application filter config applicationfilterconfig context context filter def filterdef filter def filterdef class cast exception classcastexception class not found exception classnotfoundexception illegal access exception illegalaccessexception instantiation exception instantiationexception servlet exception servletexception invocation target exception invocationtargetexception naming exception namingexception context context filter def filterdef filter def filterdef all ocate allocate filter instance filter def filterdef get filter getfilter get filter getfilter filter filter def filterdef get filter getfilter get instance manager getinstancemanager new instance newinstance filter init filter initfilter instance variables context context context application filter configured filter filter code filter def filterdef code defines filter filter def filterdef filter def filterdef instance manager instancemanager create destroy filter instances instance manager instancemanager instance manager instancemanager jmx registration object name objectname oname filter config filterconfig methods filter config uri ng configuring override string get filter name getfiltername filter def filterdef get filter name getfiltername filter config uri ng configuring string get filter class getfilterclass filter def filterdef get filter class getfilterclass code string code named initialization parameter code code parameter exist param requested initialization parameter override string get init parameter getinitparameter string map string string map filter def filterdef get parameter map getparametermap map map code enumeration code names initialization parameters filter override enumeration string get init parameter names getinitparameternames map string string map filter def filterdef get parameter map getparametermap map collections enumeration empty string emptystring collections enumeration map key set keyset servlet context servletcontext web application override servlet context servletcontext get servlet context getservletcontext context get servlet context getservletcontext string representation object override string to string tostring string builder stringbuilder string builder stringbuilder application filter config applicationfilterconfig append append filter def filterdef get filter name getfiltername append filter class filterclass append filter def filterdef get filter class getfilterclass append to string tostring methods map string string get filter init parameter map getfilterinitparametermap collections unmodifiable map unmodifiablemap filter def filterdef get parameter map getparametermap methods application filter configured exception class cast exception classcastexception implement code javax servlet filter code exception class not found exception classnotfoundexception filter exception illegal access exception illegalaccessexception filter pub licly publicly instantiated exception instantiation exception instantiationexception exception occurs instantiating filter object exception servlet exception servletexception thrown filter init method naming exception namingexception invocation target exception invocationtargetexception filter get filter getfilter class cast exception classcastexception class not found exception classnotfoundexception illegal access exception illegalaccessexception instantiation exception instantiationexception servlet exception servletexception invocation target exception invocationtargetexception naming exception namingexception existing filter instance filter filter identify loader string filter class filterclass filter def filterdef get filter class getfilterclass filter filter get instance manager getinstancemanager new instance newinstance filter class filterclass init filter initfilter filter init filter initfilter servlet exception servletexception context standard context standardcontext context get swallow output getswallowoutput system log handler systemloghandler start capture startcapture filter init string capture dlog capturedlog system log handler systemloghandler stop capture stopcapture capture dlog capturedlog capture dlog capturedlog length get servlet context getservletcontext log capture dlog capturedlog filter init expose filter jmx registerjmx filter definition configured filter def filterdef get filter def getfilterdef filter def filterdef release filter instance filter config filterconfig release unregisterjmx filter globals security enabled security util securityutil do as privilege doasprivilege destroy filter security util securityutil remove filter filter destroy throwable exception utils exceptionutils handle throwable handlethrowable context get logger getlogger error get string getstring application filter config applicationfilterconfig release filter def filterdef get filter name getfiltername filter def filterdef get filter class getfilterclass context get ignore annotations getignoreannotations standard context standardcontext context get instance manager getinstancemanager destroy instance destroyinstance filter exception throwable exception utils exceptionutils unwrap invocation target exception unwrapinvocationtargetexception exception utils exceptionutils handle throwable handlethrowable context get logger getlogger error get string getstring application filter config applicationfilterconfig pre destroy predestroy filter def filterdef get filter name getfiltername filter def filterdef get filter class getfilterclass filter methods instance manager instancemanager get instance manager getinstancemanager instance manager instancemanager context standard context standardcontext instance manager instancemanager standard context standardcontext context get instance manager getinstancemanager instance manager instancemanager default instance manager defaultinstancemanager hash map hashmap string map string string context get class getclass get class loader getclassloader instance manager instancemanager registerjmx string parent name parentname context get name getname parent name parentname starts with startswith parent name parentname parent name parentname string host name hostname context get parent getparent get name getname host name hostname host name hostname host name hostname domain engine string domain context get parent getparent get parent getparent get name getname string web mod webmod host name hostname parent name parentname string oname str onamestr string filter name filtername filter def filterdef get filter name getfiltername util object name value needs quote objectnamevalueneedsquote filter name filtername filter name filtername object name objectname quote filter name filtername context standard context standardcontext standard context standardcontext standard context standardcontext standard context standardcontext context oname str onamestr domain ee type eetype filter filter name filtername web module webmodule web mod webmod ee application eeapplication standard context standardcontext get j getj ee application eeapplication ee server eeserver standard context standardcontext get j getj ee server eeserver oname str onamestr domain ee type eetype filter filter name filtername web module webmodule web mod webmod oname object name objectname oname str onamestr registry get registry getregistry register component registercomponent oname exception log info get string getstring application filter config applicationfilterconfig jmx register fail jmxregisterfail get filter class getfilterclass get filter name getfiltername unregisterjmx unregister component oname registry get registry getregistry unregister component unregistercomponent oname log is debug enabled isdebugenabled log debug get string getstring application filter config applicationfilterconfig jmx unregister jmxunregister get filter class getfilterclass get filter name getfiltername exception log error get string getstring application filter config applicationfilterconfig jmx unregister fail jmxunregisterfail get filter class getfilterclass get filter name getfiltername
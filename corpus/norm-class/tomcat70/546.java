licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license websocket drawboard java io exception ioexception java util linked list linkedlist javax websocket close reason closereason javax websocket close reason closereason close codes closecodes javax websocket remote endpoint remoteendpoint async javax websocket send handler sendhandler javax websocket send result sendresult javax websocket session websocket drawboard wsmessages abstract websocket message abstractwebsocketmessage websocket drawboard wsmessages binary websocket message binarywebsocketmessage websocket drawboard wsmessages close websocket message closewebsocketmessage websocket drawboard wsmessages string websocket message stringwebsocketmessage represents client methods send messages asynchronously client session session async async messages wich buf fered buffered previous send operation finished linked list linkedlist abstract websocket message abstractwebsocketmessage messages to send messagestosend linked list linkedlist abstract websocket message abstractwebsocketmessage client sending messages asynchronously is sending message issendingmessage client closing code code messages send is closing isclosing length current buf fered buffered messages avoid iter ating iterating linked list messages to send length messagestosendlength client session session session session async session get async remote getasyncremote async hronously asynchronously closes websocket session wait remaining messages client close websocket session close send message sendmessage close websocket message closewebsocketmessage s ends sends message asynchronously client async sending progress message buf fered buffered method called multiple threads param msg send message sendmessage abstract websocket message abstractwebsocketmessage msg messages to send messagestosend is closing isclosing check close message msg close websocket message closewebsocketmessage is closing isclosing is sending message issendingmessage length messages bytes messages to send messagestosend size messages to send length messagestosendlength is closing isclosing discard message close session close reason closereason close reason closereason close codes closecodes violated policy send buffer exc eeded exceeded todo close block remote endpoint doesn read data event ually eventually timeout exception timeoutexception method send message sendmessage intended asynchronous code should n shouldn block temp orarily temporarily processing messages clients call method thread note method called remote endpoint remoteendpoint async process sending data abort websocket connection ideally abort method can cels cancels connection session close io exception ioexception reduce tcp over head overhead separator msg string websocket message stringwebsocketmessage messages to send messagestosend is empty isempty messages to send messagestosend get last getlast string websocket message stringwebsocketmessage string websocket message stringwebsocketmessage string websocket message stringwebsocketmessage messages to send messagestosend remove last removelast messages to send length messagestosendlength calculate message length calculatemessagelength string concat enated concatenated get string getstring string websocket message stringwebsocketmessage msg get string getstring msg string websocket message stringwebsocketmessage concat enated concatenated messages to send messagestosend add msg messages to send length messagestosendlength calculate message length calculatemessagelength msg is sending message issendingmessage internal send message async internalsendmessageasync msg calculate message length calculatemessagelength abstract websocket message abstractwebsocketmessage msg msg binary websocket message binarywebsocketmessage binary websocket message binarywebsocketmessage msg get bytes getbytes capacity msg string websocket message stringwebsocketmessage string websocket message stringwebsocketmessage msg get string getstring length int ernally internally sends messages asynchronously param msg internal send message async internalsendmessageasync abstract websocket message abstractwebsocketmessage msg msg string websocket message stringwebsocketmessage string websocket message stringwebsocketmessage s msg smsg string websocket message stringwebsocketmessage msg async send text sendtext s msg smsg get string getstring send handler sendhandler msg binary websocket message binarywebsocketmessage binary websocket message binarywebsocketmessage b msg bmsg binary websocket message binarywebsocketmessage msg async send binary sendbinary b msg bmsg get bytes getbytes send handler sendhandler msg close websocket message closewebsocketmessage close session session close illegal state exception illegalstateexception io exception ioexception send handler sendhandler send buf fered buffered messages send handler sendhandler send handler sendhandler send handler sendhandler override on result onresult send result sendresult result result isok connection session close io exception ioexception messages to send messagestosend messages to send messagestosend is empty isempty abstract websocket message abstractwebsocketmessage msg messages to send messagestosend remove messages to send length messagestosendlength calculate message length calculatemessagelength msg internal send message async internalsendmessageasync msg is sending message issendingmessage
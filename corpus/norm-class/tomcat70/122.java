licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina startup java file java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java reader java net url java net url connection urlconnection java security principal java util array list arraylist java util hash map hashmap java util list java util map java util concurrent atomic atomic integer atomicinteger javax naming initial context initialcontext javax naming naming exception namingexception javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse javax servlet http http session httpsession org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue org junit fail org junit test org apache catalina context org apache catalina host org apache catalina core standard context standardcontext org apache catalina core standard host standardhost org apache catalina deploy context environment contextenvironment org apache catalina deploy context resource link contextresourcelink org apache catalina context replicated context replicatedcontext org apache catalina realm generic principal genericprincipal org apache catalina realm realm base realmbase org apache tomcat util buf byte chunk bytechunk test tomcat testtomcat tomcat base test tomcatbasetest simple servlet test registration hello world helloworld http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse res io exception ioexception res get writer getwriter write simple servlet test session manager hello world session helloworldsession http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse res io exception ioexception http session httpsession req get session getsession get id getid res get writer getwriter write simple servlet test jndi hello world jndi helloworldjndi http servlet httpservlet serialversionuid string jndi env test override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse res io exception ioexception string javax naming context init ctx initctx initial context initialcontext javax naming context env ctx envctx javax naming context init ctx initctx lookup java comp env string env ctx envctx lookup jndi env naming exception namingexception io exception ioexception res get writer getwriter write servlet url web inf web xml get resource getresource http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse res io exception ioexception url url req get servlet context getservletcontext get resource getresource web inf web xml res get writer getwriter write url web inf web xml url res get writer getwriter write res get writer getwriter write url to string tostring res get writer getwriter write characters resource read content resource url connection urlconnection conn url open connection openconnection input stream inputstream reader reader cbuf read conn get input stream getinputstream reader input stream reader inputstreamreader read len reader read cbuf read cbuf length read res get writer getwriter write cbuf read len read read len reader reader close io exception ioexception ioe close io exception ioexception ioe simple servlet test initialization servlet instances init count initcount http servlet httpservlet serialversionuid atomic integer atomicinteger call count callcount atomic integer atomicinteger override init servlet exception servletexception init call count callcount increment and get incrementandget override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception resp set content type setcontenttype text plain resp get writer getwriter print get call count getcallcount call count callcount int value intvalue simple realm config urable configurable link map link user names pass words passwords map realm maprealm realm base realmbase map string string users hash map hashmap string string map string list string roles hash map hashmap string list string add user adduser string username string password users username password add user role adduserrole string username string role list string user roles userroles roles username user roles userroles user roles userroles array list arraylist string roles username user roles userroles user roles userroles add role override string get name getname map realm maprealm override string get password getpassword string username users username override principal get principal getprincipal string username generic principal genericprincipal username get password getpassword username roles username start tomcat single context servlet program matic programmatic server xml web xml exception test test program matic testprogrammatic exception tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext customize context calling api tomcat add servlet addservlet ctx my servlet myservlet hello world helloworld ctx add servlet mapping addservletmapping my servlet myservlet tomcat start byte chunk bytechunk res get url geturl http localhost get port getport assert equals assertequals res to string tostring test test single webapp testsinglewebapp exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file get build directory getbuilddirectory webapps examples app dir relative server tomcat add webapp addwebapp examples app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res get url geturl http localhost get port getport examples servlets servlet hello world example helloworldexample string text res to string tostring assert true asserttrue text text index of indexof href helloworld html test test jsps testjsps exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file get build directory getbuilddirectory webapps examples app dir relative server tomcat add webapp addwebapp examples app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res get url geturl http localhost get port getport examples jsp jsp basic arithmetic jsp string text res to string tostring assert true asserttrue text text index of indexof test test session testsession exception tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext customize context calling api tomcat add servlet addservlet ctx my servlet myservlet hello world session helloworldsession ctx add servlet mapping addservletmapping my servlet myservlet tomcat start byte chunk bytechunk res get url geturl http localhost get port getport assert equals assertequals res to string tostring test test launch time testlaunchtime exception tomcat tomcat get tomcat instance gettomcatinstance system current time millis currenttimemillis tomcat add context addcontext tomcat start log info tomcat started system current time millis currenttimemillis test enabling jndi test test enable naming testenablenaming exception tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext cus tomise customise context calling api enable jndi disabled tomcat enable naming enablenaming context environment contextenvironment environment context environment contextenvironment environment set type settype java lang string environment set name setname hello world jndi helloworldjndi jndi env environment set value setvalue tomcat user ctx get naming resources getnamingresources add environment addenvironment environment tomcat add servlet addservlet ctx jndi servlet jndiservlet hello world jndi helloworldjndi ctx add servlet mapping addservletmapping jndi servlet jndiservlet tomcat start byte chunk bytechunk res get url geturl http localhost get port getport assert equals assertequals tomcat user res to string tostring test enabling jndi global resources test test enable naming global testenablenamingglobal exception tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext cus tomise customise context calling api enable jndi disabled tomcat enable naming enablenaming context environment contextenvironment environment context environment contextenvironment environment set type settype java lang string environment set name setname global test globaltest environment set value setvalue tomcat user tomcat get server getserver get global naming resources getglobalnamingresources add environment addenvironment environment context resource link contextresourcelink link context resource link contextresourcelink link set global setglobal global test globaltest link set name setname hello world jndi helloworldjndi jndi env link set type settype java lang string ctx get naming resources getnamingresources add resource link addresourcelink link tomcat add servlet addservlet ctx jndi servlet jndiservlet hello world jndi helloworldjndi ctx add servlet mapping addservletmapping jndi servlet jndiservlet tomcat start byte chunk bytechunk res get url geturl http localhost get port getport assert equals assertequals tomcat user res to string tostring test https apache org bug zilla bugzilla bug cgi test test get resource testgetresource exception tomcat tomcat get tomcat instance gettomcatinstance string context path contextpath examples file app dir appdir file get build directory getbuilddirectory webapps context path contextpath app dir relative server context ctx tomcat add webapp addwebapp examples app dir appdir get absolute path getabsolutepath tomcat add servlet addservlet ctx test get resource testgetresource get resource getresource ctx add servlet mapping addservletmapping test get resource testgetresource test get resource testgetresource tomcat start byte chunk bytechunk res byte chunk bytechunk get url geturl http localhost get port getport context path contextpath test get resource testgetresource res assert equals assertequals http servlet response httpservletresponse assert true asserttrue res to string tostring xml version test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance string context path contextpath examples file app dir appdir file get build directory getbuilddirectory webapps context path contextpath app dir relative server tomcat add webapp addwebapp examples app dir appdir get absolute path getabsolutepath exception tomcat destroy exception print stack trace printstacktrace assert null assertnull test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext init count initcount init count initcount init count initcount tomcat add servlet addservlet ctx init count initcount init count initcount ctx add servlet mapping addservletmapping init count initcount tomcat start byte chunk bytechunk res get url geturl http localhost get port getport assert equals assertequals res to string tostring assert equals assertequals init count initcount get call count getcallcount test test get webapp config file from directory testgetwebappconfigfilefromdirectory tomcat tomcat tomcat assert not null assertnotnull tomcat get webapp config file getwebappconfigfile test deployment dir context dircontext test test get webapp config file from directory negative testgetwebappconfigfilefromdirectorynegative tomcat tomcat tomcat assert null assertnull tomcat get webapp config file getwebappconfigfile test deployment dir no context dirnocontext test test get webapp config file from jar testgetwebappconfigfilefromjar tomcat tomcat tomcat assert not null assertnotnull tomcat get webapp config file getwebappconfigfile test deployment context war test test get webapp config file from jar negative testgetwebappconfigfilefromjarnegative tomcat tomcat tomcat assert null assertnull tomcat get webapp config file getwebappconfigfile test deployment no context nocontext war test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app file appfile file test deployment context war standard context standardcontext context standard context standardcontext tomcat add webapp addwebapp test app file appfile get absolute path getabsolutepath tomcat start assert equals assertequals war context context get session cookie name getsessioncookiename test test get default context per add webapp testgetdefaultcontextperaddwebapp tomcat tomcat get tomcat instance gettomcatinstance file app file appfile file test deployment context war context context tomcat add webapp addwebapp test app file appfile get absolute path getabsolutepath assert equals assertequals standard context standardcontext get name getname context get class getclass get name getname test test get broken context per add wepapp testgetbrokencontextperaddwepapp tomcat tomcat get tomcat instance gettomcatinstance host host tomcat get host gethost host standard host standardhost standard host standardhost host set context class setcontextclass invalid context class name invalidcontextclassname file app file appfile file test deployment context war tomcat add webapp addwebapp test app file appfile get absolute path getabsolutepath fail illegal argument exception illegalargumentexception test test get custom context per add webapp with null host testgetcustomcontextperaddwebappwithnullhost tomcat tomcat get tomcat instance gettomcatinstance host host tomcat get host gethost host standard host standardhost standard host standardhost host set context class setcontextclass replicated context replicatedcontext get name getname file app file appfile file test deployment context war context context tomcat add webapp addwebapp test app file appfile get absolute path getabsolutepath assert equals assertequals replicated context replicatedcontext get name getname context get class getclass get name getname test test get custom context per add webapp with host testgetcustomcontextperaddwebappwithhost tomcat tomcat get tomcat instance gettomcatinstance host host tomcat get host gethost host standard host standardhost standard host standardhost host set context class setcontextclass replicated context replicatedcontext get name getname file app file appfile file test deployment context war context context tomcat add webapp addwebapp host test app file appfile get absolute path getabsolutepath assert equals assertequals replicated context replicatedcontext get name getname context get class getclass get name getname test test get default context per add context testgetdefaultcontextperaddcontext tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext assert equals assertequals standard context standardcontext get name getname ctx get class getclass get name getname test test get broken context per add context testgetbrokencontextperaddcontext tomcat tomcat get tomcat instance gettomcatinstance host host tomcat get host gethost host standard host standardhost standard host standardhost host set context class setcontextclass invalid context class name invalidcontextclassname file system doc base docbase required tomcat add context addcontext fail illegal argument exception illegalargumentexception test test get custom context per add context with host testgetcustomcontextperaddcontextwithhost tomcat tomcat get tomcat instance gettomcatinstance host host tomcat get host gethost host standard host standardhost standard host standardhost host set context class setcontextclass replicated context replicatedcontext get name getname file system doc base docbase required context ctx tomcat add context addcontext host assert equals assertequals replicated context replicatedcontext get name getname ctx get class getclass get name getname
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina util java byte array output stream bytearrayoutputstream java io exception ioexception java output stream writer outputstreamwriter java util bit set bitset java net url encoder urlencoder java net url encoder urlencoder java net url encoder urlencoder characters encoded code moved default servlet defaultservlet java author craig mc clanahan mcclanahan author remy maucherat url encoder urlencoder hexadecimal url encoder urlencoder url encoder urlencoder add safe character addsafecharacter add safe character addsafecharacter add safe character addsafecharacter add safe character addsafecharacter add safe character addsafecharacter add safe character addsafecharacter array safe characters bit set bitset safe char acters safecharacters bit set bitset url encoder urlencoder add safe character addsafecharacter add safe character addsafecharacter add safe character addsafecharacter add safe character addsafecharacter safe char acters safecharacters url encodes path utf param path path encode encoded path deprecated link encode string string deprecated string encode string path encode path utf url encodes path encoding param path path encode param encoding encoding convert path bytes encoded path string encode string path string encoding max bytes per char maxbytesperchar string builder stringbuilder rewritten path rewrittenpath string builder stringbuilder path length byte array output stream bytearrayoutputstream buf byte array output stream bytearrayoutputstream max bytes per char maxbytesperchar output stream writer outputstreamwriter writer writer output stream writer outputstreamwriter buf encoding exception print stack trace printstacktrace writer output stream writer outputstreamwriter buf path length path char at charat safe char acters safecharacters rewritten path rewrittenpath append convert external encoding hex conversion writer write writer flush io exception ioexception buf reset buf to byte array tobytearray length converting buffer to encode toencode rewritten path rewrittenpath append to encode toencode high to encode toencode rewritten path rewrittenpath append hexadecimal high rewritten path rewrittenpath append hexadecimal buf reset rewritten path rewrittenpath to string tostring
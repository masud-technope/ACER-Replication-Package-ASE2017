licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache juli java print writer printwriter java string writer stringwriter java util logging formatter java util logging log record logrecord processing based access log valve accesslogvalve one line formatter onelineformatter formatter string sep system get property getproperty separator string sep sep timestamp format string time format timeformat mmm yyyy size global format cache global cache size globalcachesize size thread local format cache local cache size localcachesize global format cache date format cache dateformatcache global date cache globaldatecache date format cache dateformatcache global cache size globalcachesize time format timeformat thread local format cache thread local threadlocal date format cache dateformatcache local date cache localdatecache thread local threadlocal date format cache dateformatcache override date format cache dateformatcache initial value initialvalue date format cache dateformatcache local cache size localcachesize time format timeformat global date cache globaldatecache override string format log record logrecord record string builder stringbuilder string builder stringbuilder timestamp add timestamp addtimestamp record get millis getmillis severity append append record get level getlevel thread append append append thread current thread currentthread get name getname append source append append record get source class name getsourceclassname append append record get source method name getsourcemethodname message append append format message formatmessage record stack trace record get thrown getthrown append sep string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter record get thrown getthrown print stack trace printstacktrace close append get buffer getbuffer record append sep to string tostring add timestamp addtimestamp string builder stringbuilder buf timestamp buf append local date cache localdatecache get format getformat timestamp frac timestamp buf append frac frac buf append buf append buf append buf append frac
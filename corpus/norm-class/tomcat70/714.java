licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc pool java util array list arraylist java util collection java util iterator java util linked list linkedlist java util no such element exception nosuchelementexception java util concurrent blocking queue blockingqueue java util concurrent count down latch countdownlatch java util concurrent execution exception executionexception java util concurrent java util concurrent time unit timeunit java util concurrent timeout exception timeoutexception java util concurrent atomic atomic integer atomicinteger java util concurrent locks reentrant lock reentrantlock multi lock fair blocking queue multilockfairblockingqueue blocking queue blockingqueue lock count runtime get runtime getruntime available processors availableprocessors atomic integer atomicinteger put queue putqueue atomic integer atomicinteger atomic integer atomicinteger poll queue pollqueue atomic integer atomicinteger get next put getnextput idx math abs put queue putqueue increment and get incrementandget lock count idx get next poll getnextpoll idx math abs poll queue pollqueue increment and get incrementandget lock count idx p has e phase entry lock order thread locks waiting phase phase lock content ion contention period reentrant lock reentrantlock locks reentrant lock reentrantlock lock count objects pool stored simple linked list linked list linkedlist items threads waiting object stored linked list linked list linkedlist exchange count down latch exchangecountdownlatch waiters creates fair blocking queue create arrays types suppress warnings suppresswarnings unchecked multi lock fair blocking queue multilockfairblockingqueue items linked list linkedlist lock count waiters linked list linkedlist lock count lock count items linked list linkedlist waiters linked list linkedlist exchange count down latch exchangecountdownlatch locks reentrant lock reentrantlock conpool implementation queue unbounded inherit doc inheritdoc override offer idx get next put getnextput offer grab main lock reentrant lock reentrantlock lock locks idx lock lock exchange count down latch exchangecountdownlatch check threads waiting object waiters idx size threads waiting grab latch thread waiters idx poll object thread adding pool set item setitem add object items idx add first addfirst lock unlock exc hanged exchanged object thread wake count down countdown unbounded queue timeout invokes link offer object method lock acquired inherit doc inheritdoc override offer timeout time unit timeunit unit interrupted exception interruptedexception offer fair retrieval object queue objects returned order threads requested inherit doc inheritdoc override poll timeout time unit timeunit unit interrupted exception interruptedexception idx get next poll getnextpoll result reentrant lock reentrantlock lock locks idx error acquire global lock lock lock check objects result items idx poll result timeout queue empty wait object exchange count down latch exchangecountdownlatch exchange count down latch exchangecountdownlatch add bottom wait list waiters idx add last addlast unlock global lock lock unlock wait timeout await timeout unit time d timed remove wait list waitlist lock lock waiters idx remove lock unlock item received time d timed result get item getitem object release lock unlock error error lock is held by current thread isheldbycurrentthread lock unlock result request item queue async hronously asynchronously pending result queue poll request poll async pollasync idx get next poll getnextpoll result reentrant lock reentrantlock lock locks idx error grab global lock lock lock check objects queue item items idx poll item queue empty add waiters exchange count down latch exchangecountdownlatch exchange count down latch exchangecountdownlatch waiters idx add last addlast lock unlock wait object result item future itemfuture lock unlock item result item future itemfuture item error error lock is held by current thread isheldbycurrentthread lock unlock result inherit doc inheritdoc override remove object idx idx lock count idx reentrant lock reentrantlock lock locks idx lock lock result items idx remove result result lock unlock inherit doc inheritdoc override size size idx idx lock count idx size items idx size size inherit doc inheritdoc override iterator iterator fair iterator fairiterator inherit doc inheritdoc override poll idx get next poll getnextpoll reentrant lock reentrantlock lock locks idx lock lock items idx poll lock unlock inherit doc inheritdoc override object idx idx lock count idx result items idx result result conpool implementation inherit doc inheritdoc override add offer inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override drain to drainto collection max elements maxelements unsupported operation exception unsupportedoperationexception drain to drainto collection max elements maxelements inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override drain to drainto collection drain to drainto integer max inherit doc inheritdoc override interrupted exception interruptedexception offer inherit doc inheritdoc override remaining capacity remainingcapacity integer max size inherit doc inheritdoc override interrupted exception interruptedexception poll max time unit timeunit milliseconds inherit doc inheritdoc override add all addall collection iterator iterator has next hasnext offer inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override clear unsupported operation exception unsupportedoperationexception clear inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override contains all containsall collection unsupported operation exception unsupportedoperationexception contains all containsall collection inherit doc inheritdoc override is empty isempty size inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override remove all removeall collection unsupported operation exception unsupportedoperationexception remove all removeall collection inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override retain all retainall collection unsupported operation exception unsupportedoperationexception retain all retainall collection inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override object to array toarray unsupported operation exception unsupportedoperationexception object to array toarray inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override to array toarray unsupported operation exception unsupportedoperationexception to array toarray inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override element unsupported operation exception unsupportedoperationexception element inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override peek unsupported operation exception unsupportedoperationexception peek inherit doc inheritdoc unsupported operation exception unsupportedoperationexception operation supported override remove unsupported operation exception unsupportedoperationexception remove item future itemfuture item exchange count down latch exchangecountdownlatch latch can celed canceled item future itemfuture item item item item future itemfuture exchange count down latch exchangecountdownlatch latch latch latch override cancel may int err upt if running mayinterruptifrunning don cancel override interrupted exception interruptedexception execution exception executionexception item item latch latch await latch get item getitem execution exception executionexception item future itemfuture incorrectly instantiated bug code exception override timeout time unit timeunit unit interrupted exception interruptedexception execution exception executionexception timeout exception timeoutexception item item latch time dout timedout latch await timeout unit time dout timedout timeout exception timeoutexception latch get item getitem execution exception executionexception item future itemfuture incorrectly instantiated bug code exception override is cancelled iscancelled override is done isdone item latch get item getitem exchange count down latch exchangecountdownlatch count down latch countdownlatch item exchange count down latch exchangecountdownlatch get item getitem item set item setitem item item item fair iterator fairiterator iterator elements element create arrays types suppress warnings suppresswarnings unchecked fair iterator fairiterator array list arraylist list array list arraylist multi lock fair blocking queue multilockfairblockingqueue size idx idx lock count idx reentrant lock reentrantlock lock multi lock fair blocking queue multilockfairblockingqueue locks idx lock lock elements object multi lock fair blocking queue multilockfairblockingqueue items idx size multi lock fair blocking queue multilockfairblockingqueue items idx to array toarray elements lock unlock elements object list size list to array toarray elements override has next hasnext elements length override has next hasnext no such element exception nosuchelementexception element elements element override remove idx idx lock count idx reentrant lock reentrantlock lock multi lock fair blocking queue multilockfairblockingqueue locks idx lock lock result multi lock fair blocking queue multilockfairblockingqueue items idx remove elements result lock unlock
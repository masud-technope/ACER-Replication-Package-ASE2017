licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java io exception ioexception java nio byte buffer bytebuffer java util list javax websocket extension internal representation transformation web socket websocket extension performs message transformation sets transformation pipeline set next setnext transformation validate rsv bit required transformation extension implementation expected bits requires passing bits transformation param rsv bits marked range rsv msb rsv lsb code code combination rsv bits transformations pipeline conflict code code validate rsv bits validatersvbits extension describes returned client extension get extension response getextensionresponse input data param op code opcode opcode frame processed param fin frame web socket websocket message param rsv reserved bits frame processed param dest buffer data written transformation result transformationresult get more data getmoredata op code opcode fin rsv byte buffer bytebuffer dest io exception ioexception valid ates validates rsv opcode combination assumed extracted web socket websocket frame extension implementation expected unset rsv bits validated passing remaining rsv bits transformation pipeline param rsv rsv bits received range rsv msb rsv lsb param op code opcode op code opcode received code code rsv valid code code validate rsv validatersv rsv op code opcode takes list messages tra nsforms transforms passes transformed list transformation returns list message parts transformations applied param message parts messageparts list messages transformed list messages subsequent transformations applied size returned list bigger smaller size input list list message part messagepart send message part sendmessagepart list message part messagepart message parts messageparts clean resources transformation close
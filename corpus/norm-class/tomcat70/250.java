licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http java io exception ioexception java interruptedioexception java net inet address inetaddress java nio channels selection key selectionkey java util javax net ssl ssl engine sslengine org apache coyote action code actioncode org apache coyote error state errorstate org apache coyote request info requestinfo org apache coyote http filters buffered input filter bufferedinputfilter org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util exception utils exceptionutils org apache tomcat util net abstract endpoint abstractendpoint handler socket state socketstate org apache tomcat util net nio channel niochannel org apache tomcat util net nio endpoint nioendpoint org apache tomcat util net nio endpoint nioendpoint key attachment keyattachment org apache tomcat util net ssl support sslsupport org apache tomcat util net secure nio channel secureniochannel org apache tomcat util net socket status socketstatus org apache tomcat util net socket wrapper socketwrapper processes http requests author remy maucherat author filip hanik http nio processor nioprocessor abstract http abstracthttp processor nio channel niochannel log log log factory logfactory get log getlog http nio processor nioprocessor override log get log getlog log ssl ssl support sslsupport ssl support sslsupport http nio processor nioprocessor max http header size maxhttpheadersize nio endpoint nioendpoint endpoint max trailer size maxtrailersize string allowed trailer headers allowedtrailerheaders max extension size maxextensionsize max swallow size maxswallowsize endpoint input buffer inputbuffer internal nio input buffer internalnioinputbuffer request max http header size maxhttpheadersize request set input buffer setinputbuffer input buffer inputbuffer output buffer outputbuffer internal nio output buffer internalniooutputbuffer response max http header size maxhttpheadersize response set output buffer setoutputbuffer output buffer outputbuffer initialize filters initializefilters max trailer size maxtrailersize allowed trailer headers allowedtrailerheaders max extension size maxextensionsize max swallow size maxswallowsize instance variables input internal nio input buffer internalnioinputbuffer input buffer inputbuffer output internal nio output buffer internalniooutputbuffer output buffer outputbuffer sendfile data nio endpoint nioendpoint sendfile data sendfiledata sendfile data sendfiledata methods process pipeline d pipelined http requests input output str eams streams io exception ioexception error operation override socket state socketstate event socket status socketstatus status io exception ioexception so timeout sotimeout endpoint get so timeout getsotimeout request info requestinfo request get request processor getrequestprocessor nio endpoint nioendpoint key attachment keyattachment attach nio endpoint nioendpoint key attachment keyattachment socket wrapper socketwrapper get socket getsocket get attachment getattachment set s tag e setstage org apache coyote constants stage service get adapter getadapter event request response status set error state seterrorstate error state errorstate close get error state geterrorstate is error iserror attach attach set comet setcomet comet comet integer comettimeout integer request get attribute getattribute org apache coyote constants comet timeout attr comettimeout attach set timeout settimeout comettimeout long value longvalue reset timeout keep alive keepalive attach set timeout settimeout keep alive timeout keepalivetimeout attach set timeout settimeout so timeout sotimeout interruptedioexception set error state seterrorstate error state errorstate close throwable exception utils exceptionutils handle throwable handlethrowable response set status setstatus set error state seterrorstate error state errorstate close log error get string getstring http processor request process get adapter getadapter log request response set s tag e setstage org apache coyote constants stage ended get error state geterrorstate is error iserror status socket status socketstatus socket state socketstate closed comet keep alive keepalive input buffer inputbuffer next request nextrequest output buffer outputbuffer next request nextrequest socket state socketstate open socket state socketstate closed socket state socketstate override reset time outs resettimeouts nio endpoint nioendpoint key attachment keyattachment attach nio endpoint nioendpoint key attachment keyattachment socket wrapper socketwrapper get socket getsocket get attachment getattachment get error state geterrorstate is error iserror attach async state machine asyncstatemachine is async dispatching isasyncdispatching so timeout sotimeout endpoint get so timeout getsotimeout reset timeout keep alive keepalive attach set timeout settimeout keep alive timeout keepalivetimeout attach set timeout settimeout so timeout sotimeout override disable keep alive disablekeepalive override set request line read timeout setrequestlinereadtimeout io exception ioexception socket set timeout settimeout timeout poller socket get socket getsocket getiochannel socket set so timeout setsotimeout timeout blocking reads entering processing loop data read point changing time outs timeouts point subsequent executions processing loop blocking read time outs timeouts nio supports blocking reading request headers time outs timeouts returning socket poller override handle inc omplete request line read handleincompleterequestlineread have n haven finished reading request socket open open socket opensocket check read request input buffer inputbuffer get parsing request line p has e getparsingrequestlinephase socket wrapper socketwrapper get last access getlastaccess kept alive keptalive have n haven read request processed request alive poller keep alive keepalive socket wrapper socketwrapper set timeout settimeout endpoint get keep alive timeout getkeepalivetimeout endpoint is paused ispaused part ially partially processed request resp ond respond response set status setstatus set error state seterrorstate error state errorstate close clean get adapter getadapter log request response processor socket read complete readcomplete poller so timeout sotimeout onwards socket wrapper socketwrapper set timeout settimeout endpoint get so timeout getsotimeout override set socket timeout setsockettimeout timeout io exception ioexception socket wrapper socketwrapper get socket getsocket getiochannel socket set so timeout setsotimeout timeout override set comet time outs setcomettimeouts socket wrapper socketwrapper nio channel niochannel socket wrapper socketwrapper comet support selection key selectionkey key socket wrapper socketwrapper get socket getsocket getiochannel key for keyfor socket wrapper socketwrapper get socket getsocket get poller getpoller get selector getselector key nio endpoint nioendpoint key attachment keyattachment attach nio endpoint nioendpoint key attachment keyattachment key attachment attach attach set comet setcomet comet comet integer comettimeout integer request get attribute getattribute org apache coyote constants comet timeout attr comettimeout attach set timeout settimeout comettimeout long value longvalue override break keep alive loop breakkeepaliveloop socket wrapper socketwrapper nio channel niochannel socket wrapper socketwrapper open socket opensocket keep alive keepalive sendfile needed add socket sendfile sendfile data sendfiledata get error state geterrorstate is error iserror key attachment keyattachment socket wrapper socketwrapper set sendfile data setsendfiledata sendfile data sendfiledata sendfile data sendfiledata keep alive keepalive keep alive keepalive selection key selectionkey key socket wrapper socketwrapper get socket getsocket getiochannel key for keyfor socket wrapper socketwrapper get socket getsocket get poller getpoller get selector getselector write thread socket wrapper socketwrapper get socket getsocket get poller getpoller process sendfile processsendfile key key attachment keyattachment socket wrapper socketwrapper sendfile complete alive loop sendfile data sendfiledata pending sendfile in progress sendfileinprogress error write failed log is debug enabled isdebugenabled log debug get string getstring http processor sendfile error set error state seterrorstate error state errorstate close override recycle internal recycleinternal socket wrapper socketwrapper sendfile data sendfiledata action hook actionhook methods send action connector param action code actioncode type action param param action parameter override cases handled action suppress warnings suppresswarnings incomplete action internal actioninternal action code actioncode action code actioncode object param action code actioncode req host addr attribute remote host add ress address remote addr remoteaddr socket wrapper socketwrapper inet address inetaddress inet addr inetaddr socket wrapper socketwrapper get socket getsocket getiochannel socket get inet address getinetaddress inet addr inetaddr remote addr remoteaddr inet addr inetaddr get host address gethostaddress request remote addr remoteaddr set string setstring remote addr remoteaddr req local attribute local host local name localname socket wrapper socketwrapper inet address inetaddress inet addr inetaddr socket wrapper socketwrapper get socket getsocket getiochannel socket get local address getlocaladdress inet addr inetaddr local name localname inet addr inetaddr get host name gethostname request local name localname set string setstring local name localname req host attribute remote host remote host remotehost socket wrapper socketwrapper inet address inetaddress inet addr inetaddr socket wrapper socketwrapper get socket getsocket getiochannel socket get inet address getinetaddress inet addr inetaddr remote host remotehost inet addr inetaddr get host name gethostname remote host remotehost remote addr remoteaddr remote host remotehost remote addr remoteaddr punt request remote host remotehost recycle request remote host remotehost set string setstring remote host remotehost req local addr attribute local addr localaddr local addr localaddr socket wrapper socketwrapper get socket getsocket getiochannel socket get local address getlocaladdress get host address gethostaddress request local addr localaddr set string setstring local addr localaddr req remote port remoteport attribute remote port remoteport socket wrapper socketwrapper remote port remoteport socket wrapper socketwrapper get socket getsocket getiochannel socket get port getport request set remote port setremoteport remote port remoteport req local port localport attribute local port localport socket wrapper socketwrapper local port localport socket wrapper socketwrapper get socket getsocket getiochannel socket get local port getlocalport request set local port setlocalport local port localport req ssl attribute ssl support sslsupport object ssl o sslo ssl support sslsupport get cipher suite getciphersuite ssl o sslo request set attribute setattribute ssl support sslsupport cipher suite key ssl o sslo ssl o sslo ssl support sslsupport get peer certificate chain getpeercertificatechain ssl o sslo request set attribute setattribute ssl support sslsupport certificate key ssl o sslo ssl o sslo ssl support sslsupport get key size getkeysize ssl o sslo request set attribute setattribute ssl support sslsupport key size key ssl o sslo ssl o sslo ssl support sslsupport get session id getsessionid ssl o sslo request set attribute setattribute ssl support sslsupport session key ssl o sslo ssl o sslo ssl support sslsupport get protocol getprotocol ssl o sslo request set attribute setattribute ssl support sslsupport protocol version key ssl o sslo request set attribute setattribute ssl support sslsupport session mgr ssl support sslsupport exception log warn get string getstring http processor socket ssl req ssl certificate ssl support sslsupport consume buffer request body int erfere interfere client handshake messages input filter inputfilter input filters inputfilters input buffer inputbuffer get filters getfilters buffered input filter bufferedinputfilter input filters inputfilters constants buffered filter set limit setlimit max save post size maxsavepostsize input buffer inputbuffer add active filter addactivefilter input filters inputfilters constants buffered filter secure nio channel secureniochannel ssl channel sslchannel secure nio channel secureniochannel socket wrapper socketwrapper get socket getsocket ssl engine sslengine engine ssl channel sslchannel get ssl engine getsslengine engine get need client auth getneedclientauth negotiate ssl connection engine set need client auth setneedclientauth ssl channel sslchannel rehandshake endpoint get so timeout getsotimeout ssl support sslsupport nio endpoint nioendpoint endpoint get handler gethandler get ssl implementation getsslimplementation getsslsupport engine get session getsession io exception ioexception ioe log warn get string getstring http processor socket ssl reneg sslreneg ioe force negotiation handled nio object ssl o sslo ssl support sslsupport get peer certificate chain getpeercertificatechain ssl o sslo request set attribute setattribute ssl support sslsupport certificate key ssl o sslo exception log warn get string getstring http processor socket ssl request set available setavailable input buffer inputbuffer comet comet comet comet comet close socket wrapper socketwrapper socket wrapper socketwrapper get socket getsocket get attachment getattachment nio endpoint nioendpoint key attachment keyattachment attach nio endpoint nioendpoint key attachment keyattachment socket wrapper socketwrapper get socket getsocket get attachment getattachment attach set comet ops setcometops nio endpoint nioendpoint call back callback request info requestinfo request get request processor getrequestprocessor get s tag e getstage org apache coyote constants stage service close event processor triggered request processing processor tomcat thread application control led controlled thread socket wrapper socketwrapper get socket getsocket get poller getpoller add socket wrapper socketwrapper get socket getsocket comet set timeout settimeout param socket wrapper socketwrapper socket wrapper socketwrapper get socket getsocket get attachment getattachment nio endpoint nioendpoint key attachment keyattachment attach nio endpoint nioendpoint key attachment keyattachment socket wrapper socketwrapper get socket getsocket get attachment getattachment timeout param long value longvalue piggy backing worker thread timeout request info requestinfo request get request processor getrequestprocessor get s tag e getstage org apache coyote constants stage service attach set timeout settimeout timeout async complete async state machine asyncstatemachine async complete asynccomplete nio endpoint nioendpoint endpoint process socket processsocket socket wrapper socketwrapper get socket getsocket socket status socketstatus open read async set timeout settimeout param socket wrapper socketwrapper socket wrapper socketwrapper get socket getsocket get attachment getattachment nio endpoint nioendpoint key attachment keyattachment attach nio endpoint nioendpoint key attachment keyattachment socket wrapper socketwrapper get socket getsocket get attachment getattachment timeout param long value longvalue piggy backing worker thread timeout attach set timeout settimeout timeout async dispatch async state machine asyncstatemachine async dispatch asyncdispatch nio endpoint nioendpoint endpoint process socket processsocket socket wrapper socketwrapper get socket getsocket socket status socketstatus open read methods override prepare request internal preparerequestinternal sendfile data sendfiledata override prepare sendfile preparesendfile output filter outputfilter output filters outputfilters string file name filename string request get attribute getattribute org apache coyote constants sendfile filename attr file name filename entity body output buffer outputbuffer add active filter addactivefilter output filters outputfilters constants filter content delim itation contentdelimitation sendfile data sendfiledata nio endpoint nioendpoint sendfile data sendfiledata sendfile data sendfiledata file name filename file name filename sendfile data sendfiledata pos request get attribute getattribute org apache coyote constants sendfile file start attr long value longvalue sendfile data sendfiledata length request get attribute getattribute org apache coyote constants sendfile file attr long value longvalue sendfile data sendfiledata pos override abstract input buffer abstractinputbuffer nio channel niochannel get input buffer getinputbuffer input buffer inputbuffer override abstract output buffer abstractoutputbuffer nio channel niochannel get output buffer getoutputbuffer output buffer outputbuffer ssl http connection override set ssl support setsslsupport ssl support sslsupport ssl support sslsupport ssl support sslsupport ssl support sslsupport
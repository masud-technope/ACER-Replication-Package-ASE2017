licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util buf java io exception ioexception java nio byte buffer bytebuffer java nio char buffer charbuffer java nio charset charset encoder charsetencoder java nio charset code r result coderresult java nio charset coding error action codingerroraction nio based character encoder b converter bconverter charset encoder charsetencoder encoder byte buffer bytebuffer char buffer charbuffer left over leftover buffer multi characters characters char buffer charbuffer leftovers b converter bconverter string encoding io exception ioexception encoder c converter cconverter get charset getcharset encoding new encoder newencoder fixme unmappable malformed behavior configuration needed practice encoder on unmappable character onunmappablecharacter coding error action codingerroraction replace on malformed input onmalformedinput coding error action codingerroraction replace left leftovers char buffer charbuffer wrap left reset encoder recycle encoder reset leftovers position is undeflow isundeflow leftovers position convert characters bytes param input param output convert char chunk charchunk byte chunk bytechunk io exception ioexception array get buffer getbuffer create buffer changed byte buffer bytebuffer wrap get buffer getbuffer get end getend get buffer getbuffer length get end getend initialize buffer limit get buffer getbuffer length position get end getend array get buffer getbuffer create buffer changed char buffer charbuffer wrap get buffer getbuffer get start getstart get length getlength initialize buffer limit get end getend position get start getstart code r result coderresult result parse left over leftover leftovers position pos position loop encoded encoder error leftovers sub str act substract leftovers flip result encoder encode leftovers leftovers position leftovers limit leftovers limit leftovers array length result is under flow isunderflow position pos result is error iserror result is malformed ismalformed result throw exception throwexception position get start getstart leftovers position decoding chunk chunk result encoder encode result is error iserror result is malformed ismalformed result throw exception throwexception result is overflow isoverflow propagate current positions chunk chunk set end setend position set offset setoffset position result is under flow isunderflow propagate current positions chunk chunk set end setend position set offset setoffset position leftovers leftovers buffer get length getlength leftovers limit leftovers array length leftovers position get length getlength sub str act substract leftovers array get length getlength
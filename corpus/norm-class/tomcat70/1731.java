licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util http file upload fileupload util java byte array output stream bytearrayoutputstream java io exception ioexception java input stream inputstream java output stream outputstream org apache tomcat util http file upload fileupload io utils ioutils org apache tomcat util http file upload fileupload invalid file name exception invalidfilenameexception utility working str eams streams streams constructor prevent instantiation methods streams buffer size link copy input stream inputstream output stream outputstream buffer size copies contents link input stream inputstream link output stream outputstream shortcut pre copy p input stream pinputstream p output stream poutputstream pre param input stream inputstream input stream read guaranteed link input stream inputstream close called stream param output stream outputstream output stream data written input str eams streams contents simply discarded param close output stream closeoutputstream guarantees link output stream outputstream close called stream link output stream outputstream flush called number bytes copied io exception ioexception error occurred copy input stream inputstream input stream inputstream output stream outputstream output stream outputstream close output stream closeoutputstream io exception ioexception copy input stream inputstream output stream outputstream close output stream closeoutputstream buffer size copies contents link input stream inputstream link output stream outputstream param input stream inputstream input stream read guaranteed link input stream inputstream close called stream param output stream outputstream output stream data written input str eams streams contents simply discarded param close output stream closeoutputstream guarantees link output stream outputstream close called stream link output stream outputstream flush called param buffer temporary buffer copying data number bytes copied io exception ioexception error occurred copy input stream inputstream input stream inputstream output stream outputstream output stream outputstream close output stream closeoutputstream buffer io exception ioexception output stream outputstream output stream outputstream input stream inputstream input stream inputstream total res read buffer res res total res write buffer res close output stream closeoutputstream close flush close total io utils ioutils close quietly closequietly close output stream closeoutputstream io utils ioutils close quietly closequietly convenience method read link org apache tomcat util http file upload fileupload file item stream fileitemstream content string platform character encoding converting bytes characters param input stream inputstream input stream read as string asstring input stream inputstream string str eams streams contents string io exception ioexception error occurred string as string asstring input stream inputstream input stream inputstream io exception ioexception byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream copy input stream inputstream baos baos to string tostring convenience method read link org apache tomcat util http file upload fileupload file item stream fileitemstream content string character encoding param input stream inputstream input stream read param encoding character encoding typically utf as string asstring input stream inputstream str eams streams contents string io exception ioexception error occurred string as string asstring input stream inputstream input stream inputstream string encoding io exception ioexception byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream copy input stream inputstream baos baos to string tostring encoding checks file valid sense doesn nul characters file valid returned modifications link invalid file name exception invalidfilenameexception raised param file name filename file check unmodified file valid invalid file name exception invalidfilenameexception file invalid string check file name checkfilename string file name filename file name filename file name filename index of indexof p file name pfilename replace string builder stringbuilder string builder stringbuilder file name filename length file name filename char at charat append append invalid file name exception invalidfilenameexception file name filename invalid file file name filename
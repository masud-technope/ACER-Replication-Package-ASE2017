licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina core java file java io exception ioexception java print writer printwriter javax servlet filter javax servlet servlet javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org junit org junit test org apache catalina context org apache catalina lifecycle org apache catalina lifecycle event lifecycleevent org apache catalina lifecycle listener lifecyclelistener org apache catalina startup tomcat org apache catalina startup tomcat fix context listener fixcontextlistener org apache catalina startup tomcat base test tomcatbasetest org apache tomcat util buf byte chunk bytechunk test application context testapplicationcontext tomcat base test tomcatbasetest test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res get url geturl http localhost get port getport test bug jsp string result res to string tostring string lines result split string lines starts with startswith fail fail test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk res byte chunk bytechunk get url geturl http localhost get port getport test bug nnnn bug jsp res assert equals assertequals http servlet response httpservletresponse assert true asserttrue res to string tostring test expected illegal argument exception illegalargumentexception test add filter with filter name null testaddfilterwithfilternamenull get servlet context getservletcontext add filter addfilter filter test expected illegal argument exception illegalargumentexception test add filter with filter name empty string testaddfilterwithfilternameemptystring get servlet context getservletcontext add filter addfilter filter test expected illegal argument exception illegalargumentexception test add servlet with servlet name null testaddservletwithservletnamenull get servlet context getservletcontext add servlet addservlet servlet test expected illegal argument exception illegalargumentexception test add servlet with servlet name empty string testaddservletwithservletnameemptystring get servlet context getservletcontext add servlet addservlet servlet test test get jsp config descriptor testgetjspconfigdescriptor exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server standard context standardcontext standard context standardcontext standard context standardcontext tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath servlet context servletcontext servlet context servletcontext standard context standardcontext get servlet context getservletcontext assert null assertnull servlet context servletcontext get jsp config descriptor getjspconfigdescriptor tomcat start assert not null assertnotnull servlet context servletcontext get jsp config descriptor getjspconfigdescriptor servlet context servletcontext get servlet context getservletcontext tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp app dir relative server standard context standardcontext standard context standardcontext standard context standardcontext tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath standard context standardcontext get servlet context getservletcontext test expected illegal state exception illegalstateexception test set init parameter testsetinitparameter exception get tomcat instance gettomcatinstance start get servlet context getservletcontext set init parameter setinitparameter cross context requests parallel deployment test test bug testbug exception tomcat tomcat get tomcat instance gettomcatinstance context foo standard context standardcontext foo set name setname foo foo set path setpath foo foo set webapp version setwebappversion foo set doc base setdocbase system get property getproperty java tmpdir foo add lifecycle listener addlifecyclelistener fix context listener fixcontextlistener foo add lifecycle listener addlifecyclelistener set id listener setidlistener foo tomcat get host gethost add child addchild foo context foo standard context standardcontext foo set name setname foo foo set path setpath foo foo set webapp version setwebappversion foo set doc base setdocbase system get property getproperty java tmpdir foo add lifecycle listener addlifecyclelistener fix context listener fixcontextlistener foo add lifecycle listener addlifecyclelistener set id listener setidlistener foo tomcat get host gethost add child addchild foo file system doc base docbase required context bar tomcat add context addcontext bar bar add lifecycle listener addlifecyclelistener set id listener setidlistener bar file system doc base docbase required context ctx tomcat add context addcontext ctx add lifecycle listener addlifecyclelistener set id listener setidlistener root ctx set cross context setcrosscontext tomcat add servlet addservlet ctx bug servlet bug servlet ctx add servlet mapping addservletmapping bug servlet tomcat start byte chunk bytechunk res get url geturl http localhost get port getport string body res to string tostring assert true asserttrue body body bar assert true asserttrue body body foo assert true asserttrue body body foo assert true asserttrue body body foo assert true asserttrue body body foo assert true asserttrue body body root assert true asserttrue body body root assert true asserttrue body body foo assert true asserttrue body body root bug servlet http servlet httpservlet serialversionuid override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception resp set content type setcontenttype text plain print writer printwriter resp get writer getwriter servlet context servletcontext req get servlet context getservletcontext println get context getcontext bar get init parameter getinitparameter println get context getcontext foo get init parameter getinitparameter println get context getcontext foo get init parameter getinitparameter println get context getcontext foo get init parameter getinitparameter println get context getcontext foo get init parameter getinitparameter println get context getcontext unknown get init parameter getinitparameter println get context getcontext get init parameter getinitparameter println get context getcontext foo bar get init parameter getinitparameter println get context getcontext foo tball football get init parameter getinitparameter set id listener setidlistener lifecycle listener lifecyclelistener string set id listener setidlistener string override lifecycle event lifecycleevent lifecycle event lifecycleevent event lifecycle configure start event equals event get type gettype context event get source getsource get servlet context getservletcontext set init parameter setinitparameter
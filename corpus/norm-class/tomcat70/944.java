licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes group int erceptors interceptors java util hash map hashmap java util map org apache catalina tribes channel exception channelexception org apache catalina tribes channel message channelmessage org apache catalina tribes member org apache catalina tribes unique id uniqueid org apache catalina tribes group channel interceptor base channelinterceptorbase org apache catalina tribes group interceptor payload interceptorpayload org apache catalina tribes util arrays org apache catalina tribes util uuid generator uuidgenerator title description comp any company author attr ibutable attributable version two p has e commit interceptor twophasecommitinterceptor channel interceptor base channelinterceptorbase start data data org apache juli logging log log org apache juli logging log factory logfactory get log getlog two p has e commit interceptor twophasecommitinterceptor hash map hashmap unique id uniqueid map entry mapentry messages hash map hashmap unique id uniqueid map entry mapentry minute expiration expire deepclone override send message sendmessage member destination channel message channelmessage msg interceptor payload interceptorpayload payload channel exception channelexception send message ok to process oktoprocess msg get options getoptions send message sendmessage destination msg channel message channelmessage confirmation deepclone confirmation channel message channelmessage msg deepclone confirmation channel message channelmessage msg clone confirmation get message getmessage reset uuid generator uuidgenerator randomuuid confirmation get unique id getuniqueid confirmation get message getmessage append start data start data length confirmation get message getmessage append msg get unique id getuniqueid msg get unique id getuniqueid length confirmation get message getmessage append data data length send message sendmessage destination confirmation payload turn phase commit won t wont work int erceptor interceptor flag flag turn msg set options setoptions msg get options getoptions get option flag getoptionflag send message sendmessage destination msg payload override message received messagereceived channel message channelmessage msg ok to process oktoprocess msg get options getoptions msg get message getmessage get length getlength start data length msg get unique id getuniqueid length data length arrays msg get message getmessage get bytes direct getbytesdirect start data start data length arrays msg get message getmessage get bytes direct getbytesdirect start data length msg get unique id getuniqueid length data data length unique id uniqueid unique id uniqueid msg get message getmessage get bytes direct getbytesdirect start data length msg get unique id getuniqueid length map entry mapentry original messages original message received messagereceived original msg messages remove log warn received confirmation original message missing arrays to string tostring get bytes getbytes unique id uniqueid unique id uniqueid msg get unique id getuniqueid map entry mapentry entry map entry mapentry channel message channelmessage msg deepclone system current time millis currenttimemillis messages entry message received messagereceived msg get deep clone getdeepclone deepclone get expire getexpire expire set deep clone setdeepclone deepclone deepclone deepclone set expire setexpire expire expire expire override heartbeat system current time millis currenttimemillis suppress warnings suppresswarnings unchecked map entry unique id uniqueid map entry mapentry entries messages entry set entryset to array toarray map entry messages size entries length map entry mapentry entry entries get value getvalue entry expired expire log is info enabled isinfoenabled log info message entry expired removing messages remove entry exception log warn unable perform heartbeat two p has e commit twophasecommit int erceptor interceptor heartbeat map entry mapentry channel message channelmessage msg unique id uniqueid timestamp map entry mapentry channel message channelmessage msg unique id uniqueid timestamp msg msg timestamp timestamp expired expiration timestamp expiration
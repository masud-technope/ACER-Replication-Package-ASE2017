licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina core java beans property change listener propertychangelistener java beans property change support propertychangesupport java file java i o exception ioexception java input stream inputstream java net inet address inetaddress java net server socket serversocket java net socket java net socket timeout exception sockettimeoutexception java net uri syntax exception urisyntaxexception java net url java net url class loader urlclassloader java security access control exception accesscontrolexception java util random javax management object name objectname org apache catalina context org apache catalina lifecycle exception lifecycleexception org apache catalina lifecycle state lifecyclestate org apache catalina server org apache catalina service org apache catalina deploy naming resources namingresources org apache catalina mbeans m bean factory mbeanfactory org apache catalina mbeans m bean utils mbeanutils org apache catalina startup catalina org apache catalina util extension validator extensionvalidator org apache catalina util lifecycle bean base lifecyclembeanbase org apache catalina util server info serverinfo org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util exception utils exceptionutils org apache tomcat util buf string cache stringcache org apache tomcat util res string manager stringmanager standard implementation server required dep loying deploying starting catalina author craig mc clanahan mcclanahan standard server standardserver lifecycle bean base lifecyclembeanbase server log log log factory logfactory get log getlog standard server standardserver construct instance standard server standardserver global naming resources globalnamingresources naming resources namingresources global naming resources globalnamingresources set container setcontainer is use naming isusenaming naming context listener namingcontextlistener naming context listener namingcontextlistener add lifecycle listener addlifecyclelistener naming context listener namingcontextlistener instance variables global naming resources context javax naming context global naming context globalnamingcontext global naming resources naming resources namingresources global naming resources globalnamingresources descriptive server implementation string info org apache catalina core standard server standardserver naming context listener web application naming context listener namingcontextlistener naming context listener namingcontextlistener port number wait shutdown commands port address wait shutdown commands string address localhost random number generator strong strong shutdown command string longer characters random random services server service services service object services lock serviceslock object shutdown command string string shutdown shutdown string manager string manager stringmanager string manager stringmanager get manager getmanager constants property change support component property change support propertychangesupport support property change support propertychangesupport stop await stopawait catalina catalina class loader classloader parent class loader parentclassloader thread await method thread await thread awaitthread server socket wait shutdown command server socket serversocket await socket awaitsocket properties global naming resources context override javax naming context get global naming context getglobalnamingcontext global naming context globalnamingcontext global naming resources context param global naming context globalnamingcontext global naming resource context set global naming context setglobalnamingcontext javax naming context global naming context globalnamingcontext global naming context globalnamingcontext global naming context globalnamingcontext global naming resources override naming resources namingresources get global naming resources getglobalnamingresources global naming resources globalnamingresources global naming resources param global naming resources globalnamingresources global naming resources override set global naming resources setglobalnamingresources naming resources namingresources global naming resources globalnamingresources naming resources namingresources old global naming resources oldglobalnamingresources global naming resources globalnamingresources global naming resources globalnamingresources global naming resources globalnamingresources global naming resources globalnamingresources set container setcontainer support fire property change firepropertychange global naming resources globalnamingresources old global naming resources oldglobalnamingresources global naming resources globalnamingresources descriptive server implementation version number format code description version code override string get info getinfo info report current tomcat server release number tomcat release identifier string get server info getserverinfo server info serverinfo get server info getserverinfo current server built timestamp server built timestamp string get server built getserverbuilt server info serverinfo get server built getserverbuilt current server version number server version number string get server number getservernumber server info serverinfo get server number getservernumber port number listen shutdown commands override get port getport port port number listen shutdown commands param port port number override set port setport port port port address listen shutdown commands override string get address getaddress address address listen shutdown commands param address address override set address setaddress string address address address shutdown command string waiting override string get shutdown getshutdown shutdown shutdown command waiting param shutdown shutdown command override set shutdown setshutdown string shutdown shutdown shutdown catalina startup shutdown component override catalina get catalina getcatalina catalina catalina startup shutdown component override set catalina setcatalina catalina catalina catalina catalina server methods add service defined services param service service override add service addservice service service service set server setserver services lock serviceslock service service services length system arraycopy services services length services length service services get state getstate is available isavailable service start lifecycle exception lifecycleexception report property change int erested interested listeners support fire property change firepropertychange service service stop await stopawait stop await stopawait thread await thread awaitthread server socket serversocket await socket awaitsocket await socket awaitsocket close i o exception ioexception int errupt interrupt join interrupted exception interruptedexception wait proper shutdown command received main thread alive thread pool list ening listening http connections daemon threads override await negative values don wait port tomcat embedded don ports port undo cumented undocumented embedding apps alive port await thread awaitthread thread current thread currentthread stop await stopawait thread sleep interrupted exception interruptedexception await thread awaitthread server socket wait await socket awaitsocket server socket serversocket port inet address inetaddress get by name getbyname address i o exception ioexception log error standard server standardserver await create address port await thread awaitthread thread current thread currentthread loop waiting connection valid command stop await stopawait server socket serversocket server socket serversocket await socket awaitsocket server socket serversocket wait connection socket socket string builder stringbuilder command string builder stringbuilder input stream inputstream stream accept start time acceptstarttime system current time millis currenttimemillis socket server socket serversocket accept ten seconds socket set so timeout setsotimeout stream socket get input stream getinputstream socket timeout exception sockettimeoutexception ste log warn get string getstring standard server standardserver accept timeout value of valueof system current time millis currenttimemillis accept start time acceptstarttime ste access control exception accesscontrolexception ace log warn standard server standardserver accept security exception ace get message getmessage ace i o exception ioexception stop await stopawait log error standard server standardserver await accept read characters socket cut avoid do s dos att ack attack expected expected shutdown length random random random expected random next int nextint expected stream read i o exception ioexception log warn standard server standardserver await read control character eof terminates loop command append expected close socket socket socket close i o exception ioexception match command string match command to string tostring equals shutdown match log info get string getstring standard server standardserver shutdown via port shutdownviaport log warn standard server standardserver await invalid command command to string tostring received server socket serversocket server socket serversocket await socket awaitsocket await thread awaitthread await socket awaitsocket close server socket server socket serversocket server socket serversocket close i o exception ioexception service exists code code param service returned override service find service findservice string services lock serviceslock services length equals services get name getname services services defined server override service find services findservices services jmx service names object name objectname get service names getservicenames object name objectname onames object name objectname services length services length onames standard service standardservice services get object name getobjectname onames remove service server param service service removed override remove service removeservice service service services lock serviceslock services length service services services lifecycle exception lifecycleexception service service services length services length services services report property change int erested interested listeners support fire property change firepropertychange service service methods add property change listener component param listener listener add add property change listener addpropertychangelistener property change listener propertychangelistener listener support add property change listener addpropertychangelistener listener remove property change listener component param listener listener remove remove property change listener removepropertychangelistener property change listener propertychangelistener listener support remove property change listener removepropertychangelistener listener string representation component override string to string tostring string builder stringbuilder string builder stringbuilder standard server standardserver append get port getport append to string tostring write configuration entire code server code server xml configuration file exception javax management instance not found exception instancenotfoundexception managed resource object exception javax management m bean exception mbeanexception initializer object exception persistence supported exception javax management runtime operations exception runtimeoperationsexception exception reported persistence mechanism store config storeconfig exception object name objectname sname object name objectname catalina type store config storeconfig mserver invoke sname store config storeconfig write configuration code context code configuration file exception javax management instance not found exception instancenotfoundexception managed resource object exception javax management m bean exception mbeanexception initializer object exception persistence supported exception javax management runtime operations exception runtimeoperationsexception exception reported persistence mechanism store context storecontext context context exception object name objectname sname sname object name objectname catalina type store config storeconfig mserver is registered isregistered sname mserver invoke sname store object context string java lang string log error store config storeconfig mbean registered sname throwable exception utils exceptionutils handle throwable handlethrowable log error naming is use naming isusenaming use naming usenaming reading catalina use naming usenaming environment variable string use naming property usenamingproperty system get property getproperty catalina use naming usenaming use naming property usenamingproperty use naming property usenamingproperty equals use naming usenaming use naming usenaming start nested components link service implement requirements link org apache catalina util lifecycle base lifecyclebase start internal startinternal exception lifecycle exception lifecycleexception component detects fatal error prevents component override start internal startinternal lifecycle exception lifecycleexception fire lifecycle event firelifecycleevent configure start event set state setstate lifecycle state lifecyclestate starting global naming resources globalnamingresources start start defined services services lock serviceslock services length services start nested components link service implement requirements link org apache catalina util lifecycle base lifecyclebase stop internal stopinternal exception lifecycle exception lifecycleexception component detects fatal error reported override stop internal stopinternal lifecycle exception lifecycleexception set state setstate lifecycle state lifecyclestate stopping fire lifecycle event firelifecycleevent configure event defined services services length services global naming resources globalnamingresources stop await stopawait invoke pre startup initialization connectors bind restricted ports unix operating environments override init internal initinternal lifecycle exception lifecycleexception init internal initinternal register global string cache note cache global multiple servers jvm happen embedding cache registered multiple names oname string cache onamestringcache register string cache stringcache type string cache stringcache register m bean factory mbeanfactory m bean factory mbeanfactory factory m bean factory mbeanfactory factory set container setcontainer oname bean factory onamembeanfactory register factory type m bean factory mbeanfactory register naming resources global naming resources globalnamingresources init load ers loaders get catalina getcatalina class loader classloader get catalina getcatalina get parent class loader getparentclassloader add shared common load ers loaders class loader classloader get system class loader getsystemclassloader url class loader urlclassloader url urls url class loader urlclassloader geturls url url urls url get protocol getprotocol equals file file file url touri is file isfile get name getname ends with endswith jar extension validator extensionvalidator add system resource addsystemresource uri syntax exception urisyntaxexception i o exception ioexception get parent getparent initialize defined services services length services init override destroy internal destroyinternal lifecycle exception lifecycleexception destroy defined services services length services destroy global naming resources globalnamingresources destroy unregister oname bean factory onamembeanfactory unregister oname string cache onamestringcache destroy internal destroyinternal parent loader component override class loader classloader get parent class loader getparentclassloader parent class loader parentclassloader parent class loader parentclassloader catalina catalina get parent class loader getparentclassloader class loader classloader get system class loader getsystemclassloader parent loader server param parent parent loader override set parent class loader setparentclassloader class loader classloader parent class loader classloader old parent class loader oldparentclassloader parent class loader parentclassloader parent class loader parentclassloader parent support fire property change firepropertychange parent class loader parentclassloader old parent class loader oldparentclassloader parent class loader parentclassloader object name objectname oname string cache onamestringcache object name objectname oname bean factory onamembeanfactory m bean mbean domain server domain search order link org apache catalina engine link service override string get domain internal getdomaininternal string domain service services find services findservices services length service service services service domain m bean utils mbeanutils get domain getdomain service domain override string get object name key properties getobjectnamekeyproperties type server
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper compiler org apache jasper jasper exception jasperexception org apache jasper compiler el node elnode el text eltext org apache jasper compiler el node elnode function org apache jasper compiler el node elnode root org apache jasper compiler el node elnode text el parser elparser current token token cur token curtoken previous token token prev token prevtoken string white space whitespace el node elnode nodes expr el node elnode nodes el expr elexpr current expression expression string expression type is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral string reserved words reservedwords div empty mod el parser elparser string expression is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral expression expression is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral expr el node elnode nodes parse expression param expression input expression string form param is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral deferred expressions treated literals parse d parsed expression el node elnode nodes el node elnode nodes parse string expression is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral el parser elparser parser el parser elparser expression is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral parser has next char hasnextchar string text parser skip until l skipuntilel text length parser expr add el node elnode text text el node elnode nodes elexpr parser parseel elexpr is empty isempty parser expr add el node elnode root elexpr parser type parser expr parse expression string sep arates separates functions el node elnode nodes representing expression note ref actored refactored standard implementation api provide level access required parsed expression el node elnode nodes parseel string builder stringbuilder buf string builder stringbuilder el expr elexpr el node elnode nodes cur token curtoken prev token prevtoken has next hasnext cur token curtoken next token nexttoken cur token curtoken cur token curtoken to char tochar buf append cur token curtoken to string tostring output buffer buf length el expr elexpr add el node elnode el text eltext buf to string tostring buf set length setlength parse function parsefunction el expr elexpr add el node elnode el text eltext cur token curtoken to string tostring cur token curtoken buf append cur token curtoken get white space getwhitespace buf length el expr elexpr add el node elnode el text eltext buf to string tostring el expr elexpr parse function function inv okation functioninvokation identifier identifier expression expression note don parse arguments parse function parsefunction cur token curtoken iselreserved cur token curtoken to trimmed string totrimmedstring prev token prevtoken prev token prevtoken to char tochar function prefix string function string cur token curtoken to trimmed string totrimmedstring start cur token curtoken to string tostring length token original cur token curtoken has next hasnext mark get index getindex white space whitespace length cur token curtoken next token nexttoken cur token curtoken to char tochar has next hasnext token next token nexttoken to trimmed string totrimmedstring has next hasnext cur token curtoken next token nexttoken cur token curtoken to char tochar el expr elexpr add el node elnode function expression substring start cur token curtoken original set index setindex mark test reserved word iselreserved string reserved words reservedwords length result reserved words reservedwords compare to compareto result result skip expression reached allowing escape sequences text string expression string skip until l skipuntilel string builder stringbuilder buf string builder stringbuilder has next char hasnextchar next char nextchar peek is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral buf append next char nextchar buf append is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral peek type next char nextchar buf append buf to string tostring string escape literal expression escapeliteralexpression string input is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral len input length last append lastappend string builder stringbuilder output len input char at charat is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral len input char at charat output output string builder stringbuilder len output append input substring last append lastappend last append lastappend output append output append output input output append input substring last append lastappend len output to string tostring string escapeeltext string input len input length quote last append lastappend start len quoted string trimmed input trim trimmed len trimmedlen trimmed length trimmed len trimmedlen quoted quote trimmed char at charat quote quote trimmed char at charat trimmed len trimmedlen quote illegal argument exception illegalargumentexception localizer get message getmessage org apache jasper compiler el parser elparser invalid quotes for string literal invalidquotesforstringliteral input start input index of indexof quote start trimmed len trimmedlen quote string builder stringbuilder output start input char at charat quote output output string builder stringbuilder len output append input substring last append lastappend last append lastappend output append output append output input output append input substring last append lastappend len output to string tostring has next hasnext skip spaces skipspaces has next char hasnextchar string get and reset white space getandresetwhitespace string result white space whitespace white space whitespace result token next token nexttoken prev token prevtoken cur token curtoken has next char hasnextchar next char nextchar character is java identifier start isjavaidentifierstart start expression length character is java identifier part isjavaidentifierpart expression char at charat next char nextchar get and reset white space getandresetwhitespace expression substring start parse quoted chars parsequotedchars get and reset white space getandresetwhitespace parse string single quotes allowing escape sequences token parse quoted chars parsequotedchars quote string builder stringbuilder buf string builder stringbuilder buf append quote has next char hasnextchar next char nextchar next char nextchar buf append illegal argument exception illegalargumentexception localizer get message getmessage org apache jasper compiler el parser elparser invalid quoting invalidquoting expression quote buf append buf append quoted string quotedstring get and reset white space getandresetwhitespace buf to string tostring collection level parse methods dealing character expression buffer skip spaces skipspaces start has next char hasnextchar expression char at charat white space whitespace expression substring start has next char hasnextchar expression length next char nextchar expression length expression char at charat peek advance target advance target expression length expression char at charat target get index getindex set index setindex represents token expression string token string white space whitespace token string white space whitespace white space whitespace white space whitespace to char tochar override string to string tostring white space whitespace string to trimmed string totrimmedstring string get white space getwhitespace white space whitespace represents token token string string white space whitespace string white space whitespace override string to string tostring white space whitespace override string to trimmed string totrimmedstring represents character token token string white space whitespace white space whitespace override to char tochar override string to string tostring white space whitespace override string to trimmed string totrimmedstring represents quoted single string token quoted string quotedstring token string quoted string quotedstring string white space whitespace string white space whitespace override string to string tostring white space whitespace override string to trimmed string totrimmedstring get type gettype type text builder textbuilder el node elnode visitor is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral string builder stringbuilder output string builder stringbuilder text builder textbuilder is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral string get text gettext output to string tostring override visit root jasper exception jasperexception output append get type gettype output append get expression getexpression visit output append override visit function jasper exception jasperexception output append escape literal expression escapeliteralexpression get original text getoriginaltext is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral output append override visit text jasper exception jasperexception output append escape literal expression escapeliteralexpression get text gettext is deferred syntax allowed as literal isdeferredsyntaxallowedasliteral override visit el text eltext jasper exception jasperexception output append escapeeltext get text gettext
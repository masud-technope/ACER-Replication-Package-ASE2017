licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina ssi java buffered reader bufferedreader java i o exception ioexception java input stream inputstream java input stream reader inputstreamreader java print writer printwriter java string writer stringwriter java net url java net url connection urlconnection java util locale javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache catalina globals servlet process ssi requests web page webpage mapped path web xml author bip the lin thelin author amy roh author dan sandberg author david becker ssi servlet ssiservlet http servlet httpservlet serialversionuid debug level servlet debug output buf fered buffered buf fered buffered expiration time seconds doc expires virtual path webapp relative is virtual webapp relative isvirtualwebapprelative input encoding platform string input encoding inputencoding output encoding platform string output encoding outputencoding utf exec blocked security allow exec allowexec methods initialize servlet exception servlet exception servletexception error occurs override init servlet exception servletexception get servlet config getservletconfig get init parameter getinitparameter debug debug integer parse int parseint get servlet config getservletconfig get init parameter getinitparameter debug is virtual webapp relative isvirtualwebapprelative parse boolean parseboolean get servlet config getservletconfig get init parameter getinitparameter is virtual webapp relative isvirtualwebapprelative get servlet config getservletconfig get init parameter getinitparameter expires expires value of valueof get servlet config getservletconfig get init parameter getinitparameter expires buf fered buffered parse boolean parseboolean get servlet config getservletconfig get init parameter getinitparameter buf fered buffered input encoding inputencoding get servlet config getservletconfig get init parameter getinitparameter input encoding inputencoding get servlet config getservletconfig get init parameter getinitparameter output encoding outputencoding output encoding outputencoding get servlet config getservletconfig get init parameter getinitparameter output encoding outputencoding allow exec allowexec parse boolean parseboolean get servlet config getservletconfig get init parameter getinitparameter allow exec allowexec debug log ssi servlet ssiservlet init ssi invoke r invoker started debug debug process request code request handler requesthandler code param req type http servlet request httpservletrequest param res type http servlet response httpservletresponse exception i o exception ioexception error occurs exception servlet exception servletexception error occurs override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse res i o exception ioexception servlet exception servletexception debug log ssi servlet ssiservlet do get doget request handler requesthandler req res process post request code request handler requesthandler code param req type http servlet request httpservletrequest param res type http servlet response httpservletresponse exception i o exception ioexception error occurs exception servlet exception servletexception error occurs override do post dopost http servlet request httpservletrequest req http servlet response httpservletresponse res i o exception ioexception servlet exception servletexception debug log ssi servlet ssiservlet do post dopost request handler requesthandler req res process request locate ssi command param req type http servlet request httpservletrequest param res type http servlet response httpservletresponse request handler requesthandler http servlet request httpservletrequest req http servlet response httpservletresponse res i o exception ioexception servlet context servletcontext servlet context servletcontext get servlet context getservletcontext string path ssi servlet request util ssiservletrequestutil get relative path getrelativepath req debug log ssi servlet ssiservlet request handler requesthandler serving buf fered buffered buf fered buffered unbuffered resource path to upper case touppercase avoids problems windows systems path path to upper case touppercase locale english starts with startswith web inf path to upper case touppercase locale english starts with startswith meta inf res send error senderror http servlet response httpservletresponse path log serve file path url resource servlet context servletcontext get resource getresource path resource res send error senderror http servlet response httpservletresponse path log find file path string resource mime type resourcemimetype servlet context servletcontext get mime type getmimetype path resource mime type resourcemimetype resource mime type resourcemimetype text html res set content type setcontenttype resource mime type resourcemimetype charset output encoding outputencoding expires res set date header setdateheader expires java util get time gettime expires long value longvalue req set attribute setattribute globals ssi flag attr processssi req res resource processssi http servlet request httpservletrequest req http servlet response httpservletresponse res url resource i o exception ioexception ssi external resolver ssiexternalresolver ssi external resolver ssiexternalresolver ssi servlet external resolver ssiservletexternalresolver get servlet context getservletcontext req res is virtual webapp relative isvirtualwebapprelative debug input encoding inputencoding ssi processor ssiprocessor ssi processor ssiprocessor ssi processor ssiprocessor ssi external resolver ssiexternalresolver debug allow exec allowexec print writer printwriter print writer printwriter string writer stringwriter string writer stringwriter buf fered buffered string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter string writer stringwriter print writer printwriter res get writer getwriter url connection urlconnection resource info resourceinfo resource open connection openconnection input stream inputstream resource input stream resourceinputstream resource info resourceinfo get input stream getinputstream string encoding resource info resourceinfo get content encoding getcontentencoding encoding encoding input encoding inputencoding input stream reader inputstreamreader isr encoding isr input stream reader inputstreamreader resource input stream resourceinputstream isr input stream reader inputstreamreader resource input stream resourceinputstream encoding buffered reader bufferedreader buf fered reader bufferedreader buffered reader bufferedreader isr last modified lastmodified ssi processor ssiprocessor process buf fered reader bufferedreader resource info resourceinfo get last modified getlastmodified print writer printwriter last modified lastmodified res set date header setdateheader modified last modified lastmodified buf fered buffered print writer printwriter flush suppress warnings suppresswarnings string text string writer stringwriter to string tostring res get writer getwriter write text buf fered reader bufferedreader close
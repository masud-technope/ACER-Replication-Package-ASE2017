licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license compression filters compressionfilters java io exception ioexception java output stream writer outputstreamwriter java print writer printwriter java util hash map hashmap java util map javax servlet servlet output stream servletoutputstream javax servlet http http servlet response httpservletresponse javax servlet http http servlet response wrapper httpservletresponsewrapper implementation http servlet response wrapper httpservletresponsewrapper works compression servlet response stream compressionservletresponsestream implementation author amy roh author dmitri val din valdin compression servlet response wrapper compressionservletresponsewrapper http servlet response wrapper httpservletresponsewrapper calls parent constructor creates servlet response servletresponse adapt or adaptor wrapping response object compression servlet response wrapper compressionservletresponsewrapper http servlet response httpservletresponse response response orig response origresponse response debug system println compression servlet response wrapper compressionservletresponsewrapper constructor called instance variables original response http servlet response httpservletresponse orig response origresponse descriptive response implementation string info compression servlet response wrapper compressionservletresponsewrapper servlet output stream servletoutputstream returned code get output stream getoutputstream code servlet output stream servletoutputstream stream print writer printwriter returned code get writer getwriter code print writer printwriter writer threshold number comp ress compress compression threshold compressionthreshold compression buffer size compression buffer compressionbuffer mime types comp ress compress string compression mime types compressionmimetypes text html text xml text plain debug level debug copy headers map string string header copies headercopies hash map hashmap string string methods threshold number set compression threshold setcompressionthreshold threshold debug system println set compression threshold setcompressionthreshold threshold compression threshold compressionthreshold threshold compression buffer set compression buffer setcompressionbuffer buffer debug system println set compression buffer setcompressionbuffer buffer compression buffer compressionbuffer buffer comp res sible compressible mime types set compression mime types setcompressionmimetypes string mime types mimetypes debug system println set compression mime types setcompressionmimetypes mime types mimetypes compression mime types compressionmimetypes mime types mimetypes debug level set debug level setdebuglevel debug debug debug create servlet output stream servletoutputstream write content response exception io exception ioexception input output error occurs servlet output stream servletoutputstream create output stream createoutputstream io exception ioexception debug system println create output stream createoutputstream called compression response stream compressionresponsestream stream compression response stream compressionresponsestream orig response origresponse get output stream getoutputstream stream set debug level setdebuglevel debug stream set compression threshold setcompressionthreshold compression threshold compressionthreshold stream set compression buffer setcompressionbuffer compression buffer compressionbuffer stream set compression mime types setcompressionmimetypes compression mime types compressionmimetypes stream finish response finish response finishresponse writer writer close stream stream close io exception ioexception servlet response servletresponse methods flush buffer commit response exception io exception ioexception input output error occurs override flush buffer flushbuffer io exception ioexception debug system println flush buffer g zip servlet response wrapper gzipservletresponsewrapper compression response stream compressionresponsestream stream flush servlet output stream response exception illegal state exception illegalstateexception code get writer getwriter code called response exception io exception ioexception input output error occurs override servlet output stream servletoutputstream get output stream getoutputstream io exception ioexception writer illegal state exception illegalstateexception get writer getwriter called response stream stream create output stream createoutputstream debug system println stream stream get output stream getoutputstream stream writer response exception illegal state exception illegalstateexception code get output stream getoutputstream code called response exception io exception ioexception input output error occurs override print writer printwriter get writer getwriter io exception ioexception writer writer stream illegal state exception illegalstateexception get output stream getoutputstream called response stream create output stream createoutputstream debug system println stream stream get writer getwriter string char enc charenc orig response origresponse get character encoding getcharacterencoding debug system println character encoding char enc charenc spec feel free remove char enc charenc writer print writer printwriter output stream writer outputstreamwriter stream char enc charenc writer print writer printwriter stream writer override string get header getheader string header copies headercopies override add header addheader string string header copies headercopies contains key containskey string existing value existingvalue header copies headercopies existing value existingvalue existing value existingvalue length header copies headercopies existing value existingvalue header copies headercopies header copies headercopies add header addheader override set header setheader string string header copies headercopies set header setheader
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes test transport java input stream inputstream java math big decimal bigdecimal java net server socket serversocket java net socket java text decimal format decimalformat org apache catalina tribes x byte buffer xbytebuffer socket tribes receive sockettribesreceive start buf buf count decimal format decimalformat decimal format decimalformat big decimal bigdecimal total big decimal bigdecimal big decimal bigdecimal bytes big decimal bigdecimal main string args exception size args length size integer parse int parseint args exception x byte buffer xbytebuffer xbuf x byte buffer xbytebuffer server socket serversocket srv socket srvsocket server socket serversocket system println list ening listening socket socket srv socket srvsocket accept socket set receive buffer size setreceivebuffersize size input stream inputstream socket get input stream getinputstream thread thread override thread sleep print stats printstats start count total exception set daemon setdaemon start start system current time millis currenttimemillis len read buf len print stats printstats start count total system exit xbuf append buf len bytes int value intvalue len bytes big decimal bigdecimal len total total add bytes xbuf count packages countpackages xbuf extract package extractpackage count len count print stats printstats start count total print stats printstats start count decimal format decimalformat big decimal bigdecimal total time system current time millis currenttimemillis seconds time start system println throughput format seconds seconds messages count total total total bytes
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util code c codec binary java math big integer biginteger base encoding decoding defined href http ietf org rfc rfc txt rfc cite base content transfer encoding cite rfc cite multipurpose int ernet internet mail extensions mime format int ernet internet message bodies cite free d freed borenstein parameterized manner constructors url safe mode length length multiples essentially multiples encoded data separator crlf url safe parameter applied encode operations decoding seamlessly handles modes operates str eams streams character str eams streams hard code d coded encode decode character encodings compatible ascii char t chart iso windows utf thread safe href http ietf org rfc rfc txt rfc base base code c basencodec base characters bits length for med formed block octets form bit string converted base characters bits encoded bytes unencoded block bytes encoded block chunk separator rfc major release compatibility field href http ietf org rfc rfc txt rfc chunk separator array lookup table translates bit positive int eger integer values base alphabet equivalents table rfc commons project apache org code http svn apache org repos asf web services webservices commons trunk modules util standard encode table copy standard encode table changed encoded base url safe table base mode url safe url safe encode table array lookup table translates unicode characters draw n drawn base alphabet table rfc bit positive int eger integer equivalents char acters characters base alphabet fall bounds array translated note decode decode decoder seamlessly handles url safe standard base encoder hand time emit commons project apache org code http svn apache org repos asf web services webservices commons trunk modules util decode table base bit fields mask extract bits encoding mask bits fields original methods base member fields str eaming streaming approach requires preserved calls encode decode encode table standard url safe note decode table remains decode standard url safe str eams streams encode table encodetable member variable modes encode table encodetable decode table consistency base code decode table decodetable decode table separator encoding decoding line length linelength line separator lineseparator convenience variable determine buffer room res izing resizing code decode size decodesize line separator lineseparator length code decode size decodesize convenience variable determine buffer room res izing resizing code encode size encodesize line separator lineseparator length code encode size encodesize creates base code c codec decoding modes encoding url unsafe mode encoding length chunking encoding table standard encode table decoding var iants variants supported base creates base code c codec decoding modes encoding url safe mode encoding length separator crlf encoding table standard encode table decoding var iants variants supported param url safe urlsafe code code url safe encoding cases code code base url safe urlsafe mime chunk size chunk separator url safe urlsafe creates base code c codec decoding modes encoding url unsafe mode encoding length constructor separator crlf encoding table standard encode table len gths lengths multiples essentially multiples encoded data decoding var iants variants supported param line length linelength encoded data length rounded nearest multiple line length linelength output divide d divided lines chunks decoding base line length linelength line length linelength chunk separator creates base code c codec decoding modes encoding url unsafe mode encoding length separator constructor encoding table standard encode table len gths lengths multiples essentially multiples encoded data decoding var iants variants supported param line length linelength encoded data length rounded nearest multiple line length linelength output divide d divided lines chunks decoding param line separator lineseparator encoded data sequence bytes illegal argument exception illegalargumentexception thrown line separator lineseparator included base characters base line length linelength line separator lineseparator line length linelength line separator lineseparator creates base code c codec decoding modes encoding url unsafe mode encoding length separator constructor encoding table standard encode table len gths lengths multiples essentially multiples encoded data decoding var iants variants supported param line length linelength encoded data length rounded nearest multiple line length linelength output divide d divided lines chunks decoding param line separator lineseparator encoded data sequence bytes param url safe urlsafe emit ting emitting emit url safe urlsafe applied encode operations decoding seamlessly handles modes note padding url safe alphabet illegal argument exception illegalargumentexception line separator lineseparator included base characters work base line length linelength line separator lineseparator url safe urlsafe bytes unencoded block bytes encoded block line length linelength line separator lineseparator line separator lineseparator length test base test test constructors testconstructors line separator lineseparator contains alphabet or pad containsalphabetorpad line separator lineseparator string sep string utils stringutils new string utf newstringutf line separator lineseparator illegal argument exception illegalargumentexception line separator lineseparator base characters sep line length linelength sep for ces forces chunking throwing iae encode size encodesize bytes encoded block line separator lineseparator length line separator lineseparator line separator lineseparator length system arraycopy line separator lineseparator line separator lineseparator line separator lineseparator length encode size encodesize bytes encoded block line separator lineseparator encode size encodesize bytes encoded block line separator lineseparator decode size decodesize encode size encodesize encode table encodetable url safe urlsafe url safe encode table standard encode table returns current encode mode url safe url safe mode is url safe isurlsafe encode table encodetable url safe encode table encodes data starting in pos inpos in avail inavail bytes called data encode in avail inavail alert encoder eof reached flush remaining bytes multiple note padding encoding url safe alphabet commons project apache org bit wise bitwise operations general approach http svn apache org repos asf web services webservices commons trunk modules util param array binary data base encode param in pos inpos position start reading data param in avail inavail amount bytes input encoding param context context override encode in pos inpos in avail inavail context context context eof encoding in avail inavail context eof context modulus line length linelength left overs leftovers process chunking buffer ensure buffer size ensurebuffersize encode size encodesize context saved pos savedpos context pos context modulus bits top bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits remaining buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits url safe skips padding reduce size encode table encodetable standard encode table buffer context pos pad buffer context pos pad bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits url safe skips padding reduce size encode table encodetable standard encode table buffer context pos pad illegal state exception illegalstateexception impossible modulus context modulus track current position context current line pos currentlinepos context pos saved pos savedpos current pos currentpos start don add crlf line length linelength context current line pos currentlinepos system arraycopy line separator lineseparator buffer context pos line separator lineseparator length context pos line separator lineseparator length in avail inavail buffer ensure buffer size ensurebuffersize encode size encodesize context context modulus context modulus bytes unencoded block in pos inpos bits context ibit work area ibitworkarea context ibit work area ibitworkarea context modulus bytes bits bits extract buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits buffer context pos encode table encodetable context ibit work area ibitworkarea mask bits context current line pos currentlinepos bytes encoded block line length linelength line length linelength context current line pos currentlinepos system arraycopy line separator lineseparator buffer context pos line separator lineseparator length context pos line separator lineseparator length context current line pos currentlinepos decodes data starting in pos inpos in avail inavail bytes called data decode in avail inavail alert decoder eof reached call decoding doesn hurt ignores base characters chunked character data handled silently impl ications implications bytes method subs cribes subscribes garbage garbage philosophy check data val idity validity commons project apache org bit wise bitwise operations general approach http svn apache org repos asf web services webservices commons trunk modules util param array ascii data base decode param in pos inpos position start reading data param in avail inavail amount bytes input encoding param context context override decode in pos inpos in avail inavail context context context eof in avail inavail context eof in avail inavail buffer ensure buffer size ensurebuffersize decode size decodesize context in pos inpos pad context eof decode table length result decode table result context modulus context modulus bytes encoded block context ibit work area ibitworkarea context ibit work area ibitworkarea bits encoded result context modulus buffer context pos context ibit work area ibitworkarea mask bits buffer context pos context ibit work area ibitworkarea mask bits buffer context pos context ibit work area ibitworkarea mask bits approach padding characters completely optional context eof context modulus buffer ensure buffer size ensurebuffersize decode size decodesize context output multiples bits ignore context modulus impossible excluded bits ignore todo tested impossible bits dump extra bits context ibit work area ibitworkarea context ibit work area ibitworkarea buffer context pos context ibit work area ibitworkarea mask bits bits dump bits context ibit work area ibitworkarea context ibit work area ibitworkarea buffer context pos context ibit work area ibitworkarea mask bits buffer context pos context ibit work area ibitworkarea mask bits illegal state exception illegalstateexception impossible modulus context modulus tests array valid characters base alphabet method treats whitespace valid param array octet arrayoctet array test code bytes valid characters base alphabet array empty code deprecated link is base isbase removed deprecated is array byte base isarraybytebase array octet arrayoctet is base isbase array octet arrayoctet returns code octet code base alphabet param octet test code code defined base alphabet code code is base isbase octet octet pad octet octet decode table length decode table octet tests string valid characters base alphabet method treats whitespace valid param base string test code code characters string valid characters base alphabet string empty code code is base isbase string base is base isbase string utils stringutils get bytes utf getbytesutf base tests array valid characters base alphabet method treats whitespace valid param array octet arrayoctet array test code code bytes valid characters base alphabet array empty code code is base isbase array octet arrayoctet array octet arrayoctet length is base isbase array octet arrayoctet is white space iswhitespace array octet arrayoctet encodes binary data base algorithm chunk output param binary data binarydata binary data encode base characters utf representation encode base encodebase binary data binarydata encode base encodebase binary data binarydata encodes binary data base algorithm chunk output note changed behaviour method multi chunking commons code c codec single chunking commons code c codec param binary data binarydata binary data encode string base characters note chunked output string encode base encodebase string binary data binarydata string utils stringutils new string utf newstringutf encode base encodebase binary data binarydata encodes binary data url safe variation base algorithm chunk output url safe variation emits characters note padding param binary data binarydata binary data encode base characters utf representation encode base encodebase url safe urlsafe binary data binarydata encode base encodebase binary data binarydata encodes binary data url safe variation base algorithm chunk output url safe variation emits characters note padding param binary data binarydata binary data encode string base characters string encode base encodebase url safe string urlsafestring binary data binarydata string utils stringutils new string utf newstringutf encode base encodebase binary data binarydata encodes binary data base algorithm chunks encoded output character blocks param binary data binarydata binary data encode base characters chunked character blocks encode base encodebase chunked binary data binarydata encode base encodebase binary data binarydata encodes binary data base algorithm optionally chunking output character blocks param binary data binarydata array binary data encode param is chunked ischunked code code encoder chunk base output character blocks base encoded data illegal argument exception illegalargumentexception thrown input array output array bigger link integer max encode base encodebase binary data binarydata is chunked ischunked encode base encodebase binary data binarydata is chunked ischunked encodes binary data base algorithm optionally chunking output character blocks param binary data binarydata array binary data encode param is chunked ischunked code code encoder chunk base output character blocks param url safe urlsafe code code encoder emit usual characters note padding encoding url safe alphabet base encoded data illegal argument exception illegalargumentexception thrown input array output array bigger link integer max encode base encodebase binary data binarydata is chunked ischunked url safe urlsafe encode base encodebase binary data binarydata is chunked ischunked url safe urlsafe integer max encodes binary data base algorithm optionally chunking output character blocks param binary data binarydata array binary data encode param is chunked ischunked code code encoder chunk base output character blocks param url safe urlsafe code code encoder emit usual characters note padding encoding url safe alphabet param max result size maxresultsize maximum result size accept base encoded data illegal argument exception illegalargumentexception thrown input array output array bigger max result size maxresultsize encode base encodebase binary data binarydata is chunked ischunked url safe urlsafe max result size maxresultsize binary data binarydata binary data binarydata length binary data binarydata create method ensures round in gs roundings performed ctor code base is chunked ischunked base url safe urlsafe base chunk separator url safe urlsafe len get encoded length getencodedlength binary data binarydata len max result size maxresultsize illegal argument exception illegalargumentexception input array big output array bigger len maximum size max result size maxresultsize encode binary data binarydata decodes base string octets note method seamlessly handles data encoded url safe normal mode param base string string base data array decoded data decode base decodebase string base string base decode base string decodes base data octets note method seamlessly handles data encoded url safe normal mode param base data array base data array decoded data decode base decodebase base data decode base decodebase base data base data length decode base decodebase base data len base decode base data len implementation encoder implementation int eger integer encoding crypto decodes encoded int eger integer crypto standards xml signature param p array parray array base character data big integer biginteger big integer biginteger decode integer decodeinteger p array parray big integer biginteger decode base decodebase p array parray encodes encoded int eger integer crypto standards xml signature param big int bigint big integer biginteger array base character data null pointer exception nullpointerexception passed encode integer encodeinteger big integer biginteger big int bigint big int bigint null pointer exception nullpointerexception encode integer encodeinteger called parameter encode base encodebase to integer bytes tointegerbytes big int bigint returns array representation code big integer biginteger code sign bit param big int bigint code big integer biginteger code converted array representation big integer biginteger parameter to integer bytes tointegerbytes big integer biginteger big int bigint bitlen big int bigint bit length bitlength bitlen bitlen bitlen big bytes bigbytes big int bigint to byte array tobytearray big int bigint bit length bitlength big int bigint bit length bitlength bitlen big bytes bigbytes params copying sign bit start src startsrc len big bytes bigbytes length big int bigint aligned skip sign bit signbit copy big int bigint bit length bitlength start src startsrc len pad nulls spec start dst startdst bitlen len resize d bytes resizedbytes bitlen system arraycopy big bytes bigbytes start src startsrc resize d bytes resizedbytes start dst startdst len resize d bytes resizedbytes returns code octet code base alphabet param octet test code code defined base alphabet code code override is in alphabet isinalphabet octet octet octet decode table decodetable length decode table decodetable octet
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina valves java i o exception ioexception java util queue java util concurrent concurrent linked queue concurrentlinkedqueue javax servlet servlet exception servletexception org junit assert equals assertequals org junit assert true asserttrue org apache catalina access log accesslog org apache catalina connector request org apache catalina connector response tester access log valve testeraccesslogvalve valve base valvebase access log accesslog relax timing get boolean getboolean tomcat test rel ax timing relaxtiming timing tests error margin prevent failures error margin relax timing queue entry entries concurrent linked queue concurrentlinkedqueue entry tester access log valve testeraccesslogvalve async requests supported override log request request response response time exception log print stack trace printstacktrace entries add entry request getrequesturi response get status getstatus time override set request attributes enabled setrequestattributesenabled request attributes enabled requestattributesenabled noop test code override get request attributes enabled getrequestattributesenabled test code override invoke request request response response i o exception ioexception servlet exception servletexception invoke access logging log method get next getnext invoke request response validate access log validateaccesslog count status min time mintime max time maxtime exception entry response returned user entries size count thread sleep assert equals assertequals count entries size entry entry entries assert equals assertequals status entry get status getstatus assert true asserttrue entry to string tostring duration min time mintime error margin entry get time gettime min time mintime error margin assert true asserttrue entry to string tostring duration max time maxtime error margin entry get time gettime max time maxtime error margin entry string uri status time entry string uri status time uri uri status status time time string get uri geturi uri get status getstatus status get time gettime time override string to string tostring uri uri status status time time
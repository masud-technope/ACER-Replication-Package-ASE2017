licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http java io exception ioexception java print writer printwriter java util enumeration javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org junit assert equals assertequals org junit assert false assertfalse org junit assert true asserttrue org junit test org apache catalina context org apache catalina startup simple http client simplehttpclient org apache catalina startup tester servlet testerservlet org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest test internal input buffer testinternalinputbuffer tomcat base test tomcatbasetest test https apache org bug zilla bugzilla bug cgi test test bug testbug bug client client bug client client do request dorequest assert true asserttrue client is response isresponse assert true asserttrue client is response body k isresponsebodyok bug test client bug client simple http client simplehttpclient exception do request dorequest tomcat tomcat get tomcat instance gettomcatinstance context root tomcat add context addcontext temp dir tomcat add servlet addservlet root bug bug servlet root add servlet mapping addservletmapping test bug tomcat start set port setport tomcat get connector getconnector get local port getlocalport open connection connect string request string request http localhost test http crlf bug abcd crlf tefgh crlf connection close crlf crlf set request setrequest request blocks response read process request processrequest close connection disconnect exception override is response body k isresponsebodyok get response body getresponsebody get response body getresponsebody abcd tefgh bug servlet http servlet httpservlet serialversionuid int erested interested request headers request override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception echo header plain text resp set content type setcontenttype text plain print writer printwriter resp get writer getwriter enumeration string values req get headers getheaders bug values has more elements hasmoreelements println values next element nextelement test test bug testbug no colon nocolon bug client client bug client bug no colon nocolon client do request dorequest assert true asserttrue client is response isresponse assert equals assertequals abcd client get response body getresponsebody assert true asserttrue client is response body k isresponsebodyok test test bug testbug separators exception http separators httpseparators http separators httpseparators do test bug dotestbug tear down teardown set up setup test test bug testbug ctl exception do test bug dotestbug tear down teardown set up setup do test bug dotestbug test test bug testbug continuation bug client client bug client bug no colon nocolon foo simple http client simplehttpclient crlf bar client do request dorequest assert true asserttrue client is response isresponse assert equals assertequals abcd client get response body getresponsebody assert true asserttrue client is response body k isresponsebodyok test test bug testbug boundary start boundarystart bug client client bug client bug invalid client do request dorequest assert true asserttrue client is response isresponse assert equals assertequals abcd client get response body getresponsebody assert true asserttrue client is response body k isresponsebodyok test test bug testbug boundary end boundaryend bug client client bug client bug invalid client do request dorequest assert true asserttrue client is response isresponse assert equals assertequals abcd client get response body getresponsebody assert true asserttrue client is response body k isresponsebodyok do test bug dotestbug bug client client bug client bug invalid client do request dorequest assert true asserttrue client is response isresponse assert equals assertequals abcd client get response body getresponsebody assert true asserttrue client is response body k isresponsebodyok bug client simple http client simplehttpclient string header name headername string header line headerline bug client string header name headername header name headername header name headername header line headerline header name headername bug client string header name headername string header value headervalue header name headername header name headername header line headerline header name headername header value headervalue exception do request dorequest tomcat tomcat get tomcat instance gettomcatinstance context root tomcat add context addcontext temp dir tomcat add servlet addservlet root bug bug servlet header name headername root add servlet mapping addservletmapping test bug tomcat start set port setport tomcat get connector getconnector get local port getlocalport connect string request string request http localhost test http crlf header line headerline crlf bug abcd crlf connection close crlf crlf set request setrequest request process request processrequest disconnect exception override is response body k isresponsebodyok get response body getresponsebody get response body getresponsebody abcd bug servlet http servlet httpservlet serialversionuid string invalid header name invalidheadername bug servlet string invalid header name invalidheadername invalid header name invalidheadername invalid header name invalidheadername override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception resp set content type setcontenttype text plain print writer printwriter resp get writer getwriter process headers processheaders invalid header name invalidheadername req process headers processheaders bug req process headers processheaders string header http servlet request httpservletrequest req print writer printwriter enumeration string values req get headers getheaders header values has more elements hasmoreelements println values next element nextelement test test new lines testnewlines new lines client newlinesclient client new lines client newlinesclient client do request dorequest assert true asserttrue client is response isresponse assert true asserttrue client is response body k isresponsebodyok test test new lines exc essive testnewlinesexcessive new lines client newlinesclient client new lines client newlinesclient exception client do request dorequest assert true asserttrue client is response isresponse assert false assertfalse client is response body k isresponsebodyok new lines client newlinesclient simple http client simplehttpclient string new lines newlines new lines client newlinesclient count string builder stringbuilder string builder stringbuilder count count append crlf new lines newlines to string tostring exception do request dorequest tomcat tomcat get tomcat instance gettomcatinstance context root tomcat add context addcontext temp dir tomcat add servlet addservlet root test tester servlet testerservlet root add servlet mapping addservletmapping test test tomcat start set port setport tomcat get connector getconnector get local port getlocalport open connection connect string request string request new lines newlines http localhost test http crlf bug abcd crlf tefgh crlf connection close crlf crlf set request setrequest request blocks response read process request processrequest close connection disconnect exception override is response body k isresponsebodyok get response body getresponsebody get response body getresponsebody test https apache org bug zilla bugzilla bug cgi test test bug testbug bug client client bug client client do request dorequest assert true asserttrue client is response isresponse assert true asserttrue client is response body k isresponsebodyok bug test client bug client simple http client simplehttpclient exception do request dorequest tomcat tomcat get tomcat instance gettomcatinstance context root tomcat add context addcontext temp dir tomcat add servlet addservlet root bug tester servlet testerservlet root add servlet mapping addservletmapping test bug tomcat start set port setport tomcat get connector getconnector get local port getlocalport open connection connect string request string request http localhost test http request connection close crlf crlf set request setrequest request blocks response read process request processrequest close connection disconnect exception override is response body k isresponsebodyok get response body getresponsebody get response body getresponsebody test test invalid method testinvalidmethod invalid method client invalidmethodclient client invalid method client invalidmethodclient client do request dorequest assert true asserttrue client get response line getresponseline client is response isresponse assert true asserttrue client is response body k isresponsebodyok bug test client invalid method client invalidmethodclient simple http client simplehttpclient exception do request dorequest tomcat tomcat get tomcat instance gettomcatinstance tomcat add context addcontext temp dir tomcat start set port setport tomcat get connector getconnector get local port getlocalport open connection connect string request string request test http crlf host localhost crlf connection close crlf crlf set request setrequest request blocks response read process request processrequest close connection disconnect exception override is response body k isresponsebodyok get response body getresponsebody
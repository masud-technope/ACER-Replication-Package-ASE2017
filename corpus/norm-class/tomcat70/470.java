licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache jasper xml parser xmlparser java io exception ioexception java input stream inputstream java security access controller accesscontroller javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers parser configuration exception parserconfigurationexception org apache jasper constants org apache jasper jasper exception jasperexception org apache jasper compiler localizer org apache tomcat util descriptor digester factory digesterfactory org apache tomcat util descriptor local resolver localresolver org apache tomcat util descriptor xml error handler xmlerrorhandler org apache tomcat util security privileged get tccl privilegedgettccl org apache tomcat util security privileged set tccl privilegedsettccl org dom comment org dom document org dom name d node map namednodemap org dom node org dom node list nodelist org dom text org xml sax entity resolver entityresolver org xml sax input source inputsource org xml sax sax exception saxexception org xml sax sax parse exception saxparseexception xml parsing util ities utilities processing web application deployment descriptor tag library descriptor files fixme separate loader parser author craig mc clanahan mcclanahan parser utils parserutils entity resolver parsing xml doc uments documents entity resolver entityresolver entity resolver entityresolver entity resolver entityresolver entity resolver instance entityresolverinstance validating parser utils parserutils validating validating constants security enabled parser utils parserutils validating block external blockexternal validating validating entity resolver entityresolver entity resolver instance entityresolverinstance local resolver localresolver digester factory digesterfactory servlet api ids digester factory digesterfactory servlet api system ids block external blockexternal entity resolver instance entityresolverinstance entity resolver entityresolver methods parse xml document code tree node treenode code corresponds root node document tree param location location uri xml document parsed param input source deployment descriptor exception jasper exception jasperexception input output error occurs exception jasper exception jasperexception parsing error occurs tree node treenode parsexmldocument string location input source inputsource jasper exception jasperexception document document perform xml parse document jaxp class loader classloader original constants security enabled privileged get tccl privilegedgettccl privileged get tccl privilegedgettccl original access controller accesscontroller do privileged doprivileged original thread current thread currentthread get context class loader getcontextclassloader constants security enabled privileged set tccl privilegedsettccl privileged set tccl privilegedsettccl parser utils parserutils get class loader getclassloader access controller accesscontroller do privileged doprivileged thread current thread currentthread set context class loader setcontextclassloader parser utils parserutils get class loader getclassloader document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance factory set name space aware setnamespaceaware factory set valid ating setvalidating validating validating enable dtd validation factory set feature setfeature http xml org sax features validation enable schema validation factory set feature setfeature http apache org xml features validation schema document builder documentbuilder builder factory new document builder newdocumentbuilder builder set entity resolver setentityresolver entity resolver instance entityresolverinstance xml error handler xmlerrorhandler handler xml error handler xmlerrorhandler builder set error handler seterrorhandler handler document builder parse handler get errors geterrors is empty isempty error processing handler get errors geterrors iterator parser configuration exception parserconfigurationexception jasper exception jasperexception localizer get message getmessage jsp error parse xml location sax parse exception saxparseexception jasper exception jasperexception localizer get message getmessage jsp error parse xml location integer to string tostring get line number getlinenumber integer to string tostring get column number getcolumnnumber sax exception saxexception jasper exception jasperexception localizer get message getmessage jsp error parse xml location io exception ioexception jasper exception jasperexception localizer get message getmessage jsp error parse xml location constants security enabled privileged set tccl privilegedsettccl privileged set tccl privilegedsettccl original access controller accesscontroller do privileged doprivileged thread current thread currentthread set context class loader setcontextclassloader original convert document graph tree nodes treenodes convert document get document element getdocumentelement parse xml document code tree node treenode code corresponds root node document tree param uri uri xml document parsed param input stream deployment descriptor exception jasper exception jasperexception input output error occurs exception jasper exception jasperexception parsing error occurs tree node treenode parsexmldocument string uri input stream inputstream jasper exception jasperexception parsexmldocument uri input source inputsource entity resolver entityresolver needed dtds jasper class load ers classloaders osg i osgi environment param entity resolver entityresolver set entity resolver setentityresolver entity resolver entityresolver entity resolver entityresolver methods create tree node treenode corresponds node including processing attributes children nodes param parent parent tree node treenode tree node treenode param node xml document node converted tree node treenode convert tree node treenode parent node node construct tree node treenode node tree node treenode tree node treenode tree node treenode node get node name getnodename parent convert attributes node name d node map namednodemap attributes node get attributes getattributes attributes attributes get length getlength node attribute attributes item tree node treenode add attribute addattribute attribute get node name getnodename attribute get node value getnodevalue create attach children node node list nodelist children node get child nodes getchildnodes children children get length getlength node child children item child comment child text string body text child get data getdata body body body trim body length tree node treenode set body setbody body convert tree node treenode child completed tree node treenode graph tree node treenode
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina servlets java file not found exception filenotfoundexception java i o exception ioexception java string reader stringreader java string writer stringwriter java writer java nio charset charset java security message digest messagedigest java security no such algorithm exception nosuchalgorithmexception java text simple date format simpledateformat java util java util enumeration java util hashtable java util locale java util stack java util time zone timezone java util vector javax naming name class pair nameclasspair javax naming naming enumeration namingenumeration javax naming naming exception namingexception javax naming directory dir context dircontext javax servlet request dispatcher requestdispatcher javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet unavailable exception unavailableexception javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers parser configuration exception parserconfigurationexception org apache catalina util dom writer domwriter org apache catalina util xml writer xmlwriter org apache naming resources cache entry cacheentry org apache naming resources resource org apache naming resources resource attributes resourceattributes org apache tomcat util http fast http date format fasthttpdateformat org apache tomcat util http request util requestutil org apache tomcat util security encoder org dom document org dom element org dom node org dom node list nodelist org xml sax entity resolver entityresolver org xml sax input source inputsource org xml sax sax exception saxexception servlet adds support webdav level basic http requests handled default servlet defaultservlet webdavservlet servlet mapped work configuration mapping sub path subpath code webdav code servlet mounting entire web application path webdav access resources code web inf code code meta inf code directories mounted resource tree enable webdav context add web xml pre servlet servlet webdav servlet servlet org apache catalina servlets webdav servlet webdavservlet servlet init param param debug param param param init param init param param list ings listings param param param init param servlet servlet mapping servlet webdav servlet url pattern url pattern servlet mapping pre enable read access enable read write access add pre init param param read only readonly param param param init param pre content editable url mapping pre servlet mapping servlet webdav servlet url pattern webdav edit webdavedit url pattern servlet mapping pre access web inf meta inf webdav enable access url s urls add pre init param param allow special paths allowspecialpaths param param param init param pre don for get forget secure access app ropriately appropriately editing url s urls allow special paths allowspecialpaths mapping configuration context accessible normal users users access edit content http host port context content http host port context webdav edit webdavedit content author remy maucherat webdav servlet webdavservlet default servlet defaultservlet serialversionuid constants string method propfind propfind string method prop patch proppatch prop patch proppatch string method mkcol mkcol string method copy copy string method move move string method lock lock string method unlock unlock propfind property mask find property propfind display properties find prop propfind property names find property names create lock lock creation refresh lock lock ref resh refresh lock timeout timeout maximum lock timeout max timeout namespace string name space namespace dav simple format creation iso representation partial simple date format simpledateformat creation date format creationdateformat simple date format simpledateformat yyyy locale message digest provider message digest messagedigest helper helper object deprecated unused removed tomcat deprecated encoder encoder encoder creation date format creationdateformat set time zone settimezone time zone timezone get time zone gettimezone gmt instance variables repository locks single resources key path lock info lockinfo hashtable string lock info lockinfo resource locks resourcelocks hashtable string lock info lockinfo repository lock resources key path collection lock resource vector lock resource members collection element vector path lock resource hashtable string vector string lock null resources locknullresources hashtable string vector string vector heritable locks key path lock info lockinfo vector lock info lockinfo collection locks collectionlocks vector lock info lockinfo secret generate secure lock ids string secret catalina depth spec infinite limit depth infinite depth operations expensive max depth maxdepth access allowed webdav special paths web inf meta inf allow special paths allowspecialpaths methods initialize servlet override init servlet exception servletexception init get servlet config getservletconfig get init parameter getinitparameter secret secret get servlet config getservletconfig get init parameter getinitparameter secret get servlet config getservletconfig get init parameter getinitparameter max depth maxdepth max depth maxdepth integer parse int parseint get servlet config getservletconfig get init parameter getinitparameter max depth maxdepth get servlet config getservletconfig get init parameter getinitparameter allow special paths allowspecialpaths allow special paths allowspecialpaths parse boolean parseboolean get servlet config getservletconfig get init parameter getinitparameter allow special paths allowspecialpaths load helper calculate signatures helper message digest messagedigest get instance getinstance no such algorithm exception nosuchalgorithmexception unavailable exception unavailableexception methods jaxp document builder instance document builder documentbuilder get document builder getdocumentbuilder servlet exception servletexception document builder documentbuilder document builder documentbuilder document builder factory documentbuilderfactory document builder factory documentbuilderfactory document builder factory documentbuilderfactory document builder factory documentbuilderfactory new instance newinstance document builder factory documentbuilderfactory set name space aware setnamespaceaware document builder factory documentbuilderfactory set expand entity references setexpandentityreferences document builder documentbuilder document builder factory documentbuilderfactory new document builder newdocumentbuilder document builder documentbuilder set entity resolver setentityresolver webdav resolver webdavresolver get servlet context getservletcontext parser configuration exception parserconfigurationexception servlet exception servletexception get string getstring webdav servlet webdavservlet jaxpfailed document builder documentbuilder handles special webdav methods override service http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception string path get relative path getrelativepath req methods including is special path isspecialpath path resp send error senderror webdav status webdavstatus string method req get method getmethod debug log method path method equals method propfind do propfind dopropfind req resp method equals method prop patch proppatch do prop patch doproppatch req resp method equals method mkcol do mkcol domkcol req resp method equals method copy do copy docopy req resp method equals method move do move domove req resp method equals method lock do lock dolock req resp method equals method unlock do unlock dounlock req resp default servlet defaultservlet processing service req resp checks path ref ers refers resource code web inf code code meta inf code param path full path resource accessed code code resource special path is special path isspecialpath string path allow special paths allowspecialpaths path to upper case touppercase locale english starts with startswith web inf path to upper case touppercase locale english starts with startswith meta inf check conditions optional headers satisfied param request servlet request processing param response servlet response creating param resource attributes resourceattributes resource resource meets conditions conditions satisfied request processing stopped override check if headers checkifheaders http servlet request httpservletrequest request http servlet response httpservletresponse response resource attributes resourceattributes resource attributes resourceattributes i o exception ioexception check if headers checkifheaders request response resource attributes resourceattributes todo checking webdav header override default servlet defaultservlet implementation path info pathinfo servlet path servletpath webdav servlet mapped url configure editing url normal viewing param request servlet request processing override string get relative path getrelativepath http servlet request httpservletrequest request get relative path getrelativepath request override string get relative path getrelativepath http servlet request httpservletrequest request allow empty path allowemptypath string path info pathinfo request get attribute getattribute request dispatcher requestdispatcher include request uri includes info attributes path info pathinfo string request get attribute getattribute request dispatcher requestdispatcher include path info path info pathinfo request get path info getpathinfo string builder stringbuilder result string builder stringbuilder path info pathinfo result append path info pathinfo result length result append result to string tostring determines prefix standard directory list ings listings override string get path prefix getpathprefix http servlet request httpservletrequest request repeat servlet path webdav listing path string context path contextpath request get context path getcontextpath request get servlet path getservletpath context path contextpath context path contextpath request get servlet path getservletpath context path contextpath options method param req request param resp response servlet exception servletexception error occurs i o exception ioexception error occurs override do options dooptions http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception resp add header addheader dav string builder stringbuilder methods allowed methodsallowed determine methods allowed determinemethodsallowed resources req resp add header addheader methods allowed methodsallowed to string tostring resp add header addheader author dav propfind method do propfind dopropfind http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception list ings listings allowed methods string builder stringbuilder methods allowed methodsallowed determine methods allowed determinemethodsallowed resources req resp add header addheader methods allowed methodsallowed to string tostring resp send error senderror webdav status webdavstatus method allowed string path get relative path getrelativepath req path ends with endswith path path substring path length properties displayed vector string properties propfind depth depth max depth maxdepth propfind type type find prop string depth str depthstr req get header getheader depth depth str depthstr depth max depth maxdepth depth str depthstr equals depth depth str depthstr equals depth depth str depthstr equals infinity depth max depth maxdepth node prop node propnode req get content length getcontentlength document builder documentbuilder document builder documentbuilder get document builder getdocumentbuilder document document document builder documentbuilder parse input source inputsource req get input stream getinputstream root element document element root element rootelement document get document element getdocumentelement node list nodelist child list childlist root element rootelement get child nodes getchildnodes child list childlist get length getlength node current node currentnode child list childlist item current node currentnode get node type getnodetype node text node node element node current node currentnode get node name getnodename ends with endswith prop type find property prop node propnode current node currentnode current node currentnode get node name getnodename ends with endswith prop name propname type find property names current node currentnode get node name getnodename ends with endswith all prop allprop type find prop sax exception saxexception resp send error senderror webdav status webdavstatus bad request i o exception ioexception resp send error senderror webdav status webdavstatus bad request type find property properties vector string prop node propnode type find property suppress warnings suppresswarnings node list nodelist child list childlist prop node propnode get child nodes getchildnodes child list childlist get length getlength node current node currentnode child list childlist item current node currentnode get node type getnodetype node text node node element node string node name nodename current node currentnode get node name getnodename string property name propertyname node name nodename index of indexof property name propertyname node name nodename substring node name nodename index of indexof property name propertyname node name nodename href live property handled diff erently differently properties add element addelement property name propertyname exists object object object resources lookup path naming exception namingexception exists slash path last index of lastindexof slash string parent path parentpath path substring slash vector string current lock null resources currentlocknullresources lock null resources locknullresources parent path parentpath current lock null resources currentlocknullresources enumeration string lock null resources list locknullresourceslist current lock null resources currentlocknullresources elements lock null resources list locknullresourceslist has more elements hasmoreelements string lock null path locknullpath lock null resources list locknullresourceslist next element nextelement lock null path locknullpath equals path resp set status setstatus webdav status webdavstatus multi status resp set content type setcontenttype text xml charset utf xml writer xmlwriter generatedxml xml writer xmlwriter resp get writer getwriter generatedxml writexmlheader generatedxml write element writeelement name space namespace multistatus xml writer xmlwriter opening parse lock null properties parselocknullproperties req generatedxml lock null path locknullpath type properties generatedxml write element writeelement multistatus xml writer xmlwriter closing generatedxml send data senddata exists resp send error senderror http servlet response httpservletresponse path resp set status setstatus webdav status webdavstatus multi status resp set content type setcontenttype text xml charset utf create multistatus object xml writer xmlwriter generatedxml xml writer xmlwriter resp get writer getwriter generatedxml writexmlheader generatedxml write element writeelement name space namespace multistatus xml writer xmlwriter opening depth parse properties parseproperties req generatedxml path type properties stack object current level stack string stack stack string stack push path stack objects level stack string stack below stackbelow stack string stack is empty isempty depth string current path currentpath stack pop parse properties parseproperties req generatedxml current path currentpath type properties object resources lookup current path currentpath naming exception namingexception object dir context dircontext depth naming enumeration namingenumeration name class pair nameclasspair enumeration resources list current path currentpath enumeration has more elements hasmoreelements name class pair nameclasspair nc pair ncpair enumeration next element nextelement string new path newpath current path currentpath new path newpath ends with endswith new path newpath new path newpath nc pair ncpair get name getname stack below stackbelow push new path newpath naming exception namingexception resp send error senderror http servlet response httpservletresponse internal server error path displaying lock resources collection string lock path lockpath current path currentpath lock path lockpath ends with endswith lock path lockpath lock path lockpath substring lock path lockpath length vector string current lock null resources currentlocknullresources lock null resources locknullresources lock path lockpath current lock null resources currentlocknullresources enumeration string lock null resources list locknullresourceslist current lock null resources currentlocknullresources elements lock null resources list locknullresourceslist has more elements hasmoreelements string lock null path locknullpath lock null resources list locknullresourceslist next element nextelement parse lock null properties parselocknullproperties req generatedxml lock null path locknullpath type properties stack is empty isempty depth stack stack below stackbelow stack below stackbelow stack string generatedxml send data senddata generatedxml write element writeelement multistatus xml writer xmlwriter closing generatedxml send data senddata prop patch proppatch method do prop patch doproppatch http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden is locked islocked req resp send error senderror webdav status webdavstatus locked resp send error senderror http servlet response httpservletresponse implemented mkcol method do mkcol domkcol http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden is locked islocked req resp send error senderror webdav status webdavstatus locked string path get relative path getrelativepath req exists resources lookup path naming exception namingexception exists path exists allowed methods string builder stringbuilder methods allowed methodsallowed determine methods allowed determinemethodsallowed resources req resp add header addheader methods allowed methodsallowed to string tostring resp send error senderror webdav status webdavstatus method allowed req get content length getcontentlength document builder documentbuilder document builder documentbuilder get document builder getdocumentbuilder document document document builder documentbuilder parse input source inputsource req get input stream getinputstream todo process request body resp send error senderror webdav status webdavstatus implemented sax exception saxexception sax e saxe resp send error senderror webdav status webdavstatus unsupported media type result resources create sub context createsubcontext path naming exception namingexception result result resp send error senderror webdav status webdavstatus conflict webdav status webdavstatus get status text getstatustext webdav status webdavstatus conflict resp set status setstatus webdav status webdavstatus created removing lock resource lock null resources locknullresources remove path delete method override do delete dodelete http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden is locked islocked req resp send error senderror webdav status webdavstatus locked delete resource deleteresource req resp process request resource param req servlet request processing param resp servlet response creating exception i o exception ioexception input output error occurs exception servlet exception servletexception servlet error occurs override do put doput http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception is locked islocked req resp send error senderror webdav status webdavstatus locked do put doput req resp string path get relative path getrelativepath req removing lock resource lock null resources locknullresources remove path copy method do copy docopy http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden copy resource copyresource req resp move method do move domove http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden is locked islocked req resp send error senderror webdav status webdavstatus locked string path get relative path getrelativepath req copy resource copyresource req resp delete resource deleteresource path req resp lock method do lock dolock http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden is locked islocked req resp send error senderror webdav status webdavstatus locked lock info lockinfo lock lock info lockinfo parsing lock request parsing depth header string depth str depthstr req get header getheader depth depth str depthstr lock depth max depth maxdepth depth str depthstr equals lock depth lock depth max depth maxdepth parsing timeout header lock duration lockduration timeout string lock duration str lockdurationstr req get header getheader timeout lock duration str lockdurationstr lock duration lockduration timeout comma pos commapos lock duration str lockdurationstr index of indexof multiple time outs timeouts comma pos commapos lock duration str lockdurationstr lock duration str lockdurationstr substring comma pos commapos lock duration str lockdurationstr starts with startswith lock duration lockduration integer parse int parseint lock duration str lockdurationstr substring lock duration str lockdurationstr equals ignore case equalsignorecase infinity lock duration lockduration max timeout lock duration lockduration integer parse int parseint lock duration str lockdurationstr number format exception numberformatexception lock duration lockduration max timeout lock duration lockduration lock duration lockduration timeout lock duration lockduration max timeout lock duration lockduration max timeout lock expires at expiresat system current time millis currenttimemillis lock duration lockduration lock request type lockrequesttype lock creation node lock info node lockinfonode document builder documentbuilder document builder documentbuilder get document builder getdocumentbuilder document document document builder documentbuilder parse input source inputsource req get input stream getinputstream root element document element root element rootelement document get document element getdocumentelement lock info node lockinfonode root element rootelement i o exception ioexception lock request type lockrequesttype lock ref resh refresh sax exception saxexception lock request type lockrequesttype lock ref resh refresh lock info node lockinfonode reading lock node list nodelist child list childlist lock info node lockinfonode get child nodes getchildnodes string writer stringwriter str writer strwriter dom writer domwriter dom writer domwriter node lock scope node lockscopenode node lock type node locktypenode node lock owner node lockownernode child list childlist get length getlength node current node currentnode child list childlist item current node currentnode get node type getnodetype node text node node element node string node name nodename current node currentnode get node name getnodename node name nodename ends with endswith lockscope lock scope node lockscopenode current node currentnode node name nodename ends with endswith locktype lock type node locktypenode current node currentnode node name nodename ends with endswith owner lock owner node lockownernode current node currentnode lock scope node lockscopenode child list childlist lock scope node lockscopenode get child nodes getchildnodes child list childlist get length getlength node current node currentnode child list childlist item current node currentnode get node type getnodetype node text node node element node string temp scope tempscope current node currentnode get node name getnodename temp scope tempscope index of indexof lock scope temp scope tempscope substring temp scope tempscope index of indexof lock scope temp scope tempscope lock scope bad request resp set status setstatus webdav status webdavstatus bad request bad request resp set status setstatus webdav status webdavstatus bad request lock type node locktypenode child list childlist lock type node locktypenode get child nodes getchildnodes child list childlist get length getlength node current node currentnode child list childlist item current node currentnode get node type getnodetype node text node node element node string temp type temptype current node currentnode get node name getnodename temp type temptype index of indexof lock type temp type temptype substring temp type temptype index of indexof lock type temp type temptype lock type bad request resp set status setstatus webdav status webdavstatus bad request bad request resp set status setstatus webdav status webdavstatus bad request lock owner node lockownernode child list childlist lock owner node lockownernode get child nodes getchildnodes child list childlist get length getlength node current node currentnode child list childlist item current node currentnode get node type getnodetype node text node lock owner current node currentnode get node value getnodevalue node element node str writer strwriter string writer stringwriter dom writer domwriter dom writer domwriter str writer strwriter dom writer domwriter set qualified names setqualifiednames dom writer domwriter print current node currentnode lock owner str writer strwriter to string tostring lock owner bad request resp set status setstatus webdav status webdavstatus bad request lock owner string path get relative path getrelativepath req lock path path exists object object object resources lookup path naming exception namingexception exists enumeration lock info lockinfo locks list lockslist lock request type lockrequesttype lock creation generating lock string lock token str locktokenstr req get servlet path getservletpath lock type lock scope req get user principal getuserprincipal lock depth lock owner lock tokens lock expires at expiresat system current time millis currenttimemillis secret string lock token locktoken encoder encode helper digest lock token str locktokenstr get bytes getbytes charset default charset defaultcharset exists object dir context dircontext lock depth max depth maxdepth l ocking locking collection member resources checking child resource collection locked vector string lock paths lockpaths vector string locks list lockslist collection locks collectionlocks elements locks list lockslist has more elements hasmoreelements lock info lockinfo current lock currentlock locks list lockslist next element nextelement current lock currentlock has expired hasexpired resource locks resourcelocks remove current lock currentlock path current lock currentlock path starts with startswith lock path current lock currentlock is exclusive isexclusive lock is exclusive isexclusive child collection collection locked lock paths lockpaths add element addelement current lock currentlock path locks list lockslist resource locks resourcelocks elements locks list lockslist has more elements hasmoreelements lock info lockinfo current lock currentlock locks list lockslist next element nextelement current lock currentlock has expired hasexpired resource locks resourcelocks remove current lock currentlock path current lock currentlock path starts with startswith lock path current lock currentlock is exclusive isexclusive lock is exclusive isexclusive child resource collection locked lock paths lockpaths add element addelement current lock currentlock path lock paths lockpaths is empty isempty child paths locked generate multistatus error report enumeration string lock paths list lockpathslist lock paths lockpaths elements resp set status setstatus webdav status webdavstatus conflict xml writer xmlwriter generatedxml xml writer xmlwriter generatedxml writexmlheader generatedxml write element writeelement name space namespace multistatus xml writer xmlwriter opening lock paths list lockpathslist has more elements hasmoreelements generatedxml write element writeelement response xml writer xmlwriter opening generatedxml write element writeelement href xml writer xmlwriter opening generatedxml write text writetext lock paths list lockpathslist next element nextelement generatedxml write element writeelement href xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext http webdav status webdavstatus locked webdav status webdavstatus get status text getstatustext webdav status webdavstatus locked generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement response xml writer xmlwriter closing generatedxml write element writeelement multistatus xml writer xmlwriter closing writer writer resp get writer getwriter writer write generatedxml to string tostring writer close add lock addlock checking shared lock path locks list lockslist collection locks collectionlocks elements locks list lockslist has more elements hasmoreelements lock info lockinfo current lock currentlock locks list lockslist next element nextelement current lock currentlock path equals lock path current lock currentlock is exclusive isexclusive resp send error senderror webdav status webdavstatus locked lock is exclusive isexclusive resp send error senderror webdav status webdavstatus locked current lock currentlock tokens add element addelement lock token locktoken lock current lock currentlock add lock addlock add lock addlock lock tokens add element addelement lock token locktoken collection locks collectionlocks add element addelement lock l ocking locking single resource retrieving existing lock resource lock info lockinfo present lock presentlock resource locks resourcelocks lock path present lock presentlock present lock presentlock is exclusive isexclusive lock is exclusive isexclusive lock exclusive lock granted resp send error senderror webdav status webdavstatus precondition failed present lock presentlock tokens add element addelement lock token locktoken lock present lock presentlock lock tokens add element addelement lock token locktoken resource locks resourcelocks lock path lock checking resource exists path exists object resources lookup path naming exception namingexception exists exists creating lock resource slash lock path last index of lastindexof string parent path parentpath lock path substring slash vector string lock nulls locknulls lock null resources locknullresources parent path parentpath lock nulls locknulls lock nulls locknulls vector string lock null resources locknullresources parent path parentpath lock nulls locknulls lock nulls locknulls add element addelement lock path add lock token header rfc newly created locks resp add header addheader lock token opaquelocktoken lock token locktoken lock request type lockrequesttype lock ref resh refresh string if header ifheader req get header getheader if header ifheader if header ifheader checking resource locks lock info lockinfo to renew torenew resource locks resourcelocks path enumeration string token list tokenlist to renew torenew tokens locks token list tokenlist to renew torenew tokens elements token list tokenlist has more elements hasmoreelements string token token list tokenlist next element nextelement if header ifheader index of indexof token to renew torenew expires at expiresat lock expires at expiresat lock to renew torenew checking inherit able inheritable collection locks enumeration lock info lockinfo collection locks list collectionlockslist collection locks collectionlocks elements collection locks list collectionlockslist has more elements hasmoreelements to renew torenew collection locks list collectionlockslist next element nextelement path equals to renew torenew path token list tokenlist to renew torenew tokens elements token list tokenlist has more elements hasmoreelements string token token list tokenlist next element nextelement if header ifheader index of indexof token to renew torenew expires at expiresat lock expires at expiresat lock to renew torenew status generate xml response lock xml writer xmlwriter generatedxml xml writer xmlwriter generatedxml writexmlheader generatedxml write element writeelement name space namespace prop xml writer xmlwriter opening generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter opening lock toxml generatedxml generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter closing generatedxml write element writeelement prop xml writer xmlwriter closing resp set status setstatus webdav status webdavstatus resp set content type setcontenttype text xml charset utf writer writer resp get writer getwriter writer write generatedxml to string tostring writer close unlock method do unlock dounlock http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception read only readonly resp send error senderror webdav status webdavstatus forbidden is locked islocked req resp send error senderror webdav status webdavstatus locked string path get relative path getrelativepath req string lock token header locktokenheader req get header getheader lock token lock token header locktokenheader lock token header locktokenheader checking resource locks lock info lockinfo lock resource locks resourcelocks path enumeration string token list tokenlist lock tokens locks token list tokenlist lock tokens elements token list tokenlist has more elements hasmoreelements string token token list tokenlist next element nextelement lock token header locktokenheader index of indexof token lock tokens remove element removeelement token lock tokens is empty isempty resource locks resourcelocks remove path removing lock resource lock null resources locknullresources remove path checking inherit able inheritable collection locks enumeration lock info lockinfo collection locks list collectionlockslist collection locks collectionlocks elements collection locks list collectionlockslist has more elements hasmoreelements lock collection locks list collectionlockslist next element nextelement path equals lock path token list tokenlist lock tokens elements token list tokenlist has more elements hasmoreelements string token token list tokenlist next element nextelement lock token header locktokenheader index of indexof token lock tokens remove element removeelement token lock tokens is empty isempty collection locks collectionlocks remove element removeelement lock removing lock resource lock null resources locknullresources remove path resp set status setstatus webdav status webdavstatus content methods check resource write locked method header client lock tokens param req servlet request resource locked lock token shared locks resource is locked islocked http servlet request httpservletrequest req string path get relative path getrelativepath req string if header ifheader req get header getheader if header ifheader if header ifheader string lock token header locktokenheader req get header getheader lock token lock token header locktokenheader lock token header locktokenheader is locked islocked path if header ifheader lock token header locktokenheader check resource write locked param path path resource param if header ifheader http header included request resource locked lock token shared locks resource is locked islocked string path string if header ifheader checking resource locks lock info lockinfo lock resource locks resourcelocks path enumeration string token list tokenlist lock lock has expired hasexpired resource locks resourcelocks remove path lock tokens locks token list tokenlist lock tokens elements token match tokenmatch token list tokenlist has more elements hasmoreelements string token token list tokenlist next element nextelement if header ifheader index of indexof token token match tokenmatch token match tokenmatch checking inherit able inheritable collection locks enumeration lock info lockinfo collection locks list collectionlockslist collection locks collectionlocks elements collection locks list collectionlockslist has more elements hasmoreelements lock collection locks list collectionlockslist next element nextelement lock has expired hasexpired collection locks collectionlocks remove element removeelement lock path starts with startswith lock path token list tokenlist lock tokens elements token match tokenmatch token list tokenlist has more elements hasmoreelements string token token list tokenlist next element nextelement if header ifheader index of indexof token token match tokenmatch token match tokenmatch copy resource param req servlet request param resp servlet response copy successful copy resource copyresource http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception parsing destination header string destination path destinationpath req get header getheader destination destination path destinationpath resp send error senderror webdav status webdavstatus bad request remove url encoding destination destination path destinationpath org apache catalina util request util requestutil url decode urldecode destination path destinationpath utf protocol index protocolindex destination path destinationpath index of indexof protocol index protocolindex destination url protocol safely trim upto character first separator firstseparator destination path destinationpath index of indexof protocol index protocolindex first separator firstseparator destination path destinationpath destination path destinationpath destination path destinationpath substring first separator firstseparator string host name hostname req get server name getservername host name hostname destination path destinationpath starts with startswith host name hostname destination path destinationpath destination path destinationpath substring host name hostname length port index portindex destination path destinationpath index of indexof port index portindex destination path destinationpath destination path destinationpath substring port index portindex destination path destinationpath starts with startswith first separator firstseparator destination path destinationpath index of indexof first separator firstseparator destination path destinationpath destination path destinationpath destination path destinationpath substring first separator firstseparator normalise destination path remove destination path destinationpath request util requestutil normalize destination path destinationpath string context path contextpath req get context path getcontextpath context path contextpath destination path destinationpath starts with startswith context path contextpath destination path destinationpath destination path destinationpath substring context path contextpath length string path info pathinfo req get path info getpathinfo path info pathinfo string servlet path servletpath req get servlet path getservletpath servlet path servletpath destination path destinationpath starts with startswith servlet path servletpath destination path destinationpath destination path destinationpath substring servlet path servletpath length debug log dest path destination path destinationpath check destination path protect special sub directories subdirectories is special path isspecialpath destination path destinationpath resp send error senderror webdav status webdavstatus forbidden string path get relative path getrelativepath req destination path destinationpath equals path resp send error senderror webdav status webdavstatus forbidden parsing overwrite header overwrite string overwrite header overwriteheader req get header getheader overwrite overwrite header overwriteheader overwrite header overwriteheader equals ignore case equalsignorecase overwrite overwrite over writing overwriting destination exists resources lookup destination path destinationpath naming exception namingexception exists overwrite delete destination resource exists exists delete resource deleteresource destination path destinationpath req resp resp set status setstatus webdav status webdavstatus created destination exists conflict exists resp send error senderror webdav status webdavstatus precondition failed copying source destination hashtable string integer error list errorlist hashtable string integer result copy resource copyresource resources error list errorlist path destination path destinationpath result error list errorlist is empty isempty error list errorlist size resp send error senderror error list errorlist elements next element nextelement int value intvalue send report sendreport req resp error list errorlist copy successful exists resp set status setstatus webdav status webdavstatus content resp set status setstatus webdav status webdavstatus created removing lock resource destination path lock null resources locknullresources remove destination path destinationpath copy collection param dir context dircontext resources implementation param error list errorlist hashtable list errors occurred copy operation param source path resource copied param dest destination path copy resource copyresource dir context dircontext dir context dircontext hashtable string integer error list errorlist string source string dest debug log copy source dest object object object dir context dircontext lookup source naming exception namingexception object dir context dircontext dir context dircontext create sub context createsubcontext dest naming exception namingexception error list errorlist dest integer value of valueof webdav status webdavstatus conflict naming enumeration namingenumeration name class pair nameclasspair enumeration dir context dircontext list source enumeration has more elements hasmoreelements name class pair nameclasspair nc pair ncpair enumeration next element nextelement string child dest childdest dest child dest childdest equals child dest childdest child dest childdest nc pair ncpair get name getname string child src childsrc source child src childsrc equals child src childsrc child src childsrc nc pair ncpair get name getname copy resource copyresource dir context dircontext error list errorlist child src childsrc child dest childdest naming exception namingexception error list errorlist dest integer value of valueof webdav status webdavstatus internal server error object resource dir context dircontext bind dest object naming exception namingexception get cause getcause file not found exception filenotfoundexception error list errorlist source integer value of valueof webdav status webdavstatus conflict error list errorlist source integer value of valueof webdav status webdavstatus internal server error error list errorlist source integer value of valueof webdav status webdavstatus internal server error delete resource param req servlet request param resp servlet response copy successful delete resource deleteresource http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception string path get relative path getrelativepath req delete resource deleteresource path req resp delete resource param path path resource deleted param req servlet request param resp servlet response param set status setstatus response status successful completion delete resource deleteresource string path http servlet request httpservletrequest req http servlet response httpservletresponse resp set status setstatus i o exception ioexception string if header ifheader req get header getheader if header ifheader if header ifheader string lock token header locktokenheader req get header getheader lock token lock token header locktokenheader lock token header locktokenheader is locked islocked path if header ifheader lock token header locktokenheader resp send error senderror webdav status webdavstatus locked exists object object object resources lookup path naming exception namingexception exists exists resp send error senderror webdav status webdavstatus collection object dir context dircontext collection resources unbind path naming exception namingexception resp send error senderror webdav status webdavstatus internal server error hashtable string integer error list errorlist hashtable string integer delete collection deletecollection req resources path error list errorlist resources unbind path naming exception namingexception error list errorlist path integer value of valueof webdav status webdavstatus internal server error error list errorlist is empty isempty send report sendreport req resp error list errorlist set status setstatus resp set status setstatus webdav status webdavstatus content deletes collection param dir context dircontext resources implementation context param path path collection deleted param error list errorlist list errors occurred delete collection deletecollection http servlet request httpservletrequest req dir context dircontext dir context dircontext string path hashtable string integer error list errorlist debug log delete path prevent deletion special sub directories subdirectories is special path isspecialpath path error list errorlist path integer value of valueof webdav status webdavstatus forbidden string if header ifheader req get header getheader if header ifheader if header ifheader string lock token header locktokenheader req get header getheader lock token lock token header locktokenheader lock token header locktokenheader enumeration name class pair nameclasspair enumeration enumeration dir context dircontext list path naming exception namingexception error list errorlist path integer value of valueof webdav status webdavstatus internal server error enumeration has more elements hasmoreelements name class pair nameclasspair nc pair ncpair enumeration next element nextelement string child name childname path child name childname equals child name childname child name childname nc pair ncpair get name getname is locked islocked child name childname if header ifheader lock token header locktokenheader error list errorlist child name childname integer value of valueof webdav status webdavstatus locked object object dir context dircontext lookup child name childname object dir context dircontext delete collection deletecollection req dir context dircontext child name childname error list errorlist dir context dircontext unbind child name childname naming exception namingexception object dir context dircontext error list errorlist child name childname integer value of valueof webdav status webdavstatus internal server error naming exception namingexception error list errorlist child name childname integer value of valueof webdav status webdavstatus internal server error send multistatus element complete error report client param req servlet request param resp servlet response param error list errorlist list error displayed send report sendreport http servlet request httpservletrequest req http servlet response httpservletresponse resp hashtable string integer error list errorlist i o exception ioexception resp set status setstatus webdav status webdavstatus multi status string absolute uri absoluteuri req getrequesturi string relative path relativepath get relative path getrelativepath req xml writer xmlwriter generatedxml xml writer xmlwriter generatedxml writexmlheader generatedxml write element writeelement name space namespace multistatus xml writer xmlwriter opening enumeration string path list pathlist error list errorlist path list pathlist has more elements hasmoreelements string error path errorpath path list pathlist next element nextelement error code errorcode error list errorlist error path errorpath int value intvalue generatedxml write element writeelement response xml writer xmlwriter opening generatedxml write element writeelement href xml writer xmlwriter opening string to append toappend error path errorpath substring relative path relativepath length to append toappend starts with startswith to append toappend to append toappend generatedxml write text writetext absolute uri absoluteuri to append toappend generatedxml write element writeelement href xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext http error code errorcode webdav status webdavstatus get status text getstatustext error code errorcode generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement response xml writer xmlwriter closing generatedxml write element writeelement multistatus xml writer xmlwriter closing writer writer resp get writer getwriter writer write generatedxml to string tostring writer close propfind helper method param req servlet request param resources resources object context param generatedxml xml response propfind request param path path current resource param type propfind type param properties vector propertiesvector prop find propfind type find properties vector properties parse properties parseproperties http servlet request httpservletrequest req xml writer xmlwriter generatedxml string path type vector string properties vector propertiesvector exclude resource web inf meta inf sub directories subdirectories is special path isspecialpath path cache entry cacheentry cache entry cacheentry resources lookup cache lookupcache path cache entry cacheentry exists broken symlink odd permission settings generatedxml write element writeelement response xml writer xmlwriter opening string status http webdav status webdavstatus webdav status webdavstatus get status text getstatustext webdav status webdavstatus generating href element generatedxml write element writeelement href xml writer xmlwriter opening string href req get context path getcontextpath req get servlet path getservletpath href ends with endswith path starts with startswith href path substring href path cache entry cacheentry context href ends with endswith href generatedxml write text writetext rewrite url rewriteurl href generatedxml write element writeelement href xml writer xmlwriter closing string resource name resourcename path last slash lastslash path last index of lastindexof last slash lastslash resource name resourcename resource name resourcename substring last slash lastslash type find prop generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening generatedxml write property writeproperty creationdate getisocreationdate cache entry cacheentry attributes get creation getcreation generatedxml write element writeelement displayname xml writer xmlwriter opening generatedxml write data writedata resource name resourcename generatedxml write element writeelement displayname xml writer xmlwriter closing cache entry cacheentry resource generatedxml write property writeproperty get last modified getlastmodified fast http date format fasthttpdateformat format date formatdate cache entry cacheentry attributes get last modified getlastmodified generatedxml write property writeproperty get content length getcontentlength string value of valueof cache entry cacheentry attributes get content length getcontentlength string content type contenttype get servlet context getservletcontext get mime type getmimetype cache entry cacheentry content type contenttype generatedxml write property writeproperty get content type getcontenttype content type contenttype generatedxml write property writeproperty get etag getetag cache entry cacheentry attributes getetag generatedxml write element writeelement resource type resourcetype xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter opening generatedxml write element writeelement collection xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter closing generatedxml write property writeproperty source string supported locks supportedlocks lockentry lockscope exclusive lockscope locktype write locktype lockentry lockentry lockscope shared lockscope locktype write locktype lockentry generatedxml write element writeelement supportedlock xml writer xmlwriter opening generatedxml write text writetext supported locks supportedlocks generatedxml write element writeelement supportedlock xml writer xmlwriter closing generate lock discovery generatelockdiscovery path generatedxml generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing find property names generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening generatedxml write element writeelement creationdate xml writer xmlwriter content generatedxml write element writeelement displayname xml writer xmlwriter content cache entry cacheentry resource generatedxml write element writeelement get content language getcontentlanguage xml writer xmlwriter content generatedxml write element writeelement get content length getcontentlength xml writer xmlwriter content generatedxml write element writeelement get content type getcontenttype xml writer xmlwriter content generatedxml write element writeelement get etag getetag xml writer xmlwriter content generatedxml write element writeelement get last modified getlastmodified xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter content generatedxml write element writeelement source xml writer xmlwriter content generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter content generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing find property vector string properties not found propertiesnotfound vector string parse list properties generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening enumeration string properties properties vector propertiesvector elements properties has more elements hasmoreelements string property properties next element nextelement property equals creationdate generatedxml write property writeproperty creationdate getisocreationdate cache entry cacheentry attributes get creation getcreation property equals displayname generatedxml write element writeelement displayname xml writer xmlwriter opening generatedxml write data writedata resource name resourcename generatedxml write element writeelement displayname xml writer xmlwriter closing property equals get content language getcontentlanguage cache entry cacheentry context properties not found propertiesnotfound add element addelement property generatedxml write element writeelement get content language getcontentlanguage xml writer xmlwriter content property equals get content length getcontentlength cache entry cacheentry context properties not found propertiesnotfound add element addelement property generatedxml write property writeproperty get content length getcontentlength string value of valueof cache entry cacheentry attributes get content length getcontentlength property equals get content type getcontenttype cache entry cacheentry context properties not found propertiesnotfound add element addelement property generatedxml write property writeproperty get content type getcontenttype get servlet context getservletcontext get mime type getmimetype cache entry cacheentry property equals get etag getetag cache entry cacheentry context properties not found propertiesnotfound add element addelement property generatedxml write property writeproperty get etag getetag cache entry cacheentry attributes getetag property equals get last modified getlastmodified cache entry cacheentry context properties not found propertiesnotfound add element addelement property generatedxml write property writeproperty get last modified getlastmodified fast http date format fasthttpdateformat format date formatdate cache entry cacheentry attributes get last modified getlastmodified property equals resource type resourcetype cache entry cacheentry context generatedxml write element writeelement resource type resourcetype xml writer xmlwriter opening generatedxml write element writeelement collection xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter closing generatedxml write element writeelement resource type resourcetype xml writer xmlwriter content property equals source generatedxml write property writeproperty source property equals supportedlock supported locks supportedlocks lockentry lockscope exclusive lockscope locktype write locktype lockentry lockentry lockscope shared lockscope locktype write locktype lockentry generatedxml write element writeelement supportedlock xml writer xmlwriter opening generatedxml write text writetext supported locks supportedlocks generatedxml write element writeelement supportedlock xml writer xmlwriter closing property equals lock discovery lockdiscovery generate lock discovery generatelockdiscovery path generatedxml properties not found propertiesnotfound add element addelement property properties not found propertiesnotfound add element addelement property generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing enumeration string properties not found list propertiesnotfoundlist properties not found propertiesnotfound elements properties not found list propertiesnotfoundlist has more elements hasmoreelements status http webdav status webdavstatus webdav status webdavstatus get status text getstatustext webdav status webdavstatus generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening properties not found list propertiesnotfoundlist has more elements hasmoreelements generatedxml write element writeelement properties not found list propertiesnotfoundlist next element nextelement xml writer xmlwriter content generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing generatedxml write element writeelement response xml writer xmlwriter closing propfind helper method displays properties lock resource param resources resources object context param generatedxml xml response propfind request param path path current resource param type propfind type param properties vector propertiesvector prop find propfind type find properties vector properties parse lock null properties parselocknullproperties http servlet request httpservletrequest req xml writer xmlwriter generatedxml string path type vector string properties vector propertiesvector exclude resource web inf meta inf sub directories subdirectories is special path isspecialpath path retrieving lock lock resource lock info lockinfo lock resource locks resourcelocks path lock generatedxml write element writeelement response xml writer xmlwriter opening string status http webdav status webdavstatus webdav status webdavstatus get status text getstatustext webdav status webdavstatus generating href element generatedxml write element writeelement href xml writer xmlwriter opening string absolute uri absoluteuri req getrequesturi string relative path relativepath get relative path getrelativepath req string to append toappend path substring relative path relativepath length to append toappend starts with startswith to append toappend to append toappend generatedxml write text writetext rewrite url rewriteurl request util requestutil normalize absolute uri absoluteuri to append toappend generatedxml write element writeelement href xml writer xmlwriter closing string resource name resourcename path last slash lastslash path last index of lastindexof last slash lastslash resource name resourcename resource name resourcename substring last slash lastslash type find prop generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening generatedxml write property writeproperty creationdate getisocreationdate lock creation date creationdate get time gettime generatedxml write element writeelement displayname xml writer xmlwriter opening generatedxml write data writedata resource name resourcename generatedxml write element writeelement displayname xml writer xmlwriter closing generatedxml write property writeproperty get last modified getlastmodified fast http date format fasthttpdateformat format date formatdate lock creation date creationdate get time gettime generatedxml write property writeproperty get content length getcontentlength string value of valueof generatedxml write property writeproperty get content type getcontenttype generatedxml write property writeproperty get etag getetag generatedxml write element writeelement resource type resourcetype xml writer xmlwriter opening generatedxml write element writeelement lock xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter closing generatedxml write property writeproperty source string supported locks supportedlocks lockentry lockscope exclusive lockscope locktype write locktype lockentry lockentry lockscope shared lockscope locktype write locktype lockentry generatedxml write element writeelement supportedlock xml writer xmlwriter opening generatedxml write text writetext supported locks supportedlocks generatedxml write element writeelement supportedlock xml writer xmlwriter closing generate lock discovery generatelockdiscovery path generatedxml generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing find property names generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening generatedxml write element writeelement creationdate xml writer xmlwriter content generatedxml write element writeelement displayname xml writer xmlwriter content generatedxml write element writeelement get content language getcontentlanguage xml writer xmlwriter content generatedxml write element writeelement get content length getcontentlength xml writer xmlwriter content generatedxml write element writeelement get content type getcontenttype xml writer xmlwriter content generatedxml write element writeelement get etag getetag xml writer xmlwriter content generatedxml write element writeelement get last modified getlastmodified xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter content generatedxml write element writeelement source xml writer xmlwriter content generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter content generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing find property vector string properties not found propertiesnotfound vector string parse list properties generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening enumeration string properties properties vector propertiesvector elements properties has more elements hasmoreelements string property properties next element nextelement property equals creationdate generatedxml write property writeproperty creationdate getisocreationdate lock creation date creationdate get time gettime property equals displayname generatedxml write element writeelement displayname xml writer xmlwriter opening generatedxml write data writedata resource name resourcename generatedxml write element writeelement displayname xml writer xmlwriter closing property equals get content language getcontentlanguage generatedxml write element writeelement get content language getcontentlanguage xml writer xmlwriter content property equals get content length getcontentlength generatedxml write property writeproperty get content length getcontentlength string value of valueof property equals get content type getcontenttype generatedxml write property writeproperty get content type getcontenttype property equals get etag getetag generatedxml write property writeproperty get etag getetag property equals get last modified getlastmodified generatedxml write property writeproperty get last modified getlastmodified fast http date format fasthttpdateformat format date formatdate lock creation date creationdate get time gettime property equals resource type resourcetype generatedxml write element writeelement resource type resourcetype xml writer xmlwriter opening generatedxml write element writeelement lock xml writer xmlwriter content generatedxml write element writeelement resource type resourcetype xml writer xmlwriter closing property equals source generatedxml write property writeproperty source property equals supportedlock supported locks supportedlocks lockentry lockscope exclusive lockscope locktype write locktype lockentry lockentry lockscope shared lockscope locktype write locktype lockentry generatedxml write element writeelement supportedlock xml writer xmlwriter opening generatedxml write text writetext supported locks supportedlocks generatedxml write element writeelement supportedlock xml writer xmlwriter closing property equals lock discovery lockdiscovery generate lock discovery generatelockdiscovery path generatedxml properties not found propertiesnotfound add element addelement property properties not found propertiesnotfound add element addelement property generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing enumeration string properties not found list propertiesnotfoundlist properties not found propertiesnotfound elements properties not found list propertiesnotfoundlist has more elements hasmoreelements status http webdav status webdavstatus webdav status webdavstatus get status text getstatustext webdav status webdavstatus generatedxml write element writeelement propstat xml writer xmlwriter opening generatedxml write element writeelement prop xml writer xmlwriter opening properties not found list propertiesnotfoundlist has more elements hasmoreelements generatedxml write element writeelement properties not found list propertiesnotfoundlist next element nextelement xml writer xmlwriter content generatedxml write element writeelement prop xml writer xmlwriter closing generatedxml write element writeelement status xml writer xmlwriter opening generatedxml write text writetext status generatedxml write element writeelement status xml writer xmlwriter closing generatedxml write element writeelement propstat xml writer xmlwriter closing generatedxml write element writeelement response xml writer xmlwriter closing print lock discovery path param path path param generatedxml xml data locks info appended lock displayed generate lock discovery generatelockdiscovery string path xml writer xmlwriter generatedxml lock info lockinfo resource lock resourcelock resource locks resourcelocks path enumeration lock info lockinfo collection locks list collectionlockslist collection locks collectionlocks elements wrote start wrotestart resource lock resourcelock wrote start wrotestart generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter opening resource lock resourcelock toxml generatedxml collection locks list collectionlockslist has more elements hasmoreelements lock info lockinfo current lock currentlock collection locks list collectionlockslist next element nextelement path starts with startswith current lock currentlock path wrote start wrotestart wrote start wrotestart generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter opening current lock currentlock toxml generatedxml wrote start wrotestart generatedxml write element writeelement lock discovery lockdiscovery xml writer xmlwriter closing creation iso format string getisocreationdate creation date creationdate string builder stringbuilder creation date value creationdatevalue string builder stringbuilder creation date format creationdateformat format creation date creationdate offset calendar get instance getinstance get time zone gettimezone get raw offset getrawoffset fixme offset creation date value creationdatevalue append offset offset offset creation date value creationdatevalue append offset offset creation date value creationdatevalue append creation date value creationdatevalue append offset creation date value creationdatevalue append creation date value creationdatevalue to string tostring determines methods allowed resource string builder stringbuilder determine methods allowed determinemethodsallowed dir context dircontext dir context dircontext http servlet request httpservletrequest req string builder stringbuilder methods allowed methodsallowed string builder stringbuilder exists object object string path get relative path getrelativepath req object dir context dircontext lookup path naming exception namingexception exists exists methods allowed methodsallowed append options mkcol lock methods allowed methodsallowed methods allowed methodsallowed append options head post delete trace methods allowed methodsallowed append prop patch proppatch copy move lock unlock list ings listings methods allowed methodsallowed append propfind object dir context dircontext methods allowed methodsallowed append methods allowed methodsallowed h olds holds lock lock info lockinfo constructor lock info lockinfo ignore instance variables string path string type write string scope exclusive depth string owner vector string tokens vector string expires at expiresat creation date creationdate methods string representation lock token override string to string tostring string builder stringbuilder result string builder stringbuilder type result append type result append n scope nscope result append scope result append n depth ndepth result append depth result append n owner nowner result append owner result append n expiration nexpiration result append fast http date format fasthttpdateformat format date formatdate expires at expiresat enumeration string tokens list tokenslist tokens elements tokens list tokenslist has more elements hasmoreelements result append n token ntoken result append tokens list tokenslist next element nextelement result append result to string tostring lock expired has expired hasexpired system current time millis currenttimemillis expires at expiresat lock exclusive is exclusive isexclusive scope equals exclusive xml representation lock token method append xml fragment xml writer toxml xml writer xmlwriter generatedxml generatedxml write element writeelement active lock activelock xml writer xmlwriter opening generatedxml write element writeelement locktype xml writer xmlwriter opening generatedxml write element writeelement type xml writer xmlwriter content generatedxml write element writeelement locktype xml writer xmlwriter closing generatedxml write element writeelement lockscope xml writer xmlwriter opening generatedxml write element writeelement scope xml writer xmlwriter content generatedxml write element writeelement lockscope xml writer xmlwriter closing generatedxml write element writeelement depth xml writer xmlwriter opening depth max depth maxdepth generatedxml write text writetext inf inity infinity generatedxml write text writetext generatedxml write element writeelement depth xml writer xmlwriter closing generatedxml write element writeelement owner xml writer xmlwriter opening generatedxml write text writetext owner generatedxml write element writeelement owner xml writer xmlwriter closing generatedxml write element writeelement timeout xml writer xmlwriter opening timeout expires at expiresat system current time millis currenttimemillis generatedxml write text writetext timeout generatedxml write element writeelement timeout xml writer xmlwriter closing generatedxml write element writeelement lock token locktoken xml writer xmlwriter opening enumeration string tokens list tokenslist tokens elements tokens list tokenslist has more elements hasmoreelements generatedxml write element writeelement href xml writer xmlwriter opening generatedxml write text writetext opaquelocktoken tokens list tokenslist next element nextelement generatedxml write element writeelement href xml writer xmlwriter closing generatedxml write element writeelement lock token locktoken xml writer xmlwriter closing generatedxml write element writeelement active lock activelock xml writer xmlwriter closing work xml parsers don fully resp ect respect link document builder factory documentbuilderfactory set expand entity references setexpandentityreferences called code code external references filtered security reasons cve webdav resolver webdavresolver entity resolver entityresolver servlet context servletcontext context webdav resolver webdavresolver servlet context servletcontext the context thecontext context the context thecontext override input source inputsource resolve entity resolveentity string public id publicid string system id systemid context log get string getstring webdav servlet webdavservlet enter nal entity ignored enternalentityignored public id publicid system id systemid input source inputsource string reader stringreader external entity wraps http servlet response httpservletresponse specific protocol support protocols modify web dav ret code webdavretcode classes author marc e addy eaddy version nov webdav status webdavstatus instance variables hashtable mapping http webdav status codes descriptive text variable hashtable integer string map status codes mapstatuscodes hashtable integer string http status codes status code indicating request succeeded http servlet response httpservletresponse status code indicating request succeeded created resource server created http servlet response httpservletresponse created status code indicating request accepted processing completed accepted http servlet response httpservletresponse accepted status code indicating request succeeded content http servlet response httpservletresponse content status code indicating resource per manently permanently moved location references uri requests moved permanently http servlet response httpservletresponse moved permanently status code indicating resource temp orarily temporarily moved location references original uri access resource moved temporarily http servlet response httpservletresponse moved temporarily status code indicating conditional operation resource modified modified http servlet response httpservletresponse modified status code indicating request client syntactically incorrect bad request http servlet response httpservletresponse bad request status code indicating request requires http authentication unauthorized http servlet response httpservletresponse unauthorized status code indicating server under stood understood request ref used refused fulfill forbidden http servlet response httpservletresponse forbidden status code indicating requested resource http servlet response httpservletresponse status code indicating error http service prev ented prevented fulfilling request internal server error http servlet response httpservletresponse internal server error status code indicating http service support functionality needed fulfill request implemented http servlet response httpservletresponse implemented status code indicating http server received invalid response server consulted acting proxy gateway bad gateway http servlet response httpservletresponse bad gateway status code indicating http service temp orarily temporarily overloaded unable handle request service unavailable http servlet response httpservletresponse service unavailable status code indicating client request int erim interim response info rm inform client initial request received rejected server status code indicating method allowed resource method allowed status code indicating request completed conflict current resource conflict status code indicating precondition request header fields eval uated evaluated tested server precondition failed status code indicating server ref using refusing process request request entity larger server process request status code indicating server ref using refusing service request entity request format supported requested resource requested method unsupported media type extended web dav webdav status code status code indicating response requires providing status multiple independent operations multi status collides http partial update status code indicating entity body sub mitted submitted patch method under stood understood resource unprocessable entity collides http reauthentication required status code indicating resource sufficient space record resource execution method insufficient space resource collides http proxy reauthentication required status code indicating method executed resource scope method execution failed causing entire method aborted method failure status code indicating destination resource method locked request valid lock info header lock info header ide ntifies identifies lock held principal locked http status code add status code map addstatuscodemap add status code map addstatuscodemap created created add status code map addstatuscodemap accepted acc epted accepted add status code map addstatuscodemap content content add status code map addstatuscodemap moved permanently moved per manently permanently add status code map addstatuscodemap moved temporarily moved temp orarily temporarily add status code map addstatuscodemap modified modified add status code map addstatuscodemap bad request bad request add status code map addstatuscodemap unauthorized unauthorized add status code map addstatuscodemap forbidden for bidden forbidden add status code map addstatuscodemap add status code map addstatuscodemap internal server error internal server error add status code map addstatuscodemap implemented impl emented implemented add status code map addstatuscodemap bad gateway bad gate way gateway add status code map addstatuscodemap service unavailable service unavailable add status code map addstatuscodemap add status code map addstatuscodemap method allowed method allowed add status code map addstatuscodemap conflict conflict add status code map addstatuscodemap precondition failed precondition failed add status code map addstatuscodemap request request add status code map addstatuscodemap unsupported media type unsupported media type web dav webdav status codes add status code map addstatuscodemap multi status multi status add status code map addstatuscodemap unprocessable entity unprocessable entity add status code map addstatuscodemap insufficient space resource ins ufficient insufficient space resource add status code map addstatuscodemap method failure method failure add status code map addstatuscodemap locked locked methods returns http status text http web dav webdav status code mapping function param n http status code nhttpstatuscode http webdav status code string descriptive phrase http status code string get status text getstatustext n http status code nhttpstatuscode integer int key intkey integer value of valueof n http status code nhttpstatuscode map status codes mapstatuscodes contains key containskey int key intkey map status codes mapstatuscodes int key intkey methods adds status code status text mapping method mapping variable param n key nkey http webdav status code param str val strval http status text add status code map addstatuscodemap n key nkey string str val strval map status codes mapstatuscodes integer value of valueof n key nkey str val strval
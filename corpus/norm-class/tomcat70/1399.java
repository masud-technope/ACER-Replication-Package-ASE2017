licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http java io exception ioexception java security access controller accesscontroller java security privileged action privilegedaction org apache coyote action code actioncode org apache coyote output buffer outputbuffer org apache coyote response org apache coyote http filters gzip output filter gzipoutputfilter org apache tomcat util buf byte chunk bytechunk org apache tomcat util buf char chunk charchunk org apache tomcat util buf message bytes messagebytes org apache tomcat util http http messages httpmessages org apache tomcat util net abstract endpoint abstractendpoint org apache tomcat util net socket wrapper socketwrapper org apache tomcat util res string manager stringmanager abstract output buffer abstractoutputbuffer output buffer outputbuffer instance variables coyote response response response committed flag committed finished flag finished buffer header comp osition composition buf position buffer pos filter library note filter chunked filter output filter outputfilter filter library filterlibrary active filter top pipeline output filter outputfilter active filters activefilters active filter last active filter lastactivefilter underlying output buffer output buffer outputbuffer output stream output buffer outputstreamoutputbuffer bytes written client current request byte count bytecount variables string manager string manager stringmanager string manager stringmanager get manager getmanager constants logger org apache juli logging log log org apache juli logging log factory logfactory get log getlog abstract output buffer abstractoutputbuffer properties add output filter filter library add filter addfilter output filter outputfilter filter output filter outputfilter new filter library newfilterlibrary output filter outputfilter filter library filterlibrary length filter library filterlibrary length new filter library newfilterlibrary filter library filterlibrary new filter library newfilterlibrary filter library filterlibrary length filter filter library filterlibrary new filter library newfilterlibrary active filters activefilters output filter outputfilter filter library filterlibrary length filters output filter outputfilter get filters getfilters filter library filterlibrary add output filter filter library add active filter addactivefilter output filter outputfilter filter last active filter lastactivefilter filter set buffer setbuffer output stream output buffer outputstreamoutputbuffer last active filter lastactivefilter active filters activefilters filter filter set buffer setbuffer active filters activefilters last active filter lastactivefilter active filters activefilters last active filter lastactivefilter filter filter set response setresponse response output buffer outputbuffer methods write contents chunk param chunk chunk number bytes written io exception ioexception underlying error occurred override do write dowrite byte chunk bytechunk chunk response res io exception ioexception committed send connector request commit connector validate headers send send headers sendheaders filters response action action code actioncode commit last active filter lastactivefilter output stream output buffer outputstreamoutputbuffer do write dowrite chunk res active filters activefilters last active filter lastactivefilter do write dowrite chunk res override get bytes written getbyteswritten last active filter lastactivefilter output stream output buffer outputstreamoutputbuffer get bytes written getbyteswritten active filters activefilters last active filter lastactivefilter get bytes written getbyteswritten methods flush response io exception ioexception underlying error occurred flush io exception ioexception committed send connector request commit connector validate headers send send header sendheader filters response action action code actioncode commit invoke flush last active filter lastactivefilter active filters activefilters gzip output filter gzipoutputfilter log is debug enabled isdebugenabled log debug flushing gzip filter position filter chain gzip output filter gzipoutputfilter active filters activefilters flush reset current response illegal state exception illegalstateexception response committed reset committed illegal state exception illegalstateexception reset reset triggered error handling headers large pos byte count bytecount recycle output buffer called closing connection recycle classes next request nextrequest processing current http request note bytes current request consumed method res ets resets point ers pointers ready parse http request next request nextrequest recycle filters last active filter lastactivefilter active filters activefilters recycle recycle response object response recycle reset point ers pointers pos last active filter lastactivefilter committed finished byte count bytecount request io exception ioexception underlying error occurred end request endrequest io exception ioexception committed send connector request commit connector validate headers send send header sendheader filters response action action code actioncode commit finished last active filter lastactivefilter active filters activefilters last active filter lastactivefilter finished init socket wrapper socketwrapper socket wrapper socketwrapper abstract endpoint abstractendpoint endpoint io exception ioexception send ack sendack io exception ioexception commit io exception ioexception send response status send status sendstatus write protocol write constants http bytes buf pos constants write status code status response get status getstatus status write constants bytes write constants bytes write constants bytes write status buf pos constants write message string message org apache coyote constants custom status msg header http messages httpmessages is safe in http header issafeinhttpheader response get message getmessage message response get message getmessage message write http messages httpmessages get instance getinstance response get locale getlocale get message getmessage status write message response status org apache coyote constants security enabled access controller accesscontroller do privileged doprivileged privileged action privilegedaction override buf pos constants buf pos constants buf pos constants buf pos constants send header param header param header send header sendheader message bytes messagebytes message bytes messagebytes write buf pos constants colon buf pos constants write buf pos constants buf pos constants header block end headers endheaders buf pos constants buf pos constants method write contents message bytes buffer output stream filtering method meant write response header param data written write message bytes messagebytes get type gettype message bytes messagebytes bytes byte chunk bytechunk get byte chunk getbytechunk write get type gettype message bytes messagebytes chars char chunk charchunk get char chunk getcharchunk write write to string tostring method write contents message bytes buffer output stream filtering method meant write response header param data written write byte chunk bytechunk writing chunk output buffer length get length getlength check length before write checklengthbeforewrite length system arraycopy get bytes getbytes get start getstart buf pos length pos pos length method write contents buffer output stream filtering method meant write response header param data written write char chunk charchunk start get start getstart get end getend check length before write checklengthbeforewrite start cbuf get buffer getbuffer start cbuf str eams streams properly encode output buf pos method write contents buffer output stream filtering method meant write response header param data written write check length before write checklengthbeforewrite length writing chunk output buffer system arraycopy buf pos length pos pos length method write contents string output stream filtering method meant write response header param data written write string tomcat http connector len length check length before write checklengthbeforewrite len len char at charat str eams streams properly encode output buf pos method print int eger integer output stream filtering method meant write response header param data written write write string value of valueof checks space buffer write requested number bytes check length before write checklengthbeforewrite length buffer write operation pos length buf length headers too l arg e exception headerstoolargeexception get string getstring iob response header tool arg e responseheadertoolarge error
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket pojo java io exception ioexception java lang reflect method java nio byte buffer bytebuffer javax websocket encode exception encodeexception javax websocket message handler messagehandler javax websocket remote endpoint remoteendpoint javax websocket session org apache tomcat util exception utils exceptionutils org apache tomcat websocket wrapped message handler wrappedmessagehandler common implementation code pojo message handlers param type message handle pojo message handler base pojomessagehandlerbase wrapped message handler wrappedmessagehandler object pojo method method session session object params index payload indexpayload convert index session indexsession max message size maxmessagesize pojo message handler base pojomessagehandlerbase object pojo method method session session object params index payload indexpayload convert index session indexsession max message size maxmessagesize pojo pojo method method code fully under stood understood cases method set accessible setaccessible exception session session params params index payload indexpayload index payload indexpayload convert convert index session indexsession index session indexsession max message size maxmessagesize max message size maxmessagesize process result processresult object result result remote endpoint remoteendpoint basic remote endpoint remoteendpoint session get basic remote getbasicremote result string remote endpoint remoteendpoint send text sendtext string result result byte buffer bytebuffer remote endpoint remoteendpoint send binary sendbinary byte buffer bytebuffer result result remote endpoint remoteendpoint send binary sendbinary byte buffer bytebuffer wrap result remote endpoint remoteendpoint send object sendobject result io exception ioexception ioe illegal state exception illegalstateexception ioe encode exception encodeexception illegal state exception illegalstateexception expose pojo message handler session match requests remove handlers original handler wrapped override message handler messagehandler get wrapped handler getwrappedhandler pojo message handler messagehandler message handler messagehandler pojo override get max message size getmaxmessagesize max message size maxmessagesize handle pojo method exception handlepojomethodexception throwable exception utils exceptionutils unwrap invocation target exception unwrapinvocationtargetexception exception utils exceptionutils handle throwable handlethrowable runtime exception runtimeexception runtime exception runtimeexception runtime exception runtimeexception get message getmessage
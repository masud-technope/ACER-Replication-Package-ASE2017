licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache naming resources java file org junit assert equals assertequals org junit test org apache catalina core jre memory leak prevention listener jrememoryleakpreventionlistener org apache catalina core standard context standardcontext org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache tomcat util buf byte chunk bytechunk test war dir context testwardircontext tomcat base test tomcatbasetest override set up setup exception set up setup tomcat tomcat get tomcat instance gettomcatinstance test fails jre memory leak prevention listener jrememoryleakpreventionlistener listener jvm current subsequent tests jvm fair add test tomcat get server getserver add lifecycle listener addlifecyclelistener jre memory leak prevention listener jrememoryleakpreventionlistener check https jira springsource org browse spr isn issue test test lookup exception testlookupexception exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments app dir relative server tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath tomcat start byte chunk bytechunk get url geturl http localhost get port getport test war dir context wardircontext jsp assert equals assertequals java lang class not found exception classnotfoundexception to string tostring additional test spr check files jndi reserved characters served caching enabled test test reserved file names with cache testreservedjndifilenameswithcache exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments app dir relative server standard context standardcontext ctxt standard context standardcontext tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath ctxt set caching allowed setcachingallowed tomcat start resources jar byte chunk bytechunk get url geturl http localhost get port getport test single quote singlequote jsp assert equals assertequals single quote singlequote jsp resources jar to string tostring file system get url geturl http localhost get port getport test single quote singlequote jsp assert equals assertequals single quote singlequote jsp file system to string tostring additional test spr check files jndi reserved characters served caching disabled test test reserved file names no cache testreservedjndifilenamesnocache exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp fragments app dir relative server standard context standardcontext ctxt standard context standardcontext tomcat add webapp addwebapp test app dir appdir get absolute path getabsolutepath ctxt set caching allowed setcachingallowed tomcat start resources jar byte chunk bytechunk get url geturl http localhost get port getport test single quote singlequote jsp assert equals assertequals single quote singlequote jsp resources jar to string tostring file system get url geturl http localhost get port getport test single quote singlequote jsp assert equals assertequals single quote singlequote jsp file system to string tostring
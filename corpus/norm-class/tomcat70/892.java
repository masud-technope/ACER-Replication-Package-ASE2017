licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes java io exception ioexception java input stream inputstream java object input stream objectinputstream java object stream class objectstreamclass java lang reflect modifier java lang reflect proxy custom subclass code object input stream objectinputstream code loads loader web application classes defined web application correctly author craig mc clanahan mcclanahan author bip the lin thelin author filip hanik replication stream replicationstream object input stream objectinputstream loader resolve classes class loader classloader class loaders classloaders construct instance custom object input stream customobjectinputstream param stream input stream read param class loaders classloaders loader array instantiate objects exception io exception ioexception input output error occurs replication stream replicationstream input stream inputstream stream class loader classloader class loaders classloaders io exception ioexception stream class loaders classloaders class loaders classloaders load local equivalent stream description loader assigned context param class desc classdesc description input stream exception class not found exception classnotfoundexception exception io exception ioexception input output error occurs override resolve class resolveclass object stream class objectstreamclass class desc classdesc class not found exception classnotfoundexception io exception ioexception string class desc classdesc get name getname resolve class resolveclass class not found exception classnotfoundexception resolve class resolveclass class desc classdesc resolve class resolveclass string class not found exception classnotfoundexception io exception ioexception try rep first tryrepfirst starts with startswith org apache catalina tribes try rep first tryrepfirst find replication class findreplicationclass find external class findexternalclass exception try rep first tryrepfirst find external class findexternalclass find replication class findreplicationclass object input stream objectinputstream resolve proxy class resolveproxyclass fun ky funky incorrect loader resolve proxy classes override resolve proxy class resolveproxyclass string interfaces io exception ioexception class not found exception classnotfoundexception class loader classloader latest loader latestloader class loaders classloaders class loaders classloaders length latest loader latestloader class loaders classloaders latest loader latestloader class loader classloader non public loader nonpublicloader has non public interface hasnonpublicinterface define proxy loader class objs classobjs interfaces length interfaces length resolve class resolveclass interfaces latest loader latestloader latest loader latestloader get class loader getclassloader get modifiers getmodifiers modifier has non public interface hasnonpublicinterface non public loader nonpublicloader get class loader getclassloader illegal access error illegalaccesserror conflicting load ers loaders non public loader nonpublicloader get class loader getclassloader has non public interface hasnonpublicinterface class objs classobjs proxy get proxy class getproxyclass has non public interface hasnonpublicinterface non public loader nonpublicloader latest loader latestloader class objs classobjs illegal argument exception illegalargumentexception class not found exception classnotfoundexception find replication class findreplicationclass string class not found exception classnotfoundexception io exception ioexception clazz for name forname get class getclass get class loader getclassloader clazz find external class findexternalclass string class not found exception classnotfoundexception class not found exception classnotfoundexception cnfe class loaders classloaders length clazz for name forname class loaders classloaders clazz class not found exception classnotfoundexception cnfe cnfe cnfe class not found exception classnotfoundexception override close io exception ioexception class loaders classloaders close
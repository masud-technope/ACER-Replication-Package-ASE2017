licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes test transport java math big decimal bigdecimal java nio channels selection key selectionkey java nio channels selector java text decimal format decimalformat java util iterator org apache catalina tribes channel org apache catalina tribes member org apache catalina tribes channel data channeldata org apache catalina tribes x byte buffer xbytebuffer org apache catalina tribes membership member impl memberimpl org apache catalina tribes transport nio nio sender niosender socket nio send socketniosend main string args exception selector selector selector selector open isn thread safe http bugs sun view bug bug fixed selector selector open member mbr member impl memberimpl localhost channel data channeldata data channel data channeldata data set options setoptions channel send options message data set address setaddress mbr buf data set message setmessage x byte buffer xbytebuffer buf buf x byte buffer xbytebuffer create data package createdatapackage data len buf length big decimal bigdecimal total big decimal bigdecimal big decimal bigdecimal bytes big decimal bigdecimal len nio sender niosender sender nio sender niosender sender set destination setdestination mbr sender set direct buffer setdirectbuffer sender set selector setselector selector sender set tx buf size settxbufsize sender connect sender set message setmessage buf system println writing start count decimal format decimalformat decimal format decimalformat count start system current time millis currenttimemillis sender set message setmessage buf selected keys selectedkeys selected keys selectedkeys selector select exception print stack trace printstacktrace selected keys selectedkeys iterator selection key selectionkey selector selected keys selectedkeys iterator has next hasnext selection key selectionkey remove ready ops readyops ready ops readyops int erest ops interestops int erest ops interestops ready ops readyops sender process total total add bytes sender reset sender set message setmessage buf len count time system current time millis currenttimemillis seconds time start system println throughput format seconds seconds total total total bytes throwable print stack trace printstacktrace selector selected keys selectedkeys clear system println complete sleeping seconds thread sleep
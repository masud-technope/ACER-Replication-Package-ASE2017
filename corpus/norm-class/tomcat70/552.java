licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina realm java io exception ioexception java input stream inputstream java security principal java util array list arraylist java util hash map hashmap java util map org apache catalina lifecycle exception lifecycleexception org apache juli logging log org apache juli logging log factory logfactory org apache tomcat util digester digester org apache tomcat util file config file loader configfileloader simple implementation realm reads xml file configure valid users pass words passwords roles file format file location identical supported tomcat strong implementation note strong assumed memory collection representing defined users roles initialized application startup modified thread synchronization performed accesses principals collection author craig mc clanahan mcclanahan memory realm memoryrealm realm base realmbase log log log factory logfactory get log getlog memory realm memoryrealm instance variables digester process memory database files digester digester descriptive realm implementation string info org apache catalina realm memory realm memoryrealm string memory realm memoryrealm pathname absolute relative catalina current working directory xml file database string pathname conf tomcat users xml valid principals realm keyed user map string generic principal genericprincipal principals hash map hashmap string generic principal genericprincipal properties descriptive realm implementation version number format code description version code override string get info getinfo info pathname xml file user definitions string get path name getpathname pathname pathname xml file user definitions relative pathname resolved catalina base param pathname pathname set path name setpathname string pathname pathname pathname methods principal username credentials code code param username username principal param credentials password credentials auth enticating authenticating username override principal authenticate string username string credentials authenticate don bother database username credentials log is debug enabled isdebugenabled log debug get string getstring memory realm memoryrealm authenticate failure authenticatefailure username generic principal genericprincipal principal principals username principal principal get password getpassword user database password w ast e waste bit time reveal user exist compare credentials comparecredentials credentials get class getclass get name getname log is debug enabled isdebugenabled log debug get string getstring memory realm memoryrealm authenticate failure authenticatefailure username validated compare credentials comparecredentials credentials principal get password getpassword validated log is debug enabled isdebugenabled log debug get string getstring memory realm memoryrealm authenticate success authenticatesuccess username principal log is debug enabled isdebugenabled log debug get string getstring memory realm memoryrealm authenticate failure authenticatefailure username methods add user memory database param username user username param password user password clear text param roles comma delimited roles user add user adduser string username string password string roles acc umulate accumulate list roles user array list arraylist string list array list arraylist string roles comma roles index of indexof comma string role roles substring comma trim list add role roles roles substring comma construct cache principal user generic principal genericprincipal principal generic principal genericprincipal username password list principals username principal methods configured code digester code processing xml input file creating digester get digester getdigester digester digester digester digester set valid ating setvalidating digester set feature setfeature http apache org xml features java encodings exception log warn get string getstring memory realm memoryrealm xml feature encoding xmlfeatureencoding digester add rule set addruleset memory rule set memoryruleset digester realm implementation override string get name getname password principal user override string get password getpassword string username generic principal genericprincipal principal principals username principal principal get password getpassword principal user override principal get principal getprincipal string username principals username returns principals realm principals keyed user string deprecated unused deprecated map string generic principal genericprincipal get principals getprincipals principals lifecycle methods prepare active methods component implement requirements link org apache catalina util lifecycle base lifecyclebase start internal startinternal exception lifecycle exception lifecycleexception component detects fatal error prevents component override start internal startinternal lifecycle exception lifecycleexception string path name pathname get path name getpathname input stream inputstream config file loader configfileloader get input stream getinputstream path name pathname load contents database file log is debug enabled isdebugenabled log debug get string getstring memory realm memoryrealm load path loadpath path name pathname digester digester get digester getdigester digester digester push digester parse exception lifecycle exception lifecycleexception get string getstring memory realm memoryrealm read xml readxml digester reset io exception ioexception ioe lifecycle exception lifecycleexception get string getstring memory realm memoryrealm load exist loadexist path name pathname ioe close io exception ioexception start internal startinternal
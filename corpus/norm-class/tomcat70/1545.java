licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket java nio byte buffer bytebuffer java util concurrent time unit timeunit javax websocket send handler sendhandler ws remote endpoint impl client wsremoteendpointimplclient ws remote endpoint impl base wsremoteendpointimplbase async channel wrapper asyncchannelwrapper channel ws remote endpoint impl client wsremoteendpointimplclient async channel wrapper asyncchannelwrapper channel channel channel override is masked ismasked override do write dowrite send handler sendhandler handler byte buffer bytebuffer data timeout get send timeout getsendtimeout timeout timeout max send handler to completion handler sendhandlertocompletionhandler send handler to completion handler sendhandlertocompletionhandler handler channel write data data length timeout time unit timeunit milliseconds illegal state exception illegalstateexception ise failed ise override do close doclose channel close
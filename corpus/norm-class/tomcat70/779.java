licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina loader java file org junit assert equals assertequals org junit assert false assertfalse org junit assert null assertnull org junit test org apache catalina core standard context standardcontext org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache naming resources file dir context filedircontext test virtual webapp loader testvirtualwebapploader tomcat base test tomcatbasetest test test modified testmodified exception webapp loader webapploader loader webapp loader webapploader assert null assertnull loader get class loader getclassloader assert false assertfalse loader modified test test start internal teststartinternal exception tomcat tomcat get tomcat instance gettomcatinstance file app dir appdir file test webapp real doc base docbase temp standard context standardcontext ctx standard context standardcontext tomcat add context addcontext app dir appdir get absolute path getabsolutepath virtual webapp loader virtualwebapploader loader virtual webapp loader virtualwebapploader loader set container setcontainer ctx ctx set loader setloader loader ctx set resources setresources file dir context filedircontext ctx resources start resourcesstart file dir file test webapp fragments web inf lib loader set virtual classpath setvirtualclasspath dir get absolute path getabsolutepath jar loader start string repos loader get repositories getrepositories assert equals assertequals repos length loader to do todo doesn remove repositories repos loader get repositories getrepositories assert equals assertequals repos length leak loader start repos loader get repositories getrepositories assert equals assertequals repos length clear loader ctx set loader setloader tear down teardown tomcat start
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina tribes tipis java io exception ioexception java serializable smarter replication object implement replicate diffs replication logic call methods order code entry is dirty isdirty entry lock diff entry get diff getdiff entry reset entry unlock code data deserialized logic called order code replicated map entry replicatedmapentry entry replicated map entry replicatedmapentry object in objectin read object readobject is backup isbackup entry is primary isprimary entry entry set owner setowner owner code author filip hanik version replicated map entry replicatedmapentry serializable object changed replication locked is dirty isdirty returns map extract diff get diff getdiff serialize entire object is diff able isdiffable returns diff sets dirty map io exception ioexception get diff getdiff io exception ioexception applies diff existing object param diff param offset param length io exception ioexception apply diff applydiff diff offset length io exception ioexception class not found exception classnotfoundexception resets current diff res ets resets dirty flag reset diff resetdiff lock serialization lock unlock serialization unlock method called object created remote map method object initialize data was n wasn param owner object set owner setowner object owner accuracy checking serialized attribute version number number inc reases increases modifications data replicated map ensure accuracy per iodic periodic basis version number data ver sioned versioned get version getversion for ces forces version replicated map entry param version set version setversion version replicate time get last time replicated getlasttimereplicated replicate time param last time replicated lasttimereplicated set last time replicated setlasttimereplicated last time replicated lasttimereplicated returns replicate object accessed is access rep licate isaccessreplicate access existing object access entry accessentry
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache coyote http java i o exception ioexception java interruptedioexception java util locale java util java util string tokenizer stringtokenizer java util concurrent atomic atomic boolean atomicboolean java util regex pattern javax servlet http http servlet response httpservletresponse org apache coyote abstract processor abstractprocessor org apache coyote action code actioncode org apache coyote async context callback asynccontextcallback org apache coyote error state errorstate org apache coyote request info requestinfo org apache coyote http filters buffered input filter bufferedinputfilter org apache coyote http filters chunked input filter chunkedinputfilter org apache coyote http filters chunked output filter chunkedoutputfilter org apache coyote http filters gzip output filter gzipoutputfilter org apache coyote http filters identity input filter identityinputfilter org apache coyote http filters identity output filter identityoutputfilter org apache coyote http filters saved request input filter savedrequestinputfilter org apache coyote http filters void input filter voidinputfilter org apache coyote http filters void output filter voidoutputfilter org apache coyote http upgrade servlet http upgrade handler httpupgradehandler org apache tomcat util exception utils exceptionutils org apache tomcat util buf ascii org apache tomcat util buf byte chunk bytechunk org apache tomcat util buf hex utils hexutils org apache tomcat util buf message bytes messagebytes org apache tomcat util http fast http date format fasthttpdateformat org apache tomcat util http mime headers mimeheaders org apache tomcat util log user data helper userdatahelper org apache tomcat util net abstract endpoint abstractendpoint org apache tomcat util net abstract endpoint abstractendpoint handler socket state socketstate org apache tomcat util net socket status socketstatus org apache tomcat util net socket wrapper socketwrapper org apache tomcat util res string manager stringmanager abstract http abstracthttp processor abstract processor abstractprocessor user data helper userdatahelper user data helper userdatahelper string manager string manager stringmanager string manager stringmanager get manager getmanager constants tracks internal filters filter library skipped pluggable filters pluggable filter index pluggablefilterindex integer max alive keep alive keepalive flag socket open alive send file open socket opensocket flag socket treat request processed alive connection data process initial flag entering process method connectors polling nio apr data expected compared blocking bio data expected connection isn alive kept alive keptalive flag send file processing progress socket returned poller poller sendfile in progress sendfileinprogress flag request headers completely read read complete readcomplete http flag http http flag http content delimiter request connection closed request content delimitation contentdelimitation expectation expectation comet comet regular expression defines restricted user agents pattern restricted user agents restricteduseragents maximum number alive requests honor max keep alive requests maxkeepaliverequests number seconds tomcat wait subsequent request closing connection keep alive timeout keepalivetimeout remote address current connection string remote addr remoteaddr remote host current connection string remote host remotehost local host current connection string local name localname local port socket connected local port localport remote port socket connected remote port remoteport local host add ress address string local addr localaddr maximum timeout uploads min utes minutes apache http d httpd server connection upload timeout connectionuploadtimeout flag disable setting time uploads disable upload timeout disableuploadtimeout allowed compression level compression level compressionlevel minimum content size compression compression min size compressionminsize socket buff ering buffering socket buffer socketbuffer max saved post size max save post size maxsavepostsize regular expression defines user agents gzip pattern no compression user agents nocompressionuseragents list mimes gzipped string compressable mime types compressablemimetypes text html text xml text plain host avoid use less useless conversion host host name c hostnamec custom ized customized server header tin foil hat folks string server listener data events passed connection completed prop rietary proprietary tomcat http upgrade process deprecated removed tomcat deprecated org apache coyote http upgrade upgrade inbound upgradeinbound upgrade inbound upgradeinbound instance protocol http connection upgrade d upgraded servlet based upgrade process http upgrade handler httpupgradehandler http upgrade handler httpupgradehandler abstract http abstracthttp processor abstract endpoint abstractendpoint endpoint endpoint user data helper userdatahelper user data helper userdatahelper get log getlog compression level set compression setcompression string compression compression equals compression level compressionlevel compression equals force compression level compressionlevel compression equals compression level compressionlevel parse compression minimum compression size compression min size compressionminsize integer parse int parseint compression compression level compressionlevel exception compression level compressionlevel minimum size trigger compression set compression min size setcompressionminsize compression min size compressionminsize compression min size compressionminsize compression min size compressionminsize compression user agent pattern regular expression supported link pattern gorilla desesplorer tigrus set no compression user agents setnocompressionuseragents string no compression user agents nocompressionuseragents no compression user agents nocompressionuseragents no compression user agents nocompressionuseragents length no compression user agents nocompressionuseragents no compression user agents nocompressionuseragents pattern compile no compression user agents nocompressionuseragents add mime type comp res sible compressible mime type string matched response mime type header param mime type mimetype mime type string add compressable mime type addcompressablemimetype string mime type mimetype compressable mime types compressablemimetypes add string array addstringarray compressable mime types compressablemimetypes mime type mimetype comp res sible compressible mime type list method large number connectors referenced single array set compressable mime types setcompressablemimetypes string compressable mime types compressablemimetypes compressable mime types compressablemimetypes compressable mime types compressablemimetypes compressable mime type list list users agents separated text html text xml text plain set compressable mime types setcompressablemimetypes string compressable mime types compressablemimetypes compressable mime types compressablemimetypes compressable mime types compressablemimetypes string tokenizer stringtokenizer string tokenizer stringtokenizer compressable mime types compressablemimetypes has more tokens hasmoretokens add compressable mime type addcompressablemimetype next token nexttoken trim compression level string get compression getcompression compression level compressionlevel force general method param s array sarray string array stringarray param string string add string array addstringarray string s array sarray string string result s array sarray result string result result string s array sarray length s array sarray length result s array sarray result s array sarray length result checks entry string array starts param s array sarray string array stringarray param string starts with string array startswithstringarray string s array sarray string s array sarray length starts with startswith s array sarray restricted user agent list down grade downgrade connector http mode regular expression supported link pattern gorilla desesplorer tigrus set restricted user agents setrestricteduseragents string restricted user agents restricteduseragents restricted user agents restricteduseragents restricted user agents restricteduseragents length restricted user agents restricteduseragents restricted user agents restricteduseragents pattern compile restricted user agents restricteduseragents maximum number alive requests honor safe guard safeguard do s dos att acks attacks setting negative disables check set max keep alive requests setmaxkeepaliverequests mkar max keep alive requests maxkeepaliverequests mkar number alive requests honor get max keep alive requests getmaxkeepaliverequests max keep alive requests maxkeepaliverequests alive timeout set keep alive timeout setkeepalivetimeout timeout keep alive timeout keepalivetimeout timeout number alive timeout get keep alive timeout getkeepalivetimeout keep alive timeout keepalivetimeout maximum size post buf fered buffered ssl mode set max save post size setmaxsavepostsize msps max save post size maxsavepostsize msps maximum size post buf fered buffered ssl mode get max save post size getmaxsavepostsize max save post size maxsavepostsize flag control upload time outs set disable upload timeout setdisableuploadtimeout is disabled isdisabled disable upload timeout disableuploadtimeout is disabled isdisabled flag controls upload time outs get disable upload timeout getdisableuploadtimeout disable upload timeout disableuploadtimeout socket buffer flag set socket buffer setsocketbuffer socket buffer socketbuffer socket buffer socketbuffer socket buffer socketbuffer socket buffer flag get socket buffer getsocketbuffer socket buffer socketbuffer upload timeout set connection upload timeout setconnectionuploadtimeout timeout connection upload timeout connectionuploadtimeout timeout upload timeout get connection upload timeout getconnectionuploadtimeout connection upload timeout connectionuploadtimeout server header set server setserver string server server server equals server server server server header string get server getserver server check resource comp res sed compressed client supports is compressable iscompressable check content gzipped message bytes messagebytes content encoding b contentencodingmb response get mime headers getmimeheaders get value getvalue content encoding content encoding b contentencodingmb content encoding b contentencodingmb index of indexof gzip force mode comp ress compress test purposes compression level compressionlevel check sufficient length trigger compression content length contentlength response get content length long getcontentlengthlong content length contentlength content length contentlength compression min size compressionminsize check compatible mime type compressable mime types compressablemimetypes starts with string array startswithstringarray compressable mime types compressablemimetypes response get content type getcontenttype check compression resource checked resource comp res sed compressed client supports use compression usecompression check browser support gzip encoding message bytes messagebytes accept encoding b acceptencodingmb request get mime headers getmimeheaders get value getvalue accept encoding accept encoding b acceptencodingmb accept encoding b acceptencodingmb index of indexof gzip force mode comp ress compress test purposes compression level compressionlevel check incompatible browser no compression user agents nocompressionuseragents message bytes messagebytes user agent value b useragentvaluemb request get mime headers getmimeheaders get value getvalue user agent user agent value b useragentvaluemb string user agent value useragentvalue user agent value b useragentvaluemb to string tostring no compression user agents nocompressionuseragents matcher user agent value useragentvalue matches special ized specialized utility method find sequence bytes byte chunk bytechunk find bytes findbytes byte chunk bytechunk buf f buff get buffer getbuffer start get start getstart get end getend src end srcend length start src end srcend ascii to lower tolower buf f buff match my pos mypos src pos srcpos src pos srcpos src end srcend ascii to lower tolower buf f buff my pos mypos src pos srcpos src pos srcpos src end srcend start determine drop connection http status code list codes apache http d httpd status drops connection statusdropsconnection status status bad request status request timeout status length required status request entity large status request uri status internal server error status service unavailable status exposes input buffer code input buffer processor abstract input buffer abstractinputbuffer get input buffer getinputbuffer exposes output buffer code output buffer processor abstract output buffer abstractoutputbuffer get output buffer getoutputbuffer initialize standard input output filters initialize filters initializefilters max trailer size maxtrailersize string allowed trailer headers allowedtrailerheaders max extension size maxextensionsize max swallow size maxswallowsize create add identity filters get input buffer getinputbuffer add filter addfilter identity input filter identityinputfilter max swallow size maxswallowsize get output buffer getoutputbuffer add filter addfilter identity output filter identityoutputfilter create add chunked filters get input buffer getinputbuffer add filter addfilter chunked input filter chunkedinputfilter max trailer size maxtrailersize allowed trailer headers allowedtrailerheaders max extension size maxextensionsize max swallow size maxswallowsize get output buffer getoutputbuffer add filter addfilter chunked output filter chunkedoutputfilter create add filters get input buffer getinputbuffer add filter addfilter void input filter voidinputfilter get output buffer getoutputbuffer add filter addfilter void output filter voidoutputfilter create add buf fered buffered input filter get input buffer getinputbuffer add filter addfilter buffered input filter bufferedinputfilter create add chunked filters get input buffer getinputbuffer add filter addfilter gzip input filter gzipinputfilter get output buffer getoutputbuffer add filter addfilter gzip output filter gzipoutputfilter pluggable filter index pluggablefilterindex get input buffer getinputbuffer get filters getfilters length add input filter current request encoding supported response returned client add input filter addinputfilter input filter inputfilter input filters inputfilters string encoding name encodingname trim encoding convert transfer encoding names insensitive rfc encoding name encodingname encoding name encodingname trim to lower case tolowercase locale english encoding name encodingname equals identity skip encoding name encodingname equals chunked get input buffer getinputbuffer add active filter addactivefilter input filters inputfilters constants chunked filter content delimitation contentdelimitation pluggable filter index pluggablefilterindex input filters inputfilters length input filters inputfilters get encoding name getencodingname to string tostring equals encoding name encodingname get input buffer getinputbuffer add active filter addactivefilter input filters inputfilters unsupported transfer encoding unimplemented response set status setstatus set error state seterrorstate error state errorstate close clean get log getlog is debug enabled isdebugenabled get log getlog debug get string getstring http processor request prepare unsupported transfer encoding encoding name encodingname send action connector param action code actioncode type action param param action parameter override inbound outbound based upgrade mechanism suppress warnings suppresswarnings deprecation action action code actioncode action code actioncode object param action code actioncode close processing current request get output buffer getoutputbuffer end request endrequest i o exception ioexception set error state seterrorstate error state errorstate close c ommit commit commit current response response is committed iscommitted validate write response headers prepare response prepareresponse get output buffer getoutputbuffer commit i o exception ioexception set error state seterrorstate error state errorstate close ack client expectation response is committed iscommitted expectation get input buffer getinputbuffer set swallow input setswallowinput get output buffer getoutputbuffer send ack sendack i o exception ioexception set error state seterrorstate error state errorstate close client flush get output buffer getoutputbuffer flush i o exception ioexception set error state seterrorstate error state errorstate close response set error exception seterrorexception error atomic boolean atomicboolean param get error state geterrorstate is error iserror disable swallow input swallow request input closing connection set error state seterrorstate error state errorstate close clean get input buffer getinputbuffer set swallow input setswallowinput reset note called response committed get output buffer getoutputbuffer reset custom todo remove action req body replay byte chunk bytechunk body byte chunk bytechunk param input filter inputfilter saved body savedbody saved request input filter savedrequestinputfilter body saved body savedbody set request setrequest request suppress warnings suppresswarnings unchecked abstract input buffer abstractinputbuffer internal buffer internalbuffer abstract input buffer abstractinputbuffer request get input buffer getinputbuffer internal buffer internalbuffer add active filter addactivefilter saved body savedbody async start async state machine asyncstatemachine async start asyncstart async context callback asynccontextcallback param async time based socket wrapper socketwrapper access time get socket wrapper getsocketwrapper access async dispatched async state machine asyncstatemachine async dispatched asyncdispatched async timeout atomic boolean atomicboolean result atomic boolean atomicboolean param result async state machine asyncstatemachine async timeout asynctimeout async async state machine asyncstatemachine async run asyncrun runnable param async error async state machine asyncstatemachine async error asyncerror async started atomic boolean atomicboolean param async state machine asyncstatemachine is async started isasyncstarted async c ompleting completing atomic boolean atomicboolean param async state machine asyncstatemachine is comp leting iscompleting async dispatching atomic boolean atomicboolean param async state machine asyncstatemachine is async dispatching isasyncdispatching async async atomic boolean atomicboolean param async state machine asyncstatemachine is async isasync async timingout atomic boolean atomicboolean param async state machine asyncstatemachine is async timing out isasynctimingout async error atomic boolean atomicboolean param async state machine asyncstatemachine is async error isasyncerror upgrade tomcat upgrade inbound upgradeinbound org apache coyote http upgrade upgrade inbound upgradeinbound param http output get output buffer getoutputbuffer finished async post process async state machine asyncstatemachine async post process asyncpostprocess upgrade http upgrade handler httpupgradehandler http upgrade handler httpupgradehandler param http output get output buffer getoutputbuffer finished close block output get output buffer getoutputbuffer finished set error state seterrorstate error state errorstate close request end request endrequest action internal actioninternal action code actioncode param action internal actioninternal action code actioncode action code actioncode object param processors http bio elect disable http alive circumstances method processor implementation determine alive disabled disable keep alive disablekeepalive config ures configures timeout reading request set request line read timeout setrequestlinereadtimeout i o exception ioexception defines connector handles incomplete request read code code processor processing loop code code handle inc omplete request line read handleincompleterequestlineread socket timeout set socket timeout setsockettimeout timeout i o exception ioexception process pipeline d pipelined http requests input output str eams streams param socket wrapper socketwrapper socket http requests read http resp onses responses written i o exception ioexception error operation override socket state socketstate process socket wrapper socketwrapper socket wrapper socketwrapper i o exception ioexception request info requestinfo request get request processor getrequestprocessor set s tag e setstage org apache coyote constants stage parse setting set socket wrapper setsocketwrapper socket wrapper socketwrapper get input buffer getinputbuffer init socket wrapper socketwrapper endpoint get output buffer getoutputbuffer init socket wrapper socketwrapper endpoint flags keep alive keepalive comet open socket opensocket sendfile in progress sendfileinprogress read complete readcomplete endpoint get use polling getusepolling kept alive keptalive kept alive keptalive socket wrapper socketwrapper is kept alive iskeptalive disable keep alive disablekeepalive socket wrapper socketwrapper set keep alive left setkeepaliveleft get error state geterrorstate is error iserror keep alive keepalive comet is async isasync upgrade inbound upgradeinbound http upgrade handler httpupgradehandler endpoint is paused ispaused parsing request header set request line read timeout setrequestlinereadtimeout get input buffer getinputbuffer parse request line parserequestline kept alive keptalive handle inc omplete request line read handleincompleterequestlineread endpoint is paused ispaused service unavailable response set status setstatus set error state seterrorstate error state errorstate close clean kept alive keptalive time limit changed jmx request get mime headers getmimeheaders set limit setlimit endpoint get max header count getmaxheadercount request get cookies getcookies set limit setlimit get max cookie count getmaxcookiecount nio get input buffer getinputbuffer parse headers parseheaders read request don recycle associate socket open socket opensocket read complete readcomplete disable upload timeout disableuploadtimeout set socket timeout setsockettimeout connection upload timeout connectionuploadtimeout i o exception ioexception get log getlog is debug enabled isdebugenabled get log getlog debug get string getstring http processor header parse set error state seterrorstate error state errorstate close throwable exception utils exceptionutils handle throwable handlethrowable user data helper userdatahelper mode log mode logmode user data helper userdatahelper get next mode getnextmode log mode logmode string message get string getstring http processor header parse log mode logmode info debug message get string getstring http processor fall to debug falltodebug info get log getlog info message debug get log getlog debug message response set status setstatus set error state seterrorstate error state errorstate close clean get adapter getadapter log request response get error state geterrorstate is error iserror setting filters parse request headers set s tag e setstage org apache coyote constants stage prepare prepare request preparerequest throwable exception utils exceptionutils handle throwable handlethrowable get log getlog is debug enabled isdebugenabled get log getlog debug get string getstring http processor request prepare response set status setstatus set error state seterrorstate error state errorstate close clean get adapter getadapter log request response max keep alive requests maxkeepaliverequests keep alive keepalive max keep alive requests maxkeepaliverequests socket wrapper socketwrapper decrement keep alive decrementkeepalive keep alive keepalive process request adapter get error state geterrorstate is error iserror set s tag e setstage org apache coyote constants stage service adapter service request response committed headers keep alive keepalive get error state geterrorstate is error iserror response get error exception geterrorexception is async isasync status drops connection statusdropsconnection response get status getstatus set error state seterrorstate error state errorstate close clean set comet time outs setcomettimeouts socket wrapper socketwrapper interruptedioexception set error state seterrorstate error state errorstate close headers too l arg e exception headerstoolargeexception response is committed iscommitted set error state seterrorstate error state errorstate close response reset response set status setstatus set error state seterrorstate error state errorstate close clean response set header setheader connection close throwable exception utils exceptionutils handle throwable handlethrowable get log getlog error get string getstring http processor request process response set status setstatus set error state seterrorstate error state errorstate close clean get adapter getadapter log request response finish handling request set s tag e setstage org apache coyote constants stage end input endinput is async isasync comet get error state geterrorstate is error iserror closing connection don drain input uploading file doesn tie thread servlet rejected get input buffer getinputbuffer set swallow input setswallowinput check response committed error requires connection closed occurred check expectation and response status checkexpectationandresponsestatus end request endrequest set s tag e setstage org apache coyote constants stage end output endoutput error update statistics counter get error state geterrorstate is error iserror response set status setstatus request update count ers updatecounters is async isasync comet get error state geterrorstate is error iserror get error state geterrorstate is io allowed isioallowed get input buffer getinputbuffer next request nextrequest get output buffer getoutputbuffer next request nextrequest disable upload timeout disableuploadtimeout endpoint get s o timeout getsotimeout set socket timeout setsockettimeout endpoint get s o timeout getsotimeout set socket timeout setsockettimeout set s tag e setstage org apache coyote constants stage keepalive break keep alive loop breakkeepaliveloop socket wrapper socketwrapper set s tag e setstage org apache coyote constants stage ended get error state geterrorstate is error iserror endpoint is paused ispaused socket state socketstate closed is async isasync comet socket state socketstate is upgrade isupgrade socket state socketstate upgrading get upgrade inbound getupgradeinbound socket state socketstate upgrading tomcat sendfile in progress sendfileinprogress socket state socketstate sendfile open socket opensocket read complete readcomplete socket state socketstate open socket state socketstate socket state socketstate closed check expectation and response status checkexpectationandresponsestatus expectation response get status getstatus response get status getstatus client expect received response disable alive enabled ensure connection closed clients send body send request different iate differentiate close connection force client send request get input buffer getinputbuffer set swallow input setswallowinput keep alive keepalive reading request headers setup request filters prepare request preparerequest http http content delimitation contentdelimitation expectation prepare request internal preparerequestinternal endpoint issslenabled request scheme set string setstring https message bytes messagebytes protocolmb request protocol protocolmb equals constants http http protocolmb set string setstring constants http protocolmb equals constants http http keep alive keepalive protocolmb set string setstring constants http protocolmb equals http http http keep alive keepalive unsupported protocol http send unsupported http version response set status setstatus set error state seterrorstate error state errorstate close clean get log getlog is debug enabled isdebugenabled get log getlog debug get string getstring http processor request prepare unsupported http version protocolmb message bytes messagebytes methodmb request method methodmb equals constants methodmb set string setstring constants methodmb equals constants post methodmb set string setstring constants post mime headers mimeheaders headers request get mime headers getmimeheaders check connection header message bytes messagebytes connection value b connectionvaluemb headers get value getvalue constants connection connection value b connectionvaluemb byte chunk bytechunk connection value c connectionvaluebc connection value b connectionvaluemb get byte chunk getbytechunk find bytes findbytes connection value c connectionvaluebc constants close bytes keep alive keepalive find bytes findbytes connection value c connectionvaluebc constants keepalive bytes keep alive keepalive message bytes messagebytes expectmb http expectmb headers get value getvalue expect expectmb expectmb index of ignore case indexofignorecase get input buffer getinputbuffer set swallow input setswallowinput expectation response set status setstatus http servlet response httpservletresponse expectation failed set error state seterrorstate error state errorstate close clean check user agent header restricted user agents restricteduseragents http keep alive keepalive message bytes messagebytes user agent value b useragentvaluemb headers get value getvalue user agent keep alive keepalive flags user agent value b useragentvaluemb string user agent value useragentvalue user agent value b useragentvaluemb to string tostring restricted user agents restricteduseragents matcher user agent value useragentvalue matches http keep alive keepalive check full uri including protocol host port byte chunk bytechunk uribc request requesturi get byte chunk getbytechunk uribc starts with ignore case startswithignorecase http pos uribc index of indexof uribcstart uribc get start getstart slash pos slashpos pos uri b urib uribc get bytes getbytes slash pos slashpos uribc index of indexof pos slash pos slashpos slash pos slashpos uribc get length getlength uri request requesturi set bytes setbytes uri b urib uribcstart pos request requesturi set bytes setbytes uri b urib uribcstart slash pos slashpos uribc get length getlength slash pos slashpos message bytes messagebytes hostmb headers set value setvalue host hostmb set bytes setbytes uri b urib uribcstart pos slash pos slashpos pos input filter setup input filter inputfilter input filters inputfilters get input buffer getinputbuffer get filters getfilters parse transfer encoding header message bytes messagebytes transfer encoding value b transferencodingvaluemb http transfer encoding value b transferencodingvaluemb headers get value getvalue transfer encoding transfer encoding value b transferencodingvaluemb string transfer encoding value transferencodingvalue transfer encoding value b transferencodingvaluemb to string tostring parse comma separated list identity codings start pos startpos comma pos commapos transfer encoding value transferencodingvalue index of indexof string encoding name encodingname comma pos commapos encoding name encodingname transfer encoding value transferencodingvalue substring start pos startpos comma pos commapos add input filter addinputfilter input filters inputfilters encoding name encodingname start pos startpos comma pos commapos comma pos commapos transfer encoding value transferencodingvalue index of indexof start pos startpos encoding name encodingname transfer encoding value transferencodingvalue substring start pos startpos add input filter addinputfilter input filters inputfilters encoding name encodingname parse content length header content length contentlength request get content length long getcontentlengthlong content length contentlength content delimitation contentdelimitation content delimitation contentdelimitation point chunked encoding chunked encoding content length rfc bullet content length remove headers remove header removeheader content length request set content length setcontentlength get input buffer getinputbuffer add active filter addactivefilter input filters inputfilters constants identity filter content delimitation contentdelimitation message bytes messagebytes valuemb headers get value getvalue host check host header http valuemb bad request response set status setstatus set error state seterrorstate error state errorstate close clean get log getlog is debug enabled isdebugenabled get log getlog debug get string getstring http processor request prepare host header missing parse host parsehost valuemb content delimitation contentdelimitation content length broken http http assume client broken didn send body get input buffer getinputbuffer add active filter addactivefilter input filters inputfilters constants filter content delimitation contentdelimitation advertise sendfile support request attribute endpoint get use sendfile getusesendfile request set attribute setattribute org apache coyote constants sendfile supported attr advertise comet support request attribute endpoint get use comet getusecomet request set attribute setattribute org apache coyote constants comet supported attr advertise comet timeout support endpoint get use comet timeout getusecomettimeout request set attribute setattribute org apache coyote constants comet timeout supported attr get error state geterrorstate is error iserror adapter log request response connector implementation specific request preparation ideally prepare request internal preparerequestinternal commit ting committing response validate headers setup response filters prepare response prepareresponse entity body entitybody content delimitation contentdelimitation output filter outputfilter output filters outputfilters get output buffer getoutputbuffer get filters getfilters http http get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants identity filter status code statuscode response get status getstatus status code statuscode status code statuscode status code statuscode status code statuscode entity body get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants filter entity body entitybody content delimitation contentdelimitation message bytes messagebytes methodmb request method methodmb equals head entity body get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants filter content delimitation contentdelimitation sendfile support sending with sendfile sendingwithsendfile get endpoint getendpoint get use sendfile getusesendfile sending with sendfile sendingwithsendfile prepare sendfile preparesendfile output filters outputfilters check compression is compressable iscompressable use compression usecompression entity body entitybody compression level compressionlevel sending with sendfile sendingwithsendfile is compressable iscompressable is compressable iscompressable is compressable iscompressable use compression usecompression use compression usecompression change content length force chunking use compression usecompression response set content length setcontentlength mime headers mimeheaders headers response get mime headers getmimeheaders entity body entitybody response set content length setcontentlength content response include entity headers entity body entitybody status code statuscode string content type contenttype response get content type getcontenttype content type contenttype headers set value setvalue content type set string setstring content type contenttype string content language contentlanguage response get content language getcontentlanguage content language contentlanguage headers set value setvalue content language set string setstring content language contentlanguage content length contentlength response get content length long getcontentlengthlong connection close present connectionclosepresent content length contentlength headers set value setvalue content length set long setlong content length contentlength get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants identity filter content delimitation contentdelimitation response code supports entity body http chunk connection close header connection close present connectionclosepresent is connection close isconnectionclose headers entity body entitybody http connection close present connectionclosepresent get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants chunked filter content delimitation contentdelimitation headers add value addvalue constants transferencoding set string setstring constants chunked get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants identity filter use compression usecompression get output buffer getoutputbuffer add active filter addactivefilter output filters outputfilters constants gzip filter headers set value setvalue content encoding set string setstring gzip comp res sed compressed vary header is compressable iscompressable proxies happy vary mod def late deflate message bytes messagebytes vary headers get value getvalue vary vary add vary header headers set value setvalue vary set string setstring accept encoding vary equals action required merge current header headers set value setvalue vary set string setstring vary get string getstring accept encoding caching filter headers get value getvalue headers set value setvalue set string setstring fast http date format fasthttpdateformat get current date getcurrentdate entity body entitybody content delimitation contentdelimitation mark close connection request add connection close header keep alive keepalive disabled alive check working connection header check expectation and response status checkexpectationandresponsestatus request bad early add connection close header keep alive keepalive keep alive keepalive status drops connection statusdropsconnection status code statuscode keep alive keepalive avoid adding close header connection close present connectionclosepresent headers add value addvalue constants connection set string setstring constants close http get error state geterrorstate is error iserror headers add value addvalue constants connection set string setstring constants keepalive build response header get output buffer getoutputbuffer send status sendstatus add server header server overrides app headers set value setvalue server set string setstring server headers get value getvalue server app didn header get output buffer getoutputbuffer write constants server bytes size headers size size get output buffer getoutputbuffer send header sendheader headers get name getname headers get value getvalue get output buffer getoutputbuffer end headers endheaders is connection close isconnectionclose mime headers mimeheaders headers message bytes messagebytes connection headers get value getvalue constants connection connection connection equals constants close prepare sendfile preparesendfile output filter outputfilter output filters outputfilters parse host parse host parsehost message bytes messagebytes valuemb valuemb valuemb is null isnull http host header port info endpoint host lazily socket required action code actioncode req local attribute request set server port setserverport endpoint get port getport byte chunk bytechunk valuebc valuemb get byte chunk getbytechunk value b valueb valuebc get bytes getbytes value l valuel valuebc get length getlength value s values valuebc get start getstart colon pos colonpos host name c hostnamec length value l valuel host name c hostnamec value l valuel ipv value b valueb value s values bracket closed bracketclosed value l valuel value b valueb value s values host name c hostnamec bracket closed bracketclosed ipv bracket closed bracketclosed colon pos colonpos colon pos colonpos endpoint issslenabled http port request set server port setserverport https port request set server port setserverport request server name servername set chars setchars host name c hostnamec value l valuel request server name servername set chars setchars host name c hostnamec colon pos colonpos port mult value l valuel colon pos colonpos char value charvalue hex utils hexutils get dec getdec value b valueb value s values char value charvalue char value charvalue invalid character bad request response set status setstatus set error state seterrorstate error state errorstate close clean port port char value charvalue mult mult mult request set server port setserverport port override socket state socketstate async dispatch asyncdispatch socket status socketstatus status request info requestinfo request get request processor getrequestprocessor set s tag e setstage org apache coyote constants stage service get adapter getadapter async dispatch asyncdispatch request response status set error state seterrorstate error state errorstate close reset time outs resettimeouts interruptedioexception set error state seterrorstate error state errorstate close throwable exception utils exceptionutils handle throwable handlethrowable set error state seterrorstate error state errorstate close get log getlog error get string getstring http processor request process get error state geterrorstate is error iserror internal server error response set status setstatus adapter log request response set s tag e setstage org apache coyote constants stage ended get error state geterrorstate is error iserror socket state socketstate closed is async isasync socket state socketstate keep alive keepalive socket state socketstate closed end request endrequest get input buffer getinputbuffer next request nextrequest get output buffer getoutputbuffer next request nextrequest socket state socketstate open override is comet iscomet comet override socket state socketstate upgrade dispatch upgradedispatch i o exception ioexception reach code i o exception ioexception get string getstring http processor upgrade deprecated removed tomcat deprecated override org apache coyote http upgrade upgrade inbound upgradeinbound get upgrade inbound getupgradeinbound upgrade inbound upgradeinbound override is upgrade isupgrade http upgrade handler httpupgradehandler override socket state socketstate upgrade dispatch upgradedispatch socket status socketstatus status i o exception ioexception reach code i o exception ioexception get string getstring ajpprocessor http upgrade httpupgrade not supported notsupported override http upgrade handler httpupgradehandler get http upgrade handler gethttpupgradehandler http upgrade handler httpupgradehandler mechanism connector implementations nio reset time outs timeouts async time outs timeouts standard http time outs timeouts async processing comp letes completes reset time outs resettimeouts mechanism connectors nio comet time outs timeouts set comet time outs setcomettimeouts socket wrapper socketwrapper socket wrapper socketwrapper end request endrequest finish handling request get error state geterrorstate is io allowed isioallowed get input buffer getinputbuffer end request endrequest i o exception ioexception set error state seterrorstate error state errorstate close throwable exception utils exceptionutils handle throwable handlethrowable response set status setstatus set error state seterrorstate error state errorstate close get log getlog error get string getstring http processor request finish get error state geterrorstate is io allowed isioallowed get output buffer getoutputbuffer end request endrequest i o exception ioexception set error state seterrorstate error state errorstate close throwable exception utils exceptionutils handle throwable handlethrowable set error state seterrorstate error state errorstate close get log getlog error get string getstring http processor response finish checks alive loop broken performing processing sendfile handling impact alive loop broken alive loop broken break keep alive loop breakkeepaliveloop socket wrapper socketwrapper socket wrapper socketwrapper override recycle is socket closing issocketclosing get adapter getadapter check recycled checkrecycled request response get input buffer getinputbuffer get input buffer getinputbuffer recycle get output buffer getoutputbuffer get output buffer getoutputbuffer recycle async state machine asyncstatemachine async state machine asyncstatemachine recycle upgrade inbound upgradeinbound http upgrade handler httpupgradehandler remote addr remoteaddr remote host remotehost local addr localaddr local name localname remote port remoteport local port localport comet reset error state reseterrorstate recycle internal recycleinternal recycle internal recycleinternal
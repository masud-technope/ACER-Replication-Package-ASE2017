licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache catalina connector java io exception ioexception java writer java security access controller accesscontroller java security privileged action exception privilegedactionexception java security privileged exception action privilegedexceptionaction java util concurrent concurrent hash map concurrenthashmap javax servlet http http servlet response httpservletresponse org apache catalina globals org apache coyote action code actioncode org apache coyote response org apache tomcat util buf byte chunk bytechunk org apache tomcat util buf b converter bconverter org apache tomcat util buf char chunk charchunk buffer tomcat response derivative tomcat output buffer outputbuffer removal handling coyote processor resp onsibility responsibility author costin manolache author remy maucherat output buffer outputbuffer writer byte chunk bytechunk byte output channel byteoutputchannel char chunk charchunk char output channel charoutputchannel constants string encoding org apache coyote constants character encoding buffer size instance variables buffer byte chunk bytechunk chunk buffer char chunk charchunk output buffer initial number bytes written bytes written byteswritten number chars written chars written charswritten flag output buffer closed closed flush operation do flush doflush chunk output bytes byte chunk bytechunk output chunk outputchunk byte chunk bytechunk chunk output chars char chunk charchunk output char chunk outputcharchunk char chunk charchunk encoding string enc encoder got enc gotenc list encoders concurrent hash map concurrenthashmap string b converter bconverter encoders concurrent hash map concurrenthashmap string b converter bconverter current converter b converter bconverter conv coyote response response coyote response coyoteresponse suspended flag output bytes swallowed suspended constructor all ocate allocate buffer buffer size output buffer outputbuffer buffer size alternate constructor initial buffer size param size buffer size output buffer outputbuffer size byte chunk bytechunk size set limit setlimit size set byte output channel setbyteoutputchannel char chunk charchunk size set limit setlimit size set optimized write setoptimizedwrite set char output channel setcharoutputchannel properties coyote response param coyote response coyoteresponse coyote response set response setresponse response coyote response coyoteresponse coyote response coyoteresponse coyote response coyoteresponse coyote response coyote response deprecated response get response getresponse coyote response coyoteresponse response output suspended suspended flag is suspended issuspended suspended suspended flag param suspended suspended flag set suspended setsuspended suspended suspended suspended response output closed closed flag is closed isclosed closed methods recycle output buffer recycle initial bytes written byteswritten chars written charswritten recycle recycle output char chunk outputcharchunk set chars setchars closed suspended do flush doflush conv conv recycle got enc gotenc enc clear cached encoders save memory comet requests clear encode rs clearencoders encoders clear close output buffer calculate response size response committed io exception ioexception underlying io exception ioexception occurred override close io exception ioexception closed suspended calculate content length fits buffer get length getlength flush buffer flushbuffer coyote response coyoteresponse is committed iscommitted coyote response coyoteresponse get content length long getcontentlengthlong coyote response coyoteresponse get request getrequest method equals head length response coyote response coyoteresponse is committed iscommitted coyote response coyoteresponse set content length setcontentlength get length getlength coyote response coyoteresponse get status getstatus http servlet response httpservletresponse switching protocols do flush doflush do flush doflush closed request completely read time response closed reads input point less pointless conf use confuse ajp bug close input buffer prevent request req request coyote response coyoteresponse get request getrequest get note getnote coyote adapter coyoteadapter adapter notes req input buffer inputbuffer close coyote response coyoteresponse finish flush bytes chars contained buffer io exception ioexception underlying io exception ioexception occurred override flush io exception ioexception do flush doflush flush bytes chars contained buffer io exception ioexception underlying io exception ioexception occurred do flush doflush real flush realflush io exception ioexception suspended do flush doflush initial coyote response coyoteresponse send headers sendheaders initial get length getlength flush buffer flushbuffer get length getlength flush buffer flushbuffer do flush doflush real flush realflush coyote response coyoteresponse action action code actioncode client flush notify servlet ioe coyote response coyoteresponse is exception present isexceptionpresent client abort exception clientabortexception coyote response coyoteresponse get error exception geterrorexception bytes handling methods s ends sends buffer data client output checking response calling int erceptors interceptors param buf buffer written response param offset param cnt length io exception ioexception underlying io exception ioexception occurred override real write bytes realwritebytes buf cnt io exception ioexception closed coyote response coyoteresponse write cnt real write adapter output chunk outputchunk set bytes setbytes buf cnt coyote response coyoteresponse do write dowrite output chunk outputchunk io exception ioexception client abort exception clientabortexception write len io exception ioexception suspended write bytes writebytes len write bytes writebytes len io exception ioexception closed append len bytes written byteswritten len remaining bytes do flush doflush flush buffer flushbuffer write byte writebyte io exception ioexception suspended append bytes written byteswritten chars handling methods convert chars bytes send data client param buf buffer written response param offset param len length io exception ioexception underlying io exception ioexception occurred override real write chars realwritechars buf len io exception ioexception output char chunk outputcharchunk set chars setchars buf len output char chunk outputcharchunk get length getlength conv convert output char chunk outputcharchunk get length getlength loop chars needed produce output output char chunk outputcharchunk get length getlength get buffer getbuffer length get end getend get length getlength get limit getlimit expand output buffer make space makespace output char chunk outputcharchunk get length getlength flush buffer flushbuffer override write io exception ioexception suspended append chars written charswritten override write io exception ioexception suspended write length override write len io exception ioexception suspended append len chars written charswritten len append string buffer override write string len io exception ioexception suspended chars written charswritten len append len chars written charswritten len override write string io exception ioexception suspended append chars written charswritten length set encoding setencoding string enc check converter checkconverter io exception ioexception got enc gotenc set converter setconverter set converter setconverter io exception ioexception coyote response coyoteresponse enc coyote response coyoteresponse get character encoding getcharacterencoding got enc gotenc enc enc encoding conv encoders enc conv globals security enabled conv access controller accesscontroller do privileged doprivileged privileged exception action privilegedexceptionaction b converter bconverter override b converter bconverter io exception ioexception b converter bconverter enc privileged action exception privilegedactionexception exception get exception getexception io exception ioexception io exception ioexception conv b converter bconverter enc encoders enc conv buffered output stream bufferedoutputstream compatibility get content written getcontentwritten bytes written byteswritten chars written charswritten buffer has n hasn recycle chars bytes buffer is new isnew bytes written byteswritten chars written charswritten set buffer size setbuffersize size size get limit getlimit set limit setlimit size reset reset reset reset writer stream flags resetwriterstreamflags recycle recycle bytes written byteswritten chars written charswritten reset writer stream flags resetwriterstreamflags got enc gotenc enc initial get buffer size getbuffersize get limit getlimit
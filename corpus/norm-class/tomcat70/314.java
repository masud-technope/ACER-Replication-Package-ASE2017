licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc pool jmx author filip hanik java util properties java util concurrent concurrent linked queue concurrentlinkedqueue java util concurrent atomic atomic integer atomicinteger javax management m bean notification info mbeannotificationinfo javax management notification javax management notification broadcaster support notificationbroadcastersupport javax management notification listener notificationlistener org apache juli logging log org apache juli logging log factory logfactory org apache tomcat jdbc pool pool configuration poolconfiguration org apache tomcat jdbc pool pool properties poolproperties interceptor definition interceptordefinition org apache tomcat jdbc pool pool utilities poolutilities org apache tomcat jdbc pool validator connection pool connectionpool notification broadcaster support notificationbroadcastersupport connection pool bean connectionpoolmbean logger log log log factory logfactory get log getlog connection pool connectionpool connection pool org apache tomcat jdbc pool connection pool connectionpool pool sequence jmx not ifications notifications atomic integer atomicinteger sequence atomic integer atomicinteger listeners local int erested interested not ifications notifications jmx concurrent linked queue concurrentlinkedqueue notification listener notificationlistener listeners concurrent linked queue concurrentlinkedqueue notification listener notificationlistener connection pool connectionpool org apache tomcat jdbc pool connection pool connectionpool pool pool pool org apache tomcat jdbc pool connection pool connectionpool get pool getpool pool pool configuration poolconfiguration get pool properties getpoolproperties pool get pool properties getpoolproperties notification info string notify init init failed string notify connect connection failed string notify abandon connection abandoned string slow query notification slow query string failed query notification failed query string suspect abandoned notification suspect connetion abandoned string pool empty pool empty override m bean notification info mbeannotificationinfo get notification info getnotificationinfo m bean notification info mbeannotificationinfo pres get notification info getnotificationinfo m bean notification info mbeannotificationinfo loc get default notification info getdefaultnotificationinfo m bean notification info mbeannotificationinfo aug m bean notification info mbeannotificationinfo pres length loc length pres length system arraycopy pres aug pres length loc length system arraycopy loc aug pres length loc length aug m bean notification info mbeannotificationinfo get default notification info getdefaultnotificationinfo string types string notify init notify connect notify abandon slow query notification failed query notification suspect abandoned notification string notification get name getname string description connection pool error condition met m bean notification info mbeannotificationinfo info m bean notification info mbeannotificationinfo types description m bean notification info mbeannotificationinfo info not ification notification param type param message not ification notification succeeded notify string type string message notification notification type sequence increment and get incrementandget system current time millis currenttimemillis type message send notification sendnotification notification listener notificationlistener listener listeners listener handle notification handlenotification exception log is debug enabled isdebugenabled log debug notify failed type type message message add listener addlistener notification listener notificationlistener list listeners add list remove listener removelistener notification listener notificationlistener list listeners remove list pool stats override get size getsize pool get size getsize override get idle getidle pool get idle getidle override get active getactive pool get active getactive override get num idle getnumidle get idle getidle override get num active getnumactive get active getactive override get wait count getwaitcount pool get wait count getwaitcount pool operations override check idle checkidle pool check idle checkidle override check abandoned checkabandoned pool check abandoned checkabandoned override test idle testidle pool test all idle testallidle pool properties properties configuration override string get connection properties getconnectionproperties get pool properties getpoolproperties get connection properties getconnectionproperties override properties get db properties getdbproperties pool utilities poolutilities clone without password clonewithoutpassword get pool properties getpoolproperties get db properties getdbproperties override string get default catalog getdefaultcatalog get pool properties getpoolproperties get default catalog getdefaultcatalog override get default transaction isolation getdefaulttransactionisolation get pool properties getpoolproperties get default transaction isolation getdefaulttransactionisolation override string get driver class name getdriverclassname get pool properties getpoolproperties get driver class name getdriverclassname override get initial size getinitialsize get pool properties getpoolproperties get initial size getinitialsize override string getinitsql get pool properties getpoolproperties getinitsql override string get jdbc int erceptors getjdbcinterceptors get pool properties getpoolproperties get jdbc int erceptors getjdbcinterceptors override get max active getmaxactive get pool properties getpoolproperties get max active getmaxactive override get max idle getmaxidle get pool properties getpoolproperties get max idle getmaxidle override get max wait getmaxwait get pool properties getpoolproperties get max wait getmaxwait override get min evictable idle time millis getminevictableidletimemillis get pool properties getpoolproperties get min evictable idle time millis getminevictableidletimemillis override get min idle getminidle get pool properties getpoolproperties get min idle getminidle override get max age getmaxage get pool properties getpoolproperties get max age getmaxage override string get name getname get pool name getpoolname override get num tests per eviction run getnumtestsperevictionrun get pool properties getpoolproperties get num tests per eviction run getnumtestsperevictionrun password jmx override string get password getpassword password data source datasource jmx operation override get remove abandoned timeout getremoveabandonedtimeout get pool properties getpoolproperties get remove abandoned timeout getremoveabandonedtimeout override get time between eviction runs millis gettimebetweenevictionrunsmillis get pool properties getpoolproperties get time between eviction runs millis gettimebetweenevictionrunsmillis override string get url geturl get pool properties getpoolproperties get url geturl override string get username getusername get pool properties getpoolproperties get username getusername override get validation interval getvalidationinterval get pool properties getpoolproperties get validation interval getvalidationinterval override string get validation query getvalidationquery get pool properties getpoolproperties get validation query getvalidationquery override get validation query timeout getvalidationquerytimeout get pool properties getpoolproperties get validation query timeout getvalidationquerytimeout override string get validator class name getvalidatorclassname get pool properties getpoolproperties get validator class name getvalidatorclassname override validator get validator getvalidator get pool properties getpoolproperties get validator getvalidator override is access to underlying connection allowed isaccesstounderlyingconnectionallowed get pool properties getpoolproperties is access to underlying connection allowed isaccesstounderlyingconnectionallowed override is default auto commit isdefaultautocommit get pool properties getpoolproperties is default auto commit isdefaultautocommit override is default read only isdefaultreadonly get pool properties getpoolproperties is default read only isdefaultreadonly override is log abandoned islogabandoned get pool properties getpoolproperties is log abandoned islogabandoned override is pool sweeper enabled ispoolsweeperenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled override is remove abandoned isremoveabandoned get pool properties getpoolproperties is remove abandoned isremoveabandoned override get abandon when percentage full getabandonwhenpercentagefull get pool properties getpoolproperties get abandon when percentage full getabandonwhenpercentagefull override is test on borrow istestonborrow get pool properties getpoolproperties is test on borrow istestonborrow override is test on connect istestonconnect get pool properties getpoolproperties is test on connect istestonconnect override is test on return istestonreturn get pool properties getpoolproperties is test on return istestonreturn override is test while idle istestwhileidle get pool properties getpoolproperties is test while idle istestwhileidle override get default auto commit getdefaultautocommit get pool properties getpoolproperties get default auto commit getdefaultautocommit override get default read only getdefaultreadonly get pool properties getpoolproperties get default read only getdefaultreadonly override interceptor definition interceptordefinition get jdbc int erceptors as array getjdbcinterceptorsasarray get pool properties getpoolproperties get jdbc int erceptors as array getjdbcinterceptorsasarray override get use lock getuselock get pool properties getpoolproperties get use lock getuselock override is fair queue isfairqueue get pool properties getpoolproperties is fair queue isfairqueue override is jmx enabled isjmxenabled get pool properties getpoolproperties is jmx enabled isjmxenabled override is use equals isuseequals get pool properties getpoolproperties is use equals isuseequals override set abandon when percentage full setabandonwhenpercentagefull per centage percentage get pool properties getpoolproperties set abandon when percentage full setabandonwhenpercentagefull per centage percentage override set access to underlying connection allowed setaccesstounderlyingconnectionallowed access to underlying connection allowed accesstounderlyingconnectionallowed get pool properties getpoolproperties set access to underlying connection allowed setaccesstounderlyingconnectionallowed access to underlying connection allowed accesstounderlyingconnectionallowed override set db properties setdbproperties properties db properties dbproperties get pool properties getpoolproperties set db properties setdbproperties db properties dbproperties override set default read only setdefaultreadonly default read only defaultreadonly get pool properties getpoolproperties set default read only setdefaultreadonly default read only defaultreadonly override set max age setmaxage max age maxage get pool properties getpoolproperties set max age setmaxage max age maxage override set name setname string get pool properties getpoolproperties set name setname override string get pool name getpoolname get pool properties getpoolproperties get name getname override set connection properties setconnectionproperties string connection properties connectionproperties get pool properties getpoolproperties set connection properties setconnectionproperties connection properties connectionproperties override set default auto commit setdefaultautocommit default auto commit defaultautocommit get pool properties getpoolproperties set default auto commit setdefaultautocommit default auto commit defaultautocommit override set default catalog setdefaultcatalog string default catalog defaultcatalog get pool properties getpoolproperties set default catalog setdefaultcatalog default catalog defaultcatalog override set default transaction isolation setdefaulttransactionisolation default transaction isolation defaulttransactionisolation get pool properties getpoolproperties set default transaction isolation setdefaulttransactionisolation default transaction isolation defaulttransactionisolation override set driver class name setdriverclassname string driver class name driverclassname get pool properties getpoolproperties set driver class name setdriverclassname driver class name driverclassname override set fair queue setfairqueue fair queue fairqueue noop pool running unsupported operation exception unsupportedoperationexception override set initial size setinitialsize initial size initialsize noop pool running unsupported operation exception unsupportedoperationexception override setinitsql string initsql get pool properties getpoolproperties setinitsql initsql override set jdbc int erceptors setjdbcinterceptors string jdbc int erceptors jdbcinterceptors noop pool running unsupported operation exception unsupportedoperationexception override set jmx enabled setjmxenabled jmx enabled jmxenabled noop pool running jmx enabled unsupported operation exception unsupportedoperationexception override set log abandoned setlogabandoned log abandoned logabandoned get pool properties getpoolproperties set log abandoned setlogabandoned log abandoned logabandoned override set max active setmaxactive max active maxactive get pool properties getpoolproperties set max active setmaxactive max active maxactive pool properly configured pool check pool configuration checkpoolconfiguration get pool properties getpoolproperties override set max idle setmaxidle max idle maxidle get pool properties getpoolproperties set max idle setmaxidle max idle maxidle pool properly configured pool check pool configuration checkpoolconfiguration get pool properties getpoolproperties override set max wait setmaxwait max wait maxwait get pool properties getpoolproperties set max wait setmaxwait max wait maxwait override set min evictable idle time millis setminevictableidletimemillis min evictable idle time millis minevictableidletimemillis was enabled wasenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled get pool properties getpoolproperties set min evictable idle time millis setminevictableidletimemillis min evictable idle time millis minevictableidletimemillis should be enabled shouldbeenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled pool cleaner starts stops was enabled wasenabled should be enabled shouldbeenabled pool initialize pool cleaner initializepoolcleaner get pool properties getpoolproperties was enabled wasenabled should be enabled shouldbeenabled pool terminate pool cleaner terminatepoolcleaner override set min idle setminidle min idle minidle get pool properties getpoolproperties set min idle setminidle min idle minidle pool properly configured pool check pool configuration checkpoolconfiguration get pool properties getpoolproperties override set num tests per eviction run setnumtestsperevictionrun num tests per eviction run numtestsperevictionrun get pool properties getpoolproperties set num tests per eviction run setnumtestsperevictionrun num tests per eviction run numtestsperevictionrun override set password setpassword string password get pool properties getpoolproperties set password setpassword password override set remove abandoned setremoveabandoned remove abandoned removeabandoned was enabled wasenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled get pool properties getpoolproperties set remove abandoned setremoveabandoned remove abandoned removeabandoned should be enabled shouldbeenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled pool cleaner starts stops was enabled wasenabled should be enabled shouldbeenabled pool initialize pool cleaner initializepoolcleaner get pool properties getpoolproperties was enabled wasenabled should be enabled shouldbeenabled pool terminate pool cleaner terminatepoolcleaner override set remove abandoned timeout setremoveabandonedtimeout remove abandoned timeout removeabandonedtimeout was enabled wasenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled get pool properties getpoolproperties set remove abandoned timeout setremoveabandonedtimeout remove abandoned timeout removeabandonedtimeout should be enabled shouldbeenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled pool cleaner starts stops was enabled wasenabled should be enabled shouldbeenabled pool initialize pool cleaner initializepoolcleaner get pool properties getpoolproperties was enabled wasenabled should be enabled shouldbeenabled pool terminate pool cleaner terminatepoolcleaner override set test on borrow settestonborrow test on borrow testonborrow get pool properties getpoolproperties set test on borrow settestonborrow test on borrow testonborrow override set test on connect settestonconnect test on connect testonconnect get pool properties getpoolproperties set test on connect settestonconnect test on connect testonconnect override set test on return settestonreturn test on return testonreturn get pool properties getpoolproperties set test on return settestonreturn test on return testonreturn override set test while idle settestwhileidle test while idle testwhileidle was enabled wasenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled get pool properties getpoolproperties set test while idle settestwhileidle test while idle testwhileidle should be enabled shouldbeenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled pool cleaner starts stops was enabled wasenabled should be enabled shouldbeenabled pool initialize pool cleaner initializepoolcleaner get pool properties getpoolproperties was enabled wasenabled should be enabled shouldbeenabled pool terminate pool cleaner terminatepoolcleaner override set time between eviction runs millis settimebetweenevictionrunsmillis time between eviction runs millis timebetweenevictionrunsmillis was enabled wasenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled get pool properties getpoolproperties set time between eviction runs millis settimebetweenevictionrunsmillis time between eviction runs millis timebetweenevictionrunsmillis should be enabled shouldbeenabled get pool properties getpoolproperties is pool sweeper enabled ispoolsweeperenabled pool cleaner starts stops was enabled wasenabled should be enabled shouldbeenabled pool initialize pool cleaner initializepoolcleaner get pool properties getpoolproperties was enabled wasenabled pool terminate pool cleaner terminatepoolcleaner should be enabled shouldbeenabled pool initialize pool cleaner initializepoolcleaner get pool properties getpoolproperties override set url seturl string url get pool properties getpoolproperties set url seturl url override set use equals setuseequals use equals useequals get pool properties getpoolproperties set use equals setuseequals use equals useequals override set use lock setuselock use lock uselock get pool properties getpoolproperties set use lock setuselock use lock uselock override set username setusername string username get pool properties getpoolproperties set username setusername username override set validation interval setvalidationinterval validation interval validationinterval get pool properties getpoolproperties set validation interval setvalidationinterval validation interval validationinterval override set validation query setvalidationquery string validation query validationquery get pool properties getpoolproperties set validation query setvalidationquery validation query validationquery override set validation query timeout setvalidationquerytimeout validation query timeout validationquerytimeout get pool properties getpoolproperties set validation query timeout setvalidationquerytimeout validation query timeout validationquerytimeout override set validator class name setvalidatorclassname string class name classname get pool properties getpoolproperties set validator class name setvalidatorclassname class name classname override get suspect timeout getsuspecttimeout get pool properties getpoolproperties get suspect timeout getsuspecttimeout override set suspect timeout setsuspecttimeout seconds get pool properties getpoolproperties set suspect timeout setsuspecttimeout seconds inherit doc inheritdoc override set data source setdatasource object get pool properties getpoolproperties set data source setdatasource inherit doc inheritdoc override object get data source getdatasource get pool properties getpoolproperties get data source getdatasource inherit doc inheritdoc override setdatasourcejndi string jndids get pool properties getpoolproperties setdatasourcejndi jndids inherit doc inheritdoc override string getdatasourcejndi get pool properties getpoolproperties getdatasourcejndi inherit doc inheritdoc override is alternate username allowed isalternateusernameallowed get pool properties getpoolproperties is alternate username allowed isalternateusernameallowed inherit doc inheritdoc override set alternate username allowed setalternateusernameallowed alternate username allowed alternateusernameallowed get pool properties getpoolproperties set alternate username allowed setalternateusernameallowed alternate username allowed alternateusernameallowed inherit doc inheritdoc override set validator setvalidator validator validator get pool properties getpoolproperties set validator setvalidator validator inherit doc inheritdoc override set commit on return setcommitonreturn commit on return commitonreturn get pool properties getpoolproperties set commit on return setcommitonreturn commit on return commitonreturn inherit doc inheritdoc override get commit on return getcommitonreturn get pool properties getpoolproperties get commit on return getcommitonreturn inherit doc inheritdoc override set rollback on return setrollbackonreturn rollback on return rollbackonreturn get pool properties getpoolproperties set rollback on return setrollbackonreturn rollback on return rollbackonreturn inherit doc inheritdoc override get rollback on return getrollbackonreturn get pool properties getpoolproperties get rollback on return getrollbackonreturn inherit doc inheritdoc override set use disposable connection facade setusedisposableconnectionfacade use disposable connection facade usedisposableconnectionfacade get pool properties getpoolproperties set use disposable connection facade setusedisposableconnectionfacade use disposable connection facade usedisposableconnectionfacade inherit doc inheritdoc override get use disposable connection facade getusedisposableconnectionfacade get pool properties getpoolproperties get use disposable connection facade getusedisposableconnectionfacade inherit doc inheritdoc override set log validation errors setlogvalidationerrors log validation errors logvalidationerrors get pool properties getpoolproperties set log validation errors setlogvalidationerrors log validation errors logvalidationerrors inherit doc inheritdoc override get log validation errors getlogvalidationerrors get pool properties getpoolproperties get log validation errors getlogvalidationerrors inherit doc inheritdoc override get propagate int err upt state getpropagateinterruptstate get pool properties getpoolproperties get propagate int err upt state getpropagateinterruptstate inherit doc inheritdoc override set propagate int err upt state setpropagateinterruptstate propagate int err upt state propagateinterruptstate get pool properties getpoolproperties set propagate int err upt state setpropagateinterruptstate propagate int err upt state propagateinterruptstate inherit doc inheritdoc override is ignore exception on pre load isignoreexceptiononpreload get pool properties getpoolproperties is ignore exception on pre load isignoreexceptiononpreload inherit doc inheritdoc override set ignore exception on pre load setignoreexceptiononpreload ignore exception on pre load ignoreexceptiononpreload noop pool running unsupported operation exception unsupportedoperationexception inherit doc inheritdoc override purge pool purge inherit doc inheritdoc override purge on return purgeonreturn pool purge on return purgeonreturn
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat websocket pojo java net uri java util array list arraylist java util list javax websocket container provider containerprovider javax websocket on close onclose javax websocket on message onmessage javax websocket on open onopen javax websocket session javax websocket web socket container websocketcontainer javax websocket server path param pathparam javax websocket server server endpoint serverendpoint org junit org junit test org apache catalina context org apache catalina servlets default servlet defaultservlet org apache catalina startup tomcat org apache catalina startup tomcat base test tomcatbasetest org apache tomcat websocket pojo tester util testerutil server config listener serverconfiglistener org apache tomcat websocket pojo tester util testerutil simple client simpleclient org apache tomcat websocket pojo tester util testerutil singleton configurator singletonconfigurator test pojo method mapping testpojomethodmapping tomcat base test tomcatbasetest string param abc de abcde string param string param test test exception utility classes server server server singleton configurator singletonconfigurator set instance setinstance server server config listener serverconfiglistener set pojo clazz setpojoclazz server tomcat tomcat get tomcat instance gettomcatinstance file system doc base docbase required context ctx tomcat add context addcontext ctx add application listener addapplicationlistener server config listener serverconfiglistener get name getname tomcat add servlet addservlet ctx default servlet defaultservlet ctx add servlet mapping addservletmapping web socket container websocketcontainer ws container wscontainer container provider containerprovider get web socket container getwebsocketcontainer tomcat start simple client simpleclient client simple client simpleclient uri uri uri localhost get port getport param param param session session ws container wscontainer connect to server connecttoserver client uri session get basic remote getbasicremote send text sendtext session close server close plenty gump slow count count server is closed isclosed count thread sleep count fail server process on close onclose event seconds client sending close message check errors list string errors server get errors geterrors string error errors system err println error assert equals assertequals errors errors size server endpoint serverendpoint config urator configurator singleton configurator singletonconfigurator server list string errors array list arraylist string closed on open onopen on open onopen path param pathparam string path param pathparam path param pathparam check params checkparams on open onopen on message onmessage on message onmessage suppress warnings suppresswarnings unused string msg path param pathparam string path param pathparam path param pathparam check params checkparams on message onmessage on close onclose on close onclose path param pathparam string path param pathparam path param pathparam check params checkparams on close onclose closed list string get errors geterrors errors is closed isclosed closed check params checkparams string method string check param checkparam method param check param checkparam method param integer to string tostring check param checkparam method param to string tostring check param checkparam string method string expected string actual expected equals actual errors add method method expected expected actual
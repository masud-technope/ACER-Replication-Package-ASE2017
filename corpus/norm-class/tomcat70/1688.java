licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat util threads org junit assert equals assertequals org junit assert false assertfalse org junit test test limit latch testlimitlatch test test no threads testnothreads exception limit latch limitlatch latch limit latch limitlatch assert false assertfalse threads waiting latch has queued threads hasqueuedthreads test test one thread no wait testonethreadnowait exception limit latch limitlatch latch limit latch limitlatch assert false assertfalse threads waiting latch has queued threads hasqueuedthreads thread test thread testthread test thread testthread latch test thread testthread start thread sleep assert equals assertequals threads waiting latch get queued threads getqueuedthreads size latch count up or await countuporawait thread sleep assert false assertfalse threads waiting latch has queued threads hasqueuedthreads test test one thread wait count up testonethreadwaitcountup exception limit latch limitlatch latch limit latch limitlatch assert false assertfalse threads waiting latch has queued threads hasqueuedthreads thread test thread testthread test thread testthread latch latch count up or await countuporawait test thread testthread start thread sleep assert equals assertequals threads waiting latch get queued threads getqueuedthreads size latch count down countdown thread sleep assert false assertfalse threads waiting latch has queued threads hasqueuedthreads test test one release testonerelease exception limit latch limitlatch latch limit latch limitlatch assert false assertfalse threads waiting latch has queued threads hasqueuedthreads thread test thread testthread test thread testthread latch latch count up or await countuporawait test thread testthread start thread sleep assert equals assertequals threads waiting latch get queued threads getqueuedthreads size latch release all releaseall thread sleep assert false assertfalse threads waiting latch has queued threads hasqueuedthreads test test ten wait testtenwait exception limit latch limitlatch latch limit latch limitlatch assert false assertfalse threads waiting latch has queued threads hasqueuedthreads thread test thread testthread test thread testthread test thread testthread test thread testthread latch test thread testthread start thread sleep assert equals assertequals threads waiting latch get queued threads getqueuedthreads size thread sleep assert equals assertequals threads waiting latch get queued threads getqueuedthreads size thread sleep assert false assertfalse threads waiting latch has queued threads hasqueuedthreads test thread testthread thread hold time holdtime limit latch limitlatch latch test thread testthread limit latch limitlatch latch latch test thread testthread limit latch limitlatch latch hold time holdtime latch latch hold time holdtime hold time holdtime override latch count up or await countuporawait thread sleep hold time holdtime latch count down countdown interrupted exception interruptedexception print stack trace printstacktrace
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache tomcat jdbc test java sql connection java sql sql exception sqlexception org junit org junit test connection abandoned closed free spot pool threads waiting time error acquire connection released star vation test starvationtest default test case defaulttestcase config datasource get pool properties getpoolproperties set max active setmaxactive datasource get pool properties getpoolproperties set max idle setmaxidle datasource get pool properties getpoolproperties set initial size setinitialsize datasource get pool properties getpoolproperties set remove abandoned setremoveabandoned datasource get pool properties getpoolproperties set remove abandoned timeout setremoveabandonedtimeout datasource get pool properties getpoolproperties set time between eviction runs millis settimebetweenevictionrunsmillis datasource get pool properties getpoolproperties set max wait setmaxwait datasource get pool properties getpoolproperties set log abandoned setlogabandoned test testdbcpconnectionstarvation exception config transfer properties transferproperties t data source tdatasource get connection getconnection close javax sql data source datasource datasource t data source tdatasource connection con datasource get connection getconnection connection con con datasource get connection getconnection con set catalog setcatalog mysql connection valid sql exception sqlexception assert false assertfalse connection valid get message getmessage assert true asserttrue connection closed con is closed isclosed connection closed exception assert false assertfalse connection starved get message getmessage con con close test test connection star vation testconnectionstarvation exception config connection con datasource get connection getconnection connection con con datasource get connection getconnection connection valid con set catalog setcatalog mysql sql exception sqlexception assert false assertfalse connection valid get message getmessage connection closed assert true asserttrue connection closed con is closed isclosed exception assert false assertfalse connection starved get message getmessage con con close test test fair connection star vation testfairconnectionstarvation exception init config datasource get pool properties getpoolproperties set fair queue setfairqueue connection con datasource get connection getconnection connection con con datasource get connection getconnection connection valid con set catalog setcatalog mysql sql exception sqlexception assert false assertfalse connection valid get message getmessage connection closed assert true asserttrue connection closed con is closed isclosed exception assert false assertfalse connection starved get message getmessage con con close
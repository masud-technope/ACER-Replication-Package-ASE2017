licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl html dom java char array writer chararraywriter java util iterator java util linked hash map linkedhashmap java util linked hash set linkedhashset java util map java util token izes tokenizes snippet characters str uctured structured tag attribute list tag tokenizer tagtokenizer tag buffer char array writer chararraywriter tag name tagname char array writer chararraywriter attribute buffer char array writer chararraywriter att name attname char array writer chararraywriter attribute buffer char array writer chararraywriter att value attvalue char array writer chararraywriter internal property list attribute list impl attributelistimpl attributes attribute list impl attributelistimpl parse constant start parse constant tag start parse constant tag parse constant parse constant attname parse constant equal attname parse constant attvalue equal parse constant string attvalue parse constant endslash string parse constant endslash parse constant attname quote character quote char quotechar flag indicating tag scanned tag end tag endtag flag indicating slash parsed end slash endslash temporary flag indicating attribute has attribute value hasattributevalue scan characters passed parser tokenize buf len reset parse state parsestate start len buf parse state parsestate start parse state parsestate tag tag end tag endtag parse state parsestate quote char quotechar parse state parsestate string character is whitespace iswhitespace parse state parsestate tag name tagname write parse state parsestate character is whitespace iswhitespace parse state parsestate quote char quotechar parse state parsestate string parse state parsestate parse state parsestate endslash tag name tagname write attribute ended attributeended parse state parsestate attribute ended attributeended parse state parsestate endslash attribute value started attributevaluestarted quote char quotechar parse state parsestate string parse state parsestate equal character is whitespace iswhitespace att name attname write parse state parsestate attname attname attribute ended attributeended parse state parsestate attribute ended attributeended parse state parsestate endslash parse state parsestate equal quote char quotechar parse state parsestate string character is whitespace iswhitespace parse state parsestate attname att name attname write attname attribute ended attributeended parse state parsestate attribute ended attributeended parse state parsestate endslash attribute value started attributevaluestarted quote char quotechar parse state parsestate string parse state parsestate equal character is whitespace iswhitespace attribute ended attributeended att name attname write parse state parsestate attname equal attribute ended attributeended parse state parsestate attribute value started attributevaluestarted quote char quotechar parse state parsestate string character is whitespace iswhitespace attribute value started attributevaluestarted att value attvalue write parse state parsestate attvalue attvalue character is whitespace iswhitespace attribute ended attributeended parse state parsestate attribute ended attributeended quote char quotechar parse state parsestate string attribute ended attributeended parse state parsestate att value attvalue write string quote char quotechar attribute ended attributeended parse state parsestate att value attvalue write endslash end slash endslash parse state parsestate quote char quotechar parse state parsestate string character is whitespace iswhitespace att name attname write parse state parsestate attname parse state parsestate flag indicating tag scanned tag code code tag code code end tag endtag end tag endtag flag indicating slash scanned code code slash scanned code code end slash endslash end slash endslash tag name tagname scanned tag string tag name tagname tag name tagname to string tostring list attributes scanned list attributes attribute list attributelist attributes attributes reset internal tokenizer reset tag name tagname reset attributes reset end tag endtag end slash endslash invoked attribute ends attribute ended attributeended att name attname size has attribute value hasattributevalue attributes add attribute addattribute att name attname to string tostring att value attvalue to string tostring quote char quotechar attributes add attribute addattribute att name attname to string tostring quote char quotechar att name attname reset att value attvalue reset has attribute value hasattributevalue invoked attribute starts attribute value started attributevaluestarted has attribute value hasattributevalue retransfers tokenize d tokenized tag data html reassembled html string string to html string tohtmlstring string buffer stringbuffer string buffer stringbuffer end tag endtag append tag name tagname append tag name tagname iterator string att names attnames attributes attribute names attributenames att names attnames has next hasnext string att name attname att names attnames string att value attvalue attributes get quoted value getquotedvalue att name attname append append att name attname att value attvalue append append att value attvalue end slash endslash append append to string tostring internal implementation code attribute list attributelist code attribute list impl attributelistimpl attribute list attributelist internal create code code instance quote char quotechar string quote char quotechar quote char quotechar quote char quotechar string string representation string string rep stringrep object to string tostring override string to string tostring string rep stringrep string rep stringrep quote char quotechar quote char quotechar string rep stringrep attribute pair map ins ensitives insensitives names map string attributes linked hash map linkedhashmap string attribute names sensitive string attribute names attributenames linked hash set linkedhashset string flag indicating object modified modified add attribute pair attribute list add attribute addattribute string string quote char quotechar attributes to upper case touppercase quote char quotechar attribute names attributenames add add attribute pair attribute list add attribute addattribute string quote char quotechar attributes to upper case touppercase attribute names attributenames add empty attribute list reset attributes clear attribute names attributenames clear modified attribute list attributelist attribute count attributecount attribute count attributecount attributes size attribute list attributelist attribute names attributenames iterator string attribute names attributenames attribute names attributenames iterator attribute list attributelist contains attribute containsattribute string contains attribute containsattribute string attributes contains key containskey to upper case touppercase attribute list attributelist get value getvalue string string get value getvalue string get value ex getvalueex attribute list attributelist get quote char getquotechar java lang string get quote char getquotechar string get value ex getvalueex quote char quotechar attribute list attributelist get quoted value getquotedvalue string string get quoted value getquotedvalue string get value ex getvalueex to string tostring attribute list attributelist set value setvalue string string set value setvalue string string remove value removevalue get value ex getvalueex add attribute addattribute modified equals add attribute addattribute quote char quotechar modified attribute list attributelist remove value removevalue string remove value removevalue string attribute names attributenames remove attributes remove to upper case touppercase modified attribute list attributelist is modified ismodified is modified ismodified modified internal structure get value ex getvalueex string attributes to upper case touppercase
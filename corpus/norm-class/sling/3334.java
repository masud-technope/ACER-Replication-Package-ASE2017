licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer org junit assert null assertnull java file input stream fileinputstream java input stream inputstream org junit org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit pax exam paxexam org osgi framework bundle test sling scenario bundle updated bundle context bundlecontext installer down grade downgrade version run with runwith pax exam paxexam context bundle update test contextbundleupdatetest osgi installer test base osgiinstallertestbase org ops pax exam configuration option config default configuration defaultconfiguration set up setup setup installer setupinstaller tear down teardown tear down teardown test test context update testcontextupdate exception install installer string symbolic name symbolicname osgi installer test bundle testbundle assert null assertnull test bundle absent installing find bundle findbundle symbolic name symbolicname object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar digest wait for bundle events waitforbundleevents bundle active listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started bundle assert bundle assertbundle initial install symbolic name symbolicname bundle active update bundle context input stream inputstream file input stream fileinputstream get test bundle gettestbundle bundle base test bundle testbundle jar update close assert bundle assertbundle direct update symbolic name symbolicname bundle active install bundle trigger installer queue act ivity activity wait installer idle check version listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base snap jar digest wait for bundle events waitforbundleevents bundle active listener bundle event bundleevent osgi installer snapshot test org osgi framework bundle event bundleevent installed bundle event bundleevent osgi installer snapshot test org osgi framework bundle event bundleevent started assert bundle assertbundle snap bundle install osgi installer snapshot test bundle active assert bundle assertbundle installing bundle symbolic name symbolicname bundle active
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler optimization java util hash map hashmap java util map org apache sling scripting sightly impl compiler expression expression node expressionnode org apache sling scripting sightly impl compiler expression node identifier org apache sling scripting sightly impl compiler expression node map literal mapliteral org apache sling scripting sightly impl compiler expression node null literal nullliteral org apache sling scripting sightly impl compiler expression node property access propertyaccess org apache sling scripting sightly impl compiler expression node string constant stringconstant org apache sling scripting sightly impl compiler ris command org apache sling scripting sightly impl compiler ris command stream commandstream org apache sling scripting sightly impl compiler ris command variable binding variablebinding org apache sling scripting sightly impl compiler util expression node transformer nodetransformer org apache sling scripting sightly impl compiler util stream emitter visitor emittervisitor org apache sling scripting sightly impl compiler util stream push stream pushstream org apache sling scripting sightly impl compiler util stream streams org apache sling scripting sightly impl compiler visitor tracking visitor trackingvisitor optimization handles variables initialized map literals init ially initially assigns values map variables map literal accessed property access replaced variable removing map lookup synthetic map removal syntheticmapremoval tracking visitor trackingvisitor map literal mapliteral emitter visitor emittervisitor stream transformer streamtransformer transformer stream transformer streamtransformer override command stream commandstream transform command stream commandstream in stream instream streams map in stream instream synthetic map removal syntheticmapremoval string variable marker field push stream pushstream output stream outputstream push stream pushstream node transformer nodetransformer transformer property access transformer propertyaccesstransformer synthetic map removal syntheticmapremoval override visit variable binding variablebinding start variable binding start variablebindingstart expression node expressionnode node variable binding start variablebindingstart get expression getexpression string variable variable binding start variablebindingstart get variable name getvariablename expression node expressionnode transformed transform node transformed map literal mapliteral map literal mapliteral new literal newliteral override map overridemap variable map literal mapliteral transformed tracker push variable pushvariable variable new literal newliteral transformed new literal newliteral tracker push variable pushvariable variable output stream outputstream emit variable binding variablebinding start variable transformed override visit variable binding variablebinding variable binding end variablebindingend map entry string map literal mapliteral entry tracker peek visit variable binding end variablebindingend map literal mapliteral literal entry get value getvalue literal bind int roduced introduced variables literal get map getmap size output stream outputstream emit variable binding variablebinding expression node expressionnode transform expression node expressionnode node transformer transform node map literal mapliteral override map overridemap string variable name variablename map literal mapliteral map literal mapliteral map string expression node expressionnode new literal newliteral hash map hashmap string expression node expressionnode map entry string expression node expressionnode entry map literal mapliteral get map getmap entry set entryset string property entry get key getkey expression node expressionnode value node valuenode entry get value getvalue string value variable valuevariable value variable name valuevariablename variable name variablename property new literal newliteral property identifier value variable valuevariable output stream outputstream emit variable binding variablebinding start value variable valuevariable value node valuenode map literal mapliteral new literal newliteral string value variable name valuevariablename string variable name variablename string property name propertyname variable name variablename variable marker property name propertyname override map literal mapliteral assign default assigndefault command command override on command oncommand command command output stream outputstream emit command override push stream pushstream get output stream getoutputstream output stream outputstream property access transformer propertyaccesstransformer node transformer nodetransformer override expression node expressionnode evaluate property access propertyaccess property access propertyaccess expression node expressionnode target property access propertyaccess get target gettarget string variable extract identifier extractidentifier target variable map literal mapliteral literal tracker variable literal string property extract property extractproperty property access propertyaccess get property getproperty property expression node expressionnode replacement node replacementnode literal get value getvalue property replacement node replacementnode replacement node replacementnode null literal nullliteral instance replacement node replacementnode evaluate property access propertyaccess string extract property extractproperty expression node expressionnode expression node expressionnode expression node expressionnode string constant stringconstant string constant stringconstant expression node expressionnode get text gettext string extract identifier extractidentifier expression node expressionnode node node identifier identifier node get name getname
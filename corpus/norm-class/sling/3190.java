licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling servlet java byte array output stream bytearrayoutputstream java io exception ioexception java output stream writer outputstreamwriter java print writer printwriter java unsupported encoding exception unsupportedencodingexception javax servlet servlet output stream servletoutputstream org apache commons lang char encoding charencoding org apache commons lang string utils stringutils manage response body content response body support responsebodysupport byte array output stream bytearrayoutputstream output stream outputstream servlet output stream servletoutputstream servlet output stream servletoutputstream print writer printwriter print writer printwriter response body support responsebodysupport reset reset output stream outputstream byte array output stream bytearrayoutputstream servlet output stream servletoutputstream print writer printwriter servlet output stream servletoutputstream get output stream getoutputstream servlet output stream servletoutputstream servlet output stream servletoutputstream servlet output stream servletoutputstream override write io exception ioexception output stream outputstream write servlet output stream servletoutputstream print writer printwriter get writer getwriter string charset print writer printwriter print writer printwriter print writer printwriter output stream writer outputstreamwriter get output stream getoutputstream default charset defaultcharset charset unsupported encoding exception unsupportedencodingexception runtime exception runtimeexception unsupported encoding default charset defaultcharset charset print writer printwriter get output getoutput servlet output stream servletoutputstream servlet output stream servletoutputstream flush io exception ioexception output stream outputstream to byte array tobytearray string get output as string getoutputasstring string charset print writer printwriter print writer printwriter flush string get output getoutput default charset defaultcharset charset unsupported encoding exception unsupportedencodingexception runtime exception runtimeexception unsupported encoding default charset defaultcharset charset string default charset defaultcharset string charset string utils stringutils default string defaultstring charset char encoding charencoding utf
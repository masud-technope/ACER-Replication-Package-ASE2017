licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide eclipse org junit assert true asserttrue java file java io exception ioexception org apache commons file utils fileutils org apache sling ide artifacts embedded artifact embeddedartifact org eclipse core runtime core exception coreexception org eclipse core maven plugin mavenplugin org eclipse core embedder i maven imaven org junit org junit org junit test embedded archetype installer test embeddedarchetypeinstallertest string archetype group id archetypegroupid org apache sling string archetype artifact id archetypeartifactid sling bundle archetype string archetype version archetypeversion test delete installed artifact deleteinstalledartifact core exception coreexception io exception ioexception file artifact path location artifactpathlocation get installed archetype location getinstalledarchetypelocation file artifact dir location artifactdirlocation artifact path location artifactpathlocation get parent file getparentfile file utils fileutils delete directory deletedirectory artifact dir location artifactdirlocation test test install archetype testinstallarchetype io exception ioexception core exception coreexception embedded archetype installer embeddedarchetypeinstaller archetype installer archetypeinstaller embedded archetype installer embeddedarchetypeinstaller archetype group id archetypegroupid archetype artifact id archetypeartifactid archetype version archetypeversion embedded artifact embeddedartifact archetype artifacts archetypeartifacts embedded artifact embeddedartifact embedded artifact embeddedartifact jar archetype version archetypeversion get class getclass get class loader getclassloader get resource getresource meta inf manifest embedded artifact embeddedartifact pom archetype version archetypeversion get class getclass get class loader getclassloader get resource getresource meta inf manifest archetype installer archetypeinstaller add resource addresource pom archetype artifacts archetypeartifacts open input stream openinputstream archetype installer archetypeinstaller add resource addresource jar archetype artifacts archetypeartifacts open input stream openinputstream archetype installer archetypeinstaller install archetype installarchetype file artifact path location artifactpathlocation get installed archetype location getinstalledarchetypelocation assert true asserttrue archetype artifact path location artifactpathlocation artifact path location artifactpathlocation exists file get installed archetype location getinstalledarchetypelocation core exception coreexception i maven imaven maven maven plugin mavenplugin get maven getmaven string artifact path artifactpath maven get artifact path getartifactpath maven get local repository getlocalrepository archetype group id archetypegroupid archetype artifact id archetypeartifactid archetype version archetypeversion jar string local repository path localrepositorypath maven get local repository path getlocalrepositorypath file local repository path localrepositorypath file separator char separatorchar artifact path artifactpath
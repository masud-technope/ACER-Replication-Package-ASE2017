licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull javax jcr node javax jcr repository exception repositoryexception javax jcr session org apache commons lang random string utils randomstringutils org apache sling api adapter adapter manager adaptermanager org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling junit annotations sling annotations test runner slingannotationstestrunner org apache sling junit annotations test reference testreference org apache sling models impl picker implpicker custom last implementation picker customlastimplementationpicker org apache sling models models impl extend implextend implements interface property model implementsinterfacepropertymodel org apache sling models models impl extend implextend implements interface property model implementsinterfacepropertymodel org apache sling models models impl extend implextend invalid sample service interface invalidsampleserviceinterface org apache sling models models impl extend implextend sample service interface sampleserviceinterface org apache sling models models impl extend implextend simple property model simplepropertymodel org junit org junit test org junit runner run with runwith run with runwith sling annotations test runner slingannotationstestrunner implements extends test implementsextendstest test reference testreference resource resolver factory resourceresolverfactory rr factory rrfactory test reference testreference adapter manager adaptermanager adapter manager adaptermanager string first value firstvalue string second value secondvalue string third value thirdvalue resource resolver resourceresolver resolver resource resource node created node creatednode set up setup exception first value firstvalue random string utils randomstringutils random alphanumeric randomalphanumeric third value thirdvalue random string utils randomstringutils random alphanumeric randomalphanumeric resolver rr factory rrfactory get administrative resource resolver getadministrativeresourceresolver session session resolver adapt to adaptto session node root node rootnode session get root node getrootnode created node creatednode root node rootnode add node addnode test random string utils randomstringutils random alphanumeric randomalphanumeric created node creatednode set property setproperty first value firstvalue created node creatednode set property setproperty third value thirdvalue session save resource resolver get resource getresource created node creatednode get path getpath adapt implementation model annotation test test implements interface model testimplementsinterfacemodel sample service interface sampleserviceinterface model adapter manager adaptermanager get adapter getadapter resource sample service interface sampleserviceinterface assert not null assertnotnull model assert equals assertequals implements interface property model implementsinterfacepropertymodel model get class getclass assert equals assertequals first value firstvalue second value secondvalue third value thirdvalue model get all properties getallproperties ensure implementation adapted adapter property annotation test test implements interface model testimplementsinterfacemodel impl class not mapped implclassnotmapped implements interface property model implementsinterfacepropertymodel model adapter manager adaptermanager get adapter getadapter resource implements interface property model implementsinterfacepropertymodel assert null assertnull model test implementation mapping valid implemented test test invalid implements interface model testinvalidimplementsinterfacemodel invalid sample service interface invalidsampleserviceinterface model adapter manager adaptermanager get adapter getadapter resource invalid sample service interface invalidsampleserviceinterface assert null assertnull model test adapt superclass implementation mapping model annotation test test extends class model testextendsclassmodel simple property model simplepropertymodel model adapter manager adaptermanager get adapter getadapter resource simple property model simplepropertymodel assert not null assertnotnull model assert equals assertequals first value firstvalue second value secondvalue third value thirdvalue model get all properties getallproperties adapt implementation model annotation test test implements interface model with pick last implementation picker testimplementsinterfacemodelwithpicklastimplementationpicker repository exception repositoryexception session session resolver adapt to adaptto session node node resource adapt to adaptto node node child node childnode node add node addnode custom last implementation picker customlastimplementationpicker custom child node childnode set property setproperty first value firstvalue child node childnode set property setproperty third value thirdvalue session save resource child resource childresource resolver get resource getresource child node childnode get path getpath sample service interface sampleserviceinterface model adapter manager adaptermanager get adapter getadapter child resource childresource sample service interface sampleserviceinterface assert not null assertnotnull model assert equals assertequals implements interface property model implementsinterfacepropertymodel model get class getclass assert equals assertequals first value firstvalue second value secondvalue third value thirdvalue model get all properties getallproperties child node childnode remove session save
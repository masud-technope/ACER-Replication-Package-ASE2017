licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling cassandra resource provider prettyprint cassandra model cql rows cqlrows prettyprint cassandra serialize rs serializers string serializer stringserializer prettyprint hector api beans h column hcolumn prettyprint hector api beans row prettyprint hector api query query result queryresult org apache sling adapter annotations adaptable org apache sling adapter annotations adapter org apache sling api resource org apache sling api wrappers value map decorator valuemapdecorator org apache sling cassandra resource provider mapper cassandra mapper exception cassandramapperexception org apache sling cassandra resource provider util cassandra resource provider util cassandraresourceproviderutil org slf logger org slf logger factory loggerfactory java util adaptable adaptable class adaptableclass resource adapters adapter value map valuemap cassandra resource cassandraresource abstract resource abstractresource string resource path resourcepath string remaining path remainingpath string column family sector columnfamilysector cassandra resource provider cassandraresourceprovider resource provider resourceprovider resource resolver resourceresolver resource resolver resourceresolver logger logger logger factory loggerfactory get logger getlogger cassandra resource cassandraresource data loaded dataloaded string resource super type resourcesupertype sup cassandra supcassandra string resource type resourcetype cas and ra casandra string metadata resolution path info resolutionpathinfo json value map valuemap value map valuemap is transient istransient cassandra value map cassandravaluemap value map decorator valuemapdecorator cassandra value map cassandravaluemap string path hash map hashmap string object path path cassandra resource cassandraresource resource provider resourceprovider resource provider resourceprovider resource resolver resourceresolver resource resolver resourceresolver string resource path resourcepath value map valuemap value map valuemap resource provider resourceprovider cassandra resource provider cassandraresourceprovider resource provider resourceprovider resource resolver resourceresolver resource resolver resourceresolver resource path resourcepath resource path resourcepath remaining path remainingpath cassandra resource provider util cassandraresourceproviderutil get remaining path getremainingpath resource path resourcepath column family sector columnfamilysector cassandra resource provider util cassandraresourceproviderutil get column family sector getcolumnfamilysector resource path resourcepath value map valuemap value map valuemap cassandra resource cassandraresource resource provider resourceprovider resource provider resourceprovider resource resolver resourceresolver resource resolver resourceresolver string resource path resourcepath value map valuemap value map valuemap map string object string object map stringobjectmap resource provider resourceprovider cassandra resource provider cassandraresourceprovider resource provider resourceprovider resource resolver resourceresolver resource resolver resourceresolver resource path resourcepath resource path resourcepath remaining path remainingpath cassandra resource provider util cassandraresourceproviderutil get remaining path getremainingpath resource path resourcepath column family sector columnfamilysector cassandra resource provider util cassandraresourceproviderutil get column family sector getcolumnfamilysector resource path resourcepath value map valuemap value map valuemap is transient istransient metadata string object map stringobjectmap metadata to string tostring resource type resourcetype string object map stringobjectmap resource type resourcetype to string tostring resource super type resourcesupertype string object map stringobjectmap resource super type resourcesupertype to string tostring load resource data loadresourcedata resource provider resourceprovider resource provider resourceprovider cassandra resource provider cassandraresourceprovider cassandra resource provider cassandraresourceprovider cassandra resource provider cassandraresourceprovider resource provider resourceprovider todo column family sector columnfamilysector string cql cassandra resource provider cassandraresourceprovider get cassandra mapper map getcassandramappermap column family sector columnfamilysector getcql column family sector columnfamilysector remaining path remainingpath query result queryresult cql rows cqlrows string string string cassandra resource provider util cassandraresourceproviderutil execute query executequery cql cassandra resource provider cassandraresourceprovider resource provider resourceprovider get keys pace getkeyspace string serializer stringserializer populate data from result populatedatafromresult data loaded dataloaded cassandra mapper exception cassandramapperexception system println error occurred resource resource path resourcepath get message getmessage logger error error occurred resource resource path resourcepath get message getmessage populate data from result populatedatafromresult query result queryresult cql rows cqlrows string string string result row string string string row result get list getlist h column hcolumn column row get column slice getcolumnslice get columns getcolumns assume d assumed result key unique column get name getname equals metadata metadata column get value getvalue to string tostring column get name getname equals resource super type resourcesupertype resource super type resourcesupertype column get value getvalue to string tostring column get name getname equals resource type resourcetype resource type resourcetype column get value getvalue to string tostring string get path getpath resource path resourcepath override string get name getname cassandra resource provider util cassandraresourceproviderutil get name from path getnamefrompath resource path resourcepath override resource get parent getparent cassandra resource cassandraresource resource provider resourceprovider resource resolver resourceresolver cassandra resource provider util cassandraresourceproviderutil get parent path getparentpath resource path resourcepath value map valuemap override iterator resource list children listchildren list resource children array list arraylist resource query result queryresult cql rows cqlrows string string string result cassandra resource provider util cassandraresourceproviderutil get all nodes getallnodes resource provider resourceprovider get keys pace getkeyspace cassandra resource provider util cassandraresourceproviderutil get column family sector getcolumnfamilysector resource path resourcepath row string string string row result get list getlist h column hcolumn column row get column slice getcolumnslice get columns getcolumns path equals column get name getname cassandra resource provider util cassandraresourceproviderutil is an immediate child isanimmediatechild resource path resourcepath column get value getvalue to string tostring children add cassandra resource cassandraresource resource provider resourceprovider resource resolver resourceresolver column get value getvalue to string tostring value map valuemap exception system println error occurred child nodes get message getmessage logger error error occurred child nodes get message getmessage children iterator override iterable resource get children getchildren cassandra iterable cassandraiterable list children listchildren override resource get child getchild string resource provider resourceprovider get resource getresource resource resolver resourceresolver string builder stringbuilder resource path resourcepath ends with endswith resource path resourcepath substring resource path resourcepath length resource path resourcepath append append to string tostring cassandra resource cassandraresource resource provider resourceprovider resource resolver resourceresolver string builder stringbuilder resource path resourcepath ends with endswith resource path resourcepath substring resource path resourcepath length resource path resourcepath append append to string tostring value map valuemap string get resource type getresourcetype is transient istransient load resource data loadresourcedata resource provider resourceprovider resource type resourcetype string get resource super type getresourcesupertype is transient istransient load resource data loadresourcedata resource provider resourceprovider resource super type resourcesupertype override is resource type isresourcetype string is resource type isresourcetype resource metadata resourcemetadata get resource metadata getresourcemetadata is transient istransient load resource data loadresourcedata resource provider resourceprovider expected format metadata string character encoding characterencoding utf resolution path info resolutionpathinfo html metadata equals metadata metadata split length resource metadata resourcemetadata resource metadata resourcemetadata resource metadata resourcemetadata resource metadata resourcemetadata set modification time setmodificationtime system current time millis currenttimemillis resource metadata resourcemetadata set resolution path setresolutionpath resource path resourcepath resource metadata resourcemetadata resource metadata resourcemetadata resource metadata resourcemetadata resource metadata resourcemetadata string ele metadata split string key ele split trim string ele split trim character encoding characterencoding equals ignore case equalsignorecase key resource metadata resourcemetadata set character encoding setcharacterencoding content type contenttype equals ignore case equalsignorecase key resource metadata resourcemetadata set content type setcontenttype content length contentlength equals ignore case equalsignorecase key resource metadata resourcemetadata set content length setcontentlength integer value of valueof resolution path info resolutionpathinfo equals ignore case equalsignorecase key resource metadata resourcemetadata set resolution path info setresolutionpathinfo resource metadata resourcemetadata set modification time setmodificationtime system current time millis currenttimemillis resource metadata resourcemetadata set resolution path setresolutionpath resource path resourcepath resource metadata resourcemetadata resource resolver resourceresolver get resource resolver getresourceresolver resource resolver resourceresolver override suppress warnings suppresswarnings unchecked adapter type adaptertype adapter type adaptertype adapt to adaptto adapter type adaptertype type type value map valuemap adapter type adaptertype value map valuemap type modifiable value map modifiablevaluemap adapter type adaptertype value map valuemap adapt to adaptto type override string to string tostring string builder stringbuilder nresource path nresourcepath append resource path resourcepath append remaining path remainingpath append remaining path remainingpath append column family sector columnfamilysector append column family sector columnfamilysector append resource super type resourcesupertype append resource super type resourcesupertype append resource type resourcetype append resource type resourcetype append meta data metadata append metadata append to string tostring
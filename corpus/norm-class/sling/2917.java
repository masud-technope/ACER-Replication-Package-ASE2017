licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl log java io exception ioexception java print writer printwriter java text simple date format simpledateformat java util array list arraylist java util java util hash map hashmap java util iterator java util list java util locale java util map java util concurrent atomic atomic long atomiclong javax servlet servlet output stream servletoutputstream javax servlet http cookie javax servlet http http servlet response httpservletresponse javax servlet http http servlet response wrapper httpservletresponsewrapper org apache sling engine impl helper client abort exception clientabortexception request logger response requestloggerresponse http servlet response wrapper httpservletresponsewrapper content type header string header content type content type content length header string header content length content length format rfc string sun nov gmt simple date format simpledateformat rfc format simple date format simpledateformat eee mmm yyyy locale counter request filter request level filter hit counter count request enters request level component filter processing counter reset component activated time component res tarted restarted system start bundle start rec onfiguration reconfiguration request counter res tarts restarts atomic long atomiclong request counter requestcounter atomic long atomiclong todo content headers content language supported request counter request id requestid system time request entered system time instance created request start requeststart system time request exited system time call request end requestend method request end requestend output stream wrapper providing transferred count logger response output stream loggerresponseoutputstream print writer wrapper providing transferred character count logger response writer loggerresponsewriter writer caches status status cookies request indexed cookie map string cookie cookies headers request indexed header string single value d valued list multi value d valued headers map string object headers request logger response requestloggerresponse http servlet response httpservletresponse response response request id requestid request counter requestcounter get and increment getandincrement request start requeststart system current time millis currenttimemillis called request processing ended method sets request time returned link get request end getrequestend calculate request duration request end requestend request end requestend system current time millis currenttimemillis sling http servlet response slinghttpservletresponse override servlet output stream servletoutputstream get output stream getoutputstream io exception ioexception servlet output stream servletoutputstream sos get output stream getoutputstream logger response output stream loggerresponseoutputstream sos override print writer printwriter get writer getwriter io exception ioexception writer print writer printwriter get writer getwriter writer logger response writer loggerresponsewriter writer error handling sling error resolver override send redirect sendredirect string location io exception ioexception send redirect sendredirect location replicate status code call base status moved temp orarily temporarily override send error senderror status io exception ioexception send error senderror status status status override send error senderror status string message io exception ioexception send error senderror status message status status override set status setstatus status string message set status setstatus status message status status override set status setstatus status set status setstatus status status status override add cookie addcookie cookie cookie register cookie cookies cookies hash map hashmap string cookie cookies cookie get name getname cookie add cookie addcookie cookie override add date header adddateheader string register header registerheader to date string todatestring add date header adddateheader override add header addheader string string register header registerheader add header addheader override add int header addintheader string register header registerheader string value of valueof add int header addintheader override set content length setcontentlength len register header registerheader header content length string value of valueof len set content length setcontentlength len override set content type setcontenttype string type sling handling required correct register header registerheader header content type type set content type setcontenttype type override set character encoding setcharacterencoding string charset sling ignore call get writer getwriter called writer set character encoding setcharacterencoding charset override set date header setdateheader string register header registerheader to date string todatestring set date header setdateheader override set header setheader string string register header registerheader set header setheader override set int header setintheader string register header registerheader string value of valueof set header setheader string value of valueof override set locale setlocale locale loc todo register content language header set locale setlocale loc retrieving response get request id getrequestid request id requestid get request start getrequeststart request start requeststart get request end getrequestend request end requestend get request duration getrequestduration request end requestend request start requeststart get status getstatus status get count getcount get count getcount writer writer get count getcount cookie get cookie getcookie string cookies cookie cookies string get headers string getheadersstring string normalize header support insensitive headers to lower case tolowercase object header headers headers header header string string header string builder stringbuilder header buf headerbuf string builder stringbuilder iterator list header iterator has next hasnext header buf headerbuf length header buf headerbuf append header buf headerbuf append header buf headerbuf to string tostring internal helper stores header pair header map converted map param header register param header register param add code code header list existing header values replaces existing values suppress warnings suppresswarnings unchecked register header registerheader string string add ensure headers map headers headers hash map hashmap string object normalize header support insensitive headers to lower case tolowercase retrieve current contents adding assume current object current add headers current single for ced forced add headers current string create list single list string list array list arraylist string list add string current list add headers list append list list object current add converts time number milliseconds january time string comp liant compliant rfc specification string comp liant compliant full href http faqs org rfcs rfc html rfc header code code param convert string string representation time string to date string todatestring rfc format rfc format format transfer counting servlet output stream servletoutputstream logger response output stream loggerresponseoutputstream servlet output stream servletoutputstream servlet output stream servletoutputstream delegatee count logger response output stream loggerresponseoutputstream servlet output stream servletoutputstream delegatee delegatee delegatee get count getcount count override write io exception ioexception delegatee write count io exception ioexception ioe client abort exception clientabortexception ioe override write io exception ioexception delegatee write count length io exception ioexception ioe client abort exception clientabortexception ioe override write len io exception ioexception delegatee write len count len io exception ioexception ioe client abort exception clientabortexception ioe override flush io exception ioexception delegatee flush io exception ioexception ioe client abort exception clientabortexception ioe override close io exception ioexception delegatee close io exception ioexception ioe client abort exception clientabortexception ioe character transfer counting print writer printwriter logger response writer loggerresponsewriter print writer printwriter separator length system get property getproperty separator length count logger response writer loggerresponsewriter print writer printwriter delegatee delegatee get count getcount count override write write count override write buf len write buf len count len override write string len write len count len override println println count separator length
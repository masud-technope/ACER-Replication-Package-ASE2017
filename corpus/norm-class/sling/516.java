licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling mailarchiveserver impl org junit assert equals assertequals java file java file input stream fileinputstream java io exception ioexception java util array list arraylist java util collection java util hash set hashset java util iterator java util list java util org apache james mime dom message org apache sling mailarchiveserver util org junit test org junit runner run with runwith org junit run ners runners parameterized org junit run ners runners parameterized parameters run with runwith parameterized mime j mbox parser impl count test jmboxparserimplcounttest mime j mbox parser impl jmboxparserimpl parser mime j mbox parser impl jmboxparserimpl string file path filepath expected messages count expectedmessagescount parameters collection object data list object params array list arraylist object params add object messages mbox params add object mbox jackrabbit dev mbox params add object mbox had oop hadoop common dev mbox params add object mbox sling dev mbox params add object mbox tomcat dev mbox params mime j mbox parser impl count test jmboxparserimplcounttest string path count file path filepath path expected messages count expectedmessagescount count test test parse testparse io exception ioexception iterator message iter parser parse file input stream fileinputstream file test folder file path filepath cnt message hash set hashset message iter has next hasnext message message message iter cnt add message assert equals assertequals expecting correct number messages parsed expected messages count expectedmessagescount cnt assert equals assertequals expecting messages unique expected messages count expectedmessagescount size
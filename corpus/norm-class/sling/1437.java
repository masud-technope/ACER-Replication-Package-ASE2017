licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing tools sling org junit fail java file java file input stream fileinputstream java io exception ioexception java util linked list linkedlist java util list java util jar jar input stream jarinputstream java util jar manifest org apache sling testing tools osgi web console client webconsoleclient org osgi framework constants org slf logger org slf logger factory loggerfactory utility installs starts additional bundles testing bundles installer bundlesinstaller logger log logger factory loggerfactory get logger getlogger get class getclass web console client webconsoleclient webconsole client webconsoleclient string active active bundles installer bundlesinstaller web console client webconsoleclient wcc webconsole client webconsoleclient wcc is installed isinstalled file bundle file bundlefile exception string bundle symbolic name bundlesymbolicname get bundle symbolic name getbundlesymbolicname bundle file bundlefile log debug checking installed bundle symbolic name bundlesymbolicname webconsole client webconsoleclient check bundle installed checkbundleinstalled bundle symbolic name bundlesymbolicname succeeds install log debug installed bundle symbolic name bundlesymbolicname assertion error assertionerror log debug installed bundle symbolic name bundlesymbolicname check installed version matches bundle file is installed with same version isinstalledwithsameversion file bundle file bundlefile exception string bundle symbolic name bundlesymbolicname get bundle symbolic name getbundlesymbolicname bundle file bundlefile string version on server versiononserver webconsole client webconsoleclient get bundle version getbundleversion bundle symbolic name bundlesymbolicname string version in bundle versioninbundle get bundle version getbundleversion bundle file bundlefile version on server versiononserver equals version in bundle versioninbundle log info bundle installed doesn match bundle symbolic name bundlesymbolicname version on server versiononserver version on server versiononserver version in bundle versioninbundle version in bundle versioninbundle install list bundles supplied files install bundles installbundles list file to install toinstall start bundles startbundles exception file to install toinstall string bundle symbolic name bundlesymbolicname get bundle symbolic name getbundlesymbolicname is installed isinstalled get name getname snapshot log info reinstalling snapshot version bundle symbolic name bundlesymbolicname webconsole client webconsoleclient uninstall bundle uninstallbundle bundle symbolic name bundlesymbolicname is installed with same version isinstalledwithsameversion log info reinstalling version mismatch bundle symbolic name bundlesymbolicname webconsole client webconsoleclient uninstall bundle uninstallbundle bundle symbolic name bundlesymbolicname log info reinstalling bundle symbolic name bundlesymbolicname webconsole client webconsoleclient install bundle installbundle start bundles startbundles log info installed bundle symbolic name bundlesymbolicname ensure bundles wired esp existing bundle updated webconsole client webconsoleclient refresh packages refreshpackages log info additional bundles installed to install toinstall size uninstall list bundles supplied files uninstall bundles uninstallbundles list file to uninstall touninstall exception file to uninstall touninstall string bundle symbolic name bundlesymbolicname get bundle symbolic name getbundlesymbolicname is installed isinstalled log info uninstalling bundle bundle symbolic name bundlesymbolicname webconsole client webconsoleclient uninstall bundle uninstallbundle bundle symbolic name bundlesymbolicname log info uninstall installed bundle symbolic name bundlesymbolicname ensure bundles wired esp existing bundle updated webconsole client webconsoleclient refresh packages refreshpackages log info additional bundles uninstalled to uninstall touninstall size wait bundles symbolic names symbolicnames list installed remote web console wait for bundles installed waitforbundlesinstalled list string symbolic names symbolicnames timeout seconds timeoutseconds exception log info checking bundles installed timeout seconds timeout seconds timeoutseconds symbolic names symbolicnames string symbolic name symbolicname symbolic names symbolicnames webconsole client webconsoleclient check bundle installed checkbundleinstalled symbolic name symbolicname timeout seconds timeoutseconds start all bundles startallbundles list string symbolic names symbolicnames timeout seconds timeoutseconds exception log info starting bundles timeout seconds timeout seconds timeoutseconds symbolic names symbolicnames timeout system current time millis currenttimemillis timeout seconds timeoutseconds list string to start tostart linked list linkedlist string system current time millis currenttimemillis timeout to start tostart clear string symbolic names symbolicnames string webconsole client webconsoleclient get bundle state getbundlestate equals ignore case equalsignorecase active to start tostart add to start tostart is empty isempty log info bundles active string to start tostart webconsole client webconsoleclient start bundle startbundle thread sleep to start tostart is empty isempty fail bundles start to start tostart string get bundle symbolic name getbundlesymbolicname file bundle file bundlefile io exception ioexception string jar input stream jarinputstream jis jar input stream jarinputstream file input stream fileinputstream bundle file bundlefile manifest jis get manifest getmanifest fail manifest bundle file bundlefile get absolute path getabsolutepath get main attributes getmainattributes get value getvalue constants bundle symbolicname jis close string get bundle version getbundleversion file bundle file bundlefile io exception ioexception string version jar input stream jarinputstream jis jar input stream jarinputstream file input stream fileinputstream bundle file bundlefile manifest jis get manifest getmanifest fail manifest bundle file bundlefile get absolute path getabsolutepath version get main attributes getmainattributes get value getvalue constants bundle version jis close version
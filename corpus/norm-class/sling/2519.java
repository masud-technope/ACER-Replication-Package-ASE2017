licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide impl vlt java util arrays as list aslist org hamcrest matchers equal to equalto org junit assert that assertthat java file java util array list arraylist java util list javax jcr node javax jcr node iterator nodeiterator javax jcr session javax jcr simple credentials simplecredentials org apache jackrabbit core transient repository transientrepository org apache sling ide log logger org apache sling ide transport resource proxy resourceproxy org junit test reorder child nodes command test reorderchildnodescommandtest logger logger slf j logger jlogger test single reordering singlereordering exception do reordering test doreorderingtest as list aslist as list aslist test multiple reorder ings multiplereorderings exception do reordering test doreorderingtest as list aslist fourth as list aslist fourth test no reordering needed noreorderingneeded exception do reordering test doreorderingtest as list aslist as list aslist test reordering skipped due to different children reorderingskippedduetodifferentchildren exception do reordering test doreorderingtest as list aslist as list aslist fourth as list aslist do reordering test doreorderingtest list string node names nodenames list string resource names resourcenames exception do reordering test doreorderingtest node names nodenames resource names resourcenames do reordering test doreorderingtest list string node names nodenames list string resource names resourcenames list string expected exception expected expected resource names resourcenames file file file target jackrabbit transient repository transientrepository repo transient repository transientrepository file repository xml file repository simple credentials simplecredentials credentials simple credentials simplecredentials admin admin to char array tochararray session session repo login credentials list string final order finalorder node content session get root node getrootnode add node addnode content string node name nodename node names nodenames content add node addnode node name nodename session save resource proxy resourceproxy resource new resource newresource content unstructured string resource name resourcename resource names resourcenames resource add child addchild new resource newresource content resource name resourcename unstructured reorder child nodes command reorderchildnodescommand cmd reorder child nodes command reorderchildnodescommand repo credentials resource logger cmd execute session refresh final order finalorder array list arraylist node iterator nodeiterator nodes session get node getnode content get nodes getnodes nodes has next hasnext final order finalorder add nodes next node nextnode get name getname session remove item removeitem content session save session log out logout assert that assertthat incorrect node order final order finalorder equal to equalto expected resource proxy resourceproxy new resource newresource string path string primary type primarytype resource proxy resourceproxy resource resource proxy resourceproxy path resource add property addproperty jcr primary type primarytype primary type primarytype resource
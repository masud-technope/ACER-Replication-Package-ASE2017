licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad tests ervices testservices server side tests serversidetests javax jcr session org apache sling launchpad tests ervices testservices events events counter eventscounter org slf logger org slf logger factory loggerfactory facade saving mappings waiting events map pings facade mappingsfacade string mapping event topic org apache sling api resource resource resolver mapping resourceresolvermapping changed logger logger logger factory loggerfactory get logger getlogger map pings facade mappingsfacade events counter eventscounter events counter eventscounter first instance firstinstance wait mapping updates string mapping update timeout msec resource resolver test resourceresolvertest mapping update timeout msec update timeout updatetimeout value of valueof system get property getproperty mapping update timeout msec map pings facade mappingsfacade events counter eventscounter first instance firstinstance logger info update timeout updatetimeout system property change update timeout updatetimeout mapping update timeout msec first instance firstinstance events counter eventscounter save session mapping wait osg i osgi event sig nals signals mappings updated error message string save map pings savemappings session session exception old events count oldeventscount events counter eventscounter get events count geteventscount mapping event topic logger debug saving session waiting event counter change current mapping event topic old events count oldeventscount session save timeout system current time millis currenttimemillis update timeout updatetimeout system current time millis currenttimemillis timeout new count newcount events counter eventscounter get events count geteventscount mapping event topic new count newcount old events count oldeventscount sleeping should n shouldn needed mappings updated event arrives logger debug event counter mapping event topic new count newcount thread sleep update timeout updatetimeout thread sleep interrupted exception interruptedexception ignore timeout waiting mapping event topic event update timeout updatetimeout msec
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets resolver internal helper java util iterator java util org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling servlets resolver internal servlet resolver constants servletresolverconstants code resource collector resourcecollector code single method link get servlets getservlets resource resolver resourceresolver find ordered collection code resource code instances find servlet script handle request resource name d script resource collector namedscriptresourcecollector abstract resource collector abstractresourcecollector string script name scriptname name d script resource collector namedscriptresourcecollector create string resource resource string execution paths executionpaths string resource type resourcetype string resource super type resourcesupertype string base resource type baseresourcetype string extension string script name scriptname resource resource type resourcetype resource get resource type getresourcetype resource super type resourcesupertype resource get resource super type getresourcesupertype base resource type baseresourcetype servlet resolver constants servletresolverconstants servlet resource type resourcetype resource super type resourcesupertype base resource type baseresourcetype script name scriptname pos last index of lastindexof pos extension extension substring pos name d script resource collector namedscriptresourcecollector base resource type baseresourcetype resource type resourcetype resource super type resourcesupertype script name scriptname extension execution paths executionpaths name d script resource collector namedscriptresourcecollector string base resource type baseresourcetype string resource type resourcetype string resource super type resourcesupertype string script name scriptname string extension string execution paths executionpaths base resource type baseresourcetype resource type resourcetype resource super type resourcesupertype extension execution paths executionpaths script name scriptname script name scriptname create hash code string key base resource type baseresourcetype script name scriptname resource type resourcetype resource super type resourcesupertype resource super type resourcesupertype extension extension hash code hashcode key hash code hashcode override get weighted resources getweightedresources resource resources resource location resource resolver resourceresolver resolver location get resource resolver getresourceresolver extension check exact script match extension string path resource util resourceutil normalize location get path getpath script name scriptname is path allowed ispathallowed path resource current resolver get resource getresource path current add weighted resource addweightedresource resources current weighted resource weightedresource weight extension script denotes path denoted resource resource current string pos script name scriptname last index of lastindexof pos current location script name scriptname current get resource getresource resolver location get path getpath script name scriptname substring pos script name scriptname substring pos iterator resource children resolver list children listchildren current children has next hasnext resource child children is path allowed ispathallowed child get path getpath string current script name currentscriptname child get name getname last dot lastdot current script name currentscriptname last index of lastindexof last dot lastdot extension script current script name currentscriptname substring last dot lastdot equals add weighted resource addweightedresource resources child weighted resource weightedresource weight prefix override equals object obj obj name d script resource collector namedscriptresourcecollector obj equals obj name d script resource collector namedscriptresourcecollector name d script resource collector namedscriptresourcecollector obj string equals stringequals script name scriptname script name scriptname
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling mailarchive stats impl java io exception ioexception java input stream inputstream java print writer printwriter java util iterator javax servlet servlet exception servletexception javax servlet http http servlet response httpservletresponse org apache felix scr annotations reference org apache felix scr annotations sling sling servlet slingservlet org apache james mime dom message org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api request request parameter requestparameter org apache sling api servlets sling all methods servlet slingallmethodsservlet org apache sling mailarchive stats mail stats processor mailstatsprocessor org apache sling mailarchiveserver api mbox parser mboxparser suppress warnings suppresswarnings serial sling servlet slingservlet resource types resourcetypes mailarchiveserver methods post selectors stats stats test servlet statstestservlet test stats cur l curl admin admin xpost fmboxfile jackrabbit dev mbox http localhost content mailarchiveserver stats txt sling all methods servlet slingallmethodsservlet string file attr ib attrib mbox file mboxfile reference mbox parser mboxparser parser reference mail stats processor mailstatsprocessor processor override do post dopost sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response servlet exception servletexception io exception ioexception request parameter requestparameter param request get request parameter getrequestparameter file attr ib attrib param response send error senderror http servlet response httpservletresponse bad request missing required parameter file attr ib attrib input stream inputstream print writer printwriter response get writer getwriter response set content type setcontenttype text plain response set character encoding setcharacterencoding utf param get input stream getinputstream println creating stats supplied mbox file counter iterator message parser parse has next hasnext message string mail stats processor impl mailstatsprocessorimpl to array toarray get to getto string mail stats processor impl mailstatsprocessorimpl to array toarray get cc getcc string mail stats processor impl mailstatsprocessorimpl to array toarray get from getfrom processor compute stats computestats get date getdate to string tostring counter println counter messages parsed processor flush flush close
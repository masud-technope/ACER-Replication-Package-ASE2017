licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl jobs org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull java util collections org apache sling event jobs consumer job consumer jobconsumer org apache sling event jobs consumer job executor jobexecutor org junit test org mockito mockito org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service reference servicereference job consumer manager test jobconsumermanagertest test test simple mapping consumer testsimplemappingconsumer bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job consumer jobconsumer mockito mock job consumer jobconsumer service reference servicereference mockito mock service reference servicereference mockito get property getproperty job consumer jobconsumer property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job consumer bindjobconsumer assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor test test category mapping consumer testcategorymappingconsumer bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job consumer jobconsumer mockito mock job consumer jobconsumer service reference servicereference mockito mock service reference servicereference mockito get property getproperty job consumer jobconsumer property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job consumer bindjobconsumer assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor test test sub category mapping consumer testsubcategorymappingconsumer bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job consumer jobconsumer mockito mock job consumer jobconsumer service reference servicereference mockito mock service reference servicereference mockito get property getproperty job consumer jobconsumer property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job consumer bindjobconsumer assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert not null assertnotnull jcs get executor getexecutor assert not null assertnotnull jcs get executor getexecutor test test simple mapping executor testsimplemappingexecutor bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job executor jobexecutor mockito mock job executor jobexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job consumer jobconsumer property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor test test category mapping executor testcategorymappingexecutor bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job executor jobexecutor mockito mock job executor jobexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job executor jobexecutor property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor test test sub category mapping executor testsubcategorymappingexecutor bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job executor jobexecutor mockito mock job executor jobexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job executor jobexecutor property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert not null assertnotnull jcs get executor getexecutor assert null assertnull jcs get executor getexecutor assert not null assertnotnull jcs get executor getexecutor assert not null assertnotnull jcs get executor getexecutor test test ranking testranking bundle context bundlecontext mockito mock bundle context bundlecontext job consumer manager jobconsumermanager jcs job consumer manager jobconsumermanager jcs activate collections empty map job executor jobexecutor mockito mock job executor jobexecutor job executor jobexecutor mockito mock job executor jobexecutor job executor jobexecutor mockito mock job executor jobexecutor job executor jobexecutor mockito mock job executor jobexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job executor jobexecutor property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert equals assertequals jcs get executor getexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job executor jobexecutor property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert equals assertequals jcs get executor getexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job executor jobexecutor property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert equals assertequals jcs get executor getexecutor service reference servicereference mockito mock service reference servicereference mockito get property getproperty job executor jobexecutor property topics then return thenreturn mockito get property getproperty constants service ranking then return thenreturn mockito get property getproperty constants service then return thenreturn mockito get service getservice then return thenreturn jcs bind job executor bindjobexecutor assert equals assertequals jcs get executor getexecutor jcs unbind job executor unbindjobexecutor assert equals assertequals jcs get executor getexecutor jcs unbind job executor unbindjobexecutor assert equals assertequals jcs get executor getexecutor
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event org junit assert equals assertequals org junit assert not null assertnotnull java io exception ioexception java util java util concurrent atomic atomic integer atomicinteger org apache sling event jobs job org apache sling event jobs scheduled job info scheduledjobinfo org apache sling event jobs consumer job consumer jobconsumer org junit org junit org junit test org junit runner run with runwith org ops pax exam junit pax exam paxexam org ops pax exam spi reactors exam reactor strategy examreactorstrategy org ops pax exam spi reactors per method permethod org osgi framework service registration serviceregistration run with runwith pax exam paxexam exam reactor strategy examreactorstrategy per method permethod time d jobs test timedjobstest abstract job handling test abstractjobhandlingtest string topic time d timed test topic override setup io exception ioexception setup sleep override cleanup cleanup test timeout test timeout test time d job testtimedjob exception atomic integer atomicinteger counter atomic integer atomicinteger service registration serviceregistration eh reg ehreg register job consumer registerjobconsumer topic job consumer jobconsumer override job result jobresult process job job job get topic gettopic equals topic counter increment and get incrementandget job result jobresult seconds set time settime system current time millis currenttimemillis create scheduled job scheduled job info scheduledjobinfo info get job manager getjobmanager create job createjob topic schedule add assert not null assertnotnull info counter sleep job scheduled assert equals assertequals get job manager getjobmanager get scheduled jobs getscheduledjobs size info unschedule eh reg ehreg unregister
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl org apache sling api sling constants slingconstants error request uri org apache sling api sling constants slingconstants error servlet java i o exception ioexception java print writer printwriter javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api request request progress tracker requestprogresstracker org apache sling api request response util responseutil org apache sling engine servlets error handler errorhandler org slf logger org slf logger factory loggerfactory code default error handler defaulterrorhandler code link sling request processor impl slingrequestprocessorimpl link error handler errorhandler service registered default error handler defaulterrorhandler error handler errorhandler log logger log logger factory loggerfactory get logger getlogger get class getclass string server info serverinfo sling main servlet slingmainservlet product fails output report failure error handler errorhandler delegate set server info setserverinfo string server info serverinfo server info serverinfo server info serverinfo server info serverinfo sling main servlet slingmainservlet product set delegate setdelegate error handler errorhandler delegate error handler errorhandler get delegate getdelegate delegate delegate failed delegatefailed original status originalstatus string original message originalmessage throwable http servlet request httpservletrequest request http servlet response httpservletresponse response i o exception ioexception don include throwable response string error handler failed get class getclass get name getname log error send error senderror original status originalstatus original message originalmessage request response error handler errorhandler implementation backend implementation http servlet response httpservletresponse send error senderror methods implementation res ets resets response sending standard ized standardized response conveys status message message derived status code server method logs error write response data response committed handle error handleerror status string message sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response i o exception ioexception delegate handle error delegate delegate handle error handleerror status message request response exception delegate failed delegatefailed status message request response error delegate failed delegatefailed status message request response message message http error string value of valueof status message http error status message send error senderror status message request response backend implementation handling uncaught throw ables throwables implementation res ets resets response sending standard ized standardized response conveys status internal server error message throwable stack trace stacktrace server method logs error write response data response committed handle error handleerror throwable throwable sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response i o exception ioexception status http servlet response httpservletresponse internal server error delegate handle error delegate delegate handle error handleerror throwable request response exception delegate failed delegatefailed status throwable to string tostring request response error delegate failed delegatefailed status throwable to string tostring request response send error senderror status throwable get message getmessage throwable request response send error senderror status string message throwable throwable http servlet request httpservletrequest request http servlet response httpservletresponse response i o exception ioexception response is committed iscommitted log error handle error handleerror response committed send error status message throwable error situation string servlet name servletname string request get attribute getattribute error servlet string requesturi string request get attribute getattribute error request uri requesturi requesturi request getrequesturi reset response response reset status content type encoding response set status setstatus status response set content type setcontenttype text html charset utf print writer printwriter response get writer getwriter println html head title println response util responseutil escape xml escapexml message println title head body throwable println response util responseutil escape xml escapexml throwable to string tostring message println response util responseutil escape xml escapexml message println internal error exception report println print requesturi println response util responseutil escape xml escapexml request getrequesturi servlet name servletname println servlet println response util responseutil escape xml escapexml servlet name servletname println throwable print writer printwriter escaping writer escapingwriter print writer printwriter response util responseutil get xml escaping writer getxmlescapingwriter println exception stack trace stacktrace println pre flush throwable print stack trace printstacktrace escaping writer escapingwriter escaping writer escapingwriter flush println pre request progress tracker requestprogresstracker tracker sling http servlet request slinghttpservletrequest request get request progress tracker getrequestprogresstracker println request progress println pre flush tracker dump print writer printwriter escaping writer escapingwriter escaping writer escapingwriter flush println pre println address println response util responseutil escape xml escapexml server info serverinfo println address body html commit response response flush buffer flushbuffer close response sling close
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons logs ervice logservice internal org junit assert equals assertequals java lang reflect field java util hash map hashmap java util map org junit test org mockito mockito org mockito invocation invocation on mock invocationonmock org mockito stub bin g stubbing answer org osgi framework bundle org osgi framework constants org osgi framework service event serviceevent org osgi framework service reference servicereference org osgi service log log entry logentry org osgi service log log service logservice org osgi service start level startlevel start level startlevel org slf logger log support test logsupporttest test suppress warnings suppresswarnings unchecked test service event testserviceevent exception start level startlevel start level startlevel mockito mock start level startlevel log support logsupport log support logsupport start level startlevel field log support logsupport get declared field getdeclaredfield log gers loggers set accessible setaccessible map logger log gers loggers map logger bundle mockito mock bundle mockito get symbolic name getsymbolicname then return thenreturn foo bundle mockito get bundle id getbundleid then return thenreturn map string object props hash map hashmap string object props constants object class objectclass string props constants service service reference servicereference mockito mock service reference servicereference mockito get bundle getbundle then return thenreturn mockito get property getproperty mockito any string anystring answer object object answer invocation on mock invocationonmock invocation throwable props invocation get arguments getarguments mockito get property keys getpropertykeys then return thenreturn props key set keyset to array toarray string service event serviceevent service event serviceevent service event serviceevent registered logger test logger testlogger get mock info logger getmockinfologger log gers loggers test logger testlogger service changed servicechanged mockito verify test logger testlogger info service service event serviceevent registered throwable test suppress warnings suppresswarnings unchecked test early exit testearlyexit exception bundle mockito mock bundle mockito get symbolic name getsymbolicname then return thenreturn bar bundle mockito get bundle id getbundleid then return thenreturn service reference servicereference mockito mock service reference servicereference log entry logentry log entry impl logentryimpl log service logservice log debug test start level startlevel start level startlevel mockito mock start level startlevel log support logsupport log support logsupport start level startlevel field log support logsupport get declared field getdeclaredfield log gers loggers set accessible setaccessible map logger log gers loggers map logger logger test logger testlogger get mock info logger getmockinfologger log gers loggers test logger testlogger fire log event firelogevent log message debug level logger info level don actual log info call preparatory work log message involves ins pecting inspecting service reference mockito verify test logger testlogger is trace enabled istraceenabled mockito verify test logger testlogger is debug enabled isdebugenabled mockito verify test logger testlogger is info enabled isinfoenabled mockito verify no more int eractions verifynomoreinteractions test logger testlogger mockito verify zero int eractions verifyzerointeractions test suppress warnings suppresswarnings unchecked test error logger testerrorlogger exception bundle mockito mock bundle mockito get symbolic name getsymbolicname then return thenreturn bar bundle mockito get bundle id getbundleid then return thenreturn exception exception log entry logentry log entry impl logentryimpl log service logservice log error error msg start level startlevel start level startlevel mockito mock start level startlevel log support logsupport log support logsupport start level startlevel field log support logsupport get declared field getdeclaredfield log gers loggers set accessible setaccessible map logger log gers loggers map logger logger test logger testlogger get mock info logger getmockinfologger log gers loggers test logger testlogger fire log event firelogevent mockito verify test logger testlogger error error msg java lang exception test test get levels testgetlevels logger trace logger tracelogger mockito mock logger mockito trace logger tracelogger is trace enabled istraceenabled then return thenreturn assert equals assertequals log support logsupport get level getlevel trace logger tracelogger logger debug logger debuglogger mockito mock logger mockito debug logger debuglogger is debug enabled isdebugenabled then return thenreturn assert equals assertequals log service logservice log debug log support logsupport get level getlevel debug logger debuglogger logger info logger infologger mockito mock logger mockito info logger infologger is info enabled isinfoenabled then return thenreturn assert equals assertequals log service logservice log info log support logsupport get level getlevel info logger infologger logger warn logger warnlogger mockito mock logger mockito warn logger warnlogger is warn enabled iswarnenabled then return thenreturn assert equals assertequals log service logservice log warning log support logsupport get level getlevel warn logger warnlogger logger error logger errorlogger mockito mock logger mockito error logger errorlogger is error enabled iserrorenabled then return thenreturn assert equals assertequals log service logservice log error log support logsupport get level getlevel error logger errorlogger logger get mock info logger getmockinfologger logger test logger testlogger mockito mock logger mockito test logger testlogger is trace enabled istraceenabled then return thenreturn mockito test logger testlogger is debug enabled isdebugenabled then return thenreturn mockito test logger testlogger is info enabled isinfoenabled then return thenreturn mockito test logger testlogger is warn enabled iswarnenabled then return thenreturn mockito test logger testlogger is error enabled iserrorenabled then return thenreturn test logger testlogger
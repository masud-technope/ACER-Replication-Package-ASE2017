licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling datasource internal java print writer printwriter java sql connection java sql driver java sql driver manager drivermanager java sql sql exception sqlexception java sql sql feature not supported exception sqlfeaturenotsupportedexception java util collection java util collections java util properties java util logging logger javax sql data source datasource org apache tomcat jdbc pool connection pool connectionpool org apache tomcat jdbc pool pool configuration poolconfiguration org apache tomcat jdbc pool pool utilities poolutilities org osgi framework bundle context bundlecontext org slf logger factory loggerfactory data source datasource implementation connection creation tomcat jdbc support drive instance running osg i osgi env driver registry driverregistry main tains maintains list driver instances driver data source driverdatasource driver registry driverregistry lookup driver instance avoid req uirement requirement driver osg i osgi bundle att aches attaches fragments bundle driver data source driverdatasource data source datasource pool configuration poolconfiguration pool properties poolproperties driver registry driverregistry driver registry driverregistry bundle context bundlecontext bundle context bundlecontext org slf logger log logger factory loggerfactory get logger getlogger get class getclass driver driver data source factory datasourcefactory data source factory datasourcefactory driver data source driverdatasource pool configuration poolconfiguration pool properties poolproperties driver registry driverregistry driver registry driverregistry bundle context bundlecontext bundle context bundlecontext data source factory datasourcefactory data source factory datasourcefactory pool properties poolproperties pool properties poolproperties driver registry driverregistry driver registry driverregistry bundle context bundlecontext bundle context bundlecontext data source factory datasourcefactory data source factory datasourcefactory connection get connection getconnection sql exception sqlexception get connection getconnection connection get connection getconnection string usr string pwd sql exception sqlexception properties properties pool utilities poolutilities clone pool properties poolproperties get db properties getdbproperties usr usr pool properties poolproperties get username getusername pwd pwd pool properties poolproperties get password getpassword usr properties set property setproperty pool utilities poolutilities prop user usr pwd properties set property setproperty pool utilities poolutilities prop password pwd string driverurl pool properties poolproperties get url geturl connection connection connection get driver getdriver connect driverurl properties exception log is debug enabled isdebugenabled log debug unable connect database org apache tomcat jdbc pool jmx connection pool connectionpool jmx pool jmxpool get jmx pool getjmxpool jmx pool jmxpool jmx pool jmxpool notify org apache tomcat jdbc pool jmx connection pool connectionpool notify connect connection pool connectionpool get stack trace getstacktrace sql exception sqlexception sql exception sqlexception sql exception sqlexception sql exception sqlexception get message getmessage init cause initcause connection sql exception sqlexception driver driver returned url driverurl connection data source datasource print writer printwriter get log writer getlogwriter sql exception sqlexception sql feature not supported exception sqlfeaturenotsupportedexception set log writer setlogwriter print writer printwriter sql exception sqlexception set login timeout setlogintimeout seconds sql exception sqlexception get login timeout getlogintimeout sql exception sqlexception jdk suppress warnings suppresswarnings unused declaration unuseddeclaration logger get parent logger getparentlogger sql feature not supported exception sqlfeaturenotsupportedexception sql feature not supported exception sqlfeaturenotsupportedexception unwrap iface sql exception sqlexception is wrapper for iswrapperfor iface sql exception sqlexception org apache tomcat jdbc pool jmx connection pool connectionpool get jmx pool getjmxpool data source factory datasourcefactory get pool getpool data source factory datasourcefactory get pool getpool get jmx pool getjmxpool driver get driver getdriver sql exception sqlexception driver driver string url pool properties poolproperties get url geturl collection driver drivers driver registry driverregistry get drivers getdrivers drivers is empty isempty log debug driver registered drivers url driver find matching driver findmatchingdriver drivers driver pool properties poolproperties get driver class name getdriverclassname log debug driver class name classname url pool properties poolproperties get driver class name getdriverclassname driver load driver class loaddriverclass driver redundant driver manager drivermanager filter drivers classes visible bundle class loader classloader list empty cases log debug driver driver manager drivermanager driver find matching driver findmatchingdriver collections list driver manager drivermanager get drivers getdrivers driver string msg string format find matching driver url driver class name driverclassname url pool properties poolproperties get driver class name getdriverclassname sql exception sqlexception msg driver driver load driver class loaddriverclass sql exception sqlexception log debug ins tantiating instantiating driver url pool properties poolproperties get driver class name getdriverclassname pool properties poolproperties get url geturl driver bundle context bundlecontext get bundle getbundle load class loadclass pool properties poolproperties get driver class name getdriverclassname new instance newinstance java lang exception log debug unable instantiate jdbc driver sql exception sqlexception sql exception sqlexception get message getmessage init cause initcause driver find matching driver findmatchingdriver collection driver drivers string url pool properties poolproperties get url geturl driver driver drivers driver acceptsurl url driver sql exception sqlexception log debug error occurred matching driver url url
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl java util array list arraylist java util arrays java util dictionary java util hashtable java util list javax management attribute javax management attribute list attributelist javax management attribute not found exception attributenotfoundexception javax management dynamicmbean javax management invalid attribute value exception invalidattributevalueexception javax management m bean attribute info mbeanattributeinfo javax management m bean exception mbeanexception javax management m bean info mbeaninfo javax management m bean operation info mbeanoperationinfo javax management m bean parameter info mbeanparameterinfo javax management ref lection exception reflectionexception org apache commons lang string utils stringutils org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache sling api health check healthcheck org apache sling api result org apache sling api result status org apache sling api result log resultlog entry org apache sling util formatting result log formattingresultlog org osgi framework bundle context bundlecontext org osgi framework service registration serviceregistration org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory dynamically add health check returns warn critical tags testing purposes m bean mbean add remove dynamic testing health check dynamictestinghealthcheck dynamically component jmx adjustable status for testing jmxadjustablestatusfortesting logger log logger factory loggerfactory get logger getlogger jmx adjustable status for testing jmxadjustablestatusfortesting string object org apache sling health check healthcheck type adjustable health check for testing adjustablehealthcheckfortesting bundle context bundlecontext bundle context bundlecontext service registration serviceregistration mbean registration mbeanregistration service registration serviceregistration health check registration healthcheckregistration activate activate component context componentcontext context bundle context bundlecontext context get bundle context getbundlecontext register mbean registermbean deactivate deactivate component context componentcontext context unregister mbean unregistermbean unregister dynamic testing health check unregisterdynamictestinghealthcheck register mbean registermbean dictionary string string mbean props mbeanprops hashtable string string mbean props mbeanprops jmx object name objectname object adjustable health check status bean adjustablehealthcheckstatusmbean adjustable health check status bean adjustablehealthcheckstatusmbean adjustable health check status bean adjustablehealthcheckstatusmbean mbean registration mbeanregistration bundle context bundlecontext register service registerservice dynamicmbean get name getname adjustable health check status bean adjustablehealthcheckstatusmbean mbean props mbeanprops log debug registered mbean adjustable health check status bean adjustablehealthcheckstatusmbean object unregister mbean unregistermbean mbean registration mbeanregistration mbean registration mbeanregistration unregister mbean registration mbeanregistration log debug unregistered mbean adjustable health check status bean adjustablehealthcheckstatusmbean multiple users jmx operations register dynamic testing health check registerdynamictestinghealthcheck result status status string tags unregister dynamic testing health check unregisterdynamictestinghealthcheck health check healthcheck health check healthcheck dynamic testing health check dynamictestinghealthcheck status dictionary string object props hashtable string object props health check healthcheck jmx adjustable testing check props health check healthcheck tags tags health check registration healthcheckregistration bundle context bundlecontext register service registerservice health check healthcheck get name getname health check healthcheck props multiple users jmx operations unregister dynamic testing health check unregisterdynamictestinghealthcheck health check registration healthcheckregistration health check registration healthcheckregistration unregister health check registration healthcheckregistration log debug unregistered dynamic testing health check dynamictestinghealthcheck dynamic testing health check dynamictestinghealthcheck health check healthcheck result status status dynamic testing health check dynamictestinghealthcheck result status status status status override result execute formatting result log formattingresultlog result log resultlog formatting result log formattingresultlog result log resultlog add entry status jmx bean object operations config uri ng configuring instance result result log resultlog adjustable health check status bean adjustablehealthcheckstatusmbean dynamicmbean string reset reset string add warn result tags add warn result for tags addwarnresultfortags string add critical result tags add critical result for tags addcriticalresultfortags string att tags tags string att status status string status inactive inactive mbean info m bean info mbeaninfo mbean info mbeaninfo list string tags array list arraylist string string status status inactive adjustable health check status bean adjustablehealthcheckstatusmbean mbean info mbeaninfo create bean info creatembeaninfo override object get attribute getattribute string attribute attribute not found exception attributenotfoundexception m bean exception mbeanexception ref lection exception reflectionexception att tags equals attribute string utils stringutils join tags att status equals attribute status to string tostring attribute not found exception attributenotfoundexception attribute attribute override attribute list attributelist get attributes getattributes string attributes attribute list attributelist result attribute list attributelist string att attributes result add attribute att get attribute getattribute att exception illegal argument exception illegalargumentexception get message getmessage result m bean info mbeaninfo create bean info creatembeaninfo list m bean attribute info mbeanattributeinfo attrs array list arraylist m bean attribute info mbeanattributeinfo attrs add m bean attribute info mbeanattributeinfo att tags string get name getname tags attrs add m bean attribute info mbeanattributeinfo att status string get name getname status m bean parameter info mbeanparameterinfo params m bean parameter info mbeanparameterinfo m bean parameter info mbeanparameterinfo att tags java lang string comma separated list tags list m bean operation info mbeanoperationinfo ops array list arraylist m bean operation info mbeanoperationinfo ops add m bean operation info mbeanoperationinfo reset resets testing mechanism removes failing m bean parameter info mbeanparameterinfo java lang string m bean operation info mbeanoperationinfo action ops add m bean operation info mbeanoperationinfo add critical result tags adds critical result tags params java lang string m bean operation info mbeanoperationinfo action ops add m bean operation info mbeanoperationinfo add warn result tags adds warn result tags params java lang string m bean operation info mbeanoperationinfo action m bean info mbeaninfo get class getclass get name getname adjustable health check attrs to array toarray m bean attribute info mbeanattributeinfo attrs size ops to array toarray m bean operation info mbeanoperationinfo ops size override m bean info mbeaninfo get bean info getmbeaninfo mbean info mbeaninfo override object invoke string action name actionname object params string signature m bean exception mbeanexception ref lection exception reflectionexception reset equals action name actionname tags arrays as list aslist status status inactive unregister dynamic testing health check unregisterdynamictestinghealthcheck log info jmx adjustable health check testing reset reset successful add critical result tags equals action name actionname string new tags newtags params to string tostring split tags arrays as list aslist new tags newtags status critical result status critical status critical to string tostring register dynamic testing health check registerdynamictestinghealthcheck critical new tags newtags log info activated jmx adjustable health check status critical tags string utils stringutils join tags check result critical add warn result tags equals action name actionname string new tags newtags params to string tostring split tags arrays as list aslist new tags newtags status warn result status warn status warn to string tostring register dynamic testing health check registerdynamictestinghealthcheck warn new tags newtags log info activated jmx adjustable health check status warn tags string utils stringutils join tags check result warn m bean exception mbeanexception unsupported operation exception unsupportedoperationexception get class getclass get simple name getsimplename support operation action name actionname override set attribute setattribute attribute attribute attribute not found exception attributenotfoundexception invalid attribute value exception invalidattributevalueexception m bean exception mbeanexception ref lection exception reflectionexception m bean exception mbeanexception unsupported operation exception unsupportedoperationexception get class getclass get simple name getsimplename support setting attributes override attribute list attributelist set attributes setattributes attribute list attributelist attributes attribute list attributelist
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl request javax servlet servlet javax servlet servlet config servletconfig javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api request too many calls exception toomanycallsexception org apache sling engine impl sling http servlet request impl slinghttpservletrequestimpl org apache sling engine impl sling http servlet response impl slinghttpservletresponseimpl org jmock expectations org jmock mockery org jmock int egration integration junit j mock jmock org jmock int egration integration junit j unit junit mockery org jmock lib legacy class imposteriser classimposteriser org junit org junit test org junit runner run with runwith org junit fail run with runwith j mock jmock request data test requestdatatest mockery context request data requestdata request data requestdata http servlet request httpservletrequest req http servlet response httpservletresponse resp sling http servlet request slinghttpservletrequest sling request slingrequest sling http servlet response slinghttpservletresponse sling response slingresponse setup exception context j unit junit mockery set imposteriser setimposteriser class imposteriser classimposteriser instance req context mock http servlet request httpservletrequest resp context mock http servlet response httpservletresponse content data contentdata content data contentdata context mock content data contentdata servlet servlet context mock servlet servlet config servletconfig servlet config servletconfig context mock servlet config servletconfig context checking expectations allowing req get servlet path getservletpath return value returnvalue allowing req get path info getpathinfo return value returnvalue allowing req get method getmethod return value returnvalue allowing req set attribute setattribute string object allowing content data contentdata get servlet getservlet return value returnvalue servlet allowing servlet get servlet config getservletconfig return value returnvalue servlet config servletconfig allowing servlet service servlet request servletrequest servlet response servletresponse allowing servlet config servletconfig get servlet name getservletname return value returnvalue servlet request data requestdata request data requestdata req resp override content data contentdata get content data getcontentdata content data contentdata sling request slingrequest sling http servlet request impl slinghttpservletrequestimpl request data requestdata req sling response slingresponse sling http servlet response impl slinghttpservletresponseimpl request data requestdata resp request data requestdata set max call counter setmaxcallcounter assert too many calls exception asserttoomanycallsexception fail at call failatcall exception fail at call failatcall request data requestdata service sling request slingrequest sling response slingresponse request data requestdata service sling request slingrequest sling response slingresponse fail expected request data requestdata service fail called fail at call failatcall times too many calls exception toomanycallsexception tme test test too many calls default testtoomanycallsdefault exception context checking expectations allowing req get attribute getattribute string return value returnvalue assert too many calls exception asserttoomanycallsexception test test too many calls override testtoomanycallsoverride exception context checking expectations allowing req get attribute getattribute string return value returnvalue assert too many calls exception asserttoomanycallsexception
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler java char array writer chararraywriter java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java unsupported encoding exception unsupportedencodingexception java util vector java util jar jar file jarfile java util zip zip entry zipentry javax function mapper functionmapper javax servlet jsp expression evaluator expressionevaluator org apache expression factory impl expressionfactoryimpl org apache sling scripting jsp jasper constants org apache sling scripting jsp jasper jasper exception jasperexception org apache sling scripting jsp jasper jsp compilation context jspcompilationcontext org apache sling scripting jsp jasper expression evaluator impl expressionevaluatorimpl org xml sax attributes utility method ideally move bean containers author mandar raje author rajiv mordani author d anno danno ferrin author pierre delisle author shawn bayern author mark roth jsp util jsputil string web inf tags web inf tags string meta inf tags meta inf tags delimiters request time expressions jsp xml syntax string open expr string close expr string open expr xml string close expr xml temp sequence number tempsequencenumber expression evaluator impl expressionevaluatorimpl expression evaluator expressionevaluator expression evaluator impl expressionevaluatorimpl expression evaluator expressionevaluator expression evaluator expressionevaluator expression evaluator impl expressionevaluatorimpl expression factory impl expressionfactoryimpl string java key words javakeywords enum chunk size chunksize remove quotes removequotes chars char array writer chararraywriter caw char array writer chararraywriter chars length chars chars chars caw write caw write caw write chars caw to char array tochararray escape quotes escapequotes chars string string chars index of indexof string buffer stringbuffer string buffer stringbuffer substring append append substring to string tostring chars to char array tochararray chars is expression isexpression string token is xml isxml string open expr openexpr string close expr closeexpr is xml isxml open expr openexpr open expr xml close expr closeexpr close expr xml open expr openexpr open expr close expr closeexpr close expr token starts with startswith open expr openexpr token ends with endswith close expr closeexpr string get expr getexpr string expression is xml isxml string return string returnstring string open expr openexpr string close expr closeexpr is xml isxml open expr openexpr open expr xml close expr closeexpr close expr xml open expr openexpr open expr close expr closeexpr close expr length expression length expression starts with startswith open expr openexpr expression ends with endswith close expr closeexpr return string returnstring expression substring open expr openexpr length length close expr closeexpr length return string returnstring return string returnstring string get expr in xml getexprinxml string expression string return string returnstring length expression length expression starts with startswith open expr expression ends with endswith close expr return string returnstring expression substring length return string returnstring expression escape xml escapexml return string returnstring replace constants esc check scope checkscope string scope node error dispatcher errordispatcher err jasper exception jasperexception scope scope equals scope equals request scope equals session scope equals application err jsp error jsperror jsp error invalid scope scope check attributes checkattributes string type of tag typeoftag node valid attribute validattribute valid attributes validattributes error dispatcher errordispatcher err jasper exception jasperexception attributes attrs get attributes getattributes mark start get start getstart valid temp length templength attrs attrs get length getlength vector temp vector temp length templength temp length templength string q name qname attrs getqname q name qname equals xml ns xmlns q name qname starts with startswith xml ns xmlns temp add element addelement q name qname node nodes tag body tagbody get body getbody tag body tagbody num sub elements numsubelements tag body tagbody size num sub elements numsubelements node node tag body tagbody get node getnode node node name d attribute namedattribute string attr name attrname node get attribute value getattributevalue temp add element addelement attr name attrname get attribute value getattributevalue attr name attrname err jsp error jsperror jsp error duplicate jsp attribute jspattribute attr name attrname string missing attribute missingattribute valid attributes validattributes length attr pos attrpos valid attributes validattributes mandatory attr pos attrpos temp index of indexof valid attributes validattributes attr pos attrpos temp remove attr pos attrpos valid valid missing attribute missingattribute valid attributes validattributes valid err jsp error jsperror start jsp error mandatory attribute type of tag typeoftag missing attribute missingattribute attr left length attrleftlength temp size attr left length attrleftlength string attribute attr left length attrleftlength valid attribute string temp element at elementat valid attributes validattributes length attribute equals valid attributes validattributes valid valid err jsp error jsperror start jsp error invalid attribute type of tag typeoftag attribute string escape query string escapequerystring string unesc string unescstring unesc string unescstring string esc string escstring string shell sp chars shellspchars unesc string unescstring length next char nextchar unesc string unescstring char at charat shell sp chars shellspchars index of indexof next char nextchar esc string escstring esc string escstring next char nextchar esc string escstring string escape xml escapexml string string buffer stringbuffer string buffer stringbuffer length char at charat append append append apos append amp append quot append to string tostring string replace string replace string string buffer stringbuffer buf string buffer stringbuffer length index of indexof replace buf append substring buf append buf to string tostring valid attribute validattribute string mandatory rtexprvalue valid attribute validattribute string mandatory rtexprvalue mandatory mandatory rtexprvalue rtexprvalue valid attribute validattribute string mandatory mandatory valid attribute validattribute string boolean value booleanvalue string equals ignore case equalsignorecase value of valueof boolean value booleanvalue to class toclass string type class loader classloader loader class not found exception classnotfoundexception type index of indexof dims type length type char at charat dims type type substring equals type equals type equals type equals type equals type equals type equals type equals type type index of indexof loader load class loadclass type dims dims java lang reflect array new instance newinstance get class getclass java lang reflect array new instance newinstance dims get class getclass string int erpreter call interpretercall is tag file istagfile string expression expected type expectedtype string fnmapvar xml escape xmlescape string jsp ctxt jspctxt is tag file istagfile jsp ctxt jspctxt get jsp context getjspcontext jsp ctxt jspctxt jspx context string target type targettype expected type expectedtype get name getname string primitive converter method primitiveconvertermethod expected type expectedtype is primitive isprimitive expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod boolean value booleanvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod byte value bytevalue expected type expectedtype equals character type target type targettype character get name getname primitive converter method primitiveconvertermethod char value charvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod short value shortvalue expected type expectedtype equals integer type target type targettype integer get name getname primitive converter method primitiveconvertermethod int value intvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod long value longvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod float value floatvalue expected type expectedtype equals type target type targettype get name getname primitive converter method primitiveconvertermethod double value doublevalue primitive converter method primitiveconvertermethod xml escape xmlescape target type targettype to java source type tojavasourcetype target type targettype string buffer stringbuffer call string buffer stringbuffer target type targettype org apache sling scripting jsp jasper runtime page context impl pagecontextimpl prop rietary evaluate proprietaryevaluate generator quote expression target type targettype page context pagecontext jsp ctxt jspctxt fnmapvar xml escape xmlescape primitive converter method primitiveconvertermethod call insert call append primitive converter method primitiveconvertermethod call to string tostring deprecated validate expressions validateexpressions mark string expressions expected type expectedtype function mapper functionmapper function mapper functionmapper error dispatcher errordispatcher err jasper exception jasperexception reset temporary variable name resettemporaryvariablename temp sequence number tempsequencenumber string next temporary variable name nexttemporaryvariablename constants temp variable prefix temp sequence number tempsequencenumber string coerce to primitive boolean coercetoprimitiveboolean string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to boolean coercetoboolean length value of valueof to string tostring string coerce to boolean coercetoboolean string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce length value of valueof to string tostring string coerce to primitive byte coercetoprimitivebyte string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to byte coercetobyte length value of valueof to string tostring string coerce to byte coercetobyte string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce length value of valueof to string tostring string coerce to char coercetochar string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to char coercetochar length char at charat string coerce to character coercetocharacter string is name d attribute isnamedattribute is name d attribute isnamedattribute character org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce character length character char at charat character string coerce to primitive double coercetoprimitivedouble string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to double coercetodouble length value of valueof to string tostring string coerce to double coercetodouble string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce length value of valueof to string tostring string coerce to primitive float coercetoprimitivefloat string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to float coercetofloat length value of valueof to string tostring string coerce to float coercetofloat string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce length value of valueof to string tostring string coerce to int coercetoint string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to int coercetoint length integer value of valueof to string tostring string coerce to integer coercetointeger string is name d attribute isnamedattribute is name d attribute isnamedattribute integer org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce integer length integer integer integer value of valueof to string tostring string coerce to primitive short coercetoprimitiveshort string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to short coercetoshort length value of valueof to string tostring string coerce to short coercetoshort string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce length value of valueof to string tostring string coerce to primitive long coercetoprimitivelong string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce to long coercetolong length value of valueof to string tostring string coerce to long coercetolong string is name d attribute isnamedattribute is name d attribute isnamedattribute org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary coerce length value of valueof to string tostring input stream inputstream get input stream getinputstream string fname jar file jarfile jar file jarfile jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err jasper exception jasperexception io exception ioexception input stream inputstream jar file jarfile string jar entry name jarentryname fname substring fname length zip entry zipentry jar entry jarentry jar file jarfile get entry getentry jar entry name jarentryname jar entry jarentry err jsp error jsperror jsp error file fname jar file jarfile get input stream getinputstream jar entry jarentry ctxt get resource as stream getresourceasstream fname err jsp error jsperror jsp error file fname string get tag handler class name gettaghandlerclassname string path error dispatcher errordispatcher err jasper exception jasperexception string class name classname path last index of lastindexof tag err jsp error jsperror jsp error tag file tagfile bad suffix badsuffix path path index of indexof web inf tags class name classname org apache jsp tag web web inf tags length path index of indexof meta inf tags class name classname org apache jsp tag meta meta inf tags length err jsp error jsperror jsp error tag file tagfile illegal path illegalpath path class name classname make java package makejavapackage path substring class name classname string make java package makejavapackage string path string class name components classnamecomponents split path string buffer stringbuffer legal class names legalclassnames string buffer stringbuffer class name components classnamecomponents length legal class names legalclassnames append make java identifier makejavaidentifier class name components classnamecomponents class name components classnamecomponents length legal class names legalclassnames append legal class names legalclassnames to string tostring string split string path string pat vector comps vector pos path index of indexof pat start pos pos start string comp path substring start pos comps add comp start pos pat length pos path index of indexof pat start start path length comps add path substring start string result string comps size comps size result string comps element at elementat result converts identifier legal java identifier param identifier identifier convert legal java identifier identifier string make java identifier makejavaidentifier string identifier string buffer stringbuffer modified identifier modifiedidentifier string buffer stringbuffer identifier length character is java identifier start isjavaidentifierstart identifier char at charat modified identifier modifiedidentifier append identifier length identifier char at charat character is java identifier part isjavaidentifierpart modified identifier modifiedidentifier append modified identifier modifiedidentifier append modified identifier modifiedidentifier append mangle char manglechar is java keyword isjavakeyword modified identifier modifiedidentifier to string tostring modified identifier modifiedidentifier append modified identifier modifiedidentifier to string tostring mangle character create legal java string mangle char manglechar result result result character for digit fordigit result character for digit fordigit result character for digit fordigit result character for digit fordigit string result test argument java keyword is java keyword isjavakeyword string key java key words javakeywords length result java key words javakeywords compare to compareto key result result converts xml legal java identifier efficient make java identifier makejavaidentifier worry string assume result ant resultant string concat enated concatenated prefix string don worry java key word param identifier convert legal java identifier identifier string make xml java identifier makexmljavaidentifier string index of indexof replace index of indexof replace index of indexof replace input stream reader inputstreamreader get reader getreader string fname string encoding jar file jarfile jar file jarfile jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err jasper exception jasperexception io exception ioexception get reader getreader fname encoding jar file jarfile ctxt err input stream reader inputstreamreader get reader getreader string fname string encoding jar file jarfile jar file jarfile jsp compilation context jspcompilationcontext ctxt error dispatcher errordispatcher err skip jasper exception jasperexception io exception ioexception input stream reader inputstreamreader reader input stream inputstream get input stream getinputstream fname jar file jarfile ctxt err skip read reader input stream reader inputstreamreader encoding unsupported encoding exception unsupportedencodingexception err jsp error jsperror jsp error unsupported encoding encoding reader handles input tld s tlds java lang object java lang object type param type string to java source type from tld tojavasourcetypefromtld string type type equals type type type get name getname arrays form element type zbcdfijs class name classname converted forms under stood understood java c javac string to java source type tojavasourcetype string type type char at charat type dims string type length type char at charat dims type char at charat type substring type index of indexof string buffer stringbuffer result type resulttype string buffer stringbuffer dims dims result type resulttype append result type resulttype to string tostring compute canonical instance note simple rep lacment replacment binary work legal java identifier character param instance java lang canonical string get canonical name getcanonicalname string binary name binaryname get name getname get declaring class getdeclaringclass binary name binaryname string buffer stringbuffer buf string buffer stringbuffer binary name binaryname buf set char at setcharat get name getname length get declaring class getdeclaringclass buf to string tostring
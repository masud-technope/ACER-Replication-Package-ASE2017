licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling sample sling shot slingshot ratings impl java io exception ioexception java print writer printwriter java util hash map hashmap java util map javax servlet servlet exception servletexception org apache felix scr annotations reference org apache felix scr annotations sling sling servlet slingservlet org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api resource login exception loginexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api servlets sling all methods servlet slingallmethodsservlet org apache sling sample sling shot slingshot sling shot constants slingshotconstants org apache sling sample sling shot slingshot impl internal constants internalconstants org apache sling sample sling shot slingshot ratings ratings service ratingsservice org apache sling sample sling shot slingshot ratings ratings util ratingsutil org slf logger org slf logger factory loggerfactory ratings post servlet registered post item selector rating sling servlet slingservlet methods post extensions ratings resource types resourcetypes sling shot constants slingshotconstants resource type resourcetype item rating post servlet ratingpostservlet sling all methods servlet slingallmethodsservlet serialversionuid logger logger logger factory loggerfactory get logger getlogger get class getclass reference resource resolver factory resourceresolverfactory factory reference ratings service ratingsservice ratings service ratingsservice override do post dopost sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response servlet exception servletexception io exception ioexception string rating request get parameter getparameter ratings util ratingsutil property rating string user id userid request get remote user getremoteuser logger debug rating user id userid rating save rating resource resolver resourceresolver resolver todo service user oak map string object auth info authinfo hash map hashmap string object auth info authinfo resource resolver factory resourceresolverfactory user internal constants internalconstants service user auth info authinfo resource resolver factory resourceresolverfactory password internal constants internalconstants service user to char array tochararray resolver factory get resource resolver getresourceresolver auth info authinfo resolver factory get service resource resolver getserviceresourceresolver resource req resource reqresource resolver get resource getresource request get resource getresource get path getpath ratings service ratingsservice set rating setrating req resource reqresource user id userid integer value of valueof rating login exception loginexception servlet exception servletexception unable login resolver resolver close response set content type setcontenttype application json response set character encoding setcharacterencoding utf response set status setstatus print writer printwriter response get writer getwriter print print rating print string value of valueof ratings service ratingsservice get rating getrating request get resource getresource print
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler java buffered reader bufferedreader java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java util array list arraylist java util list org apache sling scripting jsp jasper jsp compilation context jspcompilationcontext providing details javac compilation error author jan luehe author kin man chung javac error detail javacerrordetail string java file name javafilename java line num javalinenum string jsp file name jspfilename jsp begin line num jspbeginlinenum string buffer stringbuffer err msg errmsg string jsp extract jspextract constructor param java file name javafilename java file compilation error occurred param java line num javalinenum compilation error number param err msg errmsg compilation error message javac error detail javacerrordetail string java file name javafilename java line num javalinenum string buffer stringbuffer err msg errmsg java file name javafilename java file name javafilename java line num javalinenum java line num javalinenum err msg errmsg err msg errmsg jsp begin line num jspbeginlinenum constructor param java file name javafilename java file compilation error occurred param java line num javalinenum compilation error number param jsp file name jspfilename jsp file java source file generated param jsp begin line num jspbeginlinenum start number jsp element responsible compilation error param err msg errmsg compilation error message javac error detail javacerrordetail string java file name javafilename java line num javalinenum string jsp file name jspfilename jsp begin line num jspbeginlinenum string buffer stringbuffer err msg errmsg java file name javafilename java line num javalinenum jsp file name jspfilename jsp begin line num jspbeginlinenum err msg errmsg javac error detail javacerrordetail string java file name javafilename java line num javalinenum string jsp file name jspfilename jsp begin line num jspbeginlinenum string buffer stringbuffer err msg errmsg jsp compilation context jspcompilationcontext ctxt java file name javafilename java line num javalinenum err msg errmsg jsp file name jspfilename jsp file name jspfilename jsp begin line num jspbeginlinenum jsp begin line num jspbeginlinenum jsp begin line num jspbeginlinenum ctxt input stream inputstream input stream inputstream fis read files inspect ctxt get resource as stream getresourceasstream jsp file name jspfilename string jsp lines jsplines read file readfile fis ctxt get runtime context getruntimecontext getioprovider get input stream getinputstream ctxt get servlet java file name getservletjavafilename string java lines javalines read file readfile fis faulty scan match java jsp lines jsplines jsp begin line num jspbeginlinenum last index of lastindexof jsp lines jsplines jsp begin line num jspbeginlinenum last index of lastindexof string java line javaline java lines javalines java line num javalinenum trim jsp begin line num jspbeginlinenum jsp lines jsplines length jsp lines jsplines index of indexof java line javaline update jsp number jsp begin line num jspbeginlinenum copy fragment jsp display user string buffer stringbuffer fragment string buffer stringbuffer start index startindex math max jsp begin line num jspbeginlinenum end index endindex math min jsp lines jsplines length jsp begin line num jspbeginlinenum start index startindex end index endindex fragment append fragment append fragment append jsp lines jsplines fragment append jsp extract jspextract fragment to string tostring io exception ioexception ioe close io exception ioexception ioe fis fis close io exception ioexception ioe java source file compilation error occurred java source file string get java file name getjavafilename java file name javafilename compilation error number compilation error number get java line number getjavalinenumber java line num javalinenum jsp file java source file generated jsp file java source file generated string get jsp file name getjspfilename jsp file name jspfilename start number jsp file jsp element responsible compilation error start number jsp element responsible compilation error get jsp begin line number getjspbeginlinenumber jsp begin line num jspbeginlinenum compilation error message compilation error message string get error message geterrormessage err msg errmsg to string tostring extract jsp corresponds message extract jsp error occurred string get jsp extract getjspextract jsp extract jspextract reads text file input stream string read jsp generated java file generating error messages string read file readfile input stream inputstream io exception ioexception buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader list lines array list arraylist string reader read line readline lines add string lines to array toarray string lines size
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer provider jcr impl org junit assert equals assertequals org junit assert false assertfalse org junit assert true asserttrue java util hash set hashset java util org junit test folder name filter test foldernamefiltertest string regexp install string config regexp config string roots jcr installer jcrinstaller search path test test parse root paths testparserootpaths string paths folder name filter foldernamefilter folder name filter foldernamefilter paths regexp hash set hashset string assert equals assertequals get root paths getrootpaths assert equals assertequals get root paths getrootpaths assert equals assertequals folder name filter foldernamefilter root priority get root priority getrootpriority foo assert equals assertequals folder name filter foldernamefilter root priority get root priority getrootpriority foo assert equals assertequals get root priority getrootpriority not in those roots notinthoseroots string paths folder name filter foldernamefilter folder name filter foldernamefilter paths regexp hash set hashset string assert equals assertequals get root paths getrootpaths assert equals assertequals get root paths getrootpaths assert equals assertequals get root priority getrootpriority foo assert equals assertequals get root priority getrootpriority foo string paths integer folder name filter foldernamefilter folder name filter foldernamefilter paths regexp hash set hashset string assert equals assertequals get root paths getrootpaths assert equals assertequals get root paths getrootpaths assert equals assertequals folder name filter foldernamefilter root priority get root priority getrootpriority foo assert equals assertequals get root priority getrootpriority foo test test no run mode testnorunmode folder name filter foldernamefilter folder name filter foldernamefilter roots regexp hash set hashset string assert true asserttrue test get priority getpriority libs install assert false assertfalse test get priority getpriority libs install bar test test single mode testsinglemode string hash set hashset string add dev folder name filter foldernamefilter folder name filter foldernamefilter roots regexp assert true asserttrue test get priority getpriority libs install assert false assertfalse test get priority getpriority libs install bar assert true asserttrue test get priority getpriority libs install dev assert false assertfalse test get priority getpriority libs install dev assert true asserttrue test get priority getpriority libs install dev dev assert false assertfalse test get priority getpriority libs install dev bar assert false assertfalse test get priority getpriority libs install bar dev test test three modes testthreemodes string hash set hashset string add dev add web add staging folder name filter foldernamefilter folder name filter foldernamefilter roots regexp assert true asserttrue test get priority getpriority libs install assert false assertfalse test get priority getpriority libs install bar assert true asserttrue test get priority getpriority libs install dev assert true asserttrue test get priority getpriority libs install web assert true asserttrue test get priority getpriority libs install staging assert false assertfalse test get priority getpriority libs install dev assert true asserttrue test get priority getpriority libs install dev web staging assert true asserttrue test get priority getpriority libs install web dev staging assert true asserttrue test get priority getpriority libs install staging web dev assert true asserttrue test get priority getpriority libs install staging dev web assert true asserttrue test get priority getpriority libs install dev dev web staging web assert false assertfalse test get priority getpriority libs install dev bar assert false assertfalse test get priority getpriority libs install bar dev test test root priorities testrootpriorities string hash set hashset string add dev folder name filter foldernamefilter folder name filter foldernamefilter roots regexp assert equals assertequals libs root integer integer get priority getpriority libs install assert equals assertequals apps root integer integer get priority getpriority apps install test test run mode priorities testrunmodepriorities string hash set hashset string add dev add prod add staging folder name filter foldernamefilter folder name filter foldernamefilter roots regexp assert equals assertequals matches run mode runmode integer integer get priority getpriority libs install assert equals assertequals matches dev run mode runmode integer integer get priority getpriority apps install dev assert equals assertequals matches staging run mode runmode integer integer get priority getpriority apps install staging assert equals assertequals matches run modes runmodes integer integer get priority getpriority apps install dev staging prod assert equals assertequals matches run modes runmodes integer integer get priority getpriority apps install dev prod staging assert equals assertequals matches run modes runmodes integer integer get priority getpriority libs install dev prod staging test test author priorities testauthorpriorities string hash set hashset string add author add mycompany add dev folder name filter foldernamefilter folder name filter foldernamefilter roots config regexp assert equals assertequals integer integer get priority getpriority apps run modes runmodes config author assert equals assertequals integer integer get priority getpriority apps run modes runmodes config author dev assert equals assertequals integer integer get priority getpriority apps run modes runmodes config author dev mycompany test test dots in path testdotsinpath string hash set hashset string add dev add prod add staging folder name filter foldernamefilter folder name filter foldernamefilter roots regexp assert equals assertequals matches run mode runmode integer integer get priority getpriority libs foo bar install assert equals assertequals matches dev run mode runmode integer integer get priority getpriority apps foo bar install dev assert equals assertequals matches staging run mode runmode integer integer get priority getpriority apps foo bar install staging assert equals assertequals matches run modes runmodes integer integer get priority getpriority apps foo bar install dev staging prod assert equals assertequals matches run modes runmodes integer integer get priority getpriority apps foo bar install dev prod staging assert equals assertequals matches run modes runmodes integer integer get priority getpriority libs foo bar install dev prod staging
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl java io exception ioexception javax servlet servlet javax servlet http http servlet response httpservletresponse org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api authenticator org apache sling api no authentication handler exception noauthenticationhandlerexception org apache sling api servlets sling all methods servlet slingallmethodsservlet org apache sling core auth util authutil org osgi framework constants org slf logger org slf logger factory loggerfactory code login servlet loginservlet code authenticator login component service servlet properties property constants service description authenticator login servlet property constants service vendor apache software foundation property sling servlet methods post login servlet loginservlet sling all methods servlet slingallmethodsservlet serialization uid serialversionuid log logger log logger factory loggerfactory get logger getlogger get class getclass reference cardinality reference cardinality referencecardinality optional unary policy reference policy referencepolicy dynamic authenticator authenticator servlet registered path authenticator requests path authentication property sling servlet paths string servlet path system sling login override service sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response io exception ioexception authenticated request get auth type getauthtype string resource path resourcepath auth util authutil get login resource getloginresource request is self isself resource path resourcepath string redirect target redirecttarget request get context path getcontextpath log warn do get doget red irecting redirecting prevent login loop resource redirect target redirecttarget resource path resourcepath response send redirect sendredirect redirect target redirecttarget authenticator authenticator authenticator authenticator login resource select authenticator auth util authutil set login resource attribute setloginresourceattribute request authenticator login request response illegal state exception illegalstateexception ise log error do get doget response committed login no authentication handler exception noauthenticationhandlerexception nahe log error do get doget authentication handler authenticationhandler login registered log error do get doget authenticator service missing login fall for bid forbid access response send error senderror http servlet response httpservletresponse forbidden login is self isself string resource path resourcepath resource assume resource path resourcepath login servlet add res sed addressed resource path resourcepath starts with startswith servlet path prefix
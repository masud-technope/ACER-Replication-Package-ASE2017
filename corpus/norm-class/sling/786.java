licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jst java io exception ioexception java input stream inputstream java print writer printwriter java string writer stringwriter java util linked list linkedlist java util list javax jcr node javax jcr repository exception repositoryexception javax script script exception scriptexception javax xml transform result javax xml transform transformer javax xml transform transformer factory transformerfactory javax xml transform dom dom source domsource javax xml transform stream stream result streamresult javax xml transform stream stream source streamsource org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api wrappers sling request paths slingrequestpaths org apache sling commons json json exception jsonexception org apache sling commons json jcr json item writer jsonitemwriter org cyberneko html parsers dom parser domparser org slf logger org slf logger factory loggerfactory org dom document org xml sax input source inputsource generates html code jst templates html code generator htmlcodegenerator list string library scripts libraryscripts linked list linkedlist string html content renderer htmlcontentrenderer html renderer htmlrenderer logger log logger factory loggerfactory get logger getlogger get class getclass todo config urable configurable synced actual location string sling path system sling property names build title order preference string title property names title description html code generator htmlcodegenerator library scripts libraryscripts add sling path html renderer htmlrenderer html content renderer htmlcontentrenderer generate html code request script path generate html generatehtml sling http servlet request slinghttpservletrequest request string script path scriptpath input stream inputstream script stream scriptstream print writer printwriter output repository exception repositoryexception json exception jsonexception script exception scriptexception io exception ioexception access data node resource request get resource getresource node adapt to adaptto node string page title pagetitle get title gettitle parse script nekohtml per missive permissive html parser dom parser domparser parser dom parser domparser parser set feature setfeature http xml org sax features names paces namespaces parser set property setproperty http cyberneko org html properties names elems parser set property setproperty http cyberneko org html properties names attrs parser parse input source inputsource script stream scriptstream exception script exception scriptexception script exception scriptexception error parsing script script path scriptpath init cause initcause document template parser get document getdocument compute rendering string writer stringwriter default rendering defaultrendering string writer stringwriter print writer printwriter print writer printwriter default rendering defaultrendering html renderer htmlrenderer render page title pagetitle flush compute current node currentnode values json format string writer stringwriter json data jsondata string writer stringwriter print writer printwriter print writer printwriter json data jsondata json item writer jsonitemwriter json item writer jsonitemwriter max recursion levels maxrecursionlevels print current node currentnode dump max recursion levels maxrecursionlevels print flush xslt transform script passing parameter computed values string xslt xslt script transform xsl input stream inputstream xsl transform xsltransform get class getclass get resource as stream getresourceasstream xslt xsl transform xsltransform script exception scriptexception xslt transform xslt transformer factory transformerfactory transformer factory transformerfactory new instance newinstance transformer new transformer newtransformer stream source streamsource xsl transform xsltransform set parameter setparameter page title pagetitle page title pagetitle set parameter setparameter sling script path slingscriptpath full path fullpath request sling path set parameter setparameter jst script path jstscriptpath full path fullpath request script path scriptpath jst set parameter setparameter default rendering defaultrendering default rendering defaultrendering to string tostring set parameter setparameter json data jsondata json data jsondata to string tostring result result stream result streamresult output dom source domsource source dom source domsource template transform source result exception script exception scriptexception script exception scriptexception error xslt transform script path scriptpath init cause initcause xsl transform xsltransform close full path supplied resource string full path fullpath sling http servlet request slinghttpservletrequest request string path sling request paths slingrequestpaths get context path getcontextpath request sling request paths slingrequestpaths get servlet path getservletpath request path title generated string get title gettitle resource node string title string title property names has property hasproperty string get property getproperty get string getstring length title repository exception repositoryexception log warn repository exception repositoryexception get title gettitle title title get path getpath title starts with startswith title title substring title
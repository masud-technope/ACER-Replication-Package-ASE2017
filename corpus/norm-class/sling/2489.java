licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr class loader classloader internal net java byte array input stream bytearrayinputstream java io exception ioexception java input stream inputstream java net url java net url connection urlconnection java util arrays java util collections java util hash map hashmap java util list java util map javax jcr node javax jcr property javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr session org apache sling jcr class loader classloader internal util org slf logger org slf logger factory loggerfactory code jcr url connection jcrurlconnection code code url connection urlconnection code implementation access data add res sed addressed jcr repository url primary code url connection urlconnection code code jcr url connection jcrurlconnection code provide access content resource identified url primary task identify access repository code property code based url main task executed link connect method basic ally basically guideposts access content jcr repository url url ultimately resolve repository property provide content url path property property provide content url path node code jcr content jcr data code code jcr data code property primary item chain starting node primary items exist item property property provide content methods resolve property link connect fails access content not e note code input stream inputstream code link get input stream getinputstream implementations code file code code http code url s urls stream call implementation returns stream invocation header fields implemented code content length code size content filled code property get length getlength code method returns size bytes property binary values number characters string representation types code content type code content type retrieved code jcr mime type mimetype code property property parent node existing code guess content type from name guesscontenttypefromname code method called link get path getpath path yield content type code application octet stream code binary properties code text plain code types code content enc onding enconding code content encoding retrieved code jcr econding code property property parent node existing header field remains undefined aka code code code modified code modified type retrieved code jcr last modified lastmodified code property property parent node existing modification time intended subclassed instantiated clients jcr url connection jcrurlconnection url connection urlconnection logging logger log logger factory loggerfactory get logger getlogger jcr url connection jcrurlconnection header content size content length string content length content length header mime type content content type string content type content type header content encoding content encoding string content encoding content encoding header modification time stamp content modified string modified modified content type binary properties accessed connection application octet stream connect string application octet application octet stream content type binary properties accessed connection text plain connect string text plain text plain handler url connection handler connection access repository item underlying url jcr url handler jcrurlhandler handler code property code url connection urlconnection field connection opened get property getproperty connect contents guessed content type data content type guessed based path binary attribute atom impl ementations implementations free decide define content type required type link connect method get content type getcontenttype connect string content type contenttype guessed content encoding data content type guessed based path binary attribute atom impl ementations implementations free decide define content type required type link connect method get content encoding getcontentencoding connect string content encoding contentencoding content len tgh lentgh data size field atom status base atom impl ementations implementations free decide define content length required type link connect method get content length getcontentlength connect content length contentlength modification time milliseconds epoch impl ementations implementations free decide define modification time required type link connect method get last modified getlastmodified connect last modified lastmodified creates instance code url code supported code handler code param url url base connection param handler url handler supporting url jcr url connection jcrurlconnection url url jcr url handler jcrurlhandler handler url handler handler returns path repository item underlying url connection calling method require connection connected string get path getpath handler get path getpath returns repository code property code providing contents connection calling method for ces forces connection opened calling link connect method io exception ioexception thrown link connect method called method connect get contents getcontents io exception ioexception connect property connect contents url connection urlconnection over writes overwrites connects url setting header fields contents algorithm applied repository item retrieved url code url handler urlhandler code item node code get primary item getprimaryitem code method called node node primary item connection fails item handler calling code get primary item getprimaryitem code node method fails code property code required successful l successfull connection property multi value d valued property connection fails multi value d valued properties supported content length header field property length code property get length getlength code header fields content type content encoding modification time code jcr mime type mimetype code code jcr encoding code code jcr last modification lastmodification code properties property parent node existing content encoding field code code modification time content type field guessed url item content type guessed code application octet stream code property binary type code text plain code method returns connection considered connected exception thrown connection connected io exception ioexception error occurrs retrieving data property header field properties errors occurrs cuasing exception exception connect io exception ioexception connected hold data session session session handler get class loader writer getclassloaderwriter create session createsession node node node session get item getitem get path getpath resolve url s urls item property property property util get property getproperty node property failure connect multivalue property supported contents util get bytes getbytes node values string content type contenttype defined content encoding string content encoding contentencoding last modified lastmodified node parent property get parent getparent parent has property hasproperty jcr last modified lastmodified last modified lastmodified parent get property getproperty jcr last modified lastmodified get long getlong last modified lastmodified parent has property hasproperty jcr mime type mimetype content type contenttype parent get property getproperty jcr mime type mimetype get string getstring content type contenttype guess content type from name guesscontenttypefromname node get name getname content type contenttype content type contenttype property get type gettype property type propertytype binary application octet text plain parent has property hasproperty jcr encoding content encoding contentencoding parent get property getproperty jcr encoding get string getstring log debug connect property content type bytes object property get path getpath content type contenttype integer content length contentlength fields contents contents content type contenttype content type contenttype content encoding contentencoding content encoding contentencoding content length contentlength contents length last modified lastmodified last modified lastmodified mark connection open connected repository exception repositoryexception failure connect to string tostring session session log out logout returns input stream reads open connection notes call method returns code input stream inputstream code for get forget close stream system free resources calling method implicitly calls link connect ensure connection open io exception ioexception error occurrs opening connection link connect creating code input stream inputstream code repository code property code connect input stream inputstream get input stream getinputstream io exception ioexception byte array input stream bytearrayinputstream get contents getcontents named header field implementation supports content type content encoding content length modified header fields names code code calling method implicitly calls link connect ensure connection open param header field code code supported fields named field retrieved data source connect string get header field getheaderfield string connect content length equals ignore case equalsignorecase string value of valueof content length contentlength content type equals ignore case equalsignorecase content type contenttype modified equals ignore case equalsignorecase string value of valueof last modified lastmodified content encoding equals ignore case equalsignorecase content encoding contentencoding io exception ioexception ioe log info get header field getheaderfield problem connecting ioe to string tostring log debug dump ioe header field link get header field getheaderfield string content length content type content encoding modified supported indexes code code calling method implicitly calls link connect ensure connection open param header field code code supported fields field retrieved data source connect string get header field getheaderfield connect string value of valueof content length contentlength content type contenttype string value of valueof last modified lastmodified content encoding contentencoding io exception ioexception ioe log info get header field getheaderfield problem connecting ioe to string tostring log debug dump ioe header field link get header field getheaderfield string content length content type content encoding modified supported indexes code code calling method implicitly calls link connect ensure connection open param header field code code supported fields connect string get header field key getheaderfieldkey connect content length content type modified content encoding io exception ioexception ioe log info get header field key getheaderfieldkey problem connecting ioe to string tostring log debug dump ioe returns unmodifiable map header fields entry indexed string key naming field entry unmodifiable list string values res pective respective header field calling method implicitly calls link connect ensure connection open unmodifiable map header fields values map empty error occurrs connecting link connect connect map string list string get header fields getheaderfields map string list string field map fieldmap hash map hashmap string list string connect field map fieldmap content length to list tolist string value of valueof content length contentlength field map fieldmap content type to list tolist content type contenttype field map fieldmap modified to list tolist string value of valueof last modified lastmodified include content encoding contentencoding field map fieldmap content encoding to list tolist content encoding contentencoding io exception ioexception ioe log info get header fields getheaderfields problem connecting ioe to string tostring log debug dump ioe collections unmodifiable map unmodifiablemap field map fieldmap returns content type data string per fomance perfomance convenience overwrite base implementation calling method implicitly calls link connect ensure connection open content length data code code content type derived data source connect string get content type getcontenttype connect content type contenttype io exception ioexception ioe log info get content type getcontenttype problem connecting ioe to string tostring log debug dump ioe returns content encoding data string per fomance perfomance convenience overwrite base implementation calling method implicitly calls link connect ensure connection open content encoding data code code content encoding derived data source connect string get content encoding getcontentencoding connect content encoding contentencoding io exception ioexception ioe log info get content encoding getcontentencoding problem connecting ioe to string tostring log debug dump ioe returns content length data number per fomance perfomance convenience overwrite base implementation calling method implicitly calls link connect ensure connection open content length data content length derived data source connect get content length getcontentlength connect content length contentlength io exception ioexception ioe log info get content length getcontentlength problem connecting ioe to string tostring log debug dump ioe returns code modified code header field result number milliseconds january gmt calling method implicitly calls link connect ensure connection open resource referenced code url connection urlconnection code modified connect get last modified getlastmodified connect last modified lastmodified io exception ioexception ioe log info get last modified getlastmodified problem connecting ioe to string tostring log debug dump ioe internal logs message returns io exception ioexception thrown caller log message caller external url form message io exception ioexception based external url form message param method method error occurred logging param message message log exception param failure code code io exception ioexception caller io exception ioexception failure string method string message throwable log info method url url to external form toexternalform reason message log debug dump io exception ioexception ioe io exception ioexception url to external form toexternalform message ioe init cause initcause ioe returns unmodifiable list string list string to list tolist string string values list string value list valuelist arrays as list aslist values collections unmodifiable list unmodifiablelist value list valuelist
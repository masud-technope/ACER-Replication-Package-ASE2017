licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling hapi client test org hamcrest core is equal isequal equal to equalto java i o exception ioexception java net uri syntax exception urisyntaxexception org apache commons i o utils ioutils org apache http http entity httpentity org apache http http exception httpexception org apache http http request httprequest org apache http http response httpresponse org apache http entity string entity stringentity org apache http protocol http context httpcontext org apache http protocol http request handler httprequesthandler org apache sling hapi client client exception clientexception org apache sling hapi client document org apache sling hapi client items org apache sling hapi client microdata microdata html client microdatahtmlclient org apache sling hapi client test util http server rule httpserverrule org junit org junit class rule classrule org junit test items test itemstest string url test string links url test links testlinks class rule classrule http server rule httpserverrule http server httpserver http server rule httpserverrule override register handlers registerhandlers i o exception ioexception string html i o utils ioutils to string tostring items test itemstest get resource as stream getresourceasstream items html utf string html links htmllinks i o utils ioutils to string tostring items test itemstest get resource as stream getresourceasstream items links html utf server bootstrap serverbootstrap register handler registerhandler url http request handler httprequesthandler override handle http request httprequest http request httprequest http response httpresponse http response httpresponse http context httpcontext http context httpcontext http exception httpexception i o exception ioexception http entity httpentity entity string entity stringentity html utf http response httpresponse set entity setentity entity register handler registerhandler links url http request handler httprequesthandler override handle http request httprequest http request httprequest http response httpresponse http response httpresponse http context httpcontext http context httpcontext http exception httpexception i o exception ioexception http entity httpentity entity string entity stringentity html links htmllinks utf http response httpresponse set entity setentity entity test test items testitems client exception clientexception uri syntax exception urisyntaxexception microdata html client microdatahtmlclient client microdata html client microdatahtmlclient http server httpserver geturi to string tostring document doc client enter url items items doc items assert that assertthat items length equal to equalto assert that assertthat items prop text equal to equalto avatar assert that assertthat items prop gen re genre text equal to equalto science fiction assert that assertthat items prop rank number equal to equalto assert that assertthat items prop director prop text equal to equalto james cameron assert that assertthat items prop director prop birth date birthdate text equal to equalto august test test items links testitemslinks client exception clientexception uri syntax exception urisyntaxexception microdata html client microdatahtmlclient client microdata html client microdatahtmlclient http server httpserver geturi to string tostring document doc client enter links url items items doc items assert that assertthat items length equal to equalto assert that assertthat items prop text equal to equalto avatar assert that assertthat items prop gen re genre text equal to equalto science fiction assert that assertthat items prop rank number equal to equalto assert that assertthat items prop director prop text equal to equalto james cameron assert that assertthat items prop director prop birth date birthdate text equal to equalto august assert that assertthat doc link test length equal to equalto assert that assertthat doc items link test length equal to equalto assert that assertthat doc items prop director link test length equal to equalto items other movies othermovies doc link test follow items assert that assertthat other movies othermovies length equal to equalto
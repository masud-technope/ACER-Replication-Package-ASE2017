licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest servlets post java io exception ioexception java util array list arraylist java util hash map hashmap java util list java util map javax servlet http http servlet response httpservletresponse org apache commons http client httpclient name value pair namevaluepair org apache sling commons testing int egration integration http test base httptestbase test item copy support copy from copyfrom suffix sling post servlet at copy test postservletatcopytest http test base httptestbase string test base path sling copy tests override set up setup exception set up setup test copy node absolute testcopynodeabsolute io exception ioexception string test path testpath test base path abs system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props src copy from copyfrom test path testpath src test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data src text content location string content old contentold get content getcontent http base url test path testpath src json content type json assert java script assertjavascript content old contentold println data text test copy node relative testcopynoderelative io exception ioexception string test path testpath test base path rel system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props src copy from copyfrom src test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data src text content location string content old contentold get content getcontent http base url test path testpath src json content type json assert java script assertjavascript content old contentold println data text test copy property absolute testcopypropertyabsolute io exception ioexception string test path testpath test base path abs system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props text copy from copyfrom test path testpath src text test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data text content location string content old contentold get content getcontent http base url test path testpath src json content type json assert java script assertjavascript content old contentold println data text test copy property relative testcopypropertyrelative io exception ioexception string test path testpath test base path rel system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props text copy from copyfrom src text test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data text content location string content old contentold get content getcontent http base url test path testpath src json content type json assert java script assertjavascript content old contentold println data text test copy node source missing testcopynodesourcemissing io exception ioexception string test path testpath test base path exist system current time millis currenttimemillis map string string props hash map hashmap string string create dest node props clear props text destination test client testclient create node createnode http base url test path testpath dest src props props clear props src copy from copyfrom test path testpath existing source test client testclient create node createnode http base url test path testpath dest props expect unmodified dest string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript destination content println data src text test copy node existing replace testcopynodeexistingreplace io exception ioexception string test path testpath test base path replace system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props create dest node props clear props text destination test client testclient create node createnode http base url test path testpath dest src props props clear props src copy from copyfrom src test client testclient create node createnode http base url test path testpath dest props expect unmodified dest string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data src text test copy node deep relative testcopynodedeeprelative io exception ioexception string test path testpath test base path system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props props clear props deep copy from copyfrom src test client testclient create node createnode http base url test path testpath dest props expect data string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data deep text test copy node deep absolute testcopynodedeepabsolute io exception ioexception string test path testpath test base path fail system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props props clear props test path testpath existing structure copy from copyfrom test path testpath src test client testclient create node createnode http base url test path testpath props expect data string content get content getcontent http base url test path testpath existing structure json content type json assert java script assertjavascript content println data text copying siblings work test copy sibling testcopysibling io exception ioexception string test path testpath test base path sibling system current time millis currenttimemillis map string string props hash map hashmap string string props text at csp atcsp test client testclient create node createnode http base url test path testpath props test client testclient create node createnode http base url test path testpath props list name value pair namevaluepair opt array list arraylist name value pair namevaluepair opt add name value pair namevaluepair test path testpath copy from copyfrom test path testpath expected status expectedstatus http servlet response httpservletresponse assert post status assertpoststatus http base url test path testpath expected status expectedstatus opt expecting status expected status expectedstatus content locations string path string string content get content getcontent http base url test path testpath path json content type json assert java script assertjavascript at csp atcsp content println data text path path test copy ancestor testcopyancestor io exception ioexception string test path testpath test base path tcanc system current time millis currenttimemillis list name value pair namevaluepair opt array list arraylist name value pair namevaluepair opt add name value pair namevaluepair test path testpath copy from copyfrom expected status expectedstatus http servlet response httpservletresponse internal server error assert post status assertpoststatus http base url test path testpath expected status expectedstatus opt expecting status expected status expectedstatus
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer provider jcr impl java util array list arraylist java util collections java util hash map hashmap java util linked list linkedlist java util list java util map java util java util regex pattern org slf logger org slf logger factory loggerfactory defines folders watched jcr installer jcrinstaller based names accepted folder matches expression optional suffixes based current run mode runmode link org apache sling installer provider jcr impl folder name filter test foldernamefiltertest details folder name filter foldernamefilter pattern pattern string regexp string run modes runmodes string root paths rootpaths map string integer root priorities rootpriorities hash map hashmap string integer logger log logger factory loggerfactory get logger getlogger get class getclass get priority getpriority comp utes computes priorities root base priority paths match levels additional run mode runmode priority offset matched level run mode runmode priority boost root priority folder name filter foldernamefilter string roots config rootsconfig string regexp string run modes runmodes list root path info rootpathinfo root path infos rootpathinfos array list arraylist root path info rootpathinfo regexp regexp pattern pattern compile regexp run modes runmodes run modes runmodes entry roots config rootsconfig libs priority paths priorities root paths rootpaths string roots config rootsconfig length roots config rootsconfig length string parts roots config rootsconfig split root paths rootpaths cleanup root path cleanuprootpath parts integer priority integer root priority parts length priority integer parse int parseint parts trim number format exception numberformatexception nfe log warn invalid priority path definition roots config rootsconfig root priorities rootpriorities root paths rootpaths priority root path infos rootpathinfos add root path info rootpathinfo root paths rootpaths priority log debug root path priority root paths rootpaths priority sort root paths priority collections sort root path infos rootpathinfos root path info rootpathinfo rpi root path infos rootpathinfos root paths rootpaths rpi path root path info rootpathinfo comparable root path info rootpathinfo string path integer priority root path info rootpathinfo string path integer prio path path priority prio compare to compareto root path info rootpathinfo result priority compare to compareto priority result result path compare to compareto path result list root paths entry list starts slash entries sorted priority highest priority string get root paths getrootpaths root paths rootpaths string cleanup root path cleanuprootpath string str string result str trim result starts with startswith result result result ends with endswith result result substring result length result folder path install able installable resources regexp current run mode runmode priority installable resource installableresource folder path install able installable folder resource priority get priority getpriority string path result list string modes match path dots remove suffixes starting dots path matches regexp accept suffixes included list run modes runmodes dot string prefix path last slash lastslash prefix last index of lastindexof last slash lastslash prefix prefix substring last slash lastslash prefix index of indexof dot pos modes linked list linkedlist string pos prefix last index of lastindexof dot modes add prefix substring pos prefix prefix substring pos pattern matcher prefix matches result get root priority getrootpriority path path prefix matches check run modes runmodes match result string modes run modes runmodes result run mode runmode priority boost result pattern matcher path matches match result get root priority getrootpriority path modes log is debug enabled isdebugenabled log debug get priority getpriority path result prefix prefix modes modes match log debug get priority getpriority path result log debug get priority getpriority path doesn match regexp path result result string to string tostring get class getclass get simple name getsimplename regexp run modes runmodes run modes runmodes get root priority getrootpriority string path map entry string integer root priorities rootpriorities entry set entryset path starts with startswith get key getkey get value getvalue int value intvalue
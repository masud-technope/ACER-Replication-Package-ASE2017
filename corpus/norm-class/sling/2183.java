licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling super imposing superimposing impl java util dictionary java util hashtable java util iterator javax jcr repository exception repositoryexception javax jcr session javax servlet http http servlet request httpservletrequest org apache commons lang string utils stringutils org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource wrapper resourcewrapper org apache sling super imposing superimposing superimposing resource provider superimposingresourceprovider org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org slf logger org slf logger factory loggerfactory superimposing resource provider maps single source path target root path overlay depending configuration superimposing resource provider impl superimposingresourceproviderimpl superimposing resource provider superimposingresourceprovider logger log logger factory loggerfactory get logger getlogger superimposing resource provider impl superimposingresourceproviderimpl string root path rootpath string root prefix rootprefix string source path sourcepath string source path prefix sourcepathprefix overlayable string to string tostring service registration serviceregistration registration superimposing resource provider impl superimposingresourceproviderimpl string root path rootpath string source path sourcepath overlayable root path rootpath root path rootpath root prefix rootprefix root path rootpath concat source path sourcepath source path sourcepath source path prefix sourcepathprefix source path sourcepath concat overlayable overlayable string builder stringbuilder string builder stringbuilder get class getclass get simple name getsimplename append path append root path rootpath append append source path sourcepath append source path sourcepath append append overlayable append overlayable append to string tostring to string tostring inherit doc inheritdoc resource get resource getresource resource resolver resourceresolver resolver http servlet request httpservletrequest http servlet request httpservletrequest string path get resource getresource resolver path inherit doc inheritdoc resource get resource getresource resource resolver resourceresolver resolver string path string mapped path mappedpath map path mappath resolver path mapped path mappedpath existing resource super imposed superimposed content retrieved resource mapped resource mappedresource resolver get resource getresource mapped path mappedpath mapped resource mappedresource superimposing resource superimposingresource mapped resource mappedresource path inherit doc inheritdoc iterator resource list children listchildren resource resource unwrap resource wrapped resource resource current resource currentresource resource resource wrapper resourcewrapper current resource currentresource resource wrapper resourcewrapper resource get resource getresource current resource currentresource resource delegate resource listing resource resolver current resource currentresource superimposing resource superimposingresource superimposing resource superimposingresource res superimposing resource superimposingresource current resource currentresource resource resolver resourceresolver resolver res get resource getresource get resource resolver getresourceresolver iterator resource children resolver list children listchildren res get resource getresource superimposing resource iterator superimposingresourceiterator children maps path super imposing superimposing root target resource path param provider superimposing resource provider param resolver resource resolver param path path map mapped path mapping string map path mappath superimposing resource provider impl superimposingresourceproviderimpl provider resource resolver resourceresolver resolver string path provider overlayable map path with overlay mappathwithoverlay provider resolver path map path without overlay mappathwithoutoverlay provider resolver path maps path super imposing superimposing root target resource path check over laying overlaying param provider superimposing resource provider param resolver resource resolver param path path map mapped path mapping string map path with overlay mappathwithoverlay superimposing resource provider impl superimposingresourceproviderimpl provider resource resolver resourceresolver resolver string path string utils stringutils equals path provider root path rootpath superimposing root path over layed overlayed map path without overlay mappathwithoutoverlay provider resolver path string utils stringutils starts with startswith path provider root prefix rootprefix has overlay resource hasoverlayresource resolver path overlay item exists underlying resource provider step overlay item exist overlay applied fallback mapped path overlay map path without overlay mappathwithoutoverlay provider resolver path has overlay resource hasoverlayresource resource resolver resourceresolver resolver string path check overlay resource checking underlying jcr session session resolver adapt to adaptto session session session item exists itemexists path repository exception repositoryexception log error error accessing repository maps path super imposing superimposing root target resource path check over laying overlaying param provider superimposing resource provider param resolver resource resolver param path path map mapped path mapping string map path without overlay mappathwithoutoverlay superimposing resource provider impl superimposingresourceproviderimpl provider resource resolver resourceresolver resolver string path string mapped path mappedpath string utils stringutils equals path provider root path rootpath mapped path mappedpath provider source path sourcepath string utils stringutils starts with startswith path provider root prefix rootprefix mapped path mappedpath string utils stringutils replace once replaceonce path provider root prefix rootprefix provider source path prefix sourcepathprefix mapped path mappedpath mapped path mappedpath maps path target resource super imposed superimposed resource path param provider param path string reverse map path reversemappath superimposing resource provider impl superimposingresourceproviderimpl provider string path string mapped path mappedpath path starts with startswith provider source path prefix sourcepathprefix mapped path mappedpath string utils stringutils replace once replaceonce path provider source path prefix sourcepathprefix provider root prefix rootprefix path equals provider source path sourcepath mapped path mappedpath provider root path rootpath mapped path mappedpath mapped path mappedpath service registration register service registerservice bundle context bundlecontext context dictionary string object props hashtable string object props constants service description provider super imposed superimposed resources props constants service vendor apache software foundation props roots string root path rootpath registration context register service registerservice service props log info registered unregister service unregisterservice registration registration unregister registration log info unregistered root path destination super imposing superimposing string get root path getrootpath root path rootpath source path source super imposing superimposing string get source path getsourcepath source path sourcepath overlay able overlayable is overlay able isoverlayable overlayable override equals object superimposing resource provider impl superimposingresourceproviderimpl superimposing resource provider impl superimposingresourceproviderimpl srp superimposing resource provider impl superimposingresourceproviderimpl root path rootpath equals srp root path rootpath source path sourcepath equals srp source path sourcepath overlayable srp overlayable override string to string tostring to string tostring
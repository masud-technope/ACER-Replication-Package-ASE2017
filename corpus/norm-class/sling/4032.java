licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven projects upport projectsupport java file java file input stream fileinputstream java file output stream fileoutputstream java file writer filewriter java io exception ioexception java util enumeration java util properties org apache maven artifact artifact org apache maven plugin mojo execution exception mojoexecutionexception org apache maven plugin mojo failure exception mojofailureexception org apache maven plugins annotations component org apache maven plugins annotations lifecycle p has e lifecyclephase org apache maven plugins annotations mojo org apache maven plugins annotations parameter org apache maven plugins annotations resolution scope resolutionscope org apache sling maven projects upport projectsupport bundle list bundlelist bundle list bundlelist org code haus codehaus plexus archiver archiver org code haus codehaus plexus archiver archiver exception archiverexception org code haus codehaus plexus archiver un archiver unarchiver org code haus codehaus plexus archiver jar jar archiver jararchiver org code haus codehaus plexus archiver manager archiver manager archivermanager org code haus codehaus plexus archiver manager no such archiver exception nosucharchiverexception org code haus codehaus plexus util file utils fileutils initialize sling application project extra cting extracting bundles correct locations mojo prepare default p has e defaultphase lifecycle p has e lifecyclephase prepare requires dependency resolution requiresdependencyresolution resolution scope resolutionscope test prepare package mojo preparepackagemojo abstract launchpad framework mojo abstractlaunchpadframeworkmojo output directory bundles war package d packaged project base jar sub directory subdirectory named base destination basedestination parameter additional bundles parameter default value defaultvalue project build directory launchpad bundles file war output directory waroutputdirectory project packaging type parameter property project packaging string packaging definition base jar parameter artifact definition artifactdefinition base definition included provide web support jar package d packaged projects pax web parameter artifact definition artifactdefinition jar web support jarwebsupport project build output directory target classes parameter property project build output directory outputdirectory read only readonly file build output directory buildoutputdirectory temp directory target maven launchpad plugin tmp plugintmp parameter default value defaultvalue project build output directory outputdirectory maven launchpad plugin tmp plugintmp read only readonly file temp directory tempdirectory archiver un archiver unarchiver implementations component archiver manager archivermanager archiver manager archivermanager jar archiver component role archiver hint jar jar archiver jararchiver jar archiver jararchiver override execute with artifacts executewithartifacts mojo execution exception mojoexecutionexception mojo failure exception mojofailureexception copy base artifact copybaseartifact copy bundles copybundles get initialized bundle list getinitializedbundlelist get output directory getoutputdirectory copy configuration files copyconfigurationfiles jar equals packaging unpack base artifact unpackbaseartifact override init artifact definitions initartifactdefinitions properties dependencies base base artifact definition artifactdefinition base init defaults initdefaults dependencies get property getproperty base jar web support jarwebsupport jar web support jarwebsupport artifact definition artifactdefinition jar web support jarwebsupport init defaults initdefaults dependencies get property getproperty jar web support jarwebsupport add jar web support bundle bundle list override init bundle list initbundlelist bundle list bundlelist bundle list bundlelist packaging equals jar bundle list bundlelist add jar web support jarwebsupport to bundle list tobundlelist patch sling properties patch sling properties patchslingproperties file dest properties additional props additionalprops mojo execution exception mojoexecutionexception file orig sling props origslingprops file dest sling properties orig sling props origslingprops exists mojo execution exception mojoexecutionexception sling properties orig sling props origslingprops read original properties properties orig properties file input stream fileinputstream fis fis file input stream fileinputstream orig sling props origslingprops orig load fis io exception ioexception ioe mojo execution exception mojoexecutionexception unable read orig sling props origslingprops ioe fis fis close io exception ioexception ignore patch enumeration object additional props additionalprops has more elements hasmoreelements get log getlog info patching sling properties has more elements hasmoreelements object key next element nextelement orig key additional props additionalprops key save file output stream fileoutputstream fos fos file output stream fileoutputstream orig sling props origslingprops orig store fos io exception ioexception ioe mojo execution exception mojoexecutionexception unable save orig sling props origslingprops ioe fis fis close io exception ioexception ignore patch sling bootstrap command file patch sling bootstrap patchslingbootstrap file dest string additional cmd additionalcmd mojo execution exception mojoexecutionexception get log getlog info patching sling bootstrap txt file orig sling cmd origslingcmd file dest sling bootstrap txt file writer filewriter writer write writer file writer filewriter orig sling cmd origslingcmd writer write additional cmd additionalcmd io exception ioexception ioe mojo execution exception mojoexecutionexception unable save orig sling cmd origslingcmd ioe writer writer close io exception ioexception ignore copy base artifact copybaseartifact mojo execution exception mojoexecutionexception artifact artifact get base artifact getbaseartifact artifact mojo execution exception mojoexecutionexception string format project doesn base dependency group id groupid artifact id artifactid base get group id getgroupid base get artifact id getartifactid file destination dir destinationdir file get output directory getoutputdirectory base destination basedestination file destination file destinationfile file destination dir destinationdir artifact get artifact id getartifactid artifact get artifact handler getartifacthandler get extension getextension check custom sling properties file bootstrap command exists properties additional props additionalprops get sling properties getslingproperties jar equals packaging string bootstrap cmd bootstrapcmd get sling bootstrap getslingbootstrap jar equals packaging additional props additionalprops bootstrap cmd bootstrapcmd unpack temp destination file dest file temp directory tempdirectory base jar basejar unpack artifact get file getfile dest patch sling properties additional props additionalprops patch sling properties patchslingproperties dest additional props additionalprops patch bootstrap command bootstrap cmd bootstrapcmd patch sling bootstrap patchslingbootstrap dest bootstrap cmd bootstrapcmd rep ack repack pack dest destination file destinationfile temp directory tempdirectory delete copy should copy shouldcopy artifact get file getfile destination file destinationfile get log getlog info string format copying base artifact artifact get file getfile destination file destinationfile file utils fileutils copy file copyfile artifact get file getfile destination file destinationfile io exception ioexception mojo execution exception mojoexecutionexception unable copy base artifact get log getlog debug string format skip ping skipping copy base artifact artifact get file getfile artifact get base artifact getbaseartifact mojo execution exception mojoexecutionexception artifact base dependency basedependency get base dependency getbasedependency base dependency basedependency get artifact getartifact base get group id getgroupid base get artifact id getartifactid base dependency basedependency get version getversion base get type gettype base get class ifier getclassifier artifact get base dependency getbasedependency project get artifact map getartifactmap base get group id getgroupid base get artifact id getartifactid file get output directory getoutputdirectory war equals packaging war output directory waroutputdirectory build output directory buildoutputdirectory unpack base artifact unpackbaseartifact mojo execution exception mojoexecutionexception artifact artifact get base dependency getbasedependency artifact mojo execution exception mojoexecutionexception string format project doesn base dependency group id groupid artifact id artifactid base get group id getgroupid base get artifact id getartifactid unpack artifact get file getfile build output directory buildoutputdirectory copy configuration files copyconfigurationfiles mojo execution exception mojoexecutionexception file config dir configdir get config directory getconfigdirectory config dir configdir exists copy directory copydirectory config dir configdir file get output directory getoutputdirectory config path prefix file utils fileutils get default excludes getdefaultexcludes io exception ioexception mojo execution exception mojoexecutionexception unable copy configuration files unpack file source file destination mojo execution exception mojoexecutionexception get log getlog info unpacking source get path getpath destination get path getpath destination mkdirs un archiver unarchiver un archiver unarchiver archiver manager archivermanager get un archiver getunarchiver source un archiver unarchiver set source file setsourcefile source un archiver unarchiver set dest directory setdestdirectory destination un archiver unarchiver extract no such archiver exception nosucharchiverexception mojo execution exception mojoexecutionexception unable find archiver source get path getpath archiver exception archiverexception mojo execution exception mojoexecutionexception unable unpack source get path getpath pack file source dir sourcedir file destination mojo execution exception mojoexecutionexception get log getlog info packing source dir sourcedir get path getpath destination get path getpath destination get parent file getparentfile mkdirs jar archiver jararchiver set dest file setdestfile destination jar archiver jararchiver add directory adddirectory source dir sourcedir jar archiver jararchiver set manifest setmanifest file source dir sourcedir meta inf manifest replace file separator char separatorchar jar archiver jararchiver create archive createarchive io exception ioexception mojo execution exception mojoexecutionexception unable pack source dir sourcedir get path getpath archiver exception archiverexception mojo execution exception mojoexecutionexception unable pack source dir sourcedir get path getpath
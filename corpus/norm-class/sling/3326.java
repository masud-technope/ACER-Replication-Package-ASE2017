licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest login java net url javax servlet http http servlet response httpservletresponse org apache commons http client httpclient credentials org apache commons http client httpclient username password credentials usernamepasswordcredentials org apache commons http client httpclient auth scope authscope org apache commons http client httpclient methods get method getmethod org apache sling commons testing int egration integration http test base httptestbase verify sling auth request login authrequestlogin parameter for ces forces login auth request login test authrequestlogintest http test base httptestbase string session info path system sling info session info sessioninfo json test for ced login testforcedlogin exception disable credentials anonymous session url url url http base url auth scope authscope scope auth scope authscope url get host gethost url get port getport auth scope authscope realm http client httpclient get params getparams set authentication preemptive setauthenticationpreemptive http client httpclient get state getstate set credentials setcredentials scope string content get content getcontent http base url session info path content type json assert java script assertjavascript anonymous content println data userid root get method getmethod get method getmethod http base url status http client httpclient execute method executemethod status status status status fail expected status status root sling auth request login authrequestlogin assert http status asserthttpstatus http base url sling auth request login authrequestlogin http servlet response httpservletresponse unauthorized enable credentials admin session http client httpclient get params getparams set authentication preemptive setauthenticationpreemptive credentials default creds defaultcreds username password credentials usernamepasswordcredentials admin admin http client httpclient get state getstate set credentials setcredentials scope default creds defaultcreds string content get content getcontent http base url session info path content type json assert java script assertjavascript admin content println data userid
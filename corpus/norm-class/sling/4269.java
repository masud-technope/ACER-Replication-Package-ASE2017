licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models impl org junit org mockito mockito java util hashtable org apache sling api sling http servlet request slinghttpservletrequest org apache sling models factory model class exception modelclassexception org apache sling models impl injectors request attribute injector requestattributeinjector org apache sling models impl injectors self injector selfinjector org apache sling models test models testmodels classes invalid constructor model invalidconstructormodel org apache sling models test models testmodels classes superclass constructor model superclassconstructormodel org apache sling models test models testmodels classes with one constructor model withoneconstructormodel org apache sling models test models testmodels classes with three constructors model withthreeconstructorsmodel org apache sling models test models testmodels classes with two constructors model withtwoconstructorsmodel org apache sling models test models testmodels classes constructor injection constructorinjection no name model nonamemodel org apache sling models test models testmodels classes constructor injection constructorinjection with three constructors one inject model withthreeconstructorsoneinjectmodel org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner org osgi framework bundle context bundlecontext org osgi service component component context componentcontext run with runwith mockito unit runner mockitojunitrunner constructor test constructortest mock component context componentcontext component ctx componentctx mock bundle context bundlecontext bundle context bundlecontext model adapter factory modeladapterfactory factory mock sling http servlet request slinghttpservletrequest request string string my value myvalue setup component ctx componentctx get bundle context getbundlecontext then return thenreturn bundle context bundlecontext component ctx componentctx get properties getproperties then return thenreturn hashtable string object request get attribute getattribute attribute then return thenreturn request get attribute getattribute attribute then return thenreturn string factory model adapter factory modeladapterfactory factory activate component ctx componentctx factory bind injector bindinjector request attribute injector requestattributeinjector service properties map servicepropertiesmap factory bind injector bindinjector self injector selfinjector service properties map servicepropertiesmap test test constructor injection testconstructorinjection with one constructor model withoneconstructormodel model factory get adapter getadapter request with one constructor model withoneconstructormodel assert not null assertnotnull model assert equals assertequals request model get request getrequest assert equals assertequals model get attribute getattribute test test three constructors injection testthreeconstructorsinjection with three constructors model withthreeconstructorsmodel model factory get adapter getadapter request with three constructors model withthreeconstructorsmodel assert not null assertnotnull model assert equals assertequals request model get request getrequest assert equals assertequals model get attribute getattribute test test two constructors injection testtwoconstructorsinjection with two constructors model withtwoconstructorsmodel model factory get adapter getadapter request with two constructors model withtwoconstructorsmodel assert not null assertnotnull model assert equals assertequals request model get request getrequest assert equals assertequals model get attribute getattribute test test superclass constructors injection testsuperclassconstructorsinjection superclass constructor model superclassconstructormodel model factory get adapter getadapter request superclass constructor model superclassconstructormodel assert not null assertnotnull model assert equals assertequals request model get request getrequest assert equals assertequals model get attribute getattribute test test invalid constructor injector testinvalidconstructorinjector invalid constructor model invalidconstructormodel model factory get adapter getadapter request invalid constructor model invalidconstructormodel assert null assertnull model test expected model class exception modelclassexception test invalid constructor injector exception testinvalidconstructorinjectorexception factory create model createmodel request invalid constructor model invalidconstructormodel test model object constructors inject picked instantiation test mixin g mixing constructor injection field injection test test three constructors one inject injection testthreeconstructorsoneinjectinjection with three constructors one inject model withthreeconstructorsoneinjectmodel model factory get adapter getadapter request with three constructors one inject model withthreeconstructorsoneinjectmodel assert not null assertnotnull model assert null assertnull model get request getrequest assert equals assertequals model get attribute getattribute assert equals assertequals string model get attribute getattribute test test no name model testnonamemodel no name model nonamemodel model factory get adapter getadapter request no name model nonamemodel assert null assertnull model
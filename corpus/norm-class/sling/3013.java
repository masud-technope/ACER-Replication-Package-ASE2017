licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling tenant internal java util array list arraylist java util dictionary java util hashtable java util list java util regex matcher java util regex pattern javax jcr session org apache jackrabbit api jackrabbit session jackrabbitsession org apache jackrabbit api security user authorizable org apache sling api adapter adapter factory adapterfactory org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling tenant tenant org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org slf logger org slf logger factory loggerfactory resource based tenant adapter factory adapts code resource resolver resourceresolver code code resource code code tenant code resolve tenant based log ged logged user user path users tenant admin resource resolve tenant resource path tenant adapter factory tenantadapterfactory adapter factory adapterfactory logger log logger factory loggerfactory get logger getlogger get class getclass resource resolver resourceresolver resource resolver resourceresolver resource resolver resourceresolver resource resource resource tenant tenant tenant tenant provider impl tenantproviderimpl tenant provider tenantprovider service registration serviceregistration service list pattern path patterns pathpatterns tenant adapter factory tenantadapterfactory bundle context bundlecontext bundle context bundlecontext tenant provider impl tenantproviderimpl tenant provider tenantprovider string path matchers pathmatchers tenant provider tenantprovider tenant provider tenantprovider path patterns pathpatterns array list arraylist pattern string matcher str matcherstr path matchers pathmatchers path patterns pathpatterns add pattern compile matcher str matcherstr dictionary string object props hashtable string object props constants service description apache sling tenant adapter props adapter factory adapterfactory adapter classes string tenant get name getname props adapter factory adapterfactory adaptable classes string resource resolver resourceresolver get name getname resource get name getname service bundle context bundlecontext register service registerservice adapter factory adapterfactory service props dispose service service unregister adapter factory adapterfactory javadoc org apache sling api adapter adapter factory adapterfactory get adapter getadapter java lang object java lang adapter type adaptertype adapter type adaptertype get adapter getadapter object adaptable adapter type adaptertype type adaptable resource resolver resourceresolver get adapter getadapter resource resolver resourceresolver adaptable adapt to adaptto session type adaptable resource get adapter getadapter resource adaptable get path getpath type log warn unable handle adaptable adaptable get class getclass get name getname adapter type adaptertype adapter type adaptertype get adapter getadapter session session adapter type adaptertype type session jackrabbit session jackrabbitsession string userid session get user d getuserid jackrabbit session jackrabbitsession jr session jrsession jackrabbit session jackrabbitsession session authorizable authorizable jr session jrsession get user manager getusermanager get authorizable getauthorizable userid string user home userhome authorizable get path getpath users tenant admin get adapter getadapter user home userhome type exception log error user session log debug unable adapt resource type type get name getname suppress warnings suppresswarnings unchecked adapter type adaptertype adapter type adaptertype get adapter getadapter string path adapter type adaptertype type type tenant adapter type adaptertype resolve tenant by path resolvetenantbypath path log debug unable adapt resource type type get name getname tenant resolve tenant by path resolvetenantbypath string path find matching path identifier pattern path pattern pathpattern path patterns pathpatterns matcher matcher path pattern pathpattern matcher path matcher find group number config urable configurable matcher group count groupcount string tenant id tenantid matcher group tenant tenant tenant provider tenantprovider get tenant gettenant tenant id tenantid tenant tenant log debug resolve tenant path
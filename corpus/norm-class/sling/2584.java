licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling api resource org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue org junit fail java util array list arraylist java util hash map hashmap java util iterator java util list java util map java util no such element exception nosuchelementexception org apache sling api wrappers value map decorator valuemapdecorator org jmock expectations org jmock mockery org jmock int egration integration junit j mock jmock org jmock int egration integration junit j unit junit mockery org junit test org junit runner run with runwith run with runwith j mock jmock resource util test resourceutiltest mockery context j unit junit mockery test test resolve relative segments testresolverelativesegments assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize resource util resourceutil normalize fail res olving resolving expects null pointer exception nullpointerexception null pointer exception nullpointerexception npe test test resolve relative segments relative testresolverelativesegmentsrelative assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert null assertnull resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize assert equals assertequals resource util resourceutil normalize test test get parent testgetparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert equals assertequals security resource util resourceutil get parent getparent security assert equals assertequals security resource util resourceutil get parent getparent security assert equals assertequals security resource util resourceutil get parent getparent security test test get name testgetname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname assert equals assertequals resource util resourceutil get name getname test test get value map getvaluemap resource value map valuemap value map valuemap resource util resourceutil get value map getvaluemap assert not null assertnotnull value map valuemap assert equals assertequals value map valuemap size object replaced value map valuemap sample assert null assertnull replaced assert equals assertequals value map valuemap size assert equals assertequals value map valuemap sample assert equals assertequals integer value of valueof value map valuemap sample integer assert equals assertequals value map valuemap sample string test test get value map getvaluemap direct value map valuemap value map valuemap value map decorator valuemapdecorator hash map hashmap string object value map valuemap sample resource resource synthetic resource syntheticresource sample override suppress warnings suppresswarnings unchecked type type adapt to adaptto type type type value map valuemap type value map valuemap adapt to adaptto type value map valuemap adapted resource util resourceutil get value map getvaluemap resource assert equals assertequals value map valuemap adapted assert not null assertnotnull adapted assert equals assertequals adapted size assert equals assertequals adapted sample assert equals assertequals value of valueof adapted sample assert equals assertequals to string tostring adapted sample string test test get value map getvaluemap decorated map map string object map hash map hashmap string object map sample resource resource synthetic resource syntheticresource sample override suppress warnings suppresswarnings unchecked type type adapt to adaptto type type type map type map type value map valuemap adapt to adaptto type value map valuemap adapted resource util resourceutil get value map getvaluemap resource assert not null assertnotnull adapted assert equals assertequals adapted size assert equals assertequals adapted sample assert equals assertequals value of valueof adapted sample assert equals assertequals to string tostring adapted sample string test test get value map getvaluemap adapter value map valuemap value map valuemap resource util resourceutil get value map getvaluemap assert not null assertnotnull value map valuemap assert equals assertequals value map valuemap size object replaced value map valuemap sample assert null assertnull replaced assert equals assertequals value map valuemap size assert equals assertequals value map valuemap sample assert equals assertequals integer value of valueof value map valuemap sample integer assert equals assertequals value map valuemap sample string test test resource type to path resourcetypetopath assert equals assertequals resource util resourceutil resource type to path resourcetypetopath test test adapt to adaptto define resources adaptable list adaptable map adaptable string adaptable adaptable resource context mock resource resource context mock resource resource context mock resource list resource array list arraylist resource add add add context checking expectations allowing adapt to adaptto list return value returnvalue array list arraylist object allowing adapt to adaptto list return value returnvalue array list arraylist object allowing adapt to adaptto list return value returnvalue allowing adapt to adaptto map return value returnvalue hash map hashmap object object allowing adapt to adaptto map return value returnvalue hash map hashmap object object allowing adapt to adaptto map return value returnvalue hash map hashmap object object allowing adapt to adaptto return value returnvalue allowing adapt to adaptto return value returnvalue allowing adapt to adaptto return value returnvalue allowing adapt to adaptto return value returnvalue allowing adapt to adaptto return value returnvalue allowing adapt to adaptto return value returnvalue allowing adapt to adaptto string return value returnvalue allowing adapt to adaptto string return value returnvalue allowing adapt to adaptto string return value returnvalue assert equals assertequals check iterator checkiterator list assert equals assertequals check iterator checkiterator map assert equals assertequals check iterator checkiterator string assert equals assertequals check iterator checkiterator assert equals assertequals check iterator checkiterator check iterator checkiterator list resource resources type iterator resource util resourceutil adapt to adaptto resources iterator type call has next hasnext times upfront has next hasnext has next hasnext count has next hasnext object assert not null assertnotnull object count assert false assertfalse has next hasnext exception fail iterator reached no such element exception nosuchelementexception nsee count test test is star resource testisstarresource resource non star nonstar context mock resource non star resource nonstarresource string star path starpath foo resource star context mock resource star resource starresource string non star path nonstarpath foo context checking expectations allowing star get path getpath return value returnvalue star path starpath allowing non star nonstar get path getpath return value returnvalue non star path nonstarpath assert true asserttrue expecting star path star path starpath resource util resourceutil is star resource isstarresource star assert true asserttrue expecting star path star path starpath resource util resourceutil is star resource isstarresource non star nonstar test test is synthetic resource testissyntheticresource resource synth synthetic resource syntheticresource foo bar resource star context mock resource context checking expectations allowing star get path getpath return value returnvalue foo resource wrapped resource wrapper resourcewrapper synth assert true asserttrue expecting synthetic synthetic resource syntheticresource resource util resourceutil is synthetic resource issyntheticresource synth assert false assertfalse expecting synthetic star resource resource util resourceutil is synthetic resource issyntheticresource star assert true asserttrue expecting synthetic wrapped resource resource util resourceutil is synthetic resource issyntheticresource wrapped test test get parent level testgetparentlevel exception caught null pointer exception caughtnullpointerexception resource util resourceutil get parent getparent null pointer exception nullpointerexception caught null pointer exception caughtnullpointerexception exception fail expected null pointer exception nullpointerexception caught get class getclass get name getname caught null pointer exception caughtnullpointerexception fail expected null pointer exception nullpointerexception exception thrown caught illegal argument exception caughtillegalargumentexception resource util resourceutil get parent getparent illegal argument exception illegalargumentexception caught illegal argument exception caughtillegalargumentexception exception fail expected illegal argument exception illegalargumentexception caught get class getclass get name getname caught illegal argument exception caughtillegalargumentexception fail expected illegal argument exception illegalargumentexception exception thrown assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent assert null assertnull resource util resourceutil get parent getparent security assert null assertnull resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals security resource util resourceutil get parent getparent security assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals security resource util resourceutil get parent getparent security assert equals assertequals security resource util resourceutil get parent getparent security assert equals assertequals security resource util resourceutil get parent getparent security assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent assert equals assertequals resource util resourceutil get parent getparent suppress warnings suppresswarnings deprecation test test is a testisa assert false assertfalse resource util resourceutil is a isa suppress warnings suppresswarnings deprecation test test find resource super type testfindresourcesupertype assert null assertnull resource util resourceutil find resource super type findresourcesupertype
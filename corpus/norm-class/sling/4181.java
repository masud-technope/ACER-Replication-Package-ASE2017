licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl support java io exception ioexception java input stream inputstream java object input stream objectinputstream java serializable java util array list arraylist java util arrays java util bit set bitset java util collections java util hash map hashmap java util list java util map org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org apache sling event impl jobs job impl jobimpl org apache sling event impl jobs config main queue configuration mainqueueconfiguration org apache sling event jobs job org apache sling event jobs schedule info scheduleinfo org apache sling event jobs consumer job consumer jobconsumer org osgi service event event constants eventconstants resource helper resourcehelper string resource type folder sling folder string resource type job sling event slingevent job string resource type event sling event slingevent event resource type time d timed events string resource type schedule d scheduled job sling event slingevent time d event timedevent string bundle event updated org osgi framework bundle event bundleevent updated string bundle event started org osgi framework bundle event bundleevent started string property schedule sling event slingevent schedule name schedulename string property schedule info sling event slingevent schedule info scheduleinfo string property schedule info type sling event slingevent schedule info type scheduleinfotype string property schedule suspended sling event slingevent schedule suspended schedulesuspended string property job sling event slingevent event id eventid string property job topic event job topic string property distribute event distribute string property application event application list properties write repository string ignore properties string resource helper resourcehelper property distribute resource helper resourcehelper property application event constants eventconstants event topic resource helper resourcehelper property job job impl jobimpl property delay override job consumer jobconsumer property job async handler job property job progress log job property job progress eta job property job progress step job property job progress steps job property finished job impl jobimpl property finished job property result message property schedule info property schedule property schedule info type property schedule suspended check property ignore property ignoreproperty string string prop ignore properties prop equals allowed characters node bit set bitset allowed chars replacement characters unallowed characters node replacement sub set subset allowed characters nodes string allowed abc def ghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abc def ghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz bit set bitset allowed set allowedset bit set bitset allowed length allowed set allowedset allowed char at charat allowed chars allowed set allowedset filter queue allowed characters replace exception main queue filtered param queue name queuename suggested queue filtered queue string filter queue name filterqueuename string queue name queuename queue name queuename equals main queue configuration mainqueueconfiguration main queue queue name queuename resource helper resourcehelper filter name filtername queue name queuename filter node allowed characters replace param resource name resourcename suggested resource filtered node string filter name filtername string resource name resourcename resource name resourcename string builder stringbuilder string builder stringbuilder resource name resourcename length last added lastadded resource name resourcename length resource name resourcename char at charat to add toadd allowed chars last added lastadded replacement add row to add toadd replacement character is digit isdigit append replacement append to add toadd last added lastadded to add toadd length append replacement to string tostring string property marker read error list resource helper resourcehelper get name getname read error list readerrorlist map string object clone value map clonevaluemap value map valuemap instantiation exception instantiationexception list exception has read error hasreaderror map string object result hash map hashmap string object map entry string object entry result entry set entryset entry get key getkey equals property schedule info string info array infoarray entry get key getkey string info array infoarray info array infoarray length has read error hasreaderror has read error hasreaderror array list arraylist exception has read error hasreaderror add exception unable deserialize property entry get key getkey entry get value getvalue list schedule info scheduleinfo infos array list arraylist schedule info scheduleinfo string info array infoarray schedule info impl scheduleinfoimpl info schedule info impl scheduleinfoimpl deserialize info infos add info infos size info array infoarray length has read error hasreaderror has read error hasreaderror array list arraylist exception has read error hasreaderror add exception unable deserialize property entry get key getkey arrays to string tostring info array infoarray entry set value setvalue infos entry get value getvalue input stream inputstream object entry get key getkey serializable entry set value setvalue has read error hasreaderror has read error hasreaderror array list arraylist exception find missing object input stream objectinputstream ois ois object input stream objectinputstream input stream inputstream entry get value getvalue ois read object readobject has read error hasreaderror add exception unable deserialize property entry get key getkey class not found exception classnotfoundexception cnfe has read error hasreaderror add exception unable deserialize property entry get key getkey cnfe io exception ioexception ioe has read error hasreaderror add runtime exception runtimeexception unable deserialize property entry get key getkey ioe ois ois close io exception ioexception ignore has read error hasreaderror result property marker read error list has read error hasreaderror result illegal argument exception illegalargumentexception iae instantiation exception instantiationexception instantiation exception instantiationexception iae get message getmessage init cause initcause iae value map valuemap get value map getvaluemap resource resource instantiation exception instantiationexception value map valuemap resource util resourceutil get value map getvaluemap resource trigger full loading size illegal argument exception illegalargumentexception iae instantiation exception instantiationexception instantiation exception instantiationexception iae get message getmessage init cause initcause iae get or create base path getorcreatebasepath resource resolver resourceresolver resolver string path persistence exception persistenceexception get or create resource getorcreateresource resolver path resource helper resourcehelper resource type folder resource helper resourcehelper resource type folder resource get or create resource getorcreateresource resource resolver resourceresolver resolver string path map string object props persistence exception persistenceexception get or create resource getorcreateresource resolver path props resource helper resourcehelper resource type folder creates resource path copy sling api resource util resourceutil method avoid dependency latest sling api version remove update sling api param resolver resource resolver creation param path full path created param resource type resourcetype optional resource type resource create param int ermediate resource type intermediateresourcetype optional resource type int ermediate intermediate resources param auto commit autocommit commit performed resource creation resource get or create resource getorcreateresource resource resolver resourceresolver resolver string path string resource type resourcetype string int ermediate resource type intermediateresourcetype auto commit autocommit persistence exception persistenceexception map string object props resource type resourcetype props props collections singleton map singletonmap resource resolver resourceresolver property resource type object resource type resourcetype get or create resource getorcreateresource resolver path props int ermediate resource type intermediateresourcetype auto commit autocommit creates resource path exception occurs retries operation times auto commit autocommit enabled link resource resolver resourceresolver revert called resolver creation ret ried retried copy sling api resource util resourceutil method avoid dependency latest sling api version remove update sling api param resolver resource resolver creation param path full path created param resource properties resourceproperties optional resource properties resource create param int ermediate resource type intermediateresourcetype optional resource type int ermediate intermediate resources param auto commit autocommit commit performed resource creation resource get or create resource getorcreateresource resource resolver resourceresolver resolver string path map string object resource properties resourceproperties string int ermediate resource type intermediateresourcetype auto commit autocommit persistence exception persistenceexception persistence exception persistenceexception most recent e mostrecentpe get or create resource internal getorcreateresourceinternal resolver path resource properties resourceproperties int ermediate resource type intermediateresourcetype auto commit autocommit persistence exception persistenceexception auto commit autocommit resolver revert resolver refresh most recent e mostrecentpe most recent e mostrecentpe creates resource path copy sling api resource util resourceutil method avoid dependency latest sling api version remove update sling api param resolver resource resolver creation param path full path created param resource properties resourceproperties optional resource properties resource create param int ermediate resource type intermediateresourcetype optional resource type int ermediate intermediate resources param auto commit autocommit commit performed resource creation resource get or create resource internal getorcreateresourceinternal resource resolver resourceresolver resolver string path map string object resource properties resourceproperties string int ermediate resource type intermediateresourcetype auto commit autocommit persistence exception persistenceexception resource rsrc resolver get resource getresource path rsrc last pos lastpos path last index of lastindexof string path substring last pos lastpos resource parent resource parentresource last pos lastpos parent resource parentresource resolver get resource getresource string parent path parentpath path substring last pos lastpos parent resource parentresource get or create resource getorcreateresource resolver parent path parentpath int ermediate resource type intermediateresourcetype int ermediate resource type intermediateresourcetype auto commit autocommit auto commit autocommit resolver refresh retry retry rsrc rsrc resolver create parent resource parentresource resource properties resourceproperties check sns equals rsrc get name getname resolver refresh resolver delete rsrc rsrc resolver get resource getresource parent resource parentresource retry rsrc persistence exception persistenceexception unable create resource persistence exception persistenceexception resolver refresh rsrc resolver get resource getresource parent resource parentresource rsrc auto commit autocommit resolver commit resolver refresh rsrc resolver get resource getresource parent resource parentresource persistence exception persistenceexception resolver revert resolver refresh rsrc resolver get resource getresource parent resource parentresource rsrc rsrc resolver create parent resource parentresource resource properties resourceproperties resolver commit rsrc
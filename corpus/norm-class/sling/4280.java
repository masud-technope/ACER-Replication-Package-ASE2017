licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling spi resource provider java util collection java util iterator java util map javax annotation check for null checkfornull javax annotation nonnull org apache sling api sling exception slingexception org apache sling api resource login exception loginexception org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api resource resource util resourceutil org apache sling api resource synthetic resource syntheticresource a qute aqute bnd annotation consumer type consumertype api providers resources link resource resolver resourceresolver tra nsparently transparently access resources locations jcr repository database bundle resources extension point defined contrast add functionality versions breaking implementation service intended implemented providers resource instances behalf link resource resolver resourceresolver intended client applications resource provider service extending resource provider link property root property absolute path mount point resource provider provider registering root highest service ranking provider resource tree activated call link start provider context providercontext method provider resource tree link method called provider changed provider link update method called provider context instance passed link start provider context providercontext method updated resource providers require user authentication jcr resource provider authenticated sessions provider requires authentication setting service registration property link property authenticate link authenticate lazy link authenticate required cases resource resolver calls link authenticate map successful authentication provider returns object current user object passed provider method link resource context resourcecontext get provider state getproviderstate provider requires authentication link log out logout object method called resource resolver closed provider service property sets link authenticate link authenticate map link log out logout object method called link resource context resourcecontext get provider state getproviderstate code method link resource context resourcecontext access functionality todo query todo observation consumer type consumertype resource provider resourceprovider service registration property root path resources provider property missing empty invalid provider provider root string property root provider root optional service registration property setting provider unique combination root identify resource provider string property provider service registration property flag indicating resource access security resourceaccesssecurity service provider resource access security resourceaccesssecurity underlying storage provide access control code code provider use resource access security useresourceaccesssecurity string property resource access security provider use resource access security useresourceaccesssecurity link property authenticate property authenticate string authenticate link property authenticate indicating authentication required property authenticate string authenticate required required link property authenticate indicating authentication needed demand property authenticate string authenticate lazy lazy resource provider user authenticated property link authenticate lazy link authenticate required link authenticate required link authenticate map method called resource resolver created authentication resource providers marked required successful resource resolver created creation fails provider sets property link authenticate lazy authenticate method invoked resource provider requested happen traversal queries authentication fails resources provider accessible property link authenticate authentication required provider link authenticate map invoked string service property code link authenticate code provider authenticate string property authenticate provider authenticate modifiable resource provider capable creating changing deleting resources methods link create resource context resourcecontext string map link delete resource context resourcecontext resource adapting resource modifiable map supported flag code resource resolver provider account modifications modification operations provider result exception code property link resource provider resourceprovider property authenticate require authentication provider registration considered invalid provider service property code provider modifiable string property modifiable provider modifiable flag code resource resolver provider adapt to adaptto operation service property code provider adaptable string property adaptable provider adaptable flag code resource resolver call link refresh resource context resourcecontext ref res hed refreshed service property code provider refresh able refreshable string property ref reshable refreshable provider refresh able refreshable flag code resource resolver attribute names attribute values provider service property code provider attr ibutable attributable string property attr ibutable attributable provider attr ibutable attributable authentication property ref erring referring bundle providing service resource provider retrieved property link resource resolver factory resourceresolverfactory subservice property link resource resolver factory resourceresolverfactory implementations provide property implementation link resource resolver factory resourceresolverfactory get service resource resolver getserviceresourceresolver map method resource provider factory type property code org osgi framework bundle code string service bundle sling service bundle authentication property indicating admin istrative administrative login property resource resolver created link resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver map string admin provider admin resource type resources returned link list children listchildren resource method enable traversing resource tree deeply nested resource concrete parent hierarchy sling synthetic resource provider resource syntheticresourceproviderresource list children listchildren resource string resource type synthetic sling synthetic resource provider resource syntheticresourceproviderresource context provider provider context providercontext ctx call method provider implementation not ified notified resource tree param ctx context provider start nonnull provider context providercontext ctx ctx ctx call method provider implementation not ified notified resource tree ctx call method provider implementation not ified notified registration provider changed observation listeners changed method called provider resource tree param change set changeset bit provider info changed update change set changeset ctx ctx current provider context provider context code provider resource tree provider context providercontext get provider context getprovidercontext ctx auth enticate authenticate resource provider returns provider context object authentication successful context object passed resource provider messages link resource context resourcecontext valid implementation code context authentication fails code login exception loginexception thrown returned context object grants access resources privileges assigned service calling bundle code authentication info authenticationinfo code map general res pective respective link resource resolver resourceresolver method code authentication info authenticationinfo map provide additional link service bundle property additional link resource resolver factory resourceresolverfactory subservice link user link password properties map link user impersonation property obeyed requires authenticated user permission impersonate requested user permission missing code login exception loginexception thrown resource resolver implementation call link log out logout object method resource resolver closed param authentication info authenticationinfo map credential implementation param eterize parameterize resource resolver created context data object code authentication info authenticationinfo code login exception loginexception error occurs auth enticating authenticating credential data href http sling apache org documentation sling engine service authentication html service authentication nonnull authenticate nonnull map string object authentication info authenticationinfo login exception loginexception provider requires authentication method called user resource resolver closed param ctx link resolver context resolvercontext log out logout nonnull resolver context resolvercontext ctx provider updated reflect latest resources pending discarded link revert resource context resourcecontext called discard method called provider supports setting link property ref reshable refreshable code param ctx link resolver context resolvercontext refresh nonnull resolver context resolvercontext ctx returns code code resource provider closed method exception resource provider closed method called resource providers require authentication param ctx link resolver context resolvercontext code code resource provider closed active resource provider closed active method returns code code is live islive nonnull resolver context resolvercontext ctx returns parent resource resource provider code code resource provider find resource provider cached instances resource resource resolver update resource meta data resource resolution process meta data depending full path resource resolution passed resource resolver param ctx link resolver context resolvercontext param child child resource code code provider resource parent org apache sling api sling exception slingexception thrown problem creating code resource code instance check for null checkfornull resource get parent getparent nonnull resolver context resolvercontext ctx nonnull resource child string parent path parentpath resource util resourceutil get parent getparent child get path getpath parent path parentpath get resource getresource ctx parent path parentpath resource context resourcecontext empty context returns resource resource provider code code resource provider find path link property root strings prefix resource provider cached instances resource resource resolver update resource meta data resource resolution process meta data depending full path resource resolution passed resource resolver param ctx link resolver context resolvercontext param path full path resource param resource context resourcecontext additional resolving resource param parent optional parent resource code code provider resource path org apache sling api sling exception slingexception thrown problem creating code resource code instance check for null checkfornull resource get resource getresource nonnull resolver context resolvercontext ctx nonnull string path nonnull resource context resourcecontext resource context resourcecontext check for null checkfornull resource parent returns code iterator code link resource objects loaded children code resource code returned link resource instances attached link resource resolver resourceresolver code parent code resource method called resource providers root path list path resource path prefix list entry enumeration deeply nested resources actual parent hierarchy exists returned iterator turn resources exist required traverse resource tree resources link synthetic resource syntheticresource objects resource type link resource type synthetic link get resource getresource resource resolver resourceresolver string returned resource objects cached objects param ctx link resolver context resolvercontext param parent link resource resource children requested code iterator code link resource objects code code resource provider children resource null pointer exception nullpointerexception code parent code code code sling exception slingexception error occurs acquiring child resource iterator check for null checkfornull iterator resource list children listchildren nonnull resolver context resolvercontext ctx nonnull resource parent returns collection attribute names retrieved calling link get attribute getattribute resource resolver resourceresolver string method method called provider supports setting link property attr ibutable attributable code param ctx link resolver context resolvercontext collection attribute names code code illegal state exception illegalstateexception resource provider closed collection string get attribute names getattributenames nonnull resolver context resolvercontext ctx returns resource provider attribute code code attribute visible security sensitive attributes method called provider supports setting link property attr ibutable attributable code param ctx link resolver context resolvercontext param attribute access attribute code code attribute accessible illegal state exception illegalstateexception resource provider closed object get attribute getattribute nonnull resolver context resolvercontext ctx nonnull string create resource path resource space provider link commit resource resolver resourceresolver called resource provider link resource resolver resourceresolver property resource type resource type resource method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext param path resource path param properties optional properties resource persistence exception persistenceexception fails resource create nonnull resolver context resolvercontext ctx string path map string object properties persistence exception persistenceexception persistence exception persistenceexception create supported delete resource path change space provider link commit resource resolver resourceresolver called method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext param resource resource delete persistence exception persistenceexception fails delete nonnull resolver context resolvercontext ctx nonnull resource resource persistence exception persistenceexception persistence exception persistenceexception delete supported revert create delete updates method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext revert nonnull resolver context resolvercontext ctx commit create delete updates method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext persistence exception persistenceexception fails commit nonnull resolver context resolvercontext ctx persistence exception persistenceexception method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext has changes haschanges nonnull resolver context resolvercontext ctx optional query provider provider supports kind query query provider implementation provider active query provider active method called query provider implementation cache provider object query provider resource provider supports type querying check for null checkfornull query provider queryprovider get query provider getqueryprovider optional jcr query provider provider supports kind query query provider implementation provider active query provider active method called query provider implementation cache provider object jcr query provider resource provider supports type querying check for null checkfornull jcr query provider jcrqueryprovider getjcrqueryprovider adapts provider type explicitly left implementation detail call method code type code yields object object call impl ementations implementations method document adapted types behavior resp ect respect returning newly created instance call method called provider supports setting link property adaptable code param ctx link resolver context resolvercontext param type type resource adapted adapter target code provider adapt requested type check for null checkfornull adapter type adaptertype adapter type adaptertype adapt to adaptto nonnull resolver context resolvercontext ctx nonnull adapter type adaptertype type method copies sub graph subgraph rooted including resource code src abs path srcabspath code location code dest abs path destabspath code adds child node resource code dest abs path destabspath code resources resources provider full tree provider resource code dest abs path destabspath code exist code persistence exception persistenceexception thrown child resource exists code dest abs path destabspath code code persistence exception persistenceexception thrown method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext param src abs path srcabspath path resource copied param dest abs path destabspath location resource code src abs path srcabspath code copied persistence exception persistenceexception error occurs code provider perform copy copy nonnull resolver context resolvercontext ctx string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception method moves sub graph subgraph rooted including resource code src abs path srcabspath code location code dest abs path destabspath code adds child node resource code dest abs path destabspath code resources resources provider full tree provider resource code dest abs path destabspath code exist code persistence exception persistenceexception thrown child resource exists code dest abs path destabspath code code persistence exception persistenceexception thrown method called provider supports setting link property modifiable code param ctx link resolver context resolvercontext param src abs path srcabspath path resource copied param dest abs path destabspath location resource code src abs path srcabspath code moved persistence exception persistenceexception error occurs code provider perform move move nonnull resolver context resolvercontext ctx string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl org apache commons lang string utils stringutils default string defaultstring java util arrays java util collections java util hash map hashmap java util hash set hashset java util iterator java util linked list linkedlist java util map java util java util string tokenizer stringtokenizer java util concurrent atomic atomic boolean atomicboolean java util regex matcher java util regex pattern javax jcr name space exception namespaceexception javax jcr repository exception repositoryexception javax jcr session javax servlet http http servlet request httpservletrequest org apache sling adapter annotations adaptable org apache sling adapter annotations adapter org apache sling api sling exception slingexception org apache sling api adapter sling adaptable slingadaptable org apache sling api resource login exception loginexception org apache sling api resource non existing resource nonexistingresource org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource not found exception resourcenotfoundexception org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api resource resource util resourceutil org apache sling api resource resource wrapper resourcewrapper org apache sling api resource query query org apache sling api resource query query instructions queryinstructions org apache sling api resource query result org apache sling resource resolver resourceresolver impl helper redirect resource redirectresource org apache sling resource resolver resourceresolver impl helper resource iterator decorator resourceiteratordecorator org apache sling resource resolver resourceresolver impl helper resource path iterator resourcepathiterator org apache sling resource resolver resourceresolver impl helper resource resolver context resourceresolvercontext org apache sling resource resolver resourceresolver impl helper star resource starresource org apache sling resource resolver resourceresolver impl helper uri org apache sling resource resolver resourceresolver impl helper uri exception uriexception org apache sling resource resolver resourceresolver impl mapping map entry mapentry org apache sling resource resolver resourceresolver impl params parsed parameters parsedparameters org apache sling resource resolver resourceresolver impl providers resource provider storage resourceproviderstorage org apache sling resource resolver resourceresolver impl providers stateful combined resource provider combinedresourceprovider org apache sling resource resolver resourceresolver impl providers stateful resource provider authenticator resourceproviderauthenticator org slf logger org slf logger factory loggerfactory adaptable adaptable class adaptableclass resource resolver resourceresolver adapters adapter session resource resolver impl resourceresolverimpl sling adaptable slingadaptable resource resolver resourceresolver logger logger logger logger factory loggerfactory get logger getlogger resource resolver impl resourceresolverimpl map string string empty parameters collections empty map emptymap string mangle namespace suffix string mangle namespace prefix pattern mangle namespace pattern pattern compile string mangle namespace suffix string mangle namespace prefix pattern manle namespace pattern pattern compile string prop redirect internal sling internal redirect internalredirect string prop alias sling alias suffix resource content node parent file slash included prevent pos itives positives string ends with endswith check names xyz jcr xyzjcr content string jcr content leaf jcr content factory created resource resolver common resource resolver factory impl commonresourceresolverfactoryimpl factory closed marker atomic boolean atomicboolean is closed isclosed atomic boolean atomicboolean resource resolver context resource resolver context resourceresolvercontext context combined resource provider combinedresourceprovider provider map string object authentication info authenticationinfo exception closed resolver exception closedresolverexception resource resolver impl resourceresolverimpl common resource resolver factory impl commonresourceresolverfactoryimpl factory is admin isadmin map string object authentication info authenticationinfo login exception loginexception factory is admin isadmin authentication info authenticationinfo factory get resource provider tracker getresourceprovidertracker get resource provider storage getresourceproviderstorage resource resolver impl resourceresolverimpl common resource resolver factory impl commonresourceresolverfactoryimpl factory is admin isadmin map string object authentication info authenticationinfo resource provider storage resourceproviderstorage storage login exception loginexception factory factory authentication info authenticationinfo authentication info authenticationinfo provider create provider createprovider storage context resource resolver context resourceresolvercontext is admin isadmin factory register context constructor cloning resource resolver param resolver resolver clone param authentication info authenticationinfo info login exception loginexception required provider fails resource resolver impl resourceresolverimpl resource resolver impl resourceresolverimpl resolver map string object authentication info authenticationinfo login exception loginexception factory resolver factory authentication info authenticationinfo hash map hashmap string object resolver authentication info authenticationinfo authentication info authenticationinfo put all putall resolver authentication info authenticationinfo authentication info authenticationinfo authentication info authenticationinfo put all putall authentication info authenticationinfo provider create provider createprovider factory get resource provider tracker getresourceprovidertracker get resource provider storage getresourceproviderstorage context resource resolver context resourceresolvercontext resolver context is admin isadmin factory register context combined resource provider combinedresourceprovider create provider createprovider resource provider storage resourceproviderstorage storage login exception loginexception resource provider authenticator resourceproviderauthenticator authenticator resource provider authenticator resourceproviderauthenticator authentication info authenticationinfo factory get resource access security tracker getresourceaccesssecuritytracker combined resource provider combinedresourceprovider provider combined resource provider combinedresourceprovider storage authenticator authenticator authenticate all authenticateall storage get auth required handlers getauthrequiredhandlers provider provider org apache sling api resource resource resolver resourceresolver clone map override resource resolver resourceresolver clone map string object authentication info authenticationinfo login exception loginexception ensure resolver live check closed checkclosed create regular resource resolver resource resolver impl resourceresolverimpl authentication info authenticationinfo org apache sling api resource resource resolver resourceresolver is live islive override is live islive is closed isclosed provider is live islive factory is live islive org apache sling api resource resource resolver resourceresolver close override close factory should log resource resolver closing shouldlogresourceresolverclosing closed resolver exception closedresolverexception exception stack trace is closed isclosed compare and set compareandset factory unregister context provider log out logout context close check resource resolver closed factory created resolver longer live illegal state exception illegalstateexception resolver closed factory longer live check closed checkclosed is closed isclosed closed resolver exception closedresolverexception logger error resource resolver resourceresolver closed closed resolver exception closedresolverexception illegal state exception illegalstateexception resource resolver closed factory is live islive illegal state exception illegalstateexception resource resolver factory created resolver longer active attributes org apache sling api resource resource resolver resourceresolver get attribute names getattributenames override iterator string get attribute names getattributenames check closed checkclosed provider get attribute names getattributenames iterator org apache sling api resource resource resolver resourceresolver get attribute getattribute string override object get attribute getattribute string check closed checkclosed null pointer exception nullpointerexception provider get attribute getattribute resolving resources org apache sling api resource resource resolver resourceresolver resolve java lang string override resource resolve string path check closed checkclosed resource rsrc resolve internal resolveinternal path rsrc org apache sling api resource resource resolver resourceresolver resolve javax servlet http http servlet request httpservletrequest suppress warnings suppresswarnings deprecation override resource resolve http servlet request httpservletrequest request check closed checkclosed npe request required resource rsrc resolve internal resolveinternal request request get path info getpathinfo rsrc org apache sling api resource resource resolver resourceresolver resolve javax servlet http http servlet request httpservletrequest java lang string override resource resolve http servlet request httpservletrequest request string path check closed checkclosed resource rsrc resolve internal resolveinternal request path rsrc resource resolve internal resolveinternal http servlet request httpservletrequest request string abs path abspath abs path abspath absolute abs path abspath abs path abspath abs path abspath starts with startswith abs path abspath abs path abspath check special namespace prefix treatment abs path abspath unmangle names paces unmanglenamespaces abs path abspath assume http localhost request string real path list realpathlist abs path abspath string request path requestpath request request path requestpath get map path getmappath request get scheme getscheme request get server name getservername request get server port getserverport abs path abspath request path requestpath get map path getmappath http localhost abs path abspath logger debug resolve res olving resolving request path request path requestpath todo log loop user string mapped path mappedpath iterator map entry mapentry map entries iterator mapentriesiterator factory get map entries getmapentries get resolve maps iterator getresolvemapsiterator request path requestpath map entries iterator mapentriesiterator has next hasnext map entry mapentry map entry mapentry map entries iterator mapentriesiterator mapped path mappedpath map entry mapentry replace request path requestpath mapped path mappedpath logger is debug enabled isdebugenabled logger debug resolve map entry mapentry matches mapped path map entry mapentry arrays to string tostring mapped path mappedpath map entry mapentry is internal isinternal internal redirect logger debug resolve red irecting redirecting int ernally internally external redirect logger debug resolve returning external redirect factory get resource decorator tracker getresourcedecoratortracker decorate redirect resource redirectresource abs path abspath mapped path mappedpath map entry mapentry get status getstatus original real path realpath mapped path mappedpath logger debug resolve request path match map entry mapentry request path requestpath mapped path url path mapped path mappedpath logger debug resolve mapped path resource tree real path list realpathlist mapped path mappedpath resolve uri uri path real path uri uri uri mapped path mappedpath request path requestpath get map path getmappath uri get scheme getscheme uri get host gethost uri get port getport uri get path getpath real path list realpathlist string uri get path getpath logger debug resolve mapped path url request path request path requestpath uri exception uriexception resource not found exception resourcenotfoundexception abs path abspath real path resolved virtual host mapping path absolute relative resolve search path resource res res real path list realpathlist length parsed parameters parsedparameters parsed path parsedpath parsed parameters parsedparameters real path list realpathlist string real path realpath parsed path parsedpath get raw path getrawpath check requested resource star resource starresource star resource starresource applies to appliesto real path realpath logger debug resolve mapped path star resource real path realpath res star resource starresource ensure abs path ensureabspath real path realpath real path realpath starts with startswith check direct access logger debug resolve absolute mapped path real path realpath res resolve internal resolveinternal real path realpath parsed path parsedpath get parameters getparameters string search path searchpath get search path getsearchpath spi res spi search path searchpath length spi logger debug resolve relative mapped path search path entry search path searchpath spi res resolve internal resolveinternal search path searchpath spi real path realpath parsed path parsedpath get parameters getparameters resource non existing resource nonexistingresource res parsed parameters parsedparameters parsed path parsedpath parsed parameters parsedparameters real path list realpathlist string resource path resourcepath ensure abs path ensureabspath parsed path parsedpath get raw path getrawpath logger debug resolve path resolve returning non existing resource nonexistingresource abs path abspath resource path resourcepath res non existing resource nonexistingresource resource path resourcepath sling path dot assume start selectors extension suffix request processing resolution path full path existing resource resource path resourcepath index of indexof res get resource metadata getresourcemetadata set resolution path info setresolutionpathinfo resource path resourcepath substring res get resource metadata getresourcemetadata set parameter map setparametermap parsed path parsedpath get parameters getparameters logger debug resolve path res olves resolves resource abs path abspath res factory get resource decorator tracker getresourcedecoratortracker decorate res calls map http servlet request httpservletrequest string map resource path resourcepath org apache sling api resource resource resolver resourceresolver map java lang string override string map string resource path resourcepath check closed checkclosed map resource path resourcepath full implementation apply sling alias resource path apply map mappings inkl config comp at compat absolute uri org apache sling api resource resource resolver resourceresolver map javax servlet http http servlet request httpservletrequest java lang string override string map http servlet request httpservletrequest request string resource path resourcepath check closed checkclosed find fragment query fragment query mark fragmentquerymark resource path resourcepath index of indexof fragment query mark fragmentquerymark fragment query mark fragmentquerymark resource path resourcepath index of indexof cut fragment query resource path string mapped path mappedpath string fragment query fragmentquery fragment query mark fragmentquerymark fragment query fragmentquery resource path resourcepath substring fragment query mark fragmentquerymark mapped path mappedpath resource path resourcepath substring fragment query mark fragmentquerymark logger debug map split ting splitting resource path object resource path resourcepath mapped path mappedpath fragment query fragmentquery fragment query fragmentquery mapped path mappedpath resource path resourcepath cut scheme host requested string schemehostport string scheme prefix schemeprefix request schemehostport map entry mapentry geturi request get scheme getscheme request get server name getservername request get server port getserverport scheme prefix schemeprefix request get scheme getscheme concat logger debug map mapping path scheme prefix object resource path resourcepath schemehostport scheme prefix schemeprefix schemehostport scheme prefix schemeprefix logger debug map mapping path resource path resourcepath parsed parameters parsedparameters parsed parsed parameters parsedparameters mapped path mappedpath resource res resolve internal resolveinternal parsed get raw path getrawpath parsed get parameters getparameters res cut internal resolution string resolution path info resolutionpathinfo res get resource metadata getresourcemetadata get resolution path info getresolutionpathinfo logger debug map path maps resource path info res resolution path info resolutionpathinfo find aliases segments walk parent chain request session permissions read parents sling linked list linkedlist string names linked list linkedlist string resource current res string path res get path getpath path string alias current path ends with endswith jcr content leaf factory get map entries getmapentries is optimize alias resolution enabled isoptimizealiasresolutionenabled logger debug map optimize alias resolution enabled string parent path parentpath resource util resourceutil get parent getparent path parent path parentpath map string string aliases factory get map entries getmapentries get alias map getaliasmap parent path parentpath aliases aliases contains value containsvalue current get name getname string key aliases key set keyset current get name getname equals aliases key alias key logger debug map optimize alias resolution disabled alias resource resolver context resourceresolvercontext get property getproperty current prop alias alias alias length alias resource util resourceutil get name getname path names add alias path resource util resourceutil get parent getparent path equals path path path current res get resource resolver getresourceresolver resolve path build path segment names string builder stringbuilder buf string builder stringbuilder construct path segments root names is empty isempty buf append names is empty isempty buf append buf append names remove last removelast reappend resolution path info resolutionpathinfo resolution path info resolutionpathinfo buf append resolution path info resolutionpathinfo mapped path work mapped path mappedpath buf to string tostring logger debug map alias mapping res olves resolves path mapped path mappedpath mapped path is url mappedpathisurl map entry mapentry map entry mapentry factory get map entries getmapentries get map maps getmapmaps string mapped paths mappedpaths map entry mapentry replace mapped path mappedpath mapped paths mappedpaths logger debug map match entry map entry mapentry mapped path is url mappedpathisurl map entry mapentry is internal isinternal mapped path is url mappedpathisurl schemehostport mapped path mappedpath string candidate mapped paths mappedpaths candidate starts with startswith schemehostport mapped path mappedpath candidate substring schemehostport length mapped path is url mappedpathisurl logger debug map host specific mapping resolving candidate mapped path mappedpath candidate starts with startswith scheme prefix schemeprefix mapped path mappedpath mapped path mappedpath candidate mapped path mappedpath mapped path mappedpath mapped paths mappedpaths assumptions sel ecting selecting entry mapped path mappedpath mapped paths mappedpaths logger debug resolve map entry mapentry matches mapped path map entry mapentry mapped path mappedpath mapped path mappedpath prime d primed mapped path mappedpath mapped path mappedpath resource path resourcepath scheme authority path query fragment commons http client httpclient uri java net uri accept unescaped ur is uris mapped path mappedpath proper escaped form including path to string tostring uri uri uri mapped path mappedpath mangle names paces namespaces path string path mangle names paces manglenamespaces uri get path getpath prepend servlet context path request request request get context path getcontextpath request get context path getcontextpath length path request get context path getcontextpath concat path update path uri uri set path setpath path mapped path mappedpath uri to string tostring uri exception uriexception logger warn map unable mangle names paces namespaces mapped path mappedpath returning unmangled logger debug map returning url mapping path mapped path mappedpath resource path resourcepath reappend fragment query fragment query fragmentquery mapped path mappedpath mapped path mappedpath concat fragment query fragmentquery mapped path mappedpath search path relative res oures resoures org apache sling api resource resource resolver resourceresolver get search path getsearchpath override string get search path getsearchpath check closed checkclosed factory get search path getsearchpath clone direct resource access resolution org apache sling api resource resource resolver resourceresolver get resource getresource java lang string override resource get resource getresource string path check closed checkclosed resource result get resource internal getresourceinternal path result org apache sling api resource resource resolver resourceresolver get resource getresource org apache sling api resource resource java lang string override resource get resource getresource resource base string path check closed checkclosed string absolute path absolutepath path absolute path absolutepath absolute path absolutepath starts with startswith base absolute path absolutepath append to path appendtopath base get path getpath absolute path absolutepath resource result get resource internal getresourceinternal base absolute path absolutepath result methods concat enates concatenates paths path parameters separated semicolon moved result param path with parameters pathwithparameters param segment to append segmenttoappend string append to path appendtopath string path with parameters pathwithparameters string segment to append segmenttoappend parsed parameters parsedparameters parsed parsed parameters parsedparameters path with parameters pathwithparameters parsed get parameters string getparametersstring string builder stringbuilder parsed get raw path getrawpath append append segment to append segmenttoappend to string tostring string builder stringbuilder parsed get raw path getrawpath append append segment to append segmenttoappend append parsed get parameters string getparametersstring to string tostring resource get resource internal getresourceinternal resource parent string path resource result path path absolute normalize segments res path starts with startswith parsed parameters parsedparameters parsed path parsedpath parsed parameters parsedparameters path path resource util resourceutil normalize parsed path parsedpath get raw path getrawpath result path get absolute resource internal getabsoluteresourceinternal parent path parsed path parsedpath get parameters getparameters result result factory get resource decorator tracker getresourcedecoratortracker decorate result apply search path don get search path getsearchpath save cycle cloning string paths factory get search path getsearchpath paths string prefix factory get search path getsearchpath result get resource getresource prefix path result result org apache sling api resource resource resolver resourceresolver list children listchildren org apache sling api resource resource override iterator resource list children listchildren resource parent check closed checkclosed parent resource wrapper resourcewrapper list children listchildren resource wrapper resourcewrapper parent get resource getresource resource iterator decorator resourceiteratordecorator factory get resource decorator tracker getresourcedecoratortracker provider list children listchildren parent org apache sling api resource resource get children getchildren override iterable resource get children getchildren resource parent iterable resource override iterator resource iterator list children listchildren parent querying resources string query language xpath org apache sling api resource resource resolver resourceresolver find resources findresources java lang string java lang string override iterator resource find resources findresources string query string language sling exception slingexception check closed checkclosed resource iterator decorator resourceiteratordecorator factory get resource decorator tracker getresourcedecoratortracker provider find resources findresources query default string defaultstring language query language org apache sling api resource resource resolver resourceresolver query resources queryresources java lang string java lang string override iterator map string object query resources queryresources string query string language sling exception slingexception check closed checkclosed provider query resources queryresources query default string defaultstring language query language org apache sling api resource resource resolver resourceresolver get user d getuserid override string get user d getuserid check closed checkclosed info authentication info authenticationinfo object imp user impuser authentication info authenticationinfo resource resolver factory resourceresolverfactory user impersonation imp user impuser imp user impuser to string tostring object user authentication info authenticationinfo resource resolver factory resourceresolverfactory user user user to string tostring session session session get session getsession session session get user d getuserid attributes object imp user impuser get attribute getattribute resource resolver factory resourceresolverfactory user impersonation imp user impuser imp user impuser to string tostring object user get attribute getattribute resource resolver factory resourceresolverfactory user user user to string tostring cached session object fetched demand session cached session cachedsession flag indicating searching searched searched session searchedsession session resource providers session get session getsession searched session searchedsession searched session searchedsession cached session cachedsession provider adapt to adaptto session cached session cachedsession adaptable org apache sling api adapter sling adaptable slingadaptable adapt to adaptto java lang override suppress warnings suppresswarnings unchecked adapter type adaptertype adapter type adaptertype adapt to adaptto adapter type adaptertype type check closed checkclosed type session adapter type adaptertype get session getsession adapter type adaptertype result provider adapt to adaptto type result result fall behaviour adapt to adaptto type internal returns string matching map entries request uri parts param scheme uri scheme param host host param port port number negative scheme https param path absolute path request path string scheme host port path string get map path getmappath string scheme string host port string path port port https equals scheme scheme host port path int ernally internally res olves resolves absolute path request selectors extension method link resource path iterator resourcepathiterator cut parts path find actual resource method operates steps check path drill resource tree root resource child res pective respective path segment finding child code sling alias code property res pective respective mechanism direct access drill res olves resolves resource method returns code code param abs path abspath absolute path resource resource code code resource link org apache sling api resource resource metadata resourcemetadata get resolution path info getresolutionpathinfo resolution path info field resource returned code abs path abspath code cut link resource path iterator resourcepathiterator resolve resource resource resolve internal resolveinternal string abs path abspath map string string parameters resource resource string cur path curpath abs path abspath resource path iterator resourcepathiterator resource path iterator resourcepathiterator abs path abspath has next hasnext resource cur path curpath resource get absolute resource internal getabsoluteresourceinternal cur path curpath parameters exception sling exception slingexception problem cur path curpath request path abs path abspath uri path uripath cur path curpath sling resolution path info resolutionpathinfo resource string rpi abs path abspath substring cur path curpath length resource get resource metadata getresourcemetadata set resolution path setresolutionpath abs path abspath substring cur path curpath length resource get resource metadata getresourcemetadata set resolution path info setresolutionpathinfo rpi resource get resource metadata getresourcemetadata set parameter map setparametermap parameters logger debug resolve internal resolveinternal resource path info object resource rpi abs path abspath direct resource drill resource tree find match resource get absolute resource internal getabsoluteresourceinternal parameters string builder stringbuilder resolution path resolutionpath string builder stringbuilder string tokenizer stringtokenizer tokener string tokenizer stringtokenizer abs path abspath resource tokener has more tokens hasmoretokens string child name raw childnameraw tokener next token nexttoken resource next resource nextresource get child internal getchildinternal resource child name raw childnameraw next resource nextresource resource next resource nextresource resolution path resolutionpath append append child name raw childnameraw string child name childname resource path iterator resourcepathiterator rpi resource path iterator resourcepathiterator child name raw childnameraw rpi has next hasnext next resource nextresource child name childname rpi next resource nextresource get child internal getchildinternal resource child name childname current resource currentresource next resource nextresource resource next resource nextresource resolution path resolutionpath append append child name childname extension cut next resource nextresource uri path uripath cur path curpath sling resolution path info resolutionpathinfo resource string path resolution path resolutionpath to string tostring string path info pathinfo abs path abspath substring path length resource get resource metadata getresourcemetadata set resolution path setresolutionpath path resource get resource metadata getresourcemetadata set resolution path info setresolutionpathinfo path info pathinfo resource get resource metadata getresourcemetadata set parameter map setparametermap parameters logger debug resolve internal resolveinternal resource path info object resource path info pathinfo abs path abspath resource resource get child internal getchildinternal resource parent string child name childname string path child name childname starts with startswith path child name childname path parent get path getpath child name childname resource child get absolute resource internal getabsoluteresourceinternal parent resource util resourceutil normalize path empty parameters child string alias resource resolver context resourceresolvercontext get property getproperty child prop redirect internal alias todo redirect logger warn get child internal getchildinternal internal redirect resource supported ignoring alias child resource level child child alias matches child name childname factory get map entries getmapentries is optimize alias resolution enabled isoptimizealiasresolutionenabled logger debug get child internal getchildinternal optimize alias resolution enabled optimization sling map string string aliases factory get map entries getmapentries get alias map getaliasmap parent get path getpath aliases string alias name aliasname aliases child name childname alias name aliasname string alias path aliaspath alias name aliasname starts with startswith alias path aliaspath alias name aliasname alias path aliaspath parent get path getpath alias name aliasname resource aliased child aliasedchild get absolute resource internal getabsoluteresourceinternal parent resource util resourceutil normalize alias path aliaspath empty parameters logger debug get child internal getchildinternal resource alias aliased child aliasedchild child name childname aliased child aliasedchild logger debug get child internal getchildinternal optimize alias resolution disabled iterator resource children list children listchildren parent children has next hasnext child children child get path getpath ends with endswith jcr content leaf string aliases resource resolver context resourceresolvercontext get property getproperty child prop alias string aliases string alias aliases child name childname equals alias logger debug get child internal getchildinternal resource alias child child name childname resource aliased child aliasedchild get absolute resource internal getabsoluteresourceinternal parent resource util resourceutil normalize child get path getpath empty parameters aliased child aliasedchild match child name childname logger debug get child internal getchildinternal resource child parent child name childname creates resource path existing resource get absolute resource internal getabsoluteresourceinternal resource parent string path map string string parameters is resolve isresolve resource parent to use parenttouse parent path starts with startswith parent get path getpath parent to use parenttouse parent parent to use parenttouse resource resource provider get resource getresource path parent to use parenttouse parameters is resolve isresolve resource resource get resource metadata getresourcemetadata set resolution path setresolutionpath path resource get resource metadata getresourcemetadata set parameter map setparametermap parameters resource logger debug get resource internal getresourceinternal resolve path resource path returns code path code absolute path path absolute returned unmodified instance path relative absolute prepending entry link get search path getsearchpath search path param path path ensure absolute absolute path exp lained explained string ensure abs path ensureabspath string path path starts with startswith path get search path getsearchpath path path string mangle names paces manglenamespaces string abs path abspath factory is mangle name space prefixes ismanglenamespaceprefixes abs path abspath abs path abspath mangle namespace suffix matcher manle namespace pattern matcher abs path abspath string buffer stringbuffer buf string buffer stringbuffer find string namespace group namespace registered namespace prefix session session get session getsession session session get name space i getnamespaceuri namespace string replacement mangle namespace prefix namespace mangle namespace suffix append replacement appendreplacement buf replacement logger debug mangle names paces manglenamespaces prefix mangling namespace name space exception namespaceexception logger debug mangle names paces manglenamespaces prefix mangling namespace repository exception repositoryexception logger warn mangle names paces manglenamespaces problem checking namespace namespace append tail appendtail buf abs path abspath buf to string tostring abs path abspath string unmangle names paces unmanglenamespaces string abs path abspath factory is mangle name space prefixes ismanglenamespaceprefixes abs path abspath mangle namespace prefix matcher mangle namespace pattern matcher abs path abspath string buffer stringbuffer buf string buffer stringbuffer find string namespace group namespace registered namespace prefix session session get session getsession session session get name space i getnamespaceuri namespace string replacement mangle namespace prefix namespace mangle namespace suffix append replacement appendreplacement buf replacement logger debug unmangle names paces unmanglenamespaces prefix unmangling namespace name space exception namespaceexception logger debug unmangle names paces unmanglenamespaces prefix unmangling namespace repository exception repositoryexception logger warn unmangle names paces unmanglenamespaces problem checking namespace namespace append tail appendtail buf abs path abspath buf to string tostring abs path abspath org apache sling api resource resource resolver resourceresolver delete org apache sling api resource resource override delete resource resource persistence exception persistenceexception check resource existing npe resource state d stated api resource util resourceutil is non existing resource isnonexistingresource resource resource npe state d stated api provider delete resource org apache sling api resource resource resolver resourceresolver create org apache sling api resource resource java lang string map override resource create resource parent string map string object properties persistence exception persistenceexception parent npe state d stated api null pointer exception nullpointerexception path index of indexof illegal argument exception illegalargumentexception slash string path parent get path getpath equals path parent get path getpath path parent get path getpath exp erimental experimental code handling synthetic resources resource util resourceutil is synthetic resource issyntheticresource parent resource grand parent grandparent parent get parent getparent grand parent grandparent create grand parent grandparent parent get name getname illegal argument exception illegalargumentexception create child synthetic root resource rsrc provider create path properties factory get resource decorator tracker getresourcedecoratortracker decorate rsrc org apache sling api resource resource resolver resourceresolver revert override revert provider revert org apache sling api resource resource resolver resourceresolver commit override commit persistence exception persistenceexception provider commit org apache sling api resource resource resolver resourceresolver has changes haschanges override has changes haschanges provider has changes haschanges org apache sling api resource resource resolver resourceresolver has children haschildren override has children haschildren resource resource list children listchildren resource has next hasnext org apache sling api resource resource resolver resourceresolver get parent resource type getparentresourcetype org apache sling api resource resource override string get parent resource type getparentresourcetype resource resource string resource super type resourcesupertype resource resource super type resourcesupertype resource get resource super type getresourcesupertype resource super type resourcesupertype resource super type resourcesupertype get parent resource type getparentresourcetype resource get resource type getresourcetype resource super type resourcesupertype org apache sling api resource resource resolver resourceresolver get parent resource type getparentresourcetype java lang string override string get parent resource type getparentresourcetype string resource type resourcetype context get parent resource type getparentresourcetype factory resource type resourcetype org apache sling api resource resource resolver resourceresolver is resource type isresourcetype org apache sling api resource resource java lang string override is resource type isresourcetype resource resource string resource type resourcetype result resource resource type resourcetype resource type hierarchy resource type resourcetype equals resource get resource type getresourcetype result string super types checked supertypeschecked hash set hashset string string super type supertype get parent resource type getparentresourcetype resource result super type supertype resource type resourcetype equals super type supertype result super types checked supertypeschecked add super type supertype super type supertype get parent resource type getparentresourcetype super type supertype super type supertype super types checked supertypeschecked super type supertype sling exception slingexception cyclic dependency resource super type resourcesupertype hierarchy detected resource resource get path getpath result org apache sling api resource resource resolver resourceresolver refresh override refresh provider refresh override resource get parent getparent resource child provider get parent getparent child override resource copy string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception provider copy src abs path srcabspath dest abs path destabspath override resource move string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception provider move src abs path srcabspath dest abs path destabspath querying resource providers param query param query instructions iterator result result find query query instructions queryinstructions provider find
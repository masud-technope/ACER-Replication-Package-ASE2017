licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling extensions mdc int egration integration org apache http impl client default http client defaulthttpclient org apache http impl cookie basic client cookie basicclientcookie org apache sling testing tools http request org apache sling testing tools http request builder requestbuilder org apache sling testing tools http request customizer requestcustomizer org apache sling testing tools http request executor requestexecutor org apache sling testing tools retry retry loop retryloop org json json object jsonobject org junit after class afterclass org junit org junit org junit before class beforeclass org junit test org ops pax exam exam system examsystem org ops pax exam test container testcontainer org ops pax exam spi default exam system defaultexamsystem org ops pax exam spi pax exam runtime paxexamruntime org slf logger org slf logger factory loggerfactory java i o exception ioexception java util concurrent time unit timeunit junit framework assert null assertnull org junit assert equals assertequals org junit assert false assertfalse i tmdc filter itmdcfilter logger log logger factory loggerfactory get logger getlogger i tmdc filter itmdcfilter test container testcontainer test container testcontainer default http client defaulthttpclient http client httpclient default http client defaulthttpclient request executor requestexecutor executor request executor requestexecutor http client httpclient start container startcontainer exception test container testcontainer server configuration serverconfiguration server configuration serverconfiguration exam system examsystem system default exam system defaultexamsystem create config test container testcontainer pax exam runtime paxexamruntime create container createcontainer system test container testcontainer start retry loop retryloop retry loop retryloop condition string get description getdescription check mdc test servlet mdctestservlet is true istrue exception request builder requestbuilder request builder requestbuilder server configuration serverconfiguration get server url getserverurl executor execute build get request buildgetrequest mdc assert status assertstatus request builder requestbuilder server configuration serverconfiguration get server url getserverurl create test config servlet executor execute build get request buildgetrequest mdc create test config createtestconfig time unit timeunit seconds sleep test test default testdefault exception request builder requestbuilder request builder requestbuilder server configuration serverconfiguration get server url getserverurl add sling post options request executor requestexecutor result executor execute build get request buildgetrequest mdc foo bar json object jsonobject json object jsonobject result get content getcontent assert equals assertequals mdc get string getstring req requesturi assert equals assertequals foo bar get string getstring req query string querystring assert equals assertequals server configuration serverconfiguration get server url getserverurl mdc get string getstring req requesturl log info response result get content getcontent test test wih custom data testwihcustomdata exception request builder requestbuilder request builder requestbuilder server configuration serverconfiguration get server url getserverurl create test config servlet executor execute build get request buildgetrequest mdc create test config createtestconfig time unit timeunit seconds sleep pass custom cookie basic client cookie basicclientcookie cookie basic client cookie basicclientcookie mdc test cookie foo test cookie cookie set path setpath cookie set domain setdomain localhost http client httpclient get cookie store getcookiestore add cookie addcookie cookie execute request request executor requestexecutor result executor execute build get request buildgetrequest mdc mdc test param foo test param param with header withheader for warded forwarded foo for warded forwarded with header withheader mdc test header foo test header json object jsonobject json object jsonobject result get content getcontent log info response result get content getcontent assert equals assertequals mdc get string getstring req requesturi assert equals assertequals server configuration serverconfiguration get server url getserverurl mdc get string getstring req requesturl assert equals assertequals foo for warded forwarded get string getstring req x for warded for xforwardedfor assert equals assertequals foo test header get string getstring mdc test header assert equals assertequals foo test param get string getstring mdc test param assert equals assertequals foo test cookie get string getstring mdc test cookie configured params returned assert false assertfalse param after class afterclass stop container stopcontainer test container testcontainer test container testcontainer test container testcontainer
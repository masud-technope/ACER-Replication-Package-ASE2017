licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing teleporter client org junit fail java io exception ioexception java input stream inputstream java object input stream objectinputstream java net httpurlconnection java net malformedurlexception java net url java net url connection urlconnection java util array list arraylist java util list javax xml bind data type converter datatypeconverter org junit runner result org junit runner notification failure org junit run ners runners model multiple failure exception multiplefailureexception bare bones barebones http client supports teleporter dependencies java org junit prev ents prevents impo sing imposing http client version teleporter http client teleporterhttpclient string charset utf string base url baseurl string credentials teleporter http client teleporterhttpclient string base url baseurl base url baseurl base url baseurl set credentials setcredentials string cred credentials cred set connection credentials setconnectioncredentials url connection urlconnection credentials credentials is empty isempty string basic auth basicauth basic string data type converter datatypeconverter print base printbase binary credentials get bytes getbytes set request property setrequestproperty authorization basic auth basicauth install bundle installbundle input stream inputstream bundle string bundle symbolic name bundlesymbolicname malformedurlexception io exception ioexception equivalent cur l curl admin admin action install fbundlestart fbundlefile some file somefile jar http localhost system console bundles string url base url baseurl system console bundles string content type contenttype application octet stream httpurlconnection httpurlconnection url url open connection openconnection set connection credentials setconnectioncredentials multipart adapter multipartadapter charset parameter action install parameter bundles tar t bundlestart file bundle file bundlefile bundle symbolic name bundlesymbolicname jar content type contenttype bundle close status get response code getresponsecode status io exception ioexception status code status url disconnect uninstall bundle uninstallbundle string bundle symbolic name bundlesymbolicname malformedurlexception io exception ioexception equivalent cur l curl admin admin action uninstall http localhost system console bundles string url base url baseurl system console bundles bundle symbolic name bundlesymbolicname httpurlconnection httpurlconnection url url open connection openconnection set connection credentials setconnectioncredentials multipart adapter multipartadapter charset parameter action uninstall close status get response code getresponsecode status io exception ioexception status code status url disconnect get http get status gethttpgetstatus string url malformedurlexception io exception ioexception httpurlconnection httpurlconnection url url open connection openconnection set use caches setusecaches set do output setdooutput set do input setdoinput set instance follow redirects setinstancefollowredirects get response code getresponsecode disconnect run tests runtests string test selection path testselectionpath test ready timeout seconds testreadytimeoutseconds malformedurlexception io exception ioexception multiple failure exception multiplefailureexception string test url testurl base url baseurl system sling junit test selection path testselectionpath junit result wait response sig nals signals test bundle ready timeout system current time millis currenttimemillis test ready timeout seconds testreadytimeoutseconds get http get status gethttpgetstatus test url testurl system current time millis currenttimemillis timeout fail timeout waiting test test url testurl test ready timeout seconds testreadytimeoutseconds seconds httpurlconnection httpurlconnection url test url testurl open connection openconnection set request method setrequestmethod post set use caches setusecaches set do output setdooutput set do input setdoinput set instance follow redirects setinstancefollowredirects status get response code getresponsecode status io exception ioexception status code status test url testurl result result result object input stream objectinputstream get input stream getinputstream read object readobject result get failure count getfailurecount list throwable failures array list arraylist throwable result get failure count getfailurecount failure result get failures getfailures failures add get exception getexception multiple failure exception multiplefailureexception failures class not found exception classnotfoundexception io exception ioexception exception reading test disconnect
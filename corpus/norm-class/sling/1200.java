licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl java lang management management factory managementfactory java util map javax management m bean server mbeanserver javax management object name objectname org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org apache sling api health check healthcheck org apache sling api result org apache sling util formatting result log formattingresultlog org apache sling util simple constraint checker simpleconstraintchecker org slf logger org slf logger factory loggerfactory link health check healthcheck checks single jmx attribute component configuration factory configurationfactory policy configuration policy configurationpolicy require metatype label apache sling jmx attribute health check description checks single jmx attribute properties property health check healthcheck label description health check property health check healthcheck tags unbounded property unbounded propertyunbounded array label tags description list tags health check select sub sets subsets health checks execution composite health check property health check healthcheck mbean label m bean mbean description m bean mbean create health check empty m bean mbean registered service health check healthcheck jmx attribute health check jmxattributehealthcheck health check healthcheck logger log logger factory loggerfactory get logger getlogger get class getclass string mbean name mbeanname string attribute name attributename string constraint property label check m bean mbean description m bean mbean check health check string prop object mbean property label check attribute description m bean mbean attribute check health check string prop attribute attribute property label check attribute constraint description constraint m bean mbean attribute string prop constraint attribute constraint activate activate map string object properties mbean name mbeanname properties util propertiesutil to string tostring properties prop object attribute name attributename properties util propertiesutil to string tostring properties prop attribute constraint properties util propertiesutil to string tostring properties prop constraint log debug activated health check healthcheck object name objectname attribute constraint object properties health check healthcheck mbean name mbeanname attribute name attributename constraint override result execute formatting result log formattingresultlog result log resultlog formatting result log formattingresultlog result log resultlog debug checking constraint mbean name mbeanname attribute name attributename constraint m bean server mbeanserver jmx server jmxserver management factory managementfactory get platform bean server getplatformmbeanserver object name objectname object name objectname object name objectname mbean name mbeanname jmx server jmxserver query names querynames object name objectname size result log resultlog warn m bean mbean object name objectname object jmx server jmxserver get attribute getattribute object name objectname attribute name attributename result log resultlog debug returns mbean name mbeanname attribute name attributename simple constraint checker simpleconstraintchecker check constraint result log resultlog exception log warn jmx attribute check failed object mbean name mbeanname attribute name attributename result log resultlog health check error healthcheckerror jmx attribute check failed result result log resultlog
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons json org junit assert false assertfalse org junit assert true asserttrue java string writer stringwriter org apache sling commons json json writer jsonwriter org apache sling commons json util despaced rendering despacedrendering org junit org junit test test string for matting formatting functionality json object jsonobject json writer test jsonwritertest json writer jsonwriter string writer stringwriter output setup output string writer stringwriter json writer jsonwriter output despaced rendering despacedrendering write json exception jsonexception object key foo bar key array array end array endarray key end object endobject despaced rendering despacedrendering output to string tostring test test set tidy testsettidy assert false assertfalse is tidy istidy set tidy settidy assert true asserttrue is tidy istidy test test standard write teststandardwrite json exception jsonexception despaced rendering despacedrendering write expect foo bar array test test tidy write testtidywrite json exception jsonexception set tidy settidy despaced rendering despacedrendering write expect foo bar array test test empty testempty json exception jsonexception assert true asserttrue output to string tostring length test expected json exception jsonexception test misplaced array testmisplacedarray json exception jsonexception object array test expected json exception jsonexception test misplaced key testmisplacedkey json exception jsonexception array key foo test expected json exception jsonexception test misplaced end object a testmisplacedendobjecta json exception jsonexception object end object endobject end object endobject test expected json exception jsonexception test misplaced end object b testmisplacedendobjectb json exception jsonexception end object endobject
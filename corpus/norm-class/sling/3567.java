licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution queue impl job handling jobhandling org apache sling distribution queue distribution queue distributionqueue org apache sling distribution queue distribution queue processor distributionqueueprocessor org apache sling event jobs job manager jobmanager org apache sling event jobs queue configuration queueconfiguration org junit test org osgi framework bundle context bundlecontext org osgi service configuration org osgi service configuration admin configurationadmin org junit assert not null assertnotnull org mockito mockito mock org mockito mockito test case testcase link job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider test jobhandlingdistributionqueueprovidertest test test get or create name d queue testgetorcreatenamedqueue exception job manager jobmanager job manager jobmanager mock job manager jobmanager bundle context bundlecontext context mock bundle context bundlecontext job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider jobhandlingdistributionqueueprovider dummy agent job manager jobmanager context distribution queue distributionqueue queue job handling distribution queue provider jobhandlingdistributionqueueprovider get queue getqueue assert not null assertnotnull queue test test enable queue processing testenablequeueprocessing exception job manager jobmanager job manager jobmanager mock job manager jobmanager configuration admin configurationadmin config admin configadmin mock configuration admin configurationadmin configuration config mock configuration config admin configadmin create factory configuration createfactoryconfiguration queue configuration queueconfiguration get name getname then return thenreturn config bundle context bundlecontext context mock bundle context bundlecontext job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider jobhandlingdistributionqueueprovider dummy agent job manager jobmanager context distribution queue processor distributionqueueprocessor queue processor queueprocessor mock distribution queue processor distributionqueueprocessor job handling distribution queue provider jobhandlingdistributionqueueprovider enable queue processing enablequeueprocessing queue processor queueprocessor test test disable queue processing testdisablequeueprocessing exception job manager jobmanager job manager jobmanager mock job manager jobmanager configuration admin configurationadmin config admin configadmin mock configuration admin configurationadmin configuration config mock configuration config admin configadmin create factory configuration createfactoryconfiguration queue configuration queueconfiguration get name getname then return thenreturn config bundle context bundlecontext context mock bundle context bundlecontext job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider jobhandlingdistributionqueueprovider job handling distribution queue provider jobhandlingdistributionqueueprovider dummy agent job manager jobmanager context job handling distribution queue provider jobhandlingdistributionqueueprovider disable queue processing disablequeueprocessing
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper xml parser xmlparser java io exception ioexception java input stream inputstream javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers parser configuration exception parserconfigurationexception org apache juli logging log org apache juli logging log factory logfactory org apache sling scripting jsp jasper constants org apache sling scripting jsp jasper jasper exception jasperexception org apache sling scripting jsp jasper compiler localizer org dom comment org dom document org dom name d node map namednodemap org dom node org dom node list nodelist org dom text org xml sax entity resolver entityresolver org xml sax error handler errorhandler org xml sax input source inputsource org xml sax sax exception saxexception org xml sax sax parse exception saxparseexception parser utils parserutils error handler parsing xml doc uments documents error handler errorhandler error handler errorhandler my error handler myerrorhandler entity resolver parsing xml doc uments documents entity resolver entityresolver entity resolver entityresolver my entity resolver myentityresolver turn jsp xschema valid ating validating methods parse xml document code tree node treenode code corresponds root node document tree param uri uri xml document parsed param input source deployment descriptor exception jasper exception jasperexception input output error occurs exception jasper exception jasperexception parsing error occurs tree node treenode parsexmldocument string uri input source inputsource jasper exception jasperexception document document perform xml parse document jaxp document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance factory set name space aware setnamespaceaware factory set valid ating setvalidating valid ating validating document builder documentbuilder builder factory new document builder newdocumentbuilder builder set entity resolver setentityresolver entity resolver entityresolver builder set error handler seterrorhandler error handler errorhandler document builder parse parser configuration exception parserconfigurationexception jasper exception jasperexception localizer get message getmessage jsp error parse xml uri sax parse exception saxparseexception jasper exception jasperexception localizer get message getmessage jsp error parse xml uri integer to string tostring get line number getlinenumber integer to string tostring get column number getcolumnnumber sax exception saxexception jasper exception jasperexception localizer get message getmessage jsp error parse xml uri io exception ioexception jasper exception jasperexception localizer get message getmessage jsp error parse xml uri convert document graph tree nodes treenodes convert document get document element getdocumentelement parse xml document code tree node treenode code corresponds root node document tree param uri uri xml document parsed param input stream deployment descriptor exception jasper exception jasperexception input output error occurs exception jasper exception jasperexception parsing error occurs tree node treenode parsexmldocument string uri input stream inputstream jasper exception jasperexception parsexmldocument uri input source inputsource methods create tree node treenode corresponds node including processing attributes children nodes param parent parent tree node treenode tree node treenode param node xml document node converted tree node treenode convert tree node treenode parent node node construct tree node treenode node tree node treenode tree node treenode tree node treenode node get node name getnodename parent convert attributes node name d node map namednodemap attributes node get attributes getattributes attributes attributes get length getlength node attribute attributes item tree node treenode add attribute addattribute attribute get node name getnodename attribute get node value getnodevalue create attach children node node list nodelist children node get child nodes getchildnodes children children get length getlength node child children item child comment child text string body text child get data getdata body body body trim body length tree node treenode set body setbody body tree node treenode tree child treechild convert tree node treenode child completed tree node treenode graph tree node treenode my entity resolver myentityresolver entity resolver entityresolver logger log log log factory logfactory get log getlog my entity resolver myentityresolver input source inputsource resolve entity resolveentity string public id publicid string system id systemid sax exception saxexception constants cached dtd ids length string cached dtd public id cacheddtdpublicid constants cached dtd ids cached dtd public id cacheddtdpublicid equals public id publicid string resource path resourcepath constants cached dtd resource paths input stream inputstream input get class getclass get resource as stream getresourceasstream resource path resourcepath input sax exception saxexception localizer get message getmessage jsp error internal file not found filenotfound resource path resourcepath input source inputsource isrc input source inputsource input isrc log is debug enabled isdebugenabled log debug resolve entity failed public id publicid system id systemid log error localizer get message getmessage jsp error parse xml invalid public id invalidpublicid public id publicid my error handler myerrorhandler error handler errorhandler logger log log log factory logfactory get log getlog my error handler myerrorhandler warning sax parse exception saxparseexception sax exception saxexception log is debug enabled isdebugenabled log debug parser utils parserutils warning ignore warnings error sax parse exception saxparseexception sax exception saxexception fatal error fatalerror sax parse exception saxparseexception sax exception saxexception
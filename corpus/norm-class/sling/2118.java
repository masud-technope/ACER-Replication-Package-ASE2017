licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl engine extension javax script bindings org apache commons lang string utils stringutils org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api scripting sling bindings slingbindings org apache sling scripting sightly resource resolution resourceresolution org apache sling scripting sightly sightly exception sightlyexception org apache sling scripting sightly impl engine sightly script engine factory sightlyscriptenginefactory org apache sling scripting sightly impl engine unit loader unitloader org apache sling scripting sightly impl engine runtime render context impl rendercontextimpl org apache sling scripting sightly impl engine runtime render unit renderunit org apache sling scripting sightly render render context rendercontext org apache sling scripting sightly provider out come provideroutcome org apache sling scripting sightly use provider useprovider org osgi framework constants int erprets interprets identifiers paths sightly templates component metatype label apache sling scripting sightly render unit provider description render unit provider responsible ins tantiating instantiating sightly templates api service use provider useprovider properties property constants service ranking label service ranking description service ranking acts priority provider queried object higher represents higher priority int value intvalue property private propertyprivate render unit provider renderunitprovider use provider useprovider reference unit loader unitloader unit loader unitloader override provider out come provideroutcome provide string identifier render context rendercontext render context rendercontext bindings arguments identifier ends with endswith sightly script engine factory sightlyscriptenginefactory extension bindings global bindings globalbindings render context rendercontext get bindings getbindings sling http servlet request slinghttpservletrequest request sling http servlet request slinghttpservletrequest global bindings globalbindings sling bindings slingbindings request resource resource resource resolution resourceresolution get resource for request getresourceforrequest render context rendercontext get script resource resolver getscriptresourceresolver request resource render unit resource renderunitresource resource resolution resourceresolution get resource from search path getresourcefromsearchpath resource identifier render unit resource renderunitresource string resource super type resourcesupertype resource get resource super type getresourcesupertype string builder stringbuilder error message errormessage string builder stringbuilder find resource error message errormessage append identifier append base path append resource get path getpath string utils stringutils is not empty isnotempty resource super type resourcesupertype error message errormessage append resource type append resource super type resourcesupertype error message errormessage append provider out come provideroutcome failure sightly exception sightlyexception error message errormessage to string tostring render unit renderunit render unit renderunit unit loader unitloader create unit createunit render unit resource renderunitresource global bindings globalbindings render context impl rendercontextimpl render context rendercontext provider out come provideroutcome success render unit renderunit exception provider out come provideroutcome failure provider out come provideroutcome failure
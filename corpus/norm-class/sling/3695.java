licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer provider jcr impl java util collection javax jcr session org apache sling commons testing jcr event helper eventhelper org apache sling commons testing jcr repository test base repositorytestbase org apache sling jcr api sling repository slingrepository verify jcr installer jcrinstaller finds folders watched including created starts find paths to watch test findpathstowatchtest repository test base repositorytestbase timeout sling repository slingrepository repo session session event helper eventhelper event helper eventhelper content helper contenthelper content helper contenthelper jcr installer jcrinstaller installer mock osgi installer mockosgiinstaller osgi installer osgiinstaller override set up setup exception set up setup repo get repository getrepository session repo login administrative loginadministrative repo get default workspace getdefaultworkspace event helper eventhelper event helper eventhelper session content helper contenthelper content helper contenthelper session content helper contenthelper cleanup content cleanupcontent content helper contenthelper setup content setupcontent osgi installer osgiinstaller mock osgi installer mockosgiinstaller installer misc util miscutil get jcr installer getjcrinstaller repo osgi installer osgiinstaller override tear down teardown exception tear down teardown content helper contenthelper cleanup content cleanupcontent session log out logout event helper eventhelper content helper contenthelper installer deactivate misc util miscutil get mock component context getmockcomponentcontext misc util miscutil wait for installer thread waitforinstallerthread installer timeout is watched iswatched string path collection watched folder watchedfolder wf list wflist watched folder watchedfolder wf list wflist get path getpath equals path test initial find testinitialfind exception collection watched folder watchedfolder misc util miscutil get watched folders getwatchedfolders installer assert equals assertequals activate find watched folders content helper contenthelper watched folders length size string folder content helper contenthelper watched folders assert true asserttrue folder folder watched watched is watched iswatched folder test new watched folder detection testnewwatchedfolderdetection exception string new paths newpaths libs tnwf install libs tnwf install dev apps tnwf install apps tnwf install staging apps tnwf install staging dev foo string new path newpath new paths newpaths assert false assertfalse new path newpath watched test is watched iswatched new path newpath misc util miscutil get watched folders getwatchedfolders installer create folder wait observation event check detected content helper contenthelper create folder createfolder new path newpath misc util miscutil wait after content changes waitaftercontentchanges event helper eventhelper installer new path newpath assert false assertfalse new path newpath watched test is watched iswatched new path newpath misc util miscutil get watched folders getwatchedfolders installer assert true asserttrue new path newpath watched calling add new watched folders addnewwatchedfolders is watched iswatched new path newpath misc util miscutil get watched folders getwatchedfolders installer delete single folder verify string folder new paths newpaths n before nbefore misc util miscutil get watched folders getwatchedfolders installer size content helper contenthelper delete folder event helper eventhelper wait for events waitforevents misc util miscutil wait after content changes waitaftercontentchanges event helper eventhelper installer assert false assertfalse folder watched deleting is watched iswatched folder misc util miscutil get watched folders getwatchedfolders installer assert equals assertequals expecting watched folder watchedfolder deleted n before nbefore misc util miscutil get watched folders getwatchedfolders installer size test delete watched folders testdeletewatchedfolders exception assert equals assertequals activate find watched folders content helper contenthelper watched folders length misc util miscutil get watched folders getwatchedfolders installer size content helper contenthelper cleanup content cleanupcontent misc util miscutil wait after content changes waitaftercontentchanges event helper eventhelper installer assert equals assertequals deleting content folders watched misc util miscutil get watched folders getwatchedfolders installer size
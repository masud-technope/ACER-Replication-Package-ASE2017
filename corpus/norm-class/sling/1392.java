licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest login org junit assert equals assertequals java util array list arraylist java util list javax servlet http http servlet response httpservletresponse org apache commons http client httpclient header org apache commons http client httpclient name value pair namevaluepair org apache commons http client httpclient methods get method getmethod org apache sling commons testing int egration integration http test httptest org junit org junit org junit test verify redirect resource logout works redirect on log out test redirectonlogouttest http test httptest http test httptest setup exception set up setup cleanup exception tear down teardown test sling exception test test redirect to resource after log out testredirecttoresourceafterlogout exception login list name value pair namevaluepair params array list arraylist name value pair namevaluepair params add name value pair namevaluepair username admin params add name value pair namevaluepair password admin assert post status assertpoststatus http test httptest http base url security check http servlet response httpservletresponse moved temporarily params logout resource redirect string location after log out locationafterlogout http test httptest servlet context system sling info session info sessioninfo json get method getmethod get method getmethod http test httptest http base url system sling logout name value pair namevaluepair logout params logoutparams name value pair namevaluepair logout params logoutparams name value pair namevaluepair resource location after log out locationafterlogout set query string setquerystring logout params logoutparams set follow redirects setfollowredirects status get http client gethttpclient execute method executemethod assert equals assertequals expected redirect http servlet response httpservletresponse moved temporarily status header location get response header getresponseheader location assert equals assertequals http test httptest http base url location after log out locationafterlogout location get value getvalue
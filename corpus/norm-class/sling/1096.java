licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling mailarchiveserver impl java util array deque arraydeque java util array list arraylist java util deque java util list java util concurrent time unit timeunit org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache sling mailarchiveserver api connector org slf logger org slf logger factory loggerfactory component connector scheduler connectorscheduler runnable sleep time mail checks logger logger logger factory loggerfactory get logger getlogger connector scheduler connectorscheduler waiting time limit termination running thread execution thread executionthread reference cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic reference interface referenceinterface connector list connector scheduled connectors scheduledconnectors array list arraylist connector deque connector execution queue executionqueue activate activate execution thread executionthread thread connector scheduler execution thread execution thread executionthread set daemon setdaemon execution thread executionthread start deactivate deactivate interrupted exception interruptedexception execution thread executionthread running execution thread executionthread join waiting time limit termination override running execution queue executionqueue array deque arraydeque connector scheduled connectors scheduledconnectors execution queue executionqueue is empty isempty running connector execution queue executionqueue remove ret reived retreived check new messages checknewmessages logger info processed messages connector ret reived retreived to string tostring time unit timeunit seconds sleep sleep time mail checks interrupted exception interruptedexception running bind connector bindconnector connector logger info connector to string tostring pool scheduled connectors scheduledconnectors add unbind connector unbindconnector connector logger info connector to string tostring removed pool scheduled connectors scheduledconnectors remove
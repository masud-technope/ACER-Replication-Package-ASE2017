licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven jcr ocm jcrocm java io exception ioexception java output stream outputstream java output stream writer outputstreamwriter java print writer printwriter org code haus codehaus plexus util string utils stringutils xml writer xmlwriter print writer printwriter string indent xml writer xmlwriter output stream outputstream descriptor stream descriptorstream append io exception ioexception output stream writer outputstreamwriter descriptor stream descriptorstream utf append println xml version encoding utf indent indent out dent outdent indent length indent indent substring print comment printcomment string message print indent println print indent print println message print indent println print element start printelementstart string has attributes hasattributes print indent print print has attributes hasattributes print element start close printelementstartclose indent print element start close printelementstartclose is empty isempty is empty isempty print out dent outdent println print element end printelementend string out dent outdent print indent print print println print attribute printattribute string string string utils stringutils is empty isempty println print indent print print print print print print attribute printattribute string print attribute printattribute
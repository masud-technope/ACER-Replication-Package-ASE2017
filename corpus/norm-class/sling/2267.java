licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide test impl org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has children count haschildrencount org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has file content hasfilecontent org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has path haspath org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has primary type hasprimarytype org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has property value haspropertyvalue org hamcrest core matchers corematchers all of allof org hamcrest core matchers corematchers null value nullvalue java byte array input stream bytearrayinputstream java io exception ioexception java input stream inputstream java util concurrent callable javax jcr node javax jcr repository exception repositoryexception org apache commons http client httpclient http exception httpexception org apache commons http client httpclient uri exception uriexception org apache sling ide test impl helpers disable debug status handlers disabledebugstatushandlers org apache sling ide test impl helpers external sling launchpad externalslinglaunchpad org apache sling ide test impl helpers fail on unsuccessful events rule failonunsuccessfuleventsrule org apache sling ide test impl helpers launchpad config launchpadconfig org apache sling ide test impl helpers poller org apache sling ide test impl helpers project adapter projectadapter org apache sling ide test impl helpers repository accessor repositoryaccessor org apache sling ide test impl helpers server adapter serveradapter org apache sling ide test impl helpers sling wst server slingwstserver org apache sling ide test impl helpers temporary project temporaryproject org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime path org eclipse jdt core java core javacore org hamcrest matcher org junit org junit rule org junit test org junit rules rule chain rulechain org junit rules test rule testrule content deployment test contentdeploymenttest valid ates validates simple content deployment based resources workspace content deployment test contentdeploymenttest launchpad config launchpadconfig config launchpad config launchpadconfig get instance getinstance sling wst server slingwstserver wst server wstserver sling wst server slingwstserver config rule test rule testrule chain rule chain rulechain outer rule outerrule external sling launchpad externalslinglaunchpad config wst server wstserver rule temporary project temporaryproject project rule projectrule temporary project temporaryproject rule fail on unsuccessful events rule failonunsuccessfuleventsrule fail on events rule failoneventsrule fail on unsuccessful events rule failonunsuccessfuleventsrule rule disable debug status handlers disabledebugstatushandlers disable debug handlers disabledebughandlers disable debug status handlers disabledebugstatushandlers test deploy file deployfile core exception coreexception interrupted exception interruptedexception uri exception uriexception http exception httpexception io exception ioexception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject project create or update file createorupdatefile path from portable string fromportablestring jcr root test txt byte array input stream bytearrayinputstream get bytes getbytes verify file created repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller poller poll until polluntil callable override call http exception httpexception io exception ioexception repo assert get is successful assertgetissuccessful test txt null value nullvalue project create or update file createorupdatefile path from portable string fromportablestring jcr root test txt byte array input stream bytearrayinputstream goo dbye goodbye get bytes getbytes verify file updated poller poll until polluntil callable override call http exception httpexception io exception ioexception repo assert get is successful assertgetissuccessful test txt goo dbye goodbye null value nullvalue project delete member deletemember path from portable string fromportablestring jcr root test txt verify file deleted poller poll until polluntil callable override call http exception httpexception io exception ioexception repo assert get returns assertgetreturns test txt null value nullvalue test change node primary type changenodeprimarytype exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject project create or update file createorupdatefile path from portable string fromportablestring jcr root test txt byte array input stream bytearrayinputstream get bytes getbytes verifications repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller assert that node assertthatnode repo poller test all of allof has path haspath test has primary type hasprimarytype folder has children count haschildrencount change node type sling folder input stream inputstream content xml contentxml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml project create or update file createorupdatefile path from portable string fromportablestring jcr root test content xml content xml contentxml verifications assert that node assertthatnode repo poller test all of allof has path haspath test has primary type hasprimarytype sling folder has children count haschildrencount test deploy file with attached metadata deployfilewithattachedmetadata exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject project create or update file createorupdatefile path from portable string fromportablestring jcr root test esp byte array input stream bytearrayinputstream java script javascript get bytes getbytes verify file created repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller assert that node assertthatnode repo poller test esp has primary type hasprimarytype file input stream inputstream content xml contentxml get class getclass get resource as stream getresourceasstream file custom mime type mimetype xml project create or update file createorupdatefile path from portable string fromportablestring jcr root test esp dir content xml content xml contentxml assert that node assertthatnode repo poller test esp jcr content has property value haspropertyvalue jcr mime type mimetype text java script javascript test file deployed before adding module to server is published filedeployedbeforeaddingmoduletoserverispublished throwable wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature project create or update file createorupdatefile path from portable string fromportablestring jcr root test txt byte array input stream bytearrayinputstream get bytes getbytes install bundle facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject verify file created repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode test txt has file content hasfilecontent test valid ates validates parent resource exist repository resource created exception test deploy file with missing parent from repository deployfilewithmissingparentfromrepository exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject create filter xml project create vlt filter with roots createvltfilterwithroots test create file project create or update file createorupdatefile path from portable string fromportablestring jcr root test demo nested structure txt byte array input stream bytearrayinputstream get bytes getbytes verify file created repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode test demo nested structure txt has file content hasfilecontent test file d deployed with full coverage sibling does not cause spurious deletion fileddeployedwithfullcoveragesiblingdoesnotcausespuriousdeletion exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject create sling folder test folder project create or update file createorupdatefile path from portable string fromportablestring jcr root test folder content xml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml create file test folder esp project create or update file createorupdatefile path from portable string fromportablestring jcr root test folder esp byte array input stream bytearrayinputstream java script javascript get bytes getbytes create sling osgi config osgiconfig test folder config xml project create or update file createorupdatefile path from portable string fromportablestring jcr root test folder config xml get class getclass get resource as stream getresourceasstream component xml verify config node created repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller assert that node assertthatnode repo poller test folder config has primary type hasprimarytype sling osgi config osgiconfig update file test folder esp project create or update file createorupdatefile path from portable string fromportablestring jcr root test folder esp byte array input stream bytearrayinputstream java script javascript get bytes getbytes wait file updated assert that node assertthatnode repo poller test folder esp has file content hasfilecontent java script javascript verify sling osgi config osgiconfig node assert that node assertthatnode repo poller test folder config has primary type hasprimarytype sling osgi config osgiconfig assert that node assertthatnode repository accessor repositoryaccessor repo poller poller string node path nodepath matcher node matcher interrupted exception interruptedexception poller poll until polluntil callable node override node call repository exception repositoryexception node node repo get node getnode node path nodepath node matcher clean up cleanup exception repository accessor repositoryaccessor config try delete resource trydeleteresource test
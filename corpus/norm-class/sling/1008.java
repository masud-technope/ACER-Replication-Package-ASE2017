licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery impl cluster voting java util array list arraylist java util iterator java util linked list linkedlist java util list org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling discovery commons providers util resource helper resourcehelper org apache sling discovery impl config org slf logger org slf logger factory loggerfactory helper voting voting helper votinghelper logger logger logger factory loggerfactory get logger getlogger voting helper votinghelper list votings open winning open expired votes match view instance cluster winning voting receive vote list matching votings returns list voting view votingview list open non winning votings listopennonwinningvotings resource resolver resourceresolver resource resolver resourceresolver config config config logger info list open non winning votings listopennonwinningvotings config bundle deactivated array list arraylist voting view votingview string ongoing votings path ongoingvotingspath config get ongoing votings path getongoingvotingspath resource ongoing votings resource ongoingvotingsresource resource resolver resourceresolver get resource getresource ongoing votings path ongoingvotingspath ongoing votings resource ongoingvotingsresource legal stage ongoing votings ongoingvotings node voting logger debug list open non winning votings listopennonwinningvotings ongoing votings parent resource array list arraylist voting view votingview iterable resource children ongoing votings resource ongoingvotingsresource get children getchildren iterator resource children iterator list voting view votingview result linked list linkedlist voting view votingview has next hasnext result has next hasnext resource a child achild voting view votingview voting view votingview a child achild string matches live view matchesliveview matches live view matchesliveview matches live view matchesliveview config exception logger error list open non winning votings listopennonwinningvotings compare voting live view ongoing voting ongoingvoting is ongoing voting isongoingvoting config has no votes hasnovotes has no votes hasnovotes is winning iswinning is winning iswinning matches live view matchesliveview ongoing voting ongoingvoting has no votes hasnovotes is winning iswinning logger is debug enabled isdebugenabled logger debug list open non winning votings listopennonwinningvotings open voting a child achild properties resource helper resourcehelper get properties for logging getpropertiesforlogging a child achild result add logger is debug enabled isdebugenabled logger debug list open non winning votings listopennonwinningvotings open voting a child achild matches live matches live view matchesliveview ongoing ongoing voting ongoingvoting votes has no votes hasnovotes winning is winning iswinning properties resource helper resourcehelper get properties for logging getpropertiesforlogging a child achild logger is debug enabled isdebugenabled logger debug list open non winning votings listopennonwinningvotings votings result size result list votings time d timed list matching votings list voting view votingview list time dout votings listtimedoutvotings resource resolver resourceresolver resource resolver resourceresolver config config string ongoing votings path ongoingvotingspath config get ongoing votings path getongoingvotingspath resource ongoing votings resource ongoingvotingsresource resource resolver resourceresolver get resource getresource ongoing votings path ongoingvotingspath ongoing votings resource ongoingvotingsresource too d tood expected logger info list time dout votings listtimedoutvotings ongoing votings parent resource array list arraylist voting view votingview iterable resource children ongoing votings resource ongoingvotingsresource get children getchildren iterator resource children iterator list voting view votingview result linked list linkedlist voting view votingview has next hasnext result has next hasnext resource a child achild voting view votingview voting view votingview a child achild is time dout voting istimedoutvoting config logger is debug enabled isdebugenabled logger debug list time dout votings listtimedoutvotings time d timed voting a child achild properties resource helper resourcehelper get properties for logging getpropertiesforlogging a child achild result add logger is debug enabled isdebugenabled logger debug list time dout votings listtimedoutvotings votings result size result valid ongoing winning received vote voting valid winning voting voting view votingview get winning voting getwinningvoting resource resolver resourceresolver resource resolver resourceresolver config config string ongoing votings path ongoingvotingspath config get ongoing votings path getongoingvotingspath resource ongoing votings resource ongoingvotingsresource resource resolver resourceresolver get resource getresource ongoing votings path ongoingvotingspath ongoing votings resource ongoingvotingsresource legal stage ongoing votings ongoingvotings node voting logger debug get winning voting getwinningvoting ongoing votings parent resource iterable resource children ongoing votings resource ongoingvotingsresource get children getchildren iterator resource children iterator list voting view votingview result linked list linkedlist voting view votingview has next hasnext resource a child achild voting view votingview voting view votingview a child achild ongoing is ongoing voting isongoingvoting config winning is winning iswinning ongoing winning logger is debug enabled isdebugenabled logger debug get winning voting getwinningvoting winning voting a child achild result add logger debug get winning vote getwinningvote winning vote a child achild ongoing ongoing winning winning result size result returns voting sling id slingid vote init iator initiator equal param sling id slingid instance vote looked voting sling id slingid votes init iator initiator list voting view votingview get yes votings of getyesvotingsof resource resolver resourceresolver resource resolver resourceresolver config config string sling id slingid resource resolver resourceresolver illegal argument exception illegalargumentexception resource resolver resourceresolver config illegal argument exception illegalargumentexception config sling id slingid sling id slingid length illegal argument exception illegalargumentexception sling id slingid empty string ongoing votings path ongoingvotingspath config get ongoing votings path getongoingvotingspath resource ongoing votings resource ongoingvotingsresource resource resolver resourceresolver get resource getresource ongoing votings path ongoingvotingspath ongoing votings resource ongoingvotingsresource iterable resource children ongoing votings resource ongoingvotingsresource get children getchildren children iterator resource children iterator list voting view votingview result linked list linkedlist voting view votingview has next hasnext resource a child achild voting view votingview voting view votingview a child achild has vote d yes hasvotedyes sling id slingid result add result size voted voting result list voting view votingview list votings listvotings resource resolver resourceresolver resource resolver resourceresolver config config config logger info list votings listvotings config bundle deactivated array list arraylist voting view votingview string ongoing votings path ongoingvotingspath config get ongoing votings path getongoingvotingspath resource ongoing votings resource ongoingvotingsresource resource resolver resourceresolver get resource getresource ongoing votings path ongoingvotingspath ongoing votings resource ongoingvotingsresource legal stage ongoing votings ongoingvotings node voting logger debug list votings listvotings ongoing votings parent resource array list arraylist voting view votingview iterable resource children ongoing votings resource ongoingvotingsresource get children getchildren iterator resource children iterator list voting view votingview result linked list linkedlist voting view votingview has next hasnext resource a child achild voting view votingview voting view votingview a child achild result add logger is debug enabled isdebugenabled logger debug list votings listvotings votings result size result
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler optimization java util hash set hashset java util org apache sling scripting sightly impl compiler expression expression node expressionnode org apache sling scripting sightly impl compiler expression node array literal arrayliteral org apache sling scripting sightly impl compiler expression node binary operation binaryoperation org apache sling scripting sightly impl compiler expression node boolean constant booleanconstant org apache sling scripting sightly impl compiler expression node identifier org apache sling scripting sightly impl compiler expression node map literal mapliteral org apache sling scripting sightly impl compiler expression node null literal nullliteral org apache sling scripting sightly impl compiler expression node numeric constant numericconstant org apache sling scripting sightly impl compiler expression node property access propertyaccess org apache sling scripting sightly impl compiler expression node runtime call runtimecall org apache sling scripting sightly impl compiler expression node string constant stringconstant org apache sling scripting sightly impl compiler expression node ternary operator ternaryoperator org apache sling scripting sightly impl compiler expression node unary operation unaryoperation org apache sling scripting sightly impl compiler util expression side effect visitor sideeffectvisitor side effect visitor sideeffectvisitor extra cts extracts variables expression variable finder variablefinder side effect visitor sideeffectvisitor string variables variable finder variablefinder string variables variables variables traverse expression node expressionnode node node node accept string find variables findvariables expression node expressionnode node hash set hashset string result hash set hashset string variable finder variablefinder finder variable finder variablefinder result finder traverse node result override visit property access propertyaccess property access propertyaccess traverse property access propertyaccess get target gettarget traverse property access propertyaccess get property getproperty override visit identifier identifier variables add identifier get name getname override visit string constant stringconstant text override visit binary operation binaryoperation binary operation binaryoperation traverse binary operation binaryoperation get left operand getleftoperand traverse binary operation binaryoperation get right operand getrightoperand override visit boolean constant booleanconstant boolean constant booleanconstant override visit numeric constant numericconstant num eric constant numericconstant override visit unary operation unaryoperation unary operation unaryoperation traverse unary operation unaryoperation get target gettarget override visit ternary operator ternaryoperator ternary operator ternaryoperator traverse ternary operator ternaryoperator get condition getcondition traverse ternary operator ternaryoperator get then branch getthenbranch traverse ternary operator ternaryoperator get else branch getelsebranch override visit runtime call runtimecall runtime call runtimecall expression node expressionnode node runtime call runtimecall get arguments getarguments traverse node override visit map literal mapliteral map literal mapliteral expression node expressionnode map literal mapliteral get map getmap values traverse override visit array literal arrayliteral array literal arrayliteral expression node expressionnode item array literal arrayliteral get items getitems traverse item override visit null literal nullliteral null literal nullliteral
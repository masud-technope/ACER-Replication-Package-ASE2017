licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide test impl helpers java input stream inputstream java input stream reader inputstreamreader java util array list arraylist java util java util list java util concurrent time unit timeunit java util regex matcher java util regex pattern org apache commons http client httpclient credentials org apache commons http client httpclient http client httpclient org apache commons http client httpclient username password credentials usernamepasswordcredentials org apache commons http client httpclient auth scope authscope org apache commons http client httpclient methods get method getmethod org apache commons io utils ioutils org json json array jsonarray org json json object jsonobject org json json t okener jsontokener org junit rules external resource externalresource junit framework assertion failed error assertionfailederror external sling launchpad externalslinglaunchpad external resource externalresource pattern start level startlevel json snippet pattern compile system start level systemstartlevel expected start level max wait time time unit timeunit min utes minutes to millis tomillis launchpad config launchpadconfig config external sling launchpad externalslinglaunchpad launchpad config launchpadconfig config config config override throwable credentials creds username password credentials usernamepasswordcredentials config get username getusername config get password getpassword http client httpclient client http client httpclient client get state getstate set credentials setcredentials auth scope authscope config get host name gethostname config get port getport creds cutoff system current time millis currenttimemillis max wait time list sling ready rule slingreadyrule rules array list arraylist rules add start level sling ready rule startlevelslingreadyrule client rules add active bundles sling ready rule activebundlesslingreadyrule client sling ready rule slingreadyrule rule rules rule evaluate assert timeout asserttimeout cutoff thread sleep assert timeout asserttimeout cutoff assertion failed error assertionfailederror system current time millis currenttimemillis cutoff assertion failed error assertionfailederror sling launchpad start max wait time milliseconds debug string string system get property getproperty sling ide debug system println string sling ready rule slingreadyrule evaluate exception start level sling ready rule startlevelslingreadyrule sling ready rule slingreadyrule http client httpclient client get method getmethod http method httpmethod start level sling ready rule startlevelslingreadyrule http client httpclient client client client http method httpmethod get method getmethod config get url geturl system console vmstat override evaluate exception status client execute method executemethod http method httpmethod debug vmstat http call code status status string response body responsebody io utils ioutils to string tostring http method httpmethod get response body as stream getresponsebodyasstream http method httpmethod get response char set getresponsecharset matcher start level startlevel json snippet matcher response body responsebody find start level startlevel integer parse int parseint group debug vmstat http call start level startlevel start level startlevel start level startlevel expected start level debug current start level startlevel start level startlevel expected start level active bundles sling ready rule activebundlesslingreadyrule sling ready rule slingreadyrule http client httpclient client get method getmethod http method httpmethod active bundles sling ready rule activebundlesslingreadyrule http client httpclient client client client http method httpmethod get method getmethod config get url geturl system console bundles json override evaluate exception status client execute method executemethod http method httpmethod debug bundles http call code status status input stream inputstream input http method httpmethod get response body as stream getresponsebodyasstream json object jsonobject obj json object jsonobject json t okener jsontokener input stream reader inputstreamreader input json array jsonarray bundle status bundlestatus obj getjsonarray total bundle status bundlestatus get int getint active bundle status bundlestatus get int getint fragment bundle status bundlestatus get int getint debug bundle http call status total total active active fragment fragment total active fragment debug bundles started
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons logs ervice logservice internal java util arrays java util collections java util enumeration java util linked hash map linkedhashmap java util map java util concurrent blocking queue blockingqueue java util concurrent linked blocking queue linkedblockingqueue org osgi framework bundle org osgi framework bundle event bundleevent org osgi framework bundle exception bundleexception org osgi framework constants org osgi framework framework event frameworkevent org osgi framework framework listener frameworklistener org osgi framework service event serviceevent org osgi framework service listener servicelistener org osgi framework service reference servicereference org osgi framework sync hronous bundle listener synchronousbundlelistener org osgi service component component constants componentconstants org osgi service log log entry logentry org osgi service log log listener loglistener org osgi service log log service logservice org osgi service start level startlevel start level startlevel org slf logger org slf logger factory loggerfactory code log reader service factory logreaderservicefactory code todo log support logsupport sync hronous bundle listener synchronousbundlelistener service listener servicelistener framework listener frameworklistener service property component component note constant create unneded dependency org osgi service component component string component component constants componentconstants component empty enumeration returned link get log getlog call record log events enumeration empty collections enumeration collections empty list emptylist registered log listeners loglisteners log listener proxy loglistenerproxy listeners lock guard concurrent access listeners array object listeners lock listenerslock object log gers loggers bundle logging messages originated specific bundles suppress warnings suppresswarnings serial map logger log gers loggers linked hash map linkedhashmap logger max size override remove eldest entry removeeldestentry map entry logger eldest size max size worker thread sending log events logevents log listeners loglisteners log entry dispatcher logentrydispatcher log entry dispatcher logentrydispatcher start level startlevel start level service startlevelservice log support logsupport start level startlevel start level service startlevelservice log entry dispatcher logentrydispatcher log entry dispatcher logentrydispatcher log entry dispatcher logentrydispatcher start start level service startlevelservice start level service startlevelservice shutdown terminate dispatcher wait termination log entry dispatcher logentrydispatcher terminate log entry dispatcher logentrydispatcher join interrupted exception interruptedexception drop listeners listeners lock listenerslock listeners log reader service logreaderservice add log listener addloglistener bundle bundle log listener loglistener listener listeners lock listenerslock log listener proxy loglistenerproxy llp log listener proxy loglistenerproxy bundle listener listeners listeners log listener proxy loglistenerproxy llp get listener getlistener listener log listener proxy loglistenerproxy new listeners newlisteners log listener proxy loglistenerproxy listeners length system arraycopy listeners new listeners newlisteners listeners length new listeners newlisteners listeners length llp listeners new listeners newlisteners remove log listener removeloglistener log listener loglistener listener listeners lock listenerslock listeners registered listeners listener registered idx get listener getlistener listener idx log listener proxy loglistenerproxy new listeners newlisteners log listener proxy loglistenerproxy listeners length idx system arraycopy listeners new listeners newlisteners idx idx listeners length system arraycopy listeners idx new listeners newlisteners new listeners newlisteners length idx listeners new listeners newlisteners removes registered log listeners loglisteners belonging bundle task required specification log service impl emenation implemenation block quote blockquote bundle registers log listener loglistener object stopped releases log reader service log reader service remove bundle listeners block quote blockquote param bundle bundle listeners removed remove log listeners removeloglisteners bundle bundle grab copy array log listener proxy loglistenerproxy current get listeners getlisteners current check listeners bundle current length current has bundle hasbundle bundle remove log listener removeloglistener current get listener getlistener log listener loglistener listener listeners listeners length listeners is same issame listener fall returns registered log listeners loglisteners log listener proxy loglistenerproxy get listeners getlisteners listeners lock listenerslock listeners returns empty enumeration implement log entry recording moment enumeration get log getlog empty firing log event logs log entry log file enqueues dispatching registered log listeners loglisteners separate worker thread fire log event firelogevent log entry logentry log entry logentry log slf log out logout log entry logentry enqueue asynchronous delivery log entry dispatcher logentrydispatcher enque log entry enquelogentry log entry logentry bundle listener bundlelistener list ens listens bundle events logs res pective respective events log service specification add ition addition log listener loglistener instances registered stopped bundles removed method bundle changed bundlechanged bundle event bundleevent event string message event get type gettype bundle event bundleevent installed message bundle event bundleevent installed bundle event bundleevent resolved message bundle event bundleevent resolved bundle event bundleevent starting message bundle event bundleevent starting bundle event bundleevent started message bundle event bundleevent started bundle event bundleevent stopping message bundle event bundleevent stopping bundle event bundleevent stopped special listener list stopped bundles remove log listeners removeloglisteners event get bundle getbundle message bundle event bundleevent stopped bundle event bundleevent unresolved message bundle event bundleevent unresolved bundle event bundleevent updated message bundle event bundleevent updated bundle event bundleevent uninstalled remove cached logger uninstalled bundle unget logger ungetlogger event get bundle getbundle message bundle event bundleevent uninstalled message bundle event bundleevent event get type gettype log entry logentry entry log entry impl logentryimpl event get bundle getbundle log service logservice log info message fire log event firelogevent entry service listener servicelistener list ens listens service events logs res pective respective events log service specification service changed servicechanged service event serviceevent event level log service logservice log info string message event get type gettype service event serviceevent registered message service event serviceevent registered service event serviceevent modified message service event serviceevent modified level log service logservice log debug service event serviceevent unregistering message service event serviceevent unregistering message service event serviceevent event get type gettype log entry logentry entry log entry impl logentryimpl event get service reference getservicereference get bundle getbundle event get service reference getservicereference level message fire log event firelogevent entry framework listener frameworklistener list ens listens framework events logs res pective respective events log service specification framework error class not found exception classnotfoundexception unresolved bundle message log ged logged info level error level prescribed spec situation result framework error apache felix framework controlling moment framework release framework event frameworkevent framework event frameworkevent event level log service logservice log info string message throwable exception event get throwable getthrowable event get type gettype framework event frameworkevent started message framework event frameworkevent started framework event frameworkevent error message framework event frameworkevent error resolve exception bundle exception bundleexception stack trace element stacktraceelement ste exception get stack trace getstacktrace ste ste length load bundle class loadbundleclass equals ste get method name getmethodname message exception get message getmessage event get bundle getbundle message bundle event get bundle getbundle get symbolic name getsymbolicname event get bundle getbundle get bundle id getbundleid level log service logservice log info don care stack trace exception level log service logservice log error framework event frameworkevent packages ref reshed refreshed message framework event frameworkevent packages ref reshed refreshed framework event frameworkevent start level startlevel changed message framework event frameworkevent start level startlevel changed start level service startlevelservice get start level getstartlevel framework event frameworkevent warning message framework event frameworkevent warning framework event frameworkevent info message framework event frameworkevent info message framework event frameworkevent event get type gettype log entry logentry entry log entry impl logentryimpl event get bundle getbundle level message exception fire log event firelogevent entry effective logging logger messages org inating orginating bundle bundle system bundle logger param bundle bundle logger returned logger bundle logger get logger getlogger bundle bundle bundle id bundleid bundle bundle get bundle id getbundleid logger log log gers loggers log log gers loggers bundle id bundleid log string bundle bundle system bundle constants system bundle symbolicname bundle symbolic bundle get symbolic name getsymbolicname bundle symbolic location bundle get location getlocation bundle location bundle string value of valueof bundle get bundle id getbundleid log logger factory loggerfactory get logger getlogger log gers loggers log gers loggers bundle id bundleid log log removes cached logger bundle bundle uninstalled logs bundle unget logger ungetlogger bundle bundle log gers loggers log gers loggers remove bundle get bundle id getbundleid logs log entry logger bundle recorded log entry log out logout log entry logentry log entry logentry logger bundle logger log get logger getlogger log entry logentry get bundle getbundle log entry logentry get level getlevel get level getlevel log early exit message log ged logged don work string builder stringbuilder msg string builder stringbuilder service reference servicereference log entry logentry get service reference getservicereference msg append service get property getproperty constants service pid msg append get property getproperty constants service pid append get property getproperty component msg append get property getproperty component append get property getproperty constants service description msg append get property getproperty constants service description append msg append get property getproperty constants service append append arrays to string tostring string get property getproperty constants object class objectclass append log entry logentry get message getmessage msg append log entry logentry get message getmessage throwable exception log entry logentry get exception getexception exception msg append append exception append string message msg to string tostring log entry logentry get level getlevel log service logservice log debug log debug message exception log service logservice log info log info message exception log service logservice log warning log warn message exception log service logservice log error log error message exception log entry logentry get level getlevel log service logservice log debug log trace message exception log entry logentry get level getlevel log service logservice log error log error message exception get level getlevel logger log log is trace enabled istraceenabled constant trace log service logservice log service logservice log debug log is debug enabled isdebugenabled log service logservice log debug log is info enabled isinfoenabled log service logservice log info log is warn enabled iswarnenabled log service logservice log warning log service logservice log error code log listener proxy loglistenerproxy code proxy registered code log listener loglistener code records bundle registering listener removal log listeners registered bundles removed bundle stopped log listener proxy loglistenerproxy log listener loglistener running bundle runningbundle bundle starting bundle active bundle stopping bundle bundle log listener loglistener delegatee log listener proxy loglistenerproxy bundle bundle log listener loglistener delegatee bundle bundle delegatee delegatee log ged logged log entry logentry entry bundle get state getstate running bundle runningbundle delegatee log ged logged entry is same issame log listener loglistener listener listener delegatee listener has bundle hasbundle bundle bundle bundle bundle code log entry dispatcher logentrydispatcher code worker thread responsible delivering log events log listeners log entry dispatcher logentrydispatcher thread actual log listeners demand log support logsupport log support logsupport queue log events dispatched blocking queue blockingqueue log entry logentry dispatch queue dispatchqueue thread active active log entry dispatcher logentrydispatcher log support logsupport log support logsupport log entry logentry dispatcher log support logsupport log support logsupport dispatch queue dispatchqueue linked blocking queue linkedblockingqueue log entry logentry active add log entry dispatching enque log entry enquelogentry log entry logentry log entry logentry dispatch queue dispatchqueue offer log entry logentry log entry dispatching method blocks event thread int errupted interrupted event dispatch interrupted exception interruptedexception thread int errupted interrupted waiting log event dispatch log entry logentry dequeue log entry dequeuelogentry interrupted exception interruptedexception dispatch queue dispatchqueue terminates work thread reset ting resetting active flag int err upting interrupting link dequeue log entry dequeuelogentry aborted thread terminate terminate active int errupt interrupt runs actual log event dispatching method continues log events link dequeue log entry dequeuelogentry method active flag reset override active log entry logentry log entry logentry log entry logentry dequeue log entry dequeuelogentry interrupted exception interruptedexception dispatch log entry log entry logentry grab copy array log listener loglistener log listeners loglisteners log support logsupport get listeners getlisteners fire events listeners lock listenerslock log listeners loglisteners log listener loglistener log listener loglistener log listeners loglisteners log listener loglistener log ged logged log entry logentry throwable
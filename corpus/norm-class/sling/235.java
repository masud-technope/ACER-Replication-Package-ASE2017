licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling validation impl java util arrays java util collection java util list java util regex matcher java util regex pattern javax annotation check for null checkfornull javax annotation nonnull org apache commons collect ions collections predicate org apache commons lang string utils stringutils org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations reference org apache felix scr annotations service org apache sling api resource login exception loginexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api resource value map valuemap org apache sling validation validation result validationresult org apache sling validation validation service validationservice org apache sling validation validator org apache sling validation exceptions sling validation exception slingvalidationexception org apache sling validation model child resource childresource org apache sling validation model parameterized validator parameterizedvalidator org apache sling validation model resource property resourceproperty org apache sling validation model validation model validationmodel org slf logger org slf logger factory loggerfactory component service validation service impl validationserviceimpl validation service validationservice logger log logger factory loggerfactory get logger getlogger validation service impl validationserviceimpl reference validation model retriever validationmodelretriever model retriever modelretriever collection string search paths searchpaths reference resource resolver factory resourceresolverfactory rrf activate activate resource resolver resourceresolver rrf get administrative resource resolver getadministrativeresourceresolver search paths searchpaths arrays as list aslist get search path getsearchpath login exception loginexception illegal state exception illegalstateexception login admin istrator administrator figure search paths close validation service validationservice suppress warnings suppresswarnings unused check for null checkfornull validation model validationmodel get validation model getvalidationmodel nonnull string validated resource type validatedresourcetype string resource path resourcepath consider resource super type models considerresourcesupertypemodels https bugs eclipse org bugs bug cgi validated resource type validatedresourcetype illegal argument exception illegalargumentexception validation service validationservice get validation model getvalidationmodel accept resource type resource path resource path resourcepath convert relative resource types https issues apache org jira browse sling validated resource type validatedresourcetype get relative resource type getrelativeresourcetype validated resource type validatedresourcetype model retriever modelretriever get model getmodel validated resource type validatedresourcetype resource path resourcepath consider resource super type models considerresourcesupertypemodels resource type resourcetype starting str ip strip leading search path resource type resource type relative param resource type resourcetype relative resource type leading search path illegal argument exception illegalargumentexception resource type starting search paths suppress warnings suppresswarnings nonnull string get relative resource type getrelativeresourcetype nonnull string resource type resourcetype illegal argument exception illegalargumentexception resource type resourcetype starts with startswith log debug str ip strip search path resource type string search path searchpath search paths searchpaths resource type resourcetype starts with startswith search path searchpath resource type resourcetype resource type resourcetype substring search path searchpath length resource type resourcetype illegal argument exception illegalargumentexception deal resource types resource resolver search path string utils stringutils join search paths searchpaths to array toarray resource type resource type resourcetype resource type resourcetype suppress warnings suppresswarnings override check for null checkfornull validation model validationmodel get validation model getvalidationmodel nonnull resource resource consider resource super type models considerresourcesupertypemodels get validation model getvalidationmodel resource get resource type getresourcetype resource get path getpath consider resource super type models considerresourcesupertypemodels override nonnull validation result validationresult validate nonnull resource resource nonnull validation model validationmodel model validate resource model nonnull validation result validationresult validate nonnull resource resource nonnull validation model validationmodel model nonnull string relative path relativepath resource model relative path relativepath illegal argument exception illegalargumentexception validation service validationservice validate accept parameters validation result impl validationresultimpl result validation result impl validationresultimpl validate direct properties resource validate value map validatevaluemap resource adapt to adaptto value map valuemap resource relative path relativepath model get resource properties getresourceproperties result validate children resources validate children validatechildren resource relative path relativepath model get children getchildren result result valid ates validates child resource code child resource childresource entry validation model param resource param relative path relativepath relative path relativepath resource empty param result param child resources childresources validate children validatechildren resource resource string relative path relativepath collection child resource childresource child resources childresources validation result impl validationresultimpl result validate children resources child resource childresource child resource childresource child resources childresources pattern validate children matching pattern pattern pattern child resource childresource get name pattern getnamepattern pattern found match foundmatch resource child resource get children getchildren matcher matcher pattern matcher child get name getname matcher matches validate child resource validatechildresource child relative path relativepath child resource childresource result found match foundmatch found match foundmatch child resource childresource is required isrequired result add failure message addfailuremessage relative path relativepath pattern pattern missing required child resource resource expected resource expectedresource resource get child getchild child resource childresource get name getname expected resource expectedresource validate child resource validatechildresource expected resource expectedresource relative path relativepath child resource childresource result child resource childresource is required isrequired result add failure message addfailuremessage relative path relativepath child resource childresource get name getname missing required child resource validate child resource validatechildresource resource resource string relative path relativepath child resource childresource child resource childresource validation result impl validationresultimpl result validate value map validatevaluemap resource adapt to adaptto value map valuemap resource relative path relativepath resource get name getname child resource childresource get properties getproperties result validate children validatechildren resource relative path relativepath resource get name getname child resource childresource get children getchildren result override nonnull validation result validationresult validate nonnull value map valuemap value map valuemap nonnull validation model validationmodel model value map valuemap model illegal argument exception illegalargumentexception validation result validationresult validate accept parameters validation result impl validationresultimpl result validation result impl validationresultimpl validate value map validatevaluemap value map valuemap model get resource properties getresourceproperties result result override nonnull validation result validationresult validate resource recursively validateresourcerecursively nonnull resource resource enforce validation enforcevalidation predicate filter consider resource super type models considerresourcesupertypemodels illegal state exception illegalstateexception illegal argument exception illegalargumentexception sling validation exception slingvalidationexception validation resource visitor validationresourcevisitor visitor validation resource visitor validationresourcevisitor resource get path getpath enforce validation enforcevalidation filter consider resource super type models considerresourcesupertypemodels visitor accept resource visitor get result getresult validate value map validatevaluemap value map valuemap value map valuemap resource resource string relative path relativepath collection resource property resourceproperty resource properties resourceproperties validation result impl validationresultimpl result value map valuemap illegal argument exception illegalargumentexception value map valuemap resource property resourceproperty resource property resourceproperty resource properties resourceproperties pattern pattern resource property resourceproperty get name pattern getnamepattern pattern found match foundmatch string key value map valuemap key set keyset pattern matcher key matches found match foundmatch validate property value validatepropertyvalue key value map valuemap resource relative path relativepath resource property resourceproperty result found match foundmatch resource property resourceproperty is required isrequired result add failure message addfailuremessage relative path relativepath resource property resourceproperty get name pattern getnamepattern missing required property validate property value validatepropertyvalue resource property resourceproperty get name getname value map valuemap resource relative path relativepath resource property resourceproperty result validate property value validatepropertyvalue string property value map valuemap value map valuemap resource resource string relative path relativepath resource property resourceproperty resource property resourceproperty validation result impl validationresultimpl result object field values fieldvalues value map valuemap property field values fieldvalues resource property resourceproperty is required isrequired result add failure message addfailuremessage relative path relativepath property missing required property list parameterized validator parameterizedvalidator valid ators validators resource property resourceproperty get valid ators getvalidators resource property resourceproperty is multiple ismultiple field values fieldvalues get class getclass is array isarray result add failure message addfailuremessage relative path relativepath property expected multiple value d valued property parameterized validator parameterizedvalidator validator valid ators validators convert type array type validator get type gettype type is array isarray https docs oracle java se javase docs api java lang html get name getname hints names type for name forname type get name getname type get class loader getclassloader class not found exception classnotfoundexception sling validation exception slingvalidationexception generate array type type validated property exists map object type d value typedvalue object value map valuemap property type https issues apache org jira browse sling check type d value typedvalue type d value typedvalue length type d value typedvalue missing required property treated validate value map validatevaluemap result add failure message addfailuremessage property property expected type validator get type gettype converted type https issues apache org jira browse sling description multivalue properties treated value map valuemap validator get type gettype is array isarray value map valuemap returns array cases property single multivalue validate value validatevalue result type d value typedvalue property relative path relativepath value map valuemap resource validator call validate entry array supports single value singlevalue multivalue nonnull object array object type d value typedvalue array length validate value validatevalue result array property relative path relativepath value map valuemap resource validator object item array validate value validatevalue result item property relative path relativepath value map valuemap resource validator suppress warnings suppresswarnings rawtypes validate value validatevalue validation result impl validationresultimpl result nonnull object string property string relative path relativepath nonnull value map valuemap value map valuemap resource resource parameterized validator parameterizedvalidator validator suppress warnings suppresswarnings unchecked string validator message validatormessage validator validator get validator getvalidator validate value map valuemap resource validator get parameters getparameters validator message validatormessage validator message validatormessage is empty isempty validator message validatormessage property valid validator get class getclass get name getname validator result add failure message addfailuremessage relative path relativepath property validator message validatormessage sling validation exception slingvalidationexception sling validation exception slingvalidationexception call validator validator get class getclass get name getname resource property resourceproperty relative path relativepath property
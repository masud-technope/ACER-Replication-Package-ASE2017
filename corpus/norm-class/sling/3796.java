licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing teleporter client java io exception ioexception java input stream inputstream java output stream outputstream java output stream writer outputstreamwriter java print writer printwriter java net httpurlconnection minimal http client functionality multipart post requests multipart adapter multipartadapter output stream outputstream print writer printwriter string boundary to hex string tohexstring math random string eol string dashes string charset counter multipart adapter multipartadapter httpurlconnection string charset io exception ioexception charset charset set use caches setusecaches set do output setdooutput set instance follow redirects setinstancefollowredirects set request property setrequestproperty content type multipart form data boundary boundary get output stream getoutputstream print writer printwriter output stream writer outputstreamwriter charset close io exception ioexception append dashes append boundary append dashes append eol flush close multipart adapter multipartadapter parameter string string append dashes append boundary append eol append content disposition form data append eol append content type text plain charset append charset append eol append eol append append eol flush multipart adapter multipartadapter file string field name fieldname string filename string content type contenttype input stream inputstream data io exception ioexception append dashes append boundary append eol append content disposition form data append field name fieldname append append filename append filename append append eol append content type append content type contenttype append eol append content transfer encoding binary append eol append eol flush copy data append eol flush copy input stream inputstream output stream outputstream io exception ioexception buffer read buffer buffer length write buffer flush
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper servlet java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java line number reader linenumberreader java output stream outputstream java output stream writer outputstreamwriter java net url java util array list arraylist java util collections java util iterator java util list javax servlet servlet javax servlet servlet config servletconfig javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet single thread model singlethreadmodel javax servlet unavailable exception unavailableexception javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse javax servlet jsp tagext tag info taginfo org apache juli logging log org apache juli logging log factory logfactory org apache sling api sling exception slingexception org apache sling api sling http servlet request slinghttpservletrequest org apache sling api slingioexception org apache sling api sling servlet exception slingservletexception org apache sling api scripting script evaluation exception scriptevaluationexception org apache sling api scripting sling bindings slingbindings org apache sling commons class loader classloader dynamic class loader dynamicclassloader org apache sling scripting jsp sling page exception slingpageexception org apache sling scripting jsp jasper jasper exception jasperexception org apache sling scripting jsp jasper jsp compilation context jspcompilationcontext org apache sling scripting jsp jasper options org apache sling scripting jsp jasper compiler error dispatcher errordispatcher org apache sling scripting jsp jasper compiler javac error detail javacerrordetail org apache sling scripting jsp jasper compiler jsp runtime context jspruntimecontext org apache sling scripting jsp jasper compiler localizer org apache sling scripting jsp jasper runtime annotation processor annotationprocessor org apache sling scripting jsp jasper runtime jsp source dependent jspsourcedependent jsp servlet wrapper jspservletwrapper logger log log log factory logfactory get log getlog jsp servlet wrapper jspservletwrapper servlet config servletconfig config options options is tag file istagfile string jsp uri jspuri jsp compilation context jspcompilationcontext ctxt servlet the servlet theservlet tag file class tagfileclass jasper exception jasperexception compile exception compileexception trip count tripcount list string dependents jsp servlet wrapper jspservletwrapper jsp jsp servlet wrapper jspservletwrapper servlet config servletconfig config options options string jsp uri jspuri is error page iserrorpage jsp runtime context jspruntimecontext rctxt default is session defaultissession is tag file istagfile config config options options jsp uri jspuri jsp uri jspuri ctxt jsp compilation context jspcompilationcontext jsp uri jspuri is error page iserrorpage options config get servlet context getservletcontext rctxt default is session defaultissession log is debug enabled isdebugenabled log debug creating wrapper servlet jsp uri jspuri jsp servlet wrapper jspservletwrapper tag files jsp servlet wrapper jspservletwrapper servlet context servletcontext servlet context servletcontext options options string tag file path tagfilepath tag info taginfo tag info taginfo jsp runtime context jspruntimecontext rctxt default is session defaultissession url tag file jar url tagfilejarurl jasper exception jasperexception is tag file istagfile config options options jsp uri jspuri tag file path tagfilepath ctxt jsp compilation context jspcompilationcontext jsp uri jspuri tag info taginfo options servlet context servletcontext rctxt default is session defaultissession tag file jar url tagfilejarurl log is debug enabled isdebugenabled log debug creating wrapper tag file tagfile jsp uri jspuri jsp compilation context jspcompilationcontext get jsp engine context getjspenginecontext ctxt is valid isvalid the servlet theservlet the servlet theservlet get class getclass get class loader getclassloader dynamic class loader dynamicclassloader dynamic class loader dynamicclassloader the servlet theservlet get class getclass get class loader getclassloader is live islive suppress warnings suppresswarnings unchecked servlet load servlet loadservlet servlet exception servletexception io exception ioexception servlet servlet log is debug enabled isdebugenabled log debug loading servlet jsp uri jspuri servlet servlet ctxt load new instance newinstance annotation processor annotationprocessor annotation processor annotationprocessor annotation processor annotationprocessor config get servlet context getservletcontext get attribute getattribute annotation processor annotationprocessor get name getname annotation processor annotationprocessor annotation processor annotationprocessor process annotations processannotations servlet annotation processor annotationprocessor post construct postconstruct servlet update dependents list string old deps olddeps dependents servlet servlet jsp source dependent jspsourcedependent dependents list string jsp source dependent jspsourcedependent servlet get dependants getdependants dependents dependents collections empty list ctxt get runtime context getruntimecontext add jsp dependencies addjspdependencies dependents equals old deps olddeps dependents persist dependencies persistdependencies illegal access exception illegalaccessexception jasper exception jasperexception instantiation exception instantiationexception jasper exception jasperexception exception jasper exception jasperexception servlet init config servlet dependencies file string get dependency file path getdependencyfilepath string is tag file istagfile ctxt get tag info gettaginfo get tag class name gettagclassname ctxt get servlet package name getservletpackagename ctxt get servlet class name getservletclassname string path replace deps path per sist persist dependencies persist dependencies persistdependencies string path get dependency file path getdependencyfilepath log is debug enabled isdebugenabled log debug writing dependencies jsp uri jspuri dependents dependents size output stream outputstream ctxt get runtime context getruntimecontext getioprovider get output stream getoutputstream path output stream writer outputstreamwriter writer output stream writer outputstreamwriter utf string dep dependents writer write dep writer write writer flush io exception ioexception ioe log warn unable write depend enies dependenies file path ioe get message getmessage ioe close io exception ioexception ioe ctxt get runtime context getruntimecontext getioprovider delete path compile needed load tag file suppress warnings suppresswarnings unchecked load tag file loadtagfile jasper exception jasperexception compile exception compileexception compile exception compileexception tag file class tagfileclass tag file class tagfileclass log is debug enabled isdebugenabled log debug comp iling compiling tag file tagfile jsp uri jspuri compile exception compileexception ctxt compile compile exception compileexception compile exception compileexception log is debug enabled isdebugenabled log debug loading tag file tagfile jsp uri jspuri tag file class tagfileclass ctxt load object tag tag file class tagfileclass new instance newinstance update dependents list string old deps olddeps dependents tag tag jsp source dependent jspsourcedependent dependents list string jsp source dependent jspsourcedependent tag get dependants getdependants ctxt get runtime context getruntimecontext add jsp dependencies addjspdependencies dependents dependents dependents collections empty list equals old deps olddeps dependents persist dependencies persistdependencies throwable tag file class tagfileclass compile load prototype tag file needed compiling tag files circular dependencies pro totpe prototpe skeleton dependencies tag files generated compiled load tag file prototype loadtagfileprototype jasper exception jasperexception ctxt set prototype mode setprototypemode load tag file loadtagfile ctxt set prototype mode setprototypemode list files current source dependency list string get dependants getdependants dependents dependents load deps file string path get dependency file path getdependencyfilepath input stream inputstream ctxt get runtime context getruntimecontext getioprovider get input stream getinputstream path log is debug enabled isdebugenabled log debug loading dependencies jsp uri jspuri list string deps array list arraylist string input stream reader inputstreamreader reader input stream reader inputstreamreader utf line number reader linenumberreader lnr line number reader linenumberreader reader string lnr read line readline deps add trim dependents deps io exception ioexception ignore close io exception ioexception ioe empty list servlet compiled loaded dependents dependents collections empty list emptylist dependents is tag file istagfile is tag file istagfile inc trip count inctripcount trip count tripcount dec trip count dectripcount trip count tripcount string get jsp uri getjspuri jsp uri jspuri check compiled current is out date d isoutdated check file exists string target file targetfile ctxt get class file name getclassfilename target last modified targetlastmodified ctxt get runtime context getruntimecontext getioprovider last modified lastmodified target file targetfile target last modified targetlastmodified compare jsp time stamp file time stamp string jsp ctxt get jsp file getjspfile jsp real last modified jspreallastmodified ctxt get runtime context getruntimecontext getioprovider last modified lastmodified jsp target last modified targetlastmodified jsp real last modified jspreallastmodified log is debug enabled isdebugenabled log debug compiler out date d outdated target file targetfile target last modified targetlastmodified check includes list string depends get dependants getdependants depends iterator string depends iterator has next hasnext string include ignore tag libs reloaded taglib include starts with startswith tld include last modified includelastmodified ctxt get runtime context getruntimecontext getioprovider last modified lastmodified include include last modified includelastmodified target last modified targetlastmodified log is debug enabled isdebugenabled log debug compiler out date d outdated target file targetfile dependency include target last modified targetlastmodified include last modified includelastmodified prepare servlet compile has n hasn compiled date d dated load servlet prepare servlet prepareservlet http servlet request httpservletrequest request http servlet response httpservletresponse response io exception ioexception servlet exception servletexception is out date d isoutdated compile log is debug enabled isdebugenabled log debug comp iling compiling servlet jsp uri jspuri compile exception compileexception ctxt compile compile exception compileexception compile exception compileexception load servlet file the servlet theservlet load servlet loadservlet param bindings slingioexception sling servlet exception slingservletexception illegal argument exception illegalargumentexception jasper precompile control ler controller request parameter illegal service sling bindings slingbindings bindings sling http servlet request slinghttpservletrequest request bindings get request getrequest object old value oldvalue request get attribute getattribute sling bindings slingbindings get name getname request set attribute setattribute sling bindings slingbindings get name getname bindings service request bindings get response getresponse sling exception slingexception io exception ioexception ioe slingioexception ioe servlet exception servletexception sling servlet exception slingservletexception request set attribute setattribute sling bindings slingbindings get name getname old value oldvalue process request service http servlet request httpservletrequest request http servlet response httpservletresponse response servlet exception servletexception io exception ioexception max system current time millis currenttimemillis response set date header setdateheader retry response send error senderror http servlet response httpservletresponse service unavailable localizer get message getmessage jsp error unavailable wait period expired reset the servlet theservlet compile exception compileexception compile exception compileexception the servlet theservlet prepare servlet prepareservlet request response compile exception compileexception compile exception compileexception service request the servlet theservlet single thread model singlethreadmodel determined servicing the servlet theservlet service request response the servlet theservlet service request response unavailable exception unavailableexception string include request uri includerequesturi string request get attribute getattribute javax servlet include request uri include request uri includerequesturi unavailable seconds unavailableseconds get unavailable seconds getunavailableseconds unavailable seconds unavailableseconds unavailable seconds unavailableseconds system current time millis currenttimemillis unavailable seconds unavailableseconds response send error senderror http servlet response httpservletresponse service unavailable get message getmessage servlet exception servletexception handle jsp exception handlejspexception io exception ioexception handle jsp exception handlejspexception illegal state exception illegalstateexception handle jsp exception handlejspexception sling page exception slingpageexception exception handle jsp exception handlejspexception destroy wrapper param delete generated files deletegeneratedfiles generated files deleted destroy delete generated files deletegeneratedfiles is tag file istagfile log is debug enabled isdebugenabled log debug dest roying destroying tag file tagfile jsp uri jspuri tag file class tagfileclass delete generated files deletegeneratedfiles log is debug enabled isdebugenabled log debug deleting generated files tag file tagfile jsp uri jspuri ctxt get runtime context getruntimecontext getioprovider delete get dependency file path getdependencyfilepath log is debug enabled isdebugenabled log debug dest roying destroying servlet jsp uri jspuri the servlet theservlet delete generated files deletegeneratedfiles log is debug enabled isdebugenabled log debug deleting generated files servlet jsp uri jspuri string is tag file istagfile ctxt get tag info gettaginfo get tag class name gettagclassname ctxt get servlet package name getservletpackagename ctxt get servlet class name getservletclassname string path replace ctxt get runtime context getruntimecontext getioprovider delete path ctxt get runtime context getruntimecontext getioprovider delete get dependency file path getdependencyfilepath org apache sling scripting jsp jasper compiler compiler ctxt get compiler getcompiler remove generated files removegeneratedfiles the servlet theservlet destroy annotation processor annotationprocessor annotation processor annotationprocessor annotation processor annotationprocessor config get servlet context getservletcontext get attribute getattribute annotation processor annotationprocessor get name getname annotation processor annotationprocessor annotation processor annotationprocessor pre destroy predestroy the servlet theservlet exception log error localizer get message getmessage jsp error file get message getmessage the servlet theservlet attempts construct jasper exception jasperexception helpful wrong jsp compiler system translate number generated servlet originated exception number jsp constructs exception snippet jsp debug ging debugging http issues apache org bug zilla bugzilla bug cgi http tfenne jasper details param exception problem servlet exception servletexception detailed handle jsp exception handlejspexception exception servlet exception servletexception exception jsp ex jspex handle jsp exception internal handlejspexceptioninternal jsp ex jspex servlet exception servletexception servlet exception servletexception jsp ex jspex sling exception slingexception jsp ex jspex returns servlet exception servletexception sling exception slingexception exception handle jsp exception internal handlejspexceptioninternal exception servlet exception servletexception throwable real exception realexception string ex message exmessage servlet exception servletexception real exception realexception servlet exception servletexception get root cause getrootcause root jasper exception jasperexception real exception realexception real exception realexception ex message exmessage to string tostring avoid nested script evaluation exceptions scriptevaluationexceptions nested jsp includes real exception realexception script evaluation exception scriptevaluationexception real exception realexception real exception realexception get cause getcause identify stack frame trace represents jsp stack trace element stacktraceelement frames real exception realexception get stack trace getstacktrace stack trace element stacktraceelement jsp frame jspframe frames length frames get class name getclassname equals the servlet theservlet get class getclass get name getname jsp frame jspframe frames jsp frame jspframe generated servlet add servlet exception servletexception sling exception slingexception java line number javalinenumber jsp frame jspframe get line number getlinenumber javac error detail javacerrordetail detail error dispatcher errordispatcher create javac error createjavacerror jsp frame jspframe get method name getmethodname ctxt get compiler getcompiler get page nodes getpagenodes java line number javalinenumber ctxt number could n couldn find jsp wrong jsp line number jsplinenumber detail get jsp begin line number getjspbeginlinenumber jsp line number jsplinenumber real exception realexception servlet exception servletexception servlet exception servletexception real exception realexception sling exception slingexception ex message exmessage real exception realexception options get display source fragment getdisplaysourcefragment detail get jsp extract getjspextract sling exception slingexception localizer get message getmessage jsp exception detail get jsp file name getjspfilename jsp line number jsplinenumber detail get jsp extract getjspextract real exception realexception sling exception slingexception localizer get message getmessage jsp exception detail get jsp file name getjspfilename jsp line number jsplinenumber real exception realexception exception real exception realexception servlet exception servletexception servlet exception servletexception real exception realexception sling exception slingexception ex message exmessage real exception realexception compare dependencies equals list string old deps olddeps list string new deps newdeps old deps olddeps new deps newdeps new deps newdeps size old deps olddeps size new deps newdeps size iterator string old deps olddeps iterator iterator string new deps newdeps iterator has next hasnext equals
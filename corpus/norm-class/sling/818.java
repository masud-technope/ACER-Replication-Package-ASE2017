licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling webconsole impl org apache sling util formatting result log formattingresultlog ms human readable mshumanreadable java io exception ioexception java input stream inputstream java output stream outputstream java print writer printwriter java text simple date format simpledateformat java util collection javax servlet servlet javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling api request response util responseutil org apache sling api result org apache sling api result log resultlog org apache sling api execution health check execution options healthcheckexecutionoptions org apache sling api execution health check execution result healthcheckexecutionresult org apache sling api execution health check executor healthcheckexecutor web console webconsole plugin execute health check services component service servlet suppress warnings suppresswarnings serial properties property org osgi framework constants service description apache sling health check web console plugin property felix webconsole label health check web console plugin healthcheckwebconsoleplugin label property felix webconsole title health check web console plugin healthcheckwebconsoleplugin title property felix webconsole category health check web console plugin healthcheckwebconsoleplugin category property felix webconsole css healthcheck res healthcheck css health check web console plugin healthcheckwebconsoleplugin http servlet httpservlet string title sling health check string label healthcheck string category sling string param tags tags string param debug debug string param quiet quiet string param force instant execution force instant execution forceinstantexecution string param combine tags combine tags with or combinetagswithor string param override global timeout override global timeout overrideglobaltimeout reference health check executor healthcheckexecutor health check executor healthcheckexecutor serve resource applicable get static resource getstaticresource http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception string path info pathinfo req get path info getpathinfo path info pathinfo path info pathinfo res string prefix label input stream inputstream get class getclass get resource as stream getresourceasstream path info pathinfo substring prefix length resp send error senderror http servlet response httpservletresponse path info pathinfo output stream outputstream resp get output stream getoutputstream buffer read buffer buffer length write buffer close io exception ioexception ignore override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception io exception ioexception get static resource getstaticresource req resp string tags get param getparam req param tags debug value of valueof get param getparam req param debug quiet value of valueof get param getparam req param quiet combine tags with or combinetagswithor value of valueof get param getparam req param combine tags force instant execution forceinstantexecution value of valueof get param getparam req param force instant execution string override global timeout str overrideglobaltimeoutstr get param getparam req param override global timeout print writer printwriter resp get writer getwriter do form doform tags debug quiet combine tags with or combinetagswithor force instant execution forceinstantexecution override global timeout str overrideglobaltimeoutstr execute health checks tags empty tags health check execution options healthcheckexecutionoptions options health check execution options healthcheckexecutionoptions options set combine tags with or setcombinetagswithor combine tags with or combinetagswithor options set force instant execution setforceinstantexecution force instant execution forceinstantexecution options set override global timeout setoverrideglobaltimeout integer value of valueof override global timeout str overrideglobaltimeoutstr number format exception numberformatexception nfe collection health check execution result healthcheckexecutionresult health check executor healthcheckexecutor execute options tags split println table content healthcheck cellpadding cellspacing width total failed health check execution result healthcheckexecutionresult ex r exr result ex r exr get health check result gethealthcheckresult total is ok isok failed quiet is ok isok render result renderresult ex r exr debug web console helper webconsolehelper web console helper webconsolehelper resp get writer getwriter title html titlehtml summary total health check healthcheck executed failed failures println table println href config mgr configmgr org apache sling core impl executor health check executor impl healthcheckexecutorimpl configure executor render result renderresult print writer printwriter health check execution result healthcheckexecutionresult ex result exresult debug io exception ioexception result result ex result exresult get health check result gethealthcheckresult web console helper webconsolehelper web console helper webconsolehelper string builder stringbuilder status string builder stringbuilder status append tags append ex result exresult get health check metadata gethealthcheckmetadata get tags gettags status append finished append simple date format simpledateformat yyyy format ex result exresult get finished at getfinishedat ms human readable mshumanreadable ex result exresult get elapsed time in ms getelapsedtimeinms title html titlehtml ex result exresult get health check metadata gethealthcheckmetadata get title gettitle td content tdcontent writer print response util responseutil escape xml escapexml status to string tostring writer print result span result ok resultok writer print result is ok isok writer print writer print result get status getstatus to string tostring writer print span close td closetd close tr closetr td content tdcontent result log resultlog entry result debug get status getstatus equals result status debug writer print div log writer print get status getstatus to string tostring writer print writer print get status getstatus to string tostring writer print writer print response util responseutil escape xml escapexml get message getmessage get exception getexception writer print writer print response util responseutil escape xml escapexml get exception getexception to string tostring writer println div close td closetd do form doform print writer printwriter string tags debug quiet combine tags with or combinetagswithor force instant execution forceinstantexecution string override global timeout str overrideglobaltimeoutstr io exception ioexception web console helper webconsolehelper web console helper webconsolehelper print form method println table content cellpadding cellspacing width title html titlehtml title execute health check services enter optional list tags select specific health checks tags checks prefix tag sign omit checks tag td label tdlabel health check tags comma separated td content tdcontent writer print input type text param tags tags writer print response util responseutil escape xml escapexml tags writer println input size close td closetd close tr closetr td label tdlabel combine tags logical td content tdcontent writer print input type check box checkbox param combine tags input combine tags with or combinetagswithor writer print checked writer println close td closetd close tr closetr td label tdlabel debug logs td content tdcontent writer print input type check box checkbox param debug input debug writer print checked writer println close td closetd close tr closetr td label tdlabel failed checks td content tdcontent writer print input type check box checkbox param quiet input quiet writer print checked writer println close td closetd close tr closetr td label tdlabel force ins tant instant execution cache async checks executed td content tdcontent writer print input type check box checkbox param force instant execution input force instant execution forceinstantexecution writer print checked writer println close td closetd close tr closetr td label tdlabel override global timeout td content tdcontent writer print input type text param override global timeout override global timeout str overrideglobaltimeoutstr writer print response util responseutil escape xml escapexml override global timeout str overrideglobaltimeoutstr writer println input size close td closetd close tr closetr td content tdcontent writer println input type sub mit submit execute selected health checks close td closetd close tr closetr writer println table form string get param getparam http servlet request httpservletrequest req string string default value defaultvalue string result req get parameter getparameter result result default value defaultvalue result
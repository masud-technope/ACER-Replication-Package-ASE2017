licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting python java buffered reader bufferedreader java reader java util map javax script bindings javax script script context scriptcontext javax script script exception scriptexception org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling scripting api abstract sling script engine abstractslingscriptengine org python util python int erpreter pythoninterpreter python script engine scriptengine python script engine pythonscriptengine abstract sling script engine abstractslingscriptengine python int erpreter pythoninterpreter int erp interp python script engine pythonscriptengine python script engine factory pythonscriptenginefactory factory factory class loader classloader old class loader oldclassloader thread current thread currentthread get context class loader getcontextclassloader thread current thread currentthread set context class loader setcontextclassloader get class getclass get class loader getclassloader int erp interp python int erpreter pythoninterpreter int erp interp initialize system get properties getproperties thread current thread currentthread set context class loader setcontextclassloader old class loader oldclassloader object eval reader script script context scriptcontext script context scriptcontext script exception scriptexception bindings bindings script context scriptcontext get bindings getbindings script context scriptcontext engine scope sling script helper slingscripthelper helper sling script helper slingscripthelper bindings sling bindings slingbindings sling helper script exception scriptexception sling script helper slingscripthelper missing bindings ensure request helper get request getrequest equals helper get request getrequest get method getmethod script exception scriptexception python scripting supports requests class loader classloader old class loader oldclassloader thread current thread currentthread get context class loader getcontextclassloader thread current thread currentthread set context class loader setcontextclassloader get class getclass get class loader getclassloader string buffer stringbuffer script string scriptstring string buffer stringbuffer buffered reader bufferedreader buf fered script bufferedscript buffered reader bufferedreader script string next line nextline buf fered script bufferedscript read line readline string new line newline system get property getproperty separator next line nextline script string scriptstring append next line nextline script string scriptstring append new line newline next line nextline buf fered script bufferedscript read line readline writer int erp interp set out setout script context scriptcontext get writer getwriter int erp interp set err seterr script context scriptcontext get error writer geterrorwriter bindings object entry obj entryobj bindings entry set entryset map entry entry map entry entry obj entryobj int erp interp string entry get key getkey entry get value getvalue execute python code int erp interp exec script string scriptstring to string tostring throwable script exception scriptexception script exception scriptexception failure running python script init cause initcause thread current thread currentthread set context class loader setcontextclassloader old class loader oldclassloader
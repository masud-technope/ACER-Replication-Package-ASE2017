licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl engine extension java print writer printwriter java string writer stringwriter java util map javax script bindings javax servlet servlet org apache commons lang string utils stringutils org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling api servlets servlet resolver servletresolver org apache sling scripting sightly sightly exception sightlyexception org apache sling scripting sightly extension runtime extension runtimeextension org apache sling scripting sightly impl plugin include plugin includeplugin org apache sling scripting sightly impl utils render utils renderutils org apache sling scripting sightly render render context rendercontext org slf logger org slf logger factory loggerfactory component service runtime extension runtimeextension properties property runtime extension runtimeextension include plugin includeplugin function include runtime extension includeruntimeextension runtime support including resources sightly script code data sly include details check implementation link org apache sling scripting sightly impl plugin include plugin includeplugin runtime extension runtimeextension logger log logger factory loggerfactory get logger getlogger include runtime extension includeruntimeextension string option file file string option prepend path prepend path prependpath string option append path append path appendpath override object call render context rendercontext render context rendercontext object arguments extension utils extensionutils check argument count checkargumentcount include plugin includeplugin function arguments string original path originalpath render utils renderutils to string tostring arguments map options map arguments string path build path buildpath original path originalpath options string writer stringwriter output string writer stringwriter bindings bindings render context rendercontext get bindings getbindings include script includescript bindings path print writer printwriter output output to string tostring string build path buildpath string path map options string utils stringutils is empty isempty path path string options option file string utils stringutils is empty isempty path string prepend path prependpath string options option prepend path string append path appendpath string options option append path string utils stringutils is not empty isnotempty prepend path prependpath path prepend path prependpath path string utils stringutils is not empty isnotempty append path appendpath path path append path appendpath path include script includescript bindings bindings string script print writer printwriter string utils stringutils is empty isempty script sightly exception sightlyexception path data sly include empty log debug attempting include script script sling script helper slingscripthelper sling script helper slingscripthelper sling script helper slingscripthelper bindings sling bindings slingbindings sling servlet resolver servletresolver servlet resolver servletresolver sling script helper slingscripthelper get service getservice servlet resolver servletresolver servlet resolver servletresolver sling http servlet request slinghttpservletrequest request sling http servlet request slinghttpservletrequest bindings sling bindings slingbindings request servlet servlet servlet resolver servletresolver resolve servlet resolveservlet request get resource getresource script servlet sling http servlet response slinghttpservletresponse response sling http servlet response slinghttpservletresponse bindings sling bindings slingbindings response print writer response wrapper printwriterresponsewrapper res wrapper reswrapper print writer response wrapper printwriterresponsewrapper response servlet service request res wrapper reswrapper exception sightly exception sightlyexception failed include script script sightly exception sightlyexception failed locate script script sightly exception sightlyexception sling servlet resolver servletresolver service unavailable failed include script
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling samples path based rtp pathbasedrtp java util regex pattern org slf logger org slf logger factory loggerfactory map path prefix based path components mapping logger log logger factory loggerfactory get logger getlogger get class getclass string path string fixed node type fixednodetype pattern node type expr nodetypeexpr resource type index resourcetypeindex string node type unstructured mapping string definition string parts definition trim split parts length illegal argument exception illegalargumentexception illegal definition definition path parts resource type index resourcetypeindex integer parse int parseint parts exception log warn invalid path mapping definition node types nodetypes separator fun parts length string builder stringbuilder string builder stringbuilder parts length append parts parts length append string expr to string tostring expr starts with startswith expr ends with endswith definition brackets regexp fixed node type fixednodetype expr expr substring expr expr substring expr length node type expr nodetypeexpr pattern compile expr brackets fixed node type fixed node type fixednodetype expr node type expr nodetypeexpr fixed node type fixednodetype node type node type expr nodetypeexpr log debug to string tostring override string to string tostring string builder stringbuilder string builder stringbuilder append mapping path append path append resource type append resource type index resourcetypeindex fixed node type fixednodetype append node type append fixed node type fixednodetype append node type regexp append node type expr nodetypeexpr to string tostring string get resource type getresourcetype string node path nodepath string node type nodetype string result path node path nodepath starts with startswith path node type matches nodetypematches node type nodetype string paths node path nodepath split paths length resource type index resourcetypeindex result paths resource type index resourcetypeindex result node type matches nodetypematches string node type nodetype fixed node type fixednodetype fixed node type fixednodetype equals node type nodetype node type expr nodetypeexpr illegal state exception illegalstateexception fixed node type fixednodetype node type expr nodetypeexpr supplied node type expr nodetypeexpr matcher node type nodetype matches
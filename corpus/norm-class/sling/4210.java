licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr resource internal helper jcr java io exception ioexception java input stream inputstream javax jcr name space registry namespaceregistry javax jcr node org apache sling api sling constants slingconstants org apache sling commons testing jcr repository test base repositorytestbase org apache sling jcr resource jcr resource constants jcrresourceconstants org junit ignore ignore jcr item resource test base jcritemresourcetestbase repository test base repositorytestbase test modified system current time millis currenttimemillis string test type text gurk string test encoding iso test data string root path rootpath node root node rootnode override set up setup exception set up setup create session get session getsession name space registry namespaceregistry nsr session get workspace getworkspace get name space registry getnamespaceregistry nsr register name space registernamespace sling constants slingconstants name space namespace prefix jcr resource constants jcrresourceconstants sling name space namespace uri exception root path rootpath test system current time millis currenttimemillis root node rootnode get session getsession get root node getrootnode add node addnode root path rootpath substring unstructured get session getsession save override tear down teardown exception root node rootnode root node rootnode remove get session getsession save tear down teardown assert equals assertequals expected input stream inputstream actual io exception ioexception actual fail resource stream expected assert equals assertequals actual read actual close io exception ioexception grok
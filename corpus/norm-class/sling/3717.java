licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler optimization java util stack org apache sling scripting sightly impl compiler expression expression node expressionnode org apache sling scripting sightly impl compiler expression node boolean constant booleanconstant org apache sling scripting sightly impl compiler expression node null literal nullliteral org apache sling scripting sightly impl compiler expression node numeric constant numericconstant org apache sling scripting sightly impl compiler expression node string constant stringconstant org apache sling scripting sightly impl compiler ris command org apache sling scripting sightly impl compiler ris command stream commandstream org apache sling scripting sightly impl compiler ris command conditional org apache sling scripting sightly impl compiler ris command variable binding variablebinding org apache sling scripting sightly impl compiler util stream emitter visitor emittervisitor org apache sling scripting sightly impl compiler util stream push stream pushstream org apache sling scripting sightly impl compiler util stream streams org apache sling scripting sightly impl compiler visitor stateful range ignore statefulrangeignore org apache sling scripting sightly impl compiler visitor stateful visitor statefulvisitor org apache sling scripting sightly impl compiler visitor tracking visitor trackingvisitor org apache sling scripting sightly impl utils render utils renderutils removes code condition als conditionals pro ven proven fail good idea optimization running link org apache sling scripting sightly impl compiler optimization reduce constant folding constantfolding dead code removal deadcoderemoval tracking visitor trackingvisitor emitter visitor emittervisitor merged constant folding accuracy stream transformer streamtransformer transformer stream transformer streamtransformer override command stream commandstream transform command stream commandstream in stream instream stateful visitor statefulvisitor visitor stateful visitor statefulvisitor dead code removal deadcoderemoval dcr dead code removal deadcoderemoval visitor get control getcontrol visitor initialize with initializewith dcr streams connect in stream instream dcr get output stream getoutputstream visitor dcr get output stream getoutputstream push stream pushstream out stream outstream push stream pushstream stateful visitor statefulvisitor state control statecontrol state control statecontrol stack keep conditional end stack keepconditionalendstack stack dead code removal deadcoderemoval stateful visitor statefulvisitor state control statecontrol state control statecontrol state control statecontrol state control statecontrol override visit variable binding variablebinding start variable binding start variablebindingstart truth value truthvalue decode constant bool decodeconstantbool variable binding start variablebindingstart get expression getexpression tracker push variable pushvariable variable binding start variablebindingstart get variable name getvariablename truth value truthvalue out stream outstream emit variable binding start variablebindingstart override visit conditional start conditional start conditionalstart truth value truthvalue tracker conditional start conditionalstart get variable getvariable keep conditional end keepconditionalend truth value truthvalue variable keep conditional end keepconditionalend out stream outstream emit conditional start conditionalstart conditional remove keep conditional end keepconditionalend truth value truthvalue conditional start conditionalstart get expected truth value getexpectedtruthvalue conditional fail ignore conditional state control statecontrol push stateful range ignore statefulrangeignore state control statecontrol conditional start conditional keep conditional end stack keepconditionalendstack push keep conditional end keepconditionalend override visit conditional conditional end conditionalend keep conditional end stack keepconditionalendstack pop out stream outstream emit conditional end conditionalend override push stream pushstream get output stream getoutputstream out stream outstream override assign default assigndefault command command override on command oncommand command command out stream outstream emit command decode constant bool decodeconstantbool expression node expressionnode node node string constant stringconstant render utils renderutils to boolean toboolean string constant stringconstant node get text gettext node boolean constant booleanconstant boolean constant booleanconstant node get value getvalue node numeric constant numericconstant render utils renderutils to boolean toboolean numeric constant numericconstant node get value getvalue node null literal nullliteral render utils renderutils to boolean toboolean
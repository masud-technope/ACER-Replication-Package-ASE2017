licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling org junit assert equals assertequals org junit assert not null assertnotnull org junit fail java file java util locale java util resource bundle resourcebundle javax inject inject javax jcr node javax jcr repository exception repositoryexception javax jcr session org apache sling resource bundle provider resourcebundleprovider org apache sling impl message org apache sling jcr api sling repository slingrepository org apache sling pax exam paxexam util sling pax options slingpaxoptions org junit org junit org junit test org junit runner run with runwith org ops pax exam core options coreoptions org ops pax exam option org ops pax exam junit pax exam paxexam org ops pax exam options default composite option defaultcompositeoption org ops pax exam spi reactors exam reactor strategy examreactorstrategy org ops pax exam spi reactors per class perclass org slf logger org slf logger factory loggerfactory run with runwith pax exam paxexam exam reactor strategy examreactorstrategy per class perclass resource bundle provider t resourcebundleproviderit logger log logger factory loggerfactory get logger getlogger get class getclass retry timeout msec string msg key foo inject sling repository slingrepository repository inject resource bundle provider resourcebundleprovider resource bundle provider resourcebundleprovider session session node n root nroot node de root deroot node fr root frroot org ops pax exam configuration option config file this projects bundle thisprojectsbundle file system get property getproperty bundle file bundle file string launchpad version launchpadversion system get property getproperty sling launchpad version launchpad version default composite option defaultcompositeoption sling pax options slingpaxoptions default launchpad options defaultlaunchpadoptions launchpad version launchpadversion core options coreoptions provision core options coreoptions bundle this projects bundle thisprojectsbundle touri to string tostring get options getoptions retry retry timeout msec timeoutmsec timeout system current time millis currenttimemillis timeout msec timeoutmsec throwable last t lastt system current time millis currenttimemillis timeout last t lastt exec throwable last t lastt last t lastt fail failed timeout msec timeoutmsec msec last t lastt exec exception test test dummy system err println tests disabled setup repository exception repositoryexception session repository login administrative loginadministrative node root session get root node getrootnode node libs root has node hasnode libs libs root get node getnode libs libs root add node addnode libs unstructured n root nroot libs add node addnode unstructured de root deroot add language node addlanguagenode n root nroot fr root frroot add language node addlanguagenode n root nroot session save cleanup repository exception repositoryexception n root nroot remove session save session log out logout node add language node addlanguagenode node parent string language repository exception repositoryexception node child parent add node addnode language folder child add mixin addmixin mix language child set property setproperty jcr language language child assert messages assertmessages string de message demessage string fr message frmessage retry retry timeout msec exec resource bundle resourcebundle resource bundle provider resourcebundleprovider get resource bundle getresourcebundle locale german assert not null assertnotnull assert equals assertequals de message demessage get string getstring msg key resource bundle resourcebundle resource bundle provider resourcebundleprovider get resource bundle getresourcebundle locale french assert not null assertnotnull assert equals assertequals fr message frmessage get string getstring msg key test test repository name testrepositoryname string repository get descriptor getdescriptor jcr repository log info test running repository repository get descriptor getdescriptor jcr repository version module system get property getproperty sling modes oak assert equals assertequals apache jackrabbit oak assert equals assertequals jackrabbit test test changes detection testchangesdetection repository exception repositoryexception message msg key message add de root deroot message msg key message add fr root frroot session save assert messages assertmessages message message message msg key changed add de root deroot message msg key changed add fr root frroot session save assert messages assertmessages changed changed
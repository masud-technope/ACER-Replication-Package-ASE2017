licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer core impl tasks org apache sling installer api tasks installation context installationcontext org apache sling installer api tasks resource state resourcestate org apache sling installer api tasks task resource group taskresourcegroup org osgi framework bundle org osgi framework constants org osgi framework version org osgi service start level startlevel start level startlevel update bundle registered resource registeredresource creates bundle start task bundlestarttask restart bundle active update bundle update task bundleupdatetask abstract bundle task abstractbundletask string bundle update order bundle update task bundleupdatetask task resource group taskresourcegroup task support tasksupport creator creator check bundle active bundle active bundle starting lazy activation policy bundle fragment considered active is bundle active isbundleactive bundle bundle util bundleutil is bundle active isbundleactive start level startlevel start level service startlevelservice get start level getstartlevel start level service startlevelservice is bundle persist ently started isbundlepersistentlystarted org apache sling installer api tasks install task installtask execute org apache sling installer api tasks installation context installationcontext execute installation context installationcontext ctx string symbolic name symbolicname string get resource getresource get attribute getattribute constants bundle symbolicname bundle bundle info bundleinfo get matching bundle getmatchingbundle get bundle context getbundlecontext symbolic name symbolicname get logger getlogger debug bundle update symbolic name symbolicname set finished state setfinishedstate resource state resourcestate version new version newversion version string get resource getresource get attribute getattribute constants bundle version update version snapshot snapshot version current version currentversion version string get headers getheaders constants bundle version snapshot bundle info bundleinfo is snapshot issnapshot new version newversion current version currentversion equals new version newversion snapshot todo isn checked task creator get logger getlogger debug version installed snapshot ignoring update get resource getresource set finished state setfinishedstate resource state resourcestate installed bundle active update restart updated sequence reactivate is bundle active isbundleactive fragment bundle get state getstate bundle active bundle starting update bundle update get resource getresource get input stream getinputstream ctx log updated bundle resource get resource getresource start level handling update avoid starting bundle update start level startlevel start level service startlevelservice get start level getstartlevel start level service startlevelservice new start level newstartlevel get bundle start level getbundlestartlevel old start level oldstartlevel start level service startlevelservice get bundle start level getbundlestartlevel new start level newstartlevel old start level oldstartlevel new start level newstartlevel start level service startlevelservice set bundle start level setbundlestartlevel new start level newstartlevel ctx log start level bundle new start level newstartlevel reactivate bundle util bundleutil is system bundle fragment issystembundlefragment set finished state setfinishedstate resource state resourcestate installed ctx add task to current cycle addtasktocurrentcycle system bundle update task systembundleupdatetask get task support gettasksupport bundle util bundleutil get fragment host header getfragmenthostheader fragment refresh host string fragment host header fragmenthostheader bundle util bundleutil get fragment host header getfragmenthostheader get logger getlogger debug refresh bundle host bundle bundle get bundle context getbundlecontext get bundles getbundles fragment host header fragmenthostheader equals bundle get symbolic name getsymbolicname get logger getlogger debug host bundle refresh bundle refresh bundles task refreshbundlestask mark bundle for refresh markbundleforrefresh ctx get task support gettasksupport bundle set finished state setfinishedstate resource state resourcestate installed bundle util bundleutil mark bundle start markbundlestart get resource getresource refresh bundles task refreshbundlestask mark bundle for refresh markbundleforrefresh ctx get task support gettasksupport ctx add task to current cycle addtasktocurrentcycle bundle start task bundlestarttask get resource group getresourcegroup get bundle id getbundleid get task support gettasksupport set finished state setfinishedstate resource state resourcestate installed exception get logger getlogger info removing failing update task unable retry set finished state setfinishedstate resource state resourcestate override string get sort key getsortkey bundle update order get sort able start level getsortablestartlevel get resource getresource get entity id getentityid bundle get bundle getbundle string symbolic name symbolicname string get resource getresource get attribute getattribute constants bundle symbolicname bundle info bundleinfo get matching bundle getmatchingbundle get bundle context getbundlecontext symbolic name symbolicname
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi org junit assert equals assertequals java util array list arraylist java util dictionary java util list org apache commons lang object utils objectutils org apache sling testing mock osgi junit osgi context osgicontext org junit org junit rule org junit test org osgi service event event org osgi service event event admin eventadmin org osgi service event event constants eventconstants org osgi service event event handler eventhandler google common collect immutable list immutablelist google common collect immutable map immutablemap mock event admin test mockeventadmintest string topic sample sample topic string topic sample sample topic string topic sample sample string topic topic event event sample event topic sample dictionary string event event sample event topic sample dictionary string event event event topic dictionary string rule osgi context osgicontext context osgi context osgicontext dummy event handler dummyeventhandler event handler eventhandler dummy event handler dummyeventhandler event handler eventhandler dummy event handler dummyeventhandler event handler sample all eventhandlersampleall dummy event handler dummyeventhandler event handler all eventhandlerall set up setup event handler eventhandler dummy event handler dummyeventhandler context register service registerservice event handler eventhandler dummy event handler dummyeventhandler immutable map immutablemap string object event constants eventconstants event topic topic sample event handler eventhandler dummy event handler dummyeventhandler context register service registerservice event handler eventhandler dummy event handler dummyeventhandler immutable map immutablemap string object event constants eventconstants event topic string topic sample topic sample event handler sample all eventhandlersampleall dummy event handler dummyeventhandler context register service registerservice event handler eventhandler dummy event handler dummyeventhandler immutable map immutablemap string object event constants eventconstants event topic topic sample event handler all eventhandlerall dummy event handler dummyeventhandler context register service registerservice event handler eventhandler dummy event handler dummyeventhandler test test send event testsendevent sample event admin eventadmin event admin eventadmin context get service getservice event admin eventadmin event admin eventadmin send event sendevent event sample assert equals assertequals immutable list immutablelist event sample event handler eventhandler get received events getreceivedevents assert equals assertequals immutable list immutablelist event sample event handler eventhandler get received events getreceivedevents assert equals assertequals immutable list immutablelist event sample event handler sample all eventhandlersampleall get received events getreceivedevents assert equals assertequals immutable list immutablelist event sample event handler all eventhandlerall get received events getreceivedevents test test send event testsendevent sample event admin eventadmin event admin eventadmin context get service getservice event admin eventadmin event admin eventadmin send event sendevent event sample assert equals assertequals immutable list immutablelist event handler eventhandler get received events getreceivedevents assert equals assertequals immutable list immutablelist event sample event handler eventhandler get received events getreceivedevents assert equals assertequals immutable list immutablelist event sample event handler sample all eventhandlersampleall get received events getreceivedevents assert equals assertequals immutable list immutablelist event sample event handler all eventhandlerall get received events getreceivedevents test test send event testsendevent event admin eventadmin event admin eventadmin context get service getservice event admin eventadmin event admin eventadmin send event sendevent event assert equals assertequals immutable list immutablelist event handler eventhandler get received events getreceivedevents assert equals assertequals immutable list immutablelist event handler eventhandler get received events getreceivedevents assert equals assertequals immutable list immutablelist event handler sample all eventhandlersampleall get received events getreceivedevents assert equals assertequals immutable list immutablelist event event handler all eventhandlerall get received events getreceivedevents test timeout test post events testpostevents event admin eventadmin event admin eventadmin context get service getservice event admin eventadmin event admin eventadmin post event postevent event sample event admin eventadmin post event postevent event wait result expected timeout expected result expectedresult expected result expectedresult expected result expectedresult object utils objectutils equals immutable list immutablelist event handler eventhandler get received events getreceivedevents object utils objectutils equals immutable list immutablelist event sample event handler eventhandler get received events getreceivedevents object utils objectutils equals immutable list immutablelist event sample event handler sample all eventhandlersampleall get received events getreceivedevents object utils objectutils equals immutable list immutablelist event sample event event handler all eventhandlerall get received events getreceivedevents dummy event handler dummyeventhandler event handler eventhandler list event received events receivedevents array list arraylist event override handle event handleevent event event received events receivedevents add event list event get received events getreceivedevents immutable list immutablelist copy of copyof received events receivedevents
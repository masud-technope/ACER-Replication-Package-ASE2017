licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling super imposing superimposing impl org junit org mockito mockito java util iterator java util no such element exception nosuchelementexception org apache sling api resource resource org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner run with runwith mockito unit runner mockitojunitrunner super imposing resource iterator test superimposingresourceiteratortest mock iterator resource original resource iterator originalresourceiterator mock resource original resource originalresource mock resource original resource originalresource super imposing resource provider impl superimposingresourceproviderimpl super imposing resource provider superimposingresourceprovider string original path root path string superimposed path root path set up setup super imposing resource provider superimposingresourceprovider super imposing resource provider impl superimposingresourceproviderimpl superimposed path original path original resource originalresource get path getpath then return thenreturn original path node original resource originalresource get path getpath then return thenreturn original path node test test empty testempty original resource iterator originalresourceiterator has next hasnext then return thenreturn iterator resource under test undertest super imposing resource iterator superimposingresourceiterator super imposing resource provider superimposingresourceprovider original resource iterator originalresourceiterator assert false assertfalse under test undertest has next hasnext test expected no such element exception nosuchelementexception test empty get next testemptygetnext original resource iterator originalresourceiterator has next hasnext then return thenreturn iterator resource under test undertest super imposing resource iterator superimposingresourceiterator super imposing resource provider superimposingresourceprovider original resource iterator originalresourceiterator under test undertest test expected unsupported operation exception unsupportedoperationexception test remove testremove iterator resource under test undertest super imposing resource iterator superimposingresourceiterator super imposing resource provider superimposingresourceprovider original resource iterator originalresourceiterator under test undertest remove test test with testwith elements original resource iterator originalresourceiterator has next hasnext then return thenreturn original resource iterator originalresourceiterator then return thenreturn original resource originalresource original resource originalresource iterator resource under test undertest super imposing resource iterator superimposingresourceiterator super imposing resource provider superimposingresourceprovider original resource iterator originalresourceiterator assert true asserttrue under test undertest has next hasnext assert equals assertequals superimposed path node under test undertest get path getpath assert true asserttrue under test undertest has next hasnext assert equals assertequals superimposed path node under test undertest get path getpath assert false assertfalse under test undertest has next hasnext
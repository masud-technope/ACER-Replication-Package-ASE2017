licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven sling start slingstart java file java file writer filewriter java io exception ioexception java writer java util map org apache commons file utils fileutils org apache commons io utils ioutils org apache maven maven execution exception mavenexecutionexception org apache maven artifact artifact org apache maven artifact handler manager artifact handler manager artifacthandlermanager org apache maven artifact resolver artifact resolver artifactresolver org apache maven plugin mojo execution exception mojoexecutionexception org apache maven plugin mojo failure exception mojofailureexception org apache maven plugins annotations component org apache maven plugins annotations mojo org apache maven plugins annotations resolution scope resolutionscope org apache sling provisioning model artifact group artifactgroup org apache sling provisioning model feature org apache sling provisioning model model org apache sling provisioning model model utility modelutility org apache sling provisioning model run mode runmode org apache sling provisioning model model writer modelwriter create mvn repository structure artifacts mojo repository requires dependency resolution requiresdependencyresolution resolution scope resolutionscope test thread safe threadsafe repository mojo repositorymojo abstract sling start mojo abstractslingstartmojo string dir artifacts component artifact handler manager artifacthandlermanager artifact handler manager artifacthandlermanager artifacts remote repository component artifact resolver artifactresolver resolver override execute mojo execution exception mojoexecutionexception mojo failure exception mojofailureexception get log getlog info creating repository file artifact dir artifactdir file project get build getbuild get directory getdirectory dir artifacts model model project helper projecthelper get effective model geteffectivemodel project get resolver options getresolveroptions feature feature model get features getfeatures run mode runmode run mode runmode feature get run modes getrunmodes artifact group artifactgroup group run mode runmode get artifact groups getartifactgroups org apache sling provisioning model artifact artifact group copy artifact to repository copyartifacttorepository artifact artifact dir artifactdir base artifact org apache sling provisioning model artifact base artifact baseartifact model utils modelutils find base artifact findbaseartifact model org apache sling provisioning model artifact app artifact appartifact org apache sling provisioning model artifact base artifact baseartifact get group id getgroupid base artifact baseartifact get artifact id getartifactid base artifact baseartifact get version getversion build constants buildconstants class ifier classifier app build constants buildconstants type jar copy artifact to repository copyartifacttorepository app artifact appartifact artifact dir artifactdir maven execution exception mavenexecutionexception mee mojo execution exception mojoexecutionexception mee get message getmessage mee get cause getcause models model raw model rawmodel project helper projecthelper get raw model getrawmodel project use pom variables usepomvariables raw model rawmodel model utility modelutility apply variables applyvariables raw model rawmodel pom variable resolver pomvariableresolver project use pom dependencies usepomdependencies raw model rawmodel model utility modelutility apply artifact versions applyartifactversions raw model rawmodel pom artifact version resolver pomartifactversionresolver project allow unresolved pom dependencies allowunresolvedpomdependencies string class ifier classifier project get pack aging getpackaging equals build constants buildconstants packaging partial system build constants buildconstants packaging partial system org apache sling provisioning model artifact raw model artifact rawmodelartifact org apache sling provisioning model artifact project get group id getgroupid project get artifact id getartifactid project get version getversion class ifier classifier build constants buildconstants type txt file raw model file rawmodelfile get repository file getrepositoryfile artifact dir artifactdir raw model artifact rawmodelartifact writer writer writer file writer filewriter raw model file rawmodelfile model writer modelwriter write writer raw model rawmodel io exception ioexception mojo execution exception mojoexecutionexception unable write model raw model file rawmodelfile io utils ioutils close quietly closequietly writer map entry string string entry project helper projecthelper get dependency model getdependencymodel project entry set entryset org apache sling provisioning model artifact model dep artifact modeldepartifact org apache sling provisioning model artifact from mvn url frommvnurl entry get key getkey string model class ifier modelclassifier model dep artifact modeldepartifact get type gettype equals build constants buildconstants packaging sling start slingstart build constants buildconstants packaging partial system model dep artifact modeldepartifact get class ifier getclassifier org apache sling provisioning model artifact model artifact modelartifact org apache sling provisioning model artifact model dep artifact modeldepartifact get group id getgroupid model dep artifact modeldepartifact get artifact id getartifactid model dep artifact modeldepartifact get version getversion model class ifier modelclassifier build constants buildconstants type txt file model file modelfile get repository file getrepositoryfile artifact dir artifactdir model artifact modelartifact writer model writer modelwriter model writer modelwriter file writer filewriter model file modelfile model writer modelwriter write entry get value getvalue io exception ioexception mojo execution exception mojoexecutionexception unable write model model file modelfile io utils ioutils close quietly closequietly model writer modelwriter file repository directory param artifact dir artifactdir base artifact directory param artifact artifact file file get repository file getrepositoryfile file artifact dir artifactdir org apache sling provisioning model artifact artifact string builder stringbuilder artifact name builder artifactnamebuilder string builder stringbuilder artifact name builder artifactnamebuilder append artifact get artifact id getartifactid artifact name builder artifactnamebuilder append artifact name builder artifactnamebuilder append artifact get version getversion artifact get class ifier getclassifier artifact get class ifier getclassifier length artifact name builder artifactnamebuilder append artifact name builder artifactnamebuilder append artifact get class ifier getclassifier artifact name builder artifactnamebuilder append artifact name builder artifactnamebuilder append artifact get type gettype string artifact name artifactname artifact name builder artifactnamebuilder to string tostring string builder stringbuilder string builder stringbuilder append artifact get group id getgroupid replace file separator char separatorchar append file separator char separatorchar append artifact get artifact id getartifactid append file separator char separatorchar append artifact get version getversion append file separator char separatorchar append artifact name artifactname string dest path destpath to string tostring file artifact file artifactfile file artifact dir artifactdir dest path destpath artifact file artifactfile get parent file getparentfile mkdirs artifact file artifactfile copy single artifact repository mojo execution exception mojoexecutionexception copy artifact to repository copyartifacttorepository org apache sling provisioning model artifact artifact file artifact dir artifactdir mojo execution exception mojoexecutionexception file artifact file artifactfile get repository file getrepositoryfile artifact dir artifactdir artifact artifact source model utils modelutils get artifact getartifact project maven session mavensession artifact handler manager artifacthandlermanager resolver artifact get group id getgroupid artifact get artifact id getartifactid artifact get version getversion artifact get type gettype artifact get class ifier getclassifier file utils fileutils copy file copyfile source get file getfile artifact file artifactfile io exception ioexception mojo execution exception mojoexecutionexception unable copy artifact source get file getfile
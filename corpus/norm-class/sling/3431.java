licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling context org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull org junit assert same assertsame org junit assert true asserttrue java util javax inject inject org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api scripting sling bindings slingbindings org apache sling commons mime mime type service mimetypeservice org apache sling models annotations model org apache sling settings sling settings service slingsettingsservice org apache sling testing mock sling resource resolver type resourceresolvertype org apache sling testing mock sling junit sling context slingcontext org apache sling testing mock sling loader content loader contentloader org apache sling testing mock sling services mock mime type service mockmimetypeservice org junit org junit rule org junit test abstract sling context impl test abstractslingcontextimpltest rule sling context slingcontext context sling context slingcontext get resource resolver type getresourceresolvertype set up setup exception context add models for package addmodelsforpackage org apache sling testing mock sling context content loader contentloader content loader contentloader context load content loader contentloader json json samples content json content sample resource resolver type resourceresolvertype get resource resolver type getresourceresolvertype test test context objects testcontextobjects assert not null assertnotnull context component context componentcontext assert not null assertnotnull context bundle context bundlecontext assert not null assertnotnull context resource resolver resourceresolver assert not null assertnotnull context request assert not null assertnotnull context request path info requestpathinfo assert not null assertnotnull context response assert not null assertnotnull context sling script helper slingscripthelper test test sling bindings testslingbindings sling bindings slingbindings bindings sling bindings slingbindings context request get attribute getattribute sling bindings slingbindings get name getname assert not null assertnotnull bindings assert same assertsame context request bindings sling bindings slingbindings request assert same assertsame context response bindings sling bindings slingbindings response assert same assertsame context sling script helper slingscripthelper bindings sling bindings slingbindings sling test test set current resource testsetcurrentresource context current resource currentresource content sample jcr content par colctrl assert equals assertequals content sample jcr content par colctrl context current resource currentresource get path getpath context current resource currentresource context resource resolver resourceresolver get resource getresource content sample jcr content par assert equals assertequals content sample jcr content par context current resource currentresource get path getpath context current resource currentresource resource assert null assertnull context request get resource getresource context current resource currentresource string assert null assertnull context request get resource getresource test expected illegal argument exception illegalargumentexception test set current resource non existing testsetcurrentresourcenonexisting context current resource currentresource existing test test sling models request attribute testslingmodelsrequestattribute context request set attribute setattribute prop my value myvalue request attribute model requestattributemodel model context request adapt to adaptto request attribute model requestattributemodel assert equals assertequals my value myvalue model get prop getprop test test sling models osgi service testslingmodelsosgiservice context register service registerservice mock mime type service mockmimetypeservice osgi service model osgiservicemodel model context resource resolver resourceresolver adapt to adaptto osgi service model osgiservicemodel assert not null assertnotnull model get mime type service getmimetypeservice assert equals assertequals text html model get mime type service getmimetypeservice get mime type getmimetype html test test sling models invalid adapt testslingmodelsinvalidadapt osgi service model osgiservicemodel model context request adapt to adaptto osgi service model osgiservicemodel assert null assertnull model test test adapt to interface testadapttointerface context request set attribute setattribute prop my value myvalue service interface serviceinterface model context request adapt to adaptto service interface serviceinterface assert not null assertnotnull model assert equals assertequals my value myvalue model get prop value getpropvalue test test run modes testrunmodes sling settings service slingsettingsservice sling settings slingsettings context get service getservice sling settings service slingsettingsservice assert equals assertequals sling context impl slingcontextimpl modes sling settings slingsettings get run modes getrunmodes context run mode runmode mode mode string new run modes newrunmodes sling settings slingsettings get run modes getrunmodes assert equals assertequals new run modes newrunmodes size assert true asserttrue new run modes newrunmodes mode assert true asserttrue new run modes newrunmodes mode test test resource resolver factory testresourceresolverfactory resource resolver factory resourceresolverfactory factory context get service getservice resource resolver factory resourceresolverfactory assert not null assertnotnull factory model adaptables sling http servlet request slinghttpservletrequest request attribute model requestattributemodel inject string get prop getprop model adaptables resource resolver resourceresolver osgi service model osgiservicemodel inject mime type service mimetypeservice get mime type service getmimetypeservice service interface serviceinterface string get prop value getpropvalue model adaptables sling http servlet request slinghttpservletrequest adapters service interface serviceinterface service interface impl serviceinterfaceimpl service interface serviceinterface inject string prop override string get prop value getpropvalue prop
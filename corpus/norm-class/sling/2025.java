licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest java byte array input stream bytearrayinputstream java net url java util hash map hashmap java util hash set hashset java util map java util properties java util org apache sling commons testing int egration integration http test base httptestbase org apache sling servlets post sling post constants slingpostconstants test org apache sling api include servlet org apache sling api include resource request attributes link script helper scripthelper include functionality request attribute test requestattributetest http test base httptestbase string node url a nodeurla string node url b nodeurlb string script path scriptpath string to delete todelete hash set hashset string override set up setup exception set up setup create test nodes path specific collisions string url http base url get class getclass get simple name getsimplename system current time millis currenttimemillis sling post constants slingpostconstants create suffix map string string props hash map hashmap string string create test nodes store paths props text texta props jcr primary type primarytype unstructured node url a nodeurla test client testclient create node createnode url props props clear props text text b textb props jcr primary type primarytype unstructured node url b nodeurlb test client testclient create node createnode node url a nodeurla child props main rendering script apps repository script path scriptpath apps unstructured test client testclient mkdirs webdav base url script path scriptpath to delete todelete add upload test script uploadtestscript script path scriptpath request attribute test esp txt esp to delete todelete add upload test script uploadtestscript script path scriptpath request attribute test sel esp sel txt esp to delete todelete add upload test script uploadtestscript script path scriptpath request attribute test sel esp sel txt esp to delete todelete add upload test script uploadtestscript script path scriptpath request attribute test sel esp sel txt esp override tear down teardown exception string script to delete todelete test client testclient delete script tear down teardown test request attribute testrequestattribute exception string content get content getcontent node url a nodeurla txt content type plain properties props properties props load byte array input stream bytearrayinputstream content get bytes getbytes iso string url node url a nodeurla get path getpath string url node url b nodeurlb get path getpath txt esp assert equals assertequals request servlet props servlet assert equals assertequals request resource props resource assert equals assertequals request servlet props servlet assert equals assertequals request resource props resource sel txt esp included txt esp assert equals assertequals request servlet apps unstructured txt esp props servlet assert equals assertequals request resource props resource assert equals assertequals request servlet apps unstructured txt esp props servlet assert equals assertequals request resource props resource sel txt esp included txt esp assert equals assertequals request servlet apps unstructured txt esp props servlet assert equals assertequals request resource props resource sel txt esp included sel txt esp assert equals assertequals request servlet apps unstructured sel txt esp props servlet assert equals assertequals request resource props resource
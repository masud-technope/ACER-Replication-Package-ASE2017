licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock jcr org junit assert equals assertequals org junit assert false assertfalse org junit assert same assertsame javax jcr item not found exception itemnotfoundexception javax jcr node javax jcr property javax jcr repository exception repositoryexception javax jcr session org junit org junit test abstract item test abstractitemtest session session node root node rootnode node node property prop node node set up setup repository exception repositoryexception session mock jcr mockjcr new session newsession root node rootnode session get root node getrootnode node root node rootnode add node addnode node prop node set property setproperty prop node node add node addnode node test test get name testgetname repository exception repositoryexception assert equals assertequals node node get name getname assert equals assertequals prop prop get name getname test test get parent testgetparent repository exception repositoryexception assert same assertsame root node rootnode node get parent getparent assert same assertsame node prop get parent getparent assert same assertsame node node get parent getparent test test get ancestor testgetancestor repository exception repositoryexception assert same assertsame node node get ancestor getancestor assert same assertsame node node get ancestor getancestor assert same assertsame root node rootnode node get ancestor getancestor test expected item not found exception itemnotfoundexception test get ancestor negative testgetancestornegative repository exception repositoryexception assert same assertsame node node get ancestor getancestor test expected item not found exception itemnotfoundexception test get ancestor too deep testgetancestortoodeep repository exception repositoryexception node get ancestor getancestor test test get depth testgetdepth repository exception repositoryexception assert equals assertequals node get depth getdepth assert equals assertequals node get depth getdepth assert equals assertequals root node rootnode get depth getdepth test test modified new testmodifiednew methods assert false assertfalse node is modified ismodified assert false assertfalse node is new isnew
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr davex impl servlets java io exception ioexception java net url javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling core authentication support authenticationsupport org osgi service http http context httpcontext auth http context authhttpcontext http context httpcontext root path dav ex davex servlet registered extract workspace request url workspace segment path path string dav root davroot handles security handle security handlesecurity http servlet request httpservletrequest http servlet response httpservletresponse authentication support authenticationsupport authenticator auth http context authhttpcontext string dav root davroot dav root davroot dav root davroot set authentication support setauthenticationsupport authentication support authenticationsupport authenticator http context httpcontext returns mime type resolved code mime type service mimetypeservice code code code service string get mime type getmimetype string returns code code resources link main servlet mainservlet url get resource getresource string authenticate request code sling authenticator slingauthenticator code authenticator repository missing method returns code code sends service unavailable status client handle security handlesecurity http servlet request httpservletrequest request http servlet response httpservletresponse response io exception ioexception authentication support authenticationsupport local authenticator localauthenticator authenticator local authenticator localauthenticator string wsp get workspace getworkspace request get path info getpathinfo wsp request set attribute setattribute workspace wsp local authenticator localauthenticator handle security handlesecurity request response send service unavailable flush ensure delivery response send error senderror http servlet response httpservletresponse service unavailable response flush buffer flushbuffer terminate request string get workspace getworkspace string uri path uripath uri path uripath uri path uripath starts with startswith dav root davroot cut root start dav root davroot length root start uri path uripath length uri path uripath char at charat start start expected slash don care root trailing slash start uri path uripath length uri path uripath index of indexof start start uri path uripath substring start uri path uripath substring start
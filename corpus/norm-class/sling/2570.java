licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing resource resolver resourceresolver org junit assert array equals assertarrayequals org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue java byte array input stream bytearrayinputstream java io exception ioexception java input stream inputstream java util calendar java util java util list org apache commons io utils ioutils org apache jackrabbit util iso org apache sling api resource login exception loginexception org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org junit org junit test google common collect immutable map immutablemap google common collect lists simple write read resource values test sling crud api create test data sling crud resource resolver test slingcrudresourceresolvertest string string string string array string integer calendar calendar calendar get instance getinstance binary string unstructured unstructured resource resolver resourceresolver resource resolver resourceresolver resource test root testroot set up setup io exception ioexception login exception loginexception resource resolver resourceresolver mock resource resolver factory mockresourceresolverfactory get resource resolver getresourceresolver resource root resource resolver resourceresolver get resource getresource test root testroot resource resolver resourceresolver create root test value map valuemap empty resource node resource resolver resourceresolver create test root testroot node immutable map immutablemap string object builder mock resource mockresource jcr primarytype unstructured string prop stringprop string string array prop stringarrayprop string array int eger prop integerprop integer double prop doubleprop boolean prop booleanprop date prop dateprop calendar prop calendarprop calendar binary prop binaryprop byte array input stream bytearrayinputstream binary build resource resolver resourceresolver create node node immutable map immutablemap string object builder string prop stringprop string build resource resolver resourceresolver create node node value map valuemap empty resource resolver resourceresolver commit test test simple properties testsimpleproperties io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node assert not null assertnotnull resource assert equals assertequals node resource get name getname value map valuemap props resource util resourceutil get value map getvaluemap resource assert equals assertequals string props string prop stringprop string assert array equals assertarrayequals string array props string array prop stringarrayprop string assert equals assertequals integer integer props int eger prop integerprop integer assert equals assertequals props double prop doubleprop assert equals assertequals props boolean prop booleanprop test test simple properties testsimpleproperties deep path access deeppathaccess io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath assert not null assertnotnull resource assert equals assertequals test root testroot get name getname resource get name getname value map valuemap props resource util resourceutil get value map getvaluemap resource assert equals assertequals string props node string prop stringprop string assert array equals assertarrayequals string array props node string array prop stringarrayprop string assert equals assertequals integer integer props node int eger prop integerprop integer assert equals assertequals props node double prop doubleprop assert equals assertequals props node boolean prop booleanprop assert equals assertequals string props node node string prop stringprop string assert true asserttrue string props contains key containskey node string prop stringprop assert false assertfalse string props contains key containskey node unknown prop unknownprop test test date property testdateproperty io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap props resource util resourceutil get value map getvaluemap resource assert equals assertequals props date prop dateprop test test date property to calendar testdatepropertytocalendar io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap props resource util resourceutil get value map getvaluemap resource calendar calendar value calendarvalue props date prop dateprop calendar assert not null assertnotnull calendar value calendarvalue assert equals assertequals calendar value calendarvalue get time gettime test test calendar property testcalendarproperty io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap props resource util resourceutil get value map getvaluemap resource assert equals assertequals calendar get time gettime props calendar prop calendarprop calendar get time gettime test test calendar property to date testcalendarpropertytodate io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap props resource util resourceutil get value map getvaluemap resource date value datevalue props calendar prop calendarprop assert not null assertnotnull date value datevalue assert equals assertequals calendar get time gettime date value datevalue test test string to calendar conversion teststringtocalendarconversion io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node modifiable value map modifiablevaluemap mod props modprops resource adapt to adaptto modifiable value map modifiablevaluemap mod props modprops dateiso string iso format calendar resource resolver resourceresolver commit resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap props resource util resourceutil get value map getvaluemap resource assert equals assertequals calendar get time gettime props calendar prop calendarprop calendar get time gettime test test list children testlistchildren io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node list resource children lists new array list newarraylist resource list children listchildren assert equals assertequals children size assert equals assertequals node children get name getname assert equals assertequals node children get name getname test test list children testlistchildren root node rootnode io exception ioexception resource resource resource resolver resourceresolver get resource getresource list resource children lists new array list newarraylist resource list children listchildren assert equals assertequals children size assert equals assertequals test children get name getname children lists new array list newarraylist resource get children getchildren assert equals assertequals children size assert equals assertequals test children get name getname test test binary data testbinarydata io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node resource binary prop resource binarypropresource resource get child getchild binary prop binaryprop input stream inputstream binary prop resource binarypropresource adapt to adaptto input stream inputstream data from resource datafromresource io utils ioutils to byte array tobytearray close assert array equals assertarrayequals binary data from resource datafromresource read time ensure original input stream returned time syntax input stream inputstream resource util resourceutil get value map getvaluemap resource binary prop binaryprop input stream inputstream data from resource datafromresource io utils ioutils to byte array tobytearray close assert array equals assertarrayequals binary data from resource datafromresource test test primary type resource type testprimarytyperesourcetype resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node assert equals assertequals unstructured resource get resource type getresourcetype test test normalize path testnormalizepath resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node assert equals assertequals node resource get name getname resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node node node assert equals assertequals node resource get name getname test test get resource null path testgetresourcenullpath resource resource resource resolver resourceresolver get resource getresource string assert null assertnull resource test test get converted to null type testgetconvertedtonulltype resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node object prop value propvalue resource util resourceutil get value map getvaluemap resource string prop stringprop assert equals assertequals string prop value propvalue test test get root resource by null path testgetrootresourcebynullpath resource root resource rootresource resource resolver resourceresolver resolve string assert not null assertnotnull root resource rootresource assert equals assertequals root resource rootresource get path getpath
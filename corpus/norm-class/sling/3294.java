licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp java file java i o exception ioexception java net malformedurlexception java net url java util enumeration java util hash map hashmap java util map javax servlet generic servlet genericservlet javax servlet servlet javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet request httpservletrequest javax servlet http http servlet request wrapper httpservletrequestwrapper javax servlet http http servlet response httpservletresponse org apache sling launchpad base shared launcher org apache sling launchpad base shared loader org apache sling launchpad base shared not ifiable notifiable org apache sling launchpad base shared shared constants sharedconstants code sling servlet slingservlet code ext ernally externally visible web application launcher sling refer full description sling launchpad sling wiki full description logging servlet context servletcontext log methods secondary artifact class ifier classifier webapp main servlet registered servlet container href http cwiki apache org sling sling launchpad html sling launchpad suppress warnings suppresswarnings serial sling servlet slingservlet generic servlet genericservlet not ifiable notifiable number times sling started number chosen deliberately gen erally generally sling start smoothly bundles sling start counted max start failures system property define prefix sling generated sling servlet context path to sling home toslinghome string string sling prefix sling prefix prefix sling generated sling servlet context path link sling prefix sling prefix system property to sling home toslinghome string string sling prefix sling map string string properties string sling home slinghome loader loader servlet sling field managed link start sling startsling string method sling process started thread starting sling startingsling counter count number failed start ups startups number expires sling servlet slingservlet start sling start failure counter startfailurecounter generic servlet genericservlet launches sl ing sling framework sling setting derived configuration ser lvet context serlvetcontext sling started started request override init properties collect init parameters collectinitparameters sling home slinghome get sling home getslinghome sling home slinghome start sling startsling log apache sling started sling defined log servlet get servlet name getservletname initialized override string get servlet info getservletinfo sling sling get servlet info getservletinfo sling launchpad proxy sling started request for warded forwarded started sling framework sling framework started startup failures request for warded forwarded sling method returns startup failure counter exc eeded exceeded service unavailable sling framework starting request framework start terminated response status framework started separate thread override service servlet request servletrequest req servlet response servletresponse res servlet exception servletexception i o exception ioexception delegate request registered delegatee servlet servlet delegatee sling delegatee check problem atic problematic application servers web sphere websphere path info servlet path wrong sling http servlet request httpservletrequest request http servlet request httpservletrequest req request get path info getpathinfo request get servlet path getservletpath request get servlet path getservletpath ends with endswith jsp req http servlet request wrapper httpservletrequestwrapper request override string get path info getpathinfo request get servlet path getservletpath override string get servlet path getservletpath delegatee service req res start failure counter startfailurecounter max start failures startup retries fail http servlet response httpservletresponse res send error senderror http servlet response httpservletresponse start sling startsling req http servlet response httpservletresponse res send error senderror http servlet response httpservletresponse service unavailable apache sling starting sling framework web application stopped override destroy sling sling destroy clear fields sling home slinghome loader sling not ifiable notifiable framework stopped calling code bundle code system bundle terminates sling standalone application note request coming web application running sling restart override stopped method called framework stopped calling system bundle framework stopped shutdown hook init ated initated shutdown ensure reference framework removed remove shutdown hook don care fails log apache sling stopped clear reference framework sling framework stopped intent res tarted restarted calling code bundle update code methods system bundle code input stream inputstream code copied temporary file place existing launcher jar file param update file updatefile temporary file replace existing launcher jar file code code existing launcher jar override updated file update file updatefile drop sling reference restart starting sling startingsling sling ensure clean loader cleanupvm update file updatefile log res tarting restarting framework apache sling start sling startsling url log res tarting restarting framework update update file updatefile start sling startsling update file updatefile touri tourl malformedurlexception mue log url file update file updatefile mue update file updatefile delete internal sling starting thread started start sling background start sling startsling servlet request servletrequest request starting sling startingsling sling home slinghome get sling home getslinghome http servlet request httpservletrequest request thread starter thread runnable override start sling startsling sling starter slingstarter system current time millis currenttimemillis starter set daemon setdaemon starter start called startup thread init iated initiated request link init install launcher jar start sling start sling startsling file launchpad home launchpadhome get launchpad home getlaunchpadhome sling home slinghome loader loader launchpad home launchpadhome override info string msg log msg illegal argument exception illegalargumentexception iae startup failure startupfailure iae url launcher jar launcherjar get servlet context getservletcontext get resource getresource shared constants sharedconstants sling launcher jar launcher jar launcherjar launcher jar launcherjar get servlet context getservletcontext get resource getresource web inf shared constants sharedconstants sling launcher jar start sling startsling launcher jar launcherjar malformedurlexception mue log load apache sling launcher jar shared constants sharedconstants sling launcher jar mue installs launcher jar url code code launches sling launcher start sling startsling url launcher jar launcherjar sling log apache sling started starting sling startingsling log apache sling started thread starting sling startingsling starting sling startingsling thread current thread currentthread launcher jar launcherjar log checking launcher jar sling home slinghome loader install launcher jar installlauncherjar launcher jar launcherjar i o exception ioexception ioe startup failure startupfailure failed installing launcher jar launcherjar ioe log launcher jar install object object object loader load launcher loadlauncher shared constants sharedconstants sling servlet illegal argument exception illegalargumentexception iae startup failure startupfailure load launcher servlet shared constants sharedconstants sling servlet iae object servlet servlet sling servlet object sling launcher launcher sling launcher slinglauncher launcher sling sling launcher slinglauncher set not ifiable setnotifiable sling launcher slinglauncher set command line setcommandline properties sling launcher slinglauncher set sling home setslinghome sling home slinghome log starting launcher sling init get servlet config getservletconfig sling sling start failure counter startfailurecounter log startup completed servlet exception servletexception startup failure startupfailure reset starting flag starting sling startingsling define sling parameter implementing algorithm e algorithme defined wiki find setting algorithm servlet parameter code sling code context code sling code derived servlet context servletcontext path code code returned method code sling code parameter servlet container provide servlet api code servlet context servletcontext get context path getcontextpath code method code request code parameter code code code sling code retrieved returned absolute path param args command arguments sling code code retrieved string get sling home getslinghome http servlet request httpservletrequest request string source access config context log sling source servlet config parameter string sling home slinghome get servlet config getservletconfig get init parameter getinitparameter shared constants sharedconstants sling sling home slinghome source servlet parameter sling servlet context parameter sling home slinghome get servlet context getservletcontext get init parameter getinitparameter shared constants sharedconstants sling sling home slinghome source servlet context parameter sling servlet context path servlet api string context path contextpath get servlet context getservletcontext get context path getcontextpath sling home slinghome to sling home toslinghome context path contextpath source servlet context path no such method error nosuchmethoderror nsme request string context path contextpath request get context path getcontextpath sling home slinghome to sling home toslinghome context path contextpath source servlet context path request log servlet context servletcontext path delaying startup request substitute references absolute sling home slinghome subst vars substvars sling home slinghome sling home slinghome file sling home slinghome get absolute path getabsolutepath log setting sling sling home slinghome source sling home slinghome define sling launchpad parameter implementing algorithm e algorithme defined wiki find setting algorithm servlet init parameter code sling launchpad code path resolved code sling home slinghome code folder relative servlet context init parameter code sling launchpad code path resolved code sling home slinghome code folder relative code sling code absolute path returned file stored code sling launchpad code property link properties map param sling home slinghome absolute path sling folder aka code sling code absolute code file code indicating launchpad folder file get launchpad home getlaunchpadhome string sling home slinghome string launchpad home param launchpadhomeparam properties shared constants sharedconstants sling launchpad launchpad home param launchpadhomeparam launchpad home param launchpadhomeparam length properties shared constants sharedconstants sling launchpad sling home slinghome file sling home slinghome file launchpad home launchpadhome file launchpad home param launchpadhomeparam launchpad home launchpadhome is absolute isabsolute launchpad home launchpadhome file sling home slinghome launchpad home param launchpadhomeparam properties shared constants sharedconstants sling launchpad launchpad home launchpadhome get absolute path getabsolutepath launchpad home launchpadhome converts servlet context path path sling property servlet context path converted simple replacing slash characters path under scores underscores single under score underscore root context path empty result prefixed code sling prefix code system property prefix code sling code param context path contextpath string to sling home toslinghome string context path contextpath string prefix system get property getproperty sling prefix sling prefix prefix ends with endswith prefix prefix concat context path contextpath context path contextpath length prefix prefix context path contextpath replace startup failure startupfailure string message throwable ensure message message message failed start apache sling sling home slinghome unwrap real get cause getcause get cause getcause log inc rease increase failure counter log message start failure counter startfailurecounter ensure starting sling startingsling fields starting sling startingsling property file variable subst ition substition support map string string collect init parameters collectinitparameters hash map hashmap string string props hash map hashmap string string enumeration string get servlet context getservletcontext get init parameter names getinitparameternames has more elements hasmoreelements string key next element nextelement props key get servlet context getservletcontext get init parameter getinitparameter key enumeration string get servlet config getservletconfig get init parameter names getinitparameternames has more elements hasmoreelements string key next element nextelement props key get servlet config getservletconfig get init parameter getinitparameter key props starting delimiter variable names string delim start delimiter variable names string delim string subst vars substvars string val val delim start subst vars substvars val properties val method performs property variable substitution syntax prop prop ref ers refers configuration property system property property substituted variable placeholder multiple variable place holders placeholders exist nested variable place holders placeholders substituted configuration properties override system properties note verbatim copy named method launchpad base impl sling sync param val string perform property substitution param current key currentkey key property eval uated evaluated detect cycles param cycle map cyclemap map variable references detect nested cycles param config props configprops configuration properties string system property substitution illegal argument exception illegalargumentexception syntax error property placeholder syntax recursive variable reference string subst vars substvars string val string current key currentkey map string string cycle map cyclemap map string string config props configprops illegal argument exception illegalargumentexception detecting cycles invocation cycle map cyclemap cycle map cyclemap hash map hashmap string string current key cycle map cycle map cyclemap current key currentkey current key currentkey assume leading foo bar middle baz trailing find variable delimiter correspond deepest nested variable placeholder stop delim stopdelim val index of indexof delim find matching starting variable delimiter looping find start delimiter greater delimiter start delim startdelim val index of indexof delim start stop delim stopdelim idx val index of indexof delim start start delim startdelim delim start length idx idx stop delim stopdelim idx stop delim stopdelim start delim startdelim idx existing start delim startdelim stop delim stopdelim val exception start delim startdelim start delim startdelim stop delim stopdelim stop delim stopdelim illegal argument exception illegalargumentexception delimiter start delimiter val point variable placeholder perform variable substitution start delimiter indices extract deepest nested variable placeholder string variable val substring start delim startdelim delim start length stop delim stopdelim verify recursive variable reference cycle map cyclemap variable illegal argument exception illegalargumentexception recursive variable reference variable deepest nested variable placeholder configuration properties string subst value substvalue config props configprops config props configprops variable subst value substvalue ignore unknown property values subst value substvalue system get property getproperty variable remove variable cycle map don situations recursive reference cycle map cyclemap remove variable append leading characters substituted variable trailing characters val val substring start delim startdelim subst value substvalue val substring stop delim stopdelim delim length val length perform substitution substitutions val subst vars substvars val current key currentkey cycle map cyclemap config props configprops val
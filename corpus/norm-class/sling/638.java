licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl request java i o exception ioexception java print writer printwriter java util array list arraylist java util dictionary java util hashtable java util iterator java util linked hash map linkedhashmap java util list java util concurrent atomic atomic long atomiclong java util regex pattern javax servlet servlet exception servletexception javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling api sling http servlet request slinghttpservletrequest org apache sling api request request progress tracker requestprogresstracker org apache sling api request response util responseutil org apache sling api resource resource util resourceutil org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration felix osg i osgi console plugin displays info requests processed sling info requests logs testing exp laining explaining suppress warnings suppresswarnings serial request history console plugin requesthistoryconsoleplugin string label requests string string clear clear plugin instance service registration serviceregistration service registration serviceregistration store d stored req uests requests count request history console plugin requesthistoryconsoleplugin record request recordrequest sling http servlet request slinghttpservletrequest instance instance add request addrequest init plugin initplugin bundle context bundlecontext context max requests maxrequests list pattern store patterns storepatterns instance plugin tmp plugin max requests maxrequests store patterns storepatterns dictionary string object props hashtable string object props constants service description web console plugin display sling requests props constants service vendor apache software foundation props constants service pid tmp get class getclass get name getname props felix webconsole label label props felix webconsole title requests props felix webconsole category sling service registration serviceregistration context register service registerservice javax servlet servlet tmp props instance tmp destroy plugin destroyplugin instance service registration serviceregistration service registration serviceregistration unregister service registration serviceregistration instance plugin http servlet httpservlet request info map requestinfomap requests list pattern store patterns storepatterns plugin max requests maxrequests list pattern store patterns storepatterns requests max requests maxrequests request info map requestinfomap max requests maxrequests store patterns storepatterns store patterns storepatterns deactivate service registration serviceregistration service registration serviceregistration unregister service registration serviceregistration clear add request addrequest sling http servlet request slinghttpservletrequest requests string request path requestpath get path info getpathinfo accept store patterns storepatterns store patterns storepatterns size accept pattern pattern store patterns storepatterns pattern matcher request path requestpath matches accept accept requests request info requestinfo info request info requestinfo requests info get key getkey info clear requests requests requests clear string get links table getlinkstable string current request index currentrequestindex list string links array list arraylist string requests requests request info requestinfo info requests values string key response util responseutil escape xml escapexml info get key getkey is current iscurrent info get key getkey equals current request index currentrequestindex string builder stringbuilder string builder stringbuilder append span style white space pre text align font size append string format key append span append href label key is current iscurrent append append response util responseutil escape xml escapexml info get label getlabel is current iscurrent append append links add to string tostring n cols ncols links size n cols ncols links add nbsp string builder stringbuilder tbl string builder stringbuilder tbl append table nicetable widget links is empty isempty tbl append requests recorded string str links n cols ncols tbl append tbl append tbl append str tbl append tbl append tbl append table tbl to string tostring override do get doget http servlet request httpservletrequest req http servlet response httpservletresponse resp servlet exception servletexception i o exception ioexception select request display request info requestinfo info string key req get parameter getparameter key requests requests info requests key print writer printwriter resp get writer getwriter requests println statline highlight recorded requests size requests max requests get max size getmaxsize println statline highlight request recording disabled println div widget header corner top button group buttongroup println span style left margin left requests span println form method post input type hidden clear clear input type sub mit submit clear corner form println div println get links table getlinkstable key println info println table nicetable widget links requests println the ad thead println printf widget header request request progress tracker requestprogresstracker info key response util responseutil escape xml escapexml info get method getmethod response util responseutil escape xml escapexml info get path info getpathinfo response util responseutil escape xml escapexml info get user getuser println println the ad thead println tbody request progress tracker info println iterator string info get tracker gettracker get messages getmessages print pre has next hasnext print response util responseutil escape xml escapexml println pre println tbody table override do post dopost http servlet request httpservletrequest req http servlet response httpservletresponse resp i o exception ioexception req get parameter getparameter clear clear resp send redirect sendredirect req getrequesturi request info requestinfo atomic long atomiclong request counter requestcounter atomic long atomiclong string key string method string path info pathinfo string user request progress tracker requestprogresstracker tracker request info requestinfo sling http servlet request slinghttpservletrequest request key string value of valueof request counter requestcounter increment and get incrementandget method request get method getmethod path info pathinfo request get path info getpathinfo user request get remote user getremoteuser tracker request get request progress tracker getrequestprogresstracker string get key getkey key string get method getmethod method string get path info getpathinfo path info pathinfo string get user getuser user string get label getlabel string builder stringbuilder string builder stringbuilder append get method getmethod append string path get path info getpathinfo path path length append resource util resourceutil get name getname get path info getpathinfo append to string tostring request progress tracker requestprogresstracker get tracker gettracker tracker request info map requestinfomap linked hash map linkedhashmap string request info requestinfo max size maxsize request info map requestinfomap max size maxsize max size maxsize max size maxsize override remove eldest entry removeeldestentry java util map entry string request info requestinfo eldest size max size maxsize get max size getmaxsize max size maxsize
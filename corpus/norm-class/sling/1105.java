licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven sling start slingstart java file java file input stream fileinputstream java io exception ioexception java util map java util jar manifest org apache commons io utils ioutils org apache maven plugin mojo execution exception mojoexecutionexception org apache maven plugin mojo failure exception mojofailureexception org apache maven plugins annotations component org apache maven plugins annotations lifecycle p has e lifecyclephase org apache maven plugins annotations mojo org apache maven plugins annotations resolution scope resolutionscope org code haus codehaus plexus archiver jar jar archiver jararchiver initialize sling application project extra cting extracting bundles correct locations mojo default p has e defaultphase lifecycle p has e lifecyclephase pre int egration integration test requires dependency resolution requiresdependencyresolution resolution scope resolutionscope test thread safe threadsafe package mojo packagemojo abstract sling start mojo abstractslingstartmojo string excludes manifest string meta inf manifest jar archiver component role org code haus codehaus plexus archiver archiver hint jar jar archiver jararchiver jar archiver jararchiver override execute mojo execution exception mojoexecutionexception mojo failure exception mojofailureexception suppress warnings suppresswarnings unchecked map string file global contents map globalcontentsmap map string file project get context value getcontextvalue build constants buildconstants context global package standalone app packagestandaloneapp global contents map globalcontentsmap package webapp packagewebapp global contents map globalcontentsmap package standalone app packagestandaloneapp map string file global contents map globalcontentsmap mojo execution exception mojoexecutionexception get log getlog info packaging standalone jar file build directory builddirectory file project get build getbuild get directory getdirectory suppress warnings suppresswarnings unchecked map string file contents map contentsmap map string file project get context value getcontextvalue build constants buildconstants context standalone file build output directory buildoutputdirectory file project get build getbuild get output directory getoutputdirectory file manifest file manifestfile file build output directory buildoutputdirectory meta inf manifest file input stream fileinputstream fis fis file input stream fileinputstream manifest file manifestfile manifest manifest fis file output file outputfile file build directory builddirectory project get artifact id getartifactid project get version getversion jar jar archiver helper jararchiverhelper helper jar archiver helper jararchiverhelper jar archiver jararchiver project output file outputfile helper add directory adddirectory build output directory buildoutputdirectory excludes manifest helper add artifacts addartifacts global contents map globalcontentsmap helper add artifacts addartifacts contents map contentsmap helper create archive createarchive build constants buildconstants packaging sling start slingstart equals project get packaging getpackaging project get artifact getartifact set file setfile output file outputfile project helper projecthelper attach artifact attachartifact project build constants buildconstants type jar build constants buildconstants class ifier classifier app output file outputfile io exception ioexception ioe mojo execution exception mojoexecutionexception unable create standalone jar ioe io utils ioutils close quietly closequietly fis package webapp packagewebapp map string file global contents map globalcontentsmap mojo execution exception mojoexecutionexception create webapp createwebapp get log getlog info packaging webapp file build directory builddirectory file project get build getbuild get directory getdirectory suppress warnings suppresswarnings unchecked map string file contents map contentsmap map string file project get context value getcontextvalue build constants buildconstants context webapp file build output directory buildoutputdirectory file build directory builddirectory build constants buildconstants webapp out dir outdir file output file outputfile file build directory builddirectory project get artifact id getartifactid project get version getversion war jar archiver helper jararchiverhelper helper jar archiver helper jararchiverhelper jar archiver jararchiver project output file outputfile helper add directory adddirectory build output directory buildoutputdirectory excludes manifest helper add artifacts addartifacts global contents map globalcontentsmap web inf helper add artifacts addartifacts contents map contentsmap web inf helper create archive createarchive project helper projecthelper attach artifact attachartifact project build constants buildconstants type war build constants buildconstants class ifier classifier webapp output file outputfile
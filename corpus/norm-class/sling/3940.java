licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling api wrappers java util hash map hashmap java util hash set hashset java util map java util org apache commons collect ions collections collection utils collectionutils org apache sling api resource value map valuemap org junit org junit test composite value map test compositevaluemaptest test property names string prop unchanged unchanged prop unchangedprop string prop overridden overridden prop overriddenprop string prop type new type prop newtypeprop string prop added prop addedprop string prop exist does not exist prop doesnotexistprop resource property values string prop unchanged property prop unchanged string prop overridden property prop overridden string prop type extended resource property values string prop extended overridden extended property prop overridden prop extended type string prop extended extended property prop map string object default props defaultprops get default props getdefaultprops map string object extended props extendedprops get extended props getextendedprops test test merge testmerge exception map extended node node defaults composite value map compositevaluemap value map valuemap composite value map compositevaluemap get extended props getextendedprops get default props getdefaultprops composite value map test result compositevaluemaptestresult expectations hash set hashset composite value map test result compositevaluemaptestresult expectations add composite value map test result compositevaluemaptestresult prop unchanged expectations add composite value map test result compositevaluemaptestresult prop overridden expectations add composite value map test result compositevaluemaptestresult prop type prop extended type get class getclass expectations add composite value map test result compositevaluemaptestresult prop expectations add composite value map test result compositevaluemaptestresult prop exist verify results verifyresults value map valuemap expectations test test merge no defaults testmergenodefaults exception map extended node empty composite value map compositevaluemap value map valuemap composite value map compositevaluemap get extended props getextendedprops composite value map test result compositevaluemaptestresult expectations hash set hashset composite value map test result compositevaluemaptestresult property won exist expectations add composite value map test result compositevaluemaptestresult prop unchanged expectations add composite value map test result compositevaluemaptestresult prop overridden expectations add composite value map test result compositevaluemaptestresult prop type prop extended type get class getclass expectations add composite value map test result compositevaluemaptestresult prop expectations add composite value map test result compositevaluemaptestresult prop exist verify results verifyresults value map valuemap expectations test test override testoverride exception map extended node node defaults override mode composite value map compositevaluemap value map valuemap composite value map compositevaluemap get extended props getextendedprops get default props getdefaultprops composite value map test result compositevaluemaptestresult expectations hash set hashset composite value map test result compositevaluemaptestresult expectations add composite value map test result compositevaluemaptestresult prop unchanged expectations add composite value map test result compositevaluemaptestresult prop overridden expectations add composite value map test result compositevaluemaptestresult prop type prop extended type get class getclass property won exist override expectations add composite value map test result compositevaluemaptestresult prop expectations add composite value map test result compositevaluemaptestresult prop exist verify results verifyresults value map valuemap expectations test test override no defaults testoverridenodefaults exception map extended node empty override mode composite value map compositevaluemap value map valuemap composite value map compositevaluemap get extended props getextendedprops assert true asserttrue map empty value map valuemap is empty isempty value map valuemap get default props getdefaultprops map string object default props defaultprops hash map hashmap string object default props defaultprops prop unchanged prop unchanged default props defaultprops prop overridden prop overridden default props defaultprops prop type prop type value map decorator valuemapdecorator default props defaultprops value map valuemap get extended props getextendedprops map string object default props defaultprops hash map hashmap string object default props defaultprops prop overridden prop extended overridden default props defaultprops prop type prop extended type default props defaultprops prop prop extended value map decorator valuemapdecorator default props defaultprops verify results verifyresults composite value map compositevaluemap value map valuemap composite value map test result compositevaluemaptestresult expectations map string object expected map expectedmap hash map hashmap string object expected size expectedsize composite value map test result compositevaluemaptestresult test result testresult expectations string property test result testresult property name propertyname test result testresult does not exist doesnotexist assert false assertfalse property property exist value map valuemap contains key containskey property test result testresult should be deleted shouldbedeleted assert false assertfalse property property map value map valuemap contains key containskey property assert null assertnull property property value map valuemap property assert true asserttrue property property map value map valuemap contains key containskey property expected size expectedsize test result testresult should be unchanged shouldbeunchanged assert equals assertequals property property changed test result testresult default value defaultvalue value map valuemap property expected map expectedmap property test result testresult default value defaultvalue test result testresult should be override n shouldbeoverriden assert equals assertequals property property changed test result testresult extended value extendedvalue value map valuemap property expected map expectedmap property test result testresult extended value extendedvalue test result testresult should have new type shouldhavenewtype assert true asserttrue type property property changed value map valuemap property get class getclass equals test result testresult expected new type expectednewtype expected map expectedmap property test result testresult extended value extendedvalue test result testresult should be added shouldbeadded assert equals assertequals property property test result testresult extended value extendedvalue value map valuemap property expected map expectedmap property test result testresult extended value extendedvalue assert equals assertequals map size match expected size expectedsize value map valuemap size assert equals assertequals map entries match expected map expectedmap entry set entryset value map valuemap entry set entryset assert equals assertequals map match expected map expectedmap key set keyset value map valuemap key set keyset assert true asserttrue map values match expected expected map expectedmap values value map valuemap values collection utils collectionutils is equal collection isequalcollection expected map expectedmap values value map valuemap values code composite value map test result compositevaluemaptestresult code internal helper analyze test result check retrieved map matches expected composite value map test result compositevaluemaptestresult string property name propertyname object default value defaultvalue object extended value extendedvalue should be deleted shouldbedeleted expected new type expectednewtype composite value map test result compositevaluemaptestresult string property name propertyname property name propertyname composite value map test result compositevaluemaptestresult string property name propertyname should be deleted shouldbedeleted property name propertyname should be deleted shouldbedeleted composite value map test result compositevaluemaptestresult string property name propertyname should be deleted shouldbedeleted expected new type expectednewtype property name propertyname property name propertyname default value defaultvalue default props defaultprops property name propertyname extended value extendedvalue extended props extendedprops property name propertyname should be deleted shouldbedeleted should be deleted shouldbedeleted expected new type expectednewtype expected new type expectednewtype checks changed code code changed should be unchanged shouldbeunchanged default value defaultvalue extended value extendedvalue checks overridden code code overridden should be override n shouldbeoverriden default value defaultvalue extended value extendedvalue checks type code code type should have new type shouldhavenewtype expected new type expectednewtype checks property code code property should be added shouldbeadded default value defaultvalue extended value extendedvalue checks property deleted code code property deleted should be deleted shouldbedeleted should be deleted shouldbedeleted checks property exist code code property exist does not exist doesnotexist default value defaultvalue extended value extendedvalue
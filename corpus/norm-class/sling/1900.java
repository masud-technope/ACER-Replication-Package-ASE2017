licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery oak setup org junit fail javax jcr session org apache jackrabbit oak plugins memory memory node store memorynodestore org apache jackrabbit oak spi node store nodestore org apache sling api resource resource resolver resourceresolver org apache sling discovery base commons base discovery service basediscoveryservice org apache sling discovery base commons cluster view service clusterviewservice org apache sling discovery base commons view checker viewchecker org apache sling discovery base setup modifiable test base config modifiabletestbaseconfig org apache sling discovery base setup virtual instance virtualinstance org apache sling discovery base setup virtual instance builder virtualinstancebuilder org apache sling discovery base setup mock mock factory mockfactory org apache sling discovery commons providers spi base id map service idmapservice org apache sling discovery commons providers spi base oak backlog cluster sync service oakbacklogclustersyncservice org apache sling discovery commons providers spi base repository test helper repositorytesthelper org apache sling discovery commons providers spi base sync token service synctokenservice org apache sling discovery oak oak discovery service oakdiscoveryservice org apache sling discovery oak cluster oak cluster view service oakclusterviewservice org apache sling discovery oak pinger oak view checker oakviewchecker org apache sling jcr api sling repository slingrepository org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory junit x junitx util private accessor privateaccessor oak virtual instance builder oakvirtualinstancebuilder virtual instance builder virtualinstancebuilder node store nodestore node store nodestore string path oak test config oaktestconfig config id map service idmapservice id map service idmapservice oak view checker oakviewchecker oak view checker oakviewchecker simulated lease collection simulatedleasecollection lease collection leasecollection oak backlog cluster sync service oakbacklogclustersyncservice consistency service consistencyservice sync token service synctokenservice sync token service synctokenservice simulated lease collection simulatedleasecollection get simulated lease collection getsimulatedleasecollection lease collection leasecollection override virtual instance builder virtualinstancebuilder create new repository createnewrepository exception node store nodestore memory node store memorynodestore sling repository slingrepository repository repository test helper repositorytesthelper new oak repository newoakrepository node store nodestore factory mock factory mockfactory mock resource resolver factory mockresourceresolverfactory repository lease collection leasecollection simulated lease collection simulatedleasecollection override virtual instance builder virtualinstancebuilder use repository of userepositoryof virtual instance builder virtualinstancebuilder exception oak virtual instance builder oakvirtualinstancebuilder illegal argument exception illegalargumentexception type oak virtual instance builder oakvirtualinstancebuilder oak virtual instance builder oakvirtualinstancebuilder other oak builder otheroakbuilder oak virtual instance builder oakvirtualinstancebuilder node store nodestore other oak builder otheroakbuilder node store nodestore sling repository slingrepository repository repository test helper repositorytesthelper new oak repository newoakrepository node store nodestore factory mock factory mockfactory mock resource resolver factory mockresourceresolverfactory repository lease collection leasecollection other oak builder otheroakbuilder lease collection leasecollection hooked to builder hookedtobuilder own repository ownrepository override virtual instance builder virtualinstancebuilder set path setpath string path path path override object get additional services getadditionalservices virtual instance virtualinstance instance exception id map service idmapservice get id map service getidmapservice id map service idmapservice id map service idmapservice create id map service createidmapservice id map service idmapservice id map service idmapservice create id map service createidmapservice id map service idmapservice test constructor testconstructor get config getconfig get sling settings service getslingsettingsservice get resource resolver factory getresourceresolverfactory override cluster view service clusterviewservice create cluster view service createclusterviewservice oak cluster view service oakclusterviewservice test constructor testconstructor get sling settings service getslingsettingsservice get resource resolver factory getresourceresolverfactory get id map service getidmapservice get config getconfig oak test config oaktestconfig get config getconfig config config create config createconfig config override modifiable test base config modifiabletestbaseconfig get connector config getconnectorconfig get config getconfig oak test config oaktestconfig create config createconfig oak test config oaktestconfig oak test config oaktestconfig set discovery resource path setdiscoveryresourcepath path override view checker viewchecker create view checker createviewchecker exception get oak view checker getoakviewchecker view checker viewchecker logger logger logger factory loggerfactory get logger getlogger get class getclass simulated lease simulatedlease lease simulated lease simulatedlease get resource resolver factory getresourceresolverfactory lease collection leasecollection get sling id getslingid activate component context componentcontext throwable oak view checker oakviewchecker pinger get oak view checker getoakviewchecker private accessor privateaccessor invoke pinger activate component context componentcontext object override check view checkview lease update descriptor updatedescriptor get config getconfig exception logger error update lease heartbeat and check view heartbeatandcheckview override heartbeat and check view heartbeatandcheckview descriptor updated lease update lease and descriptor updateleaseanddescriptor get config getconfig exception logger error update lease get oak view checker getoakviewchecker exception logger error ping get id map service getidmapservice is initialized isinitialized get id map service getidmapservice wait for init waitforinit fail init didn t didnt work oak view checker oakviewchecker get oak view checker getoakviewchecker exception oak view checker oakviewchecker oak view checker oakviewchecker create oak view checker createoakviewchecker oak view checker oakviewchecker oak view checker oakviewchecker create oak view checker createoakviewchecker exception oak view checker oakviewchecker test constructor testconstructor get sling settings service getslingsettingsservice get resource resolver factory getresourceresolverfactory get connector registry getconnectorregistry get announcement registry getannouncementregistry get scheduler getscheduler get config getconfig oak backlog cluster sync service oakbacklogclustersyncservice get oak backlog cluster sync service getoakbacklogclustersyncservice exception consistency service consistencyservice consistency service consistencyservice create oak backlog cluster sync service createoakbacklogclustersyncservice consistency service consistencyservice oak backlog cluster sync service oakbacklogclustersyncservice create oak backlog cluster sync service createoakbacklogclustersyncservice oak backlog cluster sync service oakbacklogclustersyncservice test constructor and activate testconstructorandactivate get config getconfig get id map service getidmapservice get sling settings service getslingsettingsservice get resource resolver factory getresourceresolverfactory sync token service synctokenservice get sync token service getsynctokenservice exception sync token service synctokenservice sync token service synctokenservice create sync token service createsynctokenservice sync token service synctokenservice sync token service synctokenservice create sync token service createsynctokenservice sync token service synctokenservice test constructor and activate testconstructorandactivate get config getconfig get resource resolver factory getresourceresolverfactory get sling settings service getslingsettingsservice override base discovery service basediscoveryservice create discovery service creatediscoveryservice exception oak discovery service oakdiscoveryservice test constructor testconstructor get sling settings service getslingsettingsservice get announcement registry getannouncementregistry get connector registry getconnectorregistry get cluster view service getclusterviewservice get config getconfig get oak view checker getoakviewchecker get scheduler getscheduler get id map service getidmapservice get oak backlog cluster sync service getoakbacklogclustersyncservice get sync token service getsynctokenservice get resource resolver factory getresourceresolverfactory override virtual instance virtualinstance build exception path own repository ownrepository set path setpath discovery impl get config getconfig set discovery resource path setdiscoveryresourcepath discovery impl oak virtual instance builder oakvirtualinstancebuilder oak virtual instance builder oakvirtualinstancebuilder hooked to builder hookedtobuilder path path get config getconfig set discovery resource path setdiscoveryresourcepath path path illegal state exception illegalstateexception path path starts with startswith illegal state exception illegalstateexception path start path path ends with endswith illegal state exception illegalstateexception path path virtual instance virtualinstance result virtual instance virtualinstance result override reset repo resetrepo exception lease collection leasecollection reset resource resolver resourceresolver session factory get administrative resource resolver getadministrativeresourceresolver adapt to adaptto session remove item removeitem save log out logout exception refresh log out logout
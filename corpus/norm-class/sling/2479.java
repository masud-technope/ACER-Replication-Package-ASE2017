licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling loader org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull java io exception ioexception java input stream inputstream org apache commons io utils ioutils org apache jackrabbit jcr constants jcrconstants org apache sling api resource resource org apache sling api resource resource util resourceutil org apache sling testing mock sling resource resolver type resourceresolvertype org apache sling testing mock sling junit sling context slingcontext org junit org junit org junit rule org junit test org junit runner run with runwith org mockito run ners runners mockito unit runner mockitojunitrunner run with runwith mockito unit runner mockitojunitrunner abstract content loader binary test abstractcontentloaderbinarytest sample image file size filesize rule sling context slingcontext context sling context slingcontext get resource resolver type getresourceresolvertype resource resolver type resourceresolvertype get resource resolver type getresourceresolvertype string path set up setup path context unique root uniqueroot content tear down teardown exception content loader contentloader committed assert false assertfalse context resource resolver resourceresolver has changes haschanges test test binary file testbinaryfile io exception ioexception context load binary file binaryfile sample image gif path sample image gif resource file resource fileresource context resource resolver resourceresolver get resource getresource path sample image gif assert sample image file size assertsampleimagefilesize file resource fileresource assert mime type assertmimetype file resource fileresource get child getchild jcr constants jcrconstants jcr content image gif test test binary file with mime type testbinaryfilewithmimetype io exception ioexception context load binary file binaryfile sample image gif path sample image gif mime test resource file resource fileresource context resource resolver resourceresolver get resource getresource path sample image gif assert sample image file size assertsampleimagefilesize file resource fileresource assert mime type assertmimetype file resource fileresource get child getchild jcr constants jcrconstants jcr content mime test test test binary resource testbinaryresource io exception ioexception context load binary resource binaryresource sample image gif path sample image gif resource file resource fileresource context resource resolver resourceresolver get resource getresource path sample image gif assert sample image file size assertsampleimagefilesize file resource fileresource assert mime type assertmimetype file resource fileresource image gif test test binary resource with mime type testbinaryresourcewithmimetype io exception ioexception context load binary resource binaryresource sample image gif path sample image gif mime test resource file resource fileresource context resource resolver resourceresolver get resource getresource path sample image gif assert sample image file size assertsampleimagefilesize file resource fileresource assert mime type assertmimetype file resource fileresource mime test assert sample image file size assertsampleimagefilesize resource resource io exception ioexception input stream inputstream resource adapt to adaptto input stream inputstream assert not null assertnotnull input steam inputsteam resource get path getpath binary data binarydata io utils ioutils to byte array tobytearray assert equals assertequals sample image file size filesize binary data binarydata length assert mime type assertmimetype resource resource string mime type mimetype assert not null assertnotnull resource assert equals assertequals mime type mimetype resource util resourceutil get value map getvaluemap resource jcr constants jcrconstants jcr mime type mimetype string
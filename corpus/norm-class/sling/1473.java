licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler el parser elparser current token token cur token curtoken el node elnode nodes expr el node elnode nodes el expr elexpr current expression expression string expression type escape text escapebs string reserved words reservedwords div empty mod el parser elparser string expression expression expression expr el node elnode nodes parse expression param expression input expression string form parse d parsed expression el node elnode nodes el node elnode nodes parse string expression el parser elparser parser el parser elparser expression parser has next char hasnextchar string text parser skip until l skipuntilel text length parser expr add el node elnode text text el node elnode nodes elexpr parser parseel elexpr is empty isempty parser expr add el node elnode root elexpr parser type parser expr parse expression string el node elnode nodes representing expression todo parsed functions text strings rewritten full parser el node elnode nodes parseel string buffer stringbuffer buf string buffer stringbuffer el expr elexpr el node elnode nodes has next hasnext cur token curtoken next token nexttoken cur token curtoken cur token curtoken to char tochar buf append cur token curtoken to char tochar output buffer buf length el expr elexpr add el node elnode el text eltext buf to string tostring parse function parsefunction el expr elexpr add el node elnode el text eltext cur token curtoken to string tostring buf length el expr elexpr add el node elnode el text eltext buf to string tostring el expr elexpr parse function function inv okation functioninvokation identifier identifier expression expression note don parse arguments parse function parsefunction cur token curtoken iselreserved cur token curtoken to string tostring function prefix string function string cur token curtoken to string tostring mark get index getindex has next hasnext token next token nexttoken to char tochar has next hasnext token next token nexttoken to string tostring has next hasnext next token nexttoken to char tochar el expr elexpr add el node elnode function set index setindex mark test reserved word iselreserved string reserved words reservedwords length result reserved words reservedwords compare to compareto result result skip expression reached allowing escape sequences text string expression string skip until l skipuntilel prev string buffer stringbuffer buf string buffer stringbuffer has next char hasnextchar next char nextchar prev prev buf append escapebs prev buf append prev prev type prev prev buf append prev prev prev buf append prev buf append prev buf to string tostring has next hasnext skip spaces skipspaces has next char hasnextchar token next token nexttoken skip spaces skipspaces has next char hasnextchar next char nextchar character is java identifier start isjavaidentifierstart string buffer stringbuffer buf string buffer stringbuffer buf append peek char peekchar character is java identifier part isjavaidentifierpart buf append next char nextchar buf to string tostring parse quoted chars parsequotedchars parse string single quotes allowing escape sequences token parse quoted chars parsequotedchars quote string buffer stringbuffer buf string buffer stringbuffer buf append quote has next char hasnextchar next char nextchar next char nextchar quote buf append quote buf append buf append quoted string quotedstring buf to string tostring skip spaces skipspaces has next char hasnextchar expression char at charat has next char hasnextchar expression length next char nextchar expression length expression char at charat peek char peekchar expression length expression char at charat get index getindex set index setindex token to char tochar string to string tostring token string string string to string tostring token to char tochar string to string tostring character to string tostring quoted string quotedstring token string quoted string quotedstring string string to string tostring get type gettype type
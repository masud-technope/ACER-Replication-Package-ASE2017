licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource merge r resourcemerger impl picker java util array list arraylist java util collections java util hash set hashset java util list java util org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling resource merge r resourcemerger impl stub resource stubresource org apache sling resource merge r resourcemerger spi merged resource picker mergedresourcepicker component org apache sling resource merge r resourcemerger picker overriding label apache sling overriding resource picker description resource picker del ivers delivers merged resources based resource type hierarchy metatype policy configuration policy configurationpolicy require service properties property merged resource picker mergedresourcepicker merge root overriding resource picker overridingresourcepicker root label root description root path merged resources property merged resource picker mergedresourcepicker read bool value boolvalue label read description specifies resources read modified property merged resource picker mergedresourcepicker traverse parent bool value boolvalue property private propertyprivate overriding resource picker overridingresourcepicker merged resource picker mergedresourcepicker string root mnt override list resource pick resources pickresources resource resolver resourceresolver resolver string relative path relativepath resource related resource relatedresource todo method opt imised optimised leveraging related resource relatedresource merging resource picker mergingresourcepicker string abs path abspath relative path relativepath list resource resources array list arraylist resource string roots hash set hashset string resource current target currenttarget resolver get resource getresource abs path abspath current target currenttarget current target currenttarget stub resource stubresource resolver abs path abspath resources add current target currenttarget current target currenttarget inheritance root info inheritancerootinfo info inheritance root info inheritancerootinfo find inheritance root findinheritanceroot current target currenttarget info info resource current target currenttarget resource inheritance root resource inheritancerootresource info resource string path relative to inheritance root pathrelativetoinheritanceroot info get path relative to inheritance root getpathrelativetoinheritanceroot string super type supertype inheritance root resource inheritancerootresource get resource super type getresourcesupertype super type supertype roots inheritance root resource inheritancerootresource get path getpath avoid inheritance loops current target currenttarget string super type child path supertypechildpath super type supertype path relative to inheritance root pathrelativetoinheritanceroot resource super type resource supertyperesource resolver get resource getresource super type child path supertypechildpath super type resource supertyperesource current target currenttarget super type resource supertyperesource current target currenttarget stub resource stubresource resolver super type child path supertypechildpath resources add current target currenttarget roots add inheritance root resource inheritancerootresource get path getpath collections reverse resources resources override list resource pick resources pickresources resource resolver resourceresolver resolver string relative path relativepath pick resources pickresources resolver relative path relativepath find inheritance root findinheritanceroot resource target inheritance root info inheritancerootinfo info string super type supertype target get resource super type getresourcesupertype super type supertype info resource target resource parent target get parent getparent parent info add level addlevel target get name getname find inheritance root findinheritanceroot parent info inheritance root deal missing resources inheritance root info inheritancerootinfo resource resource string builder stringbuilder path relative to inheritance root pathrelativetoinheritanceroot string builder stringbuilder string get path relative to inheritance root getpathrelativetoinheritanceroot path relative to inheritance root pathrelativetoinheritanceroot to string tostring add level addlevel string path relative to inheritance root pathrelativetoinheritanceroot insert insert
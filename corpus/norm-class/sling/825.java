licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr resource internal java serializable java util array list arraylist java util hash map hashmap java util hash set hashset java util list java util map java util javax jcr node javax jcr repository exception repositoryexception javax jcr node type nodetype node type nodetype org apache jackrabbit util text org apache sling api resource persistable value map persistablevaluemap org apache sling api resource value map valuemap org apache sling jcr resource jcr modifiable property map jcrmodifiablepropertymap org apache sling jcr resource jcr property map jcrpropertymap org apache sling jcr resource jcr resource util jcrresourceutil jcr modifiable property map test jcrmodifiablepropertymaptest jcr property map test jcrpropertymaptest string root path rootpath node root node rootnode override set up setup exception set up setup root path rootpath test system current time millis currenttimemillis root node rootnode get session getsession get root node getrootnode add node addnode root path rootpath substring unstructured map string object values initial set initialset map entry string object entry values entry set entryset jcr resource util jcrresourceutil set property setproperty root node rootnode entry get key getkey to string tostring entry get value getvalue session save override tear down teardown exception root node rootnode root node rootnode remove session save tear down teardown map string object initial set initialset map string object values hash map hashmap string object values string test values values bool values test put testput exception root node rootnode get session getsession refresh persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode assert contains assertcontains pvm initial set initialset assert null assertnull pvm values check pvm pvm string overwrite map string object currently stored currentlystored initial set initialset currently stored currentlystored currently stored currentlystored string overwrite assert contains assertcontains pvm currently stored currentlystored pvm save assert contains assertcontains pvm currently stored currentlystored persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode assert contains assertcontains pvm currently stored currentlystored test reset testreset exception root node rootnode get session getsession refresh persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode assert contains assertcontains pvm initial set initialset assert null assertnull pvm values check pvm pvm string overwrite map string object currently stored currentlystored initial set initialset currently stored currentlystored currently stored currentlystored string overwrite assert contains assertcontains pvm currently stored currentlystored pvm reset assert contains assertcontains pvm initial set initialset persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode assert contains assertcontains pvm initial set initialset test serializable testserializable exception root node rootnode get session getsession refresh persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode assert contains assertcontains pvm initial set initialset assert null assertnull pvm serializable object list string strings array list arraylist string strings add strings add pvm strings check list suppress warnings suppresswarnings unchecked list string strings list string pvm assert equals assertequals strings strings pvm save persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode check list suppress warnings suppresswarnings unchecked list string strings list string pvm serializable assert equals assertequals strings strings test exceptions testexceptions exception root node rootnode get session getsession refresh persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap root node rootnode pvm fail key null pointer exception nullpointerexception iae pvm fail null pointer exception nullpointerexception iae pvm pvm fail serializable illegal argument exception illegalargumentexception iae string get mixin node types getmixinnodetypes node node repository exception repositoryexception string mixin types mixintypes hash set hashset string node type nodetype mixin node type mixinnodetype node get mixin node types getmixinnodetypes mixin types mixintypes add mixin node type mixinnodetype get name getname mixin types mixintypes test mixins testmixins exception root node rootnode get session getsession refresh node test node testnode root node rootnode add node addnode test mixins testmixins system current time millis currenttimemillis test node testnode get session getsession save persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap test node testnode string types pvm jcr mixin types mixintypes string string ex node types exnodetypes get mixin node types getmixinnodetypes test node testnode assert equals assertequals ex node types exnodetypes size types types length types string types assert true asserttrue ex node types exnodetypes string new types newtypes string types length system arraycopy types new types newtypes types length new types newtypes types length mix reference able referenceable pvm jcr mixin types mixintypes new types newtypes pvm jcr mixin types mixintypes mix reference able referenceable pvm save string new node types newnodetypes get mixin node types getmixinnodetypes test node testnode assert equals assertequals new node types newnodetypes size ex node types exnodetypes size string test path string string string string title string prop prop string prop prop string prop jcr title test names reverse testnamesreverse exception root node rootnode get session getsession refresh node test node testnode root node rootnode add node addnode name test nametest system current time millis currenttimemillis test node testnode get session getsession save persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap test node testnode pvm test path pvm prop pvm prop pvm prop pvm save read property map value map valuemap create property map createpropertymap test node testnode assert equals assertequals test path assert equals assertequals prop assert equals assertequals prop assert equals assertequals prop read properties assert equals assertequals test node testnode get property getproperty test path get string getstring assert equals assertequals test node testnode get property getproperty prop get string getstring assert equals assertequals test node testnode get property getproperty prop get string getstring assert equals assertequals test node testnode get property getproperty prop get string getstring checks property names encoding sling test names update testnamesupdate exception root node rootnode get session getsession refresh node test node testnode root node rootnode add node addnode name update test nameupdatetest system current time millis currenttimemillis test node testnode set property setproperty prop test node testnode get session getsession save persistable value map persistablevaluemap pvm jcr modifiable property map jcrmodifiablepropertymap test node testnode pvm prop pvm jcr pvm jcr pvm save read property map value map valuemap create property map createpropertymap test node testnode assert equals assertequals prop assert equals assertequals jcr assert equals assertequals jcr read properties assert equals assertequals test node testnode get property getproperty prop get string getstring assert equals assertequals test node testnode get property getproperty jcr text escape illegal jcr chars escapeillegaljcrchars get string getstring assert equals assertequals test node testnode get property getproperty text escape illegal jcr chars escapeillegaljcrchars jcr get string getstring assert false assertfalse test node testnode has property hasproperty text escape illegal jcr chars escapeillegaljcrchars prop assert false assertfalse test node testnode has property hasproperty text escape illegal jcr chars escapeillegaljcrchars jcr jcr property map jcrpropertymap create property map createpropertymap node node jcr modifiable property map jcrmodifiablepropertymap node check map supplied values assert contains assertcontains value map valuemap map map string object values map entry string object entry values entry set entryset object stored map entry get key getkey assert equals assertequals values entry get key getkey stored
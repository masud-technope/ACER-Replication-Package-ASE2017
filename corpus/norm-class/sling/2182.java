licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling nosql mongodb resource provider resourceprovider int egration integration org junit assert not null assertnotnull java util arrays org apache sling nosql mongodb resource provider resourceprovider impl mongo no sql adapter mongodbnosqladapter org bson document org junit org junit org junit test mongodb mongo client mongoclient test creation indexes mongodb index creation t indexcreationit mongo no sql adapter mongodbnosqladapter under test undertest mongo client mongoclient mongo client mongoclient string database string collection set up setup string connection string connectionstring system get property getproperty connection string connectionstring localhost database system get property getproperty database sling index test indextest collection system get property getproperty collection resources mongo client mongoclient mongo client mongoclient connection string connectionstring under test undertest mongo no sql adapter mongodbnosqladapter mongo client mongoclient database collection tear down teardown mongo client mongoclient drop data base dropdatabase database mongo client mongoclient close test test indexes present testindexespresent assert not null assertnotnull under test undertest expecting indexes path parent path parentpath expected actual string expected indexes names expectedindexesnames path parent path parentpath document mongo client mongoclient get data base getdatabase database get collection getcollection collection list indexes listindexes arrays as list aslist expected indexes names expectedindexesnames actual expected actual
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing resource resolver resourceresolver org junit assert equals assertequals org junit assert null assertnull java io exception ioexception java util map org apache sling api resource login exception loginexception org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org junit org junit test google common collect immutable map immutablemap tests combinations create deletion resources conflict detection create delete resource resolver test createdeleteresourceresolvertest map string object props immutable map immutablemap string object builder prop build map string object props immutable map immutablemap string object builder prop build resource resolver resourceresolver resource resolver resourceresolver resource test root testroot set up setup io exception ioexception login exception loginexception resource resolver resourceresolver mock resource resolver factory mockresourceresolverfactory get resource resolver getresourceresolver resource root resource resolver resourceresolver get resource getresource test root testroot resource resolver resourceresolver create root test value map valuemap empty test test create delete create testcreatedeletecreate persistence exception persistenceexception create node commit resource resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource delete node commit resource resolver resourceresolver delete resource assert null assertnull resource resolver resourceresolver get resource getresource test root testroot get path getpath node create node properties commit resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource test test create delete create commit testcreatedeletecreatecommit persistence exception persistenceexception create node commit resource resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource delete node commit resource resolver resourceresolver delete resource assert null assertnull resource resolver resourceresolver get resource getresource test root testroot get path getpath node create node properties commit resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource resource resolver resourceresolver commit test test create commit delete create commit testcreatecommitdeletecreatecommit persistence exception persistenceexception create node commit resource resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource resource resolver resourceresolver commit delete node commit resource resolver resourceresolver delete resource assert null assertnull resource resolver resourceresolver get resource getresource test root testroot get path getpath node create node properties commit resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource resource resolver resourceresolver commit test test create commit delete commit create commit testcreatecommitdeletecommitcreatecommit persistence exception persistenceexception create node commit resource resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource resource resolver resourceresolver commit delete node commit resource resolver resourceresolver delete resource assert null assertnull resource resolver resourceresolver get resource getresource test root testroot get path getpath node resource resolver resourceresolver commit create node properties commit resource resource resolver resourceresolver create test root testroot node props assert equals assertequals props resource util resourceutil get value map getvaluemap resource resource resolver resourceresolver commit test expected persistence exception persistenceexception test create path already exists testcreatepathalreadyexists persistence exception persistenceexception resource resolver resourceresolver create test root testroot node props resource resolver resourceresolver create test root testroot node props test expected persistence exception persistenceexception test create commit path already exists testcreatecommitpathalreadyexists persistence exception persistenceexception resource resolver resourceresolver create test root testroot node props resource resolver resourceresolver commit resource resolver resourceresolver create test root testroot node props
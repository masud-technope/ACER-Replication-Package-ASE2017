licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution queue impl job handling jobhandling org apache sling distribution queue distribution queue entry distributionqueueentry org apache sling distribution queue distribution queue item distributionqueueitem org apache sling distribution queue distribution queue processor distributionqueueprocessor org apache sling event jobs job org apache sling event jobs consumer job consumer jobconsumer org junit test org junit assert equals assertequals org mockito matchers org mockito matchers any string anystring org mockito mockito mock org mockito mockito test case testcase link distribution agent job consumer distributionagentjobconsumer distribution agent job consumer test distributionagentjobconsumertest test test job with successful agent testjobwithsuccessfulagent exception distribution queue processor distributionqueueprocessor queue processor queueprocessor mock distribution queue processor distributionqueueprocessor queue processor queueprocessor process any string anystring distribution queue entry distributionqueueentry then return thenreturn distribution agent job consumer distributionagentjobconsumer distribution agent job consumer distributionagentjobconsumer distribution agent job consumer distributionagentjobconsumer queue processor queueprocessor job job mock job job consumer jobconsumer job result jobresult job result jobresult distribution agent job consumer distributionagentjobconsumer process job assert equals assertequals job consumer jobconsumer job result jobresult job result jobresult test test job with unsuccessful agent testjobwithunsuccessfulagent exception distribution queue processor distributionqueueprocessor queue processor queueprocessor mock distribution queue processor distributionqueueprocessor queue processor queueprocessor process any string anystring distribution queue entry distributionqueueentry then return thenreturn distribution agent job consumer distributionagentjobconsumer distribution agent job consumer distributionagentjobconsumer distribution agent job consumer distributionagentjobconsumer queue processor queueprocessor job job mock job job consumer jobconsumer job result jobresult job result jobresult distribution agent job consumer distributionagentjobconsumer process job assert equals assertequals job consumer jobconsumer job result jobresult failed job result jobresult
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven sling start slingstart java file java file output stream fileoutputstream java io exception ioexception java input stream inputstream org code haus codehaus plexus util file utils fileutils common settings launchpad instances launchpad environment launchpadenvironment work directory created starting launchpad string work dir sling file launchpad jar launchpadjar clean working directory cleanworkingdirectory shutdown on exit shutdownonexit ready time out sec readytimeoutsec string debug launchpad environment launchpadenvironment file launchpad jar launchpadjar clean working directory cleanworkingdirectory shutdown on exit shutdownonexit ready time out sec readytimeoutsec string debug launchpad jar launchpadjar launchpad jar launchpadjar clean working directory cleanworkingdirectory clean working directory cleanworkingdirectory shutdown on exit shutdownonexit shutdown on exit shutdownonexit ready time out sec readytimeoutsec ready time out sec readytimeoutsec debug debug is shutdown on exit isshutdownonexit shutdown on exit shutdownonexit get ready time out sec getreadytimeoutsec ready time out sec readytimeoutsec check launchpad folder exists ensure folder exists ensurefolderexists file folder folder exists folder mkdirs clean working directory cleanworkingdirectory file work file folder work dir org apache commons file utils fileutils delete quietly deletequietly work file install launchpad installlaunchpad file folder io exception ioexception launchpad jar launchpadjar get parent file getparentfile get absolute path getabsolutepath equals folder get absolute path getabsolutepath launchpad jar launchpadjar file utils fileutils copy file to directory copyfiletodirectory launchpad jar launchpadjar folder file folder launchpad jar launchpadjar get name getname io exception ioexception ioe io exception ioexception unable copy launchpad jar launchpadjar folder ioe install launcher installlauncher file folder io exception ioexception file bin dir bindir file folder bin copy resource copyresource org apache sling maven sling start slingstart launcher launcher bin dir bindir copy resource copyresource org apache sling maven sling start slingstart launcher launchermbean bin dir bindir copy resource copyresource org apache sling maven sling start slingstart launcher main bin dir bindir prepare instance param folder target folder instance launchpad jar io exception ioexception error occurs file prepare file folder io exception ioexception ensure folder exists ensurefolderexists folder copy launchpad jar launchpadjar file launchpad install launchpad installlaunchpad folder install launcher install launcher installlauncher folder launchpad copy resource copyresource string resource file dir io exception ioexception last slash lastslash resource last index of lastindexof file base dir basedir last slash lastslash string file path filepath resource substring last slash lastslash replace file separator char separatorchar base dir basedir file dir file path filepath base dir basedir dir base dir basedir mkdirs file file file base dir basedir resource substring last slash lastslash input stream inputstream launchpad environment launchpadenvironment get class loader getclassloader get resource as stream getresourceasstream resource io exception ioexception resource resource file output stream fileoutputstream fos file output stream fileoutputstream file buffer read buffer fos write buffer fos fos close close global debug parameter sling instances link start mojo startmojo debug string get debug getdebug debug
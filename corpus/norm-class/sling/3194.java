licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling sample sling shot slingshot ratings impl javax servlet http http servlet response httpservletresponse org hamcrest matchers equal to equalto org junit assert that assertthat java util hash map hashmap java util map org apache sling sample sling shot slingshot sling shot constants slingshotconstants org apache sling sample sling shot slingshot ratings ratings service ratingsservice org apache sling sample sling shot slingshot ratings ratings util ratingsutil org apache sling testing mock sling junit sling context slingcontext org apache sling testing mock sling servlet mock sling http servlet request mockslinghttpservletrequest org apache sling testing mock sling servlet mock sling http servlet response mockslinghttpservletresponse org hamcrest matchers org junit rule org junit test org mockito mockito rating post servlet test ratingpostservlettest rule sling context slingcontext context sling context slingcontext test successful save successfulsave exception map string object params hash map hashmap string object params ratings util ratingsutil property rating context register service registerservice ratings service ratingsservice mockito mock ratings service ratingsservice rating post servlet ratingpostservlet servlet context register inject activate service registerinjectactivateservice rating post servlet ratingpostservlet mock sling http servlet request mockslinghttpservletrequest request context request request set remote user setremoteuser admin request set parameter map setparametermap params request set resource setresource context create resource sling shot constants slingshotconstants app root path content admin tra vel travel mock sling http servlet response mockslinghttpservletresponse response mock sling http servlet response mockslinghttpservletresponse servlet do post dopost request response assert that assertthat response get status getstatus matchers equal to equalto string output response get output as string getoutputasstring assert that assertthat output equal to equalto rating
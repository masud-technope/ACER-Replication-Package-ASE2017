licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr resource java input stream inputstream java lang reflect array java math big decimal bigdecimal java util calendar java util string tokenizer stringtokenizer javax jcr node javax jcr property javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr session javax jcr javax jcr value factory valuefactory javax jcr query query javax jcr query query manager querymanager javax jcr query query result queryresult org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling jcr resource internal helper lazy input stream lazyinputstream code jcr resource util jcrresourceutil code helper methods bundle jcr resource util jcrresourceutil helper method execute jcr query param session session param query query param language language query result repository exception repositoryexception link query manager querymanager retrieved query result queryresult query session session string query string language repository exception repositoryexception query manager querymanager q manager qmanager session get workspace getworkspace get query manager getquerymanager query q manager qmanager create query createquery query language execute converts jcr java object param jcr convert java object repository exception repositoryexception converted object to java object tojavaobject repository exception repositoryexception get type gettype property type propertytype decimal get decimal getdecimal property type propertytype binary lazy input stream lazyinputstream property type propertytype get boolean getboolean property type propertytype get date getdate property type propertytype get double getdouble property type propertytype get long getlong fall property type propertytype fall property type propertytype path fall property type propertytype reference fall property type propertytype string expected property type propertytype undefined expected get string getstring converts jcr property java object property multiple values result array java objects representing converted values property param property property converted java object repository exception repositoryexception conversion place object conversion object to java object tojavaobject property property repository exception repositoryexception multi property array values property is multiple ismultiple values property get values getvalues object first value firstvalue values length to java object tojavaobject values object result first value firstvalue result values length first value firstvalue calendar result calendar values length first value firstvalue result values length first value firstvalue result values length first value firstvalue big decimal bigdecimal result big decimal bigdecimal values length first value firstvalue input stream inputstream result object values length result string values length values length values result to java object tojavaobject result single property to java object tojavaobject property get value getvalue creates link javax jcr jcr object session selects link javax jcr property type propertytype property type propertytype instance object param object param session create convertible valid property type propertytype repository exception repositoryexception error accessing repository create value createvalue object session session repository exception repositoryexception val value factory valuefactory fac session get value factory getvaluefactory calendar val fac create value createvalue calendar input stream inputstream val fac create value createvalue fac create binary createbinary input stream inputstream node val fac create value createvalue node big decimal bigdecimal val fac create value createvalue big decimal bigdecimal val fac create value createvalue val fac create value createvalue integer val fac create value createvalue integer number val fac create value createvalue number double value doublevalue val fac create value createvalue string val fac create value createvalue string val val sets property selects link javax jcr property type propertytype property type propertytype instance object param node node property param property name propertyname property param property value propertyvalue property repository exception repositoryexception property set property setproperty node node string property name propertyname object property value propertyvalue repository exception repositoryexception property value propertyvalue node set property setproperty property name propertyname string property value propertyvalue get class getclass is array isarray length array get length getlength property value propertyvalue set values setvalues length length object array property value propertyvalue set values setvalues create value createvalue node get session getsession node set property setproperty property name propertyname set values setvalues node set property setproperty property name propertyname create value createvalue property value propertyvalue node get session getsession helper method returns resource type returned link org apache sling api resource resource get resource type getresourcetype relative path param type resource type converted path resource type path deprecated link resource util resourceutil resource type to path resourcetypetopath string deprecated string resource type to path resourcetypetopath string type type replace all replaceall returns type resource type result adapting child resource link jcr resource constants jcrresourceconstants sling resource type property code resource code add res sed addressed code resource type resourcetype code string child resource exists resource adapt string method returns code code param resource resolver resourceresolver code resource resolver resourceresolver code access resource path relative absolute code resource type resourcetype code parameter param resource type resourcetype resource type type returned type turned path calling link resource type to path resourcetypetopath string method resource code resource resolver resourceresolver code type code resource type resourcetype code code code resource type child resource link jcr resource constants jcrresourceconstants sling resource type property adapting string deprecated link resource util resourceutil get resource super type getresourcesupertype resource resolver resourceresolver string deprecated string get resource super type getresourcesupertype resource resolver resourceresolver resource resolver resourceresolver string resource type resourcetype resource util resourceutil get resource super type getresourcesupertype resource resolver resourceresolver resource type resourcetype returns resource type resource child resource link jcr resource constants jcrresourceconstants sling resource type property code resource code adapted string result calling link get resource super type getresourcesupertype resource resolver resourceresolver string method resource type code resource code mechanism resource type resource level over writing overwriting resource type hierarchy pre defined actual resource type resource param resource code resource code resource type requested resource type code code algorithm yield resource type deprecated call link resource util resourceutil find resource super type findresourcesupertype resource deprecated string get resource super type getresourcesupertype resource resource string resource super type resourcesupertype resource get resource super type getresourcesupertype resource super type resourcesupertype resource resolver resourceresolver resolver resource get resource resolver getresourceresolver explicit resource super type resourcesupertype resource string resource type resourcetype resource get resource type getresourcetype resource super type resourcesupertype resource util resourceutil get resource super type getresourcesupertype resolver resource type resourcetype resource super type resourcesupertype creates link javax jcr node node path create node existent int ermediate intermediate path elements create int ermediate intermediate node type returned node created node type nodetype param path create param int ermediate node type intermediatenodetype creation int ermediate intermediate nodes param node type nodetype creation node param session param auto save autosave save called node created node path repository exception repositoryexception exception accessing repository node create path createpath string path string int ermediate node type intermediatenodetype string node type nodetype session session auto save autosave repository exception repositoryexception path path length equals path session get root node getrootnode sanitize path ends slash path ends with endswith path path substring path length session item exists itemexists path string existing path existingpath find existing path findexistingpath path session string relative path relativepath node parent node parentnode existing path existingpath parent node parentnode session get node getnode existing path existingpath relative path relativepath path substring existing path existingpath length relative path relativepath path substring parent node parentnode session get root node getrootnode create path createpath parent node parentnode relative path relativepath int ermediate node type intermediatenodetype node type nodetype auto save autosave session get node getnode path creates link javax jcr node node path create node existent int ermediate intermediate path elements create int ermediate intermediate node type returned node created node type nodetype param parent node parentnode starting node param relative path relativepath create param int ermediate node type intermediatenodetype creation int ermediate intermediate nodes param node type nodetype creation node param auto save autosave save called node created node path repository exception repositoryexception exception accessing repository node create path createpath node parent node parentnode string relative path relativepath string int ermediate node type intermediatenodetype string node type nodetype auto save autosave repository exception repositoryexception relative path relativepath relative path relativepath length equals relative path relativepath parent node parentnode sanitize path ends slash relative path relativepath ends with endswith relative path relativepath relative path relativepath substring relative path relativepath length parent node parentnode has node hasnode relative path relativepath session session parent node parentnode get session getsession string path parent node parentnode get path getpath relative path relativepath string existing path existingpath find existing path findexistingpath path session existing path existingpath parent node parentnode session get node getnode existing path existingpath relative path relativepath path substring existing path existingpath length node node parent node parentnode pos relative path relativepath last index of lastindexof pos string tokenizer stringtokenizer string tokenizer stringtokenizer relative path relativepath substring pos has more tokens hasmoretokens string token next token nexttoken node has node hasnode token int ermediate node type intermediatenodetype node add node addnode token int ermediate node type intermediatenodetype node add node addnode token auto save autosave node get session getsession save repository exception repositoryexception node refresh node node get node getnode token relative path relativepath relative path relativepath substring pos node has node hasnode relative path relativepath node type nodetype node add node addnode relative path relativepath node type nodetype node add node addnode relative path relativepath auto save autosave node get session getsession save node get node getnode relative path relativepath parent node parentnode get node getnode relative path relativepath string find existing path findexistingpath string path session session repository exception repositoryexception find parent exists start you ngest youngest child tree current index currentindex path last index of lastindexof string temp path string existing path existingpath current index currentindex temp temp substring current index currentindex existing parent session item exists itemexists temp existing path existingpath temp current index currentindex temp last index of lastindexof existing path existingpath
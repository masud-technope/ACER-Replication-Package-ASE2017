licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl jobs scheduling java serializable java util array list arraylist java util collection java util hash map hashmap java util iterator java util list java util map java util concurrent atomic atomic boolean atomicboolean org apache sling api sling constants slingconstants org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling commons scheduler job context jobcontext org apache sling commons scheduler schedule options scheduleoptions org apache sling commons scheduler scheduler org apache sling event impl jobs job manager impl jobmanagerimpl org apache sling event impl jobs utility org apache sling event impl jobs config configuration change listener configurationchangelistener org apache sling event impl jobs config job manager configuration jobmanagerconfiguration org apache sling event impl jobs config topology capabilities topologycapabilities org apache sling event impl support resource helper resourcehelper org apache sling event impl support schedule info impl scheduleinfoimpl org apache sling event jobs job builder jobbuilder org apache sling event jobs schedule info scheduleinfo org apache sling event jobs schedule info scheduleinfo schedule type scheduletype org apache sling event jobs scheduled job info scheduledjobinfo org osgi service event event org osgi service event event handler eventhandler org slf logger org slf logger factory loggerfactory scheduler managing scheduled jobs component created job manager job manager registering event handler for wards forwards events service job scheduler impl jobschedulerimpl event handler eventhandler configuration change listener configurationchangelistener org apache sling commons scheduler job string property read job properties string property schedule logger logger logger logger factory loggerfactory get logger getlogger get class getclass active atomic boolean atomicboolean active atomic boolean atomicboolean central job handling configuration job manager configuration jobmanagerconfiguration configuration scheduler service scheduler scheduler job manager job manager impl jobmanagerimpl job manager jobmanager scheduled job handler scheduled job handler scheduledjobhandler scheduled job handler scheduledjobhandler scheduled jobs scheduler map string scheduled job info impl scheduledjobinfoimpl scheduled jobs scheduledjobs hash map hashmap string scheduled job info impl scheduledjobinfoimpl create scheduler param configuration central job manager configuration param scheduler scheduler service param job manager jobmanager job manager job scheduler impl jobschedulerimpl job manager configuration jobmanagerconfiguration configuration scheduler scheduler job manager impl jobmanagerimpl job manager jobmanager configuration configuration scheduler scheduler job manager jobmanager job manager jobmanager configuration add listener addlistener scheduled job handler scheduledjobhandler scheduled job handler scheduledjobhandler configuration deactivate component deactivate configuration remove listener removelistener scheduled job handler scheduledjobhandler deactivate active compare and set compareandset stop scheduling stopscheduling scheduled jobs scheduledjobs scheduled jobs scheduledjobs clear org apache sling event impl jobs config configuration change listener configurationchangelistener configuration changed configurationchanged override configuration changed configurationchanged processing active processingactive scheduling active processing active configuration active current instance leader scheduling active schedulingactive processing active processingactive topology capabilities topologycapabilities caps configuration get topology capabilities gettopologycapabilities caps caps is active isactive scheduling active schedulingactive caps is leader isleader scheduling active schedulingactive scheduling active schedulingactive activation based current scheduling active schedulingactive activate inactive active compare and set compareandset start scheduling startscheduling deactivate active active compare and set compareandset stop scheduling stopscheduling start scheduled jobs start scheduling startscheduling scheduled jobs scheduledjobs scheduled job info scheduledjobinfo info scheduled jobs scheduledjobs values start scheduled job startscheduledjob scheduled job info impl scheduledjobinfoimpl info scheduled jobs stop scheduling stopscheduling scheduled jobs scheduledjobs scheduled job info scheduledjobinfo info scheduled jobs scheduledjobs values stop scheduled job stopscheduledjob scheduled job info impl scheduledjobinfoimpl info add scheduled job schedule job schedulejob scheduled job info impl scheduledjobinfoimpl info scheduled jobs scheduledjobs scheduled jobs scheduledjobs info get name getname info start scheduled job startscheduledjob info remove scheduled job unschedule job unschedulejob scheduled job info impl scheduledjobinfoimpl info scheduled jobs scheduledjobs scheduled jobs scheduledjobs remove info get name getname stop scheduled job stopscheduledjob info start scheduled job param info scheduling info start scheduled job startscheduledjob scheduled job info impl scheduledjobinfoimpl info active info is suspended issuspended configuration get audit logger getauditlogger debug scheduled topic properties object info get name getname info get job topic getjobtopic info get job properties getjobproperties info get schedules getschedules schedule info scheduleinfo info get schedules getschedules string info get scheduler job id getschedulerjobid string value of valueof schedule options scheduleoptions options get type gettype daily weekly hourly monthly yearly cron options scheduler expr schedule info impl scheduleinfoimpl get cron expression getcronexpression options scheduler schedule info impl scheduleinfoimpl get next scheduled execution getnextscheduledexecution create configuration scheduled job map string serializable config hash map hashmap string serializable config property read job info config property schedule scheduler schedule options config config can run concurrently canrunconcurrently configuration get audit logger getauditlogger debug scheduled suspended topic properties object info get name getname info get job topic getjobtopic info get job properties getjobproperties info get schedules getschedules scheduled job param info scheduling info stop scheduled job stopscheduledjob scheduled job info impl scheduledjobinfoimpl info active configuration get audit logger getauditlogger debug scheduled topic properties object info get name getname info get job topic getjobtopic info get job properties getjobproperties info get schedules getschedules info get schedules getschedules size string info get scheduler job id getschedulerjobid string value of valueof scheduler unschedule org apache sling commons scheduler job execute org apache sling commons scheduler job context jobcontext override execute job context jobcontext context scheduled job info impl scheduledjobinfoimpl info scheduled job info impl scheduledjobinfoimpl context get configuration getconfiguration property read job info is suspended issuspended job manager jobmanager add job addjob info get job topic getjobtopic info get job properties getjobproperties integer context get configuration getconfiguration property schedule iterator schedule info scheduleinfo iter info get schedules getschedules iterator schedule info scheduleinfo iter iter scheduled remove schedule get type gettype schedule type scheduletype info get schedules getschedules size remove scheduled job handler scheduledjobhandler remove info update schedule list list schedule info scheduleinfo infos array list arraylist schedule info scheduleinfo schedule info scheduleinfo info get schedules getschedules equals infos add info update infos scheduled job handler scheduledjobhandler update schedule updateschedule info get name getname infos org osgi service event event handler eventhandler handle event handleevent org osgi service event event override handle event handleevent event event resource helper resourcehelper bundle event started equals event get topic gettopic resource helper resourcehelper bundle event updated equals event get topic gettopic scheduled job handler scheduledjobhandler bundle event bundleevent resource event string path string event get property getproperty sling constants slingconstants property path path path starts with startswith configuration get scheduled jobs path getscheduledjobspath sling constants slingconstants topic resource removed equals event get topic gettopic removal scheduled job handler scheduledjobhandler handle remove handleremove path add update scheduled job handler scheduledjobhandler handle add update handleaddupdate path helper method logs exception debug mode param ignore exception ignoreexception exception logger is debug enabled isdebugenabled logger debug exception get message getmessage create schedule builder scheduled job job builder jobbuilder schedule builder schedulebuilder create job builder createjobbuilder scheduled job info impl scheduledjobinfoimpl info job builder jobbuilder schedule builder schedulebuilder job schedule builder impl jobschedulebuilderimpl info get job topic getjobtopic info get job properties getjobproperties info get name getname info is suspended issuspended suspend enum operation equals equals greater equals greater check job matches template match scheduled job info impl scheduledjobinfoimpl job map string object template template map entry string object current template entry set entryset string key current get key getkey first char firstchar key length key char at charat string prop name propname operation first char firstchar prop name propname key substring operation equals first char firstchar second char secondchar key length key char at charat second char secondchar operation equals prop name propname key substring operation prop name propname key substring first char firstchar second char secondchar key length key char at charat second char secondchar operation greater equals prop name propname key substring operation greater prop name propname key substring prop name propname key operation equals object current get value getvalue operation equals equals job get job properties getjobproperties prop name propname comparable suppress warnings suppresswarnings unchecked rawtypes result comparable compare to compareto job get job properties getjobproperties prop name propname operation result operation equals result operation greater equals result operation greater result comp arable comparable simply don match scheduled jobs collection scheduled job info scheduledjobinfo get scheduled jobs getscheduledjobs string topic limit map string object templates list scheduled job info scheduledjobinfo jobs array list arraylist scheduled job info scheduledjobinfo count scheduled jobs scheduledjobs scheduled job info impl scheduledjobinfoimpl job scheduled jobs scheduledjobs values add topic topic equals job get job topic getjobtopic add add templates templates length add map string object template templates add match job template add add jobs add job count limit count limit jobs change suspended flag scheduled job param info schedule info param flag flag set suspended setsuspended scheduled job info impl scheduledjobinfoimpl info flag resource resolver resourceresolver resolver configuration create resource resolver createresourceresolver string builder stringbuilder string builder stringbuilder configuration get scheduled jobs path getscheduledjobspath append resource helper resourcehelper filter name filtername info get name getname string path to string tostring resource event resource eventresource resolver get resource getresource path event resource eventresource modifiable value map modifiablevaluemap mvm event resource eventresource adapt to adaptto modifiable value map modifiablevaluemap flag mvm resource helper resourcehelper property schedule suspended mvm remove resource helper resourcehelper property schedule suspended resolver commit flag stop scheduled job stopscheduledjob info start scheduled job startscheduledjob info persistence exception persistenceexception ignore exception ignoreexception resolver close add scheduled job param topic job topic param properties job properties param schedule name schedulename schedule param is suspended issuspended suspended param schedule infos scheduleinfos scheduling param errors optional list potential errors job info code scheduled job info scheduledjobinfo add scheduled job addscheduledjob string topic map string object properties string schedule name schedulename is suspended issuspended list schedule info impl scheduleinfoimpl schedule infos scheduleinfos list string errors list string msgs array list arraylist string schedule name schedulename schedule name schedulename length msgs add schedule string error message errormessage utility check job checkjob topic properties error message errormessage msgs add error message errormessage schedule infos scheduleinfos size msgs add schedule defined schedule name schedulename schedule info impl scheduleinfoimpl info schedule infos scheduleinfos info check msgs msgs size scheduled job info scheduledjobinfo info scheduled job handler scheduledjobhandler add or update job addorupdatejob topic properties schedule name schedulename is suspended issuspended schedule infos scheduleinfos info info msgs add unable persist scheduled job persistence exception persistenceexception msgs add unable persist scheduled job schedule name schedulename logger warn unable persist scheduled job string msg msgs logger warn msg errors errors add all addall msgs main tenance maintenance scheduled job handler scheduledjobhandler main tenance maintenance
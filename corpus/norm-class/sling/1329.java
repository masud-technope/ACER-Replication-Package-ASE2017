licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest java byte array output stream bytearrayoutputstream java file java io exception ioexception java input stream inputstream org apache commons http client httpclient methods get method getmethod org apache sling commons testing int egration integration http test base httptestbase test webdav upload file types webdav upload test webdavuploadtest http test base httptestbase string test dir testdir sling test get class getclass get simple name getsimplename system current time millis currenttimemillis string test dir url testdirurl webdav base url test dir testdir override set up setup exception set up setup test client testclient mkdirs webdav base url test dir testdir override tear down teardown exception tear down teardown test client testclient delete test dir url testdirurl read stream readstream input stream inputstream io exception ioexception fail input stream inputstream byte array output stream bytearrayoutputstream bos byte array output stream bytearrayoutputstream buffer read buffer buffer length bos write buffer close bos flush bos close bos to byte array tobytearray compare data comparedata string sling data url slingdataurl string local resource path localresourcepath io exception ioexception sling content binary stream get method getmethod get method getmethod sling data url slingdataurl http status httpstatus http client httpclient execute method executemethod assert equals assertequals sling data url slingdataurl status http status httpstatus local read stream readstream get class getclass get resource as stream getresourceasstream local resource path localresourcepath remote read stream readstream get response body as stream getresponsebodyasstream assert equals assertequals local remote files length local length remote length local length assert equals assertequals content match local remote upload and check uploadandcheck string local resource path localresourcepath io exception ioexception input stream inputstream data get class getclass get resource as stream getresourceasstream local resource path localresourcepath data fail local resource local resource path localresourcepath string url test dir url testdirurl file local resource path localresourcepath get name getname test client testclient upload url data compare data comparedata url local resource path localresourcepath data data close test text upload testtextupload io exception ioexception upload and check uploadandcheck int egration integration test test file testfile txt test xml upload testxmlupload io exception ioexception upload and check uploadandcheck int egration integration test test file testfile xml test zip upload testzipupload io exception ioexception upload and check uploadandcheck int egration integration test test file testfile zip test png upload testpngupload io exception ioexception upload and check uploadandcheck int egration integration test sling log o logo png
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling datasource java sql connection java util dictionary java util hashtable java util concurrent time unit timeunit javax inject inject javax sql data source datasource org junit test org junit runner run with runwith org ops pax exam junit pax exam paxexam org osgi framework filter org osgi service configuration org osgi service configuration admin configurationadmin org osgi util tracker service tracker servicetracker org apache commons bean utils beanutils bean utils beanutils get property getproperty org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull run with runwith pax exam paxexam data source t datasourceit data source test base datasourcetestbase pax runner vm option paxrunnervmoption debug option string pid org apache sling datasource data source factory datasourcefactory inject configuration admin configurationadmin suppress warnings suppresswarnings unchecked test test data source as service testdatasourceasservice exception configuration config create factory configuration createfactoryconfiguration pid dictionary string object hashtable string object url jdbc mem test close delay close exit datasource test initial size initialsize default auto commit defaultautocommit default read only defaultreadonly datasource svc properties string initsql select max active maxactive config update filter filter context create filter createfilter object class objectclass javax sql data source datasource datasource test service tracker servicetracker data source datasource data source datasource service tracker servicetracker data source datasource data source datasource context filter open data source datasource wait for service waitforservice assert not null assertnotnull connection conn get connection getconnection assert not null assertnotnull conn access access ref lection reflection assert equals assertequals get property getproperty pool properties poolproperties max active maxactive assert equals assertequals get property getproperty pool properties poolproperties initial size initialsize assert equals assertequals select get property getproperty pool properties poolproperties initsql assert equals assertequals get property getproperty pool properties poolproperties default read only defaultreadonly assert null assertnull get property getproperty pool properties poolproperties default auto commit defaultautocommit config list configurations listconfigurations datasource test dictionary dic config get properties getproperties dic default read only defaultreadonly config update dic time unit timeunit milliseconds sleep assert equals assertequals get property getproperty pool properties poolproperties default read only defaultreadonly
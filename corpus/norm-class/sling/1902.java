licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling settings impl org hamcrest core matchers corematchers equal to equalto org junit assert false assertfalse org junit assert that assertthat org junit assert true asserttrue java file java io exception ioexception java input stream inputstream java util dictionary java util hash map hashmap java util hash set hashset java util map java util org apache sling launchpad api startup handler startuphandler org apache sling launchpad api startup mode startupmode org apache sling settings sling settings service slingsettingsservice org osgi framework bundle org osgi framework bundle context bundlecontext org osgi framework bundle exception bundleexception org osgi framework bundle listener bundlelistener org osgi framework filter org osgi framework framework listener frameworklistener org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service listener servicelistener org osgi framework service reference servicereference org osgi framework service registration serviceregistration run mode impl test runmodeimpltest startup handler impl startuphandlerimpl startup handler startuphandler startup mode startupmode mode startup handler impl startuphandlerimpl startup mode startupmode install startup handler impl startuphandlerimpl startup mode startupmode mode mode mode wait with startup waitwithstartup flag is finished isfinished startup mode startupmode get mode getmode mode assert parse assertparse string str string expected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock str startup handler impl startuphandlerimpl string modes get run modes getrunmodes string expected set expectedset hash set hashset string expected length string expected entry expectedentry expected expected set expectedset add expected entry expectedentry assert that assertthat parse d parsed run modes runmodes match str modes equal to equalto expected set expectedset org junit test test parse run modes testparserunmodes assert parse assertparse string assert parse assertparse string assert parse assertparse foo string foo assert parse assertparse foo bar string foo bar assert active assertactive sling settings service slingsettingsservice active string modes string mode modes active assert true asserttrue mode active get run modes getrunmodes mode assert false assertfalse mode active get run modes getrunmodes mode org junit test test matches not empty testmatchesnotempty sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive wiz bah org junit test test options testoptions sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test empty run modes with options testemptyrunmodeswithoptions sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock startup handler impl startuphandlerimpl assert active assertactive assert active assertactive org junit test test options selected testoptionsselected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test options multiple selected testoptionsmultipleselected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test options multiple selected testoptionsmultipleselected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test install options testinstalloptions sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test install options selected testinstalloptionsselected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test install options multiple selected testinstalloptionsmultipleselected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test install options multiple selected testinstalloptionsmultipleselected sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl bundle context mock bundlecontextmock foo bar startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive org junit test test install options restart testinstalloptionsrestart bundle context mock bundlecontextmock bundle context mock bundlecontextmock foo bar create context simulate install sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl startup handler impl startuphandlerimpl assert active assertactive foo bar assert active assertactive sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl startup handler impl startuphandlerimpl startup mode startupmode restart assert active assertactive foo bar assert active assertactive simulate restart modes mentioned options properties update foo doo waa sling settings service slingsettingsservice sling settings service impl slingsettingsserviceimpl startup handler impl startuphandlerimpl startup mode startupmode restart assert active assertactive foo doo waa assert active assertactive bar bundle context mock bundlecontextmock bundle context bundlecontext string run modes runmodes string options string install options installoptions map string file files hash map hashmap string file bundle context mock bundlecontextmock string run modes runmodes string options string install options installoptions run modes runmodes run modes runmodes options options install options installoptions install options installoptions update string run modes runmodes add bundle listener addbundlelistener bundle listener bundlelistener listener todo auto generated method stub add framework listener addframeworklistener framework listener frameworklistener listener todo auto generated method stub add service listener addservicelistener service listener servicelistener listener string filter invalid syntax exception invalidsyntaxexception todo auto generated method stub add service listener addservicelistener service listener servicelistener listener todo auto generated method stub filter create filter createfilter string filter invalid syntax exception invalidsyntaxexception todo auto generated method stub service reference servicereference get all service references getallservicereferences string clazz string filter invalid syntax exception invalidsyntaxexception todo auto generated method stub bundle get bundle getbundle todo auto generated method stub bundle get bundle getbundle todo auto generated method stub bundle get bundles getbundles bundle file get data file getdatafile string filename file files filename file create temp file createtempfile filename delete on exit deleteonexit files filename io exception ioexception ioe runtime exception runtimeexception ioe string get property getproperty string key key equals sling settings service slingsettingsservice modes property run modes runmodes key equals sling settings service slingsettingsservice mode options options key equals sling settings service slingsettingsservice mode install options install options installoptions object get service getservice service reference servicereference reference service reference servicereference get service reference getservicereference string clazz service reference servicereference get service references getservicereferences string clazz string filter invalid syntax exception invalidsyntaxexception bundle install bundle installbundle string location input stream inputstream input bundle exception bundleexception bundle install bundle installbundle string location bundle exception bundleexception suppress warnings suppresswarnings unchecked service registration serviceregistration register service registerservice string clazz object service dictionary properties suppress warnings suppresswarnings unchecked service registration serviceregistration register service registerservice string clazzes object service dictionary properties remove bundle listener removebundlelistener bundle listener bundlelistener listener remove framework listener removeframeworklistener framework listener frameworklistener listener remove service listener removeservicelistener service listener servicelistener listener unget service ungetservice service reference servicereference reference
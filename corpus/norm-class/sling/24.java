licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting java script javascript wrapper java util iterator java util linked hash map linkedhashmap java util map javax jcr item javax jcr repository exception repositoryexception org mozilla java script javascript script runtime scriptruntime org mozilla java script javascript scriptable org mozilla java script javascript scriptable object scriptableobject org mozilla java script javascript undefined org slf logger org slf logger factory loggerfactory scriptable item map scriptableitemmap scriptable object scriptableobject string class name classname item map itemmap log logger log logger factory loggerfactory get logger getlogger get class getclass map string item items linked hash map linkedhashmap string item js constructor jsconstructor object res res iterator iterator item iterator itemiterator iterator res item iterator itemiterator has next hasnext item item item item iterator itemiterator items item get name getname item repository exception repositoryexception log error scriptable item map scriptableitemmap init item item override string get class name getclassname class name classname override scriptable start get item getitem override string scriptable start items contains key containskey override object scriptable start item item get item getitem item script runtime scriptruntime to object toobject item undefined instance override object string scriptable start special provision length property simulate array length equals script runtime scriptruntime to number tonumber items key set keyset size item item items object result undefined instance item result script runtime scriptruntime to object toobject item result override object get ids getids items key set keyset to array toarray item get item getitem items size iterator item items iter itemsiter items values iterator items iter itemsiter has next hasnext items iter itemsiter items iter itemsiter has next hasnext items iter itemsiter
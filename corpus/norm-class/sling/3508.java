licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl javax servlet http http servlet request httpservletrequest org apache sling core impl sling authenticator slingauthenticator org jmock expectations org jmock mockery org jmock int egration integration junit j unit junit mockery org osgi service component component context componentcontext junit framework test case testcase junit x junitx util private accessor privateaccessor sling authenticator test slingauthenticatortest test case testcase mockery context j unit junit mockery test quote cookie value quotecookievalue sling authenticator slingauthenticator quote cookie value quotecookievalue fail expected illegal argument exc epion illegalargumentexcepion illegal argument exception illegalargumentexception iae check quote checkquote check quote checkquote simple value simplevalue simple value simplevalue check quote checkquote simple simple check quote checkquote email address email address check quote checkquote string ttab string ttab sling authenticator slingauthenticator quote cookie value quotecookievalue string rcr fail expected illegal argument exc epion illegalargumentexcepion illegal argument exception illegalargumentexception iae test unquote cookie value unquotecookievalue assert null assertnull sling authenticator slingauthenticator unquote cookie value unquotecookievalue assert equals assertequals sling authenticator slingauthenticator unquote cookie value unquotecookievalue check un quote checkunquote unquoted unquoted check un quote checkunquote unquoted unquoted check un quote checkunquote quoted quoted check un quote checkunquote check un quote checkunquote simple value simplevalue simple value simplevalue check un quote checkunquote simple simple check un quote checkunquote email address email address check un quote checkunquote string ttab string ttab check quote checkquote string string expected string actual sling authenticator slingauthenticator quote cookie value quotecookievalue assert equals assertequals expected actual check un quote checkunquote string string expected string actual sling authenticator slingauthenticator unquote cookie value unquotecookievalue assert equals assertequals expected actual sling test is anon allowed isanonallowed throwable sling authenticator slingauthenticator sling authenticator slingauthenticator sling authenticator slingauthenticator path based holder cache pathbasedholdercache authentication requirement holder authenticationrequirementholder auth required cache authrequiredcache path based holder cache pathbasedholdercache authentication requirement holder authenticationrequirementholder auth required cache authrequiredcache add holder addholder authentication requirement holder authenticationrequirementholder private accessor privateaccessor set field setfield sling authenticator slingauthenticator auth required cache authrequiredcache auth required cache authrequiredcache http servlet request httpservletrequest request context mock http servlet request httpservletrequest context checking expectations allowing request get servlet path getservletpath return value returnvalue allowing request get path info getpathinfo return value returnvalue allowing request get server name getservername return value returnvalue localhost allowing request get server port getserverport return value returnvalue allowing request get scheme getscheme return value returnvalue http allowed private accessor privateaccessor invoke sling authenticator slingauthenticator is anon allowed isanonallowed http servlet request httpservletrequest object request assert true asserttrue allowed
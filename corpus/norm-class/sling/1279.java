licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi java util dictionary java util hash set hashset java util hashtable java util org apache commons lang string utils stringutils org apache felix framework filter impl filterimpl org apache sling testing mock osgi osgi metadata util osgimetadatautil osgi metadata osgimetadata org osgi framework bundle org osgi framework constants org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service factory servicefactory org osgi framework service reference servicereference org osgi framework service registration serviceregistration google common collect immutable list immutablelist mock link service registration serviceregistration implementation mock service registration mockserviceregistration service registration serviceregistration comparable mock service registration mockserviceregistration service counter servicecounter service id serviceid string clazzes service dictionary string object properties service reference servicereference service reference servicereference mock bundle context mockbundlecontext bundle context bundlecontext suppress warnings suppresswarnings unchecked mock service registration mockserviceregistration bundle bundle string clazzes service dictionary string object properties mock bundle context mockbundlecontext bundle context bundlecontext service id serviceid service counter servicecounter clazzes hash set hashset string immutable list immutablelist copy of copyof clazzes service service factory servicefactory service service factory servicefactory service get service getservice bundle context bundlecontext get bundle getbundle service service properties properties properties hashtable string object properties constants service service id serviceid properties constants object class objectclass clazzes service reference servicereference mock service reference mockservicereference bundle bundle context bundlecontext bundle context bundlecontext read osgi metadata readosgimetadata override service reference servicereference get reference getreference service reference servicereference suppress warnings suppresswarnings unchecked override set properties setproperties dictionary properties properties properties override unregister bundle context bundlecontext unregister service unregisterservice dictionary string object get properties getproperties properties matches string clazz string filter invalid syntax exception invalidsyntaxexception ignore filter clazzes clazz filter filter impl filterimpl filter match properties string get classes getclasses clazzes get service getservice service override equals object obj obj mock service registration mockserviceregistration service id serviceid equals mock service registration mockserviceregistration obj service id serviceid override hash code hashcode service id serviceid hash code hashcode override compare to compareto mock service registration mockserviceregistration obj service id serviceid compare to compareto obj service id serviceid read osgi metadata osgi inf read implemented interfaces read osgi metadata readosgimetadata service class serviceclass service get class getclass osgi metadata osgimetadata metadata osgi metadata util osgimetadatautil get metadata getmetadata service class serviceclass metadata add service interfaces osg i osgi metadata clazzes add all addall metadata get service interfaces getserviceinterfaces override string to string tostring service id serviceid string utils stringutils join clazzes service to string tostring
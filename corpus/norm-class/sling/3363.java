licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing resource resolver resourceresolver org junit assert equals assertequals org junit assert true asserttrue java io exception ioexception java util map org apache sling api resource login exception loginexception org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource value map valuemap org junit org junit test google common collect immutable map immutablemap test value map valuemap var iants variants value map test valuemaptest resource resolver resourceresolver resource resolver resourceresolver resource test root testroot set up setup io exception ioexception login exception loginexception resource resolver resourceresolver mock resource resolver factory mockresourceresolverfactory get resource resolver getresourceresolver resource root resource resolver resourceresolver get resource getresource test root testroot resource resolver resourceresolver create root test value map valuemap empty resource resolver resourceresolver create test root testroot node immutable map immutablemap string object builder prop build suppress warnings suppresswarnings unchecked test test map testmap io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node map string object map resource adapt to adaptto map assert true asserttrue map value map valuemap map modifiable value map modifiablevaluemap assert equals assertequals map prop suppress warnings suppresswarnings unchecked test expected unsupported operation exception unsupportedoperationexception test map testmap readonly io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node map string object map resource adapt to adaptto map map prop test test value map testvaluemap io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap map resource adapt to adaptto value map valuemap assert true asserttrue map value map valuemap map modifiable value map modifiablevaluemap assert equals assertequals map prop test expected unsupported operation exception unsupportedoperationexception test value map map testvaluemapmap readonly io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap map resource adapt to adaptto value map valuemap map prop test test modifiable value map testmodifiablevaluemap io exception ioexception resource resource resource resolver resourceresolver get resource getresource test root testroot get path getpath node value map valuemap map resource adapt to adaptto modifiable value map modifiablevaluemap assert true asserttrue map value map valuemap map modifiable value map modifiablevaluemap assert equals assertequals map prop map prop
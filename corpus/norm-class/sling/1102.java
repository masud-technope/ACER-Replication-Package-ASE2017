licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl jobs config java util arrays java util map org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property option propertyoption org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org apache sling event impl support topic matcher topicmatcher org apache sling event impl support topic matcher helper topicmatcherhelper org apache sling event jobs queue configuration queueconfiguration org osgi framework constants org slf logger org slf logger factory loggerfactory component metatype org apache sling event jobs queue configuration queueconfiguration label apache sling job queue configuration description configuration job processing queue configuration factory configurationfactory policy configuration policy configurationpolicy require service internal queue configuration internalqueueconfiguration properties property configuration constants configurationconstants prop label description queue matching token substitute real property configuration constants configurationconstants prop topics unbounded property unbounded propertyunbounded array label topics description required lists topics processed queue list strings string ends dot topics match string ends star topics sub packages subpackages match string ends dot star assumed define exact topic property configuration constants configurationconstants prop type configuration constants configurationconstants type options property option propertyoption unordered parallel property option propertyoption ordered ordered property option propertyoption topic robin topic robin label type description queue type property configuration constants configurationconstants prop max parallel int value intvalue configuration constants configurationconstants max parallel label maximum parallel jobs description maximum number parallel jobs started queue substituted number processors property configuration constants configurationconstants prop retries int value intvalue configuration constants configurationconstants retries label maximum retries description maximum number times failed job slated retries retried job retried number times fails res cheduled rescheduled assumed failed property configuration constants configurationconstants prop retry delay long value longvalue configuration constants configurationconstants retry delay label retry delay description number milliseconds sleep consecutive retries job failed retried seconds relevant single failed job queue multiple failed jobs job retried turn int ervening intervening delay property configuration constants configurationconstants prop priority configuration constants configurationconstants priority options property option propertyoption norm norm property option propertyoption min min property option propertyoption max max label priority description priority threads queue nor m norm property configuration constants configurationconstants prop jobs bool value boolvalue configuration constants configurationconstants jobs label history description option enabled successful finished jobs provide complete history property configuration constants configurationconstants prop prefer creation instance bool value boolvalue configuration constants configurationconstants prefer creation instance label prefer creation instance description option enabled jobs instance job created property configuration constants configurationconstants prop thread pool size int value intvalue configuration constants configurationconstants thread pool size label thread pool size description optional configuration thread pool queue positive number threads configuration queue thread pool configured number threads property constants service ranking int value intvalue property private propertyprivate label ranking description integer defining ranking queue configuration queue matches job topic highest ranking property webconsole configuration factory configurationfactory name hint namehint queue configuration constants configurationconstants prop internal queue configuration internalqueueconfiguration queue configuration queueconfiguration comparable internal queue configuration internalqueueconfiguration logger logger logger logger factory loggerfactory get logger getlogger get class getclass queue string queue type type type number retries retries retry delay retry delay retrydelay thread priority thread priority threadpriority priority maximum number parallel processes ordered queues max parallel processes maxparallelprocesses ordering service ranking serviceranking match ers matchers topics topic matcher topicmatcher match ers matchers configured topics string topics jobs keep jobs keepjobs valid flag valid optional thread pool size own thread pool size ownthreadpoolsize prefer creation instance prefer creation instance prefercreationinstance string pid create configuration config internal queue configuration internalqueueconfiguration from configuration fromconfiguration map string object params internal queue configuration internalqueueconfiguration internal queue configuration internalqueueconfiguration activate params internal queue configuration internalqueueconfiguration activate create queue configuration activate activate map string object params properties util propertiesutil to string tostring params configuration constants configurationconstants prop priority thread priority threadpriority value of valueof properties util propertiesutil to string tostring params configuration constants configurationconstants prop priority configuration constants configurationconstants priority illegal argument exception illegalargumentexception iae logger warn invalid queue priority params configuration constants configurationconstants prop priority priority thread priority threadpriority value of valueof configuration constants configurationconstants priority type type value of valueof properties util propertiesutil to string tostring params configuration constants configurationconstants prop type configuration constants configurationconstants type illegal argument exception illegalargumentexception iae logger error invalid queue type configuration params configuration constants configurationconstants prop type type retries properties util propertiesutil to integer tointeger params configuration constants configurationconstants prop retries configuration constants configurationconstants retries retry delay retrydelay properties util propertiesutil to long tolong params configuration constants configurationconstants prop retry delay configuration constants configurationconstants retry delay max parallel maxparallel properties util propertiesutil to integer tointeger params configuration constants configurationconstants prop max parallel configuration constants configurationconstants max parallel max parallel processes maxparallelprocesses max parallel maxparallel configuration constants configurationconstants number process ors processors max parallel maxparallel ignore parallel setting ordered queues type type ordered max parallel processes maxparallelprocesses string topics param topicsparam properties util propertiesutil to string array tostringarray params configuration constants configurationconstants prop topics match ers matchers topic matcher helper topicmatcherhelper build matchers buildmatchers topics param topicsparam match ers matchers topics topics topics param topicsparam keep jobs keepjobs properties util propertiesutil to boolean toboolean params configuration constants configurationconstants prop jobs configuration constants configurationconstants jobs service ranking serviceranking properties util propertiesutil to integer tointeger params constants service ranking own thread pool size ownthreadpoolsize properties util propertiesutil to integer tointeger params configuration constants configurationconstants prop thread pool size configuration constants configurationconstants thread pool size prefer creation instance prefercreationinstance properties util propertiesutil to boolean toboolean params configuration constants configurationconstants prop prefer creation instance configuration constants configurationconstants prefer creation instance pid string params constants service pid valid check is valid checkisvalid check configuration valid invalid check is valid checkisvalid type has matchers hasmatchers match ers matchers topic matcher topicmatcher match ers matchers has matchers hasmatchers has matchers hasmatchers length retries max parallel processes maxparallelprocesses is valid isvalid valid check queue processes event param topic topic event queue code code string match string topic match ers matchers topic matcher topicmatcher match ers matchers string rep match topic rep replace rep queue string get name getname org apache sling event jobs queue configuration queueconfiguration get retry delay in ms getretrydelayinms override get retry delay in ms getretrydelayinms retry delay retrydelay org apache sling event jobs queue configuration queueconfiguration get max retries getmaxretries override get max retries getmaxretries retries org apache sling event jobs queue configuration queueconfiguration get type gettype override type get type gettype type org apache sling event jobs queue configuration queueconfiguration get max parallel getmaxparallel override get max parallel getmaxparallel max parallel processes maxparallelprocesses org apache sling event jobs queue configuration queueconfiguration get topics gettopics override string get topics gettopics topics org apache sling event jobs queue configuration queueconfiguration get ranking getranking override get ranking getranking service ranking serviceranking string get pid getpid pid override is keep jobs iskeepjobs keep jobs keepjobs override get own thread pool size getownthreadpoolsize own thread pool size ownthreadpoolsize override is prefer run on creation instance ispreferrunoncreationinstance prefer creation instance prefercreationinstance override string to string tostring queue configuration hash code hashcode type type topics match ers matchers arrays to string tostring match ers matchers max parallel processes maxparallelprocesses max parallel processes maxparallelprocesses retries retries retry delay in ms retrydelayinms retry delay retrydelay keep jobs keepjobs keep jobs keepjobs prefer run on creation instance preferrunoncreationinstance prefer creation instance prefercreationinstance own thread pool size ownthreadpoolsize own thread pool size ownthreadpoolsize service ranking serviceranking service ranking serviceranking pid pid is valid isvalid is valid isvalid override compare to compareto internal queue configuration internalqueueconfiguration service ranking serviceranking service ranking serviceranking service ranking serviceranking service ranking serviceranking override thread priority threadpriority get thread priority getthreadpriority priority
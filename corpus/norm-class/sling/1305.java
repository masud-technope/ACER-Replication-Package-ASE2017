licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer org osgi framework bundle context bundlecontext org osgi framework bundle event bundleevent org osgi framework bundle listener bundlelistener org osgi framework framework event frameworkevent org osgi framework framework listener frameworklistener org osgi framework service event serviceevent org osgi framework service listener servicelistener org osgi framework service registration serviceregistration org osgi service configuration event configurationevent org osgi service configuration listener configurationlistener utility waits osg i osgi events happen amount time events detector eventsdetector framework listener frameworklistener bundle listener bundlelistener configuration listener configurationlistener service listener servicelistener last event lastevent service registration serviceregistration config reg configreg bundle context bundlecontext ctx events detector eventsdetector bundle context bundlecontext ctx ctx ctx ctx add bundle listener addbundlelistener ctx add framework listener addframeworklistener ctx add service listener addservicelistener config reg configreg ctx register service registerservice configuration listener configurationlistener get name getname close config reg configreg unregister ctx remove service listener removeservicelistener ctx remove framework listener removeframeworklistener ctx remove bundle listener removebundlelistener wait for no events waitfornoevents time without events msec timewithouteventsmsec timeout msec timeoutmsec interrupted exception interruptedexception end time endtime system current time millis currenttimemillis timeout msec timeoutmsec exit time exittime last event lastevent time without events msec timewithouteventsmsec system current time millis currenttimemillis end time endtime system current time millis currenttimemillis exit time exittime thread sleep illegal state exception illegalstateexception time without events msec timewithouteventsmsec msec events waiting timeout msec timeoutmsec record last event recordlastevent last event lastevent system current time millis currenttimemillis framework event frameworkevent framework event frameworkevent arg record last event recordlastevent bundle changed bundlechanged bundle event bundleevent arg record last event recordlastevent configuration event configurationevent configuration event configurationevent arg record last event recordlastevent service changed servicechanged service event serviceevent arg record last event recordlastevent
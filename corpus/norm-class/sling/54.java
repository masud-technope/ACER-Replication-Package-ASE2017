licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing teleporter client java buffered input stream bufferedinputstream java file java file input stream fileinputstream java io exception ioexception java input stream inputstream java net url java util enumeration java util jar jar entry jarentry java util jar jar file jarfile finds visits resources class loaders classloaders based path path points folder child resources visited works file jar resource protocols class resource visitor classresourcevisitor clazz string path processor process string resource path resourcepath input stream inputstream resource stream resourcestream io exception ioexception visit resources clazz class loader classloader based supplied path param clazz param path points folder visited recursively class resource visitor classresourcevisitor clazz string path clazz clazz path path visit processor io exception ioexception url resourceurl clazz get resource getresource path resourceurl string protocol resourceurl get protocol getprotocol file equals protocol base path remove slash string base path basepath clazz get resource getresource get path getpath base path basepath base path basepath substring base path basepath length process file processfile base path basepath file resourceurl get path getpath jar equals protocol jar entries relative paths string r path rpath path starts with startswith path substring path string jar file path jarfilepath resourceurl get path getpath split substring file length jar file jarfile jar jar file jarfile jar file path jarfilepath enumeration jar entry jarentry entries jar entries entries has more elements hasmoreelements jar entry jarentry entries next element nextelement is directory isdirectory jar entry matches jarentrymatches r path rpath get name getname input stream inputstream jar get input stream getinputstream process get name getname close jar close illegal argument exception illegalargumentexception unkown protocol protocol entry matches path param given path givenpath ends considered folder check exact match param entry path entrypath path jar entry check match jar entry matches jarentrymatches string given path givenpath string entry path entrypath given path givenpath ends with endswith entry path entrypath starts with startswith given path givenpath entry path entrypath equals given path givenpath process file processfile string base path basepath file processor io exception ioexception is directory isdirectory string names list names string names process file processfile base path basepath file input stream inputstream buffered input stream bufferedinputstream file input stream fileinputstream process get absolute path getabsolutepath substring base path basepath length close
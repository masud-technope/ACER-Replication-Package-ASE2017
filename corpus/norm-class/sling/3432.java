licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting java script javascript wrapper java util array list arraylist java util collection java util collections java util iterator java util list javax jcr node javax jcr node iterator nodeiterator javax jcr property javax jcr property iterator propertyiterator javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr javax jcr value format exception valueformatexception javax jcr node type nodetype node type nodetype org apache sling jcr resource jcr resource util jcrresourceutil org apache sling scripting java script javascript sling wrapper slingwrapper org mozilla java script javascript context org mozilla java script javascript native array nativearray org mozilla java script javascript script runtime scriptruntime org mozilla java script javascript scriptable org mozilla java script javascript undefined org slf logger org slf logger factory loggerfactory wrapper jcr nodes exp oses exposes properties child nodes properties java script javascript object suppress warnings suppresswarnings serial scriptable node scriptablenode scriptable base scriptablebase sling wrapper slingwrapper string class name classname node wrapped classes node log logger log logger factory loggerfactory get logger getlogger get class getclass wrapped jcr node instance code link js constructor jsconstructor object method called node host object prototype node node js constructor jsconstructor object res node node res string get class name getclassname class name classname get wrapped classes getwrappedclasses wrapped classes override get static type getstatictype node override object get wrapped object getwrappedobject node object js function jsfunction add node addnode string path string primary type primarytype repository exception repositoryexception node primary type primarytype undefined equals primary type primarytype node add node addnode path node add node addnode path primary type primarytype object result script runtime scriptruntime to object toobject result object js function jsfunction get node getnode string path repository exception repositoryexception script runtime scriptruntime to object toobject node get node getnode path object js function jsfunction get children getchildren to scriptable item map toscriptableitemmap node get nodes getnodes repository exception repositoryexception log warn children js function jsfunction get path getpath to scriptable item map toscriptableitemmap object js function jsfunction get nodes getnodes string name pattern namepattern node iterator nodeiterator iter name pattern namepattern undefined equals name pattern namepattern iter node get nodes getnodes iter node get nodes getnodes name pattern namepattern to scriptable item map toscriptableitemmap iter repository exception repositoryexception log warn children js function jsfunction get path getpath pattern name pattern namepattern to scriptable item map toscriptableitemmap object js function jsfunction get properties getproperties to scriptable item map toscriptableitemmap node get properties getproperties repository exception repositoryexception log warn properties js function jsfunction get path getpath to scriptable item map toscriptableitemmap object js function jsfunction get primary item getprimaryitem script runtime scriptruntime to object toobject node get primary item getprimaryitem repository exception repositoryexception undefined instance object js function jsfunction get property getproperty string repository exception repositoryexception object args node get property getproperty script runtime scriptruntime new object newobject context get current context getcurrentcontext scriptable property scriptableproperty class name classname args string js function jsfunction getuuid node getuuid repository exception repositoryexception js function jsfunction get index getindex node get index getindex repository exception repositoryexception iterator js function jsfunction get references getreferences node get references getreferences repository exception repositoryexception collections empty list iterator object js function jsfunction get primary node type getprimarynodetype node get primary node type getprimarynodetype repository exception repositoryexception undefined instance node type nodetype js function jsfunction get mixin node types getmixinnodetypes node get mixin node types getmixinnodetypes repository exception repositoryexception node type nodetype object js function jsfunction get definition getdefinition node get definition getdefinition repository exception repositoryexception undefined instance js function jsfunction get checked out getcheckedout node is checked out ischeckedout repository exception repositoryexception object js function jsfunction get version history getversionhistory script runtime scriptruntime to object toobject node get version history getversionhistory repository exception repositoryexception undefined instance object js function jsfunction get base version getbaseversion script runtime scriptruntime to object toobject node get base version getbaseversion repository exception repositoryexception undefined instance object js function jsfunction get lock getlock node get lock getlock repository exception repositoryexception undefined instance js function jsfunction get locked getlocked node is locked islocked repository exception repositoryexception object js function jsfunction get session getsession node get session getsession repository exception repositoryexception undefined instance string js function jsfunction get path getpath node get path getpath repository exception repositoryexception node to string tostring string js function jsfunction get name getname node get name getname repository exception repositoryexception node to string tostring object js function jsfunction get parent getparent script runtime scriptruntime to object toobject node get parent getparent repository exception repositoryexception undefined instance js function jsfunction get depth getdepth node get depth getdepth repository exception repositoryexception js function jsfunction get new getnew node is new isnew js function jsfunction get modified getmodified node is modified ismodified js function jsfunction remove repository exception repositoryexception node remove js function jsfunction has node hasnode string path repository exception repositoryexception node has node hasnode path java script javascript property child node single single jcr property node string multiple properties child nodes array override object string scriptable start built in builtin java script javascript properties js function jsfunction priority object from superclass fromsuperclass start from superclass fromsuperclass scriptable from superclass fromsuperclass node undefined instance list scriptable items array list arraylist scriptable add matching nodes result node iterator nodeiterator node get nodes getnodes has next hasnext items add script runtime scriptruntime to object toobject next node nextnode repository exception repositoryexception log debug repository exception repositoryexception collecting node children add matching properties result is multi ismulti property iterator propertyiterator node get properties getproperties has next hasnext property prop next property nextproperty prop get definition getdefinition is multiple ismultiple is multi ismulti values prop get values getvalues values length items add wrap values items add wrap prop get value getvalue repository exception repositoryexception log debug repository exception repositoryexception collecting node properties items size get native getnative start items size is multi ismulti items iterator native array nativearray result native array nativearray items to array toarray script runtime scriptruntime set object proto and parent setobjectprotoandparent result result wrap jcr values simple scriptable wrap value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception object java object javaobject get type gettype property type propertytype reference string node uuid nodeuuid get string getstring java object javaobject node get session getsession getnodebyuuid node uuid nodeuuid java object javaobject jcr resource util jcrresourceutil to java object tojavaobject script runtime scriptruntime to object toobject java object javaobject override object get ids getids collection string ids array list arraylist string node property iterator propertyiterator pit node get properties getproperties pit has next hasnext ids add pit next property nextproperty get name getname repository exception repositoryexception node iterator nodeiterator nit node get nodes getnodes nit has next hasnext ids add nit next node nextnode get name getname repository exception repositoryexception ids to array toarray suppress warnings suppresswarnings unchecked override object get default value getdefaultvalue type hint typehint to string tostring override string scriptable start node todo account js function jsfunction members node has property hasproperty node has node hasnode repository exception repositoryexception override string to string tostring node node get path getpath repository exception repositoryexception node to string tostring string value of valueof object wrapper returns wrapped node object unwrap node helper object to scriptable item map toscriptableitemmap iterator iter object args iter object iter script runtime scriptruntime new object newobject context get current context getcurrentcontext scriptable item map scriptableitemmap class name classname args
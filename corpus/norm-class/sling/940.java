licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets resolver internal helper org apache sling servlets resolver internal servlet resolver constants servletresolverconstants servlet org apache sling api resource resource org apache sling api resource resource util resourceutil org apache sling commons testing sling mock resource mockresource location iterator test locationiteratortest helper test base helpertestbase location iterator locationiterator get location iterator getlocationiterator string resource type resourcetype string resource super type resourcesupertype get location iterator getlocationiterator resource type resourcetype resource super type resourcesupertype servlet location iterator locationiterator get location iterator getlocationiterator string resource type resourcetype string resource super type resourcesupertype string base resource type baseresourcetype location iterator locationiterator location iterator locationiterator resource type resourcetype resource super type resourcesupertype base resource type baseresourcetype resource resolver resourceresolver test search path empty testsearchpathempty expect path resource resolver resourceresolver set search path setsearchpath string resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath sling servlet assert true asserttrue has next hasnext assert equals assertequals servlet finished assert false assertfalse has next hasnext test search path testsearchpath element string root apps resource resolver resourceresolver set search path setsearchpath root resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype apps foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type path resourcetypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path testsearchpath elements string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype apps foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type path resourcetypepath libs foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type path resourcetypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet libs sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path empty absolute type testsearchpathemptyabsolutetype expect path resource resolver resourceresolver set search path setsearchpath string absolute resource type resource type resourcetype foo bar resource type path resourcetypepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource set resource type setresourcetype resource type resourcetype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath sling servlet assert true asserttrue has next hasnext assert equals assertequals servlet finished assert false assertfalse has next hasnext test search path testsearchpath element absolute type elementabsolutetype string root apps resource resolver resourceresolver set search path setsearchpath root absolute resource type resource type resourcetype foo bar resource type path resourcetypepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource set resource type setresourcetype resource type resourcetype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path testsearchpath elements absolute type elementsabsolutetype string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root absolute resource type resource type resourcetype foo bar resource type path resourcetypepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource set resource type setresourcetype resource type resourcetype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet libs sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path empty with super testsearchpathemptywithsuper expect path resource resolver resourceresolver set search path setsearchpath string resource type resource super type resourcesupertype foo super bar superbar resource super type path resourcesupertypepath resource util resourceutil resource type to path resourcetypetopath resource super type resourcesupertype resource set resource super type setresourcesupertype resource super type resourcesupertype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals resource super type path resourcesupertypepath sling servlet assert true asserttrue has next hasnext assert equals assertequals servlet finished assert false assertfalse has next hasnext test search path testsearchpath element with super elementwithsuper string root apps resource resolver resourceresolver set search path setsearchpath root resource type resource super type resourcesupertype foo super bar superbar resource super type path resourcesupertypepath resource util resourceutil resource type to path resourcetypetopath resource super type resourcesupertype resource set resource super type setresourcesupertype resource super type resourcesupertype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype apps foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type path resourcetypepath apps foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals root resource super type path resourcesupertypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path testsearchpath elements with super elementswithsuper string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root resource type resource super type resourcesupertype foo super bar superbar resource super type path resourcesupertypepath resource util resourceutil resource type to path resourcetypetopath resource super type resourcesupertype resource set resource super type setresourcesupertype resource super type resourcesupertype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype apps foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type path resourcetypepath libs foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type path resourcetypepath apps foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals root resource super type path resourcesupertypepath libs foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals root resource super type path resourcesupertypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet libs sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path empty absolute type with super testsearchpathemptyabsolutetypewithsuper expect path resource resolver resourceresolver set search path setsearchpath string absolute resource type resource type resourcetype foo bar resource type path resourcetypepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource set resource type setresourcetype resource type resourcetype resource type resource super type resourcesupertype foo super bar superbar resource super type path resourcesupertypepath resource util resourceutil resource type to path resourcetypetopath resource super type resourcesupertype resource set resource super type setresourcesupertype resource super type resourcesupertype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals resource super type path resourcesupertypepath sling servlet assert true asserttrue has next hasnext assert equals assertequals servlet finished assert false assertfalse has next hasnext test search path testsearchpath element absolute type with super elementabsolutetypewithsuper string root apps resource resolver resourceresolver set search path setsearchpath root absolute resource type resource type resourcetype foo bar resource type path resourcetypepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource set resource type setresourcetype resource type resourcetype resource type resource super type resourcesupertype foo super bar superbar resource super type path resourcesupertypepath resource util resourceutil resource type to path resourcetypetopath resource super type resourcesupertype resource set resource super type setresourcesupertype resource super type resourcesupertype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath apps foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals root resource super type path resourcesupertypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test search path testsearchpath elements absolute type with super elementsabsolutetypewithsuper string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root absolute resource type resource type resourcetype foo bar resource type path resourcetypepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource set resource type setresourcetype resource type resourcetype resource type resource super type resourcesupertype foo super bar superbar resource super type path resourcesupertypepath resource util resourceutil resource type to path resourcetypetopath resource super type resourcesupertype resource set resource super type setresourcesupertype resource super type resourcesupertype resource request get resource getresource location iterator locationiterator get location iterator getlocationiterator get resource type getresourcetype get resource super type getresourcesupertype foo bar assert true asserttrue has next hasnext assert equals assertequals resource type path resourcetypepath apps foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals root resource super type path resourcesupertypepath libs foo super bar superbar assert true asserttrue has next hasnext assert equals assertequals root resource super type path resourcesupertypepath apps sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet libs sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext test script name without resource type testscriptnamewithoutresourcetype string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root location iterator locationiterator get location iterator getlocationiterator assert true asserttrue has next hasnext assert equals assertequals apps assert true asserttrue has next hasnext assert equals assertequals libs assert false assertfalse has next hasnext test script name with resource type testscriptnamewithresourcetype string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root location iterator locationiterator get location iterator getlocationiterator assert true asserttrue has next hasnext assert equals assertequals root assert true asserttrue has next hasnext assert equals assertequals root assert true asserttrue has next hasnext assert equals assertequals root servlet assert true asserttrue has next hasnext assert equals assertequals root servlet assert false assertfalse has next hasnext test script name with resource type and super type testscriptnamewithresourcetypeandsupertype string root apps string root libs resource resolver resourceresolver set search path setsearchpath root root location iterator locationiterator get location iterator getlocationiterator assert true asserttrue has next hasnext assert equals assertequals root assert true asserttrue has next hasnext assert equals assertequals root assert true asserttrue has next hasnext assert equals assertequals root assert true asserttrue has next hasnext assert equals assertequals root assert true asserttrue has next hasnext assert equals assertequals root servlet assert true asserttrue has next hasnext assert equals assertequals root servlet assert false assertfalse has next hasnext test circular resource type hierarchy testcircularresourcetypehierarchy string root libs resource resolver resourceresolver set search path setsearchpath root resource type type start resource string resource type resourcetype foo bar string resource super type resourcesupertype foo check string resource super type resourcesupertype foo check resource resource mock resource mockresource resource resolver resourceresolver root resource super type resourcesupertype resource type resourcetype resource super type resourcesupertype resource resolver resourceresolver add resource addresource resource resource resource mock resource mockresource resource resolver resourceresolver root resource super type resourcesupertype resource type resourcetype resource type resourcetype resource resolver resourceresolver add resource addresource resource location iterator locationiterator get location iterator getlocationiterator resource type resourcetype resource super type resourcesupertype libs foo bar assert true asserttrue has next hasnext assert equals assertequals root resource type resourcetype libs foo check assert true asserttrue has next hasnext assert equals assertequals root resource super type resourcesupertype libs foo check assert true asserttrue has next hasnext assert equals assertequals root resource super type resourcesupertype libs sling servlet assert true asserttrue has next hasnext assert equals assertequals root servlet finished assert false assertfalse has next hasnext
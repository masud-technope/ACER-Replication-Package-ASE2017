licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler util java util abstract map abstractmap java util collections java util hash map hashmap java util list java util map java util stack track sightly variables variable tracker variabletracker map string stack variable data variabledata hash map hashmap string stack stack string declaration stack declarationstack stack string is declared isdeclared string to lower case tolowercase stack data stack datastack variable data variabledata data stack datastack push variable variable declaration param variable param data data variable push variable pushvariable string data to lower case tolowercase stack data stack datastack variable data variabledata data stack datastack data stack datastack stack variable data variabledata data stack datastack data stack datastack push data declaration stack declarationstack push pop variable variable scope popped variable java util no such element exception nosuchelementexception declared variables scope string pop variable popvariable string variable declaration stack declarationstack pop stack data stack datastack variable data variabledata variable data stack datastack data stack datastack pop data stack datastack is empty isempty variable data variabledata remove variable variable peek top declaration stack declared variable data java util no such element exception nosuchelementexception variables scope map entry string peek string variable declaration stack declarationstack peek stack data stack datastack variable data variabledata variable data stack datastack data data stack datastack peek abstract map abstractmap simple immutable entry simpleimmutableentry string variable data is empty isempty declaration stack declarationstack is empty isempty data variable param variable data variable scope string to lower case tolowercase stack data stack datastack variable data variabledata data stack datastack data stack datastack is empty isempty data stack datastack peek check variable declared visible current scope param variable visibility variable current scope is in scope isinscope string to lower case tolowercase variable data variabledata immutable view data items variable param variable list data variable variable declared current scope list empty data current scope starting data top most topmost scope data list get all getall string to lower case tolowercase stack data stack datastack variable data variabledata data stack datastack collections empty list emptylist collections unmodifiable list unmodifiablelist data stack datastack times variable declared current scope param variable number declarations variable current scope get occurrence count getoccurrencecount string to lower case tolowercase stack data stack datastack variable data variabledata data stack datastack data stack datastack size
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling oak server java util collections singleton java security principal java security privileged action exception privilegedactionexception java security privileged exception action privilegedexceptionaction java util collections java util hash map hashmap java util map java util javax jcr repository exception repositoryexception javax jcr session javax security subject org apache jackrabbit api jackrabbit repository jackrabbitrepository org apache jackrabbit oak api auth info authinfo org apache jackrabbit oak spi security authentication auth info impl authinfoimpl org apache jackrabbit oak spi security principal admin principal adminprincipal org apache sling jcr base abstract sling repository abstractslingrepository org apache sling jcr base abstract sling repository manager abstractslingrepositorymanager org osgi framework bundle sling repository implementation wraps oak osg i osgi repository implementation oak project oak sling repository oakslingrepository abstract sling repository abstractslingrepository string admin name adminname oak sling repository oakslingrepository abstract sling repository manager abstractslingrepositorymanager manager bundle using bundle usingbundle string admin name adminname manager using bundle usingbundle admin name adminname admin name adminname override session create administrative session createadministrativesession string workspace repository exception repositoryexception todo principal provider retrieve admin principal principal principals singleton admin principal adminprincipal override string get name getname oak sling repository oakslingrepository admin name adminname auth info authinfo auth info authinfo auth info impl authinfoimpl admin name adminname collections string object empty map emptymap principals subject subject subject principals singleton auth info authinfo collections object empty set emptyset session admin session adminsession admin session adminsession subject do as privileged doasprivileged subject privileged exception action privilegedexceptionaction session override session exception map string object attrs hash map hashmap string object attrs oak refresh int erval interval todo oak compatibility live d lived sessions jackrabbit repository jackrabbitrepository repo jackrabbit repository jackrabbitrepository get repository getrepository repo login attrs privileged action exception privilegedactionexception repository exception repositoryexception failed retrieve admin session admin session adminsession
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource merge r resourcemerger impl java util array list arraylist java util iterator java util list org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org apache sling resource merge r resourcemerger spi merged resource picker mergedresourcepicker org apache sling spi resource provider resolver context resolvercontext org apache sling spi resource provider resource context resourcecontext org apache sling spi resource provider resource provider resourceprovider merging resource provider mergingresourceprovider resource provider resourceprovider string merge root path mergerootpath merged resource picker mergedresourcepicker picker read only readonly traverse hierarchie traversehierarchie merging resource provider mergingresourceprovider string merge root path mergerootpath merged resource picker mergedresourcepicker picker read only readonly traverse hierarchie traversehierarchie merge root path mergerootpath merge root path mergerootpath picker picker read only readonly read only readonly traverse hierarchie traversehierarchie traverse hierarchie traversehierarchie exclude entry excludeentry string exclude exclude entry excludeentry string starts with startswith substring exclude starts with startswith substring exclude exclude check child resource hidden instantiated underlying resource tree libs check expensive parent hiding handler parenthidinghandler list exclude entry excludeentry entries array list arraylist exclude entry excludeentry parent hiding handler parenthidinghandler resource parent traverse parent traverseparent value map valuemap parent props parentprops parent get value map getvaluemap string children to hide array childrentohidearray parent props parentprops merged resource constants mergedresourceconstants hide children string children to hide array childrentohidearray string children to hide array childrentohidearray exclude entry excludeentry entry exclude entry excludeentry entries add entry parent resource ancestor parent get parent getparent string previous ancestor name previousancestorname parent get name getname ancestor value map valuemap ancestor props ancestorprops ancestor get value map getvaluemap string ancestor children to hide array ancestorchildrentohidearray ancestor props ancestorprops merged resource constants mergedresourceconstants hide children string ancestor children to hide array ancestorchildrentohidearray string ancestor children to hide array ancestorchildrentohidearray exclude entry excludeentry entry exclude entry excludeentry hides hides entry previous ancestor name previousancestorname hides hides boolean value booleanvalue entries add exclude entry excludeentry traverse parent traverseparent previous ancestor name previousancestorname ancestor get name getname ancestor ancestor get parent getparent is hidden ishidden string hidden entries exclude entry excludeentry entry entries result hides entry result hidden result boolean value booleanvalue hidden determine entry hide named resource entry matches hides exclude entry excludeentry entry string result entry equals entry equals result value of valueof entry exclude result resource holder resourceholder string list resource resources array list arraylist resource list value map valuemap value maps valuemaps array list arraylist value map valuemap resource holder resourceholder string create merged resource based resources resource create merged resource createmergedresource resource resolver resourceresolver resolver string relative path relativepath resource holder resourceholder holder holder resources size resource base res baseres holder resources check resource hidden value map valuemap props base res baseres get value map getvaluemap holder value maps valuemaps add props props merged resource constants mergedresourceconstants hide resource clear holder resources remove holder value maps valuemaps clear start holder resources is empty isempty create merged resource based list mapped physical resources read only readonly merged resource mergedresource resolver merge root path mergerootpath relative path relativepath holder resources holder value maps valuemaps crud merged resource crudmergedresource resolver merge root path mergerootpath relative path relativepath holder resources holder value maps valuemaps picker relative path merge root path param path absolute path relative path string get relative path getrelativepath string path path starts with startswith merge root path mergerootpath path path substring merge root path mergerootpath length path length path path char at charat path substring override resource get parent getparent resolver context resolvercontext ctx resource child string parent path parentpath resource util resourceutil get parent getparent child get path getpath parent path parentpath get resource getresource ctx parent path parentpath resource context resourcecontext empty context child inherit doc inheritdoc override resource get resource getresource resolver context resolvercontext ctx string path resource context resourcecontext r ctx rctx resource parent string relative path relativepath get relative path getrelativepath path relative path relativepath resource holder resourceholder holder resource holder resourceholder resource util resourceutil get name getname path resource resolver resourceresolver resolver ctx get resource resolver getresourceresolver iterator resource resources picker pick resources pickresources resolver relative path relativepath parent iterator resources has next hasnext is underlying isunderlying resources has next hasnext resource resource resources hidden is underlying isunderlying hidden is underlying isunderlying check parent hiding sling parent readable hidden resource resource parent resourceparent resource get parent getparent hidden resource parent resourceparent parent hiding handler parenthidinghandler resource parent resourceparent traverse hierarchie traversehierarchie is hidden ishidden holder todo parent exist resource non existing resource nonexistingresource ideally common opt imised optimised hidden holder resources clear resource util resourceutil is non existing resource isnonexistingresource resource holder resources add resource create merged resource createmergedresource resolver relative path relativepath holder inherit doc inheritdoc override iterator resource list children listchildren resolver context resolvercontext ctx resource parent resource resolver resourceresolver resolver parent get resource resolver getresourceresolver string relative path relativepath get relative path getrelativepath parent get path getpath relative path relativepath list resource holder resourceholder candidates array list arraylist resource holder resourceholder iterator resource resources picker pick resources pickresources resolver relative path relativepath parent iterator is underlying isunderlying resources has next hasnext resource parent resource parentresource resources parent hiding handler parenthidinghandler handler is underlying isunderlying parent hiding handler parenthidinghandler parent resource parentresource traverse hierarchie traversehierarchie is underlying isunderlying resource child parent resource parentresource get children getchildren string rsrc name rsrcname child get name getname resource holder resourceholder holder resource holder resourceholder current candidates current equals rsrc name rsrcname holder current holder holder resource holder resourceholder rsrc name rsrcname candidates add holder holder resources add child check children reordering order before index orderbeforeindex value map valuemap child get value map getvaluemap string order before orderbefore merged resource constants mergedresourceconstants order string order before orderbefore order before orderbefore equals rsrc name rsrcname search entry candidates size resource holder resourceholder current candidates current equals order before orderbefore order before index orderbeforeindex order before index orderbeforeindex candidates add order before index orderbeforeindex holder candidates remove candidates size handler iterator resource holder resourceholder iter candidates iterator iter has next hasnext resource holder resourceholder holder iter handler is hidden ishidden holder iter remove list resource children array list arraylist resource resource holder resourceholder holder candidates resource merged resource mergedresource create merged resource createmergedresource resolver relative path relativepath length holder relative path relativepath holder holder merged resource mergedresource children add merged resource mergedresource children iterator
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery base setup org junit assert equals assertequals org junit assert not null assertnotnull org junit assert true asserttrue java util collection java util hash map hashmap java util iterator java util linked list linkedlist java util java util uuid org apache sling discovery cluster view clusterview org apache sling discovery instance description instancedescription org apache sling discovery topology view topologyview org apache sling discovery base commons default topology view defaulttopologyview org apache sling discovery commons providers default cluster view defaultclusterview org apache sling discovery commons providers default instance description defaultinstancedescription junit x junitx util private accessor privateaccessor topology helper topologyhelper default instance description defaultinstancedescription create instance description createinstancedescription cluster view clusterview cluster view clusterview create instance description createinstancedescription uuid randomuuid to string tostring cluster view clusterview default instance description defaultinstancedescription create instance description createinstancedescription string instance id instanceid is local islocal cluster view clusterview cluster view clusterview cluster view clusterview default cluster view defaultclusterview illegal argument exception illegalargumentexception pass cluster view clusterview type default cluster view defaultclusterview default instance description defaultinstancedescription default instance description defaultinstancedescription default cluster view defaultclusterview cluster view clusterview is local islocal instance id instanceid hash map hashmap string string default topology view defaulttopologyview create topology view createtopologyview string cluster view id clusterviewid string sling id slingid default topology view defaulttopologyview default topology view defaulttopologyview default cluster view defaultclusterview default cluster view defaultclusterview cluster view id clusterviewid default instance description defaultinstancedescription default instance description defaultinstancedescription sling id slingid hash map hashmap string string collection instance description instancedescription instances linked list linkedlist instance description instancedescription instances add add instances addinstances instances default topology view defaulttopologyview clone topology view clonetopologyview default topology view defaulttopologyview original default topology view defaulttopologyview default topology view defaulttopologyview iterator cluster view clusterview original get cluster views getclusterviews iterator has next hasnext default cluster view defaultclusterview default cluster view defaultclusterview add instances addinstances clone get instances getinstances default cluster view defaultclusterview clone default cluster view defaultclusterview original default cluster view defaultclusterview default cluster view defaultclusterview original get id getid iterator instance description instancedescription original get instances getinstances iterator has next hasnext default instance description defaultinstancedescription default instance description defaultinstancedescription add instance description addinstancedescription clonewoclusterview default instance description defaultinstancedescription clonewoclusterview default instance description defaultinstancedescription original default instance description defaultinstancedescription default instance description defaultinstancedescription original is leader isleader original is local islocal original get sling id getslingid hash map hashmap string string original get properties getproperties default instance description defaultinstancedescription create and add instance description createandaddinstancedescription default topology view defaulttopologyview new view newview cluster view clusterview cluster view clusterview default instance description defaultinstancedescription create instance description createinstancedescription cluster view clusterview add instance description addinstancedescription new view newview default instance description defaultinstancedescription add instance description addinstancedescription default topology view defaulttopologyview new view newview default instance description defaultinstancedescription collection instance description instancedescription instances linked list linkedlist instance description instancedescription instances add new view newview add instances addinstances instances default topology view defaulttopologyview clone topology view clonetopologyview default topology view defaulttopologyview view string new leader newleader no such field exception nosuchfieldexception default topology view defaulttopologyview clone clone topology view clonetopologyview view default cluster view defaultclusterview cluster default cluster view defaultclusterview clone get cluster views getclusterviews iterator iterator cluster get instances getinstances iterator has next hasnext default instance description defaultinstancedescription default instance description defaultinstancedescription private accessor privateaccessor set field setfield is leader isleader get sling id getslingid equals new leader newleader clone assert topology consists of asserttopologyconsistsof topology view topologyview topology string sling ids slingids assert not null assertnotnull topology assert equals assertequals sling ids slingids length topology get instances getinstances size sling ids slingids length string a sling id aslingid sling ids slingids instances topology get instances getinstances iterator instances iterator has next hasnext instance description instancedescription an instance aninstance instance description instancedescription an instance aninstance get sling id getslingid equals a sling id aslingid assert true asserttrue
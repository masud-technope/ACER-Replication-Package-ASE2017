licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr content loader contentloader internal read ers readers java buffered reader bufferedreader java file java file input stream fileinputstream java i o exception ioexception java input stream inputstream java input stream reader inputstreamreader java net url java util array list arraylist java util java util list java util map javax jcr repository exception repositoryexception junit framework test case testcase org apache sling jcr content loader contentloader content creator contentcreator xml reader test xmlreadertest test case testcase xml reader xmlreader reader mock content creator mockcontentcreator creator test xml reader xmlreader xslt transform test xml reader testxmlreader exception file file file src test resources reader sample xml url test data testdata file touri tourl reader parse test data testdata creator assert equals assertequals create expected number nodes creator size test inclusion binary files test create file testcreatefile exception file input file src test resources reader files amp le filesample xml url test data testdata input touri tourl reader parse test data testdata creator assert equals assertequals create expected number files creator files created filescreated size mock content creator mockcontentcreator file description filedescription file creator files created filescreated file data test case testcase fail close input stream inputstream i o exception ioexception ignore assert equals assertequals mime type mimetype mismatch application test file mime type mimetype assert equals assertequals last modified lastmodified mismatch xml reader xmlreader file description filedescription format parse file last modified lastmodified assert equals assertequals read file test file file content test create file with null location testcreatefilewithnulllocation exception file input file src test resources reader files amp le filesample xml file input stream fileinputstream ins file input stream fileinputstream input reader parse ins creator assert equals assertequals created files should n shouldn creator files created filescreated size ins close test use last modified testuseoslastmodified repository exception repositoryexception i o exception ioexception file input file src test resources reader date fallback sample datefallbacksample xml url test data testdata input touri tourl reader parse test data testdata creator file file file src test resources reader test file testfile txt original last modified originallastmodified file last modified lastmodified assert equals assertequals create expected number files creator files created filescreated size mock content creator mockcontentcreator file description filedescription file description filedescription creator files created filescreated assert equals assertequals pick modified file original last modified originallastmodified file description filedescription last modified lastmodified set up setup exception set up setup reader xml reader xmlreader reader activate creator mock content creator mockcontentcreator suppress warnings suppresswarnings serial mock content creator mockcontentcreator array list arraylist string content creator contentcreator file description filedescription input stream inputstream data string mime type mimetype last modified lastmodified string content file description filedescription input stream inputstream data string mime type mimetype last modified lastmodified i o exception ioexception data data mime type mimetype mime type mimetype last modified lastmodified last modified lastmodified buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader data content reader read line readline reader close list file description filedescription files created filescreated array list arraylist file description filedescription mock content creator mockcontentcreator create node createnode string string primary node type primarynodetype string mixin node types mixinnodetypes repository exception repositoryexception add finish node finishnode repository exception repositoryexception create property createproperty string property type propertytype string repository exception repositoryexception create property createproperty string property type propertytype string values repository exception repositoryexception create property createproperty string object repository exception repositoryexception create property createproperty string object values repository exception repositoryexception create file and resource node createfileandresourcenode string input stream inputstream data string mime type mimetype last modified lastmodified repository exception repositoryexception files created filescreated add file description filedescription data mime type mimetype last modified lastmodified i o exception ioexception runtime exception runtimeexception switch current node switchcurrentnode string sub path subpath string new node type newnodetype repository exception repositoryexception create ace createace string principal string granted privileges grantedprivileges string denied privileges deniedprivileges string order repository exception repositoryexception create group creategroup string string members map string object extra properties extraproperties repository exception repositoryexception create user createuser string string password map string object extra properties extraproperties repository exception repositoryexception
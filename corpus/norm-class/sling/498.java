licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling api resource org junit assert equals assertequals org junit assert not same assertnotsame org junit fail java util array list arraylist java util collection java util hash map hashmap java util iterator java util map java util map entry java util org junit test resource metadata test resourcemetadatatest map string object test map hash map hashmap string object test map test map integer max test test locked put testlockedput resource metadata resourcemetadata resource metadata resourcemetadata lock locking fail fail locking unsupported operation exception unsupportedoperationexception uoe test test locked clear testlockedclear resource metadata resourcemetadata resource metadata resourcemetadata lock clear fail clear fail locking unsupported operation exception unsupportedoperationexception uoe test test locked put all testlockedputall resource metadata resourcemetadata resource metadata resourcemetadata lock put all putall test map fail put all putall fail locking unsupported operation exception unsupportedoperationexception uoe test test locked remove testlockedremove resource metadata resourcemetadata resource metadata resourcemetadata lock remove foo fail remove fail locking unsupported operation exception unsupportedoperationexception uoe test test locked entry set testlockedentryset resource metadata resourcemetadata resource metadata resourcemetadata lock entry set entryset to string tostring test expected unsupported operation exception unsupportedoperationexception test locked entry set remove testlockedentrysetremove resource metadata resourcemetadata resource metadata resourcemetadata key lock entry string object values entry set entryset iterator entry string object values iterator remove test test locked key set testlockedkeyset resource metadata resourcemetadata resource metadata resourcemetadata lock key set keyset to string tostring test expected unsupported operation exception unsupportedoperationexception test locked key set remove testlockedkeysetremove resource metadata resourcemetadata resource metadata resourcemetadata key lock string key set keyset remove key test test locked values testlockedvalues resource metadata resourcemetadata resource metadata resourcemetadata lock values to string tostring test expected unsupported operation exception unsupportedoperationexception test locked values remove testlockedvaluesremove resource metadata resourcemetadata resource metadata resourcemetadata key lock collection object values values values remove test test locked clone testlockedclone resource metadata resourcemetadata resource metadata resourcemetadata key lock force caching internal views key set keyset resource metadata resourcemetadata resource metadata resourcemetadata clone assert not same assertnotsame assert equals assertequals assert not same assertnotsame key set keyset key set keyset assert equals assertequals key set keyset key set keyset assert not same assertnotsame entry set entryset entry set entryset assert equals assertequals entry set entryset entry set entryset assert not same assertnotsame values values collections unmodifiable collection unmodifiablecollection doesn implement equals assert equals assertequals array list arraylist object values array list arraylist object values
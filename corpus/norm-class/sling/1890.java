licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license sandroboehme jsnodetypes org mockito mockito mock org mockito mockito java io exception ioexception javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr javax jcr value format exception valueformatexception javax jcr node type nodetype node definition nodedefinition javax jcr node type nodetype node type nodetype javax jcr node type nodetype property definition propertydefinition javax jcr version on parent version action onparentversionaction javax servlet servlet exception servletexception org apache sling commons json json exception jsonexception org junit org junit test sandroboehme jsnodetypes mock mock node type generator mocknodetypegenerator tests servlet generates combinations node type definitions correct json format node type generation test nodetypegenerationtest mock node type generator mocknodetypegenerator set up setup repository exception repositoryexception io exception ioexception set up setup test test supertype list testsupertypelist json exception jsonexception servlet exception servletexception io exception ioexception node type nodetype get simple node type with name getsimplenodetypewithname test node type testnodetype node type nodetype super types supertypes get simple node type with name getsimplenodetypewithname super type supertype get simple node type with name getsimplenodetypewithname super type supertype get simple node type with name getsimplenodetypewithname super type supertype get declared super types getdeclaredsupertypes then return thenreturn super types supertypes node type iterator nodetypeiterator next node type nextnodetype then return thenreturn node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test supertype list testsupertypelist test test one simple node type testonesimplenodetype servlet exception servletexception io exception ioexception json exception jsonexception node type nodetype get simple node type with name getsimplenodetypewithname test node type testnodetype node type iterator nodetypeiterator next node type nextnodetype then return thenreturn node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test one simple node type testonesimplenodetype test test simple node types testsimplenodetypes servlet exception servletexception io exception ioexception json exception jsonexception node type nodetype get simple node type with name getsimplenodetypewithname test node type testnodetype node type nodetype get simple node type with name getsimplenodetypewithname test node type testnodetype node type iterator nodetypeiterator next node type nextnodetype then return thenreturn node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test simple node types testsimplenodetypes test test node type with empty name testnodetypewithemptyname servlet exception servletexception io exception ioexception json exception jsonexception node type nodetype get simple node type with name getsimplenodetypewithname test node type testnodetype node type nodetype get simple node type with name getsimplenodetypewithname node type iterator nodetypeiterator next node type nextnodetype then return thenreturn node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test node type with empty name testnodetypewithemptyname test test complete node types testcompletenodetypes json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception node type nodetype get simple node type with name getsimplenodetypewithname test node type testnodetype node type nodetype super types supertypes get simple node type with name getsimplenodetypewithname super type supertype get simple node type with name getsimplenodetypewithname super type supertype get simple node type with name getsimplenodetypewithname super type supertype node type nodetype get simple node type with name getsimplenodetypewithname get declared super types getdeclaredsupertypes then return thenreturn super types supertypes node type iterator nodetypeiterator next node type nextnodetype then return thenreturn node type iterator nodetypeiterator has next hasnext then return thenreturn node definition nodedefinition child node def childnodedef get complete child node def getcompletechildnodedef child node def childnodedef node definition nodedefinition child node def childnodedef get complete child node def getcompletechildnodedef child node def childnodedef node definition nodedefinition child node defs childnodedefs child node def childnodedef child node def childnodedef get declared child node definitions getdeclaredchildnodedefinitions then return thenreturn child node defs childnodedefs string property name propertyname string property def stringpropertydef property definition propertydefinition property def propertydef mock property definition propertydefinition property def propertydef get on parent version getonparentversion then return thenreturn on parent version action onparentversionaction version property def propertydef get name getname then return thenreturn property name propertyname property def propertydef get required type getrequiredtype then return thenreturn property type propertytype string property def propertydef get value constraints getvalueconstraints then return thenreturn string generation constants generationconstants constraint string property def propertydef is multiple ismultiple then return thenreturn property def propertydef is protected isprotected then return thenreturn default value defaultvalue mock default value defaultvalue get type gettype then return thenreturn property type propertytype string default value defaultvalue get string getstring then return thenreturn generation constants generationconstants string property def propertydef get default values getdefaultvalues then return thenreturn default value defaultvalue property def propertydef is auto created isautocreated then return thenreturn property def propertydef is mandatory ismandatory then return thenreturn get declared property definitions getdeclaredpropertydefinitions then return thenreturn property definition propertydefinition property def propertydef assert equals with servlet result assertequalswithservletresult test complete node types testcompletenodetypes test complete property definition testcompletepropertydefinition property definition propertydefinition property def propertydef json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception node type nodetype nt with child node defs ntwithchildnodedefs get simple node type with name getsimplenodetypewithname nt with property defs ntwithpropertydefs nt with child node defs ntwithchildnodedefs get declared property definitions getdeclaredpropertydefinitions then return thenreturn property def propertydef node type iterator nodetypeiterator next node type nextnodetype then return thenreturn nt with child node defs ntwithchildnodedefs node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test complete property definition testcompletepropertydefinition
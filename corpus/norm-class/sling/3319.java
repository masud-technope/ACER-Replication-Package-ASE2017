licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl org junit assert equals assertequals org junit assert not null assertnotnull java lang reflect field java util dictionary java util hashtable javax script script engine scriptengine javax script script engine manager scriptenginemanager org apache sling api result org junit org junit test org mockito matchers org mockito mockito org osgi service component component context componentcontext scriptable health check test scriptablehealthchecktest scriptable health check scriptablehealthcheck dictionary string string props component context componentcontext ctx jmx script bindings provider jmxscriptbindingsprovider jmx script bindings provider jmxscriptbindingsprovider jmx script bindings provider jmxscriptbindingsprovider assert expression assertexpression string expression string language extension languageextension expected exception script engine scriptengine rhino script engine manager scriptenginemanager get engine by extension getenginebyextension assert not null assertnotnull rhino jar classpath script engine rhino script engine manager scriptenginemanager manager mockito mock script engine manager scriptenginemanager mockito manager get engine by extension getenginebyextension matchers ecma then return thenreturn rhino field get class getclass get declared field getdeclaredfield script engine manager scriptenginemanager set accessible setaccessible manager props scriptable health check scriptablehealthcheck prop expression expression language extension languageextension props scriptable health check scriptablehealthcheck prop language extension language extension languageextension mockito ctx get properties getproperties then return thenreturn props activate ctx result execute assert equals assertequals expecting result expected expected is ok isok setup scriptable health check scriptablehealthcheck ctx mockito mock component context componentcontext props hashtable string string bind bindings values provider bindbindingsvaluesprovider jmx script bindings provider jmxscriptbindingsprovider test test simple expression testsimpleexpression exception assert expression assertexpression test test remove binding testremovebinding exception string expr jmx attribute java lang type class loading classloading loaded class count loadedclasscount assert expression assertexpression expr ecma unbind bindings values provider unbindbindingsvaluesprovider jmx script bindings provider jmxscriptbindingsprovider assert expression assertexpression expr ecma test test jmx expression testjmxexpression exception assert expression assertexpression jmx attribute java lang type class loading classloading loaded class count loadedclasscount jmx attribute java lang type runtime management spec version managementspecversion ecma test test false expression testfalseexpression exception assert expression assertexpression test test syntax error testsyntaxerror exception assert expression assertexpression valid test test no engine testnoengine exception assert expression assertexpression assert expression assertexpression groovy
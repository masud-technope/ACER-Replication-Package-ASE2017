licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr base java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java reader java net url javax jcr repository exception repositoryexception javax jcr session javax jcr workspace org apache jackrabbit commons cnd cnd importer cndimporter org apache jackrabbit commons cnd parse exception parseexception org slf logger org slf logger factory loggerfactory code node type support nodetypesupport code utility methods register node types href http jackrabbit apache org doc node type nodetype cnd html cnd node type nodetype definition file url input stream inputstream repository node type loader nodetypeloader log logger log logger factory loggerfactory get logger getlogger node type loader nodetypeloader registers node types cnd file accessible code url code node type manager code session code code node type manager nodetypemanager code returned code session code workspace expected type code org apache jackrabbit api jackrabbit node type manager jackrabbitnodetypemanager code node type registration succeed method calling method prevent par alell paralell execution param session code session code providing node type manager node type registered param source url read cnd file code code registration node types succeeded register node type registernodetype session session url source access node type definition file fail source log info node type definition source input stream inputstream ins ins source open stream openstream register node type registernodetype session ins io exception ioexception ioe log error register node types source ioe repository exception repositoryexception is re register builtin node type isreregisterbuiltinnodetype log debug attempt register built node type source log error register node types source ins ins close io exception ioexception ignore fall failure reason log ged logged registers node types cnd file read code source code node type manager code session code code node type manager nodetypemanager code returned code session code workspace expected type code org apache jackrabbit api jackrabbit node type manager jackrabbitnodetypemanager code node type registration succeed method calling method prevent par alell paralell execution param session code session code providing node type manager node type registered param source code input stream inputstream code cnd file read code code registration node types succeeded register node type registernodetype session session input stream inputstream source io exception ioexception repository exception repositoryexception register node type registernodetype session cnd input stream input stream reader inputstreamreader source register node type registernodetype session session string system id systemid reader reader reregister existing reregisterexisting io exception ioexception repository exception repositoryexception workspace wsp session get workspace getworkspace cnd importer cndimporter register node types registernodetypes reader system id systemid wsp get node type manager getnodetypemanager wsp get name space registry getnamespaceregistry session get value factory getvaluefactory reregister existing reregisterexisting repository exception repositoryexception is re register builtin node type isreregisterbuiltinnodetype log debug attempt register built node type repository exception repositoryexception parse exception parseexception io exception ioexception unable parse cnd input get message getmessage caused attempt reregister built node type is re register builtin node type isreregisterbuiltinnodetype exception repository exception repositoryexception get message getmessage get message getmessage reregister built node type
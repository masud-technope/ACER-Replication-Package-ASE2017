licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons json jcr org apache sling commons json json object jsonobject org apache sling commons json json exception jsonexception javax jcr node javax jcr property javax jcr property iterator propertyiterator javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr javax jcr value format exception valueformatexception java util java util list java util array list arraylist easy create json object jcr node shameless copy link json item writer jsonitemwriter writing json output json object jsonobject deal author vidar idium apr json jcr node jsonjcrnode json object jsonobject node node string property names to ignore propertynamestoignore creates json object jsonobject code node code code node code properties ref lected reflected json object add ition addition properties code jcr path code code jcr code values returned code node get path getpath code code node get name getname code param node jcr node json exception jsonexception problem generating json object repository exception repositoryexception problem reading data jcr repository json jcr node jsonjcrnode node node json exception jsonexception repository exception repositoryexception node creates code json object jsonobject code code node code code node code properties ref lected reflected json object code property names to ignore propertynamestoignore code add ition addition properties code jcr path code code jcr code values returned code node get path getpath code code node get name getname code param node jcr node param property names to ignore propertynamestoignore property names ref lected reflected json object json exception jsonexception problem generating json object repository exception repositoryexception problem reading data jcr repository json jcr node jsonjcrnode node node string property names to ignore propertynamestoignore json exception jsonexception repository exception repositoryexception node node property names to ignore propertynamestoignore property names to ignore propertynamestoignore populate populate json exception jsonexception repository exception repositoryexception property iterator propertyiterator properties node get properties getproperties add native addnative jcr path node get path getpath add native addnative jcr node get name getname properties has next hasnext property prop properties next property nextproperty string prop get name getname property names to ignore propertynamestoignore property names to ignore propertynamestoignore add property addproperty prop add native addnative string key string json exception jsonexception repository exception repositoryexception property names to ignore propertynamestoignore property names to ignore propertynamestoignore key key add property addproperty property value format exception valueformatexception repository exception repositoryexception json exception jsonexception special handling bin aries binaries dump length length get type gettype property type propertytype binary todo mark binary properties initial colon colon allowed jcr property size binary data string key get name getname is multiple ismultiple key get length getlength sizes get len gths getlengths list list array list arraylist sizes list add key list string key get name getname is multiple ismultiple add value addvalue key get value getvalue get values getvalues add value addvalue key add value addvalue string key illegal state exception illegalstateexception repository exception repositoryexception json exception jsonexception get type gettype property type propertytype binary accumulate key property type propertytype accumulate key json item writer jsonitemwriter format get date getdate property type propertytype accumulate key get boolean getboolean property type propertytype accumulate key get long getlong property type propertytype accumulate key get double getdouble accumulate key get string getstring
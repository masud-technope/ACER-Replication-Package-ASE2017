licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling pax exam paxexam util org ops pax exam core options coreoptions junit bundles junitbundles org ops pax exam core options coreoptions maven bundle mavenbundle org ops pax exam core options coreoptions system property systemproperty java buffered input stream bufferedinputstream java buffered output stream bufferedoutputstream java file java file output stream fileoutputstream java io exception ioexception java input stream inputstream java output stream outputstream java net server socket serversocket java net url java util array list arraylist java util arrays java util collection java util list org apache sling maven project support projectsupport bundle list utils bundlelistutils org apache sling maven project support projectsupport bundle list bundlelist bundle org apache sling maven project support projectsupport bundle list bundlelist bundle list bundlelist org apache sling maven project support projectsupport bundle list bundlelist start level startlevel org ops pax exam core options coreoptions org ops pax exam options composite option compositeoption org ops pax exam options default composite option defaultcompositeoption org slf logger org slf logger factory loggerfactory pax exam options util ities utilities test sling applications basic idea vanilla sling launchpad instance setup minimal amount boilerplate code link sling setup test slingsetuptest sling pax options slingpaxoptions logger log logger factory loggerfactory get logger getlogger sling pax options slingpaxoptions sling start level string prop telnet port osgi shell telnet port string prop http port org osgi service http port string modes jackrabbit string ignored bundle prefixes ignoredbundleprefixes get available port getavailableport result integer min server socket serversocket server socket serversocket result get local port getlocalport close io exception ioexception ignore result reading bundle lists ignore bundles symbolic names starting supplied prefixes set ignored bundles setignoredbundles string symbolic name prefix symbolicnameprefix symbolic name prefix symbolicnameprefix symbolic name prefix symbolicnameprefix length ignored bundle prefixes ignoredbundleprefixes string ignored bundle prefixes ignoredbundleprefixes symbolic name prefix symbolicnameprefix modes tests sling modes property collection string get test run modes gettestrunmodes string run modes runmodes system get property getproperty sling modes modes arrays as list aslist run modes runmodes split param launchpad version launchpadversion latest composite option compositeoption default launchpad options defaultlaunchpadoptions string launchpad version launchpadversion string pax log level paxloglevel system get property getproperty pax exam log level info sling start level slingstartlevel sling start level string telnet port telnetport system get property getproperty prop telnet port string value of valueof get available port getavailableport string http port httpport system get property getproperty prop http port string value of valueof get available port getavailableport log info prop telnet port telnet port telnetport log info prop http port http port httpport default composite option defaultcompositeoption junit bundles junitbundles system property systemproperty org ops pax logging default service log defaultservicelog level pax log level paxloglevel sling pax options slingpaxoptions felix remote shell bundles felixremoteshellbundles sling pax options slingpaxoptions sling bootstrap bundles slingbootstrapbundles sling pax options slingpaxoptions sling launchpad bundles slinglaunchpadbundles launchpad version launchpadversion core options coreoptions framework start level frameworkstartlevel sling start level slingstartlevel core options coreoptions framework property frameworkproperty prop telnet port telnet port telnetport core options coreoptions framework property frameworkproperty prop http port http port httpport ignore bundle result ignored bundle prefixes ignoredbundleprefixes string get artifact id getartifactid string prefix ignored bundle prefixes ignoredbundleprefixes starts with startswith prefix result result composite option compositeoption sling bundle list slingbundlelist string group id groupid string artifact id artifactid string version string type string class ifier classifier default composite option defaultcompositeoption result default composite option defaultcompositeoption string pax url paxurl string builder stringbuilder append mvn append group id groupid append append artifact id artifactid append append version version append append type type append append class ifier classifier class ifier classifier to string tostring todo bundle list bundlelist input stream inputstream copy tmp file parsing log info bundle list pax url paxurl file tmp collection string test run modes testrunmodes get test run modes gettestrunmodes tmp dump mvn url to tmp file dumpmvnurltotmpfile pax url paxurl bundle list bundlelist list bundle list utils bundlelistutils read bundle list readbundlelist tmp counter start level startlevel list get start levels getstartlevels start level bootstrap bundle lists start level startlevel get start level getstartlevel get start level getstartlevel bundle get bundles getbundles ignore log info bundle set ignored bundles setignoredbundles counter todo fragment detection pax exam detect list string fragments array list arraylist string fragments add org apache sling extensions webconsole branding webconsolebranding is fragment isfragment get artifact id getartifactid fragment fragments get artifact id getartifactid ignore bundles modes match string bundle run modes bundlerunmodes get run modes getrunmodes bundle run modes bundlerunmodes bundle run modes bundlerunmodes length active string bundle run modes bundlerunmodes split test run modes testrunmodes active active log info ignoring bundle modes active test object get artifact id getartifactid bundle run modes bundlerunmodes test run modes testrunmodes is fragment isfragment result add maven bundle mavenbundle get group id getgroupid get artifact id getartifactid get version getversion no start nostart start level startlevel result add maven bundle mavenbundle get group id getgroupid get artifact id getartifactid get version getversion result add maven bundle mavenbundle get group id getgroupid get artifact id getartifactid get version getversion start level startlevel start level startlevel log info bundle object get group id getgroupid get artifact id getartifactid get version getversion log info bundles object counter pax url paxurl exception runtime exception runtimeexception error bundle list pax url paxurl tmp tmp delete result composite option compositeoption sling bootstrap bundles slingbootstrapbundles default composite option defaultcompositeoption maven bundle mavenbundle org apache felix org apache felix http jetty todo needed maven bundle mavenbundle org apache sling org apache sling launchpad api composite option compositeoption sling launchpad bundles slinglaunchpadbundles string version sling bundle list slingbundlelist org apache sling org apache sling launchpad version xml bundle list bundlelist param version composite option compositeoption felix remote shell bundles felixremoteshellbundles string gogo version gogoversion default composite option defaultcompositeoption maven bundle mavenbundle group id groupid org apache felix artifact id artifactid org apache felix gogo runtime version gogo version gogoversion maven bundle mavenbundle group id groupid org apache felix artifact id artifactid org apache felix gogo shell version gogo version gogoversion maven bundle mavenbundle group id groupid org apache felix artifact id artifactid org apache felix gogo command version gogo version gogoversion maven bundle mavenbundle group id groupid org apache felix artifact id artifactid org apache felix shell remote version file dump mvn url to tmp file dumpmvnurltotmpfile string mvn url mvnurl io exception ioexception url url url mvn url mvnurl input stream inputstream buffered input stream bufferedinputstream url open stream openstream file tmp file create temp file createtempfile sling pax options slingpaxoptions get name getname xml log debug copying bundle list contents tmp get absolute path getabsolutepath tmp delete on exit deleteonexit output stream outputstream buffered output stream bufferedoutputstream file output stream fileoutputstream tmp buffer len len read buffer buffer length write buffer len flush close close tmp
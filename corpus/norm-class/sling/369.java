licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling sample sling shot slingshot ratings impl java util hash map hashmap java util map org apache felix scr annotations component org apache felix scr annotations service org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org apache sling sample sling shot slingshot sling shot constants slingshotconstants org apache sling sample sling shot slingshot sling shot util slingshotutil org apache sling sample sling shot slingshot ratings ratings service ratingsservice org apache sling sample sling shot slingshot ratings ratings util ratingsutil implementation ratings service component service ratings service ratingsservice ratings service impl ratingsserviceimpl ratings service ratingsservice resource type rating holder string resource type resourcetype ratings sling folder org apache sling sample sling shot slingshot ratings ratings service ratingsservice get ratings resource path getratingsresourcepath org apache sling api resource resource override string get ratings resource path getratingsresourcepath resource resource string content path contentpath sling shot util slingshotutil get content path getcontentpath resource content path contentpath string full path fullpath sling shot constants slingshotconstants app root path users sling shot util slingshotutil get user id getuserid resource ugc ratings content path contentpath full path fullpath org apache sling sample sling shot slingshot ratings ratings service ratingsservice get rating getrating org apache sling api resource resource override get rating getrating resource resource string full path fullpath get ratings resource path getratingsresourcepath resource rating full path fullpath resource ratings resource ratingsresource resource get child getchild full path fullpath ratings resource ratingsresource count resource ratings resource ratingsresource get children getchildren value map valuemap get value map getvaluemap current ratings util ratingsutil property rating rating current count count rating rating count rating org apache sling sample sling shot slingshot ratings ratings service ratingsservice get rating getrating org apache sling api resource resource java lang string override get rating getrating resource resource string user id userid string full path fullpath get ratings resource path getratingsresourcepath resource rating resource resource get resource resolver getresourceresolver get resource getresource full path fullpath user id userid value map valuemap get value map getvaluemap rating ratings util ratingsutil property rating rating org apache sling sample sling shot slingshot ratings ratings service ratingsservice set rating setrating org apache sling api resource resource java lang string override set rating setrating resource resource string user id userid rating persistence exception persistenceexception string ratings path ratingspath get ratings resource path getratingsresourcepath resource map string object props hash map hashmap string object props resource resolver resourceresolver property resource type resource type resourcetype ratings resource ratings resource ratingsresource resource util resourceutil get or create resource getorcreateresource resource get resource resolver getresourceresolver ratings path ratingspath props resource rating rsrc ratingrsrc resource get resource resolver getresourceresolver get resource getresource ratings resource ratingsresource user id userid rating rsrc ratingrsrc props clear props resource resolver resourceresolver property resource type ratings util ratingsutil resource type resourcetype rating props ratings util ratingsutil property rating rating resource get resource resolver getresourceresolver create ratings resource ratingsresource user id userid props modifiable value map modifiablevaluemap mvm rating rsrc ratingrsrc adapt to adaptto modifiable value map modifiablevaluemap mvm ratings util ratingsutil property rating rating resource get resource resolver getresourceresolver commit
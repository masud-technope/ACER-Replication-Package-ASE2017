licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution org apache sling commons json json array jsonarray org apache sling commons json json object jsonobject org apache sling distribution distribution request type distributionrequesttype org junit org junit test java io exception ioexception junit framework assert equals assertequals org apache sling distribution distribution utils distributionutils assert exists assertexists org apache sling distribution distribution utils distributionutils assert not exists assertnotexists org apache sling distribution distribution utils distributionutils assert post resource with parameters assertpostresourcewithparameters org apache sling distribution distribution utils distributionutils create random node createrandomnode org apache sling distribution distribution utils distributionutils distribute org apache sling distribution distribution utils distributionutils distribute deep distributedeep org apache sling distribution distribution utils distributionutils do export doexport org apache sling distribution distribution utils distributionutils get resource getresource org apache sling distribution distribution utils distributionutils queue url queueurl int egration integration test distribution multiple for ward distribution test multipleforwarddistributiontest distribution int egration test base distributionintegrationtestbase string delete limit test test add content testaddcontent exception string node path nodepath create random node createrandomnode author client authorclient content add system nano time nanotime assert exists assertexists author client authorclient node path nodepath distribute author publish multiple distribution request type distributionrequesttype add node path nodepath assert exists assertexists publish client publishclient node path nodepath test test delete content testdeletecontent exception string node path nodepath create random node createrandomnode publish client publishclient content del system nano time nanotime assert exists assertexists publish client publishclient node path nodepath distribute author publish multiple distribution request type distributionrequesttype delete node path nodepath assert not exists assertnotexists publish client publishclient node path nodepath test test add content check passive queue testaddcontentcheckpassivequeue exception string node path nodepath create random node createrandomnode author client authorclient content add system nano time nanotime assert exists assertexists author client authorclient node path nodepath distribute author publish multiple distribution request type distributionrequesttype add node path nodepath assert exists assertexists publish client publishclient node path nodepath json object jsonobject json get resource getresource author queue url queueurl publish multiple pass ivequeue passivequeue json array jsonarray queue items queueitems json getjsonarray items assert equals assertequals queue items queueitems length assert equals assertequals json items count itemscount string content do export doexport author publish multiple pass ivequeue passivequeue distribution request type distributionrequesttype pull json object jsonobject json get resource getresource author queue url queueurl publish multiple pass ivequeue passivequeue json array jsonarray queue items queueitems json getjsonarray items assert equals assertequals queue items queueitems length assert equals assertequals json items count itemscount clean io exception ioexception assert post resource with parameters assertpostresourcewithparameters author queue url queueurl publish multiple endpoint operation delete limit delete limit assert post resource with parameters assertpostresourcewithparameters author queue url queueurl publish multiple endpoint operation delete limit delete limit assert post resource with parameters assertpostresourcewithparameters author queue url queueurl publish multiple pass ivequeue passivequeue operation delete limit delete limit
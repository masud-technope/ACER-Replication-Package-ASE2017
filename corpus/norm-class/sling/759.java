licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest user manager usermanager org junit assert equals assertequals org junit assert not null assertnotnull java io exception ioexception java util array list arraylist java util hash set hashset java util list java util javax servlet http http servlet response httpservletresponse org apache commons http client httpclient credentials org apache commons http client httpclient name value pair namevaluepair org apache commons http client httpclient username password credentials usernamepasswordcredentials org apache sling commons json json exception jsonexception org apache sling commons json json object jsonobject org apache sling commons testing int egration integration http test httptest org junit org junit org junit test user privileges info test userprivilegesinfotest string test user id testuserid string test user id testuserid string test group id testgroupid string test folder url testfolderurl string to delete todelete hash set hashset string user manager test util usermanagertestutil user manager test util usermanagertestutil setup exception set up setup script server side privilege info privilegeinfo cal culations calculations string script path scriptpath apps sling servlet get test client gettestclient mkdirs http test httptest webdav base url script path scriptpath to delete todelete add upload test script uploadtestscript script path scriptpath user manager usermanager privileges info json esp privileges info json esp cleanup exception tear down teardown credentials creds username password credentials usernamepasswordcredentials admin admin test folder url testfolderurl remove test user exists string post url posturl test folder url testfolderurl list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair post params postparams add name value pair namevaluepair operation delete assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams test group id testgroupid remove test user exists string post url posturl http test httptest http base url system user manager usermanager group test group id testgroupid delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams test user id testuserid remove test user exists string post url posturl http test httptest http base url system user manager usermanager user test user id testuserid delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams test user id testuserid remove test user exists string post url posturl http test httptest http base url system user manager usermanager user test user id testuserid delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams string script to delete todelete get test client gettestclient delete script checks current user granted privileges add user test test can add user testcanadduser json exception jsonexception io exception ioexception test user id testuserid create test user createtestuser string get url geturl http test httptest http base url system user manager usermanager user test user id testuserid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json assert equals assertequals json obj jsonobj get boolean getboolean can add user canadduser checks current user granted privileges add group test test can add group testcanaddgroup io exception ioexception json exception jsonexception test user id testuserid create test user createtestuser string get url geturl http test httptest http base url system user manager usermanager user test user id testuserid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json assert equals assertequals json obj jsonobj get boolean getboolean can add group canaddgroup checks current user granted privileges update properties user test test can update user properties testcanupdateuserproperties io exception ioexception json exception jsonexception test user id testuserid create test user createtestuser verify user update thier properties string get url geturl http test httptest http base url system user manager usermanager user test user id testuserid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json user update properties assert equals assertequals json obj jsonobj get boolean getboolean can update properties canupdateproperties user test user id testuserid create test user createtestuser fetch json test verify settings credentials test user testuser creds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user testuser creds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json user update users properties assert equals assertequals json obj jsonobj get boolean getboolean can update properties canupdateproperties checks current user granted privileges update properties group test test can update group properties testcanupdategroupproperties io exception ioexception json exception jsonexception test group id testgroupid create test group createtestgroup test user id testuserid create test user createtestuser verify admin user update group properties string get url geturl http test httptest http base url system user manager usermanager group test group id testgroupid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json normal user update group properties assert equals assertequals json obj jsonobj get boolean getboolean can update properties canupdateproperties checks current user granted privileges remove user test test can remove user testcanremoveuser io exception ioexception json exception jsonexception test user id testuserid create test user createtestuser verify user remove string get url geturl http test httptest http base url system user manager usermanager user test user id testuserid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json user remove assert equals assertequals json obj jsonobj get boolean getboolean can remove canremove user test user id testuserid create test user createtestuser fetch json test verify settings credentials test user testuser creds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user testuser creds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json user delete users assert equals assertequals json obj jsonobj get boolean getboolean can remove canremove checks current user granted privileges remove group test test can remove group testcanremovegroup io exception ioexception json exception jsonexception test group id testgroupid create test group createtestgroup test user id testuserid create test user createtestuser verify admin user remove group string get url geturl http test httptest http base url system user manager usermanager group test group id testgroupid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json normal user remove group assert equals assertequals json obj jsonobj get boolean getboolean can remove canremove checks current user granted privileges update membership group test test can update group members testcanupdategroupmembers io exception ioexception json exception jsonexception test group id testgroupid create test group createtestgroup test user id testuserid create test user createtestuser verify admin user update group membership string get url geturl http test httptest http base url system user manager usermanager group test group id testgroupid privileges info json fetch json test verify settings credentials test user creds testusercreds username password credentials usernamepasswordcredentials test user id testuserid test pwd testpwd string json get authenticated content getauthenticatedcontent test user creds testusercreds get url geturl http test httptest content type json http servlet response httpservletresponse assert not null assertnotnull json json object jsonobject json obj jsonobj json object jsonobject json normal user remove group assert equals assertequals json obj jsonobj get boolean getboolean can update group members canupdategroupmembers
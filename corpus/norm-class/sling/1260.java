licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr ocm impl org apache sling jcr ocm ocm constants ocmconstants event mapping org apache sling jcr ocm ocm constants ocmconstants event mapping removed org apache sling jcr ocm ocm constants ocmconstants mapper bundle header org apache sling jcr ocm ocm constants ocmconstants mapping org apache sling jcr ocm ocm constants ocmconstants mapping node type java io exception ioexception java net url java util array list arraylist java util hash map hashmap java util iterator java util list java util map java util string tokenizer stringtokenizer javax jcr repository exception repositoryexception javax jcr session javax jcr value factory valuefactory org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations service org apache jackrabbit ocm manager object content manager objectcontentmanager org apache jackrabbit ocm manager atomic type converter atomictypeconverter atomic type converter provider atomictypeconverterprovider org apache jackrabbit ocm manager cache object cache objectcache org apache jackrabbit ocm manager impl object content manager impl objectcontentmanagerimpl org apache jackrabbit ocm manager object converter objectconverter object converter objectconverter org apache jackrabbit ocm manager object converter objectconverter impl object converter impl objectconverterimpl org apache jackrabbit ocm manager object converter objectconverter impl proxy manager impl proxymanagerimpl org apache jackrabbit ocm mapper model mapping descriptor mappingdescriptor org apache jackrabbit ocm query query manager querymanager org apache jackrabbit ocm query impl query manager impl querymanagerimpl org apache jackrabbit ocm ref lection reflection reflection utils reflectionutils org apache jackrabbit value factory impl valuefactoryimpl org apache sling commons osgi osgi util osgiutil org apache sling jcr ocm object content manager factory objectcontentmanagerfactory org apache sling jcr ocm impl class loader classloader mapper class loader mapperclassloader org osgi framework bundle org osgi framework bundle event bundleevent org osgi framework sync hronous bundle listener synchronousbundlelistener org osgi service component component context componentcontext org osgi service event event org osgi service event event admin eventadmin org slf logger org slf logger factory loggerfactory org xml pull xmlpull xml pull parser exception xmlpullparserexception code object content manager factory objectcontentmanagerfactory code todo component service object content manager factory objectcontentmanagerfactory properties property service description sling object content manager factory property service vendor apache software foundation object content manager factory impl objectcontentmanagerfactoryimpl object content manager factory objectcontentmanagerfactory sync hronous bundle listener synchronousbundlelistener log logger log logger factory loggerfactory get logger getlogger object content manager factory impl objectcontentmanagerfactoryimpl reference cardinality reference cardinality referencecardinality optional unary policy reference policy referencepolicy dynamic event admin eventadmin event admin eventadmin loader jackrabbit ocm reflection utils reflectionutils load classes mapping loader reflection utils reflectionutils mappings loaded load map pings loadmappings mapper class loader mapperclassloader mapper class loader mapperclassloader bundle mapper bundlemapper mapper class descriptor reader classdescriptorreader descriptor reader descriptorreader atomic type converter provider atomictypeconverterprovider converter provider converterprovider ocm adapter factory ocmadapterfactory adapter factory adapterfactory ocm factory adapter factory ocmfactoryadapterfactory factory adapter factory factoryadapterfactory object content manager factory impl objectcontentmanagerfactoryimpl prepare data convert ers converters query manager converter provider converterprovider sling atomic type converter provider slingatomictypeconverterprovider org apache sling jcr ocm object content manager factory objectcontentmanagerfactory get object content manager getobjectcontentmanager javax jcr session object content manager objectcontentmanager get object content manager getobjectcontentmanager session session value factory valuefactory value factory valuefactory value factory valuefactory session get value factory getvaluefactory repository exception repositoryexception log info get object content manager getobjectcontentmanager value factory valuefactory session session get user d getuserid factory value factory valuefactory value factory impl valuefactoryimpl get instance getinstance object cache objectcache object cache objectcache observing object cache observingobjectcache session query manager querymanager query manager querymanager query manager impl querymanagerimpl mapper converter provider converterprovider get atomic type convert ers getatomictypeconverters value factory valuefactory object converter objectconverter object converter objectconverter object converter impl objectconverterimpl mapper converter provider converterprovider proxy manager impl proxymanagerimpl object cache objectcache object content manager impl objectcontentmanagerimpl mapper object converter objectconverter query manager querymanager object cache objectcache session class descriptor reader classdescriptorreader get descriptor reader getdescriptorreader descriptor reader descriptorreader class descriptor reader classdescriptorreader ddr class descriptor reader classdescriptorreader ddr set resolver setresolver todo resolve url graffito jcr mapping dtd ddr set valid ating setvalidating descriptor reader descriptorreader ddr descriptor reader descriptorreader reset descriptor reader descriptorreader todo implementation list bundle bundles array list arraylist bundle loads components bundle bundle service component header method fragments bundle checked header method calls link get bundle context getbundlecontext bundle method find code bundle context bundlecontext code bundle context method load components bundle add bundle addbundle bundle bundle ignore bundle mappings bundle get headers getheaders mapper bundle header bundles bundle ignore existing bundle bundles add bundle load map pings loadmappings fire mapping event fire event fireevent bundle event mapping remove bundle removebundle bundle bundle bundles remove bundle bundle load map pings loadmappings fire mapping event fire event fireevent bundle event mapping removed load map pings loadmappings mapper class loader mapperclassloader new mapper class loader newmapperclassloader mapper class loader mapperclassloader reflection utils reflectionutils set class loader setclassloader new mapper class loader newmapperclassloader array list arraylist url url list urllist array list arraylist url iterator bundle bundles iterator has next hasnext bundle bundle string mapper header mapperheader string bundle get headers getheaders mapper bundle header mapper header mapperheader components bundle abandon log debug register mapper client registermapperclient bundle mappings bundle get symbolic name getsymbolicname new mapper class loader newmapperclassloader register bundle registerbundle bundle string tokenizer stringtokenizer tokener string tokenizer stringtokenizer mapper header mapperheader tokener has more tokens hasmoretokens string mapping tokener next token nexttoken trim url mappingurl bundle get resource getresource mapping mappingurl log warn mapping bundle mapping bundle get symbolic name getsymbolicname url list urllist add mappingurl str eams streams url list urllist is empty isempty mapping descriptor mappingdescriptor class descriptor reader classdescriptorreader cdr get descriptor reader getdescriptorreader cdr parse url list urllist cdr get mapping descriptor getmappingdescriptor xml pull parser exception xmlpullparserexception xppe log error failed parsing descriptors xppe io exception ioexception ioe log error failed reading descriptors ioe bundle mapper bundlemapper new mapper newmapper bundle mapper bundlemapper dispose loader loader mapper class loader mapperclassloader not e note mapper class loader mapperclassloader jackrabbit ocm reflection utils reflectionutils reset loader dispose loader safely mapper class loader mapperclassloader dispose mapper class loader mapperclassloader new mapper class loader newmapperclassloader mapper new mapper newmapper update adapters adapter factory adapterfactory adapter factory adapterfactory update adapter classes updateadapterclasses mapper get mapped classes getmappedclasses bundle listener bundlelistener loads unloads components bundle changed bundle started components loaded bundle components unloaded param event code bundle event bundleevent code representing bundle change bundle changed bundlechanged bundle event bundleevent event event get type gettype started bundle event bundleevent starting register mappings bundle activated add bundle addbundle event get bundle getbundle bundle event bundleevent stopped remove mappings bundle stopped remove bundle removebundle event get bundle getbundle event admin eventadmin event dispatching fires osg i osgi event event admin eventadmin service param source bundle sourcebundle bundle event origin ates originates code code originating bundle param event name eventname event null pointer exception nullpointerexception event name eventname props code code fire event fireevent bundle source bundle sourcebundle string event name eventname check event admin service event admin eventadmin event admin eventadmin bundle mapper bundlemapper mapper mapper mapper fire mapper map string object props hash map hashmap string object props mapping mapper get mapped classes getmappedclasses props mapping node type mapper get mapped node types getmappednodetypes create fire event event event osgi util osgiutil create event createevent source bundle sourcebundle event name eventname props post event postevent event scr int egration integration activates component called scr registering service activate component context componentcontext component context componentcontext component context componentcontext get bundle context getbundlecontext add bundle listener addbundlelistener bundle bundles component context componentcontext get bundle context getbundlecontext get bundles getbundles bundle bundle bundles bundle get state getstate bundle active register active bundles mapper client add bundle addbundle bundle throwable log error activate problem loading initial content registering mappings existing bundles register ocm adapter factory ocmadapterfactory string mapped classes mappedclasses mapper mapper get mapped classes getmappedclasses string adapter factory adapterfactory ocm adapter factory ocmadapterfactory component context componentcontext get bundle context getbundlecontext mapped classes mappedclasses factory adapter factory factoryadapterfactory ocm factory adapter factory ocmfactoryadapterfactory component context componentcontext get bundle context getbundlecontext deativates component called scr service deactivate component context componentcontext component context componentcontext adapter factory adapterfactory adapter factory adapterfactory dispose adapter factory adapterfactory factory adapter factory factoryadapterfactory factory adapter factory factoryadapterfactory dispose factory adapter factory factoryadapterfactory component context componentcontext get bundle context getbundlecontext remove bundle listener removebundlelistener mapper class loader mapperclassloader mapper class loader mapperclassloader dispose mapper class loader mapperclassloader
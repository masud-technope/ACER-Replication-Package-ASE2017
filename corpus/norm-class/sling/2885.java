licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler optimization reduce java util array list arraylist java util hash map hashmap java util list java util map org apache sling scripting sightly impl compiler compiler exception compilerexception org apache sling scripting sightly impl compiler expression expression node expressionnode org apache sling scripting sightly impl compiler expression node visitor nodevisitor org apache sling scripting sightly impl compiler expression node array literal arrayliteral org apache sling scripting sightly impl compiler expression node binary operation binaryoperation org apache sling scripting sightly impl compiler expression node boolean constant booleanconstant org apache sling scripting sightly impl compiler expression node identifier org apache sling scripting sightly impl compiler expression node map literal mapliteral org apache sling scripting sightly impl compiler expression node null literal nullliteral org apache sling scripting sightly impl compiler expression node numeric constant numericconstant org apache sling scripting sightly impl compiler expression node property access propertyaccess org apache sling scripting sightly impl compiler expression node runtime call runtimecall org apache sling scripting sightly impl compiler expression node string constant stringconstant org apache sling scripting sightly impl compiler expression node ternary operator ternaryoperator org apache sling scripting sightly impl compiler expression node unary operation unaryoperation org apache sling scripting sightly impl compiler util variable tracker variabletracker org apache sling scripting sightly impl utils render utils renderutils evaluate constant parts expressions expression reducer expressionreducer node visitor nodevisitor eval result evalresult variable tracker variabletracker eval result evalresult tracker eval result evalresult reduce expression node expressionnode node variable tracker variabletracker eval result evalresult tracker expression reducer expressionreducer reduce r reducer expression reducer expressionreducer tracker reduce r reducer eval node expression reducer expressionreducer variable tracker variabletracker eval result evalresult tracker tracker tracker eval result evalresult eval expression node expressionnode node node accept compiler exception compilerexception exception eval result evalresult non constant nonconstant node override eval result evalresult evaluate property access propertyaccess property access propertyaccess eval result evalresult target eval property access propertyaccess get target gettarget eval result evalresult property eval property access propertyaccess get property getproperty target is constant isconstant property is constant isconstant eval result evalresult non constant nonconstant property access propertyaccess target get node getnode property get node getnode eval result evalresult constant render utils renderutils resolve property resolveproperty target get value getvalue property get value getvalue override eval result evalresult evaluate identifier identifier eval result evalresult result tracker identifier get name getname result result is constant isconstant eval result evalresult constant result get value getvalue eval result evalresult non constant nonconstant identifier override eval result evalresult evaluate string constant stringconstant text eval result evalresult constant text get text gettext override eval result evalresult evaluate binary operation binaryoperation binary operation binaryoperation eval result evalresult left eval binary operation binaryoperation get left operand getleftoperand eval result evalresult eval binary operation binaryoperation get right operand getrightoperand left is constant isconstant is constant isconstant eval result evalresult non constant nonconstant binary operation binaryoperation binary operation binaryoperation get operator getoperator left get node getnode get node getnode eval result evalresult constant binary operation binaryoperation get operator getoperator eval left get value getvalue get value getvalue override eval result evalresult evaluate boolean constant booleanconstant boolean constant booleanconstant eval result evalresult constant boolean constant booleanconstant get value getvalue override eval result evalresult evaluate numeric constant numericconstant num eric constant numericconstant eval result evalresult constant num eric constant numericconstant get value getvalue override eval result evalresult evaluate unary operation unaryoperation unary operation unaryoperation eval result evalresult target eval unary operation unaryoperation get target gettarget target is constant isconstant eval result evalresult non constant nonconstant unary operation unaryoperation unary operation unaryoperation get operator getoperator target get node getnode eval result evalresult constant unary operation unaryoperation get operator getoperator eval target get value getvalue override eval result evalresult evaluate ternary operator ternaryoperator ternary operator ternaryoperator eval result evalresult condition eval ternary operator ternaryoperator get condition getcondition condition is constant isconstant eval result evalresult non constant nonconstant ternary operator ternaryoperator condition get node getnode ternary operator ternaryoperator get then branch getthenbranch ternary operator ternaryoperator get else branch getelsebranch render utils renderutils to boolean toboolean condition get value getvalue eval ternary operator ternaryoperator get then branch getthenbranch eval ternary operator ternaryoperator get else branch getelsebranch override eval result evalresult evaluate runtime call runtimecall runtime call runtimecall list expression node expressionnode nodes array list arraylist expression node expressionnode expression node expressionnode node runtime call runtimecall get arguments getarguments eval result evalresult result eval node nodes add result get node getnode eval result evalresult non constant nonconstant runtime call runtimecall runtime call runtimecall get function name getfunctionname nodes override eval result evalresult evaluate map literal mapliteral map literal mapliteral hash map hashmap string eval result evalresult hash map hashmap string eval result evalresult is constant isconstant map entry string expression node expressionnode entry map literal mapliteral get map getmap entry set entryset eval result evalresult result eval entry get value getvalue entry get key getkey result is constant isconstant is constant isconstant result is constant isconstant is constant isconstant hash map hashmap string object map hash map hashmap string object map entry string eval result evalresult entry entry set entryset map entry get key getkey entry get value getvalue get value getvalue eval result evalresult constant map hash map hashmap string expression node expressionnode literal hash map hashmap string expression node expressionnode map entry string eval result evalresult entry entry set entryset literal entry get key getkey entry get value getvalue get node getnode eval result evalresult non constant nonconstant map literal mapliteral literal override eval result evalresult evaluate array literal arrayliteral array literal arrayliteral array list arraylist eval result evalresult array list arraylist eval result evalresult is constant isconstant expression node expressionnode node array literal arrayliteral get items getitems eval result evalresult result eval node add result is constant isconstant is constant isconstant result is constant isconstant is constant isconstant array list arraylist object list array list arraylist object eval result evalresult result list add result get value getvalue eval result evalresult constant list array list arraylist expression node expressionnode literal array list arraylist expression node expressionnode eval result evalresult result literal add result get node getnode eval result evalresult non constant nonconstant array literal arrayliteral literal override eval result evalresult evaluate null literal nullliteral null literal nullliteral eval result evalresult constant
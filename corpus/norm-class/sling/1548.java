licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling tenant internal java util array list arraylist java util collection java util collections java util hash map hashmap java util iterator java util list java util map java util map entry java util sorted map sortedmap java util tree map treemap org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations service org apache sling api resource login exception loginexception org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api resource resource util resourceutil org apache sling commons osgi properties util propertiesutil org apache sling commons osgi service util serviceutil org apache sling tenant tenant org apache sling tenant tenant manager tenantmanager org apache sling tenant tenant provider tenantprovider org apache sling tenant internal console web console plugin webconsoleplugin org apache sling tenant spi tenant customizer tenantcustomizer org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework filter org osgi framework framework util frameworkutil org osgi framework invalid syntax exception invalidsyntaxexception org slf logger org slf logger factory loggerfactory resource based tenant provider implementation component metatype label apache sling tenant provider description service responsible providing tenants service properties property constants service description apache sling tenant provider reference tenant setup tenantsetup reference interface referenceinterface tenant customizer tenantcustomizer cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic tenant provider impl tenantproviderimpl tenant provider tenantprovider tenant manager tenantmanager log logger log logger factory loggerfactory get logger getlogger get class getclass root path tenant string resource tenant root tenants property resource tenant root label tenants root path description defines tenants root path string tenant root tenant root string path matcher sorted map sortedmap comparable object tenant customizer tenantcustomizer registered tenant handlers registeredtenanthandlers tree map treemap comparable object tenant customizer tenantcustomizer collections reverse order reverseorder property unbounded property unbounded propertyunbounded array label tenants path matcher description defines tenants path matcher content sample resolving path tenant string tenant path matcher tenant path matcher string tenant root path tenantrootpath resource tenant root reference resource resolver factory resourceresolverfactory factory tenant adapter factory tenantadapterfactory adapter factory adapterfactory web console plugin webconsoleplugin plugin activate activate bundle context bundlecontext bundle context bundlecontext map string object properties tenant root path tenantrootpath properties util propertiesutil to string tostring properties tenant root resource tenant root adapter factory adapterfactory tenant adapter factory tenantadapterfactory bundle context bundlecontext properties util propertiesutil to string array tostringarray properties tenant path matcher path matcher plugin web console plugin webconsoleplugin bundle context bundlecontext deactivate deactivate adapter factory adapterfactory adapter factory adapterfactory dispose adapter factory adapterfactory plugin plugin dispose plugin suppress warnings suppresswarnings unused bind tenant setup bindtenantsetup tenant customizer tenantcustomizer action map string object config registered tenant handlers registeredtenanthandlers service util serviceutil get comparable for service ranking getcomparableforserviceranking config action suppress warnings suppresswarnings unused unbind tenant setup unbindtenantsetup tenant customizer tenantcustomizer action map string object config registered tenant handlers registeredtenanthandlers remove service util serviceutil get comparable for service ranking getcomparableforserviceranking config collection tenant customizer tenantcustomizer get tenant handlers gettenanthandlers registered tenant handlers registeredtenanthandlers values tenant get tenant gettenant string tenant id tenantid tenant id tenantid tenant id tenantid length call resource resolver task resourceresolvertask tenant tenant call resource resolver resourceresolver resolver resource tenant res tenantres get tenant resource gettenantresource resolver tenant id tenantid tenant res tenantres tenant impl tenantimpl tenant res tenantres problem iterator tenant get tenants gettenants get tenants gettenants iterator tenant get tenants gettenants string tenant filter tenantfilter filter filter tenant filter tenantfilter tenant filter tenantfilter length filter framework util frameworkutil create filter createfilter tenant filter tenantfilter invalid syntax exception invalidsyntaxexception illegal argument exception illegalargumentexception get message getmessage filter iterator tenant result call resource resolver task resourceresolvertask iterator tenant iterator tenant call resource resolver resourceresolver resolver resource tenant root res tenantrootres resolver get resource getresource tenant root path tenantrootpath list tenant tenant list tenantlist array list arraylist tenant iterator resource tenant resource list tenantresourcelist tenant root res tenantrootres list children listchildren tenant resource list tenantresourcelist has next hasnext resource tenant res tenantres tenant resource list tenantresourcelist filter filter matches resource util resourceutil get value map getvaluemap tenant res tenantres tenant impl tenantimpl tenant tenant impl tenantimpl tenant res tenantres tenant list tenantlist add tenant tenant list tenantlist iterator result filter resource resolver calling result collections tenant empty list emptylist iterator result tenant create string tenant id tenantid map string object properties call resource resolver task resourceresolvertask tenant tenant call resource resolver resourceresolver admin resolver adminresolver create tenant resource tenant res tenantres create tenant resource createtenantresource admin resolver adminresolver tenant id tenantid properties tenant impl tenantimpl tenant tenant impl tenantimpl tenant res tenantres admin resolver adminresolver commit customize tenant customizetenant tenant res tenantres tenant admin resolver adminresolver commit refresh tenant instance copies property resource tenant load properties loadproperties tenant res tenantres tenant persistence exception persistenceexception log error create failed creating tenant tenant id tenantid admin resolver adminresolver close tenant problems remove tenant tenant call resource resolver task resourceresolvertask call resource resolver resourceresolver resolver resource tenant res tenantres get tenant resource gettenantresource resolver tenant get id getid tenant res tenantres call tenant setup handler tenant customizer tenantcustomizer get tenant handlers gettenanthandlers remove tenant resolver exception log info remove tenant removetenant unexpected problem calling tenant customizer tenantcustomizer resolver delete tenant res tenantres resolver commit persistence exception persistenceexception log error remove persist tenant removal tenant get id getid set property setproperty tenant tenant string object update properties updateproperties tenant properties updater propertiesupdater update modifiable value map modifiablevaluemap properties properties properties remove set properties setproperties tenant tenant map string object properties update properties updateproperties tenant properties updater propertiesupdater update modifiable value map modifiablevaluemap entry string object entry properties entry set entryset entry get value getvalue entry get key getkey entry get value getvalue remove entry get key getkey remove properties removeproperties tenant tenant string property names propertynames update properties updateproperties tenant properties updater propertiesupdater update modifiable value map modifiablevaluemap properties string property names propertynames properties remove suppress warnings suppresswarnings serial resource create tenant resource createtenantresource resource resolver resourceresolver resolver string tenant id tenantid map string object properties persistence exception persistenceexception check duplicate get tenant resource gettenantresource resolver tenant id tenantid persistence exception persistenceexception tenant tenant id tenantid exists resource tenant root tenantroot resolver get resource getresource tenant root path tenantrootpath tenant root tenantroot resource current resolver get resource getresource current persistence exception persistenceexception root resource string segments tenant root path tenantrootpath split string segment segments resource child current get child getchild segment child child resolver create current segment hash map hashmap string object jcr primary type primarytype sling folder current child tenant root tenantroot current resolver create tenant root tenantroot tenant id tenantid properties resource get tenant resource gettenantresource resource resolver resourceresolver resolver string tenant id tenantid resolver get resource getresource tenant root path tenantrootpath tenant id tenantid customize tenant customizetenant resource tenant res tenantres tenant tenant call tenant setup handler map string object tenant props tenantprops tenant res tenantres adapt to adaptto modifiable value map modifiablevaluemap tenant props tenantprops log warn create modifiable value map modifiablevaluemap tenant store changed properties tenant customize rs tenantcustomizers tenant get id getid tenant props tenantprops hash map hashmap string object tenant customizer tenantcustomizer get tenant handlers gettenanthandlers map string object props setup tenant tenant res tenantres get resource resolver getresourceresolver props tenant props tenantprops put all putall props exception log info add tenant addtenant unexpected problem calling tenant customizer tenantcustomizer call resource resolver task resourceresolvertask task resource resolver resourceresolver resolver result resolver factory get administrative resource resolver getadministrativeresourceresolver result task call resolver login exception loginexception resolver resolver close result update properties updateproperties tenant tenant properties updater propertiesupdater update r updater call resource resolver task resourceresolvertask call resource resolver resourceresolver resolver resource tenant res tenantres get tenant resource gettenantresource resolver tenant get id getid tenant res tenantres update r updater update tenant res tenantres adapt to adaptto modifiable value map modifiablevaluemap refresh custom izer customizer ref res hed refreshed tenant instance tenant tenant impl tenantimpl tenant impl tenantimpl tenant load properties loadproperties tenant res tenantres customize tenant customizetenant tenant res tenantres tenant resolver commit tenant tenant impl tenantimpl tenant impl tenantimpl tenant load properties loadproperties tenant res tenantres persistence exception persistenceexception log error set property setproperty persist tenant removal tenant get id getid resource resolver task resourceresolvertask call resource resolver resourceresolver resolver properties updater propertiesupdater update modifiable value map modifiablevaluemap properties
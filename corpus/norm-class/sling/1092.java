licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling context java util javax jcr repository exception repositoryexception javax jcr session org apache sling api adapter adapter factory adapterfactory org apache sling api resource login exception loginexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling commons mime mime type service mimetypeservice org apache sling models impl first implementation picker firstimplementationpicker org apache sling models impl model adapter factory modeladapterfactory org apache sling models impl injectors bindings injector bindingsinjector org apache sling models impl injectors child resource injector childresourceinjector org apache sling models impl injectors osg i service injector osgiserviceinjector org apache sling models impl injectors request attribute injector requestattributeinjector org apache sling models impl injectors resource path injector resourcepathinjector org apache sling models impl injectors self injector selfinjector org apache sling models impl injectors sling object injector slingobjectinjector org apache sling models impl injectors value map injector valuemapinjector org apache sling models spi implementation picker implementationpicker org apache sling settings sling settings service slingsettingsservice org apache sling testing mock osgi context osgi context impl osgicontextimpl org apache sling testing mock sling mock sling mocksling org apache sling testing mock sling resource resolver type resourceresolvertype org apache sling testing mock sling builder content builder contentbuilder org apache sling testing mock sling loader content loader contentloader org apache sling testing mock sling services mock mime type service mockmimetypeservice org apache sling testing mock sling services mock sling setting service mockslingsettingservice org apache sling testing mock sling servlet mock request path info mockrequestpathinfo org apache sling testing mock sling servlet mock sling http servlet request mockslinghttpservletrequest org apache sling testing mock sling servlet mock sling http servlet response mockslinghttpservletresponse org osgi framework service reference servicereference a qute aqute bnd annotation consumer type consumertype google common base function google common collect immutable map immutablemap google common collect immutable set immutableset defines sling context objects lazy initialization link org apache sling testing mock sling junit sling context slingcontext j unit junit rule consumer type consumertype sling context impl slingcontextimpl osgi context impl osgicontextimpl publish instance mode string modes immutable set immutableset string builder add publish build resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory resource resolver type resourceresolvertype resource resolver type resourceresolvertype resource resolver resourceresolver resource resolver resourceresolver mock sling http servlet request mockslinghttpservletrequest request mock sling http servlet response mockslinghttpservletresponse response sling script helper slingscripthelper sling script helper slingscripthelper content loader contentloader content loader contentloader content builder contentbuilder content builder contentbuilder unique root uniqueroot unique root uniqueroot param resource resolver type resourceresolvertype resource resolver type set resource resolver type setresourceresolvertype resource resolver type resourceresolvertype resource resolver type resourceresolvertype resource resolver type resourceresolvertype resource resolver type resourceresolvertype setup actions test method execution set up setup set up setup mock sling mocksling set adapter manager bundle context setadaptermanagerbundlecontext bundle context bundlecontext resource resolver factory resourceresolverfactory new resource resolver factory newresourceresolverfactory register default services registerdefaultservices initialize mocked resource resolver factory resource resolver factory resource resolver factory resourceresolverfactory new resource resolver factory newresourceresolverfactory context resource resolver factory contextresourceresolverfactory resource resolver type resourceresolvertype bundle context bundlecontext services unit test register default services registerdefaultservices adapter factories register inject activate service registerinjectactivateservice model adapter factory modeladapterfactory sling models injectors register inject activate service registerinjectactivateservice bindings injector bindingsinjector register inject activate service registerinjectactivateservice child resource injector childresourceinjector register inject activate service registerinjectactivateservice osg i service injector osgiserviceinjector register inject activate service registerinjectactivateservice request attribute injector requestattributeinjector register inject activate service registerinjectactivateservice resource path injector resourcepathinjector register inject activate service registerinjectactivateservice self injector selfinjector register inject activate service registerinjectactivateservice sling object injector slingobjectinjector register inject activate service registerinjectactivateservice value map injector valuemapinjector sling models implementation pick ers pickers register service registerservice implementation picker implementationpicker first implementation picker firstimplementationpicker services register service registerservice sling settings service slingsettingsservice mock sling setting service mockslingsettingservice modes register service registerservice mime type service mimetypeservice mock mime type service mockmimetypeservice tear down teardown actions test method execution tear down teardown resource resolver resourceresolver revert potential unsaved resource resolver jcr session resource resolver resourceresolver revert session session resource resolver resourceresolver adapt to adaptto session session session refresh repository exception repositoryexception remove unique roots unique root uniqueroot unique root uniqueroot clean up cleanup close resource resolver resource resolver resourceresolver close mock sling mocksling clear adapter manager bundle context clearadaptermanagerbundlecontext resource resolver resourceresolver request response sling script helper slingscripthelper content loader contentloader content builder contentbuilder unique root uniqueroot tear down teardown resource resolver type resource resolver type resourceresolvertype resource resolver type resourceresolvertype resource resolver type resourceresolvertype resource resolver resource resolver resourceresolver resource resolver resourceresolver resource resolver resourceresolver resource resolver resourceresolver resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver login exception loginexception runtime exception runtimeexception creating resource resolver failed resource resolver resourceresolver sling request mock sling http servlet request mockslinghttpservletrequest request request request mock sling http servlet request mockslinghttpservletrequest resource resolver resourceresolver bundle context bundlecontext initialize sling bindings sling bindings slingbindings bindings sling bindings slingbindings bindings sling bindings slingbindings request request bindings sling bindings slingbindings response response bindings sling bindings slingbindings sling sling script helper slingscripthelper request set attribute setattribute sling bindings slingbindings get name getname bindings request request path info mock request path info mockrequestpathinfo request path info requestpathinfo mock request path info mockrequestpathinfo request get request path info getrequestpathinfo sling response mock sling http servlet response mockslinghttpservletresponse response response response mock sling http servlet response mockslinghttpservletresponse response sling script helper sling script helper slingscripthelper sling script helper slingscripthelper sling script helper slingscripthelper sling script helper slingscripthelper mock sling mocksling new sling script helper newslingscripthelper request response bundle context bundlecontext sling script helper slingscripthelper content loader content loader contentloader load content loader contentloader content loader contentloader content loader contentloader resource resolver resourceresolver bundle context bundlecontext content loader contentloader content builder building test content content builder contentbuilder create content builder contentbuilder content builder contentbuilder content builder contentbuilder resource resolver resourceresolver content builder contentbuilder current resource resource current resource currentresource request get resource getresource current resource request param resource path resourcepath resource path current resource resource current resource currentresource string resource path resourcepath resource path resourcepath resource resource resource resolver resourceresolver get resource getresource resource path resourcepath resource illegal argument exception illegalargumentexception resource exist resource path resourcepath current resource currentresource resource current resource currentresource resource current resource request param resource resource current resource resource current resource currentresource resource resource request set resource setresource resource resource scan class paths classpaths packages scan register classes model annotation param package name packagename java add models for package addmodelsforpackage string package name packagename model adapter factory util modeladapterfactoryutil add models for package addmodelsforpackage package name packagename bundle context bundlecontext current mode param run modes runmodes mode run mode runmode string run modes runmodes string new run modes newrunmodes immutable set immutableset string builder add run modes runmodes build service reference servicereference bundle context bundlecontext get service reference getservicereference sling settings service slingsettingsservice get name getname mock sling setting service mockslingsettingservice sling settings slingsettings mock sling setting service mockslingsettingservice bundle context bundlecontext get service getservice sling settings slingsettings set run modes setrunmodes new run modes newrunmodes create unique root paths unit tests clean test automatically unique root path helper unique root uniqueroot unique root uniqueroot unique root uniqueroot unique root uniqueroot unique root uniqueroot unique root uniqueroot create sling adapter factory adapterfactory fly adapt code adaptable class adaptableclass code code adapter class adapterclass code returns result param adaptable class adaptableclass adapt param adapter class adapterclass adapt param adapter object returned adapt ion adaption param adaptable type param adapter type register adapter registeradapter adaptable class adaptableclass adapter class adapterclass adapter register adapter registeradapter adaptable class adaptableclass adapter class adapterclass function override apply input adapter create sling adapter factory adapterfactory fly adapt code adaptable class adaptableclass code code adapter class adapterclass code delegates adapter mapping code adapt handler adapthandler code function param adaptable class adaptableclass adapt param adapter class adapterclass adapt param adapt handler adapthandler function handle adapt ion adaption param adaptable type param adapter type register adapter registeradapter adaptable class adaptableclass adapter class adapterclass function adapt handler adapthandler adapter factory adapterfactory adapter factory adapterfactory adapter factory adapterfactory suppress warnings suppresswarnings unchecked override adapter type adaptertype adapter type adaptertype get adapter getadapter object adaptable adapter type adaptertype type adapter type adaptertype adapt handler adapthandler apply adaptable register service registerservice adapter factory adapterfactory adapter factory adapterfactory immutable map immutablemap string object builder adapter factory adapterfactory adaptable classes string adaptable class adaptableclass get name getname adapter factory adapterfactory adapter classes string adapter class adapterclass get name getname build
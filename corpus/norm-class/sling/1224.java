licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling extensions gwt user server rpc google gwt user client rpc serialization exception serializationexception google gwt user server rpc remote service servlet remoteserviceservlet google gwt user server rpc serialization policy serializationpolicy google gwt user server rpc serialization policy loader serializationpolicyloader org osgi framework bundle javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest java io exception ioexception java input stream inputstream java net malformedurlexception java net url java text parse exception parseexception ext ending extending google remote service servlet enable resolving resources bundle policy file loading version gwt gwt servlet jar edit ion edition highly recommended compile client apps gwt gwt user jar gwt service servlets sling required extend code sling remote service servlet slingremoteserviceservlet code google code remote service servlet remoteserviceservlet code code sling remote service servlet slingremoteserviceservlet remote service servlet remoteserviceservlet verbatim copy method signature remote service servlet remoteserviceservlet exception inline loads policy file bundle sling doesn support servlet context servletcontext get resource as stream getresourceasstream serialization policy serializationpolicy load serialization policy loadserializationpolicy http servlet httpservlet servlet http servlet request httpservletrequest request string modulebaseurl string strong name strongname bundle bundle request path web app relative container root string context path contextpath request get context path getcontextpath string module path modulepath modulebaseurl module path modulepath url modulebaseurl get path getpath malformedurlexception servlet log malformed modulebaseurl modulebaseurl serialization policy serializationpolicy serialization policy serializationpolicy check module path web app servlet implement scheme override method module path modulepath module path modulepath starts with startswith context path contextpath string message error module path requested module path modulepath web application servlet context path contextpath module properly configured client server code servlet log message str ip strip context path module base url str ict strict prefix string context relative path contextrelativepath module path modulepath substring context path contextpath length string serialization policy file path serializationpolicyfilepath serialization policy loader serializationpolicyloader get serialization policy file name getserializationpolicyfilename context relative path contextrelativepath strong name strongname remove code open rpc resource file read contents input stream inputstream servlet get servlet context getservletcontext get resource as stream getresourceasstream serialization policy file path serializationpolicyfilepath remove code code input stream inputstream bundle extending load resource servlet context bundle bundle get resource getresource serialization policy file path serializationpolicyfilepath open stream openstream io exception ioexception servlet get servlet context getservletcontext get resource as stream getresourceasstream serialization policy file path serializationpolicyfilepath serialization policy serializationpolicy serialization policy loader serializationpolicyloader load from stream loadfromstream parse exception parseexception servlet log error failed parse policy file serialization policy file path serializationpolicyfilepath io exception ioexception servlet log error read policy file serialization policy file path serializationpolicyfilepath string message error serialization policy file serialization policy file path serializationpolicyfilepath for get forget include deployment servlet log message close io exception ioexception serialization policy serializationpolicy code org osgi framework bundle code load resources bundle bundle code class loader classloader code gwt ref lects reflects rpc classes class loader classloader class loader classloader process call originating request link google gwt user server rpc rpc invoke and encode response invokeandencoderesponse object java lang reflect method object method actual work subclasses option ally optionally override method handle payload desire routing request framework component instance link javax servlet http http servlet request httpservletrequest link javax servlet http http servlet response httpservletresponse accessed link get thread local request getthreadlocalrequest link get thread local response getthreadlocalresponse methods unit tested easily http order properly operate sling osg i osgi class loader classloader gwt rerouted code thread current thread currentthread get context class loader getcontextclassloader code class loader classloader bundle param payload utf request payload string enc odes encodes method checked exception thrown method link google gwt user client rpc incompatible remote service exception incompatibleremoteserviceexception google gwt user client rpc serialization exception serializationexception serialize response google gwt user server rpc unexpected exception unexpectedexception invocation checked exception declared service method signature runtime exception runtimeexception service method unchecked exception exception thrown service override string process call processcall string payload serialization exception serializationexception string result class loader classloader class loader classloader thread current thread currentthread get context class loader getcontextclassloader thread current thread currentthread set context class loader setcontextclassloader class loader classloader result process call processcall payload thread current thread currentthread set context class loader setcontextclassloader result process call processcall payload result link serialization policy serializationpolicy module base url strong override method provide link serialization policy serializationpolicy alternative app roach approach param request http request service d serviced param modulebaseurl incoming payload param strong name strongname strong uniquely identifies serialization policy file link serialization policy serializationpolicy module base url strong code code serialization policy serializationpolicy do get serialization policy dogetserializationpolicy http servlet request httpservletrequest request string modulebaseurl string strong name strongname load serialization policy loadserializationpolicy request modulebaseurl strong name strongname bundle extending osg i osgi service bundle bundle provide access policy file loaded code get servlet context getservletcontext get resource as stream getresourceasstream code supported sling param bundle bundle load resource policy file set bundle setbundle bundle bundle bundle bundle extending osg i osgi service class loader classloader param class loader classloader class loader classloader provide sling remote service servlet slingremoteserviceservlet set class loader setclassloader class loader classloader class loader classloader class loader classloader class loader classloader
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting java script javascript internal java util dictionary java util hash set hashset java util javax script script engine scriptengine javax script script engine factory scriptenginefactory org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations service org apache sling commons class loader classloader dynamic class loader manager dynamicclassloadermanager org apache sling commons osgi properties util propertiesutil org apache sling scripting api abstract script engine factory abstractscriptenginefactory org apache sling scripting api script cache scriptcache org apache sling scripting java script javascript rhino host object provider rhinohostobjectprovider org apache sling scripting java script javascript sling wrapper slingwrapper org apache sling scripting java script javascript helper sling context factory slingcontextfactory org apache sling scripting java script javascript helper sling wrap factory slingwrapfactory org apache sling scripting java script javascript wrapper scriptable calendar scriptablecalendar org apache sling scripting java script javascript wrapper scriptable item map scriptableitemmap org apache sling scripting java script javascript wrapper scriptable map scriptablemap org apache sling scripting java script javascript wrapper scriptable node scriptablenode org apache sling scripting java script javascript wrapper scriptable print writer scriptableprintwriter org apache sling scripting java script javascript wrapper scriptable property scriptableproperty org apache sling scripting java script javascript wrapper scriptable resource scriptableresource org apache sling scripting java script javascript wrapper scriptable version scriptableversion org apache sling scripting java script javascript wrapper scriptable version history scriptableversionhistory org mozilla java script javascript context org mozilla java script javascript context factory contextfactory org mozilla java script javascript importer top level importertoplevel org mozilla java script javascript native java class nativejavaclass org mozilla java script javascript native java package nativejavapackage org mozilla java script javascript scriptable org mozilla java script javascript scriptable object scriptableobject org mozilla java script javascript tools debug ger debugger scope provider scopeprovider org osgi framework bundle context bundlecontext org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory code rhino java script engine factory rhinojavascriptenginefactory code todo component metatype label apache sling rhino java script javascript engine factory description java script javascript engine based rhino service script engine factory scriptenginefactory reference host object provider hostobjectprovider reference interface referenceinterface rhino host object provider rhinohostobjectprovider cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic bind add host object provider addhostobjectprovider unbind remove host object provider removehostobjectprovider property rhino java script engine factory rhinojavascriptenginefactory optimization config label rhino optimization level int value intvalue rhino java script engine factory rhinojavascriptenginefactory optimization level description level optimization byte code bytecode generated rhino provide values aggressive level optimization scripts int erpreted interpreted mode rhino java script engine factory rhinojavascriptenginefactory abstract script engine factory abstractscriptenginefactory scope provider scopeprovider string optimization config org apache sling scripting java script javascript rhino opt level optlevel optimization level string ecma script extension ecma string esp script extension esp host object hostobject classes scriptable resource scriptableresource scriptable node scriptablenode scriptable property scriptableproperty scriptable item map scriptableitemmap scriptable print writer scriptableprintwriter scriptable version history scriptableversionhistory scriptable version scriptableversion scriptable calendar scriptablecalendar scriptable map scriptablemap log logger log logger factory loggerfactory get logger getlogger get class getclass optimization level optimizationlevel string language version languageversion sling wrap factory slingwrapfactory wrap factory wrapfactory scriptable root scope rootscope rhino host object provider rhinohostobjectprovider host object provider hostobjectprovider hash set hashset rhino host object provider rhinohostobjectprovider reference dynamic class loader manager dynamicclassloadermanager dynamic class loader manager dynamicclassloadermanager reference script cache scriptcache script cache scriptcache script engine scriptengine get script engine getscriptengine rhino java script engine rhinojavascriptengine get root scope getrootscope script cache scriptcache string get language name getlanguagename ecma script ecmascript string get language version getlanguageversion language version languageversion optimization level running scripts rhino int eger integer aggressive optimization int erpreted interpreted mode get optimization level getoptimizationlevel optimization level optimizationlevel object get parameter getparameter string threading equals multithreaded get parameter getparameter scriptable get scope getscope get root scope getrootscope sling wrap factory slingwrapfactory get wrap factory getwrapfactory wrap factory wrapfactory suppress warnings suppresswarnings unchecked scriptable get root scope getrootscope root scope rootscope context rhino context rhinocontext context enter rhino context rhinocontext set optimization level setoptimizationlevel optimization level optimizationlevel scriptable tmp scope tmpscope rhino context rhinocontext init standard objects initstandardobjects importer top level importertoplevel rhino context rhinocontext classes add host objects addhostobjects tmp scope tmpscope scriptable object scriptableobject host object hostobject classes classes rhino host object provider rhinohostobjectprovider provider host object provider hostobjectprovider add host objects addhostobjects tmp scope tmpscope provider get host object classes gethostobjectclasses add imported classes addimportedclasses rhino context rhinocontext tmp scope tmpscope provider get imported classes getimportedclasses add imported packages addimportedpackages rhino context rhinocontext tmp scope tmpscope provider get imported packages getimportedpackages assign root scope complete root scope rootscope tmp scope tmpscope ensure context exited setting root scope context exit root scope rootscope drop root scope droprootscope ensure debug ger debugger closed root scope replaced ensure references scope context remain context factory contextfactory context factory contextfactory context factory contextfactory get global getglobal context factory contextfactory sling context factory slingcontextfactory sling context factory slingcontextfactory context factory contextfactory exit debug ger exitdebugger drop scope root scope rootscope scr int egration integration activate activate component context componentcontext context dictionary props context get properties getproperties debug ging debugging get property getproperty org apache sling scripting java script javascript debug props context get bundle context getbundlecontext optimization level optimizationlevel read optimization level readoptimizationlevel props setup wrap factory wrap factory wrapfactory sling wrap factory slingwrapfactory initialize rhino context factory sling context factory slingcontextfactory setup context context enter set engine name setenginename get engine name getenginename get implementation version getimplementationversion language version languageversion string value of valueof get language version getlanguageversion context exit set extensions setextensions ecma script extension esp script extension set mime types setmimetypes text java script javascript application ecma script ecmascript application java script javascript set names setnames java script javascript ecma script extension esp script extension context factory contextfactory context factory contextfactory context factory contextfactory get global getglobal context factory contextfactory sling context factory slingcontextfactory sling context factory slingcontextfactory context factory contextfactory set debug ging setdebugging debug ging debugging dynamic loader application loader dynamic class loader manager dynamicclassloadermanager dclm dynamic class loader manager dynamicclassloadermanager dclm context factory contextfactory init application class loader initapplicationclassloader dynamic class loader manager dynamicclassloadermanager get dynamic class loader getdynamicclassloader log info activated optimization level optimization level optimizationlevel deactivate suppress warnings suppresswarnings unused deactivate component context componentcontext context remove root scope drop root scope droprootscope remove context factory sling context factory slingcontextfactory tear down teardown remove references wrap factory wrapfactory host object provider hostobjectprovider clear suppress warnings suppresswarnings unused add host object provider addhostobjectprovider rhino host object provider rhinohostobjectprovider provider host object provider hostobjectprovider add provider root scope rootscope add host objects addhostobjects root scope rootscope provider get host object classes gethostobjectclasses suppress warnings suppresswarnings unused remove host object provider removehostobjectprovider rhino host object provider rhinohostobjectprovider provider host object classes host object provider hostobjectprovider remove provider drop root scope droprootscope internal add host objects addhostobjects scriptable scope scriptable classes classes scriptable clazz classes register host object scriptable object scriptableobject define class defineclass scope clazz sling wrapper slingwrapper is assignable from isassignablefrom clazz sling wrappers slingwrappers map classes needed sling wrapper slingwrapper host wrapper hostwrapper sling wrapper slingwrapper clazz new instance newinstance host wrapper hostwrapper get wrapped classes getwrappedclasses get wrap factory getwrapfactory register wrapper registerwrapper host wrapper hostwrapper get class name getclassname scriptable host objects registered scriptable host clazz new instance newinstance get wrap factory getwrapfactory register wrapper registerwrapper host get class getclass host get class name getclassname throwable log warn add host objects addhostobjects prepare host object clazz add imported classes addimportedclasses context scriptable scope classes classes classes length native java class nativejavaclass native java class nativejavaclass classes length classes length native java class nativejavaclass scope classes scriptable object scriptableobject call method callmethod scope import class importclass add imported packages addimportedpackages context scriptable scope string packages packages packages length native java package nativejavapackage native java package nativejavapackage packages length packages length native java package nativejavapackage packages scriptable object scriptableobject call method callmethod scope import package importpackage get property getproperty string dictionary props bundle context bundlecontext bundle context bundlecontext default value defaultvalue object props bundle context bundlecontext get property getproperty parse boolean parseboolean string value of valueof default value defaultvalue read optimization level readoptimizationlevel dictionary dictionary opt level optlevel properties util propertiesutil to integer tointeger dictionary optimization config optimization level context is valid optimization level isvalidoptimizationlevel opt level optlevel log warn invalid optimization level opt level optlevel opt level optlevel optimization level opt level optlevel
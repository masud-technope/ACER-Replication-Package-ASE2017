licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest org junit assert true asserttrue java io exception ioexception java util hash map hashmap java util hash set hashset java util map java util org apache commons http client httpclient methods get method getmethod org apache sling commons testing int egration integration http test httptest org apache sling commons testing junit retry org apache sling commons testing junit retry rule retryrule org apache sling servlets post sling post constants slingpostconstants org junit org junit org junit rule org junit test test link script helper scripthelper functionality jsp for ward test jspforwardtest string node url a nodeurla string test text a testtexta string node url b nodeurlb string test text b testtextb string node url c nodeurlc string node url d nodeurld string node url e nodeurle string node url f nodeurlf string script path scriptpath string for ced resource type forcedresourcetype string to delete todelete hash set hashset string http tests helper http test httptest http test httptest rule retry rule retryrule retry rule retryrule retry rule retryrule set up setup exception set up setup create test nodes path specific collisions string url http test httptest http base url get class getclass get simple name getsimplename system current time millis currenttimemillis sling post constants slingpostconstants create suffix map string string props hash map hashmap string string create test nodes store paths test text a testtexta text system current time millis currenttimemillis props text test text a testtexta node url a nodeurla get test client gettestclient create node createnode url props string path to include pathtoinclude node url a nodeurla substring http test httptest http base url length node stores path test script rendering test text b testtextb text system current time millis currenttimemillis props text test text b testtextb props path to include pathtoinclude path to include pathtoinclude node url b nodeurlb get test client gettestclient create node createnode url props node extension path props path to include pathtoinclude path to include pathtoinclude html node url e nodeurle get test client gettestclient create node createnode url props node jsp include props path to include pathtoinclude path to include pathtoinclude html props for ward style forwardstyle jsp node url f nodeurlf get test client gettestclient create node createnode url props node infinite loop detection test props remove path to include pathtoinclude props remove for ward style forwardstyle props test infinite loop testinfiniteloop node url c nodeurlc get test client gettestclient create node createnode url props node force resource type test for ced resource type forcedresourcetype get class getclass get simple name getsimplename system current time millis currenttimemillis props remove test infinite loop testinfiniteloop props force resource type forceresourcetype for ced resource type forcedresourcetype props path to include pathtoinclude path to include pathtoinclude node url d nodeurld get test client gettestclient create node createnode url props script for ced forced resource type script path scriptpath apps for ced resource type forcedresourcetype get test client gettestclient mkdirs http test httptest webdav base url script path scriptpath to delete todelete add upload test script uploadtestscript script path scriptpath for ced forced jsp html jsp main rendering script apps repository script path scriptpath apps unstructured get test client gettestclient mkdirs http test httptest webdav base url script path scriptpath to delete todelete add upload test script uploadtestscript script path scriptpath test jsp html jsp tear down teardown exception tear down teardown string script to delete todelete get test client gettestclient delete script test retry test without for ward testwithoutforward io exception ioexception string content get content getcontent node url a nodeurla html http test httptest content type html assert true asserttrue content includes jsp marker content jsp template assert true asserttrue content for matted formatted test text content main test text a testtexta test retry test with for ward testwithforward io exception ioexception string content get content getcontent node url b nodeurlb html http test httptest content type html assert true asserttrue content includes jsp marker content jsp template assert true asserttrue content for matted formatted test text content main test text a testtexta assert true asserttrue text node included content content test text b testtextb test retry test with for ward and extension testwithforwardandextension io exception ioexception string content get content getcontent node url e nodeurle html http test httptest content type html assert true asserttrue content includes jsp marker content jsp template assert true asserttrue content for matted formatted test text content main test text a testtexta assert true asserttrue text node included content content test text b testtextb test retry test with jsp for ward testwithjspforward io exception ioexception string content get content getcontent node url f nodeurlf html http test httptest content type html assert true asserttrue content includes jsp marker content jsp template assert true asserttrue content for matted formatted test text content main test text a testtexta assert true asserttrue text node included content content test text b testtextb test retry test infinite loop detection testinfiniteloopdetection io exception ioexception node property infinite include loop sling problem response get method getmethod get method getmethod node url c nodeurlc html get http client gethttpclient execute method executemethod string content get response body as string getresponsebodyasstring assert true asserttrue response infinite loop error message content org apache sling api request recursion too deep exception recursiontoodeepexception todo sling status running tests maven build running tests separate instance started mvn jetty status get status code getstatuscode assert equals assertequals status infinite loop http servlet response httpservletresponse internal server error status test retry test for ced resource type testforcedresourcetype io exception ioexception string content get content getcontent node url d nodeurld html http test httptest content type html assert true asserttrue content includes jsp marker content jsp template assert true asserttrue content for matted formatted test text content main test text a testtexta assert true asserttrue text node included content content test text b testtextb assert true asserttrue resource type for ced forced content content for ced forced resource type for ced resource type forcedresourcetype
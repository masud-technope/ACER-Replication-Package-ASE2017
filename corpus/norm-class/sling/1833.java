licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jst java io exception ioexception java string reader stringreader java string writer stringwriter junit framework test case testcase org apache sling commons testing util test string util teststringutil test script filtered copy scriptfilteredcopy script filtered copy test scriptfilteredcopytest test case testcase script filtered copy scriptfilteredcopy sfc script filtered copy scriptfilteredcopy run test runtest string input string expected io exception ioexception string writer stringwriter string writer stringwriter sfc copy string reader stringreader input assert equals assertequals test string util teststringutil flatten expected test string util teststringutil flatten to string tostring test no changes testnochanges io exception ioexception string input write statements lines string expected input run test runtest input expected test open close testopenclose io exception ioexception string input write script script string expected write write script write script run test runtest input expected test open at start testopenatstart io exception ioexception string input write script string expected write write script run test runtest input expected test open at end testopenatend io exception ioexception string input write script string expected write write script run test runtest input expected
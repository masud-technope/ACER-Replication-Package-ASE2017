licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jackrabbit user manager usermanager impl java unsupported encoding exception unsupportedencodingexception java security invalid key exception invalidkeyexception java security no such algorithm exception nosuchalgorithmexception java util dictionary javax jcr repository exception repositoryexception javax jcr session javax servlet servlet org apache felix scr annotations component org apache felix scr annotations property org apache felix scr annotations service org apache jackrabbit api security user authorizable org apache jackrabbit api security user user org apache jackrabbit api security user user manager usermanager org apache sling commons osgi osgi util osgiutil org apache sling jackrabbit user manager usermanager authorizable privileges info authorizableprivilegesinfo org apache sling jcr base util access control util accesscontrolutil org osgi framework bundle context bundlecontext org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service reference servicereference org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory helper assist usage access control users groups scripts access control policy defined provider character istics characteristics read permission items user allowed modify properties group membership component service authorizable privileges info authorizableprivilegesinfo authorizable privileges info impl authorizableprivilegesinfoimpl authorizable privileges info authorizableprivilegesinfo log logger log logger factory loggerfactory get logger getlogger get class getclass user administrator group par user admin group string user admin group user admin useradmin configuration parameter providing user administrator group property user admin group string par user admin group user admin group user administrator group par group admin group string group admin group group admin groupadmin configuration parameter providing group administrator group property group admin group string par group admin group group admin group javadoc org apache sling jackrabbit user manager usermanager authorizable privileges info authorizableprivilegesinfo can add group canaddgroup javax jcr session can add group canaddgroup session jcr session jcrsession user manager usermanager user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession authorizable current user currentuser user manager usermanager get authorizable getauthorizable jcr session jcrsession get user d getuserid current user currentuser user current user currentuser is admin isadmin admin user full control repository exception repositoryexception log warn failed determine add group jcr session jcrsession get user d getuserid javadoc org apache sling jackrabbit user manager usermanager authorizable privileges info authorizableprivilegesinfo can add user canadduser javax jcr session can add user canadduser session jcr session jcrsession registration enabled create user component context componentcontext string filter sling servlet resource types resourcetypes sling users sling servlet methods post sling servlet selectors create bundle context bundlecontext bundle context bundlecontext component context componentcontext get bundle context getbundlecontext service reference servicereference service references servicereferences bundle context bundlecontext get service references getservicereferences servlet get name getname filter service references servicereferences string prop name propname registration enabled service reference servicereference service reference servicereference service references servicereferences object prop value propvalue service reference servicereference get property getproperty prop name propname prop value propvalue self reg enabled selfregenabled equals prop value propvalue self reg enabled selfregenabled user manager usermanager user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession authorizable current user currentuser user manager usermanager get authorizable getauthorizable jcr session jcrsession get user d getuserid current user currentuser user current user currentuser is admin isadmin admin user full control repository exception repositoryexception log warn failed determine add user jcr session jcrsession get user d getuserid invalid syntax exception invalidsyntaxexception log warn failed determine add user jcr session jcrsession get user d getuserid javadoc org apache sling jackrabbit user manager usermanager authorizable privileges info authorizableprivilegesinfo can remove canremove javax jcr session java lang string can remove canremove session jcr session jcrsession string principal id principalid user manager usermanager user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession authorizable current user currentuser user manager usermanager get authorizable getauthorizable jcr session jcrsession get user d getuserid user current user currentuser is admin isadmin admin user full control repository exception repositoryexception log warn failed determine remove authorizable jcr session jcrsession get user d getuserid principal id principalid javadoc org apache sling jackrabbit user manager usermanager authorizable privileges info authorizableprivilegesinfo can update group members canupdategroupmembers javax jcr session java lang string can update group members canupdategroupmembers session jcr session jcrsession string group id groupid user manager usermanager user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession authorizable current user currentuser user manager usermanager get authorizable getauthorizable jcr session jcrsession get user d getuserid user current user currentuser is admin isadmin admin user full control repository exception repositoryexception log warn failed determine remove authorizable jcr session jcrsession get user d getuserid group id groupid javadoc org apache sling jackrabbit user manager usermanager authorizable privileges info authorizableprivilegesinfo can update properties canupdateproperties javax jcr session java lang string can update properties canupdateproperties session jcr session jcrsession string principal id principalid jcr session jcrsession get user d getuserid equals principal id principalid user allowed update properties user manager usermanager user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession authorizable current user currentuser user manager usermanager get authorizable getauthorizable jcr session jcrsession get user d getuserid user current user currentuser is admin isadmin admin user full control repository exception repositoryexception log warn failed determine remove authorizable jcr session jcrsession get user d getuserid principal id principalid scr int egration integration track bundle context component context componentcontext component context componentcontext called scr activate component invalid key exception invalidkeyexception no such algorithm exception nosuchalgorithmexception illegal state exception illegalstateexception unsupported encoding exception unsupportedencodingexception activate component context componentcontext component context componentcontext invalid key exception invalidkeyexception no such algorithm exception nosuchalgorithmexception illegal state exception illegalstateexception unsupported encoding exception unsupportedencodingexception component context componentcontext component context componentcontext dictionary properties component context componentcontext get properties getproperties string user admin group name useradmingroupname osgi util osgiutil to string tostring properties par user admin group user admin group name useradmingroupname user admin group equals user admin group name useradmingroupname log warn configuration setting deprecated par user admin group string group admin group name groupadmingroupname osgi util osgiutil to string tostring properties par group admin group group admin group name groupadmingroupname group admin group equals user admin group name useradmingroupname log warn configuration setting deprecated par group admin group
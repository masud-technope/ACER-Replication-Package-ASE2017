licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons log logback internal java file java io exception ioexception java print writer printwriter java random access file randomaccessfile tailer buffer size num of lines numoflines tailer listener tailerlistener listener buffer buffer size tailer print writer printwriter print writer printwriter num of lines numoflines printer listener printerlistener print writer printwriter num of lines numoflines tailer tailer listener tailerlistener listener num of lines numoflines listener listener num of lines numoflines num of lines numoflines tailer listener tailerlistener handles tailer param handle string tail file file io exception ioexception random access file randomaccessfile raf raf random access file randomaccessfile file start pos startpos get tail start pos gettailstartpos raf num of lines numoflines read lines readlines raf start pos startpos raf raf close io exception ioexception ignore returns starting position unix tail get tail start pos gettailstartpos random access file randomaccessfile file io exception ioexception new line count newlinecount length file length pos length buffer size buf f length bufflength buffer size pos pos buf f length bufflength length file see k seek pos file read fully readfully buffer buf f length bufflength buf f length bufflength buffer new line count newlinecount new line count newlinecount pos pos pos pos buffer size buf f length bufflength pos pos pos buffer size pos read lines code org apache commons input tailer java io exception ioexception error occurs param start pos startpos position file start reading read lines readlines random access file randomaccessfile file start pos startpos io exception ioexception string builder stringbuilder string builder stringbuilder file see k seek start pos startpos num see n r seencr num file read buffer num buffer swallow see n r seencr listener handle to string tostring set length setlength see n r seencr append see n r seencr see n r seencr swallow see n r seencr listener handle to string tostring set length setlength add character ascii append drain left length listener handle to string tostring printer listener printerlistener tailer tailer listener tailerlistener print writer printwriter printer listener printerlistener print writer printwriter override handle string println
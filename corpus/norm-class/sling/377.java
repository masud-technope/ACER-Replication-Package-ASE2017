licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery base org junit assert equals assertequals java util collection java util iterator java util linked list linkedlist java util list java util org apache sling discovery instance description instancedescription org apache sling discovery base connectors dummy virtual instance builder dummyvirtualinstancebuilder org apache sling discovery base connectors announcement announcement org apache sling discovery base setup topology helper topologyhelper org apache sling discovery base setup virtual connector virtualconnector org apache sling discovery base setup virtual instance virtualinstance org apache sling discovery base setup virtual instance builder virtualinstancebuilder org junit org junit test org slf logger org slf logger factory loggerfactory topology test topologytest logger logger logger factory loggerfactory get logger getlogger get class getclass list virtual instance virtualinstance instances linked list linkedlist virtual instance virtualinstance virtual instance builder virtualinstancebuilder new builder newbuilder dummy virtual instance builder dummyvirtualinstancebuilder tear down teardown exception iterator virtual instance virtualinstance instances iterator has next hasnext virtual instance virtualinstance instance instance test test two nodes testtwonodes throwable virtual instance builder virtualinstancebuilder builder new builder newbuilder new repository newrepository discovery impl set debug name setdebugname instance set connector ping interval setconnectorpinginterval set connector ping timeout setconnectorpingtimeout virtual instance virtualinstance instance builder build instances add instance virtual instance builder virtualinstancebuilder builder new builder newbuilder use repository of userepositoryof builder set debug name setdebugname instance set connector ping interval setconnectorpinginterval set connector ping timeout setconnectorpingtimeout virtual instance virtualinstance instance builder build instances add instance instance get config getconfig set view check timeout setviewchecktimeout instance get config getconfig set view check interval setviewcheckinterval instance get config getconfig set view check timeout setviewchecktimeout instance get config getconfig set view check interval setviewcheckinterval instance heartbeats and check view heartbeatsandcheckview instance heartbeats and check view heartbeatsandcheckview thread sleep instance description instancedescription instances instance get discovery service getdiscoveryservice get topology gettopology get instances getinstances instance description instancedescription instances instance get discovery service getdiscoveryservice get topology gettopology get instances getinstances assert equals assertequals instances size assert equals assertequals instances size assert equals assertequals instance get sling id getslingid instances iterator get sling id getslingid assert equals assertequals instance get sling id getslingid instances iterator get sling id getslingid virtual connector virtualconnector instance instance check instance announcements collection announcement instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size announcement instance local announcement localannouncement instance local announcements localannouncements iterator assert equals assertequals instance get sling id getslingid instance local announcement localannouncement get owner id getownerid assert equals assertequals instance local announcement localannouncement is inherited isinherited check instance announcements collection announcement instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size announcement instance local announcement localannouncement instance local announcements localannouncements iterator assert equals assertequals instance get sling id getslingid instance local announcement localannouncement get owner id getownerid assert equals assertequals instance local announcement localannouncement is inherited isinherited check topology topology helper topologyhelper assert topology consists of asserttopologyconsistsof instance get discovery service getdiscoveryservice get topology gettopology instance get sling id getslingid instance get sling id getslingid topology helper topologyhelper assert topology consists of asserttopologyconsistsof instance get discovery service getdiscoveryservice get topology gettopology instance get sling id getslingid instance get sling id getslingid instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size sleep ensures instance heartbeat timeout hits thread sleep instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size logger info test two nodes testtwonodes instance instance get sling id getslingid instance dump repo dumprepo logger info test two nodes testtwonodes instance instance get sling id getslingid instance dump repo dumprepo topology helper topologyhelper assert topology consists of asserttopologyconsistsof instance get discovery service getdiscoveryservice get topology gettopology instance get sling id getslingid instance get sling id getslingid topology helper topologyhelper assert topology consists of asserttopologyconsistsof instance get discovery service getdiscoveryservice get topology gettopology instance get sling id getslingid sleep ensures instance heartbeat timeout hits thread sleep instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size instance local announcements localannouncements instance get announcement registry getannouncementregistry list local announcements listlocalannouncements assert equals assertequals instance local announcements localannouncements size topology helper topologyhelper assert topology consists of asserttopologyconsistsof instance get discovery service getdiscoveryservice get topology gettopology instance get sling id getslingid topology helper topologyhelper assert topology consists of asserttopologyconsistsof instance get discovery service getdiscoveryservice get topology gettopology instance get sling id getslingid
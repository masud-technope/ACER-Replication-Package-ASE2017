licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp taglib org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue java util iterator org apache sling api resource resource org apache sling commons testing sling mock resource mockresource org apache sling commons testing sling mock resource resolver mockresourceresolver org junit org junit test org slf logger org slf logger factory loggerfactory unit tests list children tag listchildrentag org apache sling scripting jsp taglib list children tag listchildrentag test list children tag testlistchildrentag logger log logger factory loggerfactory get logger getlogger test list children tag testlistchildrentag list children tag listchildrentag list children tag listchildrentag list children tag listchildrentag mock resource mockresource resource mock page context mockpagecontext page context pagecontext string test path content string key children initializes fields test init log info init log info creating resource structure mock resource resolver mockresourceresolver resolver mock resource resolver mockresourceresolver resource mock resource mockresource resolver test path test resolver add resource addresource resource mock resource mockresource child mock resource mockresource resolver test path child test resolver add resource addresource child mock resource mockresource child mock resource mockresource resolver test path child test resolver add resource addresource child log info adding context page context pagecontext mock page context mockpagecontext list children tag listchildrentag set page context setpagecontext page context pagecontext log info init complete tests ensure base list children listchildren functionality works suppress warnings suppresswarnings unchecked test test list children testlistchildren log info test good path testgoodpath list children tag listchildrentag set resource setresource resource list children tag listchildrentag set var setvar key list children tag listchildrentag do end tag doendtag object result page context pagecontext get attribute getattribute key assert not null assertnotnull result assert true asserttrue result iterator assert true asserttrue iterator resource result has next hasnext log info test successful tests resource test test null resource testnullresource log info test null resource testnullresource list children tag listchildrentag set var setvar key list children tag listchildrentag set resource setresource list children tag listchildrentag do end tag doendtag object result page context pagecontext get attribute getattribute key assert null assertnull result log info test successful
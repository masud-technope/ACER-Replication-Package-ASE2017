licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl engine extension java util enumeration java util locale java util map java util resource bundle resourcebundle javax script bindings org apache commons lang string utils stringutils org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling resource bundle provider resourcebundleprovider org apache sling scripting sightly extension runtime extension runtimeextension org apache sling scripting sightly impl filter n filter nfilter org apache sling scripting sightly impl utils render utils renderutils org apache sling scripting sightly render render context rendercontext org slf logger org slf logger factory loggerfactory component service runtime extension runtimeextension properties property runtime extension runtimeextension n filter nfilter function n runtime extension nruntimeextension runtime extension runtimeextension logger log logger factory loggerfactory get logger getlogger n runtime extension nruntimeextension override object call render context rendercontext render context rendercontext object arguments extension utils extensionutils check argument count checkargumentcount n filter nfilter function arguments string text render utils renderutils to string tostring arguments map string object options map string object arguments string locale render utils renderutils to string tostring options n filter nfilter locale option string hint render utils renderutils to string tostring options n filter nfilter hint option bindings bindings render context rendercontext get bindings getbindings bindings text locale hint string bindings bindings string text string locale string hint sling script helper slingscripthelper sling script helper slingscripthelper sling script helper slingscripthelper bindings sling bindings slingbindings sling sling http servlet request slinghttpservletrequest request sling http servlet request slinghttpservletrequest bindings sling bindings slingbindings request resource bundle provider resourcebundleprovider resource bundle provider resourcebundleprovider sling script helper slingscripthelper get service getservice resource bundle provider resourcebundleprovider resource bundle provider resourcebundleprovider string key text string utils stringutils is not empty isnotempty hint key hint string utils stringutils is empty isempty locale enumeration locale request locales requestlocales request get locales getlocales request locales requestlocales has more elements hasmoreelements locale request locales requestlocales next element nextelement resource bundle resourcebundle resource bundle resourcebundle resource bundle provider resourcebundleprovider get resource bundle getresourcebundle resource bundle resourcebundle resource bundle resourcebundle contains key containskey key resource bundle resourcebundle get string getstring key locale locale locale resource bundle resourcebundle resource bundle resourcebundle resource bundle provider resourcebundleprovider get resource bundle getresourcebundle resource bundle resourcebundle resource bundle resourcebundle contains key containskey key resource bundle resourcebundle get string getstring key log warn translation string expression locale locale string text locale request get locale getlocale get language getlanguage text
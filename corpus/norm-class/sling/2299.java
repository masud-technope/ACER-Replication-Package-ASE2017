licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl engine extension java util hash map hashmap java util map java util regex pattern javax script bindings javax servlet servlet request servletrequest org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling commons class loader classloader class loader writer classloaderwriter org apache sling scripting sightly resource resolution resourceresolution org apache sling scripting sightly impl compiler sightly java compiler service sightlyjavacompilerservice org apache sling scripting sightly pojo org apache sling scripting sightly render render context rendercontext org apache sling scripting sightly provider outcome provideroutcome org apache sling scripting sightly use provider useprovider org osgi framework constants org slf logger org slf logger factory loggerfactory component metatype label apache sling scripting sightly java provider description java provider responsible ins tantiating instantiating java api objects service use provider useprovider properties property constants service ranking label service ranking description service ranking acts priority provider queried object higher represents higher priority int value intvalue property private propertyprivate java use provider javauseprovider use provider useprovider logger log logger factory loggerfactory get logger getlogger java use provider javauseprovider pattern java pattern pattern compile reference sightly java compiler service sightlyjavacompilerservice sightly java compiler service sightlyjavacompilerservice reference class loader writer classloaderwriter class loader writer classloaderwriter override provider outcome provideroutcome provide string identifier render context rendercontext render context rendercontext bindings arguments java pattern matcher identifier matches log debug identifier match java pattern identifier provider outcome provideroutcome failure bindings global bindings globalbindings render context rendercontext get bindings getbindings sling script helper slingscripthelper sling use provider utils useproviderutils get helper gethelper global bindings globalbindings sling http servlet request slinghttpservletrequest request sling http servlet request slinghttpservletrequest global bindings globalbindings sling bindings slingbindings request map string object overrides set request attributes setrequestattributes request arguments object result cls class loader writer classloaderwriter get class loader getclassloader load class loadclass identifier attempt osg i osgi service load result sling get service getservice cls result provider outcome provideroutcome success result result request adapt to adaptto cls result resource resource resource global bindings globalbindings sling bindings slingbindings resource result resource adapt to adaptto cls result provider outcome provideroutcome success result object cached loader adaptable link resource link sling http servlet request slinghttpservletrequest attempt load regular pojo option ally optionally implement link result cls new instance newinstance result result init use provider utils useproviderutils merge global bindings globalbindings arguments provider outcome provideroutcome not null or failure notnullorfailure result class not found exception classnotfoundexception resource resolver resourceresolver admin resolver adminresolver render context rendercontext get script resource resolver getscriptresourceresolver resource caller resource resolution resourceresolution get resource for request getresourceforrequest admin resolver adminresolver sling get request getrequest result sightly java compiler service sightlyjavacompilerservice get instance getinstance admin resolver adminresolver caller identifier result result init use provider utils useproviderutils merge global bindings globalbindings arguments provider outcome provideroutcome success result exception provider outcome provideroutcome failure reset request attribute resetrequestattribute request overrides map string object set request attributes setrequestattributes servlet request servletrequest request bindings arguments map string object overrides hash map hashmap string object map entry string object entry arguments entry set entryset string key entry get key getkey object entry get value getvalue object old value oldvalue request get attribute getattribute key old value oldvalue overrides key old value oldvalue overrides key request set attribute setattribute key overrides reset request attribute resetrequestattribute servlet request servletrequest request map string object overrides map entry string object entry overrides entry set entryset string key entry get key getkey object entry get value getvalue request remove attribute removeattribute key request set attribute setattribute key object object
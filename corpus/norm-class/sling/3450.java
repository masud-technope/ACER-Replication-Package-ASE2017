licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl java util hash map hashmap java util map org apache sling api resource login exception loginexception org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling service user mapping serviceusermapping service user mapper serviceusermapper org apache sling spi resource provider resource provider resourceprovider org osgi framework bundle code resource resolver factory impl resourceresolverfactoryimpl code link resource resolver factory resourceresolverfactory service providing functionality code resource resolver factory resourceresolverfactory code service fires osg i osgi event admin eventadmin events behalf internal helper objects resource resolver factory impl resourceresolverfactoryimpl resource resolver factory resourceresolverfactory common resource resolver factory impl commonresourceresolverfactoryimpl common factory commonfactory service user mapper serviceusermapper service user mapper serviceusermapper bundle using bundle usingbundle resource resolver factory impl resourceresolverfactoryimpl common resource resolver factory impl commonresourceresolverfactoryimpl common factory commonfactory bundle using bundle usingbundle service user mapper serviceusermapper service user mapper serviceusermapper common factory commonfactory common factory commonfactory service user mapper serviceusermapper service user mapper serviceusermapper using bundle usingbundle using bundle usingbundle resource resolver factory org apache sling api resource resource resolver factory resourceresolverfactory get service resource resolver getserviceresourceresolver java util map resource resolver resourceresolver get service resource resolver getserviceresourceresolver map string object passed authentication info passedauthenticationinfo login exception loginexception create copy passed authentication info modify map map string object authentication info authenticationinfo hash map hashmap string object string sub service name subservicename passed authentication info passedauthenticationinfo authentication info authenticationinfo put all putall passed authentication info passedauthenticationinfo authentication info authenticationinfo remove password object info passed authentication info passedauthenticationinfo subservice sub service name subservicename info string string info sub service name subservicename ensure mapped user user defined bundle acting service user decide yield guest access access access granted service user defined bundle string user name username service user mapper serviceusermapper get service user d getserviceuserid using bundle usingbundle sub service name subservicename user name username login exception loginexception derive user bundle using bundle usingbundle service sub service name subservicename ensure proper user service bundle authentication info authenticationinfo resource resolver factory resourceresolverfactory user user name username authentication info authenticationinfo resource provider resourceprovider service bundle using bundle usingbundle common factory commonfactory get resource resolver internal getresourceresolverinternal authentication info authenticationinfo org apache sling api resource resource resolver factory resourceresolverfactory get resource resolver getresourceresolver java util map resource resolver resourceresolver get resource resolver getresourceresolver map string object authentication info authenticationinfo login exception loginexception common factory commonfactory get resource resolver getresourceresolver authentication info authenticationinfo org apache sling api resource resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver java util map resource resolver resourceresolver get administrative resource resolver getadministrativeresourceresolver map string object authentication info authenticationinfo login exception loginexception common factory commonfactory get administrative resource resolver getadministrativeresourceresolver authentication info authenticationinfo org apache sling api resource resource resolver factory resourceresolverfactory get thread resource resolver getthreadresourceresolver resource resolver resourceresolver get thread resource resolver getthreadresourceresolver common factory commonfactory get thread resource resolver getthreadresourceresolver
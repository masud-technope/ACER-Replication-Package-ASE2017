licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling extensions gwt sample server java util array list arraylist javax jcr node javax jcr node iterator nodeiterator javax jcr repository exception repositoryexception javax jcr session org apache felix scr annotations component org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling extensions gwt sample service note org apache sling extensions gwt sample service notes service notesservice org apache sling extensions gwt user server rpc sling remote service servlet slingremoteserviceservlet org apache sling jcr api sling repository slingrepository org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory servlet based rpc remote service handling rpc calls gwt client application registers osg i osgi service component code javax servlet servlet code acts servlet registered path code sling servlet paths code scr property path servlet registered correspond gwt module base url notes service impl notesserviceimpl handles creation retrieval deletion link note pojo s pojos code javax jcr node code repository implementation code sling remote service servlet slingremoteserviceservlet code handle gwt rpc calls sling environment servlet registered gwt client application code notes gwt xml code module configuration file component service javax servlet servlet property sling servlet paths gwt org apache sling extensions gwt sample notes notes service notesservice notes service impl notesserviceimpl sling remote service servlet slingremoteserviceservlet notes service notesservice logging facility logger log logger factory loggerfactory get logger getlogger notes service impl notesserviceimpl code string code constant representing code javax jcr property code title note stored string not etitle notetitle note title notetitle code string code constant representing code javax jcr property code text note stored string not etext notetext note text notetext code string code constant representing path repository notes stored string path democontent gwt demo notes code sling repository slingrepository code sling environment repository access operations reference sling repository slingrepository repository code javax jcr session code repository operations retrieved repository admin istrative administrative login session session code javax jcr node code representing root demo content link notes service impl notesserviceimpl repository node root osg i osgi component service activation method initial izes initializes service param context osg i osgi context activator activate component context componentcontext context gwt thread get current thread getcurrentthread get context class loader getcontextclassloader loader illegal osg i osgi environment gwt access service implementation classes bundle rpc call explicitly hand bundle loader gwt purpose code sling remote service servlet slingremoteserviceservlet code gwt code remote service servlet remoteserviceservlet code code sling remote service servlet slingremoteserviceservlet code extended correct class loader classloader provide resources bundles set class loader setclassloader get class getclass get class loader getclassloader set bundle setbundle context get bundle context getbundlecontext get bundle getbundle log info activate initialized class loader classloader gwt get class getclass get class loader getclassloader retrieve session repository session repository login administrative loginadministrative repository get default workspace getdefaultworkspace repository exception repositoryexception log error activate repository unavailable context demo content root node session root node session get item getitem path democontent repository exception repositoryexception log error activate error demo content path path democontent session get workspace getworkspace get name getname inherit doc inheritdoc string create note createnote note note string message note created log info create note createnote creating note title note get title gettitle root add node root demo content properties pojo get ters getters node node root add node addnode note node set property setproperty not etitle notetitle note get title gettitle node set property setproperty not etext notetext note get text gettext root save log info create note createnote saved note repository node get path getpath repository exception repositoryexception log error create note createnote error creating note repository message failed create note error get message getmessage session has pending changes haspendingchanges session refresh repository exception repositoryexception log error create note createnote error reverting save note repository message failed create note error get message getmessage log error create note createnote create note demo content path unavailable path democontent message failed create note error demo content path unavailable message inherit doc inheritdoc array list arraylist note get notes getnotes array list arraylist note notes array list arraylist note root child nodes demo content root node node iterator nodeiterator nodes root get nodes getnodes nodes has next hasnext node node nodes next node nextnode child node correct properties create pojo add list node has property hasproperty not etitle notetitle node has property hasproperty not etext notetext note note note note set title settitle node get property getproperty not etitle notetitle get string getstring note set text settext node get property getproperty not etext notetext get string getstring node path gwt client app parameter delete note deletenote string path method note set path setpath node get path getpath notes add note log info get notes getnotes note adding list node get path getpath repository exception repositoryexception log error get notes getnotes error list notes path democontent log error get notes getnotes error notes demo content path unavailable path democontent notes inherit doc inheritdoc string delete note deletenote string path string message note deleted session get item getitem path remove session save repository exception repositoryexception log error delete note deletenote error deleting note message failed delete note error get message getmessage message
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad tests ervices testservices servlets java io exception ioexception java util dictionary java util hashtable javax servlet servlet exception servletexception org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api servlets sling all methods servlet slingallmethodsservlet org osgi service configuration org osgi service configuration admin configurationadmin org osgi service event event org osgi service event event handler eventhandler servlet disables enables anonymous access ensures authenticator service accepted configuration change suppress warnings suppresswarnings serial component service properties property service description anonymous access config servlet property service vendor apache software foundation property sling servlet paths testing anonymous access config servlet anonymousaccessconfigservlet property sling servlet extensions txt property event topics org osgi framework service event serviceevent modified anonymous access config servlet anonymousaccessconfigservlet sling all methods servlet slingallmethodsservlet event handler eventhandler string prop annonymous anno nymous annonymous string pid org apache sling engine impl sling authenticator slingauthenticator timeout reference configuration admin configurationadmin config admin configadmin modified counter modifiedcounter suppress warnings suppresswarnings rawtypes unchecked override do post dopost sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response servlet exception servletexception io exception ioexception response set content type setcontenttype request get content type getcontenttype string action request get parameter getparameter action disable equals action existing modified counter existingmodifiedcounter modified counter modifiedcounter configuration config config admin configadmin get configuration getconfiguration pid dictionary props config get properties getproperties props props hashtable props prop annonymous config update props wait for modified waitformodified existing modified counter existingmodifiedcounter timeout enable equals action existing modified counter existingmodifiedcounter modified counter modifiedcounter configuration config config admin configadmin get configuration getconfiguration pid dictionary props config get properties getproperties props props hashtable props prop annonymous config update props wait for modified waitformodified existing modified counter existingmodifiedcounter timeout response get writer getwriter println wait for modified waitformodified existing modified counter existingmodifiedcounter timeout msec timeoutmsec target counter targetcounter existing modified counter existingmodifiedcounter system current time millis currenttimemillis timeout msec timeoutmsec modified counter modifiedcounter target counter targetcounter system current time millis currenttimemillis thread sleep interrupted exception interruptedexception modified counter modifiedcounter target counter targetcounter illegal state exception illegalstateexception event counter reach target counter targetcounter waited timeout msec timeoutmsec msec handle event handleevent event event pid equals event get property getproperty service pid modified counter modifiedcounter
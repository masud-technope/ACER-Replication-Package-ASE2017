licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets post impl operations java io exception ioexception java input stream inputstream java util list java util map javax jcr node javax jcr repository exception repositoryexception javax jcr session javax servlet http http servlet response httpservletresponse org apache sling api sling http servlet request slinghttpservletrequest org apache sling api request request parameter requestparameter org apache sling api resource persistence exception persistenceexception org apache sling jcr content loader contentloader content import listener contentimportlistener org apache sling jcr content loader contentloader content importer contentimporter org apache sling jcr content loader contentloader import options importoptions org apache sling servlets post modification org apache sling servlets post modification type modificationtype org apache sling servlets post post response postresponse org apache sling servlets post sling post constants slingpostconstants org apache sling servlets post versioning configuration versioningconfiguration org apache sling servlets post impl helper request property requestproperty code import operation importoperation code link org apache sling servlets post sling post constants slingpostconstants operation operation sling post servlet import operation importoperation abstract create operation abstractcreateoperation reference content importer service content importer contentimporter content importer contentimporter set content importer setcontentimporter content importer contentimporter importer content importer contentimporter importer string get request param as string getrequestparamasstring sling http servlet request slinghttpservletrequest request string key request parameter requestparameter request parameter requestparameter request get request parameter getrequestparameter key request parameter requestparameter request parameter requestparameter get string getstring override do run dorun sling http servlet request slinghttpservletrequest request post response postresponse response list modification repository exception repositoryexception content importer contentimporter importer content importer contentimporter importer response set status setstatus http servlet response httpservletresponse internal server error missing content importer map string request property requestproperty req properties reqproperties collect content collectcontent request response versioning configuration versioningconfiguration versioning configuration versioningconfiguration get versioning configuration getversioningconfiguration request change order good reason session session request get resource resolver getresourceresolver adapt to adaptto session process create processcreate request get resource resolver getresourceresolver req properties reqproperties response versioning configuration versioningconfiguration persistence exception persistenceexception get cause getcause repository exception repositoryexception repository exception repositoryexception get cause getcause repository exception repositoryexception string path response get path getpath node node node node session get item getitem path repository exception repositoryexception log warn get message getmessage class cast exception classcastexception log warn get message getmessage node response set status setstatus http servlet response httpservletresponse missing target node path string content type contenttype get request param as string getrequestparamasstring request sling post constants slingpostconstants content type content type contenttype response set status setstatus http servlet response httpservletresponse precondition failed required content type contenttype parameter missing options passed request parameters replace equals ignore case equalsignorecase get request param as string getrequestparamasstring request sling post constants slingpostconstants replace replace properties replaceproperties equals ignore case equalsignorecase get request param as string getrequestparamasstring request sling post constants slingpostconstants replace properties check in checkin equals ignore case equalsignorecase get request param as string getrequestparamasstring request sling post constants slingpostconstants check in checkin auto check out autocheckout equals ignore case equalsignorecase get request param as string getrequestparamasstring request sling post constants slingpostconstants auto check out checkout string base path basepath get item path getitempath request base path basepath remove and validate workspace removeandvalidateworkspace base path basepath request get resource resolver getresourceresolver adapt to adaptto session base path basepath ends with endswith remove trailing slash base path basepath base path basepath substring base path basepath length creating content response set create request setcreaterequest string target name targetname check pos ted posted imported root node get request param as string getrequestparamasstring request sling post constants slingpostconstants node exact target name targetname get request param as string getrequestparamasstring request sling post constants slingpostconstants node target name targetname length node has node hasnode target name targetname replace response set create request setcreaterequest response set status setstatus http servlet response httpservletresponse precondition failed path target name targetname node exists get request param as string getrequestparamasstring request sling post constants slingpostconstants node hint node hint string node path nodepath generate name generatename request base path basepath string node path nodepath substring node path nodepath last index of lastindexof target name targetname pos ted posted won create root node target name targetname string content root name contentrootname target name targetname content type contenttype input stream inputstream content stream contentstream request parameter requestparameter content parameter contentparameter request get request parameter getrequestparameter sling post constants slingpostconstants content content parameter contentparameter content stream contentstream content parameter contentparameter get input stream getinputstream request parameter requestparameter content file contentfile request get request parameter getrequestparameter sling post constants slingpostconstants content file content file contentfile content stream contentstream content file contentfile get input stream getinputstream content stream contentstream response set status setstatus http servlet response httpservletresponse precondition failed missing content importer import content importcontent node content root name contentrootname content stream contentstream import options importoptions override is check in ischeckin check in checkin override is auto check out isautocheckout auto check out autocheckout override is ignored import provider isignoredimportprovider string extension isn context override is overwrite isoverwrite replace javadoc org apache sling jcr content loader contentloader import options importoptions is property overwrite ispropertyoverwrite override is property overwrite ispropertyoverwrite replace properties replaceproperties content import listener contentimportlistener on reorder onreorder string ordered path orderedpath string before sibbling beforesibbling add modification on order onorder ordered path orderedpath before sibbling beforesibbling on move onmove string src path srcpath string dest path destpath add modification on moved onmoved src path srcpath dest path destpath on modify onmodify string src path srcpath add modification on modified onmodified src path srcpath on delete ondelete string src path srcpath add modification on deleted ondeleted src path srcpath on create oncreate string src path srcpath add modification on created oncreated src path srcpath on copy oncopy string src path srcpath string dest path destpath add modification on copied oncopied src path srcpath dest path destpath on check in oncheckin string src path srcpath add modification on check in oncheckin src path srcpath on check out oncheckout string src path srcpath add modification on check out oncheckout src path srcpath is empty isempty fill data response report modification modification modification get type gettype modification type modificationtype create string imported path importedpath modification get source getsource response set location setlocation ext ernalize path externalizepath request imported path importedpath response set path setpath imported path importedpath last slash index lastslashindex imported path importedpath last index of lastindexof last slash index lastslashindex string parent path parentpath imported path importedpath substring last slash index lastslashindex response set parent location setparentlocation ext ernalize path externalizepath request parent path parentpath io exception ioexception repository exception repositoryexception
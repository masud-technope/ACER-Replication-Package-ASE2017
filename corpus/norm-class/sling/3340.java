licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons log logback internal java file java util collections java util dictionary java util hash map hashmap java util hash set hashset java util hashtable java util list java util map java util java util concurrent concurrent hash map concurrenthashmap qos logback classic classic constants classicconstants qos logback classic level qos logback classic logger context loggercontext qos logback classic encoder pattern layout encoder patternlayoutencoder qos logback classic spi i logging event iloggingevent qos logback core appender qos logback core console appender consoleappender qos logback core layout qos logback core output stream appender outputstreamappender qos logback core joran action action const actionconst qos logback core util context util contextutil org apache sling commons log logback internal config config admin support configadminsupport org apache sling commons log logback internal config configuration exception configurationexception org apache sling commons log logback internal util logger specific encoder loggerspecificencoder org apache sling commons log logback internal util util org osgi framework bundle context bundlecontext org slf logger org slf logger factory loggerfactory log config manager logconfigmanager log back reset listener logbackresetlistener log config logconfig log writer provider logwriterprovider string log level org apache sling commons log level string log file org apache sling commons log file string log back logback file org apache sling commons log configuration file configurationfile string log file number org apache sling commons log file number string log file size org apache sling commons log file size string log file buffered org apache sling commons log file buf fered buffered string log pattern org apache sling commons log pattern string log pattern yyyy sss level thread logger msg string log log gers loggers org apache sling commons log names string log add itiv additiv org apache sling commons log add itiv additiv string log packaging data org apache sling commons log pack aging data enabled packagingdataenabled string log max claller depth org apache sling commons log max caller data depth maxcallerdatadepth string printer max included files org apache sling commons log max old file count in dump maxoldfilecountindump printer max included files string printer num lines org apache sling commons log num of lines numoflines printer num lines string log level info string log level reset log file number string log file size yyyy string pid org apache sling commons log log manager logmanager string factory pid write rs writers pid factory writer string factory pid configs pid factory config string console appender org apache sling commons log console logger context loggercontext logger context loggercontext context util contextutil context util contextutil map log write rs writers indexed configuration pid map string log writer logwriter writer by pid writerbypid map log write rs writers indexed absolute file map write rs writers writing standard map string log writer logwriter writer by file name writerbyfilename map append ers appenders indexed log writer logwriter filename log config logconfig pattern map appender key appenderkey appender i logging event iloggingevent appender by key appenderbykey map log configurations configuration pid map string log config logconfig config by pid configbypid map log configurations categories configured map string log config logconfig config by category configbycategory root folder relative writer paths absolute file root dir rootdir global configuration bundle context bundlecontext properties dictionary string string default configuration defaultconfiguration config admin support configadminsupport config admin support configadminsupport log back manager logbackmanager logback manager logbackmanager logger log logger factory loggerfactory get logger getlogger get class getclass object config lock configlock object file logback config file logbackconfigfile pack aging data enabled packagingdataenabled max caller data depth maxcallerdatadepth max old file count maxoldfilecount num of lines numoflines logs message optional stack trace error output method logging system errors writing correct logging output internal failure internalfailure string message throwable context util contextutil add error adderror message context util contextutil add error adderror message log message error stream system err println message print stack trace printstacktrace system err sets log configuration manager creating write rs writers logger configuration log config manager logconfigmanager logger context loggercontext logger context loggercontext bundle context bundlecontext bundle context bundlecontext string root dir rootdir log back manager logbackmanager logback manager logbackmanager logback manager logbackmanager logback manager logbackmanager logger context loggercontext logger context loggercontext context util contextutil context util contextutil logger context loggercontext writer by pid writerbypid concurrent hash map concurrenthashmap string log writer logwriter writer by file name writerbyfilename concurrent hash map concurrenthashmap string log writer logwriter config by pid configbypid concurrent hash map concurrenthashmap string log config logconfig config by category configbycategory concurrent hash map concurrenthashmap string log config logconfig root dir rootdir file root dir rootdir set default configuration setdefaultconfiguration get bundle configuration getbundleconfiguration bundle context bundlecontext config admin support configadminsupport config admin support configadminsupport bundle context bundlecontext sets applies configuration link update global configuration updateglobalconfiguration java util dictionary method configuration supplied set default configuration setdefaultconfiguration dictionary string string default configuration defaultconfiguration default configuration defaultconfiguration default configuration defaultconfiguration update global configuration updateglobalconfiguration default configuration defaultconfiguration configuration exception configurationexception internal failure internalfailure get message getmessage shuts configuration manager dropping references existing configurations dropping stored log gers loggers closing log write rs writers methods called instance close config admin support configadminsupport shutdown writer by pid writerbypid clear writer by file name writerbyfilename clear config by pid configbypid clear config by category configbycategory clear default configuration defaultconfiguration sling log panel slinglogpanel support override log writer logwriter get log writer getlogwriter string log writer name logwritername log writer logwriter writer by file name writerbyfilename log writer name logwritername create implicit writer createimplicitwriter log writer name logwritername file get log back config file getlogbackconfigfile logback config file logbackconfigfile iterable log config logconfig get log configs getlogconfigs config by pid configbypid values iterable log writer logwriter get log write rs getlogwriters writer by file name writerbyfilename values appender i logging event iloggingevent get default appender getdefaultappender output stream appender outputstreamappender i logging event iloggingevent appender console appender consoleappender i logging event iloggingevent appender set name setname console appender appender set context setcontext logger context loggercontext pattern layout encoder patternlayoutencoder encoder pattern layout encoder patternlayoutencoder encoder set pattern setpattern log pattern encoder set context setcontext logger context loggercontext encoder start appender set encoder setencoder encoder appender start appender log back logback reset listener override on reset start onresetstart logger context loggercontext context suppress warnings suppresswarnings unchecked override on reset complete onresetcomplete logger context loggercontext context osg i osgi config based append ers appenders attached reset complete time log back logback config parsed append ers appenders logger configured osg i osgi config appender defined osg i osgi config takes precedence existing appender create map string appender i logging event iloggingevent append ers by name appendersbyname hash map hashmap string appender i logging event iloggingevent map string appender i logging event iloggingevent configured appenders configuredappenders map string appender i logging event iloggingevent context get object getobject action const actionconst appender bag configured appenders configuredappenders configured appenders configuredappenders collections empty map emptymap map appender logger specific encoder loggerspecificencoder encoders hash map hashmap appender logger specific encoder loggerspecificencoder log config logconfig config get log configs getlogconfigs appender i logging event iloggingevent appender config is appender defined isappenderdefined log writer logwriter config get log writer getlogwriter string appender name appendername get appender name getappendername appender append ers by name appendersbyname appender name appendername appender appender configured appenders configuredappenders appender name appendername appender context util contextutil add info addinfo overriding configuration appender appender name appendername log back logback config osg i osgi config appender logger specific encoder loggerspecificencoder encoder logger specific encoder loggerspecificencoder get default layout getdefaultlayout appender create appender createappender logger context loggercontext encoder encoders appender encoder append ers by name appendersbyname appender name appendername appender encoders contains key containskey appender encoders appender add log config addlogconfig config string category config get categories getcategories qos logback classic logger logger logger context loggercontext get logger getlogger category config is reset to default isresettodefault logger set level setlevel reset add itivity additivity logger set add itive setadditive logger set level setlevel config get log level getloglevel appender logger set add itive setadditive config is add itive isadditive logger add appender addappender appender context util contextutil add info addinfo registering appender appender get name getname appender get class getclass logger logger get name getname configuration support update global configuration updateglobalconfiguration dictionary string string configuration configuration exception configurationexception fallback start settings config deleted configuration configuration default configuration defaultconfiguration process global config processglobalconfig configuration logger special global root logger setting sling configuration log config manager logconfigmanager log log gers loggers logger root logger normalize logger file console string log file logfile configuration log file log file logfile log file logfile trim length configuration log file log writer logwriter file console update log writer logger configuration update log writer updatelogwriter log config manager logconfigmanager pid configuration update logger configuration updateloggerconfiguration log config manager logconfigmanager pid configuration logback manager logbackmanager config changed configchanged updates removes log writer configuration identified code pid code log writer removal logger configuration ref erring referring removed log writer modified log log writer configuration object expected properties link log config manager logconfigmanager log file relative absolute path file log property missing empty string writer writes standard output link log config manager logconfigmanager log file size maximum size log file write rotating log file property number convertible number actual suffixed size indicator code code code code code code code code code code code code representing res pective respective fact ors factors kilo mega giga property missing converted number link log config manager logconfigmanager log file size assumed writer writes standard output property link log config manager logconfigmanager log file number maximum number rotated log files property number convertible number property missing converted number link log config manager logconfigmanager log file number assumed writer writes standard output property param pid identifier log writer update remove param configuration configuration setting log writer code code remove log writer configuration exception configurationexception log writer exists file configured log writer config uri ng configuring log writer fails update log writer updatelogwriter string pid dictionary configuration perform refresh performrefresh configuration exception configurationexception configuration log writer logwriter old writer oldwriter writer by pid writerbypid pid log file parameter normalize empty string string log file name logfilename string configuration log config manager logconfigmanager log file log file name logfilename treated console appender log file name logfilename log file name logfilename trim length log file name logfilename log writer logwriter file console file log file name logfilename is console isconsole log file name logfilename ensure absolute path log file name logfilename get absolute file path getabsolutefilepath log file name logfilename ensure unique configuration log writer log writer logwriter existing writer by file name existingwriterbyfilename writer by file name writerbyfilename log file name logfilename existing writer by file name existingwriterbyfilename old writer oldwriter existing writer by file name existingwriterbyfilename getconfigurationpid equals pid file configured log pid configuration exception configurationexception log config manager logconfigmanager log file log file logfile log file name logfilename configured configuration existing writer by file name existingwriterbyfilename getconfigurationpid number files ensure minimum object file num prop filenumprop configuration log config manager logconfigmanager log file number file num filenum file num prop filenumprop number file num filenum number file num prop filenumprop int value intvalue file num prop filenumprop file num filenum integer parse int parseint file num prop filenumprop to string tostring number format exception numberformatexception nfe log file size object file size prop filesizeprop configuration log config manager logconfigmanager log file size string file size filesize file size prop filesizeprop file size filesize file size prop filesizeprop to string tostring buf fered logging bufferedlogging util to boolean toboolean configuration log config manager logconfigmanager log file buffered log writer logwriter new writer newwriter log writer logwriter pid get app nder name getappndername log file name logfilename file num filenum file size filesize log file name logfilename buf fered logging bufferedlogging old writer oldwriter writer by file name writerbyfilename remove old writer oldwriter get file name getfilename writer by file name writerbyfilename new writer newwriter get file name getfilename new writer newwriter writer by pid writerbypid new writer newwriter getconfigurationpid new writer newwriter log writer logwriter log writer logwriter writer by pid writerbypid remove pid log writer logwriter writer by file name writerbyfilename remove log writer logwriter get file name getfilename perform refresh performrefresh logback manager logbackmanager config changed configchanged updates removes logger configuration code pid code modified categories removal logger configuration existing log gers loggers modified reflect correct logger configurations configuration object expected properties link log config manager logconfigmanager log pattern code message format messageformat code pattern apply format log message writing log writer property missing empty string pattern link log config manager logconfigmanager log pattern link log config manager logconfigmanager log level log level log message limitation supported values code code code trace code code debug code code info code code warn code code error code matter property missing code configuration exception configurationexception code thrown logger configuration link log config manager logconfigmanager log log gers loggers logger names configuration applies logger names form hierarchy java packages listed names apply child names specific configuration applies children property single string array strings collection strings string comma separated list logger names property missing code configuration exception configurationexception code thrown link log config manager logconfigmanager log file log writer log file configured log writer configuration pid writer property missing empty refer existing log writer configuration log writer param pid configuration update remove param configuration configuration object configuration exception configurationexception log level logger names properties configured configuration update logger configuration updateloggerconfiguration string pid dictionary configuration perform refresh performrefresh configuration exception configurationexception configuration string pattern string configuration log config manager logconfigmanager log pattern string level string configuration log config manager logconfigmanager log level string file name filename string configuration log config manager logconfigmanager log file string categories to category list tocategorylist configuration log config manager logconfigmanager log log gers loggers add itiv additiv configuration log config manager logconfigmanager log add itiv additiv add itiv additiv value of valueof configuration log config manager logconfigmanager log add itiv additiv to string tostring appender explicitly defined add itive additive compatible earlier sling logging behavior add itiv additiv verify categories categories configuration exception configurationexception log config manager logconfigmanager log log gers loggers missing categories configuration pid verify configuration categories string cat categories log config logconfig cfg config by category configbycategory cat cfg pid equals cfg get config pid getconfigpid configuration exception configurationexception log config manager logconfigmanager log log gers loggers category cat defined configuration pid verify log level level configuration exception configurationexception log config manager logconfigmanager log level required level log level loglevel reset to default resettodefault log level reset equals ignore case equalsignorecase level reset to default resettodefault log level loglevel log level loglevel level to level tolevel level reset to default resettodefault verify pattern pattern pattern length pattern log config manager logconfigmanager log pattern log level loglevel file name filename is console isconsole file name filename file name filename get absolute file path getabsolutefilepath file name filename create modify existing configuration object log config logconfig new config newconfig log config logconfig pattern categories log level loglevel file name filename add itiv additiv pid logger context loggercontext reset to default resettodefault log config logconfig old config oldconfig config by pid configbypid pid old config oldconfig config by category configbycategory key set keyset remove all removeall old config oldconfig get categories getcategories rel ink relink categories string cat categories config by category configbycategory cat new config newconfig config by pid configbypid pid new config newconfig configuration deleted remove configuration pid list log config logconfig config config by pid configbypid remove pid config remove configured categories config by category configbycategory key set keyset remove all removeall config get categories getcategories perform refresh performrefresh logback manager logbackmanager config changed configchanged is pack aging data enabled ispackagingdataenabled pack aging data enabled packagingdataenabled get max caller data depth getmaxcallerdatadepth max caller data depth maxcallerdatadepth get max old file count getmaxoldfilecount max old file count maxoldfilecount maximum number lines log files included txt mode dump get num of lines getnumoflines num of lines numoflines managed service managedservice dictionary string string get bundle configuration getbundleconfiguration bundle context bundlecontext bundle context bundlecontext dictionary string string config hashtable string string string props log level log file log file number log file size log pattern log back logback file log packaging data string prop props string bundle context bundlecontext get property getproperty prop config prop ensure values required configuration field config log level config log level log level config process global config processglobalconfig dictionary string string configuration string file name filename configuration log back logback file file name filename file name filename is empty isempty file file file get absolute file path getabsolutefilepath file name filename string path file get absolute path getabsolutepath file exists log warn log back logback configuration file exist path file is file isfile log warn log back logback configuration file file path file can read canread log warn log back logback configuration file read path config lock configlock logback config file logbackconfigfile file process pack aging packaging data object pack aging data packagingdata configuration log packaging data pack aging data packagingdata pack aging data enabled packagingdataenabled value of valueof pack aging data packagingdata to string tostring defaults disabled osg i osgi env pack aging data enabled packagingdataenabled max caller data depth maxcallerdatadepth util to integer tointeger configuration log max claller depth classic constants classicconstants max call eder calleder data depth max old file count maxoldfilecount util to integer tointeger configuration printer max included files printer max included files num of lines numoflines util to integer tointeger configuration printer num lines printer num lines internal helpers log writer logwriter create implicit writer createimplicitwriter string log writer name logwritername log writer logwriter default writer defaultwriter get default writer getdefaultwriter default writer defaultwriter illegal state exception illegalstateexception logger configuration configured log writer logwriter get app nder name getappndername log writer name logwritername log writer name logwritername default writer defaultwriter get log number getlognumber default writer defaultwriter get log rotation getlogrotation log writer logwriter get default writer getdefaultwriter writer by pid writerbypid log config manager logconfigmanager pid log config logconfig get default config getdefaultconfig config by pid configbypid log config manager logconfigmanager pid layout i logging event iloggingevent get default layout getdefaultlayout get default config getdefaultconfig create layout createlayout returns code log file name logfilename code argument converted absolute path code log file name logfilename code absolute returned unmodified absolute resolving relative root directory instance method null pointer exception nullpointerexception code log file name logfilename code code code string get absolute file path getabsolutefilepath string log file name logfilename ensure proper separator path esp systems slash separator windows log file name logfilename log file name logfilename replace file separator char separatorchar create file instance check absolute create absolute file instance root dir absolute path file log file logfile file log file name logfilename log file logfile is absolute isabsolute log file logfile file root dir rootdir log file name logfilename log file name logfilename log file logfile get absolute path getabsolutepath correct log file log file name logfilename string get app nder name getappndername string file path absolute filepathabsolute string root dir path rootdirpath root dir rootdir get absolute path getabsolutepath file path absolute filepathabsolute starts with startswith root dir path rootdirpath normalize file path absolute filepathabsolute substring root dir path rootdirpath length replace file path absolute filepathabsolute string to category list tocategorylist object log gers loggers log gers loggers string logger names loggernames hash set hashset string log gers loggers logger root logger logger names loggernames add logger root logger logger names loggernames list string logger names list loggernameslist util to list tolist log gers loggers logger names loggernames add all addall logger names list loggernameslist logger names loggernames is console isconsole string log file name logfilename log writer logwriter file console equals log file name logfilename
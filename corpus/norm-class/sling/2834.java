licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models impl org junit org mockito mockito java util hash map hashmap java util hashtable java util list java util map org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource value map valuemap org apache sling api wrappers value map decorator valuemapdecorator org apache sling models impl injectors resource path injector resourcepathinjector org apache sling models impl injectors self injector selfinjector org apache sling models impl injectors value map injector valuemapinjector org apache sling models test models testmodels classes resource path all optional model resourcepathalloptionalmodel org apache sling models test models testmodels classes resource path model resourcepathmodel org apache sling models test models testmodels classes resource path partial model resourcepathpartialmodel org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner org osgi framework bundle context bundlecontext org osgi service component component context componentcontext run with runwith mockito unit runner mockitojunitrunner resource path injection test resourcepathinjectiontest mock component context componentcontext component ctx componentctx mock bundle context bundlecontext bundle context bundlecontext model adapter factory modeladapterfactory factory mock resource adaptable mock sling http servlet request slinghttpservletrequest non resource adaptable nonresourceadaptable mock resource by path resource bypathresource mock resource by path resource bypathresource mock resource by property value resource bypropertyvalueresource mock resource by property value resource bypropertyvalueresource mock resource resolver resourceresolver resource resolver resourceresolver setup map string object map hash map hashmap string object map property containing path propertycontainingapath path map another property containing path anotherpropertycontainingapath path string paths string paths path paths path string invalid paths invalidpaths string invalid paths invalidpaths exist invalid paths invalidpaths exist invalid paths invalidpaths path map property with several paths propertywithseveralpaths paths map property with missing paths propertywithmissingpaths invalid paths invalidpaths value map valuemap properties value map decorator valuemapdecorator map component ctx componentctx get bundle context getbundlecontext then return thenreturn bundle context bundlecontext component ctx componentctx get properties getproperties then return thenreturn hashtable string object adaptable get resource resolver getresourceresolver then return thenreturn resource resolver resourceresolver adaptable adapt to adaptto value map valuemap then return thenreturn properties resource resolver resourceresolver get resource getresource path then return thenreturn by path resource bypathresource resource resolver resourceresolver get resource getresource path then return thenreturn by path resource bypathresource resource resolver resourceresolver get resource getresource path then return thenreturn by property value resource bypropertyvalueresource resource resolver resourceresolver get resource getresource path then return thenreturn by property value resource bypropertyvalueresource factory model adapter factory modeladapterfactory factory activate component ctx componentctx factory bind injector bindinjector self injector selfinjector service properties map servicepropertiesmap integer max factory bind injector bindinjector value map injector valuemapinjector service properties map servicepropertiesmap factory bind injector bindinjector resource path injector resourcepathinjector service properties map servicepropertiesmap factory bind static inject annotation processor factory bindstaticinjectannotationprocessorfactory resource path injector resourcepathinjector service properties map servicepropertiesmap test test path injection testpathinjection resource path model resourcepathmodel model factory get adapter getadapter adaptable resource path model resourcepathmodel assert not null assertnotnull model assert equals assertequals by path resource bypathresource model get from path getfrompath assert equals assertequals by property value resource bypropertyvalueresource model get by deref property getbyderefproperty assert equals assertequals by path resource bypathresource model get from path getfrompath assert equals assertequals by property value resource bypropertyvalueresource model get by deref property getbyderefproperty test test path injection with non resource adaptable testpathinjectionwithnonresourceadaptable resource path model resourcepathmodel model factory get adapter getadapter non resource adaptable nonresourceadaptable resource path model resourcepathmodel mandatory fields injected assert null assertnull model test test optional path injection with non resource adaptable testoptionalpathinjectionwithnonresourceadaptable resource path all optional model resourcepathalloptionalmodel model factory get adapter getadapter non resource adaptable nonresourceadaptable resource path all optional model resourcepathalloptionalmodel resource paths fields optional assert not null assertnotnull model field assert null assertnull model get from path getfrompath assert null assertnull model get by deref property getbyderefproperty assert null assertnull model get from path getfrompath assert null assertnull model get by deref property getbyderefproperty test test multiple path injection testmultiplepathinjection resource path model resourcepathmodel model factory get adapter getadapter adaptable resource path model resourcepathmodel assert not null assertnotnull model list resource resources model get multiple resources getmultipleresources assert not null assertnotnull resources assert equals assertequals resources size assert equals assertequals by property value resource bypropertyvalueresource resources assert equals assertequals by property value resource bypropertyvalueresource resources list resource resources from path annotation resourcesfrompathannotation model get many from path getmanyfrompath assert not null assertnotnull resources from path annotation resourcesfrompathannotation assert equals assertequals by path resource bypathresource resources from path annotation resourcesfrompathannotation assert equals assertequals by path resource bypathresource resources from path annotation resourcesfrompathannotation list resource resources from resource path annotation resourcesfromresourcepathannotation model get many from path getmanyfrompath assert not null assertnotnull resources from resource path annotation resourcesfromresourcepathannotation assert equals assertequals by path resource bypathresource resources from resource path annotation resourcesfromresourcepathannotation assert equals assertequals by path resource bypathresource resources from resource path annotation resourcesfromresourcepathannotation assert not null assertnotnull model get property with several paths getpropertywithseveralpaths assert equals assertequals by property value resource bypropertyvalueresource model get property with several paths getpropertywithseveralpaths assert equals assertequals by property value resource bypropertyvalueresource model get property with several paths getpropertywithseveralpaths test test partial injection failure testpartialinjectionfailure resource resolver resourceresolver get resource getresource path then return thenreturn resource path partial model resourcepathpartialmodel model factory get adapter getadapter adaptable resource path partial model resourcepathpartialmodel assert null assertnull model test test partial injection failure testpartialinjectionfailure resource resolver resourceresolver get resource getresource path then return thenreturn resource resolver resourceresolver get resource getresource path then return thenreturn resource path partial model resourcepathpartialmodel model factory get adapter getadapter adaptable resource path partial model resourcepathpartialmodel assert null assertnull model
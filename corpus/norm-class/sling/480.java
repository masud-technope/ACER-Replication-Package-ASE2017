licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi org junit assert equals assertequals org junit assert false assertfalse org junit assert same assertsame org junit assert true asserttrue java util map org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org junit test org osgi framework bundle context bundlecontext org osgi service component component context componentcontext google common collect immutable map immutablemap test var iants variants activate deactivate methods var ying varying signatures osgi service util activate deactivate test osgiserviceutilactivatedeactivatetest map string object map immutable map immutablemap string object prop bundle context bundlecontext bundle context bundlecontext mock osgi mockosgi new bundle context newbundlecontext test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert same assertsame bundle context bundlecontext service get component context getcomponentcontext get bundle context getbundlecontext assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert same assertsame bundle context bundlecontext service get bundle context getbundlecontext assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert equals assertequals map immutable map immutablemap copy of copyof service get map getmap assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert equals assertequals map immutable map immutablemap copy of copyof service get map getmap assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert same assertsame bundle context bundlecontext service get component context getcomponentcontext get bundle context getbundlecontext assert same assertsame bundle context bundlecontext service get bundle context getbundlecontext assert equals assertequals map immutable map immutablemap copy of copyof service get map getmap assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated test test service testservice service service service assert true asserttrue mock osgi mockosgi activate service bundle context bundlecontext map assert true asserttrue service is activated isactivated assert same assertsame bundle context bundlecontext service get component context getcomponentcontext get bundle context getbundlecontext assert same assertsame bundle context bundlecontext service get bundle context getbundlecontext assert equals assertequals map immutable map immutablemap copy of copyof service get map getmap assert true asserttrue mock osgi mockosgi deactivate service bundle context bundlecontext map assert false assertfalse service is activated isactivated service config serviceconfig string prop component service activated component context componentcontext component context componentcontext activate activate component context componentcontext ctx activated component context componentcontext ctx deactivate deactivate component context componentcontext ctx activated component context componentcontext is activated isactivated activated component context componentcontext get component context getcomponentcontext component context componentcontext component service activated bundle context bundlecontext bundle context bundlecontext activate activate bundle context bundlecontext ctx activated bundle context bundlecontext ctx deactivate deactivate bundle context bundlecontext ctx activated bundle context bundlecontext is activated isactivated activated bundle context bundlecontext get bundle context getbundlecontext bundle context bundlecontext component service activated map string object map activate activate map string object map activated map map deactivate deactivate map string object map activated map is activated isactivated activated map string object get map getmap map component service activated map string object map activate activate service config serviceconfig config activated map immutable map immutablemap string object prop config prop deactivate deactivate activated is activated isactivated activated map string object get map getmap map component service activated activate activate activated deactivate deactivate integer activated is activated isactivated activated component service activated component context componentcontext component context componentcontext bundle context bundlecontext bundle context bundlecontext map string object map activate activate component context componentcontext component context componentcontext bundle context bundlecontext bundle context bundlecontext map string object map activated component context componentcontext component context componentcontext bundle context bundlecontext bundle context bundlecontext map map deactivate deactivate map string object map bundle context bundlecontext bundle context bundlecontext integer activated component context componentcontext bundle context bundlecontext map is activated isactivated activated component context componentcontext get component context getcomponentcontext component context componentcontext bundle context bundlecontext get bundle context getbundlecontext bundle context bundlecontext map string object get map getmap map component service activated component context componentcontext component context componentcontext bundle context bundlecontext bundle context bundlecontext map string object map activate activate component context componentcontext component context componentcontext service config serviceconfig config bundle context bundlecontext bundle context bundlecontext activated component context componentcontext component context componentcontext bundle context bundlecontext bundle context bundlecontext map immutable map immutablemap string object prop config prop deactivate deactivate activated component context componentcontext bundle context bundlecontext map is activated isactivated activated component context componentcontext get component context getcomponentcontext component context componentcontext bundle context bundlecontext get bundle context getbundlecontext bundle context bundlecontext map string object get map getmap map
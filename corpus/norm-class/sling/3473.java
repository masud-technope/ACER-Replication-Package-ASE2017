licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest access manager accessmanager java io exception ioexception java util collection java util hash map hashmap java util map java util random javax servlet http http servlet response httpservletresponse org apache sling launchpad webapp int egrationtest integrationtest authenticated test util authenticatedtestutil org apache sling servlets post sling post constants slingpostconstants base access manager accessmanager tests called util moving tests j unit junit style won extend access manager test util accessmanagertestutil authenticated test util authenticatedtestutil string test base path sling tests random random random system current time millis currenttimemillis string create test folder createtestfolder io exception ioexception string post url posturl http base url test base path test folder testfolder random next int nextint string location test client testclient create node createnode post url posturl sling post constants slingpostconstants create suffix assert http status asserthttpstatus location ext http servlet response httpservletresponse post redirect created resource location assert true asserttrue node location generated location ends with endswith assert true asserttrue node location created post url post url posturl location post url posturl location string create test folder createtestfolder string json content jsoncontent io exception ioexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string location test client testclient create node createnode http base url test path testpath props assert http status asserthttpstatus location ext http servlet response httpservletresponse post redirect created resource location assert true asserttrue node location generated location ends with endswith assert true asserttrue node location created post url test path testpath location test path testpath location assert privilege assertprivilege collection string privileges expected string privilege name privilegename expected privileges privilege name privilegename fail expected privilege privilege name privilegename expected included include d included supplied list privileges
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock jcr org junit assert array equals assertarrayequals org junit assert equals assertequals org junit assert false assertfalse org junit assert true asserttrue java byte array input stream bytearrayinputstream java io exception ioexception java math big decimal bigdecimal java util calendar javax jcr node javax jcr property javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr session javax jcr javax jcr value format exception valueformatexception org apache commons io utils ioutils org apache jackrabbit binary value binaryvalue org junit org junit test mock property test mockpropertytest session session node root node rootnode node node set up setup repository exception repositoryexception session mock jcr mockjcr new session newsession root node rootnode session get root node getrootnode node root node rootnode add node addnode node test test remove testremove repository exception repositoryexception node set property setproperty prop property prop node get property getproperty prop assert equals assertequals prop get string getstring prop remove assert false assertfalse node has property hasproperty prop test test string teststring repository exception repositoryexception node set property setproperty prop property prop node get property getproperty prop assert equals assertequals prop get string getstring assert equals assertequals prop get value getvalue get string getstring prop set value setvalue assert equals assertequals prop get string getstring assert equals assertequals prop get value getvalue get string getstring assert false assertfalse prop is multiple ismultiple assert false assertfalse prop get definition getdefinition is multiple ismultiple assert equals assertequals prop get length getlength test test string array teststringarray repository exception repositoryexception string string aaa bbb node set property setproperty prop property prop node get property getproperty prop values prop get values getvalues values length assert equals assertequals values get string getstring string string prop set value setvalue values prop get values getvalues values length assert equals assertequals values get string getstring assert true asserttrue prop is multiple ismultiple assert true asserttrue prop get definition getdefinition is multiple ismultiple assert array equals assertarrayequals prop get len gths getlengths test test boolean testboolean repository exception repositoryexception node set property setproperty prop property prop node get property getproperty prop assert equals assertequals prop get boolean getboolean assert equals assertequals prop get value getvalue get boolean getboolean prop set value setvalue assert equals assertequals prop get boolean getboolean assert equals assertequals prop get value getvalue get boolean getboolean test test double testdouble repository exception repositoryexception node set property setproperty prop property prop node get property getproperty prop assert equals assertequals prop get double getdouble assert equals assertequals prop get value getvalue get double getdouble prop set value setvalue max assert equals assertequals max prop get double getdouble assert equals assertequals max prop get value getvalue get double getdouble test test long testlong repository exception repositoryexception node set property setproperty prop property prop node get property getproperty prop assert equals assertequals prop get long getlong assert equals assertequals prop get value getvalue get long getlong prop set value setvalue max assert equals assertequals max prop get long getlong assert equals assertequals max prop get value getvalue get long getlong test test big decimal testbigdecimal repository exception repositoryexception node set property setproperty prop big decimal bigdecimal property prop node get property getproperty prop assert equals assertequals big decimal bigdecimal prop get decimal getdecimal assert equals assertequals big decimal bigdecimal prop get value getvalue get decimal getdecimal prop set value setvalue big decimal bigdecimal assert equals assertequals big decimal bigdecimal prop get decimal getdecimal assert equals assertequals big decimal bigdecimal prop get value getvalue get decimal getdecimal test test calendar testcalendar repository exception repositoryexception calendar calendar get instance getinstance node set property setproperty prop property prop node get property getproperty prop assert equals assertequals prop get date getdate assert equals assertequals prop get value getvalue get date getdate calendar calendar get instance getinstance add calendar month prop set value setvalue assert equals assertequals prop get date getdate assert equals assertequals prop get value getvalue get date getdate test test binary testbinary repository exception repositoryexception io exception ioexception node set property setproperty prop binary value binaryvalue get binary getbinary property prop node get property getproperty prop assert array equals assertarrayequals io utils ioutils to byte array tobytearray prop get binary getbinary get stream getstream assert array equals assertarrayequals io utils ioutils to byte array tobytearray prop get value getvalue get binary getbinary get stream getstream prop set value setvalue binary value binaryvalue get binary getbinary assert array equals assertarrayequals io utils ioutils to byte array tobytearray prop get binary getbinary get stream getstream assert array equals assertarrayequals io utils ioutils to byte array tobytearray prop get value getvalue get binary getbinary get stream getstream suppress warnings suppresswarnings deprecation test test input stream testinputstream repository exception repositoryexception io exception ioexception node set property setproperty prop byte array input stream bytearrayinputstream property prop node get property getproperty prop assert array equals assertarrayequals io utils ioutils to byte array tobytearray prop get stream getstream prop set value setvalue byte array input stream bytearrayinputstream assert array equals assertarrayequals io utils ioutils to byte array tobytearray prop get value getvalue get stream getstream test test value testvalue repository exception repositoryexception node set property setproperty prop session get value factory getvaluefactory create value createvalue property prop node get property getproperty prop assert equals assertequals prop get string getstring assert equals assertequals prop get value getvalue get string getstring prop set value setvalue session get value factory getvaluefactory create value createvalue assert equals assertequals prop get string getstring assert equals assertequals prop get value getvalue get string getstring assert false assertfalse prop is multiple ismultiple assert false assertfalse prop get definition getdefinition is multiple ismultiple assert equals assertequals prop get length getlength test test value array testvaluearray repository exception repositoryexception session get value factory getvaluefactory create value createvalue aaa session get value factory getvaluefactory create value createvalue bbb node set property setproperty prop property prop node get property getproperty prop values prop get values getvalues values length assert equals assertequals get string getstring values get string getstring session get value factory getvaluefactory create value createvalue prop set value setvalue values prop get values getvalues values length assert equals assertequals get string getstring values get string getstring assert true asserttrue prop is multiple ismultiple assert true asserttrue prop get definition getdefinition is multiple ismultiple assert array equals assertarrayequals prop get len gths getlengths test test empty array get type testemptyarraygettype repository exception repositoryexception node set property setproperty prop property prop node get property getproperty prop assert true asserttrue prop is multiple ismultiple assert equals assertequals property type propertytype undefined prop get type gettype test expected value format exception valueformatexception test single value as value array testsinglevalueasvaluearray repository exception repositoryexception node set property setproperty prop session get value factory getvaluefactory create value createvalue property prop node get property getproperty prop assert false assertfalse prop is multiple ismultiple assert equals assertequals prop get values getvalues get string getstring
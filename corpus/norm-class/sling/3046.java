licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets post impl java io exception ioexception java net uri java net uri syntax exception urisyntaxexception java util array list arraylist java util hash map hashmap java util iterator java util list java util map java util properties java util regex matcher java util regex pattern javax servlet servlet javax servlet servlet exception servletexception javax servlet http http servlet response httpservletresponse org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations modified org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations references org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api resource resource not found exception resourcenotfoundexception org apache sling api resource resource util resourceutil org apache sling api servlets sling all methods servlet slingallmethodsservlet org apache sling commons osgi osgi util osgiutil org apache sling jcr content loader contentloader content importer contentimporter org apache sling servlets post html response htmlresponse org apache sling servlets post json response jsonresponse org apache sling servlets post node name generator nodenamegenerator org apache sling servlets post post operation postoperation org apache sling servlets post post response postresponse org apache sling servlets post post response creator postresponsecreator org apache sling servlets post sling post constants slingpostconstants org apache sling servlets post sling post operation slingpostoperation org apache sling servlets post sling post processor slingpostprocessor org apache sling servlets post versioning configuration versioningconfiguration org apache sling servlets post impl helper date parser dateparser org apache sling servlets post impl helper default node name generator defaultnodenamegenerator org apache sling servlets post impl helper media range list mediarangelist org apache sling servlets post impl operations check in operation checkinoperation org apache sling servlets post impl operations check out operation checkoutoperation org apache sling servlets post impl operations copy operation copyoperation org apache sling servlets post impl operations delete operation deleteoperation org apache sling servlets post impl operations import operation importoperation org apache sling servlets post impl operations modify operation modifyoperation org apache sling servlets post impl operations move operation moveoperation org apache sling servlets post impl operations nop operation nopoperation org apache sling servlets post impl operations restore operation restoreoperation org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory post servlet sling client library protocol component spec version specversion metatype label servlet post description servlet post description service servlet org apache felix scr annotations properties property service description sling post servlet property service vendor apache software foundation property sling servlet prefix int value intvalue property private propertyprivate property sling servlet paths sling servlet post property private propertyprivate references reference post processor postprocessor reference interface referenceinterface sling post processor slingpostprocessor cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic reference post operation postoperation reference interface referenceinterface post operation postoperation cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic reference node name generator nodenamegenerator reference interface referenceinterface node name generator nodenamegenerator cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic reference post response creator postresponsecreator reference interface referenceinterface post response creator postresponsecreator cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic reference content importer contentimporter reference interface referenceinterface content importer contentimporter cardinality reference cardinality referencecardinality optional unary policy reference policy referencepolicy dynamic sling post servlet slingpostservlet sling all methods servlet slingallmethodsservlet serialversionuid log logger log logger factory loggerfactory get logger getlogger get class getclass property eee mmm yyyy gmt iso yyyy sssz yyyy yyyy yyyy yyyy string prop format servlet post date form ats dateformats property title jcr title description jcr description text jcr text string prop node hint properties servlet post node name h ints nodenamehints property int value intvalue string prop node max length servlet post node name max length nodenamemaxlength checkin create property bool value boolvalue checkin create string prop checkin create servlet post check in new version able nodes checkinnewversionablenodes auto checkout property bool value boolvalue auto checkout string prop auto checkout servlet post auto check out autocheckout auto checkin property bool value boolvalue auto checkin string prop auto checkin servlet post auto check in autocheckin string param checkin create check in new version able nodes checkinnewversionablenodes string param auto checkout auto check out autocheckout string param auto checkin auto check in autocheckin string parameter pattern property parameter pattern string prop parameter pattern servlet post ignore pattern ignorepattern modify operation modifyoperation modify operation modifyoperation modify operation modifyoperation service registration serviceregistration internal operations internaloperations map post operations map string post operation postoperation post operations postoperations hash map hashmap string post operation postoperation sorted list post processor holders list post processor holder postprocessorholder post processors postprocessors array list arraylist post processor holder postprocessorholder cached list post processors request processing sling post processor slingpostprocessor cached post processors cachedpostprocessors sling post processor slingpostprocessor sorted list node generator holders list node name generator holder nodenamegeneratorholder node name generators nodenamegenerators array list arraylist node name generator holder nodenamegeneratorholder cached list node gen erators generators request processing node name generator nodenamegenerator cached node name generators cachednodenamegenerators node name generator nodenamegenerator sorted list post response creator holders list post response creator holder postresponsecreatorholder post response creators postresponsecreators array list arraylist post response creator holder postresponsecreatorholder cached array post response creators request processing post response creator postresponsecreator cached post response creators cachedpostresponsecreators post response creator postresponsecreator import operation importoperation import operation importoperation import operation importoperation content importer reference content importer contentimporter content importer contentimporter versioning configuration versioningconfiguration base versioning configuration baseversioningconfiguration override do post dopost sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response io exception ioexception versioning configuration versioningconfiguration local versioning config localversioningconfig create request versioning configuration createrequestversioningconfiguration request request set attribute setattribute versioning configuration versioningconfiguration get name getname local versioning config localversioningconfig prepare response post response postresponse html response htmlresponse create post response createpostresponse request html response htmlresponse set ref erer setreferer request get header getheader ref erer referer post operation postoperation operation get sling post operation getslingpostoperation request operation html response htmlresponse set status setstatus http servlet response httpservletresponse internal server error invalid operation post request request get request progress tracker getrequestprogresstracker log calling post operation postoperation operation get class getclass get name getname sling post processor slingpostprocessor processors cached post processors cachedpostprocessors operation request html response htmlresponse processors resource not found exception resourcenotfoundexception rnfe html response htmlresponse set status setstatus http servlet response httpservletresponse rnfe get message getmessage exception exception log warn exception handling post request get resource getresource get path getpath operation get class getclass get name getname exception html response htmlresponse set error seterror exception check redirect url processing succeeded html response htmlresponse is successful issuccessful redirect if needed redirectifneeded request html response htmlresponse response create html response send unsuccessful redirect html response htmlresponse send response is set status issetstatus request redirects http servlet response httpservletresponse redirecturl empty param html response htmlresponse param request param redirecturl computed redirect url param response http servlet response httpservletresponse redirect ion redirection redirect requested io exception ioexception redirect if needed redirectifneeded sling http servlet request slinghttpservletrequest request post response postresponse html response htmlresponse sling http servlet response slinghttpservletresponse response io exception ioexception string redirecturl get redirect url getredirecturl request html response htmlresponse redirecturl matcher redirect scheme pattern matcher redirecturl has scheme hasscheme matches string encodedurl has scheme hasscheme group length encodedurl group response encoderedirecturl group has scheme hasscheme encodedurl redirecturl log debug request path request get path info getpathinfo encodedurl response encoderedirecturl redirecturl log debug redirecting url encoded redirecturl encodedurl response send redirect sendredirect encodedurl pattern redirect scheme pattern pattern compile https creates instance post response postresponse param req request service d serviced link org apache sling servlets post impl helper json response jsonresponse conditions request code accept code header code application json code request json post request sling request request parameter code accept application json code link org apache sling api servlets post response postresponse post response postresponse create post response createpostresponse sling http servlet request slinghttpservletrequest req post response creator postresponsecreator creator cached post response creators cachedpostresponsecreators post response postresponse response creator create post response createpostresponse req response response fall behavior suppress warnings suppresswarnings mismatched query and update of collection mismatchedqueryandupdateofcollection media range list mediarangelist media range list mediarangelist media range list mediarangelist req json response jsonresponse response content type equals media range list mediarangelist prefer text html json response jsonresponse response content type json response jsonresponse html response htmlresponse post operation postoperation get sling post operation getslingpostoperation sling http servlet request slinghttpservletrequest request string operation request get parameter getparameter sling post constants slingpostconstants operation operation operation length standard create modify operation modify operation modifyoperation named operation retrieve map post operations postoperations post operations postoperations operation compute redirect url sling param ctx post processor redirect location code code string get redirect url getredirecturl sling http servlet request slinghttpservletrequest request post response postresponse ctx redirect param priority magic star string result request get parameter getparameter sling post constants slingpostconstants redirect result uri redirect uri redirecturi uri result redirect uri redirecturi get auth ority getauthority host log warn redirect target include host allowed security reasons result redirect uri redirecturi get auth ority getauthority uri syntax exception urisyntaxexception log warn redirect target valid uri result log debug redirect requested path result ctx get path getpath redirect created modified resource star result index of indexof star ctx get path getpath string builder stringbuilder buf string builder stringbuilder star star buf append result substring star append manipulated node buf append resource util resourceutil get name getname ctx get path getpath star star result length buf append result substring star prepend request path ends create suffix result isn absolute string request path requestpath request get path info getpathinfo request path requestpath ends with endswith sling post constants slingpostconstants create suffix buf char at charat redirect scheme pattern matcher buf matches buf insert request path requestpath created path redirect result result buf to string tostring result ends with endswith sling post constants slingpostconstants create suffix redirect trailing slash append modified node result result concat resource util resourceutil get name getname ctx get path getpath log debug redirect result result is set status issetstatus sling http servlet request slinghttpservletrequest request string status param statusparam request get parameter getparameter sling post constants slingpostconstants status status param statusparam log debug get status mode getstatusmode parameter assuming standard status code sling post constants slingpostconstants status sling post constants slingpostconstants status browser equals status param statusparam log debug get status mode getstatusmode parameter asks user friendly status code sling post constants slingpostconstants status sling post constants slingpostconstants status standard equals status param statusparam log debug get status mode getstatusmode parameter asks standard status code sling post constants slingpostconstants status log debug get status mode getstatusmode parameter unknown assuming standard status code sling post constants slingpostconstants status scr int egration integration activate activate component context componentcontext context map string object configuration configure configure configuration predefined operations array list arraylist service registration serviceregistration provided services providedservices array list arraylist service registration serviceregistration bundle context bundlecontext bundle context bundlecontext context get bundle context getbundlecontext provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation modify modify operation modifyoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation copy copy operation copyoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation move move operation moveoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation delete delete operation deleteoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation nop nop operation nopoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation checkin check in operation checkinoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation checkout check out operation checkoutoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation res tore restore restore operation restoreoperation provided services providedservices add register operation registeroperation bundle context bundlecontext sling post constants slingpostconstants operation import operation importoperation internal operations internaloperations provided services providedservices to array toarray service registration serviceregistration provided services providedservices size service registration serviceregistration register operation registeroperation bundle context bundlecontext context string op code opcode post operation postoperation operation properties properties properties properties post operation postoperation prop operation op code opcode properties constants service description apache sling post servlet operation op code opcode properties constants service vendor context get bundle getbundle get headers getheaders constants bundle vendor context register service registerservice post operation postoperation service operation properties override init servlet exception servletexception modify operation modifyoperation set servlet context setservletcontext get servlet context getservletcontext modified configure map string object configuration base versioning configuration baseversioningconfiguration create base versioning configuration createbaseversioningconfiguration configuration date parser dateparser date parser dateparser date parser dateparser string date form ats dateformats osgi util osgiutil to string array tostringarray configuration prop format string date format dateformat date form ats dateformats date parser dateparser register date format dateformat throwable log warn configure ignoring date parser dateparser format invalid date format dateformat string name h ints namehints osgi util osgiutil to string array tostringarray configuration prop node hint properties name max namemax osgi util osgiutil to long tolong configuration prop node max length node name generator nodenamegenerator node name generator nodenamegenerator default node name generator defaultnodenamegenerator name h ints namehints name max namemax string param match parammatch osgi util osgiutil to string tostring configuration prop parameter pattern parameter pattern pattern param match pattern parammatchpattern pattern compile param match parammatch modify operation modifyoperation set date parser setdateparser date parser dateparser modify operation modifyoperation set default node name generator setdefaultnodenamegenerator node name generator nodenamegenerator import operation importoperation set default node name generator setdefaultnodenamegenerator node name generator nodenamegenerator modify operation modifyoperation set ignored parameter name pattern setignoredparameternamepattern param match pattern parammatchpattern import operation importoperation set ignored parameter name pattern setignoredparameternamepattern param match pattern parammatchpattern override destroy modify operation modifyoperation set servlet context setservletcontext deactivate deactivate internal operations internaloperations service registration serviceregistration registration internal operations internaloperations registration unregister internal operations internaloperations modify operation modifyoperation set extra node name generators setextranodenamegenerators import operation importoperation set extra node name generators setextranodenamegenerators import operation importoperation set content importer setcontentimporter bind post operation bind post operation bindpostoperation post operation postoperation operation map string object properties string operation name operationname string properties sling post operation slingpostoperation prop operation operation name operationname operation post operations postoperations post operations postoperations operation name operationname operation unbind post operation unbind post operation unbindpostoperation post operation postoperation operation map string object properties string operation name operationname string properties sling post operation slingpostoperation prop operation operation name operationname post operations postoperations post operations postoperations remove operation name operationname bind post processor bind post processor bindpostprocessor sling post processor slingpostprocessor processor map string object properties post processor holder postprocessorholder pph post processor holder postprocessorholder pph processor processor pph ranking osgi util osgiutil to integer tointeger properties constants service ranking post processors postprocessors post processors postprocessors size pph ranking post processors postprocessors ranking post processors postprocessors size post processors postprocessors add pph post processors postprocessors add pph update post processor cache updatepostprocessorcache unbind post processor unbind post processor unbindpostprocessor sling post processor slingpostprocessor processor map string object properties post processors postprocessors iterator post processor holder postprocessorholder post processors postprocessors iterator has next hasnext post processor holder postprocessorholder current current processor processor remove update post processor cache updatepostprocessorcache update post processor cache method called sync methods add additional syncing update post processor cache updatepostprocessorcache sling post processor slingpostprocessor local cache localcache sling post processor slingpostprocessor post processors postprocessors size post processor holder postprocessorholder current post processors postprocessors local cache localcache current processor cached post processors cachedpostprocessors local cache localcache bind node generator bind node name generator bindnodenamegenerator node name generator nodenamegenerator generator map string object properties node name generator holder nodenamegeneratorholder nngh node name generator holder nodenamegeneratorholder nngh generator generator nngh ranking osgi util osgiutil to integer tointeger properties constants service ranking node name generators nodenamegenerators node name generators nodenamegenerators size nngh ranking node name generators nodenamegenerators ranking node name generators nodenamegenerators size node name generators nodenamegenerators add nngh node name generators nodenamegenerators add nngh update node name generator cache updatenodenamegeneratorcache unbind node generator unbind node name generator unbindnodenamegenerator node name generator nodenamegenerator generator map string object properties node name generators nodenamegenerators iterator node name generator holder nodenamegeneratorholder node name generators nodenamegenerators iterator has next hasnext node name generator holder nodenamegeneratorholder current current generator generator remove update node name generator cache updatenodenamegeneratorcache update node generator cache method called sync methods add additional syncing update node name generator cache updatenodenamegeneratorcache node name generator nodenamegenerator local cache localcache node name generator nodenamegenerator node name generators nodenamegenerators size node name generator holder nodenamegeneratorholder current node name generators nodenamegenerators local cache localcache current generator cached node name generators cachednodenamegenerators local cache localcache modify operation modifyoperation set extra node name generators setextranodenamegenerators cached node name generators cachednodenamegenerators import operation importoperation set extra node name generators setextranodenamegenerators cached node name generators cachednodenamegenerators bind post response creator bind post response creator bindpostresponsecreator post response creator postresponsecreator creator map string object properties post response creator holder postresponsecreatorholder nngh post response creator holder postresponsecreatorholder nngh creator creator nngh ranking osgi util osgiutil to integer tointeger properties constants service ranking post response creators postresponsecreators post response creators postresponsecreators size nngh ranking post response creators postresponsecreators ranking post response creators postresponsecreators size post response creators postresponsecreators add nngh post response creators postresponsecreators add nngh update post response creator cache updatepostresponsecreatorcache unbind post response creator unbind post response creator unbindpostresponsecreator post response creator postresponsecreator creator map string object properties post response creators postresponsecreators iterator post response creator holder postresponsecreatorholder post response creators postresponsecreators iterator has next hasnext post response creator holder postresponsecreatorholder current current creator creator remove update post response creator cache updatepostresponsecreatorcache update post response creator cache method called sync methods add additional syncing update post response creator cache updatepostresponsecreatorcache post response creator postresponsecreator local cache localcache post response creator postresponsecreator post response creators postresponsecreators size post response creator holder postresponsecreatorholder current post response creators postresponsecreators local cache localcache current creator cached post response creators cachedpostresponsecreators local cache localcache bind content importer bindcontentimporter content importer contentimporter importer content importer contentimporter importer import operation importoperation set content importer setcontentimporter importer unbind content importer unbindcontentimporter content importer contentimporter importer content importer contentimporter importer content importer contentimporter import operation importoperation set content importer setcontentimporter versioning configuration versioningconfiguration create base versioning configuration createbaseversioningconfiguration map props versioning configuration versioningconfiguration cfg versioning configuration versioningconfiguration cfg set check in on new version able node setcheckinonnewversionablenode osgi util osgiutil to boolean toboolean props prop checkin create checkin create cfg set auto check out setautocheckout osgi util osgiutil to boolean toboolean props prop auto checkout auto checkout cfg set auto check in setautocheckin osgi util osgiutil to boolean toboolean props prop auto checkin auto checkin cfg versioning configuration versioningconfiguration create request versioning configuration createrequestversioningconfiguration sling http servlet request slinghttpservletrequest request versioning configuration versioningconfiguration cfg base versioning configuration baseversioningconfiguration clone string param value paramvalue request get parameter getparameter param checkin create param value paramvalue cfg set check in on new version able node setcheckinonnewversionablenode parse boolean parseboolean param value paramvalue param value paramvalue request get parameter getparameter param auto checkout param value paramvalue cfg set auto check out setautocheckout parse boolean parseboolean param value paramvalue param value paramvalue request get parameter getparameter param auto checkin param value paramvalue cfg set auto check in setautocheckin parse boolean parseboolean param value paramvalue cfg post processor holder postprocessorholder sling post processor slingpostprocessor processor ranking node name generator holder nodenamegeneratorholder node name generator nodenamegenerator generator ranking post response creator holder postresponsecreatorholder post response creator postresponsecreator creator ranking
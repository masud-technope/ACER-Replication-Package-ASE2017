licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling servlet org junit assert array equals assertarrayequals org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull org junit assert null assertnull org junit assert same assertsame org junit assert true asserttrue org mockito matchers org mockito mockito mock org mockito mockito java unsupported encoding exception unsupportedencodingexception java net url encoder urlencoder java util calendar java util enumeration java util linked hash map linkedhashmap java util list resource bundle listresourcebundle java util locale java util map java util resource bundle resourcebundle javax servlet request dispatcher requestdispatcher javax servlet http cookie javax servlet http http session httpsession org apache commons io utils ioutils org apache commons lang char encoding charencoding org apache sling api request request dispatcher options requestdispatcheroptions org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api servlets http constants httpconstants org apache sling resource bundle provider resourcebundleprovider org apache sling testing mock osgi mock osgi mockosgi org junit org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner org osgi framework bundle context bundlecontext run with runwith mockito unit runner mockitojunitrunner mock sling http servlet request test mockslinghttpservletrequesttest mock resource resolver resourceresolver resource resolver resourceresolver mock resource resource bundle context bundlecontext bundle context bundlecontext mock osgi mockosgi new bundle context newbundlecontext mock sling http servlet request mockslinghttpservletrequest request set up setup exception request mock sling http servlet request mockslinghttpservletrequest resource resolver resourceresolver bundle context bundlecontext tear down teardown mock osgi mockosgi shutdown bundle context bundlecontext test test resource resolver testresourceresolver assert same assertsame resource resolver resourceresolver request get resource resolver getresourceresolver test test default resource resolver testdefaultresourceresolver assert not null assertnotnull mock sling http servlet request mockslinghttpservletrequest bundle context bundlecontext get resource resolver getresourceresolver test test session testsession http session httpsession session request get session getsession assert null assertnull session session request get session getsession assert not null assertnotnull session test test request path info testrequestpathinfo assert not null assertnotnull request get request path info getrequestpathinfo test test attributes testattributes request set attribute setattribute attr assert true asserttrue request get attribute names getattributenames has more elements hasmoreelements assert equals assertequals request get attribute getattribute attr request remove attribute removeattribute attr assert false assertfalse request get attribute names getattributenames has more elements hasmoreelements test test resource testresource assert null assertnull request get resource getresource request set resource setresource resource assert same assertsame resource request get resource getresource test test context path testcontextpath assert null assertnull request get context path getcontextpath request set context path setcontextpath ctx assert equals assertequals ctx request get context path getcontextpath test test locale testlocale assert equals assertequals locale request get locale getlocale test test query string testquerystring unsupported encoding exception unsupportedencodingexception assert null assertnull request get query string getquerystring assert equals assertequals request get parameter map getparametermap size assert false assertfalse request get parameter names getparameternames has more elements hasmoreelements request set query string setquerystring param param url encoder urlencoder encode ã¤ã¶ ã¼ãÿ â‚¬ ã¤ã¶ã¼ãÿâ‚¬ char encoding charencoding utf param param assert not null assertnotnull request get query string getquerystring assert equals assertequals request get parameter map getparametermap size assert true asserttrue request get parameter names getparameternames has more elements hasmoreelements assert equals assertequals request get parameter getparameter param assert equals assertequals ã¤ã¶ ã¼ãÿ â‚¬ ã¤ã¶ã¼ãÿâ‚¬ request get parameter getparameter param assert array equals assertarrayequals string request get parameter values getparametervalues param map string object param map parammap linked hash map linkedhashmap string object param map parammap param map parammap string param map parammap param map parammap string param map parammap request set parameter map setparametermap param map parammap assert equals assertequals request get query string getquerystring test test scheme secure testschemesecure assert equals assertequals http request get scheme getscheme assert false assertfalse request is secure issecure request set scheme setscheme https assert equals assertequals https request get scheme getscheme assert true asserttrue request is secure issecure test test server name port testservernameport assert equals assertequals localhost request get server name getservername assert equals assertequals request get server port getserverport request set server name setservername myhost request set server port setserverport assert equals assertequals myhost request get server name getservername assert equals assertequals request get server port getserverport test test method testmethod assert equals assertequals http constants httpconstants method request get method getmethod request set method setmethod http constants httpconstants method post assert equals assertequals http constants httpconstants method post request get method getmethod test test headers testheaders assert false assertfalse request get header names getheadernames has more elements hasmoreelements calendar calendar calendar get instance getinstance calendar calendar millisecond date value datevalue calendar get time in millis gettimeinmillis request add header addheader header request add int header addintheader header request add date header adddateheader header date value datevalue assert equals assertequals request get header getheader header assert equals assertequals request get int header getintheader header assert equals assertequals date value datevalue request get date header getdateheader header request set header setheader header request add int header addintheader header enumeration string header values request get headers getheaders header assert equals assertequals header values next element nextelement assert false assertfalse header values has more elements hasmoreelements enumeration string header values request get headers getheaders header assert equals assertequals header values next element nextelement assert equals assertequals header values next element nextelement assert false assertfalse header values has more elements hasmoreelements test test cookies testcookies assert null assertnull request get cookies getcookies request add cookie addcookie cookie cookie request add cookie addcookie cookie cookie assert equals assertequals request get cookie getcookie cookie get value getvalue cookie cookies request get cookies getcookies assert equals assertequals cookies length assert equals assertequals cookies get value getvalue assert equals assertequals cookies get value getvalue test test default resource bundle testdefaultresourcebundle resource bundle resourcebundle bundle request get resource bundle getresourcebundle locale assert not null assertnotnull bundle assert false assertfalse bundle get keys getkeys has more elements hasmoreelements test test resource bundle from provider testresourcebundlefromprovider resource bundle provider resourcebundleprovider provider mock resource bundle provider resourcebundleprovider bundle context bundlecontext register service registerservice resource bundle provider resourcebundleprovider get name getname provider provider get resource bundle getresourcebundle base locale then return thenreturn list resource bundle listresourcebundle override object get contents getcontents object key resource bundle resourcebundle bundle request get resource bundle getresourcebundle base locale assert not null assertnotnull bundle assert equals assertequals bundle get string getstring key resource bundle resourcebundle bundle request get resource bundle getresourcebundle base locale assert not null assertnotnull bundle assert false assertfalse bundle get keys getkeys has more elements hasmoreelements test test request parameter testrequestparameter exception request set query string setquerystring param param url encoder urlencoder encode ã¤ã¶ ã¼ãÿ â‚¬ ã¤ã¶ã¼ãÿâ‚¬ char encoding charencoding utf param param assert equals assertequals request get request parameter map getrequestparametermap size assert equals assertequals request get request parameter list getrequestparameterlist size assert equals assertequals request get request parameter getrequestparameter param get string getstring assert equals assertequals ã¤ã¶ ã¼ãÿ â‚¬ ã¤ã¶ã¼ãÿâ‚¬ request get request parameter getrequestparameter param get string getstring assert equals assertequals request get request parameters getrequestparameters param get string getstring assert equals assertequals request get request parameters getrequestparameters param get string getstring assert null assertnull request get request parameter getrequestparameter unknown assert null assertnull request get request parameters getrequestparameters unknown test test content type charset testcontenttypecharset exception assert null assertnull request get content type getcontenttype assert null assertnull request get character encoding getcharacterencoding request set content type setcontenttype image gif assert equals assertequals image gif request get content type getcontenttype assert null assertnull request get character encoding getcharacterencoding request set content type setcontenttype text plain charset utf assert equals assertequals text plain charset utf request get content type getcontenttype assert equals assertequals char encoding charencoding utf request get character encoding getcharacterencoding request set character encoding setcharacterencoding char encoding charencoding iso assert equals assertequals text plain charset iso request get content type getcontenttype assert equals assertequals char encoding charencoding iso request get character encoding getcharacterencoding test test content testcontent exception assert equals assertequals request get content length getcontentlength assert null assertnull request get input stream getinputstream data request set content setcontent data assert equals assertequals data length request get content length getcontentlength assert array equals assertarrayequals data io utils ioutils to byte array tobytearray request get input stream getinputstream test test get request dispatcher testgetrequestdispatcher mock request dispatcher factory mockrequestdispatcherfactory request dispatcher factory requestdispatcherfactory mock mock request dispatcher factory mockrequestdispatcherfactory request dispatcher requestdispatcher request dispatcher requestdispatcher mock request dispatcher requestdispatcher request dispatcher factory requestdispatcherfactory get request dispatcher getrequestdispatcher resource request dispatcher options requestdispatcheroptions then return thenreturn request dispatcher requestdispatcher request dispatcher factory requestdispatcherfactory get request dispatcher getrequestdispatcher string request dispatcher options requestdispatcheroptions then return thenreturn request dispatcher requestdispatcher request set request dispatcher factory setrequestdispatcherfactory request dispatcher factory requestdispatcherfactory assert same assertsame request dispatcher requestdispatcher request get request dispatcher getrequestdispatcher path assert same assertsame request dispatcher requestdispatcher request get request dispatcher getrequestdispatcher path request dispatcher options requestdispatcheroptions assert same assertsame request dispatcher requestdispatcher request get request dispatcher getrequestdispatcher resource assert same assertsame request dispatcher requestdispatcher request get request dispatcher getrequestdispatcher resource request dispatcher options requestdispatcheroptions test expected illegal state exception illegalstateexception test get request dispatcher without factory testgetrequestdispatcherwithoutfactory request get request dispatcher getrequestdispatcher path test test get remote user n testgetremoteusern assert null assertnull request get remote user getremoteuser request set remote user setremoteuser admin assert equals assertequals admin request get remote user getremoteuser
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery commons providers spi base java util arrays java util hash set hashset java util list java util org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations reference org apache felix scr annotations service org apache sling api resource login exception loginexception org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling commons json json exception jsonexception org apache sling discovery cluster view clusterview org apache sling discovery instance description instancedescription org apache sling discovery commons providers base topology view basetopologyview org apache sling discovery commons providers spi cluster sync service clustersyncservice org apache sling settings sling settings service slingsettingsservice oak backlog cluster sync service oakbacklogclustersyncservice wait instances local cluster longer backlog component service cluster sync service clustersyncservice oak backlog cluster sync service oakbacklogclustersyncservice oak backlog cluster sync service oakbacklogclustersyncservice abstract service with background check abstractservicewithbackgroundcheck cluster sync service clustersyncservice enum backlog status backlogstatus undefined error retrieving backlog status oak backlog oak discovery lite descriptor backlog backlog reference id map service idmapservice id map service idmapservice reference discovery lite config discoveryliteconfig commons config commonsconfig reference resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory reference sling settings service slingsettingsservice settings service settingsservice cluster sync history clustersynchistory consistency history consistencyhistory cluster sync history clustersynchistory oak backlog cluster sync service oakbacklogclustersyncservice test constructor and activate testconstructorandactivate discovery lite config discoveryliteconfig commons config commonsconfig id map service idmapservice id map service idmapservice sling settings service slingsettingsservice settings service settingsservice resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory oak backlog cluster sync service oakbacklogclustersyncservice service test constructor testconstructor commons config commonsconfig id map service idmapservice settings service settingsservice resource resolver factory resourceresolverfactory service activate service testing param resource resolver factory resourceresolverfactory param sling id slingid local sling id slingid param sync token timeout millis synctokentimeoutmillis timeout millis sync token process cancelled timeout param backlog wait timeout millis backlogwaittimeoutmillis timeout millis waiting backlog cancelled timeout login exception loginexception login initialization failed json exception jsonexception descriptor was n wasn proper json init time oak backlog cluster sync service oakbacklogclustersyncservice test constructor testconstructor discovery lite config discoveryliteconfig commons config commonsconfig id map service idmapservice id map service idmapservice sling settings service slingsettingsservice settings service settingsservice resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory oak backlog cluster sync service oakbacklogclustersyncservice service oak backlog cluster sync service oakbacklogclustersyncservice commons config commonsconfig illegal argument exception illegalargumentexception commons config commonsconfig resource resolver factory resourceresolverfactory illegal argument exception illegalargumentexception resource resolver factory resourceresolverfactory settings service settingsservice illegal argument exception illegalargumentexception settings service settingsservice service commons config commonsconfig commons config commonsconfig service resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory service id map service idmapservice id map service idmapservice service settings service settingsservice settings service settingsservice service activate activate sling id slingid get settings service getsettingsservice get sling id getslingid logger info activate activated sling id slingid sling id slingid set consistency history setconsistencyhistory cluster sync history clustersynchistory consistency history consistencyhistory consistency history consistencyhistory consistency history consistencyhistory cluster sync history clustersynchistory get consistency history getconsistencyhistory consistency history consistencyhistory create resource resolver resourceresolver resource resolver resourceresolver get resource resolver getresourceresolver login exception loginexception resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver override cancel sync cancelsync cancel previous background check cancelpreviousbackgroundcheck override sync base topology view basetopologyview view runnable callback cancel previous background check backgroundcheck running cancel previous background check cancelpreviousbackgroundcheck wait backlog logger info sync wait backlog view view to short string toshortstring wait while backlog waitwhilebacklog view callback wait while backlog waitwhilebacklog base topology view basetopologyview view runnable runnable start background checking backgroundchecking backlog status backlogstatus backlog start background check startbackgroundcheck oak backlog cluster sync service oakbacklogclustersyncservice backlog waiting background check backgroundcheck override check id map service idmapservice is initialized isinitialized logger info wait while backlog waitwhilebacklog initialize consistency history consistencyhistory add history entry addhistoryentry view initialize id map service idmapservice exception logger error wait while backlog waitwhilebacklog initialized consistency history consistencyhistory add history entry addhistoryentry view exception initial izing initializing id map service idmapservice backlog status backlogstatus backlog status backlogstatus get backlog status getbacklogstatus view backlog status backlogstatus backlog status backlogstatus backlog logger info wait while backlog waitwhilebacklog backlog consistency history consistencyhistory add history entry addhistoryentry view backlog logger info wait while backlog waitwhilebacklog backlog status backlogstatus backlog status backlogstatus clear cache latest version changed id map service idmapservice clear cache clearcache consistency history consistencyhistory add history entry addhistoryentry view backlog status backlog status backlogstatus runnable get commons config getcommonsconfig get cluster sync service timeout millis getclustersyncservicetimeoutmillis get commons config getcommonsconfig get cluster sync service interval millis getclustersyncserviceintervalmillis backlog status backlogstatus get backlog status getbacklogstatus base topology view basetopologyview view logger trace get backlog status getbacklogstatus start resource resolver resourceresolver resource resolver resourceresolver resource resolver resourceresolver get resource resolver getresourceresolver discovery lite descriptor discoverylitedescriptor descriptor discovery lite descriptor discoverylitedescriptor get descriptor from getdescriptorfrom resource resolver resourceresolver backlog free deactivating empty backlog active ids descriptor mapping sling ids slingids init failed pending instance active instances view discovery lite instance dead discovery service fine backlog point view instances view listed inactive started instances instances view contained descriptor started instances active ids activeids descriptor get active ids getactiveids deactivating ids deactivatingids descriptor get deactivating ids getdeactivatingids deactivating empty deactivating ids deactivatingids length logger info get backlog status getbacklogstatus deactivating instances arrays to string tostring deactivating ids deactivatingids backlog status backlogstatus backlog cluster view clusterview cluster view get local instance getlocalinstance get cluster view getclusterview string sling ids slingids hash set hashset string instance description instancedescription instance cluster get instances getinstances sling ids slingids add instance get sling id getslingid active ids activeids length active id activeid active ids activeids string sling id slingid id map service idmapservice to sling id toslingid active id activeid resource resolver resourceresolver ids descriptor mapping sling ids slingids sling id slingid logger info get backlog status getbacklogstatus sling id slingid active active id activeid backlog status backlogstatus undefined active instances view sling ids slingids sling id slingid logger info get backlog status getbacklogstatus active instance active id activeid sling id slingid sling id slingid cluster cluster backlog status backlogstatus backlog logger info get backlog status getbacklogstatus backlog backlog status backlogstatus backlog exception logger info get backlog status getbacklogstatus failed determine backlog status backlog status backlogstatus undefined logger trace get backlog status getbacklogstatus resource resolver resourceresolver resource resolver resourceresolver close discovery lite config discoveryliteconfig get commons config getcommonsconfig commons config commonsconfig sling settings service slingsettingsservice get settings service getsettingsservice settings service settingsservice list string get sync history getsynchistory consistency history consistencyhistory get sync history getsynchistory
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad app java file java i o exception ioexception java print stream printstream java net malformedurlexception java net url java text date format dateformat java text simple date format simpledateformat java util java util hash map hashmap java util map java util map entry org apache sling launchpad base shared launcher org apache sling launchpad base shared loader org apache sling launchpad base shared not ifiable notifiable org apache sling launchpad base shared shared constants sharedconstants code main code ext ernally externally visible standalone java application launcher sling refer full description sling launchpad sling web site full description logging standard output info rmational informational messages standard error error messages secondary artifact class ifier classifier app main starting java application href http sling apache org site sling launchpad html sling launchpad main environment variable consult find sling string env sling sling configuration property indicating link control action controlaction link do control action docontrolaction method string prop control action sling control action configuration property indicating socket control connection property port number host assumed code localhost code host add ress address port number separated colon string prop control socket sling control socket sling configuration property setting initial log level string prop log level org apache sling commons log level sling configuration property setting initial log file string prop log file org apache sling commons log file configuration property setting port http service list ens listens string prop port org osgi service http port configuration property setting context path http service mounts string prop context path org apache felix http context path host address listen string prop host org apache felix http host configuration property system property indicating shutdown hook installed property code insensitive shutdown hook properly shutting framework installed startup property code insensitive shutdown hook installed res pective respective command option code string prop shutdown hook sling shutdown hook main entry point sling launcher standalone java application method gen erally generally called java launch sling param args command arguments supplied starting sling launcher java main string args map string string raw args rawargs parse command line parsecommandline args support usage do help dohelp raw args rawargs system exit map string string props convert command line args convertcommandlineargs raw args rawargs props system exit main main main props check control commands main do control action docontrolaction main terminatevm start sling main do start dostart error failed start sling terminating main terminatevm map command arguments actual property names osg i osgi framework installed bundles map string string command line args commandlineargs install shutdown hook prop shutdown hook install shutdown hook installshutdownhook map add shutdown hook addshutdownhook install shutdown hook installshutdownhook shutdown hook installed java sling started hook removed sling shut link not ified notified not ifier notifier not ified notified framework shutdown add shutdown hook addshutdownhook remove shutdown hook removeshutdownhook thread shutdown hook shutdownhook absolute path directory launched sling application corresponds code sling code framework property get sling home getslinghome map string sling home slinghome link loader create framework loader launch framework loader loader actual launcher accessed link loader launch osg i osgi framework launcher sling flag sling started started creates instance main loader arguments configure osg i osgi framework launched link start sling startsling url method param args map configuration properties supplied osg i osgi framework map assumed useful l usefull translation launcher osg i osgi framework parameter code code empty map configuration assumed main map string string args command line args commandlineargs args hash map hashmap string string args install shutdown hook installshutdownhook install shutdown hook installshutdownhook command line args commandlineargs sling command system properties string get sling home getslinghome command line args commandlineargs file sling home file slinghomefile file sling home file slinghomefile is absolute isabsolute sling home file slinghomefile get absolute path getabsolutepath sling home slinghome ins tantiating instantiating method called communication running sling instance setup communication configuration properties supplied constructor eval uated evaluated table code prop control socket code specifies socket control connection specification form host port host host address sep arating separating colon port num beric numberic port number listen localhost suggested ext ernally externally accessible security reasons security control channel code prop control action code actual action execute start start listener configured socket expect commands action launching sling application action helps manage running system connects listener running configured socket send command terminate sling application command expected sling application start status connects listener running configured socket query status command expected sling application start table method executed code code link prop control action properties removed configuration properties link do start dostart link do stop dostop methods called multiple times method called creating instance code indicating java expected terminated code code returned intended starting sling application code returned start action action supplied terminate returned code exit code action status action lsb comp liant compliant code daemon status check application running program m programm dead program m programm running unknown problem href http refs pecs refspecs linuxbase org lsb lsb core lsb core ini scr ptact iniscrptact html init script actions definition lsb status codes do control action docontrolaction control action controlaction action get control action getcontrolaction action control listener controllistener control listener controllistener command line args commandlineargs remove prop control socket action start listen assume service running status status server statusserver shutdown server shutdownserver threads dump threads dumpthreads terminates started calling link main string method code status code application exit status code method param status application status exit code accessor enable over writing overwriting unit tests terminatevm status system exit status control action controlaction get control action getcontrolaction object action command line args commandlineargs remove prop control action action action control action controlaction control action controlaction action control action controlaction value of valueof action to string tostring to upper case touppercase illegal argument exception illegalargumentexception iae error illegal control action action starts application configuration supplied configuration properties instance created calling method multiple times calling link do stop dostop message printed code code returned code code startup successful l successfull application considered started error message log ged logged code code returned do start dostart ensure launcher jar do start dostart get class getclass get resource getresource shared constants sharedconstants sling launcher jar do start dostart url launcher jar launcherjar prevent duplicate start started info apache sling started info starting apache sling sling home slinghome started loader loader tmp loadertmp file launchpad home launchpadhome get launchpad home getlaunchpadhome sling home slinghome command line args commandlineargs loader tmp loadertmp loader launchpad home launchpadhome override info string msg main info msg illegal argument exception illegalargumentexception iae error launch launchpad folder iae get message getmessage loader loader tmp loadertmp launcher jar launcherjar loader install launcher jar installlauncherjar launcher jar launcherjar i o exception ioexception ioe error launch install launcher jar launcherjar ioe info launcher jar install object object object loader load launcher loadlauncher shared constants sharedconstants sling main illegal argument exception illegalargumentexception iae error launch failed loading sling shared constants sharedconstants sling main iae object launcher configure launcher launcher sling launcher object sling set not ifiable setnotifiable not ified notified sling set command line setcommandline command line args commandlineargs sling set sling home setslinghome sling home slinghome launch info starting launcher sling start info startup completed sling sling add shutdown hook addshutdownhook error launch launcher start returned error launch shared constants sharedconstants sling main launcher called application sling application properly terminate stop ping stopping osg i osgi framework calling method sling application started calling link do start dostart method calling method multiple times calling link do start dostart method sling application terminated do stop dostop remove shutdown hook removeshutdownhook shutdown sling sling info stopping apache sling sling sling clean caches loader loader cleanupvm loader cleanup started add shutdown hook addshutdownhook install shutdown hook installshutdownhook shutdown hook shutdownhook shutdown hook shutdownhook thread shutdown hook shutdownhook apache sling terminator runtime get runtime getruntime add shutdown hook addshutdownhook shutdown hook shutdownhook remove shutdown hook removeshutdownhook remove shutdown hook fail called shutdown hook prevents shutdown called thread shutdown hook shutdownhook shutdown hook shutdownhook shutdown hook shutdownhook shutdown hook shutdownhook runtime get runtime getruntime remove shutdown hook removeshutdownhook shutdown hook shutdownhook throwable define sling parameter implementing algorithm e algorithme defined wiki find setting algorithm configuration property code sling code system property code sling code environment variable code sling code code sling code param command line commandline command arguments sling string get sling home getslinghome map string string command line commandline string source string sling home slinghome command line commandline shared constants sharedconstants sling sling home slinghome source command sling home slinghome system get property getproperty shared constants sharedconstants sling sling home slinghome source system property sling sling home slinghome system get env getenv env sling sling home slinghome source environment variable sling source sling home slinghome shared constants sharedconstants sling info setting sling sling home slinghome source sling home slinghome absolute path sling string get sling home getslinghome sling home slinghome define sling launchpad parameter implementing algorithm e algorithme defined wiki find setting algorithm configuration property code sling launchpad code path resolved code sling home slinghome code folder relative code sling code param sling home slinghome absolute path sling folder aka code sling code param command line args commandlineargs configuration properties code sling launchpad code property absolute code file code indicating launchpad folder file get launchpad home getlaunchpadhome string sling home slinghome map string string command line args commandlineargs string launchpad home param launchpadhomeparam command line args commandlineargs shared constants sharedconstants sling launchpad launchpad home param launchpadhomeparam launchpad home param launchpadhomeparam length command line args commandlineargs shared constants sharedconstants sling launchpad sling home slinghome file sling home slinghome file launchpad home launchpadhome file launchpad home param launchpadhomeparam launchpad home launchpadhome is absolute isabsolute launchpad home launchpadhome file sling home slinghome launchpad home param launchpadhomeparam command line args commandlineargs shared constants sharedconstants sling launchpad launchpad home launchpadhome get absolute path getabsolutepath launchpad home launchpadhome logging emit info rmational informational message standard info string message throwable log system info message emit error message standard err error string message throwable log system err error message date format dateformat fmt simple date format simpledateformat yyyy sss helper method format message correct output channel throwable prefixed prefix log print stream printstream string prefix string message throwable string builder stringbuilder line prefix builder lineprefixbuilder string builder stringbuilder fmt line prefix builder lineprefixbuilder append fmt format line prefix builder lineprefixbuilder append prefix line prefix builder lineprefixbuilder append line prefix builder lineprefixbuilder append thread current thread currentthread get name getname line prefix builder lineprefixbuilder append string line prefix lineprefix line prefix builder lineprefixbuilder to string tostring print line prefix lineprefix println message print stack trace printstacktrace print stream printstream override print string print line prefix lineprefix print parses command arguments map strings indexed strings method sup pports suppports single character option names moment pair option stored map single dash character encountered command int erpreted interpreted option names stored map unmodified entries key table command mapping table param args command parse map command options values accessor enable unit tests wihtout req uiring requiring ref lection reflection map string string parse command line parsecommandline string args map string string command line commandline hash map hashmap string string read unparsed readunparsed arg c argc args arg c argc args length arg c argc string arg args arg c argc read unparsed readunparsed command line commandline arg arg arg starts with startswith arg length read unparsed readunparsed string key string value of valueof arg char at charat arg length string val index of eq indexofeq arg index of indexof index of eq indexofeq handle key arg substring index of eq indexofeq val arg substring index of eq indexofeq val arg substring command line commandline key val arg c argc arg c argc args length args arg c argc equals args arg c argc starts with startswith string val args arg c argc special handling key equals index of eq indexofeq val index of indexof index of eq indexofeq handle add key key val substring index of eq indexofeq val val substring index of eq indexofeq command line commandline key val command line commandline key key arg c argc command line commandline arg arg command line commandline prints simple usage optional error message do help dohelp map string string args args remove system println usage main get name getname start status adr log level loglevel log file logfile sling home slinghome launchpad home launchpadhome add ress address port system println start listen control connection system println terminate running apache sling system println status check apache sling running system println threads request thread dump apache sling system println adr host port control connection format host port system println log level loglevel initial log level loglevel fatal error warn info debug system println log file logfile log file stdout logs error log system println sling home slinghome sling context directory sling system println launchpad home launchpadhome launchpad directory sling home slinghome system println add ress address int erfact interfact bind system println port port listen system println path root servlet context path http service system println don install shutdown hook system println sets property option jar filename jvm option meaning system println prints usage message install shutdown hook installshutdownhook map string string props string prop props remove prop shutdown hook prop prop system get property getproperty prop shutdown hook prop value of valueof prop accessor enable unit tests wihtout req uiring requiring ref lection reflection map string string convert command line args convertcommandlineargs map string string raw args rawargs hash map hashmap string string props hash map hashmap string string error arg errorarg entry string string arg raw args rawargs entry set entryset arg get key getkey length arg get key getkey starts with startswith string arg get value getvalue arg get key getkey char at charat arg get key getkey error arg errorarg missing host port error arg errorarg props prop control socket arg get key getkey error arg errorarg missing log level error arg errorarg props prop log level arg get key getkey error arg errorarg missing log file error arg errorarg equals props prop log file arg get key getkey error arg errorarg missing directory error arg errorarg props shared constants sharedconstants sling arg get key getkey error arg errorarg missing launchpad directory error arg errorarg props shared constants sharedconstants sling launchpad arg get key getkey error arg errorarg missing add ress address error arg errorarg props prop host arg get key getkey error arg errorarg missing port error arg errorarg verify number integer parse int parseint props prop port runtime exception runtimeexception error arg errorarg bad port error arg errorarg arg get key getkey error arg errorarg missing root path error arg errorarg props prop context path props prop shutdown hook to string tostring arg get key getkey error arg errorarg missing property assignment error arg errorarg arg get key getkey length dfoo bar arg key dfoo arg bar props arg get key getkey substring arg get value getvalue foo bar arg key arg foo bar string parts split value idx valueidx parts length props parts parts value idx valueidx error arg errorarg arg get key getkey unrecognized option error arg errorarg start equals arg get key getkey equals arg get key getkey status equals arg get key getkey threads equals arg get key getkey props prop control action arg get value getvalue error arg errorarg arg get key getkey unrecognized option error arg errorarg error arg errorarg props error arg errorarg string option string message error string format option message removes str ay stray threads thread groups removes framework thread context load ers loaders str ay stray threads thread groups file cleaning tracker filecleaningtracker reaper thread commons library quartz scheduler quartzscheduler apache sling apachesling thread group href https issues apache org jira browse sling sling quartz scheduler quartzscheduler apache sling apachesling thread group remaining stop ping stopping scheduler bundle cleanup threads cleanupthreads current thread sling not ifier slingnotifier thread main thread group parent system thread group care main thread group thread group threadgroup thread current thread currentthread get thread group getthreadgroup thread active thread active count activecount enum erate enumerate active thread thread active thread thread get name getname equals file cleaning tracker filecleaningtracker reaper thread str ay stray commons bundle consumer thread class loader classloader loader thread get context class loader getcontextclassloader loader loader get class getclass get name getname starts with startswith org apache felix framework thread set context class loader setcontextclassloader sling scheduler thread group thread group threadgroup groups thread group threadgroup active group count activegroupcount enum erate enumerate groups thread group threadgroup group groups group group get name getname equals quartz scheduler quartzscheduler apache sling apachesling group destroy shutdown hook shutdownhook runnable main info java shutting main do stop dostop not ified notified not ifiable notifiable framework stopped calling code bundle code system bundle terminates sling standalone application stopped method called framework stopped calling system bundle framework stopped shutdown hook init ated initated shutdown ensure reference framework removed remove shutdown hook don care fails main info apache sling stopped main sling main do stop dostop framework stopped intent res tarted restarted calling code bundle update code methods system bundle code input stream inputstream code copied temporary file place existing launcher jar file param update file updatefile temporary file replace existing launcher jar file code code existing launcher jar updated file update file updatefile main sling main do stop dostop main cleanup threads cleanupthreads update file updatefile main info res tarting restarting framework apache sling main do start dostart main error failed restart sling terminating main terminatevm main info res tarting restarting framework update update file updatefile started started main do start dostart update file updatefile touri tourl malformedurlexception mue main error url file update file updatefile mue update file updatefile delete started main error failed restart sling terminating main terminatevm
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets post impl helper junit framework test case testcase org apache sling commons testing sling mock sling http servlet request mockslinghttpservletrequest media range list test mediarangelisttest test case testcase media range list mediarangelist range list rangelist set up setup exception set up setup range list rangelist media range list mediarangelist text text html text html level text html level test contains testcontains exception assert true asserttrue range list rangelist text html range list rangelist assert true asserttrue range list rangelist application json assert true asserttrue range list rangelist text plain test prefer testprefer exception assert equals assertequals text html level range list rangelist prefer text html level test prefer json testpreferjson media range list mediarangelist range list rangelist media range list mediarangelist text html application json assert equals assertequals application json range list rangelist prefer text html application json test http equiv param testhttpequivparam mock sling http servlet request mockslinghttpservletrequest req mock sling http servlet request mockslinghttpservletrequest override string get header getheader string equals media range list mediarangelist header accept text plain get header getheader override string get parameter getparameter string equals media range list mediarangelist param accept text html get parameter getparameter adapter type adaptertype adapter type adaptertype adapt to adaptto adapter type adaptertype type media range list mediarangelist range list rangelist media range list mediarangelist req assert true asserttrue media type query param range list rangelist text html assert false assertfalse contained media type overridden accept header range list rangelist text plain test invalid jdk accept header testinvalidjdkacceptheader header java client url connection urlconnection oracle jdk accept header acceptheader http open jdk openjdk java net jdk jdk gate jdk file src share classes sun net protocol http httpurlconnection java support media range mediarange parser bit linient string invalid header invalidheader text html image gif image jpeg mock sling http servlet request mockslinghttpservletrequest req mock sling http servlet request mockslinghttpservletrequest override string get header getheader string equals media range list mediarangelist header accept invalid header invalidheader get header getheader adapter type adaptertype adapter type adaptertype adapt to adaptto adapter type adaptertype type media range list mediarangelist range list rangelist media range list mediarangelist req assert true asserttrue media type query param range list rangelist text html
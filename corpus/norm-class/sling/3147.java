licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling bgservlets impl java io exception ioexception java util javax jcr session javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource login exception loginexception org apache sling api resource resource resolver resourceresolver org apache sling bgservlets background http servlet request backgroundhttpservletrequest org apache sling bgservlets background http servlet response backgroundhttpservletresponse org apache sling bgservlets job data jobdata org apache sling bgservlets job progress info jobprogressinfo org apache sling bgservlets job status jobstatus org apache sling bgservlets job storage jobstorage org apache sling bgservlets runtime state runtimestate org apache sling engine sling request processor slingrequestprocessor org slf logger org slf logger factory loggerfactory runnable executes filter chain filterchain servlet response wrapper servletresponsewrapper capture output background request execution job backgroundrequestexecutionjob runnable job status jobstatus runtime state runtimestate job progress info jobprogressinfo logger log logger factory loggerfactory get logger getlogger get class getclass http servlet request httpservletrequest request background http servlet response backgroundhttpservletresponse response suspend able output stream suspendableoutputstream stream resource resolver resourceresolver job processing resource resolver resourceresolver processing resource resolver processingresourceresolver resource resolver resourceresolver stats save processing output resource resolver resourceresolver output resource resolver outputresourceresolver sling request processor slingrequestprocessor sling request processor slingrequestprocessor string path string stream path streampath creation time creationtime estimated completion time estimatedcompletiontime string progress message progressmessage background request execution job backgroundrequestexecutionjob sling request processor slingrequestprocessor sling request processor slingrequestprocessor job storage jobstorage storage sling http servlet request slinghttpservletrequest request http servlet response httpservletresponse hsr string parameters to remove parameterstoremove io exception ioexception login exception loginexception request background http servlet request backgroundhttpservletrequest request parameters to remove parameterstoremove sling request processor slingrequestprocessor sling request processor slingrequestprocessor provide runtime state runtimestate background servlet request set attribute setattribute runtime state runtimestate get name getname resource resolver resourceresolver credentials current request background request processing resource resolver processingresourceresolver request get resource resolver getresourceresolver clone dedicated session response object output resource resolver outputresourceresolver request get resource resolver getresourceresolver clone job data jobdata defines path save servlet output repository session output session outputsession output resource resolver outputresourceresolver adapt to adaptto session output session outputsession io exception ioexception unable session resource resolver resourceresolver processing resource resolver processingresourceresolver job data jobdata storage create job data createjobdata output session outputsession string ext request get request path info getrequestpathinfo get extension getextension ext set property setproperty job data jobdata prop extension ext path get path getpath creation time creationtime get creation time getcreationtime stream path streampath get path getpath stream path suffix ext ext stream suspend able output stream suspendableoutputstream get output stream getoutputstream response background http servlet response backgroundhttpservletresponse hsr stream string to string tostring get class getclass get simple name getsimplename get state getstate path path sling request processor slingrequestprocessor process request processrequest request response processing resource resolver processingresourceresolver exception log error exception background request processing response cleanup io exception ioexception ioe log error servlet response wrapper servletresponsewrapper cleanup failed ioe cleanup resource resolve rs resolvers processing resource resolver processingresourceresolver close output resource resolver outputresourceresolver close inherit doc inheritdoc string get path getpath path inherit doc inheritdoc get state getstate stream get state getstate inherit doc inheritdoc request state change requeststatechange stream request state change requeststatechange inherit doc inheritdoc get allowed human state changes getallowedhumanstatechanges stream get allowed human state changes getallowedhumanstatechanges string get stream path getstreampath stream path streampath get creation time getcreationtime creation time creationtime inherit doc inheritdoc job progress info jobprogressinfo get progress info getprogressinfo inherit doc inheritdoc string get progress message getprogressmessage progress message progressmessage inherit doc inheritdoc get estimate d completion time getestimatedcompletiontime estimated completion time estimatedcompletiontime set estimate d completion time setestimatedcompletiontime estimated completion time estimatedcompletiontime set progress message setprogressmessage string str progress message progressmessage str
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models impl injectors org junit org mockito mockito java lang annotation annotation java lang reflect annotated element annotatedelement javax servlet http http servlet request httpservletrequest org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource resolver resourceresolver org apache sling models annotations default injection strategy defaultinjectionstrategy org apache sling models annotations model org apache sling models annotations injectorspecific org apache sling models impl model constructor parameter constructorparameter org apache sling models spi disposal callback registry disposalcallbackregistry org apache sling models spi injectorspecific static inject annotation processor factory staticinjectannotationprocessorfactory org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner run with runwith mockito unit runner mockitojunitrunner self injector test selfinjectortest self injector selfinjector injector self injector selfinjector mock sling http servlet request slinghttpservletrequest request mock annotated element annotatedelement annotated element annotatedelement mock model model annotation modelannotation mock disposal callback registry disposalcallbackregistry registry constructor parameter constructorparameter first constructor parameter firstconstructorparameter constructor parameter constructorparameter second constructor parameter secondconstructorparameter setup model annotation modelannotation default injection strategy defaultinjectionstrategy then return thenreturn default injection strategy defaultinjectionstrategy required first constructor parameter firstconstructorparameter constructor parameter constructorparameter annotation object object static inject annotation processor factory staticinjectannotationprocessorfactory second constructor parameter secondconstructorparameter constructor parameter constructorparameter annotation object object static inject annotation processor factory staticinjectannotationprocessorfactory test test matching class testmatchingclass assert same assertsame request injector get value getvalue request not relevant notrelevant sling http servlet request slinghttpservletrequest first constructor parameter firstconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request not relevant notrelevant sling http servlet request slinghttpservletrequest second constructor parameter secondconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request not relevant notrelevant sling http servlet request slinghttpservletrequest annotated element annotatedelement registry test test matching sub class testmatchingsubclass assert same assertsame request injector get value getvalue request not relevant notrelevant http servlet request httpservletrequest first constructor parameter firstconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request not relevant notrelevant http servlet request httpservletrequest second constructor parameter secondconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request not relevant notrelevant http servlet request httpservletrequest annotated element annotatedelement registry test test not matching class testnotmatchingclass assert null assertnull injector get value getvalue request not relevant notrelevant resource resolver resourceresolver first constructor parameter firstconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request not relevant notrelevant resource resolver resourceresolver second constructor parameter secondconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request not relevant notrelevant resource resolver resourceresolver annotated element annotatedelement registry test test with null name testwithnullname assert same assertsame request injector get value getvalue request sling http servlet request slinghttpservletrequest first constructor parameter firstconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request sling http servlet request slinghttpservletrequest second constructor parameter secondconstructorparameter get annotated element getannotatedelement registry assert null assertnull injector get value getvalue request sling http servlet request slinghttpservletrequest annotated element annotatedelement registry test test matching class with self annotation testmatchingclasswithselfannotation annotated element annotatedelement is annotation present isannotationpresent then return thenreturn object result injector get value getvalue request not relevant notrelevant sling http servlet request slinghttpservletrequest annotated element annotatedelement registry assert same assertsame request result test test not matching class with self annotation testnotmatchingclasswithselfannotation annotated element annotatedelement is annotation present isannotationpresent then return thenreturn object result injector get value getvalue request not relevant notrelevant resource resolver resourceresolver annotated element annotatedelement registry assert same assertsame request result
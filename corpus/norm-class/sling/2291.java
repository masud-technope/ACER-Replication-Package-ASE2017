licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl legacy org apache sling api resource queriable resource provider queriableresourceprovider lang uages languages org apache sling api resource resource provider resourceprovider owns roots org apache sling api resource resource provider resourceprovider roots org apache sling api resource resource provider resourceprovider resource access security org apache sling api resource resource provider factory resourceproviderfactory property required org apache sling commons osgi properties util propertiesutil to boolean toboolean org apache sling spi resource provider resource provider resourceprovider property adaptable org apache sling spi resource provider resource provider resourceprovider property attr ibutable attributable org apache sling spi resource provider resource provider resourceprovider property authenticate org apache sling spi resource provider resource provider resourceprovider property modifiable org apache sling spi resource provider resource provider resourceprovider property org apache sling spi resource provider resource provider resourceprovider property ref reshable refreshable org apache sling spi resource provider resource provider resourceprovider property root org apache sling spi resource provider resource provider resourceprovider property resource access security org osgi framework constants service pid org osgi framework constants service ranking java util array list arraylist java util dictionary java util hash map hashmap java util hashtable java util list java util map org apache commons lang array utils arrayutils org apache commons lang string utils stringutils org apache felix scr annotations component org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations references org apache sling api adapter adaptable org apache sling api resource attr ibutable resource provider attributableresourceprovider org apache sling api resource modifying resource provider modifyingresourceprovider org apache sling api resource refresh able resource provider refreshableresourceprovider org apache sling api resource resource provider resourceprovider org apache sling api resource resource provider factory resourceproviderfactory org apache sling api resource runtime dto auth type authtype org apache sling commons osgi properties util propertiesutil org osgi framework bundle context bundlecontext org osgi framework service reference servicereference org osgi framework service registration serviceregistration suppress warnings suppresswarnings deprecation component references reference resource provider resourceprovider reference interface referenceinterface resource provider resourceprovider cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic reference resource provider factory resourceproviderfactory reference interface referenceinterface resource provider factory resourceproviderfactory cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic legacy resource provider white board legacyresourceproviderwhiteboard string original service pid original service pid map object list service registration serviceregistration registrations hash map hashmap object list service registration serviceregistration bind resource provider bindresourceprovider service reference servicereference bundle context bundlecontext bundle context bundlecontext get bundle getbundle get bundle context getbundlecontext resource provider resourceprovider provider resource provider resourceprovider bundle context bundlecontext get service getservice string property names propertynames get property keys getpropertykeys owns root ownsroot to boolean toboolean get property getproperty owns roots list service registration serviceregistration new services newservices array list arraylist service registration serviceregistration string path properties util propertiesutil to string array tostringarray get property getproperty roots string dictionary string object new props newprops hashtable string object new props newprops property authenticate auth type authtype to string tostring new props newprops property modifiable provider modifying resource provider modifyingresourceprovider new props newprops property adaptable provider adaptable new props newprops property attr ibutable attributable provider attr ibutable resource provider attributableresourceprovider new props newprops property ref reshable refreshable provider refresh able resource provider refreshableresourceprovider new props newprops property provider get class getclass get name getname new props newprops property root normalize path normalizepath path array utils arrayutils property names propertynames service pid new props newprops original service pid get property getproperty service pid array utils arrayutils property names propertynames resource access security new props newprops property resource access security get property getproperty resource access security array utils arrayutils property names propertynames service ranking new props newprops service ranking get property getproperty service ranking string lang uages languages properties util propertiesutil to string array tostringarray get property getproperty lang uages languages string service registration serviceregistration reg bundle context bundlecontext register service registerservice org apache sling spi resource provider resource provider resourceprovider get name getname legacy resource provider adapter legacyresourceprovideradapter provider lang uages languages owns root ownsroot new props newprops new services newservices add reg registrations provider new services newservices unbind resource provider unbindresourceprovider resource provider resourceprovider provider map string object props service registration serviceregistration registrations remove provider unregister bind resource provider factory bindresourceproviderfactory service reference servicereference bundle context bundlecontext bundle context bundlecontext get bundle getbundle get bundle context getbundlecontext resource provider factory resourceproviderfactory factory resource provider factory resourceproviderfactory bundle context bundlecontext get service getservice string property names propertynames get property keys getpropertykeys owns root ownsroot to boolean toboolean get property getproperty owns roots list service registration serviceregistration new services newservices array list arraylist service registration serviceregistration string path properties util propertiesutil to string array tostringarray get property getproperty roots string dictionary string object new props newprops hashtable string object properties util propertiesutil to boolean toboolean get property getproperty property required new props newprops property authenticate auth type authtype required to string tostring new props newprops property authenticate auth type authtype lazy to string tostring new props newprops property modifiable new props newprops property adaptable new props newprops property attr ibutable attributable new props newprops property ref reshable refreshable new props newprops property factory get class getclass get name getname new props newprops property root normalize path normalizepath path array utils arrayutils property names propertynames service pid new props newprops original service pid get property getproperty service pid array utils arrayutils property names propertynames resource access security new props newprops property resource access security get property getproperty resource access security array utils arrayutils property names propertynames service ranking new props newprops service ranking get property getproperty service ranking string lang uages languages properties util propertiesutil to string array tostringarray get property getproperty lang uages languages string service registration serviceregistration reg bundle context bundlecontext register service registerservice org apache sling spi resource provider resource provider resourceprovider get name getname legacy resource provider factory adapter legacyresourceproviderfactoryadapter factory lang uages languages owns root ownsroot new props newprops new services newservices add reg registrations factory new services newservices unbind resource provider factory unbindresourceproviderfactory resource provider factory resourceproviderfactory factory map string object props service registration serviceregistration registrations remove factory unregister string normalize path normalizepath string path string result path result string utils stringutils remove end removeend path result result starts with startswith result result result
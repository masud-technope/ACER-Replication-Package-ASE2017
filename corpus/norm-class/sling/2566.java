licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery commons providers base org junit assert equals assertequals org junit assert false assertfalse org junit assert true asserttrue java util linked list linkedlist java util list java util random java util uuid java util concurrent semaphore java util concurrent locks lock java util concurrent locks reentrant lock reentrantlock org apache log level org apache log log manager logmanager org apache sling discovery topology event topologyevent org apache sling discovery commons providers base topology view basetopologyview org apache sling discovery commons providers default cluster view defaultclusterview org apache sling discovery commons providers default instance description defaultinstancedescription org apache sling discovery commons providers dummy topology view dummytopologyview org apache sling discovery commons providers event helper eventhelper org apache sling discovery commons providers spi cluster sync service clustersyncservice org junit org junit org junit test org slf logger org slf logger factory loggerfactory test view state manager testviewstatemanager logger logger logger factory loggerfactory get logger getlogger test view state manager testviewstatemanager cluster sync service with semaphore clustersyncservicewithsemaphore cluster sync service clustersyncservice semaphore semaphore lock lock cluster sync service with semaphore clustersyncservicewithsemaphore lock lock semaphore semaphore lock lock semaphore semaphore sync base topology view basetopologyview view runnable callback lock unlock logger info cluster sync service with semaphore clustersyncservicewithsemaphore sync acquiring lock semaphore acquire logger info cluster sync service with semaphore clustersyncservicewithsemaphore sync lock acquired lock lock callback interrupted exception interruptedexception print stack trace printstacktrace override cancel sync cancelsync todo implemented view state manager impl viewstatemanagerimpl mgr random default random defaultrandom level log level loglevel setup exception mgr view state manager impl viewstatemanagerimpl reentrant lock reentrantlock cluster sync service clustersyncservice sync base topology view basetopologyview view runnable callback callback override cancel sync cancelsync cancel auto randomness deterministic methods default random defaultrandom random org apache log logger discovery logger discoverylogger log manager logmanager get root logger getrootlogger get logger getlogger org apache sling discovery log level loglevel discovery logger discoverylogger get level getlevel discovery logger discoverylogger set level setlevel level info tear down teardown exception mgr release async event sender mgr handle deactivated handledeactivated mgr default random defaultrandom org apache log logger discovery logger discoverylogger log manager logmanager get root logger getrootlogger get logger getlogger org apache sling discovery discovery logger discoverylogger set level setlevel log level loglevel assert events assertevents dummy listener dummylistener listener topology event topologyevent events test helper testhelper assert events assertevents mgr listener events couple loops randomly calling handle changing handlechanging handle new view handlenewview note random passed custom izing customizing hardcoding method random interrupted exception interruptedexception random event loop randomeventloop random random dummy listener dummylistener listeners interrupted exception interruptedexception test helper testhelper random event loop randomeventloop mgr random listeners test test duplicate listeners testduplicatelisteners exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener gen erous generous duplicate registration mgr bind listener assert true asserttrue mgr unbind listener assert false assertfalse mgr unbind listener mgr handle activated handleactivated assert false assertfalse mgr unbind listener mgr bind listener gen erous generous duplicate registration mgr bind listener assert true asserttrue mgr unbind listener assert false assertfalse mgr unbind listener test test bind activate changing changed testbindactivatechangingchanged exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test bind changing activate changed testbindchangingactivatechanged exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test bind changing changed activate testbindchangingchangedactivate exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test bind changing changed changing activate testbindchangingchangedchangingactivate exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test bind changed changing activate testbindchangedchangingactivate exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test cancel sync testcancelsync exception list runnable sync callbacks synccallbacks linked list linkedlist runnable mgr view state manager impl viewstatemanagerimpl reentrant lock reentrantlock cluster sync service clustersyncservice sync base topology view basetopologyview view runnable callback sync callbacks synccallbacks sync callbacks synccallbacks add callback override cancel sync cancelsync sync callbacks synccallbacks sync callbacks synccallbacks clear mgr handle activated handleactivated dummy listener dummylistener listener dummy listener dummylistener mgr bind listener mgr handle changing handlechanging base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert equals assertequals mgr wait for async events waitforasyncevents test helper testhelper assert no events assertnoevents listener sync callbacks synccallbacks assert equals assertequals sync callbacks synccallbacks size string uuid randomuuid to string tostring string uuid randomuuid to string tostring base topology view basetopologyview view test helper testhelper new view newview mgr handle new view handlenewview view assert equals assertequals mgr wait for async events waitforasyncevents test helper testhelper assert no events assertnoevents listener sync callbacks synccallbacks assert equals assertequals sync callbacks synccallbacks size sync callbacks synccallbacks sync callbacks synccallbacks clear assert equals assertequals mgr wait for async events waitforasyncevents assert events assertevents listener event helper eventhelper new init event newinitevent view test test activate bind changing changed testactivatebindchangingchanged exception dummy listener dummylistener listener dummy listener dummylistener activate mgr handle activated handleactivated paranoia test helper testhelper assert no events assertnoevents listener bind mgr bind listener changing changed test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test properties changed testpropertieschanged exception dummy listener dummylistener listener dummy listener dummylistener mgr handle activated handleactivated mgr bind listener mgr handle changing handlechanging dummy topology view dummytopologyview old view oldview dummy topology view dummytopologyview add instance addinstance default instance description defaultinstancedescription local instance localinstance default instance description defaultinstancedescription old view oldview get local instance getlocalinstance local instance localinstance set property setproperty foo bar mgr handle new view handlenewview old view oldview topology event topologyevent init event initevent event helper eventhelper new init event newinitevent old view oldview clone assert events assertevents listener init event initevent dummy topology view dummytopologyview new view newview old view oldview clone old view oldview set not current setnotcurrent local instance localinstance default instance description defaultinstancedescription new view newview get local instance getlocalinstance local instance localinstance set property setproperty foo bar mgr handle new view handlenewview new view newview thread sleep topology event topologyevent properties changed event propertieschangedevent event helper eventhelper new properties changed event newpropertieschangedevent old view oldview clone new view newview clone assert events assertevents listener properties changed event propertieschangedevent test test activate changing bind changed testactivatechangingbindchanged exception dummy listener dummylistener listener dummy listener dummylistener activate mgr handle activated handleactivated paranoia test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging listener test helper testhelper assert no events assertnoevents listener bind mgr bind listener changed event test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test activate changing changed bind testactivatechangingchangedbind exception dummy listener dummylistener listener dummy listener dummylistener activate mgr handle activated handleactivated paranoia test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging listener test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view listener test helper testhelper assert no events assertnoevents listener bind mgr bind listener assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener test test bind activate bind changing changed testbindactivatebindchangingchanged exception dummy listener dummylistener listener dummy listener dummylistener dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener mgr bind listener test helper testhelper assert no events assertnoevents listener test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener listener test test bind activate changing bind changed testbindactivatechangingbindchanged exception dummy listener dummylistener listener dummy listener dummylistener dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener mgr bind listener test helper testhelper assert no events assertnoevents listener test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener listener test test activate bind changing duplicate handle new view testactivatebindchangingduplicatehandlenewview exception dummy listener dummylistener listener dummy listener dummylistener mgr handle activated handleactivated mgr bind listener mgr handle changing handlechanging dummy topology view dummytopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view mgr handle new view handlenewview dummy topology view dummytopologyview clone view test helper testhelper assert no events assertnoevents listener random event loop randomeventloop default random defaultrandom listener test test activate bind changing changed bind duplicate handle new view testactivatebindchangingchangedbindduplicatehandlenewview exception dummy listener dummylistener listener dummy listener dummylistener mgr handle activated handleactivated mgr bind listener mgr handle changing handlechanging dummy topology view dummytopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view dummy listener dummylistener listener dummy listener dummylistener mgr bind listener mgr handle new view handlenewview dummy topology view dummytopologyview clone view test helper testhelper assert no events assertnoevents listener assert events assertevents listener event helper eventhelper new init event newinitevent view random event loop randomeventloop default random defaultrandom listener listener test test activate changed bind duplicate handle new view testactivatechangedbindduplicatehandlenewview exception dummy listener dummylistener listener dummy listener dummylistener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener dummy topology view dummytopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view test helper testhelper assert no events assertnoevents listener mgr bind listener assert events assertevents listener event helper eventhelper new init event newinitevent view mgr handle new view handlenewview dummy topology view dummytopologyview clone view test helper testhelper assert no events assertnoevents listener random event loop randomeventloop default random defaultrandom listener test test bind activate changed changed testbindactivatechangedchanged exception dummy listener dummylistener listener dummy listener dummylistener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new changing event newchangingevent view event helper eventhelper new changed event newchangedevent view view random event loop randomeventloop default random defaultrandom listener test test bind activate changed deactivate changing activate changed testbindactivatechangeddeactivatechangingactivatechanged exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view mgr handle deactivated handledeactivated test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener bind deactivate mgr bind listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view test test bind activate changed deactivate changed activate changed testbindactivatechangeddeactivatechangedactivatechanged exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view mgr handle deactivated handledeactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view test helper testhelper assert no events assertnoevents listener bind deactivate mgr bind listener mgr handle activated handleactivated assert events assertevents listener event helper eventhelper new init event newinitevent view base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new changing event newchangingevent view event helper eventhelper new changed event newchangedevent view view test test bind activate changed changing deactivate activate changing changed testbindactivatechangedchangingdeactivateactivatechangingchanged exception dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view mgr handle changing handlechanging assert events assertevents listener event helper eventhelper new changing event newchangingevent view mgr handle deactivated handledeactivated test helper testhelper assert no events assertnoevents listener bind deactivate mgr bind listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener mgr handle changing handlechanging test helper testhelper assert no events assertnoevents listener base topology view basetopologyview view dummy topology view dummytopologyview add instance addinstance mgr handle new view handlenewview view assert events assertevents listener event helper eventhelper new init event newinitevent view test test cluster sync service testclustersyncservice no concurrency noconcurrency exception org apache log logger commons logger commonslogger log manager logmanager get root logger getrootlogger get logger getlogger org apache sling discovery commons providers org apache log level log level loglevel commons logger commonslogger get level getlevel change debug issues test commons logger commonslogger set level setlevel level info semaphore service semaphore servicesemaphore semaphore reentrant lock reentrantlock lock reentrant lock reentrantlock cluster sync service with semaphore clustersyncservicewithsemaphore cluster sync service with semaphore clustersyncservicewithsemaphore lock service semaphore servicesemaphore mgr view state manager impl viewstatemanagerimpl lock dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener string sling id slingid uuid randomuuid to string tostring string sling id slingid uuid randomuuid to string tostring string cluster id clusterid uuid randomuuid to string tostring default cluster view defaultclusterview cluster default cluster view defaultclusterview cluster id clusterid dummy topology view dummytopologyview view dummy topology view dummytopologyview add instance addinstance sling id slingid cluster add instance addinstance sling id slingid cluster async runnable mgr handle new view handlenewview view thread sleep test helper testhelper assert no events assertnoevents listener service semaphore servicesemaphore release thread sleep assert events assertevents listener event helper eventhelper new init event newinitevent view dummy topology view dummytopologyview view view clone mgr handle changing handlechanging assert events assertevents listener event helper eventhelper new changing event newchangingevent view view remove instance removeinstance sling id slingid async runnable mgr handle new view handlenewview view logger debug waiting thread sleep logger debug asserting events test helper testhelper assert no events assertnoevents listener logger debug releasing consistency service consistencyservice service semaphore servicesemaphore release logger debug waiting thread sleep logger debug asserting event assert events assertevents listener event helper eventhelper new changed event newchangedevent view view commons logger commonslogger set level setlevel level info async runnable runnable thread runnable start test test cluster sync service testclustersyncservice with concurrency withconcurrency exception org apache log logger commons logger commonslogger log manager logmanager get root logger getrootlogger get logger getlogger org apache sling discovery commons providers org apache log level log level loglevel commons logger commonslogger get level getlevel change debug issues test commons logger commonslogger set level setlevel level info semaphore service semaphore servicesemaphore semaphore semaphore test semaphore testsemaphore semaphore reentrant lock reentrantlock lock reentrant lock reentrantlock cluster sync service with semaphore clustersyncservicewithsemaphore cluster sync service with semaphore clustersyncservicewithsemaphore lock service semaphore servicesemaphore mgr view state manager impl viewstatemanagerimpl lock dummy listener dummylistener listener dummy listener dummylistener mgr bind listener test helper testhelper assert no events assertnoevents listener mgr handle activated handleactivated test helper testhelper assert no events assertnoevents listener string sling id slingid uuid randomuuid to string tostring string sling id slingid uuid randomuuid to string tostring string sling id slingid uuid randomuuid to string tostring string cluster id clusterid uuid randomuuid to string tostring default cluster view defaultclusterview cluster default cluster view defaultclusterview cluster id clusterid dummy topology view dummytopologyview view dummy topology view dummytopologyview add instance addinstance sling id slingid cluster add instance addinstance sling id slingid cluster add instance addinstance sling id slingid cluster dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view remove instance removeinstance sling id slingid dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view remove instance removeinstance sling id slingid remove instance removeinstance sling id slingid async runnable mgr handle new view handlenewview view thread sleep test helper testhelper assert no events assertnoevents listener assert equals assertequals thread waiting service semaphore servicesemaphore get queue length getqueuelength release service semaphore servicesemaphore release thread sleep assert events assertevents listener event helper eventhelper new init event newinitevent view mgr handle changing handlechanging assert equals assertequals mgr wait for async events waitforasyncevents assert events assertevents listener event helper eventhelper new changing event newchangingevent view async runnable mgr handle new view handlenewview view logger debug waiting thread sleep logger debug asserting events test helper testhelper assert no events assertnoevents listener assert equals assertequals thread waiting service semaphore servicesemaphore get queue length getqueuelength assert false assertfalse locked lock is locked islocked logger debug issuing event releasing issue event combination changing changed async runnable logger debug calling handle changing handlechanging mgr handle changing handlechanging logger debug handle changing handlechanging acquiring test semaphore testsemaphore test semaphore testsemaphore acquire logger debug calling handle new view handlenewview mgr handle new view handlenewview view logger debug handle new view handlenewview interrupted exception interruptedexception logger error int errupted interrupted logger debug waiting thread sleep remaining async events remainingasyncevents mgr wait for async events waitforasyncevents logger info result wait for async event waitforasyncevent remaining async events remainingasyncevents assert equals assertequals thread waiting service semaphore servicesemaphore get queue length getqueuelength assert equals assertequals acquiring thread test semaphore testsemaphore get queue length getqueuelength releasing test semaphore testsemaphore test semaphore testsemaphore release logger debug waiting thread sleep assert equals assertequals async events queue mgr wait for async events waitforasyncevents assert equals assertequals thread sitting semaphore waiting service semaphore servicesemaphore get queue length getqueuelength logger debug releasing consistency service consistencyservice release service semaphore servicesemaphore release logger debug waiting thread sleep assert false assertfalse locked lock is locked islocked triggered event test helper testhelper assert no events assertnoevents listener release service semaphore servicesemaphore release logger debug waiting thread sleep logger debug asserting event topology event topologyevent changed event changedevent event helper eventhelper new changed event newchangedevent view view assert events assertevents listener changed event changedevent commons logger commonslogger set level setlevel level info test test only differs in properties testonlydiffersinproperties exception org apache log logger discovery logger discoverylogger log manager logmanager get root logger getrootlogger get logger getlogger org apache sling discovery discovery logger discoverylogger set level setlevel level debug logger info test only differs in properties testonlydiffersinproperties start string sling id slingid uuid randomuuid to string tostring string sling id slingid uuid randomuuid to string tostring string sling id slingid uuid randomuuid to string tostring string cluster id clusterid uuid randomuuid to string tostring default cluster view defaultclusterview cluster default cluster view defaultclusterview cluster id clusterid dummy topology view dummytopologyview view dummy topology view dummytopologyview add instance addinstance sling id slingid cluster add instance addinstance sling id slingid cluster add instance addinstance sling id slingid cluster dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view remove instance removeinstance sling id slingid dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view remove instance removeinstance sling id slingid remove instance removeinstance sling id slingid dummy topology view dummytopologyview view cloned dummy topology view dummytopologyview clone view logger info test only differs in properties testonlydiffersinproperties handle new view handlenewview view mgr handle new view handlenewview view logger info test only differs in properties testonlydiffersinproperties handle activated handleactivated mgr handle activated handleactivated assert equals assertequals mgr wait for async events waitforasyncevents assert false assertfalse mgr only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view logger info test only differs in properties testonlydiffersinproperties handle new view handlenewview view mgr handle new view handlenewview view assert equals assertequals mgr wait for async events waitforasyncevents assert false assertfalse mgr only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view logger info test only differs in properties testonlydiffersinproperties handle new view handlenewview view mgr handle new view handlenewview view assert equals assertequals mgr wait for async events waitforasyncevents assert false assertfalse mgr only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view cloned dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view cloned dummy topology view dummytopologyview view dummy topology view dummytopologyview clone view cloned logger info test only differs in properties testonlydiffersinproperties handle new view handlenewview view clone d cloned mgr handle new view handlenewview view cloned assert equals assertequals mgr wait for async events waitforasyncevents default instance description defaultinstancedescription default instance description defaultinstancedescription view get instance getinstance sling id slingid set property setproperty logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert true asserttrue mgr only differs in properties onlydiffersinproperties view default instance description defaultinstancedescription default instance description defaultinstancedescription view get instance getinstance sling id slingid set property setproperty logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert true asserttrue mgr only differs in properties onlydiffersinproperties view dummy topology view dummytopologyview view cloned dummy topology view dummytopologyview clone view mgr handle new view handlenewview view assert equals assertequals mgr wait for async events waitforasyncevents logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view cloned assert false assertfalse mgr only differs in properties onlydiffersinproperties view cloned logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view default instance description defaultinstancedescription default instance description defaultinstancedescription view get instance getinstance sling id slingid set property setproperty logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert true asserttrue mgr only differs in properties onlydiffersinproperties view string original id originalid view get local cluster sync token id getlocalclustersynctokenid view set id setid uuid randomuuid to string tostring logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view view set id setid original id originalid logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert true asserttrue mgr only differs in properties onlydiffersinproperties view view set id setid logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view view set id setid original id originalid logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert true asserttrue mgr only differs in properties onlydiffersinproperties view hack modifying view view state manager impl viewstatemanagerimpl view set id setid view set id setid logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert true asserttrue mgr only differs in properties onlydiffersinproperties view view set id setid original id originalid logger info test only differs in properties testonlydiffersinproperties only differs in properties onlydiffersinproperties view assert false assertfalse mgr only differs in properties onlydiffersinproperties view
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling xing login impl java io exception ioexception java util dictionary java util hash map hashmap java util hashtable javax servlet http cookie javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache commons lang string utils stringutils org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations modified org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations service org apache sling core auth constants authconstants org apache sling core auth util authutil org apache sling core spi authentication handler authenticationhandler org apache sling core spi authentication info authenticationinfo org apache sling core spi default authentication feedback handler defaultauthenticationfeedbackhandler org apache sling xing login xing login xinglogin org apache sling commons osgi properties util propertiesutil org osgi framework constants org osgi framework service registration serviceregistration org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory component label apache sling authentication xing login â€œ authentication â€œauthentication handler â€ handlerâ€ description authentication handler sling authentication xing login metatype service properties property constants service vendor xing login xinglogin service vendor property constants service description authentication handler sling authentication xing login property constants service ranking int value intvalue property private propertyprivate property authentication handler authenticationhandler path property unbounded property unbounded propertyunbounded array property authentication handler authenticationhandler type property xing login xinglogin type property private propertyprivate xing login authentication handler xingloginauthenticationhandler default authentication feedback handler defaultauthenticationfeedbackhandler authentication handler authenticationhandler string consumer key consumerkey string xing cookie xingcookie string user cookie usercookie string user id cookie useridcookie max cookie size maxcookiesize string login path loginpath string logout path logoutpath service registration serviceregistration login page registration loginpageregistration string user cookie sling xing user string use rid userid cookie sling xing user id userid max cookie size property string consumer key parameter org apache sling xing login impl xing login authentication handler xingloginauthenticationhandler consumer key consumerkey property user cookie string user cookie parameter org apache sling xing login impl xing login authentication handler xingloginauthenticationhandler cookie user property use rid userid cookie string use rid userid cookie parameter org apache sling xing login impl xing login authentication handler xingloginauthenticationhandler cookie user id userid property int value intvalue max cookie size string max cookie size parameter org apache sling xing login impl xing login authentication handler xingloginauthenticationhandler cookie max size maxsize property string login path parameter org apache sling xing login impl xing login authentication handler xingloginauthenticationhandler login path property string log out logout path parameter org apache sling xing login impl xing login authentication handler xingloginauthenticationhandler logout path logger logger logger factory loggerfactory get logger getlogger xing login authentication handler xingloginauthenticationhandler xing login authentication handler xingloginauthenticationhandler activate activate component context componentcontext component context componentcontext logger debug activate configure component context componentcontext modified modified component context componentcontext component context componentcontext logger debug modified configure component context componentcontext deactivate deactivate component context componentcontext component context componentcontext logger debug deactivate login page registration loginpageregistration login page registration loginpageregistration unregister login page registration loginpageregistration configure component context componentcontext context dictionary properties context get properties getproperties consumer key consumerkey properties util propertiesutil to string tostring properties consumer key parameter trim user cookie usercookie properties util propertiesutil to string tostring properties user cookie parameter user cookie trim user id cookie useridcookie properties util propertiesutil to string tostring properties use rid userid cookie parameter use rid userid cookie trim max cookie size maxcookiesize properties util propertiesutil to integer tointeger properties max cookie size parameter max cookie size login path loginpath properties util propertiesutil to string tostring properties login path parameter trim logout path logoutpath properties util propertiesutil to string tostring properties log out logout path parameter trim string utils stringutils is empty isempty consumer key consumerkey logger warn configured consumer key empty xing cookie xingcookie xing cookie xingcookie xing login xinglogin xing cookie prefix concat consumer key consumerkey login page registration loginpageregistration login page registration loginpageregistration unregister string utils stringutils is empty isempty login path loginpath logger warn configured login path empty dictionary string object login path properties loginpathproperties hashtable string object string auth requirements authrequirements string concat login path loginpath login path properties loginpathproperties auth constants authconstants require ments requirements auth requirements authrequirements login page registration loginpageregistration context get bundle context getbundlecontext register service registerservice object get name getname object login path properties loginpathproperties string utils stringutils is empty isempty logout path logoutpath logger warn configured logout path empty logger info configured consumer key cookie login path logout path consumer key consumerkey xing cookie xingcookie login path loginpath logout path logoutpath hash xing cookie code xing code user data cookies code sling xing code param request param response override authentication info authenticationinfo extract credentials extractcredentials http servlet request httpservletrequest request http servlet response httpservletresponse response logger debug extract credentials string hash string user string user id userid cookie cookies request get cookies getcookies cookies cookie cookie cookies string cookie name cookiename cookie get name getname cookie name cookiename equals xing cookie xingcookie hash read cookie value readcookievalue cookie logger debug â€œ login â€œlogin xing â€ xingâ€ cookie hash cookie name cookiename equals user cookie usercookie user read cookie value readcookievalue cookie cookie name cookiename equals user id cookie useridcookie user id userid read cookie value readcookievalue cookie string utils stringutils is empty isempty hash string utils stringutils is empty isempty user id userid string utils stringutils is empty isempty user logger debug valid cookies hash user data authentication info authenticationinfo authentication info authenticationinfo authentication info authenticationinfo xing login xinglogin type user id userid authentication info authenticationinfo xing login xinglogin authentication credentials hash key hash authentication info authenticationinfo xing login xinglogin authentication credentials user data userdata key user authentication info authenticationinfo logger debug unable extract credentials request override request credentials requestcredentials http servlet request httpservletrequest request http servlet response httpservletresponse response io exception ioexception logger debug request credentials login path loginpath equals request get servlet path getservletpath string target request get context path getcontextpath concat login path loginpath logger debug redirecting target auth util authutil send redirect sendredirect request response target override drop credentials dropcredentials http servlet request httpservletrequest request http servlet response httpservletresponse response io exception ioexception logger debug drop credentials delete cookies delete cookies deletecookies request response redirect call java script javascript xing logout hash map hashmap string string params hash map hashmap string string logger debug redirecting logout path logoutpath auth util authutil send redirect sendredirect request response logout path logoutpath params string read cookie value readcookievalue cookie cookie cookie get value getvalue cookie get value getvalue length max cookie size maxcookiesize logger warn size cookie greater configured max cookie size max cookie size maxcookiesize cookie get value getvalue delete cookies deletecookies http servlet request httpservletrequest request http servlet response httpservletresponse response cookie cookies request get cookies getcookies cookies cookie cookie cookies string cookie get name getname logger debug cookie equals xing cookie xingcookie equals user cookie usercookie equals user id cookie useridcookie logger debug deleting cookie cookie get name getname cookie get value getvalue cookie set value setvalue cookie set max age setmaxage response add cookie addcookie cookie
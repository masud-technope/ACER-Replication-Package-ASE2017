licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons mime internal java io exception ioexception java input stream inputstream org apache sling commons mime mime type provider mimetypeprovider org apache sling commons mime internal mime type service impl mimetypeserviceimpl junit framework test case testcase code mime type service impl test mimetypeserviceimpltest code todo mime type service impl test mimetypeserviceimpltest test case testcase string image gif image gif string gif gif string unmapped gif unmapped gif string log log string txt txt string apt apt string text plain text plain mime type service impl mimetypeserviceimpl service override set up setup exception set up setup service mime type service impl mimetypeserviceimpl override tear down teardown exception service tear down teardown test no mapping testnomapping exception assert null assertnull service get mime type getmimetype file txt assert null assertnull service get mime type getmimetype txt assert null assertnull service get extension getextension text plain test txt mapping testtxtmapping exception service register mime type registermimetype text plain txt log apt string exts txt log apt string ext exts assert equals assertequals extension ext text plain service get mime type getmimetype file ext assert equals assertequals extension ext text plain service get mime type getmimetype ext assert equals assertequals text plain service get mime type getmimetype file txt to upper case touppercase assert equals assertequals text plain service get mime type getmimetype txt to upper case touppercase assert equals assertequals text plain service get mime type getmimetype file log to upper case touppercase assert equals assertequals text plain service get mime type getmimetype log to upper case touppercase assert null assertnull service get mime type getmimetype gif assert equals assertequals txt service get extension getextension text plain test file loading testfileloading exception load mime types loadmimetypes mime type service impl mimetypeserviceimpl core mime types load mime types loadmimetypes mime type service impl mimetypeserviceimpl mime types string exts txt log apt string ext exts assert equals assertequals extension ext text plain service get mime type getmimetype file ext assert equals assertequals extension ext text plain service get mime type getmimetype ext assert equals assertequals text plain service get mime type getmimetype file txt to upper case touppercase assert equals assertequals text plain service get mime type getmimetype txt to upper case touppercase assert equals assertequals text plain service get mime type getmimetype file log to upper case touppercase assert equals assertequals text plain service get mime type getmimetype log to upper case touppercase assert equals assertequals image gif service get mime type getmimetype gif assert null assertnull service get mime type getmimetype unmapped gif assert equals assertequals txt service get extension getextension text plain test provider testprovider exception mime type provider mimetypeprovider mtp create mime type provider createmimetypeprovider image gif gif assert null assertnull service get mime type getmimetype gif assert null assertnull service get extension getextension image gif service bind mime type provider bindmimetypeprovider mtp assert equals assertequals image gif service get mime type getmimetype gif assert equals assertequals gif service get extension getextension image gif service unbind mime type provider unbindmimetypeprovider mtp assert null assertnull service get mime type getmimetype gif assert null assertnull service get extension getextension image gif test provider testprovider exception mime type provider mimetypeprovider mtp create mime type provider createmimetypeprovider image gif gif service register mime type registermimetype image gif unmapped gif assert equals assertequals image gif service get mime type getmimetype unmapped gif assert equals assertequals unmapped gif service get extension getextension image gif assert null assertnull service get mime type getmimetype gif service bind mime type provider bindmimetypeprovider mtp assert equals assertequals image gif service get mime type getmimetype unmapped gif assert equals assertequals unmapped gif service get extension getextension image gif assert equals assertequals image gif service get mime type getmimetype gif service unbind mime type provider unbindmimetypeprovider mtp assert equals assertequals image gif service get mime type getmimetype unmapped gif assert equals assertequals unmapped gif service get extension getextension image gif assert null assertnull service get mime type getmimetype gif mime type provider mimetypeprovider create mime type provider createmimetypeprovider string type string ext mime type provider mimetypeprovider string get mime type getmimetype string to lower case tolowercase ends with endswith ext type string get extension getextension string mime type mimetype mime type mimetype mime type mimetype to lower case tolowercase equals type ext load mime types loadmimetypes string path io exception ioexception input stream inputstream ins get class getclass get resource as stream getresourceasstream path assert not null assertnotnull ins service register mime type registermimetype ins ins close io exception ioexception ignore
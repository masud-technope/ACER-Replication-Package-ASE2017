licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi context org junit assert equals assertequals org junit assert not null assertnotnull org junit assert same assertsame org mockito mockito mock java util hash map hashmap java util hash set hashset java util map java util org apache sling testing mock osgi no scr metadata exception noscrmetadataexception org apache sling testing mock osgi osgi service util test osgiserviceutiltest org apache sling testing mock osgi osgi service util test osgiserviceutiltest service interface serviceinterface org apache sling testing mock osgi osgi service util test osgiserviceutiltest service interface serviceinterface org junit org junit org junit test org osgi framework service reference servicereference osgi context impl test osgicontextimpltest osgi context impl osgicontextimpl context set up setup exception context osgi context impl osgicontextimpl context set up setup tear down teardown exception context tear down teardown test test context objects testcontextobjects assert not null assertnotnull context component context componentcontext assert not null assertnotnull context bundle context bundlecontext test test register service testregisterservice string my service myservice hash set hashset string context register service registerservice my service myservice service result serviceresult context get service getservice assert same assertsame my service myservice service result serviceresult test test register service with properties testregisterservicewithproperties map string object props hash map hashmap string object props prop string my service myservice hash set hashset string context register service registerservice my service myservice props service reference servicereference service reference servicereference context bundle context bundlecontext get service reference getservicereference get name getname object service result serviceresult context bundle context bundlecontext get service getservice service reference servicereference assert same assertsame my service myservice service result serviceresult assert equals assertequals service reference servicereference get property getproperty prop test test register multiple services testregistermultipleservices string my service myservice hash set hashset string context register service registerservice my service myservice string my service myservice hash set hashset string context register service registerservice my service myservice service results serviceresults context get services getservices assert same assertsame my service myservice service results serviceresults assert same assertsame my service myservice service results serviceresults test test register inject activate testregisterinjectactivate context register service registerservice service interface serviceinterface mock service interface serviceinterface context register service registerservice service interface serviceinterface mock service interface serviceinterface context register inject activate service registerinjectactivateservice osgi service util test osgiserviceutiltest service test expected runtime exception runtimeexception test register inject activate testregisterinjectactivate ref rence missing refrencemissing context register inject activate service registerinjectactivateservice osgi service util test osgiserviceutiltest service test expected no scr metadata exception noscrmetadataexception test register inject activate invalid testregisterinjectactivateinvalid context register inject activate service registerinjectactivateservice object
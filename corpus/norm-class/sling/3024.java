licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting xproc xpl java buffered reader bufferedreader java byte array output stream bytearrayoutputstream java input stream inputstream java input stream reader inputstreamreader java reader org apache sling scripting xproc xpl api step org custom monkey custommonkey xml unit xmlunit xml assert xmlassert org custom monkey custommonkey xml unit xmlunit xml unit xmlunit junit framework test case testcase xpl builder test xplbuildertest test case testcase override set up setup exception set up setup xml unit xmlunit set ignore comments setignorecomments xml unit xmlunit set ignore whitespace setignorewhitespace test build testbuild exception string xpl path xplpath xpl html xpl xpl builder xplbuilder builder xpl builder xplbuilder step pipeline builder build get reader from path getreaderfrompath xpl path xplpath string str control strcontrol to string tostring get class getclass get resource as stream getresourceasstream xpl path xplpath xml assert xmlassert assertxmlequal str control strcontrol pipeline to string tostring reader get reader from path getreaderfrompath string path exception input stream inputstream get class getclass get resource as stream getresourceasstream path reader reader buffered reader bufferedreader input stream reader inputstreamreader utf reader string to string tostring input stream inputstream ins exception byte array output stream bytearrayoutputstream bos byte array output stream bytearrayoutputstream buf ins read buf bos write buf bos close string bos to byte array tobytearray utf
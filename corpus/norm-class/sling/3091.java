licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource merger resourcemerger impl picker java util array list arraylist java util list java util map org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache sling api resource non existing resource nonexistingresource org apache sling api resource resource org apache sling api resource resource provider resourceprovider org apache sling api resource resource resolver resourceresolver org apache sling commons osgi properties util propertiesutil org apache sling resource merger resourcemerger api resource merger service resourcemergerservice org apache sling resource merger resourcemerger impl merged resource mergedresource org apache sling resource merger resourcemerger impl merged resource constants mergedresourceconstants org apache sling resource merger resourcemerger spi merged resource picker mergedresourcepicker component org apache sling resource merger resourcemerger impl merged resource provider factory mergedresourceproviderfactory label apache sling merged resource provider factory description resource provider del ivers delivers merged resources based search paths metatype service merged resource picker mergedresourcepicker resource merger service resourcemergerservice properties property merged resource picker mergedresourcepicker merge root merging resource picker mergingresourcepicker root label root description mount point merged resources property merged resource picker mergedresourcepicker read bool value boolvalue label read description specifies resources read modified merging resource picker mergingresourcepicker code merged resource provider factory mergedresourceproviderfactory code creates merged resource providers code resource merger service resourcemergerservice code merged resource picker mergedresourcepicker resource merger service resourcemergerservice string root mnt overlay string merge root path mergerootpath override list resource pick resources pickresources resource resolver resourceresolver resolver string relative path relativepath resource related resource relatedresource list resource related mapped resources relatedmappedresources related resource relatedresource merged resource mergedresource related mapped resources relatedmappedresources merged resource mergedresource related resource relatedresource get mapped resources getmappedresources check path related resource relatedresource get path getpath equals merge root path mergerootpath relative path relativepath related mapped resources relatedmappedresources list resource resources array list arraylist resource string search paths searchpaths resolver get search path getsearchpath search paths searchpaths length string base path basepath search paths searchpaths string full path fullpath base path basepath relative path relativepath base index baseindex resources size resource base resource baseresource related mapped resources relatedmappedresources related mapped resources relatedmappedresources size base index baseindex base resource baseresource related mapped resources relatedmappedresources base index baseindex resource resource base resource baseresource get from base resource getfrombaseresource resolver base resource baseresource full path fullpath resource resource resolver get resource getresource full path fullpath resource resource non existing resource nonexistingresource resolver full path fullpath resources add resource resources code code resolve resource link non existing resource nonexistingresource find resource resource get from base resource getfrombaseresource resource resolver resourceresolver resolver resource base resource baseresource string path resource resource string base resource path baseresourcepath base resource baseresource get path getpath check path child base resource path starts with startswith base resource path baseresourcepath string rel path relpath path substring base resource path baseresourcepath length resource base resource baseresource get child getchild rel path relpath check path direct parent base resource base resource path baseresourcepath starts with startswith path base resource path baseresourcepath last index of lastindexof path length resource base resource baseresource get parent getparent resources retrieval opt imised optimised resource resource non existing resource nonexistingresource resolver path override list resource pick resources pickresources resource resolver resourceresolver resolver string relative path relativepath pick resources pickresources resolver relative path relativepath inherit doc inheritdoc string get merged resource path getmergedresourcepath string relative path relativepath relative path relativepath illegal argument exception illegalargumentexception relative path relative path relativepath starts with startswith illegal argument exception illegalargumentexception path relative path merge root path mergerootpath relative path relativepath inherit doc inheritdoc resource get merged resource getmergedresource resource resource resource resource resolver resourceresolver resolver resource get resource resolver getresourceresolver string search paths searchpaths resolver get search path getsearchpath string search path prefix searchpathprefix search paths searchpaths resource get path getpath starts with startswith search path prefix searchpathprefix string search path searchpath search path prefix searchpathprefix substring search path prefix searchpathprefix length resolver get resource getresource resource get path getpath replace first replacefirst search path searchpath merge root path mergerootpath inherit doc inheritdoc is merged resource ismergedresource resource resource resource equals resource get resource metadata getresourcemetadata merged resource constants mergedresourceconstants metadata flag inherit doc inheritdoc string get resource path getresourcepath string search path searchpath string merged resource path mergedresourcepath search path searchpath search path searchpath starts with startswith search path searchpath ends with endswith illegal argument exception illegalargumentexception path valid search path search path searchpath merged resource path mergedresourcepath merged resource path mergedresourcepath starts with startswith merge root path mergerootpath illegal argument exception illegalargumentexception path point merged resource merged resource path mergedresourcepath search path searchpath merged resource path mergedresourcepath substring merge root path mergerootpath length activate configure map string object properties merge root path mergerootpath properties util propertiesutil to string tostring properties resource provider resourceprovider roots root
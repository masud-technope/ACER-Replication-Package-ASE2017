licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl mapping bloom filter util ities utilities bloom filter utils bloomfilterutils number bits needed stored element form ula formula http wikipedia org wiki bloom filter simplified fixed bit factor math log math pow math log create bloom filter array number elements param element count elementcount number entries param max bytes maxbytes maximum number bytes empty bloom filter create filter createfilter element count elementcount max bytes maxbytes bits element count elementcount bit factor math min max bytes maxbytes bits add key param bloom bloom filter param key key add bloom object key len bloom length len hash key hash code hashcode hash bloom len bloom len remove key param bloom bloom filter param key key remove bloom object key unsupported operation exception unsupportedoperationexception check key method returns key returns isn param bloom bloom filter param key key key probably contains probablycontains bloom object key len bloom length len hash key hash code hashcode bloom len hash bloom len hash key returned hash str etc hed stretched work bad hash code hashcode implementations param key key hash hash key hash key supplemental secondary hash function protect hash codes don differ hash hash hash hash hash hash hash hash hash hash
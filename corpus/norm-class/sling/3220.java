licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide transport impl java util array list arraylist java util list java util list iterator listiterator org apache sling ide transport batcher org apache sling ide transport command org apache sling ide util path util pathutil default batcher defaultbatcher batcher list command queue array list arraylist override add command command queue add command override list command linked commands linkedcommands batched linked commands linkedcommands list command result array list arraylist command cmd queue accepted batched add linked addlinked cmd accepted result add cmd result add all addall batched get reorders getreorders result add all addall batched get updates getupdates result add all addall batched get deletes getdeletes expected order delete add update reorder order queue clear result linked commands linkedcommands list command deletes array list arraylist list command updates array list arraylist list command reorders array list arraylist add linked addlinked command new cmd newcmd new cmd newcmd get kind getkind new cmd newcmd get kind getkind delete process delete processdelete new cmd newcmd add update process with path equality check processwithpathequalitycheck new cmd newcmd updates reorder children process with path equality check processwithpathequalitycheck new cmd newcmd reorders process delete processdelete command new cmd newcmd string path new cmd newcmd get path getpath list iterator listiterator command iterator deletes list iterator listiterator iterator has next hasnext ancestor deleted skip command old cmd oldcmd iterator path util pathutil is ancestor isancestor old cmd oldcmd get path getpath path delete ancestor resource deleted replace path util pathutil is ancestor isancestor path old cmd oldcmd get path getpath iterator new cmd newcmd matching deletions add deletes add new cmd newcmd process with path equality check processwithpathequalitycheck command new cmd newcmd list command old cmds oldcmds string path new cmd newcmd get path getpath command old cmd oldcmd old cmds oldcmds add update path skip path equals old cmd oldcmd get path getpath adds updates add old cmds oldcmds add new cmd newcmd list command get deletes getdeletes deletes list command get updates getupdates updates list command get reorders getreorders reorders
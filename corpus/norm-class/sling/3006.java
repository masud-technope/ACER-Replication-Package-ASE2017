licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling bgservlets impl java util collections java util hash map hashmap java util iterator java util map java util concurrent array blocking queue arrayblockingqueue java util concurrent blocking queue blockingqueue java util concurrent executor java util concurrent rejected execution handler rejectedexecutionhandler java util concurrent thread pool executor threadpoolexecutor java util concurrent time unit timeunit org apache felix scr annotations component org apache felix scr annotations property org apache felix scr annotations service org apache sling api sling exception slingexception org apache sling bgservlets execution engine executionengine org apache sling bgservlets job status jobstatus org apache sling bgservlets predicate org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory simple execution engine executionengine todo sling thread pool check synergies scheduler services component metatype label execution engine impl executionengineimpl label description execution engine impl executionengineimpl description service execution engine impl executionengineimpl execution engine executionengine logger log logger factory loggerfactory get logger getlogger get class getclass executor executor map string job status jobstatus jobs collections synchronized map synchronizedmap hash map hashmap string job status jobstatus property int value intvalue string prop core pool size core pool size core pool size corepoolsize property int value intvalue string prop max pool size max pool size maximum pool size maximumpoolsize property int value intvalue string prop alive time alive time seconds keep alive time seconds keepalivetimeseconds runnable wrapper runnablewrapper runnable runnable input job inputjob job status jobstatus job status jobstatus runnable wrapper runnablewrapper runnable input job inputjob input job inputjob input job inputjob job status jobstatus input job inputjob job status jobstatus job status jobstatus input job inputjob job status jobstatus job status jobstatus request state change requeststatechange job status jobstatus running log info starting job input job inputjob todo save exceptions job input job inputjob job status jobstatus log debug job cleaning job status jobstatus get path getpath job status jobstatus request state change requeststatechange job status jobstatus jobs remove job status jobstatus get path getpath log info running job input job inputjob job status jobstatus get job status getjobstatus job status jobstatus suppress warnings suppresswarnings serial queue full exception queuefullexception sling exception slingexception queue full exception queuefullexception runnable execution queue full execute get integer property getintegerproperty component context componentcontext ctx string integer integer ctx get properties getproperties illegal state exception illegalstateexception missing component context componentcontext property int value intvalue activate component context componentcontext context core pool size corepoolsize get integer property getintegerproperty context prop core pool size maximum pool size maximumpoolsize get integer property getintegerproperty context prop max pool size keep alive time seconds keepalivetimeseconds get integer property getintegerproperty context prop alive time time unit timeunit unit time unit timeunit seconds blocking queue blockingqueue runnable work queue workqueue array blocking queue arrayblockingqueue runnable rejected execution handler rejectedexecutionhandler handler rejected execution handler rejectedexecutionhandler rejected execution rejectedexecution runnable thread pool executor threadpoolexecutor executor on job rejected onjobrejected log info thread pool executor threadpoolexecutor configuration core pool size corepoolsize max pool size maxpoolsize keep alive time seconds keepalivetimeseconds object core pool size corepoolsize maximum pool size maximumpoolsize keep alive time seconds keepalivetimeseconds executor thread pool executor threadpoolexecutor core pool size corepoolsize maximum pool size maximumpoolsize keep alive time seconds keepalivetimeseconds unit work queue workqueue handler deactivate component context componentcontext context todo shutdown executor executor todo cleanup jobs on job rejected onjobrejected runnable runnable wrapper runnablewrapper runnable wrapper runnablewrapper get job status getjobstatus get job status getjobstatus request state change requeststatechange job status jobstatus rejected log info rejected job queue full exception queuefullexception queue for execution queueforexecution runnable input job inputjob wrap job runnable change execute runnable wrapper runnablewrapper runnable wrapper runnablewrapper input job inputjob get job status getjobstatus get job status getjobstatus request state change requeststatechange job status jobstatus queued jobs get job status getjobstatus get path getpath get job status getjobstatus executor execute job status jobstatus get job status getjobstatus string path jobs path iterator job status jobstatus get matching job status getmatchingjobstatus predicate job status jobstatus todo sort sub mission submission execution time jobs values iterator
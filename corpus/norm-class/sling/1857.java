licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl log java file java file writer filewriter java io exception ioexception java print writer printwriter java writer java util hash map hashmap java util map org apache sling engine request log requestlog code file request log filerequestlog code implementation link request log requestlog writing log messages plain file supports sharing files log format ters formatters internal map log files access code print writer printwriter code write file defined lifecycle ensure correct operation ensure log files open link request logger filter requestloggerfilter object calls link dispose deactivated note log file open moment log file moment link dispose method called development focus issues implement open write close cycle logging message close log files user closed log optimize str ategy strategy keeping files open time note code print writer printwriter code log message flushed log message written development implement buff ering buffering conjunction temporary open close cycles files file request log filerequestlog request log requestlog map shared open files print writer printwriter instances map string print writer printwriter log files logfiles hash map hashmap string print writer printwriter dispose closing open print weiter printweiter instances dispose writer log files logfiles values close io exception ioexception ioe log files logfiles clear print writer printwriter instance write messages print writer printwriter output file request log filerequestlog file log file logfile io exception ioexception log files logfiles string file name filename log file logfile get absolute path getabsolutepath output log files logfiles file name filename output log file logfile get parent file getparentfile mkdirs file writer filewriter file writer filewriter log file logfile output print writer printwriter log files logfiles file name filename output org apache sling engine request log requestlog write java lang string write string message local copy reference enc ounter encounter npe log closed asynchronously time req uiring requiring synchronization print writer printwriter writer output writer writer writer println message writer flush close drop reference output output
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr jackrabbit server impl org apache sling jcr jackrabbit server impl security pluggable default access manager pluggabledefaultaccessmanager org apache sling jcr jackrabbit server security access manager accessmanager access manager plugin factory accessmanagerpluginfactory org osgi framework bundle context bundlecontext org osgi framework service reference servicereference org osgi util tracker service tracker servicetracker org slf logger org slf logger factory loggerfactory java util hash set hashset java util tracks existence code access manager plugin factory accessmanagerpluginfactory code access manager factory tracker accessmanagerfactorytracker service tracker servicetracker access manager plugin factory accessmanagerpluginfactory factory bundle context bundlecontext bundle context bundlecontext pluggable default access manager pluggabledefaultaccessmanager consumers hash set hashset pluggable default access manager pluggabledefaultaccessmanager logger log logger factory loggerfactory get logger getlogger access manager factory tracker accessmanagerfactorytracker access manager factory tracker accessmanagerfactorytracker bundle context bundlecontext bundle context bundlecontext bundle context bundlecontext access manager plugin factory accessmanagerpluginfactory get name getname bundle context bundlecontext bundle context bundlecontext override object adding service addingservice service reference servicereference service reference servicereference log info access manager accessmanager service close sessions closesessions factory access manager plugin factory accessmanagerpluginfactory bundle context bundlecontext get service getservice service reference servicereference adding service addingservice service reference servicereference override removed service removedservice service reference servicereference service reference servicereference object log warn access manager accessmanager service removed factory close sessions closesessions removed service removedservice service reference servicereference close sessions closesessions log warn closing sessions copy consumers list avoid concurrent modification pluggable default access manager pluggabledefaultaccessmanager closing consumers closing hash set hashset pluggable default access manager pluggabledefaultaccessmanager consumers pluggable default access manager pluggabledefaultaccessmanager consumer closing consumer end session endsession throwable throwable log warn error closing pluggable default access manager pluggabledefaultaccessmanager throwable override modified service modifiedservice service reference servicereference service reference servicereference object log debug access manager accessmanager service modified modified service modifiedservice service reference servicereference factory access manager plugin factory accessmanagerpluginfactory access manager plugin factory accessmanagerpluginfactory get factory getfactory pluggable default access manager pluggabledefaultaccessmanager consumer log debug registering pluggable default access manager pluggabledefaultaccessmanager instance consumers consumers add consumer factory unregister pluggable default access manager pluggabledefaultaccessmanager consumer log debug unregistering pluggable default access manager pluggabledefaultaccessmanager instance consumers consumers remove consumer
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr content loader contentloader internal java io exception ioexception java input stream inputstream java util array list arraylist java util list javax jcr node javax jcr repository exception repositoryexception javax jcr session org apache felix scr annotations component org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations service org apache sling commons mime mime type service mimetypeservice org apache sling jcr content loader contentloader content import listener contentimportlistener org apache sling jcr content loader contentloader content importer contentimporter org apache sling jcr content loader contentloader content reader contentreader org apache sling jcr content loader contentloader content type util contenttypeutil org apache sling jcr content loader contentloader import options importoptions org osgi framework constants org slf logger org slf logger factory loggerfactory code default content importer defaultcontentimporter code implementation content importer contentimporter service providing functionality content content repository component service content importer contentimporter property constants service description apache sling jcr content service reference content reader white board contentreaderwhiteboard cardinality reference cardinality referencecardinality mandatory unary policy reference policy referencepolicy dynamic reference interface referenceinterface content reader white board contentreaderwhiteboard default content importer defaultcontentimporter base import loader baseimportloader content helper contenthelper content importer contentimporter mime type service mimetypeservice initial content initial content loader initialcontentloader resolve mime types files installed reference mime type service mimetypeservice mime type service mimetypeservice logger logger logger factory loggerfactory get logger getlogger default content importer defaultcontentimporter default content importer defaultcontentimporter javadoc org apache sling jcr content loader contentloader content importer contentimporter import content importcontent javax jcr node java lang string java input stream inputstream org apache sling jcr content loader contentloader import options importoptions org apache sling jcr content loader contentloader content import listener contentimportlistener import content importcontent node parent string filename input stream inputstream content stream contentstream import options importoptions import options importoptions content import listener contentimportlistener import listener importlistener repository exception repositoryexception io exception ioexception special treatment system view imports filename ends with endswith ext jcr xml import jcr xml importjcrxml parent filename content stream contentstream import options importoptions import listener importlistener default content creator defaultcontentcreator content creator contentcreator default content creator defaultcontentcreator string reader extension readerextension get content reader extension getcontentreaderextension filename string to plain name toplainname filename reader extension readerextension content reader contentreader content reader contentreader get content reader getcontentreader filename import options importoptions import content importcontent content creator contentcreator content reader contentreader parent content stream contentstream import options importoptions import listener importlistener import content importcontent node parent string string content type contenttype input stream inputstream content stream contentstream import options importoptions import options importoptions content import listener contentimportlistener import listener importlistener repository exception repositoryexception io exception ioexception special treatment system view imports content type util contenttypeutil type jcr xml equals ignore case equalsignorecase content type contenttype import jcr xml importjcrxml parent content stream contentstream import options importoptions import listener importlistener default content creator defaultcontentcreator content creator contentcreator default content creator defaultcontentcreator string extension content type util contenttypeutil get default extension getdefaultextension content type contenttype content reader contentreader content reader contentreader get content reader getcontentreader extension import options importoptions import content importcontent content creator contentcreator content reader contentreader parent content stream contentstream import options importoptions import listener importlistener import content importcontent default content creator defaultcontentcreator content creator contentcreator content reader contentreader content reader contentreader node parent string input stream inputstream content stream contentstream import options importoptions import options importoptions content import listener contentimportlistener import listener importlistener repository exception repositoryexception io exception ioexception list string created paths createdpaths array list arraylist string content creator contentcreator init import options importoptions get content read ers getcontentreaders created paths createdpaths import listener importlistener content creator contentcreator prepare parsing prepareparsing parent content reader contentreader parse content stream contentstream content creator contentcreator save session session parent get session getsession session save check in checkin version able versionable nodes node version able versionable content creator contentcreator get version ables getversionables version able versionable check in checkin import listener importlistener import listener importlistener on check in oncheckin version able versionable get path getpath import jcr xml importjcrxml node parent string input stream inputstream content stream contentstream import options importoptions import options importoptions content import listener contentimportlistener import listener importlistener io exception ioexception repository exception repositoryexception logger debug jcr xml replace import options importoptions import options importoptions is overwrite isoverwrite node node import jcr xml importjcrxml parent content stream contentstream replace node import listener importlistener import listener importlistener on create oncreate node get path getpath content helper contenthelper implementation javadoc org apache sling jcr content loader contentloader internal content helper contenthelper get mime type getmimetype java lang string string get mime type getmimetype string local copy npe check concurrent unbind mime type service mimetypeservice mts mime type service mimetypeservice mts mts get mime type getmimetype
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution serialization impl vlt javax annotation nonnull javax jcr repository exception repositoryexception javax jcr session java io exception ioexception java input stream inputstream org apache jackrabbit vault pack aging packaging jcr package jcrpackage org apache sling distribution distribution request type distributionrequesttype org apache sling distribution serialization distribution package distributionpackage org apache sling distribution serialization distribution package info distributionpackageinfo org apache sling distribution serialization impl abstract distribution package abstractdistributionpackage org slf logger org slf logger factory loggerfactory jcr package jcrpackage based link distribution package distributionpackage jcr vault distribution package jcrvaultdistributionpackage abstract distribution package abstractdistributionpackage distribution package distributionpackage logger log logger factory loggerfactory get logger getlogger get class getclass jcr package jcrpackage jcr package jcrpackage session session jcr vault distribution package jcrvaultdistributionpackage string type jcr package jcrpackage jcr package jcrpackage session session get id from package getidfrompackage jcr package jcrpackage type jcr package jcrpackage jcr package jcrpackage session session string paths string paths vlt utils vltutils get paths getpaths jcr package jcrpackage get definition getdefinition get meta inf getmetainf repository exception repositoryexception log error read paths get info getinfo distribution package info distributionpackageinfo property request paths paths get info getinfo distribution package info distributionpackageinfo property request type distribution request type distributionrequesttype add string get id from package getidfrompackage jcr package jcrpackage jcr package jcrpackage jcr package jcrpackage get package getpackage get id getid get name getname repository exception repositoryexception io exception ioexception nonnull input stream inputstream create input stream createinputstream io exception ioexception jcr package jcrpackage get data getdata get binary getbinary get stream getstream repository exception repositoryexception log error create input stream io exception ioexception close jcr package jcrpackage close delete vlt utils vltutils delete package deletepackage jcr package jcrpackage session save throwable log error delete
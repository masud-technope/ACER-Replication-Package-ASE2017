licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad base webapp org apache felix framework util felix constants felixconstants log level prop java io exception ioexception java net malformedurlexception java net url java util collections java util enumeration java util hash map hashmap java util iterator java util map java util javax servlet generic servlet genericservlet javax servlet servlet javax servlet servlet context servletcontext javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet response httpservletresponse org apache felix framework logger org apache felix http proxy proxy servlet proxyservlet org apache sling launchpad api launchpad content provider launchpadcontentprovider org apache sling launchpad base impl class loader resource provider classloaderresourceprovider org apache sling launchpad base impl sling org apache sling launchpad base shared launcher org apache sling launchpad base shared not ifiable notifiable org apache sling launchpad base shared shared constants sharedconstants org osgi framework bundle org osgi framework bundle exception bundleexception org osgi framework service event serviceevent org osgi framework service reference servicereference code sling servlet delegate slingservletdelegate code serves basic servlet project sling tasks servlet link init method launches apache code felix code osg i osgi framework implementation registers service listener int erested interested services type code javax servlet servlet code handles requests delegating servlet expected registered framework service type code javax servlet servlet code delegatee servlet registered request hand lings handlings temporary unavailability servlet request handling servlet handles request for warding forwarding delegatee servlet delegatee servlet automatically retrieved service registry link get delegate e getdelegatee method servlet exits throwing code unvailable exception unvailableexception code servlet initialized launch configuration apache code felix code framework requires configuration parameters startup servlet builds list parameters locations code sling properties code read servlet path properties file settings extensions servlet provide additional properties loaded over writing overwriting link load config properties loadconfigproperties string method web application init parameters properties overwrite existing properties loading properties variable substitution takes place property values variable code prop code code prop code system configuration property configuration properties override system properties variables nested resolved property code code resolved resolving code code resolving property cat enation catenation code code result resolving code code logging servlet logs servlet container logging mechanism calling code generic servlet genericservlet log code methods bundles launched framework servlet logging mechanism choose commons osgi log bundle osg i osgi log service implementation access apache commons logging slf log logging recommended bundle setup configure logging systems based servlet sling servlet delegate slingservletdelegate generic servlet genericservlet launcher pseduo version ide serialversionuid mapping log level numbers names string log levels loglevels fatal error warn info debug sling configuration property setting initial log level corresponds log back manager logbackmanager log level constant string prop log level org apache sling commons log level configuration property defining obr repository string obr repository url obr repository url flag link destroy method servlet destroyed flag link start sling startsling string method check sling servlet delegate slingservletdelegate destroyed sling starting servlet destroyed servletdestroyed osgi framework instance loaded link init stopped link destroy sling sling map delegatee servlets requests delegate d delegated map managed link service changed servicechanged service event serviceevent service listener based servlets registered get delegate e getdelegatee unget delegate e ungetdelegatee object servlet delegatee not ifiable notifiable not ifiable notifiable map string string properties string sling home slinghome override set not ifiable setnotifiable not ifiable notifiable not ifiable notifiable not ifiable notifiable not ifiable notifiable override set command line setcommandline map string string args properties args override set sling home setslinghome string sling home slinghome sling home slinghome sling home slinghome override start log don start override destroy initializes servlet loading framework configuration properties starting osg i osgi framework apache felix exp osing exposing system bundle context code felix code instance servlet context attributes servlet exception servletexception framework initialized override init servlet exception servletexception temporary holders control setup ensure proper disposal setup errors sling tmp sling tmpsling servlet tmp delegate e tmpdelegatee log starting apache sling sling home slinghome read parameters map string string props load config properties loadconfigproperties sling home slinghome logger logger servlet context logger servletcontextlogger get servlet context getservletcontext launchpad content provider launchpadcontentprovider servlet context resource provider servletcontextresourceprovider get servlet context getservletcontext tmp sling tmpsling sling bridge slingbridge get sling bridge getslingbridge not ifiable notifiable logger props get servlet context getservletcontext osg i osgi http service httpservice proxy servlet tmp delegate e tmpdelegatee proxy servlet proxyservlet tmp delegate e tmpdelegatee init get servlet config getservletconfig destroyed clause servlet destroyed servletdestroyed log sling servlet delegate slingservletdelegate destroyed starting apache sling shutting apache sling fields sling tmp sling tmpsling delegatee tmp delegate e tmpdelegatee reset temporary holders prevent dest royal destroyal tmp sling tmpsling tmp delegate e tmpdelegatee log apache sling started sling home slinghome bundle exception bundleexception servlet exception servletexception failed start apache sling sling home slinghome servlet exception servletexception servlet exception servletexception failed start bridge servlet apache sling throwable servlet exception servletexception uncaught failure starting apache sling clean temporary fields tmp delegate e tmpdelegatee tmp delegate e tmpdelegatee destroy tmp sling tmpsling tmp sling tmpsling destroy services request delegating delegatee servlet delegatee servlet code unavailable exception unavailableexception code thrown param req code servlet request servletrequest code object client request param res code servlet response servletresponse code object servlet response javax servlet unavailable exception unavailableexception delegatee servlet servlet exception servletexception exception occurs int erferes interferes servlet normal operation occurred io exception ioexception input output exception occurs override service servlet request servletrequest req servlet response servletresponse res servlet exception servletexception io exception ioexception delegate request registered delegatee servlet servlet delegatee get delegate e getdelegatee delegatee http servlet response httpservletresponse res send error senderror http servlet response httpservletresponse delegatee service req res dest roys destroys servlet shutting osg i osgi framework delegatee servlet override destroy destroyed flag signal start sling startsling method sling terminated servlet destroyed servletdestroyed destroy delegatee delegatee delegatee destroy delegatee shutdown felix container sling sling destroy sling call base destroy method destroy servlet get delegate e getdelegatee delegatee configuration loading loads configuration properties configuration property file framework installation properties accessible framework bundles intended configuration purposes configuration property file located conf directory felix installation directory called config properties installation directory felix assumed parent directory felix jar file system path property precise file load configuration properties initial izing initializing felix config properties system property arbitrary url param sling home slinghome sling property returned map parameter expected code code properties instance map string string load config properties loadconfigproperties string sling home slinghome config properties file system property directory felix jar file load places map string string props hash map hashmap string string property start comma string servlet version servletversion get servlet context getservletcontext get major version getmajorversion get servlet context getservletcontext get minor version getminorversion string packages javax servlet javax servlet http javax servlet resources get servlet context getservletcontext get major version getmajorversion servlet adds packages export packages packages version packages javax servlet annotation javax servlet descriptor props sling prop system packages packages version servlet version servletversion prevent system properties considered props sling sling ignore system properties properties props put all putall properties copy context init parameters suppress warnings suppresswarnings unchecked enumeration string cpe get servlet context getservletcontext get init parameter names getinitparameternames cpe has more elements hasmoreelements string cpe next element nextelement props get servlet context getservletcontext get init parameter getinitparameter copy servlet init parameters suppress warnings suppresswarnings unchecked enumeration string get init parameter names getinitparameternames has more elements hasmoreelements string next element nextelement props get init parameter getinitparameter ensure felix logger log level loglevel matches sling log level check log settings checklogsettings props obr location url starts assume location webapp create correct full url string repo location repolocation props obr repository url inside webapp insidewebapp repo location repolocation url url get url geturl repo location repolocation resource url update url props obr repository url url to external form toexternalform sling props shared constants sharedconstants sling sling home slinghome ensure sling launchpad props contains key containskey shared constants sharedconstants sling launchpad props shared constants sharedconstants sling launchpad sling home slinghome props check log settings checklogsettings map string string props string log level string loglevelstring props prop log level log level string loglevelstring log level loglevel log level loglevel integer parse int parseint log level string loglevelstring number format exception numberformatexception nfe log levels loglevels length log levels loglevels equals ignore case equalsignorecase log level string loglevelstring log level loglevel props log level prop string value of valueof log level loglevel inside webapp insidewebapp string path path path index of indexof path starts with startswith url get url geturl string path get servlet context getservletcontext get resource getresource path malformedurlexception servlet context logger servletcontextlogger logger servlet context servletcontext servlet context servletcontext servlet context logger servletcontextlogger servlet context servletcontext servlet context servletcontext servlet context servletcontext servlet context servletcontext override do log dolog bundle bundle service reference servicereference level string msg throwable throwable unwind throwable bundle exception bundleexception throwable bundle exception bundleexception bundle exception bundleexception throwable get nested exception getnestedexception throwable bundle exception bundleexception throwable get nested exception getnestedexception string svc ref svcref bundle bundle get bundle id getbundleid msg msg throwable throwable level log debug servlet context servletcontext log debug log error throwable servlet context servletcontext log error servlet context servletcontext log error throwable log info servlet context servletcontext log info log warning servlet context servletcontext log warning servlet context servletcontext log unknown level servlet context resource provider servletcontextresourceprovider class loader resource provider classloaderresourceprovider root folder internal web application files web inf string web inf web inf servlet context servletcontext servlet context servletcontext servlet context resource provider servletcontextresourceprovider servlet context servletcontext servlet context servletcontext sling servlet delegate slingservletdelegate get class loader getclassloader servlet context servletcontext servlet context servletcontext suppress warnings suppresswarnings unchecked override iterator string get children getchildren string path ensure leading slash path char at charat path path suppress warnings suppresswarnings rawtypes unchecked resources servlet context servletcontext get resource paths getresourcepaths path resources resources is empty isempty unchecked resources servlet context servletcontext get resource paths getresourcepaths web inf path suppress warnings suppresswarnings rawtypes iterator resource iterator resourceiterator resources resources is empty isempty fall path resource iterator resourceiterator get children getchildren path resource iterator resourceiterator has next hasnext resource iterator resourceiterator fall web inf path resource iterator resourceiterator get children getchildren web inf path resource iterator resourceiterator has next hasnext resource iterator resourceiterator resources collections empty list iterator unchecked resources iterator override url get resource getresource string path empty path path path length ensure leading slash path char at charat path path direct path url resource servlet context servletcontext get resource getresource path resource resource web inf location resource servlet context servletcontext get resource getresource web inf path resource resource classpath resource get resource getresource path resource resource web inf classpath resource get resource getresource web inf path resource resource malformedurlexception mue servlet context servletcontext log failure resource path mue fall resource
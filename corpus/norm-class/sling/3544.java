licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling crankstart launcher java buffered reader bufferedreader java file java file reader filereader java io exception ioexception java reader java lang reflect invocation target exception invocationtargetexception java lang reflect method java net malformedurlexception java net url java net url class loader urlclassloader java util array list arraylist java util list java util map java util sorted set sortedset java util tree set treeset java util concurrent callable org apache sling provisioning model artifact org apache sling provisioning model artifact group artifactgroup org apache sling provisioning model feature org apache sling provisioning model model org apache sling provisioning model model utility modelutility org apache sling provisioning model model utility modelutility variable resolver variableresolver org apache sling provisioning model run mode runmode org apache sling provisioning model model reader modelreader org slf logger org slf logger factory loggerfactory launch osg i osgi app instance sling provisioning model launcher model model model logger log logger factory loggerfactory get logger getlogger launcher string crankstart feature crankstart string model key model string framework key framework string variable override prefix crankstart model overriding model variables system properties variable resolver variableresolver overriding variable resolver overridingvariableresolver variable resolver variableresolver override string resolve feature string variable name variablename string override key overridekey variable override prefix variable name variablename string sys prop sysprop system get property getproperty override key overridekey sys prop sysprop get variables getvariables variable name variablename log info overriding model variable system property variable name variablename sys prop sysprop override key overridekey sys prop sysprop feature filter featurefilter crankstart filter feature filter featurefilter override ignore feature ignorefeature feature launcher crankstart feature equals get name getname feature filter featurefilter crankstart filter feature filter featurefilter override ignore feature ignorefeature feature launcher crankstart feature equals get name getname launcher string args exception maven resolver mavenresolver setup find files read sort list deterministic sorted set sortedset file to read toread tree set treeset file string args file file is directory isdirectory string list list string list to read toread add file to read toread add merge model files file to read toread merge model mergemodel compute effective model computeeffectivemodel compute effective model computeeffectivemodel exception nested models merger nestedmodelsmerger model visit model model utility modelutility get effective model geteffectivemodel model overriding variable resolver overridingvariableresolver model get model getmodel model called launch read merge additional models param provisioning model read closed method reading merge model mergemodel model merge into mergeinto reader string source info sourceinfo io exception ioexception log info merging provisioning model source info sourceinfo model model reader modelreader read source info sourceinfo model utility modelutility merge merge into mergeinto close called launch read merge additional models merge model mergemodel file io exception ioexception merge model mergemodel model buffered reader bufferedreader file reader filereader get absolute path getabsolutepath launch exception setup initial classpath launch osg i osgi framework url getclasspathurls model crankstart feature add to classpath addtoclasspath load framework setup frameworksetup avoid references osg i osgi classes loaded callable callable get class getclass get class loader getclassloader load class loadclass org apache sling crankstart launcher framework setup frameworksetup new instance newinstance suppress warnings suppresswarnings unchecked map string object cmap map string object cmap model key model call hacky add ur ls urls system class loader classloader based http stack overflow stackoverflow questions load jars dynamically runtime add to classpath addtoclasspath url io exception ioexception no such method exception nosuchmethodexception security exception securityexception illegal access exception illegalaccessexception illegal argument exception illegalargumentexception invocation target exception invocationtargetexception url class loader urlclassloader sys loader sysloader url class loader urlclassloader class loader classloader get system class loader getsystemclassloader method url class loader urlclassloader get declared method getdeclaredmethod addurl url set accessible setaccessible invoke sys loader sysloader object log info classpath convert model feature ur ls urls meant setup url class loader urlclassloader list url getclasspathurls model string feature name featurename malformedurlexception list url result array list arraylist url add ur ls urls special feature classpath feature get feature getfeature feature name featurename log warn feature provisioning model add classpath feature name featurename run mode runmode get run modes getrunmodes artifact group artifactgroup get artifact groups getartifactgroups artifact string url maven resolver mavenresolver mvn url mvnurl result add url url malformedurlexception malformedurlexception malformedurlexception invalid url url init cause initcause result main string args exception args length system err println usage launcher get simple name getsimplename provisioning model provisioning model system err println provisioning model sling provisioning model file system err println folder oseveral system exit launcher args launch
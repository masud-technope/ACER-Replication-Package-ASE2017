licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons content detection contentdetection internal org apache sling commons content detection contentdetection file name extractor filenameextractor org junit org junit test file name extractor impl test filenameextractorimpltest string default encoding defaultencoding file name extractor impl filenameextractorimpl get default encoding getdefaultencoding file name extractor filenameextractor file name extractor filenameextractor file name extractor impl filenameextractorimpl string get default encoding getdefaultencoding default encoding defaultencoding test test extract testextract exception string raw path rawpath http mid ches midches images uploads demo jpg anchor query test string expected file name expectedfilename demo jpg assert equals assertequals expected file name expectedfilename file name extractor filenameextractor extract raw path rawpath test test back slash path testbackslashpath exception string raw path rawpath test windows path demo jpg string expected file name expectedfilename demo jpg assert equals assertequals expected file name expectedfilename file name extractor filenameextractor extract raw path rawpath test testdecodedurl string raw path rawpath http demo test jpg test string expected file name expectedfilename demo test jpg assert equals assertequals expected file name expectedfilename file name extractor filenameextractor extract raw path rawpath test test invalid encoding testinvalidencoding no such field exception nosuchfieldexception security exception securityexception illegal argument exception illegalargumentexception illegal access exception illegalaccessexception string raw path rawpath http demo test jpg test string old encoding oldencoding default encoding defaultencoding string bad encoding badencoding invalid encoding default encoding defaultencoding bad encoding badencoding file name extractor filenameextractor extract raw path rawpath fail expected exception encoding default encoding defaultencoding runtime exception runtimeexception string msg get message getmessage assert true asserttrue expected exception message bad encoding badencoding msg msg bad encoding badencoding default encoding defaultencoding old encoding oldencoding
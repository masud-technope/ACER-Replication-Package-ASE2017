licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper xml parser xmlparser java input stream inputstream java io exception ioexception java reader reader ucs ucs encodings encodings iso ucs author neil graham ibm version ucs reader ucsreader java mark t markt ucs reader ucsreader reader org apache juli logging log log org apache juli logging log factory logfactory get log getlog ucs reader ucsreader constants buffer size larger ascii reader asciireader reason able reasonable surmise average ucs encoded file times large average ascii encoded file buffer size ucs ucs ucs ucs data input stream input stream inputstream f input stream finputstream buffer f buffer fbuffer kind data dealing f encoding fencoding constructs ascii reader input stream buffer size endian ness ucs ucs advance param input stream inputstream input stream param encoding ucs ucs ucs ucs ucs reader ucsreader input stream inputstream input stream inputstream encoding input stream inputstream buffer size encoding constructs ascii reader input stream buffer size endian ness ucs ucs advance param input stream inputstream input stream param size initial buffer size param encoding ucs ucs ucs ucs ucs reader ucsreader input stream inputstream input stream inputstream size encoding f input stream finputstream input stream inputstream f buffer fbuffer size f encoding fencoding encoding init input stream inputstream reader methods read single character method block character error occurs stream reached subclasses int end intend support efficient single character input override method character read int eger integer range stream reached exception io exception ioexception error occurs read io exception ioexception f input stream finputstream read xff xff f input stream finputstream read xff xff f encoding fencoding f input stream finputstream read xff xff f input stream finputstream read xff xff log is debug enabled isdebugenabled log debug xff xff xff xff f encoding fencoding ucs ucs f encoding fencoding ucs read read characters portion array method block input error occurs stream reached param destination buffer param offset offset start storing characters param length maximum number characters read number characters read stream reached exception io exception ioexception error occurs read offset length io exception ioexception byte length bytelength length f encoding fencoding byte length bytelength f buffer fbuffer length byte length bytelength f buffer fbuffer length count f input stream finputstream read f buffer fbuffer byte length bytelength count count multiple number bytes f encoding fencoding big endian bigendian ugly avoids rate num to read numtoread count num to read numtoread char read charread f input stream finputstream read char read charread input wrong pad buffer nulls num to read numtoread f buffer fbuffer count f buffer fbuffer count char read charread count num to read numtoread num to read numtoread count num to read numtoread count char read charread f input stream finputstream read char read charread input wrong pad buffer nulls f buffer fbuffer count f buffer fbuffer count char read charread count multiple number bytes num chars numchars count f encoding fencoding cur pos curpos num chars numchars f buffer fbuffer cur pos curpos xff f buffer fbuffer cur pos curpos xff f encoding fencoding f buffer fbuffer cur pos curpos xff f buffer fbuffer cur pos curpos xff f encoding fencoding ucs offset offset ucs f encoding fencoding ucs offset offset num chars numchars read skip characters method block characters error occurs stream reached param number characters skip number characters skipped exception io exception ioexception error occurs skip io exception ioexception char width charwidth represent number bits move left war d leftward num bytes skip move result right war d rightward num chars effectively skipped trick ing dcode intended avoid expensive optimized char width charwidth f encoding fencoding bytes skipped bytesskipped f input stream finputstream skip char width charwidth bytes skipped bytesskipped char width charwidth bytes skipped bytesskipped char width charwidth bytes skipped bytesskipped char width charwidth skip stream ready read read guaranteed block input note returning guarantee read block exception io exception ioexception error occurs ready io exception ioexception ready stream supports mark operation mark supported marksupported f input stream finputstream mark supported marksupported mark supported marksupported mark position stream sub sequent subsequent calls reset attempt reposition stream point character input str eams streams support mark operation param read ahead limit readaheadlimit limit number characters read preserving mark reading characters attempting reset stream fail exception io exception ioexception stream support mark error occurs mark read ahead limit readaheadlimit io exception ioexception f input stream finputstream mark read ahead limit readaheadlimit mark reset stream stream marked attempt reposition mark stream marked attempt reset stream repos itioning repositioning starting point character input str eams streams support reset operation support reset supporting mark exception io exception ioexception stream marked mark invalid ated invalidated stream support reset error occurs reset io exception ioexception f input stream finputstream reset reset close stream stream closed read ready mark reset invocations io exception ioexception closing closed stream exception io exception ioexception error occurs close io exception ioexception f input stream finputstream close close ucs reader ucsreader
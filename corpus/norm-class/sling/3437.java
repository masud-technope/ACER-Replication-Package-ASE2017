licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling provisioning model org junit assert array equals assertarrayequals org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull java string reader stringreader java string writer stringwriter java util array list arraylist java util list java util map org apache sling provisioning model configuration org apache sling provisioning model feature org apache sling provisioning model model org apache sling provisioning model model utility modelutility org apache sling provisioning model trace able traceable org apache sling provisioning model org junit test read merge test models write read verify result stages io test iotest test test read write testreadwrite exception model result read complete test model readcompletetestmodel verify test model verifytestmodel result write merged raw model string writer stringwriter writer string writer stringwriter model writer modelwriter write writer result writer close read string reader stringreader reader string reader stringreader writer to string tostring model read model readmodel model reader modelreader read reader memory reader close map trace able traceable string read errors readerrors model utility modelutility validate read model readmodel read errors readerrors exception invalid read model read errors readerrors verify result verify test model verifytestmodel read model readmodel resolve variables verify result model effective model utility modelutility get effective model geteffectivemodel read model readmodel verify test model verifytestmodel effective write effective model writer string writer stringwriter model writer modelwriter write writer effective writer close reader string reader stringreader writer to string tostring model read model readmodel model reader modelreader read reader memory reader close map trace able traceable string read errors readerrors model utility modelutility validate read model readmodel read errors readerrors exception invalid read model read errors readerrors verify result verify test model verifytestmodel read model readmodel test test multiline configuration testmultilineconfiguration exception model model utility modelutility get effective model geteffectivemodel read complete test model readcompletetestmodel string config admin configadmin txt list configuration configs array list arraylist configuration configuration get feature getfeature config admin configadmin get run mode getrunmode get configurations getconfigurations configs add assert equals assertequals configs size configuration cfg a cfga configs assert equals assertequals org apache test cfg a cfga get pid getpid assert null assertnull cfg a cfga get factory pid getfactorypid assert equals assertequals cfg a cfga get properties getproperties size assert equals assertequals cfg a cfga get properties getproperties configuration cfg b cfgb configs assert equals assertequals org apache test cfg b cfgb get pid getpid assert null assertnull cfg b cfgb get factory pid getfactorypid assert equals assertequals cfg b cfgb get properties getproperties size assert equals assertequals cfg b cfgb get properties getproperties assert array equals assertarrayequals string string cfg b cfgb get properties getproperties array configuration cfg c cfgc configs assert equals assertequals org apache test cfg c cfgc get pid getpid assert null assertnull cfg c cfgc get factory pid getfactorypid assert equals assertequals cfg c cfgc get properties getproperties size assert equals assertequals cfg c cfgc get properties getproperties assert array equals assertarrayequals integer integer cfg c cfgc get properties getproperties array test test add ition testaddition exception model model read complete test model readcompletetestmodel string additional txt feature model get feature getfeature main assert not null assertnotnull assert equals assertequals get additional sections getadditionalsections size assert equals assertequals get additional sections getadditionalsections additional size
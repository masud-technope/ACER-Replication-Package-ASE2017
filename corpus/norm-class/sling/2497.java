licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest indexing org junit assert false assertfalse java input stream inputstream java net url encoder urlencoder java util array list arraylist java util collection java util list org apache sling commons json json array jsonarray org apache sling commons json json object jsonobject org apache sling commons testing int egration integration http test httptest org apache sling testing tools retry retry loop retryloop org apache sling testing tools retry retry loop retryloop condition org junit org junit org junit test org junit runner run with runwith org junit run ners runners parameterized org junit run ners runners parameterized parameters full text indexing test fulltextindexingtest verifies pdf file uploaded contents indexed full text searches paths run with runwith parameterized full text indexing test fulltextindexingtest http test httptest http test httptest string upload path uploadpath string file name filename string expected text expectedtext parameters collection object data list object result array list arraylist object result add object lorem ipsum pdf exc epteur excepteur tmp test result add object pdf text search test result add object french pdf autre pdf pour test full text fulltext libs test result full text indexing test fulltextindexingtest string filename string expected text expectedtext string upload path prefix uploadpathprefix file name filename filename expected text expectedtext expected text expectedtext upload path uploadpath upload path prefix uploadpathprefix get class getclass get simple name getsimplename test test uploaded pdf is indexed testuploadedpdfisindexed exception string query url queryurl http test httptest webdav base url content query json query type querytype xpath statement url encoder urlencoder encode jcr root upload path uploadpath jcr expected text expectedtext utf condition condition is true istrue exception string result get content getcontent query url queryurl http test httptest content type json json array jsonarray json array jsonarray result length string expected path expectedpath http test httptest servlet context upload path uploadpath file name filename jcr content length json object jsonobject object getjsonobject expected path expectedpath equals object get string getstring jcr path string get description getdescription document expected text expectedtext upload path uploadpath assert false assertfalse expecting search upload is true istrue string local path localpath int egration integration test indexing file name filename input stream inputstream resource to upload resourcetoupload get class getclass get resource as stream getresourceasstream local path localpath resource to upload resourcetoupload illegal argument exception illegalargumentexception resource upload local path localpath get test client gettestclient mkdirs http test httptest webdav base url upload path uploadpath get test client gettestclient upload http test httptest webdav base url upload path uploadpath file name filename resource to upload resourcetoupload inc reased increased timeout seconds avoid failures oak indexes ready retry loop retryloop set up setup exception set up setup get test client gettestclient delete http test httptest webdav base url upload path uploadpath tear down teardown exception get test client gettestclient delete http test httptest webdav base url upload path uploadpath tear down teardown
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi org junit assert array equals assertarrayequals org junit assert equals assertequals java io exception ioexception java util dictionary java util hashtable org apache sling testing mock osgi osgi metadata util test osgimetadatautiltest service with metadata servicewithmetadata org apache sling testing mock osgi junit osgi context osgicontext org junit rule org junit test org osgi framework constants org osgi framework service reference servicereference org osgi service configuration org osgi service configuration admin configurationadmin google common collect immutable map immutablemap mock configuration admin test mockconfigurationadmintest string test adaptables string adaptable adaptable rule osgi context osgicontext context osgi context osgicontext test test get configuration string testgetconfigurationstring io exception ioexception configuration admin configurationadmin config admin configadmin context get service getservice configuration admin configurationadmin configuration config config admin configadmin get configuration getconfiguration org apache sling testing mock osgi osgi metadata util test osgimetadatautiltest service with metadata servicewithmetadata dictionary string object config props configprops hashtable string object config props configprops constants service ranking config props configprops adaptables test adaptables config props configprops prop config update config props configprops context register inject activate service registerinjectactivateservice service with metadata servicewithmetadata immutable map immutablemap string object builder constants service ranking prop build service reference servicereference reference context bundle context bundlecontext get service reference getservicereference comparable get name getname values passed registering service highest precedence assert equals assertequals reference get property getproperty constants service ranking assert equals assertequals reference get property getproperty prop values config admin ndmost highest precedence assert array equals assertarrayequals test adaptables string reference get property getproperty adaptables assert equals assertequals reference get property getproperty prop values osg i osgi scr metadata assert equals assertequals apache software foundation reference get property getproperty constants service vendor assert equals assertequals org apache sling testing mock osgi osgi metadata util test osgimetadatautiltest service with metadata servicewithmetadata reference get property getproperty constants service pid
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling query selector parser java util array list arraylist java util arrays java util list org apache commons lang string utils stringutils selector parser selectorparser selector parser selectorparser list selector parse string selector string utils stringutils is empty isempty selector arrays as list aslist selector parser context parsercontext context parser context parsercontext selector to char array tochararray context get state getstate process context context get state getstate process context context get selectors getselectors list selector segment selectorsegment get first segment from each selector getfirstsegmentfromeachselector list selector selectors list selector segment selectorsegment segments array list arraylist selector segment selectorsegment selector selector selectors selector get segments getsegments is empty isempty segments add selector get segments getsegments segments
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest java buffered reader bufferedreader java io exception ioexception java input stream reader inputstreamreader org apache commons http client httpclient header org apache commons http client httpclient methods get method getmethod org apache sling commons testing int egration integration http test base httptestbase code range str eaming test rangestreamingtest code tests range request header support stream renderer servlet streamrendererservlet int roduced introduced sling range str eaming test rangestreamingtest http test base httptestbase string root url rooturl override set up setup exception set up setup create test nodes path specific collisions string path get class getclass get simple name getsimplename system current time millis currenttimemillis test client testclient mkdirs webdav base url path root url rooturl upload test script uploadtestscript path ranges treaming rangestreaming txt ranges treaming rangestreaming txt override tear down teardown exception test client testclient delete root url rooturl tear down teardown test full range io exception ioexception get method getmethod get method getmethod root url rooturl status http client httpclient execute method executemethod assert equals assertequals status assert equals assertequals get response content length getresponsecontentlength test wrong ranges io exception ioexception get method getmethod get method getmethod root url rooturl set request header setrequestheader header range unit status http client httpclient execute method executemethod assert equals assertequals expect unsupported unit status get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect missing dash status get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect illegal negative number status get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect illegal negative number status get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect unparseable number status get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect start status test single range io exception ioexception get method getmethod get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect partial content status assert equals assertequals get response content length getresponsecontentlength assert equals assertequals quick get response body as string getresponsebodyasstring get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect partial content status assert equals assertequals get response content length getresponsecontentlength assert equals assertequals corpus sic get response body as string getresponsebodyasstring get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect partial content status assert equals assertequals get response content length getresponsecontentlength assert equals assertequals fox jumps lazy get response body as string getresponsebodyasstring test multiple ranges io exception ioexception get method getmethod get method getmethod root url rooturl set request header setrequestheader header range bytes status http client httpclient execute method executemethod assert equals assertequals expect partial content status string content type contenttype get response header getresponseheader content type get value getvalue assert true asserttrue content type multipart byte ranges byteranges content type contenttype multipart byte ranges byteranges string boundary content type contenttype substring content type contenttype index of indexof boundary boundary length buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader get response body as stream getresponsebodyasstream string reader read line readline boundary equals reader read line readline assert equals assertequals expected content start boundary boundary assert entity headers assertentityheaders reader text plain bytes assert equals assertequals quick reader read line readline assert equals assertequals expected content start boundary boundary reader read line readline assert entity headers assertentityheaders reader text plain bytes assert equals assertequals corpus sic reader read line readline buf boundary length reader read buf assert equals assertequals expected content start boundary boundary string buf assert entity headers assertentityheaders buffered reader bufferedreader reader string expected content type expectedcontenttype string expected range expectedrange io exception ioexception string reader read line readline reader read line readline to lower case tolowercase starts with startswith content type assert true asserttrue wrong content type expected expected content type expectedcontenttype expected content type expectedcontenttype starts with startswith content range assert true asserttrue wrong content range expected expected range expectedrange expected range expectedrange length exhausted reader reaching headers fail unexpected data
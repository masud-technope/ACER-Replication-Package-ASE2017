licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license sandroboehme jsnodetypes sandroboehme jsnodetypes generation constants generationconstants constraint string sandroboehme jsnodetypes generation constants generationconstants string org mockito mockito mock org mockito mockito java io exception ioexception javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr javax jcr value format exception valueformatexception javax jcr node type nodetype node type nodetype javax jcr node type nodetype property definition propertydefinition javax servlet servlet exception servletexception org apache sling commons json json exception jsonexception org junit org junit test sandroboehme jsnodetypes mock mock node type generator mocknodetypegenerator tests servlet generates combinations property definitions correct json format property def generation test propertydefgenerationtest mock node type generator mocknodetypegenerator set up setup repository exception repositoryexception io exception ioexception set up setup test test complete binary property definition testcompletebinarypropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname string property def stringpropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete binary property def getcompletebinarypropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete binary property definition testcompletebinarypropertydefinition test test complete string property definition testcompletestringpropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname string property def stringpropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete string property def getcompletestringpropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete string property definition testcompletestringpropertydefinition test test complete date property definition testcompletedatepropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname date property def datepropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete date property def getcompletedatepropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete date property definition testcompletedatepropertydefinition test test complete double property definition testcompletedoublepropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname double property def doublepropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete double property def getcompletedoublepropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete double property definition testcompletedoublepropertydefinition test test complete long property definition testcompletelongpropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname long property def longpropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete long property def getcompletelongpropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete long property definition testcompletelongpropertydefinition test test complete boolean property definition testcompletebooleanpropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname boolean property def booleanpropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete boolean property def getcompletebooleanpropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete boolean property definition testcompletebooleanpropertydefinition test test complete name property definition testcompletenamepropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname name property def namepropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete name property def getcompletenamepropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete name property definition testcompletenamepropertydefinition test test complete path property definition testcompletepathpropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname path property def pathpropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete path property def getcompletepathpropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete path property definition testcompletepathpropertydefinition test test complete reference property definition testcompletereferencepropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname reference property def referencepropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get complete reference property def getcompletereferencepropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test complete reference property definition testcompletereferencepropertydefinition test complete property definition testcompletepropertydefinition property definition propertydefinition property def propertydef string filename json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception node type nodetype nt with child node defs ntwithchildnodedefs get simple node type with name getsimplenodetypewithname nt with property defs ntwithpropertydefs nt with child node defs ntwithchildnodedefs get declared property definitions getdeclaredpropertydefinitions then return thenreturn property def propertydef node type iterator nodetypeiterator next node type nextnodetype then return thenreturn nt with child node defs ntwithchildnodedefs node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult filename test test one simple property definition testonesimplepropertydefinition json exception jsonexception servlet exception servletexception io exception ioexception value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception string property name propertyname simple property def simplepropertydef property definition propertydefinition property def propertydef get property generator getpropertygenerator get simple property def getsimplepropertydef property name propertyname test complete property definition testcompletepropertydefinition property def propertydef test one simple property definition testonesimplepropertydefinition test test two res idual property definitions testtworesidualpropertydefinitions value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception json exception jsonexception servlet exception servletexception io exception ioexception multi value d valued property defs property definition propertydefinition res idual property defs residualpropertydefs get property generator getpropertygenerator get complete string property def getcompletestringpropertydef get property generator getpropertygenerator get complete date property def getcompletedatepropertydef node type nodetype nt with child node defs ntwithchildnodedefs get simple node type with name getsimplenodetypewithname nt with property defs ntwithpropertydefs nt with child node defs ntwithchildnodedefs get declared property definitions getdeclaredpropertydefinitions then return thenreturn res idual property defs residualpropertydefs node type iterator nodetypeiterator next node type nextnodetype then return thenreturn nt with child node defs ntwithchildnodedefs node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test two res idual property definitions testtworesidualpropertydefinitions test test multiple default values testmultipledefaultvalues value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception json exception jsonexception servlet exception servletexception io exception ioexception default value defaultvalue mock default value defaultvalue get string getstring then return thenreturn string default value defaultvalue mock default value defaultvalue get string getstring then return thenreturn string property definition propertydefinition property def propertydef get property generator getpropertygenerator get property def getpropertydef string prop stringprop property type propertytype string string constraint string default value defaultvalue default value defaultvalue node type nodetype nt with child node defs ntwithchildnodedefs get simple node type with name getsimplenodetypewithname nt with property defs ntwithpropertydefs nt with child node defs ntwithchildnodedefs get declared property definitions getdeclaredpropertydefinitions then return thenreturn property definition propertydefinition property def propertydef node type iterator nodetypeiterator next node type nextnodetype then return thenreturn nt with child node defs ntwithchildnodedefs node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test multiple default values testmultipledefaultvalues test test multiple constraints testmultipleconstraints value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception json exception jsonexception servlet exception servletexception io exception ioexception property definition propertydefinition property def propertydef get property generator getpropertygenerator get property def getpropertydef string prop stringprop property type propertytype string string banana app le apple node type nodetype nt with child node defs ntwithchildnodedefs get simple node type with name getsimplenodetypewithname nt with property defs ntwithpropertydefs nt with child node defs ntwithchildnodedefs get declared property definitions getdeclaredpropertydefinitions then return thenreturn property definition propertydefinition property def propertydef node type iterator nodetypeiterator next node type nextnodetype then return thenreturn nt with child node defs ntwithchildnodedefs node type iterator nodetypeiterator has next hasnext then return thenreturn assert equals with servlet result assertequalswithservletresult test multiple constraints testmultipleconstraints
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling junit impl servlet java io exception ioexception java print writer printwriter java util map java util properties javax servlet filter javax servlet filter chain filterchain javax servlet filter config filterconfig javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet httpservlet javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse qos logback classic logger context loggercontext qos logback classic pattern layout patternlayout qos logback classic spi i logging event iloggingevent qos logback core layout qos logback core read cyclic buffer appender cyclicbufferappender org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations property org apache felix scr annotations reference org apache sling commons osgi properties util propertiesutil org junit runner description org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org osgi service http http service httpservice org osgi service http name space exception namespaceexception org slf logger org slf logger factory loggerfactory org slf mdc component metatype label apache sling test log collector description servlet exp oses exposes logs collected test execution test log servlet testlogservlet http servlet httpservlet logger log logger factory loggerfactory get logger getlogger get class getclass sync org apache sling testing tools junit remote log dumper remotelogdumper string test sling test string test sling test property system sling test log testlog string servlet path servlet path size property int value intvalue size label log buffer size description size memory log buffer logs upto buffer size retained string log buffer size log buffer size string pattern yyyy sss level thread logger msg property label log pattern description message pattern for matting formatting log messages pattern string prop msg pattern log pattern logpattern registered http service httpservice string servlet path servletpath reference http service httpservice http service httpservice cyclic buffer appender cyclicbufferappender i logging event iloggingevent appender layout i logging event iloggingevent layout service registration serviceregistration filter description current test currenttest object appender lock appenderlock object activate activate bundle context bundlecontext ctx map string config exception register servlet registerservlet config register appender registerappender config register filter registerfilter ctx create layout createlayout config deactivate deactivate exception deregister filter deregisterfilter deregister servlet deregisterservlet deregister appender deregisterappender stop layout stoplayout test run started testrunstarted description description description description equals current test currenttest current test currenttest description reset appender resetappender log info starting test execution description override do get doget http servlet request httpservletrequest request http servlet response httpservletresponse response servlet exception servletexception io exception ioexception print writer printwriter response get writer getwriter string class name classname request get parameter getparameter test string test name testname request get parameter getparameter test collected expected test class name classname test name testname description expected description create test description createtestdescription class name classname test name testname expected equals current test currenttest printf test mismatch current test expected test current test currenttest expected detach appender extract content safely root logger rootlogger detach appender detachappender appender appender get length getlength print layout do layout dolayout appender reset appender resetappender root logger rootlogger add appender addappender appender reset appender resetappender appender lock appenderlock appender is started isstarted appender reset register appender registerappender map string config appender lock appenderlock size properties util propertiesutil to integer tointeger config log buffer size size appender cyclic buffer appender cyclicbufferappender i logging event iloggingevent appender set max size setmaxsize size appender set context setcontext get context getcontext appender set name setname test log collector testlogcollector appender start root logger rootlogger add appender addappender appender deregister appender deregisterappender appender appender lock appenderlock root logger rootlogger detach appender detachappender appender appender appender create layout createlayout map string config string pattern properties util propertiesutil to string tostring config prop msg pattern pattern pattern layout patternlayout pattern layout patternlayout set pattern setpattern pattern set output pattern as header setoutputpatternasheader set context setcontext get context getcontext start layout stop layout stoplayout layout layout register servlet registerservlet map string config servlet exception servletexception name space exception namespaceexception servlet path servletpath get servlet path getservletpath config servlet path servletpath log info servlet path registering http service httpservice http service httpservice register servlet registerservlet servlet path servletpath log info servlet registered servlet path servletpath deregister servlet deregisterservlet servlet path servletpath http service httpservice unregister servlet path servletpath log info servlet unregistered path servlet path servletpath servlet path servletpath register filter registerfilter bundle context bundlecontext ctx properties props properties props constants service description filter extract test name testname request headers props constants service vendor ctx get bundle getbundle get headers getheaders constants bundle vendor props pattern filter ctx register service registerservice filter get name getname test name logging filter testnameloggingfilter props deregister filter deregisterfilter filter filter unregister test name logging filter testnameloggingfilter filter init filter config filterconfig filter config filterconfig servlet exception servletexception do filter dofilter servlet request servletrequest request servlet response servletresponse response filter chain filterchain chain io exception ioexception servlet exception servletexception http servlet request httpservletrequest http request httprequest http servlet request httpservletrequest request string class name classname http request httprequest get header getheader test string test name testname http request httprequest get header getheader test class name classname test name testname chain do filter dofilter request response mdc test test name testname mdc test class name classname test run started testrunstarted description create test description createtestdescription class name classname test name testname chain do filter dofilter request response mdc remove test mdc remove test destroy utility path mount servlet mounted param ctx string get servlet path getservletpath map string config string result string config servlet path result result trim length result result logger context loggercontext get context getcontext logger context loggercontext logger factory loggerfactory get logger factory getiloggerfactory qos logback classic logger root logger rootlogger get context getcontext get logger getlogger qos logback classic logger root logger
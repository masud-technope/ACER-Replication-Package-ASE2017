licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi java io exception ioexception java util dictionary java util enumeration java util hash map hashmap java util hashtable java util map org apache sling testing mock osgi osgi metadata util osgimetadatautil osgi metadata osgimetadata org osgi framework constants org osgi service configuration org osgi service configuration admin configurationadmin map util methods map util maputil dictionary to dictionary todictionary map map map hashtable map map to map tomap dictionary dictionary dictionary map map hash map hashmap enumeration dictionary has more elements hasmoreelements key next element nextelement map key dictionary key map dictionary string object properties merge with osgi metadata propertiesmergewithosgimetadata object target configuration admin configurationadmin config admin configadmin dictionary string object properties to dictionary todictionary properties merge with osgi metadata propertiesmergewithosgimetadata target config admin configadmin to map tomap properties merge service properties sources precedence properties defined calling unit test code properties configuration admin configurationadmin properties osg i osgi scr metadata param target target service param config admin configadmin configuration admin registered param properties properties unit test code passed merged properties map string object properties merge with osgi metadata propertiesmergewithosgimetadata object target configuration admin configurationadmin config admin configadmin map string object properties map string object merged properties mergedproperties hash map hashmap string object osgi metadata osgimetadata metadata osgi metadata util osgimetadatautil get metadata getmetadata target get class getclass metadata map string object metadata properties metadataproperties metadata get properties getproperties metadata properties metadataproperties merged properties mergedproperties put all putall metadata properties metadataproperties merge configuration config admin config admin configadmin object pid metadata properties metadataproperties constants service pid pid configuration config config admin configadmin get configuration getconfiguration pid to string tostring merged properties mergedproperties put all putall to map tomap config get properties getproperties io exception ioexception runtime exception runtimeexception unable read config pid pid merge properties calling unit test code properties merged properties mergedproperties put all putall properties merged properties mergedproperties
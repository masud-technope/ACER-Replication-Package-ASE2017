licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery commons providers util java util iterator java util map entry java util javax jcr node javax jcr repository exception repositoryexception javax jcr session org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap helper methods surrounding resources resource helper resourcehelper string resource type sling folder resource get or create resource getorcreateresource resource resolver resourceresolver resource resolver resourceresolver string path persistence exception persistenceexception resource util resourceutil get or create resource getorcreateresource resource resolver resourceresolver path resource type resource type delete resource deleteresource resource resolver resourceresolver resource resolver resourceresolver string path persistence exception persistenceexception resource resource resource resolver resourceresolver get resource getresource path resource resource resolver resourceresolver delete resource compile string builder properties resource logging string builder stringbuilder get properties for logging getpropertiesforlogging resource resource value map valuemap value map valuemap value map valuemap resource adapt to adaptto value map valuemap runtime exception runtimeexception string builder stringbuilder existing resource resource get message getmessage value map valuemap string builder stringbuilder existing resource resource value map valuemap entry string object entry set entryset value map valuemap entry set entryset string builder stringbuilder string builder stringbuilder iterator entry string object entry set entryset iterator has next hasnext entry string object entry append append entry get key getkey append append entry get value getvalue move resource path optimized jcr api jcr fallback sling resource api param res source resource param path target path persistence exception persistenceexception move resource moveresource resource res string path persistence exception persistenceexception node node res adapt to adaptto node node session session node get session getsession session move res get path getpath path repository exception repositoryexception persistence exception persistenceexception move res get path getpath path failed move resource with resource i moveresourcewithresourceapi res path move resource path sling resource api param res source resource param path target path persistence exception persistenceexception move resource with resource i moveresourcewithresourceapi resource res string path persistence exception persistenceexception string parent path parentpath resource util resourceutil get parent getparent path resource parent res get resource resolver getresourceresolver get resource getresource parent path parentpath parent persistence exception persistenceexception parent resource exist parent path parentpath move copy delete copy resource with resource i copyresourcewithresourceapi res parent resource util resourceutil get name getname path res get resource resolver getresourceresolver delete res copy resource target sling resource api param source source resource param dest parent destparent destination parent param destination resource persistence exception persistenceexception copy resource with resource i copyresourcewithresourceapi resource source resource dest parent destparent string persistence exception persistenceexception resource copy source get resource resolver getresourceresolver create dest parent destparent resource util resourceutil get value map getvaluemap source iterator resource children source list children listchildren children has next hasnext resource child children copy resource with resource i copyresourcewithresourceapi child copy child get name getname
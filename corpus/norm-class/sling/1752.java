licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling tracer internal java io exception ioexception java util array list arraylist java util dictionary java util hash map hashmap java util hashtable java util list java util locale java util map java util concurrent atomic atomic integer atomicinteger java util concurrent atomic atomic reference atomicreference javax servlet filter javax servlet filter chain filterchain javax servlet filter config filterconfig javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet http http servlet request httpservletrequest qos logback classic level qos logback classic logger qos logback classic turbo turbo filter turbofilter qos logback core spi filter reply filterreply org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations deactivate org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache sling api sling http servlet request slinghttpservletrequest org apache sling commons osgi properties util propertiesutil org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org slf logger factory loggerfactory org slf marker tracer support enabling logs specific category specific level specific request fine level control config http request logging performed category spec ially specially parts system involved request parts enabling log global level flood logs create lots noise tracer enable log request required pro bed probed component label apache sling log tracer description support enabling log specific log gers loggers request basis refer http sling apache org documentation bundles log tracers html details policy configuration policy configurationpolicy require metatype log tracer logtracer request parameter comma separated determine list tracers enable string param tracer tracers request param determine tracer config request org apache sling level trace org apache jackrabbit string param tracer config tracer config tracerconfig string header tracer config sling tracer config string header tracer sling trace rs tracers property label tracer sets description list tracer sets configured tracer config conf irms confirms format logger level level log gers loggers unbounded property unbounded propertyunbounded array oak query org apache jackrabbit oak query query engine impl queryengineimpl level debug oak writes org apache jackrabbit oak jcr operations writes level trace string prop tracer sets tracer sets tracersets prop tracer enabled property label enabled description enable tracer bool value boolvalue prop tracer enabled string prop tracer enabled enabled org slf logger log logger factory loggerfactory get logger getlogger log tracer logtracer map string tracer set tracerset tracers hash map hashmap string tracer set tracerset bundle context bundlecontext bundle context bundlecontext service registration serviceregistration sling filter registration slingfilterregistration service registration serviceregistration filter registration filterregistration atomic reference atomicreference service registration serviceregistration log collector reg logcollectorreg atomic reference atomicreference service registration serviceregistration atomic integer atomicinteger log collector reg count logcollectorregcount atomic integer atomicinteger thread local threadlocal tracer context tracercontext request context holder requestcontextholder thread local threadlocal tracer context tracercontext activate activate map string config bundle context bundlecontext context bundle context bundlecontext context initialize tracer set initializetracerset config enabled properties util propertiesutil to boolean toboolean config prop tracer enabled prop tracer enabled enabled register filters registerfilters context log info log tracer enabled required filters registered deactivate deactivate sling filter registration slingfilterregistration sling filter registration slingfilterregistration unregister sling filter registration slingfilterregistration filter registration filterregistration filter registration filterregistration unregister filter registration filterregistration service registration serviceregistration reg log collector reg logcollectorreg get and set getandset reg reg unregister request context holder requestcontextholder remove tracer context tracercontext get tracer context gettracercontext string tracer set names tracersetnames string tracer config tracerconfig config tracer tracing required tracer set names tracersetnames tracer config tracerconfig list tracer config tracerconfig configs array list arraylist tracer config tracerconfig list string invalid names invalidnames array list arraylist string tracer set names tracersetnames string tracer set name tracersetname tracer set names tracersetnames split tracer set tracerset tracers tracer set name tracersetname to lower case tolowercase locale english configs add all addall get configs getconfigs invalid names invalidnames add tracer set name tracersetname invalid names invalidnames is empty isempty log warn invalid tracer names passed invalid names invalidnames tracer set names tracersetnames tracer config tracerconfig tracer set tracerset tracer set tracerset custom tracer config tracerconfig configs add all addall get configs getconfigs tracer context tracercontext configs to array toarray tracer config tracerconfig configs size initialize tracer set initializetracerset map string config string tracer set configs tracersetconfigs properties util propertiesutil to string array tostringarray config prop tracer sets string string tracer set config tracersetconfig tracer set configs tracersetconfigs tracer set tracerset tracer set tracerset tracer set config tracersetconfig tracers get name getname register filters registerfilters bundle context bundlecontext context dictionary string object sling filter props slingfilterprops hashtable string object sling filter props slingfilterprops filter scope request sling filter props slingfilterprops constants service description sling filter required log tracer sling filter registration slingfilterregistration context register service registerservice filter get name getname sling tracer filter slingtracerfilter sling filter props slingfilterprops dictionary string object filter props filterprops hashtable string object filter props filterprops pattern filter props filterprops constants service description servlet filter required log tracer filter registration filterregistration context register service registerservice filter get name getname tracer filter tracerfilter filter props filterprops turbo filters turbofilters slowness executed critical path care register filter required logic ensures filter registered duration request monitored multiple request performed filter registered register log collector registerlogcollector log collector reg count logcollectorregcount count log collector reg count logcollectorregcount get and increment getandincrement count service registration serviceregistration reg bundle context bundlecontext register service registerservice turbo filter turbofilter get name getname log collector logcollector log collector reg logcollectorreg reg unregister log collector unregisterlogcollector log collector reg count logcollectorregcount count log collector reg count logcollectorregcount decrement and get decrementandget count service registration serviceregistration reg log collector reg logcollectorreg get and set getandset reg unregister abstract filter abstractfilter filter override init filter config filterconfig filter config filterconfig servlet exception servletexception override destroy enable collector enablecollector tracer context tracercontext tracer context tracercontext request context holder requestcontextholder tracer context tracercontext register log collector registerlogcollector disable collector disablecollector request context holder requestcontextholder remove unregister log collector unregisterlogcollector filter registers root check tracer params enabled perform required setup logs captured tracer filter tracerfilter abstract filter abstractfilter override do filter dofilter servlet request servletrequest servlet request servletrequest servlet response servletresponse servlet response servletresponse filter chain filterchain filter chain filterchain io exception ioexception servlet exception servletexception filter level check tracer hint header cookie touch request parameter avoid eager initialization request parameter map http servlet request httpservletrequest http request httprequest http servlet request httpservletrequest servlet request servletrequest tracer context tracercontext tracer context tracercontext get tracer context gettracercontext http request httprequest get header getheader header tracer http request httprequest get header getheader header tracer config tracer context tracercontext enable collector enablecollector tracer context tracercontext filter chain filterchain do filter dofilter servlet request servletrequest servlet response servletresponse tracer context tracercontext disable collector disablecollector sling level filter extract request progress tracker requestprogresstracker passes current thread tracer content tracercontent sling tracer filter slingtracerfilter abstract filter abstractfilter override do filter dofilter servlet request servletrequest servlet request servletrequest servlet response servletresponse servlet response servletresponse filter chain filterchain filter chain filterchain io exception ioexception servlet exception servletexception sling http servlet request slinghttpservletrequest sling request slingrequest sling http servlet request slinghttpservletrequest servlet request servletrequest tracer context tracercontext tracer context tracercontext request context holder requestcontextholder created context createdcontext check request params tracer context tracercontext tracer context tracercontext get tracer context gettracercontext sling request slingrequest get parameter getparameter param tracer sling request slingrequest get parameter getparameter param tracer config tracer context tracercontext created context createdcontext tracer context tracercontext tracer context tracercontext register progress tracker registerprogresstracker sling request slingrequest get request progress tracker getrequestprogresstracker context created filter enable collector created context createdcontext enable collector enablecollector tracer context tracercontext filter chain filterchain do filter dofilter servlet request servletrequest servlet response servletresponse tracer context tracercontext tracer context tracercontext created context createdcontext disable collector disablecollector log collector logcollector turbo filter turbofilter override filter reply filterreply decide marker marker logger logger level level string format object params throwable tracer context tracercontext tracer request context holder requestcontextholder tracer filter reply filterreply neutral tracer should log shouldlog logger get name getname level format filter reply filterreply accept tracer log logger get name getname format params filter reply filterreply accept filter reply filterreply neutral
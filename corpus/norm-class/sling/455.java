licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons log logback int egration integration java file java io exception ioexception java print writer printwriter java string writer stringwriter java lang reflect invocation target exception invocationtargetexception java lang reflect method java net url java util dictionary java util hashtable javax inject inject org apache commons file utils fileutils org apache commons file name utils filenameutils org apache sling commons log logback internal log config manager logconfigmanager org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit pax exam paxexam org ops pax exam spi reactors exam reactor strategy examreactorstrategy org ops pax exam spi reactors per class perclass org osgi framework bundle context bundlecontext org osgi service configuration org osgi service configuration admin configurationadmin org osgi util tracker service tracker servicetracker org apache sling commons log logback internal log config manager logconfigmanager factory pid configs org apache sling commons log logback internal log config manager logconfigmanager pid org hamcrest core matchers corematchers contains string containsstring org junit assert that assertthat org junit assert true asserttrue org junit fail org ops pax exam core options coreoptions composite org ops pax exam core options coreoptions framework property frameworkproperty org ops pax exam core options coreoptions maven bundle mavenbundle org ops pax exam util path utils pathutils get base dir getbasedir run with runwith pax exam paxexam exam reactor strategy examreactorstrategy per class perclass it config printer itconfigprinter log test base logtestbase string log dir logdir file name utils filenameutils concat get base dir getbasedir target it config printer itconfigprinter uncomment enable debug ging debugging test pax runner vm option paxrunnervmoption debug option override option add extra options addextraoptions composite framework property frameworkproperty sling log root log dir logdir config admin configadmin maven bundle mavenbundle commons commons version as in project versionasinproject inject configuration admin configurationadmin inject bundle context bundlecontext bundle context bundlecontext service tracker servicetracker tracker object config printer configprinter close tracker closetracker tracker tracker close test simple working simpleworking exception wait for printer waitforprinter create log config createlogconfig simple working simpleworking log string writer stringwriter string writer stringwriter invoke print configuration printconfiguration print writer printwriter txt assert that assertthat to string tostring contains string containsstring simple working simpleworking log test include only last files includeonlylastnfiles exception wait for printer waitforprinter configuration config get configuration getconfiguration pid dictionary string object hashtable string object log config manager logconfigmanager printer max include d included files log config manager logconfigmanager log level info config update delay create log config createlogconfig error log include only last files includeonlylastnfiles include only last files includeonlylastnfiles txt mode log mention files file utils fileutils touch file log dir logdir error log string writer stringwriter string writer stringwriter invoke print configuration printconfiguration print writer printwriter txt assert that assertthat to string tostring contains string containsstring error log assert that assertthat to string tostring contains string containsstring error log attachment upto assert true asserttrue url invoke get attach ments getattachments zip length create log config createlogconfig string file name filename string log configs logconfigs io exception ioexception configuration config create factory configuration createfactoryconfiguration factory pid configs dictionary string object hashtable string object log config manager logconfigmanager log log gers loggers log configs logconfigs log config manager logconfigmanager log level debug log config manager logconfigmanager log file file name filename config update delay object invoke string method name methodname object args invocation target exception invocationtargetexception illegal access exception illegalaccessexception method config printer configprinter get class getclass get methods getmethods get name getname equals method name methodname invoke config printer configprinter args fail method method name methodname object type config printer configprinter get class getclass wait for printer waitforprinter interrupted exception interruptedexception config printer configprinter tracker service tracker servicetracker bundle context bundlecontext org apache sling commons log logback internal sling configuration printer slingconfigurationprinter tracker open config printer configprinter tracker wait for service waitforservice
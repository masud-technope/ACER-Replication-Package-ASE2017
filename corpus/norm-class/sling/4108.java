licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling service user mapping serviceusermapping impl java util array list arraylist java util map org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations modified org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org osgi framework constants org slf logger org slf logger factory loggerfactory component metatype org apache sling service user mapping serviceusermapping impl service user mapper impl serviceusermapperimpl amended label apache sling service user mapper service amendment description amendment mapping user mapping service configuration factory configurationfactory policy configuration policy configurationpolicy require service mapping config amendment mappingconfigamendment properties property constants service ranking int value intvalue property private propertyprivate label ranking description amendments processed order ranking amendment higher ranking precedence mapping ranking property webconsole configuration factory configurationfactory name hint namehint mapping user mapping mapping config amendment mappingconfigamendment comparable mapping config amendment mappingconfigamendment property label service map pings mappings description mappings service user names entry form bundle id bundleid sub service name subservicename user name username bundle id bundleid sub service name subservicename identify service user name username defines user provide service invalid entries log ged logged unbounded property unbounded propertyunbounded array string prop service user mapping user mapping string prop service user mapping logger logger logger logger factory loggerfactory get logger getlogger get class getclass mapping service user map pings serviceusermappings service ranking serviceranking activate modified configure map string object config string props properties util propertiesutil to string array tostringarray config prop service user mapping prop service user mapping array list arraylist mapping mappings array list arraylist mapping props length string prop props prop prop trim length mapping mapping mapping prop trim mappings add mapping illegal argument exception illegalargumentexception iae logger info configure ignoring prop iae get message getmessage service user map pings serviceusermappings mappings to array toarray mapping mappings size service ranking serviceranking properties util propertiesutil to integer tointeger config constants service ranking mapping get service user map pings getserviceusermappings service user map pings serviceusermappings compare to compareto mapping config amendment mappingconfigamendment sort rank desc ending descending order service ranking serviceranking service ranking serviceranking rank service ranking serviceranking service ranking serviceranking higher rank ranks equal sort hash code hash code hashcode hash code hashcode
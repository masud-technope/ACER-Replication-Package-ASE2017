licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl filter java util dictionary java util hash map hashmap java util hashtable java util map javax servlet filter javax servlet filter config filterconfig javax servlet servlet exception servletexception org apache sling commons osgi osgi util osgiutil org apache sling engine engine constants engineconstants org apache sling engine impl helper sling filter config slingfilterconfig org apache sling engine impl helper sling servlet context slingservletcontext org apache sling engine jmx filter processor bean filterprocessormbean org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service reference servicereference org osgi util tracker service tracker servicetracker org slf logger org slf logger factory loggerfactory org osgi framework service registration serviceregistration servlet filter manager servletfiltermanager service tracker servicetracker enum filter chain type filterchaintype request level filters engine constants engineconstants filter scope request request request error level filters engine constants engineconstants filter scope error error error include level filters engine constants engineconstants filter scope include include include level filters engine constants engineconstants filter scope component level filters engine constants engineconstants filter scope component component component string message filter chain type filterchaintype string message message message override string to string tostring message service property felix http service httpservice whiteboard implementation string felix whiteboard pattern property pattern todo filter object class objectclass javax servlet filter filter scope string filter service filter get name getname log logger log logger factory loggerfactory get logger getlogger get class getclass sling servlet context slingservletcontext servlet context servletcontext sling filter chain helper slingfilterchainhelper filter chains filterchains comp at mode compatmode map service registration serviceregistration mbean map mbeanmap servlet filter manager servletfiltermanager bundle context bundlecontext context sling servlet context slingservletcontext servlet context servletcontext comp at mode compatmode context filter service servlet context servletcontext servlet context servletcontext filter chains filterchains sling filter chain helper slingfilterchainhelper filter chain type filterchaintype values length filter chains filterchains filter chain type filterchaintype request ordinal sling filter chain helper slingfilterchainhelper filter chains filterchains filter chain type filterchaintype error ordinal sling filter chain helper slingfilterchainhelper filter chains filterchains filter chain type filterchaintype include ordinal sling filter chain helper slingfilterchainhelper filter chains filterchains filter chain type filterchaintype ordinal sling filter chain helper slingfilterchainhelper filter chains filterchains filter chain type filterchaintype component ordinal sling filter chain helper slingfilterchainhelper comp at mode compatmode comp at mode compatmode mbean map mbeanmap hash map hashmap service registration serviceregistration sling filter chain helper slingfilterchainhelper get filter chain getfilterchain filter chain type filterchaintype chain filter chains filterchains chain ordinal filter handle filterhandle get filters getfilters filter chain type filterchaintype chain get filter chain getfilterchain chain get filters getfilters override object adding service addingservice service reference servicereference reference object service adding service addingservice reference service filter init filter initfilter reference filter service service override modified service modifiedservice service reference servicereference reference object service service filter destroy filter destroyfilter reference filter service init filter initfilter reference filter service modified service modifiedservice reference service override removed service removedservice service reference servicereference reference object service service filter destroy filter destroyfilter reference filter service removed service removedservice reference service check filter excluded exclude filter excludefilter service reference servicereference reference service filter scope property include reference get property getproperty engine constants engineconstants sling filter scope reference get property getproperty engine constants engineconstants filter scope comp at compat mode filters felix pattern prop comp at mode compatmode check filter registered felix http service httpservice white board whiteboard reference get property getproperty felix whiteboard pattern property init filter initfilter service reference servicereference reference filter filter exclude filter excludefilter reference string filter name filtername sling filter config slingfilterconfig get name getname reference filter name filtername log error init filter initfilter missing filter reference initialize filter service service id serviceid reference get property getproperty constants service filter processor bean impl filterprocessormbeanimpl mbean dictionary string string mbean props mbeanprops hashtable string string mbean props mbeanprops jmx object name objectname org apache sling type engine filter service filter name filtername mbean filter processor bean impl filterprocessormbeanimpl service registration serviceregistration filter processor bean registration filterprocessormbeanregistration context register service registerservice filter processor bean filterprocessormbean get name getname mbean mbean props mbeanprops mbean map mbeanmap service id serviceid filter processor bean registration filterprocessormbeanregistration throwable log debug unable register mbean mbean filter config filterconfig config sling filter config slingfilterconfig servlet context servletcontext reference filter name filtername filter init config order integer max string order source ordersource object order obj orderobj reference get property getproperty constants service ranking order obj orderobj filter order defined higher priority service ranking add ition addition types integer order obj orderobj reference get property getproperty engine constants engineconstants filter order order obj orderobj applied step props invalid order source ordersource engine constants engineconstants filter order order obj orderobj order obj orderobj integer value of valueof osgi util osgiutil to integer tointeger order obj orderobj order source ordersource order source ordersource constants service ranking order obj orderobj order order obj orderobj integer integer order obj orderobj int value intvalue register scope string scopes osgi util osgiutil to string array tostringarray reference get property getproperty engine constants engineconstants sling filter scope string pattern osgi util osgiutil to string tostring reference get property getproperty engine constants engineconstants sling filter pattern scopes scopes osgi util osgiutil to string array tostringarray reference get property getproperty engine constants engineconstants filter scope scopes scopes length string scope scopes scope scope to upper case touppercase filter chain type filterchaintype type filter chain type filterchaintype value of valueof scope to string tostring get filter chain getfilterchain type add filter addfilter filter pattern service id serviceid order order source ordersource mbean type filter chain type filterchaintype component get filter chain getfilterchain filter chain type filterchaintype include add filter addfilter filter pattern service id serviceid order order source ordersource mbean get filter chain getfilterchain filter chain type filterchaintype add filter addfilter filter pattern service id serviceid order order source ordersource mbean illegal argument exception illegalargumentexception iae log warn string format filter service registered filter scope property reference get property getproperty constants service get filter chain getfilterchain filter chain type filterchaintype request add filter addfilter filter pattern service id serviceid order order source ordersource mbean servlet exception servletexception log error filter filter name filtername failed initialize throwable log error unexpected problem initial izing initializing component filter componentfilter destroy filter destroyfilter service reference servicereference reference filter filter service object service id serviceid reference get property getproperty constants service service registration serviceregistration mbean mbean map mbeanmap remove service id serviceid mbean mbean unregister removed sling filter chain helper slingfilterchainhelper filter chain filterchain filter chains filterchains removed filter chain filterchain remove filter by id removefilterbyid service id serviceid destroy removed filter destroy throwable log error unexpected problem dest roying destroying filter filter
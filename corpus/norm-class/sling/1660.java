licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer core impl java util hash map hashmap java util map org apache sling installer api installable resource installableresource org apache sling installer api resource change listener resourcechangelistener org apache sling installer api tasks registered resource registeredresource org apache sling installer api tasks resource transformer resourcetransformer org apache sling installer api tasks retry handler retryhandler org apache sling installer api tasks transformation result transformationresult org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework version org slf logger org slf logger factory loggerfactory transformer tra nsforms transforms file resources bundle osgi bundle resources default transformer defaulttransformer internal service internalservice resource transformer resourcetransformer logger logger logger logger factory loggerfactory get logger getlogger get class getclass org apache sling installer core impl internal service internalservice init org osgi framework bundle context bundlecontext org apache sling installer api resource change listener resourcechangelistener retry handler retryhandler init bundle context bundlecontext bctx resource change listener resourcechangelistener rcl retry handler retryhandler retry handler retryhandler org apache sling installer core impl internal service internalservice deactivate deactivate org apache sling installer core impl internal service internalservice get description getdescription string get description getdescription apache sling installer resource transformer org apache sling installer api tasks resource transformer resourcetransformer transform org apache sling installer api tasks registered resource registeredresource transformation result transformationresult transform registered resource registeredresource resource resource get type gettype equals installable resource installableresource type file check bundle checkbundle resource check registered resource bundle transformation result transformationresult check bundle checkbundle registered resource registeredresource resource util bundle headers bundleheaders headers util read bundle headers readbundleheaders resource logger headers check version val idity validity valid version validversion version headers version illegal argument exception illegalargumentexception iae logger info rejecting bundle invalid version object headers symbolic name symbolicname resource headers version valid version validversion valid version validversion map string object attr hash map hashmap string object attr constants bundle symbolicname headers symbolic name symbolicname attr constants bundle version headers version check activation policy headers activation policy activationpolicy attr constants bundle activationpolicy headers activation policy activationpolicy transformation result transformationresult transformation result transformationresult set id setid headers symbolic name symbolicname set resource type setresourcetype installable resource installableresource type bundle set attributes setattributes attr transformation result transformationresult
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr resource internal helper jcr java util linked list linkedlist java util map javax jcr item javax jcr node javax jcr property javax jcr repository exception repositoryexception javax jcr session javax jcr version version history versionhistory javax jcr version version manager versionmanager org apache commons lang string utils stringutils org apache jackrabbit jcr constants jcrconstants org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling jcr resource internal helper data helperdata org slf logger org slf logger factory loggerfactory jcr item resource factory jcritemresourcefactory logger logger log logger factory loggerfactory get logger getlogger jcr item resource factory jcritemresourcefactory session session helper data helperdata helper jcr item resource factory jcritemresourcefactory session session helper data helperdata helper helper helper session session creates code resource code instance item path item exists path item read access session resolver code code returned param resource path resourcepath absolute path code resource code item path repository exception repositoryexception error occurrs accessing checking item repository jcr item resource jcritemresource create resource createresource resource resolver resourceresolver resource resolver resourceresolver string resource path resourcepath resource parent map string string parameters repository exception repositoryexception string jcr path jcrpath helper path mapper pathmapper map resource path to path mapresourcepathtojcrpath resource path resourcepath jcr path jcrpath log debug create resource createresource maps empty jcr path resource path resourcepath string version parameters parameters contains key containskey version parameters version node parent node parentnode string parent resource path parentresourcepath parent parent node parentnode parent adapt to adaptto node parent resource path parentresourcepath parent get path getpath item item parent node parentnode resource path resourcepath starts with startswith parent resource path parentresourcepath string sub path subpath resource path resourcepath substring parent resource path parentresourcepath length sub path subpath is empty isempty sub path subpath char at charat sub path subpath sub path subpath substring item get sub item getsubitem parent node parentnode sub path subpath item exists itemexists jcr path jcrpath item session get item getitem jcr path jcrpath item version item get historic item gethistoricitem item version item log debug create resource createresource jcr item exists path jcr path jcrpath jcr item resource jcritemresource resource item is node isnode log debug create resource createresource jcr node resource path resource path resourcepath resource jcr node resource jcrnoderesource resource resolver resourceresolver resource path resourcepath version node item helper log debug create resource createresource jcr property resource path resource path resourcepath resource jcr property resource jcrpropertyresource resource resolver resourceresolver resource path resourcepath version property item resource get resource metadata getresourcemetadata set parameter map setparametermap parameters resource item get historic item gethistoricitem item item string version spec ifier versionspecifier repository exception repositoryexception item current item currentitem item linked list linkedlist string rel path relpath linked list linkedlist string node version equals current item currentitem get path getpath is version able isversionable current item currentitem version get frozen node getfrozennode node current item currentitem version spec ifier versionspecifier rel path relpath add first addfirst current item currentitem get name getname current item currentitem current item currentitem get parent getparent version get sub item getsubitem version string utils stringutils join rel path relpath iterator item get sub item getsubitem node node string rel path relpath repository exception repositoryexception rel path relpath length is empty isempty compatibility node node has node hasnode rel path relpath node get node getnode rel path relpath node has property hasproperty rel path relpath node get property getproperty rel path relpath repository exception repositoryexception log debug get sub item getsubitem subitem object rel path relpath node to string tostring to string tostring node get frozen node getfrozennode node node string version spec ifier versionspecifier repository exception repositoryexception version manager versionmanager version manager versionmanager session get workspace getworkspace get version manager getversionmanager version history versionhistory history version manager versionmanager get version history getversionhistory node get path getpath history has version label hasversionlabel version spec ifier versionspecifier history get version by label getversionbylabel version spec ifier versionspecifier get frozen node getfrozennode history has node hasnode version spec ifier versionspecifier history get version getversion version spec ifier versionspecifier get frozen node getfrozennode is version able isversionable item item repository exception repositoryexception item is node isnode node item is node type isnodetype jcr constants jcrconstants mix version able versionable checks item exists content manager session read access item item exist access control method code code returned param path path item check code code item exists content manager session read access item exist code code returned ignoring access control item exists itemexists string path session item exists itemexists path repository exception repositoryexception log debug item exists itemexists error checking existence path to string tostring
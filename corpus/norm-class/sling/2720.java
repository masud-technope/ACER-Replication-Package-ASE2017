licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest user manager usermanager java io exception ioexception java util array list arraylist java util list javax servlet http http servlet response httpservletresponse org apache commons http client httpclient credentials org apache commons http client httpclient name value pair namevaluepair org apache commons http client httpclient username password credentials usernamepasswordcredentials org apache sling commons json json exception jsonexception org apache sling commons json json object jsonobject tests remove authorizable removeauthorizable sling post operation remove auth orizables test removeauthorizablestest user manager test util usermanagertestutil test remove user testremoveuser io exception ioexception string user id userid create test user createtestuser credentials creds username password credentials usernamepasswordcredentials admin admin string get url geturl http base url system user manager usermanager user user id userid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse string post url posturl http base url system user manager usermanager user user id userid delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams get url geturl http base url system user manager usermanager user user id userid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse test remove group testremovegroup io exception ioexception string group id groupid create test group createtestgroup credentials creds username password credentials usernamepasswordcredentials admin admin string get url geturl http base url system user manager usermanager group group id groupid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse string post url posturl http base url system user manager usermanager group group id groupid delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams get url geturl http base url system user manager usermanager group group id groupid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse test remove auth orizables testremoveauthorizables io exception ioexception string user id userid create test user createtestuser string group id groupid create test group createtestgroup credentials creds username password credentials usernamepasswordcredentials admin admin string get url geturl http base url system user manager usermanager user user id userid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse get url geturl http base url system user manager usermanager group group id groupid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse string post url posturl http base url system user manager usermanager delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair post params postparams add name value pair namevaluepair apply to applyto group group id groupid post params postparams add name value pair namevaluepair apply to applyto user user id userid assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams get url geturl http base url system user manager usermanager user user id userid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse get url geturl http base url system user manager usermanager group group id groupid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse test problem reported sling test remove group with members testremovegroupwithmembers io exception ioexception string group id groupid create test group createtestgroup string user id userid create test user createtestuser credentials creds username password credentials usernamepasswordcredentials admin admin string add member post url addmemberposturl http base url system user manager usermanager group group id groupid update html list name value pair namevaluepair add member post params addmemberpostparams array list arraylist name value pair namevaluepair add member post params addmemberpostparams add name value pair namevaluepair member user id userid assert authenticated post status assertauthenticatedpoststatus creds add member post url addmemberposturl http servlet response httpservletresponse add member post params addmemberpostparams string get url geturl http base url system user manager usermanager group group id groupid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse string post url posturl http base url system user manager usermanager group group id groupid delete html list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair assert authenticated post status assertauthenticatedpoststatus creds post url posturl http servlet response httpservletresponse post params postparams get url geturl http base url system user manager usermanager group group id groupid json profile request returns data assert authenticated http status assertauthenticatedhttpstatus creds get url geturl http servlet response httpservletresponse test sling test remove auth orizables response as n testremoveauthorizablesresponseasjson io exception ioexception json exception jsonexception string user id userid create test user createtestuser string group id groupid create test group createtestgroup credentials creds username password credentials usernamepasswordcredentials admin admin string post url posturl http base url system user manager usermanager delete json list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair post params postparams add name value pair namevaluepair apply to applyto group group id groupid post params postparams add name value pair namevaluepair apply to applyto user user id userid string json get authenticated post content getauthenticatedpostcontent creds post url posturl content type json post params postparams http servlet response httpservletresponse json response parsed json object json object jsonobject json obj jsonobj json object jsonobject json assert not null assertnotnull json obj jsonobj
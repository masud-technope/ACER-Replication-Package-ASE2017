licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling bgservlets impl servlets java io exception ioexception java print writer printwriter java util hash map hashmap java util map javax jcr node javax jcr repository exception repositoryexception javax servlet servlet exception servletexception javax servlet http http servlet response httpservletresponse org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api servlets sling safe methods servlet slingsafemethodsservlet org apache sling bgservlets background servlet constants backgroundservletconstants org apache sling bgservlets job console jobconsole org apache sling bgservlets job data jobdata org apache sling bgservlets job status jobstatus org apache sling commons json json exception jsonexception org apache sling commons json json writer jsonwriter rendering job node form ats formats meant displayed job started component service properties property sling servlet resource types resourcetypes background servlet constants backgroundservletconstants job resource type property sling servlet methods suppress warnings suppresswarnings serial job info servlet jobinfoservlet sling safe methods servlet slingsafemethodsservlet string encoding utf string ext txt map string renderer renderers renderers hash map hashmap string renderer renderers txt text renderer textrenderer renderers html html renderer htmlrenderer renderers json json renderer jsonrenderer reference job console jobconsole job console jobconsole renderer render print writer printwriter string stream path streampath string stream resource streamresource io exception ioexception text renderer textrenderer renderer render print writer printwriter string stream path streampath string stream resource streamresource println background execution job output println stream path streampath html renderer htmlrenderer renderer render print writer printwriter string stream path streampath string stream resource streamresource println html head title background job title println link rel stream href stream path streampath println head body println background job println job output println href stream path streampath stream resource streamresource println body json renderer jsonrenderer renderer render print writer printwriter string stream path streampath string stream resource streamresource io exception ioexception json writer jsonwriter json writer jsonwriter object key info background job key job stream path jobstreampath stream path streampath end object endobject json exception jsonexception io exception ioexception io exception ioexception json exception jsonexception get class getclass get simple name getsimplename init cause initcause override do get doget sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response servlet exception servletexception io exception ioexception node request get resource getresource adapt to adaptto node job status jobstatus job console jobconsole get job status getjobstatus get session getsession get path getpath string stream path streampath get stream path getstreampath string full stream path fullstreampath request get context path getcontextpath stream path streampath string ext request get request path info getrequestpathinfo get extension getextension renderer renderers ext renderers ext response send error senderror http servlet response httpservletresponse bad request job renderer jobrenderer extension ext response set content type setcontenttype request get response content type getresponsecontenttype response set character encoding setcharacterencoding encoding render response get writer getwriter full stream path fullstreampath stream path streampath repository exception repositoryexception servlet exception servletexception repository exception repositoryexception do get doget
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jackrabbit user manager usermanager impl post java lang reflect method java util dictionary java util list javax jcr credentials javax jcr repository exception repositoryexception javax jcr session javax jcr simple credentials simplecredentials javax servlet servlet org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache jackrabbit api security user authorizable org apache jackrabbit api security user group org apache jackrabbit api security user user org apache jackrabbit api security user user manager usermanager org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api resource resource not found exception resourcenotfoundexception org apache sling commons osgi osgi util osgiutil org apache sling jackrabbit user manager usermanager change user password changeuserpassword org apache sling jackrabbit user manager usermanager impl resource authorizable resource provider authorizableresourceprovider org apache sling jcr base util access control util accesscontrolutil org apache sling servlets post abstract post response abstractpostresponse org apache sling servlets post modification org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory password user maps nodes resource type resourcetype code sling user code code rep system rep user manager usermanager rep users ieb code mapped resource url code system user manager usermanager user ieb code servlet resp onds responds code system user manager usermanager user ieb change password changepassword html code methods post post parameters old pwd oldpwd current password user required admin istrators administrators new pwd newpwd password user required new pwd confirm newpwdconfirm confirm password user required response success body user failure including password validation errors html exp lains explains failure code cur l curl fold pwd foldpwd old password oldpassword fnew pwd fnewpwd new password newpassword fnew pwd confirm fnewpwdconfirm new password newpassword http localhost system user manager usermanager user ieb change password changepassword html code notes component metatype label change user password changeuserpassword post operation description change user password changeuserpassword post operation description service servlet change user password changeuserpassword properties property sling servlet resource types resourcetypes sling user property sling servlet methods post property sling servlet selectors change password changepassword property abstract authorizable post servlet abstractauthorizablepostservlet prop format eee mmm yyyy gmt yyyy sssz yyyy yyyy yyyy yyyy change user password servlet changeuserpasswordservlet abstract user post servlet abstractuserpostservlet change user password changeuserpassword serialversionuid log logger log logger factory loggerfactory get logger getlogger get class getclass user administrator group par user admin group string user admin group user admin useradmin configuration parameter providing group members allowed reset password user old pwd oldpwd property user admin group string par user admin group user admin group string user admin group name useradmingroupname user admin group scr int egration integration activates component param component context componentcontext osg i osgi code component context componentcontext code component override activate component context componentcontext component context componentcontext activate component context componentcontext dictionary props component context componentcontext get properties getproperties user admin group name useradmingroupname osgi util osgiutil to string tostring props par user admin group user admin group log info user admin group user admin group name useradmingroupname override deactivate component context componentcontext context deactivate context javadoc org apache sling jackrabbit user manager usermanager post abstract authorizable post servlet abstractauthorizablepostservlet handle operation handleoperation org apache sling api sling http servlet request slinghttpservletrequest org apache sling api servlets html response htmlresponse java util list override handle operation handleoperation sling http servlet request slinghttpservletrequest request abstract post response abstractpostresponse response list modification repository exception repositoryexception resource resource request get resource getresource session session request get resource resolver getresourceresolver adapt to adaptto session change password changepassword session resource get name getname request get parameter getparameter old pwd oldpwd request get parameter getparameter new pwd newpwd request get parameter getparameter new pwd confirm newpwdconfirm javadoc org apache sling jackrabbit user manager usermanager change user password changeuserpassword change password changepassword javax jcr session java lang string java lang string java lang string java lang string java util list user change password changepassword session jcr session jcrsession string string old password oldpassword string new password newpassword string new password confirm newpasswordconfirm list modification repository exception repositoryexception anonymous equals repository exception repositoryexception change password anonymous user user user user manager usermanager user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession authorizable authorizable user manager usermanager get authorizable getauthorizable authorizable user user user authorizable resource not found exception resourcenotfoundexception user update determined sling current user administrator missing old pwd oldpwd old pwd oldpwd supplied administrator check sub mitted submitted parameter values valid values old password oldpassword old password oldpassword length user manager usermanager access control util accesscontrolutil get user manager getusermanager jcr session jcrsession user current user currentuser user get authorizable getauthorizable jcr session jcrsession get user d getuserid administrator current user currentuser is admin isadmin administrator check user member user administrator group authorizable user admin useradmin get authorizable getauthorizable user admin group name useradmingroupname user admin useradmin group is member ismember group user admin useradmin is member ismember current user currentuser is member ismember administrator exception log warn failed determine user admin assuming get message getmessage administrator administrator repository exception repositoryexception password sub mitted submitted new password newpassword new password newpassword length repository exception repositoryexception password sub mitted submitted new password newpassword equals new password confirm newpasswordconfirm repository exception repositoryexception password match confirmation password old password oldpassword old password oldpassword length verify password user change password changepassword new password newpassword old password oldpassword user change password changepassword new password newpassword string password path passwordpath authorizable resource provider authorizableresourceprovider system user manager user prefix user getid rep password add modification on modified onmodified password path passwordpath repository exception repositoryexception repository exception repositoryexception failed change user password user
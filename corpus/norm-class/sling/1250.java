licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad tests ervices testservices server side tests serversidetests org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull java util hash map hashmap org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api resource value map valuemap org apache sling junit annotations sling annotations test runner slingannotationstestrunner org apache sling junit annotations test reference testreference org junit org junit org junit test org junit runner run with runwith test demonstrate sling resource crud functionality run with runwith sling annotations test runner slingannotationstestrunner write able resources test writeableresourcestest test reference testreference resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory resource resolver resourceresolver resolver resource test root testroot suppress warnings suppresswarnings serial props hash map hashmap string object props string key value keyvalue key value keyvalue length key value keyvalue key value keyvalue setup exception resolver resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver assert not null assertnotnull expecting resource resolver resourceresolver resolver resource root resolver get resource getresource assert not null assertnotnull expecting root resource root string path get class getclass get simple name getsimplename system current time millis currenttimemillis test root testroot resolver create root path cleanup exception resolver delete test root testroot resolver close assert value map assertvaluemap value map valuemap string key value keyvalue assert not null assertnotnull expecting value map valuemap key value keyvalue length string key key value keyvalue string key value keyvalue assert equals assertequals expecting key key string test testsimplecrud exception create child resource test root testroot title text properties props props props title text string full path fullpath resolver create test root testroot child system current time millis currenttimemillis props get path getpath resolver commit retrieve check child resource resource resolver get resource getresource full path fullpath assert not null assertnotnull expecting resource full path fullpath modifiable value map modifiablevaluemap adapt to adaptto modifiable value map modifiablevaluemap assert value map assertvaluemap title text update child resource fun title changed resolver commit retrieve check updated resource resource resolver get resource getresource full path fullpath assert not null assertnotnull expecting modified resource full path fullpath assert value map assertvaluemap adapt to adaptto value map valuemap title changed fun text delete test resource check resource resolver get resource getresource full path fullpath assert not null assertnotnull expecting resource delete full path fullpath resolver delete resolver commit assert null assertnull expecting full path fullpath deleted resolver get resource getresource full path fullpath
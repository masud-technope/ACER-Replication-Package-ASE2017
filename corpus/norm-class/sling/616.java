licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling samples url filter urlfilter impl java io exception ioexception java util arrays java util collection java util collections java util regex pattern javax servlet filter javax servlet filter chain filterchain javax servlet filter config filterconfig javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse org apache commons lang array utils arrayutils org apache felix scr annotations sling sling filter slingfilter org apache felix scr annotations sling sling filter scope slingfilterscope org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api request request path info requestpathinfo org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource value map valuemap org slf logger org slf logger factory loggerfactory illustration tech nique technique url filtering suffixes selectors extensions sling filter slingfilter scope sling filter scope slingfilterscope request order integer min url filter urlfilter filter string allowed extension pattern allowed extension pattern allowedextensionpattern string allowed extensions allowed extensions allowedextensions string allowed selector pattern allowed selector pattern allowedselectorpattern string allowed selectors allowed selectors allowedselectors string allowed suffix pattern allowed suffix pattern allowedsuffixpattern string allowed suffixes allowed suffixes allowedsuffixes collection string property names arrays as list aslist allowed suffixes allowed extensions allowed selectors allowed suffix pattern allowed selector pattern allowed extension pattern logger logger logger factory loggerfactory get logger getlogger get class getclass destroy do filter dofilter servlet request servletrequest request servlet response servletresponse response filter chain filterchain chain io exception ioexception servlet exception servletexception request sling http servlet request slinghttpservletrequest response sling http servlet response slinghttpservletresponse sling http servlet request slinghttpservletrequest sling request slingrequest sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse sling response slingresponse sling http servlet response slinghttpservletresponse response request path info requestpathinfo path info pathinfo sling request slingrequest get request path info getrequestpathinfo resource definition resource definitionresource find url filter definition resource findurlfilterdefinitionresource sling request slingrequest get resource getresource sling request slingrequest get resource resolver getresourceresolver definition resource definitionresource logger debug url filter definition resource definition resource definitionresource get path getpath value map valuemap properties definition resource definitionresource adapt to adaptto value map valuemap properties check selector checkselector path info pathinfo properties check suffix checksuffix path info pathinfo properties check extension checkextension path info pathinfo properties logger debug url filter definition resource passed request definition resource definitionresource get path getpath sling request slingrequest get request path info getrequestpathinfo logger info url filter definition resource failed request definition resource definitionresource get path getpath sling request slingrequest get request path info getrequestpathinfo sling response slingresponse send error senderror chain do filter dofilter request response init filter config filterconfig filter config filterconfig servlet exception servletexception check extension checkextension request path info requestpathinfo path info pathinfo value map valuemap properties check path info pathinfo get extension getextension allowed extensions allowed extension pattern properties check selector checkselector request path info requestpathinfo path info pathinfo value map valuemap properties check path info pathinfo get selector string getselectorstring allowed selectors allowed selector pattern properties check string string allowed array property name allowedarraypropertyname string allowed pattern property name allowedpatternpropertyname value map valuemap properties allowed string allowed values allowedvalues properties allowed array property name allowedarraypropertyname string allowed values allowedvalues allowed values allowedvalues length logger debug empty allowing allowed array property name allowedarraypropertyname array utils arrayutils allowed values allowedvalues logger debug string checking pattern allowed array property name allowedarraypropertyname string allowed pattern allowedpattern properties allowed pattern property name allowedpatternpropertyname string allowed pattern allowedpattern pattern matches allowed pattern allowedpattern logger debug allowed pattern allowedpattern match string allowed pattern allowedpattern logger debug allowed pattern allowedpattern match string allowed pattern allowedpattern string allowed pattern allowedpattern properties allowed pattern property name allowedpatternpropertyname string allowed pattern allowedpattern pattern matches allowed pattern allowedpattern logger debug allowed pattern allowedpattern match string allowed pattern allowedpattern check suffix checksuffix request path info requestpathinfo path info pathinfo value map valuemap properties check path info pathinfo get suffix getsuffix allowed suffixes allowed suffix pattern properties resource find url filter definition resource findurlfilterdefinitionresource resource resource resource resolver resourceresolver resolver resource resource content resource contentresource resource get child getchild jcr content content resource contentresource resource content resource contentresource string resource type resourcetype resource get resource type getresourcetype resource definition resource definitionresource find url filter definition resource findurlfilterdefinitionresource resource type resourcetype resolver definition resource definitionresource find url filter definition resource findurlfilterdefinitionresource resource get resource super type getresourcesupertype resolver definition resource definitionresource resource find url filter definition resource findurlfilterdefinitionresource string resource type resourcetype resource resolver resourceresolver resolver resource type resourcetype resource type resource typeresource resolver get resource getresource resource type resourcetype type resource typeresource value map valuemap properties type resource typeresource adapt to adaptto value map valuemap properties common current resource collections disjoint properties key set keyset property names type resource typeresource resource type resource type find url filter definition resource findurlfilterdefinitionresource type resource typeresource get resource super type getresourcesupertype resolver
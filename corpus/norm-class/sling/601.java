licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling junit script able scriptable org junit assert equals assertequals org junit fail java buffered reader bufferedreader java string reader stringreader java util array list arraylist java util collection org apache sling junit script able scriptable scriptable tests provider scriptabletestsprovider test context testcontext org junit test org junit runner run with runwith org junit run ners runners parameterized org junit run ners runners parameterized parameters single test runs path based tests run with runwith parameterized test all paths testallpaths string path string test url suffix test txt string passed test passed test all paths testallpaths string path path path j unit junit paths parameters collection object data collection object data array list arraylist object string path scriptable tests provider scriptabletestsprovider get test context gettestcontext test paths testpaths data add object path test url suffix data test verify content verifycontent exception test context testcontext ctx scriptable tests provider scriptabletestsprovider get test context gettestcontext content internal sling request http request httprequest req http request httprequest path http response httpresponse resp http response httpresponse ctx request processor requestprocessor process request processrequest req resp ctx resource resolver resourceresolver string content resp get content getcontent assert equals assertequals expecting http status path path resp get status getstatus expect single content test passed ignoring empty lines lines start test success testsuccess check test checktest content test success testsuccess fail unexpected content path path passed lines starting empty lines ncontent content check test checktest string content exception buffered reader bufferedreader buffered reader bufferedreader string reader stringreader content string passed count passedcount read line readline trim length ignore starts with startswith ignore trim equals passed passed count passedcount passed count passedcount empty lines comments test passed string test fails passed count passedcount
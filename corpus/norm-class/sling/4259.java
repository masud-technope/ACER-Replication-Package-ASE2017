licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi java file java input stream inputstream java util collection java util dictionary java util list java util map java util queue java util java util sorted set sortedset java util tree set treeset java util concurrent concurrent hash map concurrenthashmap java util concurrent concurrent linked queue concurrentlinkedqueue java util concurrent concurrent skip list set concurrentskiplistset org apache commons lang string utils stringutils org apache felix framework filter impl filterimpl org apache sling testing mock osgi osgi metadata util osgimetadatautil reference org apache sling testing mock osgi osgi service util osgiserviceutil reference info referenceinfo org apache sling testing mock osgi osgi service util osgiserviceutil service info serviceinfo org osgi framework bundle org osgi framework bundle context bundlecontext org osgi framework bundle event bundleevent org osgi framework bundle listener bundlelistener org osgi framework filter org osgi framework framework listener frameworklistener org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service event serviceevent org osgi framework service factory servicefactory org osgi framework service listener servicelistener org osgi framework service objects serviceobjects org osgi framework service reference servicereference org osgi framework service registration serviceregistration org osgi service configuration admin configurationadmin google common collect immutable list immutablelist mock link bundle context bundlecontext implementation mock bundle context mockbundlecontext bundle context bundlecontext mock bundle mockbundle bundle sorted set sortedset mock service registration mockserviceregistration registered services registeredservices concurrent skip list set concurrentskiplistset mock service registration mockserviceregistration map service listener servicelistener filter service listeners servicelisteners concurrent hash map concurrenthashmap service listener servicelistener filter queue bundle listener bundlelistener bundle listeners bundlelisteners concurrent linked queue concurrentlinkedqueue bundle listener bundlelistener configuration admin configurationadmin config admin configadmin mock configuration admin mockconfigurationadmin mock bundle context mockbundlecontext bundle mock bundle mockbundle register configuration admin register service registerservice configuration admin configurationadmin get name getname config admin configadmin override bundle get bundle getbundle bundle override filter create filter createfilter string invalid syntax exception invalidsyntaxexception match all filter matchallfilter filter impl filterimpl suppress warnings suppresswarnings unchecked override service registration serviceregistration register service registerservice string clazz object service dictionary properties string clazzes string utils stringutils is blank isblank clazz clazzes string clazzes string clazz register service registerservice clazzes service properties suppress warnings suppresswarnings unchecked override service registration serviceregistration register service registerservice clazz service dictionary string properties register service registerservice clazz get name getname service properties suppress warnings suppresswarnings unchecked override service registration serviceregistration register service registerservice string clazzes object service dictionary properties dictionary string object merged proper tes mergedpropertes map util maputil properties merge with osgi metadata propertiesmergewithosgimetadata service config admin configadmin properties mock service registration mockserviceregistration registration mock service registration mockserviceregistration bundle clazzes service merged proper tes mergedpropertes handle refs update on register handlerefsupdateonregister registration registered services registeredservices add registration notify service listeners notifyservicelisteners service event serviceevent registered registration get reference getreference registration check registered services service registration adding additional optional references creating conflict dependencies param registration handle refs update on register handlerefsupdateonregister mock service registration mockserviceregistration registration list reference info referenceinfo affected references affectedreferences osgi service util osgiserviceutil get matching dynamic references getmatchingdynamicreferences registered services registeredservices registration reference info referenceinfo reference info referenceinfo affected references affectedreferences reference reference reference info referenceinfo get reference getreference reference matches target filter matchestargetfilter registration get reference getreference reference get cardinality getcardinality mandatory unary reference violation exception referenceviolationexception mandatory unary reference type reference get interface type getinterfacetype fulfilled service reference get service class getserviceclass get name getname registration service failed mandatory multiple optional multiple optional unary osgi service util osgiserviceutil invoke bind method invokebindmethod reference reference info referenceinfo get service registration getserviceregistration get service getservice service info serviceinfo registration runtime exception runtimeexception unepxected cardinality reference get cardinality getcardinality unregister service unregisterservice mock service registration mockserviceregistration registration registered services registeredservices remove registration handle refs update on unregister handlerefsupdateonunregister registration notify service listeners notifyservicelisteners service event serviceevent unregistering registration get reference getreference check registered services service unregistration adding removing optional references creating conflict dependencies param registration handle refs update on unregister handlerefsupdateonunregister mock service registration mockserviceregistration registration list reference info referenceinfo affected references affectedreferences osgi service util osgiserviceutil get matching dynamic references getmatchingdynamicreferences registered services registeredservices registration reference info referenceinfo reference info referenceinfo affected references affectedreferences reference reference reference info referenceinfo get reference getreference reference matches target filter matchestargetfilter registration get reference getreference reference get cardinality getcardinality mandatory unary reference violation exception referenceviolationexception reference type reference get interface type getinterfacetype service reference get service class getserviceclass get name getname mandatory unary unregistration service failed mandatory multiple optional multiple optional unary checked mandatory multiple reference reference removed osgi service util osgiserviceutil invoke unbind method invokeunbindmethod reference reference info referenceinfo get service registration getserviceregistration get service getservice service info serviceinfo registration runtime exception runtimeexception unepxected cardinality reference get cardinality getcardinality suppress warnings suppresswarnings unchecked override service reference servicereference get service reference getservicereference string clazz service reference servicereference service refs servicerefs get service references getservicereferences clazz service refs servicerefs service refs servicerefs length service refs servicerefs invalid syntax exception invalidsyntaxexception suppress warnings suppresswarnings unchecked override service reference servicereference get service reference getservicereference clazz get service reference getservicereference clazz get name getname suppress warnings suppresswarnings unchecked override service reference servicereference get service references getservicereferences string clazz string filter invalid syntax exception invalidsyntaxexception service reference servicereference result tree set treeset service reference servicereference mock service registration mockserviceregistration service registration serviceregistration registered services registeredservices service registration serviceregistration matches clazz filter result add service registration serviceregistration get reference getreference result is empty isempty result to array toarray service reference servicereference result size suppress warnings suppresswarnings unchecked override collection service reference servicereference get service references getservicereferences clazz string filter invalid syntax exception invalidsyntaxexception immutable list immutablelist service reference servicereference copy of copyof get service references getservicereferences clazz get name getname filter suppress warnings suppresswarnings unchecked override service reference servicereference get all service references getallservicereferences string clazz string filter invalid syntax exception invalidsyntaxexception get service references getservicereferences get service references getservicereferences clazz filter override get service getservice service reference servicereference service reference servicereference mock service reference mockservicereference service reference servicereference get service getservice override unget service ungetservice service reference servicereference service reference servicereference override add service listener addservicelistener service listener servicelistener service listener servicelistener add service listener addservicelistener service listener servicelistener invalid syntax exception invalidsyntaxexception runtime exception runtimeexception override add service listener addservicelistener service listener servicelistener service listener servicelistener string filter invalid syntax exception invalidsyntaxexception service listeners servicelisteners service listener servicelistener create filter createfilter filter override remove service listener removeservicelistener service listener servicelistener service listener servicelistener service listeners servicelisteners remove service listener servicelistener notify service listeners notifyservicelisteners event type eventtype service reference servicereference service reference servicereference service event serviceevent event service event serviceevent event type eventtype service reference servicereference map entry service listener servicelistener filter entry service listeners servicelisteners entry set entryset entry get value getvalue entry get value getvalue match service reference servicereference entry get key getkey service changed servicechanged event override add bundle listener addbundlelistener bundle listener bundlelistener bundle listener bundlelistener bundle listeners bundlelisteners bundle listener bundlelistener bundle listeners bundlelisteners add bundle listener bundlelistener override remove bundle listener removebundlelistener bundle listener bundlelistener bundle listener bundlelistener bundle listeners bundlelisteners remove bundle listener bundlelistener send bundle event sendbundleevent bundle event bundleevent bundle event bundleevent bundle listener bundlelistener bundle listener bundlelistener bundle listeners bundlelisteners bundle listener bundlelistener bundle changed bundlechanged bundle event bundleevent override add framework listener addframeworklistener framework listener frameworklistener framework listener frameworklistener accept method ignore override remove framework listener removeframeworklistener framework listener frameworklistener framework listener frameworklistener accept method ignore suppress warnings suppresswarnings unchecked locate service locateservice string service reference servicereference reference mock service registration mockserviceregistration service registration serviceregistration registered services registeredservices service registration serviceregistration get reference getreference reference service registration serviceregistration get service getservice override bundle get bundles getbundles bundle override string get property getproperty string mock implementation simulate property deactivates bundles registered mocked bundle context shutdown mock service registration mockserviceregistration service registration serviceregistration immutable list immutablelist copy of copyof registered services registeredservices reverse mock osgi mockosgi deactivate service registration serviceregistration get service getservice service registration serviceregistration get properties getproperties no scr metadata exception noscrmetadataexception unsupported operations override bundle install bundle installbundle string unsupported operation exception unsupportedoperationexception override bundle install bundle installbundle string input stream inputstream input stream inputstream unsupported operation exception unsupportedoperationexception override bundle get bundle getbundle unsupported operation exception unsupportedoperationexception override file get data file getdatafile string unsupported operation exception unsupportedoperationexception override bundle get bundle getbundle string location unsupported operation exception unsupportedoperationexception override service registration serviceregistration register service registerservice clazz service factory servicefactory factory dictionary string properties unsupported operation exception unsupportedoperationexception override service objects serviceobjects get service objects getserviceobjects service reference servicereference reference unsupported operation exception unsupportedoperationexception
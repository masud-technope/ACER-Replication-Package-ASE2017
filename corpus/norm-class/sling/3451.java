licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models impl org junit org mockito mockito java util hashtable javax inject inject org apache sling models annotations model org apache sling models impl injector custom annotation customannotation org apache sling models impl injector custom annotation injector customannotationinjector org apache sling models impl injector simple injector simpleinjector org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner org osgi framework bundle context bundlecontext org osgi service component component context componentcontext run with runwith mockito unit runner mockitojunitrunner custom injector test custominjectortest mock component context componentcontext component ctx componentctx mock bundle context bundlecontext bundle context bundlecontext model adapter factory modeladapterfactory factory setup component ctx componentctx get bundle context getbundlecontext then return thenreturn bundle context bundlecontext component ctx componentctx get properties getproperties then return thenreturn hashtable string object factory model adapter factory modeladapterfactory factory activate component ctx componentctx test test injector which does not implement annotation processor testinjectorwhichdoesnotimplementannotationprocessor factory bind injector bindinjector simple injector simpleinjector service properties map servicepropertiesmap test model testmodel model factory get adapter getadapter object test model testmodel assert not null assertnotnull model assert equals assertequals test string model get test string getteststring test test injector with custom annotation testinjectorwithcustomannotation custom annotation injector customannotationinjector injector custom annotation injector customannotationinjector factory bind injector bindinjector simple injector simpleinjector service properties map servicepropertiesmap factory bind injector bindinjector injector service properties map servicepropertiesmap factory bind inject annotation processor factory bindinjectannotationprocessorfactory injector service properties map servicepropertiesmap custom annotation model customannotationmodel model factory get adapter getadapter object custom annotation model customannotationmodel assert not null assertnotnull model assert equals assertequals model get default string getdefaultstring assert equals assertequals custom model get custom string getcustomstring model adaptables object test model testmodel inject string get test string getteststring model adaptables object custom annotation model customannotationmodel custom annotation customannotation string get default string getdefaultstring inject string get custom string getcustomstring
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl helper java byte array output stream bytearrayoutputstream java i o exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java serializable java unsupported encoding exception unsupportedencodingexception java util arrays java util bit set bitset java util hash map hashmap java util locale org apache sling api sling exception slingexception uri uniform resource identifiers version rfc purpose support ting supportting parsing uri reference extend specific protocols character encoding protocol transported charset document uri escaped form escaping unescaping completed uri change semantics implement ers implementers careful escape unescape string unescaping unescaped string lead misinterpreting percent data character escaped character vice versa escaping escaped string order avoid problems data types blockquote pre uri character sequence octet sequence original character sequence string pre blockquote uri sequence characters array type represented sequence octets array uri syntactic components blockquote pre general written absolute uri scheme scheme specific uri scheme authority path query syntax absoluteuri scheme hier opaque hier net path abs path query net path authority abs path abs path path segments pre blockquote examples illustrate uri common pre ftp ftp rfc rfc txt ftp scheme file transfer protocol services gopher spi naltap spinaltap micro umn weather california los angeles gopher scheme gopher gopher protocol services http math uio faq compression faq html http scheme hypertext transfer protocol services mailto mduerst ifi unizh mailto scheme electronic mail add res ses addresses news comp infos ystems infosystems servers unix news scheme use net usenet news groups articles telnet melvyl ucop telnet scheme int eractive interactive services telnet protocol pre not ice notice modifications url rfc relative url rfc expressions uri pre escaped uri forms uri constructor get raw xxx getrawxxx method string get escaped xxx getescapedxxx method string to string tostring method unescaped uri forms uri string constructor string getxxx method pre modified version uri distributed http client involve removing dependencies http client classes commons code c codec library avail methods get bytes getbytes get ascii string getasciistring get string getstring get ascii bytes getasciibytes copied http client encoding utils encodingutils encode url encodeurl decode url decodeurl copied commons code c codec url code c urlcodec signatures simplified adapted exception thrown changed link uri exception uriexception uri cloneable comparable uri serializable create instance internal uri construct uri string charset input string escaped unescaped form param uri character sequence param escaped uri character sequence escaped form param charset charset string escape encoding required uri exception uriexception uri created null pointer exception nullpointerexception input string code code get protocol charset getprotocolcharset uri string escaped string charset uri exception uriexception null pointer exception nullpointerexception protocol charset protocolcharset charset parse uri reference parseurireference escaped construct uri string charset input string escaped unescaped form param uri character sequence param escaped uri character sequence escaped form uri exception uriexception uri created null pointer exception nullpointerexception input string code code get protocol charset getprotocolcharset uri string escaped uri exception uriexception null pointer exception nullpointerexception parse uri reference parseurireference escaped construct general uri components blockquote pre uri reference absoluteuri relativeuri fragment absoluteuri scheme hier opaque opaque uric slash uric pre blockquote absolute uri scheme scheme specific fragment param scheme scheme string param scheme specific part schemespecificpart scheme specific param fragment fragment string uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string scheme specific part schemespecificpart string fragment uri exception uriexception validate contruct uri character sequence scheme uri exception uriexception uri exception uriexception parsing scheme required scheme to lower case tolowercase to char array tochararray validate uri scheme absoluteuri scheme uri exception uriexception uri exception uriexception parsing incorrect scheme opaque encode scheme specific part schemespecificpart allowed opaque get protocol charset getprotocolcharset flag opaque fragment fragment fragment to char array tochararray seturi construct general uri components blockquote pre uri reference absoluteuri relativeuri fragment absoluteuri scheme hier opaque relativeuri net path abs path rel path query hier net path abs path query pre blockquote absolute uri scheme path query fragment relative uri path query fragment param scheme scheme string param authority authority string param path path string param query query string param fragment fragment string uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string authority string path string query string fragment uri exception uriexception validate contruct uri character sequence string builder stringbuilder buff string builder stringbuilder scheme buff append scheme buff append authority buff append buff append authority path accept empty path scheme authority path starts with startswith uri exception uriexception uri exception uriexception parsing abs path requested buff append path query buff append buff append query fragment buff append buff append fragment parse uri reference parseurireference buff to string tostring construct general uri components param scheme scheme string param userinfo userinfo string param host host string param port port number uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string userinfo string host port uri exception uriexception scheme userinfo host port construct general uri components param scheme scheme string param userinfo userinfo string param host host string param port port number param path path string uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string userinfo string host port string path uri exception uriexception scheme userinfo host port path construct general uri components param scheme scheme string param userinfo userinfo string param host host string param port port number param path path string param query query string uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string userinfo string host port string path string query uri exception uriexception scheme userinfo host port path query construct general uri components param scheme scheme string param userinfo userinfo string param host host string param port port number param path path string param query query string param fragment fragment string uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string userinfo string host port string path string query string fragment uri exception uriexception scheme host userinfo userinfo host port port path query fragment construct general uri components param scheme scheme string param host host string param path path string param fragment fragment string uri exception uriexception uri created get default protocol charset getdefaultprotocolcharset uri string scheme string host string path string fragment uri exception uriexception scheme host path fragment construct general uri relative uri string param base base uri param relative relative uri string param escaped uri character sequence escaped form uri exception uriexception uri created uri uri base string relative escaped uri exception uriexception base uri relative escaped construct general uri relative uri blockquote pre uri reference absoluteuri relativeuri fragment relativeuri net path abs path rel path query pre blockquote resolving relative references absolute form strong examples resolving relative uri references strong object defined base uri blockquote pre http pre blockquote relative uri resolved normal examples blockquote pre http http http http http http http current document http http http http http http http http http http http http http pre blockquote uri schemes hierarchical syntax matching hier syntax relative references param base base uri param relative relative uri uri exception uriexception uri created uri uri base uri relative uri exception uriexception base scheme uri exception uriexception uri exception uriexception parsing base uri required base scheme scheme base scheme authority base authority net path base net path base opaque relative opaque scheme base scheme opaque base opaque relative opaque opaque relative opaque fragment relative fragment seturi schemes equal schemesequal arrays equals base scheme relative scheme relative scheme schemes equal schemesequal relative authority scheme relative scheme net path relative net path authority relative authority relative server server relative server userinfo relative userinfo host relative host port relative port relative reg reg relative reg abs path relative abs path rel path relative rel path path relative path base authority relative scheme net path base net path authority base authority base server server base server userinfo base userinfo host base host port base port base reg reg base reg relative authority net path relative net path authority relative authority relative server server relative server userinfo relative userinfo host relative host port relative port relative reg reg relative reg abs path relative abs path rel path relative rel path path relative path resolve path query relative authority relative scheme schemes equal schemesequal relative path relative path length relative query handle reference current document rfc step path base path query base query path resolve path resolvepath base path relative path base query removed relative query query relative query base fragment removed relative fragment fragment relative fragment seturi rep arse reparse newly built uri ensure flags correctly todo parse uri reference parseurireference string uri instance variables version serialization serialversionuid cache hash code uri hash uniform resource identifier uri uri escaped form escaping unescaping completed uri change semantics uri charset protocol uri instance string protocol charset protocolcharset charset protocol rfc string default protocol charset defaultprotocolcharset utf charset document rfc platform charset document string default document charset defaultdocumentcharset string default document charset by locale defaultdocumentcharsetbylocale string default document charset by platform defaultdocumentcharsetbyplatform initializer default document charset defaultdocumentcharset locale locale locale get default getdefault order support comp at iblity compatiblity locale default document charset by locale defaultdocumentcharsetbylocale locale to charset map localetocharsetmap get charset getcharset locale document charset default document charset defaultdocumentcharset default document charset by locale defaultdocumentcharsetbylocale order support platform encoding default document charset by platform defaultdocumentcharsetbyplatform system get property getproperty file encoding security exception securityexception ignore default document charset defaultdocumentcharset document charset default document charset defaultdocumentcharset default document charset by platform defaultdocumentcharsetbyplatform scheme scheme opaque opaque authority authority userinfo userinfo host host port port path path query query fragment fragment root path root path rootpath gen erous generous characters component validation percent character reserved purpose escape indicator escaped order data uri bit set bitset percent bit set bitset initializer percent percent bit set bitset digit blockquote pre digit quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset digit bit set bitset initializer digit digit bit set bitset alpha blockquote pre alpha low alpha lowalpha upalpha pre blockquote bit set bitset alpha bit set bitset initializer alpha alpha alpha bit set bitset alphanum join alpha amp digit blockquote pre alphanum alpha digit pre blockquote bit set bitset alphanum bit set bitset initializer alphanum alphanum alpha alphanum digit bit set bitset hex blockquote pre hex digit quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset hex bit set bitset initializer hex hex digit hex hex bit set bitset escaped blockquote pre escaped hex hex pre blockquote bit set bitset escaped bit set bitset initializer escaped escaped percent escaped hex bit set bitset mark blockquote pre mark quot quot quot quot quot quot quot quot quot tilde quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset mark bit set bitset initializer mark mark mark mark mark mark mark mark mark mark data characters allowed uri reserved purpose called unreserved blockquote pre unreserved alphanum mark pre blockquote bit set bitset unreserved bit set bitset initializer unreserved unreserved alphanum unreserved mark bit set bitset reserved blockquote pre reserved quot quot quot quot quot quot quot quot quot quot quot amp quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset reserved bit set bitset initializer reserved reserved reserved reserved reserved reserved reserved reserved reserved reserved reserved bit set bitset uric blockquote pre uric reserved unreserved escaped pre blockquote bit set bitset uric bit set bitset initializer uric uric reserved uric unreserved uric escaped bit set bitset fragment alias uric blockquote pre fragment uric pre blockquote bit set bitset fragment uric bit set bitset query alias uric blockquote pre query uric pre blockquote bit set bitset query uric bit set bitset pchar blockquote pre pchar unreserved escaped quot quot quot quot quot amp quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset pchar bit set bitset initializer pchar pchar unreserved pchar escaped pchar pchar pchar pchar pchar pchar pchar bit set bitset param alias pchar blockquote pre param pchar pre blockquote bit set bitset param pchar bit set bitset segment blockquote pre segment pchar param pre blockquote bit set bitset segment bit set bitset initializer segment segment pchar segment segment param bit set bitset path segments blockquote pre path segments segment segment pre blockquote bit set bitset path segments bit set bitset initializer path segments path segments path segments segment uri absolute path blockquote pre abs path path segments pre blockquote bit set bitset abs path bit set bitset initializer abs path abs path abs path path segments uri bitset encoding typical slash characters blockquote pre uric slash unreserved escaped quot quot quot quot quot quot quot quot quot amp quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset uric slash bit set bitset initializer uric slash uric slash unreserved uric slash escaped uric slash uric slash uric slash uric slash uric slash uric slash uric slash uric slash uric slash uri bitset combines uric slash uric blockquote pre opaque uric slash uric pre blockquote bit set bitset opaque bit set bitset initializer opaque generous character include slash opaque uric slash opaque uric uri bitset combines absolute path opaque blockquote pre path abs path opaque pre blockquote bit set bitset path bit set bitset initializer path path abs path path opaque port log ical logical alias digit bit set bitset port digit bit set bitset combines digit dot i pv ipv address blockquote pre i pv ipv address digit digit digit digit pre blockquote bit set bitset i pv ipv address bit set bitset initializer i pv ipv address i pv ipv address digit i pv ipv address rfc blockquote pre i pv ipv address hex part hexpart i pv ipv address pre blockquote bit set bitset i pv ipv address bit set bitset initializer i pv ipv address reference hex part hexpart i pv ipv address hex i pv ipv address i pv ipv address i pv ipv address rfc blockquote pre i pv ipv reference i pv ipv address pre blockquote bit set bitset i pv ipv reference bit set bitset initializer i pv ipv reference i pv ipv reference i pv ipv reference i pv ipv address i pv ipv reference bit set bitset toplabel blockquote pre toplabel alpha alpha alphanum alphanum pre blockquote bit set bitset toplabel bit set bitset initializer toplabel toplabel alphanum toplabel bit set bitset dom ainlabel domainlabel blockquote pre dom ainlabel domainlabel alphanum alphanum alphanum alphanum pre blockquote bit set bitset dom ainlabel domainlabel toplabel bit set bitset hostname blockquote pre hostname dom ainlabel domainlabel toplabel pre blockquote bit set bitset hostname bit set bitset initializer hostname hostname toplabel hostname dom ainlabel domainlabel hostname bit set bitset host blockquote pre host hostname i pv ipv address i pv ipv reference pre blockquote bit set bitset host bit set bitset initializer host host hostname host i pv ipv address i pv ipv address host i pv ipv reference bit set bitset hostport blockquote pre hostport host port pre blockquote bit set bitset hostport bit set bitset initializer hostport hostport host hostport hostport port bit set bitset userinfo blockquote pre userinfo unreserved escaped amp pre blockquote bit set bitset userinfo bit set bitset initializer userinfo userinfo unreserved userinfo escaped userinfo userinfo userinfo userinfo userinfo userinfo userinfo bit set bitset userinfo component user password bit set bitset userinfo bit set bitset initializer userinfo userinfo userinfo reserved authority userinfo clear userinfo clear userinfo clear userinfo clear userinfo clear bit set bitset server blockquote pre server userinfo hostport pre blockquote bit set bitset server bit set bitset initializer server server userinfo server server hostport bit set bitset reg blockquote pre reg unreserved escaped quot quot quot quot quot quot quot quot quot quot quot amp quot quot quot quot quot pre blockquote bit set bitset reg bit set bitset initializer reg reg unreserved reg escaped reg reg reg reg reg reg reg reg bit set bitset authority blockquote pre authority server reg pre blockquote bit set bitset authority bit set bitset initializer authority authority server authority reg bit set bitset scheme blockquote pre scheme alpha alpha digit quot quot quot quot quot quot pre blockquote bit set bitset scheme bit set bitset initializer scheme scheme alpha scheme digit scheme scheme scheme bit set bitset rel segment blockquote pre rel segment unreserved escaped quot quot quot quot quot amp quot quot quot quot quot quot quot quot quot pre blockquote bit set bitset rel segment bit set bitset initializer rel segment rel segment unreserved rel segment escaped rel segment rel segment rel segment rel segment rel segment rel segment rel segment bit set bitset rel path blockquote pre rel path rel segment abs path pre blockquote bit set bitset rel path bit set bitset initializer rel path rel path rel segment rel path abs path bit set bitset net path blockquote pre net path authority abs path pre blockquote bit set bitset net path bit set bitset initializer net path net path net path authority net path abs path bit set bitset hier blockquote pre hier net path abs path query pre blockquote bit set bitset hier bit set bitset initializer hier hier net path hier abs path hier aleady included hier query bit set bitset relativeuri blockquote pre relativeuri net path abs path rel path query pre blockquote bit set bitset relativeuri bit set bitset initializer relativeuri relativeuri net path relativeuri abs path relativeuri rel path relativeuri aleady included relativeuri query bit set bitset absoluteuri blockquote pre absoluteuri scheme hier opaque pre blockquote bit set bitset absoluteuri bit set bitset initializer absoluteuri absoluteuri scheme absoluteuri absoluteuri hier absoluteuri opaque bit set bitset uri reference blockquote pre uri reference absoluteuri relativeuri fragment pre blockquote bit set bitset uri reference bit set bitset initializer uri reference uri reference absoluteuri uri reference relativeuri uri reference uri reference fragment char acters characters disallowed uri syntax excluded ascii char acters characters control space delims unwise bit set bitset control bit set bitset control bit set bitset initializer control control control bit set bitset space bit set bitset space bit set bitset initializer space space bit set bitset delims bit set bitset delims bit set bitset initializer delims delims delims delims delims delims bit set bitset unwise bit set bitset unwise bit set bitset initializer unwise unwise unwise unwise unwise unwise unwise unwise unwise bit set bitset disallowed rel path bit set bitset disallowed rel path uric disallowed rel path and not andnot rel path bit set bitset disallowed opaque bit set bitset disallowed opaque uric disallowed opaque and not andnot opaque bit set bitset allowed authority bit set bitset allowed authority authority allowed authority clear bit set bitset allowed opaque bit set bitset allowed opaque opaque allowed opaque clear bit set bitset allowed reg bit set bitset allowed reg reg allowed reg clear bit set bitset allowed userinfo bit set bitset allowed userinfo userinfo allowed userinfo clear bit set bitset allowed userinfo bit set bitset allowed userinfo userinfo allowed userinfo clear bit set bitset allowed i pv ipv reference bit set bitset allowed i pv ipv reference i pv ipv reference allowed i pv ipv reference clear allowed i pv ipv reference clear bit set bitset allowed host bit set bitset allowed host hostname allowed host allowed i pv ipv reference bit set bitset allowed authority bit set bitset allowed authority server allowed authority reg allowed authority clear allowed authority clear allowed authority clear allowed authority clear allowed authority clear bit set bitset allowed abs path bit set bitset allowed abs path abs path allowed abs path and not andnot percent allowed abs path clear bit set bitset allowed rel path bit set bitset allowed rel path rel path allowed rel path clear allowed rel path clear bit set bitset allowed path bit set bitset allowed path abs path allowed path clear allowed path clear allowed path clear allowed path clear bit set bitset allowed query bit set bitset allowed query uric allowed query clear bit set bitset allowed query bit set bitset allowed query allowed query allowed query and not andnot reserved bit set bitset allowed fragment bit set bitset allowed fragment uric allowed fragment clear hier opaque net path abs path rel path reg server hostname i pv ipv address i pv ipv reference encode string original bit set bitset allowed string charset uri exception uriexception original illegal argument exception illegalargumentexception original string allowed illegal argument exception illegalargumentexception allowed bitset raw data rawdata encode url encodeurl allowed get bytes getbytes original charset get ascii string getasciistring raw data rawdata to char array tochararray string decode component string charset uri exception uriexception component illegal argument exception illegalargumentexception component array chars decode string component charset string decode string component string charset uri exception uriexception component illegal argument exception illegalargumentexception component array chars raw data rawdata decode url decodeurl get ascii bytes getasciibytes component get string getstring raw data rawdata charset prev alidate prevalidate string component bit set bitset disallowed prev alidate prevalidate component disallowed characters component undefined target component to char array tochararray target length disallowed target validate uri characters specific component component performed escape encoding doesn include escaped characters param component characters sequence component param generous characters allowed component correct uri character sequence validate component bit set bitset generous validate component generous characters validate component generous validate uri characters specific component component performed escape encoding doesn include escaped characters str ict strict generous str ict strict validation performed called method param component characters sequence component param soffset starting offset component param eoffset offset component length component param generous characters allowed component correct uri character sequence validate component soffset eoffset bit set bitset generous validate component generous characters eoffset eoffset component length soffset eoffset generous component order avoid pos silbity possilbity conflict ascii characters parse uri reference code string code character encoding local system document regular expression breaking uri reference components blockquote pre pre blockquote matching expression http jakarta apache org ietf uri sub expression subexpression matches blockquote pre http scheme http jakarta apache org authority jakarta apache org path ietf uri undefined query undefined fragment pre blockquote param original original character sequence param escaped code code code original code escaped uri exception uriexception error occurs parse uri reference parseurireference string original escaped uri exception uriexception validate contruct uri character sequence original uri exception uriexception uri reference required string tmp original trim length string sequence characters equal length array length tmp length remove delimiters angle brackets uri length first delimiter firstdelimiter tmp char at charat validate first delimiter firstdelimiter delims length last delimiter lastdelimiter tmp char at charat length validate last delimiter lastdelimiter delims tmp tmp substring length length length starting test flag uri started path component is started from path isstartedfrompath at colon atcolon tmp index of indexof at slash atslash tmp index of indexof at colon atcolon tmp starts with startswith at slash atslash at slash atslash at colon atcolon is started from path isstartedfrompath blockquote pre pre blockquote index first of indexfirstof tmp is started from path isstartedfrompath parse scheme blockquote pre scheme http pre blockquote length tmp char at charat target tmp substring to lower case tolowercase to char array tochararray validate target scheme scheme target uri exception uriexception incorrect scheme parse authority component blockquote pre authority jakarta apache org pre blockquote reset flags net path abs path rel path hier length tmp char at charat flag hier length tmp char at charat is started from path isstartedfrompath temporary start search index first of indexfirstof tmp tmp substring length tmp length parse authority parseauthority tmp substring escaped flag net path flag abs path parse path component blockquote pre path ietf uri pre blockquote length rel path rel segment abs path index first of indexfirstof tmp tmp length abs path escaped prev alidate prevalidate tmp substring disallowed rel path escaped validate tmp substring to char array tochararray rel path flag rel path escaped prev alidate prevalidate tmp substring disallowed opaque escaped validate tmp substring to char array tochararray opaque flag opaque path component empty path string tmp substring escaped set raw path setrawpath to char array tochararray set path setpath charset escape encoding string charset get protocol charset getprotocolcharset parse query component blockquote pre query undefined pre blockquote length tmp char at charat tmp index of indexof tmp length escaped query tmp substring to char array tochararray validate query uric uri exception uriexception invalid query query encode tmp substring allowed query charset parse fragment component blockquote pre fragment pre blockquote length tmp char at charat length empty fragment fragment to char array tochararray fragment escaped tmp substring to char array tochararray encode tmp substring allowed fragment charset uri seturi earlier searched occurrance string param string indexed param delims delimiters earlier delimiters index first of indexfirstof string string delims index first of indexfirstof delims earlier searched occurrance string param string indexed param delims delimiters param offset earlier delimiters index first of indexfirstof string string delims offset length delims delims length check bound aries boundaries offset offset offset length min length delim delims to char array tochararray delim length index of indexof delim offset min min min length min earlier searched occurrance array param character array indexed param delim delimiter ealier delimiter index first of indexfirstof delim index first of indexfirstof delim earlier searched occurrance array param character array indexed param delim delimiter param offset offset ealier delimiter index first of indexfirstof delim offset length check bound aries boundaries offset offset offset length offset length delim parse authority component param original original character sequence authority component param escaped code code code original code escaped uri exception uriexception error occurs parse authority parseauthority string original escaped uri exception uriexception reset flags reg server hostname i pv ipv address i pv ipv reference charset escape encoding string charset get protocol charset getprotocolcharset has port hasport original index of indexof protocol ext ented extented uri supports specific userinfo userinfo escaped original substring to char array tochararray encode original substring allowed userinfo charset original index of indexof original index of indexof uri exception uriexception uri exception uriexception parsing i pv ipv reference i pv ipv reference excluded host escaped original substring to char array tochararray encode original substring allowed i pv ipv reference charset flag i pv ipv reference i pv ipv reference original index of indexof original length has port hasport remindme doesn pre validation host original substring to char array tochararray validate host i pv ipv address flag i pv ipv address validate host hostname flag hostname flag reg reg reset flags server based naming authority server hostname i pv ipv address i pv ipv reference registry based naming authority escaped authority original to char array tochararray validate authority reg uri exception uriexception invalid authority authority encode original allowed reg charset original length has port hasport original char at charat empty port integer parse int parseint original substring number format exception numberformatexception error uri exception uriexception uri exception uriexception parsing invalid port number server based naming authority string builder stringbuilder buf string builder stringbuilder userinfo userinfo buf append userinfo buf append host buf append host port buf append buf append port authority buf to string tostring to char array tochararray flag server parsed uri getrawuri seturi uri string builder stringbuilder buf string builder stringbuilder scheme buf append scheme buf append net path buf append authority authority buf append authority opaque opaque buf append opaque path hier relativeuri path length buf append path query query buf append buf append query ignore fragment identifier uri buf to string tostring to char array tochararray hash test methods uri absolute iif uri absoluteuri isabsoluteuri scheme uri relative iif uri relativeuri isrelativeuri scheme absoluteuri uri hier iif absoluteuri hier is hier part ishierpart hier absoluteuri uri opaque iif absoluteuri opaque is opaque part isopaquepart opaque relativeuri heir uri net path function authority method iif relativeuri heir net path has authority hasauthority is net path isnetpath net path authority relativeuri hier uri abs path iif relativeuri hier abs path is abs path isabspath abs path relativeuri uri rel path iif relativeuri rel path is rel path isrelpath rel path uri authority function net path method iif uri authority is net path isnetpath has authority hasauthority authority net path authority component uri reg iif authority component reg is reg name isregname reg authority component uri server iif authority component server is server isserver server uri userinfo iif uri userinfo has user info hasuserinfo userinfo host uri hostname iif host hostname is host name ishostname hostname host uri i pv ipv address iif host i pv ipv address isipv address i pv ipv address host uri i pv ipv reference iif host i pv ipv reference isipv reference i pv ipv reference uri query iif uri query has query hasquery query uri fragment iif uri fragment has fragment hasfragment fragment charset charset protocol character store files remain local decision depend capability local operating systems prior exc hange exchange uri s uris converted iso i ec iec format utf encoded app roach approach allowing intern at ional international exc hange exchange uri s uris compatibility older systems code positions ascii characters identical sequence utf individual uri scheme require single charset define charset provide charset time set ter setter method succeeded code default charset changed defaultcharsetchanged code exception api program mer programmer follow code pre org apache util uri default charset changed defaultcharsetchanged uri set default protocol charset setdefaultprotocolcharset utf default charset changed defaultcharsetchanged exception user get reason code getreasoncode default charset changed defaultcharsetchanged protocol charset user protocol charset changed user document charset changed pre code api program mer programmer responsible correct charset application remember charset support param charset charset protocol default charset changed defaultcharsetchanged charset changed set default protocol charset setdefaultprotocolcharset string charset default charset changed defaultcharsetchanged default protocol charset defaultprotocolcharset charset default charset changed defaultcharsetchanged default charset changed defaultcharsetchanged protocol charset protocol charset changed charset protocol individual uri scheme require single charset define charset provide charset work globally requires support number character sets convert single preferred character support global compatibility recommended clients servers utf encoding exc hanging exchanging uri s uris charset string string get default protocol charset getdefaultprotocolcharset default protocol charset defaultprotocolcharset protocol charset current uri instance constructor instance contructor protocol charset protocol charset string get default protocol charset getdefaultprotocolcharset string get protocol charset getprotocolcharset protocol charset protocolcharset protocol charset protocolcharset default protocol charset defaultprotocolcharset charset document not ice notice mixed characters ftp host korean name space koreannamespace chinese resource chineseresource handle direct ional directional display character sets protocol charset simply implemented insertion bidi control characters points comp osition composition extracted time set ter setter method succeeded code default charset changed defaultcharsetchanged code exception api program mer programmer follow code pre org apache util uri default charset changed defaultcharsetchanged uri set default document charset setdefaultdocumentcharset euc default charset changed defaultcharsetchanged exception user get reason code getreasoncode default charset changed defaultcharsetchanged document charset user document charset changed user protocol charset changed pre code api program mer programmer responsible correct charset application remember charset support param charset charset document default charset changed defaultcharsetchanged charset changed set default document charset setdefaultdocumentcharset string charset default charset changed defaultcharsetchanged default document charset defaultdocumentcharset charset default charset changed defaultcharsetchanged default charset changed defaultcharsetchanged document charset document charset changed recommended charset document charset string string get default document charset getdefaultdocumentcharset default document charset defaultdocumentcharset charset document locale charset string locale string get default document charset by locale getdefaultdocumentcharsetbylocale default document charset by locale defaultdocumentcharsetbylocale charset document platform charset string platform string get default document charset by platform getdefaultdocumentcharsetbyplatform default document charset by platform defaultdocumentcharsetbyplatform scheme scheme scheme get raw scheme getrawscheme scheme scheme scheme undefined scheme string get scheme getscheme scheme string scheme authority authority type server hostport hostname i pv ipv address i pv ipv reference reg blockquote pre authority server reg pre blockquote param escaped authority escapedauthority raw escaped authority uri exception uriexception link parse authority parseauthority java lang string fails null pointer exception nullpointerexception authority set raw authority setrawauthority escaped authority escapedauthority uri exception uriexception null pointer exception nullpointerexception parse authority parseauthority string escaped authority escapedauthority seturi authority type server hostport hostname i pv ipv address i pv ipv reference reg note set authority setauthority method escape encoding reason param escaped authority escapedauthority escaped authority string uri exception uriexception link parse authority parseauthority java lang string fails set escaped authority setescapedauthority string escaped authority escapedauthority uri exception uriexception parse authority parseauthority escaped authority escapedauthority seturi raw escaped authority raw escaped authority get raw authority getrawauthority authority escaped authority escaped authority string get escaped authority getescapedauthority authority string authority authority authority uri exception uriexception link decode fails string get authority getauthority uri exception uriexception authority decode authority get protocol charset getprotocolcharset userinfo raw escaped userinfo raw escaped userinfo get authority getauthority get raw user info getrawuserinfo userinfo escaped userinfo escaped userinfo get authority getauthority string get escaped user info getescapeduserinfo userinfo string userinfo userinfo userinfo uri exception uriexception link decode fails get authority getauthority string get user info getuserinfo uri exception uriexception userinfo decode userinfo get protocol charset getprotocolcharset host host blockquote pre host hostname i pv ipv address i pv ipv reference pre blockquote host get authority getauthority get raw host getrawhost host host blockquote pre host hostname i pv ipv address i pv ipv reference pre blockquote host uri exception uriexception link decode fails get authority getauthority string get host gethost uri exception uriexception host decode host get protocol charset getprotocolcharset port port order specfic port specific protocol supported extended uri server based naming authority port port scheme server based naming authority supported specific uri get port getport port path raw escaped path param escaped path escapedpath path character sequence uri exception uriexception encoding error proper initial instance encode set raw path setrawpath escaped path escapedpath uri exception uriexception escaped path escapedpath escaped path escapedpath length path opaque escaped path escapedpath seturi remove fragment identifier escaped path escapedpath remove fragment identifier removefragmentidentifier escaped path escapedpath net path abs path escaped path escapedpath uri exception uriexception uri exception uriexception parsing absolute path validate escaped path escapedpath abs path uri exception uriexception uri exception uriexception escaping escaped absolute path valid path escaped path escapedpath rel path index first of indexfirstof escaped path escapedpath uri exception uriexception uri exception uriexception parsing incorrect path validate escaped path escapedpath rel segment validate escaped path escapedpath abs path validate escaped path escapedpath rel segment uri exception uriexception uri exception uriexception escaping escaped relative path valid path escaped path escapedpath opaque uric slash escaped path escapedpath validate escaped path escapedpath uric uri exception uriexception uri exception uriexception escaping escaped opaque valid opaque escaped path escapedpath uri exception uriexception uri exception uriexception parsing incorrect path seturi escaped path param escaped path escapedpath escaped path string uri exception uriexception encoding error proper initial instance encode set escaped path setescapedpath string escaped path escapedpath uri exception uriexception escaped path escapedpath path opaque seturi set raw path setrawpath escaped path escapedpath to char array tochararray path param path path string uri exception uriexception incorrectly fragment encode set path setpath string path uri exception uriexception path path length path opaque path path to char array tochararray seturi charset escape encoding string charset get protocol charset getprotocolcharset net path abs path path encode path allowed abs path charset rel path string builder stringbuilder buff string builder stringbuilder path length path index of indexof uri exception uriexception uri exception uriexception parsing incorrect relative path buff append encode path substring allowed rel path charset buff append encode path substring allowed abs path charset buff append encode path allowed rel path charset path buff to string tostring to char array tochararray opaque string builder stringbuilder buf string builder stringbuilder buf insert encode path substring uric slash charset buf insert encode path substring uric charset opaque buf to string tostring to char array tochararray uri exception uriexception uri exception uriexception parsing incorrect path seturi resolve base relative path param base path basepath character array base path basepath param rel path relpath character array rel path relpath resolved path uri exception uriexception higher path level resolved resolve path resolvepath base path basepath rel path relpath uri exception uriexception remindme paths string base base path basepath string base path basepath path empty rel path relpath rel path relpath length normalize base path basepath rel path relpath normalize rel path relpath base last index of lastindexof base path basepath base substring to char array tochararray string builder stringbuilder buff string builder stringbuilder base length rel path relpath length buff append base substring buff append rel path relpath normalize buff to string tostring to char array tochararray raw escaped current hierarchy level path namespace collection slash mark ended character path string param path path current hierarchy level uri exception uriexception hierarchy level get raw current hier path getrawcurrenthierpath path uri exception uriexception opaque uri exception uriexception uri exception uriexception parsing hierarchy level path uri exception uriexception uri exception uriexception parsing empty path string buff string path buff index of indexof buff last index of lastindexof root path rootpath buff substring to char array tochararray fixme document server side path raw escaped current hierarchy level raw escaped current hierarchy level uri exception uriexception link get raw current hier path getrawcurrenthierpath fails get raw current hier path getrawcurrenthierpath uri exception uriexception path get raw current hier path getrawcurrenthierpath path escaped current hierarchy level escaped current hierarchy level uri exception uriexception link get raw current hier path getrawcurrenthierpath fails string get escaped current hier path getescapedcurrenthierpath uri exception uriexception path get raw current hier path getrawcurrenthierpath path string path current hierarchy level current hierarchy level uri exception uriexception link get raw current hier path getrawcurrenthierpath fails decode string get current hier path getcurrenthierpath uri exception uriexception path get raw current hier path getrawcurrenthierpath path decode path get protocol charset getprotocolcharset level hierarchy level raw hierarchy level uri exception uriexception link get raw current hier path getrawcurrenthierpath fails get raw above hier path getrawabovehierpath uri exception uriexception path get raw current hier path getrawcurrenthierpath path get raw current hier path getrawcurrenthierpath path level hierarchy level raw hierarchy level uri exception uriexception link get raw current hier path getrawcurrenthierpath fails string get escaped above hier path getescapedabovehierpath uri exception uriexception path get raw above hier path getrawabovehierpath path string path level hierarchy level hierarchy level uri exception uriexception link get raw current hier path getrawcurrenthierpath fails decode string get above hier path getabovehierpath uri exception uriexception path get raw above hier path getrawabovehierpath path decode path get protocol charset getprotocolcharset raw escaped path blockquote pre path abs path opaque pre blockquote raw escaped path get raw path getrawpath opaque opaque path escaped path blockquote pre path abs path opaque abs path path segments opaque uric slash uric pre blockquote escaped path string string get escaped path getescapedpath path get raw path getrawpath path string path path blockquote pre path abs path opaque pre blockquote path string uri exception uriexception link decode fails decode string get path getpath uri exception uriexception path get raw path getrawpath path decode path get protocol charset getprotocolcharset raw escaped basename path raw escaped basename get raw name getrawname path path length path len path length basename len system arraycopy path basename len basename escaped basename path escaped basename string string get escaped name getescapedname basename get raw name getrawname basename string basename basename path basename string uri exception uriexception incomplete trailing escape pattern unsupported character encoding decode string get name getname uri exception uriexception basename get raw name getrawname basename decode get raw name getrawname get protocol charset getprotocolcharset path query raw escaped path query raw escaped path query get raw path query getrawpathquery path query string builder stringbuilder buff string builder stringbuilder path buff append path query buff append buff append query buff to string tostring to char array tochararray escaped query escaped path query string string get escaped path query getescapedpathquery raw path query rawpathquery get raw path query getrawpathquery raw path query rawpathquery string raw path query rawpathquery path query path query string uri exception uriexception incomplete trailing escape pattern unsupported character encoding decode string get path query getpathquery uri exception uriexception raw path query rawpathquery get raw path query getrawpathquery raw path query rawpathquery decode raw path query rawpathquery get protocol charset getprotocolcharset query raw escaped query param escaped query escapedquery raw escaped query uri exception uriexception escaped query valid set raw query setrawquery escaped query escapedquery uri exception uriexception escaped query escapedquery escaped query escapedquery length query escaped query escapedquery seturi remove fragment identifier escaped query escapedquery remove fragment identifier removefragmentidentifier escaped query escapedquery validate escaped query escapedquery query uri exception uriexception uri exception uriexception escaping escaped query valid query escaped query escapedquery seturi escaped query string param escaped query escapedquery escaped query string uri exception uriexception escaped query valid set escaped query setescapedquery string escaped query escapedquery uri exception uriexception escaped query escapedquery query seturi set raw query setrawquery escaped query escapedquery to char array tochararray query query string misunderstood reserved special characters amp query component recommended encoding query method additional api s apis special purpose reserved special characters protocol implemented protocol classes inherited code uri code refer named api s apis implemented specific protocol instance param query query string uri exception uriexception incomplete trailing escape pattern unsupported character encoding encode set query setquery string query uri exception uriexception query query length query query query to char array tochararray seturi set raw query setrawquery encode query allowed query get protocol charset getprotocolcharset raw escaped query raw escaped query get raw query getrawquery query escaped query escaped query string string get escaped query getescapedquery query string query query query string uri exception uriexception incomplete trailing escape pattern unsupported character encoding decode string get query getquery uri exception uriexception query decode query get protocol charset getprotocolcharset fragment raw escaped fragment param escaped fragment escapedfragment raw escaped fragment uri exception uriexception escaped fragment valid set raw fragment setrawfragment escaped fragment escapedfragment uri exception uriexception escaped fragment escapedfragment escaped fragment escapedfragment length fragment escaped fragment escapedfragment hash validate escaped fragment escapedfragment fragment uri exception uriexception uri exception uriexception escaping escaped fragment valid fragment escaped fragment escapedfragment hash escaped fragment string param escaped fragment escapedfragment escaped fragment string uri exception uriexception escaped fragment valid set escaped fragment setescapedfragment string escaped fragment escapedfragment uri exception uriexception escaped fragment escapedfragment fragment hash set raw fragment setrawfragment escaped fragment escapedfragment to char array tochararray fragment param fragment fragment string uri exception uriexception error occurs set fragment setfragment string fragment uri exception uriexception fragment fragment length fragment fragment fragment to char array tochararray hash fragment encode fragment allowed fragment get protocol charset getprotocolcharset hash raw escaped fragment optional fragment identifier uri conjunction uri format int erpretation interpretation fragment identifiers dependent media type rfc retrieval result fragment identifier meaningful uri reference intended retrieval result retrieval document identified fragment consistently defined raw escaped fragment get raw fragment getrawfragment fragment escaped fragment escaped fragment string string get escaped fragment getescapedfragment fragment string fragment fragment fragment string uri exception uriexception incomplete trailing escape pattern unsupported character encoding decode string get fragment getfragment uri exception uriexception fragment decode fragment get protocol charset getprotocolcharset util ities utilities remove fragment identifier component param component component fragment included component fragment identifier removed remove fragment identifier removefragmentidentifier component component last index lastindex string component index of indexof last index lastindex component string component substring last index lastindex to char array tochararray component normalize hier path algorithm uri reference parser http apache org fielding uri rev issues html param path path normalize normalized path uri exception uriexception higher path level normalized normalize path uri exception uriexception path string normalized string path buffer removed normalized starts with startswith normalized normalized substring normalized starts with startswith normalized normalized substring normalized starts with startswith normalized normalized substring occurrences buffer replaced normalized index of indexof normalized normalized substring normalized substring buffer ends removed normalized ends with endswith normalized normalized substring normalized length start index startindex note segment empty normalized index of indexof start index startindex slash index slashindex normalized last index of lastindexof slash index slashindex normalized normalized substring slash index slashindex normalized substring start index startindex normalized ends with endswith slash index slashindex normalized last index of lastindexof normalized length slash index slashindex normalized normalized substring slash index slashindex note segment empty normalized index of indexof slash index slashindex normalized last index of lastindexof slash index slashindex normalized normalized substring normalized ends with endswith slash index slashindex normalized last index of lastindexof normalized length slash index slashindex normalized normalized to char array tochararray normal izes normalizes path uri normalization meant performed uri s uris absolute path calling method relative path uri uri exception uriexception higher path level normalized is abs path isabspath normalize uri exception uriexception is abs path isabspath path normalize path seturi test array equal array param character array param character array equal equals length length length test object uri equal param obj object compare uri objects equal equals object obj normalize test components obj obj uri uri uri obj scheme equals scheme scheme opaque hier opaque equals opaque opaque authority equals authority authority path equals path path query equals query query fragment careful fragment equals fragment fragment serialization write content uri param oos object output stream i o exception ioexception problem occurs write object writeobject object output stream objectoutputstream oos i o exception ioexception oos default write object defaultwriteobject read uri param ois object input stream class not found exception classnotfoundexception classes input stream i o exception ioexception problem occurs read object readobject object input stream objectinputstream ois class not found exception classnotfoundexception i o exception ioexception ois default read object defaultreadobject hash code hash code uri code uri hash code hashcode hash uri len length len hash hash fragment len length len hash hash hash comparison compare uri object param object compared failed compared authority component class cast exception classcastexception uri argument compare to compareto uri equals authority get raw authority getrawauthority to string tostring compare to compareto to string tostring clone create copy object uri reference userinfo component not ice notice uri reference including userinfo component counld code string code copy identical code uri code object including userinfo component clone instance object clone clone not supported exception clonenotsupportedexception uri instance uri clone instance uri uri instance scheme scheme instance opaque opaque instance authority authority instance userinfo userinfo instance host host instance port port instance path path instance query query instance fragment fragment charset escape encoding instance instance protocol charset protocolcharset protocol charset protocolcharset flags instance hier hier instance opaque opaque instance net path net path instance abs path abs path instance rel path rel path instance reg reg instance server server instance hostname hostname instance i pv ipv address i pv ipv address instance i pv ipv reference i pv ipv reference instance uri uri character sequence raw escaped purpose protocol transported unwise url password intended secret password userinfo component url disrecommended rare cases password parameter intended userinfo specific methods specific url depends specific url uri character sequence getrawuri uri uri character sequence escaped purpose protocol transported escaped uri string string getescapeduri uri string uri uri character sequence original uri string uri exception uriexception incomplete trailing escape pattern unsupported character encoding decode string geturi uri exception uriexception uri decode uri get protocol charset getprotocolcharset uri reference character sequence uri reference character sequence getrawurireference fragment uri uri fragment uri fragment string uri reference urireference string uri string fragment uri reference urireference to char array tochararray escaped uri reference string escaped uri reference string string getescapedurireference uri reference urireference getrawurireference uri reference urireference string uri reference urireference original uri reference string original uri reference string uri exception uriexception link decode fails string geturireference uri exception uriexception uri reference urireference getrawurireference uri reference urireference decode uri reference urireference get protocol charset getprotocolcharset escaped uri string document uri reference form userinfo component http jakarta apache org security reason uri reference form userinfo component parsed uri subclasses expose uri reference expression userinfo component http user password hostport restricted zone api client program mer programmer extract user password access manually supported subclass uri reference expression escaped uri string clone string to string tostring getescapeduri charset changed normal operation represent required alert user fact charset changed suppress warnings suppresswarnings serial default charset changed defaultcharsetchanged sling exception slingexception constructor reason string code arguments param reason code reasoncode reason code param reason reason default charset changed defaultcharsetchanged reason code reasoncode string reason reason reason reason reason code reasoncode reason code reasoncode constants reason code unknown protocol charset changed protocol charset document charset changed document charset instance variables reason code reason code reasoncode reason message string reason methods reason code reason code get reason code getreasoncode reason code reasoncode reason message reason message string get reason getreason reason mapping determine arbitrarily preferred charset locale supports locales recognized jdk distribution servlets originally written jason hunter jhunter acm org permission locale to charset map localetocharsetmap mapping language code charset hash map hashmap string string locale charset map locale charset map hash map hashmap string string locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map shift jis locale charset map euc locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map iso locale charset map locale charset map big preferred charset locale param locale locale preferred charset locale recognized string get charset getcharset locale locale full match include country string charset locale charset map locale to string tostring charset charset full didn match language charset locale charset map locale get language getlanguage charset encoding utils encodingutils converts string array charset supported system charset param data string encoded param charset desired character encoding array get bytes getbytes string data string charset data illegal argument exception illegalargumentexception data charset charset length illegal argument exception illegalargumentexception charset empty data get bytes getbytes charset unsupported encoding exception unsupportedencodingexception data get bytes getbytes converts array ascii characters string method decoding content http elements response headers param data array encoded param offset encode param length number bytes encode string representation array string get ascii string getasciistring data data illegal argument exception illegalargumentexception parameter string data ascii unsupported encoding exception unsupportedencodingexception uri exception uriexception http client httpclient requires ascii support converts array http content characters string charset supported system encoding param data array encoded param charset desired character encoding result conversion string get string getstring data string charset data illegal argument exception illegalargumentexception parameter charset charset length illegal argument exception illegalargumentexception charset empty string data charset unsupported encoding exception unsupportedencodingexception string data converts string array ascii characters param data string encoded string array get ascii bytes getasciibytes string data data illegal argument exception illegalargumentexception parameter data get bytes getbytes ascii unsupported encoding exception unsupportedencodingexception uri exception uriexception http client httpclient requires ascii support encodes array bytes array url safe bit characters unsafe characters escaped param url safe urlsafe bitset characters deemed url safe param bytes array bytes convert url safe characters array bytes url safe characters encode url encodeurl bit set bitset url safe urlsafe bytes bytes byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream bytes length bytes url safe urlsafe buffer write buffer write hex character to upper case touppercase character for digit fordigit hex character to upper case touppercase character for digit fordigit buffer write hex buffer write hex buffer to byte array tobytearray decodes array url safe bit characters array original bytes escaped characters converted original representation param bytes array url safe characters array original bytes uri exception uriexception thrown url decoding unsuccessful decode url decodeurl bytes bytes byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream bytes length bytes buffer write character digit bytes character digit bytes uri exception uriexception invalid url encoding buffer write array index out of bounds exception arrayindexoutofboundsexception uri exception uriexception invalid url encoding buffer write buffer to byte array tobytearray
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution component impl java util array list arraylist java util arrays java util hash map hashmap java util list java util map java util tree map treemap org apache sling commons osgi properties util propertiesutil utility parsing linear properties tree properties settings utils settingsutils string component string component root component delim component map component map component map delim package exporter packageexporter property key propertykey property value propertyvalue package exporter packageexporter endpoint flag property value propertyvalue package exporter packageexporter package builder packagebuilder property key propertykey property value propertyvalue property key propertykey property value propertyvalue trigger property key propertykey property value propertyvalue trigger property key propertykey property value propertyvalue param lines property lines link map property names property values map string object parse lines parselines string lines map string object result hash map hashmap string object map string list string lines map linesmap to lines map tolinesmap lines map entry string list string entry lines map linesmap entry set entryset string component name componentname entry get key getkey list string entry get value getvalue string component lines componentlines to array toarray string size component root equals component name componentname map string string map properties util propertiesutil to map tomap component lines componentlines string result put all putall map map string object component map componentmap parse lines parselines component lines componentlines result component name componentname component map componentmap result collapse map collapsemap result result map string list string to lines map tolinesmap string lines map string list string result hash map hashmap string list string string lines first map delim firstmapdelim index of indexof component map delim first map delim firstmapdelim first delim firstdelim substring first map delim firstmapdelim index of indexof component delim string key component root string first delim firstdelim key substring first delim firstdelim substring first delim firstdelim result contains key containskey key result key array list arraylist string list string exiting lines exitinglines result key exiting lines exitinglines add result map string object collapse map collapsemap map string object value map valuemap map string object result hash map hashmap string object map entry string object entry value map valuemap entry set entryset string key entry get key getkey object entry get value getvalue begin delim begindelim key index of indexof component map end delim enddelim key index of indexof component map begin delim begindelim end delim enddelim begin delim begindelim string new key newkey key substring begin delim begindelim string partial key partialkey key substring begin delim begindelim end delim enddelim is number isnumber is number isnumber partial key partialkey result contains key containskey new key newkey result new key newkey is number isnumber array list arraylist object hash map hashmap string object object existing object existingobject result new key newkey existing object existingobject map map existing object existingobject partial key partialkey existing object existingobject list list existing object existingobject add skip result key result is number isnumber string integer parse int parseint number format exception numberformatexception a type atype map string a type atype to map tomap list a type atype a list alist string prefix map string a type atype result tree map treemap string a type atype a list alist size result prefix a list alist result map string string to uri map tourimap object obj map string string uri map urimap properties util propertiesutil to map tomap obj string uri map urimap size string end points endpoints properties util propertiesutil to string array tostringarray obj string end points endpoints remove empty entries removeemptyentries end points endpoints uri map urimap to map tomap arrays as list aslist end points endpoints endpoint uri map urimap string remove empty entries removeemptyentries string array array array length array list string result array list arraylist string string entry array entry remove empty entry removeemptyentry entry entry result add entry result size result to array toarray string string remove empty entries removeemptyentries string array string default array defaultarray string result remove empty entries removeemptyentries array result default array defaultarray result string remove empty entry removeemptyentry string entry entry entry entry trim entry length entry map string string remove empty entries removeemptyentries map string string map map map string string result hash map hashmap string string map entry string string entry map entry set entryset string key remove empty entry removeemptyentry entry get key getkey string remove empty entry removeemptyentry entry get value getvalue key result key result size result map string string expand uri map expandurimap map string string map map string string aliases map string string result tree map treemap string string map map entry string string alias entry aliasentry aliases entry set entryset alias entry aliasentry get value getvalue map contains key containskey alias entry aliasentry get value getvalue result alias entry aliasentry get key getkey map alias entry aliasentry get value getvalue result
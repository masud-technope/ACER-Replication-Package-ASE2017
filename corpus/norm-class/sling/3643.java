licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide test impl org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has children count haschildrencount org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has children names haschildrennames org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has path haspath org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has primary type hasprimarytype org apache sling ide test impl helpers jcr jcr matchers jcrmatchers has property value haspropertyvalue org hamcrest core matchers corematchers all of allof java byte array input stream bytearrayinputstream java input stream inputstream java util concurrent callable javax jcr node javax jcr repository exception repositoryexception org apache sling ide test impl helpers disable debug status handlers disabledebugstatushandlers org apache sling ide test impl helpers external sling launchpad externalslinglaunchpad org apache sling ide test impl helpers fail on unsuccessful events rule failonunsuccessfuleventsrule org apache sling ide test impl helpers launchpad config launchpadconfig org apache sling ide test impl helpers poller org apache sling ide test impl helpers project adapter projectadapter org apache sling ide test impl helpers repository accessor repositoryaccessor org apache sling ide test impl helpers server adapter serveradapter org apache sling ide test impl helpers sling wst server slingwstserver org apache sling ide test impl helpers temporary project temporaryproject org eclipse core resources i project iproject org eclipse core runtime path org hamcrest matcher org junit org junit org junit rule org junit test org junit rules rule chain rulechain org junit rules test rule testrule jcr full coverage aggregates deployment test jcrfullcoverageaggregatesdeploymenttest valid ates validates deployment full coverage aggregates href https jackrabbit apache org file vault filevault vault fs vaultfs html vault jcr partial coverage aggregates deployment test jcrpartialcoverageaggregatesdeploymenttest launchpad config launchpadconfig config launchpad config launchpadconfig get instance getinstance sling wst server slingwstserver wst server wstserver sling wst server slingwstserver config rule test rule testrule chain rule chain rulechain outer rule outerrule external sling launchpad externalslinglaunchpad config wst server wstserver rule temporary project temporaryproject project rule projectrule temporary project temporaryproject rule disable debug status handlers disabledebugstatushandlers disable debug handlers disabledebughandlers disable debug status handlers disabledebugstatushandlers rule fail on unsuccessful events rule failonunsuccessfuleventsrule fail on events rule failoneventsrule fail on unsuccessful events rule failonunsuccessfuleventsrule test deploy sling folder deployslingfolder exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install content facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject create sling folder content test root input stream inputstream content xml contentxml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root content xml content xml contentxml create sling folder content test root nested input stream inputstream child content xml childcontentxml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root nested content xml child content xml childcontentxml matcher node post conditions postconditions all of allof has path haspath content test root has primary type hasprimarytype sling folder has children count haschildrencount repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root post conditions postconditions update jcr title content test root input stream inputstream updated content xml updatedcontentxml get class getclass get resource as stream getresourceasstream sling folder node type nodetype title xml project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root content xml updated content xml updatedcontentxml poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root all of allof has path haspath content test root has children count haschildrencount has property value haspropertyvalue jcr title folder test deploy node with children and order able node types deploynodewithchildrenandorderablenodetypes exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install content facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject create sling folder content test root project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root content xml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml create unstructured content test root nested project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root nested content xml get class getclass get resource as stream getresourceasstream unstructured node type nodetype xml create unstructured content test root nested nested project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root nested nested content xml get class getclass get resource as stream getresourceasstream unstructured node type nodetype xml matcher node post conditions postconditions all of allof has path haspath content test root nested has primary type hasprimarytype unstructured has children count haschildrencount repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root nested post conditions postconditions update jcr title content test root project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root nested content xml get class getclass get resource as stream getresourceasstream unstructured node type nodetype title xml poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root nested all of allof has path haspath content test root nested has children count haschildrencount has property value haspropertyvalue jcr title folder test deploy sling ordered folder with jcr content node deployslingorderedfolderwithjcrcontentnode exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install content facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject create file content test root file txt project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root folder file txt byte array input stream bytearrayinputstream get bytes getbytes create sling ordered folder orderedfolder content test root project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root content xml get class getclass get resource as stream getresourceasstream sling ordered folder children xml matcher node post conditions postconditions all of allof has path haspath content test root has primary type hasprimarytype sling ordered folder orderedfolder has children names haschildrennames folder jcr content repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root post conditions postconditions reorder children content test root node project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root content xml get class getclass get resource as stream getresourceasstream sling ordered folder children reordered xml post conditions postconditions all of allof has path haspath content test root has primary type hasprimarytype sling ordered folder orderedfolder has children names haschildrennames jcr content folder poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root post conditions postconditions test deploy node with content xml in parent folder deploynodewithcontentxmlinparentfolder exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install content facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject expected repository structure mapping sling mapping jcr content unstructured par unstructured folder sling folder create local structure content completely serialized content xml file project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root mapping content xml get class getclass get resource as stream getresourceasstream sling mapping folder child xml repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller wait structure published poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root mapping jcr content par has primary type hasprimarytype unstructured create folder content xml file int ermediate intermediate folders created serialization data parent content xml file project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root mapping jcr content par folder content xml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml wait sling folder child node created ensure processed poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root mapping jcr content par folder has primary type hasprimarytype sling folder verify unstructured node correctly written poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root mapping jcr content par has primary type hasprimarytype unstructured test deploy node with content xml in parent folder deploynodewithcontentxmlinparentfolder reverse exception wst server wstserver wait for server to start waitforservertostart create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install content facet project install facet installfacet sling content server adapter serveradapter server server adapter serveradapter wst server wstserver get server getserver server install module installmodule content project contentproject expected repository structure mapping sling mapping jcr content unstructured par unstructured folder sling folder create local structure content completely serialized content xml file project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root mapping content xml get class getclass get resource as stream getresourceasstream sling mapping folder child xml create folder content xml file int ermediate intermediate folders created serialization data parent content xml file project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root mapping jcr content par folder content xml get class getclass get resource as stream getresourceasstream sling folder node type nodetype xml repository accessor repositoryaccessor repo repository accessor repositoryaccessor config poller poller poller wait structure published poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root mapping jcr content par folder has primary type hasprimarytype sling folder change folder node type unstructured covered parent project create or update file createorupdatefile path from portable string fromportablestring jcr root content test root mapping content xml get class getclass get resource as stream getresourceasstream sling mapping unstructured child xml boy start test failing issues concurrency problems invalid state exception invalidstateexception work issue ref res hing refreshing session serial ising serialising executions single thread executor singlethreadexecutor ins pecting inspecting repo harmless sleep fixes test sling fixed thread sleep delete sling folder node type serialization completely covered parent node project delete member deletemember path from portable string fromportablestring jcr root content test root mapping jcr content validate primary type changed poller poll until polluntil callable node override node call repository exception repositoryexception repo get node getnode content test root mapping jcr content par folder has primary type hasprimarytype unstructured ensure clean state ensurecleanstate exception repository accessor repositoryaccessor config try delete resource trydeleteresource content test root cleanup exception repository accessor repositoryaccessor config try delete resource trydeleteresource content test root
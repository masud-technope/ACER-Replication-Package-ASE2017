licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr class loader classloader internal java byte array output stream bytearrayoutputstream java io exception ioexception java input stream inputstream javax jcr item javax jcr item not found exception itemnotfoundexception javax jcr node javax jcr property javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr value format exception valueformatexception org slf logger org slf logger factory loggerfactory code util code helper methods repository class loader classloader path entry resource classes extended instantiated utility methods util logging logger log logger factory loggerfactory get logger getlogger util constructor instantiate util resolves code item code code property code contents read mechanism derive contents code item code property property code item code node steps tested node code jcr content code child node child node steps node check code jcr data code property property existing call code get primary item getprimaryitem code method repeatedly property returned primary item property resolved algorithm property multivalue property code code returned property code reference code property node ref erred referred retrieved method called recursively node property returned param item code item code resolve code property code resolved code property code code code resolved property multi value d valued property code item code node resolved data property value format exception valueformatexception code item code res olves resolves single value d valued code reference code type property resolved node ref erred referred repository exception repositoryexception error occurrs accessing repository property get property getproperty item item value format exception valueformatexception repository exception repositoryexception property prop item is node isnode check node jcr content node file node node node item node has node hasnode jcr content node node get node getnode jcr content node jcr data property property node has property hasproperty jcr data prop node get property getproperty jcr data follow item tra il trail item node get primary item getprimaryitem item is node isnode item node item get primary item getprimaryitem prop property item item not found exception itemnotfoundexception infe log debug get property getproperty primary items node get path getpath infe prop property item thrown prop get definition getdefinition is multiple ismultiple log error multivalue property prop get path getpath prop get type gettype property type propertytype reference node node prop get node getnode log info property ref ers refers node finding primary item prop get path getpath node get path getpath get property getproperty node prop returns resource array bytes get bytes getbytes node node io exception ioexception repository exception repositoryexception input stream inputstream get property getproperty node get stream getstream byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream buffer read buffer baos write buffer baos to byte array tobytearray close io exception ioexception ignore
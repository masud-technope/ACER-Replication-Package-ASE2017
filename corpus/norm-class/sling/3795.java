licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer org junit assert equals assertequals org junit assert null assertnull org junit org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit pax exam paxexam org osgi framework bundle run with runwith pax exam paxexam bundle install upgrade down grade test bundleinstallupgradedowngradetest osgi installer test base osgiinstallertestbase org ops pax exam configuration option config default configuration defaultconfiguration set up setup setup installer setupinstaller tear down teardown tear down teardown test test install upgrade down grade bundle testinstallupgradedowngradebundle exception string symbolic name symbolicname osgi installer test bundle testbundle assert null assertnull test bundle test find bundle findbundle symbolic name symbolicname install test bundle check version bundle id bundleid assert null assertnull test bundle absent installing find bundle findbundle symbolic name symbolicname object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname installed listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started bundle assert bundle assertbundle installing symbolic name symbolicname bundle active bundle id bundleid get bundle id getbundleid upgrade version verify object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar digest a digesta wait for bundle events waitforbundleevents symbolic name symbolicname installed listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent stopped bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started bundle assert bundle assertbundle updating symbolic name symbolicname bundle active assert equals assertequals bundle change update bundle id bundleid get bundle id getbundleid down grade downgrade version installed bundle change object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar digest a digesta sleep updates happen assert no bundle events assertnobundleevents older bundle installed listener symbolic name symbolicname bundle assert bundle assertbundle down grade downgrade symbolic name symbolicname bundle active assert equals assertequals bundle change down grade downgrade bundle id bundleid get bundle id getbundleid update version digest object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar digest b digestb sleep assert no bundle events assertnobundleevents update version generate osg i osgi tasks listener symbolic name symbolicname uninstall object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get non installable resource url getnoninstallableresourceurl get test bundle gettestbundle bundle base test bundle testbundle jar sleep assert no bundle events assertnobundleevents older bundle remove remove listener symbolic name symbolicname object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get non installable resource url getnoninstallableresourceurl get test bundle gettestbundle bundle base test bundle testbundle jar assert no bundle events assertnobundleevents older bundle remove remove listener symbolic name symbolicname object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get non installable resource url getnoninstallableresourceurl get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname installed listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent stopped bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent uninstalled bundle find bundle findbundle symbolic name symbolicname assert null assertnull test bundle testbundle reinstall version work object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname reinstall version listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle reinstalling symbolic name symbolicname bundle active test test remove and read d testremoveandreadd exception string symbolic name symbolicname osgi installer test bundle testbundle assert null assertnull test bundle absent installing find bundle findbundle symbolic name symbolicname object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname installed version listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle installing symbolic name symbolicname bundle active object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get non installable resource url getnoninstallableresourceurl get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent stopped bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent uninstalled assert null assertnull test bundle find bundle findbundle symbolic name symbolicname sleep bit avoid sync problems file data store sleep object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname reinstalled version listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle reinstalling symbolic name symbolicname bundle active test installs test bundle version removes version time adding version bundle test ensure bundle update bundle remove install test test update and remove testupdateandremove exception string symbolic name symbolicname osgi installer test bundle testbundle assert null assertnull test bundle absent installing find bundle findbundle symbolic name symbolicname install version object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname installed version listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle installing symbolic name symbolicname bundle active install version remove object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar get non installable resource url getnoninstallableresourceurl get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents symbolic name symbolicname updated listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent updated bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle installing symbolic name symbolicname bundle active
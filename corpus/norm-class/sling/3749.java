licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling junit impl servlet java io exception ioexception java unsupported encoding exception unsupportedencodingexception java util collection java util map javax servlet http http servlet response httpservletresponse org apache felix scr annotations component org apache felix scr annotations service org apache sling commons json json exception jsonexception org apache sling commons json json writer jsonwriter org apache sling junit renderer org apache sling junit renderer factory rendererfactory org apache sling junit sling test context provider slingtestcontextprovider org apache sling junit test selector testselector org junit runner description org junit runner result org junit runner notification failure org junit runner notification run listener runlistener org slf logger org slf logger factory loggerfactory json renderer j unit junit servlet component service json renderer jsonrenderer run listener runlistener renderer renderer factory rendererfactory string extension json string info type key info type string info subtype key info subtype string test metadata test metadata logger log logger factory loggerfactory get logger getlogger get class getclass json writer jsonwriter writer inherit doc inheritdoc renderer create renderer createrenderer json renderer jsonrenderer inherit doc inheritdoc applies to appliesto test selector testselector selector extension equals selector get extension getextension inherit doc inheritdoc string get extension getextension extension inherit doc inheritdoc setup http servlet response httpservletresponse response string page title pagetitle io exception ioexception unsupported encoding exception unsupportedencodingexception writer illegal state exception illegalstateexception output writer response set content type setcontenttype application json response set character encoding setcharacterencoding utf writer json writer jsonwriter response get writer getwriter writer set tidy settidy writer array json exception jsonexception jex io exception ioexception io exception ioexception init cause initcause jex inherit doc inheritdoc cleanup writer writer end array endarray json exception jsonexception jex log warn json exception jsonexception cleanup jex writer inherit doc inheritdoc info string css class cssclass string info start item startitem info writer key info subtype key css class cssclass writer key info info end item enditem json exception jsonexception jex log warn json exception jsonexception info jex inherit doc inheritdoc list string css class cssclass collection string data start item startitem list writer key info subtype key css class cssclass writer key data writer array string str data writer str writer end array endarray end item enditem json exception jsonexception jex log warn json exception jsonexception list jex inherit doc inheritdoc title level string title titles needed json inherit doc inheritdoc link string info string url string method start item startitem link writer key info info writer key method method writer key url url end item enditem json exception jsonexception jex log warn json exception jsonexception link jex inherit doc inheritdoc run listener runlistener get run listener getrunlistener override test started teststarted description description exception test started teststarted description start item startitem test writer key description description to string tostring override test finished testfinished description description exception test finished testfinished description sling test context provider slingtestcontextprovider has context hascontext output context map outputcontextmap sling test context provider slingtestcontextprovider get context getcontext output end item enditem override test failure testfailure failure failure exception writer key failure failure to string tostring writer key trace failure get trace gettrace override test run finished testrunfinished result result exception needed info output start item startitem string json exception jsonexception writer object writer key info type key end item enditem json exception jsonexception writer end object endobject output context map outputcontextmap map string object data json exception jsonexception writer key test metadata writer object map entry string object data entry set entryset writer key get key getkey writer get value getvalue writer end object endobject
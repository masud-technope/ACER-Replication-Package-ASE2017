licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution trigger impl javax annotation nonnull java i o exception ioexception java nio byte buffer bytebuffer java util map java util concurrent concurrent hash map concurrenthashmap java util concurrent org apache http http host httphost org apache http http response httpresponse org apache http auth scope authscope org apache http username password credentials usernamepasswordcredentials org apache http client credentials provider credentialsprovider org apache http client methods http get httpget org apache http client utils uri utils uriutils org apache http concurrent future callback futurecallback org apache http impl client basic credentials provider basiccredentialsprovider org apache http impl nio client closeable http async client closeablehttpasyncclient org apache http impl nio client http async clients httpasyncclients org apache http nio content decoder contentdecoder org apache http nio i o control iocontrol org apache http nio protocol basic async request producer basicasyncrequestproducer org apache http nio protocol basic async response consumer basicasyncresponseconsumer org apache sling commons scheduler schedule options scheduleoptions org apache sling commons scheduler scheduler org apache sling distribution distribution request distributionrequest org apache sling distribution distribution request type distributionrequesttype org apache sling distribution simple distribution request simpledistributionrequest org apache sling distribution common distribution exception distributionexception org apache sling distribution transport distribution transport secret provider distributiontransportsecretprovider org apache sling distribution transport impl distribution endpoint distributionendpoint org apache sling distribution trigger distribution request handler distributionrequesthandler org apache sling distribution trigger distribution trigger distributiontrigger org slf logger org slf logger factory loggerfactory link org apache sling distribution trigger distribution trigger distributiontrigger trigger distribution rec eption reception server events url remote event distribution trigger remoteeventdistributiontrigger distribution trigger distributiontrigger string schedule remote event trigger remoteeventtrigger logger log logger factory loggerfactory get logger getlogger get class getclass distribution endpoint distributionendpoint endpoint distribution transport secret provider distributiontransportsecretprovider distribution transport secret provider distributiontransportsecretprovider scheduler scheduler map distribution request handler distributionrequesthandler http response httpresponse requests concurrent hash map concurrenthashmap distribution request handler distributionrequesthandler http response httpresponse remote event distribution trigger remoteeventdistributiontrigger string endpoint distribution transport secret provider distributiontransportsecretprovider distribution transport secret provider distributiontransportsecretprovider scheduler scheduler endpoint illegal argument exception illegalargumentexception endpoint required distribution transport secret provider distributiontransportsecretprovider illegal argument exception illegalargumentexception authentication provider required distribution transport secret provider distributiontransportsecretprovider distribution transport secret provider distributiontransportsecretprovider endpoint distribution endpoint distributionendpoint endpoint scheduler scheduler register nonnull distribution request handler distributionrequesthandler request handler requesthandler distribution exception distributionexception log info app lying applying remote event distribution trigger schedule options scheduleoptions options scheduler options get job name getjobname request handler requesthandler options can run concurrently canrunconcurrently options on leader only onleaderonly scheduler schedule event based distribution eventbaseddistribution request handler requesthandler options exception distribution exception distributionexception unable register handler request handler requesthandler unregister nonnull distribution request handler distributionrequesthandler request handler requesthandler distribution exception distributionexception http response httpresponse http response future httpresponsefuture requests remove request handler requesthandler to string tostring http response future httpresponsefuture http response future httpresponsefuture cancel scheduler unschedule get job name getjobname request handler requesthandler string get job name getjobname distribution request handler distributionrequesthandler request handler requesthandler schedule request handler requesthandler to string tostring sse response consumer sseresponseconsumer basic async response consumer basicasyncresponseconsumer distribution request handler distributionrequesthandler handler sse response consumer sseresponseconsumer distribution request handler distributionrequesthandler handler handler handler override on content received oncontentreceived content decoder contentdecoder decoder i o control iocontrol ioctrl i o exception ioexception log debug complete decoder is completed iscompleted byte buffer bytebuffer buffer byte buffer bytebuffer all ocate allocate decoder read buffer log debug content received object buffer decoder ioctrl todo triggers pull request config urable configurable distribution request distributionrequest distribution request distributionrequest simple distribution request simpledistributionrequest distribution request type distributionrequesttype pull handler handle distribution request distributionrequest log info distribution request agent object handler distribution request distributionrequest get request type getrequesttype distribution request distributionrequest get paths getpaths on content received oncontentreceived decoder ioctrl override on response received onresponsereceived http response httpresponse response i o exception ioexception log info response received response on response received onresponsereceived response event based distribution eventbaseddistribution runnable distribution request handler distributionrequesthandler request handler requesthandler event based distribution eventbaseddistribution distribution request handler distributionrequesthandler request handler requesthandler request handler requesthandler request handler requesthandler log debug events endpoint get uri geturi to string tostring log debug preparing request todo http client cached reused credentials provider credentialsprovider credentials provider credentialsprovider basic credentials provider basiccredentialsprovider map string string credentials map credentialsmap distribution transport secret provider distributiontransportsecretprovider get secret getsecret endpoint get uri geturi as credentials map ascredentialsmap credentials map credentialsmap string username credentials map credentialsmap username string password credentials map credentialsmap password credentials provider credentialsprovider set credentials setcredentials auth scope authscope http host httphost endpoint get uri geturi get host gethost endpoint get uri geturi get port getport username password credentials usernamepasswordcredentials username password closeable http async client closeablehttpasyncclient http client httpclient http async clients httpasyncclients custom set default credentials provider setdefaultcredentialsprovider credentials provider credentialsprovider build http get httpget http get httpget endpoint get uri geturi http host httphost target uri utils uriutils extract host extracthost geturi basic async request producer basicasyncrequestproducer basic async request producer basicasyncrequestproducer basic async request producer basicasyncrequestproducer target http client httpclient start log debug sending request http response httpresponse future response futureresponse http client httpclient execute basic async request producer basicasyncrequestproducer sse response consumer sseresponseconsumer request handler requesthandler future callback futurecallback http response httpresponse completed http response httpresponse http response httpresponse log debug response received http response httpresponse failed exception log warn failed request to string tostring cancelled log warn request cancelled requests request handler requesthandler future response futureresponse future response futureresponse exception log warn communicate endpoint http client httpclient close log debug request finished exception log error event based distribution disable map entry distribution request handler distributionrequesthandler http response httpresponse entry requests entry set entryset entry get value getvalue cancel scheduler unschedule get job name getjobname entry get key getkey
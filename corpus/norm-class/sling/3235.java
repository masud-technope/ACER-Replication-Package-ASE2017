licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling datasource internal java util dictionary java util hashtable java util map java util properties javax naming context javax naming initial context initialcontext javax naming name not found exception namenotfoundexception javax naming naming exception namingexception javax sql data source datasource org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations deactivate org apache felix scr annotations property org apache sling commons osgi properties util propertiesutil org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org slf logger org slf logger factory loggerfactory org apache sling datasource internal data source factory datasourcefactory check argument checkargument component jndi data source factory jndidatasourcefactory label apache sling jndi data source datasource description registers data source datasource instance osg i osgi service registry serviceregistry looked jndi metatype configuration factory configurationfactory policy configuration policy configurationpolicy require jndi data source factory jndidatasourcefactory string org apache sling datasource jndi data source factory jndidatasourcefactory property string prop data source datasource datasource property prop data source datasource string prop svc prop datasource svc prop property label jndi description jndi location perform data source datasource instance lookup string prop jndi datasource jndi property label jndi properties description environment jndi initial context initialcontext properties passed initial context initialcontext performing jndi instance lookup row form map entry row format property name propertyname property java naming factory initial example factory examplefactory cardinality string prop jndi props jndi properties logger log logger factory loggerfactory get logger getlogger get class getclass service registration serviceregistration ds registration dsregistration activate activate bundle context bundlecontext bundle context bundlecontext map string config exception string data source factory datasourcefactory get data source name getdatasourcename config string jndi name jndiname properties util propertiesutil to string tostring config prop jndi check argument checkargument data source datasource property prop data source datasource check argument checkargument jndi name jndiname data source datasource jndi property prop jndi data source datasource data source datasource lookup data source lookupdatasource jndi name jndiname config string svc prop name svcpropname data source factory datasourcefactory get svc prop name getsvcpropname config dictionary string object svc props svcprops hashtable string object svc props svcprops svc prop name svcpropname svc props svcprops constants service vendor apache software foundation svc props svcprops constants service description data source datasource service looked jndi name jndiname ds registration dsregistration bundle context bundlecontext register service registerservice javax sql data source datasource data source datasource svc props svcprops log info registered data source datasource looked jndi jndi name jndiname deactivate deactivate ds registration dsregistration ds registration dsregistration unregister ds registration dsregistration data source datasource lookup data source lookupdatasource string jndi name jndiname map string config naming exception namingexception properties jndi props jndiprops create jndi env createjndienv config context context log debug data source datasource initial context initialcontext env jndi name jndiname jndi props jndiprops context initial context initialcontext jndi props jndiprops object lookup context lookup jndi name jndiname lookup name not found exception namenotfoundexception jndi object jndi name jndiname data source datasource is instance isinstance lookup illegal state exception illegalstateexception jndi object type lookup get class getclass instance javax sql data source datasource data source datasource lookup context context close properties create jndi env createjndienv map string config properties props properties copy properties map string string other props otherprops properties util propertiesutil to map tomap config prop jndi props string map entry string string other props otherprops entry set entryset get key getkey get value getvalue props props config handling string string properties props trim is empty isempty props set property setproperty
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr resource internal org mockito matchers org mockito mockito mock org mockito mockito javax jcr session org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling commons testing jcr repository util repositoryutil org apache sling jcr api sling repository slingrepository org apache sling jcr resource internal helper jcr jcr test node resource jcrtestnoderesource org junit org junit org mockito mockito org osgi framework bundle context bundlecontext org osgi service event event org osgi service event event admin eventadmin org osgi util tracker service tracker servicetracker test jcr resource listener jcrresourcelistener jcr resource listener test jcrresourcelistenertest abstract listener test abstractlistenertest sync hronous jcr resource listener synchronousjcrresourcelistener listener session admin session adminsession tear down teardown exception admin session adminsession admin session adminsession log out logout admin session adminsession repository util repositoryutil stop repository stoprepository listener listener dispose listener set up setup exception repository util repositoryutil start repository startrepository admin session adminsession repository util repositoryutil get repository getrepository login administrative loginadministrative repository util repositoryutil register sling node types registerslingnodetypes admin session adminsession resource resolver resourceresolver resolver mockito mock resource resolver resourceresolver mockito resolver adapt to adaptto mockito then return thenreturn admin session adminsession mockito resolver get resource getresource mockito any string anystring then return thenreturn jcr test node resource jcrtestnoderesource resolver admin session adminsession get node getnode resource resolver factory resourceresolverfactory factory mockito mock resource resolver factory resourceresolverfactory mockito factory get administrative resource resolver getadministrativeresourceresolver mockito any map anymap then return thenreturn resolver event admin eventadmin mockea event admin eventadmin post event postevent event event add event addevent event send event sendevent event event add event addevent event service tracker servicetracker tracker mock service tracker servicetracker tracker get service getservice then return thenreturn mockea bundle context bundlecontext bundle context bundlecontext mock bundle context bundlecontext bundle context bundlecontext create filter createfilter string then return thenreturn bundle context bundlecontext get service reference getservicereference string then return thenreturn bundle context bundlecontext get service getservice then return thenreturn mockea listener sync hronous jcr resource listener synchronousjcrresourcelistener repository util repositoryutil get repository getrepository bundle context bundlecontext resolver tracker override sling repository slingrepository get repository getrepository repository util repositoryutil get repository getrepository
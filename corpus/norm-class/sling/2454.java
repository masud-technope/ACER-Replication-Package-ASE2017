licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets impl helpers java io exception ioexception javax jcr node javax jcr repository exception repositoryexception javax servlet servlet exception servletexception javax servlet http http servlet response httpservletresponse org apache sling api sling constants slingconstants org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api resource resource org apache sling api resource resource not found exception resourcenotfoundexception org apache sling api resource resource util resourceutil org apache sling api servlets sling safe methods servlet slingsafemethodsservlet org xml sax content handler contenthandler org xml sax sax exception saxexception code xml renderer servlet xmlrendererservlet code renders current resource xml behalf link org apache sling servlets impl default get servlet defaultgetservlet moment jcr nodes rendered xml xml renderer servlet xmlrendererservlet sling safe methods servlet slingsafemethodsservlet string ext xml xml string sysview sysview string doc view docview doc view docview override do get doget sling http servlet request slinghttpservletrequest req sling http servlet response slinghttpservletresponse resp servlet exception servletexception io exception ioexception resource req get resource getresource resource util resourceutil is non existing resource isnonexistingresource resource not found exception resourcenotfoundexception data render resp set content type setcontenttype req get response content type getresponsecontenttype resp set character encoding setcharacterencoding utf included is included isincluded req get attribute getattribute sling constants slingconstants attr request servlet node node adapt to adaptto node node req get request path info getrequestpathinfo get selector string getselectorstring req get request path info getrequestpathinfo get selector string getselectorstring equals doc view docview check response adaptable content handler content handler contenthandler resp adapt to adaptto content handler contenthandler node get session getsession export document view exportdocumentview node get path getpath resp get output stream getoutputstream node get session getsession export document view exportdocumentview node get path getpath req get request path info getrequestpathinfo get selector string getselectorstring equals sysview check response adaptable content handler content handler contenthandler resp adapt to adaptto content handler contenthandler node get session getsession export system view exportsystemview node get path getpath resp get output stream getoutputstream node get session getsession export system view exportsystemview node get path getpath content resp send error senderror http servlet response httpservletresponse content repository exception repositoryexception servlet exception servletexception unable export resource xml sax exception saxexception servlet exception servletexception unable export resource xml is included isincluded content resp send error senderror http servlet response httpservletresponse content
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons json jcr java writer java text date format dateformat java text simple date format simpledateformat java util calendar java util locale java util javax jcr node javax jcr node iterator nodeiterator javax jcr property javax jcr property iterator propertyiterator javax jcr property type propertytype javax jcr repository exception repositoryexception javax jcr javax jcr value format exception valueformatexception org apache sling commons json json exception jsonexception org apache sling commons json json writer jsonwriter dumps jcr items json data dump methods threads afe threadsafe json item writer jsonitemwriter date format dateformat calendar format calendarformat string property names to ignore propertynamestoignore format values string ecma format eee mmm yyyy gmt format values locale format locale locale create json item writer jsonitemwriter param property names to ignore propertynamestoignore property values todo filtering selection nodes properties dump flexible json item writer jsonitemwriter string property names to ignore propertynamestoignore property names to ignore propertynamestoignore property names to ignore propertynamestoignore dump nodes node iterator nodeiterator json json exception jsonexception dump node iterator nodeiterator writer repository exception repositoryexception json exception jsonexception json writer jsonwriter json writer jsonwriter array has next hasnext dump next node nextnode end array endarray dump node json optionally recursing child nodes dump node node writer max recursion levels maxrecursionlevels repository exception repositoryexception json exception jsonexception dump node max recursion levels maxrecursionlevels dump node json optionally recursing child nodes param tidy code code json dump nicely for matted formatted dump node node writer max recursion levels maxrecursionlevels tidy repository exception repositoryexception json exception jsonexception json writer jsonwriter json writer jsonwriter set tidy settidy tidy dump node max recursion levels maxrecursionlevels dump property json dump property writer json exception jsonexception value format exception valueformatexception repository exception repositoryexception json writer jsonwriter json writer jsonwriter object write property writeproperty end object endobject dump node json optionally recursing child nodes dump node node json writer jsonwriter current recursion level currentrecursionlevel max recursion levels maxrecursionlevels repository exception repositoryexception json exception jsonexception object property iterator propertyiterator props node get properties getproperties node actual properties props has next hasnext property prop props next property nextproperty property names to ignore propertynamestoignore property names to ignore propertynamestoignore prop get name getname write property writeproperty prop child nodes recursion level active recursionlevelactive current recursion level currentrecursionlevel max recursion levels maxrecursionlevels node iterator nodeiterator children node get nodes getnodes children has next hasnext node children next node nextnode dump single node dumpsinglenode current recursion level currentrecursionlevel max recursion levels maxrecursionlevels end object endobject dump single node dump single node dumpsinglenode node json writer jsonwriter current recursion level currentrecursionlevel max recursion levels maxrecursionlevels repository exception repositoryexception json exception jsonexception recursion level active recursionlevelactive current recursion level currentrecursionlevel max recursion levels maxrecursionlevels key get name getname dump current recursion level currentrecursionlevel max recursion levels maxrecursionlevels current recursion level active recursion level active recursionlevelactive current recursion level currentrecursionlevel max recursion levels maxrecursionlevels max recursion levels maxrecursionlevels current recursion level currentrecursionlevel max recursion levels maxrecursionlevels write single property write property writeproperty json writer jsonwriter property value format exception valueformatexception repository exception repositoryexception json exception jsonexception special handling bin aries binaries dump length length get type gettype property type propertytype binary todo mark binary properties initial colon colon allowed jcr property size binary data key get name getname is multiple ismultiple get length getlength sizes get len gths getlengths array sizes length sizes end array endarray key get name getname is multiple ismultiple dump value dumpvalue get value getvalue array get values getvalues dump value dumpvalue end array endarray writes json writer conversions table jsr property type json type binary converted string defined ecma string table implemented param json writer param dump dump value dumpvalue json writer jsonwriter value format exception valueformatexception illegal state exception illegalstateexception repository exception repositoryexception json exception jsonexception get type gettype property type propertytype binary property type propertytype format get date getdate property type propertytype get boolean getboolean property type propertytype get long getlong property type propertytype get double getdouble get string getstring string format calendar calendar format calendarformat calendar format calendarformat simple date format simpledateformat ecma format format locale calendar format calendarformat format get time gettime
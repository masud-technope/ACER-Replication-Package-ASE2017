licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl jobs java util calendar java util java util hash map hashmap java util map org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource value map valuemap org apache sling event impl jobs config job manager configuration jobmanagerconfiguration org apache sling event impl jobs config queue configuration manager queueconfigurationmanager queue info queueinfo org apache sling event impl jobs config topology capabilities topologycapabilities org apache sling event impl support resource helper resourcehelper org apache sling event jobs job org apache sling event jobs queue org apache sling event jobs consumer job executor jobexecutor object adds actions link job impl jobimpl job handler jobhandler job impl jobimpl job started is stopped isstopped job manager configuration jobmanagerconfiguration configuration job executor jobexecutor consumer job handler jobhandler job impl jobimpl job job executor jobexecutor consumer job manager configuration jobmanagerconfiguration configuration job job consumer consumer configuration configuration job impl jobimpl get job getjob job job executor jobexecutor get consumer getconsumer consumer start processing startprocessing queue queue is stopped isstopped persist job properties persistjobproperties job prepare queue res chedule reschedule job update retry count remove started time code code res cheduling rescheduling successful code code res chedule reschedule resource resolver resourceresolver resolver configuration create resource resolver createresourceresolver resource job resource jobresource resolver get resource getresource job get resource path getresourcepath job resource jobresource modifiable value map modifiablevaluemap mvm job resource jobresource adapt to adaptto modifiable value map modifiablevaluemap mvm job property job retry count job get property getproperty job property job retry count integer job get property getproperty job property result message mvm job property result message job get property getproperty job property result message mvm remove job property job started time mvm job impl jobimpl property job queued calendar get instance getinstance resolver commit persistence exception persistenceexception configuration get main logger getmainlogger debug unable update res chedule reschedule properties job job get id getid resolver close finish job param processing param keep job in history keepjobinhistory job job history param duration duration processing finished job job state jobstate keep job in history keepjobinhistory duration is success issuccess job job state jobstate succeeded resource resolver resourceresolver resolver configuration create resource resolver createresourceresolver resource job resource jobresource resolver get resource getresource job get resource path getresourcepath job resource jobresource string new path newpath keep job in history keepjobinhistory value map valuemap resource helper resourcehelper get value map getvaluemap job resource jobresource new path newpath configuration get storage path getstoragepath job get topic gettopic job get id getid is success issuccess map string object props hash map hashmap string object props job impl jobimpl property finished is success issuccess finish start duration finish date finishdate finish date finishdate set time settime job get processing started getprocessingstarted get time gettime get time gettime duration calendar finish cal finishcal calendar get instance getinstance finish cal finishcal set time settime finish date finishdate props job impl jobimpl property finished finish cal finishcal current time good props job impl jobimpl property finished calendar get instance getinstance job get property getproperty job property result message props job property result message job get property getproperty job property result message resource helper resourcehelper get or create resource getorcreateresource resolver new path newpath props resolver delete job resource jobresource resolver commit keep job in history keepjobinhistory configuration get main logger getmainlogger is debug enabled isdebugenabled is success issuccess configuration get main logger getmainlogger debug successful job utility to string tostring job new path newpath configuration get main logger getmainlogger debug moved can celled cancelled job utility to string tostring job new path newpath persistence exception persistenceexception configuration get main logger getmainlogger warn unable finish job job get id getid instantiation exception instantiationexception configuration get main logger getmainlogger debug unable instantiate job resolver close reassign instance reassign queue info queueinfo queue info queueinfo configuration get queue configuration manager getqueueconfigurationmanager get queue info getqueueinfo job get topic gettopic sanity check queue configuration changed topology capabilities topologycapabilities caps configuration get topology capabilities gettopologycapabilities string target id targetid caps caps detect target detecttarget job get topic gettopic job get properties getproperties queue info queueinfo resource resolver resourceresolver resolver configuration create resource resolver createresourceresolver resource job resource jobresource resolver get resource getresource job get resource path getresourcepath job resource jobresource value map valuemap resource helper resourcehelper get value map getvaluemap job resource jobresource string new path newpath configuration get unique path getuniquepath target id targetid job get topic gettopic job get id getid job get properties getproperties map string object props hash map hashmap string object props remove job property job queue target id targetid props remove job property job target instance props job property job target instance target id targetid props remove job property job started time resource helper resourcehelper get or create resource getorcreateresource resolver new path newpath props resolver delete job resource jobresource resolver commit persistence exception persistenceexception configuration get main logger getmainlogger warn unable reassign job job get id getid instantiation exception instantiationexception configuration get main logger getmainlogger debug unable instantiate job resolver close update property job resource tree param prop names propnames property names update code update successful persist job properties persistjobproperties string prop names propnames prop names propnames resource resolver resourceresolver resolver configuration create resource resolver createresourceresolver resource job resource jobresource resolver get resource getresource job get resource path getresourcepath job resource jobresource modifiable value map modifiablevaluemap mvm job resource jobresource adapt to adaptto modifiable value map modifiablevaluemap string prop name propname prop names propnames object val job get property getproperty prop name propname val val get class getclass is enum isenum mvm prop name propname val to string tostring mvm prop name propname val mvm remove prop name propname resolver commit configuration get main logger getmainlogger debug job resource job get resource path getresourcepath persistence exception persistenceexception ignore configuration get main logger getmainlogger debug unable persist properties ignore resolver close is stopped isstopped is stopped isstopped is stopped isstopped add to retry list addtoretrylist configuration add job to retry list addjobtoretrylist job remove from retry list removefromretrylist configuration remove job from retry list removejobfromretrylist job override hash code hashcode job get id getid hash code hashcode override equals object obj obj job handler jobhandler job get id getid equals job handler jobhandler obj job get id getid override string to string tostring job handler jobhandler job get id getid
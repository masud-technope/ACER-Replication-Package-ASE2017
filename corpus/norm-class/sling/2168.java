licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling provisioning model org apache sling provisioning model model constants modelconstants mode org apache sling provisioning model model constants modelconstants start level org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull org junit assert true asserttrue org junit fail java input stream reader inputstreamreader java reader java util array list arraylist java util list java util map org apache sling provisioning model model reader modelreader test util ities utilities string test model file names filenames string boot txt txt main txt oak txt assert artifact assertartifact artifact group artifactgroup string mvn url mvnurl artifact artifact from mvn url frommvnurl mvn url mvnurl items fail expecting artifact group artifactgroup mvn url mvnurl read test model merging test model file names filenames model read complete test model readcompletetestmodel exception read complete test model readcompletetestmodel test model file names filenames read model model read test model readtestmodel string exception reader reader input stream reader inputstreamreader get resource as stream getresourceasstream utf model current model reader modelreader read reader map trace able traceable string errors model utility modelutility validate current errors exception invalid model errors current reader close read complete model names model read complete test model readcompletetestmodel string names exception model result model string names reader reader input stream reader inputstreamreader get resource as stream getresourceasstream utf model current model reader modelreader read reader map trace able traceable string errors model utility modelutility validate current errors exception invalid model errors model utility modelutility merge result current reader close map trace able traceable string errors model utility modelutility validate result errors exception invalid merged model errors result artifact group artifactgroup get group getgroup model string feature string run mode runmode start level startlevel feature get feature getfeature feature assert not null assertnotnull run mode runmode get run mode getrunmode run mode runmode assert not null assertnotnull artifact group artifactgroup get artifact group getartifactgroup start level startlevel assert not null assertnotnull verify matches expect reading merging test files verify test model verifytestmodel model variables already resolved variablesalreadyresolved string launchpad main oak string assert not null assertnotnull expecting feature get feature getfeature artifact group artifactgroup get group getgroup mode start level assert artifact assertartifact mvn commons collections commons collections jar assert artifact assertartifact mvn org jar jar artifact group artifactgroup get group getgroup jackrabbit variables already resolved variablesalreadyresolved assert artifact assertartifact mvn org apache sling org apache sling jcr jackrabbit server snapshot jar assert artifact assertartifact mvn org apache sling org apache sling jcr jackrabbit server jackrabbit version jar artifact group artifactgroup get group getgroup boot mode start level variables already resolved variablesalreadyresolved assert artifact assertartifact mvn org apache sling org apache sling fragment boot jar assert artifact assertartifact mvn org apache sling org apache sling fragment version jar feature example feature examplefeature get feature getfeature run mode runmode default example m defaultexamplerm example feature examplefeature get run mode getrunmode list configuration configs assert configurations in run mode assertconfigurationsinrunmode default example m defaultexamplerm assert equals assertequals feature types featuretypes subsystem feature example feature examplefeature get type gettype configuration cfg assert configuration assertconfiguration configs org apache sling config configuration assert configuration assertconfiguration list configuration configs string pid configuration configs get pid getpid equals pid get factory pid getfactorypid fail configuration pid pid configs assert artifact assertartifact artifact artifact string group id groupid string artifact id artifactid string version string type string class ifier classifier assert not null assertnotnull artifact assert equals assertequals group id groupid artifact get group id getgroupid assert equals assertequals artifact id artifactid artifact get artifact id getartifactid assert equals assertequals version artifact get version getversion assert equals assertequals type artifact get type gettype assert equals assertequals class ifier classifier artifact get class ifier getclassifier list artifact assert artifacts in group assertartifactsingroup artifact group artifactgroup group size list artifact result array list arraylist artifact size assert true asserttrue group empty group is empty isempty assert false assertfalse group empty group is empty isempty artifact group result add assert equals assertequals unexpected size group size result size result list configuration assert configurations in run mode assertconfigurationsinrunmode run mode runmode run mode runmode size list configuration result array list arraylist configuration size assert true asserttrue configurations empty run mode runmode get configurations getconfigurations is empty isempty assert false assertfalse configurations empty run mode runmode get configurations getconfigurations is empty isempty configuration run mode runmode get configurations getconfigurations result add assert equals assertequals unexpected size configurations size result size result
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer org junit assert equals assertequals org junit assert null assertnull org apache sling installer api installable resource installableresource org junit org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit pax exam paxexam org osgi framework bundle run with runwith pax exam paxexam bundle priorities test bundleprioritiestest osgi installer test base osgiinstallertestbase org ops pax exam configuration option config default configuration defaultconfiguration set up setup setup installer setupinstaller tear down teardown tear down teardown snapshots bundles updated version doesn change test test priorities using snapshots testprioritiesusingsnapshots exception install test bundle string symbolic name symbolicname osgi installer snapshot test assert null assertnull snapshot test bundle absent installing find bundle findbundle symbolic name symbolicname low priority lowpriority installable resource installableresource priority high priority highpriority installable resource installableresource priority install bundle header snapshot object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base snap jar digest wait for bundle events waitforbundleevents symbolic name symbolicname installed active listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle initial install symbolic name symbolicname bundle active bundle find bundle findbundle symbolic name symbolicname assert equals assertequals get headers getheaders snapshot install bundle header snapshot should n shouldn installed priority object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base snap b snapb jar digest low priority lowpriority sleep assert no bundle events assertnobundleevents priority snapshot updated listener symbolic name symbolicname assert bundle assertbundle update symbolic name symbolicname bundle active bundle find bundle findbundle symbolic name symbolicname assert equals assertequals priority snapshot updated get headers getheaders snapshot install bundle header snapshot installed high priority object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base snap c snapc jar digest high priority highpriority wait for bundle events waitforbundleevents symbolic name symbolicname installed active listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent updated bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle update symbolic name symbolicname bundle active bundle find bundle findbundle symbolic name symbolicname assert equals assertequals high priority snapshot updated processed get headers getheaders snapshot
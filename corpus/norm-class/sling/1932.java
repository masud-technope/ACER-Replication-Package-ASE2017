licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling loader org junit assert array equals assertarrayequals org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull java io exception ioexception java input stream inputstream javax jcr repository exception repositoryexception javax jcr session org apache commons io utils ioutils org apache jackrabbit jcr constants jcrconstants org apache sling api resource resource org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org apache sling testing mock sling node type definition scanner nodetypedefinitionscanner org apache sling testing mock sling resource resolver type resourceresolvertype org apache sling testing mock sling junit sling context slingcontext org junit org junit org junit rule org junit test google common collect immutable list immutablelist abstract content loader json dam test abstractcontentloaderjsondamtest rule sling context slingcontext context sling context slingcontext get resource resolver type getresourceresolvertype resource resolver type resourceresolvertype get resource resolver type getresourceresolvertype string path set up setup path context unique root uniqueroot content dam node type definition scanner nodetypedefinitionscanner register context resource resolver resourceresolver adapt to adaptto session immutable list immutablelist sling inf node types nodetypes app cnd get resource resolver type getresourceresolvertype get node type mode getnodetypemode repository exception repositoryexception runtime exception runtimeexception unable register names paces namespaces context load json json samples dam json path sample tear down teardown exception content loader contentloader committed assert false assertfalse context resource resolver resourceresolver has changes haschanges test test dam a sse t metadata testdamassetmetadata io exception ioexception resource asset metadata assetmetadata context resource resolver resourceresolver get resource getresource path sample port raits portraits scott reynolds jpg jcr content metadata value map valuemap props resource util resourceutil get value map getvaluemap asset metadata assetmetadata assert equals assertequals can on canon props tiff string assert equals assertequals props tiff image width imagewidth assert equals assertequals integer props tiff image length imagelength integer assert equals assertequals props dam aperture value aperturevalue assert array equals assertarrayequals string stockphotography business business people properties style color properties orientation landscape props app tags string validate binary data node empty resource binary metadata binarymetadata context resource resolver resourceresolver get resource getresource path sample port raits portraits scott reynolds jpg jcr content renditions original jcr content value map valuemap binary props binaryprops resource util resourceutil get value map getvaluemap binary metadata binarymetadata input stream inputstream binary props binaryprops jcr constants jcrconstants jcr data input stream inputstream assert not null assertnotnull binary data binarydata io utils ioutils to byte array tobytearray assert equals assertequals binary data binarydata length
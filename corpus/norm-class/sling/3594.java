licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer provider jcr impl java byte array input stream bytearrayinputstream java io exception ioexception java input stream inputstream java util calendar java util map javax jcr name space registry namespaceregistry javax jcr node javax jcr repository exception repositoryexception javax jcr session org apache sling commons testing jcr repository util repositoryutil utility create test content content helper contenthelper string folder folder string file file string resource resource string jcr content jcr content string jcr lastmodified jcr last modified lastmodified string jcr mimetype jcr mime type mimetype string jcr encoding jcr encoding string jcr data jcr data string watched folders libs foo bar install libs foo wii install apps install string folders libs foo bar installed apps non install noninstall string fake resources libs foo bar install bundle jar libs foo bar install cfg cfg libs foo wii install bundle jar libs foo wii install cfg properties libs foo wii install cfg properties string fake configs libs foo bar install cfg a cfga libs foo wii install cfg b cfgb libs foo wii install cfg c cfgc session session content helper contenthelper session repository exception repositoryexception io exception ioexception session name space registry namespaceregistry session get workspace getworkspace get name space registry getnamespaceregistry register name space registernamespace sling http sling apache org jcr sling repository exception repositoryexception ignore repository util repositoryutil register node type registernodetype session get class getclass get resource as stream getresourceasstream sling inf node types nodetypes osgi config osgiconfig cnd cleanup content cleanupcontent exception string paths libs apps string path paths session get root node getrootnode has node hasnode path session get root node getrootnode get node getnode path remove setup content setupcontent exception cleanup content cleanupcontent setup folders setupfolders string path fake resources create or update file createorupdatefile path string path fake configs create config createconfig path setup folders setupfolders exception string folder watched folders create folder createfolder folder string folder folders create folder createfolder folder node create folder createfolder string path exception string parts rel path relpath path split node session get root node getrootnode string parts has node hasnode get node getnode add node addnode session save delete string path repository exception repositoryexception session get item getitem path remove session save delete quietly deletequietly string path delete path repository exception repositoryexception create or update file createorupdatefile string path repository exception repositoryexception create or update file createorupdatefile path system current time millis currenttimemillis create or update file createorupdatefile string path mock installable resource mockinstallableresource repository exception repositoryexception create or update file createorupdatefile path get input stream getinputstream system current time millis currenttimemillis create or update file createorupdatefile string path input stream inputstream data last modified lastmodified repository exception repositoryexception data string content fake data path data byte array input stream bytearrayinputstream content get bytes getbytes string rel path relpath rel path relpath path node node res session get root node getrootnode has node hasnode rel path relpath session get root node getrootnode get node getnode rel path relpath res get node getnode jcr content session get root node getrootnode add node addnode rel path relpath file res add node addnode jcr content resource calendar calendar get instance getinstance set time in millis settimeinmillis last modified lastmodified res set property setproperty jcr lastmodified res set property setproperty jcr data data res set property setproperty jcr mimetype session save string rel path relpath string path path starts with startswith path substring path create config createconfig string path map string string data repository exception repositoryexception path rel path relpath path session get root node getrootnode has node hasnode path session get root node getrootnode add node addnode path sling osgi config osgiconfig session save
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide impl vlt java io exception ioexception java util hash set hashset java util linked list linkedlist java util list java util list iterator listiterator java util javax jcr credentials javax jcr node javax jcr node iterator nodeiterator javax jcr repository javax jcr repository exception repositoryexception javax jcr session javax jcr node type nodetype node type nodetype org apache jackrabbit vault util text org apache sling ide log logger org apache sling ide transport resource proxy resourceproxy reorder child nodes command reorderchildnodescommand reorders child nodes node matching resource reorder child nodes command reorderchildnodescommand jcr command jcrcommand resource proxy resourceproxy resource reorder child nodes command reorderchildnodescommand repository repository credentials credentials resource proxy resourceproxy resource logger logger repository credentials resource get path getpath logger resource resource override execute session session repository exception repositoryexception io exception ioexception node exists nodeexists session node exists nodeexists get path getpath node exists nodeexists node node session get node getnode get path getpath node type nodetype primary node type primarynodetype node get primary node type getprimarynodetype primary node type primarynodetype has order able child nodes hasorderablechildnodes reorder child nodes reorderchildnodes node resource reorder child nodes reorderchildnodes node node to reorder nodetoreorder resource proxy resourceproxy resource to reorder resourcetoreorder repository exception repositoryexception list resource proxy resourceproxy children resource to reorder resourcetoreorder get children getchildren list iterator listiterator resource proxy resourceproxy children iterator childreniterator children list iterator listiterator process children iterator childreniterator has next hasnext get logger getlogger trace resource children skip ping skipping child node reordering resource to reorder resourcetoreorder get path getpath string resource child names resourcechildnames hash set hashset children size string node child names nodechildnames hash set hashset children size list node node children nodechildren linked list linkedlist node iterator nodeiterator node children it nodechildrenit node to reorder nodetoreorder get nodes getnodes node children it nodechildrenit has next hasnext node node node children it nodechildrenit next node nextnode node children nodechildren add node node child names nodechildnames add node get name getname resource proxy resourceproxy child resources childresources children resource child names resourcechildnames add text get name getname child resources childresources get path getpath list iterator listiterator node node children list it nodechildrenlistit node children nodechildren list iterator listiterator sorting cond itioned conditioned local workspace repository child names precondition met abort processing meaningful result trace resources and nodes traceresourcesandnodes children node children nodechildren resource child names resourcechildnames equals node child names nodechildnames get logger getlogger warn child names local workspace resource child names resourcechildnames repository node child names nodechildnames path resource get path getpath reordering performed children iterator childreniterator has next hasnext node children list it nodechildrenlistit has next hasnext resource proxy resourceproxy child resource childresource children iterator childreniterator node child node childnode node children list it nodechildrenlistit order expected skip reordering text get name getname child resource childresource get path getpath equals child node childnode get name getname desc end descend covered child resources properly arranged perform reordering resource to reorder resourcetoreorder covers child resource childresource get path getpath reorder child nodes reorderchildnodes child node childnode child resource childresource don perform reordering node reorder able reorderable children node to reorder nodetoreorder get primary node type getprimarynodetype has order able child nodes hasorderablechildnodes get logger getlogger trace node order able orderable child nodes skip ping skipping reordering node to reorder nodetoreorder get path getpath child resource childresource get path getpath string expected parent name expectedparentname children iterator childreniterator has next hasnext expected parent name expectedparentname text get name getname children iterator childreniterator get path getpath move children iterator childreniterator previous expected parent name expectedparentname get logger getlogger trace node ordering node to reorder nodetoreorder get path getpath text get name getname child resource childresource get path getpath expected parent name expectedparentname node to reorder nodetoreorder order before orderbefore text get name getname child resource childresource get path getpath expected parent name expectedparentname trace resources and nodes traceresourcesandnodes list resource proxy resourceproxy children list node node children nodechildren repository exception repositoryexception string builder stringbuilder string builder stringbuilder append comparison nodes resources reordering append resources children size append string format children get path getpath append nodes node children nodechildren size append string format node children nodechildren get path getpath get logger getlogger trace to string tostring override kind get kind getkind kind reorder children
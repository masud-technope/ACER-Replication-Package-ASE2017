licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp taglib java io exception ioexception javax servlet request dispatcher requestdispatcher javax servlet servlet exception servletexception javax servlet servlet request servletrequest javax servlet servlet response servletresponse javax servlet jsp jsp exception jspexception javax servlet jsp jsp tag exception jsptagexception javax servlet jsp page context pagecontext javax servlet jsp tagext tag support tagsupport org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api request request dispatcher options requestdispatcheroptions org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource synthetic resource syntheticresource org apache sling scripting jsp util jsp sling http servlet response wrapper jspslinghttpservletresponsewrapper org apache sling scripting jsp util tag util tagutil org slf logger org slf logger factory loggerfactory code include tag handler includetaghandler code code sling include code custom tag abstract dispatcher tag handler abstractdispatchertaghandler tag support tagsupport serialversionuid log logger log logger factory loggerfactory get logger getlogger abstract dispatcher tag handler abstractdispatchertaghandler resource argument resource resource path argument string path resource type argument string resource type resourcetype replace selectors argument string replace selectors replaceselectors additional selectors argument string add selectors addselectors replace suffix argument string replace suffix replacesuffix called body processed additional eval uations evaluations body desired do end tag doendtag jsp exception jspexception log debug abstract dispatcher tag handler abstractdispatchertaghandler do end tag doendtag sling http servlet request slinghttpservletrequest request tag util tagutil get request getrequest page context pagecontext request dispatcher options tag attributes depends implementation argument request dispatcher options requestdispatcheroptions opts request dispatcher options requestdispatcheroptions opts set force resource type setforceresourcetype resource type resourcetype opts set replace selectors setreplaceselectors replace selectors replaceselectors opts set add selectors setaddselectors add selectors addselectors opts set replace suffix setreplacesuffix replace suffix replacesuffix ensure path absolute normalized path path starts with startswith path request get resource getresource get path getpath path path resource util resourceutil normalize path check resource resource path resource path defined current resource resource request get resource getresource check path resolve synthetic res syntheticres resource tmp request get resource resolver getresourceresolver resolve path tmp resource type resourcetype resource dispatcher synthetic resource dispatchersyntheticresource request get resource resolver getresourceresolver path resource type resourcetype remove resource type overwrite synthetic resource correctly type d typed requested opts remove request dispatcher options requestdispatcheroptions opt force resource type create dispatcher resource path request dispatcher requestdispatcher dispatcher resource dispatcher request get request dispatcher getrequestdispatcher resource opts dispatcher request get request dispatcher getrequestdispatcher path opts dispatcher sling http servlet response slinghttpservletresponse response jsp sling http servlet response wrapper jspslinghttpservletresponsewrapper page context pagecontext dispatch dispatcher request response tag util tagutil log log page context pagecontext content include jsp tag exception jsptagexception jte jte io exception ioexception ioe jsp tag exception jsptagexception ioe servlet exception servletexception jsp tag exception jsptagexception tag util tagutil get root cause getrootcause eval dispatch request dispatcher requestdispatcher dispatcher servlet request servletrequest request servlet response servletresponse response io exception ioexception servlet exception servletexception jsp tag exception jsptagexception set page context setpagecontext page context pagecontext page context pagecontext set page context setpagecontext page context pagecontext clear set resource setresource resource rsrc rsrc null pointer exception nullpointerexception resource resource rsrc set path setpath string path path path set resource type setresourcetype string rsrc type rsrctype resource type resourcetype rsrc type rsrctype set replace selectors setreplaceselectors string selectors replace selectors replaceselectors selectors set add selectors setaddselectors string selectors add selectors addselectors selectors set replace suffix setreplacesuffix string suffix replace suffix replacesuffix suffix code dispatcher synthetic resource dispatchersyntheticresource code code synthetic resource syntheticresource code over writing overwriting link get resource super type getresourcesupertype method provide code code result dispatcher synthetic resource dispatchersyntheticresource synthetic resource syntheticresource dispatcher synthetic resource dispatchersyntheticresource resource resolver resourceresolver resource resolver resourceresolver string path string resource type resourcetype resource resolver resourceresolver path resource type resourcetype override string get resource super type getresourcesupertype resource util resourceutil get resource super type getresourcesupertype get resource resolver getresourceresolver get resource type getresourcetype override release clear release clear resource resource type resourcetype replace selectors replaceselectors add selectors addselectors replace suffix replacesuffix path
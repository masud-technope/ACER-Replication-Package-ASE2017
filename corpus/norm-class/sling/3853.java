licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl org apache sling resource resolver resourceresolver impl mocked resource resolver impl test mockedresourceresolverimpltest createrphandler org junit assert equals assertequals org junit assert not null assertnotnull org junit assert true asserttrue java util arrays org apache sling api resource login exception loginexception org apache sling api resource non existing resource nonexistingresource org apache sling api resource resource org apache sling api resource resource metadata resourcemetadata org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling resource resolver resourceresolver impl providers resource provider handler resourceproviderhandler org apache sling resource resolver resourceresolver impl providers resource provider storage resourceproviderstorage org apache sling spi resource provider resolver context resolvercontext org apache sling spi resource provider resource context resourcecontext org apache sling spi resource provider resource provider resourceprovider org junit test org mockito mockito org mockito invocation invocation on mock invocationonmock org mockito stub bin g stubbing answer provider handler test providerhandlertest suppress warnings suppresswarnings unchecked test test servlet registration and synthetic resources testservletregistrationandsyntheticresources login exception loginexception string servlet path servletpath libs servlet resource servlet resource servletresource mockito mock resource mockito servlet resource servletresource get resource metadata getresourcemetadata answer resource metadata resourcemetadata override resource metadata resourcemetadata answer invocation on mock invocationonmock invocation throwable resource metadata resourcemetadata resource provider resourceprovider leave provider leaveprovider mockito mock resource provider resourceprovider mockito leave provider leaveprovider get resource getresource mockito resolver context resolvercontext mockito servlet path servletpath mockito resource context resourcecontext mockito resource then return thenreturn servlet resource servletresource resource provider handler resourceproviderhandler createrphandler leave provider leaveprovider pid servlet path servletpath resource resolver resourceresolver resolver resource resolver impl resourceresolverimpl common resource resolver factory impl commonresourceresolverfactoryimpl resource resolver factory activator resourceresolverfactoryactivator resource provider storage resourceproviderstorage arrays as list aslist resource parent resolver get resource getresource resource util resourceutil get parent getparent servlet path servletpath assert not null assertnotnull parent parent assert true asserttrue resource synthetic resource util resourceutil is synthetic resource issyntheticresource parent resource servlet resolver get resource getresource servlet path servletpath assert not null assertnotnull servlet resource servlet assert equals assertequals servlet resource servletresource servlet assert not null assertnotnull resolver get resource getresource libs check resolve assert true asserttrue resolver resolve libs non existing resource nonexistingresource assert true asserttrue resolver resolve resource util resourceutil get parent getparent servlet path servletpath non existing resource nonexistingresource assert not null assertnotnull resolver resolve servlet path servletpath resolver close
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler java beans bean info beaninfo java beans int rospection exception introspectionexception java beans int rospector introspector java beans property descriptor propertydescriptor java lang reflect method java lang reflect modifier java util array list arraylist java util arrays java util collections java util enumeration java util hash map hashmap java util hashtable java util iterator java util list java util vector javax method expression methodexpression javax value expression valueexpression javax servlet jsp tagext tag attribute info tagattributeinfo javax servlet jsp tagext tag info taginfo javax servlet jsp tagext tag variable info tagvariableinfo javax servlet jsp tagext variable info variableinfo org apache sling scripting jsp jasper constants org apache sling scripting jsp jasper jasper exception jasperexception org apache sling scripting jsp jasper jsp compilation context jspcompilationcontext org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary org xml sax attributes generator object object string expressionfactory system get property getproperty org apache sling scripting jsp jasper compiler generator expressionfactory expression factory expressionfactory string annotationprocessor system get property getproperty org apache sling scripting jsp jasper compiler generator annotationprocessor jsp annotation processor annotationprocessor servlet writer servletwriter array list arraylist methods buffered methodsbuffered fragment helper class fragmenthelperclass fragment helper class fragmenthelperclass error dispatcher errordispatcher err bean repository beanrepository bean info beaninfo jsp compilation context jspcompilationcontext ctxt is pooling enabled ispoolingenabled break at f breakatlf string jsp id prefix jspidprefix jsp id jspid page info pageinfo page info pageinfo vector string tag handler pool names taghandlerpoolnames gen buffer genbuffer char array buffer chararraybuffer param input string quoted escaped string java rule string quote string escape param input string escaped string java rule string escape string string buffer stringbuffer string buffer stringbuffer length char at charat append append append append append append append append append to string tostring string quote string buffer stringbuffer string buffer stringbuffer append append append append append append append append append append append to string tostring string create jsp id createjspid jasper exception jasperexception jsp id prefix jspidprefix string buffer stringbuffer string buffer stringbuffer string ctxt get servlet java file name getservletjavafilename append jsp append math abs hash code hashcode append jsp id prefix jspidprefix to string tostring jsp id prefix jspidprefix jsp id jspid generate declarations generatedeclarations node nodes jasper exception jasperexception declaration visitor declarationvisitor node visitor get servlet info generated getservletinfogenerated visit node page directive pagedirective jasper exception jasperexception get servlet info generated getservletinfogenerated string info get attribute value getattributevalue info info get servlet info generated getservletinfogenerated printil string get servlet info getservletinfo push indent pushindent printin print quote info println pop indent popindent printil println visit node declaration jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline print multi ln printmultiln string get text gettext println set end java line setendjavaline get java line getjavaline visit node custom tag customtag jasper exception jasperexception use tag plugin usetagplugin get at tag getatstag get at tag getatstag visit visit body visitbody get at tag getatetag get at tag getatetag visit visit body visitbody println visit declaration visitor declarationvisitor compile tag handler pool list compiletaghandlerpoollist node nodes jasper exception jasperexception tag handler pool visitor taghandlerpoolvisitor node visitor vector names tag handler pool visitor taghandlerpoolvisitor vector names visit node custom tag customtag jasper exception jasperexception implements simple tag implementssimpletag string create tag handler pool name createtaghandlerpoolname get prefix getprefix get local name getlocalname get attributes getattributes has empty body hasemptybody set tag handler pool name settaghandlerpoolname names names add visit body visitbody string create tag handler pool name createtaghandlerpoolname string prefix string short name shortname attributes attrs has empty body hasemptybody string pool name poolname pool name poolname jspx tag pool tagpool prefix short name shortname attrs string attr names attrnames string attrs get length getlength attr names attrnames length attr names attrnames attrs getqname arrays sort attr names attrnames collections reverse order reverseorder attr names attrnames length pool name poolname pool name poolname attr names attrnames has empty body hasemptybody pool name poolname pool name poolname jsp util jsputil make java identifier makejavaidentifier pool name poolname visit tag handler pool visitor taghandlerpoolvisitor tag handler pool names taghandlerpoolnames declare temporary scripting vars declaretemporaryscriptingvars node nodes jasper exception jasperexception scripting var visitor scriptingvarvisitor node visitor vector vars scripting var visitor scriptingvarvisitor vars vector visit node custom tag customtag jasper exception jasperexception get custom nesting level getcustomnestinglevel tag variable info tagvariableinfo tag var infos tagvarinfos get tag variable infos gettagvariableinfos variable info variableinfo var infos varinfos get variable infos getvariableinfos var infos varinfos length var infos varinfos length string var name varname var infos varinfos get var name getvarname string tmp var name tmpvarname jspx var name varname get custom nesting level getcustomnestinglevel vars tmp var name tmpvarname vars add tmp var name tmpvarname printin var infos varinfos get class name getclassname print print tmp var name tmpvarname print print println tag var infos tagvarinfos length string var name varname tag var infos tagvarinfos get name given getnamegiven var name varname var name varname get tag data gettagdata get attribute string getattributestring tag var infos tagvarinfos get name from attribute getnamefromattribute tag var infos tagvarinfos get name from attribute getnamefromattribute string tmp var name tmpvarname jspx var name varname get custom nesting level getcustomnestinglevel vars tmp var name tmpvarname vars add tmp var name tmpvarname printin tag var infos tagvarinfos get class name getclassname print print tmp var name tmpvarname print print println visit body visitbody visit scripting var visitor scriptingvarvisitor generate init generateinit ctxt is tag file istagfile printil jsp init jspinit servlet config servletconfig config printil jsp init jspinit push indent pushindent is pooling enabled ispoolingenabled tag handler pool names taghandlerpoolnames size printin tag handler pool names taghandlerpoolnames element at elementat print org apache sling scripting jsp jasper runtime tag handler pool taghandlerpool get tag handler pool gettaghandlerpool ctxt is tag file istagfile print config print get servlet config getservletconfig println printin expressionfactory print jspx factory jspxfactory get jsp application context getjspapplicationcontext ctxt is tag file istagfile print config print get servlet config getservletconfig println get servlet context getservletcontext get expression factory getexpressionfactory printin annotationprocessor print org apache sling scripting jsp jasper runtime annotation processor annotationprocessor ctxt is tag file istagfile print config print get servlet config getservletconfig println get servlet context getservletcontext get attribute getattribute org apache sling scripting jsp jasper runtime annotation processor annotationprocessor get name getname pop indent popindent printil println generate destroy generatedestroy printil jsp destroy jspdestroy push indent pushindent is pooling enabled ispoolingenabled tag handler pool names taghandlerpoolnames size printin tag handler pool names taghandlerpoolnames element at elementat println release pop indent popindent printil println gen preamble package genpreamblepackage string package name packagename jasper exception jasperexception equals package name packagename package name packagename printil package name packagename println gen preamble imports genpreambleimports jasper exception jasperexception iterator iter page info pageinfo get imports getimports iterator iter has next hasnext printin print string iter println println gen preamble static initializers genpreamblestaticinitializers jasper exception jasperexception printil jsp factory jspfactory jspx factory jspxfactory jsp factory jspfactory get default factory getdefaultfactory println printil java util list jspx dependants println list dependants page info pageinfo get dependants getdependants iterator iter dependants iterator dependants is empty isempty printil push indent pushindent printin jspx dependants java util array list arraylist print dependants size println iter has next hasnext printin jspx dependants add print string iter println pop indent popindent printil println declare tag handler pools tags type attribute share tag handler pool shared servlet tag handler preamble generation jsp scope instance expression factory expressionfactory gen preamble class variable declarations genpreambleclassvariabledeclarations string class name classname jasper exception jasperexception is pooling enabled ispoolingenabled tag handler pool names taghandlerpoolnames is empty isempty tag handler pool names taghandlerpoolnames size printil org apache sling scripting jsp jasper runtime tag handler pool taghandlerpool tag handler pool names taghandlerpoolnames element at elementat println printin javax expression factory expressionfactory print expressionfactory println printin org apache sling scripting jsp jasper runtime annotation processor annotationprocessor print annotationprocessor println println declare general purpose methods shared servlet tag handler preamble generation gen preamble methods genpreamblemethods jasper exception jasperexception method compile time file dependencies printil object get dependants getdependants push indent pushindent printil jspx dependants pop indent popindent printil println generate init generateinit generate destroy generatedestroy generates portion servlet generate preamble generatepreamble node nodes jasper exception jasperexception string servlet package name servletpackagename ctxt get servlet package name getservletpackagename string servlet class name servletclassname ctxt get servlet class name getservletclassname string service method name servicemethodname constants service method gen preamble package genpreamblepackage servlet package name servletpackagename generate imports gen preamble imports genpreambleimports generate declaration printin print servlet class name servletclassname print println page info pageinfo get extends getextends printin org apache sling scripting jsp jasper runtime jsp source dependent jspsourcedependent page info pageinfo is thread safe isthreadsafe println printin single thread model singlethreadmodel println push indent pushindent body generate declarations generatedeclarations initial izations initializations gen preamble static initializers genpreamblestaticinitializers variable declarations gen preamble class variable declarations genpreambleclassvariabledeclarations servlet class name servletclassname constructor generate constructor generateconstructor class name classname methods gen preamble methods genpreamblemethods service method printin print service method name servicemethodname println http servlet request httpservletrequest request http servlet response httpservletresponse response println java i o exception ioexception servlet exception servletexception push indent pushindent println local variable declarations printil page context pagecontext page context pagecontext page info pageinfo is session issession printil http session httpsession session page info pageinfo is error page iserrorpage printil throwable exception org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary get throwable getthrowable request removed block sling leave error handler status code printil exception push indent pushindent printil response set status setstatus http servlet response httpservletresponse internal server error pop indent popindent printil printil servlet context servletcontext application printil servlet config servletconfig config printil jsp writer jspwriter printil object printil jsp writer jspwriter jspx printil page context pagecontext jspx context println declare temporary scripting vars declaretemporaryscriptingvars println printil push indent pushindent printin response set content type setcontenttype print quote page info pageinfo get content type getcontenttype println ctxt get options getoptions is xpowered by isxpoweredby printil response add header addheader powered jsp printil page context pagecontext jspx factory jspxfactory get page context getpagecontext request response printin print quote page info pageinfo get error page geterrorpage print page info pageinfo is session issession print page info pageinfo get buffer getbuffer print page info pageinfo is auto flush isautoflush println printil jspx context page context pagecontext printil application page context pagecontext get servlet context getservletcontext printil config page context pagecontext get servlet config getservletconfig page info pageinfo is session issession printil session page context pagecontext get session getsession printil page context pagecontext get out getout printil jspx println generates xml prolog includes xml declaration xml doctype declaration generate xml prolog generatexmlprolog node nodes xml declaration generated conditions omit xml declaration attribute jsp output action jsp document jsp root string omit xml decl omitxmldecl page info pageinfo get omit xml decl getomitxmldecl omit xml decl omitxmldecl jsp util jsputil boolean value booleanvalue omit xml decl omitxmldecl omit xml decl omitxmldecl get root getroot is xml syntax isxmlsyntax page info pageinfo has jsp root hasjsproot ctxt is tag file istagfile string c type ctype page info pageinfo get content type getcontenttype string char set charset c type ctype substring c type ctype index of indexof charset printil write xml version encoding char set charset output doctype declaration doctype root element appears doctype appears doctype doctype public doctypepublic doctype system doctypesystem doctype system doctype system doctypesystem string doctype name doctypename page info pageinfo get doc type name getdoctypename doctype name doctypename string doctype public doctypepublic page info pageinfo get doc type public getdoctypepublic string doctype system doctypesystem page info pageinfo get doc type system getdoctypesystem printin write doctype print doctype name doctypename doctype public doctypepublic print system print print doctype public doctypepublic print print doctype system doctypesystem println generates constructor shared servlet tag handler preamble generation generate constructor generateconstructor string class name classname printil class name classname printil println visitor gen erates generates codes elements generate visitor generatevisitor node visitor hashtable int rospection introspection tag handlers key tag prefix hashtable int rospection introspection tag handlers key tag int rospection introspection info tag handler prefix short name shortname tag hashtable handler infos handlerinfos hashtable tag var numbers tagvarnumbers string parent parent simple tag simpletag is simple tag parent issimpletagparent string push body count var pushbodycountvar string simple tag handler var simpletaghandlervar is simple tag handler issimpletaghandler is fragment isfragment is tag file istagfile servlet writer servletwriter array list arraylist methods buffered methodsbuffered fragment helper class fragmenthelperclass fragment helper class fragmenthelperclass method nesting methodnesting tag info taginfo tag info taginfo class loader classloader loader char array count chararraycount hash map hashmap text map textmap constructor generate visitor generatevisitor is tag file istagfile servlet writer servletwriter array list arraylist methods buffered methodsbuffered fragment helper class fragmenthelperclass fragment helper class fragmenthelperclass class loader classloader loader tag info taginfo tag info taginfo is tag file istagfile is tag file istagfile methods buffered methodsbuffered methods buffered methodsbuffered fragment helper class fragmenthelperclass fragment helper class fragmenthelperclass loader loader tag info taginfo tag info taginfo method nesting methodnesting handler infos handlerinfos hashtable tag var numbers tagvarnumbers hashtable text map textmap hash map hashmap returns attribute option ally optionally url encoded runtime expression result expression string result expression insert call int erpreter interpreter result named attribute insert generated variable result string literal quoted escaped param attr jsp attribute jspattribute object param encode url encoded param expected type expectedtype expected type evaluation attributes expressions string attribute value attributevalue node jsp attribute jspattribute attr encode expected type expectedtype string attr get value getvalue attr is named attribute isnamedattribute attr is expression isexpression encode org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary url encode urlencode string value of valueof request get character encoding getcharacterencoding attr is int erpreter input iselinterpreterinput replaceesc index of indexof constants esc jsp util jsputil int erpreter call interpretercall is tag file istagfile expected type expectedtype attr getel get map name getmapname xxx esc replacement hack replaceesc replace constants esc str escstr encode org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary url encode urlencode request get character encoding getcharacterencoding attr is named attribute isnamedattribute attr get named attribute node getnamedattributenode get temporary variable name gettemporaryvariablename encode org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary url encode urlencode quote request get character encoding getcharacterencoding quote prints attribute param action form string param parent node param action nodes print params printparams node string page param pageparam literal jasper exception jasperexception param visitor paramvisitor node visitor string separator param visitor paramvisitor string separator separator separator visit node param action paramaction jasper exception jasperexception print print separator print print org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary url encode urlencode quote get text attribute gettextattribute request get character encoding getcharacterencoding print print attribute value attributevalue get value getvalue string separator separator string sep literal sep page param pageparam index of indexof sep page param pageparam index of indexof get body getbody get body getbody visit param visitor paramvisitor sep visit node expression jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline printin print print multi ln printmultiln get text gettext println set end java line setendjavaline get java line getjavaline visit node script let scriptlet jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline print multi ln printmultiln get text gettext println set end java line setendjavaline get java line getjavaline visit node el expression elexpression jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline page info pageinfo iselignored getel printil write jsp util jsputil int erpreter call interpretercall is tag file istagfile get type gettype string get text gettext string getel get map name getmapname printil write quote get type gettype string get text gettext set end java line setendjavaline get java line getjavaline visit node include action includeaction jasper exception jasperexception string flush get text attribute gettextattribute flush node jsp attribute jspattribute get page getpage is flush isflush equals flush is flush isflush set begin java line setbeginjavaline get java line getjavaline string page param pageparam is named attribute isnamedattribute jsp include jsp attribute generate code evaluate body page param pageparam generate named attribute value generatenamedattributevalue get named attribute node getnamedattributenode page param pageparam attribute value attributevalue string params values jsp attribute prepare values node jsp body jspbody find jsp body findjspbody jsp body jspbody prepare params prepareparams jsp body jspbody prepare params prepareparams printin org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary include request response page param pageparam print params printparams page param pageparam is literal isliteral println is flush isflush set end java line setendjavaline get java line getjavaline s ca ns scans child nodes parent param subelements param element named attribute jsp attribute generate code evaluate bodies parent simply returns prepare params prepareparams node parent jasper exception jasperexception parent node nodes subelements parent get body getbody subelements subelements size node subelements get node getnode node param action paramaction node nodes param sub elements paramsubelements get body getbody param sub elements paramsubelements param sub elements paramsubelements size node param sub elements paramsubelements get node getnode node named attribute namedattribute generate named attribute value generatenamedattributevalue node named attribute namedattribute finds jsp body sub element subelement parent node returned node jsp body jspbody find jsp body findjspbody node parent jasper exception jasperexception node jsp body jspbody result node nodes subelements parent get body getbody subelements subelements size node subelements get node getnode node jsp body jspbody result node jsp body jspbody result visit node for ward action forwardaction jasper exception jasperexception node jsp attribute jspattribute get page getpage set begin java line setbeginjavaline get java line getjavaline java c javac won complain printil codes push indent pushindent string page param pageparam is named attribute isnamedattribute jsp jsp attribute generate code evaluate body page param pageparam generate named attribute value generatenamedattributevalue get named attribute node getnamedattributenode page param pageparam attribute value attributevalue string params values jsp attribute prepare values node jsp body jspbody find jsp body findjspbody jsp body jspbody prepare params prepareparams jsp body jspbody prepare params prepareparams printin jspx context print page param pageparam print params printparams page param pageparam is literal isliteral println is tag file istagfile is fragment isfragment printil skip page exception skippageexception printil method nesting methodnesting pop indent popindent printil set end java line setendjavaline get java line getjavaline xxx eliminate dead codes visit node get property getproperty jasper exception jasperexception string get text attribute gettextattribute string property get text attribute gettextattribute property set begin java line setbeginjavaline get java line getjavaline bean info beaninfo check variable checkvariable bean defined use bean usebean int rospect introspect compile time bean bean info beaninfo get bean type getbeantype string bean name beanname jsp util jsputil get canonical name getcanonicalname bean java lang reflect method meth jsp runtime library jspruntimelibrary get read method getreadmethod bean property string method name methodname meth get name getname printil write org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary to string tostring bean name beanname jspx context find attribute findattribute method name methodname object custom action variable info variableinfo entry int rospect introspect runtime printil write org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary to string tostring org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary handle get property handlegetproperty jspx context get attribute getattribute page context pagecontext scope property set end java line setendjavaline get java line getjavaline visit node set property setproperty jasper exception jasperexception string get text attribute gettextattribute string property get text attribute gettextattribute property string param get text attribute gettextattribute param node jsp attribute jspattribute get value getvalue set begin java line setbeginjavaline get java line getjavaline equals property printil org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary int rospect introspect jspx context find attribute findattribute request param property param property printil org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary int rospecthelper introspecthelper jspx context find attribute findattribute property request get parameter getparameter param request param is expression isexpression printil org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary handle set property handlesetproperty jspx context find attribute findattribute property print attribute value attributevalue println is int erpreter input iselinterpreterinput resolve call int erpreter interpreter runtime don type expect general hard wire call generated code xxx optimize bean exposed jsp use bean usebean code get property getproperty holds arguments passed jsp runtime library jspruntimelibrary handle set property expression handlesetpropertyexpression page context pagecontext variable resolver variableresolver generated servlet generated tag handler tag files function mapper functionmapper printil org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary handle set property expression handlesetpropertyexpression jspx context find attribute findattribute property quote get value getvalue jspx context getel get map name getmapname is named attribute isnamedattribute set property setproperty jsp attribute generate code evaluate body string value var name valuevarname generate named attribute value generatenamedattributevalue get named attribute node getnamedattributenode printil org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary int rospecthelper introspecthelper jspx context find attribute findattribute property value var name valuevarname printin org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary int rospecthelper introspecthelper jspx context find attribute findattribute property print attribute value attributevalue println set end java line setendjavaline get java line getjavaline visit node use bean usebean jasper exception jasperexception string get text attribute gettextattribute string scope get text attribute gettextattribute scope string klass get text attribute gettextattribute string type get text attribute gettextattribute type node jsp attribute jspattribute bean name beanname get bean name getbeanname instantiation compile time generate new generatenew canonical klass string canonical name canonicalname klass bean ctxt get class loader getclassloader load class loadclass klass klass index of indexof canonical type canonical name canonicalname jsp util jsputil get canonical name getcanonicalname bean canonical name canonicalname klass modifiers bean get modifiers getmodifiers modifier is public ispublic modifiers modifier is interface isinterface modifiers modifier is abstract isabstract modifiers exception invalid bean modifier check arg constructor bean get constructor getconstructor compile time determined bean exists constructor bean instantiation generate new generatenew exception ctxt get options getoptions get error on use bean invalid class attribute geterroronusebeaninvalidclassattribute err jsp error jsperror jsp error invalid bean klass canonical name canonicalname canonical name canonicalname klass replace type type unspecified type bean type canonical name canonicalname string scope name scopename page context pagecontext scope string lock jspx context request equals scope scope name scopename page context pagecontext request scope lock request session equals scope scope name scopename page context pagecontext session scope lock session application equals scope scope name scopename page context pagecontext application scope lock application set begin java line setbeginjavaline get java line getjavaline declare bean printin type print print println lock creating bean printin print lock println push indent pushindent locate bean context printin print print type print jspx context get attribute getattribute print quote print print scope name scopename println create bean check bean alredy printin print println push indent pushindent klass bean name beanname bean name beanname bean locally error printin java lang instantiation exception instantiationexception bean print println scope instantiate bean scope generate new generatenew string binary name binaryname bean name beanname bean name beanname is named attribute isnamedattribute bean name beanname jsp attribute generate code evaluate body binary name binaryname generate named attribute value generatenamedattributevalue bean name beanname get named attribute node getnamedattributenode binary name binaryname attribute value attributevalue bean name beanname string impl ies implies klass binary name binaryname quote klass printil push indent pushindent printin print print type print java beans beans instantiate print get class getclass get class loader getclassloader print binary name binaryname println pop indent popindent note beans instantiate class not found exception classnotfoundexception bean printil class not found exception classnotfoundexception exc push indent pushindent printil instantiation exception instantiationexception exc get message getmessage pop indent popindent printil exception exc push indent pushindent printin servlet exception servletexception print create bean print binary name binaryname println exc pop indent popindent close printil impl ies implies klass generate codes instantiate bean printin print print canonical name canonicalname println attribute bean scope printin jspx context set attribute setattribute print quote print print print print scope name scopename println visit body bean instantiated visit body visitbody pop indent popindent printil lock block pop indent popindent printil set end java line setendjavaline get java line getjavaline string form attr string make attr makeattr string attr string attr visit node plug in plugin jasper exception jasperexception visitor handle jsp param plugin param visitor paramvisitor node visitor param visitor paramvisitor visit node param action paramaction jasper exception jasperexception string get text attribute gettextattribute equals ignore case equalsignorecase object java object equals ignore case equalsignorecase type java type set begin java line setbeginjavaline get java line getjavaline check correct behavior form println param blah printil write param escape attribute value attributevalue get value getvalue string printil write form print blah printil write escape attribute value attributevalue get value getvalue string set end java line setendjavaline get java line getjavaline string type get text attribute gettextattribute type string code get text attribute gettextattribute code string get text attribute gettextattribute node jsp attribute jspattribute height get height getheight node jsp attribute jspattribute width get width getwidth string hspace get text attribute gettextattribute hspace string vspace get text attribute gettextattribute vspace string align get text attribute gettextattribute align string iepluginurl get text attribute gettextattribute iepluginurl string nspluginurl get text attribute gettextattribute nspluginurl string code base codebase get text attribute gettextattribute code base codebase string archive get text attribute gettextattribute archive string jreversion get text attribute gettextattribute jreversion string width str widthstr width width is named attribute isnamedattribute width str widthstr generate named attribute value generatenamedattributevalue width get named attribute node getnamedattributenode width str widthstr attribute value attributevalue width string string height str heightstr height height is named attribute isnamedattribute height str heightstr generate named attribute value generatenamedattributevalue height get named attribute node getnamedattributenode height str heightstr attribute value attributevalue height string iepluginurl iepluginurl constants plugin url nspluginurl nspluginurl constants plugin url set begin java line setbeginjavaline get java line getjavaline params values jsp attribute prepare values params node prepare param subelements node jsp body jspbody jsp body jspbody find jsp body findjspbody jsp body jspbody node nodes subelements jsp body jspbody get body getbody subelements subelements size node subelements get node getnode node params action paramsaction prepare params prepareparams xxx fixed bug width height dynamically check generation correct style plugin object compose runtime output string string object make attr makeattr class id classid ctxt get options getoptions get i e class id getieclassid make attr makeattr string width width width str widthstr string height height height str heightstr string make attr makeattr hspace hspace make attr makeattr vspace vspace make attr makeattr align align make attr makeattr code base codebase iepluginurl print output string java file printil write quote quote printil write param java code param java code make attr makeattr code printil write quote printil write param java code base codebase code base codebase param java code base codebase make attr makeattr code base codebase printil write quote printil write param java archive archive param java archive make attr makeattr archive printil write quote printil write param type param type make attr makeattr application java type jreversion version jreversion printil write quote printil write generate param jsp param plugin body get body getbody get body getbody visit param visitor paramvisitor netscape style plugin printil write quote comment printil write embed make attr makeattr type application java type jreversion version jreversion make attr makeattr make attr makeattr hspace hspace make attr makeattr vspace vspace make attr makeattr align align make attr makeattr plugins page pluginspage nspluginurl make attr makeattr java code code make attr makeattr java code base codebase code base codebase make attr makeattr java archive archive printil write quote quote generate attr jsp param plugin body get body getbody get body getbody visit param visitor paramvisitor printil write quote printil write printil write quote noembed printil write fallback get body getbody visit body visitbody printil write printil write quote noembed printil write printil write quote comment printil write printil write quote object printil write set end java line setendjavaline get java line getjavaline visit node named attribute namedattribute jasper exception jasperexception don visit body tag earlier visit node custom tag customtag jasper exception jasperexception plugin generate efficient code use tag plugin usetagplugin generate tag plugin generatetagplugin tag handler info taghandlerinfo handler info handlerinfo get tag handler info gettaghandlerinfo create variable names string base var basevar create tag var name createtagvarname getqname get prefix getprefix get local name getlocalname string tag eval var tagevalvar jspx eval base var basevar string tag handler var taghandlervar jspx base var basevar string tag push body count var tagpushbodycountvar jspx push body count base var basevar tag scripting element generate codes method servlet writer servletwriter out save outsave node child info childinfo get child info getchildinfo is script less isscriptless has scripting vars hasscriptingvars tag handler body code reside separate method script less scriptless scripting variable defined string tag method tagmethod jspx meth base var basevar generate call method printin print tag method tagmethod print parent print parent print print jspx context push body count var pushbodycountvar print print push body count var pushbodycountvar println push indent pushindent printil method nesting methodnesting pop indent popindent buffer method out save outsave fragments bodies generated fragment helper classes java adjustments avoid adjustments gen buffer genbuffer gen buffer genbuffer gen buffer genbuffer implements simple tag implementssimpletag get body getbody methods buffered methodsbuffered add gen buffer genbuffer gen buffer genbuffer get out getout method nesting methodnesting generate code method declaration println push indent pushindent printin print tag method tagmethod print parent print javax servlet jsp tagext jsp tag jsptag print parent print print page context pagecontext jspx context push body count var pushbodycountvar print print push body count var pushbodycountvar println printil throwable push indent pushindent init ilaize initilaize local variables method is tag file istagfile printil page context pagecontext page context pagecontext jspx context printil jsp writer jspwriter jspx context get out getout generate local variables generatelocalvariables implements simple tag implementssimpletag generate custom do tag generatecustomdotag handler info handlerinfo tag handler var taghandlervar classic tag handler generate code start element body element generate custom start generatecustomstart handler info handlerinfo tag handler var taghandlervar tag eval var tagevalvar tag push body count var tagpushbodycountvar visit body string tmp parent tmpparent parent parent tag handler var taghandlervar is simple tag parent save issimpletagparentsave is simple tag parent issimpletagparent is simple tag parent issimpletagparent string tmp push body count var tmppushbodycountvar implements try catch finally implementstrycatchfinally tmp push body count var tmppushbodycountvar push body count var pushbodycountvar push body count var pushbodycountvar tag push body count var tagpushbodycountvar tmp is simple tag handler tmpissimpletaghandler is simple tag handler issimpletaghandler is simple tag handler issimpletaghandler visit body visitbody parent tmp parent tmpparent is simple tag parent issimpletagparent is simple tag parent save issimpletagparentsave implements try catch finally implementstrycatchfinally push body count var pushbodycountvar tmp push body count var tmppushbodycountvar is simple tag handler issimpletaghandler tmp is simple tag handler tmpissimpletaghandler generate custom end generatecustomend tag handler var taghandlervar tag eval var tagevalvar tag push body count var tagpushbodycountvar is script less isscriptless has scripting vars hasscriptingvars generate method method nesting methodnesting printil pop indent popindent printil pop indent popindent method nesting methodnesting restore previous writer out save outsave string single quote string quote visit node uninterpreted tag uninterpretedtag jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline write tag printin write print getqname attributes attrs get non taglib xmlns attributes getnontaglibxmlnsattributes attrs len attrslen attrs attrs get length getlength attrs len attrslen print print attrs getqname print string quote quote string attrs get value getvalue index of indexof quote single quote print quote print print quote attrs get attributes getattributes attrs len attrslen attrs attrs get length getlength node jsp attribute jspattribute jsp attrs jspattrs get jsp attributes getjspattributes attrs len attrslen print print attrs getqname print jsp attrs jspattrs is int erpreter input iselinterpreterinput print print attribute value attributevalue jsp attrs jspattrs string print string quote quote string attrs get value getvalue index of indexof quote single quote print quote print print quote get body getbody println visit tag body visit body visitbody write tag printin write print getqname println println set end java line setendjavaline get java line getjavaline visit node jsp element jspelement jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline compute attribute string xml style named attributes hashtable map hashtable node jsp attribute jspattribute attrs get jsp attributes getjspattributes attrs attrs length string attr str attrstr attrs is named attribute isnamedattribute attr str attrstr generate named attribute value generatenamedattributevalue attrs get named attribute node getnamedattributenode attr str attrstr attribute value attributevalue attrs object string attrs get name getname attr str attrstr map attrs get name getname write tag xml style attribute element string elem name elemname attribute value attributevalue get name attribute getnameattribute string printin write print elem name elemname write remaining attributes enumeration enumeration map enumeration has more elements hasmoreelements string attr name attrname string enumeration next element nextelement print string map attr name attrname jsp element nested tags jsp attribute has body hasbody node nodes subelements get body getbody subelements subelements size node sub elem subelem subelements get node getnode sub elem subelem node named attribute namedattribute has body hasbody has body hasbody println smap include body set end java line setendjavaline get java line getjavaline visit tag body visit body visitbody write tag printin write print elem name elemname println println set end java line setendjavaline get java line getjavaline visit node template text templatetext jasper exception jasperexception string text get text gettext text size textsize text length text size textsize text size textsize special small text strings set begin java line setbeginjavaline get java line getjavaline line inc lineinc text size textsize text char at charat printil write quote add smap addsmap line inc lineinc line inc lineinc set end java line setendjavaline get java line getjavaline ctxt get options getoptions gen string as char array genstringaschararray generate strings arrays performance servlet writer servletwriter ca out caout char array buffer chararraybuffer char array buffer chararraybuffer gen buffer genbuffer ca out caout char array buffer chararraybuffer get out getout ca out caout push indent pushindent text map textmap hash map hashmap ca out caout char array buffer chararraybuffer get out getout string char array name chararrayname string text map textmap text char array name chararrayname char array name chararrayname jspx array char array count chararraycount text map textmap text char array name chararrayname ca out caout printin ca out caout print char array name chararrayname ca out caout print ca out caout print quote text ca out caout println to char array tochararray set begin java line setbeginjavaline get java line getjavaline printil write char array name chararrayname set end java line setendjavaline get java line getjavaline set begin java line setbeginjavaline get java line getjavaline printin string buffer stringbuffer string buffer stringbuffer write init length initlength length count jsp util jsputil chunksize relative starting srouce src line srcline text length text char at charat count append append append append append append append append src line srcline break at f breakatlf count append println to string tostring text length printin set length setlength init length initlength count jsp util jsputil chunksize add smap add smap addsmap src line srcline append append append length init length initlength append println to string tostring set end java line setendjavaline get java line getjavaline visit node jsp body jspbody jasper exception jasperexception get body getbody is simple tag handler issimpletaghandler printin simple tag handler var simpletaghandlervar print set jsp body setjspbody generate jsp fragment generatejspfragment simple tag handler var simpletaghandlervar println visit body visitbody visit node invoke action invokeaction jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline printil org apache sling scripting jsp jasper runtime jsp context wrapper jspcontextwrapper jsp context jspcontext sync before invoke syncbeforeinvoke string var reader attr varreaderattr get text attribute gettextattribute var reader varreader string var attr varattr get text attribute gettextattribute var reader attr varreaderattr var attr varattr printil jspx sout java string writer stringwriter printil jspx sout printin print to getter method togettermethod get text attribute gettextattribute fragment println push indent pushindent printin to getter method togettermethod get text attribute gettextattribute fragment println invoke jspx sout pop indent popindent printil var reader attr varreaderattr var attr varattr string scope name scopename get text attribute gettextattribute scope printin jspx context set attribute setattribute var reader attr varreaderattr print quote var reader attr varreaderattr print java string reader stringreader jspx sout to string tostring print quote var attr varattr print jspx sout to string tostring scope name scopename print print get scope constant getscopeconstant scope name scopename println printil jsp context jspcontext getelcontext put context putcontext jsp context jspcontext get jsp context getjspcontext set end java line setendjavaline get java line getjavaline visit node do body action dobodyaction jasper exception jasperexception set begin java line setbeginjavaline get java line getjavaline printil org apache sling scripting jsp jasper runtime jsp context wrapper jspcontextwrapper jsp context jspcontext sync before invoke syncbeforeinvoke string var reader attr varreaderattr get text attribute gettextattribute var reader varreader string var attr varattr get text attribute gettextattribute var reader attr varreaderattr var attr varattr printil jspx sout java string writer stringwriter printil jspx sout printil get jsp body getjspbody push indent pushindent printil get jsp body getjspbody invoke jspx sout pop indent popindent var reader attr varreaderattr var attr varattr string scope name scopename get text attribute gettextattribute scope printin jspx context set attribute setattribute var reader attr varreaderattr print quote var reader attr varreaderattr print java string reader stringreader jspx sout to string tostring print quote var attr varattr print jspx sout to string tostring scope name scopename print print get scope constant getscopeconstant scope name scopename println printil jsp context jspcontext getelcontext put context putcontext jsp context jspcontext get jsp context getjspcontext set end java line setendjavaline get java line getjavaline visit node attribute generator attributegenerator jasper exception jasperexception node custom tag customtag tag get tag gettag node jsp attribute jspattribute attrs tag get jsp attributes getjspattributes attrs attrs length attrs get name getname equals get name getname print evaluate attribute evaluateattribute get tag handler info gettaghandlerinfo tag attrs tag tag handler info taghandlerinfo get tag handler info gettaghandlerinfo node custom tag customtag jasper exception jasperexception hashtable handler infos by short name handlerinfosbyshortname hashtable handler infos handlerinfos get prefix getprefix handler infos by short name handlerinfosbyshortname handler infos by short name handlerinfosbyshortname hashtable handler infos handlerinfos get prefix getprefix handler infos by short name handlerinfosbyshortname tag handler info taghandlerinfo handler info handlerinfo tag handler info taghandlerinfo handler infos by short name handlerinfosbyshortname get local name getlocalname handler info handlerinfo handler info handlerinfo tag handler info taghandlerinfo get tag handler class gettaghandlerclass err handler infos by short name handlerinfosbyshortname get local name getlocalname handler info handlerinfo handler info handlerinfo generate tag plugin generatetagplugin node custom tag customtag jasper exception jasperexception get at tag getatstag get at tag getatstag visit visit body visitbody get at tag getatetag get at tag getatetag visit generate custom start generatecustomstart node custom tag customtag tag handler info taghandlerinfo handler info handlerinfo string tag handler var taghandlervar string tag eval var tagevalvar string tag push body count var tagpushbodycountvar jasper exception jasperexception tag handler class taghandlerclass handler info handlerinfo get tag handler class gettaghandlerclass printin println getqname set begin java line setbeginjavaline get java line getjavaline declare scripting vars declarescriptingvars variable info variableinfo save scripting vars savescriptingvars variable info variableinfo string tag handler class name taghandlerclassname jsp util jsputil get canonical name getcanonicalname tag handler class taghandlerclass printin tag handler class name taghandlerclassname print print tag handler var taghandlervar print is pooling enabled ispoolingenabled implements jsp id consumer implementsjspidconsumer print print tag handler class name taghandlerclassname print print get tag handler pool name gettaghandlerpoolname print print tag handler class name taghandlerclassname println print print tag handler class name taghandlerclassname println printin org apache sling scripting jsp jasper runtime annotation helper annotationhelper post construct postconstruct print annotationprocessor print print tag handler var taghandlervar println generate set ters generatesetters tag handler var taghandlervar handler info handlerinfo implements jsp id consumer implementsjspidconsumer printin tag handler var taghandlervar print set jsp id setjspid print create jsp id createjspid println implements try catch finally implementstrycatchfinally printin print tag push body count var tagpushbodycountvar println printil push indent pushindent printin print tag eval var tagevalvar print print tag handler var taghandlervar println do start tag dostarttag implements body tag implementsbodytag sync scripting vars syncscriptingvars variable info variableinfo has empty body hasemptybody printin print tag eval var tagevalvar println javax servlet jsp tagext tag skip body push indent pushindent declare scripting vars declarescriptingvars variable info variableinfo nested save scripting vars savescriptingvars variable info variableinfo nested implements body tag implementsbodytag printin print tag eval var tagevalvar println javax servlet jsp tagext tag eval body include push indent pushindent printil jspx context push body pushbody implements try catch finally implementstrycatchfinally printin tag push body count var tagpushbodycountvar println push body count var pushbodycountvar printin push body count var pushbodycountvar println printin tag handler var taghandlervar println set body content setbodycontent javax servlet jsp tagext body content bodycontent printin tag handler var taghandlervar println do init body doinitbody pop indent popindent printil sync scripting vars syncscriptingvars variable info variableinfo sync scripting vars syncscriptingvars variable info variableinfo nested sync scripting vars syncscriptingvars variable info variableinfo nested implements iteration tag implementsiterationtag printil push indent pushindent set end java line setendjavaline get java line getjavaline generate custom end generatecustomend node custom tag customtag string tag handler var taghandlervar string tag eval var tagevalvar string tag push body count var tagpushbodycountvar has empty body hasemptybody implements iteration tag implementsiterationtag printin eval do after body evaldoafterbody print tag handler var taghandlervar println do after body doafterbody sync scripting vars syncscriptingvars variable info variableinfo sync scripting vars syncscriptingvars variable info variableinfo nested printil eval do after body evaldoafterbody javax servlet jsp tagext body tag bodytag eval body push indent pushindent printil pop indent popindent pop indent popindent printil restore scripting vars restorescriptingvars variable info variableinfo nested implements body tag implementsbodytag printin print tag eval var tagevalvar println javax servlet jsp tagext tag eval body include push indent pushindent printil jspx context pop body popbody implements try catch finally implementstrycatchfinally printin tag push body count var tagpushbodycountvar println push body count var pushbodycountvar printin push body count var pushbodycountvar println pop indent popindent printil pop indent popindent printil printin print tag handler var taghandlervar println do end tag doendtag javax servlet jsp tagext tag skip push indent pushindent implements try catch finally implementstrycatchfinally is pooling enabled ispoolingenabled implements jsp id consumer implementsjspidconsumer printin get tag handler pool name gettaghandlerpoolname print reuse print tag handler var taghandlervar println printin tag handler var taghandlervar println release printin org apache sling scripting jsp jasper runtime annotation helper annotationhelper pre destroy predestroy print annotationprocessor print print tag handler var taghandlervar println is tag file istagfile is fragment isfragment printil skip page exception skippageexception printil method nesting methodnesting pop indent popindent printil sync scripting vars syncscriptingvars variable info variableinfo implements try catch finally implementstrycatchfinally pop indent popindent printil throwable jspx exception push indent pushindent printin print tag push body count var tagpushbodycountvar println push indent pushindent printil jspx context pop body popbody pop indent popindent printin tag handler var taghandlervar println do catch docatch jspx exception pop indent popindent printil push indent pushindent printin tag handler var taghandlervar println do finally dofinally is pooling enabled ispoolingenabled printin get tag handler pool name gettaghandlerpoolname print reuse print tag handler var taghandlervar println printin tag handler var taghandlervar println release printin org apache sling scripting jsp jasper runtime annotation helper annotationhelper pre destroy predestroy print annotationprocessor print print tag handler var taghandlervar println implements try catch finally implementstrycatchfinally pop indent popindent printil declare scripting vars declarescriptingvars variable info variableinfo sync scripting vars syncscriptingvars variable info variableinfo restore scripting vars restorescriptingvars variable info variableinfo generate custom do tag generatecustomdotag node custom tag customtag tag handler info taghandlerinfo handler info handlerinfo string tag handler var taghandlervar jasper exception jasperexception tag handler class taghandlerclass handler info handlerinfo get tag handler class gettaghandlerclass set begin java line setbeginjavaline get java line getjavaline printin println getqname declare scripting vars declarescriptingvars variable info variableinfo save scripting vars savescriptingvars variable info variableinfo string tag handler class name taghandlerclassname jsp util jsputil get canonical name getcanonicalname tag handler class taghandlerclass printin tag handler class name taghandlerclassname print print tag handler var taghandlervar print print print tag handler class name taghandlerclassname println printin org apache sling scripting jsp jasper runtime annotation helper annotationhelper post construct postconstruct print annotationprocessor print print tag handler var taghandlervar println generate set ters generatesetters tag handler var taghandlervar handler info handlerinfo implements jsp id consumer implementsjspidconsumer printin tag handler var taghandlervar print set jsp id setjspid print create jsp id createjspid println find jsp body findjspbody has empty body hasemptybody printin tag handler var taghandlervar print set jsp body setjspbody generate jsp fragment generatejspfragment tag handler var taghandlervar println body tag body jsp body element visit method element encapsulate element body jsp fragment jspfragment pass tag handler set jsp body setjspbody string tmp tag handler var tmptaghandlervar simple tag handler var simpletaghandlervar simple tag handler var simpletaghandlervar tag handler var taghandlervar tmp is simple tag handler tmpissimpletaghandler is simple tag handler issimpletaghandler is simple tag handler issimpletaghandler visit body visitbody simple tag handler var simpletaghandlervar tmp tag handler var tmptaghandlervar is simple tag handler issimpletaghandler tmp is simple tag handler tmpissimpletaghandler printin tag handler var taghandlervar println do tag dotag restore scripting vars restorescriptingvars variable info variableinfo synchronize scripting variables sync scripting vars syncscriptingvars variable info variableinfo declare synchronize scripting variables declare scripting vars declarescriptingvars variable info variableinfo sync scripting vars syncscriptingvars variable info variableinfo resource injection printin org apache sling scripting jsp jasper runtime annotation helper annotationhelper pre destroy predestroy print annotationprocessor print print tag handler var taghandlervar println set end java line setendjavaline get java line getjavaline declare scripting vars declarescriptingvars node custom tag customtag scope vector vec get scripting vars getscriptingvars scope vec vec size object elem vec element at elementat elem variable info variableinfo variable info variableinfo var info varinfo variable info variableinfo elem var info varinfo get declare getdeclare printin var info varinfo get class name getclassname print print var info varinfo get var name getvarname println tag variable info tagvariableinfo tag var info tagvarinfo tag variable info tagvariableinfo elem tag var info tagvarinfo get declare getdeclare string var name varname tag var info tagvarinfo get name given getnamegiven var name varname var name varname get tag data gettagdata get attribute string getattributestring tag var info tagvarinfo get name from attribute getnamefromattribute tag var info tagvarinfo get name from attribute getnamefromattribute alias printin tag var info tagvarinfo get class name getclassname print print var name varname println method called custom tag start element custom tag custom nesting level greater save current values scripting variables temporary variables values res tored restored tag element scripting variables tag original values save scripting vars savescriptingvars node custom tag customtag scope get custom nesting level getcustomnestinglevel tag variable info tagvariableinfo tag var infos tagvarinfos get tag variable infos gettagvariableinfos variable info variableinfo var infos varinfos get variable infos getvariableinfos var infos varinfos length tag var infos tagvarinfos length var infos varinfos length var infos varinfos length var infos varinfos get scope getscope scope saving res toring restoring get scripting vars getscriptingvars scope var infos varinfos string var name varname var infos varinfos get var name getvarname string tmp var name tmpvarname jspx var name varname get custom nesting level getcustomnestinglevel printin tmp var name tmpvarname print print var name varname println tag var infos tagvarinfos length tag var infos tagvarinfos get scope getscope scope saving res toring restoring get scripting vars getscriptingvars scope tag var infos tagvarinfos string var name varname tag var infos tagvarinfos get name given getnamegiven var name varname var name varname get tag data gettagdata get attribute string getattributestring tag var infos tagvarinfos get name from attribute getnamefromattribute tag var infos tagvarinfos get name from attribute getnamefromattribute alias string tmp var name tmpvarname jspx var name varname get custom nesting level getcustomnestinglevel printin tmp var name tmpvarname print print var name varname println method called custom tag element custom tag custom nesting level greater restore scripting variables original values saved tag start element restore scripting vars restorescriptingvars node custom tag customtag scope get custom nesting level getcustomnestinglevel tag variable info tagvariableinfo tag var infos tagvarinfos get tag variable infos gettagvariableinfos variable info variableinfo var infos varinfos get variable infos getvariableinfos var infos varinfos length tag var infos tagvarinfos length var infos varinfos length var infos varinfos length var infos varinfos get scope getscope scope saving res toring restoring get scripting vars getscriptingvars scope var infos varinfos string var name varname var infos varinfos get var name getvarname string tmp var name tmpvarname jspx var name varname get custom nesting level getcustomnestinglevel printin var name varname print print tmp var name tmpvarname println tag var infos tagvarinfos length tag var infos tagvarinfos get scope getscope scope saving res toring restoring get scripting vars getscriptingvars scope tag var infos tagvarinfos string var name varname tag var infos tagvarinfos get name given getnamegiven var name varname var name varname get tag data gettagdata get attribute string getattributestring tag var infos tagvarinfos get name from attribute getnamefromattribute tag var infos tagvarinfos get name from attribute getnamefromattribute alias string tmp var name tmpvarname jspx var name varname get custom nesting level getcustomnestinglevel printin var name varname print print tmp var name tmpvarname println sync hronizes synchronizes scripting variables custom tag scope sync scripting vars syncscriptingvars node custom tag customtag scope tag variable info tagvariableinfo tag var infos tagvarinfos get tag variable infos gettagvariableinfos variable info variableinfo var infos varinfos get variable infos getvariableinfos var infos varinfos length tag var infos tagvarinfos length var infos varinfos length var infos varinfos length var infos varinfos get scope getscope scope printin var infos varinfos get var name getvarname print print var infos varinfos get class name getclassname print jspx context find attribute findattribute print quote var infos varinfos get var name getvarname println tag var infos tagvarinfos length tag var infos tagvarinfos get scope getscope scope string tag var infos tagvarinfos get name given getnamegiven get tag data gettagdata get attribute string getattributestring tag var infos tagvarinfos get name from attribute getnamefromattribute tag var infos tagvarinfos get name from attribute getnamefromattribute alias printin print print tag var infos tagvarinfos get class name getclassname print jspx context find attribute findattribute print quote println string get jsp context var getjspcontextvar is tag file istagfile get jsp context getjspcontext jspx context string get expression factory var getexpressionfactoryvar expressionfactory creates tag variable concat enating concatenating prefix short name shortname end code d endcoded result ant resultant string valid java identifier string create tag var name createtagvarname string full name fullname string prefix string short name shortname string var name varname tag var numbers tagvarnumbers var name varname prefix short name shortname tag var numbers tagvarnumbers full name fullname integer integer tag var numbers tagvarnumbers full name fullname var name varname var name varname int value intvalue tag var numbers tagvarnumbers full name fullname integer int value intvalue tag var numbers tagvarnumbers full name fullname integer var name varname var name varname jsp util jsputil make java identifier makejavaidentifier var name varname string evaluate attribute evaluateattribute tag handler info taghandlerinfo handler info handlerinfo node jsp attribute jspattribute attr node custom tag customtag string tag handler var taghandlervar jasper exception jasperexception string attr value attrvalue attr get value getvalue attr value attrvalue attr is named attribute isnamedattribute check if attribute is jsp fragment checkifattributeisjspfragment attr get name getname xxx generate temporary variable attr value attrvalue generate named attribute jsp fragment generatenamedattributejspfragment attr get named attribute node getnamedattributenode tag handler var taghandlervar attr value attrvalue generate named attribute value generatenamedattributevalue attr get named attribute node getnamedattributenode string local name localname attr get local name getlocalname method attr is dynamic isdynamic object handler info handlerinfo get setter method getsettermethod local name localname err jsp error jsperror jsp error unable find method attr get name getname get parameter types getparametertypes xxx length attr is expression isexpression attr is named attribute isnamedattribute check if attribute is jsp fragment checkifattributeisjspfragment attr get name getname attr is dynamic isdynamic attr value attrvalue convert string convertstring attr value attrvalue local name localname handler info handlerinfo get property editor class getpropertyeditorclass local name localname attr is int erpreter input iselinterpreterinput buffer string buffer stringbuffer string buffer stringbuffer tag attribute info tagattributeinfo tai attr get tag attribute info gettagattributeinfo generate el context elcontext reference append get jsp context var getjspcontextvar append getelcontext string el context elcontext to string tostring attr getel attr getel get map name getmapname set length setlength append org apache sling scripting jsp jasper el context wrapper elcontextwrapper append el context elcontext append append attr getel get map name getmapname append el context elcontext to string tostring reset buffer set length setlength create mark append get start getstart to string tostring append append attr value attrvalue append string mark to string tostring reset buffer set length setlength depending type attr is deferred input isdeferredinput tai value expression valueexpression get name getname equals tai get type name gettypename append org apache sling scripting jsp jasper jsp value expression jspvalueexpression append quote mark append append get expression factory var getexpressionfactoryvar append create value expression createvalueexpression attr getel optimize append el context elcontext append append quote attr value attrvalue append append jsp util jsputil to java source type from tld tojavasourcetypefromtld attr get expected type name getexpectedtypename append expression eval uated evaluated passing set ter setter evaluate tai can be request time canberequesttime jsp evaluate attr is deferred input isdeferredinput jsp evaluate attr is deferred input isdeferredinput tai can be request time canberequesttime jsp evaluate attr value attrvalue evaluate append get value getvalue append get jsp context var getjspcontextvar append getelcontext append attr value attrvalue to string tostring attr is deferred method input isdeferredmethodinput tai method expression methodexpression get name getname equals tai get type name gettypename append org apache sling scripting jsp jasper jsp method expression jspmethodexpression append quote mark append append get expression factory var getexpressionfactoryvar append create method expression createmethodexpression append el context elcontext append append quote attr value attrvalue append append jsp util jsputil to java source type from tld tojavasourcetypefromtld attr get expected type name getexpectedtypename append append string attr get parameter type names getparametertypenames length append jsp util jsputil to java source type from tld tojavasourcetypefromtld append length set length setlength length append attr value attrvalue to string tostring attr value attrvalue expression int erpreter interpreter replaceesc attr value attrvalue index of indexof constants esc string map name mapname attr getel attr getel get map name getmapname attr value attrvalue jsp util jsputil int erpreter call interpretercall is tag file istagfile attr value attrvalue map name mapname xxx hack replace esc replaceesc attr value attrvalue attr value attrvalue replace constants esc str escstr attr value attrvalue convert string convertstring attr value attrvalue local name localname handler info handlerinfo get property editor class getpropertyeditorclass local name localname attr value attrvalue generate code create map alias variables map string generate alias map generatealiasmap node custom tag customtag string tag handler var taghandlervar jasper exception jasperexception tag variable info tagvariableinfo tag vars tagvars get tag variable infos gettagvariableinfos string alias map var aliasmapvar alias seen aliasseen tag vars tagvars length string name from namefrom tag vars tagvars get name from attribute getnamefromattribute name from namefrom string aliased name aliasedname get attribute value getattributevalue name from namefrom aliased name aliasedname alias seen aliasseen printin java util hash map hashmap alias map var aliasmapvar tag handler var taghandlervar alias map aliasmap print alias map var aliasmapvar println java util hash map hashmap alias seen aliasseen printin alias map var aliasmapvar print print quote tag vars tagvars get name given getnamegiven print print quote aliased name aliasedname println alias map var aliasmapvar generate set ters generatesetters node custom tag customtag string tag handler var taghandlervar tag handler info taghandlerinfo handler info handlerinfo simple tag simpletag jasper exception jasperexception context simple tag simpletag generate alias map string alias map var aliasmapvar is tag file istagfile alias map var aliasmapvar generate alias map generatealiasmap tag handler var taghandlervar printin tag handler var taghandlervar alias map var aliasmapvar println set jsp context setjspcontext jspx context print set jsp context setjspcontext jspx context print alias map var aliasmapvar println printin tag handler var taghandlervar println set page context setpagecontext jspx context parent is tag file istagfile parent printin tag handler var taghandlervar print set parent setparent print javax servlet jsp tagext tag adapter tagadapter print javax servlet jsp tagext simple tag simpletag simple tag simpletag printin tag handler var taghandlervar print set parent setparent parent is simple tag parent issimpletagparent print javax servlet jsp tagext tag adapter tagadapter print javax servlet jsp tagext simple tag simpletag print parent println print javax servlet jsp tagext tag print parent println println passed simple tag simpletag instances reused parent printin tag handler var taghandlervar print set parent setparent print parent println handle deferred values methods node jsp attribute jspattribute attrs get jsp attributes getjspattributes attrs attrs length string attr value attrvalue evaluate attribute evaluateattribute handler info handlerinfo attrs tag handler var taghandlervar mark get start getstart printil get file getfile get line number getlinenumber get column number getcolumnnumber attrs get tag attribute info gettagattributeinfo attrs is dynamic isdynamic printin tag handler var taghandlervar print print set dynamic attribute setdynamicattribute string uri attrs geturi equals uri uri print print attrs geturi print print attrs get local name getlocalname print print attr value attrvalue println printin tag handler var taghandlervar print print handler info handlerinfo get setter method getsettermethod attrs get local name getlocalname get name getname print print attr value attrvalue println param target coerce string param string param attr name attrname attribute supplied param prop editor class propeditorclass property editor attribute param is named attribute isnamedattribute attribute named attribute jsp attribute standard action string convert string convertstring string string attr name attrname prop editor class propeditorclass is named attribute isnamedattribute jasper exception jasperexception string quoted is named attribute isnamedattribute quoted quote prop editor class propeditorclass string class name classname jsp util jsputil get canonical name getcanonicalname class name classname org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary get value from bean info property editor getvaluefrombeaninfopropertyeditor class name classname attr name attrname quoted jsp util jsputil get canonical name getcanonicalname prop editor class propeditorclass string quoted jsp util jsputil coerce to primitive boolean coercetoprimitiveboolean is named attribute isnamedattribute jsp util jsputil coerce to boolean coercetoboolean is named attribute isnamedattribute jsp util jsputil coerce to primitive byte coercetoprimitivebyte is named attribute isnamedattribute jsp util jsputil coerce to byte coercetobyte is named attribute isnamedattribute jsp util jsputil coerce to char coercetochar is named attribute isnamedattribute character jsp util jsputil coerce to character coercetocharacter is named attribute isnamedattribute jsp util jsputil coerce to primitive double coercetoprimitivedouble is named attribute isnamedattribute jsp util jsputil coerce to double coercetodouble is named attribute isnamedattribute jsp util jsputil coerce to primitive float coercetoprimitivefloat is named attribute isnamedattribute jsp util jsputil coerce to float coercetofloat is named attribute isnamedattribute jsp util jsputil coerce to int coercetoint is named attribute isnamedattribute integer jsp util jsputil coerce to integer coercetointeger is named attribute isnamedattribute jsp util jsputil coerce to primitive short coercetoprimitiveshort is named attribute isnamedattribute jsp util jsputil coerce to short coercetoshort is named attribute isnamedattribute jsp util jsputil coerce to primitive long coercetoprimitivelong is named attribute isnamedattribute jsp util jsputil coerce to long coercetolong is named attribute isnamedattribute object string quoted string class name classname jsp util jsputil get canonical name getcanonicalname class name classname org apache sling scripting jsp jasper runtime jsp runtime library jspruntimelibrary get value from property editor manager getvaluefrompropertyeditormanager class name classname attr name attrname quoted converts scope string representation values request session application scope constant string get scope constant getscopeconstant string scope string scope name scopename page context pagecontext scope request equals scope scope name scopename page context pagecontext request scope session equals scope scope name scopename page context pagecontext session scope application equals scope scope name scopename page context pagecontext application scope scope name scopename generates anonymous jsp fragment jspfragment passed argument simple tag simpletag set jsp body setjspbody generate jsp fragment generatejspfragment node string tag handler var taghandlervar jasper exception jasperexception xxx optimization check child parent node template text templatetext won parameters generate over head overhead jsp fragment jspfragment echoes body implementation fragment org apache sling scripting jsp jasper runtime support fragment helper class fragmenthelperclass fragment fragment fragment helper class fragmenthelperclass open fragment openfragment tag handler var taghandlervar method nesting methodnesting servlet writer servletwriter out save outsave fragment get gen buffer getgenbuffer get out getout string tmp parent tmpparent parent parent jspx parent is simple tag parent save issimpletagparentsave is simple tag parent issimpletagparent is simple tag parent issimpletagparent tmp is fragment tmpisfragment is fragment isfragment is fragment isfragment string push body count var save pushbodycountvarsave push body count var pushbodycountvar push body count var pushbodycountvar fixed push body count simplify code gen push body count var pushbodycountvar jspx push body count visit body visitbody out save outsave parent tmp parent tmpparent is simple tag parent issimpletagparent is simple tag parent save issimpletagparentsave is fragment isfragment tmp is fragment tmpisfragment push body count var pushbodycountvar push body count var save pushbodycountvarsave fragment helper class fragmenthelperclass close fragment closefragment fragment method nesting methodnesting xxx change page context pagecontext jsp context jspcontext place page context pagecontext defined fragment tag file print fragment helper class fragmenthelperclass get class name getclassname fragment get id getid jspx context tag handler var taghandlervar push body count var pushbodycountvar generate code required runtime named attribute temporary variable result stored string generate named attribute value generatenamedattributevalue node named attribute namedattribute jasper exception jasperexception string var name varname get temporary variable name gettemporaryvariablename body element named attribute node template text generate extra call push body pushbody pop body popbody optimize rid temporary variable reality java c javac node nodes body get body getbody body template text optimization templatetextoptimization body size node body element bodyelement body get node getnode body element bodyelement node template text templatetext template text optimization templatetextoptimization printil string var name varname quote string node template text templatetext body element bodyelement get text gettext template text optimization templatetextoptimization printil jspx context push body pushbody visit body visitbody printil string var name varname javax servlet jsp tagext body content bodycontent get string getstring printil jspx context pop body popbody empty body treated printil string var name varname var name varname generate named attribute value generatenamedattributevalue create jsp fragment jspfragment param parent node named attribute param tag handler var taghandlervar variable tag handler stored fragment parent tag temporary variable fragment stored string generate named attribute jsp fragment generatenamedattributejspfragment node named attribute namedattribute string tag handler var taghandlervar jasper exception jasperexception string var name varname get temporary variable name gettemporaryvariablename printin javax servlet jsp tagext jsp fragment jspfragment var name varname generate jsp fragment generatejspfragment tag handler var taghandlervar println var name varname generate local variables generatelocalvariables servlet writer servletwriter node jasper exception jasperexception node child info childinfo node custom tag customtag node custom tag customtag get child info getchildinfo node jsp body jspbody node jsp body jspbody get child info getchildinfo node named attribute namedattribute node named attribute namedattribute get child info getchildinfo flag error jasper exception jasperexception unexpected node type err get string getstring jsp error internal unexpected node type has use bean hasusebean printil http session httpsession session jspx context get session getsession printil servlet context servletcontext application jspx context get servlet context getservletcontext has use bean hasusebean has include action hasincludeaction has set property hassetproperty has param action hasparamaction printil http servlet request httpservletrequest request http servlet request httpservletrequest jspx context get request getrequest has include action hasincludeaction printil http servlet response httpservletresponse response http servlet response httpservletresponse jspx context get response getresponse common post amble postamble shared servlets tag files gen common post amble gencommonpostamble append methods generated buffer methods buffered methodsbuffered size gen buffer genbuffer method buffer methodbuffer gen buffer genbuffer methods buffered methodsbuffered method buffer methodbuffer adjust java lines adjustjavalines get java line getjavaline print multi ln printmultiln method buffer methodbuffer to string tostring append helper fragment helper class fragmenthelperclass is used isused fragment helper class fragmenthelperclass generate post amble generatepostamble fragment helper class fragmenthelperclass adjust java lines adjustjavalines get java line getjavaline print multi ln printmultiln fragment helper class fragmenthelperclass to string tostring append array declarations char array buffer chararraybuffer print multi ln printmultiln char array buffer chararraybuffer to string tostring close definition pop indent popindent printil generates portion servlet generate post amble generatepostamble node nodes pop indent popindent printil throwable push indent pushindent printil skip page exception skippageexception push indent pushindent printil jspx printil get buffer size getbuffersize push indent pushindent printil clear buffer clearbuffer java i o exception ioexception pop indent popindent printil jspx context jspx context handle page exception handlepageexception pop indent popindent printil pop indent popindent printil push indent pushindent printil jspx factory jspxfactory release page context releasepagecontext jspx context pop indent popindent printil close service method pop indent popindent printil generated methods helper classes gen common post amble gencommonpostamble constructor generator servlet writer servletwriter compiler compiler methods buffered methodsbuffered array list arraylist char array buffer chararraybuffer err compiler get error dispatcher geterrordispatcher ctxt compiler get compilation context getcompilationcontext fragment helper class fragmenthelperclass fragment helper class fragmenthelperclass ctxt get servlet class name getservletclassname helper page info pageinfo compiler get page info getpageinfo temporary hack jsp attribute directive jsp init jspinit method generated servlet called called generated servlets extend http jsp base httpjspbase causing tag handler pools initialized npe jsp spec cla rify clarify containers override init destroy disable tag pooling page info pageinfo get extends getextends is pooling enabled ispoolingenabled ctxt get options getoptions is pooling enabled ispoolingenabled is pooling enabled ispoolingenabled bean info beaninfo page info pageinfo get bean repository getbeanrepository break at f breakatlf ctxt get options getoptions get mapped file getmappedfile is pooling enabled ispoolingenabled tag handler pool names taghandlerpoolnames vector main entry generator param servlet output writer param compiler compiler param input generate servlet writer servletwriter compiler compiler node nodes jasper exception jasperexception generator gen generator compiler gen is pooling enabled ispoolingenabled gen compile tag handler pool list compiletaghandlerpoollist gen ctxt is tag file istagfile jasper tag info jaspertaginfo tag info taginfo jasper tag info jaspertaginfo gen ctxt get tag info gettaginfo gen generate tag handler preamble generatetaghandlerpreamble tag info taginfo gen ctxt is prototype mode isprototypemode gen generate xml prolog generatexmlprolog gen fragment helper class fragmenthelperclass generate preamble generatepreamble visit gen generate visitor generatevisitor gen ctxt is tag file istagfile gen methods buffered methodsbuffered gen fragment helper class fragmenthelperclass gen ctxt get class loader getclassloader tag info taginfo gen generate tag handler post amble generatetaghandlerpostamble tag info taginfo gen generate preamble generatepreamble gen generate xml prolog generatexmlprolog gen fragment helper class fragmenthelperclass generate preamble generatepreamble visit gen generate visitor generatevisitor gen ctxt is tag file istagfile gen methods buffered methodsbuffered gen fragment helper class fragmenthelperclass gen ctxt get class loader getclassloader gen generate post amble generatepostamble generates tag handler preamble generate tag handler preamble generatetaghandlerpreamble jasper tag info jaspertaginfo tag info taginfo node nodes tag jasper exception jasperexception generate declaration string class name classname tag info taginfo get tag class name gettagclassname last index lastindex class name classname last index of lastindexof last index lastindex string pkg name pkgname class name classname substring last index lastindex gen preamble package genpreamblepackage pkg name pkgname class name classname class name classname substring last index lastindex generate imports gen preamble imports genpreambleimports generate declaration printin println class name classname printil javax servlet jsp tagext simple tag support simpletagsupport printin org apache sling scripting jsp jasper runtime jsp source dependent jspsourcedependent tag info taginfo has dynamic attributes hasdynamicattributes println printin javax servlet jsp tagext dynamic attributes dynamicattributes println println push indent pushindent body generate declarations generatedeclarations tag initial izations initializations gen preamble static initializers genpreamblestaticinitializers printil jsp context jspcontext jsp context jspcontext declare writer storing result fragment body invocation var reader varreader attribute printil java writer jspx sout variable declarations gen preamble class variable declarations genpreambleclassvariabledeclarations tag info taginfo get tag name gettagname generate set jsp context generatesetjspcontext tag info taginfo tag handler specific declarations generate tag handler attributes generatetaghandlerattributes tag info taginfo tag info taginfo has dynamic attributes hasdynamicattributes generate set dynamic attribute generatesetdynamicattribute methods gen preamble methods genpreamblemethods do tag dotag method printil do tag dotag jsp exception jspexception java i o exception ioexception ctxt is prototype mode isprototypemode printil pop indent popindent printil push indent pushindent spec page context pagecontext implicit object tag files declare jspx context share code generator jsp s jsps printil page context pagecontext jspx context page context pagecontext jsp context jspcontext declare implicit objects printil http servlet request httpservletrequest request http servlet request httpservletrequest jspx context get request getrequest printil http servlet response httpservletresponse response http servlet response httpservletresponse jspx context get response getresponse printil http session httpsession session jspx context get session getsession printil servlet context servletcontext application jspx context get servlet context getservletcontext printil servlet config servletconfig config jspx context get servlet config getservletconfig printil jsp writer jspwriter jsp context jspcontext get out getout printil jsp init jspinit config current jsp context jspcontext el context elcontext printil jsp context jspcontext getelcontext put context putcontext jsp context jspcontext jsp context jspcontext generate page scope d variables generatepagescopedvariables tag info taginfo declare temporary scripting vars declaretemporaryscriptingvars tag println printil push indent pushindent generate tag handler post amble generatetaghandlerpostamble tag info taginfo tag info taginfo pop indent popindent throwable classic tag handler helper method declared throwable printil throwable push indent pushindent printil skip page exception skippageexception printil skip page exception skippageexception printil java i o exception ioexception printil java i o exception ioexception printil illegal state exception illegalstateexception printil illegal state exception illegalstateexception printil jsp exception jspexception printil jsp exception jspexception printil jsp exception jspexception pop indent popindent printil push indent pushindent handle res toring restoring variable mapper variablemapper tag attribute info tagattributeinfo attr infos attrinfos tag info taginfo get attributes getattributes attr infos attrinfos length attr infos attrinfos is deferred method isdeferredmethod attr infos attrinfos is deferred value isdeferredvalue printin variable mapper variablemapper set variable setvariable print quote attr infos attrinfos get name getname print print println restore nested jsp context jspcontext el context elcontext printil jsp context jspcontext getelcontext put context putcontext jsp context jspcontext get jsp context getjspcontext printil org apache sling scripting jsp jasper runtime jsp context wrapper jspcontextwrapper jsp context jspcontext sync end tag file syncendtagfile is pooling enabled ispoolingenabled tag handler pool names taghandlerpoolnames is empty isempty printil jsp destroy jspdestroy pop indent popindent printil close do tag dotag method pop indent popindent printil generated methods helper classes gen common post amble gencommonpostamble generates declarations tag handler attributes defines get ter getter set ter setter methods generate tag handler attributes generatetaghandlerattributes tag info taginfo tag info taginfo jasper exception jasperexception tag info taginfo has dynamic attributes hasdynamicattributes printil java util hash map hashmap jspx dynamic attrs java util hash map hashmap declare attributes tag attribute info tagattributeinfo attr infos attrinfos tag info taginfo get attributes getattributes attr infos attrinfos length printin attr infos attrinfos is fragment isfragment print javax servlet jsp tagext jsp fragment jspfragment print jsp util jsputil to java source type tojavasourcetype attr infos attrinfos get type name gettypename print print attr infos attrinfos get name getname println println define attribute get ter getter set ter setter methods attr infos attrinfos attr infos attrinfos length get ter getter method printin attr infos attrinfos is fragment isfragment print javax servlet jsp tagext jsp fragment jspfragment print jsp util jsputil to java source type tojavasourcetype attr infos attrinfos get type name gettypename print print to getter method togettermethod attr infos attrinfos get name getname println push indent pushindent printin print attr infos attrinfos get name getname println pop indent popindent printil println set ter setter method printin print to setter method name tosettermethodname attr infos attrinfos get name getname attr infos attrinfos is fragment isfragment print javax servlet jsp tagext jsp fragment jspfragment print print jsp util jsputil to java source type tojavasourcetype attr infos attrinfos get type name gettypename print print attr infos attrinfos get name getname println push indent pushindent printin print attr infos attrinfos get name getname print print attr infos attrinfos get name getname println ctxt is tag file istagfile tag files jsp context jspcontext attributes printin jsp context jspcontext set attribute setattribute print attr infos attrinfos get name getname print print attr infos attrinfos get name getname println pop indent popindent printil println generate set ter setter jsp context jspcontext create wrapper store original wrapper wrapper mask context tag file simulate fresh context original sync scripting variables generate set jsp context generatesetjspcontext tag info taginfo tag info taginfo nested seen nestedseen at begin seen atbeginseen at end seen atendseen determine aliases alias seen aliasseen tag variable info tagvariableinfo tag vars tagvars tag info taginfo get tag variable infos gettagvariableinfos tag vars tagvars length tag vars tagvars get name from attribute getnamefromattribute tag vars tagvars get name given getnamegiven alias seen aliasseen alias seen aliasseen printil set jsp context setjspcontext jsp context jspcontext ctx java util map alias map aliasmap printil set jsp context setjspcontext jsp context jspcontext ctx push indent pushindent printil set jsp context setjspcontext ctx printil java util array list arraylist jspx nested printil java util array list arraylist jspx printil java util array list arraylist jspx tag vars tagvars length tag vars tagvars get scope getscope variable info variableinfo nested nested seen nestedseen printil jspx nested java util array list arraylist nested seen nestedseen printin jspx nested add variable info variableinfo at begin seen atbeginseen printil jspx java util array list arraylist at begin seen atbeginseen printin jspx add variable info variableinfo at end seen atendseen printil jspx java util array list arraylist at end seen atendseen printin jspx add print quote tag vars tagvars get name given getnamegiven println alias seen aliasseen printil jsp context jspcontext org apache sling scripting jsp jasper runtime jsp context wrapper jspcontextwrapper ctx jspx nested jspx jspx alias map aliasmap printil jsp context jspcontext org apache sling scripting jsp jasper runtime jsp context wrapper jspcontextwrapper ctx jspx nested jspx jspx pop indent popindent printil println printil jsp context jspcontext get jsp context getjspcontext push indent pushindent printil jsp context jspcontext pop indent popindent printil generates implementation javax servlet jsp tagext dynamic attributes dynamicattributes set dynamic attribute setdynamicattribute method saves dynamic attribute passed scope d scoped variable created generate set dynamic attribute generatesetdynamicattribute printil set dynamic attribute setdynamicattribute string uri string local name localname object jsp exception jspexception push indent pushindent spec dynamic attributes uri map dynamic attributes printil uri push indent pushindent printil jspx dynamic attrs local name localname pop indent popindent pop indent popindent printil creates scope d scoped variable declared tag attribute tag accepts dynamic attributes scope d scoped variable dynamic attribute passed generate page scope d variables generatepagescopedvariables jasper tag info jaspertaginfo tag info taginfo normal attributes tag attribute info tagattributeinfo attr infos attrinfos tag info taginfo get attributes getattributes variable mapper var variablemappervar attr infos attrinfos length string attr name attrname attr infos attrinfos get name getname previous values assignment attr infos attrinfos is deferred value isdeferredvalue attr infos attrinfos is deferred method isdeferredmethod scope modified variable mapper variablemapper consistency performance variable mapper var variablemappervar printil javax variable mapper variablemapper variable mapper variablemapper jsp context jspcontext getelcontext get variable mapper getvariablemapper variable mapper var variablemappervar printin javax value expression valueexpression print print variable mapper variablemapper set variable setvariable print quote attr name attrname print attr infos attrinfos is deferred method isdeferredmethod print expressionfactory print create value expression createvalueexpression print to getter method togettermethod attr name attrname print javax method expression methodexpression print to getter method togettermethod attr name attrname println printil to getter method togettermethod attr name attrname push indent pushindent printin jspx context set attribute setattribute print quote attr name attrname print print to getter method togettermethod attr name attrname println pop indent popindent expose map dynamic attributes scope d scoped tag info taginfo has dynamic attributes hasdynamicattributes printin jspx context set attribute setattribute print tag info taginfo get dynamic attributes map name getdynamicattributesmapname print jspx dynamic attrs generates get ter getter method attribute string to getter method togettermethod string attr name attrname attr chars attrchars attr name attrname to char array tochararray attr chars attrchars character to upper case touppercase attr chars attrchars string attr chars attrchars generates set ter setter method attribute string to setter method name tosettermethodname string attr name attrname attr chars attrchars attr name attrname to char array tochararray attr chars attrchars character to upper case touppercase attr chars attrchars string attr chars attrchars storing result intro spec ting introspecting custom tag handler tag handler info taghandlerinfo hashtable method maps methodmaps hashtable property editor maps propertyeditormaps tag handler class taghandlerclass constructor param custom tag tag handler intro spec ted introspected param tag handler class taghandlerclass tag handler param err error dispatcher tag handler info taghandlerinfo node tag handler class taghandlerclass error dispatcher errordispatcher err jasper exception jasperexception tag handler class taghandlerclass tag handler class taghandlerclass method maps methodmaps hashtable property editor maps propertyeditormaps hashtable bean info beaninfo tag class info tagclassinfo int rospector introspector get bean info getbeaninfo tag handler class taghandlerclass property descriptor propertydescriptor tag class info tagclassinfo get property descriptors getpropertydescriptors length fixme checking page context pagecontext body content bodycontent parent akv get write method getwritemethod method maps methodmaps get name getname get write method getwritemethod get property editor class getpropertyeditorclass property editor maps propertyeditormaps get name getname get property editor class getpropertyeditorclass int rospection exception introspectionexception err jsp error jsperror jsp error int rospect introspect tag handler taghandler tag handler class taghandlerclass get name getname xxx method get setter method getsettermethod string attr name attrname method method maps methodmaps attr name attrname xxx get property editor class getpropertyeditorclass string attr name attrname property editor maps propertyeditormaps attr name attrname xxx get tag handler class gettaghandlerclass tag handler class taghandlerclass gen erating generating codes buffer included support tracking source java lines mapping gen buffer genbuffer custom tag customtag codes generated tag buffer body tag fields str aight straight codes corresponds jsp lines node node node nodes body java char array writer chararraywriter char writer charwriter servlet writer servletwriter gen buffer genbuffer gen buffer genbuffer node node nodes node body body body set generated in buffer setgeneratedinbuffer char writer charwriter java char array writer chararraywriter servlet writer servletwriter java print writer printwriter char writer charwriter servlet writer servletwriter get out getout string to string tostring char writer charwriter to string tostring adjust java lines java lines stored nodes relative buffer adjusted buffer inserted source adjust java lines adjustjavalines offset node adjust java line adjustjavaline node offset body body visit node visitor do visit dovisit node adjust java line adjustjavaline offset visit node custom tag customtag jasper exception jasperexception node nodes get body getbody is generated in buffer isgeneratedinbuffer don adjust lines nested tags generated buf fers buffers adjustments visit jasper exception jasperexception adjust java line adjustjavaline node offset get begin java line getbeginjavaline set begin java line setbeginjavaline get begin java line getbeginjavaline offset set end java line setendjavaline get end java line getendjavaline offset track generated fragment helper fragment helper class fragmenthelperclass fragment gen buffer genbuffer gen buffer genbuffer fragment node node gen buffer genbuffer gen buffer genbuffer node get body getbody gen buffer genbuffer get gen buffer getgenbuffer gen buffer genbuffer get id getid helper generated array list arraylist fragments array list arraylist string class name classname buffer entire helper gen buffer genbuffer class buffer classbuffer gen buffer genbuffer fragment helper class fragmenthelperclass string class name classname class name classname class name classname string get class name getclassname class name classname is used isused generate preamble generatepreamble servlet writer servletwriter class buffer classbuffer get out getout println push indent pushindent note reference jspx meth printil class name classname printil org apache sling scripting jsp jasper runtime jsp fragment helper jspfragmenthelper printil push indent pushindent printil javax servlet jsp tagext jsp tag jsptag jspx parent printil jspx push body count println printil class name classname discriminator jsp context jspcontext jsp context jspcontext javax servlet jsp tagext jsp tag jsptag jspx parent jspx push body count push indent pushindent printil discriminator jsp context jspcontext jspx parent printil jspx parent jspx parent printil jspx push body count jspx push body count pop indent popindent printil fragment open fragment openfragment node parent string tag handler var taghandlervar method nesting methodnesting jasper exception jasperexception fragment result fragment fragments size parent fragments add result parent set inner class name setinnerclassname class name classname servlet writer servletwriter result get gen buffer getgenbuffer get out getout push indent pushindent push indent pushindent comment close fragment closefragment method nesting methodnesting printin invoke printin invoke println result get id getid jsp writer jspwriter push indent pushindent note throwable required methods jspx meth throwable printil throwable pop indent popindent printil push indent pushindent generate local variables generatelocalvariables parent result close fragment closefragment fragment fragment method nesting methodnesting servlet writer servletwriter fragment get gen buffer getgenbuffer get out getout xxx comment open fragment openfragment method nesting methodnesting printil printil pop indent popindent printil generate post amble generatepostamble servlet writer servletwriter class buffer classbuffer get out getout generate fragment methods fragments size fragment fragment fragment fragments fragment get gen buffer getgenbuffer adjust java lines adjustjavalines get java line getjavaline print multi ln printmultiln fragment get gen buffer getgenbuffer to string tostring generate post amble postamble printil invoke java writer writer push indent pushindent printil jsp exception jspexception pop indent popindent printil push indent pushindent printil jsp writer jspwriter printil writer push indent pushindent printil jsp context jspcontext push body pushbody writer pop indent popindent printil push indent pushindent printil jsp context jspcontext get out getout pop indent popindent printil printil push indent pushindent printil jsp context jspcontext getelcontext put context putcontext jsp context jspcontext jsp context jspcontext printil discriminator push indent pushindent fragments size printil push indent pushindent printil invoke printil pop indent popindent pop indent popindent printil pop indent popindent printil printil throwable push indent pushindent printil skip page exception skippageexception printil skip page exception skippageexception printil jsp exception jspexception pop indent popindent printil printil push indent pushindent printil writer push indent pushindent printil jsp context jspcontext pop body popbody pop indent popindent printil pop indent popindent printil pop indent popindent invoke method printil pop indent popindent helper printil pop indent popindent string to string tostring class buffer classbuffer to string tostring adjust java lines adjustjavalines offset fragments size fragment fragment fragment fragments fragment get gen buffer getgenbuffer adjust java lines adjustjavalines offset
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock jcr org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull org junit assert true asserttrue org junit fail java util hash map hashmap java util map javax jcr item not found exception itemnotfoundexception javax jcr node javax jcr node iterator nodeiterator javax jcr property javax jcr property iterator propertyiterator javax jcr repository exception repositoryexception javax jcr session org apache jackrabbit jcr constants jcrconstants org junit org junit test mock node test mocknodetest session session node root node rootnode node node property prop node node set up setup repository exception repositoryexception session mock jcr mockjcr new session newsession root node rootnode session get root node getrootnode node root node rootnode add node addnode node prop node set property setproperty prop node node add node addnode node test test get nodes testgetnodes repository exception repositoryexception node node node add node addnode node node iterator nodeiterator nodes node get nodes getnodes assert equals assertequals nodes get size getsize assert equals assertequals node nodes next node nextnode assert true asserttrue node has nodes hasnodes assert true asserttrue node has nodes hasnodes assert false assertfalse node has nodes hasnodes nodes node get nodes getnodes node assert equals assertequals nodes get size getsize assert equals assertequals node nodes next node nextnode nodes node get nodes getnodes unknown assert equals assertequals nodes get size getsize test test get properties testgetproperties repository exception repositoryexception property iterator propertyiterator properties node get properties getproperties map string property props properties to map propertiestomap properties assert equals assertequals properties get size getsize assert equals assertequals prop props prop assert true asserttrue node has properties hasproperties assert true asserttrue node has properties hasproperties properties node get properties getproperties prop assert equals assertequals properties get size getsize assert equals assertequals prop properties properties node get properties getproperties unknown assert equals assertequals properties get size getsize map string property properties to map propertiestomap property iterator propertyiterator properties repository exception repositoryexception hash map hashmap string property props hash map hashmap string property properties has next hasnext property property properties next property nextproperty props property get name getname property props test test primary type testprimarytype repository exception repositoryexception assert equals assertequals unstructured node get primary node type getprimarynodetype get name getname assert equals assertequals unstructured node get property getproperty jcr primary type primarytype get string getstring property iterator propertyiterator properties node get properties getproperties properties has next hasnext property property properties next property nextproperty jcr constants jcrconstants jcr primarytype equals property get name getname fail properties include jcr primary type primarytype test test is node testisnode assert true asserttrue node is node isnode assert false assertfalse prop is node isnode test test has node testhasnode repository exception repositoryexception assert true asserttrue node has node hasnode node assert false assertfalse node has node hasnode node test test has property testhasproperty repository exception repositoryexception assert true asserttrue node has property hasproperty prop assert false assertfalse node has property hasproperty prop suppress warnings suppresswarnings deprecation test testgetuuid repository exception repositoryexception assert equals assertequals node get identifier getidentifier node getuuid test test get primary item testgetprimaryitem repository exception repositoryexception node data parent dataparent node add node addnode data parent dataparent property data property dataproperty data parent dataparent set property setproperty jcr constants jcrconstants jcr data data assert equals assertequals data property dataproperty data parent dataparent get primary item getprimaryitem node content parent contentparent node add node addnode content parent contentparent node content node contentnode content parent contentparent add node addnode jcr constants jcrconstants jcr content assert equals assertequals content node contentnode content parent contentparent get primary item getprimaryitem test expected item not found exception itemnotfoundexception test get primary item not found testgetprimaryitemnotfound repository exception repositoryexception node get primary item getprimaryitem test test nt file node testntfilenode repository exception repositoryexception node nt file ntfile session get root node getrootnode add node addnode test file testfile jcr constants jcrconstants file assert not null assertnotnull nt file ntfile get property getproperty jcr constants jcrconstants jcr created get date getdate assert not null assertnotnull nt file ntfile get property getproperty jcr created by createdby get string getstring
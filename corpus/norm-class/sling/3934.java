licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl params java util collections java util map path parser pathparser list prefixes variant parameters selectors extension code content test sel html parameters selectors extension code content test sel html enum parser state parserstate init extension params params extension suffix invalid string raw path rawpath string parameters string parametersstring map string string parameters path parameters string get path getpath raw path rawpath path substring parameters string get parameters string getparametersstring parameters string parametersstring parse d parsed parameters map string string get parameters getparameters parameters parses path parameters link raw path rawpath link parameters param path parse string path raw path rawpath path parameters collections empty map emptymap path index of indexof short cut shortcut common path index of indexof path index of indexof chars path to char array tochararray parameters parser parametersparser parameters parser parametersparser parameters parser parametersparser parser state parserstate parser state parserstate init params start paramsstart params end paramsend math min chars length chars length chars init parser state parserstate extension params start paramsstart parameters parser parametersparser parse parameters parseparameters chars params end paramsend parameters parser parametersparser is invalid isinvalid parser state parserstate invalid parser state parserstate params extension parser state parserstate suffix params start paramsstart parameters parser parametersparser parse parameters parseparameters chars params end paramsend parameters parser parametersparser is invalid isinvalid parser state parserstate invalid parser state parserstate params params parser state parserstate suffix dots params parser state parserstate invalid params extension suffix allowed parser state parserstate invalid parser state parserstate extension extension parser state parserstate suffix suffix invalid parser state parserstate invalid params start paramsstart params end paramsend cut path cutpath path params start paramsstart params end paramsend parameters parameters parser parametersparser get parameters getparameters cut path cutpath string path raw path rawpath path parameters string parametersstring raw path rawpath path substring parameters string parametersstring path substring raw path rawpath path substring path substring parameters string parametersstring path substring
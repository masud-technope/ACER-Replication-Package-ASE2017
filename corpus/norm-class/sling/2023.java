licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler java input stream inputstream java net jarurlconnection java net malformedurlexception java net url java net url class loader urlclassloader java net url connection urlconnection java util enumeration java util hash set hashset java util hashtable java util iterator java util java util string tokenizer stringtokenizer java util jar jar entry jarentry java util jar jar file jarfile javax servlet servlet context servletcontext org apache juli logging log org apache juli logging log factory logfactory org apache sling scripting jsp jasper constants org apache sling scripting jsp jasper jasper exception jasperexception org apache sling scripting jsp jasper xml parser xmlparser parser utils parserutils org apache sling scripting jsp jasper xml parser xmlparser tree node treenode org xml sax input source inputsource original tld locations cache originaltldlocationscache tld locations cache tldlocationscache logger log log log factory logfactory get log getlog tld locations cache tldlocationscache types uri tag library abs uri root rel uri noroot rel uri string web xml web inf web xml string file protocol file string jar file suffix jar names jar s jars tld s tlds hash set hashset string no tld jars notldjars mapping global tag library uri location resource path tld tag library location returned string array location location jar file location tld hashtable mappings initialized servlet context servletcontext ctxt redeploy mode redeploymode initializes jar s jars tld s tlds no tld jars notldjars hash set hashset string bootstrap jar s jars no tld jars notldjars add bootstrap jar no tld jars notldjars add commons daemon jar no tld jars notldjars add tomcat juli jar main jar s jars no tld jars notldjars add annotations api jar no tld jars notldjars add catalina jar no tld jars notldjars add catalina ant jar no tld jars notldjars add catalina jar no tld jars notldjars add catalina tribes jar no tld jars notldjars add api jar no tld jars notldjars add jasper jar no tld jars notldjars add jasper jar no tld jars notldjars add jasper jdt jar no tld jars notldjars add jsp api jar no tld jars notldjars add servlet api jar no tld jars notldjars add tomcat coyote jar no tld jars notldjars add tomcat dbcp jar jar s jars no tld jars notldjars add tomcat jar no tld jars notldjars add tomcat jar no tld jars notldjars add tomcat jar no tld jars notldjars add tomcat jar misc jar s jars included tomcat no tld jars notldjars add ant jar no tld jars notldjars add commons dbcp jar no tld jars notldjars add commons bean utils beanutils jar no tld jars notldjars add commons file upload fileupload jar no tld jars notldjars add commons pool jar no tld jars notldjars add commons digester jar no tld jars notldjars add commons logging jar no tld jars notldjars add commons collect ions collections jar no tld jars notldjars add jmx jar no tld jars notldjars add jmx tools jar no tld jars notldjars add xerces impl xercesimpl jar no tld jars notldjars add xmlparserapis jar no tld jars notldjars add xml apis jar jar s jars runtime no tld jars notldjars add sun jce sunjce provider jar no tld jars notldjars add ldapsec jar no tld jars notldjars add locale data localedata jar no tld jars notldjars add dnsns jar no tld jars notldjars add tools jar no tld jars notldjars add sun pkcs sunpkcs jar original tld locations cache originaltldlocationscache servlet context servletcontext ctxt ctxt constructor param ctxt servlet context web application jasper running param redeploy mode redeploymode compiler red epl oying redeploying tag library jar exp ense expense slowing server bit note work jdk jdk bug fixed release redeploy mode redeploymode faster capable mode original tld locations cache originaltldlocationscache servlet context servletcontext ctxt redeploy mode redeploymode ctxt ctxt redeploy mode redeploymode redeploy mode redeploymode mappings hashtable initialized sets list jar s jars tld s tlds param jar names jarnames list comma separated names jar files tld s tlds set no tld jars setnotldjars string jar names jarnames jar names jarnames no tld jars notldjars clear string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer jar names jarnames tokenizer has more elements hasmoreelements no tld jars notldjars add tokenizer next token nexttoken location tld taglib uri returns uri tag library exposed web application tag library exposed explicitly web xml impl icitly implicitly uri tag tld taglib deployed jar file web inf lib param uri taglib uri array strings element denotes real path tld path tld points jar file element denotes tld entry jar file returns uri tag library exposed web application string get location getlocation string uri jasper exception jasperexception initialized init string mappings uri returns type uri abs uri root rel uri noroot rel uri uri type uritype string uri uri index of indexof abs uri uri starts with startswith root rel uri noroot rel uri init jasper exception jasperexception initialized process web dot xml processwebdotxml scan jars scanjars process tlds in file system processtldsinfilesystem web inf initialized exception jasper exception jasperexception localizer get message getmessage jsp error internal tld init tldinit get message getmessage pop ulates populates taglib map web xml process web dot xml processwebdotxml exception input stream inputstream acquire input stream web application deployment descriptor string altddname string ctxt get attribute getattribute constants alt attr url uri altddname uri url file protocol altddname replace malformedurlexception log is warn enabled iswarnenabled log warn localizer get message getmessage jsp error internal file not found filenotfound altddname uri ctxt get resource getresource web xml uri log is warn enabled iswarnenabled log warn localizer get message getmessage jsp error internal file not found filenotfound web xml uri uri open stream openstream input source inputsource input source inputsource set system id setsystemid uri to external form toexternalform tree node treenode web tld webtld altddname web tld webtld parser utils parserutils parsexmldocument altddname web tld webtld parser utils parserutils parsexmldocument web xml tree node treenode jsp config jspconfig web tld webtld find child findchild jsp config jsp config jspconfig web tld webtld jsp config jspconfig iterator tag libs taglibs web tld webtld find children findchildren taglib tag libs taglibs has next hasnext tree node treenode taglib tree node treenode tag libs taglibs string tag uri taguri string tag loc tagloc tree node treenode child taglib find child findchild taglib uri child tag uri taguri child get body getbody child taglib find child findchild taglib location child tag loc tagloc child get body getbody tag loc tagloc uri type uritype tag loc tagloc noroot rel uri tag loc tagloc web inf tag loc tagloc string tag loc tagloc tag loc tagloc ends with endswith jar file suffix tag loc tagloc ctxt get resource getresource tag loc tagloc to string tostring tag loc tagloc meta inf taglib tld mappings tag uri taguri string tag loc tagloc tag loc tagloc close throwable scan jar scanjar jarurlconnection conn ignore jasper exception jasperexception jar file jarfile jar file jarfile string resource path resourcepath conn get jar file l getjarfileurl to string tostring redeploy mode redeploymode conn set use caches setusecaches jar file jarfile conn get jar file getjarfile enumeration entries jar file jarfile entries entries has more elements hasmoreelements jar entry jarentry entry jar entry jarentry entries next element nextelement string entry get name getname starts with startswith meta inf ends with endswith tld input stream inputstream stream jar file jarfile get input stream getinputstream entry string uri get uri from tld geturifromtld resource path resourcepath stream uri mappings uri mappings uri string resource path resourcepath stream stream close throwable exception redeploy mode redeploymode jar file jarfile jar file jarfile close throwable ignore jasper exception jasperexception redeploy mode redeploymode jar file jarfile jar file jarfile close throwable process tlds in file system processtldsinfilesystem string start path startpath exception dir list dirlist ctxt get resource paths getresourcepaths start path startpath dir list dirlist iterator dir list dirlist iterator has next hasnext string path string path ends with endswith process tlds in file system processtldsinfilesystem path path ends with endswith tld input stream inputstream stream ctxt get resource as stream getresourceasstream path string uri uri get uri from tld geturifromtld path stream stream stream close throwable uri mappings uri mappings uri string path string get uri from tld geturifromtld string resource path resourcepath input stream inputstream jasper exception jasperexception tree node treenode tld parser utils parserutils parsexmldocument resource path resourcepath tree node treenode uri tld find child findchild uri uri string body uri get body getbody body body scan jars scanjars exception class loader classloader webapp loader webapploader thread current thread currentthread get context class loader getcontextclassloader class loader classloader loader webapp loader webapploader loader loader url class loader urlclassloader url urls url class loader urlclassloader loader geturls urls length url connection urlconnection conn urls open connection openconnection conn jarurlconnection need scan jar needscanjar loader webapp loader webapploader jarurlconnection conn get jar file getjarfile get name getname scan jar scanjar jarurlconnection conn string url str urlstr urls to string tostring url str urlstr starts with startswith file protocol url str urlstr ends with endswith jar file suffix need scan jar needscanjar loader webapp loader webapploader url str urlstr url jarurl url jar url str urlstr scan jar scanjar jarurlconnection jarurl open connection openconnection loader loader get parent getparent need scan jar needscanjar class loader classloader loader class loader classloader webapp loader webapploader string jar path jarpath loader webapp loader webapploader string jar name jarname jar path jarpath slash jar path jarpath last index of lastindexof slash jar name jarname jar path jarpath substring slash no tld jars notldjars jar name jarname
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons content detection contentdetection internal java unsupported encoding exception unsupportedencodingexception java net url decoder urldecoder org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache sling commons content detection contentdetection file name extractor filenameextractor org osgi framework constants component service file name extractor filenameextractor properties property constants service description apache sling file name filename extractor service property constants service vendor apache software foundation file name extractor impl filenameextractorimpl file name extractor filenameextractor string extract string url skip trailing query fragment parts question index of indexof question substring question hash index of indexof hash substring hash url path skip component slash last index of lastindexof slash substring slash back slash backslash last index of lastindexof back slash backslash substring back slash backslash per cent percent index of indexof per cent percent string encoding get default encoding getdefaultencoding url decoder urldecoder decode encoding unsupported encoding exception unsupportedencodingexception runtime exception runtimeexception encoding supported trim string get default encoding getdefaultencoding utf
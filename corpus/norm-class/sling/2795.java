licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling settings impl java file java file output stream fileoutputstream java io exception ioexception java object output stream objectoutputstream java util array list arraylist java util list org apache commons lang random string utils randomstringutils org apache sling settings sling settings service slingsettingsservice org junit org apache sling launchpad api startup handler startuphandler org junit org junit test org osgi framework bundle context bundlecontext org junit assert equals assertequals org junit assert not null assertnotnull org mockito mockito mock org mockito mockito sling settings service impl test slingsettingsserviceimpltest string sling file sling file string options file sling options file file sling id file slingidfile file options file optionsfile io exception ioexception sling id file slingidfile file create temp file createtempfile sling file options file optionsfile file create temp file createtempfile options file io exception ioexception sling id file slingidfile sling id file slingidfile delete sling id file slingidfile options file optionsfile options file optionsfile delete options file optionsfile test test get sling id creating testgetslingidcreating io exception ioexception sling settings service slingsettingsservice sling settings service slingsettingsservice create sling settings service createslingsettingsservice sling id file slingidfile options file optionsfile string sling id slingid sling settings service slingsettingsservice get sling id getslingid assert not null assertnotnull sling id slingid test test get sling id existing testgetslingidexisting io exception ioexception string expected sling id util slingidutil create sling id createslingid sling id util slingidutil write sling id writeslingid sling id file slingidfile expected sling settings service slingsettingsservice sling settings service slingsettingsservice create sling settings service createslingsettingsservice sling id file slingidfile options file optionsfile string sling id slingid sling settings service slingsettingsservice get sling id getslingid assert not null assertnotnull sling id slingid assert equals assertequals expected sling id slingid test test get sling id from too l arg e data testgetslingidfromtoolargedata io exception ioexception string expected sling id util slingidutil create sling id createslingid random string string data expected random string utils randomstringutils random ascii randomascii sling id util slingidutil write sling id writeslingid sling id file slingidfile data sling settings service slingsettingsservice sling settings service slingsettingsservice create sling settings service createslingsettingsservice sling id file slingidfile options file optionsfile string sling id slingid sling settings service slingsettingsservice get sling id getslingid assert not null assertnotnull sling id slingid assert equals assertequals expected sling id slingid test test get sling id from too short data testgetslingidfromtooshortdata io exception ioexception random string string data random string utils randomstringutils random ascii randomascii sling id util slingidutil write sling id writeslingid sling id file slingidfile data sling settings service slingsettingsservice sling settings service slingsettingsservice create sling settings service createslingsettingsservice sling id file slingidfile options file optionsfile string sling id slingid sling settings service slingsettingsservice get sling id getslingid assert not null assertnotnull sling id slingid sling settings service slingsettingsservice create sling settings service createslingsettingsservice file sling id file slingidfile file options file optionsfile io exception ioexception bundle context bundlecontext context mock bundle context bundlecontext context get data file getdatafile sling file then return thenreturn sling id file slingidfile context get data file getdatafile options file then return thenreturn options file optionsfile startup handler startuphandler handler mock startup handler startuphandler write options list sling settings service impl slingsettingsserviceimpl options options array list arraylist sling settings service impl slingsettingsserviceimpl options file output stream fileoutputstream fos object output stream objectoutputstream oos fos file output stream fileoutputstream options file optionsfile oos object output stream objectoutputstream fos oos write object writeobject options io exception ioexception ioe runtime exception runtimeexception unable write options data file ioe oos oos close io exception ioexception ignore fos fos close io exception ioexception ignore sling settings service impl slingsettingsserviceimpl context handler
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock osgi org apache sling testing mock osgi map util maputil properties merge with osgi metadata propertiesmergewithosgimetadata org apache sling testing mock osgi map util maputil to dictionary todictionary org apache sling testing mock osgi map util maputil to map tomap java util dictionary java util map org osgi framework bundle context bundlecontext org osgi framework bundle event bundleevent org osgi framework service reference servicereference org osgi service configuration admin configurationadmin org osgi service component component context componentcontext org osgi service log log service logservice factory mock osg i osgi objects mock osgi mockosgi mock osgi mockosgi methods mocked link bundle context bundlecontext instance bundle context bundlecontext new bundle context newbundlecontext mock bundle context mockbundlecontext simulates bundle event bundle context for warded forwarded registered bundle listeners param bundle context bundlecontext bundle context param bundle event bundleevent bundle event send bundle event sendbundleevent bundle context bundlecontext bundle context bundlecontext bundle event bundleevent bundle event bundleevent mock bundle context mockbundlecontext bundle context bundlecontext send bundle event sendbundleevent bundle event bundleevent mocked link component context componentcontext instance component context componentcontext new component context newcomponentcontext component context componentcontext build param properties properties mocked link component context componentcontext instance component context componentcontext new component context newcomponentcontext dictionary string object properties component context componentcontext properties properties build param properties properties mocked link component context componentcontext instance component context componentcontext new component context newcomponentcontext map string object properties component context componentcontext properties properties build param bundle context bundlecontext bundle context param properties properties mocked link component context componentcontext instance component context componentcontext new component context newcomponentcontext bundle context bundlecontext bundle context bundlecontext dictionary string object properties component context componentcontext bundle context bundlecontext bundle context bundlecontext properties properties build param bundle context bundlecontext bundle context param properties properties mocked link component context componentcontext instance component context componentcontext new component context newcomponentcontext bundle context bundlecontext bundle context bundlecontext map string object properties component context componentcontext bundle context bundlecontext bundle context bundlecontext properties properties build link component context builder componentcontextbuilder build mocked link component context componentcontext component context builder componentcontextbuilder component context componentcontext component context builder componentcontextbuilder param logger context loggercontext context logging mocked link log service logservice instance log service logservice new log service newlogservice logger context loggercontext mock log service mocklogservice logger context loggercontext simulate osg i osgi service dependency injection injects direct references multiple references references injected error thrown param target service instance param bundle context bundlecontext bundle context services fetched inject dependencies injected service dependencies inject services injectservices object target bundle context bundlecontext bundle context bundlecontext osgi service util osgiserviceutil inject services injectservices target bundle context bundlecontext simulate activation service instance invokes activate annotated method param target service instance param bundle context bundlecontext bundle context activation method called activate method defined activate object target bundle context bundlecontext bundle context bundlecontext mock osgi mockosgi activate target bundle context bundlecontext dictionary string object simulate activation service instance invokes activate annotated method param target service instance param bundle context bundlecontext bundle context param properties properties activation method called activate method defined activate object target bundle context bundlecontext bundle context bundlecontext dictionary string object properties dictionary string object merged properties mergedproperties properties merge with osgi metadata propertiesmergewithosgimetadata target get config admin getconfigadmin bundle context bundlecontext properties component context componentcontext component context componentcontext new component context newcomponentcontext bundle context bundlecontext merged properties mergedproperties osgi service util osgiserviceutil activate deactivate activatedeactivate target component context componentcontext simulate activation service instance invokes activate annotated method param target service instance param bundle context bundlecontext bundle context param properties properties activation method called activate method defined activate object target bundle context bundlecontext bundle context bundlecontext map string object properties activate target bundle context bundlecontext to dictionary todictionary properties simulate deactivation service instance invokes deactivate annotated method param target service instance param bundle context bundlecontext bundle context deactivation method called deactivate method defined deactivate object target bundle context bundlecontext bundle context bundlecontext mock osgi mockosgi deactivate target bundle context bundlecontext dictionary string object simulate deactivation service instance invokes deactivate annotated method param target service instance param bundle context bundlecontext bundle context param properties properties deactivation method called deactivate method defined deactivate object target bundle context bundlecontext bundle context bundlecontext dictionary string object properties dictionary string object merged properties mergedproperties properties merge with osgi metadata propertiesmergewithosgimetadata target get config admin getconfigadmin bundle context bundlecontext properties component context componentcontext component context componentcontext new component context newcomponentcontext bundle context bundlecontext merged properties mergedproperties osgi service util osgiserviceutil activate deactivate activatedeactivate target component context componentcontext simulate activation service instance invokes deactivate annotated method param target service instance param bundle context bundlecontext bundle context param properties properties deactivation method called deactivate method defined deactivate object target bundle context bundlecontext bundle context bundlecontext map string object properties deactivate target bundle context bundlecontext to dictionary todictionary properties simulate configuration modification service instance invokes modified annotated method param target service instance param bundle context bundlecontext bundle context param properties properties modified method called modified method defined modified object target bundle context bundlecontext bundle context bundlecontext dictionary string object properties modified target bundle context bundlecontext to map tomap properties simulate configuration modification service instance invokes modified annotated method param target service instance param bundle context bundlecontext bundle context param properties properties modified method called modified method defined modified object target bundle context bundlecontext bundle context bundlecontext map string object properties map string object merged properties mergedproperties properties merge with osgi metadata propertiesmergewithosgimetadata target get config admin getconfigadmin bundle context bundlecontext properties component context componentcontext component context componentcontext new component context newcomponentcontext bundle context bundlecontext merged properties mergedproperties osgi service util osgiserviceutil modified target component context componentcontext merged properties mergedproperties deactivates bundles registered mocked bundle context param bundle context bundlecontext bundle context shutdown bundle context bundlecontext bundle context bundlecontext mock bundle context mockbundlecontext bundle context bundlecontext shutdown configuration admin param bundle context bundlecontext bundle context configuration admin registered configuration admin configurationadmin get config admin getconfigadmin bundle context bundlecontext bundle context bundlecontext service reference servicereference bundle context bundlecontext get service reference getservicereference configuration admin configurationadmin get name getname configuration admin configurationadmin bundle context bundlecontext get service getservice
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl jobs queues java util concurrent atomic atomic boolean atomicboolean org apache sling event impl jobs job handler jobhandler org apache sling event jobs job org apache sling event jobs consumer job execution context jobexecutioncontext org apache sling event jobs consumer job execution result jobexecutionresult implementation job execution context passed job executors job execution context impl jobexecutioncontextimpl job execution context jobexecutioncontext call queue a sync handler asynchandler finished job job state jobstate check init progress called atomic boolean atomicboolean init progress is called initprogressiscalled atomic boolean atomicboolean flag async processing atomic boolean atomicboolean is async isasync atomic boolean atomicboolean a sync handler asynchandler async handler asynchandler job handler jobhandler handler job execution context impl jobexecutioncontextimpl job handler jobhandler handler a sync handler asynchandler async handler asynchandler handler handler async handler asynchandler async handler asynchandler mark async markasync is async isasync override init progress initprogress steps eta init progress is called initprogressiscalled compare and set compareandset handler persist job properties persistjobproperties handler get job getjob start progress startprogress steps eta override increment progress count incrementprogresscount steps init progress is called initprogressiscalled handler persist job properties persistjobproperties handler get job getjob set progress setprogress steps override update progress updateprogress eta init progress is called initprogressiscalled handler persist job properties persistjobproperties handler get job getjob update eta override log string message object args handler persist job properties persistjobproperties handler get job getjob log message args override is stopped isstopped handler is stopped isstopped override async processing finished asyncprocessingfinished job execution result jobexecutionresult result is async isasync compare and set compareandset job job state jobstate result succeeded job job state jobstate succeeded result failed job job state jobstate queued result cancelled handler is stopped isstopped job job state jobstate stopped job job state jobstate error async handler asynchandler finished illegal state exception illegalstateexception job processed async finished handler get job getjob get id getid override result builder resultbuilder result result builder impl resultbuilderimpl
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven sling start slingstart java file java file reader filereader java io exception ioexception java reader java string reader stringreader java util array list arraylist java util collections java util hash map hashmap java util list java util map org apache commons io utils ioutils org apache maven maven execution exception mavenexecutionexception org apache maven artifact artifact org apache maven artifact default artifact defaultartifact org apache maven artifact handler manager artifact handler manager artifacthandlermanager org apache maven artifact resolver artifact not found exception artifactnotfoundexception org apache maven artifact resolver artifact resolution exception artifactresolutionexception org apache maven artifact resolver artifact resolver artifactresolver org apache maven artifact versioning version range versionrange org apache maven execution maven session mavensession org apache maven model dependency org apache maven model plugin org apache maven project maven project mavenproject org apache sling provisioning model artifact group artifactgroup org apache sling provisioning model feature org apache sling provisioning model model org apache sling provisioning model model constants modelconstants org apache sling provisioning model model utility modelutility org apache sling provisioning model model utility modelutility resolver options resolveroptions org apache sling provisioning model run mode runmode org apache sling provisioning model traceable org apache sling provisioning model model reader modelreader org code haus codehaus plexus logging logger org code haus codehaus plexus util xml xpp dom model preprocessor modelpreprocessor project info projectinfo maven project mavenproject project plugin plugin model local model localmodel model model map org apache sling provisioning model artifact model included models includedmodels hash map hashmap org apache sling provisioning model artifact model environment artifact handler manager artifacthandlermanager artifact handler manager artifacthandlermanager artifact resolver artifactresolver resolver maven session mavensession session logger logger map string project info projectinfo model projects modelprojects hash map hashmap string project info projectinfo add dependencies adddependencies environment env maven execution exception mavenexecutionexception project info projectinfo info env model projects modelprojects values add dependencies adddependencies env info model add dependencies adddependencies environment env project info projectinfo info maven execution exception mavenexecutionexception info env logger debug prepared model info project info model prevent recursion multiple processing info env logger debug processing project info project read local model string directory node value nodevalue info plugin model directory modeldirectory file info project get based ir getbasedir src main provisioning get absolute path getabsolutepath string inlined model inlinedmodel node value nodevalue info plugin model info local model localmodel read local model readlocalmodel info project inlined model inlinedmodel file directory env logger io exception ioexception ioe maven execution exception mavenexecutionexception ioe get message getmessage ioe prepare resolver options resolver options resolveroptions resolver options resolveroptions resolver options resolveroptions node boolean value nodebooleanvalue info plugin use pom variables usepomvariables resolver options resolveroptions variable resolver variableresolver pom variable resolver pomvariableresolver info project node boolean value nodebooleanvalue info plugin use pom dependencies usepomdependencies resolver options resolveroptions artifact version resolver artifactversionresolver pom artifact version resolver pomartifactversionresolver info project node boolean value nodebooleanvalue info plugin allow unresolved pom dependencies allowunresolvedpomdependencies create effective model add dependencies model effective model effectivemodel model utility modelutility get effective model geteffectivemodel info local model localmodel resolver options resolveroptions list model dependencies search sling start dependencies searchslingstartdependencies env info info local model localmodel effective model effectivemodel info model model model dependencies merge models mergemodels info model merge models mergemodels info model info local model localmodel info local model localmodel info model info model model utility modelutility get effective model geteffectivemodel info model resolver options resolveroptions map traceable string errors model utility modelutility validate info model errors maven execution exception mavenexecutionexception unable create model file info project errors file add dependencies from model adddependenciesfrommodel env info project helper projecthelper store project info storeprojectinfo info io exception ioexception ioe maven execution exception mavenexecutionexception ioe get message getmessage ioe info model add dependencies model param project project param model model param log logger maven execution exception mavenexecutionexception add dependencies from model adddependenciesfrommodel environment env project info projectinfo info maven execution exception mavenexecutionexception info project get pack aging getpackaging equals build constants buildconstants packaging sling start slingstart add base artifact defined current model org apache sling provisioning model artifact base artifact baseartifact model utils modelutils find base artifact findbaseartifact info model string class ifiers classifiers string build constants buildconstants class ifier classifier app build constants buildconstants class ifier classifier webapp string class ifiers classifiers dependency dep dependency dep set group id setgroupid base artifact baseartifact get group id getgroupid dep set artifact id setartifactid base artifact baseartifact get artifact id getartifactid dep set version setversion base artifact baseartifact get version getversion dep set type settype base artifact baseartifact get type gettype dep set class ifier setclassifier build constants buildconstants class ifier classifier webapp equals dep set type settype build constants buildconstants type war dep set scope setscope artifact scope info project get dependencies getdependencies add dep env logger debug adding base dependency model utils modelutils to string tostring dep feature feature info model get features getfeatures skip launchpad feature feature get name getname equals model constants modelconstants feature launchpad run mode runmode run mode runmode feature get run modes getrunmodes artifact group artifactgroup group run mode runmode get artifact groups getartifactgroups org apache sling provisioning model artifact group dependency dep dependency dep set group id setgroupid get group id getgroupid dep set artifact id setartifactid get artifact id getartifactid dep set version setversion get version getversion dep set type settype get type gettype dep set class ifier setclassifier get class ifier getclassifier dep set scope setscope artifact scope env logger debug adding dependency model utils modelutils to string tostring dep info project get dependencies getdependencies add dep search dependent sling start slingstart sling feature slingfeature artifacts remove effective model maven execution exception mavenexecutionexception list model search sling start dependencies searchslingstartdependencies environment env project info projectinfo info model raw model rawmodel model effective model effectivemodel maven execution exception mavenexecutionexception sling start slingstart sling feature slingfeature list model dependencies array list arraylist model feature feature effective model effectivemodel get features getfeatures run mode runmode run mode runmode feature get run modes getrunmodes artifact group artifactgroup group run mode runmode get artifact groups getartifactgroups list org apache sling provisioning model artifact remove list removelist array list arraylist org apache sling provisioning model artifact org apache sling provisioning model artifact group get type gettype equals build constants buildconstants packaging sling start slingstart get type gettype equals build constants buildconstants packaging partial system dependency dep dependency dep set group id setgroupid get group id getgroupid dep set artifact id setartifactid get artifact id getartifactid dep set version setversion get version getversion dep set type settype build constants buildconstants packaging partial system get type gettype equals build constants buildconstants packaging sling start slingstart dep set class ifier setclassifier build constants buildconstants packaging partial system dep set class ifier setclassifier get class ifier getclassifier dep set scope setscope artifact scope env logger debug adding dependency model utils modelutils to string tostring dep info project get dependencies getdependencies add dep project current reactor build resolve string key get group id getgroupid get artifact id getartifactid project info projectinfo dep info depinfo env model projects modelprojects key dep info depinfo env logger debug reactor get type gettype dependency model model add dependencies adddependencies env dep info depinfo model maven execution exception mavenexecutionexception recursive model dependency list including project info project file dependencies add model info included models includedmodels dep info depinfo local model localmodel env logger debug external get type gettype dependency external dependency resolve file model file modelfile resolve sling start artifact resolveslingstartartifact env info project dep file reader filereader file reader filereader model file modelfile model model model reader modelreader read model file modelfile get absolute path getabsolutepath info included models includedmodels model map traceable string errors model utility modelutility validate model errors maven execution exception mavenexecutionexception unable read model file model file modelfile errors model file modelfile model full model fullmodel process sling start dependencies processslingstartdependencies env info dep model dependencies add full model fullmodel io exception ioexception ioe maven execution exception mavenexecutionexception unable read model file model file modelfile ioe close io exception ioexception remove list removelist add org apache sling provisioning model artifact remove list removelist group remove feature local model feature localmodelfeature raw model rawmodel get feature getfeature feature get name getname local model feature localmodelfeature run mode runmode local run mode localrunmode local model feature localmodelfeature get run mode getrunmode run mode runmode get names getnames local run mode localrunmode artifact group artifactgroup localag local run mode localrunmode get artifact group getartifactgroup group get start level getstartlevel localag localag remove dependencies model process sling start dependencies processslingstartdependencies environment env project info projectinfo info dependency dep model raw model rawmodel maven execution exception mavenexecutionexception env logger debug processing dependency dep create effective model add dependencies model effective model effectivemodel model utility modelutility get effective model geteffectivemodel raw model rawmodel resolver options resolveroptions list model dependencies search sling start dependencies searchslingstartdependencies env info raw model rawmodel effective model effectivemodel model merging model mergingmodel model model dependencies merge models mergemodels merging model mergingmodel merge models mergemodels merging model mergingmodel raw model rawmodel map traceable string errors model utility modelutility validate model utility modelutility get effective model geteffectivemodel merging model mergingmodel resolver options resolveroptions errors maven execution exception mavenexecutionexception unable create model file dep errors file merging model mergingmodel plugins configuration pom string parameter param plugin plugin param configuration parameter param default value defaultvalue returned parameter parameter string node value nodevalue plugin plugin string string default value defaultvalue xpp dom config plugin xpp dom plugin get configuration getconfiguration xpp dom node config config get child getchild node node get value getvalue default value defaultvalue plugins configuration pom parameter param plugin plugin param configuration parameter param default value defaultvalue returned parameter parameter node boolean value nodebooleanvalue plugin plugin string default value defaultvalue string boolean value booleanvalue node value nodevalue plugin to string tostring default value defaultvalue equals boolean value booleanvalue to lower case tolowercase file resolve sling start artifact resolveslingstartartifact environment env maven project mavenproject project dependency maven execution exception mavenexecutionexception artifact prj artifact prjartifact default artifact defaultartifact get group id getgroupid get artifact id getartifactid version range versionrange create from version createfromversion get version getversion artifact scope get type gettype get class ifier getclassifier env artifact handler manager artifacthandlermanager get artifact handler getartifacthandler get type gettype env resolver resolve prj artifact prjartifact project get remote artifact repositories getremoteartifactrepositories env session get local repository getlocalrepository artifact resolution exception artifactresolutionexception maven execution exception mavenexecutionexception unable artifact artifact not found exception artifactnotfoundexception maven execution exception mavenexecutionexception unable artifact prj artifact prjartifact get file getfile read model files directory alphabetical order files txt model read param project current maven project param model directory modeldirectory directory scan models param logger logger model read local model readlocalmodel maven project mavenproject project string inlined model inlinedmodel file model directory modeldirectory logger logger maven execution exception mavenexecutionexception io exception ioexception list string candidates array list arraylist string model directory modeldirectory model directory modeldirectory exists file model directory modeldirectory list files listfiles is file isfile get name getname starts with startswith get name getname ends with endswith txt get name getname ends with endswith model candidates add get name getname collections sort candidates candidates size inlined model inlinedmodel inlined model inlinedmodel trim length maven execution exception mavenexecutionexception model files model directory modeldirectory model inlined pom file model result model inlined model inlinedmodel logger debug reading inlined model project project get id getid reader reader string reader stringreader inlined model inlinedmodel model current model reader modelreader read reader pom map traceable string errors model utility modelutility validate current errors maven execution exception mavenexecutionexception invalid inlined model errors file model utility modelutility merge result current io utils ioutils close quietly closequietly reader io exception ioexception maven execution exception mavenexecutionexception unable read inlined model string candidates logger debug reading model project project get id getid file file model directory modeldirectory file reader filereader reader file reader filereader model current model reader modelreader read reader get absolute path getabsolutepath map traceable string errors model utility modelutility validate current errors maven execution exception mavenexecutionexception invalid model errors file model utility modelutility merge result current io utils ioutils close quietly closequietly reader io exception ioexception maven execution exception mavenexecutionexception unable read model map traceable string errors model utility modelutility validate result errors maven execution exception mavenexecutionexception invalid assembled model errors file post process read model postprocessreadmodel result hook post process local model param result read model post processed model model post process read model postprocessreadmodel model result maven execution exception mavenexecutionexception result hook change merge behavior param base base model param additional additional model merge models mergemodels model base model additional maven execution exception mavenexecutionexception model utility modelutility merge base additional
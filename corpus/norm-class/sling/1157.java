licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution servlet java io exception ioexception org apache sling api sling http servlet response slinghttpservletresponse org apache sling commons json json exception jsonexception org apache sling commons json json object jsonobject org apache sling distribution distribution response distributionresponse org slf logger org slf logger factory loggerfactory utility writing json data http resp onses responses servlet json utils servletjsonutils logger log logger factory loggerfactory get logger getlogger servlet json utils servletjsonutils write json writejson sling http servlet response slinghttpservletresponse response distribution response distributionresponse distribution response distributionresponse io exception ioexception json object jsonobject json json object jsonobject json success distribution response distributionresponse is successful issuccessful json distribution response distributionresponse get state getstate json message distribution response distributionresponse get message getmessage json exception jsonexception log error write json distribution response distributionresponse get state getstate distributed response set status setstatus dropped response set status setstatus accepted response set status setstatus response get writer getwriter append json to string tostring write json writejson sling http servlet response slinghttpservletresponse response status string message io exception ioexception json object jsonobject json json object jsonobject json message message json exception jsonexception log error write json response set status setstatus status response get writer getwriter append json to string tostring
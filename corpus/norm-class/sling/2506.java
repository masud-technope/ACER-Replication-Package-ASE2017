licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery base connectors org junit assert not null assertnotnull java util iterator java util linked list linkedlist java util list org apache sling commons testing junit retry org apache sling commons testing junit retry rule retryrule org apache sling discovery cluster view clusterview org apache sling discovery topology view topologyview org apache sling discovery base setup topology helper topologyhelper org apache sling discovery base setup virtual connector virtualconnector org apache sling discovery base setup virtual instance virtualinstance org apache sling discovery base setup virtual instance builder virtualinstancebuilder org apache sling testing tools sling time outs provider timeoutsprovider org junit org junit org junit rule org junit test org slf logger org slf logger factory loggerfactory l arg e topology with hub test largetopologywithhubtest logger logger logger factory loggerfactory get logger getlogger l arg e topology with hub test largetopologywithhubtest list virtual instance virtualinstance instances virtual instance virtualinstance hub list string sling ids slingids test size rule retry rule retryrule retry rule retryrule retry rule retryrule virtual instance builder virtualinstancebuilder new builder newbuilder dummy virtual instance builder dummyvirtualinstancebuilder setup throwable instances linked list linkedlist virtual instance virtualinstance hour default heartbeat timeout defaultheartbeattimeout heartbeat timeout heartbeattimeout time outs provider timeoutsprovider get instance getinstance get timeout gettimeout default heartbeat timeout defaultheartbeattimeout virtual instance builder virtualinstancebuilder hub builder hubbuilder new builder newbuilder new repository newrepository discovery impl set debug name setdebugname hub set connector ping interval setconnectorpinginterval set connector ping timeout setconnectorpingtimeout heartbeat timeout heartbeattimeout hub hub builder hubbuilder build instances add hub hub get config getconfig set view check timeout setviewchecktimeout heartbeat timeout heartbeattimeout hub install voting on heartbeat handler installvotingonheartbeathandler hub heartbeats and check view heartbeatsandcheckview hub heartbeats and check view heartbeatsandcheckview assert not null assertnotnull hub get cluster view service getclusterviewservice get local cluster view getlocalclusterview hub start view checker startviewchecker hub dump repo dumprepo sling ids slingids linked list linkedlist string sling ids slingids add hub get sling id getslingid logger info set up setup heartbeat timeout heartbeattimeout heartbeat timeout heartbeattimeout default heartbeat timeout defaultheartbeattimeout test size logger info set up setup creating instance virtual instance builder virtualinstancebuilder builder new builder newbuilder new repository newrepository discovery impl set debug name setdebugname instance set connector ping interval setconnectorpinginterval set connector ping timeout setconnectorpingtimeout heartbeat timeout heartbeattimeout virtual instance virtualinstance instance builder build instances add instance instance get config getconfig set view check timeout setviewchecktimeout heartbeat timeout heartbeattimeout instance install voting on heartbeat handler installvotingonheartbeathandler instance heartbeats and check view heartbeatsandcheckview instance heartbeats and check view heartbeatsandcheckview cluster view clusterview cluster view clusterview instance get cluster view service getclusterviewservice get local cluster view getlocalclusterview assert not null assertnotnull cluster view clusterview virtual connector virtualconnector instance hub sling ids slingids add instance get sling id getslingid tear down teardown exception iterator virtual instance virtualinstance instances iterator has next hasnext virtual instance virtualinstance instance instance test retry timeout msec timeoutmsec int erval msec intervalmsec test l arg e topology with hub testlargetopologywithhub exception hub dump repo dumprepo topology view topologyview hub get discovery service getdiscoveryservice get topology gettopology assert not null assertnotnull logger info test l arg e topology with hub testlargetopologywithhub checking connectors registered topology view topologyview instances get instances getinstances size topology helper topologyhelper assert topology consists of asserttopologyconsistsof sling ids slingids to array toarray string sling ids slingids size logger info test l arg e topology with hub testlargetopologywithhub test passed
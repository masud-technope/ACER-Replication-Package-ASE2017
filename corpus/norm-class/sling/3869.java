licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl org junit assert not null assertnotnull org junit assert true asserttrue org junit fail java util array list arraylist java util arrays java util hash set hashset java util iterator java util list java util org apache sling api resource login exception loginexception org apache sling api resource resource org junit org junit test verify resource decorator resourcedecorator returns resource decorator returns null test resourcedecoratorreturnsnulltest resource decorator test base resourcedecoratortestbase string paths that return null pathsthatreturnnull hash set hashset string resources path paths that return null pathsthatreturnnull test resource decorator resourcedecorator resources resource wrap resource for test wrapresourcefortest resource is return null isreturnnull is return null isreturnnull resource paths that return null pathsthatreturnnull get path getpath assert resources assertresources iterator resource string paths assert not null assertnotnull expecting iterator list string actual array list arraylist string has next hasnext resource assert not null assertnotnull expecting resources iterator actual add get path getpath string path paths assert true asserttrue expecting path path actual actual path actual size paths length fail expecting number items arrays as list aslist paths actual setup login exception loginexception setup paths that return null pathsthatreturnnull add tmp paths that return null pathsthatreturnnull add test test resolve not null testresolvenotnull assert existent assertexistent resolver resolve tmp test get not null testgetnotnull assert existent assertexistent resolver get resource getresource tmp test test get null testgetnull assert existent assertexistent resolver get resource getresource tmp test test resolve null testresolvenull assert existent assertexistent resolver resolve tmp test test root children testrootchildren resource root resolver resolve assert not null assertnotnull root assert resources assertresources resolver list children listchildren root tmp test test var children testvarchildren resource resolver resolve assert not null assertnotnull assert resources assertresources resolver list children listchildren test test find testfind assert resources assertresources resolver find resources findresources foo query language tmp tmp
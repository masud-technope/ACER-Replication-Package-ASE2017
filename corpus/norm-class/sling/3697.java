licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide test impl org hamcrest core matchers corematchers equal to equalto org junit assert that assertthat java byte array input stream bytearrayinputstream org apache sling ide eclipse core internal sling content module factory slingcontentmodulefactory org apache sling ide test impl helpers project adapter projectadapter org apache sling ide test impl helpers temporary project temporaryproject org eclipse core resources i project iproject org eclipse core runtime path org eclipse jdt core java core javacore org eclipse wst server core i module imodule org eclipse wst server core server util serverutil org eclipse wst server core model i module resource imoduleresource org eclipse wst server core model module delegate moduledelegate org junit org junit rule org junit test sling content module adapter test slingcontentmoduleadaptertest rule temporary project temporaryproject project rule projectrule temporary project temporaryproject test project members contain content xml first projectmemberscontaincontentxmlfirst exception create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content project create or update file createorupdatefile path from portable string fromportablestring jcr root content file txt byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content folder filler txt byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content file txt byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content folder filler txt byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content file txt byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content content xml byte array input stream bytearrayinputstream i module imodule module server util serverutil get module getmodule content project contentproject sling content module factory slingcontentmodulefactory module factory modulefactory sling content module factory slingcontentmodulefactory module delegate moduledelegate module delegate moduledelegate module factory modulefactory get module delegate getmoduledelegate module i module resource imoduleresource members module delegate moduledelegate members assert that assertthat members path members get module relative path getmodulerelativepath to portable string toportablestring equal to equalto assert that assertthat members path members get module relative path getmodulerelativepath to portable string toportablestring equal to equalto content assert that assertthat members path members get module relative path getmodulerelativepath to portable string toportablestring equal to equalto content content xml test project members contain dot dir folders last projectmemberscontaindotdirfolderslast exception create faceted project i project iproject content project contentproject project rule projectrule get project getproject project adapter projectadapter project project adapter projectadapter content project contentproject project add natures addnatures java core javacore nature org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content project create or update file createorupdatefile path from portable string fromportablestring jcr root content test project testproject jcr content image file byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content test project testproject jcr content image file dir content xml byte array input stream bytearrayinputstream project create or update file createorupdatefile path from portable string fromportablestring jcr root content test project testproject jcr content image file dir jcr content dam thumbnails dam thumbnail png byte array input stream bytearrayinputstream i module imodule module server util serverutil get module getmodule content project contentproject sling content module factory slingcontentmodulefactory module factory modulefactory sling content module factory slingcontentmodulefactory module delegate moduledelegate module delegate moduledelegate module factory modulefactory get module delegate getmoduledelegate module i module resource imoduleresource members module delegate moduledelegate members file idx fileidx file dir idx filediridx members length string member name membername members get module relative path getmodulerelativepath last segment lastsegment member name membername member name membername equals file dir file dir idx filediridx member name membername equals file file idx fileidx assert true asserttrue file sorted file dir file file idx fileidx file dir file dir idx filediridx file idx fileidx file dir idx filediridx
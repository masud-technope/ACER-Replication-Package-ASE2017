licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ftpserver impl java io exception ioexception java input stream inputstream java output stream outputstream java util array list arraylist java util hash map hashmap java util iterator java util list org apache ftpserver ftplet ftp file ftpfile org apache sling api resource modifiable value map modifiablevaluemap org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org slf logger factory loggerfactory sling ftp file slingftpfile ftp file ftpfile resource resolver resourceresolver resolver resource resource string abs path abspath string sling ftp file slingftpfile resource resource resolver resource get resource resolver getresourceresolver resource resource abs path abspath resource get path getpath resource get name getname sling ftp file slingftpfile string abs path abspath resource resolver resourceresolver resolver resolver resolver resource abs path abspath abs path abspath resource util resourceutil get name getname abs path abspath input stream inputstream create input stream createinputstream offset io exception ioexception offset io exception ioexception random access supported resource adapt to adaptto input stream inputstream output stream outputstream create output stream createoutputstream offset io exception ioexception resource content get content getcontent content append offset validate offset existing size append existing file length existingfilelength content get resource metadata getresourcemetadata get content length getcontentlength existing file length existingfilelength offset io exception ioexception create output stream outputstream get absolute path getabsolutepath illegal offset offset expected existing file length existingfilelength sling ftp output stream slingftpoutputstream content append io exception ioexception create output stream outputstream get absolute path getabsolutepath delete resource resolver delete resource resolver commit persistence exception persistenceexception logger factory loggerfactory get logger getlogger get class getclass error delete failed removing does exist doesexist resource string get absolute path getabsolutepath abs path abspath string get group name getgroupname owner groups get last modified getlastmodified time resource get resource metadata getresourcemetadata get modification time getmodificationtime time time resource get resource metadata getresourcemetadata get creation time getcreationtime time time system current time millis currenttimemillis time get link count getlinkcount number children list files listfiles list files listfiles size string get name getname string get owner name getownername owner get size getsize resource get resource metadata getresourcemetadata get content length getcontentlength is directory isdirectory input stream inputstream ins create input stream createinputstream ins ins close io exception ioexception ignore is file isfile is directory isdirectory is hidden ishidden don hide hidden acl is readable isreadable is removable isremovable todo access control is writable iswritable todo access control list ftp file ftpfile list files listfiles iterator resource children resource list children listchildren array list arraylist ftp file ftpfile list array list arraylist ftp file ftpfile children has next hasnext resource child children jcr content equals child get name getname list add sling ftp file slingftpfile child list mkdir does exist doesexist resource create abs path abspath sling folder resolver commit resource persistence exception persistenceexception exists error creating move ftp file ftpfile arg todo auto generated method stub set last modified setlastmodified arg resource content get content getcontent content modifiable value map modifiablevaluemap map content adapt to adaptto modifiable value map modifiablevaluemap map map jcr last modified lastmodified arg resolver commit persistence exception persistenceexception error fallback override string to string tostring get absolute path getabsolutepath suppress warnings suppresswarnings serial resource create string path string type persistence exception persistenceexception resource parent resolver get resource getresource resource util resourceutil get parent getparent path parent resolver create parent get name getname hash map hashmap string object jcr primary type primarytype type suppress warnings suppresswarnings serial resource create file createfile string path persistence exception persistenceexception resource file create path file file resolver create file jcr content hash map hashmap string object jcr primary type primarytype unstructured resource get content getcontent resource create resource create file createfile abs path abspath persistence exception persistenceexception resource content resource get child getchild jcr content content content resource content
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler util java util hash map hashmap java util map java util org apache sling scripting sightly impl compiler ris command visitor commandvisitor org apache sling scripting sightly impl compiler ris command conditional org apache sling scripting sightly impl compiler ris command loop org apache sling scripting sightly impl compiler ris command out text outtext org apache sling scripting sightly impl compiler ris command out variable outvariable org apache sling scripting sightly impl compiler ris command procedure org apache sling scripting sightly impl compiler ris command variable binding variablebinding org slf logger org slf logger factory loggerfactory checks variable declarations shadow global bindings global shadow checker globalshadowchecker command visitor commandvisitor logger log logger factory loggerfactory get logger getlogger global shadow checker globalshadowchecker map string string globals global shadow checker globalshadowchecker string globals globals hash map hashmap string string string global globals globals global to lower case tolowercase global override visit conditional start conditional start conditionalstart override visit conditional conditional end conditionalend override visit variable binding variablebinding start variable binding start variablebindingstart check variable checkvariable variable binding start variablebindingstart get variable name getvariablename override visit variable binding variablebinding variable binding end variablebindingend override visit variable binding variablebinding global global assignment globalassignment check variable checkvariable global assignment globalassignment get variable name getvariablename override visit out variable outvariable out variable outvariable override visit out text outtext out text outtext override visit loop start loop start loopstart check variable checkvariable loop start loopstart get item variable getitemvariable check variable checkvariable loop start loopstart get index variable getindexvariable override visit loop loop end loopend override visit procedure start start procedure startprocedure check variable checkvariable start procedure startprocedure get name getname override visit procedure end procedure endprocedure override visit procedure call proc edure call procedurecall check variable checkvariable string variable name variablename variable name variablename variable name variablename to lower case tolowercase globals contains key containskey variable name variablename string original name originalname globals variable name variablename log warn global variable overridden template original name originalname
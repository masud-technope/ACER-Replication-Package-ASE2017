licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling apt servlet java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java reader java string writer stringwriter java writer javax servlet http http servlet response httpservletresponse org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api servlets sling safe methods servlet slingsafemethodsservlet org apache sling apt parser sling apt parser slingaptparser parses apt str uctured structured text files renders html servlet apt requests todo weird extension full filename add sling servlet content extension contentextension parameter servlet selection mechanism sling map html request apt file servlet component service javax servlet servlet properties property service description sling apt servlet property sling servlet resource types resourcetypes sling servlet property sling servlet extensions apt ml aptml sling apt servlet slingaptservlet sling safe methods servlet slingsafemethodsservlet serialversionuid reference sling apt parser slingaptparser parser do get doget sling http servlet request slinghttpservletrequest request sling http servlet response slinghttpservletresponse response io exception ioexception input stream inputstream stream request get resource getresource adapt to adaptto input stream inputstream stream response send error senderror http servlet response httpservletresponse bad request resource adapt input stream inputstream request get resource getresource todo encoding input find jcr resource node string encoding utf reader input stream reader inputstreamreader stream encoding writer string writer stringwriter parser parse exception response send error senderror http servlet response httpservletresponse internal server error exception parsing apt content bytes to string tostring get bytes getbytes encoding response set content type setcontenttype text html response set character encoding setcharacterencoding encoding response set content length setcontentlength bytes length response get output stream getoutputstream write bytes
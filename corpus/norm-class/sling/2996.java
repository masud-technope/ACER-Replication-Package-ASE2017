licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr jackrabbit access manager accessmanager post java util array list arraylist java util arrays java util hash set hashset java util list java util javax jcr item javax jcr repository exception repositoryexception javax jcr session javax jcr security access control entry accesscontrolentry javax jcr security access control list accesscontrollist javax jcr security access control manager accesscontrolmanager javax servlet servlet org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource not found exception resourcenotfoundexception org apache sling api servlets html response htmlresponse org apache sling jcr base util access control util accesscontrolutil org apache sling jcr jackrabbit access manager accessmanager delete aces deleteaces org apache sling servlets post abstract post response abstractpostresponse org apache sling servlets post modification org apache sling servlets post sling post constants slingpostconstants sling post servlet implementation deleting ace principals jcr resource service description delete ace node node identified resource request url resource delete ace deleteace html methods post post parameters apply to applyto array ace principal names delete note principal primary key ace acl response success resource failure html exp lains explains failure component service servlet delete aces deleteaces properties property sling servlet resource types resourcetypes sling servlet property sling servlet methods post property sling servlet selectors delete ace deleteace delete aces servlet deleteacesservlet abstract access post servlet abstractaccesspostservlet delete aces deleteaces serialversionuid javadoc org apache sling jackrabbit access manager accessmanager post abstract access post servlet abstractaccesspostservlet handle operation handleoperation org apache sling api sling http servlet request slinghttpservletrequest org apache sling api servlets html response htmlresponse java util list override handle operation handleoperation sling http servlet request slinghttpservletrequest request abstract post response abstractpostresponse html response htmlresponse list modification repository exception repositoryexception session session request get resource resolver getresourceresolver adapt to adaptto session string resource path resourcepath request get resource getresource get path getpath string apply to applyto request get parameter values getparametervalues sling post constants slingpostconstants apply delete aces deleteaces session resource path resourcepath apply to applyto javadoc org apache sling jcr jackrabbit access manager accessmanager delete aces deleteaces delete aces deleteaces javax jcr session java lang string java lang string delete aces deleteaces session jcr session jcrsession string resource path resourcepath string principal names to delete principalnamestodelete repository exception repositoryexception principal names to delete principalnamestodelete repository exception repositoryexception principal ids principalids sum itted sumitted jcr session jcrsession repository exception repositoryexception jcr session resource path resourcepath resource not found exception resourcenotfoundexception resource path supplied item item jcr session jcrsession get item getitem resource path resourcepath item resource path resourcepath item get path getpath resource not found exception resourcenotfoundexception resource jcr node load principal ids principalids array quick lookup string pid set pidset hash set hashset string pid set pidset add all addall arrays as list aslist principal names to delete principalnamestodelete access control manager accesscontrolmanager access control manager accesscontrolmanager access control util accesscontrolutil get access control manager getaccesscontrolmanager jcr session jcrsession access control list accesscontrollist updated acl updatedacl get access control list getaccesscontrollist access control manager accesscontrolmanager resource path resourcepath track existing aces target principal access control entry accesscontrolentry access control entries accesscontrolentries updated acl updatedacl get access control entries getaccesscontrolentries list access control entry accesscontrolentry old aces oldaces array list arraylist access control entry accesscontrolentry access control entry accesscontrolentry ace access control entries accesscontrolentries pid set pidset ace get principal getprincipal get name getname old aces oldaces add ace remove aces old aces oldaces is empty isempty access control entry accesscontrolentry ace old aces oldaces updated acl updatedacl remove access control entry removeaccesscontrolentry ace apply changed policy access control manager accesscontrolmanager set policy setpolicy resource path resourcepath updated acl updatedacl repository exception repositoryexception repository exception repositoryexception failed delete access control
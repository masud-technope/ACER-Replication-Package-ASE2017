licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery base setup mock java util map java util concurrent concurrent hash map concurrenthashmap org slf logger org slf logger factory loggerfactory general purpose delay object passed plug ged plugged places identified operation descriptor operationdescriptor inject del ays delays runtime author egli artificial delay artificialdelay logger logger logger factory loggerfactory get logger getlogger get class getclass map string operations map operationsmap concurrent hash map concurrenthashmap string string debug name debugname object sync obj syncobj object set debug name setdebugname string debug name debugname debug name debugname debug name debugname set delay setdelay string operation descriptor operationdescriptor delay millis delaymillis operations map operationsmap operation descriptor operationdescriptor delay millis delaymillis sync obj syncobj sync obj syncobj notify all notifyall delay string operation descriptor operationdescriptor delay millis delaymillis operations map operationsmap operation descriptor operationdescriptor delay millis delaymillis delay millis delaymillis logger info delay delaying debug name debugname operation descriptor operationdescriptor delay millis delaymillis start system current time millis currenttimemillis sync obj syncobj delay millis delaymillis operations map operationsmap operation descriptor operationdescriptor delay millis delaymillis logger info delay delaying debug name debugname operation descriptor operationdescriptor delay millis delaymillis delay millis delaymillis logger info delay delaying debug name debugname operation descriptor operationdescriptor delay millis delaymillis start delay millis delaymillis remaining system current time millis currenttimemillis remaining logger info delay delaying debug name debugname operation descriptor operationdescriptor remaining sync obj syncobj wait remaining interrupted exception interruptedexception logger error delay int errupted interrupted logger info delay delaying debug name debugname operation descriptor operationdescriptor delay millis delaymillis
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl org junit assert equals assertequals org mockito mockito do return doreturn org mockito mockito org mockito mockito times org mockito mockito verify org mockito mockito java util linked list linkedlist java util list java util org apache sling api health check healthcheck org apache sling api result org apache sling api execution health check execution result healthcheckexecutionresult org apache sling api execution health check executor healthcheckexecutor org apache sling core impl executor execution result executionresult org apache sling util health check filter healthcheckfilter org apache sling util health check metadata healthcheckmetadata org junit org junit test org mockito matchers org mockito mock org mockito mockito annotations mockitoannotations org mockito spy org osgi framework bundle org osgi framework constants org osgi framework service reference servicereference org osgi service component component constants componentconstants composite health check test compositehealthchecktest spy composite health check compositehealthcheck composite health check compositehealthcheck composite health check compositehealthcheck mock health check executor healthcheckexecutor health check executor healthcheckexecutor setup mockito annotations mockitoannotations init mocks initmocks composite health check compositehealthcheck set health check executor sethealthcheckexecutor health check executor healthcheckexecutor composite health check compositehealthcheck set filter tags setfiltertags string test test execution testexecution do return doreturn result composite health check compositehealthcheck check for recursion checkforrecursion matchers service reference servicereference matchers string string test tags testtags string tag composite health check compositehealthcheck set filter tags setfiltertags test tags testtags list health check execution result healthcheckexecutionresult execution results executionresults linked list linkedlist health check execution result healthcheckexecutionresult execution results executionresults add create execution result createexecutionresult check test tags testtags result result status info good execution results executionresults add create execution result createexecutionresult check test tags testtags result result status critical bad health check executor healthcheckexecutor execute test tags testtags then return thenreturn execution results executionresults result result composite health check compositehealthcheck execute verify health check executor healthcheckexecutor times execute test tags testtags assert equals assertequals result status critical result get status getstatus health check execution result healthcheckexecutionresult create execution result createexecutionresult string string test tags testtags result result health check execution result healthcheckexecutionresult health check execution result healthcheckexecutionresult execution result executionresult health check metadata healthcheckmetadata dummy hc service reference dummyhcservicereference test tags testtags string result health check execution result healthcheckexecutionresult test test simple recursion testsimplerecursion composite check referencing string filter tags filtertags string check dummy hc service reference dummyhcservicereference hc ref hcref dummy hc service reference dummyhcservicereference check string check filter tags filtertags test check hc ref hcref composite health check compositehealthcheck set reference to this setreferencetothis hc ref hcref composite health check compositehealthcheck set filter tags setfiltertags filter tags filtertags composite health check compositehealthcheck set health check filter sethealthcheckfilter spy varargs matcher work spies health check filter healthcheckfilter spy varargs matcher work spies override service reference servicereference get tag ged health check service references gettaggedhealthcheckservicereferences string tags service reference servicereference result service reference servicereference tags length tags equals filter tags filtertags result service reference servicereference hc ref hcref result result result composite health check compositehealthcheck execute verify health check executor healthcheckexecutor execute matchers string assert equals assertequals result status health check error result get status getstatus test test cyclic recursion testcyclicrecursion checks cyclic string filter tags filtertags string check dummy hc service reference dummyhcservicereference hc ref hcref dummy hc service reference dummyhcservicereference check string check filter tags filtertags dummy hc service reference dummyhcservicereference hc ref hcref dummy hc service reference dummyhcservicereference check string check string check dummy hc service reference dummyhcservicereference hc ref hcref dummy hc service reference dummyhcservicereference check string check string check test check hc ref hcref composite health check compositehealthcheck set reference to this setreferencetothis hc ref hcref composite health check compositehealthcheck set filter tags setfiltertags filter tags filtertags composite health check compositehealthcheck set health check filter sethealthcheckfilter health check filter healthcheckfilter override service reference servicereference get tag ged health check service references gettaggedhealthcheckservicereferences string tags spy varargs matcher work spies service reference servicereference result service reference servicereference tags length tags equals filter tags filtertags result service reference servicereference hc ref hcref tags equals check result service reference servicereference hc ref hcref tags equals check result service reference servicereference hc ref hcref result result result composite health check compositehealthcheck execute verify health check executor healthcheckexecutor execute matchers string assert equals assertequals result status health check error result get status getstatus dummy hc service reference dummyhcservicereference service reference servicereference string string tags string filter tags filtertags dummy hc service reference dummyhcservicereference string string tags string filter tags filtertags math random max tags tags filter tags filtertags filter tags filtertags override object get property getproperty string key constants service equals key health check healthcheck equals key health check healthcheck mbean equals key health check healthcheck tags equals key tags composite health check compositehealthcheck prop filter tags equals key filter tags filtertags component constants componentconstants component equals key filter tags filtertags composite health check compositehealthcheck get name getname health check healthcheck override string get property keys getpropertykeys unsupported operation exception unsupportedoperationexception override bundle get bundle getbundle unsupported operation exception unsupportedoperationexception override bundle get using bundles getusingbundles unsupported operation exception unsupportedoperationexception override is assignable to isassignableto bundle bundle string class name classname unsupported operation exception unsupportedoperationexception override compare to compareto object reference unsupported operation exception unsupportedoperationexception
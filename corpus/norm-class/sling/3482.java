licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer core impl util java util array list arraylist java util list org osgi framework bundle org osgi service package admin packageadmin exported package exportedpackage org osgi service package admin packageadmin package admin packageadmin org slf logger org slf logger factory loggerfactory find packages refresh affect bundle refresh dependencies util refreshdependenciesutil logger log logger factory loggerfactory get logger getlogger get class getclass package admin packageadmin pck admin pckadmin refresh dependencies util refreshdependenciesutil package admin packageadmin pck admin pckadmin check packages refresh supplied bundles affect target bundle targetbundle is bundle affected isbundleaffected bundle target list bundle bundles log debug is bundle affected isbundleaffected target bundles list id checked idchecked array list arraylist bundle bundles depends on dependson id checked idchecked target log debug is bundle affected isbundleaffected dependency bundle target log debug is bundle affected isbundleaffected dependencies target bundles target depends source imports depends on dependson list id checked idchecked bundle target bundle source id checked idchecked source get bundle id getbundleid id checked idchecked add source get bundle id getbundleid exported package exportedpackage eps pck admin pckadmin get exported packages getexportedpackages source eps exported package exportedpackage eps bundle import ers importers get importing bundles getimportingbundles import ers importers bundle import ers importers get bundle id getbundleid target get bundle id getbundleid log debug depends object target source get name getname depends on dependson id checked idchecked target log debug depends depends returning object target source
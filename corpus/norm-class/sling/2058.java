licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock sling jcr mock jcrmock resource java util collections java util iterator javax jcr node javax jcr session javax jcr query query org apache sling api resource resource org apache sling testing mock jcr mock jcr mockjcr org apache sling testing mock sling resource resolver type resourceresolvertype org apache sling testing mock sling junit sling context slingcontext org junit org junit org junit rule org junit test google common collect immutable map immutablemap find resources test findresourcestest rule sling context slingcontext context sling context slingcontext resource resolver type resourceresolvertype jcr mock set up setup resource resource context create resource test immutable map immutablemap string object builder prop prop build node node resource adapt to adaptto node session session context resource resolver resourceresolver adapt to adaptto session mock jcr mockjcr set query result setqueryresult session collections singleton list singletonlist node test suppress warnings suppresswarnings deprecation test find resources testfindresources resource resource context resource resolver resourceresolver get resource getresource test assert not null assertnotnull resource test resource iterator resource result context resource resolver resourceresolver find resources findresources test query xpath assert true asserttrue result expected result has next hasnext assert equals assertequals test result get path getpath assert false assertfalse result expected result has next hasnext
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets resolver internal helper java util hash set hashset java util iterator java util no such element exception nosuchelementexception java util org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org slf logger factory loggerfactory code location iterator locationiterator code access ordered collection absolute paths potential request handling primary order collection resource type hierarchy base resource type top secondary order search path retrieved resource resolver node type hierarchy sample search path apps libs iterator provide access list paths code apps sample code code libs sample code code apps code code libs code code apps code code libs code location iterator locationiterator iterator string resource iterator created resource initial resource type resource type resource resource resource resolver find resource types resource types resource resolver resourceresolver resolver base resource type entry resource type kind java lang object resource type hierarchy string base resource type baseresourcetype search path resource resolver string search path searchpath counter search path array path counter pathcounter resource type iteration loop string resource type resourcetype resource type string first resource type firstresourcetype resource type string first resource super type firstresourcesupertype current relative path generated resource type string rel path relpath absolute path location string next location nextlocation resource types detect circular resource type hierarchy string used resource types usedresourcetypes hash set hashset string creates instance iterator starting location built resource type code resource code code base resource type baseresourcetype code param resource type resourcetype initial resource type param resource super type resourcesupertype initial resource type param base resource type baseresourcetype base resource type param resolver resource resolver location iterator locationiterator string resource type resourcetype string resource super type resourcesupertype string base resource type baseresourcetype resource resolver resourceresolver resolver resolver resolver base resource type baseresourcetype base resource type baseresourcetype string tmp path tmppath resolver get search path getsearchpath tmp path tmppath tmp path tmppath length tmp path tmppath string search path searchpath tmp path tmppath first resource type firstresourcetype resource type resourcetype first resource super type firstresourcesupertype resource super type resourcesupertype start resource type resource type resourcetype first resource type firstresourcetype used resource types usedresourcetypes add resource type resourcetype next location nextlocation see k seek returns code code entry has next hasnext next location nextlocation returns entry iterator no such element exception nosuchelementexception link has next hasnext returns code code string has next hasnext no such element exception nosuchelementexception string result next location nextlocation next location nextlocation see k seek result unsupported operation exception unsupportedoperationexception remove unsupported operation exception unsupportedoperationexception string see k seek rel path relpath resource type resourcetype string type path typepath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype type path typepath starts with startswith resource type resourcetype get resource super type getresourcesupertype resource type resourcetype type path typepath rel path relpath type path typepath string result search path searchpath path counter pathcounter concat rel path relpath path counter pathcounter path counter pathcounter search path searchpath length rel path relpath resource type resourcetype get resource super type getresourcesupertype resource type resourcetype path counter pathcounter result returns resource type resource type resource type base resource type code code returned resource type resource type resource resource type resource returned resource type resource tree returned base resource type returned string get resource super type getresourcesupertype string resource type resourcetype current resource type resource type resourcetype equals base resource type baseresourcetype type current resource type string super type supertype resource type resourcetype equals first resource type firstresourcetype first resource super type firstresourcesupertype super type supertype first resource super type firstresourcesupertype super type supertype get resource super type getresourcesupertype resolver resource type resourcetype detect circular dependency super type supertype used resource types usedresourcetypes super type supertype logger factory loggerfactory get logger getlogger get class getclass error circular dependency resource type hierarchy detected check types super type supertype super type supertype used resource types usedresourcetypes add super type supertype resource type type super type supertype super type supertype base resource type baseresourcetype super type supertype method duplicated resource util resourceutil string get resource super type getresourcesupertype resource resolver resourceresolver resource resolver resourceresolver string resource type resourcetype normalize resource type path string string rt path rtpath resource util resourceutil resource type to path resourcetypetopath resource type resourcetype resource type resource check type string resource super type resourcesupertype path absolute rt path rtpath rt path rtpath starts with startswith string candidate path candidatepath rt path rtpath resource rt resource rtresource resource resolver resourceresolver get resource getresource candidate path candidatepath rt resource rtresource resource super type resourcesupertype rt resource rtresource get resource super type getresourcesupertype path relative search paths string search path searchpath search path searchpath string candidate path candidatepath search path searchpath rt path rtpath resource rt resource rtresource resource resolver resourceresolver get resource getresource candidate path candidatepath rt resource rtresource rt resource rtresource get resource super type getresourcesupertype resource super type resourcesupertype rt resource rtresource get resource super type getresourcesupertype resource super type resourcesupertype
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting core impl java io exception ioexception junit framework test case testcase org apache sling scripting core impl log writer logwriter org slf logger org slf marker log writer test logwritertest test case testcase test character testcharacter mock logger mocklogger logger mock logger mocklogger log writer logwriter log writer logwriter log writer logwriter logger ensure logger empty logger get last message getlastmessage empty flush log writer logwriter flush string msg logger get last message getlastmessage assert null assertnull msg write single character message flush log writer logwriter write assert null assertnull logger get last message getlastmessage log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals msg write single message log writer logwriter write assert null assertnull logger get last message getlastmessage write single message log writer logwriter write assert null assertnull logger get last message getlastmessage write characters log writer logwriter write log writer logwriter write log writer logwriter write msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals msg write characters log writer logwriter write log writer logwriter write log writer logwriter write msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals msg test string r teststringcr io exception ioexception mock logger mocklogger logger mock logger mocklogger log writer logwriter log writer logwriter log writer logwriter logger ensure logger empty logger get last message getlastmessage empty flush log writer logwriter flush string msg logger get last message getlastmessage assert null assertnull msg int ermediate intermediate string t msg tmsg ein string t msg tmsg text string t msg tmsg t msg tmsg t msg tmsg log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg initial t msg tmsg t msg tmsg t msg tmsg log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert null assertnull msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg t msg tmsg msg terminating t msg tmsg t msg tmsg t msg tmsg log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg t msg tmsg msg log writer logwriter flush msg logger get last message getlastmessage assert null assertnull msg test string f teststringlf io exception ioexception mock logger mocklogger logger mock logger mocklogger log writer logwriter log writer logwriter log writer logwriter logger ensure logger empty logger get last message getlastmessage empty flush log writer logwriter flush string msg logger get last message getlastmessage assert null assertnull msg int ermediate intermediate string t msg tmsg ein string t msg tmsg text string t msg tmsg t msg tmsg t msg tmsg log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg initial t msg tmsg t msg tmsg t msg tmsg log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert null assertnull msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg t msg tmsg msg terminating t msg tmsg t msg tmsg t msg tmsg log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg t msg tmsg msg log writer logwriter flush msg logger get last message getlastmessage assert null assertnull msg test string teststring io exception ioexception mock logger mocklogger logger mock logger mocklogger log writer logwriter log writer logwriter log writer logwriter logger ensure logger empty logger get last message getlastmessage empty flush log writer logwriter flush string msg logger get last message getlastmessage assert null assertnull msg flushed string t msg tmsg ein text log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert null assertnull msg log writer logwriter flush msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg terminated log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg terminated log writer logwriter write t msg tmsg msg logger get last message getlastmessage assert not null assertnotnull msg assert equals assertequals t msg tmsg msg mock logger mocklogger logger string last message lastmessage string get last message getlastmessage string msg last message lastmessage last message lastmessage msg debug string msg fail unexpected call debug string format object arg fail unexpected call debug string format object arg array argarray fail unexpected call debug string msg throwable fail unexpected call debug marker marker string msg fail unexpected call debug string format object arg object arg fail unexpected call debug marker marker string format object arg fail unexpected call debug marker marker string format object arg array argarray fail unexpected call debug marker marker string msg throwable fail unexpected call debug marker marker string format object arg object arg fail unexpected call error string msg last message lastmessage msg error string format object arg fail unexpected call error string format object arg array argarray fail unexpected call error string msg throwable fail unexpected call error marker marker string msg fail unexpected call error string format object arg object arg fail unexpected call error marker marker string format object arg fail unexpected call error marker marker string format object arg array argarray fail unexpected call error marker marker string msg throwable fail unexpected call error marker marker string format object arg object arg fail unexpected call string get name getname mock info string msg fail unexpected call info string format object arg fail unexpected call info string format object arg array argarray fail unexpected call info string msg throwable fail unexpected call info marker marker string msg fail unexpected call info string format object arg object arg fail unexpected call info marker marker string format object arg fail unexpected call info marker marker string format object arg array argarray fail unexpected call info marker marker string msg throwable fail unexpected call info marker marker string format object arg object arg fail unexpected call is debug enabled isdebugenabled is debug enabled isdebugenabled marker marker is error enabled iserrorenabled is error enabled iserrorenabled marker marker is info enabled isinfoenabled is info enabled isinfoenabled marker marker is trace enabled istraceenabled is trace enabled istraceenabled marker marker is warn enabled iswarnenabled is warn enabled iswarnenabled marker marker trace string msg fail unexpected call trace string format object arg fail unexpected call trace string format object arg array argarray fail unexpected call trace string msg throwable fail unexpected call trace marker marker string msg fail unexpected call trace string format object arg object arg fail unexpected call trace marker marker string format object arg fail unexpected call trace marker marker string format object arg array argarray fail unexpected call trace marker marker string msg throwable fail unexpected call trace marker marker string format object arg object arg fail unexpected call warn string msg fail unexpected call warn string format object arg fail unexpected call warn string format object arg array argarray fail unexpected call warn string msg throwable fail unexpected call warn marker marker string msg fail unexpected call warn string format object arg object arg fail unexpected call warn marker marker string format object arg fail unexpected call warn marker marker string format object arg array argarray fail unexpected call warn marker marker string msg throwable fail unexpected call warn marker marker string format object arg object arg fail unexpected call
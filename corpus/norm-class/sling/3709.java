licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets post impl operations java util list javax jcr item javax jcr repository exception repositoryexception javax jcr session org apache sling servlets post modification org apache sling servlets post versioning configuration versioningconfiguration code move operation moveoperation code link org apache sling servlets post sling post constants slingpostconstants operation move move operation sling post servlet move operation moveoperation abstract copy move operation abstractcopymoveoperation override string get operation name getoperationname move override item execute list modification item source string dest parent destparent string dest name destname versioning configuration versioningconfiguration versioning configuration versioningconfiguration repository exception repositoryexception dest name destname dest name destname source get name getname string source path sourcepath source get path getpath dest parent destparent equals dest parent destparent string dest path destpath dest parent destparent dest name destname session session source get session getsession check out if necessary checkoutifnecessary source get parent getparent versioning configuration versioningconfiguration session item exists itemexists dest path destpath session get item getitem dest path destpath remove session move source path sourcepath dest path destpath add modification on moved onmoved source path sourcepath dest path destpath session get item getitem dest path destpath
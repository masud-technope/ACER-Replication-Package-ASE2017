licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution trigger impl javax annotation nonnull java util collections java util hash set hashset java util org apache sling api resource login exception loginexception org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling commons scheduler schedule options scheduleoptions org apache sling commons scheduler scheduler org apache sling distribution distribution request type distributionrequesttype org apache sling distribution simple distribution request simpledistributionrequest org apache sling distribution common distribution exception distributionexception org apache sling distribution trigger distribution request handler distributionrequesthandler org apache sling distribution trigger distribution trigger distributiontrigger org apache sling distribution util impl distribution utils distributionutils org slf logger org slf logger factory loggerfactory link org apache sling distribution trigger distribution trigger distributiontrigger schedule distributions link org apache sling distribution agent distribution agent distributionagent scheduled distribution trigger scheduleddistributiontrigger distribution trigger distributiontrigger string schedule scheduled event trigger scheduledeventtrigger logger log logger factory loggerfactory get logger getlogger get class getclass distribution request type distributionrequesttype distribution action distributionaction string path seconds interval secondsinterval scheduler scheduler string service name servicename resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory string registered jobs registeredjobs collections synchronized set synchronizedset hash set hashset string scheduled distribution trigger scheduleddistributiontrigger string distribution action name distributionactionname string path seconds interval secondsinterval string service name servicename scheduler scheduler resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory service name servicename service name servicename resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory distribution action distributionaction distribution request type distributionrequesttype from name fromname distribution action name distributionactionname path path seconds interval secondsinterval seconds interval secondsinterval scheduler scheduler distribution action distributionaction illegal argument exception illegalargumentexception unsupported action distribution action name distributionactionname path distribution request type distributionrequesttype add equals distribution action distributionaction distribution request type distributionrequesttype delete equals distribution action distributionaction illegal argument exception illegalargumentexception path required action distribution action name distributionactionname register nonnull distribution request handler distributionrequesthandler request handler requesthandler distribution exception distributionexception schedule options scheduleoptions options scheduler seconds interval secondsinterval string job name jobname get job name getjobname request handler requesthandler options job name jobname options can run concurrently canrunconcurrently options on leader only onleaderonly success scheduler schedule scheduled distribution scheduleddistribution request handler requesthandler options success registered jobs registeredjobs add job name jobname log info handler registered job name jobname success exception distribution exception distributionexception unable register handler request handler requesthandler unregister nonnull distribution request handler distributionrequesthandler request handler requesthandler distribution exception distributionexception string job name jobname get job name getjobname request handler requesthandler success scheduler unschedule job name jobname success registered jobs registeredjobs remove job name jobname log info handler unregistered job name jobname success disable string job name jobname registered jobs registeredjobs result scheduler unschedule job name jobname log info handler unregistered job name jobname result scheduled distribution scheduleddistribution runnable distribution request handler distributionrequesthandler request handler requesthandler scheduled distribution scheduleddistribution distribution request handler distributionrequesthandler request handler requesthandler request handler requesthandler request handler requesthandler log debug agent scheduling distribution object request handler requesthandler distribution action distributionaction path service name servicename request handler requesthandler handle simple distribution request simpledistributionrequest distribution action distributionaction path resource resolver resourceresolver resource resolver resourceresolver resource resolver resourceresolver distribution utils distributionutils login service loginservice resource resolver factory resourceresolverfactory service name servicename request handler requesthandler handle resource resolver resourceresolver simple distribution request simpledistributionrequest distribution action distributionaction path login exception loginexception log error resource resolver service name servicename distribution utils distributionutils safely log out safelylogout resource resolver resourceresolver string get job name getjobname distribution request handler distributionrequesthandler request handler requesthandler schedule request handler requesthandler to string tostring
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution transport impl java i o exception ioexception java input stream inputstream java net uri java net uri syntax exception urisyntaxexception java util map org apache http header org apache http http entity httpentity org apache http http response httpresponse org apache http client fluent executor org apache http client fluent request org apache http client utils uri builder uribuilder org slf logger org slf logger factory loggerfactory http transport utils httptransportutils logger log logger factory loggerfactory get logger getlogger http transport utils httptransportutils string header distribution original distribution original id originalid input stream inputstream fetch next package fetchnextpackage executor executor uri distributionuri map string string headers uri syntax exception urisyntaxexception i o exception ioexception clear result headers map headers clear uri fetch uri fetchuri get f etc h uri getfetchuri distributionuri request fetch req fetchreq request post fetch uri fetchuri use expect continue useexpectcontinue http response httpresponse http response httpresponse executor execute fetch req fetchreq return response returnresponse http response httpresponse get status line getstatusline get status code getstatuscode http entity httpentity entity http response httpresponse get entity getentity header header http response httpresponse get first header getfirstheader http transport utils httptransportutils header distribution original header header get value getvalue string original id originalid header get value getvalue headers header distribution original original id originalid log warn retrieve original header entity get content getcontent delete package deletepackage executor executor uri distributionuri string remote package id remotepackageid uri syntax exception urisyntaxexception i o exception ioexception uri delete uri deleteuri get delete uri getdeleteuri distributionuri remote package id remotepackageid request delete req deletereq request post delete uri deleteuri use expect continue useexpectcontinue http response httpresponse http response httpresponse executor execute delete req deletereq return response returnresponse http response httpresponse get status line getstatusline get status code getstatuscode uri get f etc h uri getfetchuri uri uri uri syntax exception urisyntaxexception uri builder uribuilder uri builder uribuilder uri builder uribuilder uri uri builder uribuilder add parameter addparameter operation fetch uri builder uribuilder build uri get delete uri getdeleteuri uri uri string uri syntax exception urisyntaxexception uri builder uribuilder uri builder uribuilder uri builder uribuilder uri uri builder uribuilder add parameter addparameter operation delete uri builder uribuilder add parameter addparameter uri builder uribuilder build
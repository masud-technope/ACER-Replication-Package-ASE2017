licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting java script javascript wrapper javax jcr node org apache sling scripting java script javascript repository scripting test base repositoryscriptingtestbase org apache sling scripting java script javascript internal script engine helper scriptenginehelper test access version version history versionhistory objects scriptable version test scriptableversiontest repository scripting test base repositoryscriptingtestbase node node script engine helper scriptenginehelper data data script engine helper scriptenginehelper data override set up setup exception set up setup node get new node getnewnode data node node node add mixin addmixin mix version able versionable get session getsession save node set property setproperty modified making version get session getsession save test version history access testversionhistoryaccess exception object result script eval node get version history getversionhistory get all versions getallversions data assert not null assertnotnull result test version history is wrapped testversionhistoryiswrapped exception assert equals assertequals version history versionhistory script eval node version history versionhistory jcr primary type primarytype data assert equals assertequals version script eval node version history versionhistory root version rootversion jcr primary type primarytype data test version access testversionaccess exception object result script eval node get base version getbaseversion get created getcreated data assert not null assertnotnull result test version is wrapped testversioniswrapped exception assert equals assertequals version script eval node base version baseversion jcr primary type primarytype data assert not null assertnotnull script eval node base version baseversion created data
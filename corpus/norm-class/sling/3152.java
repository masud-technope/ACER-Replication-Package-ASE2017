licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event impl jobs config org junit assert equals assertequals java util collections org apache sling discovery cluster view clusterview org apache sling discovery instance description instancedescription org apache sling discovery topology view topologyview org junit org junit test org mockito mockito topology capabilities test topologycapabilitiestest topology capabilities topologycapabilities caps setup local cluster view cluster view clusterview mockito mock cluster view clusterview mockito get id getid then return thenreturn cluster local description instance description instancedescription local mockito mock instance description instancedescription mockito local is leader isleader then return thenreturn mockito local get sling id getslingid then return thenreturn local mockito local get property getproperty topology capabilities topologycapabilities property topics then return thenreturn foo bar mockito local get cluster view getclusterview then return thenreturn topology view topology view topologyview mockito mock topology view topologyview mockito get instances getinstances then return thenreturn collections singleton local mockito get local instance getlocalinstance then return thenreturn local job manager configuration jobmanagerconfiguration config mockito mock job manager configuration jobmanagerconfiguration caps topology capabilities topologycapabilities config test test matching testmatching assert equals assertequals caps get potential targets getpotentialtargets foo size assert equals assertequals caps get potential targets getpotentialtargets foo size assert equals assertequals caps get potential targets getpotentialtargets bar size assert equals assertequals caps get potential targets getpotentialtargets bar foo size assert equals assertequals caps get potential targets getpotentialtargets bar foo size assert equals assertequals caps get potential targets getpotentialtargets size assert equals assertequals caps get potential targets getpotentialtargets size assert equals assertequals caps get potential targets getpotentialtargets size assert equals assertequals caps get potential targets getpotentialtargets size assert equals assertequals caps get potential targets getpotentialtargets size
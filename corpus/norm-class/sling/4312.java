licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide eclipse actions java util collection java util collections java util linked list linkedlist javax jcr node type nodetype node definition nodedefinition javax jcr node type nodetype node type nodetype org apache sling ide eclipse nav model jcr node jcrnode org apache sling ide transport node type registry nodetyperegistry org apache sling ide transport repository exception repositoryexception org eclipse jface dialogs i dialog constants idialogconstants org eclipse jface dialogs input dialog inputdialog org eclipse jface field assist fieldassist combo content adapter combocontentadapter org eclipse jface field assist fieldassist content proposal adapter contentproposaladapter org eclipse jface field assist fieldassist simple content proposal provider simplecontentproposalprovider org eclipse swt swt org eclipse swt events modify event modifyevent org eclipse swt events modify listener modifylistener org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt graphics point org eclipse swt graphics rectangle org eclipse swt layout grid data griddata org eclipse swt widgets combo org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets label org eclipse swt widgets shell new node dialog newnodedialog input dialog inputdialog string last chosen node type lastchosennodetype string parent node type parentnodetype node type registry nodetyperegistry nt manager ntmanager string combo selection comboselection collection string allowed children allowedchildren combo combo content proposal adapter contentproposaladapter proposal adapter proposaladapter node definition nodedefinition all child node defs allchildnodedefs new node dialog newnodedialog shell parent shell parentshell jcr node jcrnode node node type registry nodetyperegistry nt manager ntmanager repository exception repositoryexception parent shell parentshell enter node enter node path node get jcr path getjcrpath parent node type parentnodetype node get primary type getprimarytype nt manager ntmanager nt manager ntmanager nt manager ntmanager linked list linkedlist string linked list linkedlist nt manager ntmanager get allowed primary child node types getallowedprimarychildnodetypes parent node type parentnodetype node type nodetype parent nt parentnt nt manager ntmanager get node type getnodetype parent node type parentnodetype all child node defs allchildnodedefs parent nt parentnt get child node definitions getchildnodedefinitions collections sort allowed children allowedchildren override control create dialog area createdialogarea composite parent composite composite composite create dialog area createdialogarea parent control children composite get children getchildren control error message text errormessagetext children children length grid data griddata error message grid data errormessagegriddata grid data griddata grid data griddata grab horizontal grid data griddata horizontal align fill error message grid data errormessagegriddata height hint heighthint convert height in chars to pixels convertheightincharstopixels error message text errormessagetext set layout data setlayoutdata error message grid data errormessagegriddata add node type drop box dropbox combo label label label composite swt wrap label move above moveabove error message text errormessagetext label set text settext define node type grid data griddata data grid data griddata grid data griddata grab horizontal grid data griddata grab vertical grid data griddata horizontal align fill grid data griddata vertical align center data width hint widthhint convert horizontal us to pixels converthorizontaldlustopixels i dialog constants idialogconstants minimum message area width label set layout data setlayoutdata data label set font setfont parent get font getfont combo combo composite swt drop combo move above moveabove error message text errormessagetext allowed children allowedchildren combo set items setitems allowed children allowedchildren to array toarray string combo set layout data setlayoutdata grid data griddata grid data griddata grab horizontal grid data griddata horizontal align fill combo add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent combo selection comboselection combo get text gettext validate input validateinput combo add modify listener addmodifylistener modify listener modifylistener override modify text modifytext modify event modifyevent combo selection comboselection combo get text gettext validate input validateinput simple content proposal provider simplecontentproposalprovider proposal provider proposalprovider simple content proposal provider simplecontentproposalprovider combo get items getitems proposal provider proposalprovider set filtering setfiltering combo content adapter combocontentadapter control content adapter controlcontentadapter combo content adapter combocontentadapter override insert control contents insertcontrolcontents control control string text cursor position cursorposition point selection combo get selection getselection combo set text settext text selection selection cursor position cursorposition selection selection combo set selection setselection selection override rectangle get insertion bounds getinsertionbounds control control rectangle insertion bounds insertionbounds get insertion bounds getinsertionbounds control insert start insertion bounds insertionbounds insertion bounds insertionbounds insertion bounds insertionbounds variant opens auto complete character proposal adapter proposaladapter content proposal adapter contentproposaladapter combo control content adapter controlcontentadapter proposal provider proposalprovider variant opens auto complete invoking auto complete hot key hotkey allowed children allowedchildren allowed children allowedchildren size combo set text settext allowed children allowedchildren iterator allowed children allowedchildren allowed children allowedchildren last chosen node type lastchosennodetype combo set text settext last chosen node type lastchosennodetype composite override initialize bounds initializebounds initialize bounds initializebounds auto complete autocomplete popup size point size combo get size getsize size size proposal adapter proposaladapter set popup size setpopupsize size string get chosen node type getchosennodetype last chosen node type lastchosennodetype combo selection comboselection combo selection comboselection validate input validateinput string first input firstinput get text gettext get text gettext string second input secondinput combo selection comboselection second input secondinput second input secondinput length set error message seterrormessage nt manager ntmanager set error message seterrormessage nt manager ntmanager is allowed primary child node type isallowedprimarychildnodetype parent node type parentnodetype second input secondinput check type all child node defs allchildnodedefs set error message seterrormessage child node definitions parent node type parentnodetype success all child node defs allchildnodedefs length node definition nodedefinition a child node def achildnodedef all child node defs allchildnodedefs a child node def achildnodedef get name getname a child node def achildnodedef get name getname length first input firstinput equals a child node def achildnodedef get name getname set error message seterrormessage mark success child node definition success success set error message seterrormessage string buffer stringbuffer details string buffer stringbuffer node definition nodedefinition a child node def achildnodedef all child node defs allchildnodedefs details length details append details append a child node def achildnodedef get name getname required primary type string required primary type names requiredprimarytypenames a child node def achildnodedef get required primary type names getrequiredprimarytypenames required primary type names requiredprimarytypenames details append required primary type names requiredprimarytypenames length string rptn required primary type names requiredprimarytypenames details append details append rptn details append set error message seterrormessage matching child node definition parent node type parentnodetype expected details set error message seterrormessage error invalid child node type parent node type parentnodetype repository exception repositoryexception set error message seterrormessage repository exception repositoryexception
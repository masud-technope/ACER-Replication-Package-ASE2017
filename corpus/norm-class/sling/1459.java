licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest servlets post java io exception ioexception java util hash map hashmap java util map javax servlet http http servlet response httpservletresponse org apache sling commons testing int egration integration http test base httptestbase test item move support move from movefrom suffix sling post servlet at move test postservletatmovetest http test base httptestbase string test base path sling move tests override set up setup exception set up setup test move node absolute testmovenodeabsolute io exception ioexception string test path testpath test base path abs system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props src move from movefrom test path testpath src test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data src text content location assert http status asserthttpstatus http base url test path testpath src json http servlet response httpservletresponse expected content test move node relative testmovenoderelative io exception ioexception string test path testpath test base path rel system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props src move from movefrom src test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data src text content location assert http status asserthttpstatus http base url test path testpath src json http servlet response httpservletresponse expected content test move property absolute testmovepropertyabsolute io exception ioexception string test path testpath test base path abs system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props text move from movefrom test path testpath src text test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data text content location assert http status asserthttpstatus http base url test path testpath src json http servlet response httpservletresponse expected source parent existing assert http status asserthttpstatus http base url test path testpath src text json http servlet response httpservletresponse expected content test move property relative testmovepropertyrelative io exception ioexception string test path testpath test base path rel system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props content source location string old content oldcontent get content getcontent http base url test path testpath src json content type json assert java script assertjavascript old content oldcontent println data text create dest text src text props clear props text move from movefrom src text test client testclient create node createnode http base url test path testpath dest props content location string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data text content location assert http status asserthttpstatus http base url test path testpath src json http servlet response httpservletresponse expected source parent existing assert http status asserthttpstatus http base url test path testpath src text json http servlet response httpservletresponse expected content test move node source missing testmovenodesourcemissing io exception ioexception string test path testpath test base path exist system current time millis currenttimemillis map string string props hash map hashmap string string create dest node props clear props text destination test client testclient create node createnode http base url test path testpath dest src props props clear props src move from movefrom test path testpath existing source test client testclient create node createnode http base url test path testpath dest props expect unmodified dest string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript destination content println data src text test move node existing replace testmovenodeexistingreplace io exception ioexception string test path testpath test base path replace system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props create dest node props clear props text destination test client testclient create node createnode http base url test path testpath dest src props props clear props src move from movefrom src test client testclient create node createnode http base url test path testpath dest props expect unmodified dest string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data src text test move node deep relative testmovenodedeeprelative io exception ioexception string test path testpath test base path system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props props clear props deep move from movefrom src test client testclient create node createnode http base url test path testpath dest props expect data string content get content getcontent http base url test path testpath dest json content type json assert java script assertjavascript content println data deep text test move node deep absolute testmovenodedeepabsolute io exception ioexception string test path testpath test base path fail system current time millis currenttimemillis map string string props hash map hashmap string string props text test client testclient create node createnode http base url test path testpath src props props clear props test path testpath existing structure move from movefrom test path testpath src test client testclient create node createnode http base url test path testpath props expect data string content get content getcontent http base url test path testpath existing structure json content type json assert java script assertjavascript content println data text
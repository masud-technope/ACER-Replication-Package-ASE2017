licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core org junit assert equals assertequals org junit assert not null assertnotnull org junit assert true asserttrue java util list javax inject inject javax management dynamicmbean org apache sling api execution health check execution result healthcheckexecutionresult org apache sling api execution health check executor healthcheckexecutor org junit test org junit runner run with runwith org ops pax exam configuration org ops pax exam option org ops pax exam junit pax exam paxexam org osgi framework bundle context bundlecontext org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service reference servicereference run with runwith pax exam paxexam sample health checks test samplehealthcheckstest inject health check executor healthcheckexecutor executor inject bundle context bundlecontext bundle context bundlecontext configuration option config config test test annotated c testannotatedhc list health check execution result healthcheckexecutionresult executor execute annotation sample assert not null assertnotnull expecting assert equals assertequals expecting single result size health check execution result healthcheckexecutionresult assert true asserttrue expecting empty log get health check result gethealthcheckresult iterator has next hasnext string expected good assert true asserttrue expecting log message expected get health check result gethealthcheckresult iterator get message getmessage expected test testannotatedhcmbean invalid syntax exception invalidsyntaxexception verify dynamicmbean service jmx whiteboard string filter jmx object name objectname org apache sling health check healthcheck type health check healthcheck annotatedhc service reference servicereference bundle context bundlecontext get service references getservicereferences dynamicmbean get name getname filter assert not null assertnotnull expecting service references servicereferences filter assert equals assertequals expecting single service reference servicereference filter length
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource resolver resourceresolver impl org junit assert equals assertequals org junit assert not null assertnotnull java util array list arraylist java util arrays java util iterator java util list javax servlet http http servlet request httpservletrequest org apache sling api resource login exception loginexception org apache sling api resource non existing resource nonexistingresource org apache sling api resource resource org apache sling api resource resource decorator resourcedecorator org apache sling api resource resource metadata resourcemetadata org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org apache sling resource resolver resourceresolver impl helper resource decorator tracker resourcedecoratortracker org apache sling resource resolver resourceresolver impl providers resource provider handler resourceproviderhandler org apache sling resource resolver resourceresolver impl providers resource provider storage resourceproviderstorage org apache sling spi resource provider jcr query provider jcrqueryprovider org apache sling spi resource provider resolver context resolvercontext org apache sling spi resource provider resource context resourcecontext org apache sling spi resource provider resource provider resourceprovider org junit org mockito mockito base tests involve resource decorators resourcedecorators resource decorator test base resourcedecoratortestbase resource resolver resourceresolver resolver string query language fun nny funnny language resource wrap resource for test wrapresourcefortest resource resource setup login exception loginexception resource decorator resourcedecorator resource decorator resourcedecorator override resource decorate resource resource resource decorator test base resourcedecoratortestbase wrap resource for test wrapresourcefortest resource override resource decorate resource resource http servlet request httpservletrequest request unsupported operation exception unsupportedoperationexception supposed tests resource decorator tracker resourcedecoratortracker resource decorator tracker resourcedecoratortracker bind resource decorator bindresourcedecorator resource provider resourceprovider provider resource provider resourceprovider object override jcr query provider jcrqueryprovider object getjcrqueryprovider jcr query provider jcrqueryprovider object override string get supported lang uages getsupportedlanguages resolver context resolvercontext object ctx string query language override iterator resource find resources findresources resolver context resolvercontext object ctx string query string language list resource array list arraylist resource add mock resource mockresource tmp add mock resource mockresource tmp add mock resource mockresource add mock resource mockresource iterator override iterator value map valuemap query resources queryresources resolver context resolvercontext object ctx string query string language override resource get resource getresource resolver context resolvercontext object ctx string path resource context resourcecontext r ctx rctx resource parent path equals path starts with startswith tmp path starts with startswith mock resource mockresource path override iterator resource list children listchildren resolver context resolvercontext object ctx resource parent list resource children array list arraylist resource equals parent get path getpath children add mock resource mockresource tmp children add mock resource mockresource equals parent get path getpath children add mock resource mockresource children add mock resource mockresource children add mock resource mockresource tmp equals parent get path getpath children add mock resource mockresource tmp children add mock resource mockresource tmp children add mock resource mockresource tmp children add mock resource mockresource tmp children iterator resource resolver factory activator resourceresolverfactoryactivator activator resource resolver factory activator resourceresolverfactoryactivator common resource resolver factory impl commonresourceresolverfactoryimpl crf common resource resolver factory impl commonresourceresolverfactoryimpl activator override resource decorator tracker resourcedecoratortracker get resource decorator tracker getresourcedecoratortracker list resource provider handler resourceproviderhandler list arrays as list aslist mocked resource resolver impl test mockedresourceresolverimpltest createrphandler provider provider resolver resource resolver impl resourceresolverimpl crf resource provider storage resourceproviderstorage list assert existent assertexistent resource existent assert not null assertnotnull expecting resource assert equals assertequals expecting existent existent existent resource existent non existing resource nonexistingresource resource type existing equals get resource type getresourcetype resource mock resource mockresource string path resource result mockito mock resource mockito result get path getpath then return thenreturn path mockito result get name getname then return thenreturn resource util resourceutil get name getname path resource metadata resourcemetadata resource metadata resourcemetadata mockito result get resource metadata getresourcemetadata then return thenreturn result
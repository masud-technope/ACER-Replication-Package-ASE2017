licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp taglib org junit assert equals assertequals org junit assert not null assertnotnull org junit assert true asserttrue java util array list arraylist java util iterator java util list org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling commons testing sling mock resource mockresource org apache sling commons testing sling mock resource resolver mockresourceresolver org junit org junit test org slf logger org slf logger factory loggerfactory unit tests find resource tag findresourcetag org apache sling scripting jsp taglib find resource tag findresourcetag test find resource tag testfindresourcetag logger log logger factory loggerfactory get logger getlogger test find resource tag testfindresourcetag find resources tag findresourcestag get resource tag getresourcetag mock resource mockresource resource mock page context mockpagecontext page context pagecontext string key resource string test path content initializes fields test suppress warnings suppresswarnings serial init log info init mock resource resolver mockresourceresolver resolver mock resource resolver mockresourceresolver override iterator resource find resources findresources string query string language query equals query language equals language list resource resources array list arraylist resource resources add resource resources iterator resource mock resource mockresource resolver test path test resolver add resource addresource resource get resource tag getresourcetag find resources tag findresourcestag resource resolver resourceresolver get resource resolver getresourceresolver resolver page context pagecontext mock page context mockpagecontext get resource tag getresourcetag set page context setpagecontext page context pagecontext log info init complete tests find resources function alty functionalty test test find resources testfindresources log info test good path testgoodpath get resource tag getresourcetag set var setvar key get resource tag getresourcetag set query setquery query get resource tag getresourcetag set language setlanguage language get resource tag getresourcetag do end tag doendtag object result page context pagecontext get attribute getattribute key assert not null assertnotnull result assert true asserttrue result iterator suppress warnings suppresswarnings unchecked iterator resource resources iterator resource result assert true asserttrue resources has next hasnext assert equals assertequals test path resources get path getpath log info test successful
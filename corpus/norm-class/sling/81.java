licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide test impl org hamcrest core matchers corematchers equal to equalto org hamcrest core matchers corematchers null value nullvalue org junit assert that assertthat java byte array input stream bytearrayinputstream org apache sling ide eclipse core project util projectutil org apache sling ide test impl helpers project adapter projectadapter org apache sling ide test impl helpers temporary project temporaryproject org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core runtime qualified name qualifiedname org junit org junit rule org junit test project util test projectutiltest rule temporary project temporaryproject project rule projectrule temporary project temporaryproject i project iproject content project contentproject project adapter projectadapter project create empty content project createemptycontentproject exception create faceted project content project contentproject project rule projectrule get project getproject project project adapter projectadapter content project contentproject project add natures addnatures org eclipse wst common project facet core nature install bundle facet project install facet installfacet sling content create filter file project create vlt filter with roots createvltfilterwithroots create content sync dir project ensure directory exists ensuredirectoryexists path from portable string fromportablestring jcr root test sling content project synced resources are export able slingcontentprojectsyncedresourcesareexportable core exception coreexception interrupted exception interruptedexception project create or update file createorupdatefile path from portable string fromportablestring jcr root test txt byte array input stream bytearrayinputstream good bye goodbye get bytes getbytes i path ipath filter path filterpath project util projectutil find filter path findfilterpath content project contentproject assert that assertthat filter path filterpath absolute filter path filterpath is absolute isabsolute equal to equalto assert that assertthat filter path filterpath filter path filterpath make relative to makerelativeto content project contentproject get location getlocation to portable string toportablestring equal to equalto meta inf vault filter xml test default content sync root is returned defaultcontentsyncrootisreturned exception i folder ifolder sync directory syncdirectory project util projectutil get sync directory getsyncdirectory content project contentproject assert that assertthat sync directory syncdirectory get project relative path getprojectrelativepath equal to equalto path from portable string fromportablestring jcr root test custom content sync root is obeyed customcontentsyncrootisobeyed exception i path ipath content sync path contentsyncpath path from portable string fromportablestring src main content jcr root project ensure directory exists ensuredirectoryexists content sync path contentsyncpath project util projectutil set sync directory path setsyncdirectorypath content project contentproject content sync path contentsyncpath assert that assertthat project util projectutil get sync directory getsyncdirectory content project contentproject get project relative path getprojectrelativepath equal to equalto content sync path contentsyncpath test old content sync root is migrated oldcontentsyncrootismigrated exception qualified name qualifiedname old property name oldpropertyqname qualified name qualifiedname org apache sling ide eclipse core sync root i path ipath content sync path contentsyncpath path from portable string fromportablestring src main content jcr root project ensure directory exists ensuredirectoryexists content sync path contentsyncpath simulate property content project contentproject set persistent property setpersistentproperty old property name oldpropertyqname content sync path contentsyncpath to string tostring query data api obeyed assert that assertthat sync root obeyed project util projectutil get sync directory getsyncdirectory content project contentproject get project relative path getprojectrelativepath equal to equalto content sync path contentsyncpath store longer config assert that assertthat property removed content project contentproject get persistent property getpersistentproperty old property name oldpropertyqname null value nullvalue query work deleting data store assert that assertthat sync root obeyed store property deleted project util projectutil get sync directory getsyncdirectory content project contentproject get project relative path getprojectrelativepath equal to equalto content sync path contentsyncpath
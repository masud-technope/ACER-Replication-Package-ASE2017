licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl compiler frontend java util array list arraylist java util collection java util collections java util hash map hashmap java util list org apache sling scripting sightly impl compiler syntax org apache sling scripting sightly impl compiler expression expression org apache sling scripting sightly impl compiler expression expression node expressionnode org apache sling scripting sightly impl compiler expression node binary operation binaryoperation org apache sling scripting sightly impl compiler expression node binary operator binaryoperator org apache sling scripting sightly impl compiler expression node string constant stringconstant org apache sling scripting sightly impl filter expression context expressioncontext org apache sling scripting sightly impl filter filter org apache sling scripting sightly impl plugin markup context markupcontext object wraps expressions filter applications depending options expression wrapper expressionwrapper list filter filters expression wrapper expressionwrapper collection filter filters filters array list arraylist filter filters add all addall filters collections sort filters expression transform int erpolation interpolation int erpolation interpolation markup context markupcontext mark up context markupcontext expression context expressioncontext expression context expressioncontext array list arraylist expression node expressionnode nodes array list arraylist expression node expressionnode hash map hashmap string expression node expressionnode options hash map hashmap string expression node expressionnode fragment fragment int erpolation interpolation get fragments getfragments fragment is string isstring nodes add string constant stringconstant fragment get text gettext expression expression fragment get expression getexpression nodes add adjust to context adjusttocontext expression mark up context markupcontext expression context expressioncontext get root getroot options put all putall expression get options getoptions expression node expressionnode root join nodes int erpolation interpolation size options contains key containskey syntax context option context calculated merging options remove syntax context option expression root options expression apply filters applyfilters expression expression expression context expressioncontext expression context expressioncontext expression result expression filter filter filters result filter apply result expression context expressioncontext result expression adjust to context adjusttocontext expression expression markup context markupcontext context expression context expressioncontext expression context expressioncontext context expression contains option containsoption syntax context option expression get options getoptions syntax context option string constant stringconstant context get name getname apply filters applyfilters expression expression context expressioncontext expression node expressionnode join list expression node expressionnode nodes nodes is empty isempty string constant stringconstant empty expression node expressionnode root nodes remove expression node expressionnode node nodes root binary operation binaryoperation binary operator binaryoperator concat enate concatenate root node root
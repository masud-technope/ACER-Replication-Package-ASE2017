licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution serialization impl vlt javax annotation nonnull javax jcr session java file java io exception ioexception java input stream inputstream java util tree map treemap java util uuid org apache jackrabbit vault api import mode importmode org apache jackrabbit vault api path filter set pathfilterset org apache jackrabbit vault api workspace filter workspacefilter org apache jackrabbit vault access control handling accesscontrolhandling org apache jackrabbit vault import options importoptions org apache jackrabbit vault packaging export options exportoptions org apache jackrabbit vault packaging packaging org apache jackrabbit vault packaging vault package vaultpackage org apache sling api resource resource resolver resourceresolver org apache sling distribution distribution request distributionrequest org apache sling distribution common distribution exception distributionexception org apache sling distribution serialization distribution package distributionpackage org apache sling distribution serialization distribution package builder distributionpackagebuilder org apache sling distribution serialization impl abstract distribution package builder abstractdistributionpackagebuilder org slf logger org slf logger factory loggerfactory link org apache sling distribution serialization distribution package builder distributionpackagebuilder â based apache jackrabbit file vault filevault link distribution package distributionpackage â created link file vault distribution package builder filevaultdistributionpackagebuilder backed link org apache jackrabbit vault packaging vault package vaultpackage file vault distribution package builder filevaultdistributionpackagebuilder abstract distribution package builder abstractdistributionpackagebuilder distribution package builder distributionpackagebuilder string version logger log logger factory loggerfactory get logger getlogger get class getclass packaging packaging import mode importmode import mode importmode access control handling accesscontrolhandling acl handling aclhandling string package roots packageroots file temp directory tempdirectory tree map treemap string path filter set pathfilterset filters file vault distribution package builder filevaultdistributionpackagebuilder string type packaging packaging import mode importmode import mode importmode access control handling accesscontrolhandling acl handling aclhandling string package roots packageroots string filter rules filterrules string temp files folder tempfilesfolder type packaging packaging import mode importmode import mode importmode acl handling aclhandling acl handling aclhandling package roots packageroots package roots packageroots temp directory tempdirectory vlt utils vltutils get temp folder gettempfolder temp files folder tempfilesfolder filters vlt utils vltutils parse filters parsefilters filter rules filterrules log info temp directory temp directory tempdirectory temp directory tempdirectory temp directory tempdirectory get path getpath override distribution package distributionpackage create package for add createpackageforadd nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution request distributionrequest request distribution exception distributionexception session session vault package vaultpackage vault package vaultpackage session get session getsession resource resolver resourceresolver string package group packagegroup sling distribution string package name packagename get type gettype system current time millis currenttimemillis uuid randomuuid workspace filter workspacefilter filter vlt utils vltutils create filter createfilter request filters export options exportoptions opts vlt utils vltutils get export options getexportoptions filter package roots packageroots package group packagegroup package name packagename version log debug ass embling assembling package group packagegroup package name packagename version vault package vaultpackage vlt utils vltutils create package createpackage packaging get package manager getpackagemanager session opts temp directory tempdirectory file vault distribution package filevaultdistributionpackage get type gettype vault package vaultpackage throwable vlt utils vltutils delete package deletepackage vault package vaultpackage distribution exception distributionexception unget session ungetsession session override distribution package distributionpackage read package internal readpackageinternal nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull input stream inputstream stream distribution exception distributionexception log debug reading stream vault package vaultpackage vault package vaultpackage vault package vaultpackage vlt utils vltutils read package readpackage packaging get package manager getpackagemanager stream temp directory tempdirectory file vault distribution package filevaultdistributionpackage get type gettype vault package vaultpackage throwable vlt utils vltutils delete package deletepackage vault package vaultpackage distribution exception distributionexception override distribution package distributionpackage get package internal getpackageinternal nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull string distribution package distributionpackage distribution package distributionpackage file file file file exists vault package vaultpackage pkg packaging get package manager getpackagemanager open file distribution package distributionpackage file vault distribution package filevaultdistributionpackage get type gettype pkg io exception ioexception log warn find distribution package distributionpackage override install package internal installpackageinternal nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution package distributionpackage distribution package distributionpackage distribution exception distributionexception log debug reading distribution stream session session session get session getsession resource resolver resourceresolver file file file distribution package distributionpackage get id getid file exists vault package vaultpackage pkg packaging get package manager getpackagemanager open file import options importoptions opts vlt utils vltutils get import options getimportoptions acl handling aclhandling import mode importmode log debug mode acl opts get import mode getimportmode opts get access control handling getaccesscontrolhandling pkg extract session opts exception log error install distribution exception distributionexception unget session ungetsession session
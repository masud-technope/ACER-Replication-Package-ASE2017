licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing tools retry org junit fail convenience ret rying retrying tests timeout success retry loop retryloop timeout conditions check is true istrue called repeatedly success timeout condition failure messages describe expected string get description getdescription ret rying retrying retry loop retryloop retries assertion error assertionerror tests fail method reported failures ret ried retried is true istrue exception retry condition returns timeout link condition is true istrue semantics retry loop retryloop condition timeout seconds timeoutseconds int erval between tries msec intervalbetweentriesmsec timeout system current time millis currenttimemillis timeout seconds timeoutseconds system current time millis currenttimemillis timeout is true istrue assertion error assertionerror report exception reportexception exception report exception reportexception thread sleep int erval between tries msec intervalbetweentriesmsec interrupted exception interruptedexception ignore on timeout ontimeout fail retry loop retryloop failed condition timeout seconds timeoutseconds seconds get description getdescription overridden report exceptions happen retry loop report exception reportexception throwable called loop times success failing on timeout ontimeout get remaining time seconds getremainingtimeseconds math max timeout system current time millis currenttimemillis
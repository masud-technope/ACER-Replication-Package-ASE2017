licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide test impl helpers org junit assert that assertthat java util concurrent callable org hamcrest matcher junit framework assertion failed error assertionfailederror poller poll wait millis delay millis poll until successful polluntilsuccessful runnable interrupted exception interruptedexception cut off cutoff system current time millis currenttimemillis poll wait millis throwable last error lasterror runtime exception runtimeexception assertion error assertionerror last error lasterror system current time millis currenttimemillis cut off cutoff last error lasterror runtime exception runtimeexception runtime exception runtimeexception last error lasterror last error lasterror error error last error lasterror assertion failed error assertionfailederror runnable succeed all ocated allocated poll wait millis thread sleep delay millis poll until polluntil callable call able callable matcher matcher interrupted exception interruptedexception object holder object poll until successful polluntilsuccessful runnable override result result call able callable call holder result runtime exception runtimeexception exception runtime exception runtimeexception assert that assertthat result matcher override string to string tostring call able callable to string tostring safe write holder holder
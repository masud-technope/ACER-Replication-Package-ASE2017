licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling core impl servlet java print writer printwriter java string writer stringwriter java text date format dateformat java text simple date format simpledateformat java util calendar java util java util dictionary java util list org apache commons lang string escape utils stringescapeutils org apache commons lang string utils stringutils org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations property org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org apache sling api result org apache sling api result log resultlog entry org apache sling api execution health check execution result healthcheckexecutionresult org apache sling util formatting result log formattingresultlog org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory serial izes serializes health check html format service result html serializer resulthtmlserializer component metatype result html serializer resulthtmlserializer logger log logger factory loggerfactory get logger getlogger result html serializer resulthtmlserializer string css style body font size font family arial ver dana verdana sans serif background color fffdf font size table font size border ccc solid border radius table padding text align left background ededed table padding border top solid ffffff border bottom solid border left solid statusok background color ccffcc statuswarn background color ffe statuscritical background color statushealth check error background color help text helptext color grey font size string property css style style string stylestring property property css style label css style description css style configured change feel html result css style string style string stylestring activate activate component context componentcontext context dictionary properties context get properties getproperties style string stylestring properties util propertiesutil to string tostring properties property css style css style string serialize result over all result overallresult list health check execution result healthcheckexecutionresult execution results executionresults string escaped help text escapedhelptext include debug includedebug string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter string writer stringwriter writer println html head title system health title meta http equiv content type content text html charset utf style style string stylestring style head body system health writer println span get class for status getclassforstatus over all result overallresult get status getstatus strong result over all result overallresult get status getstatus strong span date format dateformat df short dfshort simple date format simpledateformat sss date format dateformat df long dflong simple date format simpledateformat yyyy writer println table health check results healthcheckresults cellspacing writer println the ad thead health check status log colspan execution time the ad thead health check execution result healthcheckexecutionresult execution result executionresult execution results executionresults result result execution result executionresult get health check result gethealthcheckresult writer println get class for status getclassforstatus result get status getstatus title tags string escape utils stringescapeutils escape html escapehtml string utils stringutils join execution result executionresult get health check metadata gethealthcheckmetadata get tags gettags writer println span title string escape utils stringescapeutils escape html escapehtml execution result executionresult get health check metadata gethealthcheckmetadata get name getname string escape utils stringescapeutils escape html escapehtml execution result executionresult get health check metadata gethealthcheckmetadata get title gettitle span writer println style font weight bold string escape utils stringescapeutils escape html escapehtml result get status getstatus to string tostring writer println is first isfirst is single result issingleresult is single result issingleresult result entry entry result include debug includedebug entry get status getstatus result status debug is first isfirst is first isfirst writer println show status showstatus is single result issingleresult entry get status getstatus result status debug entry get status getstatus result status info string message string escape utils stringescapeutils escape html escapehtml entry get message getmessage entry get status getstatus result status debug message span style color gray message span writer println show status showstatus string escape utils stringescapeutils escape html escapehtml entry get status getstatus to string tostring message exception exception entry get exception getexception exception writer println span style width string escape utils stringescapeutils escape html escapehtml exception to string tostring writer println exception print stack trace printstacktrace writer writer println writer println finished at finishedat execution result executionresult get finished at getfinishedat writer println is today istoday finished at finishedat df short dfshort format finished at finishedat df long dflong format finished at finishedat writer println formatting result log formattingresultlog ms human readable mshumanreadable execution result executionresult get elapsed time in ms getelapsedtimeinms writer println writer println table writer println div help text helptext writer println escaped help text escapedhelptext writer println div writer println body html string writer stringwriter to string tostring string get class for status getclassforstatus result status status status status is single result issingleresult result result count entry entry result count count is today istoday calendar cal calendar get instance getinstance calendar cal calendar get instance getinstance cal set time settime is today istoday cal calendar year cal calendar year cal calendar day year cal calendar day year is today istoday
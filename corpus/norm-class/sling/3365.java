licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling rewriter impl java util arrays java util comparator java util map java util concurrent concurrent hash map concurrenthashmap org apache sling commons osgi osgi util osgiutil org apache sling rewriter generator org apache sling rewriter generator factory generatorfactory org apache sling rewriter processing context processingcontext org apache sling rewriter processor org apache sling rewriter processor configuration processorconfiguration org apache sling rewriter processor factory processorfactory org apache sling rewriter serializer org apache sling rewriter serializer factory serializerfactory org apache sling rewriter transformer org apache sling rewriter transformer factory transformerfactory org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework invalid syntax exception invalidsyntaxexception org osgi framework service reference servicereference org osgi util tracker service tracker servicetracker org slf logger org slf logger factory loggerfactory utility accessing pipeline components acts cache factories factory cache factorycache required property component type string property type pipeline type optional property pipeline mode global string property mode pipeline mode global mode string mode global global optional property paths component apply string property paths pipeline paths optional property extensions component apply string property extensions pipeline extensions optional property content types component apply string property content types pipeline content types contenttypes optional property selectors component apply string property selectors pipeline selectors optional property resource types component apply string property resource types pipeline resource types resourcetypes logger logger logger logger factory loggerfactory get logger getlogger factory cache factorycache tracker generator factories has hing service tracker customizer hashingservicetrackercustomizer generator factory generatorfactory generator tracker generatortracker tracker serialize rs serializers factories has hing service tracker customizer hashingservicetrackercustomizer serializer factory serializerfactory serializer tracker serializertracker tracker transformer factories transformer factory service tracker transformerfactoryservicetracker transformer factory transformerfactory transformer tracker transformertracker tracker processor factories has hing service tracker customizer hashingservicetrackercustomizer processor factory processorfactory processor tracker processortracker factory cache factorycache bundle context bundlecontext context invalid syntax exception invalidsyntaxexception generator tracker generatortracker has hing service tracker customizer hashingservicetrackercustomizer generator factory generatorfactory context generator factory generatorfactory get name getname serializer tracker serializertracker has hing service tracker customizer hashingservicetrackercustomizer serializer factory serializerfactory context serializer factory serializerfactory get name getname transformer tracker transformertracker transformer factory service tracker transformerfactoryservicetracker transformer factory transformerfactory context transformer factory transformerfactory get name getname processor tracker processortracker has hing service tracker customizer hashingservicetrackercustomizer processor factory processorfactory context processor factory processorfactory get name getname start tracking start generator tracker generatortracker open serializer tracker serializertracker open transformer tracker transformertracker open processor tracker processortracker open tracking generator tracker generatortracker close serializer tracker serializertracker close transformer tracker transformertracker close processor tracker processortracker close generator type param type generator type generator generator generator get generator getgenerator string type generator factory generatorfactory factory generator tracker generatortracker get factory getfactory type factory logger debug requested generator factory type type factory create generator creategenerator serializer type param type serializer type serializer serializer serializer get serializer getserializer string type serializer factory serializerfactory factory serializer tracker serializertracker get factory getfactory type factory logger debug requested serializer factory type type factory create serializer createserializer transformer type param type transformer type transformer transformer transformer get transformer gettransformer string type transformer factory transformerfactory factory transformer tracker transformertracker get factory getfactory type factory logger debug requested transformer factory type type factory create transformer createtransformer processor type param type processor type processor processor processor get processor getprocessor string type processor factory processorfactory factory processor tracker processortracker get factory getfactory type factory logger debug requested processor factory type type factory create processor createprocessor transformer empty array transformer transformer empty array transformer empty array empty array lookup global transformers apply current request transformer instances arrays array pre transformers post transformers param context current processing context transformer get global transformers getglobaltransformers processing context processingcontext context transformer factory transformerfactory factories transformer tracker transformertracker get global transformer factories getglobaltransformerfactories context create transformers createtransformers factories create instances factories param factories transformer factories transformer instances transformer create transformers createtransformers transformer factory transformerfactory factories factories empty array factory cache factorycache empty array transformer transformers transformer array index arrayindex array index arrayindex array index arrayindex count factories array index arrayindex length transformer factory transformerfactory factory factories array index arrayindex factory count count transformers array index arrayindex factory cache factorycache empty array transformers array index arrayindex transformer count factories array index arrayindex length transformer factory transformerfactory factory factories array index arrayindex factory transformers array index arrayindex factory create transformer createtransformer transformers service tracker stores services hash map has hing service tracker customizer hashingservicetrackercustomizer service tracker servicetracker services has hed hashed property map string services concurrent hash map concurrenthashmap string bundle context bundle context bundlecontext context has hing service tracker customizer hashingservicetrackercustomizer bundle context bundlecontext string service class name serviceclassname service class name serviceclassname context get factory getfactory string type services type string get type gettype service reference servicereference string type string get property getproperty property type type org osgi util tracker service tracker customizer servicetrackercustomizer adding service addingservice org osgi framework service reference servicereference object adding service addingservice service reference servicereference reference string type get type gettype reference suppress warnings suppresswarnings unchecked factory type context get service getservice reference factory logger is debug enabled isdebugenabled logger debug service type factory type services type factory factory org osgi util tracker service tracker customizer servicetrackercustomizer removed service removedservice org osgi framework service reference servicereference java lang object removed service removedservice service reference servicereference reference object service string type get type gettype reference type services remove type context unget service ungetservice reference transformer factory service tracker transformerfactoryservicetracker has hing service tracker customizer hashingservicetrackercustomizer string get mode getmode service reference servicereference string mode string get property getproperty property mode mode is global isglobal service reference servicereference mode global equals ignore case equalsignorecase get mode getmode transformer factory entry transformerfactoryentry empty entry array transformer factory entry transformerfactoryentry transformer factory entry transformerfactoryentry empty entry array transformer factory entry transformerfactoryentry empty entry array empty entry array transformer factory transformerfactory empty factory array transformer factory transformerfactory transformer factory transformerfactory empty factory array transformer factory transformerfactory empty factory array empty factory array transformer factory entry transformerfactoryentry cached empty entry array flag cache cache is valid cacheisvalid transformer factory service tracker transformerfactoryservicetracker bundle context bundlecontext string service class name serviceclassname service class name serviceclassname org osgi util tracker service tracker servicetracker adding service addingservice org osgi framework service reference servicereference object adding service addingservice service reference servicereference reference is global isglobal is global isglobal reference is global isglobal cache is valid cacheisvalid object obj adding service addingservice reference obj is global isglobal obj context get service getservice reference obj org osgi util tracker service tracker servicetracker removed service removedservice org osgi framework service reference servicereference java lang object removed service removedservice service reference servicereference reference object service is global isglobal reference cache is valid cacheisvalid removed service removedservice reference service global transformer factories arrays transformer factories transformer factory entry transformerfactoryentry get global transformer factory entries getglobaltransformerfactoryentries cache is valid cacheisvalid cache is valid cacheisvalid service reference servicereference get service references getservicereferences length cached empty entry array arrays sort service reference comparator servicereferencecomparator instance pre count precount post count postcount service reference servicereference is global isglobal object get property getproperty constants service ranking ranking integer integer ranking pre count precount post count postcount transformer factory entry transformerfactoryentry global factories globalfactories transformer factory entry transformerfactoryentry pre count precount global factories globalfactories empty entry array global factories globalfactories transformer factory entry transformerfactoryentry pre count precount post count postcount global factories globalfactories empty entry array global factories globalfactories transformer factory entry transformerfactoryentry post count postcount service reference servicereference is global isglobal pre count precount global factories globalfactories transformer factory entry transformerfactoryentry transformer factory transformerfactory get service getservice global factories globalfactories pre count precount transformer factory entry transformerfactoryentry transformer factory transformerfactory get service getservice cached global factories globalfactories cache is valid cacheisvalid cached global transformer factories apply current request param context current processing context arrays transformer factories transformer factory transformerfactory get global transformer factories getglobaltransformerfactories processing context processingcontext context transformer factory entry transformerfactoryentry global factory entries globalfactoryentries get global transformer factory entries getglobaltransformerfactoryentries quick check global factory entries globalfactoryentries empty entry array empty factory array transformer factory transformerfactory factories transformer factory transformerfactory global factory entries globalfactoryentries empty entry array factories empty factory array factories transformer factory transformerfactory global factory entries globalfactoryentries length global factory entries globalfactoryentries length transformer factory entry transformerfactoryentry entry global factory entries globalfactoryentries entry match context factories entry factory factories comparator service references service reference comparator servicereferencecomparator comparator service reference servicereference service reference comparator servicereferencecomparator instance service reference comparator servicereferencecomparator compare service reference servicereference service reference servicereference compare to compareto transformer factory entry transformerfactoryentry transformer factory transformerfactory factory processor configuration processorconfiguration configuration transformer factory entry transformerfactoryentry transformer factory transformerfactory factory service reference servicereference factory factory string paths osgi util osgiutil to string array tostringarray get property getproperty property paths string extensions osgi util osgiutil to string array tostringarray get property getproperty property extensions string content types contenttypes osgi util osgiutil to string array tostringarray get property getproperty property content types string resource types resourcetypes osgi util osgiutil to string array tostringarray get property getproperty property resource types string selectors osgi util osgiutil to string array tostringarray get property getproperty property selectors no check required nocheckrequired paths paths length extensions extensions length content types contenttypes content types contenttypes length resource types resourcetypes resource types resourcetypes length selectors selectors length no check required nocheckrequired configuration processor configuration impl processorconfigurationimpl content types contenttypes paths extensions resource types resourcetypes selectors configuration match processing context processingcontext context configuration configuration match context
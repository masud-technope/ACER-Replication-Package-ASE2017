licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons cache infinispan org ops pax exam core options coreoptions maven bundle mavenbundle org ops pax exam core options coreoptions options org ops pax exam core options coreoptions provision javax inject inject org apache sling commons cache api cache org apache sling commons cache api cache manager service cachemanagerservice org apache sling commons cache api cache scope cachescope org apache sling test abstractosgirunner org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit exam reactor strategy examreactorstrategy org ops pax exam junit j unit junit test runner testrunner org ops pax exam spi reactors e age r single stage d reactor factory eagersinglestagedreactorfactory org osgi framework bundle context bundlecontext spi n spin cache container verify working system run with runwith j unit junit test runner testrunner spi n spin container exam reactor strategy examreactorstrategy e age r single stage d reactor factory eagersinglestagedreactorfactory cacheit abstractosgirunner inject cache manager service cachemanagerservice cache manager service cachemanagerservice inject bundle context bundlecontext bundle context bundlecontext override string get imports getimports org apache sling commons cache api javax transaction javax transaction override option get options getoptions check options provision inf ini span infinispan transaction api maven bundle mavenbundle org apache geronimo specs geronimo jta spec maven bundle mavenbundle org apache sling org apache sling commons cache api override string get artifact name getartifactname org apache sling commons cache infinispan test test cache manager replicated testcachemanagerreplicated check string cache name cachename string cache replicated assert not null assertnotnull cache manager service cachemanagerservice cache string cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope clusterreplicated assert not null assertnotnull string cache name cachename string value of valueof system current time millis currenttimemillis key assert equals assertequals key cache manager service cachemanagerservice unbind cache scope cachescope clusterreplicated cache manager service cachemanagerservice unbind cache scope cachescope clusterinvalidated cache manager service cachemanagerservice unbind cache scope cachescope instance cache manager service cachemanagerservice unbind cache scope cachescope request cache manager service cachemanagerservice unbind cache scope cachescope thread cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope clusterreplicated assert not null assertnotnull assert equals assertequals key test test cache manager invalid ated testcachemanagerinvalidated string cache name cachename string cache invalid ated invalidated assert not null assertnotnull cache manager service cachemanagerservice cache string cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope clusterinvalidated assert not null assertnotnull string cache name cachename string value of valueof system current time millis currenttimemillis key assert equals assertequals key cache manager service cachemanagerservice unbind cache scope cachescope clusterreplicated cache manager service cachemanagerservice unbind cache scope cachescope clusterinvalidated cache manager service cachemanagerservice unbind cache scope cachescope instance cache manager service cachemanagerservice unbind cache scope cachescope request cache manager service cachemanagerservice unbind cache scope cachescope thread cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope clusterinvalidated assert not null assertnotnull assert equals assertequals key test test cache manager instance testcachemanagerinstance string cache name cachename string cache instance assert not null assertnotnull cache manager service cachemanagerservice cache string cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope instance assert not null assertnotnull string cache name cachename string value of valueof system current time millis currenttimemillis key assert equals assertequals key cache manager service cachemanagerservice unbind cache scope cachescope clusterreplicated cache manager service cachemanagerservice unbind cache scope cachescope clusterinvalidated cache manager service cachemanagerservice unbind cache scope cachescope instance cache manager service cachemanagerservice unbind cache scope cachescope request cache manager service cachemanagerservice unbind cache scope cachescope thread cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope instance assert not null assertnotnull assert equals assertequals key test test cache manager request testcachemanagerrequest string cache name cachename string cache request assert not null assertnotnull cache manager service cachemanagerservice cache string cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope request assert not null assertnotnull string cache name cachename string value of valueof system current time millis currenttimemillis key assert equals assertequals key cache manager service cachemanagerservice unbind cache scope cachescope clusterreplicated cache manager service cachemanagerservice unbind cache scope cachescope clusterinvalidated cache manager service cachemanagerservice unbind cache scope cachescope instance cache manager service cachemanagerservice unbind cache scope cachescope request cache manager service cachemanagerservice unbind cache scope cachescope thread cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope request assert not null assertnotnull assert null assertnull key test test cache manager thread testcachemanagerthread string cache name cachename string cache thread assert not null assertnotnull cache manager service cachemanagerservice cache string cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope thread assert not null assertnotnull string cache name cachename string value of valueof system current time millis currenttimemillis key assert equals assertequals key cache manager service cachemanagerservice unbind cache scope cachescope clusterreplicated cache manager service cachemanagerservice unbind cache scope cachescope clusterinvalidated cache manager service cachemanagerservice unbind cache scope cachescope instance cache manager service cachemanagerservice unbind cache scope cachescope request cache manager service cachemanagerservice unbind cache scope cachescope thread cache manager service cachemanagerservice get cache getcache cache name cachename cache scope cachescope thread assert not null assertnotnull assert null assertnull key
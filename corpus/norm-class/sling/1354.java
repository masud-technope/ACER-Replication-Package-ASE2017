licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling samples impl org junit assert equals assertequals java util dictionary java util hashtable org apache sling util formatting result log formattingresultlog org junit test org mockito mockito org osgi framework bundle org osgi framework bundle context bundlecontext org osgi framework constants osgi script bindings provider test osgiscriptbindingsprovidertest bundle mock bundle mockbundle is fragment isfragment is active isactive bundle mockito mock bundle mockito get state getstate then return thenreturn is active isactive bundle active bundle resolved dictionary string string headers hashtable string string is fragment isfragment headers constants fragment host foo mockito get headers getheaders then return thenreturn headers test test inactive bundles testinactivebundles exception bundle context bundlecontext ctx mockito mock bundle context bundlecontext bundle bundles mock bundle mockbundle mock bundle mockbundle mock bundle mockbundle mock bundle mockbundle mockito ctx get bundles getbundles then return thenreturn bundles formatting result log formattingresultlog result log resultlog formatting result log formattingresultlog osgi script bindings provider osgiscriptbindingsprovider osgi binding osgibinding osgi script bindings provider osgiscriptbindingsprovider osgi binding osgibinding ctx result log resultlog assert equals assertequals inactive bundles count inactivebundlescount
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling samples impl java util map java util concurrent atomic atomic integer atomicinteger org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations deactivate org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org apache sling api health check healthcheck org apache sling api result org apache sling util formatting result log formattingresultlog org slf logger org slf logger factory loggerfactory counter persist service bundle active component configuration factory configurationfactory policy configuration policy configurationpolicy require metatype properties property health check healthcheck property health check healthcheck tags unbounded property unbounded propertyunbounded array property health check healthcheck mbean service health check healthcheck slow health check sample slowhealthchecksample health check healthcheck logger log logger factory loggerfactory get logger getlogger get class getclass atomic integer atomicinteger counter atomic integer atomicinteger min execution time minexecutiontime max execution time maxexecutiontime property label minimum execution time description shortest execution time milliseconds int value intvalue slow health check sample slowhealthchecksample min exec time string prop min exec time execution time min msec min exec time property label maximum execution time description longest execution time milliseconds int value intvalue slow health check sample slowhealthchecksample max exec time string prop max exec time execution time max msec max exec time override string to string tostring get class getclass get simple name getsimplename execution time min execution time minexecutiontime max execution time maxexecutiontime msec activate activate map string object config min execution time minexecutiontime properties util propertiesutil to integer tointeger config prop min exec time min exec time max execution time maxexecutiontime properties util propertiesutil to integer tointeger config prop max exec time max exec time log debug activated deactivate deactivate map string object config log debug deactivated override result execute formatting result log formattingresultlog result log resultlog formatting result log formattingresultlog random delay randomdelay math random max execution time maxexecutiontime min execution time minexecutiontime to sleep tosleep min execution time minexecutiontime random delay randomdelay result log resultlog debug exec uting executing msec to sleep tosleep thread sleep to sleep tosleep interrupted exception interruptedexception iex result log resultlog warn execution iex get class getclass get simple name getsimplename string exec msg execmsg executing execution counter counter increment and get incrementandget result log resultlog debug exec msg execmsg log debug exec msg execmsg result result log resultlog
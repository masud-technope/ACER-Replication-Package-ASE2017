licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling maven project support projectsupport java file java file output stream fileoutputstream java io exception ioexception org apache maven plugin mojo execution exception mojoexecutionexception org apache maven plugin mojo failure exception mojofailureexception org apache maven plugins annotations lifecycle p has e lifecyclephase org apache maven plugins annotations mojo org apache maven plugins annotations parameter org apache maven plugins annotations resolution scope resolutionscope org apache sling maven project support projectsupport bundle list bundlelist bundle org apache sling maven project support projectsupport bundle list bundlelist bundle list bundlelist org apache sling maven project support projectsupport bundle list bundlelist start level startlevel org jdom document org jdom element org jdom output format org jdom output xml o utputter xmloutputter create attach karaf feature descriptor xml file mojo create karaf descriptor default p has e defaultphase lifecycle p has e lifecyclephase requires dependency resolution requiresdependencyresolution resolution scope resolutionscope test create karaf feature descriptor mojo createkaraffeaturedescriptormojo abstract using bundle list mojo abstractusingbundlelistmojo string class ifier classifier features string type xml parameter default value defaultvalue sling string feature name featurename parameter default value defaultvalue sling string features name featuresname parameter default value defaultvalue project version string feature version featureversion parameter default value defaultvalue project build directory features xml file output file outputfile override execute with artifacts executewithartifacts mojo execution exception mojoexecutionexception mojo failure exception mojofailureexception document doc document element features element features doc set root element setrootelement features features set attribute setattribute features name featuresname element feature element feature features add content addcontent feature feature set attribute setattribute feature name featurename feature set attribute setattribute version feature version featureversion bundle list bundlelist bundle list bundlelist get initialized bundle list getinitializedbundlelist start level startlevel level bundle list bundlelist get start levels getstartlevels bundle bundle level get bundles getbundles string bundle ref bundleref string format mvn bundle get group id getgroupid bundle get artifact id getartifactid bundle get version getversion feature add content addcontent element bundle set text settext bundle ref bundleref file output stream fileoutputstream file output stream fileoutputstream output file outputfile xml o utputter xmloutputter format get pretty format getprettyformat set encoding setencoding utf output doc project helper projecthelper attach artifact attachartifact project type class ifier classifier output file outputfile io exception ioexception mojo execution exception mojoexecutionexception unable write features xml close io exception ioexception
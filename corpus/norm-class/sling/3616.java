licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling event dea impl java util dictionary java util hashtable java util list java util map java util concurrent blocking queue blockingqueue java util concurrent linked blocking queue linkedblockingqueue org apache sling api sling constants slingconstants org apache sling api resource login exception loginexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling api resource value map valuemap org apache sling event dea dea constants deaconstants org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org osgi service event event org osgi service event event admin eventadmin org osgi service event event constants eventconstants org osgi service event event handler eventhandler org slf logger org slf logger factory loggerfactory event handler distributes events application nodes cluster current instance list ening listening resource events resource tree storing distributed events resource resource read converted event send local event admin distributed event sender distributedeventsender event handler eventhandler logger logger logger logger factory loggerfactory get logger getlogger get class getclass background task running running local queue serial izing serializing event processing blocking queue blockingqueue string queue linked blocking queue linkedblockingqueue string resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory event admin eventadmin event admin eventadmin string own root path with slash ownrootpathwithslash service registration serviceregistration service registration serviceregistration distributed event sender distributedeventsender bundle context bundlecontext bundle context bundlecontext string root path rootpath string own root path ownrootpath resource resolver factory resourceresolverfactory rr factory rrfactory event admin eventadmin event admin eventadmin event admin eventadmin event admin eventadmin resource resolver factory resourceresolverfactory rr factory rrfactory own root path with slash ownrootpathwithslash own root path ownrootpath running thread background thread backgroundthread thread runnable override create service registration properties dictionary string object props hashtable string object props constants service vendor apache software foundation listen resource osg i osgi events dea area props event constants eventconstants event topic sling constants slingconstants topic resource props event constants eventconstants event filter path root path rootpath service registration serviceregistration reg bundle context bundlecontext register service registerservice string event handler eventhandler get name getname distributed event sender distributedeventsender props distributed event sender distributedeventsender service registration serviceregistration reg run in background runinbackground throwable nosonar logger error background thread stopped exception get message getmessage running background thread backgroundthread start deactivate component service registration serviceregistration service registration serviceregistration unregister service registration serviceregistration background threads put ting putting empty objects queue running queue interrupted exception interruptedexception ignore exception ignoreexception thread current thread currentthread int errupt interrupt read event resource event object code code event read event readevent resource event resource eventresource value map valuemap resource helper resourcehelper get value map getvaluemap event resource eventresource string topic event constants eventconstants event topic string topic topic happen check resource type logger error unable read distributed event event resource eventresource get path getpath topic property map string object properties resource helper resourcehelper clone value map clonevaluemap send event read errors discard suppress warnings suppresswarnings unchecked list exception read error list readerrorlist list exception properties remove resource helper resourcehelper property marker read error list read error list readerrorlist properties remove event constants eventconstants event topic properties remove dea constants deaconstants property distribute object oldrt properties remove event dea resource resolver resourceresolver property resource type oldrt properties resource resolver resourceresolver property resource type oldrt properties remove resource resolver resourceresolver property resource type event event event topic properties event illegal argument exception illegalargumentexception iae logger error unable read event iae get message getmessage iae exception read error list readerrorlist logger warn unable read distributed event event resource eventresource get path getpath instantiation exception instantiationexception ignore exception ignoreexception background thread run in background runinbackground running wait event queue string path path queue interrupted exception interruptedexception ignore exception ignoreexception thread current thread currentthread int errupt interrupt running path path length running resource resolver resourceresolver resolver resolver resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver resource event resource eventresource resolver get resource getresource path event resource eventresource logger warn run in background runinbackground resource path distributed event admin impl distributedeventadminimpl resource type event equals event resource eventresource get resource type getresourcetype event read event readevent event resource eventresource check event admin processing async event admin eventadmin localea event admin eventadmin localea localea post event postevent logger error unable post event event admin login exception loginexception logger error exception creation resource resolver resolver resolver close org osgi service event event handler eventhandler handle event handleevent org osgi service event event override handle event handleevent event event string path string event get property getproperty sling constants slingconstants property path path starts with startswith own root path with slash ownrootpathwithslash queue path interrupted exception interruptedexception ignore exception ignoreexception thread current thread currentthread int errupt interrupt helper method logs exception debug mode param ignore exception ignoreexception exception logger is debug enabled isdebugenabled logger debug exception get message getmessage
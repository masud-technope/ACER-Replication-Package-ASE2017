licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons json org junit assert equals assertequals org junit assert null assertnull org junit fail java io exception ioexception java string writer stringwriter java writer org apache sling commons json util despaced rendering despacedrendering org apache sling commons json util testjsonobject org junit org junit test test string for matting formatting functionality json object jsonobject json object to string test jsonobjecttostringtest json object jsonobject failing writer failingwriter writer write cbuf len io exception ioexception io exception ioexception write flush io exception ioexception io exception ioexception flush close io exception ioexception io exception ioexception close setup json exception jsonexception testjsonobject test test to string testtostring json exception jsonexception despaced rendering despacedrendering despaced rendering despacedrendering to string tostring expect string this string thisstring this is thisis this is thisis json string jsonstring json string here stringhere array test test to string with indents testtostringwithindents json exception jsonexception despaced rendering despacedrendering despaced rendering despacedrendering to string tostring expect string this string thisstring this is thisis this is thisis json string jsonstring json string here stringhere array test test to string with initial indent testtostringwithinitialindent json exception jsonexception despaced rendering despacedrendering despaced rendering despacedrendering to string tostring expect string this string thisstring this is thisis this is thisis array test test to string empty testtostringempty json exception jsonexception despaced rendering despacedrendering despaced rendering despacedrendering json object jsonobject to string tostring assert exact match assertexactmatch test test to string single testtostringsingle json exception jsonexception json object jsonobject foo bar despaced rendering despacedrendering despaced rendering despacedrendering to string tostring assert exact match assertexactmatch foo bar test testjsonstringexception json exception jsonexception json string jsonstring json string jsonstring override string to string tostring tojsonstring string tojsonstring unsupported operation exception unsupportedoperationexception tojsonstring fail exception to string tostring returns assert null assertnull expecting output to string tostring to string tostring to string tostring ret hrows rethrows assert null assertnull expecting output to string tostring to string tostring fail expected unsupported operation exception unsupportedoperationexception unsupported operation exception unsupportedoperationexception uso test test quote testquote string inp tag string tag assert equals assertequals json object jsonobject quote inp test test quote null testquotenull assert equals assertequals json object jsonobject quote assert equals assertequals json object jsonobject quote test test to json array testtojsonarray json exception jsonexception despaced rendering despacedrendering despaced rendering despacedrendering array tojsonarray names to string tostring expect this string thisstring json string here stringhere test test write json array testwritejsonarray json exception jsonexception json array jsonarray tojsonarray names string writer stringwriter string writer stringwriter write despaced rendering despacedrendering despaced rendering despacedrendering array to string tostring expect this string thisstring json string here stringhere test expected json exception jsonexception test write json array exception testwritejsonarrayexception json exception jsonexception json array jsonarray tojsonarray names write failing writer failingwriter test test write testwrite json exception jsonexception string writer stringwriter string writer stringwriter write despaced rendering despacedrendering despaced rendering despacedrendering to string tostring expect string this string thisstring this is thisis this is thisis json string jsonstring json string here stringhere array test expected json exception jsonexception test write exception testwriteexception json exception jsonexception write failing writer failingwriter
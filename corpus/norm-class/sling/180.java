licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling ide eclipse core internal java input stream inputstream java input stream reader inputstreamreader java util jar manifest org apache commons http client httpclient credentials org apache commons http client httpclient http client httpclient org apache commons http client httpclient http status httpstatus org apache commons http client httpclient username password credentials usernamepasswordcredentials org apache commons http client httpclient auth scope authscope org apache commons http client httpclient methods get method getmethod org apache sling ide eclipse core i sling launchpad server islinglaunchpadserver org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime qualified name qualifiedname org eclipse jdt core i java project ijavaproject org eclipse wst server core i server iserver org json json array jsonarray org json json object jsonobject org json json t okener jsontokener bundle state helper bundlestatehelper qualified name qualifiedname key qualified name qualifiedname org apache sling ide eclipse core internal bundles tatehelper bundlestatehelper object empty object reset bundle state resetbundlestate i server iserver server i project iproject project project set session property setsessionproperty key core exception coreexception print stack trace printstacktrace object get bundle state getbundlestate i server iserver server i project iproject project project object project get session property getsessionproperty key core exception coreexception print stack trace printstacktrace empty server do recalc decoration state dorecalcdecorationstate server project project set session property setsessionproperty key empty string value of valueof core exception coreexception print stack trace printstacktrace object do recalc decoration state dorecalcdecorationstate i server iserver server i project iproject project project helper projecthelper is bundle project isbundleproject project empty i java project ijavaproject java project javaproject project helper projecthelper as java project asjavaproject project string hostname server get host gethost launchpad port launchpadport server get attribute getattribute i sling launchpad server islinglaunchpadserver prop port project exists java project javaproject exists java project empty i path ipath output location outputlocation java project javaproject get output location getoutputlocation output location outputlocation output location outputlocation remove first segments removefirstsegments i path ipath manifest file path manifestfilepath output location outputlocation append meta inf manifest i file ifile manifest file manifestfile project get file getfile manifest file path manifestfilepath string bundle name bundlename manifest file manifestfile exists manifest manifest manifest manifest file manifestfile get contents getcontents bundle name bundlename manifest get main attributes getmainattributes get value getvalue bundle symbolic name symbolicname string group id groupid project helper projecthelper get maven property getmavenproperty project group id groupid string artifact id artifactid project helper projecthelper get maven property getmavenproperty project artifact id artifactid group id groupid group id groupid is empty isempty bundle name bundlename artifact id artifactid bundle name bundlename group id groupid artifact id artifactid string username server get attribute getattribute i sling launchpad server islinglaunchpadserver prop user name username admin string password server get attribute getattribute i sling launchpad server islinglaunchpadserver prop password admin get method getmethod method get method getmethod http hostname launchpad port launchpadport system console bundles bundle name bundlename json result code resultcode get http client gethttpclient username password execute method executemethod method result code resultcode http status httpstatus result code resultcode input stream inputstream input method get response body as stream getresponsebodyasstream json object jsonobject result json object jsonobject json t okener jsontokener input stream reader inputstreamreader input json array jsonarray data array dataarray json array jsonarray result data json object jsonobject first element firstelement json object jsonobject data array dataarray first element firstelement exception print stack trace printstacktrace get message getmessage http client httpclient get http client gethttpclient string user string password http client httpclient client http client httpclient client get http connection manager gethttpconnectionmanager get params getparams set connection timeout setconnectiontimeout authentication stuff client get params getparams set authentication preemptive setauthenticationpreemptive credentials default creds defaultcreds username password credentials usernamepasswordcredentials user password client get state getstate set credentials setcredentials auth scope authscope default creds defaultcreds client
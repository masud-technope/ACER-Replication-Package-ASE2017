licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler java util list java util array list arraylist represents file mappings jsr stratum author jayson falkner author shawn bayern smap stratum smapstratum represents single line section linesection smap stratum line info lineinfo input start line inputstartline output start line outputstartline line file d linefileid input line count inputlinecount output line increment outputlineincrement linefileidset sets input start line inputstartline set input start line setinputstartline input start line inputstartline input start line inputstartline illegal argument exception illegalargumentexception input start line inputstartline input start line inputstartline input start line inputstartline sets output start line outputstartline set output start line setoutputstartline output start line outputstartline output start line outputstartline illegal argument exception illegalargumentexception output start line outputstartline output start line outputstartline output start line outputstartline sets line file d linefileid called prior line info lineinfo object context current line info lineinfo logical predecessor line info lineinfo print file number matter set line file d setlinefileid line file d linefileid line file d linefileid illegal argument exception illegalargumentexception line file d linefileid line file d linefileid line file d linefileid linefileidset sets input line count inputlinecount set input line count setinputlinecount input line count inputlinecount input line count inputlinecount illegal argument exception illegalargumentexception input line count inputlinecount input line count inputlinecount input line count inputlinecount sets output line increment outputlineincrement set output line increment setoutputlineincrement output line increment outputlineincrement output line increment outputlineincrement illegal argument exception illegalargumentexception output line increment outputlineincrement output line increment outputlineincrement output line increment outputlineincrement retrieves current line info lineinfo string print values line info d lineinfoid necessity sensitive context string get string getstring input start line inputstartline output start line outputstartline illegal state exception illegalstateexception string buffer stringbuffer string buffer stringbuffer append input start line inputstartline linefileidset append line file d linefileid input line count inputlinecount append input line count inputlinecount append output start line outputstartline output line increment outputlineincrement append output line increment outputlineincrement append to string tostring string to string tostring get string getstring string stratum name stratumname list file name list filenamelist list file path list filepathlist list line data linedata last file d lastfileid constructs smap stratum smapstratum object stratum jsp param stratum name stratumname stratum jsp smap stratum smapstratum string stratum name stratumname stratum name stratumname stratum name stratumname file name list filenamelist array list arraylist file path list filepathlist array list arraylist line data linedata array list arraylist last file d lastfileid methods add mapping adds record file filename param filename filename add unqualified path add file addfile string filename add file addfile filename filename adds record file filename path path relative source compilation path param filename filename add unqualified path param file path filepath path filename relative source compilation path add file addfile string filename string file path filepath path index pathindex file path list filepathlist index of indexof file path filepath path index pathindex file name list filenamelist add filename file path list filepathlist add file path filepath combines consecutive line infos lineinfos optimize line section optimizelinesection debug ging debugging code line data linedata size line info lineinfo line info lineinfo line data linedata system print to string tostring inc orporate incorporate line info lineinfo previous line info lineinfo output line increment outputlineincrement line data linedata size line info lineinfo line info lineinfo line data linedata line info lineinfo li next linext line info lineinfo line data linedata li next linext linefileidset li next linext input start line inputstartline input start line inputstartline li next linext input line count inputlinecount input line count inputlinecount li next linext output start line outputstartline output start line outputstartline input line count inputlinecount output line increment outputlineincrement set output line increment setoutputlineincrement li next linext output start line outputstartline output start line outputstartline li next linext output line increment outputlineincrement line data linedata remove inc orporate incorporate line info lineinfo previous line info lineinfo input line count inputlinecount line data linedata size line info lineinfo line info lineinfo line data linedata line info lineinfo li next linext line info lineinfo line data linedata li next linext linefileidset li next linext input start line inputstartline input start line inputstartline input line count inputlinecount li next linext output line increment outputlineincrement output line increment outputlineincrement li next linext output start line outputstartline output start line outputstartline input line count inputlinecount output line increment outputlineincrement set input line count setinputlinecount input line count inputlinecount li next linext input line count inputlinecount line data linedata remove adds complete simple mapping fields method machinery takes care printin g printing smap view fields optional spatial efficiency program mer programmer convenience add utility methods param input start line inputstartline starting source file smap input start line inputstartline param input file name inputfilename file path filepath input yields smap line file d linefileid unqualified names care fully carefully uniquely identify file param input line count inputlinecount number lines input map smap line file count linefilecount param output start line outputstartline starting output file smap output start line outputstartline param output line increment outputlineincrement number output lines map input smap output line increment outputlineincrement fact starts output cont inuously continuously sub cons cious subconscious urge call field output line exc rement outputlineexcrement add line data addlinedata input start line inputstartline string input file name inputfilename input line count inputlinecount output start line outputstartline output line increment outputlineincrement check input file index fileindex file path list filepathlist index of indexof input file name inputfilename file index fileindex illegal argument exception illegalargumentexception input file name inputfilename input file name inputfilename smap ping smapping problem simply ignore flawed smap entries output start line outputstartline build line info lineinfo line info lineinfo line info lineinfo set input start line setinputstartline input start line inputstartline set input line count setinputlinecount input line count inputlinecount set output start line setoutputstartline output start line outputstartline set output line increment setoutputlineincrement output line increment outputlineincrement file index fileindex last file d lastfileid set line file d setlinefileid file index fileindex last file d lastfileid file index fileindex save line data linedata add methods retrieve returns stratum string get stratum name getstratumname stratum name stratumname returns stratum string stratum section stratumsection file section filesection line section linesection string get string getstring check initialize buffer file name list filenamelist size line data linedata size string buffer stringbuffer string buffer stringbuffer print stratum section stratumsection append stratum name stratumname print file section filesection append bound file name list filenamelist size bound file path list filepathlist append file name list filenamelist source paths relative absolute remove leading exists string file path filepath string file path list filepathlist file path filepath starts with startswith file path filepath file path filepath substring append file path filepath append file name list filenamelist print line section linesection append bound line data linedata size bound line info lineinfo line info lineinfo line data linedata append get string getstring to string tostring string to string tostring get string getstring
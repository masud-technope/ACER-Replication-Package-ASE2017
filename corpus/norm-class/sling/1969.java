licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery oak java net malformedurlexception java net url java util linked list linkedlist java util list java util map org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations property org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org apache sling discovery base connectors base config baseconfig org apache sling discovery commons providers spi base discovery lite config discoveryliteconfig org slf logger org slf logger factory loggerfactory configuration object central config point discovery service implementation properties component metatype label config description config description service config base config baseconfig discovery lite config discoveryliteconfig config base config baseconfig discovery lite config discoveryliteconfig logger logger logger factory loggerfactory get logger getlogger get class getclass resource instance heartbeat properties incoming announcements string cluster instances clusterinstances resource cluster instances clusterinstances resource store sync tokens topology change string sync token resource sync tokens synctokens resource store cluster node ids clusternodeids sling ids slingids map string map resource id map idmap configure timeout seconds instance considered dead crashed topology connector timeout property long value longvalue topology connector timeout string topology connector timeout key connector ping timeout connectorpingtimeout connector ping timeout connectorpingtimeout topology connector timeout configure int erval interval seconds heartbeats exc hanged exchanged topology topology connector interval property long value longvalue topology connector interval string topology connector interval key connector ping interval connectorpinginterval connector ping interval connectorpinginterval topology connector interval configure int erval interval seconds heartbeats exc hanged exchanged topology discovery lite check interval property long value longvalue discovery lite check interval string discovery lite check interval key discovery lite check interval discoverylitecheckinterval discovery lite check interval discoverylitecheckinterval discovery lite check interval cluster sync service timeout property long value longvalue cluster sync service timeout string cluster sync service timeout key cluster sync service timeout clustersyncservicetimeout cluster sync service timeout clustersyncservicetimeout cluster sync service timeout cluster sync service interval property long value longvalue cluster sync service interval string cluster sync service interval key cluster sync service interval clustersyncserviceinterval cluster sync service interval clustersyncserviceinterval cluster sync service interval sync token synctoken top waiting deactivating instances fully processed deactivating instances waited fully processed property bool value boolvalue string sync token enabled enable sync token enablesynctoken configure time seconds passed minimum sending topology changing changed avoid flooding min event delay property int value intvalue min event delay string min event delay key min event delay mineventdelay min event delay mineventdelay min event delay configure socket connect timeout topology connectors socket connect timeout property int value intvalue socket connect timeout string socket connect timeout key socket connect timeout socketconnecttimeout socket connect timeout socketconnecttimeout socket connect timeout configure socket read timeout timeout topology connectors timeout property int value intvalue timeout string timeout key so timeout sotimeout so timeout sotimeout timeout ur ls urls join topology http localhost libs sling topology connector property cardinality string topology connector urls key topology connector urls topologyconnectorurls url topology connector urls topologyconnectorurls list ips host names hostnames allowed connect libs sling topology connector string topology connector whitelist localhost property localhost string topology connector whitelist key topology connector whitelist topologyconnectorwhitelist string topology connector whitelist topologyconnectorwhitelist topology connector whitelist path resource discovery discovery oak string discovery resource path discovery oak property discovery resource path property private propertyprivate string discovery resource path key discovery resource path discoveryresourcepath string discovery resource path discoveryresourcepath discovery resource path local loops topology connectors automatically stopped detected property bool value boolvalue string auto local loop enabled auto stop local loop enabled autostoplocalloopenabled request body gzipped works counter accepts gzip requests property bool value boolvalue string gzip connector requests enabled gzip connector requests enabled gzipconnectorrequestsenabled hmac enabled white list disabled property bool value boolvalue string hmac enabled hmac enabled hmacenabled whitelist disabled messages encrypted property bool value boolvalue string encryption enabled enable enc ryption enableencryption shared key shared instances cluster property string shared key shared key sharedkey lifetime hmac shared key shared key interval property long value longvalue shared key interval string shared key interval hmac shared key l hmacsharedkeyttl property defining backoff factor standby loop connectors property string backoff standby factor backoff standby factor backoffstandbyfactor backoff standby factor property defining maximum backoff factor stable connectors property string backoff stable factor backoff stable factor backoffstablefactor backoff stable factor auto local loop enabled auto stop local loop enabled autostoplocalloopenabled hmac enabled sig ning signing disabled hmac enabled hmacenabled shared key string shared key sharedkey key int erval interval key interval keyinterval encryption enabled encryption enabled encryptionenabled topology connector requests gzipped gzip connector requests enabled gzipconnectorrequestsenabled backoff factor standby loop connectors backoff standby factor backoffstandbyfactor backoff standby factor maximum backoff factor stable connectors backoff stable factor backoffstablefactor backoff stable factor top waiting deactivating instances sync token synctoken sync token enabled synctokenenabled activate activate map string object properties logger debug activate config activated configure properties configure map string object properties connector ping timeout connectorpingtimeout properties util propertiesutil to long tolong properties topology connector timeout key topology connector timeout logger debug configure connector ping timeout connectorpingtimeout connector ping timeout connectorpingtimeout connector ping interval connectorpinginterval properties util propertiesutil to long tolong properties topology connector interval key topology connector interval logger debug configure connector ping interval connectorpinginterval connector ping interval connectorpinginterval discovery lite check interval discoverylitecheckinterval properties util propertiesutil to long tolong properties discovery lite check interval key discovery lite check interval logger debug configure discovery lite check interval discoverylitecheckinterval discovery lite check interval discoverylitecheckinterval cluster sync service timeout clustersyncservicetimeout properties util propertiesutil to long tolong properties cluster sync service timeout key cluster sync service timeout logger debug configure cluster sync service timeout clustersyncservicetimeout cluster sync service timeout clustersyncservicetimeout cluster sync service interval clustersyncserviceinterval properties util propertiesutil to long tolong properties cluster sync service interval key cluster sync service timeout logger debug configure cluster sync service interval clustersyncserviceinterval cluster sync service interval clustersyncserviceinterval min event delay mineventdelay properties util propertiesutil to integer tointeger properties min event delay key min event delay logger debug configure min event delay mineventdelay min event delay mineventdelay socket connect timeout socketconnecttimeout properties util propertiesutil to integer tointeger properties socket connect timeout key socket connect timeout logger debug configure socket connect timeout socketconnecttimeout socket connect timeout socketconnecttimeout so timeout sotimeout properties util propertiesutil to integer tointeger properties timeout key timeout logger debug configure so timeout sotimeout so timeout sotimeout string topology connector urls str topologyconnectorurlsstr properties util propertiesutil to string array tostringarray properties topology connector urls key topology connector urls str topologyconnectorurlsstr topology connector urls str topologyconnectorurlsstr length list url urls linked list linkedlist url topology connector urls str topologyconnectorurlsstr length string an url str anurlstr topology connector urls str topologyconnectorurlsstr an url str anurlstr an url str anurlstr length url url url an url str anurlstr logger debug configure topology connector b url topologyconnectorburl url urls add url malformedurlexception logger error configure topology connector url topologyconnectorurl urls size topology connector urls topologyconnectorurls urls to array toarray url urls size logger debug configure number topology connector urls topologyconnectorurls urls size topology connector urls topologyconnectorurls logger debug configure valid topology connector urls topologyconnectorurls configured topology connector urls topologyconnectorurls logger debug configure valid topology connector urls topologyconnectorurls configured topology connector whitelist topologyconnectorwhitelist properties util propertiesutil to string array tostringarray properties topology connector whitelist key topology connector whitelist logger debug configure topology connector whitelist topologyconnectorwhitelist topology connector whitelist topologyconnectorwhitelist discovery resource path discoveryresourcepath properties util propertiesutil to string tostring properties discovery resource path key discovery resource path discoveryresourcepath ends with endswith discovery resource path discoveryresourcepath discovery resource path discoveryresourcepath substring discovery resource path discoveryresourcepath length discovery resource path discoveryresourcepath discovery resource path discoveryresourcepath discovery resource path discoveryresourcepath discovery resource path discoveryresourcepath length path empty discovery resource path discoveryresourcepath discovery resource path logger debug configure discovery resource path discoveryresourcepath discovery resource path discoveryresourcepath auto stop local loop enabled autostoplocalloopenabled properties util propertiesutil to boolean toboolean properties auto local loop enabled gzip connector requests enabled gzipconnectorrequestsenabled properties util propertiesutil to boolean toboolean properties gzip connector requests enabled hmac enabled hmacenabled properties util propertiesutil to boolean toboolean properties hmac enabled encryption enabled encryptionenabled properties util propertiesutil to boolean toboolean properties encryption enabled sync token enabled synctokenenabled properties util propertiesutil to boolean toboolean properties sync token enabled shared key sharedkey properties util propertiesutil to string tostring properties shared key key interval keyinterval properties util propertiesutil to long tolong shared key interval shared key interval backoff standby factor backoffstandbyfactor properties util propertiesutil to integer tointeger properties backoff standby factor backoff standby factor backoff stable factor backoffstablefactor properties util propertiesutil to integer tointeger properties backoff stable factor backoff stable factor returns socket connect timeout topology connector disables timeout socket connect timeout topology connector disables timeout get socket connect timeout getsocketconnecttimeout socket connect timeout socketconnecttimeout returns socket read timeout timeout topology connector disables timeout socket read timeout timeout topology connector disables timeout get so timeout getsotimeout so timeout sotimeout returns minimum time seconds sending topology changing changed events avoid flooding minimum time seconds sending topology changing changed events avoid flooding get min event delay getmineventdelay min event delay mineventdelay returns ur ls urls open topology connector empty topology connector configured ur ls urls open topology connector empty topology connector configured url get topology connector ls gettopologyconnectorurls topology connector urls topologyconnectorurls returns comma separated list host names hostnames add res ses addresses allowed remote hosts open connections topology connector servlet comma separated list host names hostnames add res ses addresses allowed remote hosts open connections topology connector servlet string get topology connector whitelist gettopologyconnectorwhitelist topology connector whitelist topologyconnectorwhitelist string get discovery resource path getdiscoveryresourcepath discovery resource path discoveryresourcepath returns resource path cluster instance info rmations informations stored resource path cluster instance info rmations informations stored string get cluster instances path getclusterinstancespath get discovery resource path getdiscoveryresourcepath cluster instances clusterinstances resource override string get sync token path getsynctokenpath get discovery resource path getdiscoveryresourcepath sync token resource override string get id map path getidmappath get discovery resource path getdiscoveryresourcepath map resource hmac enabled is hmac enabled ishmacenabled hmac enabled hmacenabled shared key string get shared key getsharedkey shared key sharedkey int erval interval shared key hmac get key interval getkeyinterval key interval keyinterval encryption enabled is enc ryption enabled isencryptionenabled encryption enabled encryptionenabled requests topology connector gzipped works server accepts discovery impl is gzip connector requests enabled isgzipconnectorrequestsenabled gzip connector requests enabled gzipconnectorrequestsenabled auto stop ping stopping local loop topology connectors enabled is auto stop local loop enabled isautostoplocalloopenabled auto stop local loop enabled autostoplocalloopenabled returns backoff factor standby loop connectors backoff factor standby loop connectors get backoff standby factor getbackoffstandbyfactor backoff standby factor backoffstandbyfactor returns maximum backoff factor stable connectors maximum backoff factor stable connectors get backoff stable factor getbackoffstablefactor backoff stable factor backoffstablefactor returns backoff int erval interval standby loop connectors seconds backoff int erval interval standby loop connectors seconds get backoff standby interval getbackoffstandbyinterval factor get backoff standby factor getbackoffstandbyfactor factor factor get connector ping interval getconnectorpinginterval override get connector ping interval getconnectorpinginterval connector ping interval connectorpinginterval override get connector ping timeout getconnectorpingtimeout connector ping timeout connectorpingtimeout get discovery lite check interval getdiscoverylitecheckinterval discovery lite check interval discoverylitecheckinterval override get cluster sync service timeout millis getclustersyncservicetimeoutmillis cluster sync service timeout clustersyncservicetimeout override get cluster sync service interval millis getclustersyncserviceintervalmillis cluster sync service interval clustersyncserviceinterval get sync token enabled getsynctokenenabled sync token enabled synctokenenabled
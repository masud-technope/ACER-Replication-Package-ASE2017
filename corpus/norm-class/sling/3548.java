licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer provider jcr impl java util string tokenizer stringtokenizer javax jcr node javax jcr repository exception repositoryexception javax jcr session code jcr util jcrutil code helper methods bundle jcr util jcrutil string folder node type sling folder creates link javax jcr node node path param session session node creation param absolute path absolutepath absolute node path param node type nodetype creation node node path repository exception repositoryexception exception accessing repository node create path createpath session session string absolute path absolutepath string node type nodetype repository exception repositoryexception node parent node parentnode session get root node getrootnode string relative path relativepath absolute path absolutepath substring parent node parentnode has node hasnode relative path relativepath node node parent node parentnode pos relative path relativepath last index of lastindexof pos string tokenizer stringtokenizer string tokenizer stringtokenizer relative path relativepath substring pos has more tokens hasmoretokens string token next token nexttoken node has node hasnode token node add node addnode token folder node type repository exception repositoryexception node refresh node node get node getnode token relative path relativepath relative path relativepath substring pos node has node hasnode relative path relativepath node add node addnode relative path relativepath node type nodetype node get node getnode relative path relativepath parent node parentnode get node getnode relative path relativepath
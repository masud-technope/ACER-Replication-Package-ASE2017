licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery base setup mock org junit assert false assertfalse org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue java util iterator java util linked list linkedlist java util list org apache sling discovery topology event topologyevent org apache sling discovery topology event topologyevent type org apache sling discovery topology event listener topologyeventlistener org slf logger org slf logger factory loggerfactory asserting topology event listener assertingtopologyeventlistener topology event listener topologyeventlistener logger logger logger factory loggerfactory get logger getlogger get class getclass list topology event asserter topologyeventasserter expected events expectedevents linked list linkedlist topology event asserter topologyeventasserter string debug info debuginfo string error msg errormsg asserting topology event listener assertingtopologyeventlistener asserting topology event listener assertingtopologyeventlistener string debug info debuginfo debug info debuginfo debug info debuginfo override string to string tostring to string tostring debug info debuginfo debug info debuginfo list topology event topologyevent events linked list linkedlist topology event topologyevent list topology event topologyevent unexpected events unexpectedevents linked list linkedlist topology event topologyevent handle topology event handletopologyevent topology event topologyevent event string log prefix logprefix handle topology event handletopologyevent debug info debuginfo debug info debuginfo logger info log prefix logprefix event event topology event asserter topologyeventasserter asserter expected events expectedevents expected events expectedevents size unexpected events unexpectedevents add event illegal state exception illegalstateexception expected events event asserter expected events expectedevents remove asserter illegal state exception illegalstateexception occur asserter assert ok assertok event logger info log prefix logprefix event matched expect ations expectations event runtime exception runtimeexception expected events expectedevents unexpected events unexpectedevents add event error expected events expectedevents unexpected events unexpectedevents add event event get type gettype properties changed assert not null assertnotnull event get old view getoldview assert not null assertnotnull event get new view getnewview assert true asserttrue event get new view getnewview is current iscurrent assert false assertfalse event get old view getoldview is current iscurrent topology changed assert not null assertnotnull event get old view getoldview assert not null assertnotnull event get new view getnewview assert true asserttrue event get new view getnewview is current iscurrent assert false assertfalse event get old view getoldview is current iscurrent topology changing assert not null assertnotnull event get old view getoldview assert null assertnull event get new view getnewview assert false assertfalse event get old view getoldview is current iscurrent topology init assert null assertnull event get old view getoldview assert not null assertnotnull event get new view getnewview runtime exception runtimeexception logger error runtime exception runtimeexception assertion error assertionerror logger error assertion error assertionerror events add event list topology event topologyevent get events getevents events add expected addexpected type expected type expectedtype add expected addexpected acc epts part icu lar topology event acceptsparticulartopologyevent expected type expectedtype add expected addexpected topology event asserter topologyeventasserter topology event asserter topologyeventasserter expected events expectedevents add topology event asserter topologyeventasserter get remaining expected count getremainingexpectedcount expected events expectedevents size get unexpected count getunexpectedcount unexpected events unexpectedevents size dump string buffer stringbuffer string buffer stringbuffer unexpected events unexpectedevents size iterator topology event topologyevent unexpected events unexpectedevents iterator has next hasnext topology event topologyevent topology event topologyevent append topology event topologyevent unexpected events unexpectedevents iterator logger info dump events size events unexpected events unexpectedevents size details unexpected list expected events expected events expectedevents size
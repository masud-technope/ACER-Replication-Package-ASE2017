licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock jcr java input stream inputstream java output stream outputstream java util array list arraylist java util list java util map java util regex pattern javax jcr credentials javax jcr item javax jcr item not found exception itemnotfoundexception javax jcr node javax jcr path not found exception pathnotfoundexception javax jcr property javax jcr range iterator rangeiterator javax jcr repository javax jcr repository exception repositoryexception javax jcr session javax jcr value factory valuefactory javax jcr workspace javax jcr ret ention retention retention manager retentionmanager javax jcr security access control manager accesscontrolmanager org apache commons lang string utils stringutils org apache jackrabbit commons iterator range iterator adapter rangeiteratoradapter org apache jackrabbit value factory impl valuefactoryimpl org xml sax content handler contenthandler mock link session implementation instance holds jcr data simple ordered map mock session mocksession session mock repository mockrepository repository workspace workspace map string item data itemdata items string user id userid is live islive mock session mocksession mock repository mockrepository repository map string item data itemdata items string user id userid string workspace name workspacename repository repository workspace mock workspace mockworkspace repository workspace name workspacename items items user id userid user id userid is live islive check live checklive repository exception repositoryexception is live islive repository exception repositoryexception session log ged logged live override value factory valuefactory get value factory getvaluefactory repository exception repositoryexception check live checklive value factory impl valuefactoryimpl get instance getinstance override item get item getitem string abs path abspath repository exception repositoryexception check live checklive item data itemdata item data itemdata get item data getitemdata abs path abspath item data itemdata item data itemdata is node isnode mock node mocknode item data itemdata mock property mockproperty item data itemdata path not found exception pathnotfoundexception string format item abs path abspath override node get node getnode string abs path abspath repository exception repositoryexception check live checklive item item get item getitem abs path abspath item node node item path not found exception pathnotfoundexception string format node abs path abspath override node get node by identifier getnodebyidentifier string repository exception repositoryexception check live checklive item data itemdata item items values item is node isnode string utils stringutils equals item get uuid getuuid mock node mocknode item item not found exception itemnotfoundexception string format node override property get property getproperty string abs path abspath repository exception repositoryexception check live checklive item item get item getitem abs path abspath item property property item path not found exception pathnotfoundexception string format property abs path abspath override node exists nodeexists string abs path abspath repository exception repositoryexception check live checklive item exists itemexists abs path abspath get item data getitemdata abs path abspath is node isnode override property exists propertyexists string abs path abspath repository exception repositoryexception check live checklive item exists itemexists abs path abspath get item data getitemdata abs path abspath is property isproperty override remove item removeitem string abs path abspath repository exception repositoryexception check live checklive remove item with children removeitemwithchildren abs path abspath override node get root node getrootnode repository exception repositoryexception check live checklive get node getnode override node getnodebyuuid string uuid repository exception repositoryexception check live checklive get node by identifier getnodebyidentifier uuid add item param item data itemdata item data add item additem item data itemdata item data itemdata items item data itemdata get path getpath item data itemdata item data itemdata get item data getitemdata string abs path abspath string normalized path normalizedpath resource util resourceutil normalize abs path abspath items normalized path normalizedpath remove item inc l incl children param abs path abspath item path remove item with children removeitemwithchildren string abs path abspath repository exception repositoryexception item exists itemexists abs path abspath item data itemdata parent get item data getitemdata abs path abspath string descendant prefix descendantprefix parent get path getpath list string paths to remove pathstoremove array list arraylist string paths to remove pathstoremove add parent get path getpath string item path itempath items key set keyset item path itempath starts with startswith descendant prefix descendantprefix paths to remove pathstoremove add item path itempath string path to remove pathtoremove paths to remove pathstoremove items remove path to remove pathtoremove range iterator rangeiterator list children listchildren string parent path parentpath item filter itemfilter filter repository exception repositoryexception list item children array list arraylist item remove trailing slash root path empty string string path parent path parentpath replace first replacefirst build regex pattern child paths parent pattern pattern pattern compile pattern quote path collect child resources item data itemdata item items values pattern matcher item get path getpath matches filter filter accept item children add item get item getitem range iterator adapter rangeiteratoradapter children iterator children size override has pending changes haspendingchanges repository exception repositoryexception check live checklive override item exists itemexists string abs path abspath repository exception repositoryexception check live checklive get item data getitemdata abs path abspath override workspace get workspace getworkspace workspace override string get user d getuserid user id userid override string get name space prefix getnamespaceprefix string uri repository exception repositoryexception check live checklive get workspace getworkspace get name space registry getnamespaceregistry get prefix getprefix uri override string get name space prefixes getnamespaceprefixes repository exception repositoryexception check live checklive get workspace getworkspace get name space registry getnamespaceregistry get prefixes getprefixes override string get name space i getnamespaceuri string prefix repository exception repositoryexception check live checklive get workspace getworkspace get name space registry getnamespaceregistry geturi prefix override set name space prefix setnamespaceprefix string prefix string uri repository exception repositoryexception check live checklive get workspace getworkspace get name space registry getnamespaceregistry register name space registernamespace prefix uri override repository get repository getrepository repository override save repository exception repositoryexception check live checklive reset flags item data itemdata item data itemdata items values item data itemdata set is new setisnew override refresh keep changes keepchanges repository exception repositoryexception check live checklive override check permission checkpermission string abs path abspath string actions repository exception repositoryexception grant permission check live checklive override is live islive is live islive override log out logout is live islive unsupported operations override add lock token addlocktoken string unsupported operation exception unsupportedoperationexception override export document view exportdocumentview string abs path abspath content handler contenthandler content handler contenthandler skip binary skipbinary no recurse norecurse repository exception repositoryexception unsupported operation exception unsupportedoperationexception override export document view exportdocumentview string abs path abspath output stream outputstream skip binary skipbinary no recurse norecurse repository exception repositoryexception unsupported operation exception unsupportedoperationexception override export system view exportsystemview string abs path abspath content handler contenthandler content handler contenthandler skip binary skipbinary no recurse norecurse repository exception repositoryexception unsupported operation exception unsupportedoperationexception override export system view exportsystemview string abs path abspath output stream outputstream skip binary skipbinary no recurse norecurse repository exception repositoryexception unsupported operation exception unsupportedoperationexception override object get attribute getattribute string unsupported operation exception unsupportedoperationexception override string get attribute names getattributenames unsupported operation exception unsupportedoperationexception override content handler contenthandler get import content handler getimportcontenthandler string parent abs path parentabspath uuid behavior uuidbehavior repository exception repositoryexception unsupported operation exception unsupportedoperationexception override string get lock tokens getlocktokens unsupported operation exception unsupportedoperationexception override session impersonate credentials credentials repository exception repositoryexception unsupported operation exception unsupportedoperationexception override importxml string parent abs path parentabspath input stream inputstream uuid behavior uuidbehavior repository exception repositoryexception unsupported operation exception unsupportedoperationexception override move string src abs path srcabspath string dest abs path destabspath repository exception repositoryexception unsupported operation exception unsupportedoperationexception override remove lock token removelocktoken string unsupported operation exception unsupportedoperationexception override access control manager accesscontrolmanager get access control manager getaccesscontrolmanager repository exception repositoryexception unsupported operation exception unsupportedoperationexception override retention manager retentionmanager get retention manager getretentionmanager repository exception repositoryexception unsupported operation exception unsupportedoperationexception override has capability hascapability string method name methodname object target object arguments repository exception repositoryexception unsupported operation exception unsupportedoperationexception override has permission haspermission string abs path abspath string actions repository exception repositoryexception unsupported operation exception unsupportedoperationexception
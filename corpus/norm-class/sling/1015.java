licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling mailarchiveserver util java util hash map hashmap java util iterator java util scanner javax jcr query query org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations reference org apache sling api resource login exception loginexception org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory component search sandbox searchsandbox reference resource resolver factory resourceresolverfactory resource resolver factory resourceresolverfactory resource resolver resourceresolver resolver activate test persistence exception persistenceexception login exception loginexception system println search service sandbox resolver resolver resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver resource test root testroot resource root resolver get resource getresource string path get class getclass get simple name getsimplename test root testroot resolver get resource getresource root path test root testroot test root testroot resolver create root path resolver commit props props props title jcr text resolver create test root testroot child system current time millis currenttimemillis props get path getpath resolver commit scanner scanner system system println type quit loading mas system print query string query next line nextline query equals ignore case equalsignorecase quit system println sql iterator resource ressql resolver find resources findresources query query jcr sql ressql has next hasnext resource resource resource ressql system println resource to string tostring system println xpath iterator resource resxpath resolver find resources findresources query query xpath resxpath has next hasnext resource resource resource resxpath system println resource to string tostring exception print stack trace printstacktrace system print query query next line nextline suppress warnings suppresswarnings serial props hash map hashmap string object props string key value keyvalue key value keyvalue length key value keyvalue key value keyvalue
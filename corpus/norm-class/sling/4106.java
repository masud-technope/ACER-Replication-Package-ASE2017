licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models impl injectors org junit org mockito mockito java lang reflect annotated element annotatedelement javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling models annotations injectorspecific sling object slingobject org apache sling models spi disposal callback registry disposalcallbackregistry org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner run with runwith mockito unit runner mockitojunitrunner sling object injector request test slingobjectinjectorrequesttest sling object injector slingobjectinjector injector sling object injector slingobjectinjector mock annotated element annotatedelement annotated element annotatedelement mock sling http servlet request slinghttpservletrequest request mock sling http servlet response slinghttpservletresponse response mock sling script helper slingscripthelper script helper scripthelper mock resource resolver resourceresolver resource resolver resourceresolver mock resource resource mock disposal callback registry disposalcallbackregistry registry set up setup sling bindings slingbindings bindings sling bindings slingbindings bindings sling bindings slingbindings sling script helper scripthelper request get resource resolver getresourceresolver then return thenreturn resource resolver resourceresolver request get resource getresource then return thenreturn resource request get attribute getattribute sling bindings slingbindings get name getname then return thenreturn bindings script helper scripthelper get response getresponse then return thenreturn response test test resource resolver testresourceresolver object result injector get value getvalue request resource resolver resourceresolver annotated element annotatedelement registry assert same assertsame resource resolver resourceresolver result test test resource testresource object result injector get value getvalue request resource annotated element annotatedelement registry assert null assertnull result annotated element annotatedelement is annotation present isannotationpresent sling object slingobject then return thenreturn result injector get value getvalue request resource annotated element annotatedelement registry assert same assertsame resource result test test request testrequest object result injector get value getvalue request sling http servlet request slinghttpservletrequest annotated element annotatedelement registry assert same assertsame request result result injector get value getvalue request http servlet request httpservletrequest annotated element annotatedelement registry assert same assertsame request result test test response testresponse object result injector get value getvalue request sling http servlet response slinghttpservletresponse annotated element annotatedelement registry assert same assertsame response result result injector get value getvalue request http servlet response httpservletresponse annotated element annotatedelement registry assert same assertsame response result test test script helper testscripthelper object result injector get value getvalue request sling script helper slingscripthelper annotated element annotatedelement registry assert same assertsame script helper scripthelper result test test invalid testinvalid object result injector get value getvalue sling script helper slingscripthelper annotated element annotatedelement registry assert null assertnull result
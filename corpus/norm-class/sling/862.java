licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution resources impl common javax jcr repository exception repositoryexception javax jcr session javax servlet http http servlet request httpservletrequest java util array list arraylist java util arrays java util hash map hashmap java util iterator java util list java util map org apache sling api resource resource org apache sling api resource resource provider resourceprovider org apache sling api resource resource resolver resourceresolver readable link resource provider resourceprovider distribution abstract readable resource provider abstractreadableresourceprovider resource provider resourceprovider string internal adaptable internal adaptable string internal items properties internal properties map propertiesmap string items items string sling resource type sling resource type resourcetype string resource root resourceroot abstract readable resource provider abstractreadableresourceprovider string resource root resourceroot resource root resourceroot resource root resourceroot resource get resource getresource resource resolver resourceresolver resource resolver resourceresolver http servlet request httpservletrequest request string path get resource getresource resource resolver resourceresolver path resource get resource getresource resource resolver resourceresolver resource resolver resourceresolver string path simple path info simplepathinfo path info pathinfo extract path info extractpathinfo path path info pathinfo path info pathinfo get resource path info getresourcepathinfo path info pathinfo get resource path info getresourcepathinfo length has permission haspermission resource resolver resourceresolver path info pathinfo get resource path getresourcepath session action read resource resource map string object properties get resource properties getresourceproperties path info pathinfo properties object adaptable properties remove internal adaptable properties remove internal items properties resource build main resource buildmainresource resource resolver resourceresolver path info pathinfo properties adaptable resource resource build main resource buildmainresource resource resolver resourceresolver resource resolver resourceresolver simple path info simplepathinfo path info pathinfo map string object properties object adapters simple readable resource simplereadableresource resource resolver resourceresolver path info pathinfo get resource path getresourcepath properties adapters simple path info simplepathinfo extract path info extractpathinfo string path simple path info simplepathinfo parse path info parsepathinfo resource root resourceroot path has permission haspermission resource resolver resourceresolver resource resolver resourceresolver string resource path resourcepath string permission has permission haspermission session session resource resolver resourceresolver adapt to adaptto session session has permission haspermission session has permission haspermission resource path resourcepath permission repository exception repositoryexception has permission haspermission has permission haspermission iterator resource list children listchildren resource parent string path parent get path getpath resource resolver resourceresolver resource resolver resourceresolver parent get resource resolver getresourceresolver simple path info simplepathinfo path info pathinfo extract path info extractpathinfo path path info pathinfo path info pathinfo get resource path info getresourcepathinfo path info pathinfo get resource path info getresourcepathinfo length has permission haspermission resource resolver resourceresolver path info pathinfo get resource path getresourcepath session action read list resource resource list resourcelist array list arraylist resource iterable string children list childrenlist get resource children getresourcechildren path info pathinfo map string map string object children properties childrenproperties hash map hashmap string map string object children list childrenlist map string object properties get resource properties getresourceproperties path info pathinfo properties properties contains key containskey items properties items string string items array itemsarray string properties items children list childrenlist arrays as list aslist items array itemsarray properties properties contains key containskey internal items properties children properties childrenproperties map properties internal items properties children list childrenlist string child resource name childresourcename children list childrenlist resource child resource childresource children properties childrenproperties contains key containskey child resource name childresourcename map string object child properties childproperties children properties childrenproperties child resource name childresourcename simple path info simplepathinfo child path info childpathinfo extract path info extractpathinfo path child resource name childresourcename child resource childresource build main resource buildmainresource resource resolver resourceresolver child path info childpathinfo child properties childproperties child resource childresource get resource getresource resource resolver resourceresolver path child resource name childresourcename resource list resourcelist add child resource childresource resource list resourcelist list iterator listiterator map string object get resource properties getresourceproperties simple path info simplepathinfo path info pathinfo iterable string get resource children getresourcechildren simple path info simplepathinfo path info pathinfo
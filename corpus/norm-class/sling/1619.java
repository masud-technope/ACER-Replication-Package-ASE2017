licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling junit impl java lang reflect field org apache felix scr annotations component org apache felix scr annotations service org apache sling junit test object processor testobjectprocessor org apache sling junit annotations test reference testreference org osgi framework bundle context bundlecontext org osgi framework service reference servicereference org osgi service component component context componentcontext org slf logger org slf logger factory loggerfactory processor annotations test classes component service annotations processor annotationsprocessor test object processor testobjectprocessor logger log logger factory loggerfactory get logger getlogger get class getclass bundle context bundlecontext bundle context bundlecontext activate component context componentcontext ctx bundle context bundlecontext ctx get bundle context getbundlecontext bundle context bundlecontext illegal argument exception illegalargumentexception bundle context bundlecontext activate log debug activated bundle context bundlecontext bundle context bundlecontext deactivate component context componentcontext ctx bundle context bundlecontext log debug deactivated process annotations test object object process object test object testobject exception log debug processing test object testobject field test object testobject get class getclass get declared fields getdeclaredfields is annotation present isannotationpresent test reference testreference process test reference processtestreference test object testobject test object testobject process test reference testreference annotation inject services fields process test reference processtestreference object test object testobject field exception bundle context bundlecontext string msg bundle context bundlecontext process test reference processtestreference activated log error msg illegal argument exception illegalargumentexception msg service type servicetype get type gettype object service get service getservice service type servicetype service set accessible setaccessible test object testobject service log debug injected service field service type servicetype get name getname get name getname log warn service field service type servicetype get name getname get name getname object get service getservice object result bundle context bundlecontext service injected equals bundle context bundlecontext result bundle context bundlecontext service reference servicereference bundle context bundlecontext get service reference getservicereference get name getname result bundle context bundlecontext get service getservice result
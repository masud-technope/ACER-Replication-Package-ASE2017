licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling health checks healthchecks org junit assert equals assertequals java util array list arraylist java util hash map hashmap java util list java util map javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache sling api resource resource resolver resourceresolver org apache sling api resource resource resolver factory resourceresolverfactory org apache sling engine sling request processor slingrequestprocessor org apache sling api result org apache sling support impl sling request status health check slingrequeststatushealthcheck org junit org junit test org junit runner run with runwith org junit run ners runners parameterized org junit run ners runners parameterized parameters org mockito matchers org mockito mockito org mockito invocation invocation on mock invocationonmock org mockito stub bin g stubbing answer run with runwith parameterized sling request status health check test slingrequeststatushealthchecktest sling request status health check slingrequeststatushealthcheck result status expected status expectedstatus string paths parameters list object data list object result array list arraylist object result add object html html json result status warn result add object result status result add object result status result add object html result status result add object html html json result status result add object html html json result status warn result add object html html json result status warn result add object html html json result status warn result add object html html json result status warn result setup exception sling request status health check slingrequeststatushealthcheck resource resolver factory resourceresolverfactory rrf mockito mock resource resolver factory resourceresolverfactory set field setfield resolver factory resolverfactory rrf answer answer override answer invocation on mock invocationonmock invocation http servlet request httpservletrequest request http servlet request httpservletrequest invocation get arguments getarguments http servlet response httpservletresponse response http servlet response httpservletresponse invocation get arguments getarguments string path request get path info getpathinfo path length string status path substring path index of indexof response set status setstatus integer value of valueof status sling request processor slingrequestprocessor srp mockito mock sling request processor slingrequestprocessor set field setfield request processor requestprocessor srp mockito do answer doanswer srp process request processrequest matchers http servlet request httpservletrequest matchers http servlet response httpservletresponse matchers resource resolver resourceresolver map string object properties hash map hashmap string object properties path paths activate properties sling request status health check test slingrequeststatushealthchecktest string paths result status expected status expectedstatus paths paths split expected status expectedstatus expected status expectedstatus test test result testresult assert equals assertequals expecting result expected status expectedstatus paths paths expected status expectedstatus execute get status getstatus
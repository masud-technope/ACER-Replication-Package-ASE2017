licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution serialization impl avro javax annotation check for null checkfornull javax annotation nonnull java input stream inputstream java util map org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations property org apache felix scr annotations property option propertyoption org apache felix scr annotations service org apache sling api resource resource resolver resourceresolver org apache sling commons osgi properties util propertiesutil org apache sling distribution distribution request distributionrequest org apache sling distribution common distribution exception distributionexception org apache sling distribution serialization distribution package distributionpackage org apache sling distribution serialization distribution package builder distributionpackagebuilder org slf logger org slf logger factory loggerfactory factory link distribution package builder distributionpackagebuilder based apache avro component metatype label apache sling distribution packaging avro builder factory description osg i osgi configuration avro build ers builders configuration factory configurationfactory spec version specversion policy configuration policy configurationpolicy require service distribution package builder distributionpackagebuilder avro distribution package builder factory avrodistributionpackagebuilderfactory distribution package builder distributionpackagebuilder builder property label description builder string string jcr avro jcravro jcr avro jcravro string resource avro resourceavro resource avro resourceavro type builder property options property option propertyoption jcr avro jcravro avro jcr packages property option propertyoption resource avro resourceavro avro resource packages resource avro resourceavro label type description type builder string type type temp file folder property label temp files ystem filesystem folder description file system filesystem folder temporary files saved string temp folder temp fs folder tempfsfolder distribution package builder distributionpackagebuilder package builder packagebuilder logger log logger factory loggerfactory get logger getlogger get class getclass activate activate map string object config string type properties util propertiesutil to string tostring config type log info starting avro builder type type resource avro resourceavro equals type package builder packagebuilder avro distribution package builder avrodistributionpackagebuilder log info started avro resource builder runtime exception runtimeexception type builder supported avro string get type gettype package builder packagebuilder get type gettype nonnull distribution package distributionpackage create package createpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution request distributionrequest request distribution exception distributionexception package builder packagebuilder create package createpackage resource resolver resourceresolver request nonnull distribution package distributionpackage read package readpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull input stream inputstream stream distribution exception distributionexception package builder packagebuilder read package readpackage resource resolver resourceresolver stream check for null checkfornull distribution package distributionpackage get package getpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull string distribution exception distributionexception package builder packagebuilder get package getpackage resource resolver resourceresolver install package installpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution package distributionpackage distribution package distributionpackage distribution exception distributionexception package builder packagebuilder install package installpackage resource resolver resourceresolver distribution package distributionpackage
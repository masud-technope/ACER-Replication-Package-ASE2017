licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr webdav impl helper java input stream inputstream java unsupported encoding exception unsupportedencodingexception java net url decoder urldecoder org apache sling commons mime mime type service mimetypeservice org apache tika detect detector org apache tika metadata metadata org apache tika mime media type mediatype sling tika detector slingtikadetector detector mime type service mimetypeservice mime type service mimetypeservice sling tika detector slingtikadetector mime type service mimetypeservice mime type service mimetypeservice mime type service mimetypeservice mime type service mimetypeservice media type mediatype detect input stream inputstream raw data rawdata metadata metadata note implementation built tika name detector namedetector implementation takes resource consideration detect mime type resource input metadata string metadata metadata resource key url skip trailing query fragment parts question index of indexof question substring question hash index of indexof hash substring hash url path skip component slash last index of lastindexof slash substring slash back slash backslash last index of lastindexof back slash backslash substring back slash backslash per cent percent index of indexof per cent percent url decoder urldecoder decode utf unsupported encoding exception unsupportedencodingexception assertion error assertionerror utf supported trim length string type mime type service mimetypeservice get mime type getmimetype type media type mediatype parse type media type mediatype octet stream
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting core impl org apache sling api scripting sling bindings slingbindings flush org apache sling api scripting sling bindings slingbindings log org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling bindings slingbindings reader org apache sling api scripting sling bindings slingbindings request org apache sling api scripting sling bindings slingbindings resource org apache sling api scripting sling bindings slingbindings resolver org apache sling api scripting sling bindings slingbindings response org apache sling api scripting sling bindings slingbindings sling java buffered reader bufferedreader java i o exception ioexception java input stream inputstream java input stream reader inputstreamreader java print writer printwriter java reader java string reader stringreader java writer java util arrays java util collection java util dictionary java util enumeration java util hash set hashset java util hashtable java util list java util map java util javax script bindings javax script comp ilable compilable javax script compiled script compiledscript javax script invocable javax script script context scriptcontext javax script script engine scriptengine javax script script exception scriptexception javax script simple bindings simplebindings javax servlet servlet javax servlet servlet config servletconfig javax servlet servlet context servletcontext javax servlet servlet request servletrequest javax servlet servlet response servletresponse org apache sling api sling constants slingconstants org apache sling api sling exception slingexception org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api resource resource org apache sling api resource resource metadata resourcemetadata org apache sling api resource resource resolver resourceresolver org apache sling api resource resource wrapper resourcewrapper org apache sling api resource synthetic resource syntheticresource org apache sling api scripting script evaluation exception scriptevaluationexception org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script slingscript org apache sling api scripting sling script constants slingscriptconstants org apache sling api scripting sling script helper slingscripthelper org apache sling scripting api bindings values provider bindingsvaluesprovider org apache sling scripting api cached script cachedscript org apache sling scripting api script cache scriptcache org apache sling scripting core script name aware reader scriptnameawarereader org apache sling scripting core impl helper cached script impl cachedscriptimpl org apache sling scripting core impl helper protected bindings protectedbindings org osgi framework bundle context bundlecontext org slf logger org slf logger factory loggerfactory default sling script defaultslingscript sling script slingscript servlet servlet config servletconfig logger logger logger logger factory loggerfactory get logger getlogger default sling script defaultslingscript thread local resource resolver thread local threadlocal resource resolver resourceresolver request resource resolver requestresourceresolver thread local threadlocal resource resolver resourceresolver string hash set hashset string arrays as list aslist request response reader sling resource resolver log resource pointing script resource script resource scriptresource script resource path string script name scriptname encoding script string script encoding scriptencoding script engine script script engine scriptengine script engine scriptengine servlet context servlet context servletcontext servlet context servletcontext init parameters servlet dictionary string string init parameters initparameters current bundle context bundle context bundlecontext bundle context bundlecontext script bindings values providers scriptbindingsvaluesproviders collection bindings values provider bindingsvaluesprovider bindings values providers bindingsvaluesproviders cache services service cache servicecache cache cache compiled scripts script cache scriptcache script cache scriptcache constructor param bundle context bundlecontext bundle context param script resource scriptresource script resource param script engine scriptengine script engine param bindings values providers bindingsvaluesproviders additional bindings values providers param cache service cache servicecache default sling script defaultslingscript bundle context bundlecontext bundle context bundlecontext resource script resource scriptresource script engine scriptengine script engine scriptengine collection bindings values provider bindingsvaluesprovider bindings values providers bindingsvaluesproviders service cache servicecache cache script cache scriptcache script cache scriptcache script resource scriptresource script resource scriptresource script engine scriptengine script engine scriptengine bundle context bundlecontext bundle context bundlecontext bindings values providers bindingsvaluesproviders bindings values providers bindingsvaluesproviders cache cache script cache scriptcache script cache scriptcache script name scriptname script resource scriptresource get path getpath input stream decide encoding stream data assume utf places jcr second arily secondarily jcr encoding property data property provide encoding resource metadata resourcemetadata meta script resource scriptresource get resource metadata getresourcemetadata string encoding meta get character encoding getcharacterencoding encoding encoding utf script encoding scriptencoding encoding sling script slingscript org apache sling api scripting sling script slingscript get script resource getscriptresource resource get script resource getscriptresource resource resolver resourceresolver resolver request resource resolver requestresourceresolver resolver don request resolver script resource script resource scriptresource lazy script resource lazyscriptresource script name scriptname script resource scriptresource get resource type getresourcetype resolver org apache sling api scripting sling script slingscript eval org apache sling api scripting sling bindings slingbindings script evaluation exception scriptevaluationexception object eval sling bindings slingbindings props call props servlet integer scopes sling script constants slingscriptconstants sling scope integer value of valueof integer value of valueof org apache sling api scripting sling script slingscript call org apache sling api scripting sling bindings slingbindings java lang string java lang object script evaluation exception scriptevaluationexception object call sling bindings slingbindings props string method object args bindings bindings reader reader dispose script helper disposescripthelper props contains key containskey sling resource resolver resourceresolver old resolver oldresolver bindings verify sling bindings verifyslingbindings props variable bindings bindings create script context script context scriptcontext ctx script context scriptcontext bindings global scope globalscope bindings engine scope enginescope writer writer writer writer error writer errorwriter log writer logwriter logger log reader reader reader reader bindings sling scope slingscope simple bindings simplebindings javax script script context scriptcontext set bindings setbindings javax script bindings set bindings setbindings bindings bindings scope scope sling script constants slingscriptconstants sling scope sling scope slingscope bindings bindings null pointer exception nullpointerexception bindings engine scope engine scope enginescope bindings global scope globalscope bindings illegal argument exception illegalargumentexception invaild scope javax script script context scriptcontext get bindings getbindings bindings get bindings getbindings scope scope sling script constants slingscriptconstants sling scope sling scope slingscope engine scope enginescope global scope globalscope illegal argument exception illegalargumentexception invaild scope javax script script context scriptcontext set attribute setattribute java lang string java lang object set attribute setattribute string object scope illegal argument exception illegalargumentexception bindings bindings get bindings getbindings scope bindings bindings javax script script context scriptcontext get attribute getattribute java lang string object get attribute getattribute string scope illegal argument exception illegalargumentexception bindings bindings get bindings getbindings scope bindings bindings javax script script context scriptcontext remove attribute removeattribute java lang string object remove attribute removeattribute string scope illegal argument exception illegalargumentexception bindings bindings get bindings getbindings scope bindings bindings remove javax script script context scriptcontext get attribute getattribute java lang string object get attribute getattribute string illegal argument exception illegalargumentexception scope scopes bindings bindings get bindings getbindings scope bindings object bindings javax script script context scriptcontext get attributes scope getattributesscope java lang string get attributes scope getattributesscope string illegal argument exception illegalargumentexception scope scopes get bindings getbindings scope get bindings getbindings scope contains key containskey scope javax script script context scriptcontext get scopes getscopes list integer get scopes getscopes arrays as list aslist scopes javax script script context scriptcontext get writer getwriter writer get writer getwriter writer javax script script context scriptcontext get error writer geterrorwriter writer get error writer geterrorwriter error writer errorwriter javax script script context scriptcontext set writer setwriter java writer set writer setwriter writer writer writer writer javax script script context scriptcontext set error writer seterrorwriter java writer set error writer seterrorwriter writer writer error writer errorwriter writer javax script script context scriptcontext get reader getreader reader get reader getreader reader javax script script context scriptcontext set reader setreader java reader set reader setreader reader reader reader reader current resource resolver request bindings props get request getrequest old resolver oldresolver request resource resolver requestresourceresolver request resource resolver requestresourceresolver props get request getrequest get resource resolver getresourceresolver script resource resolver attribute ctx set attribute setattribute sling script constants slingscriptconstants attr script resource resolver script resource scriptresource get resource resolver getresourceresolver sling script constants slingscriptconstants sling scope reader get script reader getscriptreader method script engine scriptengine invocable reader get wrapper reader getwrapperreader reader method args evaluate script object result method script engine scriptengine comp ilable compilable cached script cachedscript cached script cachedscript script cache scriptcache get script getscript script name scriptname cached script cachedscript script name aware reader scriptnameawarereader sn reader snreader script name aware reader scriptnameawarereader reader script name scriptname compiled script compiledscript compiled script compiledscript comp ilable compilable script engine scriptengine compile sn reader snreader cached script cachedscript cached script impl cachedscriptimpl script name scriptname compiled script compiledscript script cache scriptcache put script putscript cached script cachedscript logger debug adding script cache script name scriptname logger debug script cached script name scriptname result cached script cachedscript get compiled script getcompiledscript eval ctx result script engine scriptengine eval reader ctx call method supplied script engine supports direct invocation method script engine scriptengine invocable invocable script engine scriptengine invoke function invokefunction method arrays as list aslist args to array toarray no such method exception nosuchmethodexception script evaluation exception scriptevaluationexception script name scriptname method method script optional l optionall flush output channel object flush object flushobject bindings flush flush object flushobject flush object flushobject ctx get writer getwriter flush all ways allways flush error channel ctx get error writer geterrorwriter flush result i o exception ioexception ioe script evaluation exception scriptevaluationexception script name scriptname ioe get message getmessage ioe script exception scriptexception throwable get cause getcause get cause getcause script evaluation exception scriptevaluationexception script name scriptname get message getmessage props get request getrequest request resource resolver requestresourceresolver old resolver oldresolver close script reader sling reader reader close i o exception ioexception ignore dispose sling script helper slingscripthelper bindings dispose script helper disposescripthelper internal script helper internalscripthelper helper internal script helper internalscripthelper bindings sling helper helper cleanup javax servlet servlet init javax servlet servlet config servletconfig init servlet config servletconfig servlet config servletconfig servlet config servletconfig dictionary string string params hashtable string string enumeration servlet config servletconfig get init parameter names getinitparameternames has more elements hasmoreelements string string value of valueof next element nextelement string servlet config servletconfig get init parameter getinitparameter params init parameters initparameters params servlet context servletcontext servlet config servletconfig get servlet context getservletcontext javax servlet servlet service javax servlet servlet request servletrequest javax servlet servlet response servletresponse service servlet request servletrequest req servlet response servletresponse res sling http servlet request slinghttpservletrequest request sling http servlet request slinghttpservletrequest req prepare properties script sling bindings slingbindings props sling bindings slingbindings props set request setrequest sling http servlet request slinghttpservletrequest req props set response setresponse sling http servlet response slinghttpservletresponse res content type included request get attribute getattribute sling constants slingconstants attr include servlet path string content type contenttype request get response content type getresponsecontenttype content type contenttype res set content type setcontenttype content type contenttype sling content type contenttype starts with startswith text res set character encoding setcharacterencoding utf logger debug service response content type defined request request getrequesturi logger debug service included request setting content type encoding evaluate script script engine scriptengine eval props script evaluation exception scriptevaluationexception log script error logscripterror request sling exception slingexception log script error logscripterror request exception log script error logscripterror request sling exception slingexception default sling script defaultslingscript get message getmessage servlet config servletconfig get servlet config getservletconfig string get servlet info getservletinfo script script name scriptname javax servlet servlet destroy destroy init parameters initparameters servlet context servletcontext servlet config servletconfig javax servlet servlet config servletconfig get init parameter getinitparameter java lang string string get init parameter getinitparameter string dictionary string string params init parameters initparameters params params javax servlet servlet config servletconfig get init parameter names getinitparameternames enumeration string get init parameter names getinitparameternames dictionary string string params init parameters initparameters params params javax servlet servlet config servletconfig get servlet context getservletcontext servlet context servletcontext get servlet context getservletcontext servlet context servletcontext javax servlet servlet config servletconfig get servlet name getservletname string get servlet name getservletname script name scriptname internal reader get script reader getscriptreader i o exception ioexception encoding buffered reader bufferedreader input stream reader inputstreamreader lazy input stream lazyinputstream script resource scriptresource script encoding scriptencoding reader get wrapper reader getwrapperreader reader script reader scriptreader string method object args string builder stringbuilder buffer string builder stringbuilder method buffer append object args buffer append buffer append buffer append buffer append string msg buffer to string tostring reader do append doappend string reader stringreader method reader methodreader string reader stringreader msg java reader close override close i o exception ioexception script reader scriptreader close override read cbuf start len i o exception ioexception do append doappend method reader methodreader read cbuf start len read len readlen script reader scriptreader read cbuf start len read len readlen do append doappend read cbuf start len read len readlen override read i o exception ioexception do append doappend method reader methodreader read script reader scriptreader read do append doappend method reader methodreader read override read cbuf i o exception ioexception read cbuf cbuf length override ready i o exception ioexception script reader scriptreader ready bindings verify sling bindings verifyslingbindings sling bindings slingbindings sling bindings slingbindings i o exception ioexception bindings bindings simple bindings simplebindings sling http servlet request slinghttpservletrequest request sling bindings slingbindings get request getrequest check sling object object sling object slingobject sling bindings slingbindings sling sling object slingobject request sling object slingobject internal script helper internalscripthelper bundle context bundlecontext request sling bindings slingbindings get response getresponse cache sling object slingobject internal script helper internalscripthelper bundle context bundlecontext cache sling object slingobject sling script helper slingscripthelper fail sling wrong type sling script helper slingscripthelper sling sling script helper slingscripthelper sling object slingobject bindings sling sling request sling http servlet response slinghttpservletresponse response sling bindings slingbindings get response getresponse response fail response missing wrong type object resource object resourceobject sling bindings slingbindings resource resource object resourceobject resource object resourceobject resource fail resource wrong type object resolver object resolverobject sling bindings slingbindings resolver resolver object resolverobject resolver object resolverobject resource resolver resourceresolver fail resolver wrong type object writer object writerobject sling bindings slingbindings writer object writerobject writer object writerobject print writer printwriter fail wrong type sling script helper check arguments sling bindings slingbindings sling sling get request getrequest request fail request request field sling script helper slingscripthelper sling get response getresponse response fail response response field sling script helper slingscripthelper resource object resourceobject sling get request getrequest get resource getresource resource object resourceobject fail resource resource sling script helper slingscripthelper request resolver object resolverobject sling get request getrequest get resource resolver getresourceresolver resolver object resolverobject fail resolver resource resolver sling script helper slingscripthelper request resolver writer object writerobject sling get response getresponse get writer getwriter writer object writerobject fail writer sling script helper slingscripthelper response base variables executing request bindings request sling get request getrequest bindings reader sling get request getrequest get reader getreader bindings response sling get response getresponse bindings resource sling get request getrequest get resource getresource bindings resolver sling get request getrequest get resource resolver getresourceresolver bindings sling get response getresponse get writer getwriter object log object logobject sling bindings slingbindings log log object logobject log object logobject logger factory loggerfactory get logger getlogger get logger name getloggername log object logobject logger fail log wrong type bindings log log object logobject copy base variables map entry string object entry sling bindings slingbindings entry set entryset bindings contains key containskey entry get key getkey bindings entry get key getkey entry get value getvalue bindings values providers bindingsvaluesproviders is empty isempty string protected keys protectedkeys hash set hashset string protected keys protectedkeys add all addall protected bindings protectedbindings protected bindings protectedbindings protected bindings protectedbindings bindings protected keys protectedkeys bindings values provider bindingsvaluesprovider provider bindings values providers bindingsvaluesproviders provider add bindings addbindings protected bindings protectedbindings bindings script evaluation exception scriptevaluationexception fail string variable name variablename string message script evaluation exception scriptevaluationexception script name scriptname variable name variablename message string get logger name getloggername string script name scriptname cut leading slash substring extension separator replace hierarchy defined dot replace logs error caused executing script request progress tracker log script error logscripterror sling http servlet request slinghttpservletrequest request throwable throwable string message throwable get message getmessage message message throwable get message getmessage replace message throwable to string tostring request get request progress tracker getrequestprogresstracker log script error message input stream wrapper acquires underlying input stream lazily ensures input stream fetched repository script engines lazy input stream lazyinputstream input stream inputstream script resource adapted input m inputm stream resource resource input stream created demand input stream inputstream delegatee lazy input stream lazyinputstream resource resource resource resource closes input stream acquired override close i o exception ioexception delegatee delegatee close override i o exception ioexception get stream getstream override read i o exception ioexception get stream getstream read override read i o exception ioexception get stream getstream read override read len i o exception ioexception get stream getstream read len override skip i o exception ioexception get stream getstream skip override mark supported marksupported get stream getstream mark supported marksupported i o exception ioexception ioe override mark read limit readlimit get stream getstream mark read limit readlimit i o exception ioexception ioe override reset i o exception ioexception get stream getstream reset ret rieves retrieves input stream underlying jcr input stream inputstream get stream getstream i o exception ioexception delegatee delegatee resource adapt to adaptto input stream inputstream delegatee i o exception ioexception stream script resource resource delegatee lazy implementation script resource returns path resource type resource resolver lazy script resource lazyscriptresource resource wrapper resourcewrapper string path string resource type resourcetype resource resolver resourceresolver resolver resource delegatee lazy script resource lazyscriptresource string path string resource type resourcetype resource resolver resourceresolver resolver path path resource type resourcetype resource type resourcetype resolver resolver override resource get resource getresource delegatee delegatee resolver get resource getresource path delegatee delegatee synthetic resource syntheticresource resolver path resource type resourcetype delegatee org apache sling api resource resource get path getpath override string get path getpath path org apache sling api resource resource get resource type getresourcetype override string get resource type getresourcetype resource type resourcetype org apache sling api resource resource get resource resolver getresourceresolver override resource resolver resourceresolver get resource resolver getresourceresolver resolver
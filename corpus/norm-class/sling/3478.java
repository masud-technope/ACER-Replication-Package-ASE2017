licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling models impl injectors org junit org mockito mockito java lang reflect annotated element annotatedelement javax servlet servlet request servletrequest org apache sling api resource resource resolver resourceresolver org apache sling api scripting sling bindings slingbindings org apache sling models spi disposal callback registry disposalcallbackregistry org junit org junit test org junit runner run with runwith org mockito mock org mockito run ners runners mockito unit runner mockitojunitrunner run with runwith mockito unit runner mockitojunitrunner bindings injector test bindingsinjectortest bindings injector bindingsinjector injector bindings injector bindingsinjector mock servlet request servletrequest request mock sling bindings slingbindings bindings mock annotated element annotatedelement element mock disposal callback registry disposalcallbackregistry registry string string param param string integer param param string param param string string my value myvalue integer resource resolver resourceresolver instance mock resource resolver resourceresolver set up setup request get attribute getattribute sling bindings slingbindings get name getname then return thenreturn bindings bindings string param then return thenreturn string bindings integer param then return thenreturn integer bindings param then return thenreturn instance test test string param teststringparam object result injector get value getvalue request string param string element registry assert equals assertequals string result test test integer param testintegerparam object result injector get value getvalue request integer param integer element registry assert equals assertequals integer result test test class instance testclassinstance object result injector get value getvalue request param resource resolver resourceresolver element registry assert same assertsame instance result test test non request adaptable testnonrequestadaptable object result injector get value getvalue mock resource resolver resourceresolver string param string element registry assert null assertnull result test test request that does not contain bindings testrequestthatdoesnotcontainbindings request get attribute getattribute sling bindings slingbindings get name getname then return thenreturn object result injector get value getvalue request string param string element registry assert null assertnull result
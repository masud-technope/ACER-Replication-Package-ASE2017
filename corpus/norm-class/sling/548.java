licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons compiler impl java buffered reader bufferedreader java byte array output stream bytearrayoutputstream java io exception ioexception java input stream inputstream java output stream outputstream java reader java net url java util hash map hashmap java util locale java util map org apache felix scr annotations component org apache felix scr annotations reference org apache felix scr annotations service org apache sling commons class loader classloader class loader writer classloaderwriter org apache sling commons compiler compilation result compilationresult org apache sling commons compiler compilation unit compilationunit org apache sling commons compiler compilation unit with source compilationunitwithsource org apache sling commons compiler java compiler javacompiler org apache sling commons compiler options org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler default error handling policies defaulterrorhandlingpolicies org eclipse jdt internal compiler i compiler requestor icompilerrequestor org eclipse jdt internal compiler i error handling policy ierrorhandlingpolicy org eclipse jdt internal compiler i problem factory iproblemfactory org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler env i compilation unit icompilationunit org eclipse jdt internal compiler env i name environment inameenvironment org eclipse jdt internal compiler env name environment answer nameenvironmentanswer org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler problem default problem factory defaultproblemfactory org slf logger org slf logger factory loggerfactory code eclipse java compiler eclipsejavacompiler code platform independant java compilation support eclipse java compiler org eclipse jdt component service java compiler javacompiler eclipse java compiler eclipsejavacompiler java compiler javacompiler logger instance logger logger logger factory loggerfactory get logger getlogger eclipse java compiler eclipsejavacompiler reference class loader writer classloaderwriter class loader writer classloaderwriter problem factory i problem factory iproblemfactory problem factory problemfactory default problem factory defaultproblemfactory locale get default getdefault policy i error handling policy ierrorhandlingpolicy policy default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems class loader classloader compilation class loader classloader get class loader getclassloader options options class loader writer classloaderwriter class loader writer classloaderwriter class loader classloader loader options options key loader loader class loader classloader options options key loader options options key add itional additional loader class loader classloader additional class loader additionalclassloader class loader classloader options options key add itional additional loader loader class loader classloader class loader writer classloaderwriter get class loader getclassloader override find class findclass string class not found exception classnotfoundexception additional class loader additionalclassloader load class loadclass override url find resource findresource string additional class loader additionalclassloader get resource getresource class loader classloader class loader writer classloaderwriter get class loader getclassloader loader class loader writer classloaderwriter get class loader getclassloader loader loader loader writer compilation class loader writer classloaderwriter get class loader writer getclassloaderwriter options options options options key loader writer class loader writer classloaderwriter options options key loader writer class loader writer classloaderwriter check compiled file older source file is out date d isoutdated compilation unit compilationunit unit class loader writer classloaderwriter writer target last modified targetlastmodified writer get last modified getlastmodified unit get main class name getmainclassname replace target last modified targetlastmodified target last modified targetlastmodified unit get last modified getlastmodified force compilation is force compilation isforcecompilation options options flag options options key force compilation flag flag ignore warnings is ignore warnings isignorewarnings options options flag options options key ignore warnings flag flag options empty options options org apache sling commons compiler java compiler javacompiler compile org apache sling commons compiler compilation unit compilationunit org apache sling commons compiler options compilation result compilationresult compile compilation unit compilationunit units options compile options compileoptions options object avoid checks place options options compile options compileoptions compile options compileoptions empty options class loader classloader class loader classloader writer class loader writer classloaderwriter writer get class loader writer getclassloaderwriter options writer compilation result impl compilationresultimpl loader writer compilation class loader classloader loader get class loader getclassloader options writer loader compilation result impl compilationresultimpl loader compilation check sources compilation needs compilation needscompilation is force compilation isforcecompilation options needs compilation needscompilation compilation unit compilationunit unit units is out date d isoutdated unit writer needs compilation needscompilation needs compilation needscompilation logger debug source files compilation required compilation result impl compilationresultimpl writer delete files compilation unit compilationunit unit units string unit get main class name getmainclassname replace writer delete create properties settings object map string string props hash map hashmap string string options is generate debug info isgeneratedebuginfo props compiler options compileroptions option local variable attribute localvariableattribute generate props compiler options compileroptions option line number attribute linenumberattribute generate props compiler options compileroptions option source file attribute sourcefileattribute generate options get source version getsourceversion props compiler options compileroptions option source options get source version getsourceversion props compiler options compileroptions option compliance options get source version getsourceversion options get target version gettargetversion props compiler options compileroptions option target platform targetplatform options get target version gettargetversion props compiler options compileroptions option encoding utf create settings compiler options compileroptions settings compiler options compileroptions props logger debug comp iling compiling settings settings create result compilation result impl compilationresultimpl result compilation result impl compilationresultimpl is ignore warnings isignorewarnings options writer create context compile context compilecontext context compile context compilecontext units result writer loader create compiler org eclipse jdt internal compiler compiler compiler org eclipse jdt internal compiler compiler context policy settings context problem factory problemfactory compile compiler compile context get source units getsourceunits result compile context compilecontext i compiler requestor icompilerrequestor i name environment inameenvironment map string i compilation unit icompilationunit comp units compunits compilation result impl compilationresultimpl error handler errorhandler class loader writer classloaderwriter class loader writer classloaderwriter class loader classloader class loader classloader compile context compilecontext compilation unit compilationunit units compilation result impl compilationresultimpl error handler errorhandler class loader writer classloaderwriter class writer classwriter class loader classloader class loader classloader comp units compunits hash map hashmap string i compilation unit icompilationunit units length compilation unit adapter compilationunitadapter cua compilation unit adapter compilationunitadapter units error handler errorhandler compound name compoundname char operation charoperation array concat arrayconcat cua get package name getpackagename cua get main type name getmaintypename comp units compunits char operation charoperation to string tostring compound name compoundname compilation unit adapter compilationunitadapter units error handler errorhandler error handler errorhandler error handler errorhandler class loader writer classloaderwriter class writer classwriter class loader classloader class loader classloader i compilation unit icompilationunit get source units getsourceunits comp units compunits values to array toarray i compilation unit icompilationunit comp units compunits size org eclipse jdt internal compiler i compiler requestor icompilerrequestor accept result acceptresult org eclipse jdt internal compiler compilation result compilationresult accept result acceptresult org eclipse jdt internal compiler compilation result compilationresult result result has problems hasproblems categorized problem categorizedproblem problems result get problems getproblems problems length categorized problem categorizedproblem problem problems string msg problem get message getmessage string file name filename char operation charoperation char to string chartostring problem get originating file name getoriginatingfilename problem get source line number getsourcelinenumber pos problem get source start getsourcestart problem is error iserror error handler errorhandler on error onerror msg file name filename pos problem is warning iswarning error handler errorhandler on warning onwarning msg file name filename pos logger debug unknown problem category problem class file classfile class files classfiles result get class files getclassfiles class files classfiles length class file classfile class file classfile class files classfiles string class name classname char operation charoperation to string tostring class file classfile get compound name getcompoundname write class name classname class file classfile get bytes getbytes io exception ioexception error handler errorhandler on error onerror unable write file get message getmessage class name classname org eclipse jdt internal compiler env i name environment inameenvironment find type findtype name environment answer nameenvironmentanswer find type findtype compound type name compoundtypename check type corresponds current compilation units string fqn char operation charoperation to string tostring compound type name compoundtypename i compilation unit icompilationunit comp units compunits fqn name environment answer nameenvironmentanswer locate loader bytes find class findclass char operation charoperation to string tostring compound type name compoundtypename bytes class file reader classfilereader class file reader classfilereader class file reader classfilereader bytes fqn to char array tochararray name environment answer nameenvironmentanswer class file reader classfilereader exception org eclipse jdt internal compiler env i name environment inameenvironment find type findtype name environment answer nameenvironmentanswer find type findtype type name typename package name packagename find type findtype char operation charoperation array concat arrayconcat package name packagename type name typename org eclipse jdt internal compiler env i name environment inameenvironment is package ispackage is package ispackage parent package name parentpackagename package name packagename string fqn char operation charoperation to string tostring char operation charoperation array concat arrayconcat parent package name parentpackagename package name packagename comp units compunits fqn is package ispackage fqn org eclipse jdt internal compiler env i name environment inameenvironment cleanup cleanup write class file classfile write string data io exception ioexception output stream outputstream class loader writer classloaderwriter get output stream getoutputstream replace write data close is package ispackage string result string resource name resourcename result replace resource name resourcename starts with startswith resource name resourcename resource name resourcename substring input stream inputstream class loader classloader get resource as stream getresourceasstream resource name resourcename close io exception ioexception ignore find class findclass string exception string resource name resourcename replace input stream inputstream class loader classloader get resource as stream getresourceasstream resource name resourcename buf byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream buf length count count read buf buf length baos write buf count baos flush baos to byte array tobytearray close io exception ioexception ignore compilation unit adapter compilationunitadapter i compilation unit icompilationunit compilation result impl compilationresultimpl error handler errorhandler compilation unit compilationunit comp unit compunit string main type name maintypename string package name packagename compilation unit adapter compilationunitadapter compilation unit compilationunit comp unit compunit compilation result impl compilationresultimpl error handler errorhandler comp unit compunit comp unit compunit error handler errorhandler error handler errorhandler pos comp unit compunit get main class name getmainclassname last index of lastindexof pos package name packagename main type name maintypename comp unit compunit get main class name getmainclassname package name packagename comp unit compunit get main class name getmainclassname substring pos main type name maintypename comp unit compunit get main class name getmainclassname substring pos org eclipse jdt internal compiler env i compilation unit icompilationunit get contents getcontents get contents getcontents reader comp unit compunit get source getsource reader reader buffered reader bufferedreader chars string builder stringbuilder buf string builder stringbuilder count count reader read chars chars length buf append chars count result buf length buf get chars getchars result length result result reader close io exception ioexception error handler errorhandler on error onerror unable read source file comp unit compunit get main class name getmainclassname get message getmessage comp unit compunit get main class name getmainclassname close io exception ioexception ignore org eclipse jdt internal compiler env i compilation unit icompilationunit get main type name getmaintypename get main type name getmaintypename main type name maintypename to char array tochararray org eclipse jdt internal compiler env i compilation unit icompilationunit get package name getpackagename get package name getpackagename char operation charoperation split on spliton package name packagename to char array tochararray org eclipse jdt internal compiler env i dependent idependent get file name getfilename get file name getfilename comp unit compunit compilation unit with source compilationunitwithsource compilation unit with source compilationunitwithsource comp unit compunit get file name getfilename to char array tochararray package name packagename replace main type name maintypename java to char array tochararray org eclipse jdt internal compiler env i compilation unit icompilationunit ignore optional problems ignoreoptionalproblems ignore optional problems ignoreoptionalproblems
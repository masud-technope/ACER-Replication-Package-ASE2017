licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest servlets post java file java file output stream fileoutputstream java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java util array list arraylist java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util random java util javax servlet http http servlet response httpservletresponse org apache commons http client httpclient http method httpmethod org apache commons http client httpclient name value pair namevaluepair org apache sling commons json json array jsonarray org apache sling commons json json exception jsonexception org apache sling commons json json object jsonobject org apache sling commons testing int egration integration http test base httptestbase org apache sling commons testing int egration integration name value pair list namevaluepairlist org apache sling servlets post sling post constants slingpostconstants test content microjax post servlet microjaxpostservlet post servlet import test postservletimporttest http test base httptestbase string test base path sling tests random random random file test file testfile javadoc org apache sling commons testing int egration integration http test base httptestbase tear down teardown override tear down teardown exception test file testfile cleanup temp file test file testfile delete tear down teardown string get stream as string getstreamasstring input stream inputstream io exception ioexception string builder stringbuilder content string builder stringbuilder buffer read buffer buffer length content append string buffer content to string tostring string get stream as string getstreamasstring input stream inputstream string charset io exception ioexception input stream reader inputstreamreader reader input stream reader inputstreamreader charset string builder stringbuilder content string builder stringbuilder buffer reader read buffer content append buffer content to string tostring file get test file gettestfile input stream inputstream input stream inputstream io exception ioexception file temp file tempfile file create temp file createtempfile file upload file target file output stream fileoutputstream output stream outputstream file output stream fileoutputstream temp file tempfile bbuf len len input stream inputstream read bbuf output stream outputstream write bbuf len output stream outputstream flush output stream outputstream close temp file tempfile assertexpectedjson json object jsonobject expected json expectedjson json object jsonobject actual json actualjson json exception jsonexception iterator string expected json expectedjson has next hasnext string key object object expected json expectedjson key object object actual json actualjson key object json object jsonobject assert true asserttrue object json object jsonobject assertexpectedjson json object jsonobject object json object jsonobject object object json array jsonarray compare array assert true asserttrue object json array jsonarray json array jsonarray actual array actualarray json array jsonarray object object actual values set actualvaluesset hash set hashset object actual array actualarray length actual values set actualvaluesset add actual array actualarray json array jsonarray expected array expectedarray json array jsonarray object expected array expectedarray length assert true asserttrue actual values set actualvaluesset expected array expectedarray assert equals assertequals key key object object test operation replaces existing content test import replace testimportreplace io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode add node replaced props prop test proptest prop test value proptestvalue string imported node url importednodeurl test client testclient create node createnode http base url test path testpath node name nodename props replace option replace existing node props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath props sling post constants slingpostconstants replace string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file node path replaced node assert equals assertequals imported node url importednodeurl imported node url importednodeurl content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj test property assert null assertnull json obj jsonobj opt string optstring prop test proptest imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj sling test content existing content replace properties replaceproperties parameter replace property test import replace properties testimportreplaceproperties io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode initial content props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath props content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj top node replace properties props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport replace props replaceprops json props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants replace props sling post constants slingpostconstants replace properties test client testclient create node createnode imported node url importednodeurl props content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport replace props replaceprops json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test operation checks version able versionable nodes test import check in nodes testimportcheckinnodes io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath props sling post constants slingpostconstants checkin string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj version able versionable node checked assert false assertfalse json obj jsonobj get boolean getboolean jcr is checked out ischeckedout check in checkin test file testfile delete props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath props sling post constants slingpostconstants checkin string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj version able versionable node checked assert true asserttrue json obj jsonobj get boolean getboolean jcr is checked out ischeckedout sling test operation auto checks version able versionable nodes test import auto check out nodes testimportautocheckoutnodes io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode create content update props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath props sling post constants slingpostconstants checkin string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj version able versionable node checked assert false assertfalse json obj jsonobj get boolean getboolean jcr is checked out ischeckedout update auto check out autocheckout list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair post params postparams add name value pair namevaluepair sling post constants slingpostconstants operation sling post constants slingpostconstants operation post params postparams add name value pair namevaluepair sling post constants slingpostconstants content type json post params postparams add name value pair namevaluepair sling post constants slingpostconstants checkin post params postparams add name value pair namevaluepair sling post constants slingpostconstants replace properties post params postparams add name value pair namevaluepair sling post constants slingpostconstants auto check out checkout post params postparams add name value pair namevaluepair sling post constants slingpostconstants content abc def assert post status assertpoststatus imported node url importednodeurl http servlet response httpservletresponse internal server error post params postparams expected error version exception versionexception update auto check out autocheckout post params postparams clear post params postparams add name value pair namevaluepair sling post constants slingpostconstants operation sling post constants slingpostconstants operation post params postparams add name value pair namevaluepair sling post constants slingpostconstants content type json post params postparams add name value pair namevaluepair sling post constants slingpostconstants checkin post params postparams add name value pair namevaluepair sling post constants slingpostconstants replace properties post params postparams add name value pair namevaluepair sling post constants slingpostconstants auto check out checkout post params postparams add name value pair namevaluepair sling post constants slingpostconstants content abc def post params postparams add name value pair namevaluepair http equiv accept application json http method httpmethod post assert post status assertpoststatus imported node url importednodeurl http servlet response httpservletresponse created post params postparams expected status string response body as string responsebodyasstring post get response body as string getresponsebodyasstring json object jsonobject responsejson json object jsonobject response body as string responsebodyasstring json array jsonarray responsejson getjsonarray json object jsonobject check out change checkoutchange getjsonobject assert equals assertequals check out checkout check out change checkoutchange get string getstring type content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj updated assert equals assertequals def json obj jsonobj get string getstring abc version able versionable node checked assert false assertfalse json obj jsonobj get boolean getboolean jcr is checked out ischeckedout test operation pos ted posted json file testimportjsonfromfile io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test operation pos ted posted json file optional test import from file without optional name testimportjsonfromfilewithoutoptionalname io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file file assert true asserttrue imported node url importednodeurl ends with endswith node name nodename content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test operation pos ted posted json string testimportjsonfromrequestparam io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath props content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test operation pos ted posted json string optional test import from request param without optional name testimportjsonfromrequestparamwithoutoptionalname io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath props file assert true asserttrue imported node url importednodeurl ends with endswith node name nodename content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj testimportxmlfromfile io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport xml props sling post constants slingpostconstants content type xml props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test import from file without optional name testimportxmlfromfilewithoutoptionalname io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport xml props sling post constants slingpostconstants content type xml props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file file assert true asserttrue imported node url importednodeurl ends with endswith node name nodename content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test import from request param testimportxmlfromrequestparam io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename string xml content xmlcontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport xml props sling post constants slingpostconstants content xml content xmlcontent props sling post constants slingpostconstants content type xml props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath props content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test import from request param without optional name testimportxmlfromrequestparamwithoutoptionalname io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string xml content xmlcontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport xml props sling post constants slingpostconstants content xml content xmlcontent props sling post constants slingpostconstants content type xml props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath props file assert true asserttrue imported node url importednodeurl ends with endswith node name nodename content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test import zip from file testimportzipfromfile io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport zip props sling post constants slingpostconstants content type zip props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post testimport zip testimportzip json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj test import jar from file testimportjarfromfile io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport jar props sling post constants slingpostconstants content type jar props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post testimport zip testimportzip json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj testimportjcrxmlfromfile io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode props sling post constants slingpostconstants node test node name testnodename test file testfile get test file gettestfile get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport jcr xml props sling post constants slingpostconstants content type jcr xml props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath name value pair list namevaluepairlist props test file testfile sling post constants slingpostconstants content file content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj string import node with exact name importnodewithexactname string test node name testnodename io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation props sling post constants slingpostconstants node test node name testnodename string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string location test client testclient create node createnode http base url test path testpath props content location string content get content getcontent location json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content string expected json content expectedjsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post import results importresults json assertexpectedjson json object jsonobject expected json content expectedjsoncontent json obj jsonobj assert http status asserthttpstatus location ext http servlet response httpservletresponse post redirect created resource location assert true asserttrue node location exact location ends with endswith assert true asserttrue node location created post url test node testnode location test node testnode assert true asserttrue node location exact test node name testnodename location ends with endswith test node name testnodename location sling test create node exact node filtering test import node with exact name testimportnodewithexactname io exception ioexception json exception jsonexception import node with exact name importnodewithexactname exact node name exactnodename sling test error reporting attempting create node invalid exact node test import node with invalid exact name testimportnodewithinvalidexactname io exception ioexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair post params postparams add name value pair namevaluepair sling post constants slingpostconstants operation sling post constants slingpostconstants operation post params postparams add name value pair namevaluepair sling post constants slingpostconstants node exact node name exactnodename string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport json post params postparams add name value pair namevaluepair sling post constants slingpostconstants content json content jsoncontent post params postparams add name value pair namevaluepair sling post constants slingpostconstants content type json post params postparams add name value pair namevaluepair sling post constants slingpostconstants redirect servlet context test path testpath expect status invalid string location http base url test path testpath assert post status assertpoststatus location http servlet response httpservletresponse internal server error post params postparams sling test error reporting attempting node node test import node with already used exact name testimportnodewithalreadyusedexactname io exception ioexception json exception jsonexception string test node name testnodename already used exact node name alreadyusedexactnodename string location import node with exact name importnodewithexactname test node name testnodename create node siblings allowed error thrown list name value pair namevaluepair post params postparams array list arraylist name value pair namevaluepair post params postparams add name value pair namevaluepair sling post constants slingpostconstants node test node name testnodename expect status unique string post url posturl location substring location last index of lastindexof assert post status assertpoststatus post url posturl sling post constants slingpostconstants create suffix http servlet response httpservletresponse internal server error post params postparams sling test json utf charset testimportjsonwithutf content io exception ioexception json exception jsonexception string test path testpath test base path map string string props hash map hashmap string string string test node testnode test client testclient create node createnode http base url test path testpath props urls to delete urlstodelete add test node testnode props clear props sling post constants slingpostconstants operation sling post constants slingpostconstants operation string test node name testnodename test node testnode string value of valueof random next int nextint props sling post constants slingpostconstants node hint test node name testnodename string json content jsoncontent get stream as string getstreamasstring get class getclass get resource as stream getresourceasstream int egration integration test servlets post test import testimport utf json utf props sling post constants slingpostconstants content json content jsoncontent props sling post constants slingpostconstants content type json props sling post constants slingpostconstants redirect servlet context test path testpath string imported node url importednodeurl test client testclient create node createnode http base url test path testpath props content location string content get content getcontent imported node url importednodeurl json content type json json object jsonobject json obj jsonobj json object jsonobject content assert not null assertnotnull json obj jsonobj imported content assertexpectedjson json object jsonobject json content jsoncontent json obj jsonobj
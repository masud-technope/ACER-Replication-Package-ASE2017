licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling javax activation internal java io exception ioexception java input stream inputstream java util array list arraylist java util hash map hashmap java util list java util locale java util map javax activation command info commandinfo javax activation command map commandmap javax activation data content handler datacontenthandler org osgi framework bundle org slf logger org slf logger factory loggerfactory sun activation reg istries registries mailcap file mailcapfile osgi mailcap command map osgimailcapcommandmap command map commandmap ensures link data command handler datacommandhandler classes loaded bundles javax activation bundle obey class loading classloading cont raints contraints osg i osgi environment preserving functionality unmodified version bundle not ably notably implementation support loading mailcap files bundle osgi mailcap command map osgimailcapcommandmap command map commandmap logger log logger factory loggerfactory get logger getlogger osgi mailcap command map osgimailcapcommandmap map bundle mailcap file mailcapfile hash map hashmap bundle mailcap file mailcapfile object sync object add mailcap entries addmailcapentries input stream inputstream mailcap file mailcapfile bundle originating bundle originatingbundle io exception ioexception sync originating bundle originatingbundle mailcap file mailcapfile mailcap file mailcapfile log debug mailcap entries bundle originating bundle originatingbundle remove mailcap entries for bundle removemailcapentriesforbundle bundle bundle removed sync removed remove bundle removed log debug removed mailcap entries bundle bundle override command info commandinfo get preferred commands getpreferredcommands string mime type mimetype list command info commandinfo commands array list arraylist command info commandinfo mime type mimetype mime type mimetype mime type mimetype to lower case tolowercase locale english sync get preferred commands getpreferredcommands mime type mimetype commands get preferred commands getpreferredcommands mime type mimetype commands commands to array toarray command info commandinfo commands size get preferred commands getpreferredcommands string mime type mimetype list command info commandinfo accumulator fallback map entry bundle mailcap file mailcapfile entry entry set entryset map command map commandmap fallback entry get value getvalue get mailcap fallback list getmailcapfallbacklist mime type mimetype entry get value getvalue get mailcap list getmailcaplist mime type mimetype command map commandmap object verb object verbobject command map commandmap key set keyset string verb string verb object verbobject commands have verb commandshaveverb accumulator verb list commands list command map commandmap verb string class name classname string commands accumulator add command info commandinfo verb class name classname override command info commandinfo get all commands getallcommands string mime type mimetype list command info commandinfo commands array list arraylist command info commandinfo mime type mimetype mime type mimetype mime type mimetype to lower case tolowercase locale english sync get all commands getallcommands mime type mimetype commands get all commands getallcommands mime type mimetype commands commands to array toarray command info commandinfo commands size get all commands getallcommands string mime type mimetype list command info commandinfo accumulator fallback map entry bundle mailcap file mailcapfile entry entry set entryset map command map commandmap fallback entry get value getvalue get mailcap fallback list getmailcapfallbacklist mime type mimetype entry get value getvalue get mailcap list getmailcaplist mime type mimetype command map commandmap object verb as object verbasobject command map commandmap key set keyset string verb string verb as object verbasobject list commands list command map commandmap verb object command commands accumulator add command info commandinfo verb string command override command info commandinfo get command getcommand string mime type mimetype string cmd name cmdname mime type mimetype mime type mimetype mime type mimetype to lower case tolowercase locale english command info commandinfo command sync command get command getcommand mime type mimetype cmd name cmdname command command command get command getcommand mime type mimetype cmd name cmdname command command info commandinfo get command getcommand string mime type mimetype string command name commandname fallback map entry bundle mailcap file mailcapfile entry entry set entryset map command map commandmap fallback entry get value getvalue get mailcap fallback list getmailcapfallbacklist mime type mimetype entry get value getvalue get mailcap list getmailcaplist mime type mimetype command map commandmap list commands list command map commandmap command name commandname commands string cmd class name cmdclassname string commands cmd class name cmdclassname command info commandinfo command name commandname cmd class name cmdclassname override data content handler datacontenthandler create data content handler createdatacontenthandler string mime type mimetype mime type mimetype mime type mimetype mime type mimetype to lower case tolowercase locale english sync data content handler datacontenthandler dch find data content handler finddatacontenthandler mime type mimetype dch dch find data content handler finddatacontenthandler mime type mimetype data content handler datacontenthandler find data content handler finddatacontenthandler string mime type mimetype fallback map entry bundle mailcap file mailcapfile entry entry set entryset map command map commandmap fallback entry get value getvalue get mailcap fallback list getmailcapfallbacklist mime type mimetype entry get value getvalue get mailcap list getmailcaplist mime type mimetype command map commandmap list list command map commandmap content handler string string data content handler datacontenthandler dch get data content handler getdatacontenthandler entry get key getkey dch dch string get mime types getmimetypes list string mime types list mimetypeslist array list arraylist string sync map entry bundle mailcap file mailcapfile entry entry set entryset string mime types mimetypes entry get value getvalue get mime types getmimetypes string mime type mimetype mime types mimetypes mime types list mimetypeslist mime type mimetype mime types list mimetypeslist add mime type mimetype mime types list mimetypeslist to array toarray string mime types list mimetypeslist size data content handler datacontenthandler get data content handler getdatacontenthandler string bundle bundle data content handler datacontenthandler bundle load class loadclass new instance newinstance instantiation exception instantiationexception log warn unable instantiate data content handler datacontenthandler get simple name getsimplename bundle bundle illegal access exception illegalaccessexception log warn unable instantiate data content handler datacontenthandler get simple name getsimplename bundle bundle class not found exception classnotfoundexception log warn unable instantiate data content handler datacontenthandler get simple name getsimplename bundle bundle commands have verb commandshaveverb list command info commandinfo commands string verb command info commandinfo command info commandinfo commands command info commandinfo get command name getcommandname equals verb
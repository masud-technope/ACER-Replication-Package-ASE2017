licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling health checks healthchecks org junit assert false assertfalse org junit assert true asserttrue java util arrays javax jcr credentials javax jcr session javax jcr simple credentials simplecredentials org apache sling api result org apache sling support impl default log ins health check defaultloginshealthcheck org apache sling jcr api sling repository slingrepository org junit test org mockito matchers org mockito mockito org mockito invocation invocation on mock invocationonmock org mockito stub bin g stubbing answer default log ins health check test defaultloginshealthchecktest result get test result gettestresult string login exception default log ins health check defaultloginshealthcheck default log ins health check defaultloginshealthcheck set field setfield log ins logins arrays as list aslist string login sling repository slingrepository repo mockito mock sling repository slingrepository set field setfield repository repo session mockito mock session mockito repo login matchers credentials then answer thenanswer answer session override session answer invocation on mock invocationonmock invocation simple credentials simplecredentials simple credentials simplecredentials invocation get arguments getarguments admin equals get user d getuserid execute test test health check fails testhealthcheckfails exception assert false assertfalse expecting failed check get test result gettestresult admin admin is ok isok test test health check succeeds testhealthchecksucceeds exception assert true asserttrue expecting successful check get test result gettestresult foo bar is ok isok
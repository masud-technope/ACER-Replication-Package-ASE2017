licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution queue impl simple org apache sling distribution queue distribution queue distributionqueue org apache sling distribution queue distribution queue entry distributionqueueentry org apache sling distribution queue distribution queue item distributionqueueitem org apache sling distribution queue distribution queue item status distributionqueueitemstatus org junit test org junit assert equals assertequals org junit assert false assertfalse org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue org mockito mockito mock org mockito mockito test case testcase link simple distribution queue simpledistributionqueue simple distribution queue test simpledistributionqueuetest test test package add ition testpackageaddition exception distribution queue distributionqueue queue simple distribution queue simpledistributionqueue agent name agentname distribution queue item distributionqueueitem pkg mock distribution queue item distributionqueueitem assert true asserttrue queue add pkg assert false assertfalse queue get status getstatus is empty isempty test test package add ition and removal testpackageadditionandremoval exception distribution queue distributionqueue queue simple distribution queue simpledistributionqueue agent name agentname distribution queue item distributionqueueitem pkg mock distribution queue item distributionqueueitem pkg get id getid then return thenreturn assert true asserttrue queue add pkg assert false assertfalse queue get status getstatus is empty isempty assert not null assertnotnull queue remove pkg get id getid assert true asserttrue queue get status getstatus is empty isempty distribution queue entry distributionqueueentry entry queue get item getitem pkg get id getid assert null assertnull entry test test package add ition retrieval and removal testpackageadditionretrievalandremoval exception distribution queue distributionqueue queue simple distribution queue simpledistributionqueue agent name agentname distribution queue item distributionqueueitem pkg mock distribution queue item distributionqueueitem pkg get id getid then return thenreturn assert true asserttrue queue add pkg assert false assertfalse queue get status getstatus is empty isempty assert equals assertequals pkg queue get head gethead get item getitem assert false assertfalse queue get status getstatus is empty isempty distribution queue item status distributionqueueitemstatus status queue get item getitem pkg get id getid get status getstatus assert not null assertnotnull queue remove pkg get id getid assert true asserttrue queue get status getstatus is empty isempty assert not null assertnotnull status assert equals assertequals status get attempts getattempts
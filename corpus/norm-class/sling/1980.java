licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution serialization impl javax annotation check for null checkfornull javax annotation nonnull javax jcr repository exception repositoryexception javax jcr session java buffered input stream bufferedinputstream java input stream inputstream org apache sling api resource resource resolver resourceresolver org apache sling distribution distribution request distributionrequest org apache sling distribution distribution request type distributionrequesttype org apache sling distribution common distribution exception distributionexception org apache sling distribution pack aging packaging impl distribution package utils distributionpackageutils org apache sling distribution serialization distribution package distributionpackage org apache sling distribution serialization distribution package info distributionpackageinfo org apache sling distribution serialization distribution package builder distributionpackagebuilder org apache sling distribution serialization impl vlt vlt utils vltutils org apache sling distribution util distribution jcr utils distributionjcrutils org slf logger org slf logger factory loggerfactory base implementation jcr based link org apache sling distribution serialization distribution package builder distributionpackagebuilder abstract distribution package builder abstractdistributionpackagebuilder distribution package builder distributionpackagebuilder logger log logger factory loggerfactory get logger getlogger get class getclass string type abstract distribution package builder abstractdistributionpackagebuilder string type type type string get type gettype type nonnull distribution package distributionpackage create package createpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution request distributionrequest request distribution exception distributionexception distribution package distributionpackage distribution package distributionpackage request vlt utils vltutils sanitize request sanitizerequest request distribution request type distributionrequesttype add equals request get request type getrequesttype distribution package distributionpackage create package for add createpackageforadd resource resolver resourceresolver request distribution request type distributionrequesttype delete equals request get request type getrequesttype distribution package distributionpackage simple distribution package simpledistributionpackage request type distribution request type distributionrequesttype pull equals request get request type getrequesttype distribution package distributionpackage simple distribution package simpledistributionpackage request type distribution request type distributionrequesttype test equals request get request type getrequesttype distribution package distributionpackage simple distribution package simpledistributionpackage request type distribution exception distributionexception unknown action type request get request type getrequesttype distribution package utils distributionpackageutils fill info fillinfo distribution package distributionpackage get info getinfo request distribution package distributionpackage nonnull distribution package distributionpackage read package readpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull input stream inputstream stream distribution exception distributionexception stream mark supported marksupported stream buffered input stream bufferedinputstream stream distribution package distributionpackage distribution package distributionpackage simple distribution package simpledistributionpackage from stream fromstream stream type stream mark simple distribution package distributionpackage distribution package distributionpackage read package internal readpackageinternal resource resolver resourceresolver stream distribution package distributionpackage install package installpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution package distributionpackage distribution package distributionpackage distribution exception distributionexception distribution request type distributionrequesttype action type actiontype distribution package distributionpackage get info getinfo get request type getrequesttype type equals distribution package distributionpackage get type gettype distribution exception distributionexception supported type distribution package distributionpackage get type gettype installed distribution request type distributionrequesttype delete equals action type actiontype installed install delete package installdeletepackage resource resolver resourceresolver distribution package distributionpackage distribution request type distributionrequesttype test equals action type actiontype test packages installed distribution request type distributionrequesttype add equals action type actiontype installed install package internal installpackageinternal resource resolver resourceresolver distribution package distributionpackage installed install delete package installdeletepackage nonnull resource resolver resourceresolver resource resolver resourceresolver check for null checkfornull distribution package distributionpackage distribution package distributionpackage distribution exception distributionexception session session distribution package distributionpackage session get session getsession resource resolver resourceresolver string path distribution package distributionpackage get info getinfo get paths getpaths session item exists itemexists path session remove item removeitem path exception distribution exception distributionexception unget session ungetsession session check for null checkfornull distribution package distributionpackage get package getpackage nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull string distribution package distributionpackage distribution package distributionpackage simple distribution package simpledistributionpackage from id string fromidstring type simple distribution package distributionpackage distribution package distributionpackage get package internal getpackageinternal resource resolver resourceresolver distribution package distributionpackage session get session getsession resource resolver resourceresolver resource resolver resourceresolver repository exception repositoryexception session session resource resolver resourceresolver adapt to adaptto session session distribution jcr utils distributionjcrutils set do not distribute setdonotdistribute session repository exception repositoryexception session calling user resource resolver resourceresolver get user d getuserid session unget session ungetsession session session session session save repository exception repositoryexception log debug save session check for null checkfornull distribution package distributionpackage create package for add createpackageforadd nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution request distributionrequest request distribution exception distributionexception check for null checkfornull distribution package distributionpackage read package internal readpackageinternal nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull input stream inputstream stream distribution exception distributionexception install package internal installpackageinternal nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull distribution package distributionpackage distribution package distributionpackage distribution exception distributionexception check for null checkfornull distribution package distributionpackage get package internal getpackageinternal nonnull resource resolver resourceresolver resource resolver resourceresolver nonnull string
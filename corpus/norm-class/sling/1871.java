licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl org junit java util random javax management not compliant bean exception notcompliantmbeanexception org apache commons math stat descriptive summary statistics summarystatistics org apache sling engine impl request request data requestdata org jmock expectations org jmock mockery org jmock int egration integration junit j mock jmock org jmock int egration integration junit j unit junit mockery org jmock lib legacy class imposteriser classimposteriser org junit test org junit runner run with runwith run with runwith j mock jmock request processor bean impl test requestprocessormbeanimpltest mockery context j unit junit mockery set imposteriser setimposteriser class imposteriser classimposteriser instance asserts simple standard dev iation deviation algorithm request processor bean impl requestprocessormbeanimpl equivalent commons math summary statistics summarystatistics implementation tests reset statistics resetstatistics method res ets resets statistics not compliant bean exception notcompliantmbeanexception expected test test statistics not compliant bean exception notcompliantmbeanexception summary statistics summarystatistics duration stats durationstats summary statistics summarystatistics summary statistics summarystatistics servlet call count stats servletcallcountstats summary statistics summarystatistics summary statistics summarystatistics peak recursion depth stats peakrecursiondepthstats summary statistics summarystatistics request processor bean impl requestprocessormbeanimpl bean request processor bean impl requestprocessormbeanimpl assert equals assertequals bean get requests count getrequestscount assert equals assertequals max bean get min request duration msec getminrequestdurationmsec assert equals assertequals bean get max request duration msec getmaxrequestdurationmsec assert equals assertequals bean get mean request duration msec getmeanrequestdurationmsec assert equals assertequals bean get standard deviation duration msec getstandarddeviationdurationmsec assert equals assertequals integer max bean get min servlet call count getminservletcallcount assert equals assertequals bean get max servlet call count getmaxservletcallcount assert equals assertequals bean get mean servlet call count getmeanservletcallcount assert equals assertequals bean get standard deviation servlet call count getstandarddeviationservletcallcount assert equals assertequals integer max bean get min peak recursion depth getminpeakrecursiondepth assert equals assertequals bean get max peak recursion depth getmaxpeakrecursiondepth assert equals assertequals bean get mean peak recursion depth getmeanpeakrecursiondepth assert equals assertequals bean get standard deviation peak recursion depth getstandarddeviationpeakrecursiondepth random random random system current time millis currenttimemillis num min max num duration value durationvalue min random next int nextint max min call count value callcountvalue min random next int nextint max min peak recursion depth value peakrecursiondepthvalue min random next int nextint max min duration stats durationstats add value addvalue duration value durationvalue servlet call count stats servletcallcountstats add value addvalue call count value callcountvalue peak recursion depth stats peakrecursiondepthstats add value addvalue peak recursion depth value peakrecursiondepthvalue request data requestdata request data requestdata context mock request data requestdata request data requestdata context checking expectations request data requestdata get elapsed time msec getelapsedtimemsec return value returnvalue duration value durationvalue request data requestdata get servlet call count getservletcallcount return value returnvalue call count value callcountvalue request data requestdata get peak recusion depth getpeakrecusiondepth return value returnvalue peak recursion depth value peakrecursiondepthvalue bean add request data addrequestdata request data requestdata assert equals assertequals number points duration stats durationstats get n getn bean get requests count getrequestscount assert equals assertequals min duration equal duration stats durationstats get min getmin bean get min request duration msec getminrequestdurationmsec assert equals assertequals max duration equal duration stats durationstats get max getmax bean get max request duration msec getmaxrequestdurationmsec assert almost equal assertalmostequal duration duration stats durationstats get mean getmean bean get mean request duration msec getmeanrequestdurationmsec num assert almost equal assertalmostequal standard deviation duration duration stats durationstats get standard deviation getstandarddeviation bean get standard deviation duration msec getstandarddeviationdurationmsec num assert equals assertequals min servlet call count equal servlet call count stats servletcallcountstats get min getmin bean get min servlet call count getminservletcallcount assert equals assertequals max servlet call count equal servlet call count stats servletcallcountstats get max getmax bean get max servlet call count getmaxservletcallcount assert almost equal assertalmostequal servlet call count servlet call count stats servletcallcountstats get mean getmean bean get mean servlet call count getmeanservletcallcount num assert almost equal assertalmostequal standard deviation servlet call count servlet call count stats servletcallcountstats get standard deviation getstandarddeviation bean get standard deviation servlet call count getstandarddeviationservletcallcount num assert equals assertequals min peak recursion depth equal peak recursion depth stats peakrecursiondepthstats get min getmin bean get min peak recursion depth getminpeakrecursiondepth assert equals assertequals max peak recursion depth equal peak recursion depth stats peakrecursiondepthstats get max getmax bean get max peak recursion depth getmaxpeakrecursiondepth assert almost equal assertalmostequal peak recursion depth peak recursion depth stats peakrecursiondepthstats get mean getmean bean get mean peak recursion depth getmeanpeakrecursiondepth num assert almost equal assertalmostequal standard deviation peak recursion depth peak recursion depth stats peakrecursiondepthstats get standard deviation getstandarddeviation bean get standard deviation peak recursion depth getstandarddeviationpeakrecursiondepth num check method reset statistics resetstatistics previous test requests processed reset statistics statistic reinitialized bean reset statistics resetstatistics simulate single request duration value durationvalue min random next int nextint max min call count value callcountvalue min random next int nextint max min peak recursion depth value peakrecursiondepthvalue min random next int nextint max min request data requestdata request data requestdata context mock request data requestdata request data after reset requestdataafterreset context checking expectations request data requestdata get elapsed time msec getelapsedtimemsec return value returnvalue duration value durationvalue request data requestdata get servlet call count getservletcallcount return value returnvalue call count value callcountvalue request data requestdata get peak recusion depth getpeakrecusiondepth return value returnvalue peak recursion depth value peakrecursiondepthvalue bean add request data addrequestdata request data requestdata request simulate d simulated reset stati scts resetstatiscts min max statistics equals request data assert equals assertequals reset statistics resetstatistics number requests bean get requests count getrequestscount assert equals assertequals reset statistics resetstatistics min duration equal bean get min request duration msec getminrequestdurationmsec duration value durationvalue assert equals assertequals reset statistics resetstatistics max duration equal bean get max request duration msec getmaxrequestdurationmsec duration value durationvalue assert equals assertequals reset statistics resetstatistics duration equal bean get mean request duration msec getmeanrequestdurationmsec duration value durationvalue assert equals assertequals reset statistics resetstatistics min servlet call count equal bean get min servlet call count getminservletcallcount call count value callcountvalue assert equals assertequals reset statistics resetstatistics max servlet call count equal bean get max servlet call count getmaxservletcallcount call count value callcountvalue assert equals assertequals reset statistics resetstatistics servlet call count bean get mean servlet call count getmeanservletcallcount call count value callcountvalue assert equals assertequals reset statistics resetstatistics min peak recursion depth equal bean get min peak recursion depth getminpeakrecursiondepth peak recursion depth value peakrecursiondepthvalue assert equals assertequals reset statistics resetstatistics max peak recursion depth equal bean get min peak recursion depth getminpeakrecursiondepth peak recursion depth value peakrecursiondepthvalue assert equals assertequals reset statistics resetstatistics peak recursion depth bean get mean peak recursion depth getmeanpeakrecursiondepth peak recursion depth value peakrecursiondepthvalue assert almost equal assertalmostequal string message samples centi samples centi centi fail message expected centi centi
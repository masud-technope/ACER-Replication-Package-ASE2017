licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing tools osgi org junit fail java file org apache http entity mime multipart entity multipartentity org apache http entity mime content file body filebody org apache http entity mime content string body stringbody org apache http impl client default http client defaulthttpclient org apache sling commons json json array jsonarray org apache sling commons json json object jsonobject org apache sling testing tools http request builder requestbuilder org apache sling testing tools http request executor requestexecutor org apache sling testing tools http retrying content checker retryingcontentchecker org slf logger org slf logger factory loggerfactory http client felix webconsole simplistic web console client webconsoleclient logger log logger factory loggerfactory get logger getlogger get class getclass request executor requestexecutor executor request builder requestbuilder builder string username string password string json key string json key version version string json key data data string json key string console bundles path system console bundles web console client webconsoleclient string sling server url slingserverurl string username string password builder request builder requestbuilder sling server url slingserverurl executor request executor requestexecutor default http client defaulthttpclient username username password password uninstall bundle uninstallbundle string symbolic name symbolicname file exception bundle id bundleid get bundle id getbundleid symbolic name symbolicname log info uninstalling bundle bundle id bundleid symbolic name symbolicname bundle id bundleid multipart entity multipartentity entity multipart entity multipartentity entity add part addpart action string body stringbody uninstall executor execute builder build post request buildpostrequest console bundles path bundle id bundleid with credentials withcredentials username password with entity withentity entity assert status assertstatus install bundle felix webconsole http specific start level install bundle installbundle file start bundle startbundle exception install bundle installbundle start bundle startbundle install bundle felix webconsole http specific start level install bundle installbundle file start bundle startbundle start level startlevel exception setup request felix web console webconsole bundle install multipart entity multipartentity entity multipart entity multipartentity entity add part addpart action string body stringbody install start bundle startbundle entity add part addpart bundles tar t bundlestart string body stringbody entity add part addpart bundle file bundlefile file body filebody start level startlevel entity add part addpart bundles tar tlevel bundlestartlevel string body stringbody string value of valueof start level startlevel log info installing bundle start level get name getname start level startlevel log info installing bundle start level get name getname console returns success post handled automatically http spec executor execute builder build post request buildpostrequest console bundles path with credentials withcredentials username password with entity withentity entity assert status assertstatus check bundle installed called methods symbolic name symbolicname parameter install bundle installbundle called actual installation has n hasn happened check bundle installed checkbundleinstalled string symbolic name symbolicname timeout seconds timeoutseconds string path get bundle path getbundlepath symbolic name symbolicname json retrying content checker retryingcontentchecker executor builder username password check path timeout seconds timeoutseconds json object jsonobject get bundle data getbundledata string symbolic name symbolicname exception returns data structure status bundle bundles total bundles active data system bundle fragment state raw stateraw active version symbolic name symbolicname org apache felix framework category string path get bundle path getbundlepath symbolic name symbolicname json string content executor execute builder build get request buildgetrequest path with credentials withcredentials username password assert status assertstatus get content getcontent json object jsonobject root json object jsonobject content root json key data fail path provide json key data element json content content json array jsonarray data root getjsonarray json key data data length fail path json key data empty json content content json object jsonobject bundle data getjsonobject bundle json key fail path data missing json content content bundle bundle get bundle id getbundleid string symbolic name symbolicname exception json object jsonobject bundle get bundle data getbundledata symbolic name symbolicname bundle get long getlong json key bundle version string get bundle version getbundleversion string symbolic name symbolicname exception json object jsonobject bundle get bundle data getbundledata symbolic name symbolicname bundle get string getstring json key version bundle string get bundle state getbundlestate string symbolic name symbolicname exception json object jsonobject bundle get bundle data getbundledata symbolic name symbolicname bundle get string getstring json key start bundle start bundle startbundle string symbolic name symbolicname exception start bundle post action start url string path get bundle path getbundlepath symbolic name symbolicname log info starting bundle symbolic name symbolicname path multipart entity multipartentity entity multipart entity multipartentity entity add part addpart action string body stringbody start executor execute builder build post request buildpostrequest path with credentials withcredentials username password with entity withentity entity assert status assertstatus string get bundle path getbundlepath string symbolic name symbolicname string extension console bundles path symbolic name symbolicname extension extension calls package admin packageadmin refresh packages refreshpackages enforce wiring bundles refresh packages refreshpackages exception log info refresh packages multipart entity multipartentity entity multipart entity multipartentity entity add part addpart action string body stringbody refresh packages refreshpackages executor execute builder build post request buildpostrequest console bundles path with credentials withcredentials username password with entity withentity entity assert status assertstatus
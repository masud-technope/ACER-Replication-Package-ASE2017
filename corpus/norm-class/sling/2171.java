licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer core impl tasks java io exception ioexception java input stream inputstream java util collections org apache sling installer api tasks installation context installationcontext org apache sling installer api tasks resource state resourcestate org apache sling installer api tasks task resource group taskresourcegroup org apache sling installer core impl abstract install task abstractinstalltask org osgi framework bundle org osgi framework bundle exception bundleexception org osgi framework constants update system bundle registered resource registeredresource system bundle update task systembundleupdatetask abstract install task abstractinstalltask string bundle update order string system bundle update order bundle update order system bundle systembundle system bundle update task systembundleupdatetask task resource group taskresourcegroup task support tasksupport task support tasksupport task support tasksupport override execute installation context installationcontext ctx bundle system bundle systembundle get bundle context getbundlecontext get bundle getbundle constants system bundle location sanity check system bundle systembundle set finished state setfinishedstate resource state resourcestate ctx async task failed asynctaskfailed restart system bundle get resource getresource ctx log ref res hing refreshing system bundle get bundle ref res her getbundlerefresher refresh bundles refreshbundles ctx collections singleton list singletonlist system bundle systembundle input stream inputstream get resource getresource get input stream getinputstream get logger getlogger warn registered resource registeredresource input stream inputstream update system bundle get resource getresource set finished state setfinishedstate resource state resourcestate ctx async task failed asynctaskfailed system bundle systembundle update bundle exception bundleexception get logger getlogger warn updating system bundle failed unable retry set finished state setfinishedstate resource state resourcestate ctx async task failed asynctaskfailed io exception ioexception get logger getlogger warn removing failing task unable retry set finished state setfinishedstate resource state resourcestate ctx async task failed asynctaskfailed close io exception ioexception ignore override is async hronous task isasynchronoustask override string get sort key getsortkey get resource getresource system bundle update order bundle update order get resource getresource geturl
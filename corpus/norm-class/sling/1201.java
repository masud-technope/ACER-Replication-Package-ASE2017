licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting sightly impl javax script bindings javax script simple bindings simplebindings java util collections org apache commons lang string utils stringutils org apache sling api sling http servlet request slinghttpservletrequest org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api scripting sling bindings slingbindings org apache sling api scripting sling script helper slingscripthelper org apache sling scripting sightly resource resolution resourceresolution org apache sling scripting sightly sightly exception sightlyexception utilities script evaluation utils string extension bindings empty bindings simple bindings simplebindings collections string object empty map emptymap sling script helper slingscripthelper get helper gethelper bindings bindings sling script helper slingscripthelper bindings sling bindings slingbindings sling is js script isjsscript string identifier string extension string utils stringutils substring after last substringafterlast identifier extension equals ignore case equalsignorecase extension resource get script resource getscriptresource resource caller string path bindings bindings resource script resource scriptresource caller get child getchild path resource component caller componentcaller resource resolution resourceresolution get resource for request getresourceforrequest caller get resource resolver getresourceresolver sling http servlet request slinghttpservletrequest bindings sling bindings slingbindings request script resource scriptresource is resource overlay isresourceoverlay caller component caller componentcaller script resource scriptresource resource resolution resourceresolution get resource from search path getresourcefromsearchpath component caller componentcaller path script resource scriptresource resource resolution resourceresolution get resource from search path getresourcefromsearchpath caller path script resource scriptresource sightly exception sightlyexception required script resource located path caller caller get path getpath script resource scriptresource inheritance chain created code sling resource super type resourcesupertype method checks code resource b resourceb inherits code resource a resourcea code resource a resourcea code file parent inheritance check param resource a resourcea base resource param resource b resourceb over laid overlaid resource code code resource b resourceb overlays code resource b resourceb code is resource overlay isresourceoverlay resource resource a resourcea resource resource b resourceb string resource super type resourcebsupertype resource b resourceb get resource super type getresourcesupertype string utils stringutils is not empty isnotempty resource super type resourcebsupertype resource resolver resourceresolver resolver resource a resourcea get resource resolver getresourceresolver string parent resource type parentresourcetype resource a resourcea get resource type getresourcetype file equals parent resource type parentresourcetype parent resource type parentresourcetype resource util resourceutil get parent getparent resource a resourcea get path getpath parent resource type parentresourcetype equals resource b resourceb get path getpath resource parent b parentb resolver get resource getresource resource super type resourcebsupertype parent b parentb equals parent b parentb get path getpath string utils stringutils is not empty isnotempty resource super type resourcebsupertype parent b parentb get path getpath equals parent resource type parentresourcetype resource super type resourcebsupertype parent b parentb get resource super type getresourcesupertype parent b parentb resolver get resource getresource resource super type resourcebsupertype
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer factories deploy pck deploypck impl java io exception ioexception java input stream inputstream java util hash map hashmap java util map java util jar jar input stream jarinputstream java util jar manifest org apache sling installer api installable resource installableresource org apache sling installer api tasks install task installtask org apache sling installer api tasks install task factory installtaskfactory org apache sling installer api tasks registered resource registeredresource org apache sling installer api tasks resource transformer resourcetransformer org apache sling installer api tasks task resource group taskresourcegroup org apache sling installer api tasks transformation result transformationresult org osgi framework version org osgi service deployment admin deploymentadmin deployment admin deploymentadmin extension osg i osgi installer list ens listens files installs deployment admin deployment package installer deploymentpackageinstaller resource transformer resourcetransformer install task factory installtaskfactory string deploymentpackage symbolicmame deployment package deploymentpackage symbolic name symbolicname string deploymentpackage version deployment package deploymentpackage version string type deployment admin deploymentadmin deployment admin deploymentadmin deployment package installer deploymentpackageinstaller deployment admin deploymentadmin dp a dpa deployment admin deploymentadmin dp a dpa org apache sling installer api tasks resource transformer resourcetransformer transform org apache sling installer api tasks registered resource registeredresource transformation result transformationresult transform registered resource registeredresource resource resource get type gettype equals installable resource installableresource type file manifest get manifest getmanifest resource get input stream getinputstream string get main attributes getmainattributes get value getvalue deploymentpackage symbolicmame string get main attributes getmainattributes get value getvalue deploymentpackage version map string object attr hash map hashmap string object attr deploymentpackage symbolicmame transformation result transformationresult transformation result transformationresult set id setid set version setversion version set resource type setresourcetype type set attributes setattributes attr transformation result transformationresult io exception ioexception ignore read manifest supplied input stream closed manifest get manifest getmanifest input stream inputstream ins io exception ioexception manifest result ins jar input stream jarinputstream jis jis jar input stream jarinputstream ins result jis get manifest getmanifest closing jar stream closes input stream jis jis close io exception ioexception ignore ins close io exception ioexception ignore result org apache sling installer api tasks install task factory installtaskfactory create task createtask org apache sling installer api tasks task resource group taskresourcegroup install task installtask create task createtask task resource group taskresourcegroup to activate toactivate to activate toactivate get active resource getactiveresource get type gettype equals type deploy pck task deploypcktask to activate toactivate deployment admin deploymentadmin
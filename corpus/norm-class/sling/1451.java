licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling commons fsclassloader impl java file java file input stream fileinputstream java i o exception ioexception java input stream inputstream java writer java net malformedurlexception java util linked hash map linkedhashmap java util map javax servlet servlet config servletconfig javax servlet servlet exception servletexception javax servlet http http servlet request httpservletrequest javax servlet http http servlet response httpservletresponse org apache commons i o utils ioutils org apache commons lang string escape utils stringescapeutils org apache commons lang string utils stringutils org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations service org apache felix webconsole abstract web console plugin abstractwebconsoleplugin org osgi service component component context componentcontext web console file system filesystem loader users download java files component service properties property service description jsp script handler property service vendor apache software foundation property felix webconsole label fs class loader web console fsclassloaderwebconsole app root property felix webconsole title file system loader property felix webconsole css fs class loader web console fsclassloaderwebconsole res loc prettify css property felix webconsole category sling fs class loader web console fsclassloaderwebconsole abstract web console plugin abstractwebconsoleplugin string app root fsclassloader string res loc app root res represents java deps files script script files scriptfiles script file param file file find associate script script string get script getscript file file string relative file get absolute path getabsolutepath substring root get absolute path getabsolutepath length string script remove relative org apache jsp script remove script script remove script java script remove script deps file separator char separatorchar script script replace file separator char separatorchar string utils stringutils substring before last substringbeforelast script string utils stringutils substring after last substringafterlast script string remove string orig string rem orig replace rem string class file classfile string deps file depsfile string java file javafile string script script files scriptfiles file file script get script getscript file string relative file get absolute path getabsolutepath substring root get absolute path getabsolutepath length relative remove relative relative remove relative deps relative remove relative java class file classfile relative deps file depsfile relative deps java file javafile relative java string get class file getclassfile class file classfile string get deps file getdepsfile deps file depsfile string get java file getjavafile java file javafile string get script getscript script file root serialversionuid servlet config servletconfig config activate activate component context componentcontext component context componentcontext malformedurlexception root file component context componentcontext get bundle context getbundlecontext get data file getdatafile classes destroy do get doget http servlet request httpservletrequest request http servlet response httpservletresponse response servlet exception servletexception i o exception ioexception string file request get parameter getparameter download file to down load todownload file root file string utils stringutils is empty isempty file is valid isvalid to down load todownload input stream inputstream file input stream fileinputstream to down load todownload response set header setheader content disposition attachment filename to down load todownload get name getname i o utils ioutils copy response get output stream getoutputstream i o utils ioutils close quietly closequietly i o utils ioutils close quietly closequietly response get output stream getoutputstream response send error senderror file file request getrequesturi ends with endswith res loc prettify css response set content type setcontenttype text css i o utils ioutils copy get class getclass get class loader getclassloader get resource as stream getresourceasstream res prettify css response get output stream getoutputstream request getrequesturi ends with endswith res loc prettify response set content type setcontenttype application java script javascript i o utils ioutils copy get class getclass get class loader getclassloader get resource as stream getresourceasstream res prettify response get output stream getoutputstream do get doget request response override string get label getlabel fsclassloader servlet config servletconfig get servlet config getservletconfig config string get servlet info getservletinfo override string get title gettitle file system loader init servlet config servletconfig config servlet exception servletexception config config is valid isvalid file file i o exception ioexception file is file isfile file parent file get canonical file getcanonicalfile get absolute file getabsolutefile get parent file getparentfile parent parent get absolute path getabsolutepath equals root get absolute path getabsolutepath parent parent get parent file getparentfile read files readfiles file file map string script files scriptfiles scripts i o exception ioexception file is directory isdirectory file file list files listfiles read files readfiles scripts string script script files scriptfiles get script getscript file scripts contains key containskey script file get name getname ends with endswith java scripts script script files scriptfiles file override render content rendercontent http servlet request httpservletrequest request http servlet response httpservletresponse response servlet exception servletexception i o exception ioexception map string script files scriptfiles scripts linked hash map linkedhashmap string script files scriptfiles read files readfiles root scripts writer response get writer getwriter write link rel style sheet stylesheet type text css href res loc prettify css link write script type text java script javascript src res loc prettify script write script document ready pretty print prettyprint script write style prettyprint line nums linenums list style type decimal style string file request get parameter getparameter view file to view toview file root file string utils stringutils is empty isempty file is valid isvalid to view toview write statline highlight viewing script root file script files scriptfiles script files scriptfiles script files scriptfiles to view toview write table nicetable widget write header widget header write script write write deps write java write write write script files scriptfiles get script getscript write href download script files scriptfiles get class file getclassfile target blank download write href download script files scriptfiles get deps file getdepsfile target blank download write href download script files scriptfiles get java file getjavafile target blank download write write table input stream inputstream file input stream fileinputstream to view toview string contents i o utils ioutils to string tostring write pre prettyprint line nums linenums code string escape utils stringescapeutils escape html escapehtml contents write pre code i o utils ioutils close quietly closequietly response send error senderror file file write statline highlight file system class loader classloader root root write table nicetable widget write header widget header write view write script write script files scriptfiles script files scriptfiles scripts values write odd write href view script files scriptfiles get java file getjavafile view write script files scriptfiles get script getscript write write table
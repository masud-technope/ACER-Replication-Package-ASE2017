licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing mock jcr org junit assert equals assertequals org junit assert not null assertnotnull javax jcr repository exception repositoryexception javax jcr workspace javax jcr observation observation manager observationmanager org junit org junit test mock workspace test mockworkspacetest workspace under test undertest set up setup under test undertest mock jcr mockjcr new session newsession get workspace getworkspace test test name testname assert equals assertequals mock jcr mockjcr workspace under test undertest get name getname test test name space registry testnamespaceregistry repository exception repositoryexception assert not null assertnotnull under test undertest get name space registry getnamespaceregistry test test observation manager testobservationmanager repository exception repositoryexception mage listener methods called observation manager observationmanager observation manager observationmanager under test undertest get observation manager getobservationmanager observation manager observationmanager add event listener addeventlistener observation manager observationmanager remove event listener removeeventlistener test test node type manager testnodetypemanager repository exception repositoryexception assert not null assertnotnull under test undertest get node type manager getnodetypemanager
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling resource inventory impl java util iterator org apache sling api resource resource org apache sling commons json json exception jsonexception org apache sling commons json json object jsonobject resource traversor resourcetraversor json object jsonobject start object startobject resource start resource startresource resource traversor resourcetraversor resource resource json exception jsonexception start resource startresource resource start object startobject adapt resource recursive descent start resource startresource collecting json objects jsonobjects start object startobject json exception jsonexception collect resources collectresources json exception jsonexception collect children collectchildren start resource startresource start object startobject param resource param current level currentlevel json exception jsonexception collect children collectchildren resource resource json object jsonobject json obj jsonobj json exception jsonexception iterator resource children resource list children listchildren children has next hasnext resource res children json object jsonobject json collect resource collectresource res json obj jsonobj collect children collectchildren res json adds resource json tree param resource resource add param level level resource located json exception jsonexception json object jsonobject collect resource collectresource resource resource json object jsonobject parent json exception jsonexception json object jsonobject adapt resource parent resource get name getname adapt resource json object param resource resource adapt json representation resource json exception jsonexception json object jsonobject adapt resource resource json exception jsonexception json object creator jsonobjectcreator create resource json object jsonobject getjsonobject start object startobject
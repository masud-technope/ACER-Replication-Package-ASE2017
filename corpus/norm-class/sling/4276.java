licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling jcr base internal java util array list arraylist java util hash map hashmap java util list java util map javax jcr repository org apache felix scr annotations component org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org osgi framework bundle context bundlecontext org osgi framework constants org osgi framework service registration serviceregistration org slf logger org slf logger factory loggerfactory repository provider list ens listens javax jcr repository services registers web console plugin component spec version specversion reference repository reference interface referenceinterface repository policy reference policy referencepolicy dynamic cardinality reference cardinality referencecardinality optional multiple repository printer provider repositoryprinterprovider logger logger logger logger factory loggerfactory get logger getlogger get class getclass map service registration serviceregistration registrations hash map hashmap service registration serviceregistration bundle context bundlecontext bundle context bundlecontext list services bound activate called list pending service pendingservice pending services pendingservices array list arraylist pending service pendingservice activate component activate bundle context bundlecontext ctx list pending service pendingservice copy list copylist pending services pendingservices bundle context bundlecontext ctx copy list copylist array list arraylist pending service pendingservice pending services pendingservices pending services pendingservices clear pending service pendingservice reg copy list copylist register printer registerprinter bundle context bundlecontext reg repository reg properties deactivate component deactivate pending services pendingservices bundle context bundlecontext register printer registerprinter bundle context bundlecontext process context processcontext repository repo map string object props logger info providing configuration printer repo props key props constants service repository printer repositoryprinter printer repository printer repositoryprinter repo props service registration serviceregistration reg process context processcontext register service registerservice repository printer repositoryprinter get name getname printer printer get properties getproperties registrations registrations key reg bind repository bind repository bindrepository repository repo map string object props bundle context bundlecontext process context processcontext pending services pendingservices process context processcontext bundle context bundlecontext process context processcontext pending services pendingservices add pending service pendingservice repo props process context processcontext register printer registerprinter process context processcontext repo props unind repository unbind repository unbindrepository repository repo map string object props pending services pendingservices pending services pendingservices remove pending service pendingservice repo props key props constants service service registration serviceregistration reg registrations reg registrations remove key reg reg unregister data pending service pending service pendingservice repository repository map string object properties key pending service pendingservice repository map string object repository properties key properties constants service override hash code hashcode repository hash code hashcode override equals object obj obj obj pending service pendingservice key pending service pendingservice obj key
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp taglib java io exception ioexception javax servlet jsp jsp exception jspexception javax servlet jsp tagext body tag support bodytagsupport org apache commons lang string utils stringutils org apache sling scripting jsp taglib helpers xss support xsssupport org apache sling scripting jsp taglib helpers xss support xsssupport encoding mode org slf logger org slf logger factory loggerfactory tag writing properly xss encoded text response owasp esapi supporting number encoding modes encode tag encodetag body tag support bodytagsupport serialversionuid logger log logger factory loggerfactory get logger getlogger encode tag encodetag string string default value defaultvalue encoding mode mode read body readbody javadoc javax servlet jsp tagext tag support tagsupport do end tag doendtag override do end tag doendtag jsp exception jspexception log trace do end tag doendtag read body readbody body content bodycontent body content bodycontent get string getstring string encoded xss support xsssupport encode body content bodycontent get string getstring mode write encoded eval javadoc javax servlet jsp tagext body tag support bodytagsupport do start tag dostarttag override do start tag dostarttag jsp exception jspexception res skip body string unencoded unencoded unencoded default value defaultvalue unencoded string encoded xss support xsssupport encode unencoded mode write encoded read body readbody res eval body buffered res string get default getdefault default value defaultvalue mode string get mode getmode mode to string tostring string get value getvalue param default value defaultvalue set default setdefault string default value defaultvalue default value defaultvalue default value defaultvalue param mode mode set mode setmode string mode mode xss support xsssupport get encoding mode getencodingmode mode param set value setvalue string writes encoded text response param encoded encoded text write jsp exception jspexception write string encoded jsp exception jspexception string utils stringutils is empty isempty encoded page context pagecontext get out getout write encoded io exception ioexception log error exception writing escaped content jsp exception jspexception exception writing escaped content
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution monitor java util hash map hashmap java util list java util map java util concurrent copy on write array list copyonwritearraylist org apache felix scr annotations activate org apache felix scr annotations component org apache felix scr annotations deactivate org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations property unbounded propertyunbounded org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations references org apache felix scr annotations service org apache sling commons osgi properties util propertiesutil org apache sling distribution agent distribution agent distributionagent org apache sling distribution queue distribution queue distributionqueue org apache sling distribution queue distribution queue entry distributionqueueentry org apache sling distribution queue distribution queue item distributionqueueitem org apache sling distribution queue distribution queue item status distributionqueueitemstatus org apache sling api health check healthcheck org apache sling api result org apache sling util formatting result log formattingresultlog org slf logger org slf logger factory loggerfactory link health check healthcheck checks distribution queues item ret ried retried config urable configurable amount times component metatype label apache sling distribution queue health check properties property health check healthcheck sling distribution queue c slingdistributionqueuehc description health check label property health check healthcheck tags unbounded property unbounded propertyunbounded array description health check tags label tags property health check healthcheck mbean sling distribution queue slingdistributionqueue description health check m bean mbean label m bean mbean references reference distribution agent distributionagent reference interface referenceinterface distribution agent distributionagent cardinality reference cardinality referencecardinality optional multiple policy reference policy referencepolicy dynamic service health check healthcheck distribution queue health check distributionqueuehealthcheck health check healthcheck logger log logger factory loggerfactory get logger getlogger distribution queue health check distributionqueuehealthcheck number retries allowed number of retries allowed numberofretriesallowed property int value intvalue number retries allowed description number allowed retries label allowed retries string number retries allowed number of retries allowed numberofretriesallowed list distribution agent distributionagent distribution agents distributionagents copy on write array list copyonwritearraylist distribution agent distributionagent activate activate map string object properties number of retries allowed numberofretriesallowed properties util propertiesutil to integer tointeger properties number retries allowed number retries allowed log info activated number of retries allowed numberofretriesallowed number of retries allowed numberofretriesallowed deactivate deactivate distribution agents distributionagents clear bind distribution agent binddistributionagent distribution agent distributionagent distribution agent distributionagent distribution agents distributionagents add distribution agent distributionagent log debug registering distribution agent distribution agent distributionagent unbind distribution agent unbinddistributionagent distribution agent distributionagent distribution agent distributionagent distribution agents distributionagents remove distribution agent distributionagent log debug unregistering distribution agent distribution agent distributionagent result execute formatting result log formattingresultlog result log resultlog formatting result log formattingresultlog map string integer failures hash map hashmap string integer distribution agents distributionagents size distribution agent distributionagent distribution agent distributionagent distribution agents distributionagents string queue name queuename distribution agent distributionagent get queue names getqueuenames distribution queue distributionqueue distribution agent distributionagent get queue getqueue queue name queuename distribution queue entry distributionqueueentry entry get head gethead entry distribution queue item distributionqueueitem item entry get item getitem distribution queue item status distributionqueueitemstatus status entry get status getstatus status get attempts getattempts number of retries allowed numberofretriesallowed result log resultlog debug queue item number retries get name getname item get id getid status get attempts getattempts attempts higher configured threshold result log resultlog warn queue item number retries expected number retries get name getname item get id getid status get attempts getattempts number of retries allowed numberofretriesallowed failures get name getname status get attempts getattempts result log resultlog debug items queue get name getname exception result log resultlog warn exception ins pecting inspecting distribution queue queue name queuename result log resultlog debug distribution queue providers failures size specific log entry mark down markdown provide recommended user action map entry string integer entry failures entry set entryset result log resultlog warn distribution queue item queue ret ried retried times threshold entry get key getkey entry get value getvalue number of retries allowed numberofretriesallowed result result log resultlog
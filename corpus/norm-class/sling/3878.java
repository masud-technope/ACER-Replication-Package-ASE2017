licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer org junit assert null assertnull java util array list arraylist java util collection org apache sling installer api installable resource installableresource org junit org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit pax exam paxexam org osgi framework bundle run with runwith pax exam paxexam invalid bundles test invalidbundlestest osgi installer test base osgiinstallertestbase org ops pax exam configuration option config default configuration defaultconfiguration set up setup setup installer setupinstaller tear down teardown tear down teardown test test register invalid bundles testregisterinvalidbundles exception collection installable resource installableresource data array list arraylist installable resource installableresource data add get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar data add get installable resource getinstallableresource get test bundle gettestbundle bundle base not abundle notabundle jar data add get installable resource getinstallableresource get test bundle gettestbundle test classes invalid jar jar data add get installable resource getinstallableresource get test bundle gettestbundle bundle base test b testb jar object listener start observing bundle events startobservingbundleevents installer register resources registerresources url scheme data to array toarray installable resource installableresource data size wait for bundle events waitforbundleevents valid bundles installed started listener bundle event bundleevent osgi installer test bundle testbundle org osgi framework bundle event bundleevent installed bundle event bundleevent osgi installer test bundle testbundle org osgi framework bundle event bundleevent started bundle event bundleevent osgi installer test b testb org osgi framework bundle event bundleevent installed bundle event bundleevent osgi installer test b testb org osgi framework bundle event bundleevent started string info valid bundles installed assert bundle assertbundle info osgi installer test bundle testbundle bundle active assert bundle assertbundle info osgi installer test b testb bundle active test test individual invalid bundles testindividualinvalidbundles exception string symbolic name symbolicname osgi installer test bundle testbundle assert null assertnull test bundle test find bundle findbundle symbolic name symbolicname install test bundle check version assert null assertnull test bundle absent installing find bundle findbundle symbolic name symbolicname object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents bundle installed started listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle installing symbolic name symbolicname bundle active bundle object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base not abundle notabundle jar assert no bundle events assertnobundleevents invalid jar listener invalid archive object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle test classes invalid jar jar assert no bundle events assertnobundleevents invalid archive listener invalid version number bundle object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base invalid version jar assert no bundle events assertnobundleevents invalid version number listener control ler controller blocked testing upgrade object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents bundle updated listener bundle event bundleevent symbolic name symbolicname org osgi framework bundle event bundleevent started assert bundle assertbundle updating symbolic name symbolicname bundle active
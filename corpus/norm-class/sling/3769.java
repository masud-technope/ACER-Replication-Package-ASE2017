licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling fsprovider internal java file java util collections java util iterator java util map java util no such element exception nosuchelementexception javax servlet http http servlet request httpservletrequest org apache felix scr annotations component org apache felix scr annotations configuration policy configurationpolicy org apache felix scr annotations properties org apache felix scr annotations property org apache felix scr annotations reference org apache felix scr annotations reference cardinality referencecardinality org apache felix scr annotations reference policy referencepolicy org apache felix scr annotations service org apache sling api resource resource org apache sling api resource resource provider resourceprovider org apache sling api resource resource resolver resourceresolver org osgi framework bundle context bundlecontext org osgi service event event admin eventadmin code fs resource provider fsresourceprovider code resource provider maps file system filesystem files folders virtual resource tree provider implemented terms component factory multiple instances provider created creating res pective respective configuration provider instance configured properties location resource tree resources link resource provider resourceprovider roots file system path files folders mapped resource link prop provider file component org apache sling fsprovider internal fs resource provider fsresourceprovider label resource resolver description resource resolver description configuration factory configurationfactory policy configuration policy configurationpolicy require metatype service resource provider resourceprovider properties property service description sling files ystem filesystem resource provider property service vendor apache software foundation property resource provider resourceprovider roots property webconsole configuration factory configurationfactory name hint namehint root paths resource provider resourceprovider roots fs resource provider fsresourceprovider resource provider resourceprovider configuration property providing file system path files folders mapped resource tree provider file property string prop provider file provider file configuration property providing check int erval interval file provider check interval checkinterval property long value longvalue fs resource provider fsresourceprovider check interval checkinterval string prop provider check interval checkinterval provider check interval checkinterval check interval checkinterval location resource tree resources mapped string provider root providerroot provider root providerroot prefix matching paths string provider root prefix providerrootprefix root file folder file system file provider file providerfile monitor detect file file monitor filemonitor monitor reference cardinality reference cardinality referencecardinality optional unary policy reference policy referencepolicy dynamic event admin eventadmin event admin eventadmin link get resource getresource resource resolver resourceresolver string code request code parameter get resource getresource resource resolver resourceresolver string resource get resource getresource resource resolver resourceresolver resource resolver resourceresolver http servlet request httpservletrequest request string path get resource getresource resource resolver resourceresolver path returns resource wrapping file system filesystem file folder path code path code equal configured resource tree location provider configured file system file folder resource configured resource tree location prefix removed path remaining relative path access file folder file folder exists method returns code code resource get resource getresource resource resolver resourceresolver resource resolver resourceresolver string path get resource getresource resource resolver resourceresolver path get file getfile path returns iterator resources iterator resource list children listchildren resource parent file parent file parentfile parent adapt to adaptto file fs resource fsresource create resource parent file parentfile parent path provider root res pective respective file parent file parentfile get file getfile parent get path getpath repository item path exists parent file parentfile string parent path parentpath parent get path getpath concat provider root providerroot starts with startswith parent path parentpath string rel path relpath provider root providerroot substring parent path parentpath length rel path relpath index of indexof resource res get resource getresource parent get resource resolver getresourceresolver provider root providerroot provider file providerfile res collections singleton list singletonlist res iterator children file children parent file parentfile list files listfiles children children length resource resolver resourceresolver resolver parent get resource resolver getresourceresolver string parent path parentpath parent get path getpath iterator resource resource see k seek has next hasnext resource has next hasnext no such element exception nosuchelementexception resource result see k seek result remove unsupported operation exception unsupportedoperationexception remove resource see k seek children length file file children string path parent path parentpath file get name getname resource result get resource getresource resolver path file result result children scr int egration integration activate bundle context bundlecontext bundle context bundlecontext map props string provider root providerroot string props roots provider root providerroot provider root providerroot length illegal argument exception illegalargumentexception roots property string provider file name providerfilename string props prop provider file provider file name providerfilename provider file name providerfilename length illegal argument exception illegalargumentexception prop provider file property provider root providerroot provider root providerroot provider root prefix providerrootprefix provider root providerroot concat provider file providerfile get provider file getproviderfile provider file name providerfilename bundle context bundlecontext start background monitor check int erval interval higher check interval checkinterval check interval checkinterval object int erval interval props prop provider check interval checkinterval int erval interval int erval interval check interval checkinterval int erval interval check interval checkinterval monitor file monitor filemonitor check interval checkinterval deactivate monitor monitor monitor provider root providerroot provider root prefix providerrootprefix provider file providerfile event admin eventadmin get event admin geteventadmin event admin eventadmin file get root file getrootfile provider file providerfile string get provider root getproviderroot provider root providerroot internal file get provider file getproviderfile string provider file name providerfilename bundle context bundlecontext bundle context bundlecontext file object plain file provider file providerfile file provider file name providerfilename working directory provider file providerfile is absolute isabsolute string bundle context bundlecontext get property getproperty sling length provider file providerfile file provider file name providerfilename resolve path provider file providerfile provider file providerfile get absolute file getabsolutefile provider file exist create empty folder provider file providerfile exists provider file providerfile mkdirs illegal argument exception illegalargumentexception create provider file root provider file providerfile provider file providerfile returns file absolute resource tree path path equals configured provider root provider root file returned path starts configured provider root file returned relative provider root file relative path remains resource tree path provider root path code code returned file get file getfile string path path equals provider root providerroot provider file providerfile path starts with startswith provider root prefix providerrootprefix string rel path relpath path substring provider root prefix providerrootprefix length file provider file providerfile rel path relpath resource get resource getresource resource resolver resourceresolver resource resolver resourceresolver string resource path resourcepath file file file exists resource file exists fs resource fsresource resource resolver resourceresolver resource path resourcepath file applicable existing file path
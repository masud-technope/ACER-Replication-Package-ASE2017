licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp taglib org junit assert equals assertequals org junit assert not null assertnotnull org junit assert null assertnull org junit assert true asserttrue org junit fail java util array list arraylist java util java util iterator java util list org apache sling api adapter adaptable org apache sling api resource resource org apache sling api resource value map valuemap org apache sling commons testing sling mock resource mockresource org apache sling commons testing sling mock resource resolver mockresourceresolver org junit org junit test org slf logger org slf logger factory loggerfactory unit tests sling functions slingfunctions org apache sling scripting jsp taglib sling functions slingfunctions test sling functions testslingfunctions logger log logger factory loggerfactory get logger getlogger test get resource tag testgetresourcetag mock resource mockresource resource mock resource resolver mockresourceresolver resolver string test path content initializes fields test init log info init resolver mock resource resolver mockresourceresolver override iterator resource find resources findresources string query string language query equals query language equals language list resource resources array list arraylist resource resources add resource resources iterator resource mock resource mockresource resolver test path test resource add property addproperty resource add property addproperty resolver add resource addresource resource mock resource mockresource child mock resource mockresource resolver test path child test resolver add resource addresource child mock resource mockresource child mock resource mockresource resolver test path child test resolver add resource addresource child log info init complete test test encode testencode log info test encode testencode log info testing html encoding assert equals assertequals amp nbsp text sling functions slingfunctions encode nbsp text html log info testing html attr encoding assert equals assertequals amp nbsp text quot sling functions slingfunctions encode nbsp text html attr log info testing invalid values sling functions slingfunctions encode fail expected pointer exception null pointer exception nullpointerexception npe log info encountered expected exception sling functions slingfunctions encode invalid fail expected invalid argument exception illegal argument exception illegalargumentexception iae log info encountered expected exception log info testing empty values assert null assertnull sling functions slingfunctions encode html assert equals assertequals sling functions slingfunctions encode html log info tests successful test test get resource testgetresource log info test get resource testgetresource resource resource sling functions slingfunctions get resource getresource resolver test path assert not null assertnotnull resource assert equals assertequals test path resource get path getpath log info tests successful test test find resources testfindresources class not found exception classnotfoundexception log info test find resources testfindresources iterator resource resources sling functions slingfunctions find resources findresources resolver query language assert not null assertnotnull resources assert true asserttrue resources has next hasnext assert equals assertequals resource resources log info tests successful test test adapt to testadaptto class not found exception classnotfoundexception log info test adapt to testadaptto adaptable adaptable sling functions slingfunctions get resource getresource resolver test path object adapted sling functions slingfunctions adapt to adaptto adaptable value map valuemap get canonical name getcanonicalname assert not null assertnotnull adapted assert true asserttrue adapted value map valuemap log info tests successful test test get relative resource testgetrelativeresource log info test get relative resource testgetrelativeresource resource parent sling functions slingfunctions get resource getresource resolver test path resource child sling functions slingfunctions get relative resource getrelativeresource parent child assert not null assertnotnull child assert equals assertequals test path child child get path getpath log info tests successful test test get value testgetvalue log info test get value testgetvalue resource resource sling functions slingfunctions get resource getresource resolver test path value map valuemap properties resource adapt to adaptto value map valuemap log info testing coersion retrieved date retrieveddate sling functions slingfunctions get value getvalue properties assert equals assertequals retrieved date retrieveddate assert true asserttrue retrieved date retrieveddate log info testing existing key retrieved long retrievedlong sling functions slingfunctions get value getvalue properties assert equals assertequals retrieved long retrievedlong assert true asserttrue retrieved long retrievedlong log info testing coersion fake date fakedate sling functions slingfunctions get value getvalue properties assert true asserttrue fake date fakedate log info testing fake long fakelong sling functions slingfunctions get value getvalue properties assert equals assertequals fake long fakelong assert true asserttrue fake long fakelong log info tests successful test test list child resources testlistchildresources log info test list child resources testlistchildresources iterator resource children sling functions slingfunctions list children listchildren resource assert not null assertnotnull children assert true asserttrue children has next hasnext log info tests successful
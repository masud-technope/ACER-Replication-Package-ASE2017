licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling osgi obr java file java io exception ioexception java input stream inputstream java output stream outputstream java print writer printwriter java net url java net url connection urlconnection java util array list arraylist java util iterator java util list java util map java util no such element exception nosuchelementexception java util sorted map sortedmap java util sorted set sortedset java util tree map treemap java util tree set treeset java util jar attributes java util jar jar input stream jarinputstream java util jar manifest org apache commons io utils ioutils org osgi framework constants org osgi framework version a qute aqute lib osgi analyzer code resource code todo author fmeschbe version rev mon jul resource serializable comparable resource bundle manifest header providing specification bundle installed assembly bundle assembly bundles string assembly bundles assembly bundles url resourceurl string string string presentation name presentationname string symbolic name symbolicname string uri string version string description size string documentation string copyright string vendor string contact string license string source sorted set sortedset string categories sorted map sortedmap string list object capabilities sorted map sortedmap string list object requirements bundle spec bundlespec bundle specs bundlespecs resource create file file io exception ioexception create file tourl resource create url file io exception ioexception jar input stream jarinputstream jar url connection urlconnection conn file open connection openconnection jar jar input stream jarinputstream conn get input stream getinputstream manifest manifest jar get manifest getmanifest manifest io exception ioexception file valid jar file manifest entry resource file manifest get main attributes getmainattributes conn get content length getcontentlength io utils ioutils close quietly closequietly jar resource url resourceurl attributes attrs size io exception ioexception capabilities tree map treemap string list object requirements tree map treemap string list object resourceurl resourceurl get name getname resourceurl get path getpath presentation name presentationname attrs get value getvalue constants bundle symbolic name symbolicname attrs get value getvalue constants bundle symbolicname uri attrs get value getvalue constants bundle update location updatelocation version attrs get value getvalue constants bundle version description attrs get value getvalue constants bundle description size size documentation attrs get value getvalue constants bundle doc url docurl copyright attrs get value getvalue constants bundle copyright vendor attrs get value getvalue constants bundle vendor contact attrs get value getvalue constants bundle contactaddress license attrs get value getvalue bundle licenseurl source attrs get value getvalue bundle sourceurl string category string categorystring attrs get value getvalue constants bundle category require symbolic name symbolicname symbolic name symbolicname symbolic name symbolicname length io exception ioexception missing bundle symbolic name symbolicname valid bundle version val u valu version version length version symbolic name symbolicname version categories tree set treeset string category string categorystring string cat list catlist category string categorystring split cat list catlist cat list catlist length string cat cat list catlist trim cat length categories add cat add capability addcapability bundle capability bundlecapability attrs add exported services addexportedservices attrs get value getvalue constants export service add exported packages addexportedpackages attrs get value getvalue constants export add imported services addimportedservices attrs get value getvalue constants service add imported packages addimportedpackages attrs get value getvalue constants parse bundle specific ations specifications assembly bundle add bundle specs addbundlespecs attrs get value getvalue assembly bundles add capability addcapability capability capability add to map list addtomaplist capabilities capability get name getname capability iterator object get capabilities getcapabilities get map list iterator getmaplistiterator capabilities add requirement addrequirement requirement req uirement requirement add to map list addtomaplist requirements req uirement requirement get name getname req uirement requirement iterator object get requirements getrequirements get map list iterator getmaplistiterator requirements sorted set sortedset string get categories getcategories categories bundle spec bundlespec get bundle specs getbundlespecs bundle specs bundlespecs contact string get contact getcontact contact copyright string get copyright getcopyright copyright description string get description getdescription description documentation string get doc umentation getdocumentation documentation string get id getid sets param set id setid string license string get license getlicense license presentation name presentationname string get presentation name getpresentationname presentation name presentationname size get size getsize size source string get source getsource source symbolic name symbolicname string get symbolic name getsymbolicname symbolic name symbolicname uri string get path getpath uri sets uri param uri set uri seturi string uri uri uri vendor string get vendor getvendor vendor version string get version getversion version url location bundle file url getresourceurl resourceurl bundle file url location string get resource name getresourcename returns code input stream inputstream code resource bundle file io exception ioexception error occurrs opening stream spool output stream outputstream io exception ioexception url connection urlconnection conn getresourceurl open connection openconnection input stream inputstream ins ins conn get input stream getinputstream repository spool ins io utils ioutils close quietly closequietly ins serializable serialize print writer printwriter string indent print indent print resource print attribute printattribute print attribute printattribute presentation name presentationname presentation name presentationname print attribute printattribute symbolic name symbolicname symbolic name symbolicname print attribute printattribute uri uri print attribute printattribute version version println string child indent childindent indent print element printelement child indent childindent description description print element printelement child indent childindent size string value of valueof size print element printelement child indent childindent documentation documentation print element printelement child indent childindent copyright copyright print element printelement child indent childindent vendor vendor print element printelement child indent childindent contact contact print element printelement child indent childindent license license print element printelement child indent childindent source source string cat get categories getcategories print category print attribute printattribute cat println print map printmap child indent childindent capabilities print map printmap child indent childindent requirements print indent println resource comparable java lang comparable compare to compareto java lang object compare to compareto resource equals get symbolic name getsymbolicname equals get symbolic name getsymbolicname compare version version this version thisversion version get version getversion version other version otherversion version get version getversion this version thisversion compare to compareto other version otherversion get symbolic name getsymbolicname compare to compareto get symbolic name getsymbolicname object overwrite equals object obj obj obj resource resource resource obj get symbolic name getsymbolicname equals get symbolic name getsymbolicname get version getversion equals get version getversion hash code hashcode get symbolic name getsymbolicname hash code hashcode get version getversion hash code hashcode string to string tostring get symbolic name getsymbolicname get version getversion internal helper string get name getname string path last slash lastslash path last index of lastindexof last slash lastslash path substring last slash lastslash path add exported services addexportedservices string export service exportservice export service exportservice export service exportservice length add exported packages addexportedpackages string export package exportpackage export package exportpackage export package exportpackage length pkgs manifest parser manifestparser parse import export header parseimportexportheader export package exportpackage pkgs length capability org apache felix upnp extra control ler controller version version capability add capability addcapability package capability packagecapability export pkgs map pkgs analyzer parse header parseheader export package exportpackage iterator pkgs entry set entryset iterator has next hasnext capability org apache felix upnp extra control ler controller version version capability add capability addcapability package capability packagecapability map entry add imported services addimportedservices string import service importservice import service importservice import service importservice length add imported packages addimportedpackages string import package importpackage import package importpackage import package importpackage length pkgs manifest parser manifestparser parse import export header parseimportexportheader import package importpackage pkgs length require extend filter org xml sax version multiple optional org xml sax require add requirement addrequirement package requirement packagerequirement pkgs map pkgs analyzer parse header parseheader import package importpackage iterator pkgs entry set entryset iterator has next hasnext require extend filter org xml sax version multiple optional org xml sax require add requirement addrequirement package requirement packagerequirement map entry add to map list addtomaplist map string list object map string object list object current map current current array list arraylist object map current current add add bundle specs addbundlespecs string spec spec expected bundle specs bundlespecs bundle spec bundlespec spec spec trim list bundle spec bundlespec specs array list arraylist bundle spec bundlespec quoted start spec length spec char at charat quoted quoted quoted specs add bundle spec bundlespec spec substring start start start spec length specs add bundle spec bundlespec spec substring start bundle specs bundlespecs specs to array toarray bundle spec bundlespec specs size iterator object get map list iterator getmaplistiterator map string list object map iterator object iterator list object map iter mapiter iterator object list iter listiter object map iter mapiter map values iterator see k seek has next hasnext object no such element exception nosuchelementexception object to return toreturn see k seek to return toreturn object see k seek list iter listiter list iter listiter has next hasnext map iter mapiter has next hasnext list object next list nextlist map iter mapiter list iter listiter next list nextlist iterator list iter listiter remove unsupported operation exception unsupportedoperationexception remove print attribute printattribute print writer printwriter string string print print print print print print element printelement print writer printwriter string indent string string print indent print print print print print print println print map printmap print writer printwriter string indent map map iterator get map list iterator getmaplistiterator map has next hasnext serializable ser serializable ser serialize indent
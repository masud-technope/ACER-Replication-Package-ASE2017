licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing resource resolver resourceresolver java util array list arraylist java util collections java util dictionary java util hash map hashmap java util hash set hashset java util hashtable java util iterator java util linked hash map linkedhashmap java util list java util map java util java util regex pattern javax servlet http http servlet request httpservletrequest org apache sling api sling constants slingconstants org apache sling api adapter sling adaptable slingadaptable org apache sling api resource login exception loginexception org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource resource util resourceutil org apache sling api resource value map valuemap org osgi service event event mock resource resolver mockresourceresolver sling adaptable slingadaptable resource resolver resourceresolver map string map string object resources map string map string object temporary resources temporaryresources linked hash map linkedhashmap string map string object string deleted resources deletedresources hash set hashset string mock resource resolver factory options mockresourceresolverfactoryoptions options mock resource resolver factory mockresourceresolverfactory factory map string object attributes mock resource resolver mockresourceresolver mock resource resolver factory options mockresourceresolverfactoryoptions options mock resource resolver factory mockresourceresolverfactory factory map string map string object resources options factory resources collections string object empty map emptymap mock resource resolver mockresourceresolver mock resource resolver factory options mockresourceresolverfactoryoptions options mock resource resolver factory mockresourceresolverfactory factory map string map string object resources map string object attributes factory factory options options resources resources attributes attributes override resource resolve http servlet request httpservletrequest request string abs path abspath string path abs path abspath path path split query string fragment append end appendend url string url remainder urlremainder url remainder pos urlremainderpos math min path index of indexof path index of indexof url remainder pos urlremainderpos url remainder urlremainder path substring url remainder pos urlremainderpos path path substring url remainder pos urlremainderpos unmangle names paces namespaces options is mangle name space prefixes ismanglenamespaceprefixes path name space m angle r namespacemangler unmangle names paces unmanglenamespaces path build full path path path url remainder urlremainder url remainder urlremainder get resource getresource path override resource resolve string abs path abspath resolve abs path abspath override string map string resource path resourcepath map resource path resourcepath override string map http servlet request httpservletrequest request string resource path resourcepath string path resource path resourcepath split query string fragment append end appendend url string url remainder urlremainder url remainder pos urlremainderpos math min path index of indexof path index of indexof url remainder pos urlremainderpos url remainder urlremainder path substring url remainder pos urlremainderpos path path substring url remainder pos urlremainderpos mangle names paces namespaces options is mangle name space prefixes ismanglenamespaceprefixes path name space m angle r namespacemangler mangle names paces manglenamespaces path build full path path url remainder urlremainder url remainder urlremainder override resource get resource getresource string path resource resource get resource internal getresourceinternal path resource check reference property resource path string parent path parentpath resource util resourceutil get parent getparent path parent path parentpath string resource util resourceutil get name getname path resource parent resource parentresource get resource internal getresourceinternal parent path parentpath parent resource parentresource value map valuemap props resource util resourceutil get value map getvaluemap parent resource parentresource props contains key containskey mock property resource mockpropertyresource path props resource resource get resource internal getresourceinternal string path path string normalized path normalizedpath resource util resourceutil normalize path normalized path normalizedpath normalized path normalizedpath starts with startswith deleted resources deletedresources normalized path normalizedpath map string object temp props tempprops temporary resources temporaryresources normalized path normalizedpath temp props tempprops resource rsrc mock resource mockresource normalized path normalizedpath temp props tempprops rsrc resources map string object props resources normalized path normalizedpath props resource rsrc mock resource mockresource normalized path normalizedpath props rsrc string get search path getsearchpath resource rsrc get resource getresource normalized path normalizedpath rsrc rsrc override resource get resource getresource resource base string path path path length path path starts with startswith get resource getresource path base get path getpath equals get resource getresource base get path getpath path get resource getresource base get path getpath path override string get search path getsearchpath options get search paths getsearchpaths override iterator resource list children listchildren resource parent string path prefix pathprefix equals parent get path getpath parent get path getpath pattern child path matcher childpathmatcher pattern compile pattern quote path prefix pathprefix map string map string object candidates linked hash map linkedhashmap string map string object resources map entry string map string object resources entry set entryset child path matcher childpathmatcher matcher get key getkey matches deleted resources deletedresources get key getkey candidates get key getkey get value getvalue map entry string map string object temporary resources temporaryresources entry set entryset child path matcher childpathmatcher matcher get key getkey matches deleted resources deletedresources get key getkey candidates get key getkey get value getvalue list resource children array list arraylist resource map entry string map string object candidates entry set entryset children add mock resource mockresource get key getkey get value getvalue children iterator resource api iterable resource get children getchildren resource parent iterable resource override iterator resource iterator list children listchildren parent override is live islive override close factory closed override string get user d getuserid override iterator string get attribute names getattributenames attributes key set keyset iterator override object get attribute getattribute string attributes override delete resource resource persistence exception persistenceexception deleted resources deletedresources add resource get path getpath temporary resources temporaryresources remove resource get path getpath string prefix path prefixpath resource get path getpath resources map entry string map string object resources entry set entryset get key getkey starts with startswith prefix path prefixpath deleted resources deletedresources add get key getkey iterator map entry string map string object temporary resources temporaryresources entry set entryset iterator has next hasnext map entry string map string object get key getkey starts with startswith prefix path prefixpath remove override resource create resource parent string map string object properties persistence exception persistenceexception string path parent get path getpath equals parent get path getpath parent get path getpath temporary resources temporaryresources contains key containskey path persistence exception persistenceexception path exists path resources resources contains key containskey path deleted resources deletedresources path persistence exception persistenceexception path exists path deleted resources deletedresources remove path properties properties hash map hashmap string object resource mock resource mockresource mock resource mockresource path properties temporary resources temporaryresources path resource util resourceutil get value map getvaluemap mock resource mockresource mock resource mockresource override revert deleted resources deletedresources clear temporary resources temporaryresources clear override commit persistence exception persistenceexception resources string path deleted resources deletedresources resources remove path options get event admin geteventadmin dictionary string object props hashtable string object props sling constants slingconstants property path path event event sling constants slingconstants topic resource removed props options get event admin geteventadmin send event sendevent temporary resources temporaryresources remove path string path temporary resources temporaryresources key set keyset changed resources contains key containskey path resources path temporary resources temporaryresources path options get event admin geteventadmin dictionary string object props hashtable string object props sling constants slingconstants property path path resources path resource resolver resourceresolver property resource type props sling constants slingconstants property resource type resources path resource resolver resourceresolver property resource type event event changed sling constants slingconstants topic resource changed sling constants slingconstants topic resource props options get event admin geteventadmin send event sendevent revert override has changes haschanges temporary resources temporaryresources size deleted resources deletedresources size override is resource type isresourcetype resource resource string resource type resourcetype resource get resource type getresourcetype equals resource type resourcetype override refresh add changed addchanged string path map string object props temporary resources temporaryresources path props resource api has children haschildren resource resource list children listchildren resource has next hasnext unsupported operations override deprecated resource resolve http servlet request httpservletrequest request unsupported operation exception unsupportedoperationexception override string get parent resource type getparentresourcetype resource resource unsupported operation exception unsupportedoperationexception override string get parent resource type getparentresourcetype string resource type resourcetype unsupported operation exception unsupportedoperationexception override iterator resource find resources findresources string query string language unsupported operation exception unsupportedoperationexception override iterator map string object query resources queryresources string query string language unsupported operation exception unsupportedoperationexception override resource resolver resourceresolver clone map string object authentication info authenticationinfo login exception loginexception unsupported operation exception unsupportedoperationexception resource get parent getparent resource child string parent path parentpath resource util resourceutil get parent getparent child get path getpath parent path parentpath get resource getresource parent path parentpath copy string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception unsupported operation exception unsupportedoperationexception move string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception unsupported operation exception unsupportedoperationexception
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling impl java byte array input stream bytearrayinputstream java input stream inputstream java util enumeration java util hash map hashmap java util iterator java util linked hash map linkedhashmap java util locale java util map javax jcr binary javax jcr node javax jcr node iterator nodeiterator javax jcr repository exception repositoryexception javax jcr javax jcr query query javax jcr query query result queryresult javax jcr query row iterator rowiterator javax naming naming exception namingexception javax servlet http http servlet request httpservletrequest org apache jackrabbit jcr constants jcrconstants org apache sling api resource abstract resource abstractresource org apache sling api resource persistence exception persistenceexception org apache sling api resource resource org apache sling api resource resource metadata resourcemetadata org apache sling api resource resource resolver resourceresolver org apache sling api resource value map valuemap org apache sling api wrappers value map decorator valuemapdecorator org apache sling commons testing jcr repository test base repositorytestbase org apache sling commons testing jcr repository util repositoryutil org slf logger org slf logger factory loggerfactory tests link jcr resource bundle jcrresourcebundle jcr resource bundle test jcrresourcebundletest repository test base repositorytestbase logger log logger factory loggerfactory get logger getlogger jcr resource bundle test jcrresourcebundletest resource resolver resourceresolver resolver override set up setup exception set up setup clean repository cleanrepository repository util repositoryutil register node type registernodetype get session getsession get class getclass get resource as stream getresourceasstream sling inf node types nodetypes jcr language jcrlanguage cnd repository util repositoryutil register node type registernodetype get session getsession get class getclass get resource as stream getresourceasstream sling inf node types nodetypes message cnd resolver resource resolver resourceresolver override iterator resource find resources findresources string query string language query get session getsession get workspace getworkspace get query manager getquerymanager create query createquery query language query result queryresult result execute node iterator nodeiterator nodes result get nodes getnodes iterator resource override has next hasnext nodes has next hasnext override resource node node nodes next node nextnode test resource testresource resolver node override remove unsupported operation exception unsupportedoperationexception remove naming exception namingexception repository exception repositoryexception override resource get resource getresource resource base string path todo auto generated method stub override resource get resource getresource string path node get session getsession get node getnode path test resource testresource resolver naming exception namingexception repository exception repositoryexception override string get search path getsearchpath string apps libs override iterator resource list children listchildren resource parent node get session getsession get node getnode parent get path getpath node iterator nodeiterator nodes get nodes getnodes iterator resource override has next hasnext nodes has next hasnext override resource node node nodes next node nextnode test resource testresource resolver node override remove unsupported operation exception unsupportedoperationexception remove repository exception repositoryexception naming exception namingexception override string map http servlet request httpservletrequest request string resource path resourcepath todo auto generated method stub override string map string resource path resourcepath todo auto generated method stub override iterator map string object query resources queryresources string query string language query get session getsession get workspace getworkspace get query manager getquerymanager create query createquery query language query result queryresult result execute string col names colnames result get column names getcolumnnames row iterator rowiterator rows result get rows getrows iterator map string object override has next hasnext rows has next hasnext override map string object map string object row hash map hashmap string object values rows next row nextrow get values getvalues values length values row col names colnames values get string getstring repository exception repositoryexception row override remove unsupported operation exception unsupportedoperationexception remove naming exception namingexception repository exception repositoryexception override resource resolve http servlet request httpservletrequest request string abs path abspath todo auto generated method stub override resource resolve http servlet request httpservletrequest request todo auto generated method stub override resource resolve string abs path abspath todo auto generated method stub override adapter type adaptertype adapter type adaptertype adapt to adaptto adapter type adaptertype type todo auto generated method stub override close override string get user d getuserid override is live islive override resource resolver resourceresolver clone map string object authentication info authenticationinfo override iterator string get attribute names getattributenames override object get attribute getattribute string override iterable resource get children getchildren resource parent todo auto generated method stub override delete resource resource persistence exception persistenceexception todo auto generated method stub override resource create resource parent string map string object properties persistence exception persistenceexception todo auto generated method stub override revert todo auto generated method stub override commit persistence exception persistenceexception todo auto generated method stub override has changes haschanges todo auto generated method stub override string get parent resource type getparentresourcetype resource resource todo auto generated method stub override string get parent resource type getparentresourcetype string resource type resourcetype todo auto generated method stub override is resource type isresourcetype resource resource string resource type resourcetype resource type resourcetype equals resource get resource type getresourcetype override refresh todo auto generated method stub create test content createtestcontent clean repository cleanrepository exception node iterator nodeiterator nodes get session getsession get root node getrootnode get nodes getnodes nodes has next hasnext node node nodes next node nextnode node get definition getdefinition is protected isprotected node get definition getdefinition is mandatory ismandatory node remove repository exception repositoryexception log error test clean repo remove node node get path getpath get session getsession save test data add repository linked hash map insertion order map string message messages linked hash map linkedhashmap string message map string message messages linked hash map linkedhashmap string message map string message messages dash linked hash map linkedhashmap string message map string message messages underscore linked hash map linkedhashmap string message map string message messages underscore linked hash map linkedhashmap string message map string message messages apps linked hash map linkedhashmap string message map string message messages basename linked hash map linkedhashmap string message add map string message map message msg map msg key msg message parent msg message untranslated translated create test data direct child node language node sling key add messages message kitchen k�che direct child node language node node name nodename add messages message plate teller nested node sling key add messages message for k fork gabel nested node node name nodename add messages message spoon l�ffel add messages parent msg add messages dash message pigment color add messages underscore message pigment colour add messages underscore message pigment colour translations over writing overwriting apps message msg messages values add messages apps message msg path msg key msg use node name usenodename translations sling base name basename message msg messages values add messages basename message msg path msg key basename msg use node name usenodename create test content createtestcontent exception node get session getsession get root node getrootnode add node addnode libs unstructured add node addnode unstructured content node add node addnode folder add mixin addmixin mix language set property setproperty jcr language message msg messages values msg add get session getsession save content parent bundling node add node addnode folder add mixin addmixin mix language set property setproperty jcr language message msg messages values msg add get session getsession save content node en dash s endashus add node addnode folder en dash s endashus add mixin addmixin mix language en dash s endashus set property setproperty jcr language message msg messages dash values msg add en dash s endashus get session getsession save content node en underscore k enunderscoreuk add node addnode folder en underscore k enunderscoreuk add mixin addmixin mix language en underscore k enunderscoreuk set property setproperty jcr language message msg messages underscore values msg add en underscore k enunderscoreuk get session getsession save content node en underscore u enunderscoreau add node addnode folder en underscore u enunderscoreau add mixin addmixin mix language en underscore u enunderscoreau set property setproperty jcr language message msg messages underscore values msg add en underscore u enunderscoreau get session getsession save tests test get string getstring jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages values assert equals assertequals msg message bundle get string getstring msg key bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages dash values assert equals assertequals msg message bundle get string getstring msg key bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages underscore values assert equals assertequals msg message bundle get string getstring msg key bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages underscore values assert equals assertequals msg message bundle get string getstring msg key test get object getobject jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages values assert equals assertequals msg message string bundle get object getobject msg key test handle missing key test key returned entry repo jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver bundle set parent setparent root resource bundle rootresourcebundle assert equals assertequals missing bundle get string getstring missing test get keys getkeys jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver enumeration string bundle get keys getkeys counter has more elements hasmoreelements counter string key next element nextelement assert true asserttrue bundle returned key supposed key messages contains key containskey key assert equals assertequals messages size counter test bundle paren ting parenting parent resource bundle test passed jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver jcr resource bundle jcrresourcebundle parent bundle parentbundle jcr resource bundle jcrresourcebundle locale resolver bundle set parent setparent parent bundle parentbundle parent bundle parentbundle set parent setparent root resource bundle rootresourcebundle assert equals assertequals parent msg message bundle get object getobject parent msg key assert equals assertequals missing bundle get string getstring missing test search path exception overwrite stuff apps node apps i appsi get session getsession get root node getrootnode add node addnode apps add node addnode unstructured node apps i appsi add node addnode folder add mixin addmixin mix language set property setproperty jcr language message msg messages apps values msg add get session getsession save test get string getstring jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages apps values assert equals assertequals msg message bundle get string getstring msg key test get keys getkeys enumeration string bundle get keys getkeys counter has more elements hasmoreelements counter string key next element nextelement assert true asserttrue bundle returned key supposed key messages apps contains key containskey key assert equals assertequals messages size counter test search path exception node libs i libsi get session getsession get root node getrootnode get node getnode libs libs i libsi remove dict search path content node content i contenti get session getsession get root node getrootnode add node addnode content add node addnode unstructured node content i contenti add node addnode folder add mixin addmixin mix language set property setproperty jcr language message msg messages values msg add get session getsession save test content dictionary read jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages values assert equals assertequals msg message bundle get string getstring msg key overwrite content dict libs libs i libsi get session getsession get root node getrootnode get node getnode libs add node addnode unstructured libs i libsi add node addnode folder add mixin addmixin mix language set property setproperty jcr language message msg messages apps values msg add get session getsession save test libs search path overlays content search path bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages apps values assert equals assertequals msg message bundle get string getstring msg key test get keys getkeys enumeration string bundle get keys getkeys counter has more elements hasmoreelements counter string key next element nextelement assert true asserttrue bundle returned key supposed key messages apps contains key containskey key assert equals assertequals messages size counter test base name basename exception create lib base name basename node apps i appsi get session getsession get root node getrootnode get node getnode libs node apps i appsi add node addnode base name basename unstructured add mixin addmixin mix language set property setproperty jcr language set property setproperty sling base name basename foo message msg messages basename values msg add get session getsession save test get string getstring jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale foo resolver message msg messages basename values assert equals assertequals msg message bundle get string getstring msg key test get keys getkeys enumeration string bundle get keys getkeys counter has more elements hasmoreelements counter string key next element nextelement assert true asserttrue bundle returned key supposed key messages basename contains key containskey key assert equals assertequals messages size counter test json dictionary exception node apps i appsi get session getsession get root node getrootnode add node addnode apps add node addnode unstructured node de json dejson apps i appsi add node addnode json file de json dejson add mixin addmixin mix language de json dejson set property setproperty jcr language node content de json dejson add node addnode jcr content resource content set property setproperty jcr mime type mimetype application json manually creating json file good test string builder stringbuilder json string builder stringbuilder json append message msg messages apps values json append append msg key append json append msg message append json append input stream inputstream stream byte array input stream bytearrayinputstream json to string tostring get bytes getbytes binary binary get session getsession get value factory getvaluefactory create binary createbinary stream content set property setproperty jcr data binary get session getsession save test get string getstring jcr resource bundle jcrresourcebundle bundle jcr resource bundle jcrresourcebundle locale resolver message msg messages apps values assert equals assertequals msg message bundle get string getstring msg key test get keys getkeys enumeration string bundle get keys getkeys counter has more elements hasmoreelements counter string key next element nextelement assert true asserttrue bundle returned key supposed key messages apps contains key containskey key assert equals assertequals messages size counter test resource testresource abstract resource abstractresource node node resource resolver resourceresolver resolver test resource testresource resource resolver resourceresolver resolver node xnode node xnode resolver resolver override string get resource type getresourcetype node get primary node type getprimarynodetype get name getname repository exception repositoryexception unknown override string get resource super type getresourcesupertype todo auto generated method stub override resource resolver resourceresolver get resource resolver getresourceresolver resolver override resource metadata resourcemetadata get resource metadata getresourcemetadata resource metadata resourcemetadata override string get path getpath node get path getpath repository exception repositoryexception runtime exception runtimeexception override adapter type adaptertype adapter type adaptertype adapt to adaptto adapter type adaptertype type type value map valuemap map string object props hash map hashmap string object node has property hasproperty jcr resource bundle jcrresourcebundle prop language props jcr resource bundle jcrresourcebundle prop language node get property getproperty jcr resource bundle jcrresourcebundle prop language get string getstring node has property hasproperty jcr resource bundle jcrresourcebundle prop basename props jcr resource bundle jcrresourcebundle prop basename node get property getproperty jcr resource bundle jcrresourcebundle prop basename get string getstring node has property hasproperty jcr resource bundle jcrresourcebundle prop key props jcr resource bundle jcrresourcebundle prop key node get property getproperty jcr resource bundle jcrresourcebundle prop key get string getstring node has property hasproperty jcr resource bundle jcrresourcebundle prop props jcr resource bundle jcrresourcebundle prop node get property getproperty jcr resource bundle jcrresourcebundle prop get string getstring node has property hasproperty jcr resource bundle jcrresourcebundle prop mixins values node get property getproperty jcr resource bundle jcrresourcebundle prop mixins get values getvalues string names string values length values length names values get string getstring props jcr resource bundle jcrresourcebundle prop mixins names adapter type adaptertype value map decorator valuemapdecorator props repository exception repositoryexception runtime exception runtimeexception type input stream inputstream node has node hasnode jcr constants jcrconstants jcr content adapter type adaptertype node get node getnode jcr constants jcrconstants jcr content get property getproperty jcr constants jcrconstants jcr data get binary getbinary get stream getstream repository exception repositoryexception runtime exception runtimeexception type node adapter type adaptertype node adapt to adaptto type
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling engine impl log java text character iterator characteriterator java text decimal format decimalformat java text simple date format simpledateformat java text string character iterator stringcharacteriterator java util array list arraylist java util calendar java util java util enumeration java util list java util locale javax servlet http cookie org apache sling engine impl request request data requestdata code custom log format customlogformat code support log format strings apache http d httpd custom log customlog configuration href http sling apache org site client request logging html client request logging documentation supported form ats formats custom log format customlogformat note doc umentation documentation https cwiki apache org conf luence confluence display slingxsite client request logging sync parsed list log format parts code print code method called building log message parameter log parameters logparameters creates instance parsing log format pattern param pattern pattern parsed custom log format customlogformat string pattern log parameters logparameters parse pattern log parameters logparameters length log parameters logparameters creates log message code request code code response code objects log format instance created param request link request logger request requestloggerrequest extract values log message param response link request logger response requestloggerresponse extract values log message for matted formatted log message code code log formatter initialized valid log format pattern string format request logger request requestloggerrequest request request logger response requestloggerresponse response log parameters logparameters string builder stringbuilder buf string builder stringbuilder log parameters logparameters length log parameters logparameters print buf request response buf to string tostring returns string representation log format instance returned string rebuilt parsed format string create instance format string string representation instance string to string tostring string builder stringbuilder buf string builder stringbuilder log parameters logparameters log parameters logparameters length buf append log parameters logparameters buf to string tostring parsing format pattern parameter parse string pattern list parameter parameter list parameterlist array list arraylist parameter string builder stringbuilder buf string builder stringbuilder character iterator characteriterator string character iterator stringcharacteriterator pattern character iterator characteriterator buf length parameter text plain text parameter plaintextparameter buf to string tostring parameter list parameterlist add text buf set length setlength parameter param parse format string parseformatstring param parameter list parameterlist add param buf append append remaining plain text buf length parameter text plain text parameter plaintextparameter buf to string tostring parameter list parameterlist add text buf set length setlength parameter list parameterlist to array toarray parameter parameter list parameterlist size parameter parse format string parseformatstring character iterator characteriterator read modifiers required stat codes statcodes character iterator characteriterator required stat codes statcodes parse status codes parsestatuscodes ignore modifiers read string string builder stringbuilder name buf namebuf string builder stringbuilder character iterator characteriterator name buf namebuf append name buf namebuf length name buf namebuf to string tostring format indicator parameter param param remoteipparameter param localipparameter param byte count parameter bytecountparameter param cookie parameter cookieparameter param duration parameter durationparameter assume path content request resolved param content path parameter contentpathparameter param remote host parameter remotehostparameter param protocol parameter protocolparameter param header parameter headerparameter param method parameter methodparameter param param parameter paramparameter param header parameter headerparameter param local port parameter localportparameter format form supported param thread parameter threadparameter param query parameter queryparameter param first request line parameter firstrequestlineparameter param id parameter idparameter param status parameter statusparameter format form supported param time parameter timeparameter param duration parameter durationparameter param user parameter userparameter param request parameter requestparameter param server name parameter servernameparameter param auth type parameter authtypeparameter supported fall supported fall supported fall supported fall supported fall supported fall param non impl emented parameter nonimplementedparameter param base parameter baseparameter base parameter baseparameter base param baseparam base parameter baseparameter param base param baseparam set par name setparname base param baseparam set required setrequired required base param baseparam set status limits setstatuslimits stat codes statcodes param parse status codes parsestatuscodes character iterator characteriterator string builder stringbuilder buf string builder stringbuilder buf append list integer numbers array list arraylist integer character iterator characteriterator num num integer parse int parseint buf to string tostring number format exception numberformatexception nfe num num numbers add num buf set length setlength buf append number list reset mark previous number num num integer parse int parseint buf to string tostring number format exception numberformatexception nfe num num numbers add integer num numbers is empty isempty status codes statuscodes numbers size numbers size status codes statuscodes numbers int value intvalue status codes statuscodes parameter print string builder stringbuilder dest request logger request requestloggerrequest request request logger response requestloggerresponse response plain text parameter plaintextparameter parameter string plain text parameter plaintextparameter string print string builder stringbuilder dest request logger request requestloggerrequest request request logger response requestloggerresponse response dest append string to string tostring base parameter baseparameter parameter status limits statuslimits required par name parname string par param parparam is request isrequest base parameter baseparameter string par param parparam is request isrequest par param parparam par param parparam is request isrequest is request isrequest set par name setparname par name parname par name parname par name parname set status limits setstatuslimits status limits statuslimits status limits statuslimits status limits statuslimits set required setrequired required required required string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response print string builder stringbuilder dest request logger request requestloggerrequest request request logger response requestloggerresponse response print ok printok response get status getstatus string is request isrequest get value getvalue request get value getvalue response dest append print ok printok status status limits statuslimits status limits statuslimits length status status limits statuslimits required required get par name getparname par name parname string get par param getparparam par param parparam string to string tostring string builder stringbuilder result string builder stringbuilder status limits statuslimits required result append status limits statuslimits length result append result append status limits statuslimits par param parparam result append append par param parparam append result append par name parname result to string tostring helper is print isprint string escape string length length is print isprint char at charat length string builder stringbuilder buf string builder stringbuilder substring length char at charat is print isprint buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append integer to hex string tohexstring buf to string tostring non impl emented parameter nonimplementedparameter base parameter baseparameter non impl emented parameter nonimplementedparameter string par param parparam par param parparam string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response thread parameter threadparameter base parameter baseparameter thread parameter threadparameter string par param parparam par param parparam string get value getvalue request logger request requestloggerrequest request thread current thread currentthread get name getname string get value getvalue request logger response requestloggerresponse response param parameter paramparameter base parameter baseparameter param parameter paramparameter string par param parparam par param parparam string get value getvalue request logger request requestloggerrequest request request get parameter getparameter get par param getparparam string get value getvalue request logger response requestloggerresponse response id parameter idparameter base parameter baseparameter id parameter idparameter string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response string value of valueof response get request id getrequestid byte count parameter bytecountparameter base parameter baseparameter byte count parameter bytecountparameter string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response count response get count getcount count get par name getparname string value of valueof count time parameter timeparameter base parameter baseparameter simple date format simpledateformat access log fmt accesslogfmt simple date format simpledateformat mmm yyyy locale decimal format decimalformat dfmt decimal format decimalformat calendar calendar calendar get instance getinstance string last zone offset lastzoneoffset last zone offset hour lastzoneoffsethour string last time for matted lasttimeformatted last time for matted seconds lasttimeformattedseconds request start requeststart time parameter timeparameter string par param parparam par param parparam request start requeststart par param parparam par param parparam equals string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response time request start requeststart response get request start getrequeststart response get request end getrequestend time for matted timeformatted time string time for matted timeformatted time time last time for matted seconds lasttimeformattedseconds last time for matted seconds lasttimeformattedseconds time time string builder stringbuilder buf string builder stringbuilder access log fmt accesslogfmt format time last zone offset hour lastzoneoffsethour last zone offset hour lastzoneoffsethour time calendar set time settime tz offset tzoffset calendar calendar zone offset calendar calendar dst offset tz offset tzoffset tz offset tzoffset tz offset tzoffset tz offset tzoffset last zone offset lastzoneoffset dfmt format tz offset tzoffset buf append last zone offset lastzoneoffset last time for matted lasttimeformatted buf to string tostring last time for matted lasttimeformatted duration parameter durationparameter base parameter baseparameter seconds duration parameter durationparameter seconds seconds seconds string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response time response get request duration getrequestduration seconds time string value of valueof time remoteipparameter base parameter baseparameter remoteipparameter string get value getvalue request logger request requestloggerrequest request request get remote addr getremoteaddr string get value getvalue request logger response requestloggerresponse response remote host parameter remotehostparameter base parameter baseparameter remote host parameter remotehostparameter string get value getvalue request logger request requestloggerrequest request request get remote host getremotehost string get value getvalue request logger response requestloggerresponse response localipparameter base parameter baseparameter localipparameter string get value getvalue request logger request requestloggerrequest request request get local addr getlocaladdr string get value getvalue request logger response requestloggerresponse response local port parameter localportparameter base parameter baseparameter local port parameter localportparameter string get value getvalue request logger request requestloggerrequest request string value of valueof request get server port getserverport string get value getvalue request logger response requestloggerresponse response server name parameter servernameparameter base parameter baseparameter server name parameter servernameparameter string get value getvalue request logger request requestloggerrequest request request get server name getservername string get value getvalue request logger response requestloggerresponse response content path parameter contentpathparameter base parameter baseparameter content path parameter contentpathparameter string get value getvalue request logger request requestloggerrequest request object resource path resourcepath request get attribute getattribute request data requestdata request resource path attr resource path resourcepath string string resource path resourcepath string get value getvalue request logger response requestloggerresponse response first request line parameter firstrequestlineparameter base parameter baseparameter first request line parameter firstrequestlineparameter string get value getvalue request logger request requestloggerrequest request string query request get query string getquerystring query query query length query request get method getmethod request getrequesturi query request get protocol getprotocol string get value getvalue request logger response requestloggerresponse response protocol parameter protocolparameter base parameter baseparameter protocol parameter protocolparameter string get value getvalue request logger request requestloggerrequest request request get protocol getprotocol string get value getvalue request logger response requestloggerresponse response method parameter methodparameter base parameter baseparameter method parameter methodparameter string get value getvalue request logger request requestloggerrequest request request get method getmethod string get value getvalue request logger response requestloggerresponse response request parameter requestparameter base parameter baseparameter request parameter requestparameter string get value getvalue request logger request requestloggerrequest request request getrequesturi string get value getvalue request logger response requestloggerresponse response query parameter queryparameter base parameter baseparameter query parameter queryparameter string get value getvalue request logger request requestloggerrequest request string query request get query string getquerystring query query length query string get value getvalue request logger response requestloggerresponse response user parameter userparameter base parameter baseparameter user parameter userparameter string get value getvalue request logger request requestloggerrequest request string user request get remote user getremoteuser user escape user string get value getvalue request logger response requestloggerresponse response auth type parameter authtypeparameter base parameter baseparameter auth type parameter authtypeparameter string get value getvalue request logger request requestloggerrequest request string auth type authtype request get auth type getauthtype auth type authtype escape auth type authtype string get value getvalue request logger response requestloggerresponse response status parameter statusparameter base parameter baseparameter status parameter statusparameter string get value getvalue request logger request requestloggerrequest request string get value getvalue request logger response requestloggerresponse response string value of valueof response get status getstatus cookie parameter cookieparameter base parameter baseparameter string cookie name cookiename cookie parameter cookieparameter string cookie name cookiename is request isrequest cookie name cookiename is request isrequest cookie name cookiename cookie name cookiename string get value getvalue request logger request requestloggerrequest request get value getvalue request get cookie getcookie cookie name cookiename string get value getvalue request logger response requestloggerresponse response get value getvalue response get cookie getcookie cookie name cookiename string get value getvalue cookie cookie cookie escape cookie get value getvalue header parameter headerparameter base parameter baseparameter string header name headername header parameter headerparameter string header name headername is request isrequest header name headername is request isrequest header name headername header name headername string get value getvalue request logger request requestloggerrequest request enumeration values request get headers getheaders header name headername values values has more elements hasmoreelements string string values next element nextelement values has more elements hasmoreelements values next element nextelement escape string get value getvalue request logger response requestloggerresponse response escape response get headers string getheadersstring header name headername
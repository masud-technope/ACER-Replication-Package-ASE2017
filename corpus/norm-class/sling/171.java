licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling hapi client test org hamcrest core string contains stringcontains contains string containsstring java i o exception ioexception java unsupported encoding exception unsupportedencodingexception java net uri syntax exception urisyntaxexception org apache http header org apache http http exception httpexception org apache http http request httprequest org apache http http response httpresponse org apache http entity string entity stringentity org apache http protocol http context httpcontext org apache http protocol http request handler httprequesthandler org apache sling hapi client client exception clientexception org apache sling hapi client document org apache sling hapi client microdata microdata html client microdatahtmlclient org apache sling hapi client test util http server rule httpserverrule org hamcrest core string contains stringcontains org junit org junit class rule classrule org junit test get post test getposttest string url test string url test auth testauth string response test string user admin string password admin string string basic ywr ta w ywrtaw ywr ta w ywrtaw string redirect url test redirect class rule classrule http server rule httpserverrule http server httpserver http server rule httpserverrule override register handlers registerhandlers server bootstrap serverbootstrap register handler registerhandler url http request handler httprequesthandler override handle http request httprequest http request httprequest http response httpresponse http response httpresponse http context httpcontext http context httpcontext http exception httpexception i o exception ioexception http response httpresponse set entity setentity string entity stringentity response register handler registerhandler url http request handler httprequesthandler override handle http request httprequest http request httprequest http response httpresponse http response httpresponse http context httpcontext http context httpcontext http exception httpexception i o exception ioexception header headers http request httprequest get headers getheaders authorization headers headers length headers get value getvalue equals string http response httpresponse set status code setstatuscode http response httpresponse set header setheader auth enticate authenticate basic realm test http response httpresponse set entity setentity string entity stringentity response register handler registerhandler redirect url http request handler httprequesthandler override handle http request httprequest request http response httpresponse response http context httpcontext context http exception httpexception i o exception ioexception response set status code setstatuscode response set header setheader location url test test valid get testvalidget client exception clientexception uri syntax exception urisyntaxexception microdata html client microdatahtmlclient client microdata html client microdatahtmlclient http server httpserver geturi to string tostring document doc client url assert that assertthat request failed doc to string tostring string contains stringcontains response test test valid auth get testvalidauthget client exception clientexception uri syntax exception urisyntaxexception microdata html client microdatahtmlclient client microdata html client microdatahtmlclient http server httpserver geturi to string tostring user password document doc client url assert that assertthat request failed basic doc to string tostring contains string containsstring response test test redirect testredirect client exception clientexception uri syntax exception urisyntaxexception unsupported encoding exception unsupportedencodingexception microdata html client microdatahtmlclient client microdata html client microdatahtmlclient http server httpserver geturi to string tostring document doc client post redirect url string entity stringentity test assert that assertthat post request failed redirect doc to string tostring contains string containsstring response
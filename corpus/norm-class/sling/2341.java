licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution queue impl job handling jobhandling javax annotation nonnull java util array list arraylist java util collection java util list java util map org apache sling distribution queue distribution queue distributionqueue org apache sling distribution queue distribution queue entry distributionqueueentry org apache sling distribution queue distribution queue item distributionqueueitem org apache sling distribution queue distribution queue item status distributionqueueitemstatus org apache sling distribution queue distribution queue state distributionqueuestate org apache sling distribution queue distribution queue status distributionqueuestatus org apache sling distribution queue impl distribution queue utils distributionqueueutils org apache sling event jobs job org apache sling event jobs job manager jobmanager org apache sling event jobs job manager jobmanager query type querytype org slf logger org slf logger factory loggerfactory link org apache sling distribution queue distribution queue distributionqueue â based sling job handling facilities job handling distribution queue jobhandlingdistributionqueue distribution queue distributionqueue string distribution queue topic org apache sling distribution queue logger log logger factory loggerfactory get logger getlogger get class getclass string string topic job manager jobmanager job manager jobmanager is active isactive job handling distribution queue jobhandlingdistributionqueue string string topic job manager jobmanager job manager jobmanager is active isactive topic topic job manager jobmanager job manager jobmanager is active isactive is active isactive nonnull string get name getname add nonnull distribution queue item distributionqueueitem item result map string object properties job handling utils jobhandlingutils create full properties createfullproperties item job job job manager jobmanager create job createjob topic properties properties add log info job job get id getid exception log error add item queue result result distribution queue entry distributionqueueentry get head gethead job first job firstjob get first job getfirstjob first job firstjob distribution queue item distributionqueueitem item job handling utils jobhandlingutils get item getitem first job firstjob distribution queue item status distributionqueueitemstatus status job handling utils jobhandlingutils get status getstatus first job firstjob distribution queue entry distributionqueueentry item status job get first job getfirstjob log debug item queue list job jobs get jobs getjobs jobs size job first item firstitem jobs log info item queue ret ried retried times first item firstitem get id getid first item firstitem get retry count getretrycount first item firstitem job get job getjob string item id itemid map string object properties job handling utils jobhandlingutils create id properties createidproperties item id itemid job job job manager jobmanager get job getjob topic properties job log warn item item id itemid job list job get jobs getjobs skip limit actual skip actualskip skip skip actual limit actuallimit limit actual skip actualskip limit collection job jobs job manager jobmanager find jobs findjobs query type querytype topic actual limit actuallimit list job result array list arraylist job job job jobs actual skip actualskip result add job result nonnull list distribution queue entry distributionqueueentry get items getitems skip limit list distribution queue entry distributionqueueentry items array list arraylist distribution queue entry distributionqueueentry collection job jobs get jobs getjobs skip limit job job jobs distribution queue item distributionqueueitem item job handling utils jobhandlingutils get item getitem job distribution queue item status distributionqueueitemstatus status job handling utils jobhandlingutils get status getstatus job items add distribution queue entry distributionqueueentry item status items distribution queue entry distributionqueueentry get item getitem nonnull string job job get job getjob job distribution queue item distributionqueueitem item job handling utils jobhandlingutils get item getitem job distribution queue item status distributionqueueitemstatus status job handling utils jobhandlingutils get status getstatus job distribution queue entry distributionqueueentry item status distribution queue entry distributionqueueentry remove nonnull string removed job job get job getjob distribution queue entry distributionqueueentry entry job distribution queue item distributionqueueitem item job handling utils jobhandlingutils get item getitem job distribution queue item status distributionqueueitemstatus status job handling utils jobhandlingutils get status getstatus job entry distribution queue entry distributionqueueentry item status removed job manager jobmanager remove job by id removejobbyid job get id getid log info item removed queue removed entry override nonnull distribution queue status distributionqueuestatus get status getstatus list job jobs get jobs getjobs job first job firstjob jobs size jobs distribution queue item distributionqueueitem first item firstitem first job firstjob job handling utils jobhandlingutils get item getitem first job firstjob distribution queue item status distributionqueueitemstatus first item status firstitemstatus first job firstjob job handling utils jobhandlingutils get status getstatus first job firstjob distribution queue state distributionqueuestate distribution queue utils distributionqueueutils calculate state calculatestate first item firstitem first item status firstitemstatus is active isactive distribution queue state distributionqueuestate paused items count itemscount jobs size distribution queue status distributionqueuestatus items count itemscount
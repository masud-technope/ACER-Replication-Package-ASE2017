licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling testing resource resolver resourceresolver org apache sling testing resource resolver resourceresolver mock resource mockresource jcr content org apache sling testing resource resolver resourceresolver mock resource mockresource jcr data org apache sling testing resource resolver resourceresolver mock resource mockresource jcr primarytype org apache sling testing resource resolver resourceresolver mock resource mockresource file org apache sling testing resource resolver resourceresolver mock resource mockresource resource org junit assert array equals assertarrayequals org junit assert not null assertnotnull java byte array input stream bytearrayinputstream java io exception ioexception java input stream inputstream org apache commons io utils ioutils org apache sling api resource login exception loginexception org apache sling api resource resource org apache sling api resource resource resolver resourceresolver org apache sling api resource value map valuemap org junit org junit test google common collect immutable map immutablemap simple write read resource values test sling crud api create test data nt file resource test ntfileresourcetest binary resource resolver resourceresolver resource resolver resourceresolver resource test root testroot set up setup io exception ioexception login exception loginexception resource resolver resourceresolver mock resource resolver factory mockresourceresolverfactory get resource resolver getresourceresolver resource root resource resolver resourceresolver get resource getresource test root testroot resource resolver resourceresolver create root test value map valuemap empty test test nt file testntfile io exception ioexception resource file resource resolver resourceresolver create test root testroot nt file ntfile immutable map immutablemap string object builder jcr primarytype file build resource resolver resourceresolver create file jcr content immutable map immutablemap string object builder jcr primarytype resource jcr data byte array input stream bytearrayinputstream binary build string path test root testroot get path getpath nt file ntfile resource resource resource resolver resourceresolver get resource getresource path input stream inputstream resource adapt to adaptto input stream inputstream assert not null assertnotnull assert array equals assertarrayequals binary io utils ioutils to byte array tobytearray close test test nt resource testntresource io exception ioexception resource resolver resourceresolver create test root testroot nt resource ntresource immutable map immutablemap string object builder jcr primarytype resource jcr data byte array input stream bytearrayinputstream binary build string path test root testroot get path getpath nt resource ntresource resource resource resource resolver resourceresolver get resource getresource path input stream inputstream resource adapt to adaptto input stream inputstream assert not null assertnotnull assert array equals assertarrayequals binary io utils ioutils to byte array tobytearray close
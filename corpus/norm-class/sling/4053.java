licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jsp jasper compiler org apache sling scripting jsp jasper jasper exception jasperexception org apache sling scripting jsp jasper options text optimize r textoptimizer visitor concatenate contiguous template texts text cat visitor textcatvisitor node visitor options options page info pageinfo page info pageinfo text node count textnodecount node template text templatetext first text node firsttextnode string buffer stringbuffer text buffer textbuffer string empty text emptytext string text cat visitor textcatvisitor compiler compiler options compiler get compilation context getcompilationcontext get options getoptions page info pageinfo compiler get page info getpageinfo do visit dovisit node jasper exception jasperexception collect text collecttext direct is directis text concatenation visit node page directive pagedirective jasper exception jasperexception visit node tag directive tagdirective jasper exception jasperexception visit node taglib directive taglibdirective jasper exception jasperexception visit node attribute directive attributedirective jasper exception jasperexception visit node variable directive variabledirective jasper exception jasperexception don concatenate text body bound aries boundaries visit body visitbody node jasper exception jasperexception visit body visitbody collect text collecttext visit node template text templatetext jasper exception jasperexception options get trim spaces gettrimspaces page info pageinfo is trim directive whitespaces istrimdirectivewhitespaces is all space isallspace set text settext empty text emptytext text node count textnodecount first text node firsttextnode text buffer textbuffer string buffer stringbuffer get text gettext append text text buffer text buffer textbuffer append get text gettext set text settext empty text emptytext method breaks concatenation mode side copies concat enated concatenated string text node collect text collecttext text node count textnodecount copy text buffer template text node first text node firsttextnode set text settext text buffer textbuffer to string tostring text node count textnodecount concatenate compiler compiler node nodes jasper exception jasperexception text cat visitor textcatvisitor text cat visitor textcatvisitor compiler visit clean up cleanup ends template text collect text collecttext
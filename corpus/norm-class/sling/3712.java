licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling discovery base setup java buffered writer bufferedwriter java byte array output stream bytearrayoutputstream java io exception ioexception java output stream writer outputstreamwriter java writer java net url org apache log layout org apache log log manager logmanager org apache log pattern layout patternlayout org apache log property configurator propertyconfigurator org apache log writer appender writerappender with holding appender withholdingappender writer appender writerappender byte array output stream bytearrayoutputstream baos writer writer install with holding appender withholdingappender essentially muting logging with holding withholding release called with holding appender withholdingappender with held withheld log output with holding appender withholdingappender install log manager logmanager get root logger getrootlogger remove all appenders removeallappenders with holding appender withholdingappender with holding appender withholdingappender with holding appender withholdingappender pattern layout patternlayout yyyy sss log manager logmanager get root logger getrootlogger add appender addappender with holding appender withholdingappender with holding appender withholdingappender release with holding appender withholdingappender optionally dump with held withheld exception param dump to sysout dumptosysout release dump to sysout dumptosysout log manager logmanager reset configuration resetconfiguration url log j properties file jpropertiesfile get class getclass get resource getresource log properties property configurator propertyconfigurator configure log j properties file jpropertiesfile dump to sysout dumptosysout string with held logo utput withheldlogoutput get buffer getbuffer system println with held logo utput withheldlogoutput with holding appender withholdingappender layout layout layout layout baos byte array output stream bytearrayoutputstream writer buffered writer bufferedwriter output stream writer outputstreamwriter baos set writer setwriter writer string get buffer getbuffer writer flush io exception ioexception baos to string tostring
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling installer org junit assert null assertnull java util array list arraylist java util list org apache sling installer api installable resource installableresource org junit org junit org junit test org junit runner run with runwith org ops pax exam option org ops pax exam junit pax exam paxexam org osgi framework bundle verify removal resources detected osgi controller osgicontroller stopped resource removed run with runwith pax exam paxexam removed resource detection test removedresourcedetectiontest osgi installer test base osgiinstallertestbase org ops pax exam configuration option config default configuration defaultconfiguration set up setup setup installer setupinstaller tear down teardown tear down teardown test test remove resource and restart testremoveresourceandrestart exception string symbolic name a symbolicnamea osgi installer test bundle testbundle string symbolic name b symbolicnameb osgi installer test b testb install bundles verify assert null assertnull symbolic name a symbolicnamea absent installing find bundle findbundle symbolic name a symbolicnamea object listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test bundle testbundle jar wait for bundle events waitforbundleevents bundle installed listener bundle event bundleevent symbolic name a symbolicnamea org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name a symbolicnamea org osgi framework bundle event bundleevent started assert bundle assertbundle initial install symbolic name a symbolicnamea bundle active assert null assertnull symbolic name b symbolicnameb absent installing find bundle findbundle symbolic name b symbolicnameb listener start observing bundle events startobservingbundleevents installer update resources updateresources url scheme get installable resource getinstallableresource get test bundle gettestbundle bundle base test b testb jar wait for bundle events waitforbundleevents bundle installed listener bundle event bundleevent symbolic name b symbolicnameb org osgi framework bundle event bundleevent installed bundle event bundleevent symbolic name b symbolicnameb org osgi framework bundle event bundleevent started assert bundle assertbundle initial install symbolic name b symbolicnameb bundle active assert bundle assertbundle initial install symbolic name a symbolicnamea bundle active restart installer register bundle verify restart installer restartinstaller listener start observing bundle events startobservingbundleevents list installable resource installableresource data array list arraylist installable resource installableresource data add get installable resource getinstallableresource get test bundle gettestbundle bundle base test b testb jar installer register resources registerresources url scheme data to array toarray installable resource installableresource data size sleep wait for bundle events waitforbundleevents bundle installed listener bundle event bundleevent symbolic name a symbolicnamea org osgi framework bundle event bundleevent stopped bundle event bundleevent symbolic name a symbolicnamea org osgi framework bundle event bundleevent uninstalled assert bundle assertbundle installer restart symbolic name b symbolicnameb bundle active assert null assertnull bundle list removed find bundle findbundle symbolic name a symbolicnamea
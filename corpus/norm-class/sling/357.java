licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling scripting jst java input stream inputstream java input stream reader inputstreamreader java print writer printwriter java reader java string writer stringwriter junit framework test case testcase org apache sling commons testing util test string util teststringutil test js code generator jscodegenerator js code generator test jscodegeneratortest test case testcase string encoding utf string test resources path jscode js code generator jscodegenerator generator js code generator jscodegenerator pass input jst test file js code generator jscodegenerator verify result matches expected file run test runtest exception string input test resources path jscode input jst input stream inputstream script stream scriptstream get class getclass get resource as stream getresourceasstream input script stream scriptstream test files assert not null assertnotnull input script stream scriptstream reader input stream reader inputstreamreader script stream scriptstream encoding string expected code expectedcode string util stringutil read class resource readclassresource get class getclass test resources path jscode expected encoding string writer stringwriter result string writer stringwriter generator generate code generatecode print writer printwriter result assert equals assertequals generated code match expected code input test string util teststringutil flatten expected code expectedcode to string tostring trim test string util teststringutil flatten result to string tostring trim test js code test files testjscodetestfiles exception max test files maxtestfiles expected tests expectedtests counter max test files maxtestfiles run test runtest counter assert true asserttrue expected tests expectedtests counter expected tests expectedtests
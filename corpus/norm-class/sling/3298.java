licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest servlets post java io exception ioexception java util hash map hashmap java util linked list linkedlist java util list java util map javax servlet http http servlet response httpservletresponse org apache commons http client httpclient name value pair namevaluepair org apache sling commons json json object jsonobject org apache sling commons testing int egration integration http test base httptestbase org apache sling servlets post sling post constants slingpostconstants test support delete suffix sling post servlet at delete test postservletatdeletetest http test base httptestbase string test base path sling tests string prop text string prop title string prop string prop title string post url posturl override set up setup exception set up setup post url posturl http base url test base path get class getclass get simple name getsimplename system current time millis currenttimemillis assert http status asserthttpstatus post url posturl http servlet response httpservletresponse path exist test post url posturl test delete only testdeleteonly exception map string string props hash map hashmap string string props prop prop string contenturl test client testclient create node createnode post url posturl sling post constants slingpostconstants create suffix props property correctly string propurl contenturl prop string data get content getcontent propurl json content type json json object jsonobject json json object jsonobject data assert equals assertequals prop json prop list name value pair namevaluepair params linked list linkedlist name value pair namevaluepair params add name value pair namevaluepair prop sling post constants slingpostconstants suffix delete don care assert post status assertpoststatus contenturl http servlet response httpservletresponse params prop deleted assert http status asserthttpstatus propurl http servlet response httpservletresponse prop deleted delete node deletenode contenturl test delete with modify testdeletewithmodify exception map string string props hash map hashmap string string props prop prop string contenturl test client testclient create node createnode post url posturl sling post constants slingpostconstants create suffix props property correctly string propurl contenturl prop string data get content getcontent propurl json content type json json object jsonobject json json object jsonobject data assert equals assertequals prop json prop list name value pair namevaluepair params linked list linkedlist name value pair namevaluepair params add name value pair namevaluepair prop sling post constants slingpostconstants suffix delete don care params add name value pair namevaluepair prop prop assert post status assertpoststatus contenturl http servlet response httpservletresponse params prop deleted assert http status asserthttpstatus propurl http servlet response httpservletresponse prop deleted assert http status asserthttpstatus contenturl prop http servlet response httpservletresponse prop exist string data get content getcontent contenturl json content type json json object jsonobject json json object jsonobject data assert false assertfalse json prop assert equals assertequals prop json prop delete node deletenode contenturl delete node deletenode string nodeurl io exception ioexception delete check list name value pair namevaluepair params linked list linkedlist name value pair namevaluepair params add name value pair namevaluepair sling post constants slingpostconstants operation sling post constants slingpostconstants operation delete assert post status assertpoststatus nodeurl http servlet response httpservletresponse params nodeurl deleted
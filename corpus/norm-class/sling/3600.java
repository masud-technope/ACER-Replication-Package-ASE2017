licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution queue impl org apache sling distribution serialization distribution package distributionpackage org apache sling distribution serialization distribution package info distributionpackageinfo org apache sling distribution pack aging packaging shared distribution package shareddistributionpackage org apache sling distribution queue distribution queue distributionqueue org apache sling distribution queue distribution queue provider distributionqueueprovider org junit before class beforeclass org junit test java util hash map hashmap java util list java util map org junit assert equals assertequals org junit assert true asserttrue org mockito mockito mock org mockito mockito verify org mockito mockito verify no more int eractions verifynomoreinteractions org mockito mockito selective queue dispatching strategy test selectivequeuedispatchingstrategytest string queue names queuenames map string string selectors before class beforeclass setup queue names queuenames string publish publish selectors hash map hashmap string string selectors news publish content news selectors notes publish content notes selectors passive content passive test test queue expansion testqueueexpansion exception selective queue dispatching strategy selectivequeuedispatchingstrategy dispatching strategy dispatchingstrategy selective queue dispatching strategy selectivequeuedispatchingstrategy selectors queue names queuenames list string queues dispatching strategy dispatchingstrategy get queue names getqueuenames assert equals assertequals queues size assert true asserttrue queues publish assert true asserttrue queues news publish assert true asserttrue queues publish assert true asserttrue queues news publish assert true asserttrue queues notes publish assert true asserttrue queues passive test test queue matching testqueuematching exception selective queue dispatching strategy selectivequeuedispatchingstrategy dispatching strategy dispatchingstrategy selective queue dispatching strategy selectivequeuedispatchingstrategy selectors queue names queuenames map string string matched queues matchedqueues dispatching strategy dispatchingstrategy get matching queues getmatchingqueues assert equals assertequals matched queues matchedqueues size assert equals assertequals publish matched queues matchedqueues news publish assert equals assertequals publish matched queues matchedqueues notes publish assert equals assertequals publish matched queues matchedqueues news publish assert equals assertequals matched queues matchedqueues passive test test path queue matching testpathqueuematching exception selective queue dispatching strategy selectivequeuedispatchingstrategy dispatching strategy dispatchingstrategy selective queue dispatching strategy selectivequeuedispatchingstrategy selectors queue names queuenames map string string matched queues matchedqueues dispatching strategy dispatchingstrategy get matching queues getmatchingqueues string content news assert equals assertequals matched queues matchedqueues size assert equals assertequals publish matched queues matchedqueues news publish assert equals assertequals publish matched queues matchedqueues news publish matched queues matchedqueues dispatching strategy dispatchingstrategy get matching queues getmatchingqueues string content notes assert equals assertequals matched queues matchedqueues size assert equals assertequals publish matched queues matchedqueues notes publish matched queues matchedqueues dispatching strategy dispatchingstrategy get matching queues getmatchingqueues string content notes assert equals assertequals matched queues matchedqueues size matched queues matchedqueues dispatching strategy dispatchingstrategy get matching queues getmatchingqueues string content assert equals assertequals matched queues matchedqueues size matched queues matchedqueues dispatching strategy dispatchingstrategy get matching queues getmatchingqueues string content passive assert equals assertequals matched queues matchedqueues size assert equals assertequals matched queues matchedqueues passive test test matching dispatching testmatchingdispatching exception selective queue dispatching strategy selectivequeuedispatchingstrategy dispatching strategy dispatchingstrategy selective queue dispatching strategy selectivequeuedispatchingstrategy selectors queue names queuenames distribution package distributionpackage distribution package distributionpackage mock shared distribution package shareddistributionpackage distribution queue provider distributionqueueprovider queue provider queueprovider mock distribution queue provider distributionqueueprovider map string object properties hash map hashmap string object properties distribution package info distributionpackageinfo property request paths string content news distribution package distributionpackage get info getinfo then return thenreturn distribution package info distributionpackageinfo vlt properties distribution queue distributionqueue news mock distribution queue distributionqueue news get name getname then return thenreturn news publish queue provider queueprovider get queue getqueue news publish then return thenreturn news distribution queue distributionqueue news mock distribution queue distributionqueue news get name getname then return thenreturn news publish queue provider queueprovider get queue getqueue news publish then return thenreturn news dispatching strategy dispatchingstrategy add distribution package distributionpackage queue provider queueprovider verify queue provider queueprovider get queue getqueue news publish verify queue provider queueprovider get queue getqueue news publish verify no more int eractions verifynomoreinteractions queue provider queueprovider test test no matching dispatching testnomatchingdispatching exception selective queue dispatching strategy selectivequeuedispatchingstrategy dispatching strategy dispatchingstrategy selective queue dispatching strategy selectivequeuedispatchingstrategy selectors queue names queuenames distribution package distributionpackage distribution package distributionpackage mock shared distribution package shareddistributionpackage distribution queue provider distributionqueueprovider queue provider queueprovider mock distribution queue provider distributionqueueprovider map string object properties hash map hashmap string object properties distribution package info distributionpackageinfo property request paths string content distribution package distributionpackage get info getinfo then return thenreturn distribution package info distributionpackageinfo vlt properties distribution queue distributionqueue mock distribution queue distributionqueue get name getname then return thenreturn publish queue provider queueprovider get queue getqueue publish then return thenreturn distribution queue distributionqueue mock distribution queue distributionqueue get name getname then return thenreturn publish queue provider queueprovider get queue getqueue publish then return thenreturn dispatching strategy dispatchingstrategy add distribution package distributionpackage queue provider queueprovider verify queue provider queueprovider get queue getqueue publish verify queue provider queueprovider get queue getqueue publish verify no more int eractions verifynomoreinteractions queue provider queueprovider
licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling api resource java closeable java util iterator java util map javax annotation check for null checkfornull javax annotation nonnull javax servlet http http servlet request httpservletrequest org apache sling api adapter adaptable a qute aqute bnd annotation provider type providertype code resource resolver resourceresolver code defines service api resolve link resource objects resource resolver request processing servlet link org apache sling api sling http servlet request slinghttpservletrequest get resource resolver getresourceresolver method resource resolver created link resource resolver factory resourceresolverfactory code resource resolver resourceresolver code link adaptable adapters types jcr based resource resolver support adapting jcr session resolver access jcr repository code resource resolver resourceresolver code gen erally generally thread safe consequence application resolver returned resources objects adapting resolver resource provide proper synchronization ensure thread concurrently operates single resolver resource objects acc essing accessing resources defines kinds methods access resources code resolve code methods code get resource getresource code methods difference lies algorithm applied find requested resource behavior resource table method kind access algorithm missing resource resolve path assumed absolute elaborate resource resolution algorithm kind method intended resolve request url s urls resources returns link non existing resource nonexistingresource get resource getresource access resources absolute path relative paths link get search path getsearchpath search path applied method intended request processing scripts access resources required returns code code table lifecycle resource resolver life cycle creation resource resolver factory methods ends calling link close method call link close method resource resolver ensure system resources properly cleaned resource resolver closed impl icitly implicitly link resource resolver factory resourceresolverfactory create resolver longer active check resource resolver link is live islive method called code resource resolver resourceresolver code valid code resource resolver factory resourceresolverfactory code created instance exists applies general objects returned instance resources code resource resolver factory resourceresolverfactory code exist resource resolver instances invalid resource resolver attributes authentication info properties link resource resolver factory resourceresolverfactory get resource resolver getresourceresolver map link resource resolver factory resourceresolverfactory get administrative resource resolver getadministrativeresourceresolver map link clone map link get attribute names getattributenames link get attribute getattribute string methods exception security sensitive properties link resource resolver factory resourceresolverfactory password exposed provider type providertype resource resolver resourceresolver adaptable closeable request attribute workspace link resolve http servlet request httpservletrequest link resolve http servlet request httpservletrequest string workspace resolve resource sling api bundle deprecated deprecated string request attr workspace info resource resolver resourceresolver get name getname workspace resource resolver attribute resource resolver imp ersonated impersonated link resource resolver factory resourceresolverfactory user impersonation property attribute primary user resource resolver factory method sling api bundle string user impersonator user imp ersonator impersonator suggested property setting resource type resource creation link create resource string map modifying link modifiable value map modifiablevaluemap exact resource type resource defined underlying resource provider property required sling api bundle string property resource type sling resource type resourcetype resolves resource code abs path abspath code option ally optionally code http servlet request httpservletrequest code account code host code request header returns link non existing resource nonexistingresource path resolved existing accessible resource difference method link resolve string method method request properties scheme host header request parameters account resolve resource param request http servlet request object providing hints resolve code abs path abspath code parameter code code implementation reason able reasonable defaults param abs path abspath absolute path resolved resource parameter code code assumed add ress address root resource tree path relative assumed relative root slash prepended path resolving link resource add res sed addressed code abs path abspath code link non existing resource nonexistingresource resource resolved org apache sling api sling exception slingexception subclass thrown error occurs resolve resource illegal state exception illegalstateexception resource resolver link close closed sling api bundle nonnull resource resolve nonnull http servlet request httpservletrequest request nonnull string abs path abspath resolves resource absolute path returns link non existing resource nonexistingresource path resolved existing accessible resource method intended apply algorithm absolute path link resolve http servlet request httpservletrequest method cases request property request headers request parameters resolve resource implementation method call link resolve http servlet request httpservletrequest string method code code request argument param abs path abspath absolute path resolved resource parameter code code assumed add ress address root resource tree path relative assumed relative root slash prepended path resolving link resource add res sed addressed code abs path abspath code link non existing resource nonexistingresource resource resolved org apache sling api sling exception slingexception subclass thrown error occurs resolve resource illegal state exception illegalstateexception resource resolver link close closed nonnull resource resolve nonnull string abs path abspath resolves resource code http servlet request httpservletrequest code returns link non existing resource nonexistingresource path resolved existing accessible resource method deprecated api version impl ementations implementations expected implement method calling link resolve http servlet request httpservletrequest string code abs path abspath code argument result calling code get path info getpathinfo code code request code object param request http servlet request object resolve resource code code link resource add res sed addressed code http servlet request httpservletrequest get path info getpathinfo code link non existing resource nonexistingresource resource resolved null pointer exception nullpointerexception code request code code code org apache sling api sling exception slingexception subclass thrown error occurs resolve resource illegal state exception illegalstateexception resource resolver link close closed deprecated link resolve http servlet request httpservletrequest string deprecated nonnull resource resolve nonnull http servlet request httpservletrequest request returns path mapped resource path app lying applying reverse mapping link resolve string path link resolve string method resource returned note technically code resource path resourcepath code refer existing resource method applies mappings returns string code resource path resourcepath code add ress address existing resource round tripping roundtripping work calling link resolve string path returned code code method intended reverse operation link resolve string method param resource path resourcepath path mapped path mapped path illegal state exception illegalstateexception resource resolver link close closed nonnull string map nonnull string resource path resourcepath returns url mapped resource path app lying applying reverse mapping link resolve http servlet request httpservletrequest string path link resolve http servlet request httpservletrequest string method resource returned note technically code resource path resourcepath code refer existing resource method applies mappings returns string code resource path resourcepath code add ress address existing resource round tripping roundtripping work calling link resolve http servlet request httpservletrequest string path returned code code method intended reverse operation link resolve http servlet request httpservletrequest string method url returned expected absolute url including scheme host servlet context path actual path resolve resource param request http servlet request object apply mapping functionality param resource path resourcepath path mapped path mapped url illegal state exception illegalstateexception resource resolver link close closed sling api bundle check for null checkfornull string map nonnull http servlet request httpservletrequest request nonnull string resource path resourcepath returns link resource object data located path specification define location resources semantics resource paths implementation reading content java content repository path code javax jcr item code path resource object loaded contrast link resolve string method method apply logic path path fetch content param path absolute path resource object loaded path relative path spec ifiers specifiers code code current location code code parent location resolved method path relative character slash implementations expected apply search path algorithm resolve relative path resource code resource code object loaded path code code path resolve resource org apache sling api sling exception slingexception error occurs load resource object path illegal state exception illegalstateexception resource resolver link close closed check for null checkfornull resource get resource getresource nonnull string path returns link resource object data located path specification define location resources semantics resource paths implementation reading content java content repository path code javax jcr item code path resource object loaded param base base link resource relative path argument code path code resolved parameter code code code path code absolute param path path resource object loaded path relative start slash code code resource relative code base code resource returned path relative path spec ifiers specifiers code code current location code code parent location resolved method code resource code object loaded path code code path resolve resource org apache sling api sling exception slingexception error occurs load resource object path code base code code code code path code relative illegal state exception illegalstateexception resource resolver link close closed check for null checkfornull resource get resource getresource resource base nonnull string path returns search path link get resource getresource string method search resources relative path search path empty array returned returned array strings copy internal modifications array influence operation resource resolver resourceresolver search path resource resolver lifetime resource resolver clients call method stored resource resolver entry array absolute path terminated slash character create absolute path search path entry relative path search path entry relative path concat enated concatenated illegal state exception illegalstateexception resource resolver link close closed nonnull string get search path getsearchpath returns code iterator code link resource objects loaded children code resource code specification define term child left implementation define implementation reading content java content repository children link resource objects loaded child items code item code code resource code param parent link resource resource children requested code iterator code link resource objects null pointer exception nullpointerexception code parent code code code org apache sling api sling exception slingexception error occurs acquiring child resource iterator illegal state exception illegalstateexception resource resolver link close closed nonnull iterator resource list children listchildren nonnull resource parent returns parent resource resource method implemented parent resource path calling link resource util resourceutil get parent getparent string method retrieve resource param child link resource resource parent requested parent resource code null pointer exception nullpointerexception code child code code code org apache sling api sling exception slingexception error occurs acquiring parent resource illegal state exception illegalstateexception resource resolver link close closed sling api bundle check for null checkfornull resource get parent getparent nonnull resource child returns code iterable code link resource objects loaded children code resource code specification define term child left implementation define implementation reading content java content repository children link resource objects loaded child items code item code code resource code param parent link resource resource children requested code iterable code link resource objects null pointer exception nullpointerexception code parent code code code org apache sling api sling exception slingexception error occurs acquiring child resource iterator illegal state exception illegalstateexception resource resolver link close closed sling api bundle nonnull iterable resource get children getchildren nonnull resource parent searches resources query form ulated formulated language semantic meaning query language depend actual implementation storage resources jcr repository storage query language parameters create jcr code query code code query manager querymanager code result returned based code node iterator nodeiterator code query result param query query string find resources param language language query form ulated formulated language compatibility older version language xpath code iterator code link resource objects matching query query syntax exception querysyntaxexception query syntactically correct query language indicator org apache sling api sling exception slingexception error occurs querying resources illegal state exception illegalstateexception resource resolver link close closed nonnull iterator resource find resources findresources nonnull string query string language queries storage query form ulated formulated language semantic meaning query language depend actual implementation storage resources jcr repository storage query language parameters create jcr code query code code query manager querymanager code result returned based code row iterator rowiterator code query result map returned row indexed column column jcr code code object converted res pective respective java object code code property type param query query string find resources param language language query form ulated formulated language compatibility older version language xpath code iterator code code map code instances providing access query result query syntax exception querysyntaxexception query syntactically correct query language indicator org apache sling api sling exception slingexception error occurs querying resources illegal state exception illegalstateexception resource resolver link close closed nonnull iterator map string object query resources queryresources nonnull string query string language checks resource direct child resources param resource resource check direct children code code resource child resources illegal state exception illegalstateexception resource resolver link close closed sling api bundle has children haschildren nonnull resource resource returns code resource resolver resourceresolver code instance based code authentication info authenticationinfo code map original authentication info create instance resource resolver created algorithm pre map string object new authentication info newauthenticationinfo hash map hashmap authentication info of this instance authenticationinfoofthisinstance new authentication info newauthenticationinfo add all addall authentication info authenticationinfo resource resolver factory resourceresolverfactory get resource resolver getresourceresolver new authentication info newauthenticationinfo pre param authentication info authenticationinfo map credential data overlay original credential data creation resource resolver code code credential data create instance code resource resolver resourceresolver code login exception loginexception error occurs creating code resource resolver resourceresolver code credential data illegal state exception illegalstateexception resource resolver link close closed sling api bundle nonnull resource resolver resourceresolver clone map string object authentication info authenticationinfo login exception loginexception returns code code resource resolver closed methods defined method exception resource resolver link close closed code code resource resolver closed resource resolver closed method returns code code sling api bundle is live islive close resource resolver method called clients resource resolver method called resource resolver considered unusable exceptions exception method called times ill effects resource closed impl icitly implicitly link resource resolver factory resourceresolverfactory create resolver longer active sling api bundle resource resolver resourceresolver resource resolver lifecycle override close user resource resolver meaning identifier implementation detail defined underlying repository method user illegal state exception illegalstateexception resource resolver link close closed sling api bundle check for null checkfornull string get user d getuserid returns iterator attribute names retrieved calling link get attribute getattribute string method iterator include attributes accessible iterator attribute names illegal state exception illegalstateexception resource resolver link close closed nonnull iterator string get attribute names getattributenames returns resource resolver attribute code code attribute visible link resource resolver factory resourceresolverfactory password security sensitive attributes param attribute access attribute code code attribute accessible null pointer exception nullpointerexception code code code code illegal state exception illegalstateexception resource resolver link close closed check for null checkfornull object get attribute getattribute nonnull string delete resource deleting existing resource leads operation exception param resource resource delete null pointer exception nullpointerexception resource parameter unsupported operation exception unsupportedoperationexception resource provider delete resource persistence exception persistenceexception operation fails illegal state exception illegalstateexception resource resolver link close closed sling api bundle delete nonnull resource resource persistence exception persistenceexception add child resource parent resource param parent parent resource param child resource plain path param properties optional properties resource resource null pointer exception nullpointerexception resource parameter parameter illegal argument exception illegalargumentexception slash unsupported operation exception unsupportedoperationexception resource provider create resource location persistence exception persistenceexception operation fails illegal state exception illegalstateexception resource resolver link close closed sling api bundle nonnull resource create nonnull resource parent nonnull string map string object properties persistence exception persistenceexception revert pending illegal state exception illegalstateexception resource resolver link close closed sling api bundle revert per sist persist pending persistence exception persistenceexception illegal state exception illegalstateexception resource resolver link close closed sling api bundle commit persistence exception persistenceexception pending illegal state exception illegalstateexception resource resolver link close closed sling api bundle has changes haschanges returns type resource method checks resource type calling link resource get resource super type getresourcesupertype returns code code link get parent resource type getparentresourcetype string invoked resource type resource param resource resource resource type resource type code code method returns code code resource code code illegal state exception illegalstateexception resource resolver link close closed sling api bundle check for null checkfornull string get parent resource type getparentresourcetype resource resource returns type resource type method converts resource type resource path checks resource search path resource exists link resource get resource super type getresourcesupertype method called param resource type resourcetype resource type type returned type code resource type resourcetype code resource resource type exist returns code type returns code code resource type resourcetype illegal state exception illegalstateexception resource resolver link close closed sling api bundle check for null checkfornull string get parent resource type getparentresourcetype string resource type resourcetype returns code code resource type resource type equals resource type param resource resource check param resource type resourcetype resource type check resource code code resource type resource type equals resource type code code returned code resource code code resource type resourcetype code code code illegal state exception illegalstateexception resource resolver link close closed sling api bundle is resource type isresourcetype resource resource string resource type resourcetype resolver updated reflect latest resources pending discarded illegal state exception illegalstateexception resource resolver link close closed sling api bundle refresh method copies sub graph subgraph rooted including resource code src abs path srcabspath code location code dest abs path destabspath code adds child node resource code dest abs path destabspath code copy operation single resource provider resource provider optimized copy operation resource resolver copies resources provider resource code dest abs path destabspath code exist code persistence exception persistenceexception thrown child resource exists code dest abs path destabspath code code persistence exception persistenceexception thrown resource code src abs path srcabspath exist code persistence exception persistenceexception thrown param src abs path srcabspath path resource copied param dest abs path destabspath location resource code src abs path srcabspath code copied destination resource persistence exception persistenceexception error occurs unsupported operation exception unsupportedoperationexception destination resource providers create resource location illegal state exception illegalstateexception resource resolver link close closed sling api bundle resource copy string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception method moves sub graph subgraph rooted including resource code src abs path srcabspath code location code dest abs path destabspath code adds child node resource code dest abs path destabspath code move operation single resource provider resource provider optimized move operation resource resolver moves resources provider resource code dest abs path destabspath code exist code persistence exception persistenceexception thrown child resource exists code dest abs path destabspath code code persistence exception persistenceexception thrown resource code src abs path srcabspath exist code persistence exception persistenceexception thrown param src abs path srcabspath path resource copied param dest abs path destabspath location resource code src abs path srcabspath code moved destination resource persistence exception persistenceexception error occurs unsupported operation exception unsupportedoperationexception destination resource providers create resource location illegal state exception illegalstateexception resource resolver link close closed sling api bundle resource move string src abs path srcabspath string dest abs path destabspath persistence exception persistenceexception
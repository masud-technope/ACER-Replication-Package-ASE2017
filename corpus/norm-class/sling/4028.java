licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling servlets impl helpers java io exception ioexception javax servlet http http servlet response httpservletresponse org apache commons lang string utils stringutils org apache sling api sling exception slingexception org apache sling api sling http servlet request slinghttpservletrequest org apache sling api sling http servlet response slinghttpservletresponse org apache sling api resource resource org apache sling api resource resource not found exception resourcenotfoundexception org apache sling api resource resource util resourceutil org apache sling api servlets sling safe methods servlet slingsafemethodsservlet org apache sling commons json json exception jsonexception org apache sling commons json json renderer jsonrenderer org apache sling commons json json writer jsonwriter org apache sling commons json sling resource traversor resourcetraversor org slf logger org slf logger factory loggerfactory code json renderer servlet jsonrendererservlet code renders current resource json behalf link org apache sling servlets impl default get servlet defaultgetservlet json renderer servlet jsonrendererservlet sling safe methods servlet slingsafemethodsservlet logger log logger factory loggerfactory get logger getlogger json renderer servlet jsonrendererservlet serialversionuid string ext json json recursion level selector levels string inf inity infinity infinity selector pretty print output string tidy tidy selector hierarchy rendered arrays child objects preserve order child objects string harray harray indent tidy mode indent spaces maximum results maximumresults json renderer jsonrenderer renderer json renderer jsonrenderer json renderer servlet jsonrendererservlet maximum results maximumresults maximum results maximumresults maximum results maximumresults override do get doget sling http servlet request slinghttpservletrequest req sling http servlet response slinghttpservletresponse resp io exception ioexception access check data resource req get resource getresource resource util resourceutil is non existing resource isnonexistingresource resource not found exception resourcenotfoundexception data render max recursion levels maxrecursionlevels max recursion levels maxrecursionlevels get max recursion level getmaxrecursionlevel req illegal argument exception illegalargumentexception iae resp send error senderror http servlet response httpservletresponse bad request iae get message getmessage resp set content type setcontenttype req get response content type getresponsecontenttype resp set character encoding setcharacterencoding utf check tree nodes isn bigger allowed allow dump allowdump allowed level allowedlevel tidy is tidy istidy req harray has selector hasselector req harray resource traversor resourcetraversor traversor traversor resource traversor resourcetraversor max recursion levels maxrecursionlevels maximum results maximumresults tidy allowed level allowedlevel traversor collect resources collectresources allowed level allowedlevel allow dump allowdump json exception jsonexception report exception reportexception dump resource allow dump allowdump tidy harray json renderer jsonrenderer options opt renderer options with indent withindent tidy indent spaces with arrays for children witharraysforchildren harray resp get writer getwriter write renderer pretty print prettyprint traversor getjsonobject opt rendering options plain to string tostring method compatibility output pretty print prettyprint options resp get writer getwriter write traversor getjsonobject to string tostring allowed dump send string tidy url tidyurl tidy tidy resp set status setstatus http servlet response httpservletresponse multiple choices json writer jsonwriter writer json writer jsonwriter resp get writer getwriter writer array allowed level allowedlevel writer get resource metadata getresourcemetadata get resolution path getresolutionpath tidy url tidyurl allowed level allowedlevel json allowed level allowedlevel writer end array endarray json exception jsonexception report exception reportexception recursion level selectors sling selector recursion level param req request recursion level illegal argument exception illegalargumentexception detected selector number get max recursion level getmaxrecursionlevel sling http servlet request slinghttpservletrequest req illegal argument exception illegalargumentexception max recursion levels maxrecursionlevels string selectors req get request path info getrequestpathinfo get selectors getselectors selectors selectors length string level selectors selectors length tidy equals level harray equals level inf inity infinity equals level max recursion levels maxrecursionlevels max recursion levels maxrecursionlevels integer parse int parseint level number format exception numberformatexception nfe string utils stringutils is numeric isnumeric level max recursion levels maxrecursionlevels illegal argument exception illegalargumentexception invalid recursion selector level max recursion levels maxrecursionlevels checks request selector param req request param selector to check selectortocheck selector code selector code has selector hasselector sling http servlet request slinghttpservletrequest req string selector to check selectortocheck string selector req get request path info getrequestpathinfo get selectors getselectors selector to check selectortocheck equals selector request tidy pretty printed format param req request code request link tidy selector code is tidy istidy sling http servlet request slinghttpservletrequest req has selector hasselector req tidy param sling exception slingexception wrapping exception report exception reportexception exception log warn error json renderer servlet jsonrendererservlet to string tostring sling exception slingexception to string tostring
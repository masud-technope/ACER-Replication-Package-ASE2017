licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling distribution queue impl job handling jobhandling java util collections java util map org apache sling distribution distribution request type distributionrequesttype org apache sling distribution serialization distribution package info distributionpackageinfo org apache sling distribution queue distribution queue distributionqueue org apache sling distribution queue distribution queue item distributionqueueitem org apache sling distribution queue distribution queue item state distributionqueueitemstate org apache sling distribution queue distribution queue item status distributionqueueitemstatus org apache sling event jobs job org apache sling event jobs job builder jobbuilder org apache sling event jobs job manager jobmanager org junit test org junit assert equals assertequals org junit assert not null assertnotnull org junit assert true asserttrue org mockito matchers org mockito matchers any map anymap org mockito matchers any string anystring org mockito mockito mock org mockito mockito test case testcase link job handling distribution queue jobhandlingdistributionqueue job handling distribution queue test jobhandlingdistributionqueuetest suppress warnings suppresswarnings unchecked test test package add ition testpackageaddition exception job manager jobmanager job manager jobmanager mock job manager jobmanager job builder jobbuilder builder mock job builder jobbuilder builder properties map then return thenreturn builder job job mock job job get id getid then return thenreturn builder add then return thenreturn job string topic job handling distribution queue jobhandlingdistributionqueue distribution queue topic aname job manager jobmanager create job createjob topic then return thenreturn builder job manager jobmanager find jobs findjobs job manager jobmanager query type querytype topic then return thenreturn collections job empty set emptyset builder properties map then return thenreturn builder distribution queue distributionqueue queue job handling distribution queue jobhandlingdistributionqueue aname topic job manager jobmanager distribution package info distributionpackageinfo package info packageinfo distribution package info distributionpackageinfo type package info packageinfo distribution package info distributionpackageinfo property request paths string foo package info packageinfo distribution package info distributionpackageinfo property request type distribution request type distributionrequesttype add distribution queue item distributionqueueitem distribution queue item distributionqueueitem distribution queue item distributionqueueitem package info packageinfo assert true asserttrue queue add distribution queue item distributionqueueitem suppress warnings suppresswarnings unchecked test test package add ition and status check testpackageadditionandstatuscheck exception job manager jobmanager job manager jobmanager mock job manager jobmanager job builder jobbuilder builder mock job builder jobbuilder builder properties map then return thenreturn builder job job mock job job get id getid then return thenreturn builder add then return thenreturn job string topic job handling distribution queue jobhandlingdistributionqueue distribution queue topic aname job manager jobmanager create job createjob topic then return thenreturn builder job manager jobmanager get job getjob any string anystring any map anymap then return thenreturn job builder properties map then return thenreturn builder distribution queue distributionqueue queue job handling distribution queue jobhandlingdistributionqueue aname topic job manager jobmanager distribution package info distributionpackageinfo package info packageinfo distribution package info distributionpackageinfo type package info packageinfo distribution package info distributionpackageinfo property request paths string foo package info packageinfo distribution package info distributionpackageinfo property request type distribution request type distributionrequesttype add distribution queue item distributionqueueitem distribution queue item distributionqueueitem distribution queue item distributionqueueitem package info packageinfo assert true asserttrue queue add distribution queue item distributionqueueitem distribution queue item status distributionqueueitemstatus status queue get item getitem distribution queue item distributionqueueitem get id getid get status getstatus assert not null assertnotnull status assert equals assertequals distribution queue item state distributionqueueitemstate queued status get item state getitemstate
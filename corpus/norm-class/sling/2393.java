licensed apache software foundation asf contributor license agreements notice file distributed work additional copyright ownership asf licenses file apache license version license file compliance license copy license http apache org licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license org apache sling launchpad webapp int egrationtest integrationtest servlets post org apache commons http client httpclient header org apache commons http client httpclient name value pair namevaluepair org apache commons http client httpclient methods post method postmethod org apache sling commons testing int egration integration http test base httptestbase org apache sling servlets post sling post constants slingpostconstants test switching output content type post servlet accept header http equiv accept parameter post servlet output content type test postservletoutputcontenttypetest http test base httptestbase string test path test path get class getclass get simple name getsimplename system current time millis currenttimemillis run test runtest string accept header value acceptheadervalue use http equiv usehttpequiv string expected content type expectedcontenttype exception string info use http equiv usehttpequiv http equiv parameter accept header string url http base url test path post method postmethod post post method postmethod url post set follow redirects setfollowredirects accept header value acceptheadervalue use http equiv usehttpequiv post add parameter addparameter http equiv accept accept header value acceptheadervalue post add request header addrequestheader accept accept header value acceptheadervalue status http client httpclient execute method executemethod post assert equals assertequals info expected status post url status header post get response header getresponseheader content type assert not null assertnotnull info expected content type header string get value getvalue assert true asserttrue info expected content type expected content type expectedcontenttype accept header accept header value acceptheadervalue starts with startswith expected content type expectedcontenttype run test runtest string accept header value acceptheadervalue string expected content type expectedcontenttype exception run test runtest accept header value acceptheadervalue expected content type expectedcontenttype run test runtest accept header value acceptheadervalue expected content type expectedcontenttype test default content type testdefaultcontenttype exception run test runtest content type html test json content type testjsoncontenttype exception run test runtest application json content type json test html content type testhtmlcontenttype exception run test runtest text html application xhtml xml application xml content type html test html content type with q testhtmlcontenttypewithq exception run test runtest text plain text html application xhtml xml application xml application json content type html test json content type with q testjsoncontenttypewithq exception run test runtest text plain text html application json content type json test json content type exception testjsoncontenttypeexception exception perform post fails invalid post servlet postservlet operation accept header json string url http base url test path post method postmethod post post method postmethod url post set follow redirects setfollowredirects post add parameter addparameter name value pair namevaluepair sling post constants slingpostconstants operation invalid test operation for invalidtestoperationfor get class getclass get simple name getsimplename post add request header addrequestheader accept content type json status http client httpclient execute method executemethod post assert equals assertequals status string content type contenttype post get response header getresponseheader content type get value getvalue string expected content type json assert true asserttrue expecting content type expected failed post request content type contenttype content type contenttype content type contenttype starts with startswith expected
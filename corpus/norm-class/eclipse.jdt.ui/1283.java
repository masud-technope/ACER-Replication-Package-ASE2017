copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal compare java lang reflect invocation target exception invocationtargetexception java util map org eclipse swt widgets shell org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core resources i file ifile org eclipse core resources i file state ifilestate org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse text edits multi text edit multitextedit org eclipse text edits text edit textedit org eclipse jface action i action iaction org eclipse jface dialogs message dialog messagedialog org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse jface viewers i selection iselection org eclipse jface viewers i structured selection istructuredselection org eclipse jface viewers structured selection structuredselection org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text rewrite session edit processor rewritesessioneditprocessor org eclipse i editor part ieditorpart org eclipse i workbench iworkbench org eclipse i workbench page iworkbenchpage org eclipse i workbench window iworkbenchwindow org eclipse platformui org eclipse file editor input fileeditorinput org eclipse texteditor i document provider idocumentprovider org eclipse compare history item historyitem org eclipse compare i type d element itypedelement org eclipse compare resource node resourcenode org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i source range isourcerange org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt internal corext util strings org eclipse jdt internal java plugin javaplugin org eclipse jdt internal actions selection converter selectionconverter org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal java editor javaeditor java editor javaeditor base replace local history add local history actions java history action impl javahistoryactionimpl action i action delegate iactiondelegate f modifies file fmodifiesfile i selection iselection f selection fselection java history action impl javahistoryactionimpl modifies file modifiesfile f modifies file fmodifiesfile modifies file modifiesfile i selection iselection get selection getselection f selection fselection i file ifile get file getfile object input java element history page source javaelementhistorypagesource get instance getinstance get file getfile input i type d element itypedelement build edit ions buildeditions i type d element itypedelement target i file ifile file setup array edit ions editions i file state ifilestate add edit ions editions file get history gethistory core exception coreexception java plugin javaplugin log count count length i type d element itypedelement edit ions editions i type d element itypedelement count edit ions editions resource node resourcenode file length edit ions editions history item historyitem target edit ions editions shell get shell getshell f editor feditor f editor feditor get editor site geteditorsite get shell getshell java plugin javaplugin get active workbench shell getactiveworkbenchshell find element working copy i java element ijavaelement get working copy getworkingcopy i java element ijavaelement input required input ast node astnode get body container getbodycontainer compilation unit compilationunit root i member imember parent java model exception javamodelexception i source range isourcerange source range sourcerange parent get name range getnamerange ast node astnode parent node parentnode node finder nodefinder perform root source range sourcerange parent node parentnode type declaration typedeclaration parent node parentnode enum declaration enumdeclaration parent node parentnode annotation type declaration annotationtypedeclaration parent node parentnode parent node parentnode parent node parentnode get parent getparent parent node parentnode returns file open editor being edited beingedited i file ifile file i document provider idocumentprovider java plugin javaplugin get default getdefault get compilation unit document provider getcompilationunitdocumentprovider file editor input fileeditorinput input file editor input fileeditorinput file get document getdocument input returns i member imember i member imember get edit ion element geteditionelement i selection iselection selection selection i structured selection istructuredselection i structured selection istructuredselection i structured selection istructuredselection selection size object get first element getfirstelement i member imember i member imember i member imember exists is binary isbinary java structure creator javastructurecreator has edit ion hasedition is enabled isenabled i file ifile file file file exists f modifies file fmodifiesfile validate edit is enabled isenabled i selection iselection selection i member imember get edit ion element geteditionelement selection i file ifile file get file getfile is enabled isenabled file apply changes applychanges ast rewrite astrewrite rewriter i document idocument document i text file buffer itextfilebuffer text file buffer textfilebuffer shell shell in editor ineditor map string string options core exception coreexception invocation target exception invocationtargetexception interrupted exception interruptedexception multi text edit multitextedit edit multi text edit multitextedit text edit textedit res rewriter rewriteast document options edit add children addchildren res remove children removechildren illegal argument exception illegalargumentexception java plugin javaplugin log rewrite session edit processor rewritesessioneditprocessor document edit text edit textedit update regions perform edits performedits bad location exception badlocationexception java plugin javaplugin log i runnable with progress irunnablewithprogress i runnable with progress irunnablewithprogress override i progress monitor iprogressmonitor invocation target exception invocationtargetexception text file buffer textfilebuffer commit core exception coreexception invocation target exception invocationtargetexception in editor ineditor don progress null progress monitor nullprogressmonitor platformui get workbench getworkbench get progress service getprogressservice string trim text block trimtextblock string content string delimiter i java project ijavaproject current project currentproject content string lines strings convert into lines convertintolines content lines strings trim indentation trimindentation lines current project currentproject strings concatenate lines delimiter java editor javaeditor get editor geteditor i file ifile file file editor input fileeditorinput f ei fei file editor input fileeditorinput file i workbench iworkbench workbench java plugin javaplugin get default getdefault get workbench getworkbench i workbench window iworkbenchwindow windows workbench get workbench windows getworkbenchwindows windows length i workbench page iworkbenchpage windows get pages getpages length i editor part ieditorpart editors get dirty editors getdirtyeditors editors length i editor part ieditorpart editors java editor javaeditor java editor javaeditor java editor javaeditor f ei fei equals get editor input geteditorinput java editor javaeditor executes action selection i selection iselection selection action java editor javaeditor f editor feditor string f title ftitle string f message fmessage init java editor javaeditor editor string title string message f editor feditor editor f title ftitle title f message fmessage message java editor javaeditor get editor geteditor f editor feditor run from editor runfromeditor i action iaction ui proxy uiproxy called editor i java element ijavaelement element element selection converter selectionconverter get element at offset getelementatoffset f editor feditor java model exception javamodelexception f selection fselection element structured selection structuredselection element structured selection structuredselection empty is enabled isenabled is enabled isenabled f selection fselection ui proxy uiproxy set enabled setenabled is enabled isenabled is enabled isenabled message dialog messagedialog open information openinformation get shell getshell f title ftitle f message fmessage f selection fselection check enabled checkenabled i compilation unit icompilationunit unit selection converter selectionconverter get input as compilation unit getinputascompilationunit f editor feditor i file ifile file get file getfile unit is enabled isenabled file update i action iaction ui proxy uiproxy ui proxy uiproxy set enabled setenabled check enabled checkenabled i action delegate iactiondelegate selection changed selectionchanged i action iaction ui proxy uiproxy i selection iselection selection f selection fselection selection ui proxy uiproxy set enabled setenabled is enabled isenabled selection i action iaction action f selection fselection compilation unit compilationunit parse partial compilation unit parsepartialcompilationunit i compilation unit icompilationunit unit unit illegal argument exception illegalargumentexception ast parser astparser ast parser astparser new parser newparser ast provider astprovider shared ast level set source setsource unit set focal position setfocalposition set resolve bindings setresolvebindings set working copy owner setworkingcopyowner ast node astnode result createast compilation unit compilationunit result illegal state exception illegalstateexception illegal argument exception illegalargumentexception
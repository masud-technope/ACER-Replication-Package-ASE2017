copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk internal core refactoring resource java net uri java util array list arraylist java util arrays org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i resource visitor iresourcevisitor org eclipse core resources mapping i resource change description factory iresourcechangedescriptionfactory org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers location kind locationkind org eclipse ltk core refactoring change org eclipse ltk core refactoring composite change compositechange org eclipse ltk core refactoring refactoring change descriptor refactoringchangedescriptor org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants check conditions context checkconditionscontext org eclipse ltk core refactoring participants delete arguments deletearguments org eclipse ltk core refactoring participants delete participant deleteparticipant org eclipse ltk core refactoring participants delete processor deleteprocessor org eclipse ltk core refactoring participants participant manager participantmanager org eclipse ltk core refactoring participants refactoring participant refactoringparticipant org eclipse ltk core refactoring participants resource change checker resourcechangechecker org eclipse ltk core refactoring participants sharable participants sharableparticipants org eclipse ltk core refactoring resource delete resource change deleteresourcechange org eclipse ltk core refactoring resource delete resources descriptor deleteresourcesdescriptor org eclipse ltk internal core refactoring basic element labels basicelementlabels org eclipse ltk internal core refactoring messages org eclipse ltk internal core refactoring refactoring core messages refactoringcoremessages org eclipse ltk internal core refactoring resources delete processor link i resource iresource resources processor delete resources load delete participants references deleted delete resources processor deleteresourcesprocessor delete processor deleteprocessor i resource iresource f resources fresources f delete contents fdeletecontents create delete processor delete resources processor deleteresourcesprocessor resources param resources resources delete link i project iproject link i file ifile link i folder ifolder delete resources processor deleteresourcesprocessor i resource iresource resources resources create delete processor param resources resources delete link i project iproject link i file ifile link i folder ifolder param delete contents deletecontents code code delete project contents content delete undo able undoable delete resources processor deleteresourcesprocessor i resource iresource resources delete contents deletecontents f resources fresources remove descendants removedescendants resources f delete contents fdeletecontents delete contents deletecontents returns resources delete resources delete i resource iresource get resources to delete getresourcestodelete f resources fresources delete projects contents code code delete project contents content delete undo able undoable is delete contents isdeletecontents f delete contents fdeletecontents delete projects content param delete contents deletecontents code code delete project contents content delete undo able undoable set delete contents setdeletecontents delete contents deletecontents f delete contents fdeletecontents delete contents deletecontents override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception not e note selection multiple types resource resources contains only projects containsonlyprojects f resources fresources resources contains only non projects containsonlynonprojects f resources fresources refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor delete error mixed types refactoring status refactoringstatus override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor check conditions context checkconditionscontext context core exception coreexception operation canceled exception operationcanceledexception nls begin task begintask refactoring status refactoringstatus result refactoring status refactoringstatus f resources fresources length i resource iresource resource f resources fresources resource is synchronized issynchronized i resource iresource depth infinite string path label pathlabel basic element labels basicelementlabels get path label getpathlabel resource get full path getfullpath string location label locationlabel i path ipath location resource get location getlocation location location label locationlabel basic element labels basicelementlabels get path label getpathlabel location uri uri resource getlocationuri uri location label locationlabel basic element labels basicelementlabels geturlpart uri to string tostring string warning resource i file ifile location label locationlabel warning messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor warning sync file loc object path label pathlabel location label locationlabel warning messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor warning sync file path label pathlabel location label locationlabel warning messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor warning sync container loc object path label pathlabel location label locationlabel warning messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor warning sync container path label pathlabel result add warning addwarning warning check dirty resources checkdirtyresources result resource change checker resourcechangechecker checker context get checker getchecker resource change checker resourcechangechecker i resource change description factory iresourcechangedescriptionfactory delta factory deltafactory checker get delta factory getdeltafactory f resources fresources length f resources fresources is phantom isphantom result add fatal error addfatalerror messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor delete error phantom basic element labels basicelementlabels get path label getpathlabel f resources fresources get full path getfullpath f delete contents fdeletecontents resources is read only isreadonly f resources fresources result add fatal error addfatalerror messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor delete error read basic element labels basicelementlabels get path label getpathlabel f resources fresources get full path getfullpath delta factory deltafactory delete f resources fresources result check dirty resources checkdirtyresources refactoring status refactoringstatus result core exception coreexception f resources fresources length i resource iresource resource f resources fresources resource i project iproject i project iproject resource is open isopen resource accept i resource visitor iresourcevisitor override visit i resource iresource visited resource visitedresource core exception coreexception visited resource visitedresource i file ifile check dirty file checkdirtyfile result i file ifile visited resource visitedresource i resource iresource depth infinite check dirty file checkdirtyfile refactoring status refactoringstatus result i file ifile file file exists i text file buffer itextfilebuffer buffer file buffers filebuffers get text file buffer manager gettextfilebuffermanager get text file buffer gettextfilebuffer file get full path getfullpath location kind locationkind ifile buffer buffer is dirty isdirty string message refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor warning unsaved file buffer is state valid ated isstatevalidated buffer is synchronized issynchronized result add warning addwarning messages format message basic element labels basicelementlabels get path label getpathlabel file get full path getfullpath result add fatal error addfatalerror messages format message basic element labels basicelementlabels get path label getpathlabel file get full path getfullpath override change create change createchange i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception begin task begintask refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor create task f resources fresources length refactoring change descriptor refactoringchangedescriptor descriptor refactoring change descriptor refactoringchangedescriptor create descriptor createdescriptor composite change compositechange change composite change compositechange refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor change change mark as synthetic markassynthetic f resources fresources length worked delete resource change deleteresourcechange delete resource change deleteresourcechange f resources fresources get full path getfullpath f delete contents fdeletecontents set descriptor setdescriptor descriptor change add change delete resources descriptor deleteresourcesdescriptor create descriptor createdescriptor delete resources descriptor deleteresourcesdescriptor descriptor delete resources descriptor deleteresourcesdescriptor descriptor set project setproject descriptor set description setdescription get delete description getdeletedescription descriptor set comment setcomment descriptor get description getdescription descriptor set flags setflags refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change refactoring descriptor refactoringdescriptor breaking change descriptor set delete contents setdeletecontents f delete contents fdeletecontents descriptor set resources setresources f resources fresources descriptor string get delete description getdeletedescription f resources fresources length messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor description single basic element labels basicelementlabels get path label getpathlabel f resources fresources get full path getfullpath messages format refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor description multi integer f resources fresources length override object get elements getelements f resources fresources override string get identifier getidentifier nls org eclipse ltk core refactoring delete resources processor deleteresourcesprocessor override string get processor name getprocessorname refactoring core messages refactoringcoremessages delete resources processor deleteresourcesprocessor processor override is applicable isapplicable core exception coreexception f resources fresources length can delete candelete f resources fresources can delete candelete i resource iresource res res is accessible isaccessible res is phantom isphantom override refactoring participant refactoringparticipant load participants loadparticipants refactoring status refactoringstatus status sharable participants sharableparticipants shared participants sharedparticipants core exception coreexception array list arraylist delete participant deleteparticipant result array list arraylist is applicable isapplicable refactoring participant refactoringparticipant string affected natures affectednatures resource processors resourceprocessors compute affected natures computeaffectednatures f resources fresources delete arguments deletearguments delete arguments deletearguments delete arguments deletearguments f delete contents fdeletecontents f resources fresources length result add all addall arrays as list aslist participant manager participantmanager load delete participants loaddeleteparticipants status f resources fresources delete arguments deletearguments affected natures affectednatures shared participants sharedparticipants result to array toarray refactoring participant refactoringparticipant result size i resource iresource remove descendants removedescendants i resource iresource resources array list arraylist i resource iresource result array list arraylist resources length add to list addtolist result resources result to array toarray i resource iresource result size add to list addtolist array list arraylist i resource iresource result i resource iresource curr i path ipath curr path currpath curr get full path getfullpath result size i resource iresource result i path ipath other path otherpath get full path getfullpath other path otherpath is prefix of isprefixof curr path currpath current entry descendant entry list curr path currpath is prefix of isprefixof other path otherpath entry list descendant current entry result remove result add curr
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring java util array list arraylist org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core resources i resource iresource org eclipse ltk core refactoring change org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext util messages org eclipse jdt internal viewsupport basic element labels basicelementlabels move compilation unit change movecompilationunitchange compilation unit reorg change compilationunitreorgchange f undo able fundoable f stamp to restore fstamptorestore i package fragment ipackagefragment f delete packages fdeletepackages move compilation unit change movecompilationunitchange i compilation unit icompilationunit i package fragment ipackagefragment new package newpackage new package newpackage f stamp to restore fstamptorestore i resource iresource stamp f delete packages fdeletepackages set validation method setvalidationmethod save dirty validate read move compilation unit change movecompilationunitchange i package fragment ipackagefragment old package oldpackage string cu name cuname i package fragment ipackagefragment new package newpackage stamp to restore stamptorestore i package fragment ipackagefragment delete packages deletepackages old package oldpackage get handle identifier gethandleidentifier new package newpackage get handle identifier gethandleidentifier old package oldpackage get compilation unit getcompilationunit cu name cuname get handle identifier gethandleidentifier f stamp to restore fstamptorestore stamp to restore stamptorestore f delete packages fdeletepackages delete packages deletepackages set validation method setvalidationmethod save dirty validate read override string get name getname messages format refactoring core messages refactoringcoremessages move compilation unit change movecompilationunitchange string basic element labels basicelementlabels get file name getfilename get cu getcu get package name getpackagename get destination package getdestinationpackage override change do perform reorg doperformreorg i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception string string new name newname get new name getnewname new name newname get cu getcu get element name getelementname new name newname current modification stamp current stamp currentstamp i resource iresource stamp i resource iresource resource get cu getcu get resource getresource resource current stamp currentstamp resource get modification stamp getmodificationstamp i package fragment ipackagefragment destination get destination package getdestinationpackage f undo able fundoable destination exists destination get compilation unit getcompilationunit exists i package fragment ipackagefragment created packages createdpackages destination exists i package fragment root ipackagefragmentroot package fragment root packagefragmentroot i package fragment root ipackagefragmentroot destination get parent getparent created packages createdpackages create destination createdestination package fragment root packagefragmentroot destination perform move restore modification stamp get cu getcu move destination new name newname f stamp to restore fstamptorestore i resource iresource stamp i compilation unit icompilationunit moved destination get compilation unit getcompilationunit i resource iresource moved resource movedresource moved get resource getresource moved resource movedresource moved resource movedresource revert modification stamp revertmodificationstamp f stamp to restore fstamptorestore f delete packages fdeletepackages f delete packages fdeletepackages length f delete packages fdeletepackages delete f undo able fundoable move compilation unit change movecompilationunitchange destination get cu getcu get element name getelementname get old package getoldpackage current stamp currentstamp created packages createdpackages i package fragment ipackagefragment create destination createdestination i package fragment root ipackagefragmentroot root i package fragment ipackagefragment destination i progress monitor iprogressmonitor java model exception javamodelexception string package name packagename destination get element name getelementname nls string split package name packagename split array list arraylist i package fragment ipackagefragment created array list arraylist string buffer stringbuffer string buffer stringbuffer append split split length i package fragment ipackagefragment fragment root get package fragment getpackagefragment to string tostring fragment exists created add fragment fragment equals destination root create package fragment createpackagefragment to string tostring created to array toarray i package fragment ipackagefragment created size nls append append split
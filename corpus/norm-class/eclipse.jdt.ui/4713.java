copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal jar package r jarpackager java util array list arraylist java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util org eclipse swt swt org eclipse swt custom busy indicator busyindicator org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets composite org eclipse swt widgets table org eclipse swt widgets tree org eclipse jface viewers check state changed event checkstatechangedevent org eclipse jface viewers checkbox table viewer checkboxtableviewer org eclipse jface viewers checkbox tree viewer checkboxtreeviewer org eclipse jface viewers i check state listener icheckstatelistener org eclipse jface viewers i label provider ilabelprovider org eclipse jface viewers i selection iselection org eclipse jface viewers i selection changed listener iselectionchangedlistener org eclipse jface viewers i structured content provider istructuredcontentprovider org eclipse jface viewers i structured selection istructuredselection org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers i tree viewer listener itreeviewerlistener org eclipse jface viewers selection changed event selectionchangedevent org eclipse jface viewers structured selection structuredselection org eclipse jface viewers tree expansion event treeexpansionevent org eclipse jface viewers viewer comparator viewercomparator org eclipse jface viewers viewer filter viewerfilter combines checkbox tree viewer checkboxtreeviewer checkbox list viewer checkboxlistviewer viewer selection driven int eractions interactions handled viewer checkbox tree and list group checkboxtreeandlistgroup i check state listener icheckstatelistener i selection changed listener iselectionchangedlistener i tree viewer listener itreeviewerlistener object f root froot object f current tree selection fcurrenttreeselection list object f expanded tree nodes fexpandedtreenodes array list arraylist map object list object f checked state store fcheckedstatestore hash map hashmap list object f white checked tree items fwhitecheckedtreeitems array list arraylist list i check state listener icheckstatelistener f listeners flisteners array list arraylist i tree content provider itreecontentprovider f tree content provider ftreecontentprovider i structured content provider istructuredcontentprovider f list content provider flistcontentprovider i label provider ilabelprovider f tree label provider ftreelabelprovider i label provider ilabelprovider f list label provider flistlabelprovider widgets checkbox tree viewer checkboxtreeviewer f tree viewer ftreeviewer checkbox table viewer checkboxtableviewer f list viewer flistviewer creates instance constructor width height combined widget hardcode sizing dimensions dimension param parent parent composite param root object rootobject param tree content provider treecontentprovider param tree label provider treelabelprovider param list content provider listcontentprovider param list label provider listlabelprovider param style param width width param height height checkbox tree and list group checkboxtreeandlistgroup composite parent object root object rootobject i tree content provider itreecontentprovider tree content provider treecontentprovider i label provider ilabelprovider tree label provider treelabelprovider i structured content provider istructuredcontentprovider list content provider listcontentprovider i label provider ilabelprovider list label provider listlabelprovider style width height f root froot root object rootobject f tree content provider ftreecontentprovider tree content provider treecontentprovider f list content provider flistcontentprovider list content provider listcontentprovider f tree label provider ftreelabelprovider tree label provider treelabelprovider f list label provider flistlabelprovider list label provider listlabelprovider create contents createcontents parent width height style method called window visible about to open abouttoopen determine white checked desc end ents determinewhitecheckeddescendents f root froot check new tree elements checknewtreeelements get tree children gettreechildren f root froot f current tree selection fcurrenttreeselection select element list object elements get tree children gettreechildren f root froot object primary elements length elements primary f tree viewer ftreeviewer set selection setselection structured selection structuredselection primary f tree viewer ftreeviewer get control getcontrol set focus setfocus adds passed listener collection clients listen element checked param listener i check state listener icheckstatelistener add check state listener addcheckstatelistener i check state listener icheckstatelistener listener f listeners flisteners add listener adds receiver ancestors checked state store checkedstatestore param tree element treeelement add to hierarchy to checked store addtohierarchytocheckedstore object tree element treeelement tree element gray ancestors f checked state store fcheckedstatestore contains key containskey tree element treeelement f checked state store fcheckedstatestore tree element treeelement array list arraylist object parent f tree content provider ftreecontentprovider get parent getparent tree element treeelement parent add to hierarchy to checked store addtohierarchytocheckedstore parent returns indicating children passed tree element white checked param tree element treeelement java lang object are all children white checked areallchildrenwhitechecked object tree element treeelement object children get tree children gettreechildren tree element treeelement children length f white checked tree items fwhitecheckedtreeitems children returns indicating list elements passed tree element checked param tree element treeelement java lang object are all elements checked areallelementschecked object tree element treeelement list object checked elements checkedelements f checked state store fcheckedstatestore tree element treeelement tree item gray checked checked elements checkedelements get list items size getlistitemssize tree element treeelement checked elements checkedelements size iter ates iterates passed elements real ized realized time check tree viewer param elements check new tree elements checknewtreeelements object elements elements length object current element currentelement elements checked f checked state store fcheckedstatestore contains key containskey current element currentelement f tree viewer ftreeviewer set checked setchecked current element currentelement checked f tree viewer ftreeviewer set grayed setgrayed current element currentelement checked f white checked tree items fwhitecheckedtreeitems current element currentelement item checked views determine view occurred delegate appropriately param event check state changed event checkstatechangedevent override check state changed checkstatechanged check state changed event checkstatechangedevent event operation busy cursor busy indicator busyindicator show while showwhile f tree viewer ftreeviewer get control getcontrol get display getdisplay runnable override event get check able getcheckable equals f tree viewer ftreeviewer tree item checked treeitemchecked event get element getelement event get checked getchecked list item checked listitemchecked event get element getelement event get checked getchecked notify check state change listeners notifycheckstatechangelisteners event lay initialize visual components param parent org eclipse swt widgets composite param width param height param style create contents createcontents composite parent width height style group pane composite composite composite parent style grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns layout make columns equal width makecolumnsequalwidth layout margin height marginheight layout margin width marginwidth composite set layout setlayout layout composite set layout data setlayoutdata grid data griddata grid data griddata fill create tree viewer createtreeviewer composite width height create list viewer createlistviewer composite width height initialize creates group list viewer param parent parent composite param width width param height height create list viewer createlistviewer composite parent width height f list viewer flistviewer checkbox table viewer checkboxtableviewer new check list newchecklist parent swt border f list viewer flistviewer set use hash lookup setusehashlookup grid data griddata data grid data griddata grid data griddata fill data width hint widthhint width data height hint heighthint height f list viewer flistviewer get table gettable set layout data setlayoutdata data f list viewer flistviewer set content provider setcontentprovider f list content provider flistcontentprovider f list viewer flistviewer set label provider setlabelprovider f list label provider flistlabelprovider f list viewer flistviewer add check state listener addcheckstatelistener creates group tree viewer param parent parent composite param width width param height height create tree viewer createtreeviewer composite parent width height tree tree tree parent swt check swt border grid data griddata data grid data griddata grid data griddata fill data width hint widthhint width data height hint heighthint height tree set layout data setlayoutdata data f tree viewer ftreeviewer checkbox tree viewer checkboxtreeviewer tree f tree viewer ftreeviewer set use hash lookup setusehashlookup f tree viewer ftreeviewer set content provider setcontentprovider f tree content provider ftreecontentprovider f tree viewer ftreeviewer set label provider setlabelprovider f tree label provider ftreelabelprovider f tree viewer ftreeviewer add tree listener addtreelistener f tree viewer ftreeviewer add check state listener addcheckstatelistener f tree viewer ftreeviewer add selection changed listener addselectionchangedlistener returns indicating passed tree element gray checked note method white checked tree item white checked result code code answer method determine tree item white checked method determine should be white checked determineshouldbewhitechecked object param tree element treeelement java lang object determine should be white checked determineshouldbewhitechecked java lang object determine should be at least gray checked determineshouldbeatleastgraychecked object tree element treeelement list items tree element treeelement checked ret ains retains gray checked status children list object checked f checked state store fcheckedstatestore tree element treeelement checked checked is empty isempty children tree element treeelement gray checked tree element treeelement remain gray checked object children get tree children gettreechildren tree element treeelement children length f checked state store fcheckedstatestore contains key containskey children returns indicating passed tree item white checked param tree element treeelement java lang object determine should be white checked determineshouldbewhitechecked object tree element treeelement are all children white checked areallchildrenwhitechecked tree element treeelement are all elements checked areallelementschecked tree element treeelement recursively adds tree elements collection white checked tree elements param tree element treeelement java lang object determine white checked desc end ents determinewhitecheckeddescendents object tree element treeelement children white checked stat uses statuses needed determine white checked status tree element object children get tree children gettreechildren tree element treeelement children length determine white checked desc end ents determinewhitecheckeddescendents children determine white checked status tree element determine should be white checked determineshouldbewhitechecked tree element treeelement set white checked setwhitechecked tree element treeelement tree viewer expand items expand all expandall f tree viewer ftreeviewer expand all expandall answers flat collection checked elements list portion java util vector iterator object get all checked list items getallcheckedlistitems object result hash set hashset iterator list object list collections enum listcollectionsenum f checked state store fcheckedstatestore values iterator list collections enum listcollectionsenum has next hasnext result add all addall list collections enum listcollectionsenum result iterator answer collection checked elements tree portion java util vector object get all checked tree items getallcheckedtreeitems hash set hashset f checked state store fcheckedstatestore key set keyset answers number elements checked user get checked element count getcheckedelementcount f checked state store fcheckedstatestore size returns count number list items tree item param tree element treeelement java lang object get list items size getlistitemssize object tree element treeelement object elements get list elements getlistelements tree element treeelement elements length table displays folder content table list table get table gettable f list viewer flistviewer get table gettable tree displays list folder tree folders tree get tree gettree f tree viewer ftreeviewer get tree gettree adds filter tree viewer triggers ref iltering refiltering res orting resorting elements param filter viewer filter add tree filter addtreefilter viewer filter viewerfilter filter f tree viewer ftreeviewer add filter addfilter filter adds filter list viewer triggers ref iltering refiltering res orting resorting elements param filter viewer filter add list filter addlistfilter viewer filter viewerfilter filter f list viewer flistviewer add filter addfilter filter log ically logically gray check ancestors tree item treeitem ensuring checked table param tree element treeelement gray check hierarchy graycheckhierarchy object tree element treeelement tree element gray ancestors f checked state store fcheckedstatestore contains key containskey tree element treeelement proceed f checked state store fcheckedstatestore tree element treeelement array list arraylist determine should be white checked determineshouldbewhitechecked tree element treeelement set white checked setwhitechecked tree element treeelement object parent f tree content provider ftreecontentprovider get parent getparent tree element treeelement parent gray check hierarchy graycheckhierarchy parent sets initial checked passed list element param element initial check list item initialchecklistitem object element object parent f tree content provider ftreecontentprovider get parent getparent element f current tree selection fcurrenttreeselection parent box updating selection list item checked listitemchecked element update hierarchy updatehierarchy parent sets initial checked passed element children list elements param element initial check tree item initialchecktreeitem object element tree item checked treeitemchecked element initializes group viewers laid initialize f tree viewer ftreeviewer set input setinput f root froot callback invoked checked status item list changed user update hierarchy building initial list param list element listelement param param updating from selection updatingfromselection list item checked listitemchecked object list element listelement updating from selection updatingfromselection list object checked list items checkedlistitems f checked state store fcheckedstatestore f current tree selection fcurrenttreeselection checked list items checkedlistitems tree item checked list items tree checking updated gray check hierarchy graycheckhierarchy f current tree selection fcurrenttreeselection checked list items checkedlistitems f checked state store fcheckedstatestore f current tree selection fcurrenttreeselection checked list items checkedlistitems add list element listelement checked list items checkedlistitems remove list element listelement checked list items checkedlistitems is empty isempty tree item checked list items tree checking updated ungray check hierarchy ungraycheckhierarchy f current tree selection fcurrenttreeselection updating from selection updatingfromselection update hierarchy updatehierarchy f current tree selection fcurrenttreeselection not ifies notifies checked listeners passed element checked changed passed param event notify check state change listeners notifycheckstatechangelisteners check state changed event checkstatechangedevent event iterator i check state listener icheckstatelistener listeners enum listenersenum f listeners flisteners iterator listeners enum listenersenum has next hasnext listeners enum listenersenum check state changed checkstatechanged event sets contents list viewer based selected tree element includes checking list items param tree element treeelement java lang object populate list viewer populatelistviewer object tree element treeelement tree element treeelement f current tree selection fcurrenttreeselection f current tree selection fcurrenttreeselection tree element treeelement f list viewer flistviewer set input setinput tree element treeelement list object list items to check listitemstocheck f checked state store fcheckedstatestore tree element treeelement list items to check listitemstocheck iterator object list items enum listitemsenum list items to check listitemstocheck iterator list items enum listitemsenum has next hasnext f list viewer flistviewer set checked setchecked list items enum listitemsenum removes passed listener collection clients listen element checked param listener i check state listener icheckstatelistener remove check state listener removecheckstatelistener i check state listener icheckstatelistener listener f listeners flisteners remove listener handles selection item tree viewer param event i selection iselection override selection changed selectionchanged selection changed event selectionchangedevent event busy indicator busyindicator show while showwhile get table gettable get shell getshell get display getdisplay runnable override i structured selection istructuredselection selection i structured selection istructuredselection event get selection getselection object selected element selectedelement selection get first element getfirstelement selected element selectedelement f current tree selection fcurrenttreeselection f list viewer flistviewer set input setinput f current tree selection fcurrenttreeselection populate list viewer populatelistviewer selected element selectedelement selects deselect elements tree depending selection update displayed files param selection set all select ions setallselections selection operation busy cursor busy indicator busyindicator show while showwhile f tree viewer ftreeviewer get control getcontrol get display getdisplay runnable override set tree checked settreechecked f root froot selection f list viewer flistviewer set all checked setallchecked selection sets list viewer providers passed param content provider contentprovider i tree content provider itreecontentprovider param label provider labelprovider i label provider ilabelprovider set list providers setlistproviders i structured content provider istructuredcontentprovider content provider contentprovider i label provider ilabelprovider label provider labelprovider f list viewer flistviewer set content provider setcontentprovider content provider contentprovider f list viewer flistviewer set label provider setlabelprovider label provider labelprovider sets sorter applied list viewer param comparator set list comparator setlistcomparator viewer comparator viewercomparator comparator f list viewer flistviewer set comparator setcomparator comparator sets root widget root reg enerate regenerate tab les tables lists param new root newroot set root setroot object new root newroot f root froot new root newroot initialize sets checked passed tree element appropriately recursively child tree elements param tree element treeelement param set tree checked settreechecked object tree element treeelement tree element treeelement equals f current tree selection fcurrenttreeselection f list viewer flistviewer set all checked setallchecked object list items listitems get list elements getlistelements tree element treeelement list object list items checked listitemschecked array list arraylist list items listitems length list items checked listitemschecked add list items listitems f checked state store fcheckedstatestore tree element treeelement list items checked listitemschecked f checked state store fcheckedstatestore remove tree element treeelement set white checked setwhitechecked tree element treeelement f tree viewer ftreeviewer set checked setchecked tree element treeelement f tree viewer ftreeviewer set grayed setgrayed tree element treeelement logic ally logically check uncheck children object children get tree children gettreechildren tree element treeelement children length set tree checked settreechecked children sets tree viewer providers passed param content provider contentprovider i tree content provider itreecontentprovider param label provider labelprovider i label provider ilabelprovider set tree providers settreeproviders i tree content provider itreecontentprovider content provider contentprovider i label provider ilabelprovider label provider labelprovider f tree viewer ftreeviewer set content provider setcontentprovider content provider contentprovider f tree viewer ftreeviewer set label provider setlabelprovider label provider labelprovider sets sorter applied tree viewer param sorter set tree comparator settreecomparator viewer comparator viewercomparator sorter f tree viewer ftreeviewer set comparator setcomparator sorter adjusts collection references white checked tree elements appropriately param tree element treeelement java lang object param is white checked iswhitechecked set white checked setwhitechecked object tree element treeelement is white checked iswhitechecked is white checked iswhitechecked f white checked tree items fwhitecheckedtreeitems tree element treeelement f white checked tree items fwhitecheckedtreeitems add tree element treeelement f white checked tree items fwhitecheckedtreeitems remove tree element treeelement handle coll apsing collapsing element tree viewer param event override tree collapsed treecollapsed tree expansion event treeexpansionevent event don handles exp ansionsion expansionsion element tree viewer param event override tree expanded treeexpanded tree expansion event treeexpansionevent event object item event get element getelement real ized realized won f expanded tree nodes fexpandedtreenodes item f expanded tree nodes fexpandedtreenodes add item check new tree elements checknewtreeelements get tree children gettreechildren item callback invoked checked status item tree changed user param tree element treeelement param tree item checked treeitemchecked object tree element treeelement recursively adjust child tree elements appropriately set tree checked settreechecked tree element treeelement object parent f tree content provider ftreecontentprovider get parent getparent tree element treeelement parent update tree hierarchy gray check hierarchy graycheckhierarchy parent ungray check hierarchy ungraycheckhierarchy parent update hierarchy updatehierarchy tree element treeelement log ically logically gray check ancestors tree item treeitem iff param tree element treeelement ungray check hierarchy ungraycheckhierarchy object tree element treeelement determine should be at least gray checked determineshouldbeatleastgraychecked tree element treeelement f checked state store fcheckedstatestore remove tree element treeelement object parent f tree content provider ftreecontentprovider get parent getparent tree element treeelement parent ungray check hierarchy ungraycheckhierarchy parent sets checked ancestors appropriately param tree element treeelement update hierarchy updatehierarchy object tree element treeelement white checked whitechecked determine should be white checked determineshouldbewhitechecked tree element treeelement should be at least gray shouldbeatleastgray determine should be at least gray checked determineshouldbeatleastgraychecked tree element treeelement f tree viewer ftreeviewer set checked setchecked tree element treeelement white checked whitechecked should be at least gray shouldbeatleastgray set white checked setwhitechecked tree element treeelement white checked whitechecked white checked whitechecked f tree viewer ftreeviewer set grayed setgrayed tree element treeelement f tree viewer ftreeviewer set grayed setgrayed tree element treeelement should be at least gray shouldbeatleastgray proceed tree element hierarchy object parent f tree content provider ftreecontentprovider get parent getparent tree element treeelement parent update hierarchy updatehierarchy parent update selections tree elements items reflect selections param items object tree element values list selected list elements update select ions updateselections map object list object items operation busy cursor busy indicator busyindicator show while showwhile f tree viewer ftreeviewer get control getcontrol get display getdisplay runnable override handle update selection handleupdateselection items returns result running elements filters param filters param elements elements filter elements filters accept object filter viewer filter viewerfilter filters object elements filters array list arraylist object filtered array list arraylist elements length elements length add filters length add filters select elements add add filtered add elements filtered to array toarray elements object get tree children gettreechildren object element filter f tree viewer ftreeviewer get filters getfilters f tree content provider ftreecontentprovider get children getchildren element object get list elements getlistelements object element filter f list viewer flistviewer get filters getfilters f list content provider flistcontentprovider get elements getelements element object get white checked tree items getwhitecheckedtreeitems hash set hashset f white checked tree items fwhitecheckedtreeitems handle update selection handleupdateselection map object list object items iterator object key iterator keyiterator items key set keyset iterator update store hierarchy prevent updating parents children key iterator keyiterator has next hasnext object key key iterator keyiterator replace items checked store supplied items list object selections items key selections size empty remove list f checked state store fcheckedstatestore remove key f checked state store fcheckedstatestore key selections proceed tree element hierarchy object parent f tree content provider ftreecontentprovider get parent getparent key parent add to hierarchy to checked store addtohierarchytocheckedstore parent update hierarchies key iterator keyiterator items key set keyset iterator key iterator keyiterator has next hasnext object key key iterator keyiterator update hierarchy updatehierarchy key f current tree selection fcurrenttreeselection f current tree selection fcurrenttreeselection equals key f list viewer flistviewer set all checked setallchecked f list viewer flistviewer set checked elements setcheckedelements items key to array toarray checks element grey checked param object element grey checked is tree item grey checked istreeitemgreychecked object object f tree viewer ftreeviewer get grayed getgrayed object element expand chidren level param object param level expand tree to level expandtreetolevel object object level f tree viewer ftreeviewer expand to level expandtolevel object level param selection set tree selection settreeselection i selection iselection selection f tree viewer ftreeviewer set selection setselection selection
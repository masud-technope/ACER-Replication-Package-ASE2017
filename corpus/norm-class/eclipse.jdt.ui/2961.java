copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text correction java util array list arraylist java util collection org eclipse swt graphics image org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom block org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom expression org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom javadoc org eclipse jdt core dom lambda expression lambdaexpression org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom primitive type primitivetype org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom tag element tagelement org eclipse jdt core dom text element textelement org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext util messages org eclipse jdt text java i invocation context iinvocationcontext org eclipse jdt text java i problem location iproblemlocation org eclipse jdt text java correction ast rewrite correction proposal astrewritecorrectionproposal org eclipse jdt text java correction i command access icommandaccess org eclipse jdt internal java plugin images javapluginimages org eclipse jdt internal text correction proposals linked correction proposal linkedcorrectionproposal org eclipse jdt internal text correction proposals missing return type correction proposal missingreturntypecorrectionproposal org eclipse jdt internal text correction proposals missing return type in lambda correction proposal missingreturntypeinlambdacorrectionproposal org eclipse jdt internal text correction proposals replace correction proposal replacecorrectionproposal org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal viewsupport binding label provider bindinglabelprovider return type sub processor returntypesubprocessor return statement collector returnstatementcollector ast visitor astvisitor array list arraylist return statement returnstatement f result fresult array list arraylist i type binding itypebinding get type binding gettypebinding ast ast could be object couldbeobject f result fresult size return statement returnstatement node f result fresult expression expr node get expression getexpression expr i type binding itypebinding binding bindings normalize type binding normalizetypebinding expr resolve type binding resolvetypebinding binding binding could be object couldbeobject nls ast resolve well known type resolvewellknowntype nls could be object couldbeobject nls ast resolve well known type resolvewellknowntype nls java lang object nls ast resolve well known type resolvewellknowntype override visit return statement returnstatement node f result fresult add node override visit anonymous class declaration anonymousclassdeclaration node override visit type declaration typedeclaration node override visit enum declaration enumdeclaration node override visit annotation type declaration annotationtypedeclaration node add method with constr name proposals addmethodwithconstrnameproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals i compilation unit icompilationunit context get compilation unit getcompilationunit ast node astnode selected node selectednode problem get covering node getcoveringnode context getastroot selected node selectednode method declaration methoddeclaration method declaration methoddeclaration declaration method declaration methoddeclaration selected node selectednode ast rewrite astrewrite rewrite ast rewrite astrewrite create declaration getast rewrite declaration method declaration methoddeclaration constructor property string label correction messages correctionmessages return type sub processor returntypesubprocessor constr name method constrnamemethod description image image java plugin images javapluginimages java plugin images javapluginimages img correction change ast rewrite correction proposal astrewritecorrectionproposal proposal ast rewrite correction proposal astrewritecorrectionproposal label rewrite i proposal relevance iproposalrelevance change constructor image proposals add proposal add void method returns proposals addvoidmethodreturnsproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals i compilation unit icompilationunit context get compilation unit getcompilationunit compilation unit compilationunit ast root astroot context getastroot ast node astnode selected node selectednode problem get covering node getcoveringnode ast root astroot selected node selectednode body declaration bodydeclaration decl ast res olving astresolving find parent body declaration findparentbodydeclaration selected node selectednode decl method declaration methoddeclaration selected node selectednode get node type getnodetype ast node astnode statement return statement returnstatement return statement returnstatement return statement returnstatement selected node selectednode expression expr return statement returnstatement get expression getexpression expr ast ast ast root astroot getast i type binding itypebinding binding bindings normalize type binding normalizetypebinding expr resolve type binding resolvetypebinding binding binding ast resolve well known type resolvewellknowntype java lang object binding is wildcard type iswildcardtype binding ast res olving astresolving normalize wildcard type normalizewildcardtype binding ast method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration decl ast rewrite astrewrite rewrite ast rewrite astrewrite create ast string label messages format correction messages correctionmessages return type sub processor returntypesubprocessor void method returns voidmethodreturns description binding label provider bindinglabelprovider get binding label getbindinglabel binding binding label provider bindinglabelprovider textflags image image java plugin images javapluginimages java plugin images javapluginimages img correction change linked correction proposal linkedcorrectionproposal proposal linked correction proposal linkedcorrectionproposal label rewrite i proposal relevance iproposalrelevance method returns image import rewrite importrewrite imports proposal create import rewrite createimportrewrite ast root astroot import rewrite context importrewritecontext import rewrite context importrewritecontext context sensitive import rewrite context contextsensitiveimportrewritecontext method declaration methoddeclaration imports type new return type newreturntype imports add import addimport binding ast import rewrite context importrewritecontext method declaration methoddeclaration is constructor isconstructor rewrite method declaration methoddeclaration method declaration methoddeclaration constructor property rewrite method declaration methoddeclaration method declaration methoddeclaration type property new return type newreturntype rewrite replace method declaration methoddeclaration get return type getreturntype new return type newreturntype string nls key nls type proposal add linked position addlinkedposition rewrite track new return type newreturntype key i type binding itypebinding bindings ast res olving astresolving get relaxing types getrelaxingtypes ast binding bindings length proposal add linked position proposal addlinkedpositionproposal key bindings javadoc javadoc method declaration methoddeclaration get javadoc getjavadoc javadoc tag element tagelement new tag newtag ast new tag element newtagelement new tag newtag set tag name settagname tag element tagelement tag text element textelement comment start commentstart ast new text element newtextelement new tag newtag fragments add comment start commentstart javadoc tags sub processor javadoctagssubprocessor insert tag inserttag rewrite get list rewrite getlistrewrite javadoc javadoc tags property new tag newtag nls proposal add linked position addlinkedposition nls rewrite track comment start commentstart nls nls comment start proposals add proposal ast rewrite astrewrite rewrite ast rewrite astrewrite create decl getast rewrite remove return statement returnstatement get expression getexpression string label correction messages correctionmessages return type sub processor returntypesubprocessor remove return removereturn description image image java plugin images javapluginimages java plugin images javapluginimages img correction change ast rewrite correction proposal astrewritecorrectionproposal proposal ast rewrite correction proposal astrewritecorrectionproposal label rewrite i proposal relevance iproposalrelevance change image proposals add proposal add missing return type proposals addmissingreturntypeproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals i compilation unit icompilationunit context get compilation unit getcompilationunit compilation unit compilationunit ast root astroot context getastroot ast node astnode selected node selectednode problem get covering node getcoveringnode ast root astroot selected node selectednode body declaration bodydeclaration decl ast res olving astresolving find parent body declaration findparentbodydeclaration selected node selectednode decl method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration decl return statement collector returnstatementcollector eval return statement collector returnstatementcollector decl accept eval ast ast ast root astroot getast i type binding itypebinding type binding typebinding eval get type binding gettypebinding decl getast type binding typebinding bindings normalize type binding normalizetypebinding type binding typebinding type binding typebinding type binding typebinding nls ast resolve well known type resolvewellknowntype nls type binding typebinding is wildcard type iswildcardtype type binding typebinding ast res olving astresolving normalize wildcard type normalizewildcardtype type binding typebinding ast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast string label messages format correction messages correctionmessages return type sub processor returntypesubprocessor missing return type missingreturntype description binding label provider bindinglabelprovider get binding label getbindinglabel type binding typebinding binding label provider bindinglabelprovider textflags image image java plugin images javapluginimages java plugin images javapluginimages img correction change linked correction proposal linkedcorrectionproposal proposal linked correction proposal linkedcorrectionproposal label rewrite i proposal relevance iproposalrelevance missing type image import rewrite importrewrite imports proposal create import rewrite createimportrewrite ast root astroot import rewrite context importrewritecontext import rewrite context importrewritecontext context sensitive import rewrite context contextsensitiveimportrewritecontext decl imports type type imports add import addimport type binding typebinding ast import rewrite context importrewritecontext rewrite method declaration methoddeclaration method declaration methoddeclaration type property type rewrite method declaration methoddeclaration method declaration methoddeclaration constructor property javadoc javadoc method declaration methoddeclaration get javadoc getjavadoc javadoc type binding typebinding tag element tagelement new tag newtag ast new tag element newtagelement new tag newtag set tag name settagname tag element tagelement tag text element textelement comment start commentstart ast new text element newtextelement new tag newtag fragments add comment start commentstart javadoc tags sub processor javadoctagssubprocessor insert tag inserttag rewrite get list rewrite getlistrewrite javadoc javadoc tags property new tag newtag nls proposal add linked position addlinkedposition nls rewrite track comment start commentstart nls nls comment start nls string key type proposal add linked position addlinkedposition rewrite track type key type binding typebinding i type binding itypebinding bindings ast res olving astresolving get relaxing types getrelaxingtypes ast type binding typebinding bindings length proposal add linked position proposal addlinkedpositionproposal key bindings proposals add proposal change constructor ast node astnode parent type parenttype ast res olving astresolving find parent type findparenttype decl parent type parenttype abstract type declaration abstracttypedeclaration is interface isinterface parent type parenttype type declaration typedeclaration type declaration typedeclaration parent type parenttype is interface isinterface is interface isinterface string constructor name constructorname abstract type declaration abstracttypedeclaration parent type parenttype get name getname get identifier getidentifier ast node astnode name node namenode method declaration methoddeclaration get name getname label messages format correction messages correctionmessages return type sub processor returntypesubprocessor wrong constructor name wrongconstructorname description basic element labels basicelementlabels get java element name getjavaelementname constructor name constructorname proposals add replace correction proposal replacecorrectionproposal label name node namenode get start position getstartposition name node namenode get length getlength constructor name constructorname i proposal relevance iproposalrelevance change constructor add missing return statement proposals addmissingreturnstatementproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals i compilation unit icompilationunit context get compilation unit getcompilationunit ast node astnode selected node selectednode problem get covering node getcoveringnode context getastroot selected node selectednode return statement returnstatement existing statement existingstatement selected node selectednode return statement returnstatement return statement returnstatement selected node selectednode lambda expression method declaration methoddeclaration field declaration selected node selectednode lambda expression lambdaexpression missing return type in lambda correction proposal missingreturntypeinlambdacorrectionproposal proposal missing return type in lambda correction proposal missingreturntypeinlambdacorrectionproposal lambda expression lambdaexpression selected node selectednode existing statement existingstatement i proposal relevance iproposalrelevance missing type proposals add proposal body declaration bodydeclaration decl ast res olving astresolving find parent body declaration findparentbodydeclaration selected node selectednode decl method declaration methoddeclaration method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration decl block block method decl methoddecl get body getbody block proposals add missing return type correction proposal missingreturntypecorrectionproposal method decl methoddecl existing statement existingstatement i proposal relevance iproposalrelevance missing type type return type returntype method decl methoddecl get return type getreturntype nls return type returntype equals ast nodes astnodes as string asstring return type returntype ast ast method decl methoddecl getast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast rewrite replace return type returntype ast new primitive type newprimitivetype primitive type primitivetype javadoc javadoc method decl methoddecl get javadoc getjavadoc javadoc tag element tagelement tag element tagelement javadoc tags sub processor javadoctagssubprocessor find tag findtag javadoc tag element tagelement tag tag element tagelement rewrite remove tag element tagelement string label correction messages correctionmessages return type sub processor returntypesubprocessor change tovoid changetovoid description image image java plugin images javapluginimages java plugin images javapluginimages img correction change ast rewrite correction proposal astrewritecorrectionproposal proposal ast rewrite correction proposal astrewritecorrectionproposal label rewrite i proposal relevance iproposalrelevance change type image proposals add proposal add method retuns void proposals addmethodretunsvoidproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals java model exception javamodelexception compilation unit compilationunit ast root astroot context getastroot ast node astnode selected node selectednode problem get covering node getcoveringnode ast root astroot selected node selectednode return statement returnstatement return statement returnstatement return statement returnstatement return statement returnstatement selected node selectednode expression expression return statement returnstatement get expression getexpression expression body declaration bodydeclaration decl ast res olving astresolving find parent body declaration findparentbodydeclaration selected node selectednode decl method declaration methoddeclaration method declaration methoddeclaration meth decl methdecl method declaration methoddeclaration decl type ret type rettype meth decl methdecl get return type getreturntype ret type rettype ret type rettype resolve binding resolvebinding type mismatch sub processor typemismatchsubprocessor add change sender type proposals addchangesendertypeproposals context expression ret type rettype resolve binding resolvebinding i proposal relevance iproposalrelevance method returns proposals
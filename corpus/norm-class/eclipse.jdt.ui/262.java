copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation jens lukowski gmx contributed code convert prefix postfix expressions combination set ter setter get ter getter calls nikolay metchev nikolaymetchev gmail encapsulate field enc apsulating encapsulating parenthesized field assignment yields compilation error https bugs eclipse org org eclipse jdt internal corext refactoring sef java util array list arraylist java util list org eclipse core runtime org eclipse text edits text edit group texteditgroup org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom assignment org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom postfix expression postfixexpression org eclipse jdt core dom prefix expression prefixexpression org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom simple name simplename org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt internal corext source range factory sourcerangefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext dom necessary parentheses checker necessaryparentheseschecker org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring base java status context javastatuscontext analyzer find references field determine convert set ter setter get ter getter calls access analyzer accessanalyzer ast visitor astvisitor i compilation unit icompilationunit fcunit i variable binding ivariablebinding f field binding ffieldbinding i type binding itypebinding f declaring class binding fdeclaringclassbinding string f getter fgetter string f setter fsetter ast rewrite astrewrite f rewriter frewriter import rewrite importrewrite f import rewriter fimportrewriter list text edit group texteditgroup f group descriptions fgroupdescriptions refactoring status refactoringstatus f status fstatus f setter must return value fsettermustreturnvalue f encapsulate declaring class fencapsulatedeclaringclass f is field final fisfieldfinal f remove static import fremovestaticimport f ref erencing getter freferencinggetter f ref erencing setter freferencingsetter string read access refactoring core messages refactoringcoremessages self encapsulate field selfencapsulatefield access analyzer accessanalyzer encapsulate read access string write access refactoring core messages refactoringcoremessages self encapsulate field selfencapsulatefield access analyzer accessanalyzer encapsulate write access string prefix access refactoring core messages refactoringcoremessages self encapsulate field selfencapsulatefield access analyzer accessanalyzer encapsulate prefix access string postfix access refactoring core messages refactoringcoremessages self encapsulate field selfencapsulatefield access analyzer accessanalyzer encapsulate postfix access access analyzer accessanalyzer self encapsulate field refactoring selfencapsulatefieldrefactoring refactoring i compilation unit icompilationunit unit i variable binding ivariablebinding field i type binding itypebinding declaring class declaringclass ast rewrite astrewrite rewriter import rewrite importrewrite import rewrite importrewrite is not null isnotnull refactoring is not null isnotnull unit is not null isnotnull field is not null isnotnull declaring class declaringclass is not null isnotnull rewriter is not null isnotnull import rewrite importrewrite fcunit unit f field binding ffieldbinding field get variable declaration getvariabledeclaration f declaring class binding fdeclaringclassbinding declaring class declaringclass f rewriter frewriter rewriter f import rewriter fimportrewriter import rewrite importrewrite f group descriptions fgroupdescriptions array list arraylist f getter fgetter refactoring get getter name getgettername f setter fsetter refactoring get setter name getsettername f encapsulate declaring class fencapsulatedeclaringclass refactoring get encapsulate declaring class getencapsulatedeclaringclass f is field final fisfieldfinal flags is final isfinal refactoring get field getfield get flags getflags java model exception javamodelexception f status fstatus refactoring status refactoringstatus get setter must return value getsettermustreturnvalue f setter must return value fsettermustreturnvalue refactoring status refactoringstatus get status getstatus f status fstatus list text edit group texteditgroup get group descriptions getgroupdescriptions f group descriptions fgroupdescriptions override visit assignment node expression left hand side lefthandside node get left hand side getlefthandside consider binding considerbinding resolve binding resolvebinding left hand side lefthandside left hand side lefthandside check parent checkparent node expression right hand side righthandside node get right hand side getrighthandside f is field final fisfieldfinal write access ast ast node getast method invocation methodinvocation invocation ast new method invocation newmethodinvocation invocation set name setname ast new simple name newsimplename f setter fsetter f ref erencing setter freferencingsetter expression receiver get receiver getreceiver left hand side lefthandside receiver invocation set expression setexpression expression f rewriter frewriter create copy target createcopytarget receiver list expression arguments invocation arguments node get operator getoperator assignment assign arguments add expression f rewriter frewriter create copy target createcopytarget right hand side righthandside compound assignment field infix expression infixexpression exp ast new infix expression newinfixexpression exp set operator setoperator ast nodes astnodes convert t o infix operator converttoinfixoperator node get operator getoperator method invocation methodinvocation get ter getter ast new method invocation newmethodinvocation get ter getter set name setname ast new simple name newsimplename f getter fgetter f ref erencing getter freferencinggetter receiver get ter getter set expression setexpression expression f rewriter frewriter create copy target createcopytarget receiver exp set left operand setleftoperand get ter getter expression rhs expression f rewriter frewriter create copy target createcopytarget right hand side righthandside necessary parentheses checker necessaryparentheseschecker needs parentheses for right operand needsparenthesesforrightoperand right hand side righthandside exp left hand side lefthandside resolve type binding resolvetypebinding parenthesized expression parenthesizedexpression ast new parenthesized expression newparenthesizedexpression set expression setexpression rhs rhs exp set right operand setrightoperand rhs arguments add exp f rewriter frewriter replace node invocation create group description creategroupdescription write access right hand side righthandside accept override visit simple name simplename node node is declaration isdeclaration consider binding considerbinding node resolve binding resolvebinding node f ref erencing getter freferencinggetter f rewriter frewriter replace node nls f rewriter frewriter create string placeholder createstringplaceholder nls f getter fgetter nls ast node astnode method invocation create group description creategroupdescription read access override visit import declaration importdeclaration node consider binding considerbinding node resolve binding resolvebinding node f remove static import fremovestaticimport override visit prefix expression prefixexpression node expression operand node get operand getoperand consider binding considerbinding resolve binding resolvebinding operand operand prefix expression prefixexpression node get operator getoperator prefix expression prefixexpression increment prefix expression prefixexpression decrement check parent checkparent node f rewriter frewriter replace node create invocation createinvocation node getast node get operand getoperand node get operator getoperator to string tostring create group description creategroupdescription prefix access override visit postfix expression postfixexpression node expression operand node get operand getoperand consider binding considerbinding resolve binding resolvebinding operand operand ast node astnode parent node get parent getparent parent expression statement expressionstatement f status fstatus add error adderror refactoring core messages refactoringcoremessages self encapsulate field selfencapsulatefield access analyzer accessanalyzer convert postfix expression java status context javastatuscontext create fcunit source range factory sourcerangefactory create node f rewriter frewriter replace node create invocation createinvocation node getast node get operand getoperand node get operator getoperator to string tostring create group description creategroupdescription postfix access override visit method declaration methoddeclaration node string node get name getname get identifier getidentifier equals f getter fgetter equals f setter fsetter override end visit endvisit compilation unit compilationunit node get ter getter access f remove static import fremovestaticimport i type binding itypebinding type f field binding ffieldbinding get declaring class getdeclaringclass string field name fieldname f field binding ffieldbinding get name getname string type name typename type get qualified name getqualifiedname f remove static import fremovestaticimport nls f import rewriter fimportrewriter remove static import removestaticimport type name typename field name fieldname f ref erencing getter freferencinggetter f import rewriter fimportrewriter add static import addstaticimport type name typename f getter fgetter f ref erencing setter freferencingsetter f import rewriter fimportrewriter add static import addstaticimport type name typename f setter fsetter consider binding considerbinding i binding ibinding binding ast node astnode node binding i variable binding ivariablebinding result bindings equals f field binding ffieldbinding i variable binding ivariablebinding binding get variable declaration getvariabledeclaration result f encapsulate declaring class fencapsulatedeclaringclass result binding i variable binding ivariablebinding abstract type declaration abstracttypedeclaration type abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent node abstract type declaration abstracttypedeclaration type i type binding itypebinding declaring type declaringtype type resolve binding resolvebinding bindings equals f declaring class binding fdeclaringclassbinding declaring type declaringtype check parent checkparent ast node astnode node ast node astnode parent node get parent getparent parent expression statement expressionstatement f setter must return value fsettermustreturnvalue i binding ibinding resolve binding resolvebinding expression expression expression simple name simplename simple name simplename expression resolve binding resolvebinding expression qualified name qualifiedname qualified name qualifiedname expression resolve binding resolvebinding expression field access fieldaccess field access fieldaccess expression get name getname resolve binding resolvebinding expression parenthesized expression parenthesizedexpression resolve binding resolvebinding parenthesized expression parenthesizedexpression expression get expression getexpression expression get receiver getreceiver expression expression type expression get node type getnodetype type ast node astnode simple ast node astnode qualified qualified name qualifiedname expression get qualifier getqualifier ast node astnode field access field access fieldaccess expression get expression getexpression ast node astnode parenthesized expression get receiver getreceiver parenthesized expression parenthesizedexpression expression get expression getexpression method invocation methodinvocation create invocation createinvocation ast ast expression operand string expression receiver get receiver getreceiver operand method invocation methodinvocation invocation ast new method invocation newmethodinvocation invocation set name setname ast new simple name newsimplename f setter fsetter receiver invocation set expression setexpression expression f rewriter frewriter create copy target createcopytarget receiver infix expression infixexpression argument ast new infix expression newinfixexpression invocation arguments add argument nls equals argument set operator setoperator infix expression infixexpression nls equals argument set operator setoperator infix expression infixexpression nls is true istrue happen method invocation methodinvocation get ter getter ast new method invocation newmethodinvocation get ter getter set name setname ast new simple name newsimplename f getter fgetter receiver get ter getter set expression setexpression expression f rewriter frewriter create copy target createcopytarget receiver argument set left operand setleftoperand get ter getter nls argument set right operand setrightoperand ast new number literal newnumberliteral f ref erencing getter freferencinggetter f ref erencing setter freferencingsetter invocation text edit group texteditgroup create group description creategroupdescription string text edit group texteditgroup result text edit group texteditgroup f group descriptions fgroupdescriptions add result result
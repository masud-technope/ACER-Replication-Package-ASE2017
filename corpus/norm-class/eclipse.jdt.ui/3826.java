copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal browsing java util array list arraylist java util iterator java util list org eclipse core runtime org eclipse jface viewers i structured selection istructuredselection org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java model exception javamodelexception project and source folder content provider projectandsourcefoldercontentprovider java browsing content provider javabrowsingcontentprovider project and source folder content provider projectandsourcefoldercontentprovider java browsing part javabrowsingpart browsing part browsingpart browsing part browsingpart override object get children getchildren object element exists element children start read in display thread startreadindisplaythread element i structured selection istructuredselection is legal islegal object result object clazz iterator iter i structured selection istructuredselection element iterator iter has next hasnext object item iter clazz clazz item get class getclass clazz item get class getclass result concatenate result get children getchildren item children result element i structured selection istructuredselection is legal islegal object result object iterator iter i structured selection istructuredselection element iterator iter has next hasnext result concatenate result get children getchildren iter result element i java project ijavaproject get package fragment roots getpackagefragmentroots i java project ijavaproject element element i package fragment root ipackagefragmentroot children get children getchildren element java model exception javamodelexception children finished read in display thread finishedreadindisplaythread override object get package fragment roots getpackagefragmentroots i java project ijavaproject project java model exception javamodelexception project get project getproject is open isopen children i package fragment root ipackagefragmentroot roots project get package fragment roots getpackagefragmentroots list i package fragment root ipackagefragmentroot list array list arraylist roots length replace fragments roots length i package fragment root ipackagefragmentroot root roots is project package fragment root isprojectpackagefragmentroot root list add root list to array toarray i tree content provider itreecontentprovider override has children haschildren object element element i java project ijavaproject has children haschildren element
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation mateusz wenus mateusz wenus gmail override method generate declaration order code generation https bugs eclipse org bugs bug cgi org eclipse jdt internal corext code manipulation codemanipulation java util array list arraylist java util arrays java util list org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core runtime jobs i scheduling rule ischedulingrule org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core resources resources plugin resourcesplugin org eclipse text edits multi text edit multitextedit org eclipse text edits text edit textedit org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core dom ast node astnode org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt internal corext util delegate entry comparator delegateentrycomparator org eclipse jdt internal corext util java model util javamodelutil workspace runnable add delegate methods add delegate methods operation adddelegatemethodsoperation i workspace runnable iworkspacerunnable represents delegate d delegated method delegate entry delegateentry delegate entry delegateentry i method binding imethodbinding delegate method delegatemethod i variable binding ivariablebinding field is not null isnotnull delegate method delegatemethod is not null isnotnull field delegate method delegatemethod delegate method delegatemethod field field i method binding imethodbinding delegate method delegatemethod i variable binding ivariablebinding field edit applied f apply fapply method binding method generated list i method binding imethodbinding f created fcreated array list arraylist text edit text edit textedit f resulting edit fresultingedit insertion point code code i java element ijavaelement f insert finsert compilation unit content saved f save fsave code generation settings code generation settings codegenerationsettings f settings fsettings compilation unit ast node compilation unit compilationunit fastroot delegate entry delegateentry f delegates to create fdelegatestocreate creates add delegate methods operation param ast root astroot ast current compilation unit param delegates to create delegatestocreate delegates create param insert insertion point code code param settings code generation settings param apply code code edit applied code code param save code code changed compilation unit saved code code add delegate methods operation adddelegatemethodsoperation compilation unit compilationunit ast root astroot delegate entry delegateentry delegates to create delegatestocreate i java element ijavaelement insert code generation settings codegenerationsettings settings apply save is true istrue ast root astroot ast root astroot get type root gettyperoot i compilation unit icompilationunit is true istrue delegates to create delegatestocreate delegates to create delegatestocreate length is not null isnotnull settings fastroot ast root astroot f insert finsert insert f delegates to create fdelegatestocreate delegates to create delegatestocreate f settings fsettings settings f save fsave save f apply fapply apply returns method binding method generated method binding string get created methods getcreatedmethods string string f created fcreated size f created fcreated to array toarray returns text edit text edit text edit textedit get resulting edit getresultingedit f resulting edit fresultingedit returns scheduling rule operation scheduling rule i scheduling rule ischedulingrule get scheduling rule getschedulingrule resources plugin resourcesplugin get workspace getworkspace get root getroot org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core runtime i progress monitor iprogressmonitor override i progress monitor iprogressmonitor monitor core exception coreexception monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask monitor set task name settaskname code generation messages codegenerationmessages add delegate methods operation adddelegatemethodsoperation monitor message f created fcreated clear i compilation unit icompilationunit i compilation unit icompilationunit fastroot get type root gettyperoot ast rewrite astrewrite ast rewrite astrewrite ast rewrite astrewrite create fastroot getast import rewrite importrewrite import rewrite importrewrite stub utility stubutility create import rewrite createimportrewrite fastroot i type binding itypebinding parent type parenttype f delegates to create fdelegatestocreate field get declaring class getdeclaringclass ast node astnode type decl typedecl fastroot find declaring node finddeclaringnode parent type parenttype list rewrite listrewrite list rewriter listrewriter type decl typedecl abstract type declaration abstracttypedeclaration list rewriter listrewriter ast rewrite astrewrite get list rewrite getlistrewrite type decl typedecl abstract type declaration abstracttypedeclaration type decl typedecl get body declarations property getbodydeclarationsproperty type decl typedecl anonymous class declaration anonymousclassdeclaration list rewriter listrewriter ast rewrite astrewrite get list rewrite getlistrewrite type decl typedecl anonymous class declaration anonymousclassdeclaration body declarations property list rewriter listrewriter ast node astnode insertion stub utility stubutility get node to insert before getnodetoinsertbefore list rewriter listrewriter f insert finsert context sensitive import rewrite context contextsensitiveimportrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext fastroot type decl typedecl get start position getstartposition import rewrite importrewrite arrays sort f delegates to create fdelegatestocreate delegate entry comparator delegateentrycomparator f delegates to create fdelegatestocreate length i method binding imethodbinding delegate method delegatemethod f delegates to create fdelegatestocreate delegate method delegatemethod i variable binding ivariablebinding field f delegates to create fdelegatestocreate field method declaration methoddeclaration new method newmethod stub utility stubutility create delegation stub createdelegationstub ast rewrite astrewrite import rewrite importrewrite context delegate method delegatemethod field f settings fsettings new method newmethod f created fcreated add delegate method delegatemethod insertion insertion get parent getparent type decl typedecl list rewriter listrewriter insert before insertbefore new method newmethod insertion list rewriter listrewriter insert last insertlast new method newmethod f resulting edit fresultingedit multi text edit multitextedit f resulting edit fresultingedit add child addchild ast rewrite astrewrite rewriteast f resulting edit fresultingedit add child addchild import rewrite importrewrite rewrite imports rewriteimports sub progress monitor subprogressmonitor monitor f apply fapply java model util javamodelutil apply edit applyedit f resulting edit fresultingedit f save fsave sub progress monitor subprogressmonitor monitor monitor
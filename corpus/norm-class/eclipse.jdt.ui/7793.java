copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests core source junit framework test junit framework test suite testsuite org junit org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt internal corext code manipulation codemanipulation add delegate methods operation adddelegatemethodsoperation org eclipse jdt internal corext code manipulation codemanipulation add delegate methods operation adddelegatemethodsoperation delegate entry delegateentry org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom bindings org eclipse jdt internal corext refactoring structure ast node search util astnodesearchutil org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext template java code template context type codetemplatecontexttype org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt tests core project test setup projecttestsetup org eclipse jdt internal java editor javaeditor ast provider astprovider tests generation delegate methods generate delegate methods test generatedelegatemethodstest source test case sourcetestcase generate delegate methods test generatedelegatemethodstest generate delegate methods test generatedelegatemethodstest generate delegate methods test generatedelegatemethodstest string test suite set up test setuptest test suite testsuite test set up test setuptest test test project test setup projecttestsetup test override set up setup core exception coreexception set up setup string buffer stringbuffer comment string buffer stringbuffer comment append javadoc comment append target comment append stub utility stubutility set code template setcodetemplate code template context type codetemplatecontexttype delegatecomment comment to string tostring run operation runoperation i type itype type i field ifield fields i method imethod methods i java element ijavaelement insert before insertbefore create comments createcomments core exception coreexception assert equals assertequals fields length methods length refactoringastparser parser refactoringastparser ast provider astprovider shared ast level compilation unit compilationunit unit parser parse type get compilation unit getcompilationunit delegate entry delegateentry entries delegate entry delegateentry fields length fields length i field ifield field fields i method imethod method methods assert true asserttrue field exists assert true asserttrue method exists fields variable declaration fragment variabledeclarationfragment frag ast node search util astnodesearchutil get field declaration fragment node getfielddeclarationfragmentnode field unit i variable binding ivariablebinding frag resolve binding resolvebinding i method binding imethodbinding delegate bindings find method in hierarchy findmethodinhierarchy get type gettype method get element name getelementname string entries delegate entry delegateentry delegate f settings fsettings create comments createcomments create comments createcomments add delegate methods operation adddelegatemethodsoperation add delegate methods operation adddelegatemethodsoperation unit entries insert before insertbefore f settings fsettings null progress monitor nullprogressmonitor java model util javamodelutil reconcile type get compilation unit getcompilationunit run operation runoperation i type itype type i field ifield fields i method imethod methods core exception coreexception run operation runoperation type fields methods actual tests tests normal delegate method generation exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo bar i method imethod foo get type gettype get method getmethod foo string i method imethod bar get type gettype get method getmethod bar string i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo bar i method imethod foo get type gettype get method getmethod foo string i method imethod bar get type gettype get method getmethod bar string i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java i field ifield get type gettype get field getfield i field ifield get type gettype get field getfield i field ifield get type gettype get field getfield i field ifield get type gettype get field getfield run operation runoperation get type gettype i field ifield i method imethod foo bar foo bar string expected javadoc foo foo foo javadoc bar bar bar javadoc foo foo foo javadoc bar bar bar compare source comparesource expected get source getsource test insertion existing methods foo exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo bar i method imethod foo get type gettype get method getmethod foo string i method imethod bar get type gettype get method getmethod bar string i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo bar i method imethod foo get type gettype get method getmethod foo string i method imethod bar get type gettype get method getmethod bar string i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo foo i field ifield get type gettype get field getfield i field ifield get type gettype get field getfield i field ifield get type gettype get field getfield i field ifield get type gettype get field getfield i method imethod insert before insertbefore get type gettype get method getmethod foo string run operation runoperation get type gettype i field ifield i method imethod foo bar foo bar insert before insertbefore string expected foo javadoc foo foo foo javadoc bar bar bar javadoc foo foo foo javadoc bar bar bar foo compare source comparesource expected get source getsource test insertion imports exception test exception i package fragment ipackagefragment package some other package packagesomeotherpackage f root froot create package fragment createpackagefragment some other package someotherpackage package some other package packagesomeotherpackage create compilation unit createcompilationunit other class otherclass java some other package someotherpackage other class otherclass i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java some other package someotherpackage other class otherclass other class otherclass return other class returnotherclass i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java i field ifield field get type gettype get field getfield i method imethod method get type gettype get method getmethod return other class returnotherclass string run operation runoperation get type gettype i field ifield field i method imethod method compare source comparesource some other package someotherpackage other class otherclass javadoc return other class returnotherclass other class otherclass return other class returnotherclass return other class returnotherclass get source getsource tests types exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java some field somefield i field ifield field get type gettype get field getfield some field somefield i method imethod method get type gettype get method getmethod string i method imethod method get type gettype get method getmethod string run operation runoperation get type gettype i field ifield field field i method imethod method method compare source comparesource some field somefield javadoc some field somefield javadoc java lang object some field somefield get source getsource tests methods exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java get some getsome i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java some field somefield i field ifield field get type gettype get field getfield some field somefield i method imethod s method smethod get type gettype get method getmethod get some getsome string run operation runoperation get type gettype i field ifield field i method imethod s method smethod compare source comparesource some field somefield javadoc get some getsome java lang object get some getsome some field somefield get some getsome get source getsource test enum types exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java enum some enum someenum some enum someenum get it getit some enum someenum i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java some field somefield i field ifield field get type gettype get field getfield some field somefield i method imethod s method smethod get type gettype get method getmethod get it getit string run operation runoperation get type gettype i field ifield field i method imethod s method smethod compare source comparesource some enum someenum some field somefield javadoc get it getit some enum someenum get it getit some field somefield get it getit get source getsource test generation types exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo i field ifield field some fieldsome get type gettype get type gettype get field getfield i method imethod method get type gettype get method getmethod foo string run operation runoperation get type gettype get type gettype i field ifield field some fieldsome i method imethod method compare source comparesource javadoc foo foo foo foo get source getsource test generation anonymous types bug bug gui exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo some a somea i type itype anon type anontype i type itype get element at getelementat i field ifield the field thefield anon type anontype get field getfield some a somea i method imethod the method themethod get type gettype get method getmethod foo string run operation runoperation anon type anontype i field ifield the field thefield i method imethod the method themethod compare source comparesource foo some a somea javadoc foo foo some a somea foo get source getsource test delegate generation type variable type d typed field exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java some field somefield i type itype type a typea get type gettype i field ifield some field somefield type a typea get field getfield some field somefield i method imethod the method themethod get type gettype get method getmethod foo string run operation runoperation type a typea i field ifield some field somefield i method imethod the method themethod compare source comparesource some field somefield javadoc foo foo some field somefield foo get source getsource test delegate generation secondary types exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo secondary class secondaryclass some field somefield i type itype secondary type secondarytype i type itype get element at getelementat i field ifield some field somefield secondary type secondarytype get field getfield some field somefield i method imethod the method themethod get type gettype get method getmethod foo string run operation runoperation secondary type secondarytype i field ifield some field somefield i method imethod the method themethod compare source comparesource foo secondary class secondaryclass some field somefield javadoc foo foo some field somefield foo get source getsource test delegate generation secondary types methods exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java foo bar sec ondard class secondardclass some field somefield i type itype secondary type secondarytype i type itype get element at getelementat i field ifield some field somefield secondary type secondarytype get field getfield some field somefield i method imethod first method firstmethod get type gettype get method getmethod foo string i method imethod second method secondmethod get type gettype get method getmethod bar string run operation runoperation secondary type secondarytype i field ifield some field somefield some field somefield i method imethod first method firstmethod second method secondmethod compare source comparesource foo bar sec ondard class secondardclass some field somefield javadoc foo foo some field somefield foo javadoc bar bar some field somefield bar get source getsource test insert at testinsertat exception string buffer stringbuffer buf string buffer stringbuffer buf append buf append buf append buf append runnable buf append buf append buf append buf append buf append foo buf append buf append initializer buf append buf append buf append initializer buf append buf append buf append buf append buf append buf append string original content originalcontent buf to string tostring num members buf string buffer stringbuffer buf append buf append buf append string expected constructor expectedconstructor buf to string tostring i type itype runnable type runnabletype f package p fpackagep get java project getjavaproject find type findtype java lang runnable i method imethod run method runmethod runnable type runnabletype get method getmethod string insert delegate member num members i compilation unit icompilationunit unit unit f package p fpackagep create compilation unit createcompilationunit java original content originalcontent i type itype type unit find primary type findprimarytype i java element ijavaelement children type get children getchildren i field ifield foo i field ifield children assert equals assertequals num members children length i java element ijavaelement insert before insertbefore num members children run operation runoperation type i field ifield foo i method imethod run method runmethod insert before insertbefore i java element ijavaelement new children newchildren type get children getchildren assert equals assertequals num members new children newchildren length element expected string source i member imember new children newchildren get source getsource assert equals assertequals insert insert before insertbefore expected constructor expectedconstructor source unit java project helper javaprojecthelper delete unit
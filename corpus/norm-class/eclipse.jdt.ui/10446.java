copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests jar export jarexport java file java util array list arraylist java util arrays java util collections java util enumeration java util list java util map java util zip zip entry zipentry java util zip zip file zipfile org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse jdt test plugin testplugin java test plugin javatestplugin org eclipse core runtime core exception coreexception org eclipse core runtime i status istatus org eclipse core runtime path org eclipse core resources resources plugin resourcesplugin org eclipse i workbench window iworkbenchwindow org eclipse platformui org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt jar package r jarpackager i jar export runnable ijarexportrunnable org eclipse jdt jar package r jarpackager jar package data jarpackagedata org eclipse jdt tests core project test setup projecttestsetup org eclipse jdt internal jar package r jarpackager jar package r util jarpackagerutil junit framework test junit framework test case testcase junit framework test suite testsuite plain jar export tests plainjarexporttests test case testcase plain jar export tests plainjarexporttests plain jar export tests plainjarexporttests test suite set up test setuptest test suite testsuite test set up test setuptest test test system set property setproperty jdt bug project test setup projecttestsetup test i java project ijavaproject f project fproject i package fragment root ipackagefragmentroot f main root fmainroot i compilation unit icompilationunit fcu override set up setup exception f project fproject project test setup projecttestsetup get project getproject map string string options f project fproject get options getoptions string compliance java core javacore version java model util javamodelutil set compliance options setcomplianceoptions options compliance java model util javamodelutil set default class file options setdefaultclassfileoptions options compliance f project fproject set options setoptions options f main root fmainroot java project helper javaprojecthelper add source container addsourcecontainer f project fproject src i package fragment ipackagefragment fragment f main root fmainroot create package fragment createpackagefragment org eclipse jdt test string buffer stringbuffer buf string buffer stringbuffer buf append org eclipse jdt test buf append main buf append main inner maininner buf append buf append main string args buf append main buf append buf append hash code hashcode buf append buf append fcu fragment create compilation unit createcompilationunit main java buf to string tostring override tear down teardown exception java project helper javaprojecthelper clear f project fproject project test setup projecttestsetup get default classpath getdefaultclasspath test export cu testexportcu exception jar package data jarpackagedata data create jar package data createjarpackagedata data set elements setelements object fcu data set export class files setexportclassfiles zip file zipfile jar create archive createarchive data array list arraylist string entries get sorted entries getsortedentries jar jar close list string expected arrays as list aslist string meta inf manifest org eclipse jdt test main org eclipse jdt test main main inner maininner org eclipse jdt test main assert equals assertequals expected to string tostring entries to string tostring test export file testexportfile exception jar package data jarpackagedata data create jar package data createjarpackagedata data set elements setelements object fcu get resource getresource data set export class files setexportclassfiles zip file zipfile jar create archive createarchive data array list arraylist string entries get sorted entries getsortedentries jar jar close list string expected arrays as list aslist string meta inf manifest org eclipse jdt test main org eclipse jdt test main main inner maininner org eclipse jdt test main assert equals assertequals expected to string tostring entries to string tostring https bugs eclipse org bugs bug cgi test external class folder testexternalclassfolder exception jar package data jarpackagedata data create jar package data createjarpackagedata nls file class folder classfolder java test plugin javatestplugin get default getdefault get file i n plugin getfileinplugin path test resources testresources external class folder externalclassfolder nls assert true asserttrue folder class folder classfolder class folder classfolder exists i package fragment root ipackagefragmentroot external root externalroot java project helper javaprojecthelper add library addlibrary f project fproject path fromosstring class folder classfolder get path getpath data set elements setelements object fcu get resource getresource external root externalroot data set export class files setexportclassfiles zip file zipfile jar create archive createarchive data array list arraylist string entries get sorted entries getsortedentries jar jar close list string expected arrays as list aslist string meta inf manifest org eclipse jdt test main org eclipse jdt test main main inner maininner org eclipse jdt test main assert equals assertequals expected to string tostring entries to string tostring jar package data jarpackagedata create jar package data createjarpackagedata jar package data jarpackagedata data jar package data jarpackagedata data set jar location setjarlocation resources plugin resourcesplugin get workspace getworkspace get root getroot get location getlocation append get name getname jar data set build i f needed setbuildifneeded data set overwrite setoverwrite data zip file zipfile create archive createarchive jar package data jarpackagedata data exception core exception coreexception i workbench window iworkbenchwindow window platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow i jar export runnable ijarexportrunnable data create jar export runnable createjarexportrunnable window get shell getshell window i status istatus status get status getstatus status get severity getseverity i status istatus error core exception coreexception status jar package r util jarpackagerutil get archive file getarchivefile data get jar location getjarlocation array list arraylist string get sorted entries getsortedentries zip file zipfile jar array list arraylist string entries array list arraylist enumeration zip entry zipentry entries enum entriesenum jar entries entries enum entriesenum has more elements hasmoreelements zip entry zipentry entry entries enum entriesenum next element nextelement entries add entry get name getname collections sort entries entries
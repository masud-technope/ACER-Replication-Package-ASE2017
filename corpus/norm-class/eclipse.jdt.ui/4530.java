copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt text tests java buffered reader bufferedreader java io exception ioexception java input stream inputstream java input stream reader inputstreamreader junit framework test junit framework test case testcase junit framework test suite testsuite org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text rules i partition token scanner ipartitiontokenscanner org eclipse jface text rules i token itoken org eclipse jdt internal text fast java partition scanner fastjavapartitionscanner org eclipse jdt internal text java partition scanner javapartitionscanner comp ares compares code ip arition token scanner iparitiontokenscanner code conf ormance conformance performance partition token scanner test partitiontokenscannertest test case testcase debug i partition token scanner ipartitiontokenscanner f reference freference i partition token scanner ipartitiontokenscanner f testee ftestee partition token scanner test partitiontokenscannertest string override set up setup f reference freference java partition scanner javapartitionscanner f testee ftestee fast java partition scanner fastjavapartitionscanner read sample java file i document idocument get document getdocument string string line delimiter linedelimiter input stream inputstream stream get class getclass get resource as stream getresourceasstream buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader stream string buffer stringbuffer buffer string buffer stringbuffer string reader read line readline buffer append buffer append line delimiter linedelimiter reader read line readline document buffer to string tostring io exception ioexception i document idocument get random document getrandomdocument size characters string buffer stringbuffer buffer string buffer stringbuffer size random index randomindex math random characters length buffer append characters random index randomindex document buffer to string tostring test suite test suite testsuite partition token scanner test partitiontokenscannertest test test case f testtestcaself test conformance testconformance get document getdocument test case testcase txt testtestcasecrlf test conformance testconformance get document getdocument test case testcase txt test test case r testtestcasecr test conformance testconformance get document getdocument test case testcase txt test test case testtestcase test conformance testconformance get document getdocument test case testcase txt test test case testtestcase crlf test conformance testconformance get document getdocument test case testcase txt test test case testtestcase test conformance testconformance get document getdocument test case testcase txt test random testrandom test conformance testconformance get random document getrandomdocument tests performance testee reference i partition token scanner ipartitiontokenscanner test performance testperformance count i document idocument document get document getdocument test case testcase txt reference time referencetime get time gettime f reference freference document count testee time testeetime get time gettime f testee ftestee document count debug system println reference time reference time referencetime system println testee time testee time testeetime system println factor reference time referencetime testee time testeetime dangerous regression performance assert true asserttrue testee time testeetime reference time referencetime test bug document document document f reference freference set range setrange document f testee ftestee set range setrange document i token itoken ref token reftoken ref token reftoken ref token reftoken iseof ref token reftoken f reference freference next token nexttoken i token itoken testee token testeetoken f testee ftestee next token nexttoken assert token equals asserttokenequals ref token reftoken testee token testeetoken get time gettime i partition token scanner ipartitiontokenscanner scanner i document idocument document count start system current time millis currenttimemillis count test performance testperformance scanner document system current time millis currenttimemillis start test conformance testconformance i document idocument document string buffer stringbuffer message string buffer stringbuffer f reference freference set range setrange document document get length getlength f testee ftestee set range setrange document document get length getlength message set length setlength i token itoken reference token referencetoken f reference freference next token nexttoken i token itoken testee token testeetoken f testee ftestee next token nexttoken assert token equals asserttokenequals reference token referencetoken testee token testeetoken reference offset referenceoffset f reference freference get token offset gettokenoffset testee offset testeeoffset f testee ftestee get token offset gettokenoffset message append offset reference offset referenceoffset message append extract string extractstring document reference offset referenceoffset assert equals assertequals message to string tostring reference offset referenceoffset testee offset testeeoffset reference length referencelength f reference freference get token length gettokenlength testee length testeelength f testee ftestee get token length gettokenlength message append length reference length referencelength assert equals assertequals message to string tostring reference length referencelength testee length testeelength reference token referencetoken iseof test performance testperformance i partition token scanner ipartitiontokenscanner scanner i document idocument document scanner set range setrange document document get length getlength i token itoken token token scanner next token nexttoken scanner get token offset gettokenoffset scanner get token length gettokenlength token iseof assert token equals asserttokenequals i token itoken expected i token itoken actual assert equals assertequals expected iseof actual iseof assert equals assertequals expected is other isother actual is other isother assert equals assertequals expected is undefined isundefined actual is undefined isundefined assert equals assertequals expected is whitespace iswhitespace actual is whitespace iswhitespace string extract string extractstring i document idocument document offset string buffer stringbuffer buffer string buffer stringbuffer i region iregion region document get line information of offset getlineinformationofoffset offset string document region get offset getoffset region get length getlength offset index offsetindex offset region get offset getoffset xxx kludge offset index offsetindex length offset index offsetindex length buffer append document get line of offset getlineofoffset offset buffer append substring offset index offsetindex buffer append pos buffer append substring offset index offsetindex buffer append bad location exception badlocationexception buffer to string tostring escapes tab string param string string escape escaped string string escape string string string buffer stringbuffer buffer string buffer stringbuffer length string length length character string char at charat character buffer append buffer append buffer append buffer append character buffer to string tostring
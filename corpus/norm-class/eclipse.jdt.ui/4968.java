copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal compare org eclipse core runtime org eclipse compare content merge viewer contentmergeviewer i token comparator itokencomparator org eclipse compare content merge viewer contentmergeviewer token comparator tokencomparator org eclipse compare range difference r rangedifferencer i range comparator irangecomparator org eclipse jdt core tool factory toolfactory org eclipse jdt core compiler i scanner iscanner org eclipse jdt core compiler i terminal symbols iterminalsymbols org eclipse jdt core compiler invalid input exception invalidinputexception org eclipse jdt internal corext dom token scanner tokenscanner comparator java tokens java token comparator javatokencomparator i token comparator itokencomparator debug string f text ftext f count fcount f starts fstarts f len gths flengths creates token comparator string param text text tokenize d tokenized java token comparator javatokencomparator string text is legal islegal text f text ftext text length f text ftext length f starts fstarts length f len gths flengths length f count fcount returns comments whitespace i scanner iscanner scanner tool factory toolfactory create scanner createscanner scanner set source setsource f text ftext to char array tochararray end pos endpos token type tokentype token type tokentype scanner get next token getnexttoken i terminal symbols iterminalsymbols tokennameeof start scanner get current token start position getcurrenttokenstartposition scanner get current token end position getcurrenttokenendposition comments strings treated single token https bugs eclipse org token scanner tokenscanner is comment iscomment token type tokentype token type tokentype i terminal symbols iterminalsymbols token name string literal tokennamestringliteral comments commented code treat code https bugs eclipse org parse as java parseasjava token type tokentype i terminal symbols iterminalsymbols tokennamecomment parse as java parseasjava get comment start token length getcommentstarttokenlength token type tokentype record token range recordtokenrange start parse sub range parsesubrange start text substring start parse as java parseasjava record token range recordtokenrange start start end pos endpos invalid input exception invalidinputexception work around workaround https bugs eclipse org bugs bug cgi end pos endpos length record token range recordtokenrange end pos endpos length end pos endpos records token range param start token param length length token record token range recordtokenrange start length f starts fstarts f count fcount start f len gths flengths f count fcount length debug nls nls nls nls system println f count fcount start length f text ftext substring start start length f count fcount parse sub range parsesubrange start string text java code javacode debug nls nls nls system println parsing text parsingtext text start i token comparator itokencomparator sub tokenizer subtokenizer java code javacode java token comparator javatokencomparator text token comparator tokencomparator text count sub tokenizer subtokenizer get range count getrangecount count sub start substart sub tokenizer subtokenizer get token start gettokenstart sub length sublength sub tokenizer subtokenizer get token length gettokenlength debug nls nls nls nls system println sub start substart sub length sublength record token range recordtokenrange start sub start substart sub length sublength returns length token init iates initiates comment type param token type tokentype link i terminal symbols iterminalsymbols constant length token start comment get comment start token length getcommentstarttokenlength token type tokentype token type tokentype i terminal symbols iterminalsymbols tokennamecomment javadoc token type tokentype i terminal symbols iterminalsymbols token name string literal tokennamestringliteral returns number tokens string number token string override get range count getrangecount f count fcount javadoc i token comparator itokencomparator get token start gettokenstart override get token start gettokenstart f count fcount f starts fstarts f count fcount f starts fstarts f count fcount f len gths flengths f count fcount javadoc i token comparator itokencomparator get token length gettokenlength override get token length gettokenlength f count fcount f len gths flengths returns code code token matches token code i range comparator irangecomparator code param this index thisindex number token range comparator param range comparator compare param other index otherindex number token comparator code code token equal override ranges equal rangesequal this index thisindex i range comparator irangecomparator other index otherindex get class getclass get class getclass safe java token comparator javatokencomparator java token comparator javatokencomparator this len thislen get token length gettokenlength this index thisindex other len otherlen get token length gettokenlength other index otherindex this len thislen other len otherlen f text ftext region matches regionmatches get token start gettokenstart this index thisindex f text ftext get token start gettokenstart other index otherindex this len thislen aborts comparison number tokens large param length number base decision code code code code param max length maxlength number base decision code code code code param code i range comparator irangecomparator code compare code code abort token comparison override skip range comparison skiprangecomparison length max length maxlength i range comparator irangecomparator get range count getrangecount get range count getrangecount max length maxlength length max length maxlength length max length maxlength
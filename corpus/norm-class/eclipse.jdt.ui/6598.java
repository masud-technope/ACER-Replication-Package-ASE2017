copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation achim demelt demelt exxcellent junit separate code https bugs eclipse org bugs bug cgi thirumala red dy reddy mutchukota thirumala google j unit junit avoid rerun test launch thread https bugs eclipse org bugs bug cgi org eclipse jdt internal junit model java file java text date format dateformat java text simple date format simpledateformat java util array list arraylist java util arrays java util java util hash map hashmap java util list org eclipse jdt junit model i test element itestelement org eclipse jdt junit model i test element container itestelementcontainer org eclipse jdt junit model i test run session itestrunsession org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime listener list listenerlist org eclipse debug core debug plugin debugplugin org eclipse debug core i launch ilaunch org eclipse debug core i launch configuration ilaunchconfiguration org eclipse debug core i launch manager ilaunchmanager org eclipse debug core i launches listener ilauncheslistener org eclipse jdt core i java project ijavaproject org eclipse jdt internal junit j unit core plugin junitcoreplugin org eclipse jdt internal junit j unit messages junitmessages org eclipse jdt internal junit launcher i test kind itestkind org eclipse jdt internal junit launcher j unit launch configuration constants junitlaunchconfigurationconstants org eclipse jdt internal junit model test element testelement status org eclipse jdt internal junit runner message ids messageids test session holds test launch configuration launch test tree including test run session testrunsession i test run session itestrunsession launch code code iff session ext ernally externally i launch ilaunch f launch flaunch string f test run name ftestrunname java project code code i java project ijavaproject f project fproject i test kind itestkind f test runner kind ftestrunnerkind test runner client code code remote test runner client remotetestrunnerclient f test runner client ftestrunnerclient listener list listenerlist i test session listener itestsessionlistener f session listeners fsessionlisteners model root code code swapped disk test root testroot f test root ftestroot test session cached result code code code f test root ftestroot code result f test result ftestresult map test id testid test element testelement hash map hashmap string test element testelement f id to test fidtotest test suites testsuites additional children expected list incomplete test suite incompletetestsuite f incomplete test suites fincompletetestsuites suite unrooted test elements code code test suite element testsuiteelement f unrooted suite funrootedsuite number tests started test f started count fstartedcount number tests test f ignored count fignoredcount number tests assumption failed test f assumption failure count fassumptionfailurecount number errors test f error count ferrorcount number failures test f failure count ffailurecount total number tests f total count ftotalcount start time millis unique identifier imported test session started f start time fstarttime f is running fisrunning f is stopped fisstopped creates test session param test run name testrunname test param project code code test run session testrunsession string test run name testrunname i java project ijavaproject project todo check assumptions fields f launch flaunch f project fproject project f start time fstarttime system current time millis currenttimemillis is not null isnotnull test run name testrunname f test run name ftestrunname test run name testrunname todo f test runner kind ftestrunnerkind i test kind itestkind f test root ftestroot test root testroot f id to test fidtotest hash map hashmap f test runner client ftestrunnerclient f session listeners fsessionlisteners listener list listenerlist test run session testrunsession i launch ilaunch launch i java project ijavaproject project port is not null isnotnull launch f launch flaunch launch f project fproject project i launch configuration ilaunchconfiguration launch configuration launchconfiguration launch get launch configuration getlaunchconfiguration launch configuration launchconfiguration f test run name ftestrunname launch configuration launchconfiguration get name getname f test runner kind ftestrunnerkind j unit launch configuration constants junitlaunchconfigurationconstants get test runner kind gettestrunnerkind launch configuration launchconfiguration f test run name ftestrunname project get element name getelementname f test runner kind ftestrunnerkind i test kind itestkind f test root ftestroot test root testroot f id to test fidtotest hash map hashmap f test runner client ftestrunnerclient remote test runner client remotetestrunnerclient f test runner client ftestrunnerclient start list ening startlistening i test run listener itestrunlistener test session not ifier testsessionnotifier port i launch manager ilaunchmanager launch manager launchmanager debug plugin debugplugin get default getdefault get launch manager getlaunchmanager launch manager launchmanager add launch listener addlaunchlistener i launches listener ilauncheslistener override launches terminated launchesterminated i launch ilaunch launches arrays as list aslist launches f launch flaunch f test runner client ftestrunnerclient f test runner client ftestrunnerclient stop waiting stopwaiting launch manager launchmanager remove launch listener removelaunchlistener override launches removed launchesremoved i launch ilaunch launches arrays as list aslist launches f launch flaunch f test runner client ftestrunnerclient f test runner client ftestrunnerclient stop waiting stopwaiting launch manager launchmanager remove launch listener removelaunchlistener override launches changed launcheschanged i launch ilaunch launches override launches added launchesadded i launch ilaunch launches f session listeners fsessionlisteners listener list listenerlist add test session listener addtestsessionlistener test run listener adapter testrunlisteneradapter reset f started count fstartedcount f failure count ffailurecount f assumption failure count fassumptionfailurecount f error count ferrorcount f ignored count fignoredcount f total count ftotalcount f test root ftestroot test root testroot f test result ftestresult f id to test fidtotest hash map hashmap override progress state progressstate get progress state getprogressstate is running isrunning progress state progressstate running is stopped isstopped progress state progressstate stopped progress state progressstate completed override result get test result gettestresult include children includechildren f test root ftestroot f test root ftestroot get test result gettestresult f test result ftestresult override i test element itestelement get children getchildren get test root gettestroot get children getchildren override failure trace failuretrace get failure trace getfailuretrace override i test element container itestelementcontainer get parent container getparentcontainer override i test run session itestrunsession get test run session gettestrunsession test root testroot get test root gettestroot todo test root testroot stay get test root gettestroot get status getstatus swap in swapin f test root ftestroot org eclipse jdt junit model i test run session itestrunsession get java project getjavaproject override i java project ijavaproject get launched project getlaunchedproject f project fproject i test kind itestkind get test runner kind gettestrunnerkind f test runner kind ftestrunnerkind launch code code iff session ext ernally externally i launch ilaunch get launch getlaunch f launch flaunch override string get test run name gettestrunname f test run name ftestrunname get error count geterrorcount f error count ferrorcount get failure count getfailurecount f failure count ffailurecount get assumption failure count getassumptionfailurecount f assumption failure count fassumptionfailurecount get started count getstartedcount f started count fstartedcount get ignored count getignoredcount f ignored count fignoredcount get total count gettotalcount f total count ftotalcount get start time getstarttime f start time fstarttime code code iff session stopped terminated is stopped isstopped f is stopped fisstopped add test session listener addtestsessionlistener i test session listener itestsessionlistener listener swap in swapin f session listeners fsessionlisteners add listener remove test session listener removetestsessionlistener i test session listener itestsessionlistener listener f session listeners fsessionlisteners remove listener swap out swapout f test root ftestroot is running isrunning is starting isstarting is kept alive iskeptalive i test session listener itestsessionlistener registered f session listeners fsessionlisteners registered accepts swap to disk acceptsswaptodisk file swap file swapfile get swap file getswapfile j unit model junitmodel export test run session exporttestrunsession swap file swapfile f test result ftestresult f test root ftestroot get test result gettestresult f test root ftestroot f test runner client ftestrunnerclient f id to test fidtotest hash map hashmap f incomplete test suites fincompletetestsuites f unrooted suite funrootedsuite illegal state exception illegalstateexception j unit core plugin junitcoreplugin log core exception coreexception j unit core plugin junitcoreplugin log is starting isstarting get start time getstarttime f launch flaunch f launch flaunch is terminated isterminated remove swap file removeswapfile file swap file swapfile get swap file getswapfile swap file swapfile exists swap file swapfile delete file get swap file getswapfile illegal state exception illegalstateexception file history dir historydir j unit core plugin junitcoreplugin get history directory gethistorydirectory nls string is o time isotime simple date format simpledateformat yyyymmdd h hmmss hhmmss sss format get start time getstarttime nls string swap file name swapfilename is o time isotime xml file history dir historydir swap file name swapfilename swap in swapin f test root ftestroot j unit model junitmodel import into test run session importintotestrunsession get swap file getswapfile illegal state exception illegalstateexception j unit core plugin junitcoreplugin log f test root ftestroot test root testroot f test result ftestresult core exception coreexception j unit core plugin junitcoreplugin log f test root ftestroot test root testroot f test result ftestresult stop test run stoptestrun is running isrunning is kept alive iskeptalive f is stopped fisstopped f test runner client ftestrunnerclient f test runner client ftestrunnerclient stop test stoptest code code iff runtime test session alive is kept alive iskeptalive f test runner client ftestrunnerclient f launch flaunch f test runner client ftestrunnerclient is running isrunning i launch manager ilaunchmanager debug mode equals f launch flaunch get launch mode getlaunchmode i launch configuration ilaunchconfiguration config f launch flaunch get launch configuration getlaunchconfiguration config config get attribute getattribute j unit launch configuration constants junitlaunchconfigurationconstants attr keep running keeprunning core exception coreexception code code iff session started ended stopped terminated is running isrunning f is running fisrunning reruns test method session alive param test id testid test param class name classname test param test name testname test method code code iff rerun started rerun test reruntest string test id testid string class name classname string test name testname is kept alive iskeptalive status status test case element testcaseelement get test element gettestelement test id testid get status getstatus status status error f error count ferrorcount status status failure f failure count ffailurecount f test runner client ftestrunnerclient rerun test reruntest test id testid class name classname test name testname test element testelement get test element gettestelement string f id to test fidtotest test element testelement add tree entry addtreeentry string tree entry treeentry format test id testid test name testname is suite issuite test count testcount tree entry treeentry index of indexof string tree entry treeentry substring string buffer stringbuffer test name buffer testnamebuffer string buffer stringbuffer scan test name scantestname tree entry treeentry test name buffer testnamebuffer string test name testname test name buffer testnamebuffer to string tostring trim tree entry treeentry index of indexof nls is suite issuite tree entry treeentry substring equals test count testcount integer parse int parseint tree entry treeentry substring f incomplete test suites fincompletetestsuites is empty isempty create test element createtestelement f test root ftestroot test name testname is suite issuite test count testcount suite index suiteindex f incomplete test suites fincompletetestsuites size incomplete test suite incompletetestsuite open suite opensuite f incomplete test suites fincompletetestsuites suite index suiteindex open suite opensuite f out standing children foutstandingchildren open suite opensuite f out standing children foutstandingchildren f incomplete test suites fincompletetestsuites remove suite index suiteindex create test element createtestelement open suite opensuite f test suite element ftestsuiteelement test name testname is suite issuite test count testcount test element testelement create test element createtestelement test suite element testsuiteelement parent string string test name testname is suite issuite test count testcount test element testelement test element testelement is suite issuite test suite element testsuiteelement test suite element testsuiteelement test suite element testsuiteelement parent test name testname test count testcount test element testelement test suite element testsuiteelement test count testcount f incomplete test suites fincompletetestsuites add incomplete test suite incompletetestsuite test suite element testsuiteelement test count testcount test element testelement test case element testcaseelement parent test name testname f id to test fidtotest test element testelement test element testelement append test code code code test name testname code param string scan param start offset character code code param test name testname result scan test name scantestname string start string buffer stringbuffer test name testname in quote inquote start length char at charat in quote inquote in quote inquote in quote inquote in quote inquote test name testname append test name testname append test session not ifier testsessionnotifier i test run listener itestrunlistener override test run started testrunstarted test count testcount f incomplete test suites fincompletetestsuites array list arraylist f started count fstartedcount f ignored count fignoredcount f failure count ffailurecount f assumption failure count fassumptionfailurecount f error count ferrorcount f total count ftotalcount test count testcount f start time fstarttime system current time millis currenttimemillis f is running fisrunning i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener session started sessionstarted override test run ended testrunended elapsed time elapsedtime f is running fisrunning i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener session ended sessionended elapsed time elapsedtime override test run stopped testrunstopped elapsed time elapsedtime f is running fisrunning f is stopped fisstopped i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener session stopped sessionstopped elapsed time elapsedtime override test run terminated testrunterminated f is running fisrunning f is stopped fisstopped i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener session terminated sessionterminated override test tree entry testtreeentry string description test element testelement test element testelement add tree entry addtreeentry description i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener test added testadded test element testelement test element testelement create unrooted test element createunrootedtestelement string test id testid string test name testname test suite element testsuiteelement unrooted suite unrootedsuite get unrooted suite getunrootedsuite test element testelement test element testelement create test element createtestelement unrooted suite unrootedsuite test id testid test name testname i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener test added testadded test element testelement test element testelement test suite element testsuiteelement get unrooted suite getunrootedsuite f unrooted suite funrootedsuite f unrooted suite funrootedsuite test suite element testsuiteelement create test element createtestelement f test root ftestroot j unit messages junitmessages test run session testrunsession unrooted tests unrootedtests f unrooted suite funrootedsuite override test started teststarted string test id testid string test name testname f started count fstartedcount i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener running begins runningbegins test element testelement test element testelement get test element gettestelement test id testid test element testelement test element testelement create unrooted test element createunrootedtestelement test id testid test name testname test element testelement test case element testcaseelement log unexpected test logunexpectedtest test id testid test element testelement test case element testcaseelement test case element testcaseelement test case element testcaseelement test element testelement set status setstatus test case element testcaseelement status running f started count fstartedcount i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener test started teststarted test case element testcaseelement override test ended testended string test id testid string test name testname is ignored isignored test name testname starts with startswith message ids messageids test prefix test element testelement test element testelement get test element gettestelement test id testid test element testelement test element testelement create unrooted test element createunrootedtestelement test id testid test name testname test element testelement test case element testcaseelement is ignored isignored test element testelement set assumption failed setassumptionfailed f assumption failure count fassumptionfailurecount set status setstatus test element testelement status log unexpected test logunexpectedtest test id testid test element testelement test case element testcaseelement test case element testcaseelement test case element testcaseelement test element testelement is ignored isignored test case element testcaseelement set ignored setignored f ignored count fignoredcount test case element testcaseelement get status getstatus status running set status setstatus test case element testcaseelement status i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener test ended testended test case element testcaseelement override test failed testfailed status code statuscode string test id testid string test name testname string trace string expected string actual test element testelement test element testelement get test element gettestelement test id testid test element testelement test element testelement create unrooted test element createunrootedtestelement test id testid test name testname status status test name testname starts with startswith message ids messageids assumption failed test prefix test element testelement set assumption failed setassumptionfailed f assumption failure count fassumptionfailurecount status status status status convert status code statuscode register test failure status registertestfailurestatus test element testelement status trace expected actual i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener test failed testfailed test element testelement status trace expected actual override test reran testreran string test id testid string class name classname string test name testname status code statuscode string trace string expected result expectedresult string actual result actualresult test element testelement test element testelement get test element gettestelement test id testid test element testelement test element testelement create unrooted test element createunrootedtestelement test id testid test name testname test element testelement test case element testcaseelement log unexpected test logunexpectedtest test id testid test element testelement test case element testcaseelement test case element testcaseelement test case element testcaseelement test element testelement status status status convert status code statuscode register test failure status registertestfailurestatus test element testelement status trace expected result expectedresult actual result actualresult i test session listener itestsessionlistener listener f session listeners fsessionlisteners listener test reran testreran test case element testcaseelement status trace expected result expectedresult actual result actualresult log unexpected test logunexpectedtest string test id testid test element testelement test element testelement j unit core plugin junitcoreplugin log exception unexpected test element testelement type test id testid test id testid test element testelement incomplete test suite incompletetestsuite test suite element testsuiteelement f test suite element ftestsuiteelement f out standing children foutstandingchildren incomplete test suite incompletetestsuite test suite element testsuiteelement test suite element testsuiteelement out standing children outstandingchildren f test suite element ftestsuiteelement test suite element testsuiteelement f out standing children foutstandingchildren out standing children outstandingchildren register test failure status registertestfailurestatus test element testelement test element testelement status status string trace string expected string actual test element testelement set status setstatus status trace expected actual test element testelement is assumption failure isassumptionfailure status is error iserror f error count ferrorcount status is failure isfailure f failure count ffailurecount register test ended registertestended test element testelement test element testelement completed test element testelement test case element testcaseelement f total count ftotalcount completed f started count fstartedcount test case element testcaseelement test element testelement is ignored isignored f ignored count fignoredcount test element testelement get status getstatus is error or failure iserrororfailure set status setstatus test element testelement status test element testelement is assumption failure isassumptionfailure f assumption failure count fassumptionfailurecount set status setstatus test element testelement test element testelement status status test element testelement set status setstatus status test element testelement get all failed test elements getallfailedtestelements array list arraylist i test element itestelement failures array list arraylist add failures addfailures failures get test root gettestroot failures to array toarray test element testelement failures size add failures addfailures array list arraylist i test element itestelement failures i test element itestelement test element testelement result test result testresult test element testelement get test result gettestresult test result testresult result error test result testresult result failure failures add test element testelement test element testelement test suite element testsuiteelement test suite element testsuiteelement test suite element testsuiteelement test suite element testsuiteelement test element testelement i test element itestelement children test suite element testsuiteelement get children getchildren children length add failures addfailures failures children override get elapsed time in seconds getelapsedtimeinseconds f test root ftestroot na n nan f test root ftestroot get elapsed time in seconds getelapsedtimeinseconds override string to string tostring f test run name ftestrunname date format dateformat get date time instance getdatetimeinstance format f start time fstarttime
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring surround java util array list arraylist java util list org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom simple name simplename org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom selection local declaration analyzer localdeclarationanalyzer ast visitor astvisitor selection f selection fselection list variable declaration variabledeclaration f affected locals faffectedlocals variable declaration variabledeclaration perform ast node astnode parent selection selection local declaration analyzer localdeclarationanalyzer analyzer local declaration analyzer localdeclarationanalyzer selection parent accept analyzer analyzer f affected locals faffectedlocals to array toarray variable declaration variabledeclaration analyzer f affected locals faffectedlocals size local declaration analyzer localdeclarationanalyzer selection selection f selection fselection selection f affected locals faffectedlocals array list arraylist override visit simple name simplename node i variable binding ivariablebinding binding node is declaration isdeclaration consider node considernode node binding ast nodes astnodes get local variable binding getlocalvariablebinding node handle reference to local handlereferencetolocal node binding consider node considernode ast node astnode node f selection fselection get visit selection mode getvisitselectionmode node selection handle reference to local handlereferencetolocal simple name simplename node i variable binding ivariablebinding binding variable declaration variabledeclaration declaration ast nodes astnodes find variable declaration findvariabledeclaration binding node declaration f selection fselection covers declaration add local declaration addlocaldeclaration declaration add local declaration addlocaldeclaration variable declaration variabledeclaration declaration f affected locals faffectedlocals declaration f affected locals faffectedlocals add declaration
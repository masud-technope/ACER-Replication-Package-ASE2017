copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests chkpii java buffered reader bufferedreader java file java file output stream fileoutputstream java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java output stream writer outputstreamwriter java writer java net url java text simple date format simpledateformat java util array list arraylist java util java util regex pattern junit framework test case testcase org eclipse jdt test plugin testplugin java test plugin javatestplugin org eclipse core runtime file locator filelocator org eclipse jdt internal util string matcher stringmatcher runs tidy command cygwin html files workspace collects html tidy htmltidy errors warnings chkpii results chkpiiresults tidy txt note disabled html tidy test htmltidytest test case testcase tidy timeout pattern exclusion pattern table summary pattern compile column warning table lacks summary attribute pattern exclusion pattern empty tag pattern compile column warning trim min g trimming empty pattern exclusion pattern malformed uri pattern compile column warning escaping malformed uri reference pattern exclusion pattern script type pattern compile column warning script inserting type attribute pattern exclusion pattern img lacks alt pattern compile column warning img lacks alt attribute f workspace path length fworkspacepathlength string matcher stringmatcher f ignores fignores writer f tidy results ftidyresults main method manual testing file folder selected workspace create java launch configuration program argument code resource loc code including quotes param args argument absolute path file folder exception checking fails main string args exception html tidy test htmltidytest test html tidy test htmltidytest test f ignores fignores string matcher stringmatcher test f tidy results ftidyresults output stream writer outputstreamwriter system file file file args file is directory isdirectory test check folder checkfolder file test check file checkfile file testhtml exception url test bundle root testbundleroot java test plugin javatestplugin get default getdefault get bundle getbundle get entry getentry url test bundle file testbundlefile file locator filelocator tofileurl test bundle root testbundleroot file host workspace hostworkspace file test bundle file testbundlefile get file getfile get parent file getparentfile get parent file getparentfile get parent file getparentfile string workspace path workspacepath host workspace hostworkspace get absolute path getabsolutepath f workspace path length fworkspacepathlength workspace path workspacepath length file chkpii results chkpiiresults file host workspace hostworkspace chkpii results chkpiiresults file tidy file chkpii results chkpiiresults tidy txt f tidy results ftidyresults output stream writer outputstreamwriter file output stream fileoutputstream tidy utf string start time starttime simple date format simpledateformat yyyy format f tidy results ftidyresults write get class getclass get name getname started start time starttime f ignores fignores get ignores getignores check folder checkfolder file host workspace hostworkspace org eclipse jdt doc user tidy results tidyresults check folder checkfolder file host workspace hostworkspace org eclipse jdt doc isv tidy results tidyresults check folder checkfolder file host workspace hostworkspace org eclipse platform doc user tidy results tidyresults check folder checkfolder file host workspace hostworkspace org eclipse platform doc isv tidy results tidyresults check folder checkfolder file host workspace hostworkspace org eclipse jdt doc isv guide check folder checkfolder host workspace hostworkspace assert true asserttrue tidy get absolute path getabsolutepath f tidy results ftidyresults flush f tidy results ftidyresults close f tidy results ftidyresults string matcher stringmatcher get ignores getignores io exception ioexception array list arraylist string matcher stringmatcher match ers matchers array list arraylist input stream inputstream get class getclass get resource as stream getresourceasstream ignore files ignorefiles txt buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader reader ready string reader read line readline length char at charat ends with endswith stops directory tree traversal substring length relative matches emulate chkpii specification match ers matchers add string matcher stringmatcher f workspace path fworkspacepath emulate actual chkpii implementation match ers matchers add string matcher stringmatcher match ers matchers add string matcher stringmatcher match ers matchers to array toarray string matcher stringmatcher match ers matchers size is ignored isignored file file string relative path relativepath file get absolute path getabsolutepath substring f workspace path length fworkspacepathlength relative path relativepath relative path relativepath replace f ignores fignores length string matcher stringmatcher matcher f ignores fignores matcher match relative path relativepath check folder checkfolder file folder exception file files folder list files listfiles success files length file file files is ignored isignored file ishtmlfile file success check file checkfile file file is directory isdirectory success check folder checkfolder file success check file checkfile file file exception string file path filepath file get absolute path getabsolutepath string command tidy file path filepath process process runtime get runtime getruntime exec command timeout system current time millis currenttimemillis tidy timeout buffered reader bufferedreader tidy reader tidyreader buffered reader bufferedreader input stream reader inputstreamreader process get error stream geterrorstream tidy reader tidyreader ready system current time millis currenttimemillis timeout is alive isalive process thread sleep string tidy reader tidyreader read line readline is relevant isrelevant f tidy results ftidyresults write file path filepath f tidy results ftidyresults write f tidy results ftidyresults write tidy reader tidyreader ready tidy reader tidyreader ready is alive isalive process f tidy results ftidyresults flush process exit value exitvalue illegal thread state exception illegalthreadstateexception process destroy f tidy results ftidyresults write error command killed tidy timeout is relevant isrelevant string exclusion pattern table summary matcher matches exclusion pattern empty tag matcher matches exclusion pattern malformed uri matcher matches exclusion pattern script type matcher matches exclusion pattern img lacks alt matcher matches is alive isalive process process process exit value exitvalue illegal thread state exception illegalthreadstateexception ishtmlfile file file string file get name getname ends with endswith html ends with endswith htm file is file isfile
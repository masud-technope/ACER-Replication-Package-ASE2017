copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java file input stream fileinputstream java util array list arraylist java util hashtable java util list junit framework test junit framework test suite testsuite org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse core file buf fers filebuffers location kind locationkind org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants rename arguments renamearguments org eclipse ltk core refactoring participants rename refactoring renamerefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i method imethod org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core source range sourcerange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory rename tests renametests refactoring test refactoringtest rename tests renametests clazz rename tests renametests string refactoring path rename tests renametests rename tests renametests string test suite set up test setuptest test suite testsuite clazz test set up test setuptest test some test sometest java setup some test sometest override set up setup exception java project helper javaprojecthelper perform dummy search set up setup override tear down teardown exception tear down teardown java project helper javaprojecthelper perform dummy search override string get refactoring path getrefactoringpath refactoring path override set up setup exception set up setup hashtable string string options java core javacore get options getoptions java core javacore set options setoptions options f is pre delta test fispredeltatest override tear down teardown exception tear down teardown hashtable string string options java core javacore get options getoptions java core javacore set options setoptions options i source range isourcerange get selection getselection i compilation unit icompilationunit exception string source get source getsource warning includes square bracket open offset source index of indexof abstract selection test case abstractselectiontestcase square bracket open source index of indexof abstract selection test case abstractselectiontestcase square bracket close source range sourcerange offset abstract selection test case abstractselectiontestcase square bracket open length offset rename local variable renamelocalvariable string new field name newfieldname update references updatereferences exception participant testing participanttesting reset i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection get selection getselection i java element ijavaelement elements code select codeselect selection get offset getoffset selection get length getlength assert equals assertequals elements length rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename local variable descriptor set java element setjavaelement elements descriptor set new name setnewname new field name newfieldname descriptor set update references setupdatereferences update references updatereferences descriptor set update text ual occurrences setupdatetextualoccurrences rename refactoring renamerefactoring refactoring rename refactoring renamerefactoring create refactoring createrefactoring descriptor list i java element ijavaelement list array list arraylist list add elements list rename arguments renamearguments args array list arraylist args add rename arguments renamearguments new field name newfieldname update references updatereferences string rename handles renamehandles participant testing participanttesting create handles createhandles list to array toarray org eclipse jdt internal core java model manager javamodelmanager verbose refactoring status refactoringstatus result perform refactoring performrefactoring refactoring assert equals assertequals supposed pass result core exception coreexception system println rename test renametest get name getname to string tostring system println get resource getresource getlocationuri system println get resource getresource get modification stamp getmodificationstamp system println get resource getresource get local time stamp getlocaltimestamp system println get resource getresource is synchronized issynchronized i text file buffer itextfilebuffer file buffer filebuffer i text file buffer manager itextfilebuffermanager get text file buffer gettextfilebuffer get resource getresource get full path getfullpath location kind locationkind ifile file buffer filebuffer system println file buffer filebuffer get modification stamp getmodificationstamp system println is commit table iscommittable file buffer filebuffer is commit able iscommitable nis dirty nisdirty file buffer filebuffer is dirty isdirty nis shared nisshared file buffer filebuffer is shared isshared nis state valid ated nisstatevalidated file buffer filebuffer is state valid ated isstatevalidated nis synchronization context requested nissynchronizationcontextrequested file buffer filebuffer is synchronization context requested issynchronizationcontextrequested nis synchronized nissynchronized file buffer filebuffer is synchronized issynchronized system println file buffer filebuffer get status getstatus system println file buffer filebuffer get document getdocument system println file buffer filebuffer get document getdocument system println get contents getcontents file system println get contents getcontents file input stream fileinputstream get resource getresource get location getlocation to file tofile system println get source getsource system println get source getsource system println system println get owner getowner get owner getowner system println is working copy isworkingcopy is working copy isworkingcopy system println is consistent isconsistent is consistent isconsistent system println get buffer getbuffer get class getclass get buffer getbuffer get class getclass system println get buffer getbuffer has unsaved changes hasunsavedchanges get buffer getbuffer has unsaved changes hasunsavedchanges system println get buffer getbuffer org eclipse jdt internal core java model manager javamodelmanager verbose assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename get source getsource participant testing participanttesting test rename testrename rename handles renamehandles args to array toarray rename arguments renamearguments args size assert true asserttrue anything to undo anythingtoundo refactoring core refactoringcore get undo manager getundomanager anything to undo anythingtoundo assert true asserttrue anything to redo anythingtoredo refactoring core refactoringcore get undo manager getundomanager anything to redo anythingtoredo refactoring core refactoringcore get undo manager getundomanager perform undo performundo null progress monitor nullprogressmonitor assert equal lines assertequallines invalid undo get file contents getfilecontents get input test file name getinputtestfilename get source getsource assert true asserttrue anything to undo anythingtoundo refactoring core refactoringcore get undo manager getundomanager anything to undo anythingtoundo assert true asserttrue anything to redo anythingtoredo refactoring core refactoringcore get undo manager getundomanager anything to redo anythingtoredo refactoring core refactoringcore get undo manager getundomanager perform redo performredo null progress monitor nullprogressmonitor assert equal lines assertequallines invalid redo get file contents getfilecontents get output test file name getoutputtestfilename get source getsource test lambda testlambda exception rename local variable renamelocalvariable renamed f renamedf test lambda testlambda exception rename local variable renamelocalvariable renamed p renamedp test lambda testlambda exception rename local variable renamelocalvariable renamed i i renamedii test lambda testlambda exception rename local variable renamelocalvariable renamed rename method renamemethod string method name methodname string new method name newmethodname string signatures should pass shouldpass update references updatereferences create delegate createdelegate exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype type i typei get type gettype i method imethod method type i typei get method getmethod method name methodname signatures rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename method descriptor set java element setjavaelement method descriptor set update references setupdatereferences update references updatereferences descriptor set new name setnewname new method name newmethodname descriptor set keep original setkeeporiginal create delegate createdelegate descriptor set deprecate delegate setdeprecatedelegate assert equals assertequals supposed pass perform refactoring performrefactoring descriptor core exception coreexception system println rename test renametest get name getname to string tostring system println get resource getresource getlocationuri system println get resource getresource get modification stamp getmodificationstamp system println get resource getresource get local time stamp getlocaltimestamp system println get resource getresource is synchronized issynchronized system println system println get source getsource system println should pass shouldpass assert true asserttrue incorrect renaming java model bug get file contents getfilecontents get output test file name getoutputtestfilename equals get source getsource assert equal lines assertequallines incorrect renaming get file contents getfilecontents get output test file name getoutputtestfilename get source getsource assert true asserttrue anything to undo anythingtoundo refactoring core refactoringcore get undo manager getundomanager anything to undo anythingtoundo assert true asserttrue anything to redo anythingtoredo refactoring core refactoringcore get undo manager getundomanager anything to redo anythingtoredo assert equals assertequals undo refactoring get undo manager getundomanager get refactoring log getrefactoringlog size refactoring core refactoringcore get undo manager getundomanager perform undo performundo null progress monitor nullprogressmonitor assert equal lines assertequallines invalid undo get file contents getfilecontents get input test file name getinputtestfilename get source getsource assert true asserttrue anything to undo anythingtoundo refactoring core refactoringcore get undo manager getundomanager anything to undo anythingtoundo assert true asserttrue anything to redo anythingtoredo refactoring core refactoringcore get undo manager getundomanager anything to redo anythingtoredo assert equals assertequals redo refactoring get undo manager getundomanager get redo stack getredostack size refactoring core refactoringcore get undo manager getundomanager perform redo performredo null progress monitor nullprogressmonitor assert equal lines assertequallines invalid redo get file contents getfilecontents get output test file name getoutputtestfilename get source getsource rename method in interface renamemethodininterface exception rename method renamemethod string method lambda method reference test method testmethod exception rename method in interface renamemethodininterface method method references reference test method testmethod exception rename method in interface renamemethodininterface test method testmethod exception rename method in interface renamemethodininterface test method reference testmethodreference exception rename method renamemethod search for refs searchforrefs search for refs searchforrefs string
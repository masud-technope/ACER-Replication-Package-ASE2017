copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text spelling engine java buffered reader bufferedreader java file not found exception filenotfoundexception java i o exception ioexception java input stream inputstream java input stream reader inputstreamreader java unsupported encoding exception unsupportedencodingexception java net malformedurlexception java net url java nio charset charset java nio charset charset decoder charsetdecoder java nio charset coding error action codingerroraction java nio charset malformed input exception malformedinputexception java util array list arraylist java util arrays java util hash map hashmap java util hash set hashset java util iterator java util map java util org eclipse core runtime i status istatus org eclipse core runtime status org eclipse core resources resources plugin resourcesplugin org eclipse jdt internal corext util messages org eclipse jdt javaui org eclipse jdt preference constants preferenceconstants org eclipse jdt internal java plugin javaplugin org eclipse jdt internal javauimessages org eclipse jdt internal viewsupport basic element labels basicelementlabels partial implementation spell dictionary abstract spell dictionary abstractspelldictionary i spell dictionary ispelldictionary array wrapper byte array wrapper bytearraywrapper hash code hashcode array prime array result array length result prime result array result byte array bytearray byte array wrapper bytearraywrapper byte array bytearray byte array bytearray byte array bytearray override hash code hashcode prime result result prime result byte array wrapper bytearraywrapper hash code hashcode byte array bytearray result override equals object obj obj obj obj byte array wrapper bytearraywrapper byte array wrapper bytearraywrapper byte array wrapper bytearraywrapper obj arrays equals byte array bytearray byte array bytearray canonical utf encoding nls string utf utf bucket capacity bucket capacity word buffer capacity buffer capacity distance threshold distance threshold hash load factor load factor phonetic distance algorithm i phonetic distance algorithm iphoneticdistancealgorithm f distance algorithm fdistancealgorithm default phonetic distance algorithm defaultphoneticdistancealgorithm mapping phonetic has hes hashes word lists map byte array wrapper bytearraywrapper object f hash buckets fhashbuckets hash map hashmap get initial size getinitialsize load factor phonetic hash provider i phonetic hash provider iphonetichashprovider f hash provider fhashprovider default phonetic hash provider defaultphonetichashprovider dictionary loaded f loaded floaded dictionary loaded f must load fmustload tells str ip strip letters word bound aries boundaries f is str ipping non letters fisstrippingnonletters returns initial size dictionary initial size dictionary get initial size getinitialsize returns candidates phonetic hash param hash hash retrieve candidates array candidates phonetic hash object get candidates getcandidates string hash byte array wrapper bytearraywrapper hash bytes hashbytes hash bytes hashbytes byte array wrapper bytearraywrapper hash get bytes getbytes utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log f hash buckets fhashbuckets hash bytes hashbytes returns candidates phonetic hash bounded distance word param word word find nearest matches param sentence code code iff proposals start sentence code code param has hs hashs array close has hes hashes find matches ranked bounded distance word ranked word proposal rankedwordproposal get candidates getcandidates string word sentence array list arraylist string has hs hashs distance string hash string buffer stringbuffer buffer string buffer stringbuffer buffer capacity hash set hashset ranked word proposal rankedwordproposal result hash set hashset bucket capacity has hs hashs size has hs hashs size hash has hs hashs object candidates get candidates getcandidates hash candidates candidates string candidate candidate string candidates utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log result distance f distance algorithm fdistancealgorithm get distance getdistance word candidate distance distance threshold buffer set length setlength buffer append candidate sentence buffer set char at setcharat character to upper case touppercase buffer char at charat result add ranked word proposal rankedwordproposal buffer to string tostring distance suppress warnings suppresswarnings unchecked array list arraylist candidate list candidatelist array list arraylist candidates https bugs eclipse org bugs bug cgi candidate size candidatesize math min candidate list candidatelist size offset offset candidate size candidatesize offset string candidate candidate string candidate list candidatelist offset utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log result distance f distance algorithm fdistancealgorithm get distance getdistance word candidate distance distance threshold buffer set length setlength buffer append candidate sentence buffer set char at setcharat character to upper case touppercase buffer char at charat result add ranked word proposal rankedwordproposal buffer to string tostring distance result returns app roximations approximations phonetic hash smallest distance word param word word find nearest matches param sentence code code iff proposals start sentence code code param result ranked smallest distance word get candidates getcandidates string word sentence ranked word proposal rankedwordproposal result distance minimum integer max string buffer stringbuffer buffer string buffer stringbuffer buffer capacity object candidates get candidates getcandidates f hash provider fhashprovider get hash gethash word candidates candidates string candidate candidate string candidates utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log distance f distance algorithm fdistancealgorithm get distance getdistance word candidate buffer append candidate sentence buffer set char at setcharat character to upper case touppercase buffer char at charat result add ranked word proposal rankedwordproposal buffer to string tostring distance suppress warnings suppresswarnings unchecked array list arraylist candidate list candidatelist array list arraylist candidates array list arraylist ranked word proposal rankedwordproposal matches array list arraylist candidate list candidatelist size candidate list candidatelist size string candidate candidate string candidate list candidatelist utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log distance f distance algorithm fdistancealgorithm get distance getdistance word candidate distance minimum distance minimum matches clear buffer set length setlength buffer append candidate sentence buffer set char at setcharat character to upper case touppercase buffer char at charat matches add ranked word proposal rankedwordproposal buffer to string tostring distance minimum distance result add all addall matches tells dictionary empty code code dictionary empty is empty isempty f hash buckets fhashbuckets size returns phonetic distance algorithm phonetic distance algorithm i phonetic distance algorithm iphoneticdistancealgorithm get distance algorithm getdistancealgorithm f distance algorithm fdistancealgorithm returns phonetic hash provider phonetic hash provider i phonetic hash provider iphonetichashprovider get hash provider gethashprovider f hash provider fhashprovider override ranked word proposal rankedwordproposal get proposals getproposals string word sentence f loaded floaded f loaded floaded load geturl f loaded floaded compact malformedurlexception exception string hash f hash provider fhashprovider get hash gethash word mutators f hash provider fhashprovider get mutators getmutators array list arraylist string neighborhood array list arraylist word length mutators length neighborhood add hash ranked word proposal rankedwordproposal candidates get candidates getcandidates word sentence neighborhood neighborhood clear previous characters word to char array tochararray word length characters previous characters characters previous characters neighborhood add f hash provider fhashprovider get hash gethash string characters characters characters previous nls string sent inel sentinel word characters sent inel sentinel to char array tochararray offset characters length mutators length characters offset mutators neighborhood add f hash provider fhashprovider get hash gethash string characters offset characters offset characters offset offset mutated characters word to char array tochararray word length mutated characters mutator mutator mutators length mutator characters mutators mutator neighborhood add f hash provider fhashprovider get hash gethash string characters characters mutated characters word to char array tochararray deleted characters length deleted length deleted characters characters characters length offset deleted length neighborhood add f hash provider fhashprovider get hash gethash string characters offset previous deleted offset deleted offset previous offset neighborhood remove hash ranked word proposal rankedwordproposal matches get candidates getcandidates word sentence neighborhood matches size candidates size get candidates getcandidates word sentence candidates candidates add all addall matches candidates returns url dictionary word list malformedurlexception url retrieved url dictionary word list url geturl malformedurlexception has hes hashes word dictionary param word word hash dictionary hash word hashword string word string hash f hash provider fhashprovider get hash gethash word byte array wrapper bytearraywrapper hash bytes hashbytes word bytes wordbytes hash bytes hashbytes byte array wrapper bytearraywrapper hash get bytes getbytes utf word bytes wordbytes word get bytes getbytes utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log object bucket f hash buckets fhashbuckets hash bytes hashbytes bucket f hash buckets fhashbuckets hash bytes hashbytes word bytes wordbytes bucket array list arraylist suppress warnings suppresswarnings unchecked array list arraylist bucket list bucketlist array list arraylist bucket bucket list bucketlist add word bytes wordbytes array list arraylist object list array list arraylist bucket capacity list add bucket list add word bytes wordbytes f hash buckets fhashbuckets hash bytes hashbytes list override is correct iscorrect string word word str ip non letters stripnonletters word f loaded floaded f loaded floaded load geturl f loaded floaded compact malformedurlexception exception object candidates get candidates getcandidates f hash provider fhashprovider get hash gethash word candidates candidates string candidate candidate string candidates utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log candidate equals word candidate equals word to lower case tolowercase suppress warnings suppresswarnings unchecked array list arraylist candidate list candidatelist array list arraylist candidates word bytes wordbytes lowercase word bytes lowercasewordbytes word bytes wordbytes word get bytes getbytes utf lowercase word bytes lowercasewordbytes word to lower case tolowercase get bytes getbytes utf unsupported encoding exception unsupportedencodingexception java plugin javaplugin log candidate list candidatelist size candidate candidate list candidatelist arrays equals candidate word bytes wordbytes arrays equals candidate lowercase word bytes lowercasewordbytes override set str ip non letters setstripnonletters f is str ipping non letters fisstrippingnonletters str ips strips letter characters word happen preference enabled param word word str ip strip str ipped stripped word string str ip non letters stripnonletters string word f is str ipping non letters fisstrippingnonletters word word length character is letter isletter word char at charat nls character is letter isletter word char at charat word substring override is loaded isloaded f loaded floaded f hash buckets fhashbuckets size loads dictionary word list disk param url url word list load code code iff word list loaded code code load url url f must load fmustload f loaded floaded url input stream inputstream stream stream url open stream openstream stream string word setup reader decoder order read malformed input needed charset decoder charsetdecoder decoder charset for name forname get encoding getencoding new decoder newdecoder decoder on malformed input onmalformedinput coding error action codingerroraction report decoder on unmappable character onunmappablecharacter coding error action codingerroraction report buffered reader bufferedreader reader buffered reader bufferedreader input stream reader inputstreamreader stream decoder do read doread do read doread word reader read line readline malformed input exception malformedinputexception decoder on malformed input onmalformedinput coding error action codingerroraction replace decoder reset word reader read line readline decoder on malformed input onmalformedinput coding error action codingerroraction report string message messages format javauimessages abstract spelling dictionary abstractspellingdictionary encoding error encodingerror string word decoder replacement basic element labels basicelementlabels geturlpart url to string tostring i status istatus status status i status istatus error javaui plugin i status istatus message java plugin javaplugin log status do read doread word do read doread word do read doread hash word hashword word file not found exception filenotfoundexception string url string urlstring url to string tostring string lowercase url string lowercaseurlstring url string urlstring to lower case tolowercase url string urlstring equals lowercase url string lowercaseurlstring java plugin javaplugin log load url lowercase url string lowercaseurlstring malformedurlexception java plugin javaplugin log i o exception ioexception exception string message messages format javauimessages abstract spelling dictionary abstractspellingdictionary encoding error encodingerror object integer basic element labels basicelementlabels geturlpart url to string tostring i status istatus status status i status istatus error javaui plugin i status istatus message exception java plugin javaplugin log status java plugin javaplugin log exception f must load fmustload stream stream close i o exception ioexception comp acts compacts dictionary compact iterator object iter f hash buckets fhashbuckets values iterator iter has next hasnext object element iter element array list arraylist array list arraylist element trim to size trimtosize sets phonetic distance algorithm param algorithm phonetic distance algorithm set distance algorithm setdistancealgorithm i phonetic distance algorithm iphoneticdistancealgorithm algorithm f distance algorithm fdistancealgorithm algorithm sets phonetic hash provider param provider phonetic hash provider set hash provider sethashprovider i phonetic hash provider iphonetichashprovider provider f hash provider fhashprovider provider override unload f loaded floaded f must load fmustload f hash buckets fhashbuckets clear override accepts words acceptswords override add word addword string word returns encoding dictionary encoding dictionary string get encoding getencoding string encoding java plugin javaplugin get default getdefault get preference store getpreferencestore get string getstring preference constants preferenceconstants spelling user dictionary encoding encoding encoding length encoding resources plugin resourcesplugin get encoding getencoding encoding
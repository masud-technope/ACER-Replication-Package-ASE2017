copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation nikolay metchev nikolaymetchev gmail extract local extract local variable replacing multiple occurrences statement https bugs eclipse org nicolaj hoess nicohoess gmail extract local puts declaration wrong position https bugs eclipse org org eclipse jdt tests refactoring java util hashtable org eclipse core runtime null progress monitor nullprogressmonitor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i source range isourcerange org eclipse jdt core java core javacore org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt internal corext refactoring code extract temp refactoring extracttemprefactoring org eclipse jdt tests refactoring infra text range util textrangeutil junit framework test junit framework test suite testsuite extract temp tests extracttemptests refactoring test refactoringtest extract temp tests extracttemptests clazz extract temp tests extracttemptests string refactoring path extract temp extracttemp bug import rewrite importrewrite context bug ast rewrite astrewrite space string f comp act pref fcompactpref extract temp tests extracttemptests string override string get refactoring path getrefactoringpath refactoring path test suite refactoring test setup refactoringtestsetup test suite testsuite clazz test set up test setuptest test some test sometest refactoring test setup refactoringtestsetup some test sometest string get simple test file name getsimpletestfilename can extract canextract input string file name filename get name getname can extract canextract file name filename input file name filename java string get test file name gettestfilename can extract canextract input string file name filename test path prefix get refactoring path getrefactoringpath file name filename can extract canextract can extract canextract cannot extract cannotextract file name filename get simple test file name getsimpletestfilename can extract canextract input i compilation unit icompilationunit create ufrom test file createcufromtestfile i package fragment ipackagefragment pack can extract canextract input exception createcu pack get simple test file name getsimpletestfilename can extract canextract input get file contents getfilecontents get test file name gettestfilename can extract canextract input override set up setup exception set up setup hashtable string string options java core javacore get options getoptions string setting default code formatter constants defaultcodeformatterconstants formatter insert space assignment f comp act pref fcompactpref options setting options setting default code formatter constants defaultcodeformatterconstants java core javacore set options setoptions options override tear down teardown exception tear down teardown hashtable string string options java core javacore get options getoptions options default code formatter constants defaultcodeformatterconstants formatter insert space assignment f comp act pref fcompactpref java core javacore set options setoptions options helper start line startline start column startcolumn end line endline end column endcolumn replace all replaceall make final makefinal string temp name tempname string guessed temp name guessedtempname exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn extract temp refactoring extracttemprefactoring extract temp refactoring extracttemprefactoring selection get offset getoffset selection get length getlength refactoring status refactoringstatus activation result activationresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert true asserttrue activation supposed successful activation result activationresult isok set replace all occurrences setreplacealloccurrences replace all replaceall set declare final setdeclarefinal make final makefinal set temp name settempname temp name tempname assert equals assertequals temp incorrectly guessed guessed temp name guessedtempname guess temp name guesstempname refactoring status refactoringstatus check input result checkinputresult check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert true asserttrue precondition supposed pass check input result checkinputresult to string tostring check input result checkinputresult isok perform change performchange i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent string new cu name newcuname get simple test file name getsimpletestfilename i compilation unit icompilationunit new cu newcu pack get compilation unit getcompilationunit new cu name newcuname assert true asserttrue new cu name newcuname exist new cu newcu exists assert equal lines assertequallines get file contents getfilecontents get test file name gettestfilename new cu newcu get source getsource warning helper warninghelper start line startline start column startcolumn end line endline end column endcolumn replace all replaceall make final makefinal string temp name tempname string guessed temp name guessedtempname expected status expectedstatus exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn extract temp refactoring extracttemprefactoring extract temp refactoring extracttemprefactoring selection get offset getoffset selection get length getlength refactoring status refactoringstatus activation result activationresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert true asserttrue activation supposed successful activation result activationresult isok set replace all occurrences setreplacealloccurrences replace all replaceall set declare final setdeclarefinal make final makefinal set temp name settempname temp name tempname assert equals assertequals temp incorrectly guessed guessed temp name guessedtempname guess temp name guesstempname refactoring status refactoringstatus check input result checkinputresult check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert equals assertequals status expected status expectedstatus check input result checkinputresult get severity getseverity perform change performchange i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent string new cu name newcuname get simple test file name getsimpletestfilename i compilation unit icompilationunit new cu newcu pack get compilation unit getcompilationunit new cu name newcuname assert true asserttrue new cu name newcuname exist new cu newcu exists assert equal lines assertequallines get file contents getfilecontents get test file name gettestfilename new cu newcu get source getsource fail helper failhelper start line startline start column startcolumn end line endline end column endcolumn replace all replaceall make final makefinal string temp name tempname expected status expectedstatus exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn extract temp refactoring extracttemprefactoring extract temp refactoring extracttemprefactoring selection get offset getoffset selection get length getlength set replace all occurrences setreplacealloccurrences replace all replaceall set declare final setdeclarefinal make final makefinal set temp name settempname temp name tempname refactoring status refactoringstatus result perform refactoring performrefactoring assert not null assertnotnull precondition supposed fail result assert equals assertequals status expected status expectedstatus result get severity getseverity tests test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp iterator test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception helper temp test fail testfail test exception print test disabled message printtestdisabledmessage regression test bug helper temp temp test exception helper temp test fail testfail test exception print test disabled message printtestdisabledmessage regression test bug helper temp temp test exception helper temp test exception test disabled tra inling trainling semicolons disallowed regression test bug helper temp temp test exception print test disabled message printtestdisabledmessage regression test bug helper temp test exception print test disabled message printtestdisabledmessage regression test helper temp test exception print test disabled message printtestdisabledmessage regression test helper temp test exception print test disabled message printtestdisabledmessage regression test helper temp test exception helper temp string test exception helper temp test exception helper temp test exception helper temp test exception print test disabled message printtestdisabledmessage regression test bug helper temp object test exception print test disabled message printtestdisabledmessage regression test bug helper temp array list arraylist test exception print test disabled message printtestdisabledmessage regression test bug helper temp lists test exception print test disabled message printtestdisabledmessage regression test bug helper temp foo test exception print test disabled message printtestdisabledmessage regression test bug helper temp test exception print test disabled message printtestdisabledmessage regression test bug helper temp temp test exception print test disabled message printtestdisabledmessage regression test bug helper temp object test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp length test exception print test disabled message printtestdisabledmessage test bug helper temp length test exception print test disabled message printtestdisabledmessage test bug helper temp fred test exception helper temp fred test exception helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp test exception helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp string test exception print test disabled message printtestdisabledmessage test bug helper temp flag test exception print test disabled message printtestdisabledmessage test bug helper temp flag test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug helper value on index i valueonindexi object test exception helper temp test exception helper temp test exception helper temp test exception helper temp test exception print test disabled message printtestdisabledmessage test bug helper new variable newvariable string test exception print test disabled message printtestdisabledmessage test bug helper temp equals test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug refactoring extract local variable fails nested statements helper temp string test exception print test disabled message printtestdisabledmessage test bug refactoring extract local variable fails nested statements helper temp string test exception print test disabled message printtestdisabledmessage test bug refactoring extract local variable fails nested statements helper temp string test exception print test disabled message printtestdisabledmessage test bug extract local variable causing exception refactoring helper temp bar test exception helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp int eger integer test exception print test disabled message printtestdisabledmessage test bug helper temp test exception helper temp string test exception print test disabled message printtestdisabledmessage test bug helper temp length test exception print test disabled message printtestdisabledmessage test bug helper temp string test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug warning helper warninghelper temp refactoring status refactoringstatus warning warning super fluous superfluous detection flow analysis test exception print test disabled message printtestdisabledmessage test bug helper temp string test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug helper temp test exception print test disabled message printtestdisabledmessage test bug extracting fragment matches initializer helper temp test exception print test disabled message printtestdisabledmessage test bug extract temp bounds error refactoring helper test exception helper strong string test exception helper string test exception helper test exception helper int eger integer test exception bug import rewrite importrewrite context print test disabled message printtestdisabledmessage bug import rewrite importrewrite context helper temp test test exception helper temp test exception bug import rewrite importrewrite context print test disabled message printtestdisabledmessage bug import rewrite importrewrite context helper temp test test exception print test disabled message printtestdisabledmessage test parameterized instance creation helper test exception print test disabled message printtestdisabledmessage test parameterized instance creation helper test exception helper foo foo test exception i package fragment ipackagefragment get root getroot create package fragment createpackagefragment i compilation unit icompilationunit create compilation unit createcompilationunit java save i package fragment ipackagefragment get root getroot create package fragment createpackagefragment i compilation unit icompilationunit create compilation unit createcompilationunit java save helper foo method test exception helper temp number test exception helper temp int eger integer bug test bug exception helper as list aslist as list aslist syntax error test syntax error exception helper bla string test exception test bug syntax error helper temp string test exception test bug helper temp test exception test bug helper isquared test exception test bug helper temp next element nextelement test exception test bug helper temp string test exception test bug helper temp test exception test bug bug ast rewrite astrewrite space print test disabled message printtestdisabledmessage bug ast rewrite astrewrite space helper temp object test exception helper temp object test exception helper temp test exception test https bugs eclipse org bugs bug cgi helper temp value of valueof test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp calculate count calculatecount test exception test https bugs eclipse org bugs bug cgi helper temp calculate count calculatecount test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test exception test https bugs eclipse org bugs bug cgi helper temp test zero length selection testzerolengthselection exception print test disabled message printtestdisabledmessage test bug helper temp testing failing preconditions test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus error test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage removed fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage regression test bug fail helper failhelper temp refactoring status refactoringstatus fatal removed allow e allowe bug test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal removed test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal removed test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal removed test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal removed allowed bug test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage regression test bug print test disabled message printtestdisabledmessage regression test bug test bug fatal fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage regression test bug fail helper failhelper temp refactoring status refactoringstatus warning test fail testfail exception print test disabled message printtestdisabledmessage regression test bug fail helper failhelper temp refactoring status refactoringstatus fatal removed allowed bug test fail testfail exception test bug fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug fail helper failhelper temp refactoring status refactoringstatus warning test fail testfail exception print test disabled message printtestdisabledmessage test bug fail helper failhelper temp refactoring status refactoringstatus warning test fail testfail exception print test disabled message printtestdisabledmessage test bug extracting update r updater ref erring referring loop variable fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug extracting test ref erring referring loop variable fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug extracting test ref erring referring loop variable fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug extracting test ref erring referring loop variable fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug extracting update r updater fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug extracting initializer fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug qualified name qualifiedname fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug field access fieldaccess fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception print test disabled message printtestdisabledmessage test bug qualified name qualifiedname nested fail helper failhelper temp refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper temp refactoring status refactoringstatus fatal
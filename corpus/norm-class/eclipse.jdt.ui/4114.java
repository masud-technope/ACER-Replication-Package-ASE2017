copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext code manipulation codemanipulation java util collection java util iterator java util list org eclipse jface text region org eclipse jdt core i java project ijavaproject org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom annot atable type annotatabletype org eclipse jdt core dom break statement breakstatement org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom continue statement continuestatement org eclipse jdt core dom creation reference creationreference org eclipse jdt core dom expression org eclipse jdt core dom expression method reference expressionmethodreference org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom labeled statement labeledstatement org eclipse jdt core dom marker annotation markerannotation org eclipse jdt core dom member ref memberref org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom method ref methodref org eclipse jdt core dom method ref parameter methodrefparameter org eclipse jdt core dom modifier org eclipse jdt core dom org eclipse jdt core dom name qualified type namequalifiedtype org eclipse jdt core dom normal annotation normalannotation org eclipse jdt core dom package declaration packagedeclaration org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom qualified type qualifiedtype org eclipse jdt core dom simple name simplename org eclipse jdt core dom simple type simpletype org eclipse jdt core dom single member annotation singlememberannotation org eclipse jdt core dom super constructor invocation superconstructorinvocation org eclipse jdt core dom super field access superfieldaccess org eclipse jdt core dom super method reference supermethodreference org eclipse jdt core dom tag element tagelement org eclipse jdt core dom this expression thisexpression org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type method reference typemethodreference org eclipse jdt internal corext dom generic visitor genericvisitor org eclipse jdt internal corext dom scope analyzer scopeanalyzer org eclipse jdt internal corext util java model util javamodelutil import references collector importreferencescollector generic visitor genericvisitor collect ast node astnode node i java project ijavaproject project region range limit rangelimit collection simple name simplename resulting type imports resultingtypeimports collection simple name simplename resulting static imports resultingstaticimports collect node project range limit rangelimit resulting type imports resultingtypeimports resulting static imports resultingstaticimports collect ast node astnode node i java project ijavaproject project region range limit rangelimit skip method bodies skipmethodbodies collection simple name simplename resulting type imports resultingtypeimports collection simple name simplename resulting static imports resultingstaticimports ast node astnode root node get root getroot compilation unit compilationunit ast root astroot root compilation unit compilationunit compilation unit compilationunit root node accept import references collector importreferencescollector project ast root astroot range limit rangelimit skip method bodies skipmethodbodies resulting type imports resultingtypeimports resulting static imports resultingstaticimports compilation unit compilationunit fastroot region f sub range fsubrange collection simple name simplename f type imports ftypeimports collection simple name simplename f static imports fstaticimports f skip method bodies fskipmethodbodies import references collector importreferencescollector i java project ijavaproject project compilation unit compilationunit ast root astroot region range limit rangelimit skip method bodies skipmethodbodies collection simple name simplename resulting type imports resultingtypeimports collection simple name simplename resulting static imports resultingstaticimports process javadoc comments processjavadoccomments ast root astroot f type imports ftypeimports resulting type imports resultingtypeimports f static imports fstaticimports resulting static imports resultingstaticimports f sub range fsubrange range limit rangelimit project java model util javamodelutil or higher orhigher project collect f static imports fstaticimports fastroot ast root astroot f skip method bodies fskipmethodbodies skip method bodies skipmethodbodies process javadoc comments processjavadoccomments compilation unit compilationunit ast root astroot don visit javadoc info bug ast root astroot ast root astroot get type root gettyperoot java model util javamodelutil info java equals ast root astroot get type root gettyperoot get element name getelementname is affected isaffected ast node astnode node f sub range fsubrange node start nodestart node get start position getstartposition offset f sub range fsubrange get offset getoffset node start nodestart node get length getlength offset offset f sub range fsubrange get length getlength node start nodestart add reference addreference simple name simplename is affected isaffected f type imports ftypeimports add type ref found typereffound node node node is qualified name isqualifiedname node qualified name qualifiedname node get qualifier getqualifier add reference addreference simple name simplename node possible type ref found possibletypereffound node node is qualified name isqualifiedname node qualified name qualifiedname node get qualifier getqualifier i binding ibinding binding node resolve binding resolvebinding binding binding get kind getkind i binding ibinding type binding determine type binding assume add reference addreference simple name simplename node possible static import found possiblestaticimportfound f static imports fstaticimports fastroot is qualified name isqualifiedname qualified name qualifiedname get qualifier getqualifier is affected isaffected i binding ibinding binding resolve binding resolvebinding simple name simplename simple name simplename simple name simplename binding unresolvable reference member f static imports fstaticimports add simple name simplename binding i type binding itypebinding modifier is static isstatic binding get modifiers getmodifiers simple name simplename is declaration isdeclaration binding i variable binding ivariablebinding i variable binding ivariablebinding var binding varbinding i variable binding ivariablebinding binding var binding varbinding is field isfield var binding varbinding var binding varbinding get variable declaration getvariabledeclaration i type binding itypebinding declaring class declaringclass var binding varbinding get declaring class getdeclaringclass declaring class declaringclass declaring class declaringclass is local islocal scope analyzer scopeanalyzer fastroot is declared in scope isdeclaredinscope var binding varbinding simple name simplename scope analyzer scopeanalyzer variables scope analyzer scopeanalyzer check visibility f static imports fstaticimports add simple name simplename binding i method binding imethodbinding i method binding imethodbinding method binding methodbinding i method binding imethodbinding binding get method declaration getmethoddeclaration i type binding itypebinding declaring class declaringclass method binding methodbinding get declaring class getdeclaringclass declaring class declaringclass declaring class declaringclass is local islocal scope analyzer scopeanalyzer fastroot is declared in scope isdeclaredinscope method binding methodbinding simple name simplename scope analyzer scopeanalyzer methods scope analyzer scopeanalyzer check visibility f static imports fstaticimports add simple name simplename do visit children dovisitchildren list ast node astnode elements n elements nelements elements size n elements nelements ast node astnode elements accept do visit node dovisitnode ast node astnode node node node accept override visit node visitnode ast node astnode node is affected isaffected node ast visitor astvisitor visit simple type simpletype override visit simple type simpletype node type ref found typereffound node get name getname visit annotations visitannotations node ast visitor astvisitor visit name qualified type namequalifiedtype override visit name qualified type namequalifiedtype node possible type ref found possibletypereffound node get qualifier getqualifier visit annotations visitannotations node ast visitor astvisitor visit qualified type qualifiedtype override visit qualified type qualifiedtype node do visit node dovisitnode node get qualifier getqualifier visit annotations visitannotations node visit annotations visitannotations annot atable type annotatabletype node node getast api level apilevel ast jls do visit children dovisitchildren node annotations ast visitor astvisitor visit qualified name qualifiedname override visit qualified name qualifiedname node possible type ref found possibletypereffound node possible static import found possiblestaticimportfound node ast visitor astvisitor visit import declaration importdeclaration override visit import declaration importdeclaration node ast visitor astvisitor visit package declaration packagedeclaration override visit package declaration packagedeclaration node do visit node dovisitnode node get javadoc getjavadoc do visit children dovisitchildren node annotations override visit labeled statement labeledstatement node do visit node dovisitnode node get body getbody override visit continue statement continuestatement node override visit break statement breakstatement node ast visitor astvisitor visit this expression thisexpression override visit this expression thisexpression node type ref found typereffound node get qualifier getqualifier override visit super field access superfieldaccess node type ref found typereffound node get qualifier getqualifier eval qualifying expression evalqualifyingexpression expression expr selector expr expr expr possible type ref found possibletypereffound possible static import found possiblestaticimportfound expr accept selector possible static import found possiblestaticimportfound selector ast visitor astvisitor visit class instance creation classinstancecreation override visit class instance creation classinstancecreation node do visit children dovisitchildren node type arguments typearguments do visit node dovisitnode node get type gettype eval qualifying expression evalqualifyingexpression node get expression getexpression node get anonymous class declaration getanonymousclassdeclaration node get anonymous class declaration getanonymousclassdeclaration accept do visit children dovisitchildren node arguments ast visitor astvisitor end visit endvisit method invocation methodinvocation override visit method invocation methodinvocation node eval qualifying expression evalqualifyingexpression node get expression getexpression node get name getname do visit children dovisitchildren node type arguments typearguments do visit children dovisitchildren node arguments override visit creation reference creationreference node do visit node dovisitnode node get type gettype do visit children dovisitchildren node type arguments typearguments override visit expression method reference expressionmethodreference node eval qualifying expression evalqualifyingexpression node get expression getexpression node get name getname do visit children dovisitchildren node type arguments typearguments override visit super method reference supermethodreference node do visit node dovisitnode node get qualifier getqualifier do visit children dovisitchildren node type arguments typearguments override visit type method reference typemethodreference node do visit node dovisitnode node get type gettype do visit children dovisitchildren node type arguments typearguments ast visitor astvisitor visit super constructor invocation superconstructorinvocation override visit super constructor invocation superconstructorinvocation node is affected isaffected node eval qualifying expression evalqualifyingexpression node get expression getexpression do visit children dovisitchildren node type arguments typearguments do visit children dovisitchildren node arguments ast visitor astvisitor visit field access fieldaccess override visit field access fieldaccess node eval qualifying expression evalqualifyingexpression node get expression getexpression node get name getname ast visitor astvisitor visit simple name simplename override visit simple name simplename node call variable reference possible static import found possiblestaticimportfound node override visit marker annotation markerannotation node type ref found typereffound node get type name gettypename override visit normal annotation normalannotation node type ref found typereffound node get type name gettypename do visit children dovisitchildren node values override visit single member annotation singlememberannotation node type ref found typereffound node get type name gettypename do visit node dovisitnode node get value getvalue ast visitor astvisitor visit type declaration typedeclaration override visit type declaration typedeclaration node is affected isaffected node ast visitor astvisitor visit method declaration methoddeclaration override visit method declaration methoddeclaration node is affected isaffected node do visit node dovisitnode node get javadoc getjavadoc do visit children dovisitchildren node modifiers do visit children dovisitchildren node type parameters typeparameters node is constructor isconstructor do visit node dovisitnode node get return type getreturntype visited api level apilevel node getast api level apilevel api level apilevel ast jls do visit node dovisitnode node get receiver type getreceivertype receiver qualifier receiverqualifier visited enclosing names shadowed qualification redundant do visit children dovisitchildren node parameters api level apilevel ast jls do visit children dovisitchildren node extra dimensions extradimensions do visit children dovisitchildren node thrown exception types thrownexceptiontypes iterator iter get thrown exceptions getthrownexceptions node iterator iter has next hasnext type ref found typereffound iter f skip method bodies fskipmethodbodies do visit node dovisitnode node get body getbody param decl method declaration thrown exception names deprecated avoid deprecation warnings deprecated list get thrown exceptions getthrownexceptions method declaration methoddeclaration decl decl thrown exceptions thrownexceptions override visit tag element tagelement node string tag name tagname node get tag name gettagname list ast node astnode list node fragments idx tag name tagname list is empty isempty object list nls nls equals tag name tagname exception equals tag name tagname type ref found typereffound nls nls nls equals tag name tagname link equals tag name tagname link plain linkplain equals tag name tagname possible type ref found possibletypereffound idx idx list size do visit node dovisitnode list override visit member ref memberref node qualifier node get qualifier getqualifier qualifier type ref found typereffound qualifier override visit method ref methodref node qualifier node get qualifier getqualifier qualifier type ref found typereffound qualifier list method ref parameter methodrefparameter list node parameters list visit method ref parameter methodrefparameter type do visit children dovisitchildren list override visit method ref parameter methodrefparameter node do visit node dovisitnode node get type gettype
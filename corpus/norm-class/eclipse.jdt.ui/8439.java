copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring java util array list arraylist java util collection java util collections java util hash map hashmap java util hash set hashset java util iterator java util linked list linkedlist java util list java util map java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status entry refactoringstatusentry org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search search engine searchengine org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt core search search requestor searchrequestor org eclipse jdt internal corext util messages org eclipse jdt internal corext util search utils searchutils org eclipse jdt internal viewsupport basic element labels basicelementlabels helper search engine ref actorings refactorings todo inefficient sets lists creates use less useless int ermediate intermediate collect ions collections dest roys destroys loc ality locality multiple passes result sets processing pipeline users modify search matches generates boilerplate error messages configure refactoring search engine refactoringsearchengine implementation search requestor default search requestor defaultsearchrequestor i refactoring search requestor irefactoringsearchrequestor override search match searchmatch accept search match acceptsearchmatch search match searchmatch match match search requestor collects compilation units refactoring compilation unit collector refactoringcompilationunitcollector refactoring search collector refactoringsearchcollector collected compilation units i compilation unit icompilationunit f collected units fcollectedunits hash set hashset inaccurate matches search match searchmatch f inaccurate matches finaccuratematches hash set hashset override accept search match acceptsearchmatch search match searchmatch match core exception coreexception search match searchmatch accepted f requestor frequestor accept search match acceptsearchmatch match accepted i resource iresource resource accepted get resource getresource resource equals f last resource flastresource i java element ijavaelement element java core javacore create resource element i compilation unit icompilationunit f collected units fcollectedunits add i compilation unit icompilationunit element f inaccurate finaccurate accepted get acc uracy getaccuracy search match searchmatch inaccurate f inaccurate matches finaccuratematches accepted f status fstatus add entry addentry f severity fseverity messages format refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine inaccurate match basic element labels basicelementlabels get resource name getresourcename accepted get resource getresource refactoring status entry refactoringstatusentry code f inaccurate matches finaccuratematches add accepted override clear results clearresults clear results clearresults f collected units fcollectedunits clear f inaccurate matches finaccuratematches clear override collection i resource iresource get binary resources getbinaryresources collections empty set emptyset override collection i compilation unit icompilationunit get collected matches getcollectedmatches f collected units fcollectedunits override collection search match searchmatch get inaccurate matches getinaccuratematches f inaccurate matches finaccuratematches refactoring search collector refactoringsearchcollector search requestor searchrequestor i resource iresource f last resource flastresource clear results clearresults f last resource flastresource collection i resource iresource get binary resources getbinaryresources collection get collected matches getcollectedmatches collection search match searchmatch get inaccurate matches getinaccuratematches search requestor collects search match refactoring search match collector refactoringsearchmatchcollector refactoring search collector refactoringsearchcollector binary resources i resource iresource f binary resources fbinaryresources hash set hashset collected matches list search match searchmatch f collected matches fcollectedmatches array list arraylist search match searchmatch f inaccurate matches finaccuratematches hash set hashset override accept search match acceptsearchmatch search match searchmatch match core exception coreexception search match searchmatch accepted f requestor frequestor accept search match acceptsearchmatch match accepted f collected matches fcollectedmatches add accepted i resource iresource resource accepted get resource getresource resource equals f last resource flastresource f binary fbinary i java element ijavaelement element java core javacore create resource element i compilation unit icompilationunit i project iproject project resource get project getproject f grouping fgrouping f status fstatus add entry addentry f severity fseverity messages format refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine binary match ungrouped basic element labels basicelementlabels get resource name getresourcename project refactoring status entry refactoringstatusentry code f binary resources fbinaryresources resource f status fstatus add entry addentry f severity fseverity messages format refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine binary match grouped basic element labels basicelementlabels get resource name getresourcename project refactoring status entry refactoringstatusentry code f binary resources fbinaryresources add resource f inaccurate finaccurate accepted get acc uracy getaccuracy search match searchmatch inaccurate f inaccurate matches finaccuratematches accepted f status fstatus add entry addentry f severity fseverity messages format refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine inaccurate match basic element labels basicelementlabels get resource name getresourcename resource refactoring status entry refactoringstatusentry code f inaccurate matches finaccuratematches add accepted override clear results clearresults clear results clearresults f collected matches fcollectedmatches clear f inaccurate matches finaccuratematches clear f binary resources fbinaryresources clear override collection i resource iresource get binary resources getbinaryresources f binary resources fbinaryresources override collection search match searchmatch get collected matches getcollectedmatches f collected matches fcollectedmatches override collection search match searchmatch get inaccurate matches getinaccuratematches f inaccurate matches finaccuratematches compilation unit granularity granularity compilation unit search match granularity granularity search match binary matches filtered f binary fbinary refactoring search collector refactoring search collector refactoringsearchcollector f collector fcollector search granularity f granularity fgranularity granularity search match matches grouped resource f grouping fgrouping inaccurate matches filtered f inaccurate finaccurate working copy owner code code working copy owner workingcopyowner f owner fowner search pattern code code search pattern searchpattern f pattern fpattern search requestor i refactoring search requestor irefactoringsearchrequestor f requestor frequestor default search requestor defaultsearchrequestor search scope i java search scope ijavasearchscope f scope fscope search engine searchengine create workspace scope createworkspacescope severity f severity fseverity refactoring status refactoringstatus warning search status refactoring status refactoringstatus f status fstatus refactoring status refactoringstatus working copies i compilation unit icompilationunit f working copies fworkingcopies creates refactoring search engine refactoring search engine refactoringsearchengine creates refactoring search engine param pattern search pattern refactoring search engine refactoringsearchengine search pattern searchpattern pattern is not null isnotnull pattern f pattern fpattern pattern clears sets res ets resets status link refactoring status refactoringstatus clear results clearresults get collector getcollector clear results clearresults f status fstatus refactoring status refactoringstatus returns compilation units previous search queries order retrieve compilation units grouping resource enabled searching compilation units previous queries i compilation unit icompilationunit get affected compilation units getaffectedcompilationunits f granularity fgranularity granularity compilation unit collection collection get collector getcollector get collected matches getcollectedmatches i compilation unit icompilationunit units i compilation unit icompilationunit collection size iterator iterator collection iterator iterator has next hasnext units i compilation unit icompilationunit iterator units search result group searchresultgroup groups get grouped matches getgroupedmatches i compilation unit icompilationunit units i compilation unit icompilationunit groups length groups length units groups get compilation unit getcompilationunit units returns java projects previous search queries order retrieve java projects grouping resource enabled searching java projects previous queries element type code i java project ijavaproject collection search result group searchresultgroup code granularity link granularity search match code i java project ijavaproject collection i compilation unit icompilationunit code link granularity compilation unit map i java project ijavaproject get affected projects getaffectedprojects i java project ijavaproject project i compilation unit icompilationunit unit f granularity fgranularity granularity compilation unit map i java project ijavaproject i compilation unit icompilationunit map hash map hashmap i compilation unit icompilationunit units get affected compilation units getaffectedcompilationunits units length unit units project unit get java project getjavaproject project i compilation unit icompilationunit map project hash set hashset map project add unit map map i java project ijavaproject search result group searchresultgroup map hash map hashmap search result group searchresultgroup groups get grouped matches getgroupedmatches search result group searchresultgroup group groups length group groups unit group get compilation unit getcompilationunit unit project unit get java project getjavaproject project search result group searchresultgroup map project hash set hashset map project add group map returns refactoring search collector refactoring search collector refactoring search collector refactoringsearchcollector get collector getcollector f collector fcollector f granularity fgranularity granularity compilation unit f collector fcollector refactoring compilation unit collector refactoringcompilationunitcollector f granularity fgranularity granularity search match f collector fcollector refactoring search match collector refactoringsearchmatchcollector is true istrue f collector fcollector returns search matches grouped resource search matches search result group searchresultgroup get grouped matches getgroupedmatches map i resource iresource list search match searchmatch grouped hash map hashmap list search match searchmatch matches i resource iresource resource search match searchmatch match iterator iterator get search matches getsearchmatches iterator iterator has next hasnext match search match searchmatch iterator resource match get resource getresource grouped contains key containskey resource grouped resource array list arraylist search match searchmatch matches grouped resource matches add match f binary fbinary collection i resource iresource collection get collector getcollector get binary resources getbinaryresources iterator i resource iresource iterator grouped key set keyset iterator iterator has next hasnext resource iterator collection resource iterator remove search result group searchresultgroup result search result group searchresultgroup grouped key set keyset size iterator i resource iresource iterator grouped key set keyset iterator iterator has next hasnext resource iterator matches grouped resource result search result group searchresultgroup resource matches to array toarray search match searchmatch matches size result returns search pattern searching search pattern search pattern searchpattern get pattern getpattern f pattern fpattern returns previous search queries result depends conditions search granularity link granularity compilation unit elements type link i compilation unit icompilationunit grouping resource enabled elements type link search result group searchresultgroup elements type link search match searchmatch previous queries object get results getresults f granularity fgranularity granularity compilation unit get affected compilation units getaffectedcompilationunits f grouping fgrouping get grouped matches getgroupedmatches get ungrouped matches getungroupedmatches returns search matches filtered accuracy filtered search matches collection get search matches getsearchmatches collection f inaccurate finaccurate linked list linkedlist get collector getcollector get collected matches getcollectedmatches collection search match searchmatch collection get collector getcollector get inaccurate matches getinaccuratematches search match searchmatch match iterator iterator iterator iterator has next hasnext match search match searchmatch iterator collection match iterator remove get collector getcollector get collected matches getcollectedmatches returns refactoring status search engine refactoring status refactoring status refactoringstatus get status getstatus f status fstatus returns search matches order search matches search match searchmatch get ungrouped matches getungroupedmatches collection f binary fbinary linked list linkedlist get search matches getsearchmatches collection i resource iresource collection get collector getcollector get binary resources getbinaryresources search match searchmatch match iterator iterator iterator iterator has next hasnext match search match searchmatch iterator collection match get resource getresource iterator remove get search matches getsearchmatches search match searchmatch matches search match searchmatch size to array toarray matches matches performs search pattern param monitor progress monitor code code java model exception javamodelexception error occurs search search pattern searchpattern i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull f pattern fpattern monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine searching occurrences search engine searchengine engine f owner fowner engine search engine searchengine f owner fowner engine search engine searchengine f working copies fworkingcopies engine search f pattern fpattern search utils searchutils get default search participants getdefaultsearchparticipants f scope fscope get collector getcollector sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception exception java model exception javamodelexception exception monitor performs search referenced fields param element java element referenced fields param monitor progress monitor code code java model exception javamodelexception error occurs search search referenced fields searchreferencedfields i java element ijavaelement element i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull element monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine searching referenced fields search engine searchengine engine f owner fowner engine search engine searchengine f owner fowner engine search engine searchengine f working copies fworkingcopies engine search declarations of accessed fields searchdeclarationsofaccessedfields element get collector getcollector sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception exception java model exception javamodelexception exception monitor performs search referenced methods param element java element referenced methods param monitor progress monitor code code java model exception javamodelexception error occurs search search referenced methods searchreferencedmethods i java element ijavaelement element i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull element monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine searching referenced methods search engine searchengine engine f owner fowner engine search engine searchengine f owner fowner engine search engine searchengine f working copies fworkingcopies engine search declarations of sent messages searchdeclarationsofsentmessages element get collector getcollector sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception exception java model exception javamodelexception exception monitor performs search referenced types param element java element referenced types param monitor progress monitor code code java model exception javamodelexception error occurs search search referenced types searchreferencedtypes i java element ijavaelement element i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull element monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages refactoring search engine refactoringsearchengine searching referenced types search engine searchengine engine f owner fowner engine search engine searchengine f owner fowner engine search engine searchengine f working copies fworkingcopies engine search declarations of referenced types searchdeclarationsofreferencedtypes element get collector getcollector sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception exception java model exception javamodelexception exception monitor determines search matches filtered method called start searching filter inaccurate matches param inaccurate code code filter inaccurate matches code code param binary code code filter binary matches code code set filtering setfiltering inaccurate binary f inaccurate finaccurate inaccurate f binary fbinary binary sets granularity searches method called start searching granularity link granularity search match param granularity granularity code granularity xxx code constants set granularity setgranularity granularity is true istrue granularity granularity compilation unit granularity granularity search match f granularity fgranularity granularity sets working copies precedence searches method called start searching working copies param copies working copies set working copies setworkingcopies i compilation unit icompilationunit copies is not null isnotnull copies f working copies fworkingcopies i compilation unit icompilationunit copies length system arraycopy copies f working copies fworkingcopies copies length determines search matches grouped method called start searching group resource param grouping code code group matches resource code code set grouping setgrouping grouping f grouping fgrouping grouping sets disjunction search patterns search method called link refactoring search engine refactoringsearchengine search pattern searchpattern i progress monitor iprogressmonitor param search pattern param search pattern set or pattern setorpattern search pattern searchpattern search pattern searchpattern is not null isnotnull is not null isnotnull f pattern fpattern search pattern searchpattern create or pattern createorpattern sets working copy owner search method called start searching working copy owner param owner working copy owner code code set owner setowner working copy owner workingcopyowner owner f owner fowner owner sets search pattern search method called link refactoring search engine refactoringsearchengine search pattern searchpattern i progress monitor iprogressmonitor param elements elements param limit to limitto determines nature expected matches combination link org eclipse jdt core search i java search constants ijavasearchconstants set pattern setpattern i java element ijavaelement elements limit to limitto is not null isnotnull elements is true istrue elements length search pattern searchpattern pattern search pattern searchpattern create pattern createpattern elements limit to limitto search utils searchutils generics agnostic match rule i java element ijavaelement element elements length element elements pattern search pattern searchpattern create or pattern createorpattern pattern search pattern searchpattern create pattern createpattern element limit to limitto search utils searchutils generics agnostic match rule set pattern setpattern pattern sets search pattern search method called link refactoring search engine refactoringsearchengine search pattern searchpattern i progress monitor iprogressmonitor param pattern search pattern set pattern setpattern search pattern searchpattern pattern is not null isnotnull pattern f pattern fpattern pattern sets search requestor search engine method called start searching filtering search requestor param requestor search requestor set requestor setrequestor i refactoring search requestor irefactoringsearchrequestor requestor is not null isnotnull requestor f requestor frequestor requestor sets search scope search engine method called start searching entire workspace search scope param scope search scope set scope setscope i java search scope ijavasearchscope scope is not null isnotnull scope f scope fscope scope sets severity generated status entries method called start searching severity link refactoring status refactoringstatus param severity severity set severity setseverity severity is true istrue severity refactoring status refactoringstatus warning severity refactoring status refactoringstatus info severity refactoring status refactoringstatus fatal severity refactoring status refactoringstatus error f severity fseverity severity sets refactoring status search engine method called start searching empty status status link refactoring status refactoringstatus param status refactoring status set status setstatus refactoring status refactoringstatus status is not null isnotnull status f status fstatus status
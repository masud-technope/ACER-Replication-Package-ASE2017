copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text java util hash map hashmap java util iterator java util map org eclipse swt swt org eclipse swt custom verify key listener verifykeylistener org eclipse swt events verify event verifyevent org eclipse swt graphics point org eclipse core runtime org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits text edit textedit org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text i text viewer itextviewer org eclipse jface text i text viewer extension itextviewerextension org eclipse jface text text viewer textviewer org eclipse jdt internal text typing run typingrun change type changetype installs verify key listener viewer over writes overwrites behavior backspace key clients register undo specifications offsets document code smart backspace manager smartbackspacemanager code manage specifications execute contained code text edit textedit code backspace pressed offset specification valid undo specifications removed number typing runs smart backspace manager smartbackspacemanager undo specification describes change executed backspace pressed trigger offset undo spec undospec trigger offset triggeroffset i region iregion selection text edit textedit undo edits undoedits undo spec undospec child lives creates spec specification consists number code text edit textedit code executed backspace pressed code trigger offset triggeroffset code spec removed executed code lives code code typing run typingrun code ended registering spec option ally optionally child specification registered executing spec child spec registered manager create chains code undo spec undospec code executed repeated pressing backspace param trigger offset triggeroffset offset spec active param selection selection executing undo spec param edits code text edit textedit code perform executing spec param lives number code typing run typingrun code removing spec param child child specification registered executing spec code code undo spec undospec trigger offset triggeroffset i region iregion selection text edit textedit edits lives undo spec undospec child is legal islegal trigger offset triggeroffset is legal islegal selection is legal islegal lives is legal islegal edits is legal islegal edits length edits length is legal islegal edits trigger offset triggeroffset trigger offset triggeroffset selection selection undo edits undoedits edits lives lives child child backspace listener backspacelistener verify key listener verifykeylistener org eclipse swt custom verify key listener verifykeylistener verify key verifykey org eclipse swt events verify event verifyevent override verify key verifykey verify event verifyevent event f viewer fviewer is backspace isbackspace event offset get c are t offset getcaretoffset undo spec undospec spec remove edit removeedit offset spec begin change beginchange spec undo edits undoedits length spec undo edits undoedits apply get document getdocument text edit textedit update regions f viewer fviewer set selected range setselectedrange spec selection get offset getoffset spec selection get length getlength spec child register spec child malformed tree exception malformedtreeexception bad location exception badlocationexception end change endchange event doit begin change beginchange i text viewer itextviewer viewer f viewer fviewer viewer text viewer textviewer text viewer textviewer text viewer textviewer viewer get rewrite target getrewritetarget begin compound change begincompoundchange end change endchange i text viewer itextviewer viewer f viewer fviewer viewer text viewer textviewer text viewer textviewer text viewer textviewer viewer get rewrite target getrewritetarget end compound change endcompoundchange is backspace isbackspace verify event verifyevent event event doit event character swt event state mask statemask get c are t offset getcaretoffset i text viewer itextviewer viewer f viewer fviewer point point viewer get selected range getselectedrange point i text viewer itextviewer f viewer fviewer backspace listener backspacelistener f backspace listener fbackspacelistener map integer undo spec undospec f specs fspecs typing run detector typingrundetector f run detector frundetector i typing run listener itypingrunlistener f run listener frunlistener registers undo specification manager param spec specification register illegal state exception illegalstateexception manager installed register undo spec undospec spec f viewer fviewer illegal state exception illegalstateexception ensure listener installed ensurelistenerinstalled add edit addedit spec add edit addedit undo spec undospec spec integer integer spec trigger offset triggeroffset f specs fspecs spec undo spec undospec remove edit removeedit offset integer integer offset undo spec undospec spec f specs fspecs remove spec ensure listener installed ensurelistenerinstalled f backspace listener fbackspacelistener f backspace listener fbackspacelistener backspace listener backspacelistener i text viewer itextviewer viewer f viewer fviewer viewer i text viewer extension itextviewerextension i text viewer extension itextviewerextension viewer prepend verify key listener prependverifykeylistener f backspace listener fbackspacelistener viewer get text widget gettextwidget add verify key listener addverifykeylistener f backspace listener fbackspacelistener ensure listener removed ensurelistenerremoved f backspace listener fbackspacelistener i text viewer itextviewer viewer f viewer fviewer viewer i text viewer extension itextviewerextension i text viewer extension itextviewerextension viewer remove verify key listener removeverifykeylistener f backspace listener fbackspacelistener viewer get text widget gettextwidget remove verify key listener removeverifykeylistener f backspace listener fbackspacelistener f backspace listener fbackspacelistener i document idocument get document getdocument f viewer fviewer get document getdocument installs receiver text viewer param viewer text viewer install i text viewer itextviewer viewer is legal islegal viewer f viewer fviewer viewer f specs fspecs hash map hashmap f run detector frundetector typing run detector typingrundetector f run detector frundetector install viewer f run listener frunlistener i typing run listener itypingrunlistener org eclipse jface text typing run detector typingrundetector i typing run listener itypingrunlistener typing run started typingrunstarted org eclipse jface text typing run detector typingrundetector typing run typingrun override typing run started typingrunstarted typing run typingrun org eclipse jface text typing run detector typingrundetector i typing run listener itypingrunlistener typing run ended typingrunended org eclipse jface text typing run detector typingrundetector typing run typingrun override typing run ended typingrunended typing run typingrun change type changetype reason reason typing run typingrun selection f specs fspecs clear prune f run detector frundetector add typing run listener addtypingrunlistener f run listener frunlistener prune iterator undo spec undospec f specs fspecs values iterator has next hasnext undo spec undospec spec spec lives remove uninstalls receiver undo specifications registered uninstalled manager uninstall f viewer fviewer f run detector frundetector remove typing run listener removetypingrunlistener f run listener frunlistener f run detector frundetector uninstall f run detector frundetector ensure listener removed ensurelistenerremoved f viewer fviewer
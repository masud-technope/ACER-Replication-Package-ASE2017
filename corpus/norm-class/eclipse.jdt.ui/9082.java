copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring nls java io exception ioexception java input stream inputstream org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core resources i file ifile org eclipse jdt core i java model status constants ijavamodelstatusconstants org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring nls nls util nlsutil create text file change createtextfilechange create file change createfilechange string f text type ftexttype create text file change createtextfilechange i path ipath path string source string encoding string text type texttype path source encoding f text type ftexttype text type texttype string get text type gettexttype f text type ftexttype string get current content getcurrentcontent java model exception javamodelexception i file ifile file get old file getoldfile null progress monitor nullprogressmonitor file exists nls input stream inputstream stream stream file get contents getcontents string encoding file get charset getcharset string nls util nlsutil read string readstring stream encoding nls core exception coreexception java model exception javamodelexception i java model status constants ijavamodelstatusconstants core exception stream stream close io exception ioexception string get preview getpreview get source getsource
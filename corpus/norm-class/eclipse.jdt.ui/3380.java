copyright mateusz matela rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mateusz matela mateusz matela gmail code manipulation dcr to string tostring builder wizard https bugs eclipse org bugs bug cgi mateusz matela mateusz matela gmail to string tostring finish to string tostring builder wizard https bugs eclipse org bugs bug cgi org eclipse jdt internal corext code manipulation codemanipulation tostringgeneration java util arrays java util hash map hashmap java util iterator java util list java util map java util org eclipse core runtime core exception coreexception org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core flags org eclipse jdt core i java project ijavaproject org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt core naming conventions namingconventions org eclipse jdt core dom ast node astnode org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom expression org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom if statement ifstatement org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom string literal stringliteral org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt internal corext code manipulation codemanipulation code generation messages codegenerationmessages org eclipse jdt internal corext util java model util javamodelutil implementation code abstract to string generator abstracttostringgenerator code creates code to string tostring code method external library library supply string builder f ulfills fulfills requirements constructor single object methods app ending appending objects methods code append code version takes single object object string order methods builder object generator call chains result method code to string tostring code method takes arguments returns string generated methods pre string to string tostring external builder externalbuilder builder external builder externalbuilder builder append quot field quot field builder append quot field quot field builder to string tostring pre custom builder generator custombuildergenerator abstract to string generator abstracttostringgenerator nls nls nls nls nls nls nls nls list string primitive types primitivetypes arrays as list aslist string string wrapper types wrappertypes string nls nls nls nls nls nls nls java lang nls nls nls nls nls nls nls java lang nls nls nls nls nls nls nls java lang character nls nls nls nls nls nls nls java lang integer nls nls nls nls nls nls nls java lang nls nls nls nls nls nls nls java lang nls nls nls nls nls nls nls java lang nls java lang expression created link create append method for member createappendmethodformember object returns builder type chain calls can chain last append call canchainlastappendcall storing versions append method builder member types append method information appendmethodinformation type method resp ect respect parameter types values method takes type parameter method takes type parameter string method takes string type parameter method type methodtype method returns builder object form chains calls returns builder returnsbuilder versions append method builder type key string fully qualified member type link append method information appendmethodinformation method hash map hashmap string append method information appendmethodinformation append method specific types appendmethodspecifictypes hash map hashmap override refactoring status refactoringstatus check conditions checkconditions refactoring status refactoringstatus status check conditions checkconditions f context fcontext is custom array iscustomarray f context fcontext is limit items islimititems status add warning addwarning code generation messages codegenerationmessages generate to string operation generatetostringoperation warning arrays collect ions collections style status override add element addelement object element override initialize initialize fill append methods map fillappendmethodsmap tidy appends methods map tidyappendsmethodsmap override method declaration methoddeclaration generate to string method generatetostringmethod core exception coreexception initialize to string builder tostringbuilder builder to string builder tostringbuilder string builder variable name buildervariablename create name suggestion createnamesuggestion get context getcontext get custom builder variable name getcustombuildervariablename naming conventions namingconventions local variable declaration fragment variabledeclarationfragment fragment f ast fast new variable declaration fragment newvariabledeclarationfragment fragment set name setname f ast fast new simple name newsimplename builder variable name buildervariablename class instance creation classinstancecreation class instance classinstance f ast fast new class instance creation newclassinstancecreation type name typename add import addimport get context getcontext get custom builder class getcustombuilderclass class instance classinstance set type settype f ast fast new simple type newsimpletype type name typename class instance classinstance arguments add f ast fast new this expression newthisexpression fragment set initializer setinitializer class instance classinstance variable declaration statement variabledeclarationstatement v statement vstatement f ast fast new variable declaration statement newvariabledeclarationstatement fragment v statement vstatement set type settype f ast fast new simple type newsimpletype ast node astnode copy subtree copysubtree f ast fast type name typename to string method tostringmethod get body getbody statements add v statement vstatement expression accumulating chained calls expression expression get context getcontext get selected members getselectedmembers length builder append member member method invocation methodinvocation append invocation appendinvocation create append method for member createappendmethodformember get context getcontext get selected members getselectedmembers get context getcontext is skip nulls isskipnulls get member type getmembertype get context getcontext get selected members getselectedmembers is primitive isprimitive expression to string method tostringmethod get body getbody statements add f ast fast new expression statement newexpressionstatement expression expression append invocation appendinvocation set expression setexpression f ast fast new simple name newsimplename builder variable name buildervariablename if statement ifstatement if statement ifstatement f ast fast new if statement newifstatement if statement ifstatement set expression setexpression create infix expression createinfixexpression create member access expression creatememberaccessexpression get context getcontext get selected members getselectedmembers equals f ast fast new null literal newnullliteral if statement ifstatement set then statement setthenstatement create one statement block createonestatementblock append invocation appendinvocation to string method tostringmethod get body getbody statements add if statement ifstatement expression append invocation appendinvocation set expression setexpression expression append invocation appendinvocation set expression setexpression f ast fast new simple name newsimplename builder variable name buildervariablename get context getcontext is custom builder chained calls iscustombuilderchainedcalls can chain last append call canchainlastappendcall expression append invocation appendinvocation expression to string method tostringmethod get body getbody statements add f ast fast new expression statement newexpressionstatement append invocation appendinvocation expression to string method tostringmethod get body getbody statements add f ast fast new expression statement newexpressionstatement expression builder to string tostring return statement returnstatement r statement rstatement f ast fast new return statement newreturnstatement r statement rstatement set expression setexpression create method invocation createmethodinvocation builder variable name buildervariablename get context getcontext get custom builder result method getcustombuilderresultmethod to string method tostringmethod get body getbody statements add r statement rstatement complete to string method tostringmethod searches methods proper argument type remembers option fill append methods map fillappendmethodsmap i java project ijavaproject java project javaproject get context getcontext get type binding gettypebinding get java element getjavaelement get java project getjavaproject i type itype type java project javaproject find type findtype get context getcontext get custom builder class getcustombuilderclass i type itype types type new supertype hierarchy newsupertypehierarchy get all classes getallclasses types length i method imethod methods types get methods getmethods methods length flags is public ispublic methods get flags getflags methods get element name getelementname equals get context getcontext get custom builder append method getcustombuilderappendmethod string parameter types parametertypes methods get parameter types getparametertypes append method information appendmethodinformation append method information appendmethodinformation append method information appendmethodinformation string spec yfic type specyfictype parameter types parametertypes length spec yfic type specyfictype java model util javamodelutil get resolved type name getresolvedtypename parameter types parametertypes types append method information appendmethodinformation method type methodtype parameter types parametertypes length string resolved parameter type name resolvedparametertypename java model util javamodelutil get resolved type name getresolvedtypename parameter types parametertypes types string resolved parameter type name resolvedparametertypename java model util javamodelutil get resolved type name getresolvedtypename parameter types parametertypes types nls resolved parameter type name resolvedparametertypename equals nls java lang string spec yfic type specyfictype resolved parameter type name resolvedparametertypename append method information appendmethodinformation method type methodtype nls resolved parameter type name resolvedparametertypename equals nls java lang string spec yfic type specyfictype resolved parameter type name resolvedparametertypename append method information appendmethodinformation method type methodtype string return type name returntypename java model util javamodelutil get resolved type name getresolvedtypename methods get return type getreturntype types i type itype return type returntype java project javaproject find type findtype return type name returntypename append method information appendmethodinformation returns builder returnsbuilder return type returntype return type returntype new supertype hierarchy newsupertypehierarchy type append method information appendmethodinformation oldami append method specific types appendmethodspecifictypes spec yfic type specyfictype oldami oldami method type methodtype append method information appendmethodinformation method type methodtype append method specific types appendmethodspecifictypes spec yfic type specyfictype append method information appendmethodinformation java model exception javamodelexception runtime exception runtimeexception could n couldn initialize custom to string tostring builder generator removes types link append method specific types appendmethodspecifictypes parameters type parameterstype worse java lang object tidy appends methods map tidyappendsmethodsmap nls object parameters type objectparameterstype append method specific types appendmethodspecifictypes java lang object method type methodtype map entry string append method information appendmethodinformation entry set entryset append method specific types appendmethodspecifictypes entry set entryset iterator map entry string append method information appendmethodinformation iterator entry set entryset iterator iterator has next hasnext map entry string append method information appendmethodinformation entry iterator entry get value getvalue method type methodtype object parameters type objectparameterstype iterator remove method invocation methodinvocation create append method for member createappendmethodformember object member i type binding itypebinding member type membertype get member type getmembertype member string member type name membertypename member type membertype get qualified name getqualifiedname expression member access expression memberaccessexpression append method information appendmethodinformation ami append method specific types appendmethodspecifictypes member type name membertypename ami member type membertype is primitive isprimitive member type name membertypename wrapper types wrappertypes primitive types primitivetypes index of indexof member type name membertypename member type membertype f ast fast resolve well known type resolvewellknowntype member type name membertypename ami append method specific types appendmethodspecifictypes member type name membertypename get context getcontext or higher orhigher class instance creation classinstancecreation class instance classinstance f ast fast new class instance creation newclassinstancecreation class instance classinstance set type settype f ast fast new simple type newsimpletype add import addimport member type name membertypename class instance classinstance arguments add create member access expression creatememberaccessexpression member member access expression memberaccessexpression class instance classinstance ami member type membertype member type membertype get superclass getsuperclass member type membertype member type name membertypename member type membertype get qualified name getqualifiedname member type name membertypename java lang object ami append method specific types appendmethodspecifictypes member type name membertypename member access expression memberaccessexpression member access expression memberaccessexpression create member access expression creatememberaccessexpression member get context getcontext is skip nulls isskipnulls method invocation methodinvocation append invocation appendinvocation f ast fast new method invocation newmethodinvocation append invocation appendinvocation set name setname f ast fast new simple name newsimplename get context getcontext get custom builder append method getcustombuilderappendmethod ami method type methodtype ami method type methodtype append invocation appendinvocation arguments add member access expression memberaccessexpression ami method type methodtype ami method type methodtype string literal stringliteral literal f ast fast new string literal newstringliteral literal set literal value setliteralvalue get member name getmembername member to string template parser tostringtemplateparser member parent hesis parenthesis variable append invocation appendinvocation arguments add literal ami method type methodtype append invocation appendinvocation arguments add member access expression memberaccessexpression can chain last append call canchainlastappendcall ami returns builder returnsbuilder append invocation appendinvocation
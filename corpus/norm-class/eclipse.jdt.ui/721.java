copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation nikolay metchev nikolaymetchev gmail contributed fixes convert anonymous nested declare refactoring https bugs eclipse org bugs bug cgi refactoring convert anonymous confused methods https bugs eclipse org bugs bug cgi convert anonymous convert anonymous nested generates wrong code https bugs eclipse org bugs bug cgi org eclipse jdt tests refactoring java util hashtable org eclipse core runtime null progress monitor nullprogressmonitor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i source range isourcerange org eclipse jdt core java core javacore org eclipse jdt core dom modifier org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext refactoring code convert anonymous to nested refactoring convertanonymoustonestedrefactoring org eclipse jdt internal corext template java code template context type codetemplatecontexttype org eclipse jdt tests refactoring infra text range util textrangeutil junit framework test junit framework test suite testsuite convert anonymous to nested tests convertanonymoustonestedtests refactoring test refactoringtest convert anonymous to nested tests convertanonymoustonestedtests clazz convert anonymous to nested tests convertanonymoustonestedtests string refactoring path convert anonymous to nested convertanonymoustonested string f comp act pref fcompactpref convert anonymous to nested tests convertanonymoustonestedtests string override string get refactoring path getrefactoringpath refactoring path test suite java setup test suite testsuite clazz test set up test setuptest test some test sometest java setup some test sometest string get simple test file name getsimpletestfilename can inline caninline input string file name filename get name getname can inline caninline file name filename input file name filename java string get test file name gettestfilename can convert canconvert input string file name filename test path prefix get refactoring path getrefactoringpath file name filename can convert canconvert can convert canconvert cannot convert cannotconvert file name filename get simple test file name getsimpletestfilename can convert canconvert input i compilation unit icompilationunit create ufrom test file createcufromtestfile i package fragment ipackagefragment pack can convert canconvert input exception createcu pack get simple test file name getsimpletestfilename can convert canconvert input get file contents getfilecontents get test file name gettestfilename can convert canconvert input override set up setup exception set up setup hashtable string string options java core javacore get options getoptions string setting default code formatter constants defaultcodeformatterconstants formatter insert space assignment f comp act pref fcompactpref options setting options setting default code formatter constants defaultcodeformatterconstants java core javacore set options setoptions options i java project ijavaproject project get package p getpackagep get java project getjavaproject stub utility stubutility set code template setcodetemplate code template context type codetemplatecontexttype type comment typecomment project stub utility stubutility set code template setcodetemplate code template context type codetemplatecontexttype constructor comment constructorcomment project stub utility stubutility set code template setcodetemplate code template context type codetemplatecontexttype field comment fieldcomment project override tear down teardown exception tear down teardown hashtable string string options java core javacore get options getoptions options default code formatter constants defaultcodeformatterconstants formatter insert space assignment f comp act pref fcompactpref java core javacore set options setoptions options helper start line startline start column startcolumn end line endline end column endcolumn make final makefinal string class name classname visibility exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn convert anonymous to nested refactoring convertanonymoustonestedrefactoring convert anonymous to nested refactoring convertanonymoustonestedrefactoring selection get offset getoffset selection get length getlength refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor precondition result preconditionresult isok precondition result preconditionresult assert equals assertequals activation supposed successful precondition result preconditionresult set class name setclassname class name classname set declare final setdeclarefinal make final makefinal set visibility setvisibility visibility precondition result preconditionresult precondition result preconditionresult check final conditions checkfinalconditions null progress monitor nullprogressmonitor precondition result preconditionresult merge check final conditions checkfinalconditions null progress monitor nullprogressmonitor precondition result preconditionresult isok precondition result preconditionresult assert equals assertequals precondition supposed pass precondition result preconditionresult perform change performchange i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent string new cu name newcuname get simple test file name getsimpletestfilename i compilation unit icompilationunit new cu newcu pack get compilation unit getcompilationunit new cu name newcuname assert true asserttrue new cu name newcuname exist new cu newcu exists assert equal lines assertequallines get file contents getfilecontents get test file name gettestfilename new cu newcu get source getsource helper start line startline start column startcolumn end line endline end column endcolumn make final makefinal make static makestatic string class name classname visibility exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn convert anonymous to nested refactoring convertanonymoustonestedrefactoring convert anonymous to nested refactoring convertanonymoustonestedrefactoring selection get offset getoffset selection get length getlength refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor precondition result preconditionresult isok precondition result preconditionresult assert equals assertequals activation supposed successful precondition result preconditionresult set class name setclassname class name classname set declare final setdeclarefinal make final makefinal set declare static setdeclarestatic make static makestatic set visibility setvisibility visibility precondition result preconditionresult precondition result preconditionresult check final conditions checkfinalconditions null progress monitor nullprogressmonitor precondition result preconditionresult merge check final conditions checkfinalconditions null progress monitor nullprogressmonitor precondition result preconditionresult isok precondition result preconditionresult assert equals assertequals precondition supposed pass precondition result preconditionresult perform change performchange i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent string new cu name newcuname get simple test file name getsimpletestfilename i compilation unit icompilationunit new cu newcu pack get compilation unit getcompilationunit new cu name newcuname assert true asserttrue new cu name newcuname exist new cu newcu exists assert equal lines assertequallines get file contents getfilecontents get test file name gettestfilename new cu newcu get source getsource fail helper failhelper start line startline start column startcolumn end line endline end column endcolumn make final makefinal string class name classname visibility expected severity expectedseverity exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn convert anonymous to nested refactoring convertanonymoustonestedrefactoring convert anonymous to nested refactoring convertanonymoustonestedrefactoring selection get offset getoffset selection get length getlength refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor precondition result preconditionresult isok precondition result preconditionresult assert equals assertequals activation supposed successful precondition result preconditionresult set class name setclassname class name classname set declare final setdeclarefinal make final makefinal set visibility setvisibility visibility precondition result preconditionresult precondition result preconditionresult check final conditions checkfinalconditions null progress monitor nullprogressmonitor precondition result preconditionresult merge check final conditions checkfinalconditions null progress monitor nullprogressmonitor precondition result preconditionresult isok precondition result preconditionresult assert not null assertnotnull precondition supposed fail precondition result preconditionresult assert equals assertequals incorrect severity expected severity expectedseverity precondition result preconditionresult get severity getseverity fail activation helper failactivationhelper start line startline start column startcolumn end line endline end column endcolumn expected severity expectedseverity exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn convert anonymous to nested refactoring convertanonymoustonestedrefactoring convert anonymous to nested refactoring convertanonymoustonestedrefactoring selection get offset getoffset selection get length getlength refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert equals assertequals activation supposed fail expected severity expectedseverity precondition result preconditionresult get severity getseverity tests test fail testfail exception print test disabled message printtestdisabledmessage corner local types fail helper failhelper modifier refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper modifier refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper modifier refactoring status refactoringstatus fatal test fail testfail exception fail activation helper failactivationhelper refactoring status refactoringstatus fatal test fail testfail exception fail helper failhelper modifier refactoring status refactoringstatus error test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception helper modifier test exception print test disabled message printtestdisabledmessage disabled bug helper modifier test exception helper modifier test exception syntax errors helper greeter modifier test generics testgenerics exception helper modifier test generics testgenerics exception helper modifier test generics testgenerics exception helper modifier test generics testgenerics exception helper modifier test generics testgenerics exception helper modifier test generics testgenerics exception helper modifier test generics testgenerics exception helper modifier test bug test generics testgenerics test bug exception helper modifier test exception bug helper extension modifier test exception bug helper extension modifier bug test bug exception helper a impl aimpl modifier bug test bug exception helper nested modifier bug test bug exception helper nested modifier
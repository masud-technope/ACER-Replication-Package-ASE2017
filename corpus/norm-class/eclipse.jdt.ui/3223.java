copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring structure java util array list arraylist java util iterator java util list org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse text edits multi text edit multitextedit org eclipse text edits text edit textedit org eclipse text edits text edit group texteditgroup org eclipse jface text document org eclipse jface text i document idocument org eclipse ltk core refactoring categorized text edit group categorizedtexteditgroup org eclipse ltk core refactoring group category set groupcategoryset org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core dom ast org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core refactoring compilation unit change compilationunitchange org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext util jdt ui helper classes jdtuihelperclasses org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor ast provider astprovider link compilation unit rewrite compilationunitrewrite holds data str uctures structures typically required trivial ref actorings refactorings get ters getters initialized lazily avoid len gthy lengthy processing link org eclipse ltk core refactoring refactoring check initial conditions checkinitialconditions org eclipse core runtime i progress monitor iprogressmonitor bindings resolved disabled code set resolve bindings setresolvebindings code statements recovery enabled disabled code set statements recovery setstatementsrecovery code bindings recovery disabled enabled code set binding recovery setbindingrecovery code jdt ui helper classes jdtuihelperclasses compilation unit rewrite compilationunitrewrite todo add refactoring status refactoringstatus f status fstatus i compilation unit icompilationunit f cu fcu list text edit group texteditgroup f text edit groups ftexteditgroups array list arraylist lazily initialized compilation unit compilationunit f root froot lazily initialized ast rewrite astrewrite f rewrite frewrite lazily initialized import rewrite importrewrite f import rewrite fimportrewrite lazily initialized import remover importremover f import remover fimportremover f resolve bindings fresolvebindings f statements recovery fstatementsrecovery f bindings recovery fbindingsrecovery working copy owner workingcopyowner f owner fowner i document idocument f remember content fremembercontent compilation unit rewrite compilationunitrewrite i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite working copy owner workingcopyowner owner i compilation unit icompilationunit owner compilation unit rewrite compilationunitrewrite i compilation unit icompilationunit compilation unit compilationunit root root compilation unit rewrite compilationunitrewrite working copy owner workingcopyowner owner i compilation unit icompilationunit compilation unit compilationunit root f owner fowner owner f cu fcu f root froot root remember content remembercontent f remember content fremembercontent document controls compiler provide binding ast nodes creates effective method called link get root getroot link getastrewrite link get import remover getimportremover method target object created link compilation unit rewrite compilationunitrewrite i compilation unit icompilationunit compilation unit compilationunit defaults code code resolve bindings param resolve code code bindings wanted code code bindings int erest interest org eclipse jdt core dom ast parser astparser set resolve bindings setresolvebindings note code code differs method ast parser astparser set resolve bindings setresolvebindings resolve f resolve bindings fresolvebindings resolve controls compiler perform statements recovery effective method called link get root getroot link getastrewrite link get import remover getimportremover method target object created link compilation unit rewrite compilationunitrewrite i compilation unit icompilationunit compilation unit compilationunit defaults code code perform statements recovery param statements recovery statementsrecovery statements recovery performed org eclipse jdt core dom ast parser astparser set statements recovery setstatementsrecovery set statements recovery setstatementsrecovery statements recovery statementsrecovery f statements recovery fstatementsrecovery statements recovery statementsrecovery controls compiler perform bindings recovery effective method called link get root getroot link getastrewrite link get import remover getimportremover method target object created link compilation unit rewrite compilationunitrewrite i compilation unit icompilationunit compilation unit compilationunit defaults code code perform bindings recovery param bindings recovery bindingsrecovery bindings recovery performed org eclipse jdt core dom ast parser astparser set bindings recovery setbindingsrecovery set binding recovery setbindingrecovery bindings recovery bindingsrecovery f bindings recovery fbindingsrecovery bindings recovery bindingsrecovery clearastrewrite f rewrite frewrite f text edit groups ftexteditgroups array list arraylist clear import rewrites clearimportrewrites f import rewrite fimportrewrite f import remover fimportremover clearastandimportrewrites clearastrewrite clear import rewrites clearimportrewrites categorized text edit group categorizedtexteditgroup create categorized group description createcategorizedgroupdescription string group category set groupcategoryset categorized text edit group categorizedtexteditgroup result categorized text edit group categorizedtexteditgroup f text edit groups ftexteditgroups add result result text edit group texteditgroup create group description creategroupdescription string text edit group texteditgroup result text edit group texteditgroup f text edit groups ftexteditgroups add result result creates compilation unit change based events recorded compilation unit rewrite param generate groups generategroups code code generate text edit groups code code link compilation unit change compilationunitchange code code empty change core exception coreexception text buffer acquisition rewrite text edit creation fails illegal argument exception illegalargumentexception ast rewrite encounters problems compilation unit change compilationunitchange create change createchange generate groups generategroups core exception coreexception create change createchange generate groups generategroups creates compilation unit change based events recorded compilation unit rewrite remove product link org eclipse jdt core refactoring compilation unit change compilationunitchange code code empty change core exception coreexception text buffer acquisition rewrite text edit creation fails illegal argument exception illegalargumentexception ast rewrite encounters problems deprecated replaced link create change createchange deprecated org eclipse jdt internal corext refactoring compilation unit change compilationunitchange create change createchange core exception coreexception compilation unit change compilationunitchange change create change createchange change org eclipse jdt internal corext refactoring compilation unit change compilationunitchange change creates compilation unit change based events recorded compilation unit rewrite param generate groups generategroups code code generate text edit groups code code param monitor progress monitor code code link compilation unit change compilationunitchange code code empty change core exception coreexception text buffer acquisition rewrite text edit creation fails illegal argument exception illegalargumentexception ast rewrite encounters problems compilation unit change compilationunitchange create change createchange generate groups generategroups i progress monitor iprogressmonitor monitor core exception coreexception create change createchange f cu fcu get element name getelementname generate groups generategroups monitor creates compilation unit change based events recorded compilation unit rewrite param change create param generate groups generategroups code code generate text edit groups code code param monitor progress monitor code code link compilation unit change compilationunitchange code code empty change core exception coreexception text buffer acquisition rewrite text edit creation fails illegal argument exception illegalargumentexception ast rewrite encounters problems compilation unit change compilationunitchange create change createchange string generate groups generategroups i progress monitor iprogressmonitor monitor core exception coreexception compilation unit change compilationunitchange cu change cuchange compilation unit change compilationunitchange f cu fcu multi text edit multitextedit multi edit multiedit multi text edit multitextedit cu change cuchange set edit setedit multi edit multiedit attach change attachchange cu change cuchange generate groups generategroups monitor attaches compilation unit rewrite change change root edit multi text edit multitextedit root edit edits change over lap overlap compilation unit param cu change cuchange existing compilation unit change compilationunitchange multi text edit multitextedit root root param generate groups generategroups code code generate text edit groups code code param monitor progress monitor code code change combining rewrite rewrite code code empty change core exception coreexception text buffer acquisition rewrite text edit creation fails compilation unit change compilationunitchange attach change attachchange compilation unit change compilationunitchange cu change cuchange generate groups generategroups i progress monitor iprogressmonitor monitor core exception coreexception todo ast rewrite astrewrite has changes haschanges needs ast rewrite needsastrewrite f rewrite frewrite needs import removal needsimportremoval f import remover fimportremover f import remover fimportremover has removed nodes hasremovednodes needs import rewrite needsimportrewrite f import rewrite fimportrewrite f import rewrite fimportrewrite has recorded changes hasrecordedchanges needs import removal needsimportremoval needs ast rewrite needsastrewrite needs import removal needsimportremoval needs import rewrite needsimportrewrite multi text edit multitextedit multi edit multiedit multi text edit multitextedit cu change cuchange get edit getedit multi edit multiedit multi edit multiedit multi text edit multitextedit cu change cuchange set edit setedit multi edit multiedit needs ast rewrite needsastrewrite clean garbage earlier calls ast rewrite astrewrite rewriteast https bugs eclipse org bugs bug cgi clear group description edits cleargroupdescriptionedits text edit textedit rewrite edit rewriteedit f remember content fremembercontent rewrite edit rewriteedit f rewrite frewrite rewriteast f remember content fremembercontent f cu fcu get java project getjavaproject get options getoptions rewrite edit rewriteedit f rewrite frewrite rewriteast is empty edit isemptyedit rewrite edit rewriteedit multi edit multiedit add child addchild rewrite edit rewriteedit generate groups generategroups iterator text edit group texteditgroup iter f text edit groups ftexteditgroups iterator iter has next hasnext text edit group texteditgroup group iter cu change cuchange add text edit group addtexteditgroup group needs import removal needsimportremoval f import remover fimportremover apply removes applyremoves get import rewrite getimportrewrite needs import rewrite needsimportrewrite text edit textedit imports edit importsedit f import rewrite fimportrewrite rewrite imports rewriteimports monitor is empty edit isemptyedit imports edit importsedit multi edit multiedit add child addchild imports edit importsedit string import update name importupdatename refactoring core messages refactoringcoremessages ast data astdata update imports cu change cuchange add text edit group addtexteditgroup text edit group texteditgroup import update name importupdatename imports edit importsedit is empty edit isemptyedit multi edit multiedit cu change cuchange monitor monitor is empty edit isemptyedit text edit textedit edit edit get class getclass multi text edit multitextedit edit has children haschildren i compilation unit icompilationunit get cu getcu f cu fcu compilation unit compilationunit get root getroot f root froot f root froot refactoringastparser ast provider astprovider shared ast level parse f cu fcu f owner fowner f resolve bindings fresolvebindings f statements recovery fstatementsrecovery f bindings recovery fbindingsrecovery f root froot ast getast get root getroot getast ast rewrite astrewrite getastrewrite f rewrite frewrite f rewrite frewrite ast rewrite astrewrite create get root getroot getast wain ast rewrite accessed f remember content fremembercontent f remember content fremembercontent f cu fcu get source getsource java model exception javamodelexception f remember content fremembercontent f rewrite frewrite import rewrite importrewrite get import rewrite getimportrewrite f import rewrite fimportrewrite lazily initialized avoid len gthy lengthy processing check initial conditions checkinitialconditions bindings resolved create ast import rewrite importrewrite set use context t o filter implicit imports setusecontexttofilterimplicitimports context sensitive import rewrite context contextsensitiveimportrewritecontext f root froot f resolve bindings fresolvebindings f import rewrite fimportrewrite stub utility stubutility create import rewrite createimportrewrite f cu fcu f import rewrite fimportrewrite stub utility stubutility create import rewrite createimportrewrite get root getroot core exception coreexception java plugin javaplugin log illegal state exception illegalstateexception get message getmessage f import rewrite fimportrewrite import remover importremover get import remover getimportremover f import remover fimportremover f import remover fimportremover import remover importremover f cu fcu get java project getjavaproject get root getroot f import remover fimportremover clear group description edits cleargroupdescriptionedits iterator text edit group texteditgroup iter f text edit groups ftexteditgroups iterator iter has next hasnext text edit group texteditgroup group iter group clear text edits cleartextedits
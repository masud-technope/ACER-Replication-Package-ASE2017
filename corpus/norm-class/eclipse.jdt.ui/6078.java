copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java byte array input stream bytearrayinputstream java util collection junit framework test junit framework test suite testsuite org eclipse team core repository provider repositoryprovider org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse core resources resource attributes resourceattributes org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants copy refactoring copyrefactoring org eclipse ltk core refactoring participants move refactoring moverefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring reorg java copy processor javacopyprocessor org eclipse jdt internal corext refactoring reorg java move processor javamoveprocessor org eclipse jdt internal corext refactoring reorg reorg destination factory reorgdestinationfactory org eclipse jdt internal corext refactoring reorg reorg policy factory reorgpolicyfactory org eclipse jdt internal corext refactoring reorg i reorg policy ireorgpolicy i copy policy icopypolicy org eclipse jdt internal corext refactoring reorg i reorg policy ireorgpolicy i move policy imovepolicy org eclipse jdt tests refactoring ccp mock reorg queries mockreorgqueries org eclipse jdt tests refactoring infra refactoring test repository provider refactoringtestrepositoryprovider validate edit tests validateedittests refactoring test refactoringtest validate edit tests validateedittests clazz validate edit tests validateedittests validate edit tests validateedittests string test suite java setup test suite testsuite clazz test set up test setuptest test some test sometest java setup some test sometest override set up setup exception set up setup repository provider repositoryprovider map get root getroot get java project getjavaproject get project getproject refactoring test repository provider refactoringtestrepositoryprovider provider override tear down teardown exception repository provider repositoryprovider unmap get root getroot get java project getjavaproject get project getproject tear down teardown test package rename testpackagerename exception i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly buf string buffer stringbuffer buf append org test buf append buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename descriptor set java element setjavaelement fragment descriptor set new name setnewname org test descriptor set update references setupdatereferences refactoring status refactoringstatus status perform refactoring performrefactoring descriptor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size assert true asserttrue validated edit paths validatededitpaths get path getpath assert true asserttrue validated edit paths validatededitpaths get path getpath test package rename testpackagerename exception read only readonly moved moved i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly buf string buffer stringbuffer buf append org test buf append buf append fragment create compilation unit createcompilationunit java buf to string tostring read i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org buf string buffer stringbuffer buf append org buf append org test buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename descriptor set java element setjavaelement fragment descriptor set new name setnewname org test descriptor set update references setupdatereferences refactoring status refactoringstatus status perform refactoring performrefactoring descriptor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size assert true asserttrue validated edit paths validatededitpaths get path getpath assert true asserttrue validated edit paths validatededitpaths get path getpath test package rename with resource testpackagerenamewithresource exception my class myclass read only readonly moved properties read only readonly moved i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly i file ifile file i folder ifolder fragment get resource getresource get file getfile properties string content file references file create get stream getstream content set read only setreadonly file rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename descriptor set java element setjavaelement fragment descriptor set new name setnewname org test descriptor set update references setupdatereferences refactoring status refactoringstatus status perform refactoring performrefactoring descriptor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size assert true asserttrue validated edit paths validatededitpaths get path getpath test package rename with resource testpackagerenamewithresource exception my class myclass read only readonly moved properties read only readonly moved i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly i file ifile file i folder ifolder fragment get resource getresource get file getfile properties content org test get bytes getbytes file create byte array input stream bytearrayinputstream content file refresh local refreshlocal i resource iresource depth set read only setreadonly file rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename descriptor set java element setjavaelement fragment descriptor set new name setnewname org test descriptor set update references setupdatereferences descriptor set update qualified names setupdatequalifiednames descriptor set file name patterns setfilenamepatterns properties refactoring status refactoringstatus status perform refactoring performrefactoring descriptor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size assert true asserttrue validated edit paths validatededitpaths get path getpath assert true asserttrue validated edit paths validatededitpaths file get full path getfullpath testcurename exception i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename compilation unit descriptor set java element setjavaelement descriptor set new name setnewname my class myclass java descriptor set update references setupdatereferences refactoring status refactoringstatus status perform refactoring performrefactoring descriptor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size assert true asserttrue validated edit paths validatededitpaths get path getpath assert true asserttrue validated edit paths validatededitpaths get path getpath test type rename testtyperename exception i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename type descriptor set java element setjavaelement find primary type findprimarytype descriptor set new name setnewname my class myclass descriptor set update references setupdatereferences refactoring status refactoringstatus status perform refactoring performrefactoring descriptor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size assert true asserttrue validated edit paths validatededitpaths get path getpath assert true asserttrue validated edit paths validatededitpaths get path getpath test move u testmovecu exception move file validated file doesn change i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test i package fragment ipackagefragment other fragment otherfragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly i file ifile file i folder ifolder fragment get resource getresource get file getfile properties string content file references file create get stream getstream content set read only setreadonly file buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit java buf to string tostring set read only setreadonly i move policy imovepolicy policy reorg policy factory reorgpolicyfactory create move policy createmovepolicy i resource iresource file i java element ijavaelement assert true asserttrue policy can enable canenable java move processor javamoveprocessor java move processor javamoveprocessor java move processor javamoveprocessor policy java move processor javamoveprocessor set destination setdestination reorg destination factory reorgdestinationfactory create destination createdestination other fragment otherfragment java move processor javamoveprocessor set reorg queries setreorgqueries mock reorg queries mockreorgqueries refactoring status refactoringstatus status perform refactoring performrefactoring move refactoring moverefactoring java move processor javamoveprocessor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size moved changed assert true asserttrue validated edit paths validatededitpaths get path getpath changed assert true asserttrue validated edit paths validatededitpaths get path getpath test move file with replace testmovefilewithreplace exception move file existing location i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test i package fragment ipackagefragment other fragment otherfragment get root getroot create package fragment createpackagefragment org test i file ifile file i folder ifolder fragment get resource getresource get file getfile properties string content file references file create get stream getstream content set read only setreadonly file i file ifile file i folder ifolder other fragment otherfragment get resource getresource get file getfile properties file create get stream getstream content set read only setreadonly file i move policy imovepolicy policy reorg policy factory reorgpolicyfactory create move policy createmovepolicy i resource iresource file i java element ijavaelement assert true asserttrue policy can enable canenable java move processor javamoveprocessor java move processor javamoveprocessor java move processor javamoveprocessor policy java move processor javamoveprocessor set destination setdestination reorg destination factory reorgdestinationfactory create destination createdestination other fragment otherfragment java move processor javamoveprocessor set reorg queries setreorgqueries mock reorg queries mockreorgqueries refactoring status refactoringstatus status perform refactoring performrefactoring move refactoring moverefactoring java move processor javamoveprocessor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size replaced assert true asserttrue validated edit paths validatededitpaths file get full path getfullpath test move cu with replace testmovecuwithreplace exception move existing location i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test i package fragment ipackagefragment other fragment otherfragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit other fragment otherfragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly i move policy imovepolicy policy reorg policy factory reorgpolicyfactory create move policy createmovepolicy i resource iresource i java element ijavaelement assert true asserttrue policy can enable canenable java move processor javamoveprocessor java move processor javamoveprocessor java move processor javamoveprocessor policy java move processor javamoveprocessor set destination setdestination reorg destination factory reorgdestinationfactory create destination createdestination other fragment otherfragment java move processor javamoveprocessor set reorg queries setreorgqueries mock reorg queries mockreorgqueries refactoring status refactoringstatus status perform refactoring performrefactoring move refactoring moverefactoring java move processor javamoveprocessor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size moved changed assert true asserttrue validated edit paths validatededitpaths get path getpath replaced assert true asserttrue validated edit paths validatededitpaths get path getpath test copy cu with replace testcopycuwithreplace exception copy existing location i package fragment ipackagefragment fragment get root getroot create package fragment createpackagefragment org test i package fragment ipackagefragment other fragment otherfragment get root getroot create package fragment createpackagefragment org test string buffer stringbuffer buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit fragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly buf string buffer stringbuffer buf append org test buf append my class myclass buf append i compilation unit icompilationunit other fragment otherfragment create compilation unit createcompilationunit my class myclass java buf to string tostring set read only setreadonly i copy policy icopypolicy policy reorg policy factory reorgpolicyfactory create copy policy createcopypolicy i resource iresource i java element ijavaelement assert true asserttrue policy can enable canenable java copy processor javacopyprocessor java copy processor javacopyprocessor java copy processor javacopyprocessor policy java copy processor javacopyprocessor set destination setdestination reorg destination factory reorgdestinationfactory create destination createdestination other fragment otherfragment java copy processor javacopyprocessor set reorg queries setreorgqueries mock reorg queries mockreorgqueries java copy processor javacopyprocessor set new name queries setnewnamequeries mock reorg queries mockreorgqueries refactoring status refactoringstatus status perform refactoring performrefactoring copy refactoring copyrefactoring java copy processor javacopyprocessor status assert true asserttrue status to string tostring status isok collection i path ipath validated edit paths validatededitpaths refactoring test repository provider refactoringtestrepositoryprovider get valid ated edit paths getvalidatededitpaths get root getroot get java project getjavaproject get project getproject assert equals assertequals validated edit paths validatededitpaths size replaced assert true asserttrue validated edit paths validatededitpaths get path getpath set read only setreadonly i compilation unit icompilationunit core exception coreexception set read only setreadonly get resource getresource set read only setreadonly i resource iresource resource core exception coreexception resource attributes resourceattributes resource attributes resourceattributes resource get resource attributes getresourceattributes resource attributes resourceattributes resource attributes resourceattributes set read only setreadonly resource set resource attributes setresourceattributes resource attributes resourceattributes
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal wizards build paths buildpaths java util array list arraylist java util hash set hashset java util hashtable java util iterator java util list java util org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets shell org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core resources i container icontainer org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse jface action i action iaction org eclipse jface dialogs message dialog messagedialog org eclipse jface dialogs tray dialog traydialog org eclipse jface util i property change listener ipropertychangelistener org eclipse jface util property change event propertychangeevent org eclipse jface viewers i label provider ilabelprovider org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers viewer org eclipse jface viewers viewer filter viewerfilter org eclipse jface window window org eclipse i new wizard inewwizard org eclipse platformui org eclipse model base workbench content provider baseworkbenchcontentprovider org eclipse model workbench label provider workbenchlabelprovider org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt internal corext util messages org eclipse jdt preference constants preferenceconstants org eclipse jdt actions abstract open wizard action abstractopenwizardaction org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal wizards new wizard messages newwizardmessages org eclipse jdt internal wizards type d viewer filter typedviewerfilter create multiple source folders dialog createmultiplesourcefoldersdialog tray dialog traydialog fake folder base workbench content provider fakefolderbaseworkbenchcontentprovider base workbench content provider baseworkbenchcontentprovider override object get parent getparent object element object object f non existing folders fnonexistingfolders element object object get parent getparent element override object get children getchildren object element list object result array list arraylist element i folder ifolder f non existing folders fnonexistingfolders key set keyset iterator i folder ifolder iter iterator iter has next hasnext object key iter f non existing folders fnonexistingfolders key equals element result add key result size get children getchildren element object children get children getchildren element children length result add children result to array toarray i java project ijavaproject f java project fjavaproject cp list element cplistelement f existing elements fexistingelements string f output location foutputlocation hash set hashset cp list element cplistelement f removed elements fremovedelements hash set hashset cp list element cplistelement f modified elements fmodifiedelements hash set hashset cp list element cplistelement f inserted elements finsertedelements hashtable i folder ifolder i container icontainer f non existing folders fnonexistingfolders create multiple source folders dialog createmultiplesourcefoldersdialog i java project ijavaproject java project javaproject cp list element cplistelement existing elements existingelements string output location outputlocation shell shell shell f java project fjavaproject java project javaproject f existing elements fexistingelements existing elements existingelements f output location foutputlocation output location outputlocation f removed elements fremovedelements hash set hashset f modified elements fmodifiedelements hash set hashset f inserted elements finsertedelements hash set hashset f non existing folders fnonexistingfolders hashtable existing elements existingelements length cp list element cplistelement cur existing elements existingelements cur get resource getresource cur get resource getresource exists add fake folder addfakefolder f java project fjavaproject get project getproject cur override open accepted classes acceptedclasses i project iproject i folder ifolder list i resource iresource existing containers existingcontainers get existing containers getexistingcontainers f existing elements fexistingelements i project iproject all projects allprojects resources plugin resourcesplugin get workspace getworkspace get root getroot get projects getprojects array list arraylist i project iproject rejected elements rejectedelements array list arraylist all projects allprojects length i project iproject curr project currproject f java project fjavaproject get project getproject all projects allprojects length all projects allprojects equals curr project currproject rejected elements rejectedelements add all projects allprojects viewer filter viewerfilter filter type d viewer filter typedviewerfilter accepted classes acceptedclasses rejected elements rejectedelements to array toarray override select viewer viewer object parent element parentelement object element element i folder ifolder i folder ifolder element is virtual isvirtual select viewer parent element parentelement element i label provider ilabelprovider workbench label provider workbenchlabelprovider i tree content provider itreecontentprovider fake folder base workbench content provider fakefolderbaseworkbenchcontentprovider string title new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage existing source folder dialog existingsourcefolderdialog title string message new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage existing source folder dialog existingsourcefolderdialog edit description multiple folder selection dialog multiplefolderselectiondialog dialog multiple folder selection dialog multiplefolderselectiondialog get shell getshell override control create dialog area createdialogarea composite parent control result create dialog area createdialogarea parent platformui get workbench getworkbench get help system gethelpsystem set help sethelp parent i java help context ids ijavahelpcontextids choose existing folder source folder result override object create folder createfolder i container icontainer container object result object cp list element cplistelement new element newelement cp list element cplistelement f java project fjavaproject i classpath entry iclasspathentry cpe source add source folder wizard addsourcefolderwizard wizard new source folder wizard newsourcefolderwizard new element newelement f existing elements fexistingelements f output location foutputlocation container abstract open wizard action abstractopenwizardaction action abstract open wizard action abstractopenwizardaction override i new wizard inewwizard create wizard createwizard core exception coreexception wizard action add property change listener addpropertychangelistener i property change listener ipropertychangelistener override property change propertychange property change event propertychangeevent event event get property getproperty equals i action iaction result event get new value getnewvalue equals result add fake folder addfakefolder f java project fjavaproject get project getproject new element newelement wizard cancel action result dialog set existing setexisting existing containers existingcontainers to array toarray dialog set title settitle title dialog set message setmessage message dialog add filter addfilter filter dialog set input setinput f java project fjavaproject get project getproject get parent getparent dialog set initial focus setinitialfocus f java project fjavaproject get project getproject dialog open window object elements dialog get result getresult elements length i resource iresource res i resource iresource elements f inserted elements finsertedelements add cp list element cplistelement f java project fjavaproject i classpath entry iclasspathentry cpe source res get full path getfullpath res f existing elements fexistingelements length cp list element cplistelement existing element existingelement f existing elements fexistingelements existing element existingelement get resource getresource i project iproject remove project from p removeprojectfrombp existing element existingelement array list arraylist cp list element cplistelement array list arraylist f inserted elements finsertedelements hash set hashset cp list element cplistelement updated eclusion patterns updatedeclusionpatterns hash set hashset add exlusion patterns addexlusionpatterns updated eclusion patterns updatedeclusionpatterns f modified elements fmodifiedelements add all addall updated eclusion patterns updatedeclusionpatterns array list arraylist cp list element cplistelement array list arraylist f inserted elements finsertedelements hash set hashset cp list element cplistelement updated eclusion patterns updatedeclusionpatterns hash set hashset add exlusion patterns addexlusionpatterns updated eclusion patterns updatedeclusionpatterns f modified elements fmodifiedelements add all addall updated eclusion patterns updatedeclusionpatterns window window cancel list cp list element cplistelement get inserted elements getinsertedelements array list arraylist f inserted elements finsertedelements list cp list element cplistelement get removed elements getremovedelements array list arraylist f removed elements fremovedelements list cp list element cplistelement get modified elements getmodifiedelements array list arraylist f modified elements fmodifiedelements i path ipath get output location getoutputlocation path f output location foutputlocation make absolute makeabsolute asks change output folder proj bin source folders existing param existing element remove returns code code element removed remove project from p removeprojectfrombp cp list element cplistelement existing i path ipath output folder outputfolder path f output location foutputlocation i path ipath new output folder newoutputfolder string message output folder outputfolder segment count segmentcount string output folder name outputfoldername preference constants preferenceconstants get preference store getpreferencestore get string getstring preference constants preferenceconstants srcbin binname new output folder newoutputfolder output folder outputfolder append output folder name outputfoldername message messages format new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage change output location dialog changeoutputlocationdialog project output message basic element labels basicelementlabels get path label getpathlabel new output folder newoutputfolder message new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage change output location dialog changeoutputlocationdialog project message string title new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage change output location dialog changeoutputlocationdialog title message dialog messagedialog open question openquestion get shell getshell title message f removed elements fremovedelements add existing new output folder newoutputfolder f output location foutputlocation new output folder newoutputfolder to string tostring add exlusion patterns addexlusionpatterns list cp list element cplistelement new entries newentries cp list element cplistelement modified entries modifiedentries build path base page buildpathbasepage fix nesting conflicts fixnestingconflicts new entries newentries to array toarray cp list element cplistelement new entries newentries size f existing elements fexistingelements modified entries modifiedentries modified entries modifiedentries is empty isempty string title new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage exclusion title string message new wizard messages newwizardmessages source container workbook page sourcecontainerworkbookpage exclusion message message dialog messagedialog open information openinformation get shell getshell title message add source folder wizard addsourcefolderwizard new source folder wizard newsourcefolderwizard cp list element cplistelement element cp list element cplistelement existing string output location outputlocation i container icontainer parent add source folder wizard addsourcefolderwizard wizard add source folder wizard addsourcefolderwizard existing element path output location outputlocation make absolute makeabsolute parent wizard set do flush change setdoflushchange wizard list i resource iresource get existing containers getexistingcontainers cp list element cplistelement existing elements existingelements list i resource iresource res array list arraylist existing elements existingelements length i resource iresource resource existing elements existingelements get resource getresource resource i container icontainer res add resource i folder ifolder f non existing folders fnonexistingfolders key set keyset iterator i folder ifolder iter iterator iter has next hasnext i folder ifolder folder iter res add folder res i folder ifolder add fake folder addfakefolder i container icontainer container cp list element cplistelement element i folder ifolder result i path ipath project path projectpath f java project fjavaproject get path getpath i path ipath path element get path getpath project path projectpath is prefix of isprefixof path path path remove first segments removefirstsegments project path projectpath segment count segmentcount result container get folder getfolder path i folder ifolder folder result i container icontainer parent folder get parent getparent f non existing folders fnonexistingfolders folder parent parent i folder ifolder folder i folder ifolder parent folder folder folder exists result
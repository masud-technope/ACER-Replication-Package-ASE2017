copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring reorg java util array list arraylist java util arrays java util comparator java util hash set hashset java util list java util org eclipse core runtime org eclipse core resources i file ifile org eclipse jdt core i class file iclassfile org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i source reference isourcereference org eclipse jdt core java model exception javamodelexception source reference util sourcereferenceutil instances source reference util sourcereferenceutil i file ifile get file getfile i source reference isourcereference i compilation unit icompilationunit unit get compilation unit getcompilationunit i file ifile unit get primary getprimary get resource getresource i compilation unit icompilationunit get compilation unit getcompilationunit i source reference isourcereference is true istrue i class file iclassfile i compilation unit icompilationunit i compilation unit icompilationunit i java element ijavaelement i compilation unit icompilationunit i java element ijavaelement get ancestor getancestor i java element ijavaelement compilation unit has parent in set hasparentinset i java element ijavaelement elem i source reference isourcereference i java element ijavaelement parent elem get parent getparent parent parent parent parent get parent getparent i source reference isourcereference remove all with parents selected removeallwithparentsselected i source reference isourcereference elems i source reference isourcereference hash set hashset arrays as list aslist elems list i source reference isourcereference result array list arraylist elems length elems length i source reference isourcereference elem elems elem i java element ijavaelement result add elem has parent in set hasparentinset i java element ijavaelement elem result add elem result to array toarray i source reference isourcereference result size i source reference isourcereference sort by offset sortbyoffset i source reference isourcereference methods arrays sort methods comparator i source reference isourcereference override compare i source reference isourcereference i source reference isourcereference get source range getsourcerange get offset getoffset get source range getsourcerange get offset getoffset java model exception javamodelexception hash code hashcode hash code hashcode methods
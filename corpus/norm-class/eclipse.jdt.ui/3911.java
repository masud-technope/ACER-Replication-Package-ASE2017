copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext util java util hash map hashmap java util map org eclipse core runtime org eclipse jdt core flags org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core i type parameter itypeparameter org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature finds overriding overridden methods based java model jdt ui helper classes jdtuihelperclasses method override tester methodoverridetester substitutions substitutions empty subst substitutions hash map hashmap string string f map fmap substitutions f map fmap add substitution addsubstitution string type variable typevariable string substitution string erasure f map fmap f map fmap hash map hashmap f map fmap type variable typevariable string substitution erasure string get subst array getsubstarray string type variable typevariable f map fmap f map fmap type variable typevariable string get substitution getsubstitution string type variable typevariable string subst get subst array getsubstarray type variable typevariable subst subst string get erasure geterasure string type variable typevariable string subst get subst array getsubstarray type variable typevariable subst subst i type itype f focus type ffocustype i type hierarchy itypehierarchy f hierarchy fhierarchy map i method imethod substitutions f method substitutions fmethodsubstitutions map i type itype substitutions f type variable substitutions ftypevariablesubstitutions method override tester methodoverridetester i type itype focus type focustype i type hierarchy itypehierarchy hierarchy focus type focustype hierarchy illegal argument exception illegalargumentexception f focus type ffocustype focus type focustype f hierarchy fhierarchy hierarchy f type variable substitutions ftypevariablesubstitutions f method substitutions fmethodsubstitutions i type itype get focus type getfocustype f focus type ffocustype i type hierarchy itypehierarchy get type hierarchy gettypehierarchy f hierarchy fhierarchy finds method declares method declaring method original method declaration override implement method code code returned method override method searching exam ined examined implemented interfaces param overriding overriding method param test visibility testvisibility result tested visibility returned method visible declaring method code code java model exception javamodelexception problem occurs i method imethod find declaring method finddeclaringmethod i method imethod overriding test visibility testvisibility java model exception javamodelexception i method imethod result i method imethod overridden find overridden method findoverriddenmethod overriding test visibility testvisibility overridden result overridden overridden find overridden method findoverriddenmethod result test visibility testvisibility result finds method overridden method exam ined examined implemented interfaces param overriding overriding method param test visibility testvisibility result tested visibility returned method visible method overridden method code code java model exception javamodelexception problem occurs i method imethod find overridden method findoverriddenmethod i method imethod overriding test visibility testvisibility java model exception javamodelexception flags overriding get flags getflags flags is private isprivate flags flags is static isstatic flags overriding is constructor isconstructor i type itype type overriding get declaring type getdeclaringtype i type itype super class superclass f hierarchy fhierarchy get superclass getsuperclass type super class superclass i method imethod res find overridden method in hierarchy findoverriddenmethodinhierarchy super class superclass overriding res test visibility testvisibility java model util javamodelutil is visible in hierarchy isvisibleinhierarchy res type get package fragment getpackagefragment res i type itype interfaces f hierarchy fhierarchy get super interfaces getsuperinterfaces type interfaces length i method imethod res find overridden method in hierarchy findoverriddenmethodinhierarchy interfaces overriding res methods interfaces visible res finds overridden method type types exam ined examined implemented interfaces generics methods type over idden overidden time overridden method returned param type type find methods param overriding overriding method overridden method code code method overridden java model exception javamodelexception problem occurs i method imethod find overridden method in hierarchy findoverriddenmethodinhierarchy i type itype type i method imethod overriding java model exception javamodelexception i method imethod method find overridden method in type findoverriddenmethodintype type overriding method method i type itype super class superclass f hierarchy fhierarchy get superclass getsuperclass type super class superclass i method imethod res find overridden method in hierarchy findoverriddenmethodinhierarchy super class superclass overriding res res i type itype super interfaces superinterfaces f hierarchy fhierarchy get super interfaces getsuperinterfaces type super interfaces superinterfaces length i method imethod res find overridden method in hierarchy findoverriddenmethodinhierarchy super interfaces superinterfaces overriding res res method finds overridden method type generics methods type overridden time overridden method returned param overridden type overriddentype type find methods param overriding overriding method overridden method code code method overridden java model exception javamodelexception problem occurs i method imethod find overridden method in type findoverriddenmethodintype i type itype overridden type overriddentype i method imethod overriding java model exception javamodelexception flags overriding get flags getflags flags is private isprivate flags flags is static isstatic flags overriding is constructor isconstructor i method imethod overridden methods overriddenmethods overridden type overriddentype get methods getmethods overridden methods overriddenmethods length i method imethod overridden overridden methods overriddenmethods flags overridden get flags getflags flags is private isprivate flags flags is static isstatic flags overridden is constructor isconstructor is sub signature issubsignature overriding overridden overridden finds overriding method type param overriding type overridingtype type find methods param overridden overridden method overriding method code code method overriding java model exception javamodelexception problem occurs i method imethod find overriding method in type findoverridingmethodintype i type itype overriding type overridingtype i method imethod overridden java model exception javamodelexception flags overridden get flags getflags flags is private isprivate flags flags is static isstatic flags overridden is constructor isconstructor i method imethod overriding methods overridingmethods overriding type overridingtype get methods getmethods overriding methods overridingmethods length i method imethod overriding overriding methods overridingmethods flags overriding get flags getflags flags is private isprivate flags flags is static isstatic flags overriding is constructor isconstructor is sub signature issubsignature overriding overridden overriding tests method sub signature subsignature method param overriding overriding method param overridden overridden method code code iff method code code sub signature subsignature method code code requirements override acc essibility accessibility types account note sub signature subsignature symmetric java model exception javamodelexception problem occurs is sub signature issubsignature i method imethod overriding i method imethod overridden java model exception javamodelexception overridden get element name getelementname equals overriding get element name getelementname n parameters nparameters overridden get number of parameters getnumberofparameters n parameters nparameters overriding get number of parameters getnumberofparameters has compatible type parameters hascompatibletypeparameters overriding overridden n parameters nparameters has compatible parameter types hascompatibleparametertypes overriding overridden has compatible type parameters hascompatibletypeparameters i method imethod overriding i method imethod overridden java model exception javamodelexception i type parameter itypeparameter overridden type parameters overriddentypeparameters overridden get type parameters gettypeparameters i type parameter itypeparameter overriding type parameters overridingtypeparameters overriding get type parameters gettypeparameters n overriding type parameters noverridingtypeparameters overriding type parameters overridingtypeparameters length overridden type parameters overriddentypeparameters length n overriding type parameters noverridingtypeparameters n overriding type parameters noverridingtypeparameters substitutions overridden subst overriddensubst get method sub stitions getmethodsubstitions overridden substitutions overriding subst overridingsubst get method sub stitions getmethodsubstitions overriding n overriding type parameters noverridingtypeparameters string erasure overridden subst overriddensubst get erasure geterasure overridden type parameters overriddentypeparameters get element name getelementname string erasure overriding subst overridingsubst get erasure geterasure overriding type parameters overridingtypeparameters get element name getelementname erasure erasure equals erasure comparing erasure correct compare bounds order n bounds nbounds overridden type parameters overriddentypeparameters get bounds getbounds length n bounds nbounds n bounds nbounds overriding type parameters overridingtypeparameters get bounds getbounds length has compatible parameter types hascompatibleparametertypes i method imethod overriding i method imethod overridden java model exception javamodelexception string overridden param types overriddenparamtypes overridden get parameter types getparametertypes string overriding param types overridingparamtypes overriding get parameter types getparametertypes string substituted overriding substitutedoverriding string overriding param types overridingparamtypes length test erasure testerasure overriding param types overridingparamtypes length string overridden param sig overriddenparamsig overridden param types overriddenparamtypes string overridden param name overriddenparamname get sub stituted type name getsubstitutedtypename overridden param sig overriddenparamsig overridden string overriding param name overridingparamname get sub stituted type name getsubstitutedtypename overriding param types overridingparamtypes overriding substituted overriding substitutedoverriding overriding param name overridingparamname overridden param name overriddenparamname equals overriding param name overridingparamname test erasure testerasure test erasure testerasure overriding param types overridingparamtypes length string overridden param sig overriddenparamsig overridden param types overriddenparamtypes string overridden param name overriddenparamname get erased type name geterasedtypename overridden param sig overriddenparamsig overridden string overriding param name overridingparamname substituted overriding substitutedoverriding overriding param name overridingparamname overriding param name overridingparamname get sub stituted type name getsubstitutedtypename overriding param types overridingparamtypes overriding overridden param name overriddenparamname equals overriding param name overridingparamname string get variable substitution getvariablesubstitution i member imember context string variable name variablename java model exception javamodelexception i type itype type context i method imethod string subst get method sub stitions getmethodsubstitions i method imethod context get substitution getsubstitution variable name variablename subst subst type context get declaring type getdeclaringtype type i type itype context string subst get type sub stitions gettypesubstitions type get substitution getsubstitution variable name variablename subst subst i java element ijavaelement parent type get parent getparent parent i method imethod get variable substitution getvariablesubstitution i method imethod parent variable name variablename type get declaring type getdeclaringtype get variable substitution getvariablesubstitution type get declaring type getdeclaringtype variable name variablename type variable variable name variablename string get variable erasure getvariableerasure i member imember context string variable name variablename java model exception javamodelexception i type itype type context i method imethod string subst get method sub stitions getmethodsubstitions i method imethod context get erasure geterasure variable name variablename subst subst type context get declaring type getdeclaringtype type i type itype context string subst get type sub stitions gettypesubstitions type get erasure geterasure variable name variablename subst subst i java element ijavaelement parent type get parent getparent parent i method imethod get variable erasure getvariableerasure i method imethod parent variable name variablename type get declaring type getdeclaringtype get variable erasure getvariableerasure type get declaring type getdeclaringtype variable name variablename type variable variable name variablename returns substitutions method type parameters substitutions get method sub stitions getmethodsubstitions i method imethod method java model exception javamodelexception f method substitutions fmethodsubstitutions f method substitutions fmethodsubstitutions lru map lrumap substitutions f method substitutions fmethodsubstitutions method i type parameter itypeparameter type parameters typeparameters method get type parameters gettypeparameters type parameters typeparameters length substitutions empty subst i type itype instantiated type instantiatedtype method get declaring type getdeclaringtype substitutions type parameters typeparameters length i type parameter itypeparameter curr type parameters typeparameters add substitution addsubstitution curr get element name getelementname string value of valueof get type parameter erasure gettypeparametererasure curr instantiated type instantiatedtype f method substitutions fmethodsubstitutions method returns substitutions type type parameters substitutions get type sub stitions gettypesubstitions i type itype type java model exception javamodelexception f type variable substitutions ftypevariablesubstitutions f type variable substitutions ftypevariablesubstitutions hash map hashmap compute substitutions computesubstitutions f focus type ffocustype substitutions subst f type variable substitutions ftypevariablesubstitutions type subst substitutions empty subst subst compute substitutions computesubstitutions i type itype instantiated type instantiatedtype i type itype instantiating type instantiatingtype string type arguments typearguments java model exception javamodelexception substitutions substitutions f type variable substitutions ftypevariablesubstitutions instantiated type instantiatedtype i type parameter itypeparameter type parameters typeparameters instantiated type instantiatedtype get type parameters gettypeparameters focus type instantiating type instantiatingtype type parameters typeparameters length i type parameter itypeparameter curr type parameters typeparameters star type variables type add substitution addsubstitution curr get element name getelementname curr get element name getelementname get type parameter erasure gettypeparametererasure curr instantiated type instantiatedtype type parameters typeparameters length type arguments typearguments length type parameters typeparameters length i type parameter itypeparameter curr type parameters typeparameters substitute context instantiating type instantiatingtype string subst string subststring get sub stituted type name getsubstitutedtypename type arguments typearguments instantiating type instantiatingtype erasure type argument string erasure get erased type name geterasedtypename type arguments typearguments instantiating type instantiatingtype add substitution addsubstitution curr get element name getelementname subst string subststring erasure raw type reference type arguments typearguments length type parameters typeparameters length i type parameter itypeparameter curr type parameters typeparameters string erasure get type parameter erasure gettypeparametererasure curr instantiated type instantiatedtype add substitution addsubstitution curr get element name getelementname erasure erasure code errors string superclass type signature superclasstypesignature instantiated type instantiatedtype get superclass type signature getsuperclasstypesignature superclass type signature superclasstypesignature string super type arguments supertypearguments signature get type arguments gettypearguments superclass type signature superclasstypesignature i type itype superclass f hierarchy fhierarchy get superclass getsuperclass instantiated type instantiatedtype superclass f type variable substitutions ftypevariablesubstitutions contains key containskey superclass compute substitutions computesubstitutions superclass instantiated type instantiatedtype super type arguments supertypearguments string super interfaces type signature superinterfacestypesignature instantiated type instantiatedtype is anonymous isanonymous special super interface superinterface returned i type itype get superclass type signature getsuperclasstypesignature super interfaces type signature superinterfacestypesignature string superclass type signature superclasstypesignature super interfaces type signature superinterfacestypesignature instantiated type instantiatedtype get super interface type signatures getsuperinterfacetypesignatures n interfaces ninterfaces super interfaces type signature superinterfacestypesignature length n interfaces ninterfaces i type itype super interfaces superinterfaces f hierarchy fhierarchy get super interfaces getsuperinterfaces instantiated type instantiatedtype super interfaces superinterfaces length n interfaces ninterfaces n interfaces ninterfaces string super type arguments supertypearguments signature get type arguments gettypearguments super interfaces type signature superinterfacestypesignature i type itype super interface superinterface super interfaces superinterfaces f type variable substitutions ftypevariablesubstitutions contains key containskey super interface superinterface compute substitutions computesubstitutions super interface superinterface instantiated type instantiatedtype super type arguments supertypearguments string get type parameter erasure gettypeparametererasure i type parameter itypeparameter type parameter typeparameter i type itype context java model exception javamodelexception string bounds type parameter typeparameter get bounds getbounds bounds length get erased type name geterasedtypename signature create type signature createtypesignature bounds context nls object translates type signature normalized type variables substituted type method context returned simple names compare substituted type names param type sig typesig type signature translate param context context substitution type java model exception javamodelexception problem occurs string get sub stituted type name getsubstitutedtypename string type sig typesig i member imember context java model exception javamodelexception internal get sub stituted type name internalgetsubstitutedtypename type sig typesig context string buffer stringbuffer to string tostring string get erased type name geterasedtypename string type sig typesig i member imember context java model exception javamodelexception internal get sub stituted type name internalgetsubstitutedtypename type sig typesig context string buffer stringbuffer to string tostring string buffer stringbuffer internal get sub stituted type name internalgetsubstitutedtypename string type sig typesig i member imember context erasure string buffer stringbuffer buf java model exception javamodelexception sig kind sigkind signature get type signature kind gettypesignaturekind type sig typesig sig kind sigkind signature base type signature buf append signature to string tostring type sig typesig signature array type signature internal get sub stituted type name internalgetsubstitutedtypename signature get element type getelementtype type sig typesig context erasure buf signature get array count getarraycount type sig typesig buf append append buf signature type signature string erasure sig erasuresig signature get type erasure gettypeerasure type sig typesig string erasure name erasurename signature get simple name getsimplename signature to string tostring erasure sig erasuresig erasure sig erasuresig char at charat signature resolved buf append erasure name erasurename type variable signature unresolved erasure buf append get variable erasure getvariableerasure context erasure name erasurename buf append get variable substitution getvariablesubstitution context erasure name erasurename is true istrue unknown type signature erasure string type arguments typearguments signature get type arguments gettypearguments type sig typesig type arguments typearguments length buf append type arguments typearguments length buf append internal get sub stituted type name internalgetsubstitutedtypename type arguments typearguments context erasure buf buf append buf signature type variable signature string var name varname signature to string tostring type sig typesig erasure buf append get variable erasure getvariableerasure context var name varname buf append get variable substitution getvariablesubstitution context var name varname signature wildcard type signature buf append type sig typesig char at charat signature star buf signature nls buf append nls nls buf append nls internal get sub stituted type name internalgetsubstitutedtypename type sig typesig substring context erasure buf signature capture type signature internal get sub stituted type name internalgetsubstitutedtypename type sig typesig substring context erasure buf nls is true istrue nls nls unhandled type signature kind buf
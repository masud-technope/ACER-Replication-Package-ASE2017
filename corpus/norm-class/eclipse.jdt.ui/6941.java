copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java util array list arraylist java util list junit framework test org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants processor based refactoring processorbasedrefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i member imember org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt internal corext refactoring structure extract interface processor extractinterfaceprocessor org eclipse jdt tests core no super tests suite nosupertestssuite org eclipse jdt internal preferences java preferences settings javapreferencessettings extract interface tests extractinterfacetests extract interface tests extractinterfacetests extract interface tests extractinterfacetests clazz extract interface tests extractinterfacetests string refactoring path extract interface extractinterface extract interface tests extractinterfacetests string test suite java setup no super tests suite nosupertestssuite clazz test set up test setuptest test some test sometest java setup some test sometest override string get refactoring path getrefactoringpath refactoring path test extract interface from interface testextractinterfacefrominterface exception validate passing test validatepassingtest test extract interface from interface testextractinterfacefrominterface exception string class name classname string extending interface name extendinginterfacename string new interface name newinterfacename i type itype clas get type gettype create ufrom test file createcufromtestfile get package p getpackagep get top level type name gettopleveltypename class name classname class name classname i compilation unit icompilationunit clas get compilation unit getcompilationunit i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent get type gettype create ufrom test file createcufromtestfile get package p getpackagep get top level type name gettopleveltypename extending interface name extendinginterfacename extending interface name extendinginterfacename i package fragment root ipackagefragmentroot root refactoring test setup refactoringtestsetup get default source folder getdefaultsourcefolder assert not null assertnotnull root i package fragment ipackagefragment root create package fragment createpackagefragment get type gettype create ufrom test file createcufromtestfile get top level type name gettopleveltypename extract interface processor extractinterfaceprocessor processor extract interface processor extractinterfaceprocessor clas java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings clas get java project getjavaproject refactoring processor based refactoring processorbasedrefactoring processor processor set type name settypename new interface name newinterfacename assert equals assertequals accepted refactoring status refactoringstatus processor check type name checktypename new interface name newinterfacename get severity getseverity i member imember extract able members extractablemembers processor get extract able members getextractablemembers i member imember members i member imember extract able members extractablemembers length list i member imember list array list arraylist i member imember i member imember extract able members extractablemembers i member imember i field ifield list add i member imember processor set extra cted members setextractedmembers list to array toarray members processor set replace setreplace processor set annotations setannotations refactoring status refactoringstatus perform refactoring performrefactoring perform refactoring performrefactoring assert equals assertequals supposed pass perform refactoring performrefactoring assert equal lines assertequallines incorrect class name classname get file contents getfilecontents get output test file name getoutputtestfilename class name classname get source getsource i compilation unit icompilationunit interface cu interfacecu pack get compilation unit getcompilationunit new interface name newinterfacename java assert equal lines assertequallines incorrect created get file contents getfilecontents get output test file name getoutputtestfilename new interface name newinterfacename interface cu interfacecu get source getsource test extract interface from class testextractinterfacefromclass exception validate passing test validatepassingtest bug test extract interface from class testextractinterfacefromclass exception f generate annotations fgenerateannotations string names string string signatures string string string validate passing test validatepassingtest string names signatures test extract interface from abstract class testextractinterfacefromabstractclass exception validate passing test validatepassingtest test lambda testlambda exception bug string names string string signatures string string validate passing test validatepassingtest string util names signatures test lambda testlambda exception bug string names string string signatures string string validate passing test validatepassingtest string util names signatures test method ref testmethodref exception bug string names string method n methodn string signatures string string validate passing test validatepassingtest string util names signatures test method ref testmethodref exception bug string names string string signatures string string validate passing test validatepassingtest string util names signatures test method ref testmethodref exception bug string names string string signatures string string validate passing test validatepassingtest string util names signatures
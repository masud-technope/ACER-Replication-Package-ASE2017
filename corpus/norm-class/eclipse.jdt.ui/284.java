copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests search java i o exception ioexception java input stream inputstream org junit org eclipse core runtime core exception coreexception org eclipse core resources i file ifile org eclipse search new search i newsearchui org eclipse search text match org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i type itype org eclipse jdt core search search engine searchengine org eclipse jdt internal refactoring nls search compilation unit entry compilationunitentry org eclipse jdt internal refactoring nls search file entry fileentry org eclipse jdt internal refactoring nls search nls search query nlssearchquery org eclipse jdt internal refactoring nls search nls search result nlssearchresult org eclipse jdt internal util busy indicator runnable context busyindicatorrunnablecontext nls search test helper nlssearchtesthelper assert number of problems assertnumberofproblems i compilation unit icompilationunit accessor i file ifile properties file propertiesfile expected assert number results assertnumberresults search problems searchproblems accessor properties file propertiesfile expected assert has undefined key asserthasundefinedkey i compilation unit icompilationunit accessor i file ifile properties file propertiesfile string key i file ifile file is accessor isaccessor core exception coreexception assert result has undefined key assertresulthasundefinedkey key file is accessor isaccessor search problems searchproblems accessor properties file propertiesfile assert has unused key asserthasunusedkey i compilation unit icompilationunit accessor i file ifile properties file propertiesfile string key i file ifile file is accessor isaccessor i o exception ioexception core exception coreexception assert result has unused key assertresulthasunusedkey key file is accessor isaccessor search problems searchproblems accessor properties file propertiesfile assert has duplicate key asserthasduplicatekey i compilation unit icompilationunit accessor i file ifile properties file propertiesfile string key i file ifile file core exception coreexception i o exception ioexception assert result has duplicate key assertresulthasduplicatekey key file search problems searchproblems accessor properties file propertiesfile nls search result nlssearchresult search problems searchproblems i compilation unit icompilationunit accessor i file ifile properties file propertiesfile i type itype type accessor get type gettype accessor nls nls search query nlssearchquery query nls search query nlssearchquery i type itype type i file ifile properties file propertiesfile search engine searchengine create workspace scope createworkspacescope new search i newsearchui run query i n foreground runqueryinforeground busy indicator runnable context busyindicatorrunnablecontext query nls search result nlssearchresult result nls search result nlssearchresult query get search result getsearchresult result assert number results assertnumberresults nls search result nlssearchresult result expected result get elements getelements length assert true asserttrue expected number expected expected assert result has undefined key assertresulthasundefinedkey string key i file ifile file is accessor isaccessor nls search result nlssearchresult result core exception coreexception match matches result get file match adapter getfilematchadapter compute contained matches computecontainedmatches result file matches length match match matches match get element getelement i compilation unit icompilationunit i compilation unit icompilationunit unit i compilation unit icompilationunit match get element getelement string field unit get source getsource substring match get offset getoffset match get offset getoffset match get length getlength is accessor isaccessor field index of indexof key is accessor isaccessor field equals key assert true asserttrue undefined key problem key file get name getname assert result has unused key assertresulthasunusedkey string key i file ifile file is accessor isaccessor nls search result nlssearchresult result i o exception ioexception core exception coreexception match matches result get file match adapter getfilematchadapter compute contained matches computecontainedmatches result file matches length match match matches match get element getelement compilation unit entry compilationunitentry i compilation unit icompilationunit unit compilation unit entry compilationunitentry match get element getelement get compilation unit getcompilationunit string field unit get source getsource substring match get offset getoffset match get offset getoffset match get length getlength is accessor isaccessor field index of indexof key is accessor isaccessor field equals key match get element getelement file entry fileentry file entry fileentry entry file entry fileentry match get element getelement string content get content getcontent entry get properties file getpropertiesfile string prop key propkey content substring match get offset getoffset match get offset getoffset match get length getlength is accessor isaccessor prop key propkey index of indexof key is accessor isaccessor prop key propkey equals key assert true asserttrue unused key problem key file get name getname string get content getcontent i file ifile entry core exception coreexception i o exception ioexception string buffer stringbuffer buf string buffer stringbuffer input stream inputstream contents entry get contents getcontents contents read avilable contents avilable buf append contents read avilable buf to string tostring contents close assert result has duplicate key assertresulthasduplicatekey string key i file ifile file nls search result nlssearchresult result core exception coreexception i o exception ioexception match matches result get file match adapter getfilematchadapter compute contained matches computecontainedmatches result file matches length match match matches match get element getelement file entry fileentry file entry fileentry entry file entry fileentry match get element getelement string content get content getcontent entry get properties file getpropertiesfile first index firstindex content index of indexof key first index firstindex content index of indexof key first index firstindex assert true asserttrue duplicate key problem key file get name getname
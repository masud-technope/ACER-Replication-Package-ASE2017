copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext java util array list arraylist java util collection java util hashtable java util list org eclipse core runtime i status istatus org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom for statement forstatement org eclipse jdt internal corext dom generic visitor genericvisitor org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt cleanup i clean up fix icleanupfix convert loop fix convertloopfix compilation unit rewrite operations fix compilationunitrewriteoperationsfix control statement finder controlstatementfinder generic visitor genericvisitor list convert loop operation convertloopoperation f result fresult hashtable for statement forstatement string f used names fusednames f find for loops to convert ffindforloopstoconvert f convert iterable for loops fconvertiterableforloops f make final fmakefinal control statement finder controlstatementfinder find for loops to convert findforloopstoconvert convert iterable for loops convertiterableforloops make final makefinal list convert loop operation convertloopoperation resulting collection resultingcollection f find for loops to convert ffindforloopstoconvert find for loops to convert findforloopstoconvert f convert iterable for loops fconvertiterableforloops convert iterable for loops convertiterableforloops f make final fmakefinal make final makefinal f result fresult resulting collection resultingcollection f used names fusednames hashtable override visit for statement forstatement node f find for loops to convert ffindforloopstoconvert f convert iterable for loops fconvertiterableforloops for statement forstatement current node convert loop operation convertloopoperation operation get convert operation getconvertoperation current convert loop operation convertloopoperation old operation oldoperation operation old operation oldoperation f result fresult add operation old operation oldoperation set body converter setbodyconverter operation current get body getbody for statement forstatement current for statement forstatement current get body getbody old operation oldoperation operation operation get convert operation getconvertoperation current operation current get body getbody accept visit node convert loop operation convertloopoperation get convert operation getconvertoperation for statement forstatement node collection string used names collection usednamescollection f used names fusednames values string used names usednames used names collection usednamescollection to array toarray string used names collection usednamescollection size convert loop operation convertloopoperation convert for loop operation convertforloopoperation convert for loop operation convertforloopoperation node used names usednames f make final fmakefinal convert for loop operation convertforloopoperation satisfies preconditions satisfiespreconditions isok f find for loops to convert ffindforloopstoconvert f used names fusednames node convert for loop operation convertforloopoperation get introduce d variable name getintroducedvariablename convert for loop operation convertforloopoperation f convert iterable for loops fconvertiterableforloops convert loop operation convertloopoperation iterable converter iterableconverter convert iterable loop operation convertiterableloopoperation node used names usednames f make final fmakefinal iterable converter iterableconverter satisfies preconditions satisfiespreconditions isok f used names fusednames node iterable converter iterableconverter get introduce d variable name getintroducedvariablename iterable converter iterableconverter override end visit endvisit for statement forstatement node f find for loops to convert ffindforloopstoconvert f convert iterable for loops fconvertiterableforloops f used names fusednames remove node end visit endvisit node i clean up fix icleanupfix create clean up createcleanup compilation unit compilationunit compilation unit compilationunit convert for loops convertforloops convert iterable for loops convertiterableforloops make final makefinal java model util javamodelutil or higher orhigher compilation unit compilationunit get java element getjavaelement get java project getjavaproject convert for loops convertforloops convert iterable for loops convertiterableforloops list convert loop operation convertloopoperation operations array list arraylist control statement finder controlstatementfinder finder control statement finder controlstatementfinder convert for loops convertforloops convert iterable for loops convertiterableforloops make final makefinal operations compilation unit compilationunit accept finder operations is empty isempty compilation unit rewrite operation compilationunitrewriteoperation ops operations to array toarray compilation unit rewrite operation compilationunitrewriteoperation operations size convert loop fix convertloopfix fix messages fixmessages control statements fix controlstatementsfix change compilation unit compilationunit ops convert loop fix convertloopfix create convert for loop to enhanced fix createconvertforlooptoenhancedfix compilation unit compilationunit compilation unit compilationunit for statement forstatement loop convert loop operation convertloopoperation convert for loop operation convertforloopoperation convert for loop operation convertforloopoperation loop convert for loop operation convertforloopoperation satisfies preconditions satisfiespreconditions isok convert loop fix convertloopfix fix messages fixmessages java convert to enhanced for loop converttoenhancedforloop description compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation convert for loop operation convertforloopoperation convert loop fix convertloopfix create convert iterable loop to enhanced fix createconvertiterablelooptoenhancedfix compilation unit compilationunit compilation unit compilationunit for statement forstatement loop convert iterable loop operation convertiterableloopoperation loop converter loopconverter convert iterable loop operation convertiterableloopoperation loop i status istatus status loop converter loopconverter satisfies preconditions satisfiespreconditions status get severity getseverity i status istatus error convert loop fix convertloopfix fix messages fixmessages java convert to enhanced for loop converttoenhancedforloop description compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation loop converter loopconverter status i status istatus f status fstatus convert loop fix convertloopfix string compilation unit compilationunit compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation fix rewrite operations fixrewriteoperations i status istatus status compilation unit compilationunit fix rewrite operations fixrewriteoperations f status fstatus status override i status istatus get status getstatus f status fstatus
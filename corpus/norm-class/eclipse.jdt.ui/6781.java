copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext java io exception ioexception java util array list arraylist java util java util hash set hashset java util hashtable java util iterator java util list java util random org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources incremental project builder incrementalprojectbuilder org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java model exception javamodelexception org eclipse jdt core compiler i problem iproblem org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom org eclipse jdt core dom name qualified type namequalifiedtype org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom qualified type qualifiedtype org eclipse jdt core dom simple name simplename org eclipse jdt core dom simple type simpletype org eclipse jdt core dom type org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext util messages org eclipse jdt cleanup i clean up fix icleanupfix org eclipse jdt text java i problem location iproblemlocation org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal text correction problem location problemlocation org eclipse jdt internal text correction serial version hash operation serialversionhashoperation org eclipse jdt internal viewsupport basic element labels basicelementlabels potential programming problems fix potentialprogrammingproblemsfix compilation unit rewrite operations fix compilationunitrewriteoperationsfix serializable nls string serializable java serializable serial version field nls string field serialversionuid i serial version fix context iserialversionfixcontext refactoring status refactoringstatus initialize i progress monitor iprogressmonitor monitor core exception coreexception get serial version id getserialversionid i type binding itypebinding binding serial version hash context serialversionhashcontext i serial version fix context iserialversionfixcontext i java project ijavaproject f project fproject i compilation unit icompilationunit f compilation units fcompilationunits hashtable string f ids table fidstable serial version hash context serialversionhashcontext i java project ijavaproject project i compilation unit icompilationunit compilation units compilationunits f project fproject project f compilation units fcompilationunits compilation units compilationunits f ids table fidstable hashtable override refactoring status refactoringstatus initialize i progress monitor iprogressmonitor monitor core exception coreexception monitor monitor null progress monitor nullprogressmonitor refactoring status refactoringstatus result nls monitor begin task begintask nls nls i type itype types find types with missing d findtypeswithmissinguid f project fproject f compilation units fcompilationunits sub progress monitor subprogressmonitor monitor types length refactoring status refactoringstatus f project fproject get project getproject build incremental project builder incrementalprojectbuilder incremental build sub progress monitor subprogressmonitor monitor monitor is canceled iscanceled operation canceled exception operationcanceledexception result refactoring status refactoringstatus ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set project setproject f project fproject i binding ibinding bindings parser create bindings createbindings types sub progress monitor subprogressmonitor monitor bindings length i binding ibinding curr bindings curr i type binding itypebinding i type binding itypebinding type binding typebinding i type binding itypebinding curr serial version hash operation serialversionhashoperation calculate serial version id calculateserialversionid type binding typebinding sub progress monitor subprogressmonitor monitor set serial version id setserialversionid type binding typebinding result add warning addwarning messages format fix messages fixmessages potential programming problems fix potentialprogrammingproblemsfix calculatinguidfailed unknown basic element labels basicelementlabels get java element name getjavaelementname type binding typebinding get name getname io exception ioexception result add warning addwarning messages format fix messages fixmessages potential programming problems fix potentialprogrammingproblemsfix calculatinguidfailed exception string basic element labels basicelementlabels get java element name getjavaelementname type binding typebinding get name getname get local ized message getlocalizedmessage java status context javastatuscontext create types core exception coreexception result add warning addwarning messages format fix messages fixmessages potential programming problems fix potentialprogrammingproblemsfix calculatinguidfailed exception string basic element labels basicelementlabels get java element name getjavaelementname type binding typebinding get name getname get local ized message getlocalizedmessage java status context javastatuscontext create types monitor result override get serial version id getserialversionid i type binding itypebinding binding f ids table fidstable binding get key getkey set serial version id setserialversionid i type binding itypebinding binding f ids table fidstable binding get key getkey i type itype find types with missing d findtypeswithmissinguid i java project ijavaproject project i compilation unit icompilationunit compilation units compilationunits i progress monitor iprogressmonitor monitor core exception coreexception nls monitor begin task begintask nls nls compilation units compilationunits length i type itype serializable project find type findtype serializable list i type itype types array list arraylist compilation units compilationunits length guess building type hierarchy serializable expensive depending subtypes exit project hash set hashset i compilation unit icompilationunit cus hash set hashset compilation units compilationunits length cus add compilation units compilationunits monitor sub task subtask messages format fix messages fixmessages java serial version serialversion calculate hierarchy calculatehierarchy description serializable i type hierarchy itypehierarchy hierarchy serializable new type hierarchy newtypehierarchy project sub progress monitor subprogressmonitor monitor compilation units compilationunits length i type itype all subtypes allsubtypes hierarchy get all subtypes getallsubtypes serializable add types addtypes all subtypes allsubtypes cus types monitor sub task subtask fix messages fixmessages java initialize serial version id initializeserialversionid sub task subtask description compilation units compilationunits length collect children with missing serial version id collectchildrenwithmissingserialversionid compilation units compilationunits get children getchildren serializable types monitor is canceled iscanceled operation canceled exception operationcanceledexception monitor worked types to array toarray i type itype types size monitor add types addtypes i type itype all subtypes allsubtypes hash set hashset i compilation unit icompilationunit cus list i type itype types java model exception javamodelexception all subtypes allsubtypes length i type itype type all subtypes allsubtypes i field ifield field type get field getfield field field exists type is class isclass cus type get compilation unit getcompilationunit types add type collect children with missing serial version id collectchildrenwithmissingserialversionid i java element ijavaelement children i type itype serializable list i type itype result java model exception javamodelexception children length i java element ijavaelement child children child i type itype i type itype type i type itype child type is class isclass i field ifield field type get field getfield field field exists i type hierarchy itypehierarchy hierarchy type new supertype hierarchy newsupertypehierarchy null progress monitor nullprogressmonitor i type itype interfaces hierarchy get all super interfaces getallsuperinterfaces type interfaces length interfaces equals serializable result add type collect children with missing serial version id collectchildrenwithmissingserialversionid type get children getchildren serializable result child i method imethod collect children with missing serial version id collectchildrenwithmissingserialversionid i method imethod child get children getchildren serializable result child i field ifield collect children with missing serial version id collectchildrenwithmissingserialversionid i field ifield child get children getchildren serializable result serial version hash batch operation serialversionhashbatchoperation abstract serial version operation abstractserialversionoperation i serial version fix context iserialversionfixcontext f context fcontext serial version hash batch operation serialversionhashbatchoperation i compilation unit icompilationunit unit ast node astnode node i serial version fix context iserialversionfixcontext context unit node f context fcontext context override add initializer addinitializer variable declaration fragment variabledeclarationfragment fragment ast node astnode declaration node declarationnode i type binding itypebinding type binding typebinding get type binding gettypebinding declaration node declarationnode type binding typebinding f context fcontext get serial version id getserialversionid type binding typebinding fragment set initializer setinitializer fragment getast new number literal newnumberliteral to string tostring suffix override add linked positions addlinkedpositions ast rewrite astrewrite rewrite variable declaration fragment variabledeclarationfragment fragment linked proposal model linkedproposalmodel position groups positiongroups i serial version fix context iserialversionfixcontext f current context fcurrentcontext ip roposable fix iproposablefix create missing serial version fixes createmissingserialversionfixes compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem problem get problem id getproblemid i problem iproblem missing serial version missingserialversion i compilation unit icompilationunit unit i compilation unit icompilationunit compilation unit compilationunit get java element getjavaelement unit simple name simplename simple name simplename get selected name getselectedname compilation unit compilationunit problem simple name simplename ast node astnode declaring node declaringnode get declaration node getdeclarationnode simple name simplename declaring node declaringnode serial version default operation serialversiondefaultoperation def op defop serial version default operation serialversiondefaultoperation unit ast node astnode declaring node declaringnode ip roposable fix iproposablefix potential programming problems fix potentialprogrammingproblemsfix fix messages fixmessages java serial version serialversion description compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation def op defop serial version hash operation serialversionhashoperation hash op hashop serial version hash operation serialversionhashoperation unit ast node astnode declaring node declaringnode ip roposable fix iproposablefix potential programming problems fix potentialprogrammingproblemsfix fix messages fixmessages java serial version serialversion hash description compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation hash op hashop ip roposable fix iproposablefix refactoring status refactoringstatus check pre conditions checkpreconditions i java project ijavaproject project i compilation unit icompilationunit compilation units compilationunits i progress monitor iprogressmonitor monitor calculated id calculatedid default id defaultid random id randomid core exception coreexception default id defaultid f current context fcurrentcontext i serial version fix context iserialversionfixcontext override get serial version id getserialversionid i type binding itypebinding binding override refactoring status refactoringstatus initialize i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus f current context fcurrentcontext initialize monitor random id randomid f current context fcurrentcontext i serial version fix context iserialversionfixcontext random rng override get serial version id getserialversionid i type binding itypebinding binding rng next long nextlong override refactoring status refactoringstatus initialize i progress monitor iprogressmonitor core exception coreexception rng random get time gettime refactoring status refactoringstatus f current context fcurrentcontext initialize monitor calculated id calculatedid f current context fcurrentcontext serial version hash context serialversionhashcontext project compilation units compilationunits f current context fcurrentcontext initialize monitor refactoring status refactoringstatus refactoring status refactoringstatus check post conditions checkpostconditions i progress monitor iprogressmonitor monitor monitor monitor f current context fcurrentcontext refactoring status refactoringstatus i clean up fix icleanupfix create clean up createcleanup compilation unit compilationunit compilation unit compilationunit add serial version ids addserialversionids i problem iproblem problems compilation unit compilationunit get problems getproblems i problem location iproblemlocation locations i problem location iproblemlocation problems length problems length locations problem location problemlocation problems create clean up createcleanup compilation unit compilationunit locations add serial version ids addserialversionids i clean up fix icleanupfix create clean up createcleanup compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problems add serial version ids addserialversionids add serial version ids addserialversionids i compilation unit icompilationunit unit i compilation unit icompilationunit compilation unit compilationunit get java element getjavaelement unit list ast node astnode declaration nodes declarationnodes array list arraylist problems length problems get problem id getproblemid i problem iproblem missing serial version missingserialversion simple name simplename simple name simplename get selected name getselectedname compilation unit compilationunit problems simple name simplename ast node astnode declaration node declarationnode get declaration node getdeclarationnode simple name simplename declaration node declarationnode declaration nodes declarationnodes add declaration node declarationnode declaration nodes declarationnodes size iterator ast node astnode iter declaration nodes declarationnodes iterator iter has next hasnext ast node astnode declaration node declarationnode iter i type binding itypebinding binding get type binding gettypebinding declaration node declarationnode f current context fcurrentcontext get serial version id getserialversionid binding serial version hash batch operation serialversionhashbatchoperation serial version hash batch operation serialversionhashbatchoperation unit declaration nodes declarationnodes to array toarray ast node astnode declaration nodes declarationnodes size f current context fcurrentcontext potential programming problems fix potentialprogrammingproblemsfix fix messages fixmessages potential programming problems fix potentialprogrammingproblemsfix add change compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation simple name simplename get selected name getselectedname compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem ast node astnode selection problem get covered node getcoverednode compilation unit compilationunit selection selection simple type simpletype simple type simpletype selection get name getname selection name qualified type namequalifiedtype name qualified type namequalifiedtype selection get name getname selection qualified type qualifiedtype qualified type qualifiedtype selection get name getname selection parameterized type parameterizedtype parameterized type parameterizedtype type parameterized type parameterizedtype selection type raw type get type gettype raw simple type simpletype simple type simpletype raw get name getname raw name qualified type namequalifiedtype name qualified type namequalifiedtype raw get name getname raw qualified type qualifiedtype qualified type qualifiedtype raw get name getname selection selection is simple name issimplename simple name simplename qualified name qualifiedname get name getname returns declaration node originally selected node param node declaration node ast node astnode get declaration node getdeclarationnode simple name simplename ast node astnode parent get parent getparent parent abstract type declaration abstracttypedeclaration parent parent get parent getparent parent parameterized type parameterizedtype parent type parent parent get parent getparent parent class instance creation classinstancecreation class instance creation classinstancecreation creation class instance creation classinstancecreation parent parent creation get anonymous class declaration getanonymousclassdeclaration parent returns type binding declaration node param parent node type type binding i type binding itypebinding get type binding gettypebinding ast node astnode parent parent abstract type declaration abstracttypedeclaration abstract type declaration abstracttypedeclaration declaration abstract type declaration abstracttypedeclaration parent declaration resolve binding resolvebinding parent anonymous class declaration anonymousclassdeclaration anonymous class declaration anonymousclassdeclaration declaration anonymous class declaration anonymousclassdeclaration parent declaration resolve binding resolvebinding parent parameterized type parameterizedtype parameterized type parameterizedtype type parameterized type parameterizedtype parent type resolve binding resolvebinding potential programming problems fix potentialprogrammingproblemsfix string compilation unit compilationunit compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation fix rewrite operations fixrewriteoperations compilation unit compilationunit fix rewrite operations fixrewriteoperations
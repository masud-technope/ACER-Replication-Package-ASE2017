copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal preferences formatter java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java file java file input stream fileinputstream java file output stream fileoutputstream java i o exception ioexception java input stream inputstream java output stream outputstream java unsupported encoding exception unsupportedencodingexception java util array list arraylist java util collection java util hash map hashmap java util iterator java util list java util map javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers parser configuration exception parserconfigurationexception javax xml parsers sax parser saxparser javax xml parsers sax parser factory saxparserfactory javax xml transform output keys outputkeys javax xml transform transformer javax xml transform transformer exception transformerexception javax xml transform transformer factory transformerfactory javax xml transform dom dom source domsource javax xml transform stream stream result streamresult org xml sax attributes org xml sax input source inputsource org xml sax sax exception saxexception org xml sax helpers default handler defaulthandler org dom document org dom element org eclipse core runtime core exception coreexception org eclipse core runtime i status istatus org eclipse core runtime preferences i eclipse preferences ieclipsepreferences org eclipse core runtime preferences i scope context iscopecontext org eclipse jdt javaui org eclipse jdt internal java plugin javaplugin org eclipse jdt internal javauiexception org eclipse jdt internal javauistatus org eclipse jdt internal preferences formatter profile manager profilemanager custom profile customprofile org eclipse jdt internal preferences formatter profile manager profilemanager profile load store profiles profiles key profileskey profile store profilestore encoding nls string encoding utf nls string version key suffix version sax event handler parse xml format profiles profile default handler profiledefaulthandler default handler defaulthandler list profile f profiles fprofiles f version fversion string f name fname map string string f settings fsettings string f kind fkind override start element startelement string uri string local name localname string q name qname attributes attributes sax exception saxexception q name qname equals xml node setting string key attributes get value getvalue xml attribute string attributes get value getvalue xml attribute f settings fsettings key q name qname equals xml node profile f name fname attributes get value getvalue xml attribute f kind fkind attributes get value getvalue xml attribute profile kind code formatter profile codeformatterprofile created pre f kind fkind f kind fkind profile versioner profileversioner code formatter profile kind f settings fsettings hash map hashmap q name qname equals xml node root f profiles fprofiles array list arraylist f version fversion integer parse int parseint attributes get value getvalue xml attribute version number format exception numberformatexception sax exception saxexception override end element endelement string uri string local name localname string q name qname q name qname equals xml node profile f profiles fprofiles add custom profile customprofile f name fname f settings fsettings f version fversion f kind fkind f name fname f settings fsettings f kind fkind list profile get profiles getprofiles f profiles fprofiles identifiers xml file nls string xml node root profiles nls string xml node profile profile nls string xml node setting setting nls string xml attribute version version nls string xml attribute nls string xml attribute nls string xml attribute profile kind kind nls string xml attribute i profile versioner iprofileversioner f profile versioner fprofileversioner string f profiles key fprofileskey string f profiles version key fprofilesversionkey profile store profilestore string profiles key profileskey i profile versioner iprofileversioner profile versioner profileversioner f profiles key fprofileskey profiles key profileskey f profile versioner fprofileversioner profile versioner profileversioner f profiles version key fprofilesversionkey profiles key profileskey version key suffix returns collection profiles stored preference store code code loading failed elements type link profile manager profilemanager custom profile customprofile updated latest version core exception coreexception list profile read profiles readprofiles i scope context iscopecontext scope core exception coreexception read profiles from string readprofilesfromstring scope get node getnode javaui plugin f profiles key fprofileskey write profiles writeprofiles collection profile profiles i scope context iscopecontext instance scope instancescope core exception coreexception byte array output stream bytearrayoutputstream stream byte array output stream bytearrayoutputstream write profiles to stream writeprofilestostream profiles stream encoding f profile versioner fprofileversioner string val val stream to string tostring encoding unsupported encoding exception unsupportedencodingexception val stream to string tostring i eclipse preferences ieclipsepreferences ui preferences uipreferences instance scope instancescope get node getnode javaui plugin ui preferences uipreferences f profiles key fprofileskey val ui preferences uipreferences put int putint f profiles version key fprofilesversionkey f profile versioner fprofileversioner get current version getcurrentversion stream close i o exception ioexception ignore list profile read profiles from string readprofilesfromstring string profiles core exception coreexception profiles profiles length bytes bytes profiles get bytes getbytes encoding unsupported encoding exception unsupportedencodingexception bytes profiles get bytes getbytes input stream inputstream byte array input stream bytearrayinputstream bytes list profile res read profiles from stream readprofilesfromstream input source inputsource res res size f profile versioner fprofileversioner update custom profile customprofile res res close i o exception ioexception ignore read profiles internal xml file collection code code file profile file param file file read returns list code custom profile customprofile code code code core exception coreexception list profile read profiles from file readprofilesfromfile file file core exception coreexception file input stream fileinputstream reader file input stream fileinputstream file read profiles from stream readprofilesfromstream input source inputsource reader reader close i o exception ioexception ignore i o exception ioexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error reading xml message load profiles xml stream add map code code source profile store param input source inputsource input stream returns list code custom profile customprofile code code code core exception coreexception list profile read profiles from stream readprofilesfromstream input source inputsource input source inputsource core exception coreexception profile default handler profiledefaulthandler handler profile default handler profiledefaulthandler sax parser factory saxparserfactory factory sax parser factory saxparserfactory new instance newinstance sax parser saxparser parser factory newsaxparser parser parse input source inputsource handler sax exception saxexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error reading xml message i o exception ioexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error reading xml message parser configuration exception parserconfigurationexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error reading xml message handler get profiles getprofiles write profiles internal xml file param profiles list code custom profile customprofile code param file file write param encoding encoding core exception coreexception write profiles to file writeprofilestofile collection profile profiles file file string encoding core exception coreexception output stream outputstream stream stream file output stream fileoutputstream file write profiles to stream writeprofilestostream profiles stream encoding f profile versioner fprofileversioner stream close i o exception ioexception ignore i o exception ioexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error serial izing serializing xml message save profiles xml stream param profiles list code custom profile customprofile code param stream stream write param encoding encoding core exception coreexception write profiles to stream writeprofilestostream collection profile profiles output stream outputstream stream string encoding i profile versioner iprofileversioner profile versioner profileversioner core exception coreexception document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance document builder documentbuilder builder factory new document builder newdocumentbuilder document document builder new document newdocument element root element rootelement document create element createelement xml node root root element rootelement set attribute setattribute xml attribute version integer to string tostring profile versioner profileversioner get current version getcurrentversion document append child appendchild root element rootelement iterator profile iter profiles iterator iter has next hasnext profile profile iter profile is profile to save isprofiletosave element profile element profileelement create profile element createprofileelement profile document profile versioner profileversioner root element rootelement append child appendchild profile element profileelement transformer transformer transformer factory transformerfactory new instance newinstance new transformer newtransformer nls transformer set output property setoutputproperty output keys outputkeys method xml transformer set output property setoutputproperty output keys outputkeys encoding encoding nls transformer set output property setoutputproperty output keys outputkeys indent transformer transform dom source domsource document stream result streamresult stream transformer exception transformerexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error serial izing serializing xml message parser configuration exception parserconfigurationexception create exception createexception formatter messages formattermessages coding style configuration block codingstyleconfigurationblock error serial izing serializing xml message create profile element document profile document method element create profile element createprofileelement profile profile document document i profile versioner iprofileversioner profile versioner profileversioner element element document create element createelement xml node profile element set attribute setattribute xml attribute profile get name getname element set attribute setattribute xml attribute version integer to string tostring profile get version getversion element set attribute setattribute xml attribute profile kind profile versioner profileversioner get profile kind getprofilekind iterator string key iter keyiter profile get settings getsettings key set keyset iterator key iter keyiter has next hasnext string key key iter keyiter string profile get settings getsettings key element setting document create element createelement xml node setting setting set attribute setattribute xml attribute key setting set attribute setattribute xml attribute element append child appendchild setting nls java plugin javaplugin log error message logerrormessage nls profile store profilestore profile key key element creates exception logging purposes javauiexception create exception createexception throwable string message javauiexception javauistatus create error createerror i status istatus error message
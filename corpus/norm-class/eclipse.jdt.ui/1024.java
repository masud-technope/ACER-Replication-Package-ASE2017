copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation nikolay metchev nikolaymetchev gmail ctrl shift creates imports methods https bugs eclipse org org eclipse jdt tests core java util hashtable junit framework test junit framework test suite testsuite org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse jdt test plugin testplugin test options testoptions org eclipse core runtime core exception coreexception org eclipse text edits text edit textedit org eclipse jdt core binding key bindingkey org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast parser astparser org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom type org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt internal corext code manipulation codemanipulation add imports operation addimportsoperation org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal text correction assist context assistcontext add import test addimporttest core tests coretests add import test addimporttest add import test addimporttest i java project ijavaproject fjproject add import test addimporttest string test suite set up test setuptest test suite testsuite test set up test setuptest test test project test setup projecttestsetup test override set up setup exception fjproject project test setup projecttestsetup get project getproject java project helper javaprojecthelper compiler options compileroptions fjproject hashtable string string options test options testoptions get default options getdefaultoptions options default code formatter constants defaultcodeformatterconstants formatter number empty lines preserve string value of valueof java core javacore set options setoptions options override tear down teardown exception java project helper javaprojecthelper clear fjproject project test setup projecttestsetup get default classpath getdefaultclasspath test add imports testaddimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java util map buf append java util buf append java util vector buf append buf append pack list buf append pack list buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java pack import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add import addimport java net socket imports add import addimport imports add import addimport foo apply imports buf string buffer stringbuffer buf append pack buf append buf append java net socket buf append java util map buf append java util buf append java util vector buf append buf append foo buf append buf append pack list buf append pack list buf append buf append buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add imports testaddimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java util buf append java util vector buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java java util pack import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add import addimport java socket apply imports buf string buffer stringbuffer buf append pack buf append buf append java socket buf append buf append java util buf append java util vector buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add imports testaddimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java util comment buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java java util pack import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add import addimport java util vector apply imports buf string buffer stringbuffer buf append pack buf append buf append java util comment buf append java util vector buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test remove imports testremoveimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java util buf append java util vector buf append java util map buf append buf append pack list buf append pack list buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java pack import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports remove import removeimport java util imports remove import removeimport pack list apply imports buf string buffer stringbuffer buf append pack buf append buf append java util buf append buf append pack list buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test remove imports testremoveimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java util buf append java util vector comment buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java pack import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports remove import removeimport java util vector apply imports buf string buffer stringbuffer buf append pack buf append buf append java util buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test remove imports testremoveimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append pack create compilation unit createcompilationunit java buf to string tostring i package fragment ipackagefragment test source folder sourcefolder create package fragment createpackagefragment test buf string buffer stringbuffer buf append test buf append buf append pack buf append pack buf append pack not there notthere buf append pack buf append pack buf append pack not there notthere buf append buf append buf append i compilation unit icompilationunit cu t cut test create compilation unit createcompilationunit java buf to string tostring ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource cu t cut parser set resolve bindings setresolvebindings compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast import rewrite importrewrite imports new imports rewrite newimportsrewrite ast root astroot string imports set use context t o filter implicit imports setusecontexttofilterimplicitimports imports remove import removeimport pack imports remove import removeimport pack not there notthere imports remove import removeimport pack imports remove import removeimport pack not there notthere apply imports buf string buffer stringbuffer buf append test buf append buf append pack buf append pack buf append buf append buf append assert equal string assertequalstring cu t cut get source getsource buf to string tostring test add imports testaddimports bug exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add import addimport apply imports buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add imports testaddimports bug exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java awt panel buf append buf append java math big integer biginteger buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java awt java import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add import addimport java applet applet apply imports buf string buffer stringbuffer buf append pack buf append buf append java awt panel buf append buf append java applet applet buf append java math big integer biginteger buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add imports testaddimports bug exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add import addimport java exception apply imports buf string buffer stringbuffer buf append pack buf append buf append java exception buf append java lang system buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add static imports testaddstaticimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add static import addstaticimport java lang math min imports add import addimport java lang math imports add static import addstaticimport java lang math max apply imports buf string buffer stringbuffer buf append pack buf append buf append java lang math max buf append java lang math min buf append buf append java lang system buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add static imports testaddstaticimports exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add static import addstaticimport my constants myconstants size imports add static import addstaticimport my constants myconstants imports add import addimport my constants myconstants apply imports buf string buffer stringbuffer buf append pack buf append buf append my constants myconstants size buf append my constants myconstants buf append buf append java lang system buf append buf append my constants myconstants buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test import structure with signatures testimportstructurewithsignatures exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java util buf append java net buf append java buf append buf append foo buf append i o exception ioexception buf append url buf append list socket address socketaddress buf append buf append string content buf to string tostring i compilation unit icompilationunit pack create compilation unit createcompilationunit java content buf string buffer stringbuffer buf append test buf append buf append string content buf to string tostring i compilation unit icompilationunit pack create compilation unit createcompilationunit java content string order string java util java java net threshold ast ast ast newast ast provider astprovider shared ast level import rewrite importrewrite imports rewrite importsrewrite new imports rewrite newimportsrewrite order threshold i java element ijavaelement elements code select codeselect content index of indexof i o exception ioexception i o exception ioexception length assert equals assertequals elements length string key i type itype elements get key getkey string signature binding key bindingkey key to signature tosignature imports rewrite importsrewrite add import from signature addimportfromsignature signature ast i java element ijavaelement elements code select codeselect content index of indexof url url length assert equals assertequals elements length string key i type itype elements get key getkey string signature binding key bindingkey key to signature tosignature imports rewrite importsrewrite add import from signature addimportfromsignature signature ast i java element ijavaelement elements code select codeselect content index of indexof list list length assert equals assertequals elements length string key i type itype elements get key getkey string signature binding key bindingkey key to signature tosignature imports rewrite importsrewrite add import from signature addimportfromsignature signature ast apply imports rewrite importsrewrite buf string buffer stringbuffer buf append test buf append buf append java util list buf append buf append java i o exception ioexception buf append buf append java net socket address socketaddress buf append java net url buf append buf append buf append assert equal string ignore delim assertequalstringignoredelim get source getsource buf to string tostring test add types with captures testaddtypeswithcaptures exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append foo buf append get class getclass buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource parser set resolve bindings setresolvebindings compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast string str get class getclass method invocation methodinvocation inv method invocation methodinvocation node finder nodefinder perform ast root astroot buf index of indexof str str length i type binding itypebinding binding inv resolve type binding resolvetypebinding import rewrite importrewrite rewrite new imports rewrite newimportsrewrite ast root astroot string string string rewrite add import addimport binding assert equals assertequals string type res node resnode rewrite add import addimport binding ast root astroot getast assert equals assertequals ast nodes astnodes as string asstring res node resnode string signature binding key bindingkey binding get key getkey to signature tosignature type res node resnode rewrite add import from signature addimportfromsignature signature ast root astroot getast assert equals assertequals ast nodes astnodes as string asstring res node resnode test add types with captures testaddtypeswithcaptures exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append bar buf append foo buf append bar buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource parser set resolve bindings setresolvebindings compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast string str bar method invocation methodinvocation inv method invocation methodinvocation node finder nodefinder perform ast root astroot buf index of indexof str str length i type binding itypebinding binding inv resolve type binding resolvetypebinding import rewrite importrewrite rewrite new imports rewrite newimportsrewrite ast root astroot string string string rewrite add import addimport binding assert equals assertequals string type res node resnode rewrite add import addimport binding ast root astroot getast assert equals assertequals ast nodes astnodes as string asstring res node resnode string signature binding key bindingkey binding get key getkey to signature tosignature type res node resnode rewrite add import from signature addimportfromsignature signature ast root astroot getast assert equals assertequals ast nodes astnodes as string asstring res node resnode test add types with captures testaddtypeswithcaptures exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append bar buf append foo buf append bar buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource parser set resolve bindings setresolvebindings compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast string str bar method invocation methodinvocation inv method invocation methodinvocation node finder nodefinder perform ast root astroot buf index of indexof str str length i type binding itypebinding binding inv resolve type binding resolvetypebinding import rewrite importrewrite rewrite new imports rewrite newimportsrewrite ast root astroot string string string rewrite add import addimport binding assert equals assertequals string type res node resnode rewrite add import addimport binding ast root astroot getast assert equals assertequals ast nodes astnodes as string asstring res node resnode string signature binding key bindingkey binding get key getkey to signature tosignature type res node resnode rewrite add import from signature addimportfromsignature signature ast root astroot getast assert equals assertequals ast nodes astnodes as string asstring res node resnode test import structure with signatures testimportstructurewithsignatures exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java util buf append java net buf append java buf append buf append foo buf append map server socket serversocket buf append buf append string content buf to string tostring i compilation unit icompilationunit pack create compilation unit createcompilationunit java content buf string buffer stringbuffer buf append test buf append buf append string content buf to string tostring i compilation unit icompilationunit pack create compilation unit createcompilationunit java content string order string java util java java net threshold ast ast ast newast ast provider astprovider shared ast level import rewrite importrewrite imports rewrite importsrewrite new imports rewrite newimportsrewrite order threshold i java element ijavaelement elements code select codeselect content index of indexof map map length assert equals assertequals elements length string key i type itype elements get key getkey string signature binding key bindingkey key to signature tosignature imports rewrite importsrewrite add import from signature addimportfromsignature signature ast apply imports rewrite importsrewrite buf string buffer stringbuffer buf append test buf append buf append java util map buf append java util buf append buf append java net server socket serversocket buf append buf append buf append assert equal string ignore delim assertequalstringignoredelim get source getsource buf to string tostring test added removed imports i testaddedremovedimportsapi exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java util vector buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string order string java import rewrite importrewrite imports new imports rewrite newimportsrewrite order imports add static import addstaticimport java lang math min imports add import addimport java lang math assert added and removed assertaddedandremoved imports string java lang math string string java lang math min string imports add import addimport java lang math imports add static import addstaticimport java lang math max assert added and removed assertaddedandremoved imports string java lang math string string java lang math min java lang math max string imports remove import removeimport java lang math imports remove import removeimport java util vector imports remove static import removestaticimport java lang math dup assert added and removed assertaddedandremoved imports string string java util vector string java lang math min java lang math max string imports add import addimport java util vector imports add static import addstaticimport pack assert added and removed assertaddedandremoved imports string string string java lang math min java lang math max pack string apply imports buf string buffer stringbuffer buf append pack buf append buf append java lang math max buf append java lang math min buf append pack buf append buf append java util vector buf append buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring assert added and removed assertaddedandremoved import rewrite importrewrite imports string expected added expectedadded string expected removed expectedremoved string expected added static expectedaddedstatic string expected removed static expectedremovedstatic assert equal strings ignore order assertequalstringsignoreorder imports get added imports getaddedimports expected added expectedadded assert equal strings ignore order assertequalstringsignoreorder imports get added static imports getaddedstaticimports expected added static expectedaddedstatic assert equal strings ignore order assertequalstringsignoreorder imports get removed imports getremovedimports expected removed expectedremoved assert equal strings ignore order assertequalstringsignoreorder imports get removed static imports getremovedstaticimports expected removed static expectedremovedstatic test add import action testaddimportaction exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append java util vector buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof vector add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append java util vector buf append buf append buf append vector buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action testaddimportaction exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append vector buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof vector add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append java util vector buf append buf append buf append vector buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action testaddimportaction exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append missing semicolon buf append vector buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof vector add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append java util vector buf append buf append buf append vector buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action testaddimportaction exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append missing semicolon buf append java util vector buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof vector add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append java util vector buf append buf append buf append vector buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action testaddimportaction exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java serializable buf append buf append buf append serializable buf append bar buf append java serializable ser buf append buf append buf append secondary buf append serializable buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof ser add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java serializable buf append buf append buf append serializable buf append bar change buf append java serializable ser buf append buf append buf append secondary buf append serializable buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action bug testaddimportactionbug test exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment string input foo bar bar i compilation unit icompilationunit pack create compilation unit createcompilationunit java input sel offset seloffset input index of indexof bar add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset string expected foo bar bar assert equal string assertequalstring get source getsource expected test add import action bug testaddimportactionbug test exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment string input foo bar bar i compilation unit icompilationunit pack create compilation unit createcompilationunit java input sel offset seloffset input index of indexof bar add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset string expected foo bar bar assert equal string assertequalstring get source getsource expected test add import action bug testaddimportactionbug test exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment string input snippet x snippetx test foo test bar bar i compilation unit icompilationunit pack create compilation unit createcompilationunit java input sel offset seloffset input index of indexof bar add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset string expected snippet x snippetx test foo bar bar assert equal string assertequalstring get source getsource expected test add import action bug testaddimportactionbug test exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment string buffer stringbuffer buf string buffer stringbuffer buf append buf append buf append snippet y snippety buf append test buf append bar buf append buf append buf append foo buf append test bar buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof bar add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append buf append buf append snippet y snippety test bar buf append buf append snippet y snippety buf append test buf append bar buf append buf append buf append foo buf append bar buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action bug testaddimportactionbug test exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment string buffer stringbuffer buf string buffer stringbuffer buf append org anize organize imports pvt static members pvtstaticmembers bug buf append buf append snippet y snippety buf append test buf append bar buf append buf append buf append foo buf append test bar buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof bar add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset assert equal string assertequalstring get source getsource get source getsource test add import action bug testaddimportactionbug test exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment string input a inputa bar string input b inputb foo bar pack create compilation unit createcompilationunit java input a inputa i compilation unit icompilationunit cu b cub pack create compilation unit createcompilationunit java input b inputb sel offset seloffset input b inputb index of indexof bar add imports operation addimportsoperation add imports operation addimportsoperation cu b cub sel offset seloffset string expected foo bar assert equal string assertequalstring cu b cub get source getsource expected test add import action testaddimportaction bug exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append java util vector buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof vector vector length add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append change buf append java util vector buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action static testaddimportactionstatic exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append string str java file separator buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof separator add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java file separator buf append buf append java lang system buf append buf append buf append string str separator buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action static with testaddimportactionstaticwith exception java project helper javaprojecthelper compiler options compileroptions fjproject i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append string str java file separator buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof separator add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang system buf append buf append buf append string str java file separator buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action nested type testaddimportactionnestedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append java lang thread buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof thread add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append buf append thread buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action nested type testaddimportactionnestedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append java lang thread buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang thread buf append buf append buf append buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action parameterized type testaddimportactionparameterizedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append java util map string integer buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof map add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java util map buf append buf append buf append map string integer buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action parameterized type testaddimportactionparameterizedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append java util map entry buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof entry add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java util map entry buf append buf append buf append entry buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action parameterized type testaddimportactionparameterizedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append java util map entry string object buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof map add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java util map buf append buf append buf append map entry string object buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action parameterized type testaddimportactionparameterizedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append java util map entry string object buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof entry add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java util map entry buf append buf append buf append entry string object buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action parameterized type testaddimportactionparameterizedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append middle buf append buf append buf append buf append pack create compilation unit createcompilationunit java buf to string tostring i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack buf string buffer stringbuffer buf append pack buf append buf append buf append pack middle string integer buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof middle add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append pack middle buf append buf append buf append middle string integer buf append assert equal string assertequalstring get source getsource buf to string tostring don touch nested type parameterized test add import action parameterized type testaddimportactionparameterizedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append middle buf append buf append buf append buf append pack create compilation unit createcompilationunit java buf to string tostring i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack buf string buffer stringbuffer buf append pack buf append buf append buf append pack middle string integer buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append buf append pack middle string integer buf append assert equal string assertequalstring get source getsource buf to string tostring test add import action annotated type testaddimportactionannotatedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang annotation element type elementtype buf append java lang annotation target buf append buf append buf append java text format field buf append buf append target element type elementtype type i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof format add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang annotation element type elementtype buf append java lang annotation target buf append java text format buf append buf append buf append format field buf append buf append target element type elementtype type assert equal string assertequalstring get source getsource buf to string tostring don touch nested type annotated test add import action annotated type testaddimportactionannotatedtype exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append java lang annotation element type elementtype buf append java lang annotation target buf append buf append buf append java text format field buf append buf append target element type elementtype type i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring sel offset seloffset buf index of indexof field add imports operation addimportsoperation add imports operation addimportsoperation sel offset seloffset buf string buffer stringbuffer buf append pack buf append buf append java lang annotation element type elementtype buf append java lang annotation target buf append buf append buf append java text format field buf append buf append target element type elementtype type assert equal string assertequalstring get source getsource buf to string tostring test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append foo insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected java lang math string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string java lang math test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append foo insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected java lang math java lang math string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append foo insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert static import as expected assertstaticimportasexpected java lang math string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string java lang math test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append foo insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert static import as expected assertstaticimportasexpected java lang math java lang math string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append buf append insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string pack test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append buf append insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append buf append buf append insert buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append bar buf append foo buf append buf append bar buf append insert buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append buf append buf append bar buf append foo buf append buf append bar buf append insert buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string pack test add import context sensitive testaddimportcontextsensitive bug exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append foo buf append insert buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string pack test add import context sensitive testaddimportcontextsensitive exception i package fragment root ipackagefragmentroot source folder sourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment pack string buffer stringbuffer buf string buffer stringbuffer buf append pack buf append buf append buf append pack create compilation unit createcompilationunit java buf to string tostring buf string buffer stringbuffer buf append pack buf append buf append insert buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring string added imports addedimports assert import qualifier as expected assertimportqualifierasexpected pack string assert equal strings ignore order assertequalstringsignoreorder added imports addedimports string string assert import qualifier as expected assertimportqualifierasexpected i compilation unit icompilationunit string to import toimport string expected qualifier expectedqualifier string import order importorder threshold static threshold staticthreshold java model exception javamodelexception string buf get source getsource string selection insert offset buf index of indexof selection length assist context assistcontext context assist context assistcontext offset length import rewrite importrewrite import rewrite importrewrite new imports rewrite newimportsrewrite context getastroot import order importorder threshold static threshold staticthreshold string qualifier import rewrite importrewrite add import addimport to import toimport context sensitive import rewrite context contextsensitiveimportrewritecontext context getastroot offset import rewrite importrewrite assert equals assertequals type conflict detected expected qualifier expectedqualifier qualifier import rewrite importrewrite get added imports getaddedimports string assert static import as expected assertstaticimportasexpected i compilation unit icompilationunit string declaring class name declaringclassname string field name fieldname string expected qualifier expectedqualifier string import order importorder threshold static threshold staticthreshold java model exception javamodelexception string code get source getsource string selection insert offset code index of indexof selection length assist context assistcontext context assist context assistcontext offset length import rewrite importrewrite import rewrite importrewrite new imports rewrite newimportsrewrite context getastroot import order importorder threshold static threshold staticthreshold string qualifier import rewrite importrewrite add static import addstaticimport declaring class name declaringclassname field name fieldname context sensitive import rewrite context contextsensitiveimportrewritecontext context getastroot offset import rewrite importrewrite assert equals assertequals type conflict detected expected qualifier expectedqualifier qualifier import rewrite importrewrite get added static imports getaddedstaticimports import rewrite importrewrite new imports rewrite newimportsrewrite i compilation unit icompilationunit string order threshold restore existing imports restoreexistingimports core exception coreexception new imports rewrite newimportsrewrite order threshold threshold restore existing imports restoreexistingimports apply import rewrite importrewrite rewrite core exception coreexception text edit textedit edit rewrite rewrite imports rewriteimports java model util javamodelutil apply edit applyedit rewrite get compilation unit getcompilationunit edit
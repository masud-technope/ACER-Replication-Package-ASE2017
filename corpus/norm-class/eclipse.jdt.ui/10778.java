copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal package view packageview java util array list arraylist java util arrays java util collection java util collections java util hash set hashset java util iterator java util list java util org eclipse core runtime org eclipse core runtime i adaptable iadaptable org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse jface util i property change listener ipropertychangelistener org eclipse jface util property change event propertychangeevent org eclipse jface viewers tree path treepath org eclipse i working set iworkingset org eclipse i working set manager iworkingsetmanager org eclipse jdt core i java element ijavaelement org eclipse jdt core i java model ijavamodel org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore org eclipse jdt internal working sets workingsets working set model workingsetmodel working set aware content provider workingsetawarecontentprovider package explorer content provider packageexplorercontentprovider i multi element tree content provider imultielementtreecontentprovider working set model workingsetmodel f working set model fworkingsetmodel i property change listener ipropertychangelistener f listener flistener working set aware content provider workingsetawarecontentprovider provide members providemembers working set model workingsetmodel model provide members providemembers f working set model fworkingsetmodel model f listener flistener i property change listener ipropertychangelistener override property change propertychange property change event propertychangeevent event working set model changed workingsetmodelchanged event f working set model fworkingsetmodel add property change listener addpropertychangelistener f listener flistener override dispose f working set model fworkingsetmodel remove property change listener removepropertychangelistener f listener flistener dispose override has children haschildren object element element i working set iworkingset has children haschildren element override object get children getchildren object element object children element working set model workingsetmodel is true istrue f working set model fworkingsetmodel element f working set model fworkingsetmodel get active working sets getactiveworkingsets element i working set iworkingset children get working set children getworkingsetchildren i working set iworkingset element children get children getchildren element children object get working set children getworkingsetchildren i working set iworkingset i adaptable iadaptable elements f working set model fworkingsetmodel get children getchildren i adaptable iadaptable result hash set hashset elements length elements length i adaptable iadaptable element elements element i project iproject add closed projects process resource processresource i project iproject element result element i resource iresource i project iproject project i resource iresource element get project getproject project is open isopen process resource processresource i resource iresource element result element i java project ijavaproject add closed projects result add element element i java element ijavaelement i java element ijavaelement elem i java element ijavaelement element i project iproject project get project getproject elem project project is open isopen result add elem i project iproject project element get adapter getadapter i project iproject project process resource processresource project result result to array toarray process resource processresource i resource iresource resource collection i adaptable iadaptable result i java element ijavaelement elem java core javacore create resource elem elem exists result add elem result add resource i project iproject get project getproject i java element ijavaelement element i java project ijavaproject project element get java project getjavaproject project project get project getproject override tree path treepath get tree paths gettreepaths object element element i working set iworkingset tree path treepath path tree path treepath object element tree path treepath path list object model parents modelparents get model path getmodelpath element list tree path treepath result array list arraylist model parents modelparents size result add all addall get tree paths gettreepaths model parents modelparents result to array toarray tree path treepath result size list object get model path getmodelpath object element list object result array list arraylist result add element object parent get parent getparent element object input get viewer input getviewerinput input java model javamodel vis ualize visualize parent parent equals input parent i java model ijavamodel result add parent parent get parent getparent parent collections reverse result result list tree path treepath get tree paths gettreepaths list object model parents modelparents list tree path treepath result array list arraylist object input get viewer input getviewerinput object element model parents modelparents object parents f working set model fworkingsetmodel get all parents getallparents element parents length list object chain array list arraylist parents equals input chain add parents model parents modelparents size chain add model parents modelparents result add tree path treepath chain to array toarray result override object get parent getparent object child object parents f working set model fworkingsetmodel get all parents getallparents child parents length get parent getparent child object parents override augment element to refresh augmentelementtorefresh list object to refresh torefresh relation object affected element affectedelement ref res hing refreshing java model javamodel working mode java core javacore create resources plugin resourcesplugin get workspace getworkspace get root getroot equals affected element affectedelement to refresh torefresh remove affected element affectedelement to refresh torefresh add f working set model fworkingsetmodel relation grant parent object parent internal get parent internalgetparent affected element affectedelement parent to refresh torefresh add all addall arrays as list aslist f working set model fworkingsetmodel get all parents getallparents parent list i adaptable iadaptable non projet top level elem ens nonprojettoplevelelemens f working set model fworkingsetmodel get non project top level elements getnonprojecttoplevelelements non projet top level elem ens nonprojettoplevelelemens is empty isempty list object to add toadd array list arraylist iterator i adaptable iadaptable iter non projet top level elem ens nonprojettoplevelelemens iterator iter has next hasnext object element iter is child of ischildof element to refresh torefresh to add toadd add element to refresh torefresh add all addall to add toadd working set model changed workingsetmodelchanged property change event propertychangeevent event string property event get property getproperty object new value newvalue event get new value getnewvalue list object to refresh torefresh array list arraylist working set model workingsetmodel change working model content equals property to refresh torefresh add f working set model fworkingsetmodel i working set manager iworkingsetmanager change working content change equals property to refresh torefresh add new value newvalue i working set manager iworkingsetmanager change working label change equals property to refresh torefresh add new value newvalue array list arraylist runnable run nables runnables array list arraylist post refresh postrefresh to refresh torefresh run nables runnables execute run nables executerunnables run nables runnables is child of ischildof object element list object potential parents potentialparents calling parent bypass working mapping object parent get parent getparent element parent iterator object iter potential parents potentialparents iterator iter has next hasnext object potential parent potentialparent iter parent parent equals potential parent potentialparent parent get parent getparent parent
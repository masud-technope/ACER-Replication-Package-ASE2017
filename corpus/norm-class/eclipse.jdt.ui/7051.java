copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal wizards java net uri java util array list arraylist java util hash set hashset java util list java util org eclipse equinox bidi structured text type handler factory structuredtexttypehandlerfactory org eclipse swt swt org eclipse swt layout grid layout gridlayout org eclipse swt widgets composite org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs dialog org eclipse jface util bidi utils bidiutils org eclipse jface viewers i label provider ilabelprovider org eclipse jface viewers i structured selection istructuredselection org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers viewer filter viewerfilter org eclipse jface window window org eclipse platformui org eclipse dialogs element list selection dialog elementlistselectiondialog org eclipse dialogs element tree selection dialog elementtreeselectiondialog org eclipse dialogs i selection status validator iselectionstatusvalidator org eclipse model workbench content provider workbenchcontentprovider org eclipse model workbench label provider workbenchlabelprovider org eclipse views navigator resource comparator resourcecomparator org eclipse jdt core i classpath attribute iclasspathattribute org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java element ijavaelement org eclipse jdt core i java model status ijavamodelstatus org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java conventions javaconventions org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util messages org eclipse jdt java element label provider javaelementlabelprovider org eclipse jdt preference constants preferenceconstants org eclipse jdt wizards new element wizard page newelementwizardpage org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal java plugin javaplugin org eclipse jdt internal dialogs status info statusinfo org eclipse jdt internal java editor javaeditor editor utility editorutility org eclipse jdt internal util core utility coreutility org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal wizards build paths buildpaths build paths block buildpathsblock org eclipse jdt internal wizards dialogfields dialog field dialogfield org eclipse jdt internal wizards dialogfields i dialog field listener idialogfieldlistener org eclipse jdt internal wizards dialogfields i string button adapter istringbuttonadapter org eclipse jdt internal wizards dialogfields layout util layoututil org eclipse jdt internal wizards dialogfields selection button dialog field selectionbuttondialogfield org eclipse jdt internal wizards dialogfields string button dialog field stringbuttondialogfield new source folder wizard page newsourcefolderwizardpage new element wizard page newelementwizardpage nls i classpath attribute iclasspathattribute attr ignore optional problems java core javacore new classpath attribute newclasspathattribute i classpath attribute iclasspathattribute ignore optional problems nls string new source folder wizard page newsourcefolderwizardpage string button dialog field stringbuttondialogfield f project field fprojectfield status info statusinfo f project status fprojectstatus string button dialog field stringbuttondialogfield f root dialog field frootdialogfield status info statusinfo f root status frootstatus selection button dialog field selectionbuttondialogfield f exclude in others fields fexcludeinothersfields selection button dialog field selectionbuttondialogfield f ignore optional problems field fignoreoptionalproblemsfield i workspace root iworkspaceroot f workspace root fworkspaceroot i java project ijavaproject f curr project fcurrjproject i classpath entry iclasspathentry f entries fentries i path ipath f output location foutputlocation i classpath entry iclasspathentry f new entries fnewentries i path ipath f new output location fnewoutputlocation f is project as source folder fisprojectassourcefolder i package fragment root ipackagefragmentroot f created root fcreatedroot new source folder wizard page newsourcefolderwizardpage set title settitle new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage title set description setdescription new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage description f workspace root fworkspaceroot resources plugin resourcesplugin get workspace getworkspace get root getroot root field adapter rootfieldadapter adapter root field adapter rootfieldadapter f project field fprojectfield string button dialog field stringbuttondialogfield adapter f project field fprojectfield set dialog field listener setdialogfieldlistener adapter f project field fprojectfield set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage project label f project field fprojectfield set button label setbuttonlabel new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage project button f root dialog field frootdialogfield string button dialog field stringbuttondialogfield adapter f root dialog field frootdialogfield set dialog field listener setdialogfieldlistener adapter f root dialog field frootdialogfield set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage root label f root dialog field frootdialogfield set button label setbuttonlabel new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage root button f exclude in others fields fexcludeinothersfields selection button dialog field selectionbuttondialogfield swt check f exclude in others fields fexcludeinothersfields set dialog field listener setdialogfieldlistener adapter f exclude in others fields fexcludeinothersfields set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage exclude label f exclude in others fields fexcludeinothersfields set enabled setenabled java core javacore enabled equals java core javacore get option getoption java core javacore core enable classpath exclusion patterns f ignore optional problems field fignoreoptionalproblemsfield selection button dialog field selectionbuttondialogfield swt check f ignore optional problems field fignoreoptionalproblemsfield set dialog field listener setdialogfieldlistener adapter f ignore optional problems field fignoreoptionalproblemsfield set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage ignore optional problems label f ignore optional problems field fignoreoptionalproblemsfield set selection setselection f root status frootstatus status info statusinfo f project status fprojectstatus status info statusinfo initialization init i structured selection istructuredselection selection string proj path projpath get project path getprojectpath selection nls f project field fprojectfield set text settext proj path projpath proj path projpath nls f root dialog field frootdialogfield set text settext string get project path getprojectpath i structured selection istructuredselection selection object selected element selectedelement selection selection is empty isempty selected element selectedelement editor utility editorutility get active editor java input getactiveeditorjavainput selection size selected element selectedelement selection get first element getfirstelement selected element selectedelement i resource iresource i project iproject proj i resource iresource selected element selectedelement get project getproject proj proj get full path getfullpath make relative makerelative to string tostring selected element selectedelement i java element ijavaelement i java project ijavaproject jproject i java element ijavaelement selected element selectedelement get java project getjavaproject jproject jproject get project getproject get full path getfullpath make relative makerelative to string tostring creation org eclipse jface dialogs i dialog page idialogpage create control createcontrol org eclipse swt widgets composite override create control createcontrol composite parent initialize dialog units initializedialogunits parent composite composite composite parent swt grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns composite set layout setlayout layout f project field fprojectfield do fill into grid dofillintogrid composite f root dialog field frootdialogfield do fill into grid dofillintogrid composite f exclude in others fields fexcludeinothersfields do fill into grid dofillintogrid composite f ignore optional problems field fignoreoptionalproblemsfield do fill into grid dofillintogrid composite max field width maxfieldwidth convert width in chars to pixels convertwidthincharstopixels layout util layoututil set width hint setwidthhint f project field fprojectfield get text control gettextcontrol max field width maxfieldwidth layout util layoututil set horizontal grabbing sethorizontalgrabbing f project field fprojectfield get text control gettextcontrol layout util layoututil set width hint setwidthhint f root dialog field frootdialogfield get text control gettextcontrol max field width maxfieldwidth bidi utils bidiutils apply bidi processing applybidiprocessing f root dialog field frootdialogfield get text control gettextcontrol structured text type handler factory structuredtexttypehandlerfactory file set control setcontrol composite dialog apply dialog font applydialogfont composite platformui get workbench getworkbench get help system gethelpsystem set help sethelp composite i java help context ids ijavahelpcontextids package root packageroot wizard org eclipse jface dialogs i dialog page idialogpage set visible setvisible override set visible setvisible visible set visible setvisible visible visible f project field fprojectfield get text gettext length f root dialog field frootdialogfield set focus setfocus root field adapter rootfieldadapter i string button adapter istringbuttonadapter i dialog field listener idialogfieldlistener i string button adapter istringbuttonadapter override change control pressed changecontrolpressed dialog field dialogfield field pack root change control pressed packrootchangecontrolpressed field i dialog field listener idialogfieldlistener override dialog field changed dialogfieldchanged dialog field dialogfield field pack root dialog field changed packrootdialogfieldchanged field pack root change control pressed packrootchangecontrolpressed dialog field dialogfield field field f root dialog field frootdialogfield i path ipath initial path initialpath path f root dialog field frootdialogfield get text gettext string title new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage choose existing root dialog chooseexistingrootdialog title string message new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage choose existing root dialog chooseexistingrootdialog description i folder ifolder folder choose folder choosefolder title message initial path initialpath folder i path ipath path folder get full path getfullpath remove first segments removefirstsegments f root dialog field frootdialogfield set text settext path to string tostring field f project field fprojectfield i java project ijavaproject jproject choose project chooseproject jproject i path ipath path jproject get project getproject get full path getfullpath make relative makerelative f project field fprojectfield set text settext path to string tostring pack root dialog field changed packrootdialogfieldchanged dialog field dialogfield field field f root dialog field frootdialogfield update root status updaterootstatus field f project field fprojectfield update project status updateprojectstatus update root status updaterootstatus field f exclude in others fields fexcludeinothersfields update root status updaterootstatus field f ignore optional problems field fignoreoptionalproblemsfield update root status updaterootstatus update status updatestatus i status istatus f project status fprojectstatus f root status frootstatus update project status updateprojectstatus f curr project fcurrjproject f is project as source folder fisprojectassourcefolder string str f project field fprojectfield get text gettext str length f project status fprojectstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error enter project name enterprojectname i path ipath path path str path segment count segmentcount f project status fprojectstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error invalid project path invalidprojectpath i project iproject project f workspace root fworkspaceroot get project getproject path to string tostring project exists f project status fprojectstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error project not exists projectnotexists project is open isopen f project status fprojectstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error project not open projectnotopen project has nature hasnature java core javacore nature f curr project fcurrjproject java core javacore create project f entries fentries f curr project fcurrjproject get raw classpath getrawclasspath f output location foutputlocation f curr project fcurrjproject get output location getoutputlocation f project status fprojectstatus setok core exception coreexception java plugin javaplugin log f curr project fcurrjproject f project status fprojectstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error not java project notajavaproject update root status updaterootstatus f root dialog field frootdialogfield enable button enablebutton f curr project fcurrjproject f is project as source folder fisprojectassourcefolder f curr project fcurrjproject f root status frootstatus setok i path ipath proj path projpath f curr project fcurrjproject get project getproject get full path getfullpath string str f root dialog field frootdialogfield get text gettext str length f root status frootstatus set error seterror messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error enter root name enterrootname basic element labels basicelementlabels get path label getpathlabel f curr project fcurrjproject get path getpath i path ipath path proj path projpath append str i status istatus validate f workspace root fworkspaceroot get workspace getworkspace validate path validatepath path to string tostring i resource iresource folder validate matches i status istatus error f root status frootstatus set error seterror messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error invalid root name invalidrootname validate get message getmessage i resource iresource res f workspace root fworkspaceroot find member findmember path res res get type gettype i resource iresource folder f root status frootstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error notafolder res is virtual isvirtual f root status frootstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error folder is virtual folderisvirtual resources plugin resourcesplugin get workspace getworkspace validate filtered validatefiltered f workspace root fworkspaceroot get folder getfolder path isok f root status frootstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error folder name filtered foldernamefiltered uri proj location projlocation f curr project fcurrjproject get project getproject getlocationuri proj location projlocation i file store ifilestore store efs get store getstore proj location projlocation get child getchild str store fetch info fetchinfo exists f root status frootstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error already existing different case alreadyexistingdifferentcase core exception coreexception array list arraylist i classpath entry iclasspathentry new entries newentries array list arraylist f entries fentries length project entry index projectentryindex f entries fentries length i classpath entry iclasspathentry curr f entries fentries curr get entry kind getentrykind i classpath entry iclasspathentry cpe source path equals curr get path getpath f root status frootstatus set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error already existing alreadyexisting proj path projpath equals curr get path getpath project entry index projectentryindex new entries newentries add curr i classpath attribute iclasspathattribute attributes f ignore optional problems field fignoreoptionalproblemsfield is selected isselected attributes i classpath attribute iclasspathattribute attr ignore optional problems attributes i classpath attribute iclasspathattribute i classpath entry iclasspathentry new entry newentry java core javacore new source entry newsourceentry path attributes i classpath entry iclasspathentry modified hash set hashset f exclude in others fields fexcludeinothersfields is selected isselected add exclusion patterns addexclusionpatterns new entry newentry new entries newentries modified i classpath entry iclasspathentry entry java core javacore new source entry newsourceentry path attributes insert at end of category insertatendofcategory entry new entries newentries project entry index projectentryindex f is project as source folder fisprojectassourcefolder new entries newentries project entry index projectentryindex new entry newentry i classpath entry iclasspathentry entry java core javacore new source entry newsourceentry path attributes insert at end of category insertatendofcategory entry new entries newentries f new entries fnewentries new entries newentries to array toarray i classpath entry iclasspathentry new entries newentries size f new output location fnewoutputlocation f output location foutputlocation i java model status ijavamodelstatus status java conventions javaconventions validate classpath validateclasspath f curr project fcurrjproject f new entries fnewentries f new output location fnewoutputlocation status isok f output location foutputlocation equals proj path projpath f new output location fnewoutputlocation proj path projpath append preference constants preferenceconstants get preference store getpreferencestore get string getstring preference constants preferenceconstants srcbin binname i status istatus status java conventions javaconventions validate classpath validateclasspath f curr project fcurrjproject f new entries fnewentries f new output location fnewoutputlocation status isok f is project as source folder fisprojectassourcefolder f root status frootstatus set info setinfo messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning replacesfandol basic element labels basicelementlabels get path label getpathlabel f new output location fnewoutputlocation f root status frootstatus set info setinfo messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning replaceol basic element labels basicelementlabels get path label getpathlabel f new output location fnewoutputlocation f root status frootstatus set error seterror status get message getmessage f is project as source folder fisprojectassourcefolder f root status frootstatus set info setinfo new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning replacesf modified is empty isempty string info modified size messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning added exclusions addedexclusions singular modified iterator get path getpath messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning added exclusions addedexclusions plural string value of valueof modified size f root status frootstatus set info setinfo info insert at end of category insertatendofcategory i classpath entry iclasspathentry entry list i classpath entry iclasspathentry entries length entries size i classpath entry iclasspathentry elements entries to array toarray i classpath entry iclasspathentry length length elements get entry kind getentrykind entry get entry kind getentrykind length length elements get entry kind getentrykind entry get entry kind getentrykind entries add entry entry get entry kind getentrykind i classpath entry iclasspathentry cpe source entries add entry i classpath entry iclasspathentry cpe container i classpath entry iclasspathentry cpe library i classpath entry iclasspathentry cpe project i classpath entry iclasspathentry cpe variable entries add entry add exclusion patterns addexclusionpatterns i classpath entry iclasspathentry new entry newentry list i classpath entry iclasspathentry existing i classpath entry iclasspathentry modified entries modifiedentries i path ipath entry path entrypath new entry newentry get path getpath existing size i classpath entry iclasspathentry curr existing i path ipath curr path currpath curr get path getpath curr get entry kind getentrykind i classpath entry iclasspathentry cpe source curr path currpath is prefix of isprefixof entry path entrypath i path ipath exclusion filters exclusionfilters curr get exclusion patterns getexclusionpatterns java model util javamodelutil is excluded path isexcludedpath entry path entrypath exclusion filters exclusionfilters i path ipath path to exclude pathtoexclude entry path entrypath remove first segments removefirstsegments curr path currpath segment count segmentcount add trailing separator addtrailingseparator i path ipath new exclusion filters newexclusionfilters i path ipath exclusion filters exclusionfilters length system arraycopy exclusion filters exclusionfilters new exclusion filters newexclusionfilters exclusion filters exclusionfilters length new exclusion filters newexclusionfilters exclusion filters exclusionfilters length path to exclude pathtoexclude i classpath entry iclasspathentry updated java core javacore new source entry newsourceentry curr path currpath new exclusion filters newexclusionfilters curr get output location getoutputlocation existing updated modified entries modifiedentries add updated creation i package fragment root ipackagefragmentroot get new package fragment root getnewpackagefragmentroot f created root fcreatedroot i resource iresource get corresponding resource getcorrespondingresource f curr project fcurrjproject get project getproject get folder getfolder f root dialog field frootdialogfield get text gettext create package fragment root createpackagefragmentroot i progress monitor iprogressmonitor monitor core exception coreexception interrupted exception interruptedexception monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage operation i path ipath proj path projpath f curr project fcurrjproject get project getproject get full path getfullpath f output location foutputlocation equals proj path projpath f new output location fnewoutputlocation equals proj path projpath build paths block buildpathsblock has class files hasclassfiles f curr project fcurrjproject get project getproject build paths block buildpathsblock get remove old binaries query getremoveoldbinariesquery get shell getshell do query doquery proj path projpath build paths block buildpathsblock remove old class files removeoldclassfiles f curr project fcurrjproject get project getproject string rel path relpath f root dialog field frootdialogfield get text gettext i folder ifolder folder f curr project fcurrjproject get project getproject get folder getfolder rel path relpath folder exists core utility coreutility create folder createfolder folder sub progress monitor subprogressmonitor monitor monitor is canceled iscanceled interrupted exception interruptedexception f curr project fcurrjproject set raw classpath setrawclasspath f new entries fnewentries f new output location fnewoutputlocation sub progress monitor subprogressmonitor monitor f created root fcreatedroot f curr project fcurrjproject get package fragment root getpackagefragmentroot folder monitor choose dialogs i folder ifolder choose folder choosefolder string title string message i path ipath initial path initialpath accepted classes acceptedclasses i folder ifolder i selection status validator iselectionstatusvalidator validator type d element selection validator typedelementselectionvalidator accepted classes acceptedclasses viewer filter viewerfilter filter type d viewer filter typedviewerfilter accepted classes acceptedclasses i label provider ilabelprovider workbench label provider workbenchlabelprovider i tree content provider itreecontentprovider workbench content provider workbenchcontentprovider i project iproject curr project currproject f curr project fcurrjproject get project getproject element tree selection dialog elementtreeselectiondialog dialog element tree selection dialog elementtreeselectiondialog get shell getshell dialog set validator setvalidator validator dialog set title settitle title dialog set message setmessage message dialog add filter addfilter filter dialog set input setinput curr project currproject dialog set comparator setcomparator resource comparator resourcecomparator resource comparator resourcecomparator i resource iresource res curr project currproject find member findmember initial path initialpath res dialog set initial selection setinitialselection res dialog open window i folder ifolder dialog get first result getfirstresult i java project ijavaproject choose project chooseproject i java project ijavaproject projects projects java core javacore create f workspace root fworkspaceroot get java projects getjavaprojects java model exception javamodelexception java plugin javaplugin log projects i java project ijavaproject i label provider ilabelprovider label provider labelprovider java element label provider javaelementlabelprovider java element label provider javaelementlabelprovider element list selection dialog elementlistselectiondialog dialog element list selection dialog elementlistselectiondialog get shell getshell label provider labelprovider dialog set title settitle new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage choose project dialog chooseprojectdialog title dialog set message setmessage new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage choose project dialog chooseprojectdialog description dialog set elements setelements projects dialog set initial select ions setinitialselections object f curr project fcurrjproject dialog set help available sethelpavailable dialog open window i java project ijavaproject dialog get first result getfirstresult
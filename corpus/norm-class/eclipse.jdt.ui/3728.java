copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext java util array list arraylist java util hashtable java util iterator java util linked hash set linkedhashset java util list java util list iterator listiterator java util map org eclipse core runtime core exception coreexception org eclipse text edits text edit group texteditgroup org eclipse jdt core compiler i problem iproblem org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom assignment org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom child list property descriptor childlistpropertydescriptor org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enhanced for statement enhancedforstatement org eclipse jdt core dom expression org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom postfix expression postfixexpression org eclipse jdt core dom prefix expression prefixexpression org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom statement org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom tag element tagelement org eclipse jdt core dom type org eclipse jdt core dom type declaration statement typedeclarationstatement org eclipse jdt core dom variable declaration expression variabledeclarationexpression org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom linked node finder linkednodefinder org eclipse jdt internal corext dom necessary parentheses checker necessaryparentheseschecker org eclipse jdt internal corext dom statement rewrite statementrewrite org eclipse jdt internal corext refactoring structure compilation unit rewrite compilationunitrewrite org eclipse jdt internal corext util messages org eclipse jdt cleanup clean up options cleanupoptions org eclipse jdt cleanup i clean up fix icleanupfix org eclipse jdt text java i problem location iproblemlocation org eclipse jdt internal unused code clean up unusedcodecleanup org eclipse jdt internal text correction javadoc tags sub processor javadoctagssubprocessor org eclipse jdt internal text correction problem location problemlocation org eclipse jdt internal viewsupport basic element labels basicelementlabels removes unused code unused code fix unusedcodefix compilation unit rewrite operations fix compilationunitrewriteoperationsfix side effect finder sideeffectfinder ast visitor astvisitor array list arraylist expression f side effect nodes fsideeffectnodes side effect finder sideeffectfinder array list arraylist expression res f side effect nodes fsideeffectnodes res override visit assignment node f side effect nodes fsideeffectnodes add node override visit postfix expression postfixexpression node f side effect nodes fsideeffectnodes add node override visit prefix expression prefixexpression node object node get operator getoperator prefix expression prefixexpression increment prefix expression prefixexpression decrement f side effect nodes fsideeffectnodes add node override visit method invocation methodinvocation node f side effect nodes fsideeffectnodes add node override visit class instance creation classinstancecreation node f side effect nodes fsideeffectnodes add node override visit super method invocation supermethodinvocation node f side effect nodes fsideeffectnodes add node remove import operation removeimportoperation compilation unit rewrite operation compilationunitrewriteoperation import declaration importdeclaration f import declaration fimportdeclaration remove import operation removeimportoperation import declaration importdeclaration import declaration importdeclaration f import declaration fimportdeclaration import declaration importdeclaration override rewriteast compilation unit rewrite compilationunitrewrite cu rewrite curewrite linked proposal model linkedproposalmodel model core exception coreexception import declaration importdeclaration node f import declaration fimportdeclaration text edit group texteditgroup group create text edit group createtexteditgroup fix messages fixmessages unused code fix unusedcodefix remove import removeimport description cu rewrite curewrite cu rewrite curewrite getastrewrite remove node group removes unused type parameter remove unused type parameter operation removeunusedtypeparameteroperation compilation unit rewrite operation compilationunitrewriteoperation simple name simplename f unused name funusedname remove unused type parameter operation removeunusedtypeparameteroperation simple name simplename unused name unusedname f unused name funusedname unused name unusedname override rewriteast compilation unit rewrite compilationunitrewrite cu rewrite curewrite linked proposal model linkedproposalmodel linked model linkedmodel core exception coreexception ast rewrite astrewrite rewrite cu rewrite curewrite getastrewrite i binding ibinding binding f unused name funusedname resolve binding resolvebinding compilation unit compilationunit root compilation unit compilationunit f unused name funusedname get root getroot string display string displaystring fix messages fixmessages unused code fix unusedcodefix remove unused type parameter removeunusedtypeparameter description text edit group texteditgroup group create text edit group createtexteditgroup display string displaystring cu rewrite curewrite binding get kind getkind i binding ibinding type i type binding itypebinding decl i type binding itypebinding binding get type declaration gettypedeclaration ast node astnode declaration root find declaring node finddeclaringnode decl declaration get parent getparent type declaration statement typedeclarationstatement declaration declaration get parent getparent rewrite remove declaration group remove unused member operation removeunusedmemberoperation compilation unit rewrite operation compilationunitrewriteoperation simple name simplename f unused names funusednames f force remove fforceremove f removed assignments count fremovedassignmentscount f altered assignments count falteredassignmentscount remove unused member operation removeunusedmemberoperation simple name simplename unused names unusednames remove all asignements removeallasignements f unused names funusednames unused names unusednames f force remove fforceremove remove all asignements removeallasignements override rewriteast compilation unit rewrite compilationunitrewrite cu rewrite curewrite linked proposal model linkedproposalmodel model core exception coreexception f unused names funusednames length remove unused name removeunusedname cu rewrite curewrite f unused names funusednames remove unused name removeunusedname compilation unit rewrite compilationunitrewrite cu rewrite curewrite simple name simplename simple name simplename ast rewrite astrewrite rewrite cu rewrite curewrite getastrewrite compilation unit compilationunit complete root completeroot cu rewrite curewrite get root getroot i binding ibinding binding simple name simplename resolve binding resolvebinding compilation unit compilationunit root compilation unit compilationunit simple name simplename get root getroot string display string displaystring get display string getdisplaystring binding text edit group texteditgroup group create text edit group createtexteditgroup display string displaystring cu rewrite curewrite binding get kind getkind i binding ibinding method i method binding imethodbinding decl i method binding imethodbinding binding get method declaration getmethoddeclaration ast node astnode declaration root find declaring node finddeclaringnode decl rewrite remove declaration group binding get kind getkind i binding ibinding type i type binding itypebinding decl i type binding itypebinding binding get type declaration gettypedeclaration ast node astnode declaration root find declaring node finddeclaringnode decl declaration get parent getparent type declaration statement typedeclarationstatement declaration declaration get parent getparent rewrite remove declaration group binding get kind getkind i binding ibinding variable simple name simplename name node namenode simple name simplename node finder nodefinder perform complete root completeroot simple name simplename get start position getstartposition simple name simplename get length getlength simple name simplename references linked node finder linkednodefinder find by binding findbybinding complete root completeroot name node namenode resolve binding resolvebinding references length remove variable references removevariablereferences rewrite references group i variable binding ivariablebinding binding decl bindingdecl i variable binding ivariablebinding name node namenode resolve binding resolvebinding get variable declaration getvariabledeclaration ast node astnode declaring node declaringnode complete root completeroot find declaring node finddeclaringnode binding decl bindingdecl declaring node declaringnode single variable declaration singlevariabledeclaration remove param tag removeparamtag rewrite single variable declaration singlevariabledeclaration declaring node declaringnode group unexpected string get display string getdisplaystring i binding ibinding binding binding get kind getkind i binding ibinding type fix messages fixmessages unused code fix unusedcodefix remove unused type removeunusedtype description i binding ibinding method i method binding imethodbinding binding is constructor isconstructor fix messages fixmessages unused code fix unusedcodefix remove unused constructor removeunusedconstructor description fix messages fixmessages unused code fix unusedcodefix remove unused private method removeunusedprivatemethod description i binding ibinding variable i variable binding ivariablebinding binding is field isfield fix messages fixmessages unused code fix unusedcodefix remove unused field removeunusedfield description fix messages fixmessages unused code fix unusedcodefix remove unused var iabl removeunusedvariabl description nls remove param tag removeparamtag ast rewrite astrewrite rewrite single variable declaration singlevariabledeclaration var decl vardecl text edit group texteditgroup group var decl vardecl get parent getparent method declaration methoddeclaration javadoc javadoc method declaration methoddeclaration var decl vardecl get parent getparent get javadoc getjavadoc javadoc tag element tagelement tag element tagelement javadoc tags sub processor javadoctagssubprocessor find param tag findparamtag javadoc var decl vardecl get name getname get identifier getidentifier tag element tagelement rewrite remove tag element tagelement group remove field variable declaration including initializer param rewrite ast rewriter param reference reference variable remove param group text edit group remove variable references removevariablereferences ast rewrite astrewrite rewrite simple name simplename reference text edit group texteditgroup group ast node astnode parent reference get parent getparent parent qualified name qualifiedname parent parent get parent getparent parent field access fieldaccess parent parent get parent getparent name parent type nameparenttype parent get node type getnodetype name parent type nameparenttype ast node astnode assignment assignment assignment assignment parent expression right hand righthand assignment get right hand side getrighthandside ast node astnode assign parent assignparent assignment get parent getparent assign parent assignparent get node type getnodetype ast node astnode expression statement right hand righthand get node type getnodetype ast node astnode assignment remove variable with initializer removevariablewithinitializer rewrite right hand righthand assign parent assignparent group rewrite replace assignment rewrite create copy target createcopytarget right hand righthand group name parent type nameparenttype ast node astnode single variable declaration rewrite remove parent group name parent type nameparenttype ast node astnode variable declaration fragment variable declaration fragment variabledeclarationfragment frag variable declaration fragment variabledeclarationfragment parent ast node astnode var decl vardecl frag get parent getparent list variable declaration fragment variabledeclarationfragment fragments var decl vardecl variable declaration expression variabledeclarationexpression fragments variable declaration expression variabledeclarationexpression var decl vardecl fragments var decl vardecl field declaration fielddeclaration fragments field declaration fielddeclaration var decl vardecl fragments fragments variable declaration statement variabledeclarationstatement var decl vardecl fragments expression initializer frag get initializer getinitializer array list arraylist expression side effects sideeffects array list arraylist initializer initializer accept side effect finder sideeffectfinder side effects sideeffects side effect initializer sideeffectinitializer side effects sideeffects size fragments size f unused names funusednames length f force remove fforceremove rewrite remove var decl vardecl group parent get parent getparent field declaration fielddeclaration rewrite remove var decl vardecl group side effect initializer sideeffectinitializer statement wrapped statement side effects sideeffects size wrapped length expression side effect sideeffect side effects sideeffects expression moved init movedinit expression rewrite create move target createmovetarget side effect sideeffect wrapped rewrite getast new expression statement newexpressionstatement moved init movedinit statement rewrite statementrewrite statement rewrite statementrewrite statement rewrite statementrewrite rewrite ast node astnode var decl vardecl statement rewrite statementrewrite replace wrapped group rewrite remove var decl vardecl group f force remove fforceremove rewrite remove frag group multiple declarations ast node astnode declaration parent get parent getparent declaration field declaration fielddeclaration rewrite remove frag group declaration variable declaration statement variabledeclarationstatement split up declarations splitupdeclarations rewrite group frag variable declaration statement variabledeclarationstatement declaration side effects sideeffects rewrite remove frag group declaration variable declaration expression variabledeclarationexpression constructors method invocations side effect initializer sideeffectinitializer rewrite remove frag group name parent type nameparenttype ast node astnode postfix expression name parent type nameparenttype ast node astnode prefix expression expression expression expression parent ast node astnode expression parent expressionparent expression get parent getparent expression parent expressionparent get node type getnodetype ast node astnode expression statement remove statement removestatement rewrite expression parent expressionparent group rewrite remove expression group split up declarations splitupdeclarations ast rewrite astrewrite rewrite text edit group texteditgroup group variable declaration fragment variabledeclarationfragment frag variable declaration statement variabledeclarationstatement original statement originalstatement list expression side effects sideeffects side effects sideeffects size list rewrite listrewrite statement rewrite statementrewrite rewrite get list rewrite getlistrewrite original statement originalstatement get parent getparent child list property descriptor childlistpropertydescriptor original statement originalstatement get location in parent getlocationinparent statement previous statement previousstatement original statement originalstatement side effects sideeffects size expression side effect sideeffect side effects sideeffects expression moved init movedinit expression rewrite create move target createmovetarget side effect sideeffect expression statement expressionstatement wrapped rewrite getast new expression statement newexpressionstatement moved init movedinit statement rewrite statementrewrite insert after insertafter wrapped previous statement previousstatement group previous statement previousstatement wrapped variable declaration statement variabledeclarationstatement new declaration newdeclaration list variable declaration fragment variabledeclarationfragment fragments original statement originalstatement fragments frag index fragindex fragments index of indexof frag list iterator listiterator variable declaration fragment variabledeclarationfragment fragment iterator fragmentiterator fragments list iterator listiterator frag index fragindex fragment iterator fragmentiterator has next hasnext variable declaration fragment variabledeclarationfragment current fragment currentfragment fragment iterator fragmentiterator variable declaration fragment variabledeclarationfragment moved fragment movedfragment variable declaration fragment variabledeclarationfragment rewrite create move target createmovetarget current fragment currentfragment new declaration newdeclaration new declaration newdeclaration rewrite getast new variable declaration statement newvariabledeclarationstatement moved fragment movedfragment type copied type copiedtype type rewrite create copy target createcopytarget original statement originalstatement get type gettype new declaration newdeclaration set type settype copied type copiedtype new declaration newdeclaration fragments add moved fragment movedfragment new declaration newdeclaration statement rewrite statementrewrite insert after insertafter new declaration newdeclaration previous statement previousstatement group original statement originalstatement fragments size new declaration newdeclaration fragments size rewrite remove original statement originalstatement group remove variable with initializer removevariablewithinitializer ast rewrite astrewrite rewrite ast node astnode initializer node initializernode ast node astnode statement node statementnode text edit group texteditgroup group perform remove performremove f force remove fforceremove perform remove performremove array list arraylist expression side effect nodes sideeffectnodes array list arraylist initializer node initializernode accept side effect finder sideeffectfinder side effect nodes sideeffectnodes perform remove performremove side effect nodes sideeffectnodes is empty isempty perform remove performremove remove statement removestatement rewrite statement node statementnode group f removed assignments count fremovedassignmentscount ast node astnode init node initnode rewrite create move target createmovetarget initializer node initializernode expression statement expressionstatement statement rewrite getast new expression statement newexpressionstatement expression init node initnode rewrite replace statement node statementnode statement f altered assignments count falteredassignmentscount remove statement removestatement ast rewrite astrewrite rewrite ast node astnode statement node statementnode text edit group texteditgroup group ast nodes astnodes is control statement body iscontrolstatementbody statement node statementnode get location in parent getlocationinparent rewrite replace statement node statementnode rewrite getast new block newblock group rewrite remove statement node statementnode group override string get additional info getadditionalinfo string buffer stringbuffer string buffer stringbuffer f removed assignments count fremovedassignmentscount append fix messages fixmessages unused code fix unusedcodefix remove field or local removefieldorlocal removed assignments removedassignments preview singular f removed assignments count fremovedassignmentscount append messages format fix messages fixmessages unused code fix unusedcodefix remove field or local removefieldorlocal removed assignments removedassignments preview plural string value of valueof f removed assignments count fremovedassignmentscount f altered assignments count falteredassignmentscount append fix messages fixmessages unused code fix unusedcodefix remove field or local removefieldorlocal altered assignments alteredassignments preview singular f altered assignments count falteredassignmentscount append messages format fix messages fixmessages unused code fix unusedcodefix remove field or local removefieldorlocal altered assignments alteredassignments preview plural string value of valueof f altered assignments count falteredassignmentscount length to string tostring remove cast operation removecastoperation compilation unit rewrite operation compilationunitrewriteoperation cast expression castexpression f cast fcast remove cast operation removecastoperation cast expression castexpression f cast fcast override rewriteast compilation unit rewrite compilationunitrewrite cu rewrite curewrite linked proposal model linkedproposalmodel model core exception coreexception text edit group texteditgroup group create text edit group createtexteditgroup fix messages fixmessages unused code fix unusedcodefix remove cast removecast description cu rewrite curewrite ast rewrite astrewrite rewrite cu rewrite curewrite getastrewrite cast expression castexpression f cast fcast expression expression get expression getexpression expression parenthesized expression parenthesizedexpression expression child expression childexpression parenthesized expression parenthesizedexpression expression get expression getexpression necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses child expression childexpression cast expression castexpression expression property expression child expression childexpression replace cast replacecast expression rewrite group remove all cast operation removeallcastoperation compilation unit rewrite operation compilationunitrewriteoperation linked hash set linkedhashset cast expression castexpression f unnecessary c asts funnecessarycasts remove all cast operation removeallcastoperation linked hash set linkedhashset cast expression castexpression unnecessary c asts unnecessarycasts f unnecessary c asts funnecessarycasts unnecessary c asts unnecessarycasts override rewriteast compilation unit rewrite compilationunitrewrite cu rewrite curewrite linked proposal model linkedproposalmodel model core exception coreexception ast rewrite astrewrite rewrite cu rewrite curewrite getastrewrite text edit group texteditgroup group create text edit group createtexteditgroup fix messages fixmessages unused code fix unusedcodefix remove cast removecast description cu rewrite curewrite f unnecessary c asts funnecessarycasts size cast expression castexpression cast expression castexpression f unnecessary c asts funnecessarycasts iterator f unnecessary c asts funnecessarycasts remove cast expression castexpression ast rewrite astrewrite doesn replacing deleting moved nodes solve problems nested casts replace casts loop proc eeds proceeds find inner most innermost expression stays result down child downchild skips parent heses parentheses cast expression castexpression cast expression castexpression expression down child downchild get expression getexpression f unnecessary c asts funnecessarycasts down child downchild cast expression castexpression down child downchild f unnecessary c asts funnecessarycasts remove down child downchild get expression getexpression down child downchild parenthesized expression parenthesizedexpression expression down child expression downchildexpression parenthesized expression parenthesizedexpression down child downchild get expression getexpression just ified justified down child downchild parenthesized expression parenthesizedexpression necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses down child expression downchildexpression cast expression castexpression expression property walking down child downchild down child expression downchildexpression walking down child downchild inner most innermost cast expression castexpression expression str ipped stripped surrounding parenthesized expression parenthesizedexpression move down child downchild doesn parent heses parentheses parenthesized version replace cast replacecast cast expression castexpression down child downchild rewrite group unused code fix unusedcodefix create remove unused import fix createremoveunusedimportfix compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem is unused import isunusedimport problem import declaration importdeclaration node get import declaration getimportdeclaration problem compilation unit compilationunit node string label fix messages fixmessages unused code fix unusedcodefix remove import removeimport description remove import operation removeimportoperation operation remove import operation removeimportoperation node map string string options hashtable options clean up constants cleanupconstants remove unused code imports clean up options cleanupoptions unused code fix unusedcodefix label compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation operation options is unused import isunusedimport i problem location iproblemlocation problem problem get problem id getproblemid i problem iproblem unused import unusedimport i problem iproblem duplicate import duplicateimport i problem iproblem conflicting import conflictingimport i problem iproblem cannot import package cannotimportpackage i problem iproblem import not found importnotfound unused code fix unusedcodefix create unused member fix createunusedmemberfix compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem remove all assignements removeallassignements is unused member isunusedmember problem simple name simplename get unused name getunusedname compilation unit compilationunit problem i binding ibinding binding resolve binding resolvebinding binding is for mal parameter in enhanced for statement isformalparameterinenhancedforstatement string label get display string getdisplaystring binding remove all assignements removeallassignements remove unused member operation removeunusedmemberoperation operation remove unused member operation removeunusedmemberoperation simple name simplename remove all assignements removeallassignements unused code fix unusedcodefix label compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation operation get clean up options getcleanupoptions binding remove all assignements removeallassignements unused code fix unusedcodefix create unused type parameter fix createunusedtypeparameterfix compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem loc problemloc problem loc problemloc get problem id getproblemid i problem iproblem unused type parameter unusedtypeparameter simple name simplename get unused name getunusedname compilation unit compilationunit problem loc problemloc i binding ibinding binding resolve binding resolvebinding binding string label fix messages fixmessages unused code fix unusedcodefix remove unused type parameter removeunusedtypeparameter description remove unused type parameter operation removeunusedtypeparameteroperation operation remove unused type parameter operation removeunusedtypeparameteroperation unused code fix unusedcodefix label compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation operation get clean up options getcleanupoptions binding is unused member isunusedmember i problem location iproblemlocation problem problem get problem id getproblemid i problem iproblem unused private method unusedprivatemethod i problem iproblem unused private constructor unusedprivateconstructor i problem iproblem unused private field unusedprivatefield i problem iproblem unused private type unusedprivatetype i problem iproblem local variable is never used localvariableisneverused i problem iproblem argument is never used argumentisneverused unused code fix unusedcodefix create remove unused cast fix createremoveunusedcastfix compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem problem get problem id getproblemid i problem iproblem unnecessary cast unnecessarycast ast node astnode selected node selectednode problem get covering node getcoveringnode compilation unit compilationunit ast node astnode curr selected node selectednode curr parenthesized expression parenthesizedexpression curr parenthesized expression parenthesizedexpression curr get expression getexpression curr cast expression castexpression unused code fix unusedcodefix fix messages fixmessages unused code fix unusedcodefix remove cast removecast description compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation remove cast operation removecastoperation cast expression castexpression curr i clean up fix icleanupfix create clean up createcleanup compilation unit compilationunit compilation unit compilationunit remove unused private methods removeunusedprivatemethods remove unused private constructors removeunusedprivateconstructors remove unused private fields removeunusedprivatefields remove unused private types removeunusedprivatetypes remove unused local variables removeunusedlocalvariables remove unused imports removeunusedimports remove unused cast removeunusedcast i problem iproblem problems compilation unit compilationunit get problems getproblems i problem location iproblemlocation locations i problem location iproblemlocation problems length problems length locations problem location problemlocation problems create clean up createcleanup compilation unit compilationunit locations remove unused private methods removeunusedprivatemethods remove unused private constructors removeunusedprivateconstructors remove unused private fields removeunusedprivatefields remove unused private types removeunusedprivatetypes remove unused local variables removeunusedlocalvariables remove unused imports removeunusedimports remove unused cast removeunusedcast i clean up fix icleanupfix create clean up createcleanup compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problems remove unused private methods removeunusedprivatemethods remove unused private constructors removeunusedprivateconstructors remove unused private fields removeunusedprivatefields remove unused private types removeunusedprivatetypes remove unused local variables removeunusedlocalvariables remove unused imports removeunusedimports remove unused cast removeunusedcast list compilation unit rewrite operation compilationunitrewriteoperation result array list arraylist hashtable ast node astnode list simple name simplename variable declarations variabledeclarations hashtable linked hash set linkedhashset cast expression castexpression unnecessary c asts unnecessarycasts linked hash set linkedhashset problems length i problem location iproblemlocation problem problems problem get problem id getproblemid remove unused imports removeunusedimports i problem iproblem unused import unusedimport i problem iproblem duplicate import duplicateimport i problem iproblem conflicting import conflictingimport i problem iproblem cannot import package cannotimportpackage i problem iproblem import not found importnotfound import declaration importdeclaration node unused code fix unusedcodefix get import declaration getimportdeclaration problem compilation unit compilationunit node result add remove import operation removeimportoperation node remove unused private methods removeunusedprivatemethods i problem iproblem unused private method unusedprivatemethod remove unused private constructors removeunusedprivateconstructors i problem iproblem unused private constructor unusedprivateconstructor remove unused private types removeunusedprivatetypes i problem iproblem unused private type unusedprivatetype simple name simplename get unused name getunusedname compilation unit compilationunit problem i binding ibinding binding resolve binding resolvebinding binding result add remove unused member operation removeunusedmemberoperation simple name simplename remove unused local variables removeunusedlocalvariables i problem iproblem local variable is never used localvariableisneverused remove unused private fields removeunusedprivatefields i problem iproblem unused private field unusedprivatefield simple name simplename get unused name getunusedname compilation unit compilationunit problem i binding ibinding binding resolve binding resolvebinding binding i variable binding ivariablebinding is for mal parameter in enhanced for statement isformalparameterinenhancedforstatement i variable binding ivariablebinding binding is field isfield is side effect free issideeffectfree compilation unit compilationunit variable declaration fragment variabledeclarationfragment parent variable declaration fragment variabledeclarationfragment ast nodes astnodes get parent getparent variable declaration fragment variabledeclarationfragment parent ast node astnode var decl vardecl parent get parent getparent variable declarations variabledeclarations contains key containskey var decl vardecl variable declarations variabledeclarations var decl vardecl array list arraylist simple name simplename variable declarations variabledeclarations var decl vardecl add result add remove unused member operation removeunusedmemberoperation simple name simplename remove unused cast removeunusedcast i problem iproblem unnecessary cast unnecessarycast ast node astnode selected node selectednode problem get covering node getcoveringnode compilation unit compilationunit ast node astnode curr selected node selectednode curr parenthesized expression parenthesizedexpression curr parenthesized expression parenthesizedexpression curr get expression getexpression curr cast expression castexpression unnecessary c asts unnecessarycasts add cast expression castexpression curr iterator ast node astnode iter variable declarations variabledeclarations key set keyset iterator iter has next hasnext ast node astnode node iter list simple name simplename names variable declarations variabledeclarations node result add remove unused member operation removeunusedmemberoperation names to array toarray simple name simplename names size unnecessary c asts unnecessarycasts size result add remove all cast operation removeallcastoperation unnecessary c asts unnecessarycasts result size unused code fix unusedcodefix fix messages fixmessages unused code fix unusedcodefix change compilation unit compilationunit result to array toarray compilation unit rewrite operation compilationunitrewriteoperation result size is for mal parameter in enhanced for statement isformalparameterinenhancedforstatement simple name simplename get parent getparent single variable declaration singlevariabledeclaration get parent getparent get location in parent getlocationinparent enhanced for statement enhancedforstatement parameter property is side effect free issideeffectfree simple name simplename simple name simplename compilation unit compilationunit complete root completeroot simple name simplename name node namenode simple name simplename node finder nodefinder perform complete root completeroot simple name simplename get start position getstartposition simple name simplename get length getlength simple name simplename references linked node finder linkednodefinder find by binding findbybinding complete root completeroot name node namenode resolve binding resolvebinding references length has side effect hassideeffect references has side effect hassideeffect simple name simplename reference ast node astnode parent reference get parent getparent parent qualified name qualifiedname parent parent get parent getparent parent field access fieldaccess parent parent get parent getparent ast node astnode node name parent type nameparenttype parent get node type getnodetype name parent type nameparenttype ast node astnode assignment assignment assignment assignment parent node assignment get right hand side getrighthandside name parent type nameparenttype ast node astnode single variable declaration single variable declaration singlevariabledeclaration decl single variable declaration singlevariabledeclaration parent node decl get initializer getinitializer node name parent type nameparenttype ast node astnode variable declaration fragment node parent array list arraylist expression side effects sideeffects array list arraylist node accept side effect finder sideeffectfinder side effects sideeffects side effects sideeffects size simple name simplename get unused name getunusedname compilation unit compilationunit compilation unit compilationunit i problem location iproblemlocation problem ast node astnode selected node selectednode problem get covering node getcoveringnode compilation unit compilationunit selected node selectednode method declaration methoddeclaration method declaration methoddeclaration selected node selectednode get name getname selected node selectednode simple name simplename simple name simplename selected node selectednode string get display string getdisplaystring simple name simplename simple name simplename i binding ibinding binding remove all assignements removeallassignements string basic element labels basicelementlabels get java element name getjavaelementname simple name simplename get identifier getidentifier binding get kind getkind i binding ibinding type messages format fix messages fixmessages unused code fix unusedcodefix remove type removetype description i binding ibinding method i method binding imethodbinding binding is constructor isconstructor messages format fix messages fixmessages unused code fix unusedcodefix remove constructor removeconstructor description messages format fix messages fixmessages unused code fix unusedcodefix remove method removemethod description i binding ibinding variable remove all assignements removeallassignements messages format fix messages fixmessages unused code fix unusedcodefix remove field or local with initializer removefieldorlocalwithinitializer description messages format fix messages fixmessages unused code fix unusedcodefix remove field or local removefieldorlocal description nls map string string get clean up options getcleanupoptions i binding ibinding binding remove all removeall map string string result hashtable result clean up constants cleanupconstants remove unused code members clean up options cleanupoptions binding get kind getkind i binding ibinding type result clean up constants cleanupconstants remove unused code types clean up options cleanupoptions i binding ibinding method i method binding imethodbinding binding is constructor isconstructor result clean up constants cleanupconstants remove unused code constructors clean up options cleanupoptions result clean up constants cleanupconstants remove unused code methods clean up options cleanupoptions i binding ibinding variable remove all removeall result clean up constants cleanupconstants remove unused code felds clean up options cleanupoptions result clean up constants cleanupconstants remove unused code local variables clean up options cleanupoptions result import declaration importdeclaration get import declaration getimportdeclaration i problem location iproblemlocation problem compilation unit compilationunit compilation unit compilationunit ast node astnode selected node selectednode problem get covering node getcoveringnode compilation unit compilationunit selected node selectednode ast node astnode node ast nodes astnodes get parent getparent selected node selectednode ast node astnode declaration node import declaration importdeclaration import declaration importdeclaration node replace cast replacecast cast expression castexpression cast expression castexpression expression replacement ast rewrite astrewrite rewrite text edit group texteditgroup group cast enclosed in necessary parentheses castenclosedinnecessaryparentheses cast expression castexpression get parent getparent parenthesized expression parenthesizedexpression necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses cast expression castexpression cast expression castexpression get parent getparent get parent getparent cast expression castexpression get parent getparent get location in parent getlocationinparent ast node astnode to replace toreplace cast enclosed in necessary parentheses castenclosedinnecessaryparentheses cast expression castexpression get parent getparent cast expression castexpression ast node astnode move necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses replacement to replace toreplace get parent getparent to replace toreplace get location in parent getlocationinparent replacement get parent getparent parenthesized expression parenthesizedexpression move rewrite create move target createmovetarget replacement get parent getparent cast enclosed in necessary parentheses castenclosedinnecessaryparentheses to replace toreplace cast expression castexpression move rewrite create move target createmovetarget replacement parenthesized expression parenthesizedexpression parent heses parentheses replacement getast new parenthesized expression newparenthesizedexpression parent heses parentheses set expression setexpression expression rewrite create move target createmovetarget replacement move parent heses parentheses move rewrite create move target createmovetarget replacement rewrite replace to replace toreplace move group map string string f clean up options fcleanupoptions unused code fix unusedcodefix string compilation unit compilationunit compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation fix rewrite operations fixrewriteoperations compilation unit compilationunit fix rewrite operations fixrewriteoperations unused code fix unusedcodefix string compilation unit compilationunit compilation unit compilationunit compilation unit rewrite operation compilationunitrewriteoperation fix rewrite operations fixrewriteoperations map string string options compilation unit compilationunit fix rewrite operations fixrewriteoperations f clean up options fcleanupoptions options unused code clean up unusedcodecleanup get clean up getcleanup f clean up options fcleanupoptions unused code clean up unusedcodecleanup f clean up options fcleanupoptions
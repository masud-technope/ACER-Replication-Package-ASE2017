copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk refactoring model java i o exception ioexception java input stream inputstream java util hash set hashset java util org eclipse team core diff i diff idiff org eclipse team core diff i three way diff ithreewaydiff org eclipse team core diff i two way diff itwowaydiff org eclipse team core history i file revision ifilerevision org eclipse team core mapping i merge context imergecontext org eclipse team core mapping i merge status imergestatus org eclipse team core mapping i resource diff iresourcediff org eclipse team core mapping resource mapping merger resourcemappingmerger org eclipse team core mapping provider merge status mergestatus org eclipse swt widgets display org eclipse swt widgets shell org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i project iproject org eclipse core resources i storage istorage org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse core resources mapping model provider modelprovider org eclipse core resources mapping resource mapping resourcemapping org eclipse jface dialogs message dialog messagedialog org eclipse jface window window org eclipse jface wizard wizard dialog wizarddialog org eclipse i workbench iworkbench org eclipse i workbench window iworkbenchwindow org eclipse platformui org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring descriptor proxy refactoringdescriptorproxy org eclipse ltk core refactoring history refactoring history refactoringhistory org eclipse ltk internal core refactoring history refactoring history implementation refactoringhistoryimplementation org eclipse ltk internal core refactoring history refactoring history service refactoringhistoryservice org eclipse ltk internal refactoring refactoringuimessages org eclipse ltk internal refactoring refactoringuiplugin org eclipse ltk internal refactoring model refactoring history merge wizard refactoringhistorymergewizard org eclipse ltk refactoring history refactoring history control configuration refactoringhistorycontrolconfiguration partial implementation refactoring aware resource mapping merge r merger support determine pending refactorings model merging model update displays refactoring wizard apply refactorings local workspace note designed extended clients program min g programming language implement ers implementers refactoring aware resource mapping merge r merger model provider extend implement language specific project dependency rules org eclipse team core mapping i resource mapping merger iresourcemappingmerger abstract resource mapping merger abstractresourcemappingmerger resource mapping merger resourcemappingmerger refactoring history model merge configuration refactoring history model merge configuration refactoringhistorymodelmergeconfiguration refactoring history control configuration refactoringhistorycontrolconfiguration creates refactoring history model merge configuration param project project code code refactoring history model merge configuration refactoringhistorymodelmergeconfiguration i project iproject project project override string get project pattern getprojectpattern refactoringuimessages refactoring model merger refactoringmodelmerger project pattern override string get workspace caption getworkspacecaption refactoringuimessages refactoring model merger refactoringmodelmerger workspace refactoring history model merge wizard refactoring history model merge wizard refactoringhistorymodelmergewizard refactoring history merge wizard refactoringhistorymergewizard creates refactoring history model merge wizard refactoring history model merge wizard refactoringhistorymodelmergewizard refactoringuimessages refactoring wizard refactoringwizard refactoring refactoringuimessages abstract refactoring model merger abstractrefactoringmodelmerger wizard title refactoringuimessages abstract refactoring model merger abstractrefactoringmodelmerger wizard description returns shell active workbench window active shell shell get active shell getactiveshell i workbench iworkbench workbench platformui get workbench getworkbench workbench i workbench window iworkbenchwindow window workbench get active workbench window getactiveworkbenchwindow window window get shell getshell returns projects refactoring history param history refactoring history projects code code entire workspace i project iproject get affected projects getaffectedprojects refactoring history refactoringhistory history i project iproject hash set hashset refactoring descriptor proxy refactoringdescriptorproxy proxies history get descriptors getdescriptors i workspace root iworkspaceroot root resources plugin resourcesplugin get workspace getworkspace get root getroot proxies length string proxies get project getproject nls equals add root get project getproject i project iproject projects i project iproject size to array toarray projects projects shell operation display dialogs shell shell get dialog shell getdialogshell shell shell shell display get default getdefault sync exec syncexec runnable override shell get active shell getactiveshell shell model provider model provider modelprovider f model provider fmodelprovider creates refactoring model merge r merger param provider model provider abstract resource mapping merger abstractresourcemappingmerger model provider modelprovider provider is not null isnotnull provider f model provider fmodelprovider provider hook method called actual merge process subclasses extend method perform special processing implementation checks pending refactorings merge context displays refactoring wizard user perform pending refactorings merge returning status severity link i status istatus error terminate merge process param context merge context param monitor progress monitor status describing out come outcome operation i status istatus about to perform merge abouttoperformmerge i merge context imergecontext context i progress monitor iprogressmonitor monitor is not null isnotnull context is not null isnotnull monitor monitor begin task begintask refactoringuimessages refactoring model merger refactoringmodelmerger merge message i diff idiff diffs get d iffs getdiffs context refactoring history refactoringhistory history get refactoring history getrefactoringhistory diffs monitor history history is empty isempty execute i project iproject projects get affected projects getaffectedprojects history projects i project iproject dependencies get dependencies getdependencies projects dependencies length execute execute shell shell get dialog shell getdialogshell shell get display getdisplay sync exec syncexec runnable override message dialog messagedialog open question openquestion shell refactoringuimessages refactoring wizard refactoringwizard refactoring refactoringuimessages abstract refactoring model merger abstractrefactoringmodelmerger accept question refactoring history merge wizard refactoringhistorymergewizard wizard refactoring history model merge wizard refactoringhistorymodelmergewizard result window wizard set configuration setconfiguration refactoring history model merge configuration refactoringhistorymodelmergeconfiguration projects projects length projects wizard set input setinput history result wizard dialog wizarddialog shell wizard open result window cancel wizard resolve conflicts resolveconflicts context monitor status status creates merge status param context merge context param status status merge status i status istatus create merge status createmergestatus i merge context imergecontext context i status istatus status status get code getcode i merge status imergestatus conflicts merge status mergestatus status get plugin getplugin status get message getmessage context get scope getscope get map pings getmappings f model provider fmodelprovider get descriptor getdescriptor get id getid status returns dependent projects projects incoming refactorings subclasses implement method dependent projects semantics program min g programming language result method decide resource mapping merge r merger execute incoming refactorings order references dependent projects param projects projects incoming refactorings synchronization scope dependent projects empty array i project iproject get dependencies getdependencies i project iproject projects returns diffs merge context param context merge context diffs empty array i diff idiff get d iffs getdiffs i merge context imergecontext context resource mapping resourcemapping mappings context get scope getscope get map pings getmappings f model provider fmodelprovider get descriptor getdescriptor get id getid i diff idiff hash set hashset mappings length i diff idiff diffs context get diff tree getdifftree get d iffs getdiffs context get scope getscope get traversals gettraversals mappings offset offset diffs length offset add diffs offset to array toarray i diff idiff size override model provider modelprovider get model provider getmodelprovider f model provider fmodelprovider returns incoming refactoring history diffs param diffs diffs param monitor progress monitor incoming refactoring history refactoring history refactoringhistory get refactoring history getrefactoringhistory i diff idiff diffs i progress monitor iprogressmonitor monitor refactoring descriptor refactoringdescriptor result hash set hashset monitor begin task begintask refactoringuimessages refactoring model merger refactoringmodelmerger retrieving refactorings diffs length diffs length i diff idiff diff diffs diff i three way diff ithreewaydiff i three way diff ithreewaydiff three way threeway i three way diff ithreewaydiff diff refactoring descriptor refactoringdescriptor local descriptors localdescriptors hash set hashset refactoring descriptor refactoringdescriptor remote descriptors remotedescriptors hash set hashset i two way diff itwowaydiff local diff localdiff three way threeway get local change getlocalchange local diff localdiff i resource diff iresourcediff local diff localdiff get kind getkind i diff idiff change i resource diff iresourcediff resource diff resourcediff i resource diff iresourcediff local diff localdiff i file revision ifilerevision revision resource diff resourcediff get after state getafterstate revision string revision get name getname equals ignore case equalsignorecase refactoring history service refactoringhistoryservice history file get refactoring descriptors getrefactoringdescriptors revision local descriptors localdescriptors sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label i two way diff itwowaydiff remote diff remotediff three way threeway get local change getlocalchange remote diff remotediff i resource diff iresourcediff remote diff remotediff get kind getkind i diff idiff change i resource diff iresourcediff resource diff resourcediff i resource diff iresourcediff remote diff remotediff i file revision ifilerevision revision resource diff resourcediff get after state getafterstate revision string revision get name getname equals ignore case equalsignorecase refactoring history service refactoringhistoryservice history file get refactoring descriptors getrefactoringdescriptors revision remote descriptors remotedescriptors sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label remote descriptors remotedescriptors remove all removeall local descriptors localdescriptors result add all addall remote descriptors remotedescriptors monitor refactoring history implementation refactoringhistoryimplementation result to array toarray refactoring descriptor proxy refactoringdescriptorproxy result size retrieves refactoring descriptors contained file revision param revision file revision param descriptors refactoring descriptor populate param monitor progress monitor get refactoring descriptors getrefactoringdescriptors i file revision ifilerevision revision refactoring descriptor refactoringdescriptor descriptors i progress monitor iprogressmonitor monitor monitor begin task begintask refactoringuimessages refactoring model merger refactoringmodelmerger retrieving refactorings i storage istorage storage storage revision get storage getstorage sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception exception refactoringuiplugin log exception storage input stream inputstream stream stream storage get contents getcontents refactoring history refactoringhistory history refactoring history service refactoringhistoryservice get instance getinstance read refactoring history readrefactoringhistory stream refactoring descriptor refactoringdescriptor multi change refactoring descriptor proxy refactoringdescriptorproxy proxies history get descriptors getdescriptors offset offset proxies length offset descriptors add proxies offset request descriptor requestdescriptor core exception coreexception exception refactoringuiplugin log exception stream stream close i o exception ioexception exception monitor override i status istatus merge i merge context imergecontext context i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull context i status istatus status status status monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask refactoringuimessages refactoring model merger refactoringmodelmerger merge message status about to perform merge abouttoperformmerge context sub progress monitor subprogressmonitor monitor status get severity getseverity i status istatus error i diff idiff diffs get d iffs getdiffs context status create merge status createmergestatus context context merge diffs sub progress monitor subprogressmonitor monitor code status get code getcode status get severity getseverity i status istatus error code i merge status imergestatus conflicts code i merge status imergestatus internal error status merge performed mergeperformed context sub progress monitor subprogressmonitor monitor monitor status hook method called actual merge process happened method called link merge i merge context imergecontext i progress monitor iprogressmonitor returns status severity link i status istatus error status code unequal link i merge status imergestatus conflicts link i merge status imergestatus internal error subclasses extend method perform special processing implementation param context merge context param monitor progress monitor status describing out come outcome operation i status istatus merge performed mergeperformed i merge context imergecontext context i progress monitor iprogressmonitor monitor is not null isnotnull context is not null isnotnull monitor monitor begin task begintask refactoringuimessages refactoring model merger refactoringmodelmerger merge message status status monitor
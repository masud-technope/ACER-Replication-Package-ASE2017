copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse ide undo resource description resourcedescription org eclipse ltk core refactoring change org eclipse ltk core refactoring null change nullchange org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i source manipulation isourcemanipulation org eclipse jdt core java core javacore org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext util messages org eclipse jdt java element labels javaelementlabels caveat undo fragment deletes wrapping undo able package delete change undoablepackagedeletechange change returns null change nullchange undo fragments delete source manipulation change deletesourcemanipulationchange abstract delete change abstractdeletechange string f handle fhandle delete source manipulation change deletesourcemanipulationchange i source manipulation isourcemanipulation is execute change isexecutechange is not null isnotnull f handle fhandle get java element getjavaelement get handle identifier gethandleidentifier is execute change isexecutechange i compilation unit icompilationunit don check warning dialog presented user file dirty set validation method setvalidationmethod validate set validation method setvalidationmethod validate dirty set validation method setvalidationmethod validate dirty validate read i change ichange get name getname override string get name getname i java element ijavaelement java element javaelement get java element getjavaelement get source manipulation getsourcemanipulation messages format refactoring core messages refactoringcoremessages delete source manipulation change deletesourcemanipulationchange java element labels javaelementlabels get element label getelementlabel java element javaelement java element labels javaelementlabels i change ichange get modified language element getmodifiedlanguageelement override object get modified element getmodifiedelement java core javacore create f handle fhandle override i resource iresource get modified resource getmodifiedresource i java element ijavaelement elem java core javacore create f handle fhandle elem elem get resource getresource delete change deletechange do delete dodelete i progress monitor iprogressmonitor override change do delete dodelete i progress monitor iprogressmonitor core exception coreexception i source manipulation isourcemanipulation element get source manipulation getsourcemanipulation primary working copy exists element i compilation unit icompilationunit nls begin task begintask i compilation unit icompilationunit unit i compilation unit icompilationunit element save unit if needed savecunitifneeded unit sub progress monitor subprogressmonitor i resource iresource resource unit get resource getresource resource description resourcedescription resource description resourcedescription resource description resourcedescription from resource fromresource resource element delete sub progress monitor subprogressmonitor resource description resourcedescription record state from history recordstatefromhistory resource sub progress monitor subprogressmonitor undo delete resource change undodeleteresourcechange resource description resourcedescription element i package fragment ipackagefragment i compilation unit icompilationunit units i package fragment ipackagefragment element get compilation units getcompilationunits nls begin task begintask units length units length https bugs eclipse org bugs bug cgi save unit if needed savecunitifneeded units sub progress monitor subprogressmonitor element delete sub progress monitor subprogressmonitor caveat real undo implemented undo able package delete change undoablepackagedeletechange null change nullchange element delete happen i source manipulation isourcemanipulation get source manipulation getsourcemanipulation i source manipulation isourcemanipulation get modified element getmodifiedelement i java element ijavaelement get java element getjavaelement i source manipulation isourcemanipulation i source manipulations isourcemanipulations i java elements ijavaelements i java element ijavaelement save unit if needed savecunitifneeded i compilation unit icompilationunit unit i progress monitor iprogressmonitor core exception coreexception save file if needed savefileifneeded i file ifile unit get resource getresource
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring ccp java util arrays java util comparator java util list org eclipse swt dnd clipboard org eclipse swt dnd file transfer filetransfer org eclipse swt dnd text transfer texttransfer org eclipse swt widgets display org eclipse core runtime core exception coreexception org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse jface viewers i label provider ilabelprovider org eclipse resource transfer resourcetransfer org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt internal corext refactoring type d source typedsource org eclipse jdt internal corext refactoring reorg java element transfer javaelementtransfer org eclipse jdt internal corext refactoring reorg reorg utils reorgutils org eclipse jdt internal corext util strings org eclipse jdt java element label provider javaelementlabelprovider org eclipse jdt tests refactoring refactoring test refactoringtest org eclipse jdt tests refactoring refactoring test setup refactoringtestsetup org eclipse jdt tests refactoring infra mock clipboard mockclipboard org eclipse jdt tests refactoring infra mock workbench site mockworkbenchsite org eclipse jdt internal refactoring reorg copy to clipboard action copytoclipboardaction org eclipse jdt internal refactoring reorg type d source transfer typedsourcetransfer junit framework test junit framework test suite testsuite copy to clipboard action test copytoclipboardactiontest refactoring test refactoringtest i label provider ilabelprovider f label provider flabelprovider copy to clipboard action test copytoclipboardactiontest clazz copy to clipboard action test copytoclipboardactiontest clipboard f clipboard fclipboard i compilation unit icompilationunit f cu a fcua i compilation unit icompilationunit f cu b fcub i package fragment ipackagefragment f package q fpackageq i package fragment ipackagefragment f package q fpackageq i package fragment ipackagefragment f default package fdefaultpackage string string i file ifile fa txt fatxt i folder ifolder f older folder copy to clipboard action test copytoclipboardactiontest string test suite refactoring test setup refactoringtestsetup test suite testsuite clazz override set up setup exception set up setup f clipboard fclipboard mock clipboard mockclipboard display get default getdefault f default package fdefaultpackage refactoring test setup refactoringtestsetup get default source folder getdefaultsourcefolder create package fragment createpackagefragment f cu a fcua createcu get package p getpackagep java java util list foo f package q fpackageq refactoring test setup refactoringtestsetup get default source folder getdefaultsourcefolder create package fragment createpackagefragment f cu b fcub createcu f package q fpackageq java java util bar inner b innerb f package q fpackageq refactoring test setup refactoringtestsetup get default source folder getdefaultsourcefolder create package fragment createpackagefragment fa txt fatxt create file createfile i folder ifolder get package p getpackagep get underlying resource getunderlyingresource txt f older folder create folder createfolder refactoring test setup refactoringtestsetup get project getproject get project getproject f older folder f label provider flabelprovider java element label provider javaelementlabelprovider java element label provider javaelementlabelprovider variable java element label provider javaelementlabelprovider parameters java element label provider javaelementlabelprovider type assert true asserttrue java exist f cu a fcua exists assert true asserttrue java exist f cu b fcub exists assert true asserttrue exist f package q fpackageq exists assert true asserttrue exist f package q fpackageq exists assert true asserttrue txt exist fa txt fatxt exists assert true asserttrue f older folder exist f older folder exists override tear down teardown exception tear down teardown perform dummy search performdummysearch f clipboard fclipboard dispose f label provider flabelprovider dispose i file ifile create file createfile i folder ifolder folder string file name filename exception i file ifile file folder get file getfile file name filename file create get stream getstream file i folder ifolder create folder createfolder i project iproject project string core exception coreexception i folder ifolder folder project get folder getfolder folder create folder check disabled checkdisabled object elements copy to clipboard action copytoclipboardaction copy action copyaction copy to clipboard action copytoclipboardaction mock workbench site mockworkbenchsite elements f clipboard fclipboard copy action copyaction set auto repeat on failure setautorepeatonfailure copy action copyaction update copy action copyaction get selection getselection assert true asserttrue action disabled copy action copyaction is enabled isenabled check enabled checkenabled object elements exception copy to clipboard action copytoclipboardaction copy action copyaction copy to clipboard action copytoclipboardaction mock workbench site mockworkbenchsite elements f clipboard fclipboard copy action copyaction set auto repeat on failure setautorepeatonfailure copy action copyaction update copy action copyaction get selection getselection assert true asserttrue action enabled copy action copyaction is enabled isenabled copy action copyaction check clipboard checkclipboard elements check clipboard checkclipboard object elements copied elementscopied exception i resource iresource resources copied resourcescopied get resources getresources elements copied elementscopied i java element ijavaelement java elements copied javaelementscopied get java elements getjavaelements elements copied elementscopied i type itype main types copied maintypescopied reorg utils reorgutils get main types getmaintypes java elements copied javaelementscopied i resource iresource resources expected resourcesexpected compute resources expected in clipboard computeresourcesexpectedinclipboard resources copied resourcescopied main types copied maintypescopied java elements copied javaelementscopied i java element ijavaelement java elements expected javaelementsexpected compute java elements expected in clipboard computejavaelementsexpectedinclipboard java elements copied javaelementscopied main types copied maintypescopied string clipboard files clipboardfiles get clipboard files getclipboardfiles i resource iresource clipboard resources clipboardresources get clipboard resources getclipboardresources string clipboard text clipboardtext get clipboard text getclipboardtext i java element ijavaelement clipboard java elements clipboardjavaelements get clipboard java elements getclipboardjavaelements type d source typedsource clipboard type d sources clipboardtypedsources get clipboard type d sources getclipboardtypedsources check names checknames resources copied resourcescopied java elements copied javaelementscopied clipboard text clipboardtext check files checkfiles resources copied resourcescopied java elements copied javaelementscopied main types copied maintypescopied clipboard files clipboardfiles check type d sources checktypedsources java elements copied javaelementscopied clipboard type d sources clipboardtypedsources check elements checkelements resources expected resourcesexpected clipboard resources clipboardresources check elements checkelements java elements expected javaelementsexpected clipboard java elements clipboardjavaelements check type d sources checktypedsources i java element ijavaelement java elements copied javaelementscopied type d source typedsource clipboard type d sources clipboardtypedsources exception type d source typedsource type d sources typedsources type d source typedsource create type d sources createtypedsources java elements copied javaelementscopied assert equals assertequals number type d sources typedsources length clipboard type d sources clipboardtypedsources length type d source typedsource sort by type sortbytype type d sources typedsources type d source typedsource sort by type sortbytype clipboard type d sources clipboardtypedsources type d sources typedsources length assert equals assertequals type d typed sources type d sources typedsources clipboard type d sources clipboardtypedsources i resource iresource compute resources expected in clipboard computeresourcesexpectedinclipboard i resource iresource resources copied resourcescopied i type itype main types copied maintypescopied i java element ijavaelement java elements copied javaelementscopied i resource iresource cu resources curesources reorg utils reorgutils get resources getresources get compilation units getcompilationunits java elements copied javaelementscopied reorg utils reorgutils union cu resources curesources reorg utils reorgutils union resources copied resourcescopied reorg utils reorgutils get resources getresources reorg utils reorgutils get compilation units getcompilationunits main types copied maintypescopied i java element ijavaelement compute java elements expected in clipboard computejavaelementsexpectedinclipboard i java element ijavaelement java elements expected javaelementsexpected i type itype main types copied maintypescopied reorg utils reorgutils union java elements expected javaelementsexpected reorg utils reorgutils get compilation units getcompilationunits main types copied maintypescopied string get name getname i resource iresource resource f label provider flabelprovider get text gettext resource string get name getname i java element ijavaelement java element javaelement f label provider flabelprovider get text gettext java element javaelement check elements checkelements object copied object retreived from clipboard retreivedfromclipboard assert equals assertequals number elements copied length retreived from clipboard retreivedfromclipboard length sort by name sortbyname copied sort by name sortbyname retreived from clipboard retreivedfromclipboard retreived from clipboard retreivedfromclipboard length object retreived retreived from clipboard retreivedfromclipboard assert true asserttrue element exist exists retreived assert true asserttrue copied get name getname copied retreived get name getname retreived copied equals retreived from clipboard retreivedfromclipboard exists object element element i java element ijavaelement i java element ijavaelement element exists element i resource iresource i resource iresource element exists assert true asserttrue string get name getname object object object i java element ijavaelement i java element ijavaelement object get element name getelementname object i resource iresource i resource iresource object get name getname object object to string tostring sort by name sortbyname object copied arrays sort copied comparator object override compare object arg object arg get name getname arg compare to compareto get name getname arg check names checknames i resource iresource resources copied resourcescopied i java element ijavaelement java elements copied javaelementscopied string clipboard text clipboardtext list string string lines stringlines arrays as list aslist strings convert into lines convertintolines clipboard text clipboardtext assert equals assertequals number names resources copied resourcescopied length java elements copied javaelementscopied length string lines stringlines size resources copied resourcescopied length string get name getname resources copied resourcescopied assert true asserttrue string lines stringlines java elements copied javaelementscopied length i java element ijavaelement element java elements copied javaelementscopied reorg utils reorgutils is inside compilation unit isinsidecompilationunit element string get name getname element assert true asserttrue string lines stringlines check files checkfiles i resource iresource resources copied resourcescopied i java element ijavaelement java elements copied javaelementscopied i type itype main types maintypes string clipboard files clipboardfiles expected expected resources copied resourcescopied length expected count resources countresources java elements copied javaelementscopied expected main types maintypes length compare file names absolute depend worspace location assert equals assertequals number files clipboard expected clipboard files clipboardfiles length count resources countresources i java element ijavaelement java elements copied javaelementscopied count java elements copied javaelementscopied length i java element ijavaelement element java elements copied javaelementscopied element get element type getelementtype i java element ijavaelement java project i java element ijavaelement fragment root i java element ijavaelement fragment i java element ijavaelement compilation unit i java element ijavaelement file count count i java element ijavaelement get compilation units getcompilationunits i java element ijavaelement java elements javaelements list cus reorg utils reorgutils get elements of type getelementsoftype java elements javaelements i java element ijavaelement compilation unit cus to array toarray i compilation unit icompilationunit cus size i resource iresource get resources getresources object elements reorg utils reorgutils get resources getresources arrays as list aslist elements i java element ijavaelement get java elements getjavaelements object elements reorg utils reorgutils get java elements getjavaelements arrays as list aslist elements i java element ijavaelement get clipboard java elements getclipboardjavaelements i java element ijavaelement elements i java element ijavaelement f clipboard fclipboard get contents getcontents java element transfer javaelementtransfer get instance getinstance elements i java element ijavaelement elements string get clipboard files getclipboardfiles string files string f clipboard fclipboard get contents getcontents file transfer filetransfer get instance getinstance files string files i resource iresource get clipboard resources getclipboardresources i resource iresource resources i resource iresource f clipboard fclipboard get contents getcontents resource transfer resourcetransfer get instance getinstance resources i resource iresource resources type d source typedsource get clipboard type d sources getclipboardtypedsources type d source typedsource type d sources typedsources type d source typedsource f clipboard fclipboard get contents getcontents type d source transfer typedsourcetransfer get instance getinstance type d sources typedsources type d source typedsource type d sources typedsources string get clipboard text getclipboardtext string f clipboard fclipboard get contents getcontents text transfer texttransfer get instance getinstance tests test disabled testdisabled object elements check disabled checkdisabled elements test disabled testdisabled exception object elements check disabled checkdisabled elements test disabled testdisabled exception object elements check disabled checkdisabled elements test disabled testdisabled exception object elements refactoring test setup refactoringtestsetup get project getproject get package p getpackagep check disabled checkdisabled elements test disabled testdisabled exception check disabled checkdisabled object get package p getpackagep f cu a fcua test disabled testdisabled exception check disabled checkdisabled object get root getroot f cu a fcua test disabled testdisabled exception check disabled checkdisabled object get root getroot f package q fpackageq test disabled testdisabled exception check disabled checkdisabled object get root getroot fa txt fatxt test disabled testdisabled exception check disabled checkdisabled object get root getroot get root getroot get java project getjavaproject test disabled testdisabled exception check disabled checkdisabled object refactoring test setup refactoringtestsetup get project getproject get package fragment roots getpackagefragmentroots test disabled testdisabled exception check disabled checkdisabled object f cu a fcua f cu b fcub test disabled testdisabled exception check disabled checkdisabled object f default package fdefaultpackage test disabled testdisabled exception check disabled checkdisabled object get root getroot get java project getjavaproject f cu a fcua test disabled testdisabled exception check disabled checkdisabled object get root getroot get java project getjavaproject f package q fpackageq test disabled testdisabled exception check disabled checkdisabled object get root getroot get java project getjavaproject fa txt fatxt test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object class a classa f cu a fcua get type gettype object elements field f fieldf class a classa check disabled checkdisabled elements test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf f cu a fcua check disabled checkdisabled elements test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf f default package fdefaultpackage check disabled checkdisabled elements test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf f package q fpackageq check disabled checkdisabled elements test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf fa txt fatxt check disabled checkdisabled elements test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf get root getroot check disabled checkdisabled elements test disabled testdisabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf refactoring test setup refactoringtestsetup get project getproject check disabled checkdisabled elements test disabled testdisabled exception object type a typea f cu a fcua get type gettype object type b typeb f cu b fcub get type gettype object elements type a typea type b typeb check disabled checkdisabled elements test disabled testdisabled exception check disabled checkdisabled object fa txt fatxt f cu b fcub test enabled testenabled exception object elements refactoring test setup refactoringtestsetup get project getproject check enabled checkenabled elements test enabled testenabled exception object elements get package p getpackagep check enabled checkenabled elements test enabled testenabled exception object elements get root getroot check enabled checkenabled elements test enabled testenabled exception object elements refactoring test setup refactoringtestsetup get default source folder getdefaultsourcefolder check enabled checkenabled elements test enabled testenabled exception check enabled checkenabled object fa txt fatxt test enabled testenabled exception check enabled checkenabled object get root getroot test enabled testenabled exception check enabled checkenabled object f cu a fcua test enabled testenabled exception check enabled checkenabled object get root getroot get java project getjavaproject test enabled testenabled exception check enabled checkenabled object get package p getpackagep test enabled testenabled exception check enabled checkenabled object get package p getpackagep f package q fpackageq f package q fpackageq test enabled testenabled exception object pack decl packdecl f cu a fcua get package declarations getpackagedeclarations object elements pack decl packdecl check enabled checkenabled elements test enabled testenabled exception object import d importd f cu a fcua get imports getimports object elements import d importd check enabled checkenabled elements test enabled testenabled exception print test disabled message printtestdisabledmessage disabled bug i java element ijavaelement import container importcontainer f cu a fcua get import container getimportcontainer object elements import container importcontainer check enabled checkenabled elements test enabled testenabled exception object class a classa f cu a fcua get type gettype object elements class a classa check enabled checkenabled elements test enabled testenabled exception object method foo methodfoo f cu a fcua get type gettype get method getmethod foo string object elements method foo methodfoo check enabled checkenabled elements test enabled testenabled exception object field f fieldf f cu a fcua get type gettype get field getfield object elements field f fieldf check enabled checkenabled elements test enabled testenabled exception object initializer f cu a fcua get type gettype get initializer getinitializer object elements initializer check enabled checkenabled elements test enabled testenabled exception object inner class innerclass f cu a fcua get type gettype get type gettype object elements inner class innerclass check enabled checkenabled elements test enabled testenabled exception object field f fieldf f cu a fcua get type gettype get field getfield object method foo methodfoo f cu a fcua get type gettype get method getmethod foo string object inner class innerclass f cu a fcua get type gettype get type gettype object initializer f cu a fcua get type gettype get initializer getinitializer object elements field f fieldf method foo methodfoo initializer inner class innerclass check enabled checkenabled elements test enabled testenabled exception print test disabled message printtestdisabledmessage disabled bug object class a classa f cu a fcua get type gettype object import container importcontainer f cu a fcua get import container getimportcontainer object pack decl packdecl f cu a fcua get package declarations getpackagedeclarations object elements class a classa import container importcontainer pack decl packdecl check enabled checkenabled elements test enabled testenabled exception check enabled checkenabled object fa txt fatxt f cu a fcua test enabled testenabled exception check enabled checkenabled object f older folder test enabled testenabled exception print test disabled message printtestdisabledmessage bug object class a classa f cu a fcua get type gettype object pack decl packdecl f cu a fcua get package declarations getpackagedeclarations object elements class a classa pack decl packdecl check enabled checkenabled elements
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk core refactoring org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits undo edit undoedit org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse ltk internal core refactoring lock org eclipse ltk internal core refactoring text changes textchanges org eclipse ltk internal core refactoring undo document change undodocumentchange text change operates instances link i document idocument document change simple length compare check valid length has n hasn changed text edits managed valid range applied document applies undo change returned perform method note intended extended clients noextend intended subclassed clients document change documentchange text change textchange i document idocument f document fdocument f length flength creates code document change documentchange code link i document idocument param change human readable param document document change working document change documentchange string i document idocument document is not null isnotnull document f document fdocument document override object get modified element getmodifiedelement f document fdocument override initialize validation data initializevalidationdata i progress monitor iprogressmonitor don modification stamps doc uments documents remember length f length flength f document fdocument get length getlength override refactoring status refactoringstatus is valid isvalid i progress monitor iprogressmonitor core exception coreexception nls begin task begintask refactoring status refactoringstatus result text changes textchanges is valid isvalid f document fdocument f length flength worked result override i document idocument acquire document acquiredocument i progress monitor iprogressmonitor core exception coreexception f document fdocument override commit i document idocument document i progress monitor iprogressmonitor core exception coreexception override release document releasedocument i document idocument document i progress monitor iprogressmonitor core exception coreexception org eclipse ltk core refactoring text change textchange perform edits performedits org eclipse jface text i document idocument override undo edit undoedit perform edits performedits i document idocument document bad location exception badlocationexception malformed tree exception malformedtreeexception i text file buffer manager itextfilebuffermanager file buffer manager filebuffermanager file buffers filebuffers get text file buffer manager gettextfilebuffermanager i text file buffer itextfilebuffer file buffer filebuffer file buffer manager filebuffermanager get text file buffer gettextfilebuffer document file buffer filebuffer file buffer filebuffer is synchronization context requested issynchronizationcontextrequested perform edits performedits document lock waiting computation thread complete lock completion lock completionlock lock undo edit undoedit result undo edit undoedit bad location exception badlocationexception exception bad location exception badlocationexception runnable runnable runnable override completion lock completionlock result document change documentchange perform edits performedits document bad location exception badlocationexception exception completion lock completionlock f done fdone completion lock completionlock notify all notifyall completion lock completionlock file buffer manager filebuffermanager execute runnable completion lock completionlock f done fdone completion lock completionlock wait interrupted exception interruptedexception exception exception result override change create undo change createundochange undo edit undoedit edit undo document change undodocumentchange get name getname f document fdocument edit
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring code java util hash map hashmap java util map java util string tokenizer stringtokenizer org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime sub progress monitor subprogressmonitor org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits range marker rangemarker org eclipse text edits text edit textedit org eclipse text edits text edit group texteditgroup org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text text utilities textutilities org eclipse ltk core refactoring change org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring change descriptor refactoringchangedescriptor org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status context refactoringstatuscontext org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i source range isourcerange org eclipse jdt core java model exception javamodelexception org eclipse jdt core source range sourcerange org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom array creation arraycreation org eclipse jdt core dom array initializer arrayinitializer org eclipse jdt core dom array type arraytype org eclipse jdt core dom assignment org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom catch clause catchclause org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom for statement forstatement org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom modifier org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom try statement trystatement org eclipse jdt core dom type org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom variable declaration expression variabledeclarationexpression org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt core refactoring compilation unit change compilationunitchange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors inline local variable descriptor inlinelocalvariabledescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom necessary parentheses checker necessaryparentheseschecker org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext refactoring rename temp declaration finder tempdeclarationfinder org eclipse jdt internal corext refactoring rename temp occurrence analyzer tempoccurrenceanalyzer org eclipse jdt internal corext refactoring structure compilation unit rewrite compilationunitrewrite org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util tight source range computer tightsourcerangecomputer org eclipse jdt internal corext util messages org eclipse jdt internal corext util strings org eclipse jdt java element labels javaelementlabels org eclipse jdt internal java plugin javaplugin org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal viewsupport binding label provider bindinglabelprovider inline temp refactoring inlinetemprefactoring refactoring f selection start fselectionstart f selection length fselectionlength i compilation unit icompilationunit f cu fcu fields construction variable declaration variabledeclaration f variable declaration fvariabledeclaration simple name simplename f references freferences compilation unit compilationunit fastroot creates inline constant refactoring param unit compilation unit code code invoked scripting param node compilation unit node code code param selection start selectionstart start param selection length selectionlength length inline temp refactoring inlinetemprefactoring i compilation unit icompilationunit unit compilation unit compilationunit node selection start selectionstart selection length selectionlength is true istrue selection start selectionstart is true istrue selection length selectionlength f selection start fselectionstart selection start selectionstart f selection length fselectionlength selection length selectionlength f cu fcu unit fastroot node f variable declaration fvariabledeclaration creates inline constant refactoring param unit compilation unit code code invoked scripting param selection start selectionstart start param selection length selectionlength length inline temp refactoring inlinetemprefactoring i compilation unit icompilationunit unit selection start selectionstart selection length selectionlength unit selection start selectionstart selection length selectionlength inline temp refactoring inlinetemprefactoring variable declaration variabledeclaration decl f variable declaration fvariabledeclaration decl ast node astnode ast root astroot decl get root getroot is true istrue ast root astroot compilation unit compilationunit fastroot compilation unit compilationunit ast root astroot is true istrue fastroot get java element getjavaelement i compilation unit icompilationunit f selection start fselectionstart decl get start position getstartposition f selection length fselectionlength decl get length getlength f cu fcu i compilation unit icompilationunit fastroot get java element getjavaelement inline temp refactoring inlinetemprefactoring java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status refactoring status refactoringstatus initialize status initializestatus initialize arguments status merge initialize status initializestatus refactoring status refactoringstatus check if temp selected checkiftempselected variable declaration variabledeclaration decl get variable declaration getvariabledeclaration decl code refactoring util coderefactoringutil check method syntax errors checkmethodsyntaxerrors f selection start fselectionstart f selection length fselectionlength getastroot refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring select temp decl get parent getparent field declaration fielddeclaration refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages inline t em refactoring inlinetemrefactoring error message fields cannot be inlined fieldscannotbeinlined refactoring status refactoringstatus compilation unit compilationunit getastroot fastroot fastroot refactoringastparser parsewithastprovider f cu fcu fastroot variable declaration variabledeclaration get variable declaration getvariabledeclaration f variable declaration fvariabledeclaration f variable declaration fvariabledeclaration temp declaration finder tempdeclarationfinder find temp declaration findtempdeclaration getastroot f selection start fselectionstart f selection length fselectionlength f variable declaration fvariabledeclaration i refactoring irefactoring get name getname override string get name getname refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring refactoring check activation checkactivation i progress monitor iprogressmonitor override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception nls begin task begintask refactoring status refactoringstatus result checks validate modifies files validatemodifiesfiles resource util resourceutil get files getfiles i compilation unit icompilationunit f cu fcu get validation context getvalidationcontext result has fatal error hasfatalerror result variable declaration variabledeclaration declaration get variable declaration getvariabledeclaration result merge check selection checkselection declaration result has fatal error hasfatalerror result result merge check initializer checkinitializer declaration result refactoring status refactoringstatus check initializer checkinitializer variable declaration variabledeclaration decl decl get initializer getinitializer get node type getnodetype ast node astnode literal refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages inline t em refactoring inlinetemrefactoring error message nul literals cannot be inlined nulliteralscannotbeinlined refactoring status refactoringstatus check selection checkselection variable declaration variabledeclaration decl ast node astnode parent decl get parent getparent parent method declaration methoddeclaration refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring method parameter parent catch clause catchclause refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring exceptions declared parent variable declaration expression variabledeclarationexpression parent get location in parent getlocationinparent for statement forstatement init ializers initializers property refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring initializers parent variable declaration expression variabledeclarationexpression parent get location in parent getlocationinparent try statement trystatement resources property refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring resource resources decl get initializer getinitializer string message messages format refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring initialized basic element labels basicelementlabels get java element name getjavaelementname decl get name getname get identifier getidentifier refactoring status refactoringstatus create fatal error status createfatalerrorstatus message check assignments checkassignments decl refactoring status refactoringstatus check assignments checkassignments variable declaration variabledeclaration decl temp assignment finder tempassignmentfinder assignment finder assignmentfinder temp assignment finder tempassignmentfinder decl getastroot accept assignment finder assignmentfinder assignment finder assignmentfinder has assignments hasassignments refactoring status refactoringstatus ast node astnode first assignment firstassignment assignment finder assignmentfinder get first assignment getfirstassignment start first assignment firstassignment get start position getstartposition length first assignment firstassignment get length getlength i source range isourcerange range source range sourcerange start length refactoring status context refactoringstatuscontext context java status context javastatuscontext create f cu fcu range string message messages format refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring assigned basic element labels basicelementlabels get java element name getjavaelementname decl get name getname get identifier getidentifier refactoring status refactoringstatus create fatal error status createfatalerrorstatus message context refactoring check input checkinput i progress monitor iprogressmonitor override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor core exception coreexception nls begin task begintask refactoring status refactoringstatus override change create change createchange i progress monitor iprogressmonitor core exception coreexception begin task begintask refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring preview map string string arguments hash map hashmap string project i java project ijavaproject java project javaproject f cu fcu get java project getjavaproject java project javaproject project java project javaproject get element name getelementname i variable binding ivariablebinding binding get variable declaration getvariabledeclaration resolve binding resolvebinding string text i method binding imethodbinding method binding get declaring method getdeclaringmethod method text binding label provider bindinglabelprovider get binding label getbindinglabel method java element labels javaelementlabels fully qualified text basic element labels basicelementlabels get java element name getjavaelementname java element labels javaelementlabels ellipsis string string description messages format refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring descriptor description basic element labels basicelementlabels get java element name getjavaelementname binding get name getname string header messages format refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring descriptor description string binding label provider bindinglabelprovider get binding label getbindinglabel binding java element labels javaelementlabels fully qualified text jdt refactoring descriptor comment jdtrefactoringdescriptorcomment comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project header comment add setting addsetting messages format refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring original pattern binding label provider bindinglabelprovider get binding label getbindinglabel binding java element labels javaelementlabels fully qualified inline local variable descriptor inlinelocalvariabledescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create inline local variable descriptor createinlinelocalvariabledescriptor project description comment as string asstring arguments refactoring descriptor refactoringdescriptor arguments java refactoring descriptor util javarefactoringdescriptorutil attribute input java refactoring descriptor util javarefactoringdescriptorutil element t o handle elementtohandle project f cu fcu arguments java refactoring descriptor util javarefactoringdescriptorutil attribute selection string value of valueof f selection start fselectionstart string value of valueof f selection length fselectionlength compilation unit rewrite compilationunitrewrite cu rewrite curewrite compilation unit rewrite compilationunitrewrite f cu fcu fastroot inline temp inlinetemp cu rewrite curewrite remove temp removetemp cu rewrite curewrite compilation unit change compilationunitchange result cu rewrite curewrite create change createchange refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring inline sub progress monitor subprogressmonitor result set descriptor setdescriptor refactoring change descriptor refactoringchangedescriptor descriptor result inline temp inlinetemp compilation unit rewrite compilationunitrewrite cu rewrite curewrite java model exception javamodelexception simple name simplename references get references getreferences text edit group texteditgroup group desc groupdesc cu rewrite curewrite create group description creategroupdescription refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring inline edit ast rewrite astrewrite rewrite cu rewrite curewrite getastrewrite references length simple name simplename curr references ast node astnode initializer copy initializercopy get initializer source getinitializersource cu rewrite curewrite curr rewrite replace curr initializer copy initializercopy group desc groupdesc remove temp removetemp compilation unit rewrite compilationunitrewrite cu rewrite curewrite variable declaration variabledeclaration variable declaration variabledeclaration get variable declaration getvariabledeclaration text edit group texteditgroup group desc groupdesc cu rewrite curewrite create group description creategroupdescription refactoring core messages refactoringcoremessages inline temp refactoring inlinetemprefactoring remove edit ast node astnode parent variable declaration variabledeclaration get parent getparent ast rewrite astrewrite rewrite cu rewrite curewrite getastrewrite tight source range computer tightsourcerangecomputer source range computer sourcerangecomputer tight source range computer tightsourcerangecomputer rewrite set target source range computer settargetsourcerangecomputer source range computer sourcerangecomputer parent variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement parent fragments size source range computer sourcerangecomputer add tight source node addtightsourcenode parent rewrite remove parent group desc groupdesc source range computer sourcerangecomputer add tight source node addtightsourcenode variable declaration variabledeclaration rewrite remove variable declaration variabledeclaration group desc groupdesc expression get initializer source getinitializersource compilation unit rewrite compilationunitrewrite rewrite simple name simplename reference java model exception javamodelexception expression copy get modified initializer source getmodifiedinitializersource rewrite reference necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses copy reference get parent getparent reference get location in parent getlocationinparent parenthesized expression parenthesizedexpression parent expr parentexpr rewrite getast new parenthesized expression newparenthesizedexpression parent expr parentexpr set expression setexpression copy parent expr parentexpr copy expression get modified initializer source getmodifiedinitializersource compilation unit rewrite compilationunitrewrite rewrite simple name simplename reference java model exception javamodelexception variable declaration variabledeclaration var decl vardecl get variable declaration getvariabledeclaration expression initializer var decl vardecl get initializer getinitializer ast node astnode reference context referencecontext reference get parent getparent invocations is resolved type inferred from expected type isresolvedtypeinferredfromexpectedtype initializer reference context referencecontext variable declaration fragment variabledeclarationfragment reference context referencecontext single variable declaration singlevariabledeclaration reference context referencecontext assignment i type binding itypebinding type arguments typearguments invocations get inferred type arguments getinferredtypearguments initializer type arguments typearguments string new source newsource create parameterized invocation createparameterizedinvocation initializer type arguments typearguments rewrite expression rewrite getastrewrite create string placeholder createstringplaceholder new source newsource initializer get node type getnodetype expression copy expression rewrite getastrewrite create copy target createcopytarget initializer ast ast rewrite getast necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses initializer reference get parent getparent reference get location in parent getlocationinparent parenthesized expression parenthesizedexpression parenthesized ast new parenthesized expression newparenthesizedexpression parenthesized set expression setexpression copy copy parenthesized i type binding itypebinding explicit cast explicitcast ast nodes astnodes get explicit cast getexplicitcast initializer reference explicit cast explicitcast cast expression castexpression ast new cast expression newcastexpression necessary parentheses checker necessaryparentheseschecker needs parentheses needsparentheses copy cast expression castexpression expression property parenthesized expression parenthesizedexpression parenthesized ast new parenthesized expression newparenthesizedexpression parenthesized set expression setexpression copy copy parenthesized set expression setexpression copy import rewrite context importrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext reference rewrite get import rewrite getimportrewrite set type settype rewrite get import rewrite getimportrewrite add import addimport explicit cast explicitcast ast context copy initializer array initializer arrayinitializer ast nodes astnodes get dimensions getdimensions var decl vardecl array type arraytype new type newtype array type arraytype ast node factory astnodefactory new type newtype ast var decl vardecl array creation arraycreation new array creation newarraycreation ast new array creation newarraycreation new array creation newarraycreation set type settype new type newtype new array creation newarraycreation set initializer setinitializer array initializer arrayinitializer copy new array creation newarraycreation copy string create parameterized invocation createparameterizedinvocation expression invocation i type binding itypebinding type arguments typearguments compilation unit rewrite compilationunitrewrite cu rewrite curewrite java model exception javamodelexception ast rewrite astrewrite rewrite ast rewrite astrewrite create invocation getast list rewrite listrewrite type args rewrite typeargsrewrite invocations get inferred type arguments rewrite getinferredtypeargumentsrewrite rewrite invocation type arguments typearguments length type type argument node typeargumentnode cu rewrite curewrite get import rewrite getimportrewrite add import addimport type arguments typearguments cu rewrite curewrite getast type args rewrite typeargsrewrite insert last insertlast type argument node typeargumentnode invocation method invocation methodinvocation method invocation methodinvocation method invocation methodinvocation method invocation methodinvocation invocation expression expression method invocation methodinvocation get expression getexpression expression i method binding imethodbinding method binding methodbinding method invocation methodinvocation resolve method binding resolvemethodbinding method binding methodbinding modifier is static isstatic method binding methodbinding get modifiers getmodifiers expression cu rewrite curewrite getast new name newname cu rewrite curewrite get import rewrite getimportrewrite add import addimport method binding methodbinding get declaring class getdeclaringclass get type declaration gettypedeclaration expression invocation getast new this expression newthisexpression rewrite invocation method invocation methodinvocation expression property expression i document idocument document document f cu fcu get buffer getbuffer get contents getcontents range marker rangemarker marker range marker rangemarker invocation get start position getstartposition invocation get length getlength i java project ijavaproject project f cu fcu get java project getjavaproject text edit textedit rewrite edits rewriteedits rewrite rewriteast document project get options getoptions remove children removechildren marker add children addchildren rewrite edits rewriteedits marker apply document text edit textedit update regions string rewritten initializer rewritteninitializer document marker get offset getoffset marker get length getlength i region iregion region document get line information getlineinformation document get line of offset getlineofoffset marker get offset getoffset old indent oldindent strings compute indent units computeindentunits document region get offset getoffset region get length getlength project nls strings change indent changeindent rewritten initializer rewritteninitializer old indent oldindent project text utilities textutilities get default line delimiter getdefaultlinedelimiter document malformed tree exception malformedtreeexception java plugin javaplugin log bad location exception badlocationexception java plugin javaplugin log fallback f cu fcu get buffer getbuffer get text gettext invocation get start position getstartposition invocation get length getlength simple name simplename get references getreferences f references freferences f references freferences temp occurrence analyzer tempoccurrenceanalyzer analyzer temp occurrence analyzer tempoccurrenceanalyzer get variable declaration getvariabledeclaration analyzer perform f references freferences analyzer get reference nodes getreferencenodes f references freferences refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments arguments string selection arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute selection selection offset length string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer selection tokenizer has more tokens hasmoretokens offset integer value of valueof tokenizer next token nexttoken int value intvalue tokenizer has more tokens hasmoretokens length integer value of valueof tokenizer next token nexttoken int value intvalue offset length f selection start fselectionstart offset f selection length fselectionlength length refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring illegal argument object selection java refactoring descriptor util javarefactoringdescriptorutil attribute selection refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute selection string handle arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle t o element handletoelement arguments get project getproject handle element element exists element get element type getelementtype i java element ijavaelement compilation unit java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get name getname i java refactorings ijavarefactorings inline local variable f cu fcu i compilation unit icompilationunit element check if temp selected checkiftempselected has fatal error hasfatalerror java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get name getname i java refactorings ijavarefactorings inline local variable refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input refactoring status refactoringstatus
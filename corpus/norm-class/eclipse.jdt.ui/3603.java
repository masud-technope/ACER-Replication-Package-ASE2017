copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation nikolay metchev nikolaymetchev gmail int roduce introduce indirection class cast exception classcastexception intro ducing introducing indirection method https bugs eclipse org nikolay metchev nikolaymetchev gmail int roduce introduce indirection adds unneccessary parameter surrounding https bugs eclipse org org eclipse jdt internal corext refactoring code java lang reflect modifier java util array list arraylist java util arrays java util hash map hashmap java util iterator java util list java util map org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse ltk core refactoring change org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core flags org eclipse jdt core i class file iclassfile org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom block org eclipse jdt core dom child list property descriptor childlistpropertydescriptor org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i extended modifier iextendedmodifier org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom modifier modifier keyword modifierkeyword org eclipse jdt core dom org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom primitive type primitivetype org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom statement org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom this expression thisexpression org eclipse jdt core dom type org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt core refactoring compilation unit change compilationunitchange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors introduce indirection descriptor introduceindirectiondescriptor org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt core search i java search constants ijavasearchconstants org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring availability tester refactoringavailabilitytester org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring refactoring scope factory refactoringscopefactory org eclipse jdt internal corext refactoring refactoring search engine refactoringsearchengine org eclipse jdt internal corext refactoring search result group searchresultgroup org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext refactoring dynamic validation refactoring change dynamicvalidationrefactoringchange org eclipse jdt internal corext refactoring rename ripple method finder ripplemethodfinder org eclipse jdt internal corext refactoring structure ast node search util astnodesearchutil org eclipse jdt internal corext refactoring structure compilation unit rewrite compilationunitrewrite org eclipse jdt internal corext refactoring structure member visibility adjustor membervisibilityadjustor org eclipse jdt internal corext refactoring structure member visibility adjustor membervisibilityadjustor incoming member visibility adjustment incomingmembervisibilityadjustment org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util text change manager textchangemanager org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt internal corext util method override tester methodoverridetester org eclipse jdt code generation codegeneration org eclipse jdt java element labels javaelementlabels org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal text correction ast res olving astresolving org eclipse jdt internal viewsupport basic element labels basicelementlabels refactoring creates wrapper method redirects call ers callers original method newly created method called int ermediary intermediary method invoked method call user select update selected call calls invoked method declaration user select update calls int ermediary intermediary method created cases creating indirect ions indirections source binary methods select invocation method declaring method out line outline view note methods types parameters declaring type selected method method definition rendering calls int ermediary intermediary method visibility problems enclosing types int ermediary intermediary method visibility adjusted int ermediary intermediary method target method refactoring adjust visibility target method enclosing types target method source introduce indirection refactoring introduceindirectionrefactoring refactoring compilation unit user invoked refactoring i compilation unit icompilationunit f selection compilation unit fselectioncompilationunit file source user invoked refactoring i class file iclassfile f selection class file fselectionclassfile start user selection selected compilation unit f selection start fselectionstart length user selection selected compilation unit f selection length fselectionlength selected method invocation methodinvocation field update invocation reference mode method invocation methodinvocation f selection method invocation fselectionmethodinvocation intermediary type place int ermediary intermediary method i type itype f intermediary type fintermediarytype binding int ermediary intermediary type i type binding itypebinding f intermediary type binding fintermediarytypebinding int ermediary intermediary method string f intermediary method name fintermediarymethodname type additional parameter int ermediary intermediary type determined references i type binding itypebinding f intermediary first parameter type fintermediaryfirstparametertype target originally selected target method encapsulated i method imethod f target method ftargetmethod binding originally selected target method i method binding imethodbinding f target method binding ftargetmethodbinding references target method replaced calls int ermediary intermediary f update references fupdatereferences compilation unit rewrites compilationunitrewrites cus map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite f rewrites frewrites text change manager compilation unit change compilationunitchange manager manages text change manager textchangemanager f text change manager ftextchangemanager visibility visibility adjustor member visibility adjustor membervisibilityadjustor f adjustor fadjustor visibility adjustments int ermediary intermediary map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment f intermediary adjustments fintermediaryadjustments no override progress monitor nooverrideprogressmonitor sub progress monitor subprogressmonitor no override progress monitor nooverrideprogressmonitor i progress monitor iprogressmonitor monitor ticks monitor ticks sub progress monitor subprogressmonitor suppress subtask label override set task name settaskname string introduce indirection refactoring introduceindirectionrefactoring i compilation unit icompilationunit unit offset length f selection compilation unit fselectioncompilationunit unit initialize offset length introduce indirection refactoring introduceindirectionrefactoring i class file iclassfile file offset length f selection class file fselectionclassfile file initialize offset length introduce indirection refactoring introduceindirectionrefactoring i method imethod method f target method ftargetmethod method initialize introduce indirection refactoring introduceindirectionrefactoring java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status i compilation unit icompilationunit refactoring status refactoringstatus initialize status initializestatus initialize arguments status merge initialize status initializestatus initialize offset length f selection start fselectionstart offset f selection length fselectionlength length f update references fupdatereferences int eraction interaction start up startup options override string get name getname refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring int roduce introduce indirection i java project ijavaproject get project getproject f selection compilation unit fselectioncompilationunit f selection compilation unit fselectioncompilationunit get java project getjavaproject f selection class file fselectionclassfile f selection class file fselectionclassfile get java project getjavaproject f target method ftargetmethod f target method ftargetmethod get java project getjavaproject i package fragment ipackagefragment get invocation package getinvocationpackage f selection compilation unit fselectioncompilationunit i package fragment ipackagefragment f selection compilation unit fselectioncompilationunit get ancestor getancestor i java element ijavaelement fragment can enable update references canenableupdatereferences set enable update references setenableupdatereferences update references updatereferences f update references fupdatereferences update references updatereferences refactoring status refactoringstatus set intermediary method name setintermediarymethodname string new method name newmethodname is not null isnotnull new method name newmethodname f intermediary method name fintermediarymethodname new method name newmethodname i java element ijavaelement context f intermediary type fintermediarytype f intermediary type fintermediarytype i member imember f target method ftargetmethod refactoring status refactoringstatus stat checks check method name checkmethodname new method name newmethodname context stat merge check over loading checkoverloading stat refactoring status refactoringstatus check over loading checkoverloading f intermediary type fintermediarytype i method imethod to check tocheck f intermediary type fintermediarytype get methods getmethods to check tocheck length i method imethod method to check tocheck method get element name getelementname equals f intermediary method name fintermediarymethodname refactoring status refactoringstatus create warning status createwarningstatus messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring duplicate method declaring type error basic element labels basicelementlabels get java element name getjavaelementname f intermediary method name fintermediarymethodname java model exception javamodelexception refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring parse declaring type error refactoring status refactoringstatus string get intermediary method name getintermediarymethodname f intermediary method name fintermediarymethodname param fully qualified type name fullyqualifiedtypename fully qualified int ermediary intermediary method status type link set intermediary method name setintermediarymethodname string check overridden methods refactoring status refactoringstatus set intermediary type name setintermediarytypename string fully qualified type name fullyqualifiedtypename i type itype target fully qualified type name fullyqualifiedtypename length refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring type selected error find type including second aries secondaries target get project getproject find type findtype fully qualified type name fullyqualifiedtypename null progress monitor nullprogressmonitor target target exists refactoring status refactoringstatus create error status createerrorstatus messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring type exist error basic element labels basicelementlabels get java element name getjavaelementname fully qualified type name fullyqualifiedtypename target is annotation isannotation refactoring status refactoringstatus create error status createerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring create annotation target is interface isinterface java model util javamodelutil or higher orhigher target get java project getjavaproject java model util javamodelutil or higher orhigher get project getproject refactoring status refactoringstatus create error status createerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring create java model exception javamodelexception refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring unable determine declaring type target is read only isreadonly refactoring status refactoringstatus create error status createerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring create read only readonly target is binary isbinary refactoring status refactoringstatus create error status createerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring create binary f intermediary type fintermediarytype target refactoring status refactoringstatus returns type int ermediary intermediary type empty string int ermediary intermediary type empty string string get intermediary type name getintermediarytypename nls f intermediary type fintermediarytype f intermediary type fintermediarytype get fully qualified name getfullyqualifiedname condition checking override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception begin task begintask refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring checking activation f rewrites frewrites hash map hashmap f target method ftargetmethod f selection start fselectionstart refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring selection text selection exists source compilation unit compilationunit selectioncuroot ast node astnode selection node selectionnode f selection compilation unit fselectioncompilationunit compilation unit cu rewrite curewrite selectioncuroot getcachedcurewrite f selection compilation unit fselectioncompilationunit get root getroot selection node selectionnode get selected node getselectednode f selection compilation unit fselectioncompilationunit selectioncuroot f selection start fselectionstart f selection length fselectionlength binary file rewrite ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set resolve bindings setresolvebindings parser set source setsource f selection class file fselectionclassfile selectioncuroot compilation unit compilationunit parser createast selection node selectionnode get selected node getselectednode selectioncuroot f selection start fselectionstart f selection length fselectionlength selection node selectionnode refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring selection i method binding imethodbinding target method binding targetmethodbinding selection node selectionnode get node type getnodetype ast node astnode method invocation target method binding targetmethodbinding method invocation methodinvocation selection node selectionnode resolve method binding resolvemethodbinding selection node selectionnode get node type getnodetype ast node astnode method declaration target method binding targetmethodbinding method declaration methoddeclaration selection node selectionnode resolve binding resolvebinding selection node selectionnode get node type getnodetype ast node astnode method invocation invocation methods calls sense calls declaration updated target method binding targetmethodbinding super method invocation supermethodinvocation selection node selectionnode resolve method binding resolvemethodbinding refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring selection resolve generics f target method binding ftargetmethodbinding target method binding targetmethodbinding get method declaration getmethoddeclaration f target method ftargetmethod i method imethod f target method binding ftargetmethodbinding get java element getjavaelement single updating mode invocation selected invocation updated selection node selectionnode method invocation methodinvocation f selection compilation unit fselectioncompilationunit f selection method invocation fselectionmethodinvocation method invocation methodinvocation selection node selectionnode f target method ftargetmethod get declaring type getdeclaringtype is annotation isannotation refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring annotation f target method ftargetmethod get compilation unit getcompilationunit source method compilation unit compilationunit selectioncuroot getcachedcurewrite f target method ftargetmethod get compilation unit getcompilationunit get root getroot method declaration methoddeclaration declaration ast node search util astnodesearchutil get method declaration node getmethoddeclarationnode f target method ftargetmethod selectioncuroot f target method binding ftargetmethodbinding declaration resolve binding resolvebinding get method declaration getmethoddeclaration binary method cu rewrite curewrite needed update method ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set project setproject f target method ftargetmethod get java project getjavaproject i binding ibinding bindings parser create bindings createbindings i java element ijavaelement f target method ftargetmethod f target method binding ftargetmethodbinding i method binding imethodbinding bindings get method declaration getmethoddeclaration f target method ftargetmethod f target method binding ftargetmethodbinding refactoring availability tester refactoringavailabilitytester is introduce indirection available isintroduceindirectionavailable f target method ftargetmethod refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring selection f target method ftargetmethod get declaring type getdeclaringtype is local islocal f target method ftargetmethod get declaring type getdeclaringtype is anonymous isanonymous refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring local anonymous types f target method ftargetmethod is constructor isconstructor refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring constructors f intermediary method name fintermediarymethodname f intermediary method name fintermediarymethodname f target method ftargetmethod get element name getelementname f intermediary type fintermediarytype f selection compilation unit fselectioncompilationunit f selection compilation unit fselectioncompilationunit is read only isreadonly f intermediary type fintermediarytype get enclosing initial selection member getenclosinginitialselectionmember get declaring type getdeclaringtype f target method ftargetmethod is binary isbinary f target method ftargetmethod is read only isreadonly f intermediary type fintermediarytype f target method ftargetmethod get declaring type getdeclaringtype refactoring status refactoringstatus override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception refactoring status refactoringstatus result refactoring status refactoringstatus f text change manager ftextchangemanager text change manager textchangemanager f intermediary first parameter type fintermediaryfirstparametertype f intermediary type binding fintermediarytypebinding iterator compilation unit rewrite compilationunitrewrite iter f rewrites frewrites values iterator iter has next hasnext iter clearastandimportrewrites startup ticks startupticks hierarchy ticks hierarchyticks visibility ticks visibilityticks reference ticks referenceticks f update references fupdatereferences creation ticks creationticks nls begin task begintask startup ticks startupticks hierarchy ticks hierarchyticks visibility ticks visibilityticks reference ticks referenceticks creation ticks creationticks set task name settaskname refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring checking conditions result merge checks check method name checkmethodname f intermediary method name fintermediarymethodname f intermediary type fintermediarytype result has fatal error hasfatalerror result f intermediary type fintermediarytype refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring int ermediary intermediary type int ermediary intermediary type binary enum compilation unit rewrite compilationunitrewrite im rewrite imrewrite getcachedcurewrite f intermediary type fintermediarytype get compilation unit getcompilationunit f intermediary type binding fintermediarytypebinding type to binding typetobinding f intermediary type fintermediarytype im rewrite imrewrite get root getroot f adjustor fadjustor member visibility adjustor membervisibilityadjustor f intermediary type fintermediarytype f intermediary type fintermediarytype f intermediary adjustments fintermediaryadjustments hash map hashmap check method nested type f intermediary type binding fintermediarytypebinding is nested isnested modifier is static isstatic f intermediary type binding fintermediarytypebinding get modifiers getmodifiers refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring create nested non static nonstatic java status context javastatuscontext create f intermediary type fintermediarytype worked startup ticks startupticks is canceled iscanceled operation canceled exception operationcanceledexception f update references fupdatereferences nls set task name settaskname refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring checking conditions refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring references result merge update references updatereferences no override progress monitor nooverrideprogressmonitor reference ticks referenceticks set task name settaskname refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring checking conditions update declaration selected method invocation f selection method invocation fselectionmethodinvocation f intermediary first parameter type fintermediaryfirstparametertype get expression type getexpressiontype f selection method invocation fselectionmethodinvocation i member imember enclosing get enclosing initial selection member getenclosinginitialselectionmember create edit call result merge update method invocation updatemethodinvocation f selection method invocation fselectionmethodinvocation enclosing getcachedcurewrite f selection compilation unit fselectioncompilationunit is rewrite kept isrewritekept f selection compilation unit fselectioncompilationunit create change and discard rewrite createchangeanddiscardrewrite f selection compilation unit fselectioncompilationunit call int ermediary intermediary method increase visibility type int ermediary intermediary method result merge adjust visibility adjustvisibility f intermediary type fintermediarytype enclosing get declaring type getdeclaringtype no override progress monitor nooverrideprogressmonitor worked reference ticks referenceticks is canceled iscanceled operation canceled exception operationcanceledexception f intermediary first parameter type fintermediaryfirstparametertype f intermediary first parameter type fintermediaryfirstparametertype f target method binding ftargetmethodbinding get declaring class getdeclaringclass target type method changed update i type itype actual target type actualtargettype i type itype f intermediary first parameter type fintermediaryfirstparametertype get java element getjavaelement f target method ftargetmethod get declaring type getdeclaringtype equals actual target type actualtargettype i method imethod actual target method actualtargetmethod method override tester methodoverridetester actual target type actualtargettype actual target type actualtargettype new supertype hierarchy newsupertypehierarchy find overridden method in hierarchy findoverriddenmethodinhierarchy actual target type actualtargettype f target method ftargetmethod f target method ftargetmethod actual target method actualtargetmethod f target method binding ftargetmethodbinding find method binding in hierarchy findmethodbindinginhierarchy f intermediary first parameter type fintermediaryfirstparametertype actual target method actualtargetmethod is not null isnotnull f target method binding ftargetmethodbinding result merge check can create intermediary method checkcancreateintermediarymethod create intermediary method createintermediarymethod worked creation ticks creationticks nls set task name settaskname refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring checking conditions refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring adjusting visibility result merge update target visibility updatetargetvisibility no override progress monitor nooverrideprogressmonitor result merge update intermediary visibility updateintermediaryvisibility no override progress monitor nooverrideprogressmonitor worked visibility ticks visibilityticks set task name settaskname refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring checking conditions create change and discard rewrite createchangeanddiscardrewrite f intermediary type fintermediarytype get compilation unit getcompilationunit result merge checks validate modifies files validatemodifiesfiles get all files to modify getallfilestomodify get validation context getvalidationcontext result refactoring status refactoringstatus update target visibility updatetargetvisibility i progress monitor iprogressmonitor monitor java model exception javamodelexception core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus adjust visibility method referenced type note target method target type type target method visibility adjustment method called created induced method attached result merge adjust visibility adjustvisibility i type itype f intermediary first parameter type fintermediaryfirstparametertype get java element getjavaelement f intermediary type fintermediarytype monitor result has error haserror binary result modifier keyword modifierkeyword needed visibility neededvisibility get needed visibility getneededvisibility f target method ftargetmethod f intermediary type fintermediarytype needed visibility neededvisibility result merge adjust visibility adjustvisibility f target method ftargetmethod needed visibility neededvisibility monitor result has error haserror binary result adjust overridden methods target method i type hierarchy itypehierarchy hierarchy f target method ftargetmethod get declaring type getdeclaringtype new type hierarchy newtypehierarchy method override tester methodoverridetester tester method override tester methodoverridetester f target method ftargetmethod get declaring type getdeclaringtype hierarchy i type itype subtypes hierarchy get all subtypes getallsubtypes f target method ftargetmethod get declaring type getdeclaringtype subtypes length i method imethod method tester find overriding method in type findoverridingmethodintype subtypes f target method ftargetmethod method method exists result merge adjust visibility adjustvisibility method needed visibility neededvisibility monitor monitor is canceled iscanceled operation canceled exception operationcanceledexception result has error haserror binary result result refactoring status refactoringstatus update intermediary visibility updateintermediaryvisibility no override progress monitor nooverrideprogressmonitor monitor java model exception javamodelexception rewrite visibility rewritevisibility f intermediary adjustments fintermediaryadjustments f rewrites frewrites monitor refactoring status refactoringstatus update references updatereferences i progress monitor iprogressmonitor monitor core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus nls monitor begin task begintask monitor is canceled iscanceled operation canceled exception operationcanceledexception i method imethod ripple ripple method finder ripplemethodfinder get related methods getrelatedmethods f target method ftargetmethod no override progress monitor nooverrideprogressmonitor monitor monitor is canceled iscanceled operation canceled exception operationcanceledexception search result group searchresultgroup references checks exclude compilation units excludecompilationunits get references getreferences ripple no override progress monitor nooverrideprogressmonitor monitor result result result has fatal error hasfatalerror result result merge checks check compile errors in affected files checkcompileerrorsinaffectedfiles references monitor is canceled iscanceled operation canceled exception operationcanceledexception ticks per u tickspercu references length references length references length search result group searchresultgroup group references search match searchmatch search results searchresults group get search results getsearchresults compilation unit rewrite compilationunitrewrite currentcurewrite getcachedcurewrite group get compilation unit getcompilationunit search results searchresults length search match searchmatch match search results searchresults match is inside doc comment isinsidedoccomment i member imember enclosing member enclosingmember i member imember match get element getelement ast node astnode target get selected node getselectednode group get compilation unit getcompilationunit currentcurewrite get root getroot match get offset getoffset match get length getlength target super method invocation supermethodinvocation ret arget retarget calls add warning result merge create warning about call createwarningaboutcall enclosing member enclosingmember target refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring call warning keyword nls is true istrue nls target method invocation methodinvocation nls element call method invocation methodinvocation method invocation methodinvocation invocation method invocation methodinvocation target i type binding itypebinding type binding typebinding get expression type getexpressiontype invocation f intermediary first parameter type fintermediaryfirstparametertype highest type f intermediary first parameter type fintermediaryfirstparametertype type binding typebinding get type declaration gettypedeclaration check current type higher result merge find common parent findcommonparent type binding typebinding get type declaration gettypedeclaration result has fatal error hasfatalerror result create edit call result merge update method invocation updatemethodinvocation invocation enclosing member enclosingmember currentcurewrite call int ermediary intermediary method increase visibility type int ermediary intermediary method result merge adjust visibility adjustvisibility f intermediary type fintermediarytype enclosing member enclosingmember get declaring type getdeclaringtype no override progress monitor nooverrideprogressmonitor monitor monitor is canceled iscanceled operation canceled exception operationcanceledexception is rewrite kept isrewritekept group get compilation unit getcompilationunit create change and discard rewrite createchangeanddiscardrewrite group get compilation unit getcompilationunit monitor worked ticks per u tickspercu monitor result refactoring status refactoringstatus find common parent findcommonparent i type binding itypebinding type binding typebinding refactoring status refactoringstatus status refactoring status refactoringstatus i type binding itypebinding highest f intermediary first parameter type fintermediaryfirstparametertype i type binding itypebinding current type binding typebinding current equals highest bindings is super type issupertype highest current current highest highest supertype current hierarchy change status find lowest common supertype method search bottom order i type binding itypebinding current and supers currentandsupers get type and all super types gettypeandallsupertypes current i type binding itypebinding highest and supers highestandsupers get type and all super types gettypeandallsupertypes highest i type binding itypebinding found binding foundbinding current and supers currentandsupers length highest and supers highestandsupers length highest and supers highestandsupers is equal to isequalto current and supers currentandsupers bindings find method in hierarchy findmethodinhierarchy highest and supers highestandsupers f target method binding ftargetmethodbinding get name getname f target method binding ftargetmethodbinding get parameter types getparametertypes found binding foundbinding highest and supers highestandsupers found binding foundbinding found binding foundbinding f intermediary first parameter type fintermediaryfirstparametertype found binding foundbinding string type basic element labels basicelementlabels get java element name getjavaelementname f intermediary first parameter type fintermediaryfirstparametertype get qualified name getqualifiedname string type basic element labels basicelementlabels get java element name getjavaelementname current get qualified name getqualifiedname status add fatal error addfatalerror messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring open hierarchy error string type type status change creation override change create change createchange i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception map string string arguments hash map hashmap string project i java project ijavaproject java project javaproject f target method ftargetmethod get java project getjavaproject java project javaproject project java project javaproject get element name getelementname flags java refactoring descriptor javarefactoringdescriptor jar migration java refactoring descriptor javarefactoringdescriptor jar refactoring refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change i type itype declaring f target method ftargetmethod get declaring type getdeclaringtype declaring is local islocal declaring is anonymous isanonymous flags java refactoring descriptor javarefactoringdescriptor jar source attachment java model exception javamodelexception exception java plugin javaplugin log exception string description messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring descriptor description basic element labels basicelementlabels get java element name getjavaelementname f target method ftargetmethod get element name getelementname string header messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring descriptor description string java element labels javaelementlabels get text label gettextlabel f target method ftargetmethod java element labels javaelementlabels fully qualified java element labels javaelementlabels get text label gettextlabel declaring java element labels javaelementlabels fully qualified jdt refactoring descriptor comment jdtrefactoringdescriptorcomment comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project header comment add setting addsetting messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring original pattern java element labels javaelementlabels get text label gettextlabel f target method ftargetmethod java element labels javaelementlabels fully qualified comment add setting addsetting messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring method pattern basic element labels basicelementlabels get java element name getjavaelementname f intermediary method name fintermediarymethodname comment add setting addsetting messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring declaring pattern java element labels javaelementlabels get text label gettextlabel f intermediary type fintermediarytype java element labels javaelementlabels fully qualified f update references fupdatereferences comment add setting addsetting refactoring core messages refactoringcoremessages java refactoring descriptor javarefactoringdescriptor update references introduce indirection descriptor introduceindirectiondescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create introduce indirection descriptor createintroduceindirectiondescriptor project description comment as string asstring arguments flags arguments java refactoring descriptor util javarefactoringdescriptorutil attribute input java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project f target method ftargetmethod arguments java refactoring descriptor util javarefactoringdescriptorutil attribute f intermediary method name fintermediarymethodname arguments java refactoring descriptor util javarefactoringdescriptorutil attribute element java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project f intermediary type fintermediarytype arguments java refactoring descriptor util javarefactoringdescriptorutil attribute references value of valueof f update references fupdatereferences to string tostring dynamic validation refactoring change dynamicvalidationrefactoringchange descriptor refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring int roduce introduce indirection f text change manager ftextchangemanager get all changes getallchanges create int ermediary intermediary checks target method created note f delegate parameter type fdelegateparametertype initialized status java model exception javamodelexception happen refactoring status refactoringstatus check can create intermediary method checkcancreateintermediarymethod java model exception javamodelexception check method exists list i type binding itypebinding parameter bindings parameterbindings array list arraylist is static target isstatictarget parameter bindings parameterbindings add f intermediary first parameter type fintermediaryfirstparametertype parameter bindings parameterbindings add all addall arrays as list aslist f target method binding ftargetmethodbinding get parameter types getparametertypes checks check method in type checkmethodintype f intermediary type binding fintermediarytypebinding f intermediary method name fintermediarymethodname parameter bindings parameterbindings to array toarray i type binding itypebinding parameter bindings parameterbindings size create intermediary method createintermediarymethod core exception coreexception compilation unit rewrite compilationunitrewrite im rewrite imrewrite getcachedcurewrite f intermediary type fintermediarytype get compilation unit getcompilationunit ast ast im rewrite imrewrite getast method declaration methoddeclaration int ermediary intermediary ast new method declaration newmethoddeclaration intermediary anonymous abstract type declaration abstracttypedeclaration type abstract type declaration abstracttypedeclaration type to declaration typetodeclaration f intermediary type fintermediarytype im rewrite imrewrite get root getroot int ermediary intermediary set name setname ast new simple name newsimplename f intermediary method name fintermediarymethodname flags list i extended modifier iextendedmodifier modifiers int ermediary intermediary modifiers f intermediary type fintermediarytype is interface isinterface modifiers add im rewrite imrewrite getast new modifier newmodifier modifier keyword modifierkeyword keyword modifiers add im rewrite imrewrite getast new modifier newmodifier modifier keyword modifierkeyword keyword parameters string target parameter name targetparametername stub utility stubutility suggest argument name suggestargumentname get project getproject f intermediary first parameter type fintermediaryfirstparametertype get name getname f target method ftargetmethod get parameter names getparameternames import rewrite context importrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext type im rewrite imrewrite get import rewrite getimportrewrite is static target isstatictarget add param single variable declaration singlevariabledeclaration parameter im rewrite imrewrite getast new single variable declaration newsinglevariabledeclaration type im rewrite imrewrite get import rewrite getimportrewrite add import addimport f intermediary first parameter type fintermediaryfirstparametertype im rewrite imrewrite getast context f intermediary first parameter type fintermediaryfirstparametertype is generic type isgenerictype parameterized type parameterizedtype parameterized im rewrite imrewrite getast new parameterized type newparameterizedtype i type binding itypebinding type parameters typeparameters f intermediary first parameter type fintermediaryfirstparametertype get type parameters gettypeparameters type parameters typeparameters length parameterized type arguments typearguments add im rewrite imrewrite get import rewrite getimportrewrite add import addimport type parameters typeparameters im rewrite imrewrite getast parameterized parameter set type settype parameter set name setname im rewrite imrewrite getast new simple name newsimplename target parameter name targetparametername int ermediary intermediary parameters add parameter add params copy arguments copyarguments int ermediary intermediary im rewrite imrewrite context add type parameters declaring type enclosing types is static target isstatictarget f intermediary first parameter type fintermediaryfirstparametertype is generic type isgenerictype add type parameters addtypeparameters im rewrite imrewrite int ermediary intermediary type parameters typeparameters f intermediary first parameter type fintermediaryfirstparametertype context add type params method copy type parameters copytypeparameters int ermediary intermediary im rewrite imrewrite context type int ermediary intermediary set return type setreturntype im rewrite imrewrite get import rewrite getimportrewrite add import addimport f target method binding ftargetmethodbinding get return type getreturntype ast context exceptions copy exceptions copyexceptions int ermediary intermediary im rewrite imrewrite context body method invocation methodinvocation invocation im rewrite imrewrite getast new method invocation newmethodinvocation invocation set name setname im rewrite imrewrite getast new simple name newsimplename f target method ftargetmethod get element name getelementname is static target isstatictarget type imported type importedtype im rewrite imrewrite get import rewrite getimportrewrite add import addimport f target method binding ftargetmethodbinding get declaring class getdeclaringclass ast context invocation set expression setexpression ast node factory astnodefactory new name newname ast ast nodes astnodes as string asstring imported type importedtype invocation set expression setexpression im rewrite imrewrite getast new simple name newsimplename target parameter name targetparametername copy invocation parameters copyinvocationparameters invocation ast statement call encapsulate invocation encapsulateinvocation int ermediary intermediary invocation block body im rewrite imrewrite getast new block newblock body statements add call int ermediary intermediary set body setbody body method comment i compilation unit icompilationunit targetcu im rewrite imrewrite get cu getcu stub utility stubutility do add comments doaddcomments targetcu get java project getjavaproject string comment code generation codegeneration get method comment getmethodcomment targetcu get intermediary type name getintermediarytypename int ermediary intermediary stub utility stubutility get line delimiter used getlinedelimiterused targetcu comment javadoc javadoc javadoc im rewrite imrewrite getastrewrite create string placeholder createstringplaceholder comment ast node astnode javadoc int ermediary intermediary set javadoc setjavadoc javadoc add completed method int ermediary intermediary type child list property descriptor childlistpropertydescriptor type body declarations property typebodydeclarationsproperty type to body declaration property typetobodydeclarationproperty f intermediary type fintermediarytype im rewrite imrewrite get root getroot list rewrite listrewrite body declarations list rewrite bodydeclarationslistrewrite im rewrite imrewrite getastrewrite get list rewrite getlistrewrite type type body declarations property typebodydeclarationsproperty body declarations list rewrite bodydeclarationslistrewrite insert at insertat int ermediary intermediary ast nodes astnodes get insertion index getinsertionindex int ermediary intermediary type body declarations bodydeclarations im rewrite imrewrite create group description creategroupdescription refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring group description create method add type parameters addtypeparameters compilation unit rewrite compilationunitrewrite im rewrite imrewrite list type parameter typeparameter list i type binding itypebinding parent import rewrite context importrewritecontext context i type binding itypebinding enclosing parent get declaring class getdeclaringclass enclosing add type parameters addtypeparameters im rewrite imrewrite list enclosing context i type binding itypebinding type parameters typeparameters parent get type parameters gettypeparameters type parameters typeparameters length type parameter typeparameter ntp im rewrite imrewrite getast new type parameter newtypeparameter ntp set name setname im rewrite imrewrite getast new simple name newsimplename type parameters typeparameters get name getname i type binding itypebinding bounds type parameters typeparameters get type bounds gettypebounds bounds length nls java lang object equals nls bounds get qualified name getqualifiedname ntp type bounds typebounds add im rewrite imrewrite get import rewrite getimportrewrite add import addimport bounds im rewrite imrewrite getast context list add ntp statement encapsulate invocation encapsulateinvocation method declaration methoddeclaration declaration method invocation methodinvocation invocation type type declaration get return type getreturntype type type primitive type primitivetype primitive type primitivetype equals primitive type primitivetype type get primitive type code getprimitivetypecode invocation getast new expression statement newexpressionstatement invocation return statement returnstatement statement invocation getast new return statement newreturnstatement statement set expression setexpression invocation statement copy invocation parameters copyinvocationparameters method invocation methodinvocation invocation ast ast java model exception javamodelexception string names f target method ftargetmethod get parameter names getparameternames names length invocation arguments add ast new simple name newsimplename names copy arguments copyarguments method declaration methoddeclaration int ermediary intermediary compilation unit rewrite compilationunitrewrite rew import rewrite context importrewritecontext context java model exception javamodelexception string names f target method ftargetmethod get parameter names getparameternames i type binding itypebinding types f target method binding ftargetmethodbinding get parameter types getparametertypes names length i type binding itypebinding type binding typebinding types single variable declaration singlevariabledeclaration new element newelement rew getast new single variable declaration newsinglevariabledeclaration new element newelement set name setname rew getast new simple name newsimplename names names length f target method binding ftargetmethodbinding is varargs isvarargs new element newelement set varargs setvarargs type binding typebinding is array isarray type binding typebinding type binding typebinding get component type getcomponenttype new element newelement set type settype rew get import rewrite getimportrewrite add import addimport type binding typebinding rew getast context int ermediary intermediary parameters add new element newelement copy type parameters copytypeparameters method declaration methoddeclaration int ermediary intermediary compilation unit rewrite compilationunitrewrite rew import rewrite context importrewritecontext context i type binding itypebinding type parameters typeparameters f target method binding ftargetmethodbinding get type parameters gettypeparameters type parameters typeparameters length i type binding itypebinding current type parameters typeparameters type parameter typeparameter parameter rew getast new type parameter newtypeparameter parameter set name setname rew getast new simple name newsimplename current get name getname i type binding itypebinding bounds current get type bounds gettypebounds bounds length nls java lang object equals nls bounds get qualified name getqualifiedname parameter type bounds typebounds add rew get import rewrite getimportrewrite add import addimport bounds rew getast context int ermediary intermediary type parameters typeparameters add parameter copy exceptions copyexceptions method declaration methoddeclaration int ermediary intermediary compilation unit rewrite compilationunitrewrite im rewrite imrewrite import rewrite context importrewritecontext context i type binding itypebinding exception types exceptiontypes f target method binding ftargetmethodbinding get exception types getexceptiontypes exception types exceptiontypes length type exception type exceptiontype im rewrite imrewrite get import rewrite getimportrewrite add import addimport exception types exceptiontypes im rewrite imrewrite getast context int ermediary intermediary thrown exception types thrownexceptiontypes add exception type exceptiontype update calls refactoring status refactoringstatus update method invocation updatemethodinvocation method invocation methodinvocation original invocation originalinvocation i member imember enclosing compilation unit rewrite compilationunitrewrite unit rewriter unitrewriter java model exception javamodelexception refactoring status refactoringstatus status refactoring status refactoringstatus call target method additional parameters original invocation originalinvocation type arguments typearguments size create warning about call createwarningaboutcall enclosing original invocation originalinvocation refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring call warning type arguments method invocation methodinvocation new invocation newinvocation unit rewriter unitrewriter getast new method invocation newmethodinvocation list expression new invocation args newinvocationargs new invocation newinvocation arguments list expression original invocation args originalinvocationargs original invocation originalinvocation arguments context sensitive import rewrite context contextsensitiveimportrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext original invocation originalinvocation unit rewriter unitrewriter get import rewrite getimportrewrite call qualifier string qualifier unit rewriter unitrewriter get import rewrite getimportrewrite add import addimport f intermediary type binding fintermediarytypebinding context new invocation newinvocation set expression setexpression ast node factory astnodefactory new name newname unit rewriter unitrewriter getast qualifier new invocation newinvocation set name setname unit rewriter unitrewriter getast new simple name newsimplename get intermediary method name getintermediarymethodname expression expression original invocation originalinvocation get expression getexpression is static target isstatictarget add expression parameter expression expression call qualified expression this expression thisexpression expr unit rewriter unitrewriter getast new this expression newthisexpression refactoring status refactoringstatus qualifier status qualifierstatus qualify this expression qualifythisexpression expr original invocation originalinvocation enclosing unit rewriter unitrewriter status merge qualifier status qualifierstatus qualifier status qualifierstatus has entries hasentries warning don include invocation status new invocation args newinvocationargs add expr expression expression as param expressionasparam expression unit rewriter unitrewriter getastrewrite create move target createmovetarget expression new invocation args newinvocationargs add expression as param expressionasparam expression side effects methods don update expression ast nodes astnodes get type binding gettypebinding expression create warning about call createwarningaboutcall enclosing original invocation originalinvocation refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring call warning expression access original invocation args originalinvocationargs size expression original invocation arg originalinvocationarg original invocation args originalinvocationargs expression moved arg movedarg expression unit rewriter unitrewriter getastrewrite create move target createmovetarget original invocation arg originalinvocationarg new invocation args newinvocationargs add moved arg movedarg unit rewriter unitrewriter getastrewrite replace original invocation originalinvocation new invocation newinvocation unit rewriter unitrewriter create group description creategroupdescription refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring group description replace call status attempts qualify expression method invocation qualifier invoked method analyzed specs qualified iff method declared enclosing type supertype enclosing type method declared invocation supertype current type supertype enclosing type method declared invocation type invocation type invocation qualify enclosing type param expr link this expression thisexpression param original invocation originalinvocation original method invocation param enclosing enclosing member original method invocation param unit rewriter unitrewriter rewrite status refactoring status refactoringstatus qualify this expression qualifythisexpression this expression thisexpression expr method invocation methodinvocation original invocation originalinvocation i member imember enclosing compilation unit rewrite compilationunitrewrite unit rewriter unitrewriter refactoring status refactoringstatus status refactoring status refactoringstatus i method binding imethodbinding method binding methodbinding original invocation originalinvocation resolve method binding resolvemethodbinding method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration ast nodes astnodes find declaration finddeclaration method binding methodbinding original invocation originalinvocation get root getroot i type binding itypebinding current type binding currenttypebinding method declaration methoddeclaration declaring type declared enclosing type ast nodes astnodes is parent isparent original invocation originalinvocation method declaration methoddeclaration get parent getparent current type binding currenttypebinding method binding methodbinding get declaring class getdeclaringclass current type binding currenttypebinding ast nodes astnodes get enclosing type getenclosingtype original invocation originalinvocation declaring type find subclass ast node astnode current type declaration currenttypedeclaration get enclosing type declaration getenclosingtypedeclaration original invocation originalinvocation current type binding currenttypebinding ast nodes astnodes get enclosing type getenclosingtype current type declaration currenttypedeclaration current type declaration currenttypedeclaration bindings find method in hierarchy findmethodinhierarchy current type binding currenttypebinding method binding methodbinding get name getname method binding methodbinding get parameter types getparametertypes current type declaration currenttypedeclaration get enclosing type declaration getenclosingtypedeclaration current type declaration currenttypedeclaration get parent getparent current type binding currenttypebinding ast nodes astnodes get enclosing type getenclosingtype current type declaration currenttypedeclaration current type binding currenttypebinding status merge create warning about call createwarningaboutcall enclosing original invocation originalinvocation refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring call warning declaring type status current type binding currenttypebinding current type binding currenttypebinding get type declaration gettypedeclaration i type binding itypebinding type of call typeofcall ast nodes astnodes get enclosing type getenclosingtype original invocation originalinvocation type of call typeofcall equals current type binding currenttypebinding current type binding currenttypebinding is anonymous isanonymous qualify bug status merge create warning about call createwarningaboutcall enclosing original invocation originalinvocation refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring call warning anonymous qualify expr set qualifier setqualifier unit rewriter unitrewriter getast new simple name newsimplename current type binding currenttypebinding get name getname qualify status small help ers helpers helper method f inding finding i method imethod binding hierarchy i method binding imethodbinding find method binding in hierarchy findmethodbindinginhierarchy i type binding itypebinding current type binding currenttypebinding i method imethod method declaration methoddeclaration i method binding imethodbinding bindings current type binding currenttypebinding get declared methods getdeclaredmethods bindings length method declaration methoddeclaration equals bindings get java element getjavaelement bindings i type binding itypebinding super class superclass current type binding currenttypebinding get superclass getsuperclass super class superclass i method binding imethodbinding find method binding in hierarchy findmethodbindinginhierarchy super class superclass method declaration methoddeclaration i type binding itypebinding interfaces current type binding currenttypebinding get interfaces getinterfaces interfaces length i method binding imethodbinding find method binding in hierarchy findmethodbindinginhierarchy interfaces method declaration methoddeclaration helper method retrieving bottom list type bindings i type binding itypebinding get type and all super types gettypeandallsupertypes i type binding itypebinding type list i type binding itypebinding result array list arraylist collect super types collectsupertypes type result result to array toarray i type binding itypebinding result size collect super types collectsupertypes i type binding itypebinding curr list i type binding itypebinding list list add curr get type declaration gettypedeclaration i type binding itypebinding interfaces curr get interfaces getinterfaces interfaces length collect super types collectsupertypes interfaces list i type binding itypebinding super class superclass curr get superclass getsuperclass super class superclass collect super types collectsupertypes super class superclass list compilation unit rewrite compilationunitrewrite getcachedcurewrite i compilation unit icompilationunit unit compilation unit rewrite compilationunitrewrite rewrite f rewrites frewrites unit rewrite f selection method invocation fselectionmethodinvocation compilation unit compilationunit cu node cunode ast res olving astresolving find parent compilation unit findparentcompilationunit f selection method invocation fselectionmethodinvocation cu node cunode cu node cunode get java element getjavaelement equals unit rewrite compilation unit rewrite compilationunitrewrite unit cu node cunode f rewrites frewrites unit rewrite rewrite rewrite compilation unit rewrite compilationunitrewrite unit f rewrites frewrites unit rewrite rewrite is rewrite kept isrewritekept i compilation unit icompilationunit compilation unit compilationunit f intermediary type fintermediarytype get compilation unit getcompilationunit equals compilation unit compilationunit create change and discard rewrite createchangeanddiscardrewrite i compilation unit icompilationunit compilation unit compilationunit core exception coreexception compilation unit rewrite compilationunitrewrite rewrite f rewrites frewrites compilation unit compilationunit rewrite f text change manager ftextchangemanager manage compilation unit compilationunit rewrite create change createchange f rewrites frewrites remove compilation unit compilationunit search result group searchresultgroup get references getreferences i method imethod methods i progress monitor iprogressmonitor refactoring status refactoringstatus status core exception coreexception search pattern searchpattern pattern refactoring search engine refactoringsearchengine create or pattern createorpattern methods i java search constants ijavasearchconstants references i java search scope ijavasearchscope scope refactoring scope factory refactoringscopefactory create f intermediary type fintermediarytype refactoring search engine refactoringsearchengine search pattern scope status i type binding itypebinding type to binding typetobinding i type itype type compilation unit compilationunit root java model exception javamodelexception ast node astnode type node typenode type to declaration typetodeclaration type root type is anonymous isanonymous anonymous class declaration anonymousclassdeclaration type node typenode resolve binding resolvebinding abstract type declaration abstracttypedeclaration type node typenode resolve binding resolvebinding ast node astnode type to declaration typetodeclaration i type itype type compilation unit compilationunit root java model exception javamodelexception int ermediate name intermediatename node finder nodefinder perform root type get name range getnamerange type is anonymous isanonymous ast nodes astnodes get parent getparent int ermediate name intermediatename anonymous class declaration anonymousclassdeclaration ast nodes astnodes get parent getparent int ermediate name intermediatename abstract type declaration abstracttypedeclaration ast node astnode get enclosing type declaration getenclosingtypedeclaration ast node astnode node node node abstract type declaration abstracttypedeclaration node node anonymous class declaration anonymousclassdeclaration node node node get parent getparent child list property descriptor childlistpropertydescriptor type to body declaration property typetobodydeclarationproperty i type itype type compilation unit compilationunit root java model exception javamodelexception ast node astnode type declaration typedeclaration type to declaration typetodeclaration type root type declaration typedeclaration abstract type declaration abstracttypedeclaration abstract type declaration abstracttypedeclaration type declaration typedeclaration get body declarations property getbodydeclarationsproperty type declaration typedeclaration anonymous class declaration anonymousclassdeclaration anonymous class declaration anonymousclassdeclaration body declarations property is true istrue refactoring status refactoringstatus create warning about call createwarningaboutcall i member imember enclosing ast node astnode concrete node concretenode string message string java element labels javaelementlabels get element label getelementlabel enclosing java element labels javaelementlabels string container java element labels javaelementlabels get element label getelementlabel enclosing get declaring type getdeclaringtype java element labels javaelementlabels fully qualified refactoring status refactoringstatus create warning status createwarningstatus messages format message string container java status context javastatuscontext create enclosing get compilation unit getcompilationunit concrete node concretenode i type binding itypebinding get expression type getexpressiontype method invocation methodinvocation invocation expression expression invocation get expression getexpression i type binding itypebinding type binding typebinding expression type binding typebinding invocation resolve method binding resolvemethodbinding get declaring class getdeclaringclass type binding typebinding expression resolve type binding resolvetypebinding type binding typebinding type binding typebinding is type variable istypevariable i type binding itypebinding type bounds typebounds type binding typebinding get type bounds gettypebounds type bounds typebounds length i type binding itypebinding type bound typebound type bounds typebounds i type binding itypebinding expression type expressiontype get expression type getexpressiontype invocation type bound typebound expression type expressiontype expression type expressiontype type binding typebinding type bounds typebounds get type declaration gettypedeclaration type binding typebinding nls invocation getast resolve well known type resolvewellknowntype nls java lang object nls is not null isnotnull type binding typebinding type binding target expression type binding typebinding i type binding itypebinding get expression type getexpressiontype method invocation methodinvocation invocation i type binding itypebinding type binding typebinding type binding typebinding i method binding imethodbinding i method binding imethodbinding type binding typebinding get declared methods getdeclaredmethods invocation resolve method binding resolvemethodbinding i method binding imethodbinding type binding typebinding get type declaration gettypedeclaration i type binding itypebinding expression type expressiontype get expression type getexpressiontype invocation type binding typebinding get superclass getsuperclass expression type expressiontype expression type expressiontype i type binding itypebinding interface binding interfacebinding type binding typebinding get interfaces getinterfaces expression type expressiontype get expression type getexpressiontype invocation interface binding interfacebinding expression type expressiontype expression type expressiontype i file ifile get all files to modify getallfilestomodify list i compilation unit icompilationunit cus array list arraylist cus add all addall arrays as list aslist f text change manager ftextchangemanager get all compilation units getallcompilationunits resource util resourceutil get files getfiles cus to array toarray i compilation unit icompilationunit cus size is static target isstatictarget java model exception javamodelexception flags is static isstatic f target method ftargetmethod get flags getflags i member imember get enclosing initial selection member getenclosinginitialselectionmember java model exception javamodelexception i member imember f selection compilation unit fselectioncompilationunit get element at getelementat f selection start fselectionstart ast node astnode get selected node getselectednode i compilation unit icompilationunit unit compilation unit compilationunit root offset length ast node astnode node unit node check node checknode node finder nodefinder perform root offset length unit node check node checknode node finder nodefinder perform root offset length java model exception javamodelexception node node check node checknode node finder nodefinder perform root offset length ast node astnode check node checknode ast node astnode node node node get node type getnodetype ast node astnode simple node node get parent getparent node get node type getnodetype ast node astnode expression statement node expression statement expressionstatement node get expression getexpression node get node type getnodetype ast node astnode method invocation ast node astnode method declaration ast node astnode method invocation node visibility modifier keyword modifierkeyword get needed visibility getneededvisibility i member imember who to adjust whotoadjust i member imember from where to look fromwheretolook java model exception javamodelexception f adjustor fadjustor get visibility threshold getvisibilitythreshold from where to look fromwheretolook who to adjust whotoadjust null progress monitor nullprogressmonitor refactoring status refactoringstatus adjust visibility adjustvisibility i member imember who to adjust whotoadjust i member imember from where to look fromwheretolook i progress monitor iprogressmonitor monitor core exception coreexception adjust visibility adjustvisibility who to adjust whotoadjust get needed visibility getneededvisibility who to adjust whotoadjust from where to look fromwheretolook monitor refactoring status refactoringstatus adjust visibility adjustvisibility i member imember who to adjust whotoadjust modifier keyword modifierkeyword needed visibility neededvisibility i progress monitor iprogressmonitor monitor core exception coreexception adjust visibility adjustvisibility who to adjust whotoadjust needed visibility neededvisibility monitor refactoring status refactoringstatus adjust visibility adjustvisibility i member imember who to adjust whotoadjust modifier keyword modifierkeyword needed visibility neededvisibility also inc rease enclosing alsoincreaseenclosing i progress monitor iprogressmonitor monitor core exception coreexception map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment adjustments is rewrite kept isrewritekept who to adjust whotoadjust get compilation unit getcompilationunit adjustments f intermediary adjustments fintermediaryadjustments adjustments hash map hashmap existing adjustments existingadjustments adjustments size add adjustment addadjustment who to adjust whotoadjust needed visibility neededvisibility adjustments also inc rease enclosing alsoincreaseenclosing who to adjust whotoadjust get declaring type getdeclaringtype who to adjust whotoadjust who to adjust whotoadjust get declaring type getdeclaringtype add adjustment addadjustment who to adjust whotoadjust needed visibility neededvisibility adjustments has new adjustments hasnewadjustments adjustments size existing adjustments existingadjustments has new adjustments hasnewadjustments who to adjust whotoadjust is read only isreadonly who to adjust whotoadjust is binary isbinary refactoring status refactoringstatus create error status createerrorstatus messages format refactoring core messages refactoringcoremessages introduce indirection refactoring introduceindirectionrefactoring update binary target visibility string java element labels javaelementlabels get element label getelementlabel who to adjust whotoadjust java element labels javaelementlabels java status context javastatuscontext create who to adjust whotoadjust refactoring status refactoringstatus status refactoring status refactoringstatus don create rewrite has new adjustments hasnewadjustments status monitor begin task begintask refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjusting map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite rewrites is rewrite kept isrewritekept who to adjust whotoadjust get compilation unit getcompilationunit compilation unit rewrite compilationunitrewrite rewrite compilation unit rewrite compilationunitrewrite who to adjust whotoadjust get compilation unit getcompilationunit rewrite set resolve bindings setresolvebindings rewrites hash map hashmap rewrites who to adjust whotoadjust get compilation unit getcompilationunit rewrite status merge rewrite visibility rewritevisibility adjustments rewrites sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label rewrite attach change attachchange compilation unit change compilationunitchange f text change manager ftextchangemanager who to adjust whotoadjust get compilation unit getcompilationunit sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label monitor status refactoring status refactoringstatus rewrite visibility rewritevisibility map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment adjustments map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite rewrites i progress monitor iprogressmonitor monitor java model exception javamodelexception refactoring status refactoringstatus status refactoring status refactoringstatus f adjustor fadjustor set rewrites setrewrites rewrites f adjustor fadjustor set adjustments setadjustments adjustments f adjustor fadjustor set status setstatus status f adjustor fadjustor rewrite visibility rewritevisibility monitor status add adjustment addadjustment i member imember who to adjust whotoadjust modifier keyword modifierkeyword needed visibility neededvisibility map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment adjustments java model exception javamodelexception modifier keyword modifierkeyword current visibility currentvisibility modifier keyword modifierkeyword from flag value fromflagvalue jdt flags jdtflags get visibility code getvisibilitycode who to adjust whotoadjust member visibility adjustor membervisibilityadjustor has lower visibility haslowervisibility current visibility currentvisibility needed visibility neededvisibility member visibility adjustor membervisibilityadjustor needs visibility adjustments needsvisibilityadjustments who to adjust whotoadjust needed visibility neededvisibility adjustments adjustments who to adjust whotoadjust member visibility adjustor membervisibilityadjustor incoming member visibility adjustment incomingmembervisibilityadjustment who to adjust whotoadjust needed visibility neededvisibility refactoring status refactoringstatus create warning status createwarningstatus messages format member visibility adjustor membervisibilityadjustor get message getmessage who to adjust whotoadjust string member visibility adjustor membervisibilityadjustor get label getlabel who to adjust whotoadjust member visibility adjustor membervisibilityadjustor get label getlabel needed visibility neededvisibility java status context javastatuscontext create who to adjust whotoadjust refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments arguments string handle arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement arguments get project getproject handle element element exists element get element type getelementtype i java element ijavaelement method java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get name getname i java refactorings ijavarefactorings introduce indirection f target method ftargetmethod i method imethod element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input handle arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute element handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement arguments get project getproject handle element element exists element get element type getelementtype i java element ijavaelement type java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get name getname i java refactorings ijavarefactorings introduce indirection f intermediary type fintermediarytype i type itype element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute element string references arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute references references f update references fupdatereferences value of valueof references boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute references string arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute nls equals set intermediary method name setintermediarymethodname refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute
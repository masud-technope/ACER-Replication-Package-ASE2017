copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text correction proposals org eclipse text edits copy target edit copytargetedit org eclipse text edits delete edit deleteedit org eclipse text edits insert edit insertedit org eclipse text edits move source edit movesourceedit org eclipse text edits move target edit movetargetedit org eclipse text edits replace edit replaceedit org eclipse text edits text edit textedit org eclipse text edits text edit visitor texteditvisitor org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jdt internal corext util strings annotate edits quick assist quick pop preview bold edit anno tator editannotator text edit visitor texteditvisitor f written to pos fwrittentopos string buffer stringbuffer f buf fbuf i document idocument f preview document fpreviewdocument edit anno tator editannotator string buffer stringbuffer buffer i document idocument preview doc previewdoc f buf fbuf buffer f preview document fpreviewdocument preview doc previewdoc unchanged until unchangeduntil pos pos f written to pos fwrittentopos append content appendcontent f preview document fpreviewdocument f written to pos fwrittentopos pos f written to pos fwrittentopos pos override visit move target edit movetargetedit edit range added rangeadded edit override visit copy target edit copytargetedit edit range added rangeadded edit override visit insert edit insertedit edit range added rangeadded edit override visit replace edit replaceedit edit edit get length getlength range added rangeadded edit range removed rangeremoved edit override visit move source edit movesourceedit edit range removed rangeremoved edit override visit delete edit deleteedit edit range removed rangeremoved edit range removed rangeremoved text edit textedit edit unchanged until unchangeduntil edit get offset getoffset range added rangeadded text edit textedit edit nls nls annotate edit annotateedit edit annotate edit annotateedit text edit textedit edit string start tag starttag string end tag endtag unchanged until unchangeduntil edit get offset getoffset f buf fbuf append start tag starttag append content appendcontent f preview document fpreviewdocument edit get offset getoffset edit get exclusive end getexclusiveend f buf fbuf append end tag endtag f written to pos fwrittentopos edit get exclusive end getexclusiveend append content appendcontent i document idocument text start offset startoffset end offset endoffset surround lines only surroundlinesonly surround lines surroundlines start line startline text get line of offset getlineofoffset start offset startoffset end line endline text get line of offset getlineofoffset end offset endoffset dots added dotsadded surround lines top change range surround lines only surroundlinesonly start offset startoffset start line startline math max end line endline surround lines surroundlines nls f buf fbuf append nls dots added dotsadded start line startline end line endline surround lines only surroundlinesonly start line startline surround lines surroundlines end line endline surround lines surroundlines dots added dotsadded nls f buf fbuf append dots added dotsadded end offset endoffset text get length getlength surround lines bottom change range i region iregion line info lineinfo text get line information getlineinformation start line info lineinfo get offset getoffset start line info lineinfo get length getlength math max start start offset startoffset math min end offset endoffset string content text surround lines only surroundlinesonly start strings contains only whitespaces containsonlywhitespaces content ignore empty lines range started middle content length content char at charat nls f buf fbuf append nls f buf fbuf append f buf fbuf append range end offset endoffset nls f buf fbuf append nls bad location exception badlocationexception
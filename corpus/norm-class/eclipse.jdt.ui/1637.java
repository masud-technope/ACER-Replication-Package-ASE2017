copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation tom eicher eclipse tom eicher for matting formatting format element java doc javadoc format method body https bugs eclipse org bugs bug cgi mateusz matela mateusz matela gmail formatter formatter format java code correctly max width org eclipse jdt tests core java util hashtable junit framework test junit framework test suite testsuite org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse jdt test plugin testplugin test options testoptions org eclipse text edits text edit textedit org eclipse jface action i action iaction org eclipse jface viewers i selection iselection org eclipse jface text document org eclipse jface text i region iregion org eclipse jface text region org eclipse jface text text selection textselection org eclipse i workbench part site iworkbenchpartsite org eclipse part init exception partinitexception org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core tool factory toolfactory org eclipse jdt core formatter code formatter codeformatter org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt internal java editor javaeditor editor utility editorutility org eclipse jdt internal java editor javaeditor java editor javaeditor code formatter test codeformattertest core tests coretests code formatter test codeformattertest code formatter test codeformattertest i java project ijavaproject fjproject i package fragment root ipackagefragmentroot f source folder fsourcefolder code formatter test codeformattertest string test suite set up test setuptest test suite testsuite test set up test setuptest test test project test setup projecttestsetup test override set up setup exception fjproject java project helper javaprojecthelper create java project createjavaproject test project testproject bin java project helper javaprojecthelper add required project addrequiredproject fjproject project test setup projecttestsetup get project getproject f source folder fsourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src hashtable string string options test options testoptions get default options getdefaultoptions options default code formatter constants defaultcodeformatterconstants formatter tab java core javacore space options default code formatter constants defaultcodeformatterconstants formatter tab size options default code formatter constants defaultcodeformatterconstants formatter split java core javacore set options setoptions options override tear down teardown exception java project helper javaprojecthelper delete fjproject string format i compilation unit icompilationunit offset length part init exception partinitexception java model exception javamodelexception format offset length format string format element formatelement i compilation unit icompilationunit offset length part init exception partinitexception java model exception javamodelexception java editor javaeditor action ids format offset length quick format quickformat string format i compilation unit icompilationunit offset length string action id actionid part init exception partinitexception java model exception javamodelexception java editor javaeditor editor part editorpart java editor javaeditor editor utility editorutility open in editor openineditor i workbench part site iworkbenchpartsite editor site editorsite editor part editorpart get site getsite i selection iselection selection text selection textselection offset length editor site editorsite get selection provider getselectionprovider set selection setselection selection i action iaction format action formataction editor part editorpart get action getaction action id actionid format action formataction get buffer getbuffer get contents getcontents editor part editorpart close test format selection testformatselection exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append buf append buf append header buf append buf append pack buf append buf append buf append buf append bla buf append buf append buf append buf append string original buf to string tostring i compilation unit icompilationunit pack create compilation unit createcompilationunit java original buf string buffer stringbuffer buf append buf append bla buf append string selection buf to string tostring string formatted format original index of indexof selection selection length buf string buffer stringbuffer buf append buf append buf append header buf append buf append pack buf append buf append buf append buf append bla buf append buf append buf append buf append string expected buf to string tostring assert equal string assertequalstring formatted expected test format field decl with extra whitespace testformatfielddeclwithextrawhitespace exception string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append string contents buf to string tostring string format string formatstring string format string formatstring i region iregion regions region region contents index of indexof format string formatstring format string formatstring length region contents index of indexof format string formatstring format string formatstring length text edit textedit edit tool factory toolfactory create code formatter createcodeformatter tool factory toolfactory format existing format code formatter codeformatter compilation unit code formatter codeformatter include comments contents regions assert not null assertnotnull edit document doc document contents edit apply doc string formatted doc buf string buffer stringbuffer buf append test buf append buf append buf append string expected buf to string tostring assert equal string assertequalstring formatted expected tests format element for mats formats surrounding java element including comment invoked code partition test format element testformatelement exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment pack string original header pack javadoc method local i compilation unit icompilationunit pack create compilation unit createcompilationunit java original string formatted format element formatelement original index of indexof method string expected header pack javadoc formatted javadoc method local formatted local assert equal string assertequalstring formatted expected tests format element for mats formats surrounding javadoc test format element in javadoc testformatelementinjavadoc exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment pack string original header pack javadoc method local i compilation unit icompilationunit pack create compilation unit createcompilationunit java original string formatted format element formatelement original index of indexof javadoc string expected header pack javadoc formatted javadoc method local formatted local assert equal string assertequalstring formatted expected tests format element for mats formats surrounding comment test format element in comment testformatelementincomment exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment pack string original header pack javadoc method comment local i compilation unit icompilationunit pack create compilation unit createcompilationunit java original string formatted format element formatelement original index of indexof comment string expected header pack javadoc formatted javadoc method comment formatted comment local formatted local assert equal string assertequalstring formatted expected
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk core refactoring org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse core file buf fers filebuffers location kind locationkind org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits text edit textedit org eclipse text edits undo edit undoedit org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text link linked mode model linkedmodemodel org eclipse ltk internal core refactoring buffer validation state buffervalidationstate org eclipse ltk internal core refactoring org eclipse ltk internal core refactoring content stamps contentstamps org eclipse ltk internal core refactoring lock org eclipse ltk internal core refactoring refactoring core plugin refactoringcoreplugin change perform reverse change link text file change textfilechange intended instantiated clients created code text file change textfilechange code object subclassed clients sub cla ssi ng subclassing code text file change textfilechange code provide proper undo change object undo text file change undotextfilechange change string f name fname undo edit undoedit f undo fundo i file ifile f file ffile content stamp contentstamp f content stamp to restore fcontentstamptorestore f save mode fsavemode f dirty fdirty buffer validation state buffervalidationstate f validation state fvalidationstate create undo text file change object param human readable change param file file change working param stamp content stamp restore undo executed param undo edit representing undo modifications param save mode savemode save mode link text file change textfilechange text file change textfilechange save text file change textfilechange force save text file change textfilechange leave dirty undo text file change undotextfilechange string i file ifile file undo edit undoedit undo content stamp contentstamp stamp save mode savemode is not null isnotnull is not null isnotnull file is not null isnotnull undo f name fname f file ffile file f undo fundo undo f content stamp to restore fcontentstamptorestore stamp f save mode fsavemode save mode savemode returns change save mode change save mode text file change textfilechange save text file change textfilechange force save text file change textfilechange leave dirty get save mode getsavemode f save mode fsavemode override string get name getname f name fname hook create undo change undo edit hook called performing change construct undo change object subclasses override create undo change param edit link undo edit undoedit undo edit create undo change param stamp to restore stamptorestore content stamp restore undo edit executed undo change core exception coreexception undo change created change create undo change createundochange undo edit undoedit edit content stamp contentstamp stamp to restore stamptorestore core exception coreexception undo text file change undotextfilechange get name getname f file ffile edit stamp to restore stamptorestore f save mode fsavemode override object get modified element getmodifiedelement f file ffile override object get affected objects getaffectedobjects object modified element modifiedelement get modified element getmodifiedelement modified element modifiedelement object modified element modifiedelement override initialize validation data initializevalidationdata i progress monitor iprogressmonitor null progress monitor nullprogressmonitor nls begin task begintask f validation state fvalidationstate buffer validation state buffervalidationstate create f file ffile override refactoring status refactoringstatus is valid isvalid i progress monitor iprogressmonitor core exception coreexception null progress monitor nullprogressmonitor nls begin task begintask f validation state fvalidationstate nls core exception coreexception nls status i status istatus error refactoring core plugin refactoringcoreplugin get plugin id getpluginid undo text file change undotextfilechange initial ialized initialialized i text file buffer itextfilebuffer buffer file buffers filebuffers get text file buffer manager gettextfilebuffermanager get text file buffer gettextfilebuffer f file ffile get full path getfullpath location kind locationkind ifile f dirty fdirty buffer buffer is dirty isdirty f validation state fvalidationstate is valid isvalid needs saving needssaving override change perform i progress monitor iprogressmonitor core exception coreexception null progress monitor nullprogressmonitor i text file buffer manager itextfilebuffermanager manager file buffers filebuffers get text file buffer manager gettextfilebuffermanager nls begin task begintask i text file buffer itextfilebuffer buffer manager connect f file ffile get full path getfullpath location kind locationkind ifile sub progress monitor subprogressmonitor buffer manager get text file buffer gettextfilebuffer f file ffile get full path getfullpath location kind locationkind ifile i document idocument document buffer get document getdocument content stamp contentstamp current stamp currentstamp content stamps contentstamps f file ffile document set content stamp success setcontentstampsuccess undo edit undoedit redo perform edits performedits buffer document set content stamp success setcontentstampsuccess needs saving needssaving buffer commit set content stamp success setcontentstampsuccess were n weren restore document stamp save restore file stamp content stamps contentstamps f file ffile f content stamp to restore fcontentstamptorestore create undo change createundochange redo current stamp currentstamp bad location exception badlocationexception f validation state fvalidationstate f validation state fvalidationstate was derived wasderived as core exception ascoreexception null change nullchange malformed tree exception malformedtreeexception f validation state fvalidationstate f validation state fvalidationstate was derived wasderived as core exception ascoreexception null change nullchange core exception coreexception f validation state fvalidationstate f validation state fvalidationstate was derived wasderived null change nullchange buffer manager disconnect f file ffile get full path getfullpath location kind locationkind ifile sub progress monitor subprogressmonitor undo edit undoedit perform edits performedits i text file buffer itextfilebuffer buffer i document idocument document set content stamp success setcontentstampsuccess malformed tree exception malformedtreeexception bad location exception badlocationexception core exception coreexception buffer is synchronization context requested issynchronizationcontextrequested do perform edits doperformedits document set content stamp success setcontentstampsuccess i text file buffer manager itextfilebuffermanager file buffer manager filebuffermanager file buffers filebuffers get text file buffer manager gettextfilebuffermanager lock waiting computation thread complete lock completion lock completionlock lock undo edit undoedit result undo edit undoedit bad location exception badlocationexception bad location exception badlocationexception bad location exception badlocationexception malformed tree exception malformedtreeexception malformed tree exception malformedtreeexception malformed tree exception malformedtreeexception core exception coreexception core exception coreexception core exception coreexception runnable runnable runnable override completion lock completionlock result do perform edits doperformedits document set content stamp success setcontentstampsuccess bad location exception badlocationexception bad location exception badlocationexception malformed tree exception malformedtreeexception malformed tree exception malformedtreeexception core exception coreexception core exception coreexception completion lock completionlock f done fdone completion lock completionlock notify all notifyall completion lock completionlock file buffer manager filebuffermanager execute runnable completion lock completionlock f done fdone completion lock completionlock wait interrupted exception interruptedexception bad location exception badlocationexception bad location exception badlocationexception malformed tree exception malformedtreeexception malformed tree exception malformedtreeexception core exception coreexception core exception coreexception result undo edit undoedit do perform edits doperformedits i document idocument document set content stamp success setcontentstampsuccess malformed tree exception malformedtreeexception bad location exception badlocationexception core exception coreexception perform linked mode model linkedmodemodel close all models closeallmodels document undo edit undoedit redo f undo fundo apply document text edit textedit create undo restore document content stamp set content stamp success setcontentstampsuccess content stamps contentstamps document f content stamp to restore fcontentstamptorestore redo override dispose f validation state fvalidationstate f validation state fvalidationstate dispose needs saving needssaving f save mode fsavemode text file change textfilechange force save f dirty fdirty f save mode fsavemode text file change textfilechange save
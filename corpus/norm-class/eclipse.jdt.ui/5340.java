copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal type hierarchy typehierarchy java lang reflect invocation target exception invocationtargetexception java util array list arraylist java util arrays java util list org eclipse swt widgets display org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime status org eclipse core runtime jobs job org eclipse jface operation i runnable context irunnablecontext org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse progress i workbench site progress service iworkbenchsiteprogressservice org eclipse jdt core element changed event elementchangedevent org eclipse jdt core i class file iclassfile org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i element changed listener ielementchangedlistener org eclipse jdt core i java element ijavaelement org eclipse jdt core i java element delta ijavaelementdelta org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i region iregion org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core i type hierarchy changed listener itypehierarchychangedlistener org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util messages org eclipse jdt internal java plugin javaplugin manages type hierarchy ref res hed refreshed shared type hierarchy life cycle typehierarchylifecycle i type hierarchy changed listener itypehierarchychangedlistener i element changed listener ielementchangedlistener f hierarchy refresh needed fhierarchyrefreshneeded i type hierarchy itypehierarchy f hierarchy fhierarchy i java element ijavaelement f input elements finputelements f is super types only fissupertypesonly list i type hierarchy life cycle listener itypehierarchylifecyclelistener f change listeners fchangelisteners type hierarchy view type hierarchy view part typehierarchyviewpart f type hierarchy view part ftypehierarchyviewpart job runs background refresh type hierarchy job f refresh hierarchy job frefreshhierarchyjob refresh job can celed canceled explicitly f refresh job canceled explicitly frefreshjobcanceledexplicitly creates type hierarchy life cycle param type hierarchy view type hierarchy life cycle typehierarchylifecycle type hierarchy view part typehierarchyviewpart f type hierarchy view part ftypehierarchyviewpart f refresh hierarchy job frefreshhierarchyjob type hierarchy life cycle typehierarchylifecycle is super types only issupertypesonly f hierarchy fhierarchy f input elements finputelements f is super types only fissupertypesonly is super types only issupertypesonly f change listeners fchangelisteners array list arraylist i type hierarchy itypehierarchy get hierarchy gethierarchy f hierarchy fhierarchy returns array input elements input elements code code i java element ijavaelement get input elements getinputelements f input elements finputelements free hierarchy freehierarchy f hierarchy fhierarchy f hierarchy fhierarchy remove type hierarchy changed listener removetypehierarchychangedlistener java core javacore remove element changed listener removeelementchangedlistener f hierarchy fhierarchy f input elements finputelements f refresh hierarchy job frefreshhierarchyjob f refresh hierarchy job frefreshhierarchyjob cancel f refresh hierarchy job frefreshhierarchyjob remove changed listener removechangedlistener i type hierarchy life cycle listener itypehierarchylifecyclelistener listener f change listeners fchangelisteners remove listener add changed listener addchangedlistener i type hierarchy life cycle listener itypehierarchylifecyclelistener listener f change listeners fchangelisteners listener f change listeners fchangelisteners add listener fire change firechange i type itype changed types changedtypes f change listeners fchangelisteners size i type hierarchy life cycle listener itypehierarchylifecyclelistener curr f change listeners fchangelisteners curr type hierarchy changed typehierarchychanged changed types changedtypes ref res hes refreshes type hierarchy java element exists param element java element type hierarchy computed param context runnable context interrupted exception interruptedexception thrown code operation canceled exception operationcanceledexception code monitor can celed canceled invocation target exception invocationtargetexception thrown code java model exception javamodelexception code java element exist exception occurs accessing resource ensure ref res hed type hierarchy ensurerefreshedtypehierarchy i java element ijavaelement element i runnable context irunnablecontext context invocation target exception invocationtargetexception interrupted exception interruptedexception ensure ref res hed type hierarchy ensurerefreshedtypehierarchy i java element ijavaelement element context ref res hes refreshes type hierarchy java elements exist param elements java elements type hierarchy computed param context runnable context interrupted exception interruptedexception thrown code operation canceled exception operationcanceledexception code monitor can celed canceled invocation target exception invocationtargetexception thrown code java model exception javamodelexception code java element exist exception occurs accessing resource ensure ref res hed type hierarchy ensurerefreshedtypehierarchy i java element ijavaelement elements i runnable context irunnablecontext context invocation target exception invocationtargetexception interrupted exception interruptedexception f refresh hierarchy job frefreshhierarchyjob f refresh hierarchy job frefreshhierarchyjob cancel f refresh job canceled explicitly frefreshjobcanceledexplicitly f refresh hierarchy job frefreshhierarchyjob join interrupted exception interruptedexception f refresh hierarchy job frefreshhierarchyjob f refresh job canceled explicitly frefreshjobcanceledexplicitly elements elements length free hierarchy freehierarchy elements length elements elements exists free hierarchy freehierarchy hierachy creation needed hierachycreationneeded f hierarchy fhierarchy arrays equals elements f input elements finputelements hierachy creation needed hierachycreationneeded f hierarchy refresh needed fhierarchyrefreshneeded f type hierarchy view part ftypehierarchyviewpart i runnable with progress irunnablewithprogress i runnable with progress irunnablewithprogress override i progress monitor iprogressmonitor invocation target exception invocationtargetexception interrupted exception interruptedexception do hierarchy refresh dohierarchyrefresh elements java model exception javamodelexception invocation target exception invocationtargetexception operation canceled exception operationcanceledexception interrupted exception interruptedexception f hierarchy refresh needed fhierarchyrefreshneeded context f hierarchy refresh needed fhierarchyrefreshneeded string label messages format type hierarchy messages typehierarchymessages type hierarchy life cycle typehierarchylifecycle compute input computeinput history action historyaction get element label getelementlabel elements f refresh hierarchy job frefreshhierarchyjob job label org eclipse core runtime jobs job org eclipse core runtime i progress monitor iprogressmonitor override i status istatus i progress monitor iprogressmonitor begin task begintask label do hierarchy refresh background dohierarchyrefreshbackground elements operation canceled exception operationcanceledexception f refresh job canceled explicitly frefreshjobcanceledexplicitly f type hierarchy view part ftypehierarchyviewpart show empty viewer showemptyviewer status cancel status java model exception javamodelexception get status getstatus f hierarchy refresh needed fhierarchyrefreshneeded status status f refresh hierarchy job frefreshhierarchyjob set user setuser i workbench site progress service iworkbenchsiteprogressservice progress service progressservice f type hierarchy view part ftypehierarchyviewpart get site getsite get adapter getadapter i workbench site progress service iworkbenchsiteprogressservice progress service progressservice schedule f refresh hierarchy job frefreshhierarchyjob returns code code refresh job running code code code code refresh job running code code is refresh job running isrefreshjobrunning f refresh hierarchy job frefreshhierarchyjob ref res hes refreshes hierarchy background updates hierarchy viewer async hronously asynchronously thread param elements java elements hierarchy computed param progress monitor java model exception javamodelexception java element exist exception occurs accessing resource do hierarchy refresh background dohierarchyrefreshbackground i java element ijavaelement elements i progress monitor iprogressmonitor java model exception javamodelexception do hierarchy refresh dohierarchyrefresh elements is canceled iscanceled display get default getdefault async exec asyncexec runnable java lang runnable override type hierarchy life cycle typehierarchylifecycle f refresh hierarchy job frefreshhierarchyjob f refresh hierarchy job frefreshhierarchyjob is canceled iscanceled f type hierarchy view part ftypehierarchyviewpart set view ers input setviewersinput f type hierarchy view part ftypehierarchyviewpart update view ers updateviewers i type hierarchy itypehierarchy create type hierarchy createtypehierarchy i java element ijavaelement elements i progress monitor iprogressmonitor java model exception javamodelexception elements length elements get element type getelementtype i java element ijavaelement type i type itype type i type itype elements f is super types only fissupertypesonly type new supertype hierarchy newsupertypehierarchy type new type hierarchy newtypehierarchy i region iregion region java core javacore new region newregion elements length elements get element type getelementtype i java element ijavaelement java project projects add contained source folders i package fragment root ipackagefragmentroot roots i java project ijavaproject elements get package fragment roots getpackagefragmentroots roots length roots is external isexternal region add roots region add elements java core javacore new type hierarchy newtypehierarchy region do hierarchy refresh dohierarchyrefresh i java element ijavaelement elements i progress monitor iprogressmonitor java model exception javamodelexception hierachy creation needed hierachycreationneeded f hierarchy fhierarchy arrays equals elements f input elements finputelements type hierarchies f hierarchy fhierarchy f hierarchy fhierarchy remove type hierarchy changed listener removetypehierarchychangedlistener java core javacore remove element changed listener removeelementchangedlistener hierachy creation needed hierachycreationneeded f hierarchy fhierarchy create type hierarchy createtypehierarchy elements is canceled iscanceled operation canceled exception operationcanceledexception f input elements finputelements elements f hierarchy fhierarchy refresh is canceled iscanceled operation canceled exception operationcanceledexception f hierarchy fhierarchy add type hierarchy changed listener addtypehierarchychangedlistener java core javacore add element changed listener addelementchangedlistener f hierarchy refresh needed fhierarchyrefreshneeded i type hierarchy changed listener itypehierarchychangedlistener type hierarchy changed typehierarchychanged override type hierarchy changed typehierarchychanged i type hierarchy itypehierarchy type hierarchy typehierarchy f hierarchy refresh needed fhierarchyrefreshneeded fire change firechange i element changed listener ielementchangedlistener element changed elementchanged element changed event elementchangedevent override element changed elementchanged element changed event elementchangedevent event f change listeners fchangelisteners is empty isempty f hierarchy refresh needed fhierarchyrefreshneeded array list arraylist i type itype changed types changedtypes array list arraylist process delta processdelta event get delta getdelta changed types changedtypes changed types changedtypes size fire change firechange changed types changedtypes to array toarray i type itype changed types changedtypes size assume hierarchy int act intact refresh needed process delta processdelta i java element delta ijavaelementdelta delta array list arraylist i type itype changed types changedtypes i java element ijavaelement element delta get element getelement element get element type getelementtype i java element ijavaelement type process type delta processtypedelta i type itype element changed types changedtypes types process children delta processchildrendelta delta changed types changedtypes i java element ijavaelement java model i java element ijavaelement java project i java element ijavaelement fragment root i java element ijavaelement fragment process children delta processchildrendelta delta changed types changedtypes i java element ijavaelement compilation unit i compilation unit icompilationunit i compilation unit icompilationunit element java model util javamodelutil is primary isprimary delta get kind getkind i java element delta ijavaelementdelta changed is possible structural change ispossiblestructuralchange delta get flags getflags exists i type itype types get all types getalltypes types length process type delta processtypedelta types changed types changedtypes java model exception javamodelexception java plugin javaplugin log process children delta processchildrendelta delta changed types changedtypes i java element ijavaelement file delta get kind getkind i java element delta ijavaelementdelta changed i type itype type i class file iclassfile element get type gettype process type delta processtypedelta type changed types changedtypes process children delta processchildrendelta delta changed types changedtypes is possible structural change ispossiblestructuralchange flags flags i java element delta ijavaelementdelta content i java element delta ijavaelementdelta fine grained i java element delta ijavaelementdelta content process type delta processtypedelta i type itype type array list arraylist i type itype changed types changedtypes get hierarchy gethierarchy type changed types changedtypes add type process children delta processchildrendelta i java element delta ijavaelementdelta delta array list arraylist i type itype changed types changedtypes i java element delta ijavaelementdelta children delta get affected children getaffectedchildren children length recursive process delta processdelta children changed types changedtypes
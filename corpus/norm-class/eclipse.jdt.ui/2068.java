copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation alex blewitt bug sort members performed project levels org eclipse jdt internal actions java lang reflect invocation target exception invocationtargetexception java util arrays java util collection java util hash set hashset org eclipse core runtime core exception coreexception org eclipse core runtime i adaptable iadaptable org eclipse core runtime i status istatus org eclipse core runtime multi status multistatus org eclipse core runtime status org eclipse jface dialogs error dialog errordialog org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers i structured selection istructuredselection org eclipse jface text i text selection itextselection org eclipse i workbench site iworkbenchsite org eclipse i working set iworkingset org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring refactoring execution starter refactoringexecutionstarter org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util messages org eclipse jdt javaui org eclipse jdt actions selection dispatch action selectiondispatchaction org eclipse jdt cleanup i clean up icleanup org eclipse jdt internal java plugin javaplugin org eclipse jdt internal browsing logical package logicalpackage org eclipse jdt internal java editor javaeditor java editor javaeditor org eclipse jdt internal util element validator elementvalidator org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal working sets workingsets i working set ds iworkingsetids clean up action cleanupaction selection dispatch action selectiondispatchaction java editor javaeditor f editor feditor clean up action cleanupaction i workbench site iworkbenchsite site site note constructor internal clients call constructor param editor java editor clean up action cleanupaction java editor javaeditor editor editor get editor site geteditorsite f editor feditor editor set enabled setenabled get compilation unit getcompilationunit f editor feditor action string get action name getactionname param units units clean clean performed performed i clean up icleanup get clean ups getcleanups i compilation unit icompilationunit units perform refactoring performrefactoring i compilation unit icompilationunit units i clean up icleanup clean ups cleanups invocation target exception invocationtargetexception refactoring execution starter refactoringexecutionstarter start clean up refactoring startcleanuprefactoring units clean ups cleanups get shell getshell get action name getactionname override i text selection itextselection selection i compilation unit icompilationunit get compilation unit getcompilationunit f editor feditor override i structured selection istructuredselection selection i compilation unit icompilationunit cus get compilation units getcompilationunits selection cus length message dialog messagedialog open information openinformation get shell getshell get action name getactionname action messages actionmessages clean up action cleanupaction empty selection emptyselection description cus length cus run on multiple runonmultiple cus override selection changed selectionchanged i text selection itextselection selection set enabled setenabled get compilation unit getcompilationunit f editor feditor override selection changed selectionchanged i structured selection istructuredselection selection set enabled setenabled is enabled isenabled selection is enabled isenabled i structured selection istructuredselection selection object selected selection to array toarray selected length selected i java element ijavaelement i java element ijavaelement elem i java element ijavaelement selected elem exists elem get element type getelementtype i java element ijavaelement type browsing perspective elem get parent getparent get element type getelementtype browsing perspective i java element ijavaelement compilation unit i java element ijavaelement compilation unit i java element ijavaelement container i java element ijavaelement fragment i java element ijavaelement fragment root i package fragment root ipackagefragmentroot root i package fragment root ipackagefragmentroot elem get ancestor getancestor i java element ijavaelement fragment root root get kind getkind i package fragment root ipackagefragmentroot source i java element ijavaelement java project https bugs eclipse org bugs bug cgi selected logical package logicalpackage selected i working set iworkingset i working set iworkingset working set workingset i working set iworkingset selected i working set ds iworkingsetids java equals working set workingset get i d getid java model exception javamodelexception is does not exist isdoesnotexist java plugin javaplugin log i compilation unit icompilationunit action util actionutil is editable iseditable f editor feditor get shell getshell i clean up icleanup clean ups cleanups get clean ups getcleanups i compilation unit icompilationunit clean ups cleanups element validator elementvalidator check get shell getshell get action name getactionname f editor feditor perform refactoring performrefactoring i compilation unit icompilationunit clean ups cleanups invocation target exception invocationtargetexception java plugin javaplugin log get cause getcause core exception coreexception show unexpected error showunexpectederror core exception coreexception get cause getcause run on multiple runonmultiple i compilation unit icompilationunit cus i clean up icleanup clean ups cleanups get clean ups getcleanups cus clean ups cleanups multi status multistatus status multi status multistatus javaui plugin i status istatus action messages actionmessages clean up action cleanupaction multi state error title multistateerrortitle cus length i compilation unit icompilationunit cus action util actionutil is on build path isonbuildpath string cu location culocation basic element labels basicelementlabels get path label getpathlabel get path getpath string message messages format action messages actionmessages clean up action cleanupaction cu not on buildpath message cunotonbuildpathmessage cu location culocation status add status i status istatus info javaui plugin i status istatus error message status isok error dialog errordialog open error openerror get shell getshell get action name getactionname status perform refactoring performrefactoring cus clean ups cleanups invocation target exception invocationtargetexception java plugin javaplugin log get cause getcause core exception coreexception show unexpected error showunexpectederror core exception coreexception get cause getcause show unexpected error showunexpectederror core exception coreexception string message messages format action messages actionmessages clean up action cleanupaction unexpected error message unexpectederrormessage get status getstatus get message getmessage i status istatus status status i status istatus error javaui plugin i status istatus error message error dialog errordialog open error openerror get shell getshell get action name getactionname status i compilation unit icompilationunit get compilation units getcompilationunits i structured selection istructuredselection selection hash set hashset i java element ijavaelement result hash set hashset object selected selection to array toarray selected length object element selected collect compilation units collectcompilationunits element result result to array toarray i compilation unit icompilationunit result size collect compilation units collectcompilationunits object element collection i java element ijavaelement result element i java element ijavaelement i java element ijavaelement elem i java element ijavaelement element elem exists elem get element type getelementtype i java element ijavaelement type elem get parent getparent get element type getelementtype i java element ijavaelement compilation unit result add elem get parent getparent i java element ijavaelement compilation unit result add elem i java element ijavaelement container result add elem get parent getparent i java element ijavaelement fragment collect compilation units collectcompilationunits i package fragment ipackagefragment elem result i java element ijavaelement fragment root collect compilation units collectcompilationunits i package fragment root ipackagefragmentroot elem result i java element ijavaelement java project i package fragment root ipackagefragmentroot roots i java project ijavaproject elem get package fragment roots getpackagefragmentroots roots length collect compilation units collectcompilationunits roots result element logical package logicalpackage i package fragment ipackagefragment package fragments packagefragments logical package logicalpackage element get fragments getfragments package fragments packagefragments length i package fragment ipackagefragment pack package fragments packagefragments pack exists collect compilation units collectcompilationunits pack result element i working set iworkingset i working set iworkingset working set workingset i working set iworkingset element i adaptable iadaptable elements working set workingset get elements getelements elements length collect compilation units collectcompilationunits elements result java model exception javamodelexception java model util javamodelutil is exception to be log ged isexceptiontobelogged java plugin javaplugin log collect compilation units collectcompilationunits i package fragment ipackagefragment pack collection i java element ijavaelement result java model exception javamodelexception result add all addall arrays as list aslist pack get compilation units getcompilationunits collect compilation units collectcompilationunits i package fragment root ipackagefragmentroot root collection i java element ijavaelement result java model exception javamodelexception root get kind getkind i package fragment root ipackagefragmentroot source i java element ijavaelement children root get children getchildren children length collect compilation units collectcompilationunits i package fragment ipackagefragment children result i compilation unit icompilationunit get compilation unit getcompilationunit java editor javaeditor editor i java element ijavaelement element javaui get editor input java element geteditorinputjavaelement editor get editor input geteditorinput element i compilation unit icompilationunit i compilation unit icompilationunit element
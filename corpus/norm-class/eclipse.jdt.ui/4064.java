copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring structure java util array list arraylist java util arrays java util collection java util hash map hashmap java util hash set hashset java util iterator java util linked list linkedlist java util list java util map java util map entry java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits text edit textedit org eclipse text edits text edit copier texteditcopier org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse ltk core refactoring change org eclipse ltk core refactoring group category groupcategory org eclipse ltk core refactoring group category set groupcategoryset org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring text change textchange org eclipse ltk core refactoring participants check conditions context checkconditionscontext org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core i type parameter itypeparameter org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom ast requestor astrequestor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom modifier org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt core formatter code formatter codeformatter org eclipse jdt core refactoring compilation unit change compilationunitchange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors extract superclass descriptor extractsuperclassdescriptor org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext code manipulation codemanipulation code generation settings codegenerationsettings org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring create compilation unit change createcompilationunitchange org eclipse jdt internal corext refactoring dynamic validation refactoring change dynamicvalidationrefactoringchange org eclipse jdt internal corext refactoring multi state compilation unit change multistatecompilationunitchange org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util text edit based change manager texteditbasedchangemanager org eclipse jdt internal corext util code formatter util codeformatterutil org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt code generation codegeneration org eclipse jdt java element labels javaelementlabels org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal preferences java preferences settings javapreferencessettings org eclipse jdt internal viewsupport basic element labels basicelementlabels refactoring processor extract supertype refactoring extract supertype processor extractsupertypeprocessor pull up refactoring processor pulluprefactoringprocessor extract attribute nls string attribute extract extract types attribute nls string attribute types types extract supertype group category group category set groupcategoryset extract supertype group category set groupcategoryset nls group category groupcategory nls org eclipse jdt internal corext extract supertype extractsupertype refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor category refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor category description working copy layer element type i compilation unit icompilationunit text edit based change texteditbasedchange compilation units primary working copies normal compilation units map i compilation unit icompilationunit compilation unit change compilationunitchange f layer changes flayerchanges hash map hashmap extract supertype candidates empty array i type itype f possible candidates fpossiblecandidates source supertype string f super source fsupersource extracted type nls string f type name ftypename types extract supertype i type itype f types to extract ftypestoextract creates extract supertype refactoring processor param members members extract code code invoked scripting param settings code generation settings code code invoked scripting extract supertype processor extractsupertypeprocessor i member imember members code generation settings codegenerationsettings settings members settings members i type itype declaring get declaring type getdeclaringtype declaring f types to extract ftypestoextract i type itype declaring creates extract supertype refactoring processor refactoring arguments param arguments refactoring arguments param status status extract supertype processor extractsupertypeprocessor java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status refactoring status refactoringstatus initialize status initializestatus initialize arguments status merge initialize status initializestatus override string get processor name getprocessorname refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor extract supertype override refactoring status refactoringstatus check declaring super types checkdeclaringsupertypes i progress monitor iprogressmonitor monitor java model exception javamodelexception refactoring status refactoringstatus override compilation unit rewrite compilationunitrewrite get compilation unit rewrite getcompilationunitrewrite map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite rewrites i compilation unit icompilationunit unit is not null isnotnull rewrites is not null isnotnull unit compilation unit rewrite compilationunitrewrite rewrite rewrites unit rewrite rewrite compilation unit rewrite compilationunitrewrite f owner fowner unit rewrite remember content remembercontent rewrites unit rewrite rewrite checks compilation unit extracted valid status describing out come outcome refactoring status refactoringstatus check extracted compilation unit checkextractedcompilationunit refactoring status refactoringstatus status refactoring status refactoringstatus i compilation unit icompilationunit get declaring type getdeclaringtype get compilation unit getcompilationunit nls f type name ftypename equals f type name ftypename refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages checks choose status merge checks check type name checktypename f type name ftypename status has fatal error hasfatalerror status status merge checks check compilation unit name checkcompilationunitname java model util javamodelutil get rename d name getrenamedcuname f type name ftypename status has fatal error hasfatalerror status status merge checks check compilation unit new name checkcompilationunitnewname f type name ftypename status override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor monitor check conditions context checkconditionscontext context core exception coreexception operation canceled exception operationcanceledexception refactoring status refactoringstatus status refactoring status refactoringstatus nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor checking status merge check extracted compilation unit checkextractedcompilationunit status has fatal error hasfatalerror status check final conditions checkfinalconditions sub progress monitor subprogressmonitor monitor context monitor computes destination type based param destination type i type itype compute extracted type computeextractedtype string nls equals i type itype declaring get declaring type getdeclaringtype i compilation unit icompilationunit units declaring get package fragment getpackagefragment get compilation units getcompilationunits f owner fowner string new name newname java model util javamodelutil get rename d name getrenamedcuname declaring get compilation unit getcompilationunit i compilation unit icompilationunit result units length units get element name getelementname equals new name newname result units result i type itype type result get type gettype set destination type setdestinationtype type type java model exception javamodelexception exception java plugin javaplugin log exception override change create change createchange i progress monitor iprogressmonitor monitor core exception coreexception operation canceled exception operationcanceledexception map string string arguments hash map hashmap string project i type itype declaring get declaring type getdeclaringtype i java project ijavaproject java project javaproject declaring get java project getjavaproject java project javaproject project java project javaproject get element name getelementname flags java refactoring descriptor javarefactoringdescriptor jar migration java refactoring descriptor javarefactoringdescriptor jar refactoring refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change declaring is local islocal declaring is anonymous isanonymous flags java refactoring descriptor javarefactoringdescriptor jar source attachment java model exception javamodelexception exception java plugin javaplugin log exception string description messages format refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor descriptor description basic element labels basicelementlabels get java element name getjavaelementname f type name ftypename string header messages format refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor descriptor description string java element labels javaelementlabels get element label getelementlabel f destination type fdestinationtype java element labels javaelementlabels fully qualified java element labels javaelementlabels get element label getelementlabel f cached declaring type fcacheddeclaringtype java element labels javaelementlabels fully qualified jdt refactoring descriptor comment jdtrefactoringdescriptorcomment comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project header i type itype types get types to extract gettypestoextract string settings string types length settings length settings java element labels javaelementlabels get element label getelementlabel types java element labels javaelementlabels fully qualified comment add setting addsetting jdt refactoring descriptor comment jdtrefactoringdescriptorcomment create composite setting createcompositesetting refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor subtypes pattern settings comment add setting addsetting messages format refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor ref actored refactored element pattern java element labels javaelementlabels get element label getelementlabel f destination type fdestinationtype java element labels javaelementlabels fully qualified settings string f members to move fmemberstomove length settings length settings java element labels javaelementlabels get element label getelementlabel f members to move fmemberstomove java element labels javaelementlabels fully qualified comment add setting addsetting jdt refactoring descriptor comment jdtrefactoringdescriptorcomment create composite setting createcompositesetting refactoring core messages refactoringcoremessages extract interface processor extractinterfaceprocessor extracted members pattern settings add super type settings addsupertypesettings comment extract superclass descriptor extractsuperclassdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create extract superclass descriptor createextractsuperclassdescriptor project description comment as string asstring arguments flags arguments java refactoring descriptor util javarefactoringdescriptorutil attribute f type name ftypename arguments java refactoring descriptor util javarefactoringdescriptorutil attribute input java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project get declaring type getdeclaringtype arguments attribute replace value of valueof f replace freplace to string tostring arguments attribute value of valueof f instance of finstanceof to string tostring arguments attribute stubs value of valueof f create method stubs fcreatemethodstubs to string tostring arguments attribute extract integer f members to move fmemberstomove length to string tostring offset offset f members to move fmemberstomove length offset arguments java refactoring descriptor util javarefactoringdescriptorutil attribute element offset java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project f members to move fmemberstomove offset arguments attribute delete integer f deleted methods fdeletedmethods length to string tostring offset offset f deleted methods fdeletedmethods length offset arguments java refactoring descriptor util javarefactoringdescriptorutil attribute element offset f members to move fmemberstomove length java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project f deleted methods fdeletedmethods offset arguments attribute integer f abstract methods fabstractmethods length to string tostring offset offset f abstract methods fabstractmethods length offset arguments java refactoring descriptor util javarefactoringdescriptorutil attribute element offset f members to move fmemberstomove length f deleted methods fdeletedmethods length java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project f abstract methods fabstractmethods offset arguments attribute types integer f types to extract ftypestoextract length to string tostring offset offset f types to extract ftypestoextract length offset arguments java refactoring descriptor util javarefactoringdescriptorutil attribute element offset f members to move fmemberstomove length f deleted methods fdeletedmethods length f abstract methods fabstractmethods length java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project f types to extract ftypestoextract offset dynamic validation refactoring change dynamicvalidationrefactoringchange change dynamic validation refactoring change dynamicvalidationrefactoringchange descriptor refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor extract supertype f change manager fchangemanager get all changes getallchanges i file ifile file resource util resourceutil get file getfile declaring get compilation unit getcompilationunit f super source fsupersource f super source fsupersource length change add create compilation unit change createcompilationunitchange declaring get package fragment getpackagefragment get compilation unit getcompilationunit java model util javamodelutil get rename d name getrenamedcuname declaring get compilation unit getcompilationunit f type name ftypename f super source fsupersource file get charset getcharset change monitor clear caches clearcaches creates extracted supertype param super type supertype type code code type code java lang object code param monitor progress monitor status describing out come outcome operation core exception coreexception error occurs refactoring status refactoringstatus create extracted super type createextractedsupertype i type itype super type supertype i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull monitor f super source fsupersource refactoring status refactoringstatus status refactoring status refactoringstatus monitor begin task begintask refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing i type itype declaring get declaring type getdeclaringtype compilation unit rewrite compilationunitrewrite declaring rewrite declaringrewrite compilation unit rewrite compilationunitrewrite f owner fowner declaring get compilation unit getcompilationunit abstract type declaration abstracttypedeclaration declaring declaration declaringdeclaration ast node search util astnodesearchutil get abstract type declaration node getabstracttypedeclarationnode declaring declaring rewrite declaringrewrite get root getroot declaring declaration declaringdeclaration string java model util javamodelutil get rename d name getrenamedcuname declaring get compilation unit getcompilationunit f type name ftypename i compilation unit icompilationunit original declaring get package fragment getpackagefragment get compilation unit getcompilationunit i compilation unit icompilationunit copy get shared working copy getsharedworkingcopy original get primary getprimary sub progress monitor subprogressmonitor monitor f super source fsupersource create super type source createsupertypesource copy super type supertype declaring declaration declaringdeclaration status sub progress monitor subprogressmonitor monitor f super source fsupersource copy get buffer getbuffer set contents setcontents f super source fsupersource java model util javamodelutil reconcile copy monitor status creates working copy modified subtype param unit compilation unit param root compilation unit node param sub declaration subdeclaration declaration subtype modify param extracted type extractedtype extracted type param extracted binding extractedbinding binding extracted type param status refactoring status create modified sub type createmodifiedsubtype i compilation unit icompilationunit unit compilation unit compilationunit root i type itype extracted type extractedtype i type binding itypebinding extracted binding extractedbinding abstract type declaration abstracttypedeclaration sub declaration subdeclaration refactoring status refactoringstatus status is not null isnotnull unit is not null isnotnull sub declaration subdeclaration is not null isnotnull extracted type extractedtype compilation unit rewrite compilationunitrewrite rewrite compilation unit rewrite compilationunitrewrite f owner fowner unit root create type signature createtypesignature rewrite sub declaration subdeclaration extracted type extractedtype extracted binding extractedbinding null progress monitor nullprogressmonitor document document document unit get buffer getbuffer get contents getcontents compilation unit change compilationunitchange change rewrite create change createchange change f layer changes flayerchanges unit get primary getprimary change text edit textedit edit change get edit getedit edit text edit copier texteditcopier copier text edit copier texteditcopier edit text edit textedit copy copier perform copy apply document text edit textedit i compilation unit icompilationunit copy get shared working copy getsharedworkingcopy unit null progress monitor nullprogressmonitor copy get buffer getbuffer set contents setcontents document java model util javamodelutil reconcile copy core exception coreexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer malformed tree exception malformedtreeexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer bad location exception badlocationexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer creates constructors extracted supertype param target rewrite targetrewrite target compilation unit rewrite param super type supertype type code code type code java lang object code param target declaration targetdeclaration type declaration target type param status refactoring status create necessary constructors createnecessaryconstructors compilation unit rewrite compilationunitrewrite target rewrite targetrewrite i type itype super type supertype abstract type declaration abstracttypedeclaration target declaration targetdeclaration refactoring status refactoringstatus status is not null isnotnull target rewrite targetrewrite is not null isnotnull target declaration targetdeclaration super type supertype i type binding itypebinding binding target declaration targetdeclaration resolve binding resolvebinding binding binding is class isclass i method binding imethodbinding bindings stub utility stubutility get visible constructors getvisibleconstructors binding deprecation count deprecationcount bindings length bindings is deprecated isdeprecated deprecation count deprecationcount list rewrite listrewrite rewrite target rewrite targetrewrite getastrewrite get list rewrite getlistrewrite target declaration targetdeclaration type declaration typedeclaration body declarations property rewrite create deprecated createdeprecated deprecation count deprecationcount bindings length bindings length i method binding imethodbinding curr bindings curr is deprecated isdeprecated create deprecated createdeprecated method declaration methoddeclaration stub import rewrite context importrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext target declaration targetdeclaration target rewrite targetrewrite get import rewrite getimportrewrite stub stub utility stubutility create constructor stub createconstructorstub target rewrite targetrewrite get cu getcu target rewrite targetrewrite getastrewrite target rewrite targetrewrite get import rewrite getimportrewrite context curr binding get name getname modifier f settings fsettings stub rewrite insert last insertlast stub core exception coreexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer creates source compilation unit supertype param extracted working copy extractedworkingcopy working copy extracted supertype param super type supertype type code code type code java lang object code param declaring declaration declaringdeclaration declaration declaring type param status refactoring status param monitor progress monitor display progress source compilation unit code code core exception coreexception error occurs string create super type source createsupertypesource i compilation unit icompilationunit extracted working copy extractedworkingcopy i type itype super type supertype abstract type declaration abstracttypedeclaration declaring declaration declaringdeclaration refactoring status refactoringstatus status i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull extracted working copy extractedworkingcopy is not null isnotnull declaring declaration declaringdeclaration is not null isnotnull status is not null isnotnull monitor string source nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing i type itype declaring get declaring type getdeclaringtype string delimiter stub utility stubutility get line delimiter used getlinedelimiterused extracted working copy extractedworkingcopy get java project getjavaproject string type comment typecomment string file comment filecomment f settings fsettings create comments createcomments i type parameter itypeparameter parameters declaring get type parameters gettypeparameters string names string parameters length parameters length names parameters get element name getelementname type comment typecomment code generation codegeneration get type comment gettypecomment extracted working copy extractedworkingcopy f type name ftypename names delimiter file comment filecomment code generation codegeneration get file comment getfilecomment extracted working copy extractedworkingcopy delimiter string buffer stringbuffer buffer string buffer stringbuffer i type binding itypebinding binding declaring declaration declaringdeclaration resolve binding resolvebinding binding i type binding itypebinding super binding superbinding binding get superclass getsuperclass super binding superbinding f type bindings ftypebindings add super binding superbinding i type binding itypebinding bindings binding get interfaces getinterfaces bindings length f type bindings ftypebindings add bindings string imports create type imports createtypeimports extracted working copy extractedworkingcopy monitor nls imports equals imports buffer append imports create type declaration createtypedeclaration extracted working copy extractedworkingcopy super type supertype declaring declaration declaringdeclaration type comment typecomment buffer status sub progress monitor subprogressmonitor monitor nls nls source create type template createtypetemplate extracted working copy extractedworkingcopy file comment filecomment buffer to string tostring source declaring get package fragment getpackagefragment is default package isdefaultpackage imports length buffer insert imports nls nls buffer insert declaring get package fragment getpackagefragment get element name getelementname source buffer to string tostring i document idocument document document source text edit textedit edit code formatter util codeformatterutil format code formatter codeformatter compilation unit source delimiter extracted working copy extractedworkingcopy get java project getjavaproject get options getoptions edit edit apply document text edit textedit update regions malformed tree exception malformedtreeexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer bad location exception badlocationexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer source document monitor source creates declaration supertype excluding comments declaration param extracted working copy extractedworkingcopy working copy extracted supertype param super type supertype type code code type code java lang object code param declaring declaration declaringdeclaration declaration declaring type param comment comment type declaration param buffer string buffer declaration param status refactoring status param monitor progress monitor core exception coreexception error occurs create type declaration createtypedeclaration i compilation unit icompilationunit extracted working copy extractedworkingcopy i type itype super type supertype abstract type declaration abstracttypedeclaration declaring declaration declaringdeclaration string comment string buffer stringbuffer buffer refactoring status refactoringstatus status i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull extracted working copy extractedworkingcopy is not null isnotnull declaring declaration declaringdeclaration is not null isnotnull buffer is not null isnotnull status is not null isnotnull monitor nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing i java project ijavaproject project extracted working copy extractedworkingcopy get java project getjavaproject string delimiter stub utility stubutility get line delimiter used getlinedelimiterused project nls comment equals comment buffer append comment buffer append delimiter buffer append jdt flags jdtflags visibility string super type supertype flags is abstract isabstract super type supertype get flags getflags buffer append nls buffer append nls buffer append nls buffer append buffer append f type name ftypename nls super type supertype java lang object equals super type supertype get fully qualified name getfullyqualifiedname buffer append super type supertype is interface isinterface nls buffer append nls nls buffer append nls buffer append super type supertype get element name getelementname nls buffer append buffer append delimiter buffer append delimiter buffer append string string buffer to string tostring extracted working copy extractedworkingcopy get buffer getbuffer set contents setcontents string i document idocument document document string compilation unit rewrite compilationunitrewrite target rewrite targetrewrite compilation unit rewrite compilationunitrewrite f owner fowner extracted working copy extractedworkingcopy abstract type declaration abstracttypedeclaration target declaration targetdeclaration abstract type declaration abstracttypedeclaration target rewrite targetrewrite get root getroot types create type parameters createtypeparameters target rewrite targetrewrite super type supertype declaring declaration declaringdeclaration target declaration targetdeclaration create type signature createtypesignature target rewrite targetrewrite super type supertype declaring declaration declaringdeclaration target declaration targetdeclaration create necessary constructors createnecessaryconstructors target rewrite targetrewrite super type supertype target declaration targetdeclaration status text edit textedit edit target rewrite targetrewrite create change createchange get edit getedit edit apply document text edit textedit update regions malformed tree exception malformedtreeexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer bad location exception badlocationexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer buffer set length setlength buffer append document monitor creates type parameters supertype param target rewrite targetrewrite target compilation unit rewrite param sub type subtype subtype param source declaration sourcedeclaration type declaration source type param target declaration targetdeclaration type declaration target type create type parameters createtypeparameters compilation unit rewrite compilationunitrewrite target rewrite targetrewrite i type itype sub type subtype abstract type declaration abstracttypedeclaration source declaration sourcedeclaration abstract type declaration abstracttypedeclaration target declaration targetdeclaration is not null isnotnull target rewrite targetrewrite is not null isnotnull source declaration sourcedeclaration is not null isnotnull target declaration targetdeclaration source declaration sourcedeclaration type declaration typedeclaration type parameter typeparameter parameter list rewrite listrewrite rewrite target rewrite targetrewrite getastrewrite get list rewrite getlistrewrite target declaration targetdeclaration type declaration typedeclaration type parameters property iterator type parameter typeparameter iterator type declaration typedeclaration source declaration sourcedeclaration type parameters typeparameters iterator iterator has next hasnext parameter iterator ast node astnode node ast node astnode copy subtree copysubtree target rewrite targetrewrite getast parameter rewrite insert last insertlast node creates type signature subtype param sub rewrite subrewrite compilation unit rewrite subtype param declaration type declaration subtype param extracted type extractedtype extracted type param extracted binding extractedbinding binding extracted type param monitor progress monitor java model exception javamodelexception type parameters retrieved create type signature createtypesignature compilation unit rewrite compilationunitrewrite sub rewrite subrewrite abstract type declaration abstracttypedeclaration declaration i type itype extracted type extractedtype i type binding itypebinding extracted binding extractedbinding i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull sub rewrite subrewrite is not null isnotnull declaration is not null isnotnull extracted type extractedtype is not null isnotnull monitor monitor begin task begintask refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing ast ast sub rewrite subrewrite getast type type extracted binding extractedbinding type sub rewrite subrewrite get import rewrite getimportrewrite add import addimport extracted binding extractedbinding ast sub rewrite subrewrite get import rewrite getimportrewrite add import addimport extracted type extractedtype get fully qualified name getfullyqualifiedname type ast new simple type newsimpletype ast new simple name newsimplename extracted type extractedtype get element name getelementname sub rewrite subrewrite get import remove r getimportremover register added import registeraddedimport extracted type extractedtype get fully qualified name getfullyqualifiedname type i type parameter itypeparameter parameters extracted type extractedtype get type parameters gettypeparameters parameters length parameterized type parameterizedtype parameterized ast new parameterized type newparameterizedtype type parameters length parameterized type arguments typearguments add ast new simple type newsimpletype ast new simple name newsimplename parameters get element name getelementname type parameterized ast rewrite astrewrite rewriter sub rewrite subrewrite getastrewrite type declaration type declaration typedeclaration type declaration typedeclaration extended type declaration typedeclaration declaration type super class superclass extended get superclass type getsuperclasstype super class superclass rewriter replace super class superclass type sub rewrite subrewrite create categorized group description createcategorizedgroupdescription refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor add supertype extract supertype sub rewrite subrewrite get import remove r getimportremover register removed node registerremovednode super class superclass rewriter extended type declaration typedeclaration superclass type property type sub rewrite subrewrite create categorized group description createcategorizedgroupdescription refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor add supertype extract supertype monitor creates type signature extracted supertype param target rewrite targetrewrite target compilation unit rewrite param super type supertype type code code type code java lang object code param declaring declaration declaringdeclaration declaration declaring type param target declaration targetdeclaration type declaration target type create type signature createtypesignature compilation unit rewrite compilationunitrewrite target rewrite targetrewrite i type itype super type supertype abstract type declaration abstracttypedeclaration declaring declaration declaringdeclaration abstract type declaration abstracttypedeclaration target declaration targetdeclaration is not null isnotnull target rewrite targetrewrite is not null isnotnull declaring declaration declaringdeclaration is not null isnotnull target declaration targetdeclaration declaring declaration declaringdeclaration type declaration typedeclaration type declaration typedeclaration declaration type declaration typedeclaration declaring declaration declaringdeclaration type superclass type superclasstype declaration get superclass type getsuperclasstype superclass type superclasstype type type i type binding itypebinding binding superclass type superclasstype resolve binding resolvebinding binding type target rewrite targetrewrite get import rewrite getimportrewrite add import addimport binding target rewrite targetrewrite getast target rewrite targetrewrite get import remove r getimportremover register added imports registeraddedimports type type target declaration targetdeclaration type declaration typedeclaration type declaration typedeclaration extended type declaration typedeclaration target declaration targetdeclaration type target super type targetsupertype extended get superclass type getsuperclasstype target super type targetsupertype target rewrite targetrewrite getastrewrite replace target super type targetsupertype type target rewrite targetrewrite getastrewrite extended type declaration typedeclaration superclass type property type override refactoring status refactoringstatus create working copy layer createworkingcopylayer i progress monitor iprogressmonitor monitor is not null isnotnull monitor refactoring status refactoringstatus status refactoring status refactoringstatus monitor begin task begintask refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing status merge create working copy layer createworkingcopylayer sub progress monitor subprogressmonitor monitor i type itype declaring get declaring type getdeclaringtype status merge create extracted super type createextractedsupertype get declaring super type hierarchy getdeclaringsupertypehierarchy sub progress monitor subprogressmonitor monitor get superclass getsuperclass declaring sub progress monitor subprogressmonitor monitor status has fatal error hasfatalerror status i type itype extracted type extractedtype compute extracted type computeextractedtype f type name ftypename set destination type setdestinationtype extracted type extractedtype list i type itype sub types subtypes array list arraylist arrays as list aslist f types to extract ftypestoextract sub types subtypes declaring sub types subtypes add declaring map i compilation unit icompilationunit collection i type itype unit to types unittotypes hash map hashmap sub types subtypes size i compilation unit icompilationunit units hash set hashset sub types subtypes size sub types subtypes size i type itype type sub types subtypes i compilation unit icompilationunit unit type get compilation unit getcompilationunit units add unit collection i type itype collection unit to types unittotypes unit collection collection array list arraylist unit to types unittotypes unit collection collection add type map i java project ijavaproject collection i compilation unit icompilationunit project to units projecttounits hash map hashmap collection i compilation unit icompilationunit collection i java project ijavaproject project i compilation unit icompilationunit current iterator i compilation unit icompilationunit iterator units iterator iterator has next hasnext current iterator project current get java project getjavaproject collection project to units projecttounits project collection collection array list arraylist project to units projecttounits project collection collection add current i type binding itypebinding extract bindings extractbindings ast parser astparser extract parser extractparser ast parser astparser new parser newparser ast provider astprovider shared ast level extract parser extractparser set working copy owner setworkingcopyowner f owner fowner extract parser extractparser set resolve bindings setresolvebindings extract parser extractparser set project setproject project extract parser extractparser set source setsource extracted type extractedtype get compilation unit getcompilationunit compilation unit compilationunit extract unit extractunit compilation unit compilationunit extract parser extractparser createast sub progress monitor subprogressmonitor monitor extract unit extractunit abstract type declaration abstracttypedeclaration extract declaration extractdeclaration ast node search util astnodesearchutil get abstract type declaration node getabstracttypedeclarationnode extracted type extractedtype extract unit extractunit extract declaration extractdeclaration extract bindings extractbindings extract declaration extractdeclaration resolve binding resolvebinding ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level i progress monitor iprogressmonitor sub monitor submonitor sub progress monitor subprogressmonitor monitor i java project ijavaproject key set keyset project to units projecttounits key set keyset nls sub monitor submonitor begin task begintask nls nls key set keyset size sub monitor submonitor set task name settaskname refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing iterator i java project ijavaproject iterator key set keyset iterator iterator has next hasnext project iterator collection project to units projecttounits project parser set working copy owner setworkingcopyowner f owner fowner parser set resolve bindings setresolvebindings parser set project setproject project parser set compiler options setcompileroptions refactoringastparser get compiler options getcompileroptions project i progress monitor iprogressmonitor sub sub monitor subsubmonitor sub progress monitor subprogressmonitor sub monitor submonitor nls sub sub monitor subsubmonitor begin task begintask nls nls collection size sub sub monitor subsubmonitor set task name settaskname refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor preparing parser createasts collection to array toarray i compilation unit icompilationunit collection size string ast requestor astrequestor override acceptast i compilation unit icompilationunit unit compilation unit compilationunit node collection i type itype types unit to types unittotypes unit types iterator i type itype inner iterator inneriterator types iterator inner iterator inneriterator has next hasnext i type itype current type currenttype inner iterator inneriterator abstract type declaration abstracttypedeclaration current declaration currentdeclaration ast node search util astnodesearchutil get abstract type declaration node getabstracttypedeclarationnode current type currenttype node current declaration currentdeclaration create modified sub type createmodifiedsubtype unit node extracted type extractedtype extract bindings extractbindings current declaration currentdeclaration status core exception coreexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus exception get local ized message getlocalizedmessage sub sub monitor subsubmonitor worked override accept binding acceptbinding string key i binding ibinding binding sub sub monitor subsubmonitor sub sub monitor subsubmonitor sub monitor submonitor core exception coreexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor unexpected exception layer monitor status override i type itype get candidate types getcandidatetypes refactoring status refactoringstatus status i progress monitor iprogressmonitor monitor is not null isnotnull monitor f possible candidates fpossiblecandidates f possible candidates fpossiblecandidates length i type itype declaring get declaring type getdeclaringtype declaring monitor begin task begintask refactoring core messages refactoringcoremessages extract supertype processor extractsupertypeprocessor computing types i type itype super type supertype get declaring super type hierarchy getdeclaringsupertypehierarchy sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label get superclass getsuperclass declaring super type supertype f possible candidates fpossiblecandidates super type supertype new type hierarchy newtypehierarchy f owner fowner sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label get subtypes getsubtypes super type supertype linked list linkedlist i type itype list linked list linkedlist arrays as list aslist f possible candidates fpossiblecandidates string names hash set hashset iterator i type itype iterator list iterator iterator has next hasnext i type itype type iterator type is read only isreadonly type is binary isbinary type is anonymous isanonymous type is class isclass names type get fully qualified name getfullyqualifiedname iterator remove names add type get fully qualified name getfullyqualifiedname f possible candidates fpossiblecandidates list to array toarray i type itype list size java model exception javamodelexception exception java plugin javaplugin log exception monitor f possible candidates fpossiblecandidates override object get elements getelements object get declaring type getdeclaringtype returns extracted type extracted type code code i type itype get extracted type getextractedtype get destination type getdestinationtype returns type type string get type name gettypename f type name ftypename returns types extract declaring type contained result types extract i type itype get types to extract gettypestoextract f types to extract ftypestoextract refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments extended string extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute nls equals f type name ftypename refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute string handle extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement extended get project getproject handle element element get element type getelementtype i java element ijavaelement type java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get processor name getprocessorname i java refactorings ijavarefactorings extract superclass i type itype type i compilation unit icompilationunit unit i type itype element get compilation unit getcompilationunit unit unit exists i compilation unit icompilationunit copy get shared working copy getsharedworkingcopy unit null progress monitor nullprogressmonitor i java element ijavaelement elements copy find elements findelements element elements elements length elements i type itype elements exists type i type itype elements java model exception javamodelexception exception type f cached declaring type fcacheddeclaringtype type java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get processor name getprocessorname i java refactorings ijavarefactorings extract superclass refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input string stubs extended get attribute getattribute attribute stubs stubs f create method stubs fcreatemethodstubs value of valueof stubs boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute stubs string instance extended get attribute getattribute attribute instance f instance of finstanceof value of valueof instance boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute string replace extended get attribute getattribute attribute replace replace f replace freplace value of valueof replace boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute replace extract count extractcount abstract count abstractcount delete count deletecount type count typecount string extended get attribute getattribute attribute nls equals abstract count abstractcount integer parse int parseint number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute extended get attribute getattribute attribute delete nls equals delete count deletecount integer parse int parseint number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute delete refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute delete extended get attribute getattribute attribute extract nls equals extract count extractcount integer parse int parseint number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute extract refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute extract extended get attribute getattribute attribute types nls equals type count typecount integer parse int parseint number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute types refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute types refactoring status refactoringstatus status refactoring status refactoringstatus list i java element ijavaelement elements array list arraylist extract count extractcount string attribute java refactoring descriptor util javarefactoringdescriptorutil attribute element handle extended get attribute getattribute attribute nls handle equals handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement f owner fowner extended get project getproject handle element element exists status merge java refactoring descriptor util javarefactoringdescriptorutil create input warning status createinputwarningstatus element get processor name getprocessorname i java refactorings ijavarefactorings extract superclass elements add element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute f members to move fmemberstomove elements to array toarray i member imember elements size elements array list arraylist delete count deletecount string attribute java refactoring descriptor util javarefactoringdescriptorutil attribute element extract count extractcount handle extended get attribute getattribute attribute nls handle equals handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement f owner fowner extended get project getproject handle element element exists status merge java refactoring descriptor util javarefactoringdescriptorutil create input warning status createinputwarningstatus element get processor name getprocessorname i java refactorings ijavarefactorings extract superclass elements add element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute f deleted methods fdeletedmethods elements to array toarray i method imethod elements size elements array list arraylist abstract count abstractcount string attribute java refactoring descriptor util javarefactoringdescriptorutil attribute element extract count extractcount abstract count abstractcount handle extended get attribute getattribute attribute nls handle equals handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement f owner fowner extended get project getproject handle element element exists status merge java refactoring descriptor util javarefactoringdescriptorutil create input warning status createinputwarningstatus element get processor name getprocessorname i java refactorings ijavarefactorings extract superclass elements add element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute f abstract methods fabstractmethods elements to array toarray i method imethod elements size elements array list arraylist type count typecount string attribute java refactoring descriptor util javarefactoringdescriptorutil attribute element extract count extractcount abstract count abstractcount delete count deletecount handle extended get attribute getattribute attribute nls handle equals handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement f owner fowner extended get project getproject handle element element exists status merge java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get processor name getprocessorname i java refactorings ijavarefactorings extract superclass elements add element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute f types to extract ftypestoextract elements to array toarray i type itype elements size i java project ijavaproject project f members to move fmemberstomove length project f members to move fmemberstomove get java project getjavaproject f settings fsettings java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings project status isok status refactoring status refactoringstatus override register changes registerchanges text edit based change manager texteditbasedchangemanager manager core exception coreexception i compilation unit icompilationunit extracted unit extractedunit get extracted type getextractedtype get compilation unit getcompilationunit i compilation unit icompilationunit unit compilation unit rewrite compilationunitrewrite rewrite iterator i compilation unit icompilationunit iterator f compilation unit rewrites fcompilationunitrewrites key set keyset iterator iterator has next hasnext unit iterator unit equals extracted unit extractedunit rewrite f compilation unit rewrites fcompilationunitrewrites unit rewrite compilation unit change compilationunitchange change rewrite create change createchange change text edit textedit edit text change textchange change get edit getedit edit i document idocument document document f super source fsupersource edit apply document text edit textedit update regions malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception f super source fsupersource document manager remove extracted unit extractedunit rewrite f compilation unit rewrites fcompilationunitrewrites unit rewrite compilation unit change compilationunitchange layer change layerchange f layer changes flayerchanges unit get primary getprimary compilation unit change compilationunitchange rewrite change rewritechange rewrite create change createchange rewrite change rewritechange layer change layerchange multi state compilation unit change multistatecompilationunitchange change multi state compilation unit change multistatecompilationunitchange rewrite change rewritechange get name getname unit change add change addchange layer change layerchange change add change addchange rewrite change rewritechange f layer changes flayerchanges remove unit get primary getprimary manager manage unit change layer change layerchange manager manage unit layer change layerchange f layer changes flayerchanges remove unit get primary getprimary rewrite change rewritechange manager manage unit rewrite change rewritechange iterator entry i compilation unit icompilationunit compilation unit change compilationunitchange iterator f layer changes flayerchanges entry set entryset iterator iterator has next hasnext entry i compilation unit icompilationunit compilation unit change compilationunitchange entry iterator manager manage entry get key getkey entry get value getvalue i compilation unit icompilationunit units manager get all compilation units getallcompilationunits units length units get path getpath equals extracted unit extractedunit get path getpath manager remove units f layer changes flayerchanges clear resets working copy layer reset changes resetchanges f layer changes flayerchanges clear sets type param type set type name settypename string is not null isnotnull f type name ftypename sets types extract sub set subset code get possible candidates getpossiblecandidates code declaring type contained automatically param types types extract set types to extract settypestoextract i type itype types is not null isnotnull types f types to extract ftypestoextract types
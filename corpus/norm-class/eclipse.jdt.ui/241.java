copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text java util array list arraylist java util hash set hashset java util iterator java util list java util org eclipse swt swt org eclipse swt custom styled text styledtext org eclipse swt events focus event focusevent org eclipse swt events focus listener focuslistener org eclipse swt events key event keyevent org eclipse swt events key listener keylistener org eclipse swt events mouse event mouseevent org eclipse swt events mouse listener mouselistener org eclipse core runtime org eclipse jface text document event documentevent org eclipse jface text i text listener itextlistener org eclipse jface text i text viewer itextviewer org eclipse jface text text event textevent org eclipse jdt internal text typing run typingrun change type changetype connected text viewer code typing run detector typingrundetector code observes code typing run typingrun code events typing sequence text modifications inserting deleting single characters listeners info rmed informed start code typing run typingrun code typing run detector typingrundetector implementation not e note independent jdt pulled jface text needed debug flag debug instances text modification simple description typing runs consists sequence modifying type change records type change text modification offset change change change type changetype f type ftype f next offset fnextoffset creates change type code type code param type code change type changetype code change param next offset nextoffset offset change typing change change type changetype type next offset nextoffset f type ftype type f next offset fnextoffset next offset nextoffset returns code code receiver extend typing change code change code param change change typing code code receiver valid extension code change code code code can follow canfollow change change f type ftype typing run typingrun change f type ftype equals typing run typingrun unknown f type ftype equals change f type ftype f type ftype typing run typingrun delete f next offset fnextoffset change f next offset fnextoffset f type ftype typing run typingrun insert f next offset fnextoffset change f next offset fnextoffset f type ftype typing run typingrun overtype f next offset fnextoffset change f next offset fnextoffset f type ftype typing run typingrun selection returns code code receiver describes text modification code code describes focus selection change code code receiver text modification is modification ismodification f type ftype is modification ismodification java lang object to string tostring override string to string tostring nls f type ftype to string tostring f next offset fnextoffset returns change type change change type change change type changetype get type gettype f type ftype observes events modify content document displayed editor text events start listener registered detector connected text listener textlistener i text listener itextlistener org eclipse jface text i text listener itextlistener text changed textchanged org eclipse jface text text event textevent override text changed textchanged text event textevent event handle text changed handletextchanged event observes modifying events clicking editor moving caret editor losing focus events start listener registered ongoing selection listener selectionlistener mouse listener mouselistener key listener keylistener focus listener focuslistener org eclipse swt events focus listener focuslistener focus gained focusgained org eclipse swt events focus event focusevent override focus gained focusgained focus event focusevent handle selection changed handleselectionchanged org eclipse swt events focus listener focuslistener focus lost focuslost org eclipse swt events focus event focusevent override focus lost focuslost focus event focusevent mouse listener mouselistener mouse double click mousedoubleclick override mouse double click mousedoubleclick mouse event mouseevent mouse button pressed current editing command closed mouse listener mouselistener mouse down mousedown override mouse down mousedown mouse event mouseevent button handle selection changed handleselectionchanged mouse listener mouselistener mouse up mouseup override mouse up mouseup mouse event mouseevent key listener keylistener key pressed keypressed override key released keyreleased key event keyevent cursor current editing command closed key listener keylistener key pressed keypressed override key pressed keypressed key event keyevent key code keycode swt arrow swt arrow swt arrow left swt arrow swt swt swt swt handle selection changed handleselectionchanged listeners i typing run listener itypingrunlistener f listeners flisteners hash set hashset viewer work code code code uninstall code i text viewer itextviewer f viewer fviewer text event listener text listener textlistener f text listener ftextlistener text listener textlistener selection listener code code active selection listener selectionlistener f selection listener fselectionlistener variables observed change code code change f last change flastchange current code code typing run typingrun f run frun installs receiver text viewer param viewer viewer install install i text viewer itextviewer viewer is legal islegal viewer f viewer fviewer viewer connect initializes variables registers per manent permanent listeners connect f viewer fviewer f last change flastchange change typing run typingrun unknown f run frun f selection listener fselectionlistener f viewer fviewer add text listener addtextlistener f text listener ftextlistener uninstalls receiver removes listeners code install code called events generated uninstall f viewer fviewer f listeners flisteners clear disconnect f viewer fviewer disconnects registered listeners disconnect f viewer fviewer remove text listener removetextlistener f text listener ftextlistener ensure selection listener removed ensureselectionlistenerremoved adds listener code typing run typingrun code events rep eatedly repeatedly adding listener instance listeners receiver connected installed param listener listener add add typing run listener addtypingrunlistener i typing run listener itypingrunlistener listener is legal islegal listener f listeners flisteners add listener f listeners flisteners size connect removes listener manager code listener code registered receiver param listener listener remove code code remove typing run listener removetypingrunlistener i typing run listener itypingrunlistener listener f listeners flisteners remove listener f listeners flisteners size disconnect handles incoming text event param event text event describes text modification handle text changed handletextchanged text event textevent event change type compute change computechange event handle change handlechange type computes change abstract ion abstraction text event param event text event analyze change object describing event change compute change computechange text event textevent event document event documentevent event get document event getdocumentevent change typing run typingrun change start get offset getoffset get offset getoffset get length getlength string new text newtext get text gettext new text newtext new text newtext string start replace delete overwrite new text newtext length change typing run typingrun insert start new text newtext length change typing run typingrun overtype new text newtext length change typing run typingrun delete start change typing run typingrun unknown handles incoming selection event handle selection changed handleselectionchanged handle change handlechange change typing run typingrun selection machine current incoming change param change incoming change handle change handlechange change change change get type gettype typing run typingrun change debug nls system err println change f last change flastchange change can follow canfollow f last change flastchange end if started endifstarted change f last change flastchange change change is modification ismodification start or continue startorcontinue debug nls system err println change change starts info rms informs listeners start or continue startorcontinue has run hasrun debug nls system err println nls start f run frun typing run typingrun f last change flastchange get type gettype ensure selection listener added ensureselectionlisteneradded fire run begun firerunbegun f run frun returns code code active code code code code active code code has run hasrun f run frun ends active info rms informs listeners param change change triggered active end if started endifstarted change change has run hasrun ensure selection listener removed ensureselectionlistenerremoved debug nls system err println nls fire run ended firerunended f run frun change get type gettype f run frun adds selection listener text widget underlying viewer ensure selection listener added ensureselectionlisteneradded f selection listener fselectionlistener f selection listener fselectionlistener selection listener selectionlistener styled text styledtext text widget textwidget f viewer fviewer get text widget gettextwidget text widget textwidget add focus listener addfocuslistener f selection listener fselectionlistener text widget textwidget add key listener addkeylistener f selection listener fselectionlistener text widget textwidget add mouse listener addmouselistener f selection listener fselectionlistener selection listener removed text widget underlying viewer ensure selection listener removed ensureselectionlistenerremoved f selection listener fselectionlistener styled text styledtext text widget textwidget f viewer fviewer get text widget gettextwidget text widget textwidget remove focus listener removefocuslistener f selection listener fselectionlistener text widget textwidget remove key listener removekeylistener f selection listener fselectionlistener text widget textwidget remove mouse listener removemouselistener f selection listener fselectionlistener f selection listener fselectionlistener info rms informs listeners newly started code typing run typingrun code param fire run begun firerunbegun typing run typingrun list i typing run listener itypingrunlistener listeners array list arraylist f listeners flisteners iterator i typing run listener itypingrunlistener listeners iterator has next hasnext i typing run listener itypingrunlistener listener listener typing run started typingrunstarted f run frun info rms informs listeners ended code typing run typingrun code param active param reason type change caused ended fire run ended firerunended typing run typingrun change type changetype reason list i typing run listener itypingrunlistener listeners array list arraylist f listeners flisteners iterator i typing run listener itypingrunlistener listeners iterator has next hasnext i typing run listener itypingrunlistener listener listener typing run ended typingrunended f run frun reason
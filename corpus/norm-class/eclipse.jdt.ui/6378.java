copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java util arrays java util list junit framework test junit framework test suite testsuite org eclipse core runtime null progress monitor nullprogressmonitor org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants processor based refactoring processorbasedrefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext code manipulation codemanipulation code generation settings codegenerationsettings org eclipse jdt internal corext refactoring refactoring availability tester refactoringavailabilitytester org eclipse jdt internal corext refactoring structure extract supertype processor extractsupertypeprocessor org eclipse jdt internal corext refactoring util java element util javaelementutil org eclipse jdt internal preferences java preferences settings javapreferencessettings test suite extract supertype tests note extract supertype heavily rel ies relies pull up refactoring pulluprefactoring tests extract supertype tests extractsupertypetests refactoring test refactoringtest extract supertype tests extractsupertypetests clazz extract supertype tests extractsupertypetests string refactoring path extract supertype extractsupertype extract supertype processor extractsupertypeprocessor create refactoring processor createrefactoringprocessor i member imember members java model exception javamodelexception i java project ijavaproject project members members length project members get java project getjavaproject refactoring availability tester refactoringavailabilitytester is extract supertype available isextractsupertypeavailable members code generation settings codegenerationsettings settings java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings project settings create comments createcomments extract supertype processor extractsupertypeprocessor processor extract supertype processor extractsupertypeprocessor members settings processor based refactoring processorbasedrefactoring processor processor i method imethod get methods getmethods i member imember members list i java element ijavaelement arrays as list aslist java element util javaelementutil get elements of type getelementsoftype members i java element ijavaelement method to array toarray i method imethod size test set up test setuptest test some test sometest java setup some test sometest test suite java setup test suite testsuite clazz extract supertype tests extractsupertypetests string override string get refactoring path getrefactoringpath refactoring path helper string method names methodnames string signatures delete all in source type deleteallinsourcetype delete all matching methods deleteallmatchingmethods replace occurences replaceoccurences exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype type get type gettype i method imethod methods get methods getmethods type method names methodnames signatures extract supertype processor extractsupertypeprocessor processor create refactoring processor createrefactoringprocessor methods refactoring refactoring processor get refactoring getrefactoring processor set members to move setmemberstomove methods assert true asserttrue activation refactoring check initial conditions checkinitialconditions null progress monitor nullprogressmonitor isok processor set types to extract settypestoextract i type itype type processor set type name settypename processor set create method stubs setcreatemethodstubs processor set instance of setinstanceof processor set replace setreplace replace occurences replaceoccurences delete all in source type deleteallinsourcetype processor set deleted methods setdeletedmethods methods delete all matching methods deleteallmatchingmethods processor set deleted methods setdeletedmethods get methods getmethods processor get matching elements getmatchingelements null progress monitor nullprogressmonitor refactoring status refactoringstatus status refactoring check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert true asserttrue precondition supposed pass status has error haserror perform change performchange refactoring string expected get file contents getfilecontents get output test file name getoutputtestfilename string actual get source getsource assert equal lines assertequallines expected actual expected get file contents getfilecontents get output test file name getoutputtestfilename i compilation unit icompilationunit unit get package p getpackagep get compilation unit getcompilationunit java unit exists assert true asserttrue extracted compilation unit exist actual unit get buffer getbuffer get contents getcontents assert equal lines assertequallines expected actual test exception helper string string string test exception helper string string string test exception helper string string string string test exception helper string string string string test exception helper string string string test bug testbug exception helper string string string
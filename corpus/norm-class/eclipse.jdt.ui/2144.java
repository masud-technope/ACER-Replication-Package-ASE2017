copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests chkpii java buffered reader bufferedreader java file java file input stream fileinputstream java file not found exception filenotfoundexception java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java unsupported encoding exception unsupportedencodingexception java net url java nio charset charset java util string tokenizer stringtokenizer org eclipse osgi service environment constants org eclipse core runtime file locator filelocator org eclipse core runtime path org eclipse core runtime platform junit framework test junit framework test case testcase junit framework test suite testsuite chkpii tests chkpiitests test case testcase string f log directory name flogdirectoryname file category filecategory string f name fname file category filecategory string f name fname string get output file getoutputfile f log directory name flogdirectoryname f name fname to lower case tolowercase txt string get files to test getfilestotest get plugin directory getplugindirectory get extension getextension string get extension getextension f name fname to lower case tolowercase override string to string tostring f name fname to upper case touppercase stream consumer streamconsumer thread string buffer stringbuffer f str buffer fstrbuffer buffered reader bufferedreader f reader freader string get contents getcontents f str buffer fstrbuffer to string tostring stream consumer streamconsumer input stream inputstream input stream inputstream set daemon setdaemon f reader freader buffered reader bufferedreader input stream reader inputstreamreader input stream inputstream latin unsupported encoding exception unsupportedencodingexception print stack trace printstacktrace f reader freader buffered reader bufferedreader input stream reader inputstreamreader input stream inputstream f str buffer fstrbuffer string buffer stringbuffer override buf count count f reader freader read buf f str buffer fstrbuffer append buf count f reader freader close io exception ioexception print stack trace printstacktrace terminate int errupt interrupt f reader freader close io exception ioexception print stack trace printstacktrace file category filecategory html file category filecategory html override string get extension getextension htm file category filecategory properties file category filecategory properties file category filecategory xml file category filecategory xml test suite test suite testsuite chkpii tests chkpiitests testhtmlfiles assert chkpii assertchkpii html testxmlfiles assert chkpii assertchkpii xml test properties files testpropertiesfiles assert chkpii assertchkpii properties assert chkpii assertchkpii file category filecategory type is executed isexecuted execute chkpii process executechkpiiprocess type nls assert true asserttrue chkpii test type files console details is executed isexecuted string buffer stringbuffer buf string buffer stringbuffer is valid isvalid check log file checklogfile type buf string output file outputfile type get output file getoutputfile is valid isvalid system println output file outputfile nls nls assert true asserttrue buf output file outputfile details is valid isvalid execute chkpii process executechkpiiprocess file category filecategory type runtime a runtime aruntime runtime get runtime getruntime string chkpii string chkpiistring get chkpii string getchkpiistring type stream consumer streamconsumer err stream consumer streamconsumer process process process a runtime aruntime exec chkpii string chkpiistring err stream consumer streamconsumer process get error stream geterrorstream stream consumer streamconsumer process get input stream getinputstream err start start process wait for waitfor io exception ioexception print stack trace printstacktrace interrupted exception interruptedexception err err terminate terminate err get contents getcontents length file type get output file getoutputfile exists system println err get contents getcontents system flush res process exit value exitvalue system println chkpii tests chkpiitests get name getname exit res string get chkpii string getchkpiistring file category filecategory type nls nls nls nls nls get exec getexec type get files to test getfilestotest type get output file getoutputfile get exclude errors getexcludeerrors get exclude file getexcludefile jsq string get plugin directory getplugindirectory path plug string file path filepath to location tolocation get class getclass get resource getresource ignore files ignorefiles txt string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer file path filepath file separator string path file path filepath char at charat file separator char separatorchar path tokenizer next token nexttoken tokenizer has more tokens hasmoretokens string token tokenizer next token nexttoken token equals org eclipse jdt tests path path file separator token path path remove last segments removelastsegments toosstring file separator string to location tolocation url platformurl file local file localfile local file localfile file file locator filelocator tofileurl platformurl get file getfile io exception ioexception print stack trace printstacktrace platformurl get file getfile local file localfile get canonical path getcanonicalpath io exception ioexception print stack trace printstacktrace local file localfile get path getpath method get exclude files getexcludefiles string string get exclude file getexcludefile url ignore files ignorefiles get class getclass get resource getresource ignore files ignorefiles local txt ignore files ignorefiles ignore files ignorefiles get class getclass get resource getresource ignore files ignorefiles txt to location tolocation ignore files ignorefiles method get exec getexec string string get exec getexec nls file chkpii exe get path getpath string get exclude errors getexcludeerrors string file name filename platform getos equals constants win nls file name filename ignore errors windows ignoreerrorswindows txt nls file name filename ignore errors unix ignoreerrorsunix txt to location tolocation get class getclass get resource getresource file name filename checks log file valid errors param type file category param message string buffer append error messages code code errors log file check log file checklogfile file category filecategory type string buffer stringbuffer message string log file path logfilepath type get output file getoutputfile buffered reader bufferedreader a reader areader errors warnings not processed notprocessed end of summary endofsummary has failed hasfailed a reader areader buffered reader bufferedreader input stream reader inputstreamreader file input stream fileinputstream log file path logfilepath charset for name forname iso string a line aline a reader areader read line readline a line aline errors errors parse summary parsesummary a line aline files error xml type warnings warnings parse summary parsesummary a line aline files warnings not processed notprocessed not processed notprocessed parse not processed summary parsenotprocessedsummary a line aline end of summary endofsummary end of summary endofsummary parse end of summary parseendofsummary a line aline a line aline a reader areader read line readline errors message append errors files errors has failed hasfailed xml type warnings message append warnings files warnings has failed hasfailed not processed notprocessed message append not processed notprocessed files has failed hasfailed end of summary endofsummary message append inc omplete incomplete log file logfile has failed hasfailed file not found exception filenotfoundexception message append open log file log file path logfilepath get local ized message getlocalizedmessage has failed hasfailed io exception ioexception message append error reading log file log file path logfilepath get local ized message getlocalizedmessage has failed hasfailed a reader areader a reader areader close io exception ioexception message append error closing log file log file path logfilepath get local ized message getlocalizedmessage has failed hasfailed has failed hasfailed parse summary parsesummary string a line aline string parse string parsestring a line aline index of indexof parse string parsestring string a string astring a line aline substring trim integer parse int parseint a string astring number format exception numberformatexception parse not processed summary parsenotprocessedsummary string a line aline nls a line aline index of indexof files processed string a string astring a line aline substring trim integer parse int parseint a string astring number format exception numberformatexception parse end of summary parseendofsummary string a line aline nls a line aline index of indexof listing constructor empty dir ectories test emptydirectoriestest param test chkpii tests chkpiitests string nls f log directory name flogdirectoryname get plugin directory getplugindirectory chkpii results chkpiiresults file separator file properties get output file getoutputfile delete file html get output file getoutputfile delete file xml get output file getoutputfile delete test case testcase set up setup override set up setup exception set up setup file f log directory name flogdirectoryname mkdirs test case testcase tear down teardown override tear down teardown exception tear down teardown f log directory name flogdirectoryname
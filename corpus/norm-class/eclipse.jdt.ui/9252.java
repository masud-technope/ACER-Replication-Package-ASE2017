copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal wizards build paths buildpaths java file java net uri java util array list arraylist java util hash set hashset java util hashtable java util iterator java util list java util org eclipse equinox bidi structured text type handler factory structuredtexttypehandlerfactory org eclipse swt swt org eclipse swt layout grid layout gridlayout org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets directory dialog directorydialog org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime path org eclipse core resources i container icontainer org eclipse core resources i folder ifolder org eclipse core resources i path variable manager ipathvariablemanager org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i workspace iworkspace org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs dialog org eclipse jface dialogs i dialog constants idialogconstants org eclipse jface util bidi utils bidiutils org eclipse jface viewers i label provider ilabelprovider org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers viewer filter viewerfilter org eclipse jface window window org eclipse platformui org eclipse dialogs element tree selection dialog elementtreeselectiondialog org eclipse dialogs i selection status validator iselectionstatusvalidator org eclipse ide dialogs path variable selection dialog pathvariableselectiondialog org eclipse model workbench content provider workbenchcontentprovider org eclipse model workbench label provider workbenchlabelprovider org eclipse views navigator resource comparator resourcecomparator org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java model status ijavamodelstatus org eclipse jdt core i java project ijavaproject org eclipse jdt core java conventions javaconventions org eclipse jdt internal corext util messages org eclipse jdt javaui org eclipse jdt preference constants preferenceconstants org eclipse jdt wizards new element wizard page newelementwizardpage org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal java plugin javaplugin org eclipse jdt internal dialogs status info statusinfo org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal wizards new wizard messages newwizardmessages org eclipse jdt internal wizards type d element selection validator typedelementselectionvalidator org eclipse jdt internal wizards type d viewer filter typedviewerfilter org eclipse jdt internal wizards dialogfields dialog field dialogfield org eclipse jdt internal wizards dialogfields i dialog field listener idialogfieldlistener org eclipse jdt internal wizards dialogfields i string button adapter istringbuttonadapter org eclipse jdt internal wizards dialogfields layout util layoututil org eclipse jdt internal wizards dialogfields selection button dialog field selectionbuttondialogfield org eclipse jdt internal wizards dialogfields string button dialog field stringbuttondialogfield org eclipse jdt internal wizards dialogfields string dialog field stringdialogfield add source folder wizard page addsourcefolderwizardpage new element wizard page newelementwizardpage link fields linkfields i string button adapter istringbuttonadapter i dialog field listener idialogfieldlistener string button dialog field stringbuttondialogfield f link location flinklocation nls string dialogstore external loc javaui plugin external project root field adapter rootfieldadapter f adapter fadapter selection button dialog field selectionbuttondialogfield f variables fvariables link fields linkfields f link location flinklocation string button dialog field stringbuttondialogfield f link location flinklocation set label text setlabeltext new wizard messages newwizardmessages link folder dialog linkfolderdialog dependencies group dependenciesgroup location label locationlabel desc f link location flinklocation set button label setbuttonlabel new wizard messages newwizardmessages link folder dialog linkfolderdialog dependencies group dependenciesgroup browse button browsebutton desc f link location flinklocation set dialog field listener setdialogfieldlistener f variables fvariables selection button dialog field selectionbuttondialogfield swt push f variables fvariables set label text setlabeltext new wizard messages newwizardmessages link folder dialog linkfolderdialog dependencies group dependenciesgroup variables desc f variables fvariables set dialog field listener setdialogfieldlistener i dialog field listener idialogfieldlistener override dialog field changed dialogfieldchanged dialog field dialogfield field handle variables button pressed handlevariablesbuttonpressed set dialog field listener setdialogfieldlistener root field adapter rootfieldadapter adapter f adapter fadapter adapter do fill into grid dofillintogrid composite parent num columns numcolumns f link location flinklocation do fill into grid dofillintogrid parent num columns numcolumns layout util layoututil set horizontal span sethorizontalspan f link location flinklocation get label control getlabelcontrol num columns numcolumns layout util layoututil set horizontal grabbing sethorizontalgrabbing f link location flinklocation get text control gettextcontrol bidi utils bidiutils apply bidi processing applybidiprocessing f link location flinklocation get text control gettextcontrol structured text type handler factory structuredtexttypehandlerfactory file f variables fvariables do fill into grid dofillintogrid parent i path ipath get link target getlinktarget path fromosstring f link location flinklocation get text gettext set link target setlinktarget i path ipath path f link location flinklocation set text settext path toosstring override change control pressed changecontrolpressed dialog field dialogfield field directory dialog directorydialog dialog directory dialog directorydialog get shell getshell dialog set message setmessage new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage directory message string directory name directoryname f link location flinklocation get text gettext trim directory name directoryname length string prev location prevlocation java plugin javaplugin get default getdefault get dialog settings getdialogsettings dialogstore external loc prev location prevlocation directory name directoryname prev location prevlocation directory name directoryname length file path file directory name directoryname path exists dialog set filter path setfilterpath directory name directoryname string selected directory selecteddirectory dialog open selected directory selecteddirectory f link location flinklocation set text settext selected directory selecteddirectory f root dialog field frootdialogfield set text settext selected directory selecteddirectory substring selected directory selecteddirectory last index of lastindexof file separator char separatorchar java plugin javaplugin get default getdefault get dialog settings getdialogsettings dialogstore external loc selected directory selecteddirectory f adapter fadapter f adapter fadapter dialog field changed dialogfieldchanged f root dialog field frootdialogfield opens path variable selection dialog handle variables button pressed handlevariablesbuttonpressed variable types variabletypes i resource iresource folder path variable selection dialog pathvariableselectiondialog dialog path variable selection dialog pathvariableselectiondialog get shell getshell variable types variabletypes dialog set resource setresource f parent fparent dialog open i dialog constants idialogconstants string variable names variablenames string dialog get result getresult variable names variablenames variable names variablenames length f link location flinklocation set text settext variable names variablenames f root dialog field frootdialogfield set text settext path variable names variablenames last segment lastsegment f adapter fadapter f adapter fadapter dialog field changed dialogfieldchanged f root dialog field frootdialogfield override dialog field changed dialogfieldchanged dialog field dialogfield field f adapter fadapter f adapter fadapter dialog field changed dialogfieldchanged f link location flinklocation nls string new source folder wizard page newsourcefolderwizardpage string dialog field stringdialogfield f root dialog field frootdialogfield selection button dialog field selectionbuttondialogfield f add exclusion patterns faddexclusionpatterns f remove project folder fremoveprojectfolder f ignore conflicts fignoreconflicts link fields linkfields f link fields flinkfields cp list element cplistelement f new element fnewelement list cp list element cplistelement f existing entries fexistingentries hashtable cp list element cplistelement i path ipath f orginal exlusion filters forginalexlusionfilters f orginal inclusion filters forginalinclusionfilters f orginal exlusion filters copy forginalexlusionfilterscopy f orginal inclusion filters copy forginalinclusionfilterscopy i path ipath f orginal path forginalpath f linked mode flinkedmode i path ipath f output location foutputlocation i path ipath f new output location fnewoutputlocation cp list element cplistelement f old project source folder foldprojectsourcefolder list cp list element cplistelement f modified elements fmodifiedelements list cp list element cplistelement f removed elements fremovedelements f allow conflict fallowconflict f allow remove project folder fallowremoveprojectfolder f allow add exclusion patterns fallowaddexclusionpatterns f can commit conflicting buildpath fcancommitconflictingbuildpath i container icontainer f parent fparent add source folder wizard page addsourcefolderwizardpage cp list element cplistelement new element newelement list cp list element cplistelement existing entries existingentries i path ipath output location outputlocation linked mode linkedmode can commit conflicting buildpath cancommitconflictingbuildpath allow ignore conflicts allowignoreconflicts allow remove project folder allowremoveprojectfolder allow add exclusion patterns allowaddexclusionpatterns i container icontainer parent f linked mode flinkedmode linked mode linkedmode f can commit conflicting buildpath fcancommitconflictingbuildpath can commit conflicting buildpath cancommitconflictingbuildpath f allow conflict fallowconflict allow ignore conflicts allowignoreconflicts f allow remove project folder fallowremoveprojectfolder allow remove project folder allowremoveprojectfolder f allow add exclusion patterns fallowaddexclusionpatterns allow add exclusion patterns allowaddexclusionpatterns f parent fparent parent f orginal exlusion filters forginalexlusionfilters hashtable f orginal inclusion filters forginalinclusionfilters hashtable f orginal exlusion filters copy forginalexlusionfilterscopy hashtable f orginal inclusion filters copy forginalinclusionfilterscopy hashtable iterator cp list element cplistelement iter existing entries existingentries iterator iter has next hasnext cp list element cplistelement element iter i path ipath exlusions i path ipath element get attribute getattribute cp list element cplistelement exclusion exlusions i path ipath save i path ipath exlusions length save length save exlusions f orginal exlusion filters copy forginalexlusionfilterscopy element save f orginal exlusion filters forginalexlusionfilters element exlusions i path ipath inclusions i path ipath element get attribute getattribute cp list element cplistelement inclusion inclusions i path ipath save i path ipath inclusions length save length save inclusions f orginal inclusion filters copy forginalinclusionfilterscopy element save f orginal inclusion filters forginalinclusionfilters element inclusions set title settitle new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage title f orginal path forginalpath new element newelement get path getpath f orginal path forginalpath linked mode linkedmode set description setdescription messages format new wizard messages newwizardmessages new folder dialog newfolderdialog create i n createin basic element labels basicelementlabels get java element name getjavaelementname new element newelement get java project getjavaproject get element name getelementname set description setdescription messages format new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage description basic element labels basicelementlabels get path label getpathlabel f parent fparent get full path getfullpath set description setdescription new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage edit description f new element fnewelement new element newelement f existing entries fexistingentries existing entries existingentries f modified elements fmodifiedelements array list arraylist f removed elements fremovedelements array list arraylist f output location foutputlocation output location outputlocation root field adapter rootfieldadapter adapter root field adapter rootfieldadapter f root dialog field frootdialogfield string dialog field stringdialogfield f root dialog field frootdialogfield set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage root label f new element fnewelement get path getpath nls f root dialog field frootdialogfield set text settext set folder dialog text setfolderdialogtext f new element fnewelement get path getpath f root dialog field frootdialogfield set enabled setenabled f new element fnewelement get java project getjavaproject button style buttonstyle swt check f allow conflict fallowconflict f allow add exclusion patterns fallowaddexclusionpatterns f allow conflict fallowconflict f allow remove project folder fallowremoveprojectfolder f allow add exclusion patterns fallowaddexclusionpatterns f allow remove project folder fallowremoveprojectfolder button style buttonstyle swt radio f add exclusion patterns faddexclusionpatterns selection button dialog field selectionbuttondialogfield button style buttonstyle f add exclusion patterns faddexclusionpatterns set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage exclude label f add exclusion patterns faddexclusionpatterns set selection setselection f can commit conflicting buildpath fcancommitconflictingbuildpath f allow remove project folder fallowremoveprojectfolder f remove project folder fremoveprojectfolder selection button dialog field selectionbuttondialogfield button style buttonstyle f remove project folder fremoveprojectfolder set label text setlabeltext new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage replace existing source folder replaceexistingsourcefolder label f remove project folder fremoveprojectfolder set selection setselection f can commit conflicting buildpath fcancommitconflictingbuildpath f allow remove project folder fallowremoveprojectfolder f ignore conflicts fignoreconflicts selection button dialog field selectionbuttondialogfield button style buttonstyle f ignore conflicts fignoreconflicts set label text setlabeltext new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage ignore nesting conflicts ignorenestingconflicts f ignore conflicts fignoreconflicts set selection setselection f can commit conflicting buildpath fcancommitconflictingbuildpath f link fields flinkfields link fields linkfields f new element fnewelement get link target getlinktarget f link fields flinkfields set link target setlinktarget f new element fnewelement get link target getlinktarget f remove project folder fremoveprojectfolder set dialog field listener setdialogfieldlistener adapter f add exclusion patterns faddexclusionpatterns set dialog field listener setdialogfieldlistener adapter f ignore conflicts fignoreconflicts set dialog field listener setdialogfieldlistener adapter f root dialog field frootdialogfield set dialog field listener setdialogfieldlistener adapter f link fields flinkfields set dialog field listener setdialogfieldlistener adapter pack root dialog field changed packrootdialogfieldchanged creation org eclipse jface dialogs i dialog page idialogpage create control createcontrol org eclipse swt widgets composite override create control createcontrol composite parent initialize dialog units initializedialogunits parent composite composite composite parent swt grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns composite set layout setlayout layout f linked mode flinkedmode f link fields flinkfields do fill into grid dofillintogrid composite layout num columns numcolumns f root dialog field frootdialogfield do fill into grid dofillintogrid composite layout num columns numcolumns f root dialog field frootdialogfield do fill into grid dofillintogrid composite layout num columns numcolumns f allow remove project folder fallowremoveprojectfolder f remove project folder fremoveprojectfolder do fill into grid dofillintogrid composite layout num columns numcolumns f allow add exclusion patterns fallowaddexclusionpatterns f add exclusion patterns faddexclusionpatterns do fill into grid dofillintogrid composite layout num columns numcolumns f allow conflict fallowconflict f ignore conflicts fignoreconflicts do fill into grid dofillintogrid composite layout num columns numcolumns layout util layoututil set horizontal span sethorizontalspan f root dialog field frootdialogfield get label control getlabelcontrol layout num columns numcolumns layout util layoututil set horizontal grabbing sethorizontalgrabbing f root dialog field frootdialogfield get text control gettextcontrol set control setcontrol composite dialog apply dialog font applydialogfont composite platformui get workbench getworkbench get help system gethelpsystem set help sethelp composite i java help context ids ijavahelpcontextids package root packageroot wizard org eclipse jface dialogs i dialog page idialogpage set visible setvisible override set visible setvisible visible set visible setvisible visible visible f root dialog field frootdialogfield set focus setfocus root field adapter rootfieldadapter i string button adapter istringbuttonadapter i dialog field listener idialogfieldlistener i string button adapter istringbuttonadapter override change control pressed changecontrolpressed dialog field dialogfield field pack root change control pressed packrootchangecontrolpressed field i dialog field listener idialogfieldlistener override dialog field changed dialogfieldchanged dialog field dialogfield field pack root dialog field changed packrootdialogfieldchanged pack root change control pressed packrootchangecontrolpressed dialog field dialogfield field field f root dialog field frootdialogfield i path ipath initial path initialpath path f root dialog field frootdialogfield get text gettext string title new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage choose existing root dialog chooseexistingrootdialog title string message new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage choose existing root dialog chooseexistingrootdialog description i folder ifolder folder choose folder choosefolder title message initial path initialpath folder set folder dialog text setfolderdialogtext folder get full path getfullpath set folder dialog text setfolderdialogtext i path ipath path i path ipath short path shortpath path remove first segments removefirstsegments f root dialog field frootdialogfield set text settext short path shortpath to string tostring pack root dialog field changed packrootdialogfieldchanged status info statusinfo status update root status updaterootstatus update status updatestatus i status istatus status status info statusinfo update root status updaterootstatus i java project ijavaproject java project javaproject f new element fnewelement get java project getjavaproject i project iproject project java project javaproject get project getproject status info statusinfo path name status pathnamestatus validate path name validatepathname f root dialog field frootdialogfield get text gettext f parent fparent path name status pathnamestatus isok path name status pathnamestatus f linked mode flinkedmode i status istatus link name status linknamestatus validate link location validatelinklocation f root dialog field frootdialogfield get text gettext link name status linknamestatus matches i status istatus error status info statusinfo result status info statusinfo result set error seterror link name status linknamestatus get message getmessage result status info statusinfo result status info statusinfo result setok i path ipath proj path projpath project get full path getfullpath i path ipath path f parent fparent get full path getfullpath append f root dialog field frootdialogfield get text gettext restorecpelements project entry index projectentryindex create folder for existing createfolderforexisting i folder ifolder folder f parent fparent get folder getfolder path f root dialog field frootdialogfield get text gettext f existing entries fexistingentries size i classpath entry iclasspathentry curr f existing entries fexistingentries get classpath entry getclasspathentry curr get entry kind getentrykind i classpath entry iclasspathentry cpe source path equals curr get path getpath f existing entries fexistingentries f new element fnewelement folder exists result set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error already existing alreadyexisting result create folder for existing createfolderforexisting proj path projpath equals curr get path getpath project entry index projectentryindex folder exists folder get full path getfullpath equals f orginal path forginalpath status info statusinfo i status istatus error messages format new wizard messages newwizardmessages new folder dialog newfolderdialog folder name empty foldernameempty already exists alreadyexists basic element labels basicelementlabels get path label getpathlabel folder get full path getfullpath is project source folder isprojectasourcefolder project entry index projectentryindex f modified elements fmodifiedelements clear update filters updatefilters f new element fnewelement get path getpath path f new element fnewelement set path setpath path f linked mode flinkedmode f new element fnewelement set link target setlinktarget f link fields flinkfields get link target getlinktarget f removed elements fremovedelements clear cp list element cplistelement modified hash set hashset is project source folder replaced isprojectsourcefolderreplaced f add exclusion patterns faddexclusionpatterns is selected isselected f orginal path forginalpath add exclusion patterns addexclusionpatterns f new element fnewelement f existing entries fexistingentries modified f modified elements fmodifiedelements add all addall modified create folder for existing createfolderforexisting cp list element cplistelement insert f new element fnewelement f existing entries fexistingentries is project source folder isprojectasourcefolder f remove project folder fremoveprojectfolder is selected isselected f old project source folder foldprojectsourcefolder f existing entries fexistingentries project entry index projectentryindex f removed elements fremovedelements add f old project source folder foldprojectsourcefolder f existing entries fexistingentries project entry index projectentryindex f new element fnewelement is project source folder replaced isprojectsourcefolderreplaced create folder for existing createfolderforexisting cp list element cplistelement insert f new element fnewelement f existing entries fexistingentries create folder for existing createfolderforexisting cp list element cplistelement insert f new element fnewelement f existing entries fexistingentries f allow conflict fallowconflict f can commit conflicting buildpath fcancommitconflictingbuildpath create folder for existing createfolderforexisting status info statusinfo f new output location fnewoutputlocation i java model status ijavamodelstatus status java conventions javaconventions validate classpath validateclasspath java project javaproject cp list element cplistelement convert to classpath entries converttoclasspathentries f existing entries fexistingentries f output location foutputlocation status isok f output location foutputlocation equals proj path projpath change output folder f new output location fnewoutputlocation proj path projpath append preference constants preferenceconstants get preference store getpreferencestore get string getstring preference constants preferenceconstants srcbin binname i status istatus status java conventions javaconventions validate classpath validateclasspath java project javaproject cp list element cplistelement convert to classpath entries converttoclasspathentries f existing entries fexistingentries f new output location fnewoutputlocation status isok is project source folder replaced isprojectsourcefolderreplaced result set info setinfo messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning replacesfandol basic element labels basicelementlabels get path label getpathlabel f new output location fnewoutputlocation result set info setinfo messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning replaceol basic element labels basicelementlabels get path label getpathlabel f new output location fnewoutputlocation result don problem report user f new output location fnewoutputlocation f can commit conflicting buildpath fcancommitconflictingbuildpath result set info setinfo new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage conflict warning conflictwarning status get message getmessage result set error seterror status get message getmessage result modified is empty isempty exclusion patterns solve problem modified size cp list element cplistelement elem cp list element cplistelement modified to array toarray string changed basic element labels basicelementlabels get path label getpathlabel elem get path getpath string exc l excl basic element labels basicelementlabels get path label getpathlabel f new element fnewelement get path getpath result set info setinfo messages format new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage add single pattern addsinglepattern object exc l excl changed result set info setinfo messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage warning added exclusions addedexclusions plural string value of valueof modified size result is project source folder replaced isprojectsourcefolderreplaced result set info setinfo new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage replace source folder info replacesourcefolderinfo result result restore iterator cp list element cplistelement iter f existing entries fexistingentries iterator iter has next hasnext cp list element cplistelement element iter f orginal exlusion filters forginalexlusionfilters contains key containskey element element set attribute setattribute cp list element cplistelement exclusion f orginal exlusion filters copy forginalexlusionfilterscopy element f orginal inclusion filters forginalinclusionfilters contains key containskey element element set attribute setattribute cp list element cplistelement inclusion f orginal inclusion filters copy forginalinclusionfilterscopy element f new element fnewelement set path setpath f orginal path forginalpath restorecpelements f new element fnewelement get path getpath iterator cp list element cplistelement iter f existing entries fexistingentries iterator iter has next hasnext cp list element cplistelement element iter f orginal exlusion filters forginalexlusionfilters contains key containskey element element set attribute setattribute cp list element cplistelement exclusion f orginal exlusion filters forginalexlusionfilters element f orginal inclusion filters forginalinclusionfilters contains key containskey element element set attribute setattribute cp list element cplistelement inclusion f orginal inclusion filters forginalinclusionfilters element f old project source folder foldprojectsourcefolder f existing entries fexistingentries f existing entries fexistingentries index of indexof f new element fnewelement f old project source folder foldprojectsourcefolder f old project source folder foldprojectsourcefolder f existing entries fexistingentries f new element fnewelement f existing entries fexistingentries remove f new element fnewelement update filters updatefilters i path ipath old path oldpath i path ipath new path newpath old path oldpath i path ipath proj path projpath f new element fnewelement get java project getjavaproject get project getproject get full path getfullpath proj path projpath is prefix of isprefixof old path oldpath old path oldpath old path oldpath remove first segments removefirstsegments proj path projpath segment count segmentcount add trailing separator addtrailingseparator proj path projpath is prefix of isprefixof new path newpath new path newpath new path newpath remove first segments removefirstsegments proj path projpath segment count segmentcount add trailing separator addtrailingseparator iterator cp list element cplistelement iter f existing entries fexistingentries iterator iter has next hasnext cp list element cplistelement element iter i path ipath element path elementpath element get path getpath proj path projpath is prefix of isprefixof element path elementpath element path elementpath element path elementpath remove first segments removefirstsegments proj path projpath segment count segmentcount element path elementpath segment count segmentcount element path elementpath element path elementpath add trailing separator addtrailingseparator i path ipath exlusions i path ipath element get attribute getattribute cp list element cplistelement exclusion exlusions exlusions length element path elementpath append exlusions equals old path oldpath f modified elements fmodifiedelements add element exlusions new path newpath remove first segments removefirstsegments element path elementpath segment count segmentcount element set attribute setattribute cp list element cplistelement exclusion exlusions i path ipath inclusion i path ipath element get attribute getattribute cp list element cplistelement inclusion inclusion inclusion length element path elementpath append inclusion equals old path oldpath f modified elements fmodifiedelements add element inclusion new path newpath remove first segments removefirstsegments element path elementpath segment count segmentcount element set attribute setattribute cp list element cplistelement inclusion inclusion valid ates validates controls param folder name foldername folder i status istatus indicating validation result i status istatus link target valid link handle linkhandle i status istatus validate link location validatelinklocation string folder name foldername i workspace iworkspace workspace java plugin javaplugin get workspace getworkspace i path ipath path path fromosstring f link fields flinkfields f link location flinklocation get text gettext path folder location folderlocation path folder name foldername folder location folderlocation is absolute isabsolute status info statusinfo i status istatus error new wizard messages newwizardmessages add source folder wizard page addsourcefolderwizardpage error not relative path name notarelativepathname i project iproject project f new element fnewelement get java project getjavaproject get project getproject i folder ifolder folder project get folder getfolder folder location folderlocation i status istatus location status locationstatus workspace validate link location validatelinklocation folder path location status locationstatus matches i status istatus error location status locationstatus i path variable manager ipathvariablemanager path variable manager pathvariablemanager project get path variable manager getpathvariablemanager i path ipath path path fromosstring f link fields flinkfields f link location flinklocation get text gettext i path ipath resolved path resolvedpath path variable manager pathvariablemanager resolve path resolvepath path resolved link target string resolved link target resolvedlinktarget resolved path resolvedpath toosstring path path resolved link target resolvedlinktarget file link target file linktargetfile path resolved link target resolvedlinktarget to file tofile link target file linktargetfile exists link target file linktargetfile is directory isdirectory status info statusinfo i status istatus error new wizard messages newwizardmessages new folder dialog newfolderdialog link target not folder linktargetnotfolder status info statusinfo i status istatus error new wizard messages newwizardmessages new folder dialog newfolderdialog link target non existent linktargetnonexistent location status locationstatus isok status info statusinfo status info statusinfo location status locationstatus get severity getseverity location status locationstatus get message getmessage status info statusinfo validate path name validatepathname string str i container icontainer parent status info statusinfo result status info statusinfo result setok i path ipath parent path parentpath parent get full path getfullpath str length result set error seterror messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error enter root name enterrootname basic element labels basicelementlabels get path label getpathlabel parent path parentpath result i path ipath path parent path parentpath append str i workspace root iworkspaceroot workspace root workspaceroot resources plugin resourcesplugin get workspace getworkspace get root getroot i status istatus validate workspace root workspaceroot get workspace getworkspace validate path validatepath path to string tostring i resource iresource folder validate matches i status istatus error result set error seterror messages format new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error invalid root name invalidrootname validate get message getmessage result i resource iresource res workspace root workspaceroot find member findmember path res res get type gettype i resource iresource folder result set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error notafolder result uri parent location parentlocation parent getlocationuri parent location parentlocation i file store ifilestore store efs get store getstore parent location parentlocation get child getchild str store fetch info fetchinfo exists result set error seterror new wizard messages newwizardmessages new source folder wizard page newsourcefolderwizardpage error already existing different case alreadyexistingdifferentcase result core exception coreexception result add exclusion patterns addexclusionpatterns cp list element cplistelement new entry newentry list cp list element cplistelement existing cp list element cplistelement modified entries modifiedentries i path ipath entry path entrypath new entry newentry get path getpath existing size cp list element cplistelement curr existing i path ipath curr path currpath curr get path getpath curr new entry newentry curr get entry kind getentrykind i classpath entry iclasspathentry cpe source curr path currpath is prefix of isprefixof entry path entrypath curr add to exclusions addtoexclusions entry path entrypath modified entries modifiedentries add curr i resource iresource get corresponding resource getcorrespondingresource f parent fparent get folder getfolder path f root dialog field frootdialogfield get text gettext i path ipath get output location getoutputlocation f new output location fnewoutputlocation f new output location fnewoutputlocation f output location foutputlocation choose dialogs i folder ifolder choose folder choosefolder string title string message i path ipath initial path initialpath accepted classes acceptedclasses i folder ifolder i selection status validator iselectionstatusvalidator validator type d element selection validator typedelementselectionvalidator accepted classes acceptedclasses viewer filter viewerfilter filter type d viewer filter typedviewerfilter accepted classes acceptedclasses i label provider ilabelprovider workbench label provider workbenchlabelprovider i tree content provider itreecontentprovider workbench content provider workbenchcontentprovider i project iproject curr project currproject f new element fnewelement get java project getjavaproject get project getproject element tree selection dialog elementtreeselectiondialog dialog element tree selection dialog elementtreeselectiondialog get shell getshell override control create dialog area createdialogarea composite parent control result create dialog area createdialogarea parent platformui get workbench getworkbench get help system gethelpsystem set help sethelp parent i java help context ids ijavahelpcontextids choose existing folder source folder result dialog set validator setvalidator validator dialog set title settitle title dialog set message setmessage message dialog add filter addfilter filter dialog set input setinput curr project currproject dialog set comparator setcomparator resource comparator resourcecomparator resource comparator resourcecomparator i resource iresource res curr project currproject find member findmember initial path initialpath res dialog set initial selection setinitialselection res dialog open window i folder ifolder dialog get first result getfirstresult list cp list element cplistelement get modified elements getmodifiedelements f orginal path forginalpath f modified elements fmodifiedelements f new element fnewelement f modified elements fmodifiedelements add f new element fnewelement f modified elements fmodifiedelements list cp list element cplistelement get removed elements getremovedelements f removed elements fremovedelements
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation lukas hanke hanke yatta templates content assist content assist loop member variables https bugs eclipse org org eclipse jdt internal corext template java java util array list arraylist java util arrays java util hash map hashmap java util list java util list iterator listiterator java util map org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i status istatus org eclipse core runtime status org eclipse jdt core completion proposal completionproposal org eclipse jdt core completion requestor completionrequestor org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core i type parameter itypeparameter org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core compiler i problem iproblem org eclipse jdt internal java plugin javaplugin completion req uester requester collect info rmations informations local variables guessing variable names arrays collect ions collections compilation unit completion compilationunitcompletion completion requestor completionrequestor describes local variable including parameters method code completion invoked special predicates exist query variable iterate d iterated variable unknown array collection iterable local variable string signature local variable type string signature lazily computed properties f type ftype unknown f checked fchecked string f member types fmembertypes variable string string signature signature signature returns variable variable string get name getname returns code code type local variable array type code code receiver type array code code is array isarray f type ftype unknown f checked fchecked array signature get type signature kind gettypesignaturekind signature signature array type signature f type ftype array f checked fchecked array f type ftype array returns code code receiver type subclass code java util collection code code code code code receiver type subclass code java util collection code code code is collection iscollection collection iterable nls f type ftype unknown f type ftype iterable f checked fchecked collection is subtype of issubtypeof java util collection f type ftype collection f checked fchecked collection f type ftype collection returns code code receiver type subclass code java lang iterable code code code code code receiver type subclass code java lang iterable code code code is iterable isiterable nls f type ftype unknown f checked fchecked iterable is subtype of issubtypeof java lang iterable f type ftype iterable f checked fchecked iterable collection iterable f type ftype iterable f type ftype collection returns code code receiver type impl ementor implementor code interface name interfacename code param supertype fully qualified code code receiver type type named code interface name interfacename code is subtype of issubtypeof string supertype string impl ementor name implementorname signature util signatureutil str ip signature to n stripsignaturetofqn signature impl ementor name implementorname length impl ementor dims implementordims signature get array count getarraycount signature nls super dims index superdimsindex supertype index of indexof super dims superdims super dims index superdimsindex super dims superdims supertype length super dims index superdimsindex supertype supertype substring super dims index superdimsindex super dims superdims impl ementor dims implementordims super dims superdims nls java lang object equals nls supertype super dims superdims impl ementor dims implementordims qualified supertype index of indexof cheap test impl ementor name implementorname equals supertype qualified signature get simple name getsimplename impl ementor name implementorname equals supertype f unit funit i java project ijavaproject project f unit funit get java project getjavaproject i type itype project find type findtype impl ementor name implementorname qualified i type itype project find type findtype supertype i type hierarchy itypehierarchy hierarchy new supertype hierarchy newsupertypehierarchy hierarchy i type hierarchy itypehierarchy hierarchy new supertype hierarchy newsupertypehierarchy i type itype all types alltypes hierarchy get all types getalltypes all types alltypes length i type itype type all types alltypes type get element name getelementname equals supertype java model exception javamodelexception i type itype get super types getsupertypes string supertype i type itype empty i type itype string impl ementor name implementorname signature util signatureutil str ip signature to n stripsignaturetofqn signature impl ementor name implementorname length empty qualified supertype index of indexof f unit funit empty i java project ijavaproject project f unit funit get java project getjavaproject i type itype project find type findtype impl ementor name implementorname empty qualified i type itype project find type findtype supertype empty i type itype i type hierarchy itypehierarchy hierarchy new supertype hierarchy newsupertypehierarchy i type itype all types alltypes hierarchy get all types getalltypes list i type itype matches array list arraylist all types alltypes length i type itype type all types alltypes type get element name getelementname equals supertype matches add type matches to array toarray i type itype matches size java model exception javamodelexception empty returns signature member type signature member type string get member type signature getmembertypesignature get member type signatures getmembertypesignatures returns signatures member type bounds signatures member type bounds string get member type signatures getmembertypesignatures is array isarray string signature create array signature createarraysignature signature get element type getelementtype signature signature get array count getarraycount signature f unit funit is iterable isiterable is collection iscollection f member types fmembertypes type parameter resolver typeparameterresolver util type parameter resolver typeparameterresolver f member types fmembertypes nls util compute binding computebinding nls java lang iterable nls java model exception javamodelexception type parameter resolver typeparameterresolver util type parameter resolver typeparameterresolver f member types fmembertypes util compute binding computebinding java util collection java model exception javamodelexception f member types fmembertypes string index out of bounds exception indexoutofboundsexception f member types fmembertypes string f member types fmembertypes length f member types fmembertypes nls string signature create type signature createtypesignature java lang object returns type names member type bounds referenced current compilation unit type names member type bounds string get member type names getmembertypenames string signatures get member type signatures getmembertypesignatures string names string signatures length signatures length string sig signatures string local f local types flocaltypes signature get element type getelementtype sig dim signature get array count getarraycount sig local dim string buffer stringbuffer array string buffer stringbuffer local dim nls array append local array to string tostring local names local names signature get simple name getsimplename signature get signature simple name getsignaturesimplename sig names returns type arguments declared type variable returns empty array parameterized type param type fully qualified type match type argument param type parameter type type bounds type argument local variable string get type argument bound signatures gettypeargumentboundsignatures string type list string array list arraylist i type itype super types supertypes get super types getsupertypes type f unit funit super types supertypes length type parameter resolver typeparameterresolver util type parameter resolver typeparameterresolver string result util compute binding computebinding super types supertypes get fully qualified name getfullyqualifiedname add all addall arrays as list aslist result java model exception javamodelexception index out of bounds exception indexoutofboundsexception is empty isempty string nls signature create type signature createtypesignature java lang object to array toarray string size java lang object to string tostring override string to string tostring string type f type ftype iterable nls type iterable collection nls type nls collection array nls type array nls type unknown nls nls nls nls nls local variable localvariable signature signature type type member get member type signature getmembertypesignature java type resolver computes bounds type variables declared type type constraints inheritance path type parameter resolver typeparameterresolver nls string object signature ljava lang object i type hierarchy itypehierarchy f hierarchy fhierarchy variable f variable fvariable i type itype f type ftype list string f bounds fbounds array list arraylist creates type parameter resolver compute bindings type parameters declared type code variable code type type code variable code calling link compute binding computebinding i type itype compute binding computebinding find type bounds type variables type type constraints inheritance path param variable local variable investigation java model exception javamodelexception type code variable code type parameter resolver typeparameterresolver variable variable java model exception javamodelexception string type name typename signature util signatureutil str ip signature to n stripsignaturetofqn variable signature i java project ijavaproject project f unit funit get java project getjavaproject f type ftype project find type findtype type name typename f hierarchy fhierarchy f type ftype new supertype hierarchy newsupertypehierarchy f variable fvariable variable type parameter code super type supertype code position code code method computes returns type bound parameter instance code f type ftype code code super type supertype code type code f type ftype code code super type supertype code code code type parameters param super type supertype qualified type type compute type parameter binding param list type parameters code super type supertype code binding java model exception javamodelexception java model operation fails index out of bounds exception indexoutofboundsexception valid string compute binding computebinding string super type supertype java model exception javamodelexception index out of bounds exception indexoutofboundsexception i java project ijavaproject project f unit funit get java project getjavaproject i type itype type project find type findtype super type supertype type nls java model exception javamodelexception nls core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i status istatus type compute binding computebinding type type parameter code super type supertype code position code code method computes returns type bound parameter instance code f type ftype code code super type supertype code type code f type ftype code code super type supertype code code code type parameters param super type supertype type compute type parameter binding param list type parameters code super type supertype code binding java model exception javamodelexception java model operation fails index out of bounds exception indexoutofboundsexception valid string compute binding computebinding i type itype super type supertype java model exception javamodelexception index out of bounds exception indexoutofboundsexception init bounds initbounds compute type parameter binding computetypeparameterbinding super type supertype f bounds fbounds to array toarray string f bounds fbounds size type parameter code super type supertype code position code code method recursively computes type bound parameter instance code f type ftype code code super type supertype code type code f type ftype code code super type supertype code code code type parameters type bounds stored code f bounds fbounds code param super type supertype type compute type parameter binding param list type parameters code super type supertype code java model exception javamodelexception java model operation fails index out of bounds exception indexoutofboundsexception valid compute type parameter binding computetypeparameterbinding i type itype super type supertype java model exception javamodelexception index out of bounds exception indexoutofboundsexception n parameters nparameters super type supertype get type parameters gettypeparameters length n parameters nparameters index out of bounds exception indexoutofboundsexception i type itype sub types subtypes f hierarchy fhierarchy get subtypes getsubtypes super type supertype sub types subtypes length reached base type is true istrue super type supertype equals f type ftype string match find matching type argument findmatchingtypeargument f variable fvariable signature f unit funit find primary type findprimarytype string bound signature util signatureutil get upper bound getupperbound match match concrete type type visible context referenced add bound addbound bound lead f type ftype i type itype sub type subtype sub types subtypes string signature find matching super type signature findmatchingsupertypesignature sub type subtype super type supertype string match find matching type argument findmatchingtypeargument signature sub type subtype is concrete type isconcretetype match sub type subtype add bound addbound match i type parameter itypeparameter type parameters typeparameters sub type subtype get type parameters gettypeparameters type parameters typeparameters length i type parameter itypeparameter for mal parameter formalparameter type parameters typeparameters for mal parameter formalparameter get element name getelementname equals signature util signatureutil str ip signature to n stripsignaturetofqn match string bounds for mal parameter formalparameter get bounds getbounds bounds length string bound signature boundsignature signature create type signature createtypesignature bounds add bound addbound signature util signatureutil qualify signature qualifysignature bound signature boundsignature sub type subtype compute type parameter binding computetypeparameterbinding sub type subtype concrete type argument matching type parameter type happen declared enclosing type declaration visible fine simply copy match bounds add bound addbound match finds returns type argument code code type type signature code signature code signature type parameter code code extracted type parameter upper bound code some type sometype code type signature code java lang object code returned code signature code type parameters reference raw type type signature code java lang object code returned param signature type signature type code code code code clause param type parameter extract code signature code param context type context unqualified types resolved type argument signature type parameter code code code signature code index out of bounds exception indexoutofboundsexception valid string find matching type argument findmatchingtypeargument string signature i type itype context index out of bounds exception indexoutofboundsexception string type arguments typearguments signature get type arguments gettypearguments signature type arguments typearguments length type arguments typearguments length index out of bounds exception indexoutofboundsexception type arguments typearguments length raw binding bound object object signature string bound signature util signatureutil get upper bound getupperbound type arguments typearguments signature util signatureutil qualify signature qualifysignature bound context finds returns type signature code code code code clause code sub type subtype code corresponds code super type supertype code param sub type subtype direct type code super type supertype code param super type supertype direct type code sub type subtype code type signature code sub type subtype code ref erring referring code super type supertype code java model exception javamodelexception extra cting extracting type signatures fails code sub type subtype code type signature code super type supertype code string find matching super type signature findmatchingsupertypesignature i type itype sub type subtype i type itype super type supertype java model exception javamodelexception string signatures get super type signatures getsupertypesignatures sub type subtype super type supertype signatures length string signature signatures string qualified signature util signatureutil qualify signature qualifysignature signature sub type subtype string subfqn signature util signatureutil str ip signature to n stripsignaturetofqn qualified string superfqn super type supertype get fully qualified name getfullyqualifiedname subfqn equals superfqn signature handle local types f local types flocaltypes contains value containsvalue subfqn signature nls java model exception javamodelexception core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i status istatus illegal hierarchy returns signatures code sub type subtype code code super type supertype code returns type signature param sub type subtype type signature param super type supertype type signature type signatures code sub type subtype code java model exception javamodelexception java model operation fails string get super type signatures getsupertypesignatures i type itype sub type subtype i type itype super type supertype java model exception javamodelexception super type supertype is interface isinterface sub type subtype get super interface type signatures getsuperinterfacetypesignatures string sub type subtype get superclass type signature getsuperclasstypesignature clears collected type bounds initial izes initializes code java lang object code init bounds initbounds f bounds fbounds clear f bounds fbounds add object signature filters current list type bounds additional type bound code bound signature boundsignature code param bound signature boundsignature additional bound add list collected bounds add bound addbound string bound signature boundsignature signature util signatureutil is java lang object isjavalangobject bound signature boundsignature list iterator listiterator string f bounds fbounds list iterator listiterator has next hasnext string is true subtype of istruesubtypeof bound signature boundsignature bound signature boundsignature remove f bounds fbounds add bound signature boundsignature returns code code code sub type signature subtypesignature code describes type type type code super type signature supertypesignature code param sub type signature subtypesignature potential subtype signature param super type signature supertypesignature potential supertype signature code code inheritance rel ationship relationship holds is true subtype of istruesubtypeof string sub type signature subtypesignature string super type signature supertypesignature cheap test sub type signature subtypesignature equals super type signature supertypesignature signature util signatureutil is java lang object isjavalangobject sub type signature subtypesignature object types signature get type signature kind gettypesignaturekind sub type signature subtypesignature signature base type signature signature util signatureutil is java lang object isjavalangobject super type signature supertypesignature i java project ijavaproject project f unit funit get java project getjavaproject signature get type signature kind gettypesignaturekind sub type signature subtypesignature signature type variable signature signature type signature i type itype sub type subtype project find type findtype signature util signatureutil str ip signature to n stripsignaturetofqn sub type signature subtypesignature sub type subtype signature get type signature kind gettypesignaturekind super type signature supertypesignature signature type variable signature signature type signature i type itype super type supertype project find type findtype signature util signatureutil str ip signature to n stripsignaturetofqn super type signature supertypesignature super type supertype i type hierarchy itypehierarchy hierarchy sub type subtype new supertype hierarchy newsupertypehierarchy i type itype types hierarchy get all super types getallsupertypes sub type subtype types length types equals super type supertype java model exception javamodelexception returns code code code signature code concrete type signature code code type variable param signature signature check param context context resolve type code code signature concrete type signature java model exception javamodelexception finding type fails is concrete type isconcretetype string signature i type itype context java model exception javamodelexception inexpensive check variable type signature type variable signature signature get type signature kind gettypesignaturekind signature resolve context is binary isbinary f unit funit get java project getjavaproject find type findtype signature util signatureutil str ip signature to n stripsignaturetofqn signature context resolve type resolvetype signature util signatureutil str ip signature to n stripsignaturetofqn signature i compilation unit icompilationunit f unit funit list variable f local variables flocalvariables array list arraylist list variable f fields ffields array list arraylist map string string f local types flocaltypes hash map hashmap f error ferror creates compilation unit completion param unit compilation unit code code compilation unit completion compilationunitcompletion i compilation unit icompilationunit unit reset unit set ignored setignored completion proposal completionproposal anonymous declaration set ignored setignored completion proposal completionproposal anonymous constructor invocation set ignored setignored completion proposal completionproposal keyword set ignored setignored completion proposal completionproposal label set ignored setignored completion proposal completionproposal method declaration set ignored setignored completion proposal completionproposal method reference set ignored setignored completion proposal completionproposal method set ignored setignored completion proposal completionproposal constructor invocation set ignored setignored completion proposal completionproposal method casted receiver set ignored setignored completion proposal completionproposal set ignored setignored completion proposal completionproposal potential method declaration set ignored setignored completion proposal completionproposal variable declaration set ignored setignored completion proposal completionproposal type resets completion req uester requester param unit compilation unit code code reset i compilation unit icompilationunit unit f unit funit unit f local variables flocalvariables clear f fields ffields clear f local types flocaltypes clear f unit funit i type itype cu types cutypes f unit funit get all types getalltypes cu types cutypes length string f qn fqn cu types cutypes get fully qualified name getfullyqualifiedname string sig signature create type signature createtypesignature f qn fqn f local types flocaltypes sig cu types cutypes get element name getelementname java model exception javamodelexception f error ferror org eclipse jdt core completion requestor completionrequestor accept org eclipse jdt core completion proposal completionproposal override accept completion proposal completionproposal proposal string string value of valueof proposal get completion getcompletion string signature string value of valueof proposal get signature getsignature proposal get kind getkind completion proposal completionproposal local variable collect local variables f local variables flocalvariables add variable signature completion proposal completionproposal field collect local variables f fields ffields add variable signature org eclipse jdt core completion requestor completionrequestor completion failure completionfailure org eclipse jdt core compiler i problem iproblem override completion failure completionfailure i problem iproblem problem f error ferror tests code completion process produced errors code code errors code code has errors haserrors f error ferror returns local variable names local variable names string get local variable names getlocalvariablenames string names string f local variables flocalvariables size list iterator listiterator variable iterator f local variables flocalvariables list iterator listiterator f local variables flocalvariables size iterator has previous hasprevious variable local variable localvariable iterator previous names local variable localvariable get name getname names returns field names field names string get field names getfieldnames string names string f fields ffields size list iterator listiterator variable iterator f fields ffields list iterator listiterator f fields ffields size iterator has previous hasprevious variable field iterator previous names field get name getname names returns arrays visible current context scope order visible arrays variable find arrays in current scope findarraysincurrentscope list variable arrays array list arraylist local variables list iterator listiterator variable iterator f local variables flocalvariables list iterator listiterator f local variables flocalvariables size iterator has previous hasprevious variable local variable localvariable iterator previous local variable localvariable is array isarray arrays add local variable localvariable fields list iterator listiterator variable iterator f fields ffields list iterator listiterator f fields ffields size iterator has previous hasprevious variable field iterator previous field is array isarray arrays add field arrays to array toarray variable arrays size returns local variables implementing extending code clazz code order param clazz fully qualified type match local variables matching code clazz code variable find local variables findlocalvariables string clazz list variable matches array list arraylist list iterator listiterator variable iterator f local variables flocalvariables list iterator listiterator f local variables flocalvariables size iterator has previous hasprevious variable local variable localvariable iterator previous local variable localvariable is subtype of issubtypeof clazz matches add local variable localvariable matches to array toarray variable matches size returns local variables implementing extending code clazz code order param clazz fully qualified type match local variables matching code clazz code variable find field variables findfieldvariables string clazz list variable matches array list arraylist list iterator listiterator variable iterator f fields ffields list iterator listiterator f fields ffields size iterator has previous hasprevious variable local variable localvariable iterator previous local variable localvariable is subtype of issubtypeof clazz matches add local variable localvariable matches to array toarray variable matches size returns variables visible current context scope implementing code java lang iterable code arrays order returned variables code for each foreach code language construct visible code iterable code arrays variable find iter ables in current scope finditerablesincurrentscope list variable iter ables iterables array list arraylist local variables list iterator listiterator variable iterator f local variables flocalvariables list iterator listiterator f local variables flocalvariables size iterator has previous hasprevious variable local variable localvariable iterator previous local variable localvariable is array isarray local variable localvariable is iterable isiterable iter ables iterables add local variable localvariable fields list iterator listiterator variable iterator f fields ffields list iterator listiterator f fields ffields size iterator has previous hasprevious variable field iterator previous field is array isarray field is iterable isiterable iter ables iterables add field iter ables iterables to array toarray variable iter ables iterables size
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring structure java util collection java util hash set hashset java util iterator java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse ltk core refactoring change org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring text change textchange org eclipse ltk core refactoring text edit based change texteditbasedchange org eclipse ltk core refactoring participants check conditions context checkconditionscontext org eclipse ltk core refactoring participants refactoring participant refactoringparticipant org eclipse ltk core refactoring participants sharable participants sharableparticipants org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom ast requestor astrequestor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom node finder nodefinder org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt core refactoring descriptors use supertype descriptor usesupertypedescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring dynamic validation refactoring change dynamicvalidationrefactoringchange org eclipse jdt internal corext refactoring structure constraints super type constraints model supertypeconstraintsmodel org eclipse jdt internal corext refactoring structure constraints super type constraints solver supertypeconstraintssolver org eclipse jdt internal corext refactoring structure constraints super type refactoring processor supertyperefactoringprocessor org eclipse jdt internal corext refactoring type constraints typeconstraints types t type ttype org eclipse jdt internal corext refactoring type constraints typeconstraints i source constraint variable isourceconstraintvariable org eclipse jdt internal corext refactoring type constraints typeconstraints i type constraint variable itypeconstraintvariable org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util text edit based change manager texteditbasedchangemanager org eclipse jdt internal corext util messages org eclipse jdt java element labels javaelementlabels org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal viewsupport basic element labels basicelementlabels refactoring processor replace type occurrences type use super type processor usesupertypeprocessor super type refactoring processor supertyperefactoringprocessor nls string identifier org eclipse jdt use super type processor usesupertypeprocessor finds type fully qualified type parameters included hierarchy param type hierarchy type find type param fully qualified type type code code i type binding itypebinding find type in hierarchy findtypeinhierarchy i type binding itypebinding type string type is array isarray type is primitive isprimitive equals type get type declaration gettypedeclaration get qualified name getqualifiedname type i type binding itypebinding binding type get superclass getsuperclass binding i type binding itypebinding result find type in hierarchy findtypeinhierarchy binding result result i type binding itypebinding bindings type get interfaces getinterfaces bindings length i type binding itypebinding result find type in hierarchy findtypeinhierarchy bindings result result text change manager text edit based change manager texteditbasedchangemanager f change manager fchangemanager number files change generation f changes fchanges subtype replace i type itype f sub type fsubtype supertype replacement i type itype f super type fsupertype creates type processor param sub type subtype subtype replace occurrences use super type processor usesupertypeprocessor i type itype sub type subtype f replace freplace f sub type fsubtype sub type subtype creates type processor param sub type subtype subtype replace occurrences param super type supertype supertype replacement use super type processor usesupertypeprocessor i type itype sub type subtype i type itype super type supertype f replace freplace f sub type fsubtype sub type subtype f super type fsupertype super type supertype creates type processor refactoring arguments param arguments refactoring arguments param status status use super type processor usesupertypeprocessor java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status f replace freplace refactoring status refactoringstatus initialize status initializestatus initialize arguments status merge initialize status initializestatus org eclipse ltk core refactoring participants refactoring processor refactoringprocessor check final conditions checkfinalconditions org eclipse core runtime i progress monitor iprogressmonitor org eclipse ltk core refactoring participants check conditions context checkconditionscontext override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor monitor check conditions context checkconditionscontext context core exception coreexception operation canceled exception operationcanceledexception is not null isnotnull monitor is not null isnotnull context refactoring status refactoringstatus status refactoring status refactoringstatus f change manager fchangemanager text edit based change manager texteditbasedchangemanager nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor checking f change manager fchangemanager create change manager createchangemanager sub progress monitor subprogressmonitor monitor status status has fatal error hasfatalerror checks add modified files to checker addmodifiedfilestochecker resource util resourceutil get files getfiles f change manager fchangemanager get all compilation units getallcompilationunits context monitor status org eclipse ltk core refactoring participants refactoring processor refactoringprocessor check initial conditions checkinitialconditions org eclipse core runtime i progress monitor iprogressmonitor override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor monitor core exception coreexception operation canceled exception operationcanceledexception is not null isnotnull monitor refactoring status refactoringstatus status refactoring status refactoringstatus nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor checking checks monitor worked monitor status org eclipse ltk core refactoring participants refactoring processor refactoringprocessor create change createchange org eclipse core runtime i progress monitor iprogressmonitor override change create change createchange i progress monitor iprogressmonitor monitor core exception coreexception operation canceled exception operationcanceledexception is not null isnotnull monitor f changes fchanges nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages extract interface processor extractinterfaceprocessor creating text edit based change texteditbasedchange f change manager fchangemanager get all changes getallchanges length f changes fchanges length i java project ijavaproject project f sub type fsubtype is binary isbinary project f sub type fsubtype get java project getjavaproject flags java refactoring descriptor javarefactoringdescriptor jar migration java refactoring descriptor javarefactoringdescriptor jar refactoring refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change f sub type fsubtype is local islocal f sub type fsubtype is anonymous isanonymous flags java refactoring descriptor javarefactoringdescriptor jar source attachment java model exception javamodelexception exception java plugin javaplugin log exception string project project get element name getelementname string description messages format refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor descriptor description basic element labels basicelementlabels get java element name getjavaelementname f super type fsupertype get element name getelementname string header messages format refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor descriptor description string java element labels javaelementlabels get element label getelementlabel f super type fsupertype java element labels javaelementlabels fully qualified java element labels javaelementlabels get element label getelementlabel f sub type fsubtype java element labels javaelementlabels fully qualified jdt refactoring descriptor comment jdtrefactoringdescriptorcomment comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment header comment add setting addsetting messages format refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor ref actored refactored element pattern java element labels javaelementlabels get element label getelementlabel f super type fsupertype java element labels javaelementlabels fully qualified add super type settings addsupertypesettings comment use supertype descriptor usesupertypedescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create use supertype descriptor createusesupertypedescriptor descriptor set project setproject descriptor set description setdescription description descriptor set comment setcomment comment as string asstring descriptor set flags setflags flags descriptor set sub type setsubtype get sub type getsubtype descriptor set supertype setsupertype get super type getsupertype descriptor set replace instanceof setreplaceinstanceof f instance of finstanceof dynamic validation refactoring change dynamicvalidationrefactoringchange descriptor refactoring core messages refactoringcoremessages use supertype where possible refactoring usesupertypewherepossiblerefactoring f change manager fchangemanager get all changes getallchanges monitor worked monitor creates text change manager processor param monitor progress monitor display progress param status refactoring status created text change manager java model exception javamodelexception method declaration core exception coreexception generated text edit based change manager texteditbasedchangemanager create change manager createchangemanager i progress monitor iprogressmonitor monitor refactoring status refactoringstatus status java model exception javamodelexception core exception coreexception is not null isnotnull status is not null isnotnull monitor nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor creating text edit based change manager texteditbasedchangemanager manager text edit based change manager texteditbasedchangemanager i java project ijavaproject project f sub type fsubtype get java project getjavaproject ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set working copy owner setworkingcopyowner f owner fowner parser set resolve bindings setresolvebindings parser set project setproject project parser set compiler options setcompileroptions refactoringastparser get compiler options getcompileroptions project f sub type fsubtype is binary isbinary f sub type fsubtype is read only isreadonly i binding ibinding bindings parser create bindings createbindings i java element ijavaelement f sub type fsubtype f super type fsupertype sub progress monitor subprogressmonitor monitor bindings bindings length bindings i type binding itypebinding bindings i type binding itypebinding solve super type constraints solvesupertypeconstraints f sub type fsubtype i type binding itypebinding bindings i type binding itypebinding bindings sub progress monitor subprogressmonitor monitor status status has fatal error hasfatalerror rewrite type occurrences rewritetypeoccurrences manager hash set hashset string status sub progress monitor subprogressmonitor monitor parser createasts i compilation unit icompilationunit f sub type fsubtype get compilation unit getcompilationunit string ast requestor astrequestor override acceptast i compilation unit icompilationunit unit compilation unit compilationunit node compilation unit rewrite compilationunitrewrite sub rewrite subrewrite compilation unit rewrite compilationunitrewrite f owner fowner unit node abstract type declaration abstracttypedeclaration sub declaration subdeclaration ast node search util astnodesearchutil get abstract type declaration node getabstracttypedeclarationnode f sub type fsubtype sub rewrite subrewrite get root getroot sub declaration subdeclaration i type binding itypebinding sub binding subbinding sub declaration subdeclaration resolve binding resolvebinding sub binding subbinding i type binding itypebinding super binding superbinding find type in hierarchy findtypeinhierarchy sub binding subbinding f super type fsupertype get fully qualified name getfullyqualifiedname super binding superbinding solve super type constraints solvesupertypeconstraints sub rewrite subrewrite get cu getcu sub rewrite subrewrite get root getroot f sub type fsubtype sub binding subbinding super binding superbinding sub progress monitor subprogressmonitor monitor status status has fatal error hasfatalerror rewrite type occurrences rewritetypeoccurrences manager sub rewrite subrewrite sub rewrite subrewrite get cu getcu sub rewrite subrewrite get root getroot hash set hashset string status sub progress monitor subprogressmonitor monitor text change textchange change sub rewrite subrewrite create change createchange change manager manage sub rewrite subrewrite get cu getcu change core exception coreexception exception java plugin javaplugin log exception status merge refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor internal error override accept binding acceptbinding string key i binding ibinding binding null progress monitor nullprogressmonitor manager monitor org eclipse jdt internal corext refactoring structure constraints super type refactoring processor supertyperefactoringprocessor create contraint solver createcontraintsolver org eclipse jdt internal corext refactoring structure constraints super type constraints model supertypeconstraintsmodel override super type constraints solver supertypeconstraintssolver create contraint solver createcontraintsolver super type constraints model supertypeconstraintsmodel model super type constraints solver supertypeconstraintssolver model returns number files change generation number files get changes getchanges f changes fchanges org eclipse ltk core refactoring participants refactoring processor refactoringprocessor get elements getelements override object get elements getelements object f sub type fsubtype org eclipse ltk core refactoring participants refactoring processor refactoringprocessor get identifier getidentifier override string get identifier getidentifier identifier org eclipse ltk core refactoring participants refactoring processor refactoringprocessor get processor name getprocessorname override string get processor name getprocessorname refactoring core messages refactoringcoremessages use super type processor usesupertypeprocessor returns subtype replaced subtype replaced i type itype get sub type getsubtype f sub type fsubtype returns supertype replacement supertype replacement i type itype get super type getsupertype f super type fsupertype refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments extended string handle extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement extended get project getproject handle element element exists element get element type getelementtype i java element ijavaelement type java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get processor name getprocessorname i java refactorings ijavarefactorings type f sub type fsubtype i type itype element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input handle extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute element handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement extended get project getproject handle element element exists element get element type getelementtype i java element ijavaelement type java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get processor name getprocessorname i java refactorings ijavarefactorings type f super type fsupertype i type itype element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute element string instance extended get attribute getattribute attribute instance f instance of finstanceof value of valueof instance boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute refactoring status refactoringstatus org eclipse ltk core refactoring participants refactoring processor refactoringprocessor is applicable isapplicable override is applicable isapplicable core exception coreexception checks is available isavailable f sub type fsubtype checks is available isavailable f super type fsupertype f sub type fsubtype is anonymous isanonymous f sub type fsubtype is annotation isannotation f super type fsupertype is anonymous isanonymous f super type fsupertype is annotation isannotation f super type fsupertype is enum isenum org eclipse ltk core refactoring participants refactoring processor refactoringprocessor load participants loadparticipants org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants sharable participants sharableparticipants override refactoring participant refactoringparticipant load participants loadparticipants refactoring status refactoringstatus status sharable participants sharableparticipants shared participants sharedparticipants core exception coreexception refactoring participant refactoringparticipant override rewrite type occurrences rewritetypeoccurrences text edit based change manager texteditbasedchangemanager manager ast requestor astrequestor requestor compilation unit rewrite compilationunitrewrite rewrite i compilation unit icompilationunit unit compilation unit compilationunit node string replace ments replacements i progress monitor iprogressmonitor monitor core exception coreexception nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages extract interface processor extractinterfaceprocessor creating collection i type constraint variable itypeconstraintvariable collection f type occurrences ftypeoccurrences unit collection collection is empty isempty i progress monitor iprogressmonitor sub monitor submonitor sub progress monitor subprogressmonitor monitor sub monitor submonitor begin task begintask nls collection size nls sub monitor submonitor set task name settaskname refactoring core messages refactoringcoremessages extract interface processor extractinterfaceprocessor creating t type ttype estimate i source constraint variable isourceconstraintvariable variable compilation unit rewrite compilationunitrewrite current rewrite currentrewrite i compilation unit icompilationunit source unit sourceunit rewrite get cu getcu source unit sourceunit equals unit current rewrite currentrewrite rewrite current rewrite currentrewrite compilation unit rewrite compilationunitrewrite f owner fowner unit node iterator i type constraint variable itypeconstraintvariable iterator collection iterator iterator has next hasnext variable iterator estimate t type ttype variable get data getdata super type constraints solver supertypeconstraintssolver data type estimate estimate variable i type constraint variable itypeconstraintvariable ast node astnode result node finder nodefinder perform node i type constraint variable itypeconstraintvariable variable get range getrange get source range getsourcerange result rewrite type occurrence rewritetypeoccurrence estimate current rewrite currentrewrite result current rewrite currentrewrite create categorized group description createcategorizedgroupdescription refactoring core messages refactoringcoremessages super type refactoring processor supertyperefactoringprocessor update type occurrence type sub monitor submonitor worked source unit sourceunit equals unit text change textchange change current rewrite currentrewrite create change createchange change manager manage unit change sub monitor submonitor monitor sets supertype replacement param type supertype set super type setsupertype i type itype type is not null isnotnull type f super type fsupertype type
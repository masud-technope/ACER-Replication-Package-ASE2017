copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation benjamin muskalla bmuskalla eclipse source eclipsesource quick prop oses proposes wrong object primitive https bugs eclipse org bugs bug cgi benjamin muskalla bmuskalla eclipse source eclipsesource quick add exceptions quickfix https bugs eclipse org bugs bug cgi org eclipse jdt internal text correction java util array list arraylist java util collection org eclipse swt graphics image org eclipse core runtime core exception coreexception org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom array initializer arrayinitializer org eclipse jdt core dom assignment org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enhanced for statement enhancedforstatement org eclipse jdt core dom expression org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom member value pair membervaluepair org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom org eclipse jdt core dom name qualified type namequalifiedtype org eclipse jdt core dom simple name simplename org eclipse jdt core dom simple type simpletype org eclipse jdt core dom single member annotation singlememberannotation org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom type org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util messages org eclipse jdt java element labels javaelementlabels org eclipse jdt text java i invocation context iinvocationcontext org eclipse jdt text java i problem location iproblemlocation org eclipse jdt text java correction ast rewrite correction proposal astrewritecorrectionproposal org eclipse jdt text java correction i command access icommandaccess org eclipse jdt internal java plugin images javapluginimages org eclipse jdt internal text correction proposals cast correction proposal castcorrectionproposal org eclipse jdt internal text correction proposals change method signature proposal changemethodsignatureproposal org eclipse jdt internal text correction proposals change method signature proposal changemethodsignatureproposal change description changedescription org eclipse jdt internal text correction proposals change method signature proposal changemethodsignatureproposal insert description insertdescription org eclipse jdt internal text correction proposals change method signature proposal changemethodsignatureproposal remove description removedescription org eclipse jdt internal text correction proposals implement interface proposal implementinterfaceproposal org eclipse jdt internal text correction proposals linked correction proposal linkedcorrectionproposal org eclipse jdt internal text correction proposals new variable correction proposal newvariablecorrectionproposal org eclipse jdt internal text correction proposals type change correction proposal typechangecorrectionproposal org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal viewsupport binding label provider bindinglabelprovider type mismatch sub processor typemismatchsubprocessor type mismatch sub processor typemismatchsubprocessor add type mismatch proposals addtypemismatchproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals core exception coreexception string args problem get problem arguments getproblemarguments args length i compilation unit icompilationunit context get compilation unit getcompilationunit compilation unit compilationunit ast root astroot context getastroot ast ast ast root astroot getast ast node astnode selected node selectednode problem get covered node getcoverednode ast root astroot selected node selectednode expression expression node to cast nodetocast expression selected node selectednode receiver node receivernode i type binding itypebinding cast type binding casttypebinding parent node type parentnodetype selected node selectednode get parent getparent get node type getnodetype parent node type parentnodetype ast node astnode assignment assignment assign assignment selected node selectednode get parent getparent expression left hand side lefthandside assign get left hand side getlefthandside selected node selectednode equals left hand side lefthandside node to cast nodetocast assign get right hand side getrighthandside cast type binding casttypebinding assign get left hand side getlefthandside resolve type binding resolvetypebinding left hand side lefthandside receiver node receivernode left hand side lefthandside left hand side lefthandside field access fieldaccess receiver node receivernode field access fieldaccess left hand side lefthandside get name getname parent node type parentnodetype ast node astnode variable declaration fragment variable declaration fragment variabledeclarationfragment frag variable declaration fragment variabledeclarationfragment selected node selectednode get parent getparent selected node selectednode equals frag get name getname selected node selectednode equals frag get initializer getinitializer node to cast nodetocast frag get initializer getinitializer cast type binding casttypebinding ast nodes astnodes get type gettype frag resolve binding resolvebinding receiver node receivernode frag get name getname parent node type parentnodetype ast node astnode member pair receiver node receivernode member value pair membervaluepair selected node selectednode get parent getparent get name getname cast type binding casttypebinding ast res olving astresolving guess binding for reference guessbindingforreference node to cast nodetocast parent node type parentnodetype ast node astnode single member annotation type receiver node receivernode single member annotation singlememberannotation selected node selectednode get parent getparent get type name gettypename cast type binding casttypebinding ast res olving astresolving guess binding for reference guessbindingforreference node to cast nodetocast find binding cast type name casttypename cast type binding casttypebinding ast res olving astresolving guess binding for reference guessbindingforreference node to cast nodetocast cast type binding casttypebinding i type binding itypebinding curr binding currbinding node to cast nodetocast resolve type binding resolvetypebinding curr binding currbinding node to cast nodetocast method invocation methodinvocation i method binding imethodbinding method binding methodbinding method invocation methodinvocation node to cast nodetocast resolve method binding resolvemethodbinding method binding methodbinding curr binding currbinding method binding methodbinding get return type getreturntype node to cast nodetocast array initializer arrayinitializer i type binding itypebinding cast fix type castfixtype curr binding currbinding cast type binding casttypebinding is cast compatible iscastcompatible curr binding currbinding node to cast nodetocast cast expression castexpression cast fix type castfixtype cast type binding casttypebinding java model util javamodelutil or higher orhigher get java project getjavaproject i type binding itypebinding box unboxed type binding boxunboxedtypebinding box unbox primitives boxunboxprimitives cast type binding casttypebinding curr binding currbinding ast box unboxed type binding boxunboxedtypebinding cast type binding casttypebinding box unboxed type binding boxunboxedtypebinding is cast compatible iscastcompatible curr binding currbinding cast fix type castfixtype box unboxed type binding boxunboxedtypebinding cast fix type castfixtype proposals add create cast proposal createcastproposal context cast fix type castfixtype node to cast nodetocast i proposal relevance iproposalrelevance create nls null or void nullorvoid curr binding currbinding equals curr binding currbinding get name getname change method statement actual type null or void nullorvoid parent node type parentnodetype ast node astnode statement body declaration bodydeclaration decl ast res olving astresolving find parent body declaration findparentbodydeclaration selected node selectednode decl method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration decl curr binding currbinding bindings normalize type binding normalizetypebinding curr binding currbinding curr binding currbinding curr binding currbinding ast resolve well known type resolvewellknowntype java lang object curr binding currbinding is wildcard type iswildcardtype curr binding currbinding ast res olving astresolving normalize wildcard type normalizewildcardtype curr binding currbinding ast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast string label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor change return type changereturntype description basic element labels basicelementlabels get java element name getjavaelementname curr binding currbinding get name getname image image java plugin images javapluginimages java plugin images javapluginimages img correction change linked correction proposal linkedcorrectionproposal proposal linked correction proposal linkedcorrectionproposal label rewrite i proposal relevance iproposalrelevance change method type image import rewrite importrewrite imports proposal create import rewrite createimportrewrite ast root astroot import rewrite context importrewritecontext import rewrite context importrewritecontext context sensitive import rewrite context contextsensitiveimportrewritecontext decl imports type new return type newreturntype imports add import addimport curr binding currbinding ast import rewrite context importrewritecontext rewrite replace method declaration methoddeclaration get return type getreturntype new return type newreturntype string nls return key returnkey nls proposal add linked position addlinkedposition rewrite track new return type newreturntype return key returnkey i type binding itypebinding type suggestions typesuggestions ast res olving astresolving get relaxing types getrelaxingtypes ast curr binding currbinding type suggestions typesuggestions length proposal add linked position proposal addlinkedpositionproposal return key returnkey type suggestions typesuggestions proposals add proposal null or void nullorvoid receiver node receivernode curr binding currbinding bindings normalize type binding normalizetypebinding curr binding currbinding curr binding currbinding curr binding currbinding nls ast resolve well known type resolvewellknowntype nls java lang object curr binding currbinding is wildcard type iswildcardtype curr binding currbinding ast res olving astresolving normalize wildcard type normalizewildcardtype curr binding currbinding ast add change sender type proposals addchangesendertypeproposals context receiver node receivernode curr binding currbinding i proposal relevance iproposalrelevance change type receiver node proposals add change sender type proposals addchangesendertypeproposals context node to cast nodetocast cast type binding casttypebinding i proposal relevance iproposalrelevance change type node proposals nls cast type binding casttypebinding ast resolve well known type resolvewellknowntype curr binding currbinding curr binding currbinding is primitive isprimitive bindings is void type isvoidtype curr binding currbinding string label correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor insert null check insertnullcheck description image image java plugin images javapluginimages java plugin images javapluginimages img correction change ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast infix expression infixexpression expression ast new infix expression newinfixexpression expression set left operand setleftoperand expression rewrite create move target createmovetarget node to cast nodetocast expression set right operand setrightoperand ast new null literal newnullliteral expression set operator setoperator infix expression infixexpression equals rewrite replace node to cast nodetocast expression proposals add ast rewrite correction proposal astrewritecorrectionproposal label context get compilation unit getcompilationunit rewrite i proposal relevance iproposalrelevance insert check image i type binding itypebinding box unbox primitives boxunboxprimitives i type binding itypebinding cast type casttype i type binding itypebinding to cast tocast ast ast to cast tocast cast type casttype cast type casttype is primitive isprimitive to cast tocast is primitive isprimitive bindings get boxed type binding getboxedtypebinding cast type casttype ast cast type casttype is primitive isprimitive to cast tocast is primitive isprimitive bindings get unboxed type binding getunboxedtypebinding cast type casttype ast cast type casttype add change sender type proposals addchangesendertypeproposals i invocation context iinvocationcontext context expression node to cast nodetocast i type binding itypebinding cast type binding casttypebinding is assigned node isassignednode relevance collection i command access icommandaccess proposals java model exception javamodelexception i binding ibinding caller binding callerbinding bindings resolve expression binding resolveexpressionbinding node to cast nodetocast i compilation unit icompilationunit context get compilation unit getcompilationunit compilation unit compilationunit ast root astroot context getastroot i compilation unit icompilationunit target cu targetcu i type binding itypebinding declaring type declaringtype i binding ibinding caller binding decl callerbindingdecl caller binding callerbinding caller binding callerbinding i variable binding ivariablebinding i variable binding ivariablebinding variable binding variablebinding i variable binding ivariablebinding caller binding callerbinding variable binding variablebinding is enum constant isenumconstant variable binding variablebinding is field isfield target cu targetcu caller binding decl callerbindingdecl variable binding variablebinding get variable declaration getvariabledeclaration i type binding itypebinding declaring class declaringclass variable binding variablebinding get declaring class getdeclaringclass declaring class declaringclass array length declaring type declaringtype declaring class declaringclass get type declaration gettypedeclaration caller binding callerbinding i method binding imethodbinding i method binding imethodbinding method binding methodbinding i method binding imethodbinding caller binding callerbinding method binding methodbinding is constructor isconstructor declaring type declaringtype method binding methodbinding get declaring class getdeclaringclass get type declaration gettypedeclaration caller binding decl callerbindingdecl method binding methodbinding get method declaration getmethoddeclaration caller binding callerbinding i type binding itypebinding node to cast nodetocast get location in parent getlocationinparent single member annotation singlememberannotation type property declaring type declaringtype i type binding itypebinding caller binding callerbinding nls caller binding decl callerbindingdecl bindings find method in type findmethodintype declaring type declaringtype string caller binding decl callerbindingdecl declaring type declaringtype declaring type declaringtype is from source isfromsource target cu targetcu ast res olving astresolving find compilation unit for binding findcompilationunitforbinding ast root astroot declaring type declaringtype target cu targetcu ast res olving astresolving is use able type in context isuseabletypeincontext cast type binding casttypebinding caller binding decl callerbindingdecl proposals add type change correction proposal typechangecorrectionproposal target cu targetcu caller binding decl callerbindingdecl ast root astroot cast type binding casttypebinding is assigned node isassignednode relevance add type is assigned node isassignednode i type binding itypebinding node type nodetype node to cast nodetocast resolve type binding resolvetypebinding cast type binding casttypebinding is interface isinterface node type nodetype node type nodetype is class isclass node type nodetype is anonymous isanonymous node type nodetype is from source isfromsource i type binding itypebinding type decl typedecl node type nodetype get type declaration gettypedeclaration i compilation unit icompilationunit node cu nodecu ast res olving astresolving find compilation unit for binding findcompilationunitforbinding ast root astroot type decl typedecl node cu nodecu ast res olving astresolving is use able type in context isuseabletypeincontext cast type binding casttypebinding type decl typedecl proposals add implement interface proposal implementinterfaceproposal node cu nodecu type decl typedecl ast root astroot cast type binding casttypebinding relevance ast rewrite correction proposal astrewritecorrectionproposal create cast proposal createcastproposal i invocation context iinvocationcontext context i type binding itypebinding cast type binding casttypebinding expression node to cast nodetocast relevance i compilation unit icompilationunit context get compilation unit getcompilationunit string label string cast type casttype binding label provider bindinglabelprovider get binding label getbindinglabel cast type binding casttypebinding java element labels javaelementlabels node to cast nodetocast get node type getnodetype ast node astnode expression label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor change cast changecast description cast type casttype label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor add cast addcast description cast type casttype cast correction proposal castcorrectionproposal label node to cast nodetocast cast type binding casttypebinding relevance add incompatible return type proposals addincompatiblereturntypeproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals java model exception javamodelexception compilation unit compilationunit ast root astroot context getastroot ast node astnode selected node selectednode problem get covering node getcoveringnode ast root astroot selected node selectednode method declaration methoddeclaration decl ast res olving astresolving find parent method declaration findparentmethoddeclaration selected node selectednode decl i method binding imethodbinding method decl binding methoddeclbinding decl resolve binding resolvebinding method decl binding methoddeclbinding i type binding itypebinding return type returntype method decl binding methoddeclbinding get return type getreturntype i method binding imethodbinding overridden bindings find overridden method findoverriddenmethod method decl binding methoddeclbinding overridden overridden get return type getreturntype return type returntype i compilation unit icompilationunit context get compilation unit getcompilationunit i method binding imethodbinding method decl methoddecl method decl binding methoddeclbinding get method declaration getmethoddeclaration i type binding itypebinding overridden return type overriddenreturntype overridden get return type getreturntype java model util javamodelutil or higher orhigher context get compilation unit getcompilationunit get java project getjavaproject overridden return type overriddenreturntype overridden return type overriddenreturntype get erasure geterasure proposals add type change correction proposal typechangecorrectionproposal method decl methoddecl ast root astroot overridden return type overriddenreturntype i proposal relevance iproposalrelevance change type i compilation unit icompilationunit target cu targetcu i method binding imethodbinding overridden decl overriddendecl overridden get method declaration getmethoddeclaration i type binding itypebinding override n decl type overridendecltype overridden decl overriddendecl get declaring class getdeclaringclass override n decl type overridendecltype is from source isfromsource target cu targetcu ast res olving astresolving find compilation unit for binding findcompilationunitforbinding ast root astroot override n decl type overridendecltype target cu targetcu ast res olving astresolving is use able type in context isuseabletypeincontext return type returntype overridden decl overriddendecl type change correction proposal typechangecorrectionproposal proposal type change correction proposal typechangecorrectionproposal target cu targetcu overridden decl overriddendecl ast root astroot return type returntype i proposal relevance iproposalrelevance change type overridden override n decl type overridendecltype is interface isinterface proposal set display name setdisplayname messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor change return ofimplemented changereturnofimplemented description basic element labels basicelementlabels get java element name getjavaelementname overridden decl overriddendecl get name getname proposal set display name setdisplayname messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor change return ofoverridden changereturnofoverridden description basic element labels basicelementlabels get java element name getjavaelementname overridden decl overriddendecl get name getname proposals add proposal add incompatible throws proposals addincompatiblethrowsproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals java model exception javamodelexception compilation unit compilationunit ast root astroot context getastroot ast node astnode selected node selectednode problem get covering node getcoveringnode ast root astroot selected node selectednode method declaration methoddeclaration method declaration methoddeclaration decl method declaration methoddeclaration selected node selectednode i method binding imethodbinding method decl binding methoddeclbinding decl resolve binding resolvebinding method decl binding methoddeclbinding i method binding imethodbinding overridden bindings find overridden method findoverriddenmethod method decl binding methoddeclbinding overridden i compilation unit icompilationunit context get compilation unit getcompilationunit i type binding itypebinding method exceptions methodexceptions method decl binding methoddeclbinding get exception types getexceptiontypes i type binding itypebinding defined exceptions definedexceptions overridden get exception types getexceptiontypes array list arraylist i type binding itypebinding undeclared exceptions undeclaredexceptions array list arraylist change description changedescription change description changedescription method exceptions methodexceptions length method exceptions methodexceptions length is declared exception isdeclaredexception method exceptions methodexceptions defined exceptions definedexceptions remove description removedescription undeclared exceptions undeclaredexceptions add method exceptions methodexceptions undeclared exceptions undeclaredexceptions size string label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor remove exceptions removeexceptions description basic element labels basicelementlabels get java element name getjavaelementname method decl binding methoddeclbinding get name getname image image java plugin images javapluginimages java plugin images javapluginimages img correction remove proposals add change method signature proposal changemethodsignatureproposal label ast root astroot method decl binding methoddeclbinding i proposal relevance iproposalrelevance remove exceptions image i type binding itypebinding declaring type declaringtype overridden get declaring class getdeclaringclass i compilation unit icompilationunit target cu targetcu declaring type declaringtype is from source isfromsource target cu targetcu ast res olving astresolving find compilation unit for binding findcompilationunitforbinding ast root astroot declaring type declaringtype target cu targetcu change description changedescription change description changedescription defined exceptions definedexceptions length undeclared exceptions undeclaredexceptions size undeclared exceptions undeclaredexceptions size defined exceptions definedexceptions length nls insert description insertdescription nls undeclared exceptions undeclaredexceptions nls i method binding imethodbinding overridden decl overriddendecl overridden get method declaration getmethoddeclaration string args basic element labels basicelementlabels get java element name getjavaelementname declaring type declaringtype get name getname basic element labels basicelementlabels get java element name getjavaelementname overridden get name getname string label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor add exceptions addexceptions description args image image java plugin images javapluginimages java plugin images javapluginimages img correction add proposals add change method signature proposal changemethodsignatureproposal label target cu targetcu ast root astroot overridden decl overriddendecl i proposal relevance iproposalrelevance add exceptions image is declared exception isdeclaredexception i type binding itypebinding curr i type binding itypebinding declared declared length bindings is super type issupertype declared curr add type mismatch in for each proposals addtypemismatchinforeachproposals i invocation context iinvocationcontext context i problem location iproblemlocation problem collection i command access icommandaccess proposals compilation unit compilationunit ast root astroot context getastroot ast node astnode selected node selectednode problem get covering node getcoveringnode ast root astroot selected node selectednode selected node selectednode get location in parent getlocationinparent enhanced for statement enhancedforstatement expression property enhanced for statement enhancedforstatement for statement forstatement enhanced for statement enhancedforstatement selected node selectednode get parent getparent i type binding itypebinding expression binding expressionbinding for statement forstatement get expression getexpression resolve type binding resolvetypebinding expression binding expressionbinding i type binding itypebinding expected binding expectedbinding expression binding expressionbinding is array isarray expected binding expectedbinding expression binding expressionbinding get component type getcomponenttype nls i method binding imethodbinding iterator method iteratormethod bindings find method in hierarchy findmethodinhierarchy expression binding expressionbinding iterator string iterator method iteratormethod i type binding itypebinding type arguments typearguments iterator method iteratormethod get return type getreturntype get type arguments gettypearguments type arguments typearguments length expected binding expectedbinding type arguments typearguments ast ast ast root astroot getast expected binding expectedbinding bindings normalize for declaration use normalizefordeclarationuse expected binding expectedbinding ast single variable declaration singlevariabledeclaration parameter for statement forstatement get parameter getparameter i compilation unit icompilationunit context get compilation unit getcompilationunit parameter get name getname get length getlength simple name simplename simple name simplename parameter get type gettype simple type simpletype simple type simpletype type simple type simpletype parameter get type gettype type get name getname simple name simplename simple name simplename simple name simplename type get name getname parameter get type gettype name qualified type namequalifiedtype simple name simplename name qualified type namequalifiedtype parameter get type gettype get name getname simple name simplename string simple name simplename get identifier getidentifier relevance stub utility stubutility has local variable name haslocalvariablename get java project getjavaproject string label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor create loop variable description basic element labels basicelementlabels get java element name getjavaelementname image image java plugin images javapluginimages java plugin images javapluginimages img correction local proposals add new variable correction proposal newvariablecorrectionproposal label new variable correction proposal newvariablecorrectionproposal local simple name simplename relevance image string label messages format correction messages correctionmessages type mismatch sub processor typemismatchsubprocessor incompatible type description string basic element labels basicelementlabels get java element name getjavaelementname parameter get name getname get identifier getidentifier binding label provider bindinglabelprovider get binding label getbindinglabel expected binding expectedbinding binding label provider bindinglabelprovider text flags textflags image image java plugin images javapluginimages java plugin images javapluginimages img correction change ast rewrite astrewrite rewrite ast rewrite astrewrite create ast ast rewrite correction proposal astrewritecorrectionproposal proposal ast rewrite correction proposal astrewritecorrectionproposal label rewrite i proposal relevance iproposalrelevance incompatible for each foreach type image import rewrite importrewrite import rewrite importrewrite proposal create import rewrite createimportrewrite ast root astroot import rewrite context importrewritecontext import rewrite context importrewritecontext context sensitive import rewrite context contextsensitiveimportrewritecontext ast res olving astresolving find parent body declaration findparentbodydeclaration selected node selectednode import rewrite importrewrite type new type newtype import rewrite importrewrite add import addimport expected binding expectedbinding ast import rewrite context importrewritecontext rewrite replace parameter get type gettype new type newtype proposals add proposal
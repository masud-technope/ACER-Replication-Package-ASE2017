copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java byte array input stream bytearrayinputstream java io exception ioexception java input stream reader inputstreamreader java util array list arraylist java util list org eclipse core runtime core exception coreexception org eclipse core runtime i adaptable iadaptable org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime platform org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants rename arguments renamearguments org eclipse ltk core refactoring participants rename refactoring renamerefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i local variable ilocalvariable org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core refactoring i java element mapper ijavaelementmapper org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring rename rename type processor renametypeprocessor org eclipse jdt internal corext refactoring rename renaming name suggestor renamingnamesuggestor org eclipse jdt internal corext refactoring tag ging tagging i name updating inameupdating org eclipse jdt tests refactoring infra debug utils debugutils junit framework test junit framework test suite testsuite rename type tests renametypetests refactoring test refactoringtest bug rename type tests renametypetests clazz rename type tests renametypetests string refactoring path rename type renametype rename type tests renametypetests string test suite refactoring test setup refactoringtestsetup test suite testsuite clazz test set up test setuptest test some test sometest refactoring test setup refactoringtestsetup some test sometest override string get refactoring path getrefactoringpath refactoring path i type itype get class from test file getclassfromtestfile i package fragment ipackagefragment pack string class name classname exception get type gettype create ufrom test file createcufromtestfile pack class name classname class name classname rename java element descriptor renamejavaelementdescriptor create refactoring descriptor createrefactoringdescriptor i type itype type string new name newname rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename type descriptor set java element setjavaelement type descriptor set new name setnewname new name newname descriptor set update references setupdatereferences descriptor helper string class name classname string new name newname exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep class name classname refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa new name newname assert not null assertnotnull precondition supposed fail result f is verbose fisverbose debug utils debugutils dump result result helper exception helper string helper with text ual helperwithtextual string old c u name oldcuname string old name oldname string new name newname string newcuname update references updatereferences update text ual matches updatetextualmatches exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep old c u name oldcuname i type itype class a classa get type gettype old name oldname i java element ijavaelement classamembers class a classa get children getchildren i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent string rename handles renamehandles class a classa get declaring type getdeclaringtype get element name getelementname starts with startswith class a classa get element name getelementname rename handles renamehandles participant testing participanttesting create handles createhandles class a classa get resource getresource rename handles renamehandles participant testing participanttesting create handles createhandles class a classa rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor class a classa new name newname descriptor set update references setupdatereferences update references updatereferences descriptor set update text ual occurrences setupdatetextualoccurrences update text ual matches updatetextualmatches refactoring refactoring create refactoring createrefactoring descriptor assert equals assertequals supposed pass perform refactoring performrefactoring refactoring i compilation unit icompilationunit new cu newcu pack get compilation unit getcompilationunit newcuname java assert true asserttrue new cu newcu get element name getelementname exist new cu newcu exists assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename newcuname new cu newcu get source getsource i name updating inameupdating name updating nameupdating refactoring get adapter getadapter i name updating inameupdating i type itype new element newelement i type itype name updating nameupdating get new element getnewelement assert true asserttrue element exist new element newelement to string tostring new element newelement exists check map pers checkmappers refactoring class a classa newcuname java classamembers rename handles renamehandles string helper string old name oldname string new name newname string newcuname update references updatereferences exception helper with text ual helperwithtextual old name oldname old name oldname new name newname newcuname update references updatereferences helper string old name oldname string new name newname update references updatereferences exception helper old name oldname new name newname new name newname update references updatereferences string helper string old name oldname string new name newname exception helper old name oldname new name newname new name newname named elements override set up setup exception set up setup set some field options setsomefieldoptions get package p getpackagep get java project getjavaproject suf set some field options setsomefieldoptions get package p getpackagep get java project getjavaproject suffix set some local options setsomelocaloptions get package p getpackagep get java project getjavaproject set some argument options setsomeargumentoptions get package p getpackagep get java project getjavaproject f is pre delta test fispredeltatest helper string old name oldname string new name newname update ref updateref update text ual updatetextual update similar updatesimilar java model exception javamodelexception core exception coreexception io exception ioexception exception helper old name oldname new name newname update ref updateref update text ual updatetextual update similar updatesimilar helper string old name oldname string new name newname update ref updateref update text ual updatetextual update similar updatesimilar string non java files nonjavafiles java model exception javamodelexception core exception coreexception io exception ioexception exception refactoring descriptor refactoringdescriptor descriptor init with all options initwithalloptions old name oldname old name oldname new name newname update ref updateref update text ual updatetextual update similar updatesimilar non java files nonjavafiles renaming name suggestor renamingnamesuggestor strategy embedded refactoring create refactoring createrefactoring descriptor refactoring status refactoringstatus status perform refactoring performrefactoring assert null assertnull supposed pass status check result in class checkresultinclass new name newname check mapped similar elements exist checkmappedsimilarelementsexist helper string old name oldname string old inner name oldinnername string new name newname string inner new name innernewname update ref updateref update text ual updatetextual update similar updatesimilar string non java files nonjavafiles java model exception javamodelexception core exception coreexception io exception ioexception exception refactoring descriptor refactoringdescriptor descriptor init with all options initwithalloptions old name oldname old inner name oldinnername inner new name innernewname update ref updateref update text ual updatetextual update similar updatesimilar non java files nonjavafiles renaming name suggestor renamingnamesuggestor strategy embedded refactoring create refactoring createrefactoring descriptor assert null assertnull supposed pass perform refactoring performrefactoring check result in class checkresultinclass new name newname check mapped similar elements exist checkmappedsimilarelementsexist check mapped similar elements exist checkmappedsimilarelementsexist refactoring rename type processor renametypeprocessor rtp rename type processor renametypeprocessor rename refactoring renamerefactoring get processor getprocessor i java element mapper ijavaelementmapper mapper rtp get adapter getadapter i java element mapper ijavaelementmapper i java element ijavaelement similar elements similarelements rtp get similar elements getsimilarelements similar elements similarelements similar elements similarelements length i java element ijavaelement element similar elements similarelements element i local variable ilocalvariable i java element ijavaelement new element newelement mapper get ref actored java element getrefactoredjavaelement element assert true asserttrue new element newelement exists assert false assertfalse element exists helper fail string old name oldname string new name newname update similar updatesimilar update text ual updatetextual update ref updateref match strategy matchstrategy java model exception javamodelexception core exception coreexception io exception ioexception exception refactoring descriptor refactoringdescriptor descriptor init with all options initwithalloptions old name oldname old name oldname new name newname update ref updateref update text ual updatetextual update similar updatesimilar match strategy matchstrategy assert not null assertnotnull supposed fail perform refactoring performrefactoring descriptor helper fail string old name oldname string new name newname update similar updatesimilar update text ual updatetextual update ref updateref java model exception javamodelexception core exception coreexception io exception ioexception exception refactoring descriptor refactoringdescriptor descriptor init with all options initwithalloptions old name oldname old name oldname new name newname update ref updateref update text ual updatetextual update similar updatesimilar renaming name suggestor renamingnamesuggestor strategy suffix assert not null assertnotnull supposed fail perform refactoring performrefactoring descriptor refactoring descriptor refactoringdescriptor init with all options initwithalloptions string old name oldname string inner old name inneroldname string inner new name innernewname update references updatereferences update text ual matches updatetextualmatches update similar updatesimilar string non java files nonjavafiles match strategy matchstrategy exception java model exception javamodelexception core exception coreexception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep old name oldname i type itype class a classa get type gettype inner old name inneroldname rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor class a classa inner new name innernewname set the options settheoptions descriptor update references updatereferences update text ual matches updatetextualmatches update similar updatesimilar non java files nonjavafiles match strategy matchstrategy descriptor set the options settheoptions rename java element descriptor renamejavaelementdescriptor descriptor update references updatereferences update text ual matches updatetextualmatches update similar updatesimilar string non java files nonjavafiles match strategy matchstrategy descriptor set update references setupdatereferences update references updatereferences descriptor set update text ual occurrences setupdatetextualoccurrences update text ual matches updatetextualmatches non java files nonjavafiles descriptor set update qualified names setupdatequalifiednames descriptor set file name patterns setfilenamepatterns non java files nonjavafiles descriptor set update similar declarations setupdatesimilardeclarations update similar updatesimilar descriptor set match strategy setmatchstrategy match strategy matchstrategy check result in class checkresultinclass string type name typename java model exception javamodelexception io exception ioexception i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit type name typename java assert true asserttrue new cu newcu get element name getelementname exist new cu newcu exists assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename type name typename new cu newcu get source getsource set some field options setsomefieldoptions i java project ijavaproject project string prefixes string suffixes for static forstatic for static forstatic project set option setoption java core javacore codeassist field prefixes prefixes project set option setoption java core javacore codeassist field suffixes suffixes project set option setoption java core javacore codeassist field prefixes prefixes project set option setoption java core javacore codeassist field suffixes suffixes set some local options setsomelocaloptions i java project ijavaproject project string prefixes string suffixes project set option setoption java core javacore codeassist local prefixes prefixes project set option setoption java core javacore codeassist local suffixes suffixes set some argument options setsomeargumentoptions i java project ijavaproject project string prefixes string suffixes project set option setoption java core javacore codeassist argument prefixes prefixes project set option setoption java core javacore codeassist argument suffixes suffixes named elements test illegal inner class testillegalinnerclass exception helper test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception helper fred test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception helper test illegal type name testillegaltypename exception platform getos equals platform win helper aux test no op testnoop exception helper test wrong arg testwrongarg exception illegal argument exception illegalargumentexception result helper illegal argument exception illegalargumentexception exception result exception assert not null assertnotnull empty supposed trigger iae result test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception helper test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep bogus refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception i type itype class a classa get class from test file getclassfromtestfile get package p getpackagep get class from test file getclassfromtestfile get package p getpackagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception print test disabled message printtestdisabledmessage obscuring helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper cloneable test fail testfail exception helper list test fail testfail exception helper test fail testfail exception print test disabled message printtestdisabledmessage method parameter helper test fail testfail exception print test disabled message printtestdisabledmessage method parameter helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception print test disabled message printtestdisabledmessage fixing nested local type named helper test fail testfail exception print test disabled message printtestdisabledmessage fixing nested local type named helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception https bugs eclipse org i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert not null assertnotnull precondition supposed fail result test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail regression testfailregression gcrkmq exception i package fragment ipackagefragment my package mypackage get root getroot create package fragment createpackagefragment null progress monitor nullprogressmonitor i type itype my class myclass get class from test file getclassfromtestfile my package mypackage b linky blinky refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor my class myclass assert not null assertnotnull precondition supposed fail result test exception participant testing participanttesting reset string new name newname string rename handles renamehandles helper new name newname participant testing participanttesting test rename testrename rename handles renamehandles rename arguments renamearguments rename arguments renamearguments new name newname rename arguments renamearguments new name newname java rename arguments renamearguments new name newname java test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception print test disabled message printtestdisabledmessage fail b failb bug i package fragment ipackagefragment package a packagea get root getroot create package fragment createpackagefragment i compilation unit icompilationunit create ufrom test file createcufromtestfile package a packagea i type itype class a classa get type gettype assert equals assertequals supposed pass perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa i compilation unit icompilationunit new cu newcu package a packagea get compilation unit getcompilationunit java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu newcu get source getsource test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment create ufrom test file createcufromtestfile package p packagep i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype class a classa get type gettype assert equals assertequals supposed pass perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit java i compilation unit icompilationunit new cu c newcuc package p packagep get compilation unit getcompilationunit java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu newcu get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu c newcuc get source getsource test exception helper test exception create ufrom test file createcufromtestfile get package p getpackagep i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype class a classa get type gettype assert equals assertequals supposed pass perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit java i compilation unit icompilationunit new cu a newcuaa get package p getpackagep get compilation unit getcompilationunit java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu newcu get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu a newcuaa get source getsource test exception create ufrom test file createcufromtestfile get package p getpackagep i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype class a classa get type gettype assert equals assertequals supposed pass perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit java i compilation unit icompilationunit new cu a newcuaa get package p getpackagep get compilation unit getcompilationunit java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu newcu get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu a newcuaa get source getsource test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception print test disabled message printtestdisabledmessage search engine bug helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment create ufrom test file createcufromtestfile package p packagep i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype class a classa get type gettype assert equals assertequals supposed pass perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit java i compilation unit icompilationunit new cu c newcuc package p packagep get compilation unit getcompilationunit java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu newcu get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu c newcuc get source getsource test exception helper test exception helper test exception helper test exception print test disabled message printtestdisabledmessage https bugs eclipse org bugs bug cgi bug helper test exception i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment create ufrom test file createcufromtestfile package p packagep i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i type itype class a classa get type gettype assert equals assertequals supposed pass perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit java i compilation unit icompilationunit new cu c newcuc package p packagep get compilation unit getcompilationunit java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu newcu get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new cu c newcuc get source getsource test exception print test disabled message printtestdisabledmessage gjy itpjui win rename type error reference helper test exception helper test exception print test disabled message printtestdisabledmessage waiting gkaqjs itpjcore win search incorrect nested types helper with text ual helperwithtextual xyz test exception print test disabled message printtestdisabledmessage waiting gkaqjs itpjcore win search incorrect nested types helper with text ual helperwithtextual xyz test exception helper with text ual helperwithtextual test exception print test disabled message printtestdisabledmessage bug helper test exception print test disabled message printtestdisabledmessage bug helper test exception print test disabled message printtestdisabledmessage test bug helper with text ual helperwithtextual test exception participant testing participanttesting reset string rename handles renamehandles helper with text ual helperwithtextual inner b innerb participant testing participanttesting test rename testrename rename handles renamehandles rename arguments renamearguments rename arguments renamearguments inner b innerb test exception print test disabled message printtestdisabledmessage test bug helper with text ual helperwithtextual test exception print test disabled message printtestdisabledmessage test bug i package fragment ipackagefragment another p anotherp get root getroot create package fragment createpackagefragment string folder another p anotherp string type i compilation unit icompilationunit create ufrom test file createcufromtestfile another p anotherp type folder helper with text ual helperwithtextual type type assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename type folder get source getsource test exception print test disabled message printtestdisabledmessage test bug i package fragment ipackagefragment get root getroot create package fragment createpackagefragment string folder string type i compilation unit icompilationunit create ufrom test file createcufromtestfile type folder helper with text ual helperwithtextual type type assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename type folder get source getsource test exception https bugs eclipse org i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i package fragment ipackagefragment package p packagep get root getroot create package fragment createpackagefragment i type itype class a classa get class from test file getclassfromtestfile package p packagep i type itype class b classb get class from test file getclassfromtestfile package p packagep i type itype class c classc get class from test file getclassfromtestfile package p packagep refactoring status refactoringstatus result perform refactoring performrefactoring create refactoring descriptor createrefactoringdescriptor class a classa assert equals assertequals supposed pass result assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new c newc package p packagep get compilation unit getcompilationunit java get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename class b classb get compilation unit getcompilationunit get source getsource assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename class c classc get compilation unit getcompilationunit get source getsource test exception https bugs eclipse org bugs bug cgi helper with text ual helperwithtextual test exception helper test exception helper test exception helper test exception helper test exception helper test unicode testunicode exception helper todo test undo test qualified name testqualifiedname exception helper qualified name helperqualifiedname build xml xml test qualified name testqualifiedname exception helper qualified name helperqualifiedname transient equipment transientequipment mapping hbm xml xml helper qualified name helperqualifiedname string old name oldname string new name newname string text file name textfilename string file patterns filepatterns exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep old name oldname i type itype class a classa get type gettype old name oldname string content get file contents getfilecontents get test path gettestpath get name getname test input infix text file name textfilename i project iproject project class a classa get java project getjavaproject get project getproject i file ifile file project get file getfile text file name textfilename file create byte array input stream bytearrayinputstream content get bytes getbytes rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor class a classa new name newname descriptor set update qualified names setupdatequalifiednames descriptor set file name patterns setfilenamepatterns file patterns filepatterns assert equals assertequals supposed pass perform refactoring performrefactoring descriptor i compilation unit icompilationunit new cu newcu get package p getpackagep get compilation unit getcompilationunit new name newname java assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename new name newname new cu newcu get source getsource input stream reader inputstreamreader reader input stream reader inputstreamreader file get contents getcontents string buffer stringbuffer new content newcontent string buffer stringbuffer reader read new content newcontent append reader close string defined content definedcontent get file contents getfilecontents get test path gettestpath get name getname test output infix text file name textfilename assert equal lines assertequallines invalid updating defined content definedcontent new content newcontent to string tostring test generics testgenerics exception helper test generics testgenerics exception helper test generics testgenerics exception helper test generics testgenerics exception helper test enum testenum exception i package fragment ipackagefragment get root getroot create package fragment createpackagefragment string folder string type i compilation unit icompilationunit create ufrom test file createcufromtestfile type folder helper assert equal lines assertequallines invalid renaming get file contents getfilecontents get output test file name getoutputtestfilename type folder get source getsource test enum testenum exception helper test enum testenum exception i compilation unit icompilationunit enum bered enumbered create ufrom test file createcufromtestfile get package p getpackagep enum bered enumbered helper assert equal lines assertequallines invalid renaming enum bered enumbered get file contents getfilecontents get output test file name getoutputtestfilename enum bered enumbered enum bered enumbered get source getsource test enum testenum exception helper with text ual helperwithtextual test enum testenum exception helper test annotation testannotation exception helper test annotation testannotation exception helper test annotation testannotation exception helper with text ual helperwithtextual named elements test similar elements testsimilarelements exception basic test field methods helper some class someclass some class someclass test similar elements testsimilarelements exception existing field shadow error field refac helper fail some class someclass some class someclass test similar elements testsimilarelements exception existing method helper fail some class someclass some different class somedifferentclass test similar elements testsimilarelements exception methods helper some class someclass some class someclass test similar elements testsimilarelements exception additional field get ters getters set ters setters get class from test file getclassfromtestfile get package p getpackagep some other class someotherclass helper some class someclass some class someclass check result in class checkresultinclass some other class someotherclass test similar elements testsimilarelements exception qualified updating includes text ual textual updating string content get file contents getfilecontents get test path gettestpath test similar elements testsimilarelements test html i project iproject project get package p getpackagep get java project getjavaproject get project getproject i file ifile file project get file getfile test html file create byte array input stream bytearrayinputstream content get bytes getbytes helper some class someclass some different class somedifferentclass test html input stream reader inputstreamreader reader input stream reader inputstreamreader file get contents getcontents string buffer stringbuffer new content newcontent string buffer stringbuffer reader read new content newcontent append reader close string defined content definedcontent get file contents getfilecontents get test path gettestpath test similar elements testsimilarelements test html assert equal lines assertequallines invalid updating test html new content newcontent to string tostring defined content definedcontent test similar elements testsimilarelements exception additional field get ters getters set ters setters includes text ual textual updating print test disabled message printtestdisabledmessage potential matches comments issue bug get class from test file getclassfromtestfile get package p getpackagep some nearly identical class somenearlyidenticalclass helper some class someclass some other class someotherclass check result in class checkresultinclass some nearly identical class somenearlyidenticalclass test similar elements testsimilarelements exception test fields file suffixes prefixes inc l incl set ters setters get ters getters includes text ual textual updating helper some class someclass some diff class somediffclass test similar elements testsimilarelements exception renaming fun time text ual textual helper i some if isomeif i some if isomeif test similar elements testsimilarelements exception types includes text ual textual updating get class from test file getclassfromtestfile get package p getpackagep some other class someotherclass helper some class someclass some inner class someinnerclass some class someclass some new inner class somenewinnerclass check result in class checkresultinclass some other class someotherclass test similar elements testsimilarelements exception fields get class from test file getclassfromtestfile get package p getpackagep some other class someotherclass helper some class someclass some class someclass check result in class checkresultinclass some other class someotherclass test similar elements testsimilarelements exception a ssure assure participants not ified notified normal stuff type rename resource named elements participant testing participanttesting reset i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep some class someclass i type itype some class someclass get type gettype some class someclass i type itype get class from test file getclassfromtestfile get package p getpackagep some other class someotherclass list i adaptable iadaptable handle list handlelist array list arraylist list rename arguments renamearguments argument list argumentlist array list arraylist list string similar old handle list similaroldhandlelist array list arraylist list string similar new name list similarnewnamelist array list arraylist list string similar new handle list similarnewhandlelist array list arraylist string new name newname some new class somenewclass field get ters getters set ters setters i field ifield get field getfield f some class fsomeclass similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new handle list similarnewhandlelist add some other class someotherclass f some new class fsomenewclass similar new name list similarnewnamelist add f some new class fsomenewclass i method imethod get method getmethod get some class getsomeclass string similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new name list similarnewnamelist add get some new class getsomenewclass similar new handle list similarnewhandlelist add some other class someotherclass get some new class getsomenewclass i method imethod get method getmethod set some class setsomeclass string q some class qsomeclass similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new name list similarnewnamelist add set some new class setsomenewclass similar new handle list similarnewhandlelist add some other class someotherclass set some new class setsomenewclass q some new class qsomenewclass field get ter getter set ters setters i field ifield some class someclass get field getfield some class someclass similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new name list similarnewnamelist add some new class somenewclass similar new handle list similarnewhandlelist add some new class somenewclass some new class somenewclass i method imethod some class someclass get method getmethod get some class getsomeclass string similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new name list similarnewnamelist add get some new class getsomenewclass similar new handle list similarnewhandlelist add some new class somenewclass get some new class getsomenewclass i method imethod some class someclass get method getmethod set some class setsomeclass string q some class qsomeclass similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new name list similarnewnamelist add set some new class setsomenewclass similar new handle list similarnewhandlelist add some new class somenewclass set some new class setsomenewclass q some new class qsomenewclass field i field ifield some class someclass get field getfield fs some class fssomeclass similar old handle list similaroldhandlelist add get handle identifier gethandleidentifier similar new name list similarnewnamelist add fs some new class fssomenewclass similar new handle list similarnewhandlelist add some new class somenewclass fs some new class fssomenewclass type stuff handle list handlelist add some class someclass argument list argumentlist add rename arguments renamearguments new name newname handle list handlelist add argument list argumentlist add rename arguments renamearguments new name newname java handle list handlelist add get resource getresource argument list argumentlist add rename arguments renamearguments new name newname java string handles participant testing participanttesting create handles createhandles handle list handlelist to array toarray rename arguments renamearguments arguments argument list argumentlist to array toarray rename arguments renamearguments rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor some class someclass new name newname set the options settheoptions descriptor renaming name suggestor renamingnamesuggestor strategy embedded refactoring status refactoringstatus status perform refactoring performrefactoring descriptor assert null assertnull supposed pass status check result in class checkresultinclass new name newname check result in class checkresultinclass some other class someotherclass participant testing participanttesting test rename testrename handles arguments participant testing participanttesting test similar elements testsimilarelements similar old handle list similaroldhandlelist similar new name list similarnewnamelist similar new handle list similarnewhandlelist test similar elements testsimilarelements exception test updating references helper some field class somefieldclass some other field class someotherfieldclass test similar elements testsimilarelements exception test locals parameters prefixes tests renaming parameters local prefixes locals parameter prefixes helper some class someclass some other class someotherclass test similar elements testsimilarelements exception test loop variables helper some class someclass some other class someotherclass test similar elements testsimilarelements exception test block variables exceptions helper some class someclass some other class someotherclass test similar elements testsimilarelements exception test updating references helper some class someclass some other class someotherclass test similar elements testsimilarelements exception local exists pass helper fail some class someclass some other class someotherclass test similar elements testsimilarelements exception factory method helper some class someclass some other class someotherclass test similar elements testsimilarelements exception test detection target helper fail three hunk class threehunkclass two hunk twohunk renaming name suggestor renamingnamesuggestor strategy suffix test similar elements testsimilarelements exception overridden method check renamed get class from test file getclassfromtestfile get package p getpackagep other class otherclass helper overridden method class overriddenmethodclass third class thirdclass check result in class checkresultinclass other class otherclass test similar elements testsimilarelements exception constructors renamed get class from test file getclassfromtestfile get package p getpackagep some class second someclasssecond helper some class someclass some new class somenewclass check result in class checkresultinclass some class second someclasssecond test similar elements testsimilarelements exception test transplanter fields types initializers participant testing participanttesting reset i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep some class someclass i type itype some class someclass get type gettype some class someclass list i adaptable iadaptable handle list handlelist array list arraylist list rename arguments renamearguments argument list argumentlist array list arraylist list string similar old handle list similaroldhandlelist array list arraylist list string similar new name list similarnewnamelist array list arraylist list string similar new handle list similarnewhandlelist array list arraylist string new name newname some new class somenewclass field initializer i field ifield in initializer ininitializer some class someclass get initializer getinitializer get type gettype in initializer ininitializer get field getfield some class in initializer someclassininitializer similar old handle list similaroldhandlelist add in initializer ininitializer get handle identifier gethandleidentifier similar new name list similarnewnamelist add some new class in initializer somenewclassininitializer similar new handle list similarnewhandlelist add some new class somenewclass in initializer ininitializer some new class in initializer somenewclassininitializer type stuff handle list handlelist add some class someclass argument list argumentlist add rename arguments renamearguments new name newname handle list handlelist add argument list argumentlist add rename arguments renamearguments new name newname java handle list handlelist add get resource getresource argument list argumentlist add rename arguments renamearguments new name newname java string handles participant testing participanttesting create handles createhandles handle list handlelist to array toarray rename arguments renamearguments arguments argument list argumentlist to array toarray rename arguments renamearguments rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor some class someclass new name newname set the options settheoptions descriptor renaming name suggestor renamingnamesuggestor strategy embedded refactoring status refactoringstatus status perform refactoring performrefactoring descriptor assert null assertnull supposed pass status check result in class checkresultinclass new name newname participant testing participanttesting test rename testrename handles arguments participant testing participanttesting test similar elements testsimilarelements similar old handle list similaroldhandlelist similar new name list similarnewnamelist similar new handle list similarnewhandlelist test similar elements testsimilarelements exception test transplanter elements types fields participant testing participanttesting reset i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep some class someclass i type itype some class someclass get type gettype some class someclass list i adaptable iadaptable handle list handlelist array list arraylist list rename arguments renamearguments argument list argumentlist array list arraylist list string similar old handle list similaroldhandlelist array list arraylist list string similar new name list similarnewnamelist array list arraylist list string similar new handle list similarnewhandlelist array list arraylist string new name newname some new class somenewclass field i field ifield another some class anothersomeclass some class someclass get field getfield another some class anothersomeclass similar old handle list similaroldhandlelist add another some class anothersomeclass get handle identifier gethandleidentifier similar new name list similarnewnamelist add another some new class anothersomenewclass similar new handle list similarnewhandlelist add some new class somenewclass another some new class anothersomenewclass field method field declaration i field ifield in inner ininner another some class anothersomeclass get type gettype get method getmethod foo string get type gettype get field getfield some class in inner someclassininner similar old handle list similaroldhandlelist add in inner ininner get handle identifier gethandleidentifier similar new name list similarnewnamelist add some new class in inner somenewclassininner similar new handle list similarnewhandlelist add some new class somenewclass some new class in inner somenewclassininner type stuff handle list handlelist add some class someclass argument list argumentlist add rename arguments renamearguments new name newname handle list handlelist add argument list argumentlist add rename arguments renamearguments new name newname java handle list handlelist add get resource getresource argument list argumentlist add rename arguments renamearguments new name newname java string handles participant testing participanttesting create handles createhandles handle list handlelist to array toarray rename arguments renamearguments arguments argument list argumentlist to array toarray rename arguments renamearguments rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor some class someclass new name newname set the options settheoptions descriptor renaming name suggestor renamingnamesuggestor strategy embedded refactoring status refactoringstatus status perform refactoring performrefactoring descriptor assert null assertnull supposed pass status check result in class checkresultinclass new name newname participant testing participanttesting test rename testrename handles arguments participant testing participanttesting test similar elements testsimilarelements similar old handle list similaroldhandlelist similar new name list similarnewnamelist similar new handle list similarnewhandlelist test similar elements testsimilarelements exception test transplanter i compilation unit icompilationunit i file ifile participant testing participanttesting reset i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep some class someclass i type itype some class someclass get type gettype some class someclass i java element ijavaelement some class members someclassmembers some class someclass get children getchildren rename java element descriptor renamejavaelementdescriptor descriptor create refactoring descriptor createrefactoringdescriptor some class someclass some new class somenewclass set the options settheoptions descriptor renaming name suggestor renamingnamesuggestor strategy embedded refactoring create refactoring createrefactoring descriptor refactoring status refactoringstatus status perform refactoring performrefactoring assert null assertnull supposed pass status check result in class checkresultinclass some new class somenewclass check map pers checkmappers some class someclass some new class somenewclass java some class members someclassmembers check map pers checkmappers refactoring refactoring i type itype type string newcuname i java element ijavaelement some class members someclassmembers rename type processor renametypeprocessor rtp rename type processor renametypeprocessor rename refactoring renamerefactoring refactoring get processor getprocessor i compilation unit icompilationunit new unit newunit i compilation unit icompilationunit rtp get ref actored java element getrefactoredjavaelement type get compilation unit getcompilationunit assert true asserttrue new unit newunit exists assert true asserttrue new unit newunit get element name getelementname equals newcuname i file ifile new file newfile i file ifile rtp get ref actored resource getrefactoredresource type get resource getresource assert true asserttrue new file newfile exists assert true asserttrue new file newfile get name getname equals newcuname type get parent getparent get element type getelementtype i java element ijavaelement compilation unit type get compilation unit getcompilationunit get element name getelementname equals type get element name getelementname java assert false assertfalse type get compilation unit getcompilationunit exists assert false assertfalse type get resource getresource exists i package fragment ipackagefragment old package oldpackage i package fragment ipackagefragment type get compilation unit getcompilationunit get parent getparent i package fragment ipackagefragment new package newpackage i package fragment ipackagefragment rtp get ref actored java element getrefactoredjavaelement old package oldpackage assert equals assertequals old package oldpackage new package newpackage some class members someclassmembers length i member imember member i member imember some class members someclassmembers i java element ijavaelement ref actored member refactoredmember rtp get ref actored java element getrefactoredjavaelement member member i method imethod member get element name getelementname equals type get element name getelementname constructor assert true asserttrue ref actored member refactoredmember exists assert equals assertequals member get element name getelementname ref actored member refactoredmember get element name getelementname assert false assertfalse ref actored member refactoredmember equals member test similar elements testsimilarelements exception test renaming field declarations helper screw up screwup screw down screwdown test similar elements testsimilarelements exception test renaming local variable declarations helper screw up screwup screw down screwdown test similar elements testsimilarelements exception test methods renamed match parameter type helper screw up screwup screw down screwdown test similar elements testsimilarelements exception test local variables renamed match type local variable helper screw up screwup screw down screwdown test similar elements testsimilarelements exception test fields renamed match type field helper screw up screwup screw down screwdown test similar elements testsimilarelements exception test local variables initializers helper some class someclass some new class somenewclass test similar elements testsimilarelements exception test references text ual textual references local elements helper some class someclass some diff class somediffclass test similar elements testsimilarelements exception test local variable problem reporting works helper fail some class someclass some different class somedifferentclass test similar elements testsimilarelements exception test local variables anonymous types generate warnings helper why not whynot test similar elements testsimilarelements exception test references annotations type parameters helper bla
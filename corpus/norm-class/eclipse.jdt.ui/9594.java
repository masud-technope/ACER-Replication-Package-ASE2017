copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ferenc hechler ferenc hechler users source for ge sourceforge net jar application add jar jar class loader classloader option ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter ant file jar jar option relative path jar rsrc loader zip ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter remove built attribute ant files fat jar exporter ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter extract constants string literals jar rsrc loader jarrsrcloader ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter ant file produced export runnable jar abs olut absolut paths relative workspace org eclipse jdt internal jar package rfat jarpackagerfat java file java file not found exception filenotfoundexception java file output stream fileoutputstream java io exception ioexception java input stream inputstream java output stream outputstream javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers parser configuration exception parserconfigurationexception javax xml transform output keys outputkeys javax xml transform transformer javax xml transform transformer exception transformerexception javax xml transform transformer factory transformerfactory javax xml transform dom dom source domsource javax xml transform stream stream result streamresult org dom document org dom element org dom node org eclipse core runtime i path ipath org eclipse debug core i launch configuration ilaunchconfiguration org eclipse jdt internal java plugin javaplugin create ant script runnable jar loader export script generated based classpath selected launch configuration fat jar rsrc url ant exporter fatjarrsrcurlantexporter fat jar ant exporter fatjarantexporter fat jar rsrc url ant exporter fatjarrsrcurlantexporter i path ipath ant script location antscriptlocation i path ipath jar location jarlocation i launch configuration ilaunchconfiguration launch configuration launchconfiguration ant script location antscriptlocation jar location jarlocation launch configuration launchconfiguration override buildantscript i path ipath ant script location antscriptlocation string project name projectname i path ipath abs jar file absjarfile string main class mainclass source info sourceinfo source infos sourceinfos file not found exception filenotfoundexception io exception ioexception file ant script file antscriptfile ant script location antscriptlocation to file tofile buildantscript file output stream fileoutputstream ant script file antscriptfile project name projectname abs jar file absjarfile main class mainclass source infos sourceinfos copy jar in jar loader copyjarinjarloader file ant script file antscriptfile get parent file getparentfile fat jar rsrc url builder fatjarrsrcurlbuilder jar rsrc loader zip copy jar in jar loader copyjarinjarloader file target file targetfile io exception ioexception input stream inputstream java plugin javaplugin get default getdefault get bundle getbundle get entry getentry fat jar rsrc url builder fatjarrsrcurlbuilder jar rsrc loader zip open stream openstream output stream outputstream file output stream fileoutputstream target file targetfile buf cnt read buf cnt write buf cnt close close buildantscript output stream outputstream output stream outputstream string project name projectname i path ipath abs jar file absjarfile string main class mainclass source info sourceinfo source infos sourceinfos io exception ioexception string abs jar name absjarname abs jar file absjarfile to string tostring document builder documentbuilder doc builder docbuilder document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance factory set valid ating setvalidating doc builder docbuilder factory new document builder newdocumentbuilder parser configuration exception parserconfigurationexception io exception ioexception fat jar package r messages fatjarpackagermessages fat jar package ant script fatjarpackageantscript error could not get xml builder couldnotgetxmlbuilder document document doc builder docbuilder new document newdocument node comment create document nls element project document create element createelement project nls nls nls project set attribute setattribute create runnable jar project project name projectname jar jar loader nls nls project set attribute setattribute create jar nls comment document create comment createcomment file created eclipse runnable jar file export wizard project append child appendchild comment nls comment document create comment createcomment ant required project append child appendchild comment document append child appendchild project add base dir properties addbasedirproperties document project nls element target document create element createelement target nls nls target set attribute setattribute create jar project append child appendchild target nls element jar document create element createelement jar nls jar set attribute setattribute dest file destfile substitute base dirs substitutebasedirs abs jar name absjarname target append child appendchild jar nls element manifest document create element createelement manifest jar append child appendchild manifest nls element attribute document create element createelement attribute nls nls attribute set attribute setattribute main nls attribute set attribute setattribute jij constants jijconstants loader main manifest append child appendchild attribute nls attribute document create element createelement attribute nls attribute set attribute setattribute jij constants jijconstants redirected main manifest nls attribute set attribute setattribute main class mainclass manifest append child appendchild attribute nls attribute document create element createelement attribute nls nls attribute set attribute setattribute path nls nls attribute set attribute setattribute manifest append child appendchild attribute nls attribute document create element createelement attribute nls attribute set attribute setattribute jij constants jijconstants redirected path manifest string buffer stringbuffer rsrc class path rsrcclasspath string buffer stringbuffer rsrc class path rsrcclasspath append jij constants jijconstants current dir source infos sourceinfos length source info sourceinfo source info sourceinfo source infos sourceinfos source info sourceinfo is jar isjar nls rsrc class path rsrcclasspath append nls append file source info sourceinfo abs path abspath get name getname nls attribute set attribute setattribute rsrc class path rsrcclasspath to string tostring manifest append child appendchild attribute nls element zip file set zipfileset document create element createelement zip file set zipfileset nls zip file set zipfileset set attribute setattribute src fat jar rsrc url builder fatjarrsrcurlbuilder jar rsrc loader zip jar append child appendchild zip file set zipfileset source infos sourceinfos length source info sourceinfo source info sourceinfo source infos sourceinfos source info sourceinfo is jar isjar file jar file jarfile file source info sourceinfo abs path abspath element file set fileset nls document create element createelement nls zip file set zipfileset nls file set fileset set attribute setattribute nls dir nls substitute base dirs substitutebasedirs jar file jarfile get parent getparent nls file set fileset set attribute setattribute includes jar file jarfile get name getname jar append child appendchild file set fileset element file set fileset nls document create element createelement nls file set fileset nls file set fileset set attribute setattribute nls dir nls substitute base dirs substitutebasedirs source info sourceinfo abs path abspath jar append child appendchild file set fileset write document stream transformer transformer transformer factory transformerfactory new instance newinstance new transformer newtransformer nls transformer set output property setoutputproperty output keys outputkeys method xml nls transformer set output property setoutputproperty output keys outputkeys encoding utf nls transformer set output property setoutputproperty output keys outputkeys indent nls nls transformer set output property setoutputproperty http xml apache org xslt indent amount dom source domsource source dom source domsource document stream result streamresult result stream result streamresult output stream outputstream transformer transform source result transformer exception transformerexception io exception ioexception fat jar package r messages fatjarpackagermessages fat jar package ant script fatjarpackageantscript error could not transform to l couldnottransformtoxml
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring structure java util hash map hashmap java util iterator java util linked hash map linkedhashmap java util map org eclipse core runtime org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse ltk core refactoring categorized text edit group categorizedtexteditgroup org eclipse ltk core refactoring group category groupcategory org eclipse ltk core refactoring group category set groupcategoryset org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status entry refactoringstatusentry org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i initializer iinitializer org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom modifier org eclipse jdt core dom modifier modifier keyword modifierkeyword org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core search i java search constants ijavasearchconstants org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt internal corext dom modifier rewrite modifierrewrite org eclipse jdt internal corext dom variable declaration rewrite variabledeclarationrewrite org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring refactoring scope factory refactoringscopefactory org eclipse jdt internal corext refactoring refactoring search engine refactoringsearchengine org eclipse jdt internal corext refactoring search result group searchresultgroup org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util lru map lrumap org eclipse jdt internal corext util messages org eclipse jdt internal corext util search utils searchutils org eclipse jdt java element labels javaelementlabels helper adjust visibilities members resp ect respect reference element member visibility adjustor membervisibilityadjustor visibility group category group category set groupcategoryset visibility adjustments group category set groupcategoryset nls group category groupcategory nls org eclipse jdt internal corext visibility adjustments visibilityadjustments refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjustments refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjustments description description member visibility adjustment incoming member visibility adjustment incomingmembervisibilityadjustment i visibility adjustment ivisibilityadjustment keyword representing adjusted visibility modifier keyword modifierkeyword f keyword fkeyword member visibility adjusted i member imember f member fmember visibility adjustment rewriting f needs rewriting fneedsrewriting refactoring status refactoring status refactoringstatus f refactoring status frefactoringstatus creates incoming member visibility adjustment param member member adjusted param keyword keyword representing adjusted visibility param status status code code incoming member visibility adjustment incomingmembervisibilityadjustment i member imember member modifier keyword modifierkeyword keyword refactoring status refactoringstatus status is not null isnotnull member is true istrue member i initializer iinitializer is true istrue is visibility keyword isvisibilitykeyword keyword f member fmember member f keyword fkeyword keyword f refactoring status frefactoringstatus status returns visibility keyword visibility keyword modifier keyword modifierkeyword get keyword getkeyword f keyword fkeyword returns adjusted member adjusted member i member imember get member getmember f member fmember returns refactoring status refactoring status refactoring status refactoringstatus get status getstatus f refactoring status frefactoringstatus visibility adjustment rewriting code code rewriting code code needs rewriting needsrewriting f needs rewriting fneedsrewriting rewrites visibility adjustment param adjustor java element visibility adjustor param rewrite ast rewrite param root root ast rewrite param group text edit group description code code param status refactoring status code code java model exception javamodelexception error occurs rewrite visibility rewritevisibility member visibility adjustor membervisibilityadjustor adjustor ast rewrite astrewrite rewrite compilation unit compilationunit root categorized text edit group categorizedtexteditgroup group refactoring status refactoringstatus status java model exception javamodelexception is not null isnotnull adjustor is not null isnotnull rewrite is not null isnotnull root visibility f keyword fkeyword f keyword fkeyword to flag value toflagvalue modifier f member fmember i field ifield flags is enum isenum f member fmember get flags getflags variable declaration fragment variabledeclarationfragment fragment ast node search util astnodesearchutil get field declaration fragment node getfielddeclarationfragmentnode i field ifield f member fmember root field declaration fielddeclaration declaration field declaration fielddeclaration fragment get parent getparent variable declaration fragment variabledeclarationfragment fragments to change fragmentstochange variable declaration fragment variabledeclarationfragment fragment variable declaration rewrite variabledeclarationrewrite rewrite modifiers rewritemodifiers declaration fragments to change fragmentstochange visibility modifier rewrite modifierrewrite visibility modifiers rewrite group status adjustor f status fstatus merge status f member fmember body declaration bodydeclaration declaration ast node search util astnodesearchutil get body declaration node getbodydeclarationnode f member fmember root declaration modifier rewrite modifierrewrite create rewrite declaration set visibility setvisibility visibility group status adjustor f status fstatus merge status org eclipse jdt internal corext refactoring structure member visibility adjustor membervisibilityadjustor i visibility adjustment ivisibilityadjustment rewrite visibility rewritevisibility org eclipse jdt internal corext refactoring structure member visibility adjustor membervisibilityadjustor org eclipse core runtime i progress monitor iprogressmonitor override rewrite visibility rewritevisibility member visibility adjustor membervisibilityadjustor adjustor i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull adjustor is not null isnotnull monitor nls monitor begin task begintask nls nls monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjusting f needs rewriting fneedsrewriting adjustor f rewrite frewrite adjustor f root froot rewrite visibility rewritevisibility adjustor adjustor f rewrite frewrite adjustor f root froot f refactoring status frefactoringstatus compilation unit rewrite compilationunitrewrite rewrite adjustor get compilation unit rewrite getcompilationunitrewrite f member fmember get compilation unit getcompilationunit rewrite visibility rewritevisibility adjustor rewrite getastrewrite rewrite get root getroot rewrite create categorized group description createcategorizedgroupdescription messages format refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility get label getlabel get keyword getkeyword visibility adjustments f refactoring status frefactoringstatus f refactoring status frefactoringstatus adjustor f status fstatus merge f refactoring status frefactoringstatus monitor worked monitor determines visibility adjustment rewriting param rewriting code code rewriting code code set needs rewriting setneedsrewriting rewriting f needs rewriting fneedsrewriting rewriting visibility adjustments i visibility adjustment ivisibilityadjustment rewrites visibility adjustment param adjustor java element visibility adjustor param monitor progress monitor java model exception javamodelexception error occurs rewrite visibility rewritevisibility member visibility adjustor membervisibilityadjustor adjustor i progress monitor iprogressmonitor monitor java model exception javamodelexception description out going outgoing member visibility adjustment outgoing member visibility adjustment outgoingmembervisibilityadjustment incoming member visibility adjustment incomingmembervisibilityadjustment creates out going outgoing member visibility adjustment param member member adjusted param keyword keyword representing adjusted visibility param status status outgoing member visibility adjustment outgoingmembervisibilityadjustment i member imember member modifier keyword modifierkeyword keyword refactoring status refactoringstatus status member keyword status org eclipse jdt internal corext refactoring structure member visibility adjustor membervisibilityadjustor i visibility adjustment ivisibilityadjustment rewrite visibility rewritevisibility org eclipse jdt internal corext refactoring structure member visibility adjustor membervisibilityadjustor org eclipse core runtime i progress monitor iprogressmonitor override rewrite visibility rewritevisibility member visibility adjustor membervisibilityadjustor adjustor i progress monitor iprogressmonitor monitor java model exception javamodelexception is not null isnotnull adjustor is not null isnotnull monitor nls monitor begin task begintask nls nls monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjusting f needs rewriting fneedsrewriting compilation unit rewrite compilationunitrewrite rewrite adjustor get compilation unit rewrite getcompilationunitrewrite f member fmember get compilation unit getcompilationunit rewrite visibility rewritevisibility adjustor rewrite getastrewrite rewrite get root getroot rewrite create categorized group description createcategorizedgroupdescription messages format refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility get label getlabel get keyword getkeyword visibility adjustments f refactoring status frefactoringstatus monitor worked monitor returns label java element param element element label label element string get label getlabel i java element ijavaelement element is not null isnotnull element java element labels javaelementlabels get element label getelementlabel element java element labels javaelementlabels fully qualified java element labels javaelementlabels returns label visibility keyword param keyword keyword label code code visibility label keyword string get label getlabel modifier keyword modifierkeyword keyword is true istrue is visibility keyword isvisibilitykeyword keyword keyword refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility modifier keyword modifierkeyword keyword equals keyword refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility modifier keyword modifierkeyword keyword equals keyword refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility returns message string member param member member string string member string get message getmessage i member imember member is true istrue member i type itype member i method imethod member i field ifield member i type itype refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility type warning member i method imethod refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility method warning refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility field warning modifiers represent visibility required threshold param modifiers modifiers test param threshold visibility threshold compare code code visibility required code code has lower visibility haslowervisibility modifiers threshold modifier is private isprivate threshold modifier is public ispublic threshold modifier is public ispublic modifiers modifier is protected isprotected threshold modifier is protected isprotected modifiers modifier is public ispublic modifiers modifier is private isprivate modifiers modifier keyword represent visibility required threshold param keyword visibility keyword test code code visibility param threshold visibility threshold keyword compare code code compare visibility code code visibility required code code has lower visibility haslowervisibility modifier keyword modifierkeyword keyword modifier keyword modifierkeyword threshold is true istrue is visibility keyword isvisibilitykeyword keyword is true istrue is visibility keyword isvisibilitykeyword threshold has lower visibility haslowervisibility keyword keyword to flag value toflagvalue modifier threshold threshold to flag value toflagvalue modifier severity refactoring status severity param severity severity test code code refactoring status severity code code is status severity isstatusseverity severity severity refactoring status refactoringstatus error severity refactoring status refactoringstatus fatal severity refactoring status refactoringstatus info severity refactoring status refactoringstatus severity refactoring status refactoringstatus warning modifier keyword visibility keyword param keyword keyword test code code code code visibility keyword code code is visibility keyword isvisibilitykeyword modifier keyword modifierkeyword keyword keyword modifier keyword modifierkeyword keyword equals keyword modifier keyword modifierkeyword keyword equals keyword modifier keyword modifierkeyword keyword equals keyword modifier visibility modifier param modifier keyword test code code visibility modifier code code is visibility modifier isvisibilitymodifier modifier modifier modifier modifier modifier modifier modifier modifier modifier converts modifier keyword visibility flag param keyword keyword convert visibility flag keyword to visibility keywordtovisibility modifier keyword modifierkeyword keyword visibility keyword modifier keyword modifierkeyword keyword visibility flags acc public accpublic keyword modifier keyword modifierkeyword keyword visibility flags acc private accprivate keyword modifier keyword modifierkeyword keyword visibility flags acc protected accprotected visibility member visibility adjustment param member member test param threshold visibility threshold test param adjustments map members visibility adjustments code code member adjustment code code needs visibility adjustments needsvisibilityadjustments i member imember member threshold map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment adjustments is not null isnotnull member is true istrue is visibility modifier isvisibilitymodifier threshold is not null isnotnull adjustments incoming member visibility adjustment incomingmembervisibilityadjustment adjustment adjustments member adjustment modifier keyword modifierkeyword keyword adjustment get keyword getkeyword has lower visibility haslowervisibility keyword modifier keyword to flag value toflagvalue threshold member visibility adjustment param member member test param threshold visibility threshold test code code visibility param adjustments map members visibility adjustments code code member adjustment code code needs visibility adjustments needsvisibilityadjustments i member imember member modifier keyword modifierkeyword threshold map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment adjustments is not null isnotnull member is not null isnotnull adjustments incoming member visibility adjustment incomingmembervisibilityadjustment adjustment adjustments member adjustment has lower visibility haslowervisibility adjustment get keyword getkeyword threshold map members visibility adjustments linked hash map linkedhashmap preserve order generated warnings map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment f adjustments fadjustments linked hash map linkedhashmap incoming references adjusted f incoming fincoming out going outgoing references adjusted f outgoing foutgoing referenced element causing visibility adjustment i member imember f referenced freferenced referencing java element i java element ijavaelement f ref erencing freferencing ast rewrite reference visibility adjustments code code compilation unit rewrite ast rewrite astrewrite f rewrite frewrite map compilation units compilation unit rewrites map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite f rewrites frewrites hash map hashmap root node ast rewrite reference visibility adjustments code code compilation unit rewrite compilation unit compilationunit f root froot incoming search scope i java search scope ijavasearchscope f scope fscope status visibility adjustment refactoring status refactoringstatus f status fstatus refactoring status refactoringstatus type hierarchy cache map i type itype i type hierarchy itypehierarchy f type hierarchies ftypehierarchies lru map lrumap visibility message severity f visibility severity fvisibilityseverity refactoring status refactoringstatus warning working copy owner code code working copy owner workingcopyowner f owner fowner creates java element visibility adjustor param referencing referencing element compute visibility param referenced referenced member visibility member visibility adjustor membervisibilityadjustor i java element ijavaelement referencing i member imember referenced is true istrue referenced i initializer iinitializer is true istrue referencing i compilation unit icompilationunit referencing i type itype referencing i package fragment ipackagefragment f scope fscope refactoring scope factory refactoringscopefactory create referenced scope createreferencedscope i java element ijavaelement referenced i java search scope ijavasearchscope reference d referenced projects i java search scope ijavasearchscope sources i java search scope ijavasearchscope application libraries f ref erencing freferencing referencing f referenced freferenced referenced adjusts visibility member param element source point calculate visibility param referenced moved element referencedmovedelement moved element adjusted visibility param monitor progress monitor java model exception javamodelexception visibility adjustment computed adjust incoming visibility adjustincomingvisibility i java element ijavaelement element i member imember referenced moved element referencedmovedelement i progress monitor iprogressmonitor monitor java model exception javamodelexception modifier keyword modifierkeyword threshold get visibility threshold getvisibilitythreshold element referenced moved element referencedmovedelement monitor flags referenced moved element referencedmovedelement get flags getflags i type itype declaring referenced moved element referencedmovedelement get declaring type getdeclaringtype declaring declaring is interface isinterface referenced moved element referencedmovedelement i field ifield flags is enum isenum referenced moved element referencedmovedelement get flags getflags has lower visibility haslowervisibility flags threshold modifier threshold to flag value toflagvalue needs visibility adjustment needsvisibilityadjustment referenced moved element referencedmovedelement threshold f adjustments fadjustments referenced moved element referencedmovedelement incoming member visibility adjustment incomingmembervisibilityadjustment referenced moved element referencedmovedelement threshold refactoring status refactoringstatus create status createstatus f visibility severity fvisibilityseverity messages format get message getmessage referenced moved element referencedmovedelement string get label getlabel referenced moved element referencedmovedelement get label getlabel threshold java status context javastatuscontext create referenced moved element referencedmovedelement refactoring status entry refactoringstatusentry code check accesses members moved type visibility adjusted param member member param monitor progress monitor java model exception javamodelexception error occurs adjust member visibility adjustmembervisibility i member imember member i progress monitor iprogressmonitor monitor java model exception javamodelexception member i type itype recursively check accessibility member type members i java element ijavaelement type members typemembers i type itype member get children getchildren type members typemembers length type members typemembers i initializer iinitializer adjust member visibility adjustmembervisibility i member imember type members typemembers monitor member equals f referenced freferenced modifier is public ispublic member get flags getflags search result group searchresultgroup references find references findreferences member monitor references length search match searchmatch search results searchresults references get search results getsearchresults search results searchresults length i java element ijavaelement reference to member referencetomember i java element ijavaelement search results searchresults get element getelement f adjustments fadjustments member reference to member referencetomember i member imember is inside moved member isinsidemovedmember reference to member referencetomember check member visible destination moving type destination type adjust incoming visibility adjustincomingvisibility f ref erencing freferencing member sub progress monitor subprogressmonitor monitor member moved member param element element code code code code is inside moved member isinsidemovedmember i java element ijavaelement element i java element ijavaelement current element current current get parent getparent current equals f referenced freferenced finds references member param member member param monitor progress monitor search result groups java model exception javamodelexception error occurs search search result group searchresultgroup find references findreferences i member imember member i progress monitor iprogressmonitor monitor java model exception javamodelexception refactoring search engine refactoringsearchengine engine refactoring search engine refactoringsearchengine search pattern searchpattern create pattern createpattern member i java search constants ijavasearchconstants references search utils searchutils generics agnostic match rule engine set owner setowner f owner fowner engine set filtering setfiltering engine set scope setscope refactoring scope factory refactoringscopefactory create member engine search pattern searchpattern sub progress monitor subprogressmonitor monitor search result group searchresultgroup engine get results getresults adjusts visibility member based incoming references represented search result groups reference moved element moved element visibility inc reased increased moved element f referenced freferenced visible target references effectively element f referenced freferenced visible location f ref erencing freferencing param groups search result groups representing references param monitor progress monitor java model exception javamodelexception java elements accessed adjust incoming visibility adjustincomingvisibility search result group searchresultgroup groups i progress monitor iprogressmonitor monitor java model exception javamodelexception nls monitor begin task begintask groups length monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor checking search match searchmatch matches adjusted groups length matches groups get search results getsearchresults offset offset matches length offset object element matches offset get element getelement element i member imember is inside moved member isinsidemovedmember i member imember element reference moved element adjust visibility moved element adjust incoming visibility adjustincomingvisibility f ref erencing freferencing f referenced freferenced monitor adjustment adjusted adjusted monitor worked monitor adjusts visibility referenced field compilation unit param field referenced field adjust param threshold visibility threshold code code visibility java model exception javamodelexception error occurs adjust outgoing visibility adjustoutgoingvisibility i field ifield field modifier keyword modifierkeyword threshold java model exception javamodelexception is true istrue field is binary isbinary field is read only isreadonly bug moving top level fields i type itype declaring field get declaring type getdeclaringtype declaring declaring equals f referenced freferenced has lower visibility haslowervisibility field get flags getflags keyword to visibility keywordtovisibility threshold needs visibility adjustment needsvisibilityadjustment field threshold adjust outgoing visibility adjustoutgoingvisibility field threshold refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility field warning adjusts visibility referenced body declaration param member member adjust visibility param threshold visibility keyword representing required visibility code code visibility param template message template java model exception javamodelexception error occurs adjust outgoing visibility adjustoutgoingvisibility i member imember member modifier keyword modifierkeyword threshold string template java model exception javamodelexception is true istrue member is binary isbinary member is read only isreadonly adjust i type itype declaring member get declaring type getdeclaringtype declaring java model util javamodelutil is interface or annotation isinterfaceorannotation declaring member i field ifield flags is enum isenum member get flags getflags declaring equals f referenced freferenced adjust adjust has lower visibility haslowervisibility member get flags getflags keyword to visibility keywordtovisibility threshold needs visibility adjustment needsvisibilityadjustment member threshold f adjustments fadjustments member outgoing member visibility adjustment outgoingmembervisibilityadjustment member threshold refactoring status refactoringstatus create status createstatus f visibility severity fvisibilityseverity messages format template string java element labels javaelementlabels get text label gettextlabel member java element labels javaelementlabels parameter types java element labels javaelementlabels fully qualified get label getlabel threshold java status context javastatuscontext create member refactoring status entry refactoringstatusentry code adjusts visibilities referenced element search match compilation unit param match search match representing element declaration param monitor progress monitor java model exception javamodelexception visibility determined adjust outgoing visibility adjustoutgoingvisibility search match searchmatch match i progress monitor iprogressmonitor monitor java model exception javamodelexception object element match get element getelement element i member imember i member imember member i member imember element member is binary isbinary member is read only isreadonly is inside moved member isinsidemovedmember member adjust outgoing visibility chain adjustoutgoingvisibilitychain member monitor adjust outgoing visibility chain adjustoutgoingvisibilitychain i member imember member i progress monitor iprogressmonitor monitor java model exception javamodelexception modifier is public ispublic member get flags getflags modifier keyword modifierkeyword threshold compute outgoing visibility threshold computeoutgoingvisibilitythreshold f ref erencing freferencing member monitor member i method imethod adjust outgoing visibility adjustoutgoingvisibility member threshold refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility method warning member i field ifield adjust outgoing visibility adjustoutgoingvisibility i field ifield member threshold member i type itype adjust outgoing visibility adjustoutgoingvisibility member threshold refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor change visibility type warning member get declaring type getdeclaringtype adjust outgoing visibility chain adjustoutgoingvisibilitychain member get declaring type getdeclaringtype monitor adjusts visibilities out going outgoing references member represented search result groups param groups search result groups representing references param monitor progress monitor java model exception javamodelexception visibility determined adjust outgoing visibility adjustoutgoingvisibility search result group searchresultgroup groups i progress monitor iprogressmonitor monitor java model exception javamodelexception nls monitor begin task begintask groups length monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor checking i java element ijavaelement element search match searchmatch matches search result group searchresultgroup group groups length group groups element java core javacore create group get resource getresource element i compilation unit icompilationunit matches group get search results getsearchresults offset offset matches length offset adjust outgoing visibility adjustoutgoingvisibility matches offset sub progress monitor subprogressmonitor monitor element f status fstatus merge refactoring status refactoringstatus create status createstatus f failure severity ffailureseverity refactoring core messages refactoringcoremessages get for matted string getformattedstring member visibility adjustor membervisibilityadjustor binary out going outgoing project string element get java project getjavaproject get element name getelementname get label getlabel f referenced freferenced refactoring status entry refactoringstatusentry code nls group get resource getresource f status fstatus merge refactoring status refactoringstatus create status createstatus f failure severity ffailureseverity refactoring core messages refactoringcoremessages get for matted string getformattedstring member visibility adjustor membervisibilityadjustor binary out going outgoing resource string group get resource getresource get name getname get label getlabel f referenced freferenced refactoring status entry refactoringstatusentry code nls enable bug fixed monitor worked monitor adjusts visibilities referenced referencing elements param monitor progress monitor java model exception javamodelexception error occurs search adjust visibility adjustvisibility i progress monitor iprogressmonitor monitor java model exception javamodelexception nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor checking refactoring search engine refactoringsearchengine engine refactoring search engine refactoringsearchengine search pattern searchpattern create pattern createpattern f referenced freferenced i java search constants ijavasearchconstants references search utils searchutils generics agnostic match rule engine set scope setscope f scope fscope engine set status setstatus f status fstatus engine set owner setowner f owner fowner f incoming fincoming check calls referenced moved element adjust element visibility engine search pattern searchpattern sub progress monitor subprogressmonitor monitor adjust incoming visibility adjustincomingvisibility search result group searchresultgroup engine get results getresults sub progress monitor subprogressmonitor monitor engine clear results clearresults type accessed moved type f referenced freferenced i type itype i type itype type i type itype f referenced freferenced adjust member visibility adjustmembervisibility type sub progress monitor subprogressmonitor monitor f outgoing foutgoing search types fields methods called acted referenced element moved assure visible referencing element destination type move type engine search referenced types searchreferencedtypes f referenced freferenced sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label engine search referenced fields searchreferencedfields f referenced freferenced sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label engine search referenced methods searchreferencedmethods f referenced freferenced sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label adjust outgoing visibility adjustoutgoingvisibility search result group searchresultgroup engine get results getresults sub progress monitor subprogressmonitor monitor monitor computes visibility threshold referenced element param referencing referencing element param referenced referenced element param monitor progress monitor visibility keyword threshold code code visibility java model exception javamodelexception java elements accessed modifier keyword modifierkeyword get visibility threshold getvisibilitythreshold i java element ijavaelement referencing i member imember referenced i progress monitor iprogressmonitor monitor java model exception javamodelexception is true istrue referencing i initializer iinitializer is true istrue referenced i initializer iinitializer modifier keyword modifierkeyword keyword modifier keyword modifierkeyword keyword nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor checking referencing type referencingtype referencing get element type getelementtype referenced type referencedtype referenced get element type getelementtype referenced type referencedtype i java element ijavaelement type i type itype type referenced typereferenced i type itype referenced i compilation unit icompilationunit referenced unit referencedunit type referenced typereferenced get compilation unit getcompilationunit referencing type referencingtype i java element ijavaelement type keyword threshold type to type thresholdtypetotype i type itype referencing type referenced typereferenced monitor i java element ijavaelement field i java element ijavaelement method i member imember member i member imember referencing type referenced typereferenced equals member get declaring type getdeclaringtype keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit equals member get compilation unit getcompilationunit keyword modifier keyword modifierkeyword keyword type referenced typereferenced get package fragment getpackagefragment equals member get declaring type getdeclaringtype get package fragment getpackagefragment keyword i java element ijavaelement fragment i package fragment ipackagefragment fragment i package fragment ipackagefragment referencing type referenced typereferenced get package fragment getpackagefragment equals fragment keyword is true istrue i java element ijavaelement field i field ifield field referenced fieldreferenced i field ifield referenced i compilation unit icompilationunit referenced unit referencedunit field referenced fieldreferenced get compilation unit getcompilationunit referencing type referencingtype i java element ijavaelement type keyword threshold type to field thresholdtypetofield i type itype referencing field referenced fieldreferenced monitor i java element ijavaelement field i java element ijavaelement method i member imember member i member imember referencing field referenced fieldreferenced get declaring type getdeclaringtype equals member get declaring type getdeclaringtype keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit equals member get compilation unit getcompilationunit keyword modifier keyword modifierkeyword keyword field referenced fieldreferenced get declaring type getdeclaringtype get package fragment getpackagefragment equals member get declaring type getdeclaringtype get package fragment getpackagefragment keyword i java element ijavaelement fragment i package fragment ipackagefragment fragment i package fragment ipackagefragment referencing field referenced fieldreferenced get declaring type getdeclaringtype get package fragment getpackagefragment equals fragment keyword is true istrue i java element ijavaelement method i method imethod method referenced methodreferenced i method imethod referenced i compilation unit icompilationunit referenced unit referencedunit method referenced methodreferenced get compilation unit getcompilationunit referencing type referencingtype i java element ijavaelement type keyword threshold type to method thresholdtypetomethod i type itype referencing method referenced methodreferenced monitor i java element ijavaelement field i java element ijavaelement method i member imember member i member imember referencing method referenced methodreferenced get declaring type getdeclaringtype equals member get declaring type getdeclaringtype keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit equals member get compilation unit getcompilationunit keyword modifier keyword modifierkeyword keyword method referenced methodreferenced get declaring type getdeclaringtype get package fragment getpackagefragment equals member get declaring type getdeclaringtype get package fragment getpackagefragment keyword i java element ijavaelement fragment i package fragment ipackagefragment fragment i package fragment ipackagefragment referencing method referenced methodreferenced get declaring type getdeclaringtype get package fragment getpackagefragment equals fragment keyword is true istrue is true istrue monitor keyword computes visibility threshold referenced element param referencing referencing element param referenced referenced element param monitor progress monitor visibility keyword threshold code code visibility java model exception javamodelexception java elements accessed modifier keyword modifierkeyword compute outgoing visibility threshold computeoutgoingvisibilitythreshold i java element ijavaelement referencing i member imember referenced i progress monitor iprogressmonitor monitor java model exception javamodelexception is true istrue referencing i compilation unit icompilationunit referencing i type itype referencing i package fragment ipackagefragment is true istrue referenced i type itype referenced i field ifield referenced i method imethod modifier keyword modifierkeyword keyword modifier keyword modifierkeyword keyword nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor checking referencing type referencingtype referencing get element type getelementtype referenced type referencedtype referenced get element type getelementtype referenced type referencedtype i java element ijavaelement type i type itype type referenced typereferenced i type itype referenced referencing type referencingtype i java element ijavaelement compilation unit i compilation unit icompilationunit unit i compilation unit icompilationunit referencing i compilation unit icompilationunit referenced unit referencedunit type referenced typereferenced get compilation unit getcompilationunit referenced unit referencedunit referenced unit referencedunit equals unit keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit get parent getparent equals unit get parent getparent keyword i java element ijavaelement type keyword threshold type to type thresholdtypetotype i type itype referencing type referenced typereferenced monitor i java element ijavaelement fragment i package fragment ipackagefragment fragment i package fragment ipackagefragment referencing type referenced typereferenced get package fragment getpackagefragment equals fragment keyword is true istrue i java element ijavaelement field i field ifield field referenced fieldreferenced i field ifield referenced i compilation unit icompilationunit referenced unit referencedunit field referenced fieldreferenced get compilation unit getcompilationunit referencing type referencingtype i java element ijavaelement compilation unit i compilation unit icompilationunit unit i compilation unit icompilationunit referencing referenced unit referencedunit referenced unit referencedunit equals unit keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit get parent getparent equals unit get parent getparent keyword i java element ijavaelement type keyword threshold type to field thresholdtypetofield i type itype referencing field referenced fieldreferenced monitor i java element ijavaelement fragment i package fragment ipackagefragment fragment i package fragment ipackagefragment referencing field referenced fieldreferenced get declaring type getdeclaringtype get package fragment getpackagefragment equals fragment keyword is true istrue i java element ijavaelement method i method imethod method referenced methodreferenced i method imethod referenced i compilation unit icompilationunit referenced unit referencedunit method referenced methodreferenced get compilation unit getcompilationunit referencing type referencingtype i java element ijavaelement compilation unit i compilation unit icompilationunit unit i compilation unit icompilationunit referencing referenced unit referencedunit referenced unit referencedunit equals unit keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit get parent getparent equals unit get parent getparent keyword i java element ijavaelement type keyword threshold type to method thresholdtypetomethod i type itype referencing method referenced methodreferenced monitor i java element ijavaelement fragment i package fragment ipackagefragment fragment i package fragment ipackagefragment referencing method referenced methodreferenced get declaring type getdeclaringtype get package fragment getpackagefragment equals fragment keyword is true istrue is true istrue monitor keyword returns existing visibility adjustments element type map i member imember i visibility adjustment ivisibilityadjustment visibility adjustments map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment get adjustments getadjustments f adjustments fadjustments returns compilation unit rewrite compilation unit param unit compilation unit rewrite rewrite compilation unit compilation unit rewrite compilationunitrewrite get compilation unit rewrite getcompilationunitrewrite i compilation unit icompilationunit unit compilation unit rewrite compilationunitrewrite rewrite f rewrites frewrites unit rewrite f owner fowner rewrite compilation unit rewrite compilationunitrewrite unit rewrite compilation unit rewrite compilationunitrewrite f owner fowner unit f rewrites frewrites unit rewrite rewrite returns cached type hierarchy type param type type hierarchy param monitor progress monitor type hierarchy java model exception javamodelexception type hierarchy created i type hierarchy itypehierarchy get type hierarchy gettypehierarchy i type itype type i progress monitor iprogressmonitor monitor java model exception javamodelexception i type hierarchy itypehierarchy hierarchy nls monitor begin task begintask monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor checking hierarchy f type hierarchies ftypehierarchies type hierarchy f owner fowner hierarchy type new supertype hierarchy newsupertypehierarchy sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label hierarchy type new supertype hierarchy newsupertypehierarchy f owner fowner sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label f type hierarchies ftypehierarchies type hierarchy monitor monitor hierarchy member visibility adjustment param member member test param threshold visibility threshold test code code member adjustment code code needs visibility adjustment needsvisibilityadjustment i member imember member modifier keyword modifierkeyword threshold is not null isnotnull member needs visibility adjustments needsvisibilityadjustments member threshold f adjustments fadjustments rewrites computed adjustments compilation unit param unit compilation unit rewrite adjustments param monitor progress monitor java model exception javamodelexception error occurs search rewrite visibility rewritevisibility i compilation unit icompilationunit unit i progress monitor iprogressmonitor monitor java model exception javamodelexception nls monitor begin task begintask f adjustments fadjustments key set keyset size monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjusting i member imember member i visibility adjustment ivisibilityadjustment adjustment iterator i member imember iterator f adjustments fadjustments key set keyset iterator iterator has next hasnext member iterator unit equals member get compilation unit getcompilationunit adjustment f adjustments fadjustments member adjustment adjustment rewrite visibility rewritevisibility sub progress monitor subprogressmonitor monitor f type hierarchies ftypehierarchies clear monitor rewrites computed adjustments param monitor progress monitor java model exception javamodelexception error occurs search rewrite visibility rewritevisibility i progress monitor iprogressmonitor monitor java model exception javamodelexception nls monitor begin task begintask f adjustments fadjustments key set keyset size monitor set task name settaskname refactoring core messages refactoringcoremessages member visibility adjustor membervisibilityadjustor adjusting i member imember member i visibility adjustment ivisibilityadjustment adjustment iterator i member imember iterator f adjustments fadjustments key set keyset iterator iterator has next hasnext member iterator adjustment f adjustments fadjustments member adjustment adjustment rewrite visibility rewritevisibility sub progress monitor subprogressmonitor monitor monitor is canceled iscanceled operation canceled exception operationcanceledexception f type hierarchies ftypehierarchies clear monitor sets existing visibility adjustments account element type map i member imember i visibility adjustment ivisibilityadjustment method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor existing adjustments account param adjustments existing adjustments set adjustments setadjustments map i member imember incoming member visibility adjustment incomingmembervisibilityadjustment adjustments is not null isnotnull adjustments f adjustments fadjustments adjustments sets severity failure messages method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor status link refactoring status refactoringstatus error param severity severity failure messages set failure severity setfailureseverity severity is true istrue is status severity isstatusseverity severity determines incoming references adjusted method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor adjust incoming references param incoming code code incoming references adjusted code code set incoming setincoming incoming f incoming fincoming incoming determines out going outgoing references adjusted method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor adjust out going outgoing references param out going outgoing code code out going outgoing references adjusted code code set outgoing setoutgoing out going outgoing f outgoing foutgoing out going outgoing sets ast rewrite member visibility adjustments method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor compilation unit rewrite param rewrite ast rewrite param root root ast rewrite set rewrite setrewrite ast rewrite astrewrite rewrite compilation unit compilationunit root is true istrue rewrite root f rewrite frewrite rewrite f root froot root sets compilation unit rewrites adjustor element type map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor existing rewrites param rewrites map compilation units compilation unit rewrites set rewrites setrewrites map i compilation unit icompilationunit compilation unit rewrite compilationunitrewrite rewrites is not null isnotnull rewrites f rewrites frewrites rewrites sets incoming search scope adjustor method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor workspace scope param scope search scope set scope setscope i java search scope ijavasearchscope scope is not null isnotnull scope f scope fscope scope sets working copy owner adjustor method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor param owner working copy owner code code set owner setowner working copy owner workingcopyowner owner f owner fowner owner sets refactoring status adjustor method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor fresh status status link refactoring status refactoringstatus param status refactoring status set status setstatus refactoring status refactoringstatus status is not null isnotnull status f status fstatus status sets severity visibility messages method called calling link member visibility adjustor membervisibilityadjustor adjust visibility adjustvisibility i progress monitor iprogressmonitor status link refactoring status refactoringstatus warning param severity severity visibility messages set visibility severity setvisibilityseverity severity is true istrue is status severity isstatusseverity severity f visibility severity fvisibilityseverity severity returns visibility threshold type field param referencing referencing type param referenced referenced field param monitor progress monitor visibility keyword threshold code code visibility java model exception javamodelexception java elements accessed modifier keyword modifierkeyword threshold type to field thresholdtypetofield i type itype referencing i field ifield referenced i progress monitor iprogressmonitor monitor java model exception javamodelexception modifier keyword modifierkeyword keyword modifier keyword modifierkeyword keyword i compilation unit icompilationunit referenced unit referencedunit referenced get compilation unit getcompilationunit referenced get declaring type getdeclaringtype equals referencing keyword modifier keyword modifierkeyword keyword i type hierarchy itypehierarchy hierarchy get type hierarchy gettypehierarchy referencing sub progress monitor subprogressmonitor monitor i type itype types hierarchy get super types getsupertypes referencing i type itype super type supertype types length super type supertype types super type supertype equals referenced get declaring type getdeclaringtype keyword modifier keyword modifierkeyword keyword keyword i compilation unit icompilationunit type unit typeunit referencing get compilation unit getcompilationunit referenced unit referencedunit referenced unit referencedunit equals type unit typeunit keyword modifier keyword modifierkeyword keyword referenced unit referencedunit type unit typeunit referenced unit referencedunit get parent getparent equals type unit typeunit get parent getparent keyword keyword returns visibility threshold type method param referencing referencing type param referenced referenced method param monitor progress monitor visibility keyword threshold code code visibility java model exception javamodelexception java elements accessed modifier keyword modifierkeyword threshold type to method thresholdtypetomethod i type itype referencing i method imethod referenced i progress monitor iprogressmonitor monitor java model exception javamodelexception i compilation unit icompilationunit referenced unit referencedunit referenced get compilation unit getcompilationunit modifier keyword modifierkeyword keyword modifier keyword modifierkeyword keyword referenced get declaring type getdeclaringtype equals referencing keyword modifier keyword modifierkeyword keyword i type hierarchy itypehierarchy hierarchy get type hierarchy gettypehierarchy referencing sub progress monitor subprogressmonitor monitor i type itype types hierarchy get super types getsupertypes referencing i type itype super type supertype types length super type supertype types super type supertype equals referenced get declaring type getdeclaringtype keyword modifier keyword modifierkeyword keyword keyword i compilation unit icompilationunit type unit typeunit referencing get compilation unit getcompilationunit referenced unit referencedunit referenced unit referencedunit equals type unit typeunit referenced get declaring type getdeclaringtype get declaring type getdeclaringtype keyword keyword modifier keyword modifierkeyword keyword referenced unit referencedunit referenced unit referencedunit get parent getparent equals type unit typeunit get parent getparent keyword keyword returns visibility threshold type type param referencing referencing type param referenced referenced type param monitor progress monitor visibility keyword threshold code code visibility java model exception javamodelexception java elements accessed modifier keyword modifierkeyword threshold type to type thresholdtypetotype i type itype referencing i type itype referenced i progress monitor iprogressmonitor monitor java model exception javamodelexception modifier keyword modifierkeyword keyword modifier keyword modifierkeyword keyword i compilation unit icompilationunit referenced unit referencedunit referenced get compilation unit getcompilationunit referencing equals referenced get declaring type getdeclaringtype keyword modifier keyword modifierkeyword keyword i type hierarchy itypehierarchy hierarchy get type hierarchy gettypehierarchy referencing sub progress monitor subprogressmonitor monitor i type itype types hierarchy get super types getsupertypes referencing i type itype super type supertype types length super type supertype types super type supertype equals referenced keyword keyword i compilation unit icompilationunit type unit typeunit referencing get compilation unit getcompilationunit referenced unit referencedunit referenced unit referencedunit equals type unit typeunit referenced get declaring type getdeclaringtype keyword keyword modifier keyword modifierkeyword keyword referenced unit referencedunit type unit typeunit referenced unit referencedunit get parent getparent equals type unit typeunit get parent getparent keyword keyword
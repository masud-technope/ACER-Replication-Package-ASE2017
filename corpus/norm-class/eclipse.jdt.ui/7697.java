copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation samrat dhillon sam rat samrat dhillon gmail https bugs eclipse org bugs bug cgi https bugs eclipse org bugs bug cgi org eclipse jdt tests refactoring java io exception ioexception java util hashtable java util map org eclipse core runtime null progress monitor nullprogressmonitor org eclipse jface preference i preference store ipreferencestore org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status entry refactoringstatusentry org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core refactoring descriptors introduce parameter object descriptor introduceparameterobjectdescriptor org eclipse jdt core refactoring descriptors introduce parameter object descriptor introduceparameterobjectdescriptor parameter org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring base refactoring status codes refactoringstatuscodes org eclipse jdt preference constants preferenceconstants org eclipse jdt internal java plugin javaplugin junit framework test junit framework test suite testsuite introduce parameter object tests introduceparameterobjecttests refactoring test refactoringtest introduce parameter object tests introduceparameterobjecttests clazz introduce parameter object tests introduceparameterobjecttests string dir string refactoring path introduce parameter object introduceparameterobject test set up test setuptest test some test sometest refactoring test setup refactoringtestsetup some test sometest test suite refactoring test setup refactoringtestsetup test suite testsuite clazz i package fragment ipackagefragment f pack fpack introduce parameter object descriptor introduceparameterobjectdescriptor f descriptor fdescriptor introduce parameter object tests introduceparameterobjecttests string check additional file checkadditionalfile string sub dir subdir string file name filename exception java model exception javamodelexception io exception ioexception i package fragment ipackagefragment pack get sub package getsubpackage sub dir subdir i compilation unit icompilationunit pack get compilation unit getcompilationunit file name filename java assert not null assertnotnull assert true asserttrue get path getpath exist exists string actual get source getsource string expected get file contents getfilecontents get output test file name getoutputtestfilename file name filename assert equal lines assertequallines expected actual check caller checkcaller string sub dir subdir exception check additional file checkadditionalfile sub dir subdir getcuname create additional file createadditionalfile string sub dir subdir string file name filename exception i package fragment ipackagefragment pack get sub package getsubpackage sub dir subdir i compilation unit icompilationunit create ufrom test file createcufromtestfile pack file name filename assert not null assertnotnull assert true asserttrue exists create caller createcaller string sub dir subdir exception create additional file createadditionalfile sub dir subdir getcuname string getcufilename caller string buffer stringbuffer string buffer stringbuffer append getcuname caller append java to string tostring string getcuname caller string buffer stringbuffer string buffer stringbuffer append character to upper case touppercase get name getname char at charat get name getname substring caller append caller to string tostring override string get refactoring path getrefactoringpath refactoring path i package fragment ipackagefragment get sub package getsubpackage string sub dir subdir exception i package fragment ipackagefragment pack get package p getpackagep sub dir subdir string package name packagename pack get element name getelementname sub dir subdir pack get root getroot get package fragment getpackagefragment package name packagename pack exists i package fragment ipackagefragment create get root getroot create package fragment createpackagefragment package name packagename null progress monitor nullprogressmonitor assert not null assertnotnull create assert true asserttrue create exists create pack run refactoring runrefactoring expect error expecterror use suggested method usesuggestedmethod exception refactoring status refactoringstatus status perform refactoring performrefactoring f descriptor fdescriptor expect error expecterror assert not null assertnotnull status use suggested method usesuggestedmethod refactoring status entry refactoringstatusentry entry status get entry matching severity getentrymatchingseverity refactoring status refactoringstatus fatal entry get code getcode refactoring status codes refactoringstatuscodes overrides method entry get code getcode refactoring status codes refactoringstatuscodes method declared object element entry get data getdata f descriptor fdescriptor set method setmethod i method imethod element status perform refactoring performrefactoring f descriptor fdescriptor assert null assertnull status status string expected get file contents getfilecontents get output test file name getoutputtestfilename getcuname assert not null assertnotnull expected i compilation unit icompilationunit resultcu f pack fpack get compilation unit getcompilationunit getcufilename assert not null assertnotnull resultcu assert true asserttrue resultcu exists string result resultcu get source getsource assert not null assertnotnull result assert equal lines assertequallines expected result f descriptor fdescriptor is top level istoplevel string package name packagename f descriptor fdescriptor get package name getpackagename package name packagename f pack fpack get root getroot get package fragment getpackagefragment package name packagename assert not null assertnotnull f pack fpack string parameter class file parameterclassfile f descriptor fdescriptor get class name getclassname java i compilation unit icompilationunit unit f pack fpack get compilation unit getcompilationunit parameter class file parameterclassfile assert not null assertnotnull unit assert true asserttrue unit exists expected get file contents getfilecontents get output test file name getoutputtestfilename f descriptor fdescriptor get class name getclassname result unit get source getsource assert not null assertnotnull result assert equal lines assertequallines expected result assert participant assertparticipant f descriptor fdescriptor get method getmethod get declaring type getdeclaringtype assert participant assertparticipant i type itype type of method typeofmethod java model exception javamodelexception test change method sign atur participant testchangemethodsignaturparticipant test participant testparticipant type of method typeofmethod override set up setup exception set up setup i preference store ipreferencestore store java plugin javaplugin get default getdefault get preference store getpreferencestore store set value setvalue preference constants preferenceconstants codegen add comments f descriptor fdescriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create introduce parameter object descriptor createintroduceparameterobjectdescriptor f pack fpack get package p getpackagep i method imethod setup method setupmethod exception java model exception javamodelexception i compilation unit icompilationunit create ufrom test file createcufromtestfile f pack fpack getcuname i type itype type get type gettype getcuname assert not null assertnotnull type assert true asserttrue type exists i method imethod foo method foomethod i method imethod methods type get methods getmethods methods length i method imethod method methods foo equals method get element name getelementname foo method foomethod method assert not null assertnotnull foo method foomethod assert true asserttrue foo method foomethod exists foo method foomethod setup package setuppackage string input package inputpackage java model exception javamodelexception f pack fpack get root getroot create package fragment createpackagefragment input package inputpackage override tear down teardown exception tear down teardown f descriptor fdescriptor f pack fpack i preference store ipreferencestore store java plugin javaplugin get default getdefault get preference store getpreferencestore store set to default settodefault preference constants preferenceconstants codegen add comments test body update testbodyupdate exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test default package point testdefaultpackagepoint exception setup package setuppackage f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set class name setclassname array list arraylist f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test default package point top level testdefaultpackagepointtoplevel exception setup package setuppackage f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set class name setclassname array list arraylist f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test delegate creation testdelegatecreation exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set get ters setgetters f descriptor fdescriptor set top level settoplevel f descriptor fdescriptor set set ters setsetters f descriptor fdescriptor set delegate setdelegate parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameters set field name setfieldname new a newa parameters set field name setfieldname new b newb parameters set field name setfieldname new d newd f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring test delegate creation code style testdelegatecreationcodestyle exception i java project ijavaproject java project javaproject get root getroot get java project getjavaproject map string string original options originaloptions java project javaproject get options getoptions hashtable string string new options newoptions hashtable new options newoptions java core javacore codeassist field prefixes new options newoptions java core javacore codeassist field suffixes java project javaproject set options setoptions new options newoptions f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set get ters setgetters f descriptor fdescriptor set set ters setsetters f descriptor fdescriptor set delegate setdelegate f descriptor fdescriptor set top level settoplevel parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameters set field name setfieldname new d newd f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring java project javaproject set options setoptions original options originaloptions test import add enclosing testimportaddenclosing exception create caller createcaller f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameters set field name setfieldname permissions f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring check caller checkcaller test import add top level testimportaddtoplevel exception create caller createcaller dir f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel f descriptor fdescriptor set class name setclassname test import add top level parameter testimportaddtoplevelparameter f descriptor fdescriptor set package name setpackagename parameters run refactoring runrefactoring check caller checkcaller dir test import name simple testimportnamesimple exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set class name setclassname array list arraylist f descriptor fdescriptor set parameter name setparametername f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test inline rename testinlinerename exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameters set create field setcreatefield f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring test sub class in u testsubclassincu exception test https bugs eclipse org bugs bug cgi f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel f descriptor fdescriptor set class name setclassname foo parameter fooparameter run refactoring runrefactoring test interface method testinterfacemethod exception create additional file createadditionalfile test interface method testinterfacemethod impl create additional file createadditionalfile i test interface method itestinterfacemethod f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel f descriptor fdescriptor set class name setclassname foo parameter fooparameter run refactoring runrefactoring run refactoring runrefactoring check additional file checkadditionalfile i test interface method itestinterfacemethod check additional file checkadditionalfile test interface method testinterfacemethod impl test recursive reordered testrecursivereordered exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameter temp parameters parameters parameters parameters temp f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring test recursive simple testrecursivesimple exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test recursive simple reordered testrecursivesimplereordered exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test reorder getter testreordergetter exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set get ters setgetters f descriptor fdescriptor set top level settoplevel parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameter temp parameters parameters parameters parameters parameters parameters temp f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring test simple enclosing testsimpleenclosing exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test simple enclosing code style testsimpleenclosingcodestyle exception i java project ijavaproject java project javaproject get root getroot get java project getjavaproject map string string original options originaloptions java project javaproject get options getoptions hashtable string string new options newoptions hashtable new options newoptions java core javacore codeassist field prefixes new options newoptions java core javacore codeassist field suffixes new options newoptions java core javacore codeassist argument prefixes new options newoptions java core javacore codeassist argument suffixes java project javaproject set options setoptions new options newoptions f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring java project javaproject set options setoptions original options originaloptions test var args not reordered testvarargsnotreordered exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel run refactoring runrefactoring test var args reordered testvarargsreordered exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel parameter parameters introduce parameter object descriptor introduceparameterobjectdescriptor create parameters createparameters f descriptor fdescriptor get method getmethod parameter temp parameters parameters parameters parameters temp f descriptor fdescriptor set parameters setparameters parameters run refactoring runrefactoring test method type param args testmethodtypeparamargs exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel f descriptor fdescriptor set class name setclassname foo parameter fooparameter run refactoring runrefactoring test method type param args top level testmethodtypeparamargstoplevel exception f descriptor fdescriptor set method setmethod setup method setupmethod f descriptor fdescriptor set top level settoplevel f descriptor fdescriptor set class name setclassname foo parameter fooparameter run refactoring runrefactoring
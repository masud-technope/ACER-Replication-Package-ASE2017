copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext util org eclipse osgi util text processor textprocessor org eclipse core runtime org eclipse jface action legacy action tools legacyactiontools org eclipse jface viewers styled string styledstring org eclipse jface viewers styled string styledstring styler org eclipse jface text bad location exception badlocationexception org eclipse jface text default line tracker defaultlinetracker org eclipse jface text i line tracker ilinetracker org eclipse jface text i region iregion org eclipse jdt core i java project ijavaproject org eclipse jdt core formatter indent manipulation indentmanipulation helper provide string manipulation functions standard jdk strings strings tells link text processor textprocessor performance optimization text processor nls string test string teststring args string text processor test string teststring text processor textprocessor process test string teststring nls string java element delimiters text processor textprocessor get default delimiters getdefaultdelimiters sets code style r styler code code matching regions matchingregions code link org eclipse jdt core search search pattern searchpattern get matching regions getmatchingregions code styled string styledstring code starting code code param styled string styledstring styled string mark param start marking param matching regions matchingregions regions mark param style r styler style r styler marking mark matching regions markmatchingregions styled string styledstring styled string styledstring matching regions matchingregions styler style r styler matching regions matchingregions offset length matching regions matchingregions length offset offset matching regions matchingregions concatenate adjacent regions matching regions matchingregions length matching regions matchingregions matching regions matchingregions matching regions matchingregions length length matching regions matchingregions styled string styledstring set style setstyle offset length matching regions matchingregions style r styler offset length adds special marks styled string readable bi di bidi environment param styled string styledstring styled string processed styled string styled string styledstring markltr styled string styledstring styled string styledstring text processor styled string styledstring string input string inputstring styled string styledstring get string getstring string string text processor textprocessor process input string inputstring string input string inputstring insert marks insertmarks styled string styledstring input string inputstring string styled string styledstring adds special marks styled java element label readable bi di bidi environment param styled string styledstring styled string processed styled string styled string styledstring mark java element label r markjavaelementlabelltr styled string styledstring styled string styledstring text processor styled string styledstring string input string inputstring styled string styledstring get string getstring string string text processor textprocessor process input string inputstring java element delimiters string input string inputstring insert marks insertmarks styled string styledstring input string inputstring string styled string styledstring adds special marks styled string readable bi di bidi environment param styled string styledstring styled string param delimiters additional delimiters processed styled string styled string styledstring markltr styled string styledstring styled string styledstring string delimiters text processor styled string styledstring string input string inputstring styled string styledstring get string getstring string string text processor textprocessor process input string inputstring delimiters string input string inputstring insert marks insertmarks styled string styledstring input string inputstring string styled string styledstring inserts marks styled string param styled string styledstring styled string param original string originalstring original string param processed string processedstring processed string insert marks insertmarks styled string styledstring styled string styledstring string original string originalstring string processed string processedstring original length originallength original string originalstring length processed string length processedstringlength processed string processedstring length orig original length originallength original string originalstring char at charat processed string length processedstringlength processed processed string processedstring char at charat original length originallength orig processed original length originallength orig original string originalstring char at charat styled string styledstring insert processed adds special marks string readable bi di bidi environment param string string processed styled string string markltr string string text processor string text processor textprocessor process string adds special marks string readable bi di bidi environment param string string param delimiters delimiters processed styled string string markltr string string string delimiters text processor string text processor textprocessor process string delimiters adds special marks java element label readable bi di bidi environment param string string processed styled string string mark java element label r markjavaelementlabelltr string string text processor string text processor textprocessor process string java element delimiters tests param is lower case islowercase character to lower case tolowercase starts with ignore case startswithignorecase string text string prefix text length textlength text length prefix length prefixlength prefix length text length textlength prefix length prefixlength prefix length prefixlength character to lower case tolowercase prefix char at charat character to lower case tolowercase text char at charat string remove new line removenewline string message string buffer stringbuffer result string buffer stringbuffer current message index of indexof result append message substring current current result append current message index of indexof current result append message substring current result to string tostring converts string array lines lines don delimiter characters param input string string converted array strings returns code code input string converted array lines string convert into lines convertintolines string input i line tracker ilinetracker tracker default line tracker defaultlinetracker tracker input size tracker get number of lines getnumberoflines string result string size size i region iregion region tracker get line information getlineinformation offset region get offset getoffset result input substring offset offset region get length getlength result bad location exception badlocationexception returns code code string consists white spaces java string empty code code returned param string test code code string consists white spaces code code returned java lang character is whitespace iswhitespace contains only whitespaces containsonlywhitespaces string size length size character is whitespace iswhitespace char at charat removes leading tabs spaces string string doesn leading tabs spaces string returned param trimmed string trim leading tabs and spaces trimleadingtabsandspaces string size length start size size char at charat indent manipulation indentmanipulation is indent char isindentchar start start start size nls substring start string trim trailing tabs and spaces trimtrailingtabsandspaces string size length size size char at charat indent manipulation indentmanipulation is indent char isindentchar size nls substring returns indent string indentation units odd spaces counted param text param project java project formatter preferences code code global preferences number indent units compute indent units computeindentunits string i java project ijavaproject project indent manipulation indentmanipulation measure indent units measureindentunits code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project returns indent string indentation units odd spaces counted param text param tab width tabwidth width character space equivalents param indent width indentwidth width indentation unit space equivalents indent string indentation units compute indent units computeindentunits string tab width tabwidth indent width indentwidth indent manipulation indentmanipulation measure indent units measureindentunits tab width tabwidth indent width indentwidth computes visual length indentation code char sequence charsequence code counting tab character size tab whitespace character param string measure indent param tab size tabsize visual size tab space equivalents visual length indentation code code measure indent length measureindentlength char sequence charsequence tab size tabsize indent manipulation indentmanipulation measure indent in spaces measureindentinspaces tab size tabsize removes number indents asserts requested number indents code indents to remove indentstoremove code returned param param indents to remove indentstoremove indents remove param project java project formatter preferences code code global preferences trimmed string trim indent trimindent string indents to remove indentstoremove i java project ijavaproject project indent manipulation indentmanipulation trim indent trimindent indents to remove indentstoremove code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project removes number indents asserts requested number indents code indents to remove indentstoremove code returned param param indents to remove indentstoremove indents remove param tab width tabwidth tab width param indent width indentwidth indent width trimmed string trim indent trimindent string indents to remove indentstoremove tab width tabwidth indent width indentwidth indent manipulation indentmanipulation trim indent trimindent indents to remove indentstoremove tab width tabwidth indent width indentwidth removes common number indents lines consists white space param lines lines param project java project formatter preferences code code global preferences trim indentation trimindentation string lines i java project ijavaproject project trim indentation trimindentation lines code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project removes common number indents lines consists white space param lines lines param tab width tabwidth size tab space equivalents param indent width indentwidth size indent space equivalents trim indentation trimindentation string lines tab width tabwidth indent width indentwidth trim indentation trimindentation lines tab width tabwidth indent width indentwidth removes common number indents lines consists white space code consider first line considerfirstline code param lines lines param project java project formatter preferences code code global preferences param consider first line considerfirstline code consider first line considerfirstline code trim indentation trimindentation string lines i java project ijavaproject project consider first line considerfirstline trim indentation trimindentation lines code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project consider first line considerfirstline removes common number indents lines consists white space code consider first line considerfirstline code param lines lines param tab width tabwidth size tab space equivalents param indent width indentwidth size indent space equivalents param consider first line considerfirstline code consider first line considerfirstline code trim indentation trimindentation string lines tab width tabwidth indent width indentwidth consider first line considerfirstline string to do todo string lines length find indentation common lines large min indent minindent integer max consider first line considerfirstline lines length string lines contains only whitespaces containsonlywhitespaces to do todo indent compute indent units computeindentunits tab width tabwidth indent width indentwidth indent min indent minindent min indent minindent indent min indent minindent remove indent lines consider first line considerfirstline to do todo length string to do todo lines trim indent trimindent min indent minindent tab width tabwidth indent width indentwidth string lines indent compute indent units computeindentunits tab width tabwidth indent width indentwidth indent min indent minindent lines trim indent trimindent min indent minindent tab width tabwidth indent width indentwidth lines trim leading tabs and spaces trimleadingtabsandspaces returns indentation code code multiple indentation units param scan param project java project formatter preferences code code global preferences indent code code odd spaces string get indent string getindentstring string i java project ijavaproject project indent manipulation indentmanipulation extract indent string extractindentstring code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project returns indentation code code multiple indentation units param scan param tab width tabwidth size tab space equivalents param indent width indentwidth size indent space equivalents indent code code odd spaces string get indent string getindentstring string tab width tabwidth indent width indentwidth indent manipulation indentmanipulation extract indent string extractindentstring tab width tabwidth indent width indentwidth string remove trailing empty lines removetrailingemptylines string source lines sourcelines last non empty lastnonempty find last non empty line index findlastnonemptylineindex source lines sourcelines string result string last non empty lastnonempty result length result source lines sourcelines result find last non empty line index findlastnonemptylineindex string source lines sourcelines source lines sourcelines length nls source lines sourcelines trim equals change indent multi code range current indent removed indent code changed considered indent start middle param code code param code indent level codeindentlevel level indentation param project java project formatter preferences code code global preferences param new indent newindent indent param line delim linedelim delimiter changed code string change indent changeindent string code code indent level codeindentlevel i java project ijavaproject project string new indent newindent string line delim linedelim indent manipulation indentmanipulation change indent changeindent code code indent level codeindentlevel code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project new indent newindent line delim linedelim change indent muti code range current indent removed indent code changed considered indent start middle param code code param code indent level codeindentlevel indent level param tab width tabwidth size tab space equivalents param indent width indentwidth size indent space equivalents param new indent newindent indent param line delim linedelim delimiter changed code string change indent changeindent string code code indent level codeindentlevel tab width tabwidth indent width indentwidth string new indent newindent string line delim linedelim indent manipulation indentmanipulation change indent changeindent code code indent level codeindentlevel tab width tabwidth indent width indentwidth new indent newindent line delim linedelim string trim indentation trimindentation string source i java project ijavaproject project consider first line considerfirstline trim indentation trimindentation source code formatter util codeformatterutil get tab width gettabwidth project code formatter util codeformatterutil get indent width getindentwidth project consider first line considerfirstline string trim indentation trimindentation string source tab width tabwidth indent width indentwidth consider first line considerfirstline i line tracker ilinetracker tracker default line tracker defaultlinetracker tracker source size tracker get number of lines getnumberoflines size source string lines string size size i region iregion region tracker get line information getlineinformation offset region get offset getoffset lines source substring offset offset region get length getlength strings trim indentation trimindentation lines tab width tabwidth indent width indentwidth consider first line considerfirstline string buffer stringbuffer result string buffer stringbuffer size size result append lines result append tracker get line delimiter getlinedelimiter result to string tostring bad location exception badlocationexception is true istrue happen d happend concatenate strings strings passed delimiter delimiter delimiter param lines lines param delimiter delimiter concat enated concatenated lines string concatenate string lines string delimiter string buffer stringbuffer buffer string buffer stringbuffer lines length buffer append delimiter buffer append lines buffer to string tostring equals string length length length char at charat string remove trailing char acters removetrailingcharacters string text to remove toremove size text length size size text char at charat to remove toremove size text nls text substring string remove mnemonic indicator removemnemonicindicator string string legacy action tools legacyactiontools remove mnemonics removemnemonics string
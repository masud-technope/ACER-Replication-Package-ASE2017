copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring structure constraints java util abstract set abstractset java util array list arraylist java util collection java util collections java util hash map hashmap java util hash set hashset java util iterator java util linked hash map linkedhashmap java util map java util org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom org eclipse jdt core dom type org eclipse jdt internal corext refactoring type constraints typeconstraints compilation unit range compilationunitrange org eclipse jdt internal corext refactoring type constraints typeconstraints types t type ttype org eclipse jdt internal corext refactoring type constraints typeconstraints types type environment typeenvironment org eclipse jdt internal corext refactoring type constraints typeconstraints cast variable castvariable org eclipse jdt internal corext refactoring type constraints typeconstraints constraint variable constraintvariable org eclipse jdt internal corext refactoring type constraints typeconstraints i type constraint itypeconstraint org eclipse jdt internal corext refactoring type constraints typeconstraints immutable type variable immutabletypevariable org eclipse jdt internal corext refactoring type constraints typeconstraints independent type variable independenttypevariable org eclipse jdt internal corext refactoring type constraints typeconstraints parameter type variable parametertypevariable org eclipse jdt internal corext refactoring type constraints typeconstraints return type variable returntypevariable org eclipse jdt internal corext refactoring type constraints typeconstraints sub type constraint subtypeconstraint org eclipse jdt internal corext refactoring type constraints typeconstraints type equivalence set typeequivalenceset org eclipse jdt internal corext refactoring type constraints typeconstraints type variable typevariable org eclipse jdt internal corext refactoring type constraints typeconstraints variable variable variablevariable org eclipse jdt internal corext refactoring util refactoringastparser type constraints model hold type constraints replace type occurrences supertype super type constraints model supertypeconstraintsmodel custom ized customized implementation hash param element type has hed set hashedset abstract set abstractset backing hash map map f implementation fimplementation hash map hashmap java util abstract collection abstractcollection add java lang object override add object f implementation fimplementation object object attempts add object param object object add existing object considered equal newly object add existing addexisting object result f implementation fimplementation object result result f implementation fimplementation object object object java util abstract collection abstractcollection clear override clear f implementation fimplementation clear java util abstract collection abstractcollection java lang object override object object f implementation fimplementation contains key containskey object java util abstract collection abstractcollection is empty isempty override is empty isempty f implementation fimplementation is empty isempty java util abstract collection abstractcollection iterator override iterator iterator f implementation fimplementation key set keyset iterator java util abstract collection abstractcollection remove java lang object override remove object object f implementation fimplementation remove object object java util abstract collection abstractcollection size override size f implementation fimplementation size usage data nls string data usage max imal maximal number t types ttypes max cache returns usage constraint variable param variable constraint variable usage constraint variable element type code i type constraint itypeconstraint code collection i type constraint itypeconstraint get variable usage getvariableusage constraint variable constraintvariable variable object data variable get data getdata data usage data collections empty list emptylist data collection suppress warnings suppresswarnings unchecked collection i type constraint itypeconstraint collection collection i type constraint itypeconstraint data collections unmodifiable collection unmodifiablecollection collection collections singleton list singletonlist i type constraint itypeconstraint data type represented binding constrained type param binding binding check code code code code constrained code code is constrained type isconstrainedtype i type binding itypebinding binding binding binding is synthetic issynthetic binding is primitive isprimitive sets usage constraint variable param variable constraint variable param constraint type constraint set variable usage setvariableusage constraint variable constraintvariable variable i type constraint itypeconstraint constraint object data variable get data getdata data usage data variable set data setdata data usage constraint data collection suppress warnings suppresswarnings unchecked collection i type constraint itypeconstraint collection collection i type constraint itypeconstraint data collection add constraint collection object usage array list arraylist usage add data usage add constraint variable set data setdata data usage usage variables element type code cast variable castvariable code collection cast variable castvariable f cast variables fcastvariables array list arraylist compliance level f compliance fcompliance constraint variables element type code constraint variable constraintvariable code has hed set hashedset constraint variable constraintvariable f constraint variables fconstraintvariables has hed set hashedset covariant type constraints element type code covariant type constraint covarianttypeconstraint code collection i type constraint itypeconstraint f covariant type constraints fcovarianttypeconstraints array list arraylist type environment type environment typeenvironment f environment fenvironment subtype replace t type ttype f sub type fsubtype supertype replacement t type ttype f super type fsupertype t type ttype cache map string t type ttype f type cache fttypecache linked hash map linkedhashmap string t type ttype max cache serialversionuid override remove eldest entry removeeldestentry map entry string t type ttype entry size max cache type constraints element type code i type constraint itypeconstraint code i type constraint itypeconstraint f type constraints ftypeconstraints hash set hashset creates type constraints model param environment type environment param sub type subtype subtype replace param super type supertype supertype replacement super type constraints model supertypeconstraintsmodel type environment typeenvironment environment t type ttype sub type subtype t type ttype super type supertype f environment fenvironment environment f sub type fsubtype sub type subtype f super type fsupertype super type supertype called creation model begin creation begincreation creates variable param expression expression param variable constraint variable created variable code code constraint variable constraintvariable create cast variable createcastvariable cast expression castexpression expression constraint variable constraintvariable variable i type binding itypebinding binding expression resolve type binding resolvetypebinding binding is array isarray binding binding get element type getelementtype is constrained type isconstrainedtype binding cast variable castvariable result cast variable castvariable createttype binding compilation unit range compilationunitrange refactoringastparser get compilation unit getcompilationunit expression expression variable f cast variables fcastvariables add result result creates conditional type constraint param expression variable expressionvariable expression type constraint variable param then variable thenvariable type constraint variable param else variable elsevariable type constraint variable create conditional type constraint createconditionaltypeconstraint constraint variable constraintvariable expression variable expressionvariable constraint variable constraintvariable then variable thenvariable constraint variable constraintvariable else variable elsevariable i type constraint itypeconstraint constraint conditional type constraint conditionaltypeconstraint expression variable expressionvariable then variable thenvariable else variable elsevariable f type constraints ftypeconstraints constraint f type constraints ftypeconstraints add constraint set variable usage setvariableusage expression variable expressionvariable constraint set variable usage setvariableusage then variable thenvariable constraint set variable usage setvariableusage else variable elsevariable constraint creates subtype constraint param descendant descendant type constraint variable param ancestor ancestor type constraint variable create covariant type constraint createcovarianttypeconstraint constraint variable constraintvariable descendant constraint variable constraintvariable ancestor i type constraint itypeconstraint constraint covariant type constraint covarianttypeconstraint descendant ancestor f type constraints ftypeconstraints constraint f type constraints ftypeconstraints add constraint f covariant type constraints fcovarianttypeconstraints add constraint set variable usage setvariableusage descendant constraint set variable usage setvariableusage ancestor constraint creates declaring type variable declaring type variable stands type declared param type type binding created declaring type variable constraint variable constraintvariable create declaring type variable createdeclaringtypevariable i type binding itypebinding type type is array isarray type type get element type getelementtype type type get type declaration gettypedeclaration f constraint variables fconstraintvariables add existing addexisting immutable type variable immutabletypevariable createttype type creates equality constraint param left left type constraint typeconstraint variable param type constraint typeconstraint variable create equality constraint createequalityconstraint constraint variable constraintvariable left constraint variable constraintvariable left type equivalence set typeequivalenceset left get type equivalence set gettypeequivalenceset type equivalence set typeequivalenceset get type equivalence set gettypeequivalenceset type equivalence set typeequivalenceset type equivalence set typeequivalenceset left left set type equivalence set settypeequivalenceset set type equivalence set settypeequivalenceset add left left set type equivalence set settypeequivalenceset add set type equivalence set settypeequivalenceset constraint variable constraintvariable variables get contributing variables getcontributingvariables add all addall variables variables length variables set type equivalence set settypeequivalenceset creates exception variable param thrown exception created exception variable code code constraint variable constraintvariable create exception variable createexceptionvariable i type binding itypebinding binding resolve type binding resolvetypebinding is constrained type isconstrainedtype binding f constraint variables fconstraintvariables add existing addexisting type variable typevariable createttype binding compilation unit range compilationunitrange refactoringastparser get compilation unit getcompilationunit creates immutable type variable param type type binding created plain type variable code code constraint variable constraintvariable create immutable type variable createimmutabletypevariable i type binding itypebinding type type is array isarray type type get element type getelementtype is constrained type isconstrainedtype type f constraint variables fconstraintvariables add existing addexisting immutable type variable immutabletypevariable createttype type creates independent type variable independant type variable stands arbitrary type param type type binding created independant type variable code code constraint variable constraintvariable create independent type variable createindependenttypevariable i type binding itypebinding type type is array isarray type type get element type getelementtype is constrained type isconstrainedtype type f constraint variables fconstraintvariables add existing addexisting independent type variable independenttypevariable createttype type creates method parameter variable param method method binding param parameter created method parameter variable code code constraint variable constraintvariable create method parameter variable createmethodparametervariable i method binding imethodbinding method i type binding itypebinding parameters method get parameter types getparametertypes parameters length i type binding itypebinding binding parameters math min parameters length binding is array isarray binding binding get element type getelementtype is constrained type isconstrainedtype binding constraint variable constraintvariable variable t type ttype type createttype binding method get declaring class getdeclaringclass is from source isfromsource variable parameter type variable parametertypevariable type method get method declaration getmethoddeclaration variable immutable type variable immutabletypevariable type f constraint variables fconstraintvariables add existing addexisting variable creates type variable param method method binding created type variable code code constraint variable constraintvariable create return type variable createreturntypevariable i method binding imethodbinding method method is constructor isconstructor i type binding itypebinding binding method get return type getreturntype binding binding is array isarray binding binding get element type getelementtype binding is constrained type isconstrainedtype binding constraint variable constraintvariable variable t type ttype type createttype binding method get declaring class getdeclaringclass is from source isfromsource variable return type variable returntypevariable type method variable immutable type variable immutabletypevariable type f constraint variables fconstraintvariables add existing addexisting variable creates subtype constraint param descendant descendant type constraint variable param ancestor ancestor type constraint variable create sub type constraint createsubtypeconstraint constraint variable constraintvariable descendant constraint variable constraintvariable ancestor i type constraint itypeconstraint constraint sub type constraint subtypeconstraint descendant ancestor f type constraints ftypeconstraints constraint f type constraints ftypeconstraints add constraint set variable usage setvariableusage descendant constraint set variable usage setvariableusage ancestor constraint creates t type ttype binding param binding type binding t type ttype t type ttype createttype i type binding itypebinding binding string key binding get key getkey t type ttype cached f type cache fttypecache key cached cached t type ttype type f environment fenvironment create binding f type cache fttypecache key type type creates type variable param type type binding param range compilation unit range created type variable code code constraint variable constraintvariable create type variable createtypevariable i type binding itypebinding type compilation unit range compilationunitrange range type is array isarray type type get element type getelementtype is constrained type isconstrainedtype type f constraint variables fconstraintvariables add existing addexisting type variable typevariable createttype type range creates type variable param type type created type variable code code constraint variable constraintvariable create type variable createtypevariable type type i type binding itypebinding binding type resolve binding resolvebinding binding binding is array isarray binding binding get element type getelementtype is constrained type isconstrainedtype binding f constraint variables fconstraintvariables add existing addexisting type variable typevariable createttype binding compilation unit range compilationunitrange refactoringastparser get compilation unit getcompilationunit type type creates variable type variable param binding variable binding created variable variable code code constraint variable constraintvariable create variable variable createvariablevariable i variable binding ivariablebinding binding i type binding itypebinding type binding get type gettype type is array isarray type type get element type getelementtype is constrained type isconstrainedtype type constraint variable constraintvariable variable i variable binding ivariablebinding declaration binding get variable declaration getvariabledeclaration declaration is field isfield i type binding itypebinding declaring declaration get declaring class getdeclaringclass declaring is from source isfromsource variable immutable type variable immutabletypevariable createttype type i method binding imethodbinding declaring declaration get declaring method getdeclaringmethod declaring declaring get declaring class getdeclaringclass is from source isfromsource variable immutable type variable immutabletypevariable createttype type variable variable variable variable variablevariable createttype type declaration f constraint variables fconstraintvariables add existing addexisting variable called creation model ends end creation endcreation f environment fenvironment f type cache fttypecache returns variables model variables element type code cast variable castvariable code collection cast variable castvariable get cast variables getcastvariables collections unmodifiable collection unmodifiablecollection f cast variables fcastvariables returns compliance level compliance level get compliance getcompliance f compliance fcompliance returns constraint variables model constraint variables element type code constraint variable constraintvariable code collection constraint variable constraintvariable get constraint variables getconstraintvariables collections unmodifiable collection unmodifiablecollection f constraint variables fconstraintvariables returns subtype replaced subtype replaced t type ttype get sub type getsubtype f sub type fsubtype returns supertype replacement supertype replacement t type ttype get super type getsupertype f super type fsupertype returns type constraints model type constraints element type code i type constraint itypeconstraint code collection i type constraint itypeconstraint get type constraints gettypeconstraints collections unmodifiable collection unmodifiablecollection f type constraints ftypeconstraints sets compliance level param level compliance level argument code ast jls x jlsx code constants set compliance setcompliance level f compliance fcompliance level
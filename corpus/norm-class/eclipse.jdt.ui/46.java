copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal jar import jarimport java file java i o exception ioexception java input stream inputstream java net uri java util zip zip entry zipentry java util zip zip file zipfile org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core file system filesystem uri util uriutil org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs i dialog settings idialogsettings org eclipse jface viewers i structured selection istructuredselection org eclipse jface wizard i wizard page iwizardpage org eclipse i import wizard iimportwizard org eclipse i workbench iworkbench org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring descriptor proxy refactoringdescriptorproxy org eclipse ltk core refactoring history refactoring history refactoringhistory org eclipse ltk refactoring history refactoring history control configuration refactoringhistorycontrolconfiguration org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java plugin images javapluginimages org eclipse jdt internal jar package r jarpackager jar package r util jarpackagerutil org eclipse jdt internal refactoring binary binary refactoring history wizard binaryrefactoringhistorywizard wizard refactoring aware java archive jar file instantiated configuration intended subclassed pre i wizard iwizard wizard jar import wizard jarimportwizard wizard init workbench selection wizard dialog wizarddialog dialog wizard dialog wizarddialog shell wizard dialog open pre call code open code wizard dialog presented user user hits finish user selected jar file ins pected inspected ref actorings refactorings wizard executes event ual eventual ref actorings refactorings copies jar file version dialog closes call code open code returns jar import wizard jarimportwizard binary refactoring history wizard binaryrefactoringhistorywizard i import wizard iimportwizard proxy requests refactoring history data refactoring history proxy refactoringhistoryproxy refactoring history refactoringhistory cached refactoring history delta refactoring descriptor proxy refactoringdescriptorproxy f history delta fhistorydelta override refactoring descriptor proxy refactoringdescriptorproxy get descriptors getdescriptors f history delta fhistorydelta f history delta fhistorydelta refactoring history refactoringhistory incoming f import data fimportdata get refactoring history getrefactoringhistory incoming f history delta fhistorydelta incoming get descriptors getdescriptors i package fragment root ipackagefragmentroot root f import data fimportdata get package fragment root getpackagefragmentroot root uri uri getlocationuri root get raw classpath entry getrawclasspathentry uri file file file uri file exists zip file zipfile zip zip zip file zipfile file zip file zipfile open read zip entry zipentry entry zip get entry getentry jar package r util jarpackagerutil get refactorings entry getrefactoringsentry entry input stream inputstream stream stream zip get input stream getinputstream entry refactoring history refactoringhistory existing refactoring core refactoringcore get history service gethistoryservice read refactoring history readrefactoringhistory stream java refactoring descriptor javarefactoringdescriptor jar migration java refactoring descriptor javarefactoringdescriptor jar refactoring existing f history delta fhistorydelta incoming remove all removeall existing get descriptors getdescriptors stream stream close i o exception ioexception exception i o exception ioexception exception zip close i o exception ioexception core exception coreexception exception java plugin javaplugin log exception f history delta fhistorydelta refactoring descriptor proxy refactoringdescriptorproxy override is empty isempty refactoring descriptor proxy refactoringdescriptorproxy proxies get descriptors getdescriptors proxies proxies length override refactoring history refactoringhistory remove all removeall refactoring history refactoringhistory history unsupported operation exception unsupportedoperationexception dialog settings key nls string dialog settings key jar import wizard jarimportwizard path entry pointing valid location param entry path entry code code valid fragment root code code is valid class path entry isvalidclasspathentry i classpath entry iclasspathentry entry is not null isnotnull entry kind entry get entry kind getentrykind kind i classpath entry iclasspathentry cpe library entry get content kind getcontentkind i package fragment root ipackagefragmentroot binary kind i classpath entry iclasspathentry cpe variable opt imistic optimistic java project valid project param project java project returns code code project valid java model exception javamodelexception error occurs is valid java project isvalidjavaproject i java project ijavaproject project java model exception javamodelexception is not null isnotnull project project get project getproject is accessible isaccessible refactoring history proxy refactoring history proxy refactoringhistoryproxy f history proxy fhistoryproxy jar data jar import data jarimportdata f import data fimportdata jar import data jarimportdata jar code code jar import wizard page jarimportwizardpage f import page fimportpage wizard wizard f import wizard fimportwizard wizard dialog settings f new settings fnewsettings creates jar wizard jar import wizard jarimportwizard jar import messages jarimportmessages jar import wizard jarimportwizard window title jar import messages jarimportmessages refactoring import preview page refactoringimportpreviewpage title jar import messages jarimportmessages refactoring import preview page refactoringimportpreviewpage description f import data fimportdata set refactoring aware setrefactoringaware f import data fimportdata set include directory entries setincludedirectoryentries f history proxy fhistoryproxy refactoring history proxy refactoringhistoryproxy set input setinput f history proxy fhistoryproxy i dialog settings idialogsettings java plugin javaplugin get default getdefault get dialog settings getdialogsettings get section getsection dialog settings key f new settings fnewsettings f new settings fnewsettings set dialog settings setdialogsettings set configuration setconfiguration refactoring history control configuration refactoringhistorycontrolconfiguration override string get project pattern getprojectpattern jar import messages jarimportmessages jar import wizard jarimportwizard project pattern override string get workspace caption getworkspacecaption jar import messages jarimportmessages jar import wizard jarimportwizard workspace set default page image descriptor setdefaultpageimagedescriptor java plugin images javapluginimages desc wizban replace jar creates jar wizard param wizard code code wizard wizard code code jar import wizard jarimportwizard wizard f import wizard fimportwizard wizard set window title setwindowtitle jar import messages jarimportmessages jar import wizard jarimportwizard replace title override add user defined pages adduserdefinedpages f import page fimportpage jar import wizard page jarimportwizardpage f import wizard fimportwizard add page addpage f import page fimportpage override can finish canfinish can finish canfinish f import data fimportdata get package fragment root getpackagefragmentroot f import data fimportdata get refactoring file location getrefactoringfilelocation override deconfigure classpath deconfigureclasspath i classpath entry iclasspathentry entries i progress monitor iprogressmonitor monitor core exception coreexception rename f import data fimportdata is rename jar file isrenamejarfile rename f cancelled fcancelled i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot root i classpath entry iclasspathentry entry root get raw classpath entry getrawclasspathentry entries length entries equals entry i path ipath path get target path gettargetpath entries path entries java core javacore new library entry newlibraryentry path entries get source attachment path getsourceattachmentpath entries get source attachment root path getsourceattachmentrootpath entries get access rules getaccessrules entries get extra attributes getextraattributes entries is exported isexported f cancelled fcancelled replace jar file replacejarfile sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label rename returns jar data jar data jar import data jarimportdata get import data getimportdata f import data fimportdata override i wizard page iwizardpage get next page getnextpage i wizard page iwizardpage f import page fimportpage f import data fimportdata get refactoring history getrefactoringhistory get next page getnextpage override i package fragment root ipackagefragmentroot get package fragment root getpackagefragmentroot f import data fimportdata get package fragment root getpackagefragmentroot override refactoring history refactoringhistory get refactoring history getrefactoringhistory f history proxy fhistoryproxy returns target path updated classpath entry param entry classpath entry target path code code core exception coreexception error occurs i path ipath get target path gettargetpath i classpath entry iclasspathentry entry core exception coreexception uri location getlocationuri entry location uri target gettargeturi location target i path ipath path uri util uriutil to path topath target path i path ipath workspace resources plugin resourcesplugin get workspace getworkspace get root getroot get location getlocation workspace is prefix of isprefixof path path path remove first segments removefirstsegments workspace segment count segmentcount path path set device setdevice path path make absolute makeabsolute path returns target uri renaming jar file account param uri location uri target uri core exception coreexception error occurs uri gettargeturi uri uri core exception coreexception i file store ifilestore parent efs get store getstore uri get parent getparent parent uri location f import data fimportdata get refactoring file location getrefactoringfilelocation location parent get child getchild efs get store getstore location get name getname touri uri override init i workbench iworkbench workbench i structured selection istructuredselection selection selection selection size object element selection get first element getfirstelement element i package fragment root ipackagefragmentroot i package fragment root ipackagefragmentroot root i package fragment root ipackagefragmentroot element i classpath entry iclasspathentry entry root get raw classpath entry getrawclasspathentry is valid class path entry isvalidclasspathentry entry root get resolved classpath entry getresolvedclasspathentry get ref erencing entry getreferencingentry f import data fimportdata set package fragment root setpackagefragmentroot root java model exception javamodelexception exception java plugin javaplugin log exception override perform finish performfinish f new settings fnewsettings i dialog settings idialogsettings settings java plugin javaplugin get default getdefault get dialog settings getdialogsettings i dialog settings idialogsettings settings get section getsection dialog settings key settings add new section addnewsection dialog settings key set dialog settings setdialogsettings f import page fimportpage perform finish performfinish perform finish performfinish replaces jar file param monitor progress monitor core exception coreexception error occurs replace jar file replacejarfile i progress monitor iprogressmonitor monitor core exception coreexception monitor begin task begintask jar import messages jarimportmessages jar import wizard jarimportwizard cleanup uri location f import data fimportdata get refactoring file location getrefactoringfilelocation location i package fragment root ipackagefragmentroot root f import data fimportdata get package fragment root getpackagefragmentroot root uri uri getlocationuri root get raw classpath entry getrawclasspathentry uri i file store ifilestore store efs get store getstore location f import data fimportdata is rename jar file isrenamejarfile uri target gettargeturi uri store copy efs get store getstore target efs overwrite sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label uri equals target efs get store getstore uri delete efs sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label store copy efs get store getstore uri efs overwrite sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label f java project fjavaproject f java project fjavaproject get resource getresource refresh local refreshlocal i resource iresource depth infinite sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception status i status istatus error java plugin javaplugin get plugin i d getpluginid jar import messages jarimportmessages jar import wizard jarimportwizard error copying jar monitor
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal examples jsp editor jspeditor java util array list arraylist java util list org eclipse core runtime org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i marker imarker org eclipse jface text i region iregion org eclipse jface text position org eclipse jface text reconciler abstract reconcile step abstractreconcilestep org eclipse jface text reconciler dirty region dirtyregion org eclipse jface text reconciler i r econcilable model ireconcilablemodel org eclipse jface text reconciler i reconcile result ireconcileresult org eclipse jface text reconciler i reconcile step ireconcilestep org eclipse jface text source annotation org eclipse texteditor annotation type lookup annotationtypelookup org eclipse editors text editorsui org eclipse jdt core i buffer ibuffer org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i problem requestor iproblemrequestor org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core compiler i problem iproblem org eclipse jdt internal core buffer manager buffermanager reconcile step java source document input model main tains maintains java working copy model fixme destroy temporary working copy ways destroy reconcile call internal model any longer anylonger add life cycle reconcile steps dispose destroy java reconcile step javareconcilestep abstract reconcile step abstractreconcilestep annotation type lookup annotationtypelookup f annotation type lookup fannotationtypelookup editorsui get annotation type lookup getannotationtypelookup temporary working copy owner temporaryworkingcopyowner working copy owner workingcopyowner org eclipse jdt core working copy owner workingcopyowner create buffer createbuffer org eclipse jdt core i compilation unit icompilationunit i buffer ibuffer create buffer createbuffer i compilation unit icompilationunit working copy workingcopy fixme don buffer internal api buffer manager buffermanager create buffer createbuffer working copy workingcopy problem adapter problemadapter annotation adapter annotationadapter i problem iproblem f problem fproblem position f position fposition problem adapter problemadapter i problem iproblem problem f problem fproblem problem position get position getposition f position fposition f position fposition create position from problem createpositionfromproblem f position fposition annotation create annotation createannotation start f problem fproblem get source start getsourcestart start length f problem fproblem get source end getsourceend f problem fproblem get source start getsourcestart length type i marker imarker severity info f problem fproblem is error iserror type i marker imarker severity error f problem fproblem is warning iswarning type i marker imarker severity warning annotation f annotation type lookup fannotationtypelookup get annotation type getannotationtype i marker imarker problem type f problem fproblem get message getmessage position create position from problem createpositionfromproblem start f problem fproblem get source start getsourcestart start length f problem fproblem get source end getsourceend f problem fproblem get source start getsourcestart length position start length problem requestor problemrequestor i problem requestor iproblemrequestor list f collected problems fcollectedproblems f is active fisactive f is running fisrunning i problem requestor iproblemrequestor begin reporting beginreporting begin reporting beginreporting f is running fisrunning f collected problems fcollectedproblems array list arraylist i problem requestor iproblemrequestor accept problem acceptproblem i problem iproblem accept problem acceptproblem i problem iproblem problem is active isactive f collected problems fcollectedproblems add problem i problem requestor iproblemrequestor end reporting endreporting end reporting endreporting f is running fisrunning is active isactive is canceled iscanceled i reconcile result ireconcileresult get reconcile result getreconcileresult is true istrue f is running fisrunning size f collected problems fcollectedproblems size i reconcile result ireconcileresult result i reconcile result ireconcileresult size size result problem adapter problemadapter i problem iproblem f collected problems fcollectedproblems result i problem requestor iproblemrequestor is active isactive is active isactive f is active fisactive f collected problems fcollectedproblems is canceled iscanceled sets active problem requestor param is active isactive problem requestor set is active setisactive is active isactive f is active fisactive is active isactive f is active fisactive is active isactive f is active fisactive start collecting problems startcollectingproblems stop collecting problems stopcollectingproblems tells annotation model collect temporary problems start collecting problems startcollectingproblems f collected problems fcollectedproblems array list arraylist tells annotation model longer collect temporary problems stop collecting problems stopcollectingproblems empty implementation adapts code i compilation unit icompilationunit code code i text model itextmodel code compilation unit adapter compilationunitadapter i r econcilable model ireconcilablemodel i compilation unit icompilationunit f compilation unit fcompilationunit compilation unit adapter compilationunitadapter i compilation unit icompilationunit f compilation unit fcompilationunit i compilation unit icompilationunit get compilation unit getcompilationunit f compilation unit fcompilationunit compilation unit adapter compilationunitadapter f working copy fworkingcopy problem requestor problemrequestor f problem requestor fproblemrequestor working copy owner workingcopyowner f temporary working copy owner ftemporaryworkingcopyowner creates reconcile step pipe java reconcile step javareconcilestep i file ifile jsp file jspfile is not null isnotnull jsp file jspfile f temporary working copy owner ftemporaryworkingcopyowner temporary working copy owner temporaryworkingcopyowner f working copy fworkingcopy compilation unit adapter compilationunitadapter create temporary working copy createtemporaryworkingcopy jsp file jspfile java model exception javamodelexception print stack trace printstacktrace creates int ermediate intermediate reconcile step adds step pipe java reconcile step javareconcilestep i reconcile step ireconcilestep step i file ifile jsp file jspfile step is not null isnotnull jsp file jspfile f temporary working copy owner ftemporaryworkingcopyowner temporary working copy owner temporaryworkingcopyowner f working copy fworkingcopy compilation unit adapter compilationunitadapter create temporary working copy createtemporaryworkingcopy jsp file jspfile java model exception javamodelexception print stack trace printstacktrace abstract reconcile step abstractreconcilestep reconcile model reconcilemodel dirty region dirtyregion i region iregion i reconcile result ireconcileresult reconcile model reconcilemodel dirty region dirtyregion dirty region dirtyregion i region iregion sub region subregion nls is true istrue get input model getinputmodel document adapter documentadapter wrong model i compilation unit icompilationunit f working copy fworkingcopy get compilation unit getcompilationunit reconcile built nls system println reconciling java model i buffer ibuffer buffer buffer get buffer getbuffer java model exception javamodelexception print stack trace printstacktrace buffer buffer buffer set contents setcontents document adapter documentadapter get input model getinputmodel get document getdocument f problem requestor fproblemrequestor set is active setisactive reconcile get progress monitor getprogressmonitor java model exception javamodelexception print stack trace printstacktrace f problem requestor fproblemrequestor set is active setisactive f problem requestor fproblemrequestor get reconcile result getreconcileresult abstract reconcile step abstractreconcilestep get model getmodel i r econcilable model ireconcilablemodel get model getmodel f working copy fworkingcopy org eclipse jdt internal corext util working copy util workingcopyutil get new working copy getnewworkingcopy i compilation unit icompilationunit create temporary working copy createtemporaryworkingcopy i file ifile jsp file jspfile java model exception javamodelexception i container icontainer parent jsp file jspfile get parent getparent i package fragment ipackagefragment package fragment packagefragment i java element ijavaelement java core javacore create parent exists get element type getelementtype i java element ijavaelement fragment get parent getparent fall i java element ijavaelement fragment root i package fragment root ipackagefragmentroot package fragment root packagefragmentroot i package fragment root ipackagefragmentroot package fragment packagefragment package fragment root packagefragmentroot get package fragment getpackagefragment i package fragment root ipackagefragmentroot package root packageroot path i java element ijavaelement java project i java project ijavaproject j project jproject i java project ijavaproject j project jproject exists system println abort reconciling create working copy jsp java project package fragment root packagefragmentroot i package fragment root ipackagefragmentroot package fragment roots packagefragmentroots j project jproject get package fragment roots getpackagefragmentroots package fragment roots packagefragmentroots length package fragment roots packagefragmentroots is archive isarchive package fragment roots packagefragmentroots is external isexternal package fragment root packagefragmentroot package fragment roots packagefragmentroots package fragment root packagefragmentroot system println abort reconciling create working copy jsp java project source fragment root package fragment packagefragment package fragment root packagefragmentroot get package fragment getpackagefragment i package fragment root ipackagefragmentroot package root packageroot path f problem requestor fproblemrequestor problem requestor problemrequestor nls package fragment packagefragment get compilation unit getcompilationunit demo java get working copy getworkingcopy f temporary working copy owner ftemporaryworkingcopyowner f problem requestor fproblemrequestor get progress monitor getprogressmonitor
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation samrat dhillon sam rat samrat dhillon gmail gen eralize generalize type generalize declared type variable statement yields compilation error https bugs eclipse org bugs bug cgi org eclipse jdt internal corext refactoring type constraints typeconstraints java util array list arraylist java util arrays java util collection java util hash set hashset java util iterator java util linked hash set linkedhashset java util list java util org eclipse core runtime org eclipse jdt core dom array creation arraycreation org eclipse jdt core dom array initializer arrayinitializer org eclipse jdt core dom assignment org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom catch clause catchclause org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom conditional expression conditionalexpression org eclipse jdt core dom constructor invocation constructorinvocation org eclipse jdt core dom expression org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom instanceof expression instanceofexpression org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom super constructor invocation superconstructorinvocation org eclipse jdt core dom super field access superfieldaccess org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom this expression thisexpression org eclipse jdt core dom throw statement throwstatement org eclipse jdt core dom type org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom variable declaration expression variabledeclarationexpression org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext refactoring rename method checks methodchecks implementation creator creates constraints program constructs subclasses provide additional checks avoid creating constraints purposes full constraint creator fullconstraintcreator constraint creator constraintcreator i constraint variable factory iconstraintvariablefactory f constraint variable factory fconstraintvariablefactory i type constraint factory itypeconstraintfactory f type constraint factory ftypeconstraintfactory i context icontext f context fcontext full constraint creator fullconstraintcreator constraint variable factory constraintvariablefactory type constraint factory typeconstraintfactory full constraint creator fullconstraintcreator i constraint variable factory iconstraintvariablefactory c factory cfactory i type constraint factory itypeconstraintfactory t factory tfactory is true istrue c factory cfactory f constraint variable factory fconstraintvariablefactory c factory cfactory f type constraint factory ftypeconstraintfactory t factory tfactory f context fcontext null context nullcontext i context icontext get context getcontext f context fcontext set context setcontext i context icontext context f context fcontext context i type constraint factory itypeconstraintfactory get constraint factory getconstraintfactory f type constraint factory ftypeconstraintfactory i constraint variable factory iconstraintvariablefactory get constraint variable factory getconstraintvariablefactory f constraint variable factory fconstraintvariablefactory override i type constraint itypeconstraint create array initializer arrayinitializer array initializer arrayinitializer i type binding itypebinding array binding arraybinding array initializer arrayinitializer resolve type binding resolvetypebinding is true istrue array binding arraybinding is array isarray list expression expressions array initializer arrayinitializer expressions list i type constraint itypeconstraint constraints array list arraylist type type get type parent gettypeparent array initializer arrayinitializer constraint variable constraintvariable type variable typevariable f constraint variable factory fconstraintvariablefactory make type variable maketypevariable type expressions size expression expressions i type constraint itypeconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable get context getcontext type variable typevariable constraints add all addall arrays as list aslist constraints to array toarray i type constraint itypeconstraint constraints size override i type constraint itypeconstraint create assignment assignment f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable assignment get right hand side getrighthandside get context getcontext f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable assignment get left hand side getlefthandside get context getcontext override i type constraint itypeconstraint create cast expression castexpression cast expression castexpression expression expression cast expression castexpression get expression getexpression type type cast expression castexpression get type gettype i type constraint itypeconstraint defines constraint definesconstraint f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable cast expression castexpression get context getcontext f constraint variable factory fconstraintvariablefactory make type variable maketypevariable cast expression castexpression get type gettype is class binding isclassbinding expression resolve type binding resolvetypebinding is class binding isclassbinding type resolve binding resolvebinding constraint variable constraintvariable expression variable expressionvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable expression get context getcontext constraint variable constraintvariable cast expression variable castexpressionvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable cast expression castexpression get context getcontext i type constraint itypeconstraint create or or subtype constraint createororsubtypeconstraint expression variable expressionvariable cast expression variable castexpressionvariable defines constraint definesconstraint length i type constraint itypeconstraint defines constraint definesconstraint collection i type constraint itypeconstraint constraints array list arraylist constraints add constraints add all addall arrays as list aslist constraints to array toarray i type constraint itypeconstraint constraints size defines constraint definesconstraint override i type constraint itypeconstraint create catch clause catchclause node single variable declaration singlevariabledeclaration exception node get exception getexception constraint variable constraintvariable name variable namevariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable exception get name getname get context getcontext i type constraint itypeconstraint defines f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint name variable namevariable f constraint variable factory fconstraintvariablefactory make type variable maketypevariable exception get type gettype nls i type binding itypebinding throwable node getast resolve well known type resolvewellknowntype java lang throwable i type constraint itypeconstraint catch bound catchbound f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint name variable namevariable f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable throwable array list arraylist i type constraint itypeconstraint result array list arraylist result add all addall arrays as list aslist defines result add all addall arrays as list aslist catch bound catchbound result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create class instance creation classinstancecreation instance creation instancecreation list expression arguments instance creation instancecreation arguments list i type constraint itypeconstraint result array list arraylist arguments size i method binding imethodbinding method binding methodbinding instance creation instancecreation resolve constructor binding resolveconstructorbinding result add all addall arrays as list aslist get argument constraints getargumentconstraints arguments method binding methodbinding instance creation instancecreation get anonymous class declaration getanonymousclassdeclaration constraint variable constraintvariable constructor var constructorvar f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable instance creation instancecreation get context getcontext constraint variable constraintvariable type var typevar f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable instance creation instancecreation resolve type binding resolvetypebinding result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint constructor var constructorvar type var typevar result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create constructor invocation constructorinvocation invocation list expression arguments invocation arguments list i type constraint itypeconstraint result array list arraylist arguments size i method binding imethodbinding method binding methodbinding invocation resolve constructor binding resolveconstructorbinding result add all addall arrays as list aslist get argument constraints getargumentconstraints arguments method binding methodbinding result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create field access fieldaccess access expression expression access get expression getexpression simple name simplename access get name getname i binding ibinding binding resolve binding resolvebinding binding i variable binding ivariablebinding i type constraint itypeconstraint i variable binding ivariablebinding i variable binding ivariablebinding binding create constraints for access to field createconstraintsforaccesstofield expression access override i type constraint itypeconstraint create field declaration fielddeclaration list i type constraint itypeconstraint result array list arraylist result add all addall arrays as list aslist get constraints from fragment list getconstraintsfromfragmentlist fragments get type gettype result add all addall get constraints for hiding getconstraintsforhiding result add all addall get constraints for field declaring types getconstraintsforfielddeclaringtypes result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create instanceof expression instanceofexpression instanceof expression instanceofexpression expression expression instanceof expression instanceofexpression get left operand getleftoperand type type instanceof expression instanceofexpression get right operand getrightoperand is class binding isclassbinding expression resolve type binding resolvetypebinding is class binding isclassbinding type resolve binding resolvebinding constraint variable constraintvariable expression var expressionvar f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable expression get context getcontext constraint variable constraintvariable type variable typevariable f constraint variable factory fconstraintvariablefactory make type variable maketypevariable type create or or subtype constraint createororsubtypeconstraint expression var expressionvar type variable typevariable i type constraint itypeconstraint override i type constraint itypeconstraint create conditional expression conditionalexpression node list i type constraint itypeconstraint result array list arraylist expression then expression thenexpression node get then expression getthenexpression expression else expression elseexpression node get else expression getelseexpression constraint variable constraintvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable node get context getcontext constraint variable constraintvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable then expression thenexpression get context getcontext constraint variable constraintvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable else expression elseexpression get context getcontext i type constraint itypeconstraint constraints f type constraint factory ftypeconstraintfactory create equals constraint createequalsconstraint i type constraint itypeconstraint constraints f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint i type constraint itypeconstraint constraints f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint result add all addall arrays as list aslist constraints result add all addall arrays as list aslist constraints result add all addall arrays as list aslist constraints result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create method declaration methoddeclaration declaration list i type constraint itypeconstraint result array list arraylist i method binding imethodbinding method binding methodbinding declaration resolve binding resolvebinding method binding methodbinding i type constraint itypeconstraint i type constraint itypeconstraint constraints f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable method binding methodbinding f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable method binding methodbinding get declaring class getdeclaringclass result add all addall arrays as list aslist constraints method binding methodbinding is constructor isconstructor method binding methodbinding get return type getreturntype is primitive isprimitive constraint variable constraintvariable return type binding variable returntypebindingvariable f constraint variable factory fconstraintvariablefactory make return type variable makereturntypevariable method binding methodbinding constraint variable constraintvariable return type variable returntypevariable f constraint variable factory fconstraintvariablefactory make type variable maketypevariable declaration get return type getreturntype i type constraint itypeconstraint defines f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint return type binding variable returntypebindingvariable return type variable returntypevariable result add all addall arrays as list aslist defines declaration parameters size single variable declaration singlevariabledeclaration param decl paramdecl single variable declaration singlevariabledeclaration declaration parameters constraint variable constraintvariable parameter type variable parametertypevariable f constraint variable factory fconstraintvariablefactory make parameter type variable makeparametertypevariable method binding methodbinding constraint variable constraintvariable parameter name variable parameternamevariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable param decl paramdecl get name getname get context getcontext i type constraint itypeconstraint constraint f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint parameter type variable parametertypevariable parameter name variable parameternamevariable result add all addall arrays as list aslist constraint method checks methodchecks is virtual isvirtual method binding methodbinding collection i type constraint itypeconstraint constraints for overriding constraintsforoverriding get constraints for overriding getconstraintsforoverriding method binding methodbinding result add all addall constraints for overriding constraintsforoverriding result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create parenthesized expression parenthesizedexpression node constraint variable constraintvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable node get context getcontext constraint variable constraintvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable node get expression getexpression get context getcontext i type constraint itypeconstraint equal f type constraint factory ftypeconstraintfactory create equals constraint createequalsconstraint equal override i type constraint itypeconstraint create method invocation methodinvocation invocation list expression arguments invocation arguments list i type constraint itypeconstraint result array list arraylist arguments size i method binding imethodbinding method binding methodbinding invocation resolve method binding resolvemethodbinding method binding methodbinding i type constraint itypeconstraint i type constraint itypeconstraint return type constraint returntypeconstraint get return type constraint getreturntypeconstraint invocation method binding methodbinding result add all addall arrays as list aslist return type constraint returntypeconstraint result add all addall arrays as list aslist get argument constraints getargumentconstraints arguments method binding methodbinding invocation get expression getexpression method checks methodchecks is virtual isvirtual method binding methodbinding i method binding imethodbinding root defs rootdefs get root defs getrootdefs method binding methodbinding is true istrue root defs rootdefs length constraint variable constraintvariable expression var expressionvar f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable invocation get expression getexpression get context getcontext root defs rootdefs length result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint expression var expressionvar f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable root defs rootdefs collection i type constraint itypeconstraint constraints array list arraylist root defs rootdefs length constraint variable constraintvariable root def type var rootdeftypevar f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable root defs rootdefs i type constraint itypeconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint expression var expressionvar root def type var rootdeftypevar constraints add all addall arrays as list aslist i type constraint itypeconstraint constraints array constraintsarray constraints to array toarray i type constraint itypeconstraint constraints size constraints array constraintsarray length result add f type constraint factory ftypeconstraintfactory create composite or type constraint createcompositeortypeconstraint constraints array constraintsarray constraint variable constraintvariable type var typevar f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable method binding methodbinding constraint variable constraintvariable expression var expressionvar f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable invocation get expression getexpression get context getcontext result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint expression var expressionvar type var typevar result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create qualified name qualifiedname qualified name qualifiedname simple name simplename qualified name qualifiedname get name getname qualifier qualified name qualifiedname get qualifier getqualifier i binding ibinding name binding namebinding resolve binding resolvebinding name binding namebinding i variable binding ivariablebinding i variable binding ivariablebinding i variable binding ivariablebinding name binding namebinding is field isfield create constraints for access to field createconstraintsforaccesstofield qualifier qualified name qualifiedname todo bindings i type constraint itypeconstraint override i type constraint itypeconstraint create return statement returnstatement return statement returnstatement return statement returnstatement get expression getexpression i type constraint itypeconstraint constraint variable constraintvariable return type variable returntypevariable f constraint variable factory fconstraintvariablefactory make return type variable makereturntypevariable return statement returnstatement f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable return statement returnstatement get expression getexpression get context getcontext return type variable returntypevariable override i type constraint itypeconstraint create single variable declaration singlevariabledeclaration svd i type constraint itypeconstraint defines f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable svd get name getname get context getcontext f constraint variable factory fconstraintvariablefactory make type variable maketypevariable svd get type gettype svd get initializer getinitializer defines i type constraint itypeconstraint constraints f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable svd get initializer getinitializer get context getcontext f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable svd get name getname get context getcontext defines length constraints length i type constraint itypeconstraint defines length constraints constraints length defines list i type constraint itypeconstraint array list arraylist add all addall arrays as list aslist defines add all addall arrays as list aslist constraints i type constraint itypeconstraint to array toarray override i type constraint itypeconstraint create super constructor invocation superconstructorinvocation invocation list expression arguments invocation arguments list i type constraint itypeconstraint result array list arraylist arguments size i method binding imethodbinding method binding methodbinding invocation resolve constructor binding resolveconstructorbinding result add all addall arrays as list aslist get argument constraints getargumentconstraints arguments method binding methodbinding result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create super field access superfieldaccess access simple name simplename access get name getname i binding ibinding binding resolve binding resolvebinding binding i variable binding ivariablebinding i type constraint itypeconstraint i variable binding ivariablebinding i variable binding ivariablebinding binding create constraints for access to field createconstraintsforaccesstofield access override i type constraint itypeconstraint create super method invocation supermethodinvocation invocation list expression arguments invocation arguments list i type constraint itypeconstraint result array list arraylist arguments size i method binding imethodbinding method binding methodbinding invocation resolve method binding resolvemethodbinding i type constraint itypeconstraint return type constraint returntypeconstraint get return type constraint getreturntypeconstraint invocation method binding methodbinding result add all addall arrays as list aslist return type constraint returntypeconstraint result add all addall arrays as list aslist get argument constraints getargumentconstraints arguments method binding methodbinding result to array toarray i type constraint itypeconstraint result size override i type constraint itypeconstraint create this expression thisexpression expression constraint variable constraintvariable this expression thisexpression f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable expression get context getcontext todo decl live methods constraint variable constraintvariable declaring type declaringtype f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable expression resolve type binding resolvetypebinding f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint this expression thisexpression declaring type declaringtype override i type constraint itypeconstraint create variable declaration expression variabledeclarationexpression vde get constraints from fragment list getconstraintsfromfragmentlist vde fragments vde get type gettype override i type constraint itypeconstraint create variable declaration fragment variabledeclarationfragment vdf vdf get initializer getinitializer i type constraint itypeconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable vdf get initializer getinitializer get context getcontext f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable vdf get name getname get context getcontext override i type constraint itypeconstraint create variable declaration statement variabledeclarationstatement vds get constraints from fragment list getconstraintsfromfragmentlist vds fragments vds get type gettype override i type constraint itypeconstraint create throw statement throwstatement node constraint variable constraintvariable name variable namevariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable node get expression getexpression get context getcontext nls i type binding itypebinding throwable node getast resolve well known type resolvewellknowntype java lang throwable f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint name variable namevariable f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable throwable helpers collection i type constraint itypeconstraint get constraints for field declaring types getconstraintsforfielddeclaringtypes field declaration fielddeclaration collection i type constraint itypeconstraint result array list arraylist fragments size iterator variable declaration fragment variabledeclarationfragment iter fragments iterator iter has next hasnext variable declaration fragment variabledeclarationfragment var decl vardecl iter i variable binding ivariablebinding binding var decl vardecl resolve binding resolvebinding is true istrue binding is field isfield result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable binding f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable binding get declaring class getdeclaringclass result collection i type constraint itypeconstraint get constraints for hiding getconstraintsforhiding field declaration fielddeclaration collection i type constraint itypeconstraint result array list arraylist iterator variable declaration fragment variabledeclarationfragment iter fragments iterator iter has next hasnext result add all addall get constraints for hiding getconstraintsforhiding iter result collection i type constraint itypeconstraint get constraints for hiding getconstraintsforhiding variable declaration fragment variabledeclarationfragment fragment collection i type constraint itypeconstraint result array list arraylist i variable binding ivariablebinding field binding fieldbinding fragment resolve binding resolvebinding is true istrue field binding fieldbinding is field isfield i type binding itypebinding declaring types declaringtypes get declaring super types getdeclaringsupertypes field binding fieldbinding constraint variable constraintvariable hidding field var hiddingfieldvar f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable field binding fieldbinding iterator i type binding itypebinding iter declaring types declaringtypes iterator iter has next hasnext i type binding itypebinding declaring super type declaringsupertype iter i variable binding ivariablebinding hidden field hiddenfield find field findfield field binding fieldbinding declaring super type declaringsupertype is true istrue hidden field hiddenfield is field isfield constraint variable constraintvariable hidden field var hiddenfieldvar f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable hidden field hiddenfield result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create strict subtype constraint createstrictsubtypeconstraint hidding field var hiddingfieldvar hidden field var hiddenfieldvar result i type constraint itypeconstraint get constraints from fragment list getconstraintsfromfragmentlist list variable declaration fragment variabledeclarationfragment list type type size list size constraint variable constraintvariable type variable typevariable f constraint variable factory fconstraintvariablefactory make type variable maketypevariable type list i type constraint itypeconstraint result array list arraylist size size size variable declaration fragment variabledeclarationfragment fragment list simple name simplename fragment fragment get name getname result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable fragment get context getcontext type variable typevariable size variable declaration fragment variabledeclarationfragment fragment list result add all addall arrays as list aslist f type constraint factory ftypeconstraintfactory create equals constraint createequalsconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable fragment get context getcontext f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable fragment get name getname get context getcontext result to array toarray i type constraint itypeconstraint result size collection i type constraint itypeconstraint get constraints for overriding getconstraintsforoverriding i method binding imethodbinding overriding method overridingmethod collection i type constraint itypeconstraint result array list arraylist i type binding itypebinding declaring super types declaringsupertypes get declaring super types getdeclaringsupertypes overriding method overridingmethod iterator i type binding itypebinding iter declaring super types declaringsupertypes iterator iter has next hasnext i type binding itypebinding super type supertype iter i method binding imethodbinding overridden method overriddenmethod find method findmethod overriding method overridingmethod super type supertype asked declaring types is not null isnotnull overridden method overriddenmethod bindings equals overriding method overridingmethod overridden method overriddenmethod i type constraint itypeconstraint return type constraint returntypeconstraint f type constraint factory ftypeconstraintfactory create equals constraint createequalsconstraint f constraint variable factory fconstraintvariablefactory make return type variable makereturntypevariable overridden method overriddenmethod f constraint variable factory fconstraintvariablefactory make return type variable makereturntypevariable overriding method overridingmethod result add all addall arrays as list aslist return type constraint returntypeconstraint is true istrue overridden method overriddenmethod get parameter types getparametertypes length overriding method overridingmethod get parameter types getparametertypes length overridden method overriddenmethod get parameter types getparametertypes length i type constraint itypeconstraint parameter type constraint parametertypeconstraint f type constraint factory ftypeconstraintfactory create equals constraint createequalsconstraint f constraint variable factory fconstraintvariablefactory make parameter type variable makeparametertypevariable overridden method overriddenmethod f constraint variable factory fconstraintvariablefactory make parameter type variable makeparametertypevariable overriding method overridingmethod result add all addall arrays as list aslist parameter type constraint parametertypeconstraint i type constraint itypeconstraint declaring type constraint declaringtypeconstraint f type constraint factory ftypeconstraintfactory create strict subtype constraint createstrictsubtypeconstraint f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable overriding method overridingmethod f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable overridden method overriddenmethod result add all addall arrays as list aslist declaring type constraint declaringtypeconstraint result i type constraint itypeconstraint get return type constraint getreturntypeconstraint expression invocation i method binding imethodbinding method binding methodbinding method binding methodbinding method binding methodbinding is constructor isconstructor method binding methodbinding get return type getreturntype is primitive isprimitive i type constraint itypeconstraint constraint variable constraintvariable return type variable returntypevariable f constraint variable factory fconstraintvariablefactory make return type variable makereturntypevariable method binding methodbinding constraint variable constraintvariable invocation variable invocationvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable invocation get context getcontext f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint invocation variable invocationvariable return type variable returntypevariable i type constraint itypeconstraint get argument constraints getargumentconstraints list expression arguments i method binding imethodbinding method binding methodbinding list i type constraint itypeconstraint result array list arraylist arguments size method binding methodbinding i type constraint itypeconstraint method binding methodbinding is varargs isvarargs i type binding itypebinding parameter types parametertypes method binding methodbinding get parameter types getparametertypes n params nparams parameter types parametertypes length n args nargs arguments size args vararg parameter is true istrue n args nargs n params nparams parameter vararg method is true istrue n params nparams add normal argument constraints n params nparams expression argument arguments constraint variable constraintvariable expression variable expressionvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable argument get context getcontext constraint variable constraintvariable parameter type variable parametertypevariable f constraint variable factory fconstraintvariablefactory make parameter type variable makeparametertypevariable method binding methodbinding i type constraint itypeconstraint arg constraint argconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint expression variable expressionvariable parameter type variable parametertypevariable result add all addall arrays as list aslist arg constraint argconstraint create argument constraints arguments wrapped vararg parameter direct array directarray ore arguments remaining direct array directarray n args nargs component type vararg array i type binding itypebinding binding method binding methodbinding get parameter types getparametertypes n params nparams i type binding itypebinding component binding componentbinding binding get component type getcomponenttype is not null isnotnull component binding componentbinding constraint variable constraintvariable parameter type variable parametertypevariable f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable component binding componentbinding n args nargs expression argument arguments constraint variable constraintvariable expression variable expressionvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable argument get context getcontext i type constraint itypeconstraint arg constraint argconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint expression variable expressionvariable parameter type variable parametertypevariable result add all addall arrays as list aslist arg constraint argconstraint arguments size expression argument arguments constraint variable constraintvariable expression variable expressionvariable f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable argument get context getcontext constraint variable constraintvariable parameter type variable parametertypevariable f constraint variable factory fconstraintvariablefactory make parameter type variable makeparametertypevariable method binding methodbinding i type constraint itypeconstraint arg constraint argconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint expression variable expressionvariable parameter type variable parametertypevariable result add all addall arrays as list aslist arg constraint argconstraint result to array toarray i type constraint itypeconstraint result size type get type parent gettypeparent array initializer arrayinitializer array initializer arrayinitializer array initializer arrayinitializer get parent getparent array creation arraycreation array creation arraycreation array initializer arrayinitializer get parent getparent get type gettype get element type getelementtype array initializer arrayinitializer get parent getparent array initializer arrayinitializer get type parent gettypeparent array initializer arrayinitializer array initializer arrayinitializer get parent getparent array initializer arrayinitializer get parent getparent variable declaration variabledeclaration variable declaration variabledeclaration parent variable declaration variabledeclaration array initializer arrayinitializer get parent getparent parent get parent getparent variable declaration statement variabledeclarationstatement type type variable declaration statement variabledeclarationstatement parent get parent getparent get type gettype ast nodes astnodes get element type getelementtype type parent get parent getparent variable declaration expression variabledeclarationexpression type type variable declaration expression variabledeclarationexpression parent get parent getparent get type gettype ast nodes astnodes get element type getelementtype type parent get parent getparent field declaration fielddeclaration type type field declaration fielddeclaration parent get parent getparent get type gettype ast nodes astnodes get element type getelementtype type array initializers allowed places is true istrue i type constraint itypeconstraint create or or subtype constraint createororsubtypeconstraint constraint variable constraintvariable constraint variable constraintvariable i type constraint itypeconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint i type constraint itypeconstraint f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint length length i type constraint itypeconstraint i type constraint itypeconstraint f type constraint factory ftypeconstraintfactory create composite or type constraint createcompositeortypeconstraint i type constraint itypeconstraint i type constraint itypeconstraint create constraints for access to field createconstraintsforaccesstofield i variable binding ivariablebinding field binding fieldbinding expression qualifier expression access expression accessexpression is true istrue field binding fieldbinding is field isfield i type constraint itypeconstraint defines f type constraint factory ftypeconstraintfactory create defines constraint createdefinesconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable access expression accessexpression get context getcontext f constraint variable factory fconstraintvariablefactory make raw binding variable makerawbindingvariable field binding fieldbinding get type gettype qualifier defines i type constraint itypeconstraint sub type subtype f type constraint factory ftypeconstraintfactory create subtype constraint createsubtypeconstraint f constraint variable factory fconstraintvariablefactory make expression or type variable makeexpressionortypevariable qualifier get context getcontext f constraint variable factory fconstraintvariablefactory make declaring type variable makedeclaringtypevariable field binding fieldbinding defines length sub type subtype sub type subtype length defines i type constraint itypeconstraint defines sub type subtype i variable binding ivariablebinding find field findfield i variable binding ivariablebinding field binding fieldbinding i type binding itypebinding type field binding fieldbinding get declaring class getdeclaringclass equals type field binding fieldbinding bindings find field in type findfieldintype type field binding fieldbinding get name getname i type bindings itypebindings i type binding itypebinding get declaring super types getdeclaringsupertypes i variable binding ivariablebinding field binding fieldbinding i type binding itypebinding all super types allsupertypes bindings get all super types getallsupertypes field binding fieldbinding get declaring class getdeclaringclass i type binding itypebinding result hash set hashset all super types allsupertypes length i type binding itypebinding type all super types allsupertypes find field findfield field binding fieldbinding type result add type result root def rootdef i method binding imethodbinding get root defs getrootdefs i method binding imethodbinding method binding methodbinding i type binding itypebinding declaring super types declaringsupertypes get declaring super types getdeclaringsupertypes method binding methodbinding i method binding imethodbinding result linked hash set linkedhashset iterator i type binding itypebinding iter declaring super types declaringsupertypes iterator iter has next hasnext i type binding itypebinding type iter contains super type containsasupertype type declaring super types declaringsupertypes result add find method findmethod method binding methodbinding type result size result add method binding methodbinding result to array toarray i method binding imethodbinding result size param declaring super types declaringsupertypes i type bindings itypebindings code code iff code declaring super types declaringsupertypes code type str ict strict supertype code type code contains super type containsasupertype i type binding itypebinding type i type binding itypebinding declaring super types declaringsupertypes iterator i type binding itypebinding iter declaring super types declaringsupertypes iterator iter has next hasnext i type binding itypebinding may be super type maybesupertype iter bindings equals may be super type maybesupertype type bindings is super type issupertype may be super type maybesupertype type i type bindings itypebindings i type binding itypebinding get declaring super types getdeclaringsupertypes i method binding imethodbinding method binding methodbinding i type binding itypebinding super class superclass method binding methodbinding get declaring class getdeclaringclass i type binding itypebinding all super types allsupertypes linked hash set linkedhashset all super types allsupertypes add all addall arrays as list aslist bindings get all super types getallsupertypes super class superclass all super types allsupertypes is empty isempty todo iff empty declaring supertype all super types allsupertypes add method binding methodbinding get declaring class getdeclaringclass i type binding itypebinding result hash set hashset iterator i type binding itypebinding iter all super types allsupertypes iterator iter has next hasnext i type binding itypebinding type iter find method findmethod method binding methodbinding type result add type result i method binding imethodbinding find method findmethod i method binding imethodbinding method binding methodbinding i type binding itypebinding type method binding methodbinding get declaring class getdeclaringclass equals type method binding methodbinding bindings find overridden method in type findoverriddenmethodintype type method binding methodbinding is class binding isclassbinding i type binding itypebinding type binding typebinding type binding typebinding type binding typebinding is class isclass
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring infra java buffered reader bufferedreader java io exception ioexception java input stream inputstream java input stream reader inputstreamreader junit framework test case testcase org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt tests refactoring refactoring test refactoringtest abstractcutestcase test case testcase abstractcutestcase string string get file contents getfilecontents input stream inputstream io exception ioexception buffered reader bufferedreader buffered reader bufferedreader input stream reader inputstreamreader string buffer stringbuffer string buffer stringbuffer read read read append read close to string tostring i compilation unit icompilationunit createcu i package fragment ipackagefragment pack string string contents exception i compilation unit icompilationunit pack create compilation unit createcompilationunit contents save i compilation unit icompilationunit createcu i package fragment ipackagefragment pack string input stream inputstream contents exception createcu pack get file contents getfilecontents contents creating compilation unit resource folder relative plugin input stream inputstream get file input stream getfileinputstream string file name filename io exception ioexception string get resource location getresourcelocation i compilation unit icompilationunit createcu i package fragment ipackagefragment pack string exception adapt name adaptname createcu pack get file input stream getfileinputstream get file path getfilepath pack string adapt name adaptname string java string get proofed content getproofedcontent string folder string exception adapt name adaptname get file contents getfilecontents get file input stream getfileinputstream get file path getfilepath folder string get file path getfilepath string path string get resource location getresourcelocation path string get file path getfilepath i package fragment ipackagefragment pack string get file path getfilepath pack get element name getelementname helper compare file statement compare source comparesource string ref actored refactored string proofed compare source comparesource ref actored refactored proofed compare source comparesource string ref actored refactored string proofed skip package declaration skippackagedeclaration skip package declaration skippackagedeclaration ref actored refactored index of indexof ref actored refactored ref actored refactored substring skip package declaration skippackagedeclaration proofed index of indexof proofed proofed substring refactoring test refactoringtest assert equal lines assertequallines proofed ref actored refactored
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal compare java lang reflect invocation target exception invocationtargetexception java util list java util map java util resource bundle resourcebundle org eclipse swt widgets shell org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core resources i file ifile org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse core file buf fers filebuffers location kind locationkind org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers i selection iselection org eclipse jface viewers i structured selection istructuredselection org eclipse jface text i document idocument org eclipse jface text text utilities textutilities org eclipse i editor input ieditorinput org eclipse compare edit ion selection dialog editionselectiondialog org eclipse compare i stream content accessor istreamcontentaccessor org eclipse compare i type d element itypedelement org eclipse compare structure merge viewer structuremergeviewer document range node documentrangenode org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i parent iparent org eclipse jdt core i type itype org eclipse jdt core dom ast node astnode org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enum constant declaration enumconstantdeclaration org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom package declaration packagedeclaration org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext util resources org eclipse jdt i working copy manager iworkingcopymanager org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor java editor javaeditor org eclipse jdt internal util exception handler exceptionhandler java add element from history impl javaaddelementfromhistoryimpl java history action impl javahistoryactionimpl nls string bundle org eclipse jdt internal compare add from history action addfromhistoryaction java add element from history impl javaaddelementfromhistoryimpl override i selection iselection selection string error title errortitle compare messages comparemessages add from history addfromhistory title string error message errormessage compare messages comparemessages add from history addfromhistory internal error message internalerrormessage shell shell get shell getshell i compilation unit icompilationunit i parent iparent parent i member imember input analyze selection selection is empty isempty selection editor input java editor javaeditor editor get editor geteditor editor i editor input ieditorinput editor input editorinput editor get editor input geteditorinput i working copy manager iworkingcopymanager manager java plugin javaplugin get default getdefault get working copy manager getworkingcopymanager manager manager get working copy getworkingcopy editor input editorinput parent input get edit ion element geteditionelement selection input input get compilation unit getcompilationunit parent input input selection i structured selection istructuredselection object i structured selection istructuredselection selection get first element getfirstelement i compilation unit icompilationunit i compilation unit icompilationunit parent parent string invalid selection message invalidselectionmessage compare messages comparemessages add from history addfromhistory invalid selection message invalidselectionmessage message dialog messagedialog open information openinformation shell error title errortitle invalid selection message invalidselectionmessage i file ifile file get file getfile parent file message dialog messagedialog open error openerror shell error title errortitle error message errormessage in editor ineditor being edited beingedited file i status istatus status resources make commit table makecommittable file shell status isok document insert text i path ipath path file get full path getfullpath i text file buffer manager itextfilebuffermanager buffer manager buffermanager file buffers filebuffers get text file buffer manager gettextfilebuffermanager i text file buffer itextfilebuffer text file buffer textfilebuffer buffer manager buffermanager connect path location kind locationkind ifile text file buffer textfilebuffer buffer manager buffermanager get text file buffer gettextfilebuffer path location kind locationkind ifile i document idocument document text file buffer textfilebuffer get document getdocument configure edit ion selection dialog editionselectiondialog user select edit ion edition i type d element itypedelement target java text buffer node javatextbuffernode file document in editor ineditor i type d element itypedelement edit ions editions build edit ions buildeditions target file resource bundle resourcebundle bundle resource bundle resourcebundle get bundle getbundle bundle edit ion selection dialog editionselectiondialog edit ion selection dialog editionselectiondialog shell bundle set add mode setaddmode set help context id sethelpcontextid i java help context ids ijavahelpcontextids add element history dialog i type d element itypedelement selected select edit ion selectedition target edit ions editions parent selected user cancel i compilation unit icompilationunit parent i member imember i member imember parent get compilation unit getcompilationunit compilation unit compilationunit root parse partial compilation unit parsepartialcompilationunit ast rewrite astrewrite rewriter ast rewrite astrewrite create root getast i type d element itypedelement get selection getselection length create ast node ast node astnode new node newnode createastnode rewriter text utilities textutilities get default line delimiter getdefaultlinedelimiter document get java project getjavaproject new node newnode message dialog messagedialog open error openerror shell error title errortitle error message errormessage determine node new node newnode package declaration packagedeclaration rewriter root compilation unit compilationunit property new node newnode new node newnode import declaration importdeclaration list rewrite listrewrite rewriter get list rewrite getlistrewrite root compilation unit compilationunit imports property insert first insertfirst new node newnode enum annotation method field parent i compilation unit icompilationunit list rewrite listrewrite rewriter get list rewrite getlistrewrite root compilation unit compilationunit types property ast nodes astnodes get insertion index getinsertionindex body declaration bodydeclaration new node newnode root types insert at insertat new node newnode parent i type itype ast node astnode declaration get body container getbodycontainer root i type itype parent declaration type declaration typedeclaration declaration annotation type declaration annotationtypedeclaration list body declaration bodydeclaration container ast nodes astnodes get body declarations getbodydeclarations declaration ast nodes astnodes get insertion index getinsertionindex body declaration bodydeclaration new node newnode container list rewrite listrewrite rewriter get list rewrite getlistrewrite declaration ast nodes astnodes get body declarations property getbodydeclarationsproperty declaration insert at insertat new node newnode declaration enum declaration enumdeclaration list enum constant declaration enumconstantdeclaration container enum declaration enumdeclaration declaration enum constants enumconstants ast nodes astnodes get insertion index getinsertionindex field declaration fielddeclaration new node newnode container list rewrite listrewrite rewriter get list rewrite getlistrewrite declaration enum declaration enumdeclaration enum constants property insert at insertat new node newnode java plugin javaplugin log error message logerrormessage nls java add element from history impl javaaddelementfromhistoryimpl unknown container nls parent map string string options i java project ijavaproject java project javaproject get java project getjavaproject java project javaproject options java project javaproject get options getoptions apply changes applychanges rewriter document text file buffer textfilebuffer shell in editor ineditor options invocation target exception invocationtargetexception exception handler exceptionhandler handle shell error title errortitle error message errormessage interrupted exception interruptedexception is true istrue core exception coreexception exception handler exceptionhandler handle shell error title errortitle error message errormessage text file buffer textfilebuffer buffer manager buffermanager disconnect path location kind locationkind ifile core exception coreexception java plugin javaplugin log creates place holder ast node astnode element param rewriter param element param delimiter delimiter param project ast node astnode core exception coreexception ast node astnode createastnode ast rewrite astrewrite rewriter i type d element itypedelement element string delimiter i java project ijavaproject project core exception coreexception element i stream content accessor istreamcontentaccessor string content java compare utilities javacompareutilities read string readstring i stream content accessor istreamcontentaccessor element content content trim text block trimtextblock content delimiter project content type get place holder type getplaceholdertype element type rewriter create string placeholder createstringplaceholder content type returns place holder type element place holder type ast rewrite astrewrite placeholder get place holder type getplaceholdertype i type d element itypedelement element element document range node documentrangenode java node javanode java node javanode element get type code gettypecode java node javanode ast node astnode declaration java node javanode java node javanode ast node astnode type declaration java node javanode enum ast node astnode enum declaration java node javanode annotation ast node astnode annotation type declaration java node javanode constructor java node javanode method ast node astnode method declaration java node javanode field ast node astnode field declaration java node javanode init ast node astnode initializer java node javanode java node javanode container ast node astnode declaration java node javanode ast node astnode compilation unit override is enabled isenabled i selection iselection selection selection is empty isempty java editor javaeditor editor get editor geteditor editor check editor compilation unit compilationunit i editor input ieditorinput editor input editorinput editor get editor input geteditorinput i working copy manager iworkingcopymanager manager java plugin javaplugin get default getdefault get working copy manager getworkingcopymanager manager get working copy getworkingcopy editor input editorinput selection i structured selection istructuredselection object i structured selection istructuredselection selection get first element getfirstelement i compilation unit icompilationunit is enabled isenabled selection
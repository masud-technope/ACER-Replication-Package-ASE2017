copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring binary java buffered output stream bufferedoutputstream java i o exception ioexception java output stream outputstream java net uri java util iterator java util list org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime path org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i workspace runnable iworkspacerunnable org eclipse jdt core i class file iclassfile org eclipse jdt core i package fragment ipackagefragment org eclipse jdt internal java plugin javaplugin partial implementation code creation operation abstract code creation operation abstractcodecreationoperation i workspace runnable iworkspacerunnable uri output stubs uri foutputuri list packages create stubs list i package fragment ipackagefragment f packages fpackages creates code creation operation param uri uri output code param packages list packages create code abstract code creation operation abstractcodecreationoperation uri uri list i package fragment ipackagefragment packages is not null isnotnull uri is not null isnotnull packages foutputuri uri f packages fpackages packages creates compilation unit contents param store file store param compilation unit param content content compilation unit param monitor progress monitor core exception coreexception error occurs creating compilation unit create compilation unit createcompilationunit i file store ifilestore store string string content i progress monitor iprogressmonitor monitor core exception coreexception output stream outputstream stream stream buffered output stream bufferedoutputstream store get child getchild open output stream openoutputstream efs sub progress monitor subprogressmonitor monitor stream write content get bytes getbytes i o exception ioexception exception core exception coreexception status i status istatus error java plugin javaplugin get plugin i d getpluginid exception get local ized message getlocalizedmessage exception stream stream close i o exception ioexception exception creates fragment param store file store param param monitor progress monitor core exception coreexception error occurs creating fragment create package fragment createpackagefragment i file store ifilestore store string i progress monitor iprogressmonitor monitor core exception coreexception store mkdir efs monitor returns operation label operation label string get operation label getoperationlabel runs stub generation file param file file param parent parent store param monitor progress monitor core exception coreexception error occurs i class file iclassfile file i file store ifilestore parent i progress monitor iprogressmonitor monitor core exception coreexception override i progress monitor iprogressmonitor monitor core exception coreexception monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask get operation label getoperationlabel f packages fpackages size string buffer stringbuffer buffer string buffer stringbuffer iterator i package fragment ipackagefragment iterator f packages fpackages iterator iterator has next hasnext i package fragment ipackagefragment fragment iterator i progress monitor iprogressmonitor sub monitor submonitor sub progress monitor subprogressmonitor monitor i class file iclassfile files fragment get class files getclassfiles size files length sub monitor submonitor begin task begintask get operation label getoperationlabel size string fragment get element name getelementname i file store ifilestore store efs get store getstore foutputuri nls equals string pack buffer set length setlength buffer append length buffer length length buffer char at charat buffer set char at setcharat store store get child getchild path buffer to string tostring nls pack starts with startswith nls create package fragment createpackagefragment store pack sub progress monitor subprogressmonitor sub monitor submonitor create package fragment createpackagefragment store nls sub progress monitor subprogressmonitor nls sub monitor submonitor nls i progress monitor iprogressmonitor sub sub monitor subsubmonitor sub progress monitor subprogressmonitor sub monitor submonitor sub sub monitor subsubmonitor begin task begintask get operation label getoperationlabel size size sub monitor submonitor is canceled iscanceled operation canceled exception operationcanceledexception files store sub progress monitor subprogressmonitor sub sub monitor subsubmonitor sub sub monitor subsubmonitor monitor
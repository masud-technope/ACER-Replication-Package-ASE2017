copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring infra org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i source range isourcerange org eclipse jdt core source range sourcerange text range util textrangeutil instances text range util textrangeutil i source range isourcerange get selection getselection i compilation unit icompilationunit start line startline start column startcolumn end line endline end column endcolumn exception i document idocument document document get source getsource offset get offset getoffset document start line startline start column startcolumn get offset getoffset document end line endline end column endcolumn source range sourcerange offset offset get offset getoffset i compilation unit icompilationunit column exception i document idocument document document get source getsource get offset getoffset document column get offset getoffset string source column bad location exception badlocationexception i document idocument document document source get offset getoffset document column get offset getoffset i document idocument document column bad location exception badlocationexception document get line information getlineinformation get offset getoffset i region iregion region document get line information getlineinformation line tab count linetabcount calculate tab count in line calculatetabcountinline document region get offset getoffset region get length getlength column column line tab count linetabcount get tab width gettabwidth line tab count linetabcount get tab width gettabwidth calculate tab count in line calculatetabcountinline string line source linesource last char offset lastcharoffset acc char count charcount char count charcount last char offset lastcharoffset line source linesource char at charat acc char count charcount get tab width gettabwidth char count charcount acc
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal java editor javaeditor save participant saveparticipant java util array list arraylist java util hash map hashmap java util iterator java util map org eclipse core runtime core exception coreexception org eclipse core runtime i safe runnable isaferunnable org eclipse core runtime i status istatus org eclipse core runtime multi status multistatus org eclipse core runtime safe runner saferunner org eclipse core runtime status org eclipse core runtime preferences i scope context iscopecontext org eclipse core resources i project iproject org eclipse core resources project scope projectscope org eclipse jface text i region iregion org eclipse jdt core i compilation unit icompilationunit org eclipse jdt internal corext clean up post save listener cleanuppostsavelistener org eclipse jdt internal corext util messages org eclipse jdt javaui org eclipse jdt internal i java status constants ijavastatusconstants org eclipse jdt internal java plugin javaplugin org eclipse jdt internal clean up save participant preference configuration cleanupsaveparticipantpreferenceconfiguration org eclipse jdt internal java editor javaeditor compilation unit document provider compilationunitdocumentprovider registry save participants registry manages link save participant descriptor saveparticipantdescriptor track enabled save participants save participants enabled disabled java editor save participants preference enabled save participants not ified notified call link i post save listener ipostsavelistener saved org eclipse jdt core i compilation unit icompilationunit i region iregion org eclipse core runtime i progress monitor iprogressmonitor link compilation unit document provider compilationunitdocumentprovider saves compilation unit workspace instance registry received call link java plugin javaplugin get save participant registry getsaveparticipantregistry save participant registry saveparticipantregistry i post save listener ipostsavelistener empty array i post save listener ipostsavelistener map descriptors indexed identifiers map string save participant descriptor saveparticipantdescriptor f descriptors fdescriptors creates instance save participant registry saveparticipantregistry returns array code save participant descriptor saveparticipantdescriptor code describing registered save participants array registered save participant descriptors save participant descriptor saveparticipantdescriptor get save participant descriptors getsaveparticipantdescriptors ensure registered ensureregistered f descriptors fdescriptors values to array toarray save participant descriptor saveparticipantdescriptor f descriptors fdescriptors size returns save participant descriptor code code code code listener registered param identifier requested save participant descriptor code code save participant descriptor saveparticipantdescriptor get save participant descriptor getsaveparticipantdescriptor string ensure registered ensureregistered f descriptors fdescriptors ensures descriptors created stored code f descriptors fdescriptors code ensure registered ensureregistered f descriptors fdescriptors reload descriptors reloaddescriptors loads save participants method called order reload changed extension registry reload descriptors reloaddescriptors map string save participant descriptor saveparticipantdescriptor map hash map hashmap save participant descriptor saveparticipantdescriptor desc save participant descriptor saveparticipantdescriptor clean up post save listener cleanuppostsavelistener override i save participant preference configuration isaveparticipantpreferenceconfiguration create preference configuration createpreferenceconfiguration clean up save participant preference configuration cleanupsaveparticipantpreferenceconfiguration map desc get id getid desc f descriptors fdescriptors map dispose checks weather enabled disabled post save listener context param context context check settings context has settings in scope hassettingsinscope i scope context iscopecontext context ensure registered ensureregistered iterator save participant descriptor saveparticipantdescriptor iterator f descriptors fdescriptors values iterator iterator has next hasnext save participant descriptor saveparticipantdescriptor descriptor iterator descriptor get preference configuration getpreferenceconfiguration has settings in scope hassettingsinscope context i post save listener ipostsavelistener get enabled post save listeners getenabledpostsavelisteners i project iproject project get enabled post save listeners getenabledpostsavelisteners project scope projectscope project returns array code i post save listener ipostsavelistener code enabled context param context context retrieve settings current enabled post save listeners preferences i post save listener ipostsavelistener get enabled post save listeners getenabledpostsavelisteners i scope context iscopecontext context ensure registered ensureregistered array list arraylist i post save listener ipostsavelistener result iterator save participant descriptor saveparticipantdescriptor iterator f descriptors fdescriptors values iterator iterator has next hasnext save participant descriptor saveparticipantdescriptor descriptor iterator descriptor get preference configuration getpreferenceconfiguration is enabled isenabled context result result array list arraylist result add descriptor get post save listener getpostsavelistener result empty array result to array toarray i post save listener ipostsavelistener result size tells active post save listeners info rmed informed changed region save cycle param unit unit saved change regions determined core exception coreexception wrong is changed regions required ischangedregionsrequired i compilation unit icompilationunit unit core exception coreexception string message save participant messages saveparticipantmessages save participant registry saveparticipantregistry needs changed region failed needschangedregionfailed multi status multistatus error status errorstatus multi status multistatus javaui plugin i java status constants ijavastatusconstants editor changed region calculation message i post save listener ipostsavelistener listeners java plugin javaplugin get default getdefault get save participant registry getsaveparticipantregistry get enabled post save listeners getenabledpostsavelisteners unit get java project getjavaproject get project getproject result listeners length i post save listener ipostsavelistener listener listeners safe runner saferunner i safe runnable isaferunnable override exception listener needs changed regions needschangedregions unit result override handle exception handleexception throwable string msg messages format save participant caused exception nls string nls listener get id getid java plugin javaplugin log status i status istatus error javaui plugin i java status constants ijavastatusconstants editor post save not ification notification msg string participant name participantname listener get name getname msg messages format save participant messages saveparticipantmessages save participant registry saveparticipantregistry needs changed region cause d exception needschangedregioncausedexception string participant name participantname to string tostring error status errorstatus add status i status istatus error javaui plugin i java status constants ijavastatusconstants editor changed region calculation msg result error status errorstatus isok core exception coreexception error status errorstatus
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation matt chapman mpchapman gmail jdt java agnostic org eclipse jdt internal corext refactoring rename java util array list arraylist java util arrays java util hash map hashmap java util hash set hashset java util iterator java util linked hash map linkedhashmap java util list java util map java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i configuration element iconfigurationelement org eclipse core runtime i product iproduct org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime platform org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse text edits replace edit replaceedit org eclipse ltk core refactoring change org eclipse ltk core refactoring group category groupcategory org eclipse ltk core refactoring group category set groupcategoryset org eclipse ltk core refactoring i resource mapper iresourcemapper org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status context refactoringstatuscontext org eclipse ltk core refactoring text change textchange org eclipse ltk core refactoring text file change textfilechange org eclipse ltk core refactoring participants check conditions context checkconditionscontext org eclipse ltk core refactoring participants i participant descriptor filter iparticipantdescriptorfilter org eclipse ltk core refactoring participants refactoring processor refactoringprocessor org eclipse ltk core refactoring participants rename arguments renamearguments org eclipse ltk core refactoring resource rename resource change renameresourcechange org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i import declaration iimportdeclaration org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i local variable ilocalvariable org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom modifier org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core refactoring i java element mapper ijavaelementmapper org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring rename type arguments renametypearguments org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt core search i java search constants ijavasearchconstants org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt core search type reference match typereferencematch org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring availability tester refactoringavailabilitytester org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring refactoring scope factory refactoringscopefactory org eclipse jdt internal corext refactoring refactoring search engine refactoringsearchengine org eclipse jdt internal corext refactoring search result group searchresultgroup org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext refactoring base references in binary context referencesinbinarycontext org eclipse jdt internal corext refactoring dynamic validation refactoring change dynamicvalidationrefactoringchange org eclipse jdt internal corext refactoring rename compilation unit change renamecompilationunitchange org eclipse jdt internal corext refactoring text change compatibility textchangecompatibility org eclipse jdt internal corext refactoring participants java processors javaprocessors org eclipse jdt internal corext refactoring tag ging tagging i qualified name updating iqualifiednameupdating org eclipse jdt internal corext refactoring tag ging tagging i reference updating ireferenceupdating org eclipse jdt internal corext refactoring tag ging tagging i similar declaration updating isimilardeclarationupdating org eclipse jdt internal corext refactoring tag ging tagging i text updating itextupdating org eclipse jdt internal corext refactoring util org eclipse jdt internal corext refactoring util java element util javaelementutil org eclipse jdt internal corext refactoring util qualified name finder qualifiednamefinder org eclipse jdt internal corext refactoring util qualified name search result qualifiednamesearchresult org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util text change manager textchangemanager org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt internal corext util search utils searchutils org eclipse jdt java element labels javaelementlabels org eclipse jdt refactoring i refactoring processor ids irefactoringprocessorids org eclipse jdt refactoring refactoring save helper refactoringsavehelper org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal viewsupport basic element labels basicelementlabels rename type processor renametypeprocessor java rename processor javarenameprocessor i text updating itextupdating i reference updating ireferenceupdating i qualified name updating iqualifiednameupdating i similar declaration updating isimilardeclarationupdating i resource mapper iresourcemapper i java element mapper ijavaelementmapper nls string attribute qualified qualified nls string attribute textual matches text ual textual nls string attribute patterns patterns nls string attribute declarations similar declarations similardeclarations nls string attribute matching strategy match strategy matchstrategy nls group category set groupcategoryset category type rename group category set groupcategoryset group category groupcategory org eclipse jdt internal corext refactoring rename rename type renametype type refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory type refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory type description nls group category set groupcategoryset category method rename group category set groupcategoryset group category groupcategory org eclipse jdt internal corext refactoring rename rename type renametype method refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory method refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory method description nls group category set groupcategoryset category field rename group category set groupcategoryset group category groupcategory org eclipse jdt internal corext refactoring rename rename type renametype field refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory fields refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory fields description nls group category set groupcategoryset category local rename group category set groupcategoryset group category groupcategory org eclipse jdt internal corext refactoring rename rename type renametype local refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory local variables refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change category changecategory local variables description i type itype f type ftype search result group searchresultgroup f references freferences text change manager textchangemanager f change manager fchangemanager qualified name search result qualifiednamesearchresult f qualified name search result fqualifiednamesearchresult f update references fupdatereferences f update text ual matches fupdatetextualmatches f update qualified names fupdatequalifiednames string f file patterns ffilepatterns elements f update similar elements fupdatesimilarelements map i java element ijavaelement string f final similar element to name ffinalsimilarelementtoname f renaming strategy frenamingstrategy preloaded linked hash map linkedhashmap i java element ijavaelement string f preloaded element to name fpreloadedelementtoname map i java element ijavaelement f preloaded element to selection fpreloadedelementtoselection linked hash map linkedhashmap i java element ijavaelement string f preloaded element to name default fpreloadedelementtonamedefault cache decide update references preload info string f cached new name fcachednewname f cached rename similar elements fcachedrenamesimilarelements f cached renaming strategy fcachedrenamingstrategy refactoring status refactoringstatus f cached refactoring status fcachedrefactoringstatus participant descriptor filter participantdescriptorfilter i participant descriptor filter iparticipantdescriptorfilter override select i configuration element iconfigurationelement element refactoring status refactoringstatus status i configuration element iconfigurationelement params element get children getchildren param params length i configuration element iconfigurationelement param params nls handles similar declarations handlessimilardeclarations equals param get attribute getattribute equals nls param get attribute getattribute nls no override progress monitor nooverrideprogressmonitor sub progress monitor subprogressmonitor no override progress monitor nooverrideprogressmonitor i progress monitor iprogressmonitor monitor ticks monitor ticks sub progress monitor subprogressmonitor suppress subtask label override set task name settaskname string creates rename type processor param type type code code invoked scripting rename type processor renametypeprocessor i type itype type f type ftype type type set new element name setnewelementname type get element name getelementname f update references fupdatereferences f update text ual matches fupdatetextualmatches f update similar elements fupdatesimilarelements f renaming strategy frenamingstrategy renaming name suggestor renamingnamesuggestor strategy exact rename type processor renametypeprocessor java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status status merge initialize arguments i type itype get type gettype f type ftype override string get identifier getidentifier i refactoring processor ids irefactoringprocessorids rename type processor override is applicable isapplicable core exception coreexception refactoring availability tester refactoringavailabilitytester is rename available isrenameavailable f type ftype override string get processor name getprocessorname refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring override string get affected project natures getaffectedprojectnatures core exception coreexception java processors javaprocessors compute affected natures computeaffectednatures f type ftype override object get elements getelements object f type ftype override rename modifications renamemodifications compute rename modifications computerenamemodifications rename modifications renamemodifications result rename modifications renamemodifications result rename f type ftype rename type arguments renametypearguments get new element name getnewelementname get update references getupdatereferences get update similar declarations getupdatesimilardeclarations get similar elements getsimilarelements create participant descriptor filter createparticipantdescriptorfilter is primary type isprimarytype i compilation unit icompilationunit f type ftype get compilation unit getcompilationunit string newcuname get new compilation unit getnewcompilationunit get element name getelementname result rename rename arguments renamearguments newcuname get update references getupdatereferences result note handle method is primary type isprimarytype string cu name cuname f type ftype get compilation unit getcompilationunit get element name getelementname string type name typename f type ftype get element name getelementname checks is top level istoplevel f type ftype java core javacore remove java like extension removejavalikeextension cu name cuname equals type name typename i rename processor irenameprocessor override string get current element name getcurrentelementname f type ftype get element name getelementname override string get current element qualifier getcurrentelementqualifier java model util javamodelutil get type container name gettypecontainername f type ftype override refactoring status refactoringstatus check new element name checknewelementname string new name newname nls is not null isnotnull new name newname refactoring status refactoringstatus result checks check type name checktypename new name newname f type ftype checks is already name d isalreadynamed f type ftype new name newname result add fatal error addfatalerror refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring choose result override object get new element getnewelement checks is top level istoplevel f type ftype get new compilation unit getnewcompilationunit get type gettype get new element name getnewelementname f type ftype get declaring type getdeclaringtype get type gettype get new element name getnewelementname i compilation unit icompilationunit get new compilation unit getnewcompilationunit i compilation unit icompilationunit f type ftype get compilation unit getcompilationunit is primary type isprimarytype i package fragment ipackagefragment parent f type ftype get package fragment getpackagefragment string renamedcuname java model util javamodelutil get rename d name getrenamedcuname get new element name getnewelementname parent get compilation unit getcompilationunit renamedcuname java rename processor javarenameprocessor rename arguments renamearguments create rename arguments createrenamearguments rename type arguments renametypearguments get new element name getnewelementname get update references getupdatereferences get update similar declarations getupdatesimilardeclarations get similar elements getsimilarelements i participant descriptor filter iparticipantdescriptorfilter create participant descriptor filter createparticipantdescriptorfilter get update similar declarations getupdatesimilardeclarations participant descriptor filter participantdescriptorfilter override i file ifile get changed files getchangedfiles core exception coreexception list i file ifile result array list arraylist result add all addall arrays as list aslist resource util resourceutil get files getfiles f change manager fchangemanager get all compilation units getallcompilationunits f qualified name search result fqualifiednamesearchresult result add all addall arrays as list aslist f qualified name search result fqualifiednamesearchresult get all files getallfiles will rename u willrenamecu result add resource util resourceutil get file getfile f type ftype get compilation unit getcompilationunit result to array toarray i file ifile result size override get save mode getsavemode refactoring save helper refactoringsavehelper save refactoring i text updating itextupdating override can enable text updating canenabletextupdating override get update text ual matches getupdatetextualmatches f update text ual matches fupdatetextualmatches override set update text ual matches setupdatetextualmatches update f update text ual matches fupdatetextualmatches update i reference updating ireferenceupdating override set update references setupdatereferences update f update references fupdatereferences update override get update references getupdatereferences f update references fupdatereferences i qualified name updating iqualifiednameupdating override can enable qualified name updating canenablequalifiednameupdating f type ftype get package fragment getpackagefragment is default package isdefaultpackage f type ftype get parent getparent i type itype override get update qualified names getupdatequalifiednames f update qualified names fupdatequalifiednames override set update qualified names setupdatequalifiednames update f update qualified names fupdatequalifiednames update override string get file patterns getfilepatterns f file patterns ffilepatterns override set file patterns setfilepatterns string patterns is not null isnotnull patterns f file patterns ffilepatterns patterns i similar declaration updating isimilardeclarationupdating override can enable similar declaration updating canenablesimilardeclarationupdating i product iproduct product platform get product getproduct product nls string property product get property getproperty org eclipse jdt refactoring handles similar declarations handlessimilardeclarations nls equals ignore case equalsignorecase property override set update similar declarations setupdatesimilardeclarations update f update similar elements fupdatesimilarelements update override get update similar declarations getupdatesimilardeclarations f update similar elements fupdatesimilarelements override get match strategy getmatchstrategy f renaming strategy frenamingstrategy override set match strategy setmatchstrategy selected strategy selectedstrategy f renaming strategy frenamingstrategy selected strategy selectedstrategy elements type i fields ifields i methods imethods i local variables ilocalvariables returns code code iff declaration updating requested i java element ijavaelement get similar elements getsimilarelements f final similar element to name ffinalsimilarelementtoname i java element ijavaelement f final similar element to name ffinalsimilarelementtoname key set keyset to array toarray i java element ijavaelement size override i resource iresource get ref act ored resource getrefactoredresource i resource iresource element element i file ifile checks is top level istoplevel f type ftype element equals f type ftype get resource getresource get new compilation unit getnewcompilationunit get resource getresource element override i java element ijavaelement get ref act ored java element getrefactoredjavaelement i java element ijavaelement element element i compilation unit icompilationunit checks is top level istoplevel f type ftype element equals f type ftype get compilation unit getcompilationunit get new compilation unit getnewcompilationunit element i member imember i type itype new type newtype i type itype get new element getnewelement refactoring handle transplanter refactoringhandletransplanter transplanter refactoring handle transplanter refactoringhandletransplanter f type ftype new type newtype f final similar element to name ffinalsimilarelementtoname transplanter transplant handle transplanthandle i member imember element element override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception i type itype primary i type itype f type ftype get primary element getprimaryelement primary primary exists string qualified type name qualifiedtypename java element labels javaelementlabels get element label getelementlabel f type ftype java element labels javaelementlabels fully qualified string message messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring exist string basic element labels basicelementlabels get java element name getjavaelementname qualified type name qualifiedtypename basic element labels basicelementlabels get file name getfilename f type ftype get compilation unit getcompilationunit refactoring status refactoringstatus create fatal error status createfatalerrorstatus message f type ftype primary checks check if cu broken checkifcubroken f type ftype override refactoring status refactoringstatus do check final conditions docheckfinalconditions i progress monitor iprogressmonitor check conditions context checkconditionscontext context core exception coreexception nls is not null isnotnull f type ftype type nls is not null isnotnull get new element name getnewelementname new name newname refactoring status refactoringstatus result refactoring status refactoringstatus reference search ticks referencesearchticks f update references fupdatereferences f update similar elements fupdatesimilarelements affected cus ticks affectedcusticks f update references fupdatereferences f update similar elements fupdatesimilarelements similar element ticks similarelementticks f update similar elements fupdatesimilarelements create change ticks createchangeticks qualified names ticks qualifiednamesticks f update qualified names fupdatequalifiednames nls begin task begintask reference search ticks referencesearchticks affected cus ticks affectedcusticks similar element ticks similarelementticks create change ticks createchangeticks qualified names ticks qualifiednamesticks set task name settaskname refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring checking f change manager fchangemanager text change manager textchangemanager result merge check new element name checknewelementname get new element name getnewelementname result has fatal error hasfatalerror result result merge checks check if cu broken checkifcubroken f type ftype result has fatal error hasfatalerror result worked result merge check types in compilation unit checktypesincompilationunit worked result merge check for methods with constructor names checkformethodswithconstructornames worked result merge check imported types checkimportedtypes worked checks is top level istoplevel f type ftype i compilation unit icompilationunit f type ftype get compilation unit getcompilationunit string newcuname java model util javamodelutil get rename d name getrenamedcuname get new element name getnewelementname newcuname equals get element name getelementname result merge checks check compilation unit new name checkcompilationunitnewname get new element name getnewelementname worked is primary type isprimarytype result merge check new path validity checknewpathvalidity worked result merge check enclosing types checkenclosingtypes worked result merge check enclosed types checkenclosedtypes worked result merge check types in package checktypesinpackage worked result merge check types imported in cu checktypesimportedincu worked result merge checks check for main and native methods checkformainandnativemethods f type ftype worked expensive analysis result has fatal error hasfatalerror result result merge analyse enclosed types analyseenclosedtypes worked expensive analysis result has fatal error hasfatalerror result load references including named elements f update references fupdatereferences f update similar elements fupdatesimilarelements set task name settaskname refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring searching result merge initialize references initializereferences sub progress monitor subprogressmonitor reference search ticks referencesearchticks f references freferences search result group searchresultgroup set task name settaskname refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring checking is canceled iscanceled operation canceled exception operationcanceledexception f update references fupdatereferences f update similar elements fupdatesimilarelements result merge analyze affected compilation units analyzeaffectedcompilationunits sub progress monitor subprogressmonitor affected cus ticks affectedcusticks checks check compile errors in affected file checkcompileerrorsinaffectedfile result f type ftype get resource getresource worked affected cus ticks affectedcusticks result has fatal error hasfatalerror result f update similar elements fupdatesimilarelements result merge initialize similar elements rename processors initializesimilarelementsrenameprocessors sub progress monitor subprogressmonitor similar element ticks similarelementticks context result has fatal error hasfatalerror result create changes createchanges sub progress monitor subprogressmonitor create change ticks createchangeticks f update qualified names fupdatequalifiednames compute qualified name matches computequalifiednamematches sub progress monitor subprogressmonitor qualified names ticks qualifiednamesticks result initializes references type named elements method creates f references freferences f preloaded element to name fpreloadedelementtoname fields called param monitor progress monitor initialization status java model exception javamodelexception fun damental fundamental error underlying model operation canceled exception operationcanceledexception user can celed canceled task refactoring status refactoringstatus initialize references initializereferences i progress monitor iprogressmonitor monitor java model exception javamodelexception operation canceled exception operationcanceledexception is not null isnotnull f type ftype is not null isnotnull get new element name getnewelementname f references freferences get new element name getnewelementname equals f cached new name fcachednewname f cached rename similar elements fcachedrenamesimilarelements get update similar declarations getupdatesimilardeclarations f cached renaming strategy fcachedrenamingstrategy f renaming strategy frenamingstrategy f cached refactoring status fcachedrefactoringstatus f cached new name fcachednewname get new element name getnewelementname f cached rename similar elements fcachedrenamesimilarelements f update similar elements fupdatesimilarelements f cached renaming strategy fcachedrenamingstrategy f renaming strategy frenamingstrategy f cached refactoring status fcachedrefactoringstatus refactoring status refactoringstatus search pattern searchpattern pattern search pattern searchpattern create pattern createpattern f type ftype i java search constants ijavasearchconstants references search utils searchutils generics agnostic match rule string binary refs description binaryrefsdescription messages format refactoring core messages refactoringcoremessages references in binary context referencesinbinarycontext bin aries binaries description basic element labels basicelementlabels get java element name getjavaelementname f type ftype get element name getelementname references in binary context referencesinbinarycontext binary refs binaryrefs references in binary context referencesinbinarycontext binary refs description binaryrefsdescription f references freferences refactoring search engine refactoringsearchengine search pattern refactoring scope factory refactoringscopefactory create f type ftype type occurrence collector typeoccurrencecollector f type ftype binary refs binaryrefs monitor f cached refactoring status fcachedrefactoringstatus binary refs binaryrefs add error if necessary adderrorifnecessary f cached refactoring status fcachedrefactoringstatus f references freferences checks exclude compilation units excludecompilationunits f references freferences f cached refactoring status fcachedrefactoringstatus f preloaded element to name fpreloadedelementtoname linked hash map linkedhashmap f preloaded element to selection fpreloadedelementtoselection hash map hashmap string un qualified type name unqualifiedtypename f type ftype get element name getelementname nls monitor begin task begintask f references freferences length get update similar declarations getupdatesimilardeclarations renaming name suggestor renamingnamesuggestor sugg renaming name suggestor renamingnamesuggestor f renaming strategy frenamingstrategy f references freferences length i compilation unit icompilationunit f references freferences get compilation unit getcompilationunit search match searchmatch f references freferences get search results getsearchresults length type reference match typereferencematch type reference match typereferencematch match type reference match typereferencematch list i java element ijavaelement matches array list arraylist match get local element getlocalelement match get local element getlocalelement i local variable ilocalvariable matches add match get local element getlocalelement don update match type parameter annotation matches add i java element ijavaelement match get element getelement i java element ijavaelement match get o the r elements getotherelements matches add all addall arrays as list aslist iterator i java element ijavaelement iter matches iterator iter has next hasnext i java element ijavaelement element iter element i method imethod element i field ifield element i local variable ilocalvariable is in declared type isindeclaredtype match get offset getoffset element element i field ifield i field ifield current field currentfield i field ifield element string new field name newfieldname sugg suggest new field name suggestnewfieldname current field currentfield get java project getjavaproject current field currentfield get element name getelementname flags is static isstatic current field currentfield get flags getflags un qualified type name unqualifiedtypename get new element name getnewelementname new field name newfieldname f preloaded element to name fpreloadedelementtoname current field currentfield new field name newfieldname element i method imethod i method imethod current method currentmethod i method imethod element add method rename addmethodrename un qualified type name unqualifiedtypename sugg current method currentmethod element i local variable ilocalvariable i local variable ilocalvariable current local currentlocal i local variable ilocalvariable element is parameter isparameter current local currentlocal is parameter isparameter add method rename addmethodrename un qualified type name unqualifiedtypename sugg i method imethod current local currentlocal get parent getparent is parameter isparameter is parameter isparameter string new local name newlocalname sugg suggest new local name suggestnewlocalname current local currentlocal get java project getjavaproject current local currentlocal get element name getelementname is parameter isparameter un qualified type name unqualifiedtypename get new element name getnewelementname new local name newlocalname f preloaded element to name fpreloadedelementtoname current local currentlocal new local name newlocalname monitor is canceled iscanceled operation canceled exception operationcanceledexception iterator i java element ijavaelement iter f preloaded element to name fpreloadedelementtoname key set keyset iterator iter has next hasnext i java element ijavaelement element iter f preloaded element to selection fpreloadedelementtoselection element f preloaded element to name default fpreloadedelementtonamedefault linked hash map linkedhashmap f preloaded element to name fpreloadedelementtoname operation canceled exception operationcanceledexception f references freferences f preloaded element to name fpreloadedelementtoname operation canceled exception operationcanceledexception f cached refactoring status fcachedrefactoringstatus param match offset matchoffset offset match param parent element parentelement parent element match iff search match offset match type reference lies element enclosing java element method returns match declared type type enclosing element java model exception javamodelexception happen is in declared type isindeclaredtype match offset matchoffset i java element ijavaelement parent element parentelement java model exception javamodelexception parent element parentelement enclosing name offset enclosingnameoffset parent element parentelement i method imethod parent element parentelement i field ifield enclosing name offset enclosingnameoffset i member imember parent element parentelement get name range getnamerange get offset getoffset parent element parentelement i local variable ilocalvariable enclosing name offset enclosingnameoffset i local variable ilocalvariable parent element parentelement get name range getnamerange get offset getoffset match offset matchoffset enclosing name offset enclosingnameoffset add method rename addmethodrename string un qualified type name unqualifiedtypename renaming name suggestor renamingnamesuggestor sugg i method imethod current method currentmethod java model exception javamodelexception current method currentmethod is constructor isconstructor string new method name newmethodname sugg suggest new method name suggestnewmethodname current method currentmethod get element name getelementname un qualified type name unqualifiedtypename get new element name getnewelementname new method name newmethodname f preloaded element to name fpreloadedelementtoname current method currentmethod new method name newmethodname refactoring status refactoringstatus check new path validity checknewpathvalidity i container icontainer f type ftype get compilation unit getcompilationunit get resource getresource get parent getparent string not rename notrename refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring rename i status istatus status get workspace getworkspace validate name validatename get new element name getnewelementname i resource iresource file status get severity getseverity i status istatus error nls refactoring status refactoringstatus create warning status createwarningstatus status get message getmessage not rename notrename status get workspace getworkspace validate path validatepath create new path createnewpath get new element name getnewelementname i resource iresource file status get severity getseverity i status istatus error nls refactoring status refactoringstatus create warning status createwarningstatus status get message getmessage not rename notrename refactoring status refactoringstatus string create new path createnewpath string new name newname f type ftype get compilation unit getcompilationunit get resource getresource get full path getfullpath remove last segments removelastsegments append new name newname to string tostring refactoring status refactoringstatus check types imported in cu checktypesimportedincu core exception coreexception i import declaration iimportdeclaration imp get imported type getimportedtype f type ftype get compilation unit getcompilationunit get new element name getnewelementname imp string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring imported object get new element label getnewelementlabel basic element labels basicelementlabels get path label getpathlabel f type ftype get compilation unit getcompilationunit get resource getresource get full path getfullpath i java element ijavaelement grand parent grandparent imp get parent getparent get parent getparent grand parent grandparent i compilation unit icompilationunit refactoring status refactoringstatus create error status createerrorstatus msg java status context javastatuscontext create imp refactoring status refactoringstatus check types in package checktypesinpackage core exception coreexception i type itype type checks find type in package findtypeinpackage f type ftype get package fragment getpackagefragment get new element name getnewelementname type type exists string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring exists string get new element label getnewelementlabel java element labels javaelementlabels get element label getelementlabel f type ftype get package fragment getpackagefragment java element labels javaelementlabels refactoring status refactoringstatus create error status createerrorstatus msg java status context javastatuscontext create type refactoring status refactoringstatus check enclosed types checkenclosedtypes core exception coreexception i type itype enclosed type enclosedtype find enclosed type findenclosedtype f type ftype get new element name getnewelementname enclosed type enclosedtype string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring encloses string basic element labels basicelementlabels get java element name getjavaelementname f type ftype get fully qualified name getfullyqualifiedname get new element label getnewelementlabel refactoring status refactoringstatus create error status createerrorstatus msg java status context javastatuscontext create enclosed type enclosedtype refactoring status refactoringstatus check enclosing types checkenclosingtypes i type itype enclosing type enclosingtype find enclosing type findenclosingtype f type ftype get new element name getnewelementname enclosing type enclosingtype string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring enclosed string basic element labels basicelementlabels get java element name getjavaelementname f type ftype get fully qualified name getfullyqualifiedname get new element label getnewelementlabel refactoring status refactoringstatus create error status createerrorstatus msg java status context javastatuscontext create enclosing type enclosingtype string get new element label getnewelementlabel basic element labels basicelementlabels get java element name getjavaelementname get new element name getnewelementname i type itype find enclosed type findenclosedtype i type itype type string new name newname core exception coreexception i type itype enclosed types enclosedtypes type get types gettypes enclosed types enclosedtypes length new name newname equals enclosed types enclosedtypes get element name getelementname find enclosed type findenclosedtype enclosed types enclosedtypes new name newname enclosed types enclosedtypes i type itype find enclosing type findenclosingtype i type itype type string new name newname i type itype enclosing type get declaring type getdeclaringtype enclosing new name newname equals enclosing get element name getelementname enclosing enclosing enclosing get declaring type getdeclaringtype i import declaration iimportdeclaration get imported type getimportedtype i compilation unit icompilationunit string type name typename core exception coreexception i import declaration iimportdeclaration imports get imports getimports nls string dot type name dottypename type name typename imports length imports get element name getelementname ends with endswith dot type name dottypename imports refactoring status refactoringstatus check for methods with constructor names checkformethodswithconstructornames core exception coreexception i method imethod methods f type ftype get methods getmethods methods length methods is constructor isconstructor refactoring status refactoringstatus check checks check if constructor name checkifconstructorname methods methods get element name getelementname get new element name getnewelementname check check refactoring status refactoringstatus check imported types checkimportedtypes core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus i import declaration iimportdeclaration imports f type ftype get compilation unit getcompilationunit get imports getimports imports length analyze import declaration analyzeimportdeclaration imports result result refactoring status refactoringstatus check types in compilation unit checktypesincompilationunit refactoring status refactoringstatus result refactoring status refactoringstatus checked check types in package checktypesinpackage checks is top level istoplevel f type ftype i type itype sibling type siblingtype f type ftype get declaring type getdeclaringtype get type gettype get new element name getnewelementname sibling type siblingtype exists string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring member type exists string get new element label getnewelementlabel basic element labels basicelementlabels get java element name getjavaelementname f type ftype get declaring type getdeclaringtype get fully qualified name getfullyqualifiedname result add error adderror msg java status context javastatuscontext create sibling type siblingtype result refactoring status refactoringstatus analyse enclosed types analyseenclosedtypes core exception coreexception i source range isourcerange type range typerange f type ftype get source range getsourcerange refactoring status refactoringstatus result refactoring status refactoringstatus compilation unit compilationunit cu node cunode refactoringastparser ast provider astprovider shared ast level parse f type ftype get compilation unit getcompilationunit cu node cunode accept ast visitor astvisitor override enums annotations local visit enums annotations local type declaration typedeclaration node node get start position getstartposition type range typerange get offset getoffset node get start position getstartposition type range typerange get offset getoffset type range typerange get length getlength get new element name getnewelementname equals node get name getname get identifier getidentifier refactoring status context refactoringstatuscontext context java status context javastatuscontext create f type ftype get compilation unit getcompilationunit node string msg node is local type declaration islocaltypedeclaration msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring local type string java element util javaelementutil create signature createsignature f type ftype get new element label getnewelementlabel node is member type declaration ismembertypedeclaration msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring member type string java element util javaelementutil create signature createsignature f type ftype get new element label getnewelementlabel msg result add error adderror msg context method declaration methoddeclaration methods node get methods getmethods methods length modifier is native isnative methods get modifiers getmodifiers refactoring status context refactoringstatuscontext context java status context javastatuscontext create f type ftype get compilation unit getcompilationunit methods string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring enclosed type basic element labels basicelementlabels get java element name getjavaelementname node get name getname get identifier getidentifier result add warning addwarning msg context result i compilation unit icompilationunit get compilation unit getcompilationunit i import declaration iimportdeclaration imp i compilation unit icompilationunit imp get parent getparent get parent getparent analyze imported types analyzeimportedtypes i type itype types refactoring status refactoringstatus result i import declaration iimportdeclaration imp core exception coreexception types length problem imports jdt flags jdtflags is public ispublic types types get element name getelementname equals get new element name getnewelementname string msg messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring conflict object java element labels javaelementlabels get element label getelementlabel types java element labels javaelementlabels fully qualified basic element labels basicelementlabels get path label getpathlabel get compilation unit getcompilationunit imp get path getpath result add error adderror msg java status context javastatuscontext create imp i java element ijavaelement convert from import declaration convertfromimportdeclaration i import declaration iimportdeclaration declaration core exception coreexception declaration is on demand isondemand string package name packagename declaration get element name getelementname substring declaration get element name getelementname length java model util javamodelutil find type container findtypecontainer declaration get java project getjavaproject package name packagename java model util javamodelutil find type container findtypecontainer declaration get java project getjavaproject declaration get element name getelementname analyze import declaration analyzeimportdeclaration i import declaration iimportdeclaration imp refactoring status refactoringstatus result core exception coreexception imp is on demand isondemand analyzed earlier i java element ijavaelement imported convert from import declaration convertfromimportdeclaration imp imported imported i package fragment ipackagefragment i compilation unit icompilationunit cus i package fragment ipackagefragment imported get compilation units getcompilationunits cus length analyze imported types analyzeimportedtypes cus get types gettypes result imp safe java model utility javamodelutility convert from import declaration convertfromimportdeclaration analyze imported types analyzeimportedtypes i type itype imported get types gettypes result imp analyzes compilation units type referenced refactoring status refactoringstatus analyze affected compilation units analyzeaffectedcompilationunits i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus result merge checks check compile errors in affected files checkcompileerrorsinaffectedfiles f references freferences f type ftype get resource getresource nls begin task begintask f references freferences length result merge check conflicting types checkconflictingtypes result refactoring status refactoringstatus check conflicting types checkconflictingtypes i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus i java search scope ijavasearchscope scope refactoring scope factory refactoringscopefactory create f type ftype search pattern searchpattern pattern search pattern searchpattern create pattern createpattern get new element name getnewelementname i java search constants ijavasearchconstants type i java search constants ijavasearchconstants occurrences search utils searchutils generics agnostic match rule i compilation unit icompilationunit cus with references to conflicting types cuswithreferencestoconflictingtypes refactoring search engine refactoringsearchengine find affected compilation units findaffectedcompilationunits pattern scope result cus with references to conflicting types cuswithreferencestoconflictingtypes length result i compilation unit icompilationunit cus with references to rename d type cuswithreferencestorenamedtype get cus getcus f references freferences i compilation unit icompilationunit conflicts get int ersection getintersection cus with references to rename d type cuswithreferencestorenamedtype cus with references to conflicting types cuswithreferencestoconflictingtypes cus with references to conflicting types cuswithreferencestoconflictingtypes length cus i compilation unit icompilationunit cus with references to conflicting types cuswithreferencestoconflictingtypes string package name packagename f type ftype get package fragment getpackagefragment get element name getelementname i package fragment ipackagefragment get parent getparent get element name getelementname equals package name packagename has on demand import hasondemandimport i import declaration iimportdeclaration imports get imports getimports i import declaration iimportdeclaration import decl importdecl imports import decl importdecl is on demand isondemand has on demand import hasondemandimport string import name importname import decl importdecl get element name getelementname package length packagelength import name importname length get new element name getnewelementname length package length packagelength import name importname ends with endswith get new element name getnewelementname import name importname char at charat package length packagelength explicit problem cus has on demand import hasondemandimport renamed type shadow imported type conflicts add i compilation unit icompilationunit conflict conflicts refactoring status context refactoringstatuscontext context java status context javastatuscontext create conflict string message messages format refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring type string get new element label getnewelementlabel basic element labels basicelementlabels get file name getfilename conflict result add error adderror message context result i compilation unit icompilationunit get int ersection getintersection i compilation unit icompilationunit i compilation unit icompilationunit i compilation unit icompilationunit hash set hashset arrays as list aslist i compilation unit icompilationunit hash set hashset arrays as list aslist retain all retainall i compilation unit icompilationunit get cus getcus search result group searchresultgroup search result groups searchresultgroups list i compilation unit icompilationunit cus array list arraylist search result groups searchresultgroups length search result groups searchresultgroups length i compilation unit icompilationunit search result groups searchresultgroups get compilation unit getcompilationunit cus add cus to array toarray i compilation unit icompilationunit cus size override change create change createchange i progress monitor iprogressmonitor monitor core exception coreexception monitor begin task begintask refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring creating change string project i java project ijavaproject java project javaproject f type ftype get java project getjavaproject java project javaproject project java project javaproject get element name getelementname flags java refactoring descriptor javarefactoringdescriptor jar migration java refactoring descriptor javarefactoringdescriptor jar refactoring refactoring descriptor refactoringdescriptor structural change flags is private isprivate f type ftype get flags getflags flags refactoring descriptor refactoringdescriptor multi change f type ftype is anonymous isanonymous f type ftype is local islocal flags java refactoring descriptor javarefactoringdescriptor jar source attachment java model exception javamodelexception exception java plugin javaplugin log exception string description messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor descriptor description basic element labels basicelementlabels get java element name getjavaelementname f type ftype get element name getelementname string header messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor descriptor description string java element labels javaelementlabels get element label getelementlabel f type ftype java element labels javaelementlabels fully qualified get new element label getnewelementlabel string comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project header as string asstring rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename type descriptor set project setproject project descriptor set description setdescription description descriptor set comment setcomment comment descriptor set flags setflags flags descriptor set java element setjavaelement f type ftype descriptor set new name setnewname get new element name getnewelementname descriptor set update qualified names setupdatequalifiednames f update qualified names fupdatequalifiednames descriptor set update text ual occurrences setupdatetextualoccurrences f update text ual matches fupdatetextualmatches descriptor set update references setupdatereferences f update references fupdatereferences nls f update qualified names fupdatequalifiednames f file patterns ffilepatterns equals f file patterns ffilepatterns descriptor set file name patterns setfilenamepatterns f file patterns ffilepatterns descriptor set update similar declarations setupdatesimilardeclarations f update similar elements fupdatesimilarelements descriptor set match strategy setmatchstrategy f renaming strategy frenamingstrategy dynamic validation refactoring change dynamicvalidationrefactoringchange result dynamic validation refactoring change dynamicvalidationrefactoringchange descriptor refactoring core messages refactoringcoremessages rename type processor renametypeprocessor change f change manager fchangemanager contains changes in containschangesin f type ftype get compilation unit getcompilationunit text change textchange text change textchange f change manager fchangemanager f type ftype get compilation unit getcompilationunit text change textchange text file change textfilechange text file change textfilechange text change textchange set save mode setsavemode text file change textfilechange force save result add all addall f change manager fchangemanager get all changes getallchanges will rename u willrenamecu i resource iresource resource f type ftype get compilation unit getcompilationunit get resource getresource resource resource is linked islinked string ext resource get file extension getfileextension string renamed resource name renamedresourcename ext renamed resource name renamedresourcename get new element name getnewelementname renamed resource name renamedresourcename get new element name getnewelementname ext result add rename resource change renameresourcechange f type ftype get compilation unit getcompilationunit get path getpath renamed resource name renamedresourcename string renamedcuname java model util javamodelutil get rename d name getrenamedcuname f type ftype get compilation unit getcompilationunit get new element name getnewelementname result add rename compilation unit change renamecompilationunitchange f type ftype get compilation unit getcompilationunit renamedcuname monitor worked result f change manager fchangemanager override change post create change postcreatechange change participant changes participantchanges i progress monitor iprogressmonitor core exception coreexception f qualified name search result fqualifiednamesearchresult f qualified name search result fqualifiednamesearchresult get single change getsinglechange get modified files getmodifiedfiles participant changes participantchanges f qualified name search result fqualifiednamesearchresult will rename u willrenamecu string java core javacore remove java like extension removejavalikeextension f type ftype get compilation unit getcompilationunit get element name getelementname checks is top level istoplevel f type ftype equals f type ftype get element name getelementname check new path validity checknewpathvalidity isok checks check compilation unit new name checkcompilationunitnewname f type ftype get compilation unit getcompilationunit get new element name getnewelementname isok create changes createchanges i progress monitor iprogressmonitor core exception coreexception nls begin task begintask set task name settaskname refactoring core messages refactoringcoremessages rename type processor renametypeprocessor creating f update references fupdatereferences add reference updates addreferenceupdates f change manager fchangemanager sub progress monitor subprogressmonitor names updates worked i resource iresource resource f type ftype get compilation unit getcompilationunit get resource getresource update code resource resource is linked islinked will rename u willrenamecu add type declaration update addtypedeclarationupdate f change manager fchangemanager worked add constructor renames addconstructorrenames f change manager fchangemanager worked worked f update text ual matches fupdatetextualmatches sub task subtask refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring searching text text match updater textmatchupdater perform sub progress monitor subprogressmonitor refactoring scope factory refactoringscopefactory create f type ftype f change manager fchangemanager f references freferences f update similar elements fupdatesimilarelements add similar elements text ual updates addsimilarelementstextualupdates f change manager fchangemanager sub progress monitor subprogressmonitor add type declaration update addtypedeclarationupdate text change manager textchangemanager manager core exception coreexception string refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring update type name length typenamelength f type ftype get element name getelementname length i compilation unit icompilationunit f type ftype get compilation unit getcompilationunit text change compatibility textchangecompatibility add text edit addtextedit manager replace edit replaceedit f type ftype get name range getnamerange get offset getoffset type name length typenamelength get new element name getnewelementname add constructor renames addconstructorrenames text change manager textchangemanager manager core exception coreexception i compilation unit icompilationunit f type ftype get compilation unit getcompilationunit i method imethod methods f type ftype get methods getmethods type name length typenamelength f type ftype get element name getelementname length methods length methods is constructor isconstructor constructor declarations fully qualified simple replace methods get name range getnamerange binary file wrong checked precondition string refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring rename constructor text change compatibility textchangecompatibility add text edit addtextedit manager replace edit replaceedit methods get name range getnamerange get offset getoffset type name length typenamelength get new element name getnewelementname add reference updates addreferenceupdates text change manager textchangemanager manager i progress monitor iprogressmonitor nls begin task begintask f references freferences length f references freferences length i compilation unit icompilationunit f references freferences get compilation unit getcompilationunit string refactoring core messages refactoringcoremessages rename type refactoring renametyperefactoring update reference search match searchmatch f references freferences get search results getsearchresults length search match searchmatch match replace edit replaceedit replace edit replaceedit replace edit replaceedit match get offset getoffset match get length getlength get new element name getnewelementname text change compatibility textchangecompatibility add text edit addtextedit manager replace edit replaceedit category type rename worked compute qualified name matches computequalifiednamematches i progress monitor iprogressmonitor i package fragment ipackagefragment fragment f type ftype get package fragment getpackagefragment f qualified name search result fqualifiednamesearchresult f qualified name search result fqualifiednamesearchresult qualified name search result qualifiednamesearchresult qualified name finder qualifiednamefinder process f qualified name search result fqualifiednamesearchresult f type ftype get fully qualified name getfullyqualifiedname nls fragment get element name getelementname get new element name getnewelementname f file patterns ffilepatterns f type ftype get java project getjavaproject get project getproject refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments extended string handle extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement extended get project getproject handle element element exists element get element type getelementtype i java element ijavaelement type java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get processor name getprocessorname i java refactorings ijavarefactorings rename type f type ftype i type itype element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input string extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute nls equals set new element name setnewelementname refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute string patterns extended get attribute getattribute attribute patterns nls patterns equals patterns f file patterns ffilepatterns patterns string references extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute references references f update references fupdatereferences value of valueof references boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute references string matches extended get attribute getattribute attribute textual matches matches f update text ual matches fupdatetextualmatches value of valueof matches boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute textual matches string qualified extended get attribute getattribute attribute qualified qualified f update qualified names fupdatequalifiednames value of valueof qualified boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute qualified string similar declarations similardeclarations extended get attribute getattribute attribute declarations similar declarations similardeclarations f update similar elements fupdatesimilarelements value of valueof similar declarations similardeclarations boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute declarations string similar declarations matching strategy similardeclarationsmatchingstrategy extended get attribute getattribute attribute matching strategy similar declarations matching strategy similardeclarationsmatchingstrategy f renaming strategy frenamingstrategy integer value of valueof similar declarations matching strategy similardeclarationsmatchingstrategy int value intvalue number format exception numberformatexception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring illegal argument string similar declarations matching strategy similardeclarationsmatchingstrategy attribute qualified refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute matching strategy refactoring status refactoringstatus names creates initial izes initializes refactoring processors named elements param progress monitor progressmonitor progress monitor param context context status core exception coreexception happen refactoring status refactoringstatus initialize similar elements rename processors initializesimilarelementsrenameprocessors i progress monitor iprogressmonitor progress monitor progressmonitor check conditions context checkconditionscontext context core exception coreexception is not null isnotnull f preloaded element to name fpreloadedelementtoname is not null isnotnull f preloaded element to selection fpreloadedelementtoselection refactoring status refactoringstatus status refactoring status refactoringstatus i method imethod handled top level methods handledtoplevelmethods hash set hashset warning warnings hash set hashset list refactoring processor refactoringprocessor processors array list arraylist f final similar element to name ffinalsimilarelementtoname hash map hashmap compilation unit compilationunit current resolved u currentresolvedcu i compilation unit icompilationunit currentcu current max f preloaded element to name fpreloadedelementtoname size nls progress monitor progressmonitor begin task begintask max progress monitor progressmonitor set task name settaskname refactoring core messages refactoringcoremessages rename type processor renametypeprocessor checking named declarations refactoring conditions iterator i java element ijavaelement iter f preloaded element to name fpreloadedelementtoname key set keyset iterator iter has next hasnext i java element ijavaelement element iter current progress monitor progressmonitor worked selected skip f preloaded element to selection fpreloadedelementtoselection element boolean value booleanvalue registered happen overridden methods skip f final similar element to name ffinalsimilarelementtoname contains key containskey element compilation unit compilationunit changed not e note f preloaded element to name fpreloadedelementtoname sorted compilation unit compilationunit i compilation unit icompilationunit newcu i compilation unit icompilationunit element get ancestor getancestor i java element ijavaelement compilation unit newcu equals currentcu checkcucompleteconditions status current resolved u currentresolvedcu currentcu processors status has fatal error hasfatalerror status reset values current resolved u currentresolvedcu currentcu newcu processors clear string new name newname f preloaded element to name fpreloadedelementtoname element refactoring processor refactoringprocessor processor element i local variable ilocalvariable i local variable ilocalvariable current local currentlocal i local variable ilocalvariable element current resolved u currentresolvedcu current resolved u currentresolvedcu refactoringastparser ast provider astprovider shared ast level parse currentcu processor create local rename processor createlocalrenameprocessor current local currentlocal new name newname current resolved u currentresolvedcu status has fatal error hasfatalerror status f final similar element to name ffinalsimilarelementtoname current local currentlocal new name newname element i field ifield i field ifield current field currentfield i field ifield element processor create field rename processor createfieldrenameprocessor current field currentfield new name newname status merge check for conflicting rename checkforconflictingrename current field currentfield new name newname status has fatal error hasfatalerror status f final similar element to name ffinalsimilarelementtoname current field currentfield new name newname element i method imethod i method imethod current method currentmethod i method imethod element method checks methodchecks is virtual isvirtual current method currentmethod i type itype declaring type declaringtype current method currentmethod get declaring type getdeclaringtype i type hierarchy itypehierarchy hierarchy declaring type declaringtype is interface isinterface hierarchy declaring type declaringtype new type hierarchy newtypehierarchy null progress monitor nullprogressmonitor i method imethod top most topmost method checks methodchecks get top most method gettopmostmethod current method currentmethod hierarchy null progress monitor nullprogressmonitor top most topmost current method currentmethod top most topmost handled top level methods handledtoplevelmethods current method currentmethod handled top level methods handledtoplevelmethods add current method currentmethod i method imethod ripples ripple method finder ripplemethodfinder get related methods getrelatedmethods current method currentmethod null progress monitor nullprogressmonitor check for warnings checkforwarnings warnings new name newname ripples status merge check for conflicting rename checkforconflictingrename ripples new name newname status has fatal error hasfatalerror status processor create virtual method rename processor createvirtualmethodrenameprocessor current method currentmethod new name newname ripples hierarchy f final similar element to name ffinalsimilarelementtoname current method currentmethod new name newname ripples length f final similar element to name ffinalsimilarelementtoname ripples new name newname status merge check for conflicting rename checkforconflictingrename i method imethod current method currentmethod new name newname status has fatal error hasfatalerror f final similar element to name ffinalsimilarelementtoname current method currentmethod new name newname processor create non virtual method rename processor createnonvirtualmethodrenameprocessor current method currentmethod new name newname progress monitor progressmonitor sub task subtask messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor progress current total object string value of valueof current string value of valueof max status merge processor check initial conditions checkinitialconditions no override progress monitor nooverrideprogressmonitor progress monitor progressmonitor status has fatal error hasfatalerror status status merge processor check final conditions checkfinalconditions no override progress monitor nooverrideprogressmonitor progress monitor progressmonitor context status has fatal error hasfatalerror status processors add processor progress monitor progressmonitor worked progress monitor progressmonitor is canceled iscanceled operation canceled exception operationcanceledexception check checkcucompleteconditions status current resolved u currentresolvedcu currentcu processors status merge add warnings addwarnings warnings progress monitor progressmonitor status checkcucompleteconditions refactoring status refactoringstatus status compilation unit compilationunit current resolved u currentresolvedcu i compilation unit icompilationunit currentcu list refactoring processor refactoringprocessor processors core exception coreexception check local variable conditions list refactoring processor refactoringprocessor locals get processors of type getprocessorsoftype processors rename local variable processor renamelocalvariableprocessor locals is empty isempty rename analyze util renameanalyzeutil local analyze package localanalyzepackage analyze packages analyzepackages rename analyze util renameanalyzeutil local analyze package localanalyzepackage locals size text change manager textchangemanager manager text change manager textchangemanager current text change textchange text change textchange manager currentcu text change textchange set keep preview edits setkeeppreviewedits iterator refactoring processor refactoringprocessor iterator locals iterator iterator has next hasnext rename local variable processor renamelocalvariableprocessor local processor localprocessor rename local variable processor renamelocalvariableprocessor iterator rename analyze util renameanalyzeutil local analyze package localanalyzepackage analyze package analyzepackage local processor localprocessor get local analyze package getlocalanalyzepackage analyze packages analyzepackages current analyze package analyzepackage analyze package analyzepackage f occurence edits foccurenceedits length text change compatibility textchangecompatibility add text edit addtextedit text change textchange analyze package analyzepackage f occurence edits foccurenceedits nls group category set groupcategoryset current status merge rename analyze util renameanalyzeutil analyze local renames analyzelocalrenames analyze packages analyzepackages text change textchange current resolved u currentresolvedcu room performance imp rovement improvement move shadowing analyzes field method processors perform saving working copy creation draw back drawback inc reased increased heap consumption list refactoring processor refactoringprocessor get processors of type getprocessorsoftype list refactoring processor refactoringprocessor processors rename local variable processor renamelocalvariableprocessor type list refactoring processor refactoringprocessor tmp array list arraylist iterator refactoring processor refactoringprocessor iter processors iterator iter has next hasnext refactoring processor refactoringprocessor element iter element get class getclass equals type tmp add element tmp error checking checks methods renamed new name newname shares type registered method renamed shares parameters param methods methods check param new name newname status check for conflicting rename checkforconflictingrename i field ifield string refactoring status refactoringstatus check for conflicting rename checkforconflictingrename i method imethod methods string new name newname refactoring status refactoringstatus status refactoring status refactoringstatus iterator i java element ijavaelement iter f final similar element to name ffinalsimilarelementtoname key set keyset iterator iter has next hasnext i java element ijavaelement element iter element i method imethod i method imethod already registered method alreadyregisteredmethod i method imethod element string already registered method name alreadyregisteredmethodname f final similar element to name ffinalsimilarelementtoname element methods length i method imethod method methods already registered method name alreadyregisteredmethodname equals new name newname method get declaring type getdeclaringtype equals already registered method alreadyregisteredmethod get declaring type getdeclaringtype same params sameparams already registered method alreadyregisteredmethod method string message messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor rename methods string basic element labels basicelementlabels get java element name getjavaelementname already registered method alreadyregisteredmethod get element name getelementname basic element labels basicelementlabels get java element name getjavaelementname method get element name getelementname basic element labels basicelementlabels get java element name getjavaelementname already registered method alreadyregisteredmethod get declaring type getdeclaringtype get fully qualified name getfullyqualifiedname basic element labels basicelementlabels get java element name getjavaelementname new name newname status add fatal error addfatalerror message status status same params sameparams i method imethod method i method imethod method method get number of parameters getnumberofparameters method get number of parameters getnumberofparameters string params method get parameter types getparametertypes string params method get parameter types getparametertypes params length string signature get simple name getsimplename signature to string tostring params string signature get simple name getsimplename signature to string tostring params equals suffix matching enabled refactoring fields reside type happen user poor choices field names foo bar thing foobarthing f foo bar thing ffoobarthing foo bar thing foobarthing f bar thing fbarthing rename foo bar thing foobarthing different hunk differenthunk suggestion fields f different hunk fdifferenthunk rightly param current field currentfield field param new name newname status refactoring status refactoringstatus check for conflicting rename checkforconflictingrename i field ifield current field currentfield string new name newname refactoring status refactoringstatus status refactoring status refactoringstatus iterator i java element ijavaelement iter f final similar element to name ffinalsimilarelementtoname key set keyset iterator iter has next hasnext i java element ijavaelement element iter element i field ifield i field ifield already registered field alreadyregisteredfield i field ifield element string already registered field name alreadyregisteredfieldname f final similar element to name ffinalsimilarelementtoname element already registered field name alreadyregisteredfieldname equals new name newname already registered field alreadyregisteredfield get declaring type getdeclaringtype equals current field currentfield get declaring type getdeclaringtype string message messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor rename fields string basic element labels basicelementlabels get java element name getjavaelementname already registered field alreadyregisteredfield get element name getelementname basic element labels basicelementlabels get java element name getjavaelementname current field currentfield get element name getelementname basic element labels basicelementlabels get java element name getjavaelementname already registered field alreadyregisteredfield get declaring type getdeclaringtype get fully qualified name getfullyqualifiedname basic element labels basicelementlabels get java element name getjavaelementname new name newname status add fatal error addfatalerror message status status refactoring status refactoringstatus add warnings addwarnings warning warnings refactoring status refactoringstatus status refactoring status refactoringstatus remove deleted ripple methods user selection add warnings iterator warning iter warnings iterator iter has next hasnext warning warning iter i method imethod elements warning get ripple getripple warning is selection warning isselectionwarning string message messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor deselected method overridden string java element labels javaelementlabels get element label getelementlabel elements java element labels javaelementlabels java element labels javaelementlabels get element label getelementlabel elements get declaring type getdeclaringtype java element labels javaelementlabels status add warning addwarning message warning is name warning isnamewarning string message messages format refactoring core messages refactoringcoremessages rename type processor renametypeprocessor renamed method overridden string java element labels javaelementlabels get element label getelementlabel elements java element labels javaelementlabels java element labels javaelementlabels get element label getelementlabel elements get declaring type getdeclaringtype java element labels javaelementlabels status add warning addwarning message elements length f preloaded element to selection fpreloadedelementtoselection elements status methods ripple deselected renamed user deselect chain add warnings check for warnings checkforwarnings warning warnings string new name newname i method imethod ripples add selection warning addselectionwarning add name warning addnamewarning ripples length string new name of ripple newnameofripple f preloaded element to name fpreloadedelementtoname ripples selected f preloaded element to selection fpreloadedelementtoselection ripples don add warning selected selected boolean value booleanvalue add selection warning addselectionwarning new name newname equals new name of ripple newnameofripple add name warning addnamewarning add selection warning addselectionwarning add name warning addnamewarning warnings add warning ripples add selection warning addselectionwarning add name warning addnamewarning add selection warning addselectionwarning add name warning addnamewarning warning i method imethod f ripple fripple f selection warning fselectionwarning f name warning fnamewarning warning i method imethod ripple is selection warning isselectionwarning is name warning isnamewarning f ripple fripple ripple f selection warning fselectionwarning is selection warning isselectionwarning f name warning fnamewarning is name warning isnamewarning is name warning isnamewarning f name warning fnamewarning i method imethod get ripple getripple f ripple fripple is selection warning isselectionwarning f selection warning fselectionwarning processor creation rename method processor renamemethodprocessor create virtual method rename processor createvirtualmethodrenameprocessor i method imethod current method currentmethod string new method name newmethodname i method imethod ripples i type hierarchy itypehierarchy hierarchy rename method processor renamemethodprocessor processor rename virtual method processor renamevirtualmethodprocessor current method currentmethod ripples f change manager fchangemanager hierarchy category method rename init method processor initmethodprocessor processor new method name newmethodname processor rename method processor renamemethodprocessor create non virtual method rename processor createnonvirtualmethodrenameprocessor i method imethod current method currentmethod string new method name newmethodname rename method processor renamemethodprocessor processor rename non virtual method processor renamenonvirtualmethodprocessor current method currentmethod f change manager fchangemanager category method rename init method processor initmethodprocessor processor new method name newmethodname processor init method processor initmethodprocessor rename method processor renamemethodprocessor processor string new method name newmethodname processor set new element name setnewelementname new method name newmethodname processor set update references setupdatereferences get update references getupdatereferences rename field processor renamefieldprocessor create field rename processor createfieldrenameprocessor i field ifield field string new name newname rename field processor renamefieldprocessor processor rename field processor renamefieldprocessor field f change manager fchangemanager category field rename processor set new element name setnewelementname new name newname processor set rename getter setrenamegetter processor set rename setter setrenamesetter processor set update references setupdatereferences get update references getupdatereferences processor set update text ual matches setupdatetextualmatches processor rename local variable processor renamelocalvariableprocessor create local rename processor createlocalrenameprocessor i local variable ilocalvariable local string new name newname compilation unit compilationunit compilation unit compilationunit rename local variable processor renamelocalvariableprocessor processor rename local variable processor renamelocalvariableprocessor local f change manager fchangemanager compilation unit compilationunit category local rename processor set new element name setnewelementname new name newname processor set update references setupdatereferences get update references getupdatereferences processor edit creation updates text ual textual matches fields strategy matching text matches match replace fully qualified field names qualified field names iff fields original don add java references duplicate edits created matter param manager text change manager param monitor progress monitor core exception coreexception updating failed add similar elements text ual updates addsimilarelementstextualupdates text change manager textchangemanager manager i progress monitor iprogressmonitor monitor core exception coreexception map string string simple names simplenames hash map hashmap list string for bidden simple names forbiddensimplenames array list arraylist iterator i java element ijavaelement iter f final similar element to name ffinalsimilarelementtoname key set keyset iterator iter has next hasnext i java element ijavaelement element iter element i field ifield for bidden simple names forbiddensimplenames element get element name getelementname string registered new name registerednewname simple names simplenames element get element name getelementname string new name to check newnametocheck f final similar element to name ffinalsimilarelementtoname element registered new name registerednewname simple names simplenames element get element name getelementname new name to check newnametocheck registered new name registerednewname equals new name to check newnametocheck for bidden simple names forbiddensimplenames add element get element name getelementname iterator i java element ijavaelement iter f final similar element to name ffinalsimilarelementtoname key set keyset iterator iter has next hasnext i java element ijavaelement element iter element i field ifield i field ifield field i field ifield element string new name newname f final similar element to name ffinalsimilarelementtoname field text match updater textmatchupdater perform monitor refactoring scope factory refactoringscopefactory create field field get element name getelementname field get declaring type getdeclaringtype get fully qualified name getfullyqualifiedname new name newname manager search result group searchresultgroup for bidden simple names forbiddensimplenames field get element name getelementname int eraction interaction map named elements i java element ijavaelement string map live callers change names elements change key map i java element ijavaelement string get similar elements to new names getsimilarelementstonewnames f preloaded element to name fpreloadedelementtoname map named elements i java element ijavaelement selected map live callers change selection status elements change key map i java element ijavaelement get similar elements to selection getsimilarelementstoselection f preloaded element to selection fpreloadedelementtoselection resets element maps original status maps returned link get similar elements to new names getsimilarelementstonewnames link get similar elements to selection getsimilarelementstoselection names reset calculated element selected reset selected similar elements resetselectedsimilarelements is not null isnotnull f preloaded element to name fpreloadedelementtoname iterator i java element ijavaelement iter f preloaded element to name default fpreloadedelementtonamedefault key set keyset iterator iter has next hasnext i java element ijavaelement element iter f preloaded element to name fpreloadedelementtoname element f preloaded element to name default fpreloadedelementtonamedefault element f preloaded element to selection fpreloadedelementtoselection element iff update named elements flag search yielded elements renamed has similar elements to rename hassimilarelementstorename f update similar elements fupdatesimilarelements f preloaded element to name fpreloadedelementtoname f preloaded element to name fpreloadedelementtoname size
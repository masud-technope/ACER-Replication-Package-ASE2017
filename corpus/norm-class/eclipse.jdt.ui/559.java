copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation benjamin muskalla bmuskalla eclipse source eclipsesource extract method replace code parent anonymous https bugs eclipse org bugs bug cgi benjamin muskalla bmuskalla eclipse source eclipsesource extract method extract method https bugs eclipse org bugs bug cgi benjamin muskalla bmuskalla eclipse source eclipsesource extract method declare method extracted anonymous method https bugs eclipse org bugs bug cgi samrat dhillon samrat dhillon gmail extract method extra cted extracted method declared extracted expression method https bugs eclipse org bugs bug cgi samrat dhillon samrat dhillon gmail extract method extra cting extracting expression parameterized type passed argument constructor yields compilation error https bugs eclipse org bugs bug cgi org eclipse jdt internal corext refactoring code java util array list arraylist java util arrays java util hash map hashmap java util hash set hashset java util iterator java util linked list linkedlist java util list java util map java util java util string tokenizer stringtokenizer org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse text edits multi text edit multitextedit org eclipse text edits text edit textedit org eclipse text edits text edit group texteditgroup org eclipse ltk core refactoring change org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring change descriptor refactoringchangedescriptor org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring text file change textfilechange org eclipse ltk core refactoring participants resource change checker resourcechangechecker org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom assignment org eclipse jdt core dom block org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom child list property descriptor childlistpropertydescriptor org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom continue statement continuestatement org eclipse jdt core dom do statement dostatement org eclipse jdt core dom enhanced for statement enhancedforstatement org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom expression org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom for statement forstatement org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom initializer org eclipse jdt core dom javadoc org eclipse jdt core dom labeled statement labeledstatement org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom modifier org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom statement org eclipse jdt core dom this expression thisexpression org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt core dom while statement whilestatement org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt core refactoring compilation unit change compilationunitchange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors extract method descriptor extractmethoddescriptor org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext dom body declaration rewrite bodydeclarationrewrite org eclipse jdt internal corext dom linked node finder linkednodefinder org eclipse jdt internal corext dom selection org eclipse jdt internal corext dom statement rewrite statementrewrite org eclipse jdt internal corext linked proposal model linkedproposalmodel org eclipse jdt internal corext linked proposal position group linkedproposalpositiongroup org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring parameter info parameterinfo org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util selection aware source range computer selectionawaresourcerangecomputer org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt code generation codegeneration org eclipse jdt java element labels javaelementlabels org eclipse jdt internal text correction ast res olving astresolving org eclipse jdt internal text correction modifier correction sub processor modifiercorrectionsubprocessor org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal viewsupport binding label provider bindinglabelprovider extra cts extracts method compilation unit based text selection range extract method refactoring extractmethodrefactoring refactoring nls string attribute visibility visibility nls string attribute destination destination nls string attribute comments comments nls string attribute replace replace nls string attribute exceptions exceptions i compilation unit icompilationunit fcunit compilation unit compilationunit f root froot import rewrite importrewrite f import rewriter fimportrewriter f selection start fselectionstart f selection length fselectionlength ast fast ast rewrite astrewrite f rewriter frewriter extract method analyzer extractmethodanalyzer f analyzer fanalyzer f visibility fvisibility string f method name fmethodname f throw runtime exceptions fthrowruntimeexceptions list parameter info parameterinfo f parameter infos fparameterinfos string f used names fusednames f generate javadoc fgeneratejavadoc f replace duplicates freplaceduplicates snippet finder snippetfinder match f duplicates fduplicates f destination index fdestinationindex type type declaration typedeclaration anonymous class declaration anonymousclassdeclaration ast node astnode f destination fdestination type type declaration typedeclaration anonymous class declaration anonymousclassdeclaration ast node astnode f destinations fdestinations linked proposal model linkedproposalmodel f linked proposal model flinkedproposalmodel nls string empty nls string key type type nls string key used names collector usednamescollector ast visitor astvisitor string result hash set hashset simple name simplename f ignore fignore hash set hashset string perform ast node astnode nodes used names collector usednamescollector collector used names collector usednamescollector nodes length nodes accept collector collector result override visit field access fieldaccess node expression exp node get expression getexpression exp f ignore fignore add node get name getname override end visit endvisit field access fieldaccess node f ignore fignore remove node get name getname override visit method invocation methodinvocation node expression exp node get expression getexpression exp f ignore fignore add node get name getname override end visit endvisit method invocation methodinvocation node f ignore fignore remove node get name getname override visit qualified name qualifiedname node f ignore fignore add node get name getname override end visit endvisit qualified name qualifiedname node f ignore fignore remove node get name getname override visit simple name simplename node f ignore fignore node result add node get identifier getidentifier override visit type declaration typedeclaration node visit type visittype node override visit annotation type declaration annotationtypedeclaration node visit type visittype node override visit enum declaration enumdeclaration node visit type visittype node visit type visittype abstract type declaration abstracttypedeclaration node result add node get name getname get identifier getidentifier context creates extract method refactoring param unit compilation unit code code invoked scripting param selection start selectionstart selection start param selection length selectionlength selection extract method refactoring extractmethodrefactoring i compilation unit icompilationunit unit selection start selectionstart selection length selectionlength fcunit unit f root froot nls f method name fmethodname extracted f selection start fselectionstart selection start selectionstart f selection length fselectionlength selection length selectionlength f visibility fvisibility extract method refactoring extractmethodrefactoring java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status i compilation unit icompilationunit refactoring status refactoringstatus initialize status initializestatus initialize arguments status merge initialize status initializestatus creates extract method refactoring param ast root astroot ast root ast created compilation unit param selection start selectionstart start param selection length selectionlength length extract method refactoring extractmethodrefactoring compilation unit compilationunit ast root astroot selection start selectionstart selection length selectionlength i compilation unit icompilationunit ast root astroot get type root gettyperoot selection start selectionstart selection length selectionlength f root froot ast root astroot set linked proposal model setlinkedproposalmodel linked proposal model linkedproposalmodel linked proposal model linkedproposalmodel f linked proposal model flinkedproposalmodel linked proposal model linkedproposalmodel override string get name getname refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring checks refactoring activated activation typically menu entry param progress monitor report progress activation checking refactoring status describing result activation check core exception coreexception checking fails override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus nls begin task begintask f selection start fselectionstart f selection length fselectionlength merge text selection status mergetextselectionstatus result i file ifile changed files changedfiles resource util resourceutil get files getfiles i compilation unit icompilationunit fcunit result merge checks validate modifies files validatemodifiesfiles changed files changedfiles get validation context getvalidationcontext result has fatal error hasfatalerror result result merge resource change checker resourcechangechecker check files t o be changed checkfilestobechanged changed files changedfiles sub progress monitor subprogressmonitor f root froot f root froot refactoringastparser parsewithastprovider fcunit sub progress monitor subprogressmonitor f import rewriter fimportrewriter stub utility stubutility create import rewrite createimportrewrite f root froot fast f root froot getast f root froot accept create visitor createvisitor f selection start fselectionstart f analyzer fanalyzer get selection getselection get offset getoffset f selection length fselectionlength f analyzer fanalyzer get selection getselection get length getlength result merge f analyzer fanalyzer check initial conditions checkinitialconditions f import rewriter fimportrewriter result has fatal error hasfatalerror result f visibility fvisibility set visibility setvisibility modifier initialize parameter infos initializeparameterinfos initialize used names initializeusednames initialize duplicates initializeduplicates initialize destinations initializedestinations result ast visitor astvisitor create visitor createvisitor core exception coreexception f analyzer fanalyzer extract method analyzer extractmethodanalyzer fcunit selection create from start length createfromstartlength f selection start fselectionstart f selection length fselectionlength f analyzer fanalyzer sets method extracted method param method set method name setmethodname string f method name fmethodname returns method extracted method method extracted method string get method name getmethodname f method name fmethodname sets visibility method param visibility visibility method valid values set visibility setvisibility visibility f visibility fvisibility visibility returns visibility method visibility method get visibility getvisibility f visibility fvisibility returns parameter infos list parameter infos list parameter info parameterinfo get parameter infos getparameterinfos f parameter infos fparameterinfos sets method signature runtime exceptions param throw runtime exceptions throwruntimeexceptions flag indicating method runtime exceptions set throw runtime exceptions setthrowruntimeexceptions throw runtime exceptions throwruntimeexceptions f throw runtime exceptions fthrowruntimeexceptions throw runtime exceptions throwruntimeexceptions checks method valid method method doesn check method exists hierarchy check code check input checkinput code expensive validation status refactoring status refactoringstatus check method name checkmethodname checks check method name checkmethodname f method name fmethodname fcunit ast node astnode get destinations getdestinations f destinations fdestinations set destination setdestination f destination fdestination f destinations fdestinations f destination index fdestinationindex checks parameter names valid validation status refactoring status refactoringstatus check parameter names checkparameternames refactoring status refactoringstatus result refactoring status refactoringstatus iterator parameter info parameterinfo iter f parameter infos fparameterinfos iterator iter has next hasnext parameter info parameterinfo parameter iter result merge checks check identifier checkidentifier parameter get new name getnewname fcunit iterator parameter info parameterinfo f parameter infos fparameterinfos iterator has next hasnext parameter info parameterinfo parameter get new name getnewname equals parameter get new name getnewname result add error adderror messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring error same parameter sameparameter basic element labels basicelementlabels get java element name getjavaelementname get new name getnewname result parameter is rename d isrenamed f used names fusednames parameter get new name getnewname result add error adderror messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring error name in use nameinuse basic element labels basicelementlabels get java element name getjavaelementname parameter get new name getnewname result result checks varargs ordered correctly validation status refactoring status refactoringstatus check var arg order checkvarargorder iterator parameter info parameterinfo iter f parameter infos fparameterinfos iterator iter has next hasnext parameter info parameterinfo info iter info is old varargs isoldvarargs iter has next hasnext refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring error vararg ordering basic element labels basicelementlabels get java element name getjavaelementname info get old name getoldname refactoring status refactoringstatus returns names selected statements expressions names string get used names getusednames f used names fusednames override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor core exception coreexception begin task begintask refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring checking sub task subtask empty refactoring status refactoringstatus result check method name checkmethodname result merge check parameter names checkparameternames result merge check var arg order checkvarargorder worked is canceled iscanceled operation canceled exception operationcanceledexception body declaration bodydeclaration node f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration node f analyzer fanalyzer check input checkinput result f method name fmethodname f destination fdestination worked result override change create change createchange i progress monitor iprogressmonitor core exception coreexception f method name fmethodname nls begin task begintask f analyzer fanalyzer about t o create change abouttocreatechange body declaration bodydeclaration declaration f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration f rewriter frewriter ast rewrite astrewrite create declaration getast compilation unit change compilationunitchange result compilation unit change compilationunitchange refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring change fcunit result set save mode setsavemode text file change textfilechange save result set descriptor setdescriptor refactoring change descriptor refactoringchangedescriptor get refactoring descriptor getrefactoringdescriptor multi text edit multitextedit root multi text edit multitextedit result set edit setedit root ast node astnode selected nodes selectednodes f analyzer fanalyzer get selected nodes getselectednodes f rewriter frewriter set target source range computer settargetsourcerangecomputer selection aware source range computer selectionawaresourcerangecomputer selected nodes selectednodes fcunit get buffer getbuffer f selection start fselectionstart f selection length fselectionlength text edit group texteditgroup substitute desc substitutedesc text edit group texteditgroup messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring substitute call basic element labels basicelementlabels get java element name getjavaelementname f method name fmethodname result add text edit group addtexteditgroup substitute desc substitutedesc method declaration methoddeclaration create new method createnewmethod selected nodes selectednodes fcunit find recommended line separator findrecommendedlineseparator substitute desc substitutedesc f linked proposal model flinkedproposalmodel linked proposal position group linkedproposalpositiongroup type group typegroup f linked proposal model flinkedproposalmodel get position group getpositiongroup key type type group typegroup add position addposition f rewriter frewriter track get return type getreturntype i type binding itypebinding type binding typebinding f analyzer fanalyzer get return type binding getreturntypebinding type binding typebinding i type binding itypebinding rel axing types relaxingtypes ast res olving astresolving get narrowing types getnarrowingtypes fast type binding typebinding rel axing types relaxingtypes length type group typegroup add proposal addproposal rel axing types relaxingtypes fcunit rel axing types relaxingtypes length linked proposal position group linkedproposalpositiongroup name group namegroup f linked proposal model flinkedproposalmodel get position group getpositiongroup key name group namegroup add position addposition f rewriter frewriter track get name getname modifier correction sub processor modifiercorrectionsubprocessor install linked visibility proposals installlinkedvisibilityproposals f linked proposal model flinkedproposalmodel f rewriter frewriter modifiers text edit group texteditgroup insert desc insertdesc text edit group texteditgroup messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring add method basic element labels basicelementlabels get java element name getjavaelementname f method name fmethodname result add text edit group addtexteditgroup insert desc insertdesc f destination fdestination ast res olving astresolving find parent type findparenttype declaration get parent getparent child list property descriptor childlistpropertydescriptor desc child list property descriptor childlistpropertydescriptor declaration get location in parent getlocationinparent list rewrite listrewrite container f rewriter frewriter get list rewrite getlistrewrite declaration get parent getparent desc container insert after insertafter declaration insert desc insertdesc body declaration rewrite bodydeclarationrewrite container body declaration rewrite bodydeclarationrewrite create f rewriter frewriter f destination fdestination container insert insert desc insertdesc replace duplicates replaceduplicates result get modifiers getmodifiers replace branches replacebranches result f import rewriter fimportrewriter has recorded changes hasrecordedchanges text edit textedit edit f import rewriter fimportrewriter rewrite imports rewriteimports root add child addchild edit result add text edit group addtexteditgroup text edit group texteditgroup refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring org anize organize imports text edit textedit edit root add child addchild f rewriter frewriter rewriteast result replace branches replacebranches compilation unit change compilationunitchange result ast node astnode selected nodes selectednodes f analyzer fanalyzer get selected nodes getselectednodes selected nodes selectednodes length ast node astnode ast node astnode selected nodes selectednodes ast node astnode accept ast visitor astvisitor linked list linkedlist string f open loop labels fopenlooplabels linked list linkedlist register loop label registerlooplabel statement node string identifier node get parent getparent labeled statement labeledstatement labeled statement labeledstatement labeled statement labeledstatement labeled statement labeledstatement node get parent getparent identifier labeled statement labeledstatement get label getlabel get identifier getidentifier identifier f open loop labels fopenlooplabels add identifier override visit for statement forstatement node register loop label registerlooplabel node visit node override end visit endvisit for statement forstatement node f open loop labels fopenlooplabels remove last removelast override visit while statement whilestatement node register loop label registerlooplabel node visit node override end visit endvisit while statement whilestatement node f open loop labels fopenlooplabels remove last removelast override visit enhanced for statement enhancedforstatement node register loop label registerlooplabel node visit node override end visit endvisit enhanced for statement enhancedforstatement node f open loop labels fopenlooplabels remove last removelast override visit do statement dostatement node register loop label registerlooplabel node visit node override end visit endvisit do statement dostatement node f open loop labels fopenlooplabels remove last removelast override end visit endvisit continue statement continuestatement node simple name simplename label node get label getlabel f open loop labels fopenlooplabels is empty isempty label f open loop labels fopenlooplabels label get identifier getidentifier text edit group texteditgroup description text edit group texteditgroup refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring replace result add text edit group addtexteditgroup description return statement returnstatement fast new return statement newreturnstatement i variable binding ivariablebinding return value returnvalue f analyzer fanalyzer get return value getreturnvalue return value returnvalue set expression setexpression fast new simple name newsimplename get name getname return value returnvalue f rewriter frewriter replace node description extract method descriptor extractmethoddescriptor get refactoring descriptor getrefactoringdescriptor map string string arguments hash map hashmap string project i java project ijavaproject java project javaproject fcunit get java project getjavaproject java project javaproject project java project javaproject get element name getelementname i type binding itypebinding type f destination fdestination abstract type declaration abstracttypedeclaration abstract type declaration abstracttypedeclaration decl abstract type declaration abstracttypedeclaration f destination fdestination type decl resolve binding resolvebinding f destination fdestination anonymous class declaration anonymousclassdeclaration anonymous class declaration anonymousclassdeclaration decl anonymous class declaration anonymousclassdeclaration f destination fdestination type decl resolve binding resolvebinding i method binding imethodbinding method body declaration bodydeclaration enclosing f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration enclosing method declaration methoddeclaration method declaration methoddeclaration node method declaration methoddeclaration enclosing method node resolve binding resolvebinding flags refactoring descriptor refactoringdescriptor structural change java refactoring descriptor javarefactoringdescriptor jar refactoring java refactoring descriptor javarefactoringdescriptor jar source attachment string description messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring descriptor description basic element labels basicelementlabels get java element name getjavaelementname f method name fmethodname string label method binding label provider bindinglabelprovider get binding label getbindinglabel method java element labels javaelementlabels fully qualified java element labels javaelementlabels ellipsis string string header messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring descriptor description string basic element labels basicelementlabels get java element name getjavaelementname get signature getsignature label binding label provider bindinglabelprovider get binding label getbindinglabel type java element labels javaelementlabels fully qualified jdt refactoring descriptor comment jdtrefactoringdescriptorcomment comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project header comment add setting addsetting messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring pattern basic element labels basicelementlabels get java element name getjavaelementname f method name fmethodname comment add setting addsetting messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring destination pattern binding label provider bindinglabelprovider get binding label getbindinglabel type java element labels javaelementlabels fully qualified string visibility jdt flags jdtflags get visibility string getvisibilitystring f visibility fvisibility nls equals visibility visibility refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring visibility comment add setting addsetting messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring visibility pattern visibility f throw runtime exceptions fthrowruntimeexceptions comment add setting addsetting refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring declare thrown exceptions f replace duplicates freplaceduplicates comment add setting addsetting refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring replace occurrences f generate javadoc fgeneratejavadoc comment add setting addsetting refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring generate comment extract method descriptor extractmethoddescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create extract method descriptor createextractmethoddescriptor project description comment as string asstring arguments flags arguments java refactoring descriptor util javarefactoringdescriptorutil attribute input java refactoring descriptor util javarefactoringdescriptorutil element t o handle elementtohandle project fcunit arguments java refactoring descriptor util javarefactoringdescriptorutil attribute f method name fmethodname nls arguments java refactoring descriptor util javarefactoringdescriptorutil attribute selection integer f selection start fselectionstart to string tostring integer f selection length fselectionlength to string tostring arguments attribute visibility integer f visibility fvisibility to string tostring arguments attribute destination integer f destination index fdestinationindex to string tostring arguments attribute exceptions value of valueof f throw runtime exceptions fthrowruntimeexceptions to string tostring arguments attribute comments value of valueof f generate javadoc fgeneratejavadoc to string tostring arguments attribute replace value of valueof f replace duplicates freplaceduplicates to string tostring descriptor returns signature method signature extracted method string get signature getsignature get signature getsignature f method name fmethodname returns signature method param method name methodname method method signature extracted method string get signature getsignature string method name methodname method declaration methoddeclaration method decl methoddecl create new method declaration createnewmethoddeclaration method decl methoddecl set body setbody string str ast nodes astnodes as string asstring method decl methoddecl str substring str index of indexof returns number duplicate code snippets number duplicate code fragments get number of duplicates getnumberofduplicates f duplicates fduplicates result f duplicates fduplicates length f duplicates fduplicates is invalid node isinvalidnode result result get replace duplicates getreplaceduplicates f replace duplicates freplaceduplicates set replace duplicates setreplaceduplicates replace f replace duplicates freplaceduplicates replace set generate javadoc setgeneratejavadoc generate f generate javadoc fgeneratejavadoc generate get generate javadoc getgeneratejavadoc f generate javadoc fgeneratejavadoc is destination interface isdestinationinterface f destination fdestination type declaration typedeclaration type declaration typedeclaration f destination fdestination is interface isinterface helper methods initialize parameter infos initializeparameterinfos i variable binding ivariablebinding arguments f analyzer fanalyzer get arguments getarguments f parameter infos fparameterinfos array list arraylist arguments length ast node astnode root f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration parameter info parameterinfo vararg arguments length i variable binding ivariablebinding argument arguments argument variable declaration variabledeclaration declaration ast nodes astnodes find variable declaration findvariabledeclaration argument root is varargs isvarargs declaration single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration declaration is varargs isvarargs parameter info parameterinfo info parameter info parameterinfo argument get type gettype declaration is varargs isvarargs argument get name getname is varargs isvarargs vararg info f parameter infos fparameterinfos add info vararg f parameter infos fparameterinfos add vararg initialize used names initializeusednames f used names fusednames used names collector usednamescollector perform f analyzer fanalyzer get selected nodes getselectednodes iterator parameter info parameterinfo iter f parameter infos fparameterinfos iterator iter has next hasnext parameter info parameterinfo parameter iter f used names fusednames remove parameter get old name getoldname initialize duplicates initializeduplicates ast node astnode start f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration start abstract type declaration abstracttypedeclaration start start get parent getparent f duplicates fduplicates snippet finder snippetfinder perform start f analyzer fanalyzer get selected nodes getselectednodes f replace duplicates freplaceduplicates f duplicates fduplicates length f analyzer fanalyzer is literal node selected isliteralnodeselected initialize destinations initializedestinations list ast node astnode result array list arraylist body declaration bodydeclaration decl f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration ast node astnode current ast res olving astresolving find parent type findparenttype decl get parent getparent f analyzer fanalyzer is valid destination isvaliddestination current result add current current decl method declaration methoddeclaration decl initializer decl field declaration fielddeclaration i type binding itypebinding binding ast nodes astnodes get enclosing type getenclosingtype current ast node astnode ast res olving astresolving find parent type findparenttype current get parent getparent binding binding is nested isnested f analyzer fanalyzer is valid destination isvaliddestination result add current binding ast nodes astnodes get enclosing type getenclosingtype current ast res olving astresolving find parent type findparenttype get parent getparent f destinations fdestinations result to array toarray ast node astnode result size f destination fdestination f destinations fdestinations f destination index fdestinationindex refactoring status refactoringstatus merge text selection status mergetextselectionstatus refactoring status refactoringstatus status status add fatal error addfatalerror refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring statements status string get type gettype variable declaration variabledeclaration declaration is varargs isvarargs string type ast nodes astnodes as string asstring ast node factory astnodefactory new type newtype declaration getast declaration f import rewriter fimportrewriter context sensitive import rewrite context contextsensitiveimportrewritecontext declaration f import rewriter fimportrewriter is varargs isvarargs type parameter info parameterinfo ellipsis type code generation ast node astnode create call nodes createcallnodes snippet finder snippetfinder match duplicate modifiers list ast node astnode result array list arraylist i variable binding ivariablebinding locals f analyzer fanalyzer get caller locals getcallerlocals locals length result add create declaration createdeclaration locals method invocation methodinvocation invocation fast new method invocation newmethodinvocation invocation set name setname fast new simple name newsimplename f method name fmethodname ast node astnode type node typenode ast res olving astresolving find parent type findparenttype f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration refactoring status refactoringstatus status refactoring status refactoringstatus f destination fdestination type node typenode f analyzer fanalyzer check input checkinput status f method name fmethodname type node typenode status isok simple name simplename destination type name destinationtypename fast new simple name newsimplename ast nodes astnodes get enclosing type getenclosingtype f destination fdestination get name getname modifiers modifier this expression thisexpression this expression thisexpression fast new this expression newthisexpression this expression thisexpression set qualifier setqualifier destination type name destinationtypename invocation set expression setexpression this expression thisexpression invocation set expression setexpression destination type name destinationtypename type node typenode type node typenode get parent getparent list expression arguments invocation arguments f parameter infos fparameterinfos size parameter info parameterinfo parameter f parameter infos fparameterinfos arguments add ast node factory astnodefactory new name newname fast get mapped name getmappedname duplicate parameter f linked proposal model flinkedproposalmodel linked proposal position group linkedproposalpositiongroup name group namegroup f linked proposal model flinkedproposalmodel get position group getpositiongroup key name group namegroup add position addposition f rewriter frewriter track invocation get name getname ast node astnode call return kind returnkind f analyzer fanalyzer get return kind getreturnkind return kind returnkind extract method analyzer extractmethodanalyzer access local i variable binding ivariablebinding binding f analyzer fanalyzer get return local getreturnlocal binding variable declaration statement variabledeclarationstatement decl create declaration createdeclaration get mapped binding getmappedbinding duplicate binding invocation call decl assignment assignment fast new assignment newassignment assignment set left hand side setlefthandside ast node factory astnodefactory new name newname fast get mapped binding getmappedbinding duplicate f analyzer fanalyzer get return value getreturnvalue get name getname assignment set right hand side setrighthandside invocation call assignment extract method analyzer extractmethodanalyzer statement return statement returnstatement fast new return statement newreturnstatement set expression setexpression invocation call call invocation call expression f analyzer fanalyzer is expression selected isexpressionselected call fast new expression statement newexpressionstatement expression call result add call return kind returnkind extract method analyzer extractmethodanalyzer statement f analyzer fanalyzer is last statement selected islaststatementselected result add fast new return statement newreturnstatement result to array toarray ast node astnode result size i variable binding ivariablebinding get mapped binding getmappedbinding snippet finder snippetfinder match duplicate i variable binding ivariablebinding org duplicate org duplicate get mapped binding getmappedbinding org string get mapped name getmappedname snippet finder snippetfinder match duplicate parameter info parameterinfo param ter paramter duplicate param ter paramter get old name getoldname duplicate get mapped name getmappedname param ter paramter get old binding getoldbinding get identifier getidentifier replace duplicates replaceduplicates compilation unit change compilationunitchange result modifiers number of numberof get number of duplicates getnumberofduplicates number of numberof f replace duplicates freplaceduplicates string label number of numberof label messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring duplicates single basic element labels basicelementlabels get java element name getjavaelementname f method name fmethodname label messages format refactoring core messages refactoringcoremessages extract method refactoring extractmethodrefactoring duplicates multi basic element labels basicelementlabels get java element name getjavaelementname f method name fmethodname text edit group texteditgroup description text edit group texteditgroup label result add text edit group addtexteditgroup description f duplicates fduplicates length snippet finder snippetfinder match duplicate f duplicates fduplicates duplicate is invalid node isinvalidnode is destination reachable isdestinationreachable duplicate get enclosing method getenclosingmethod ast node astnode call nodes callnodes create call nodes createcallnodes duplicate modifiers ast node astnode duplicate nodes duplicatenodes duplicate get nodes getnodes duplicate nodes duplicatenodes length ast node astnode parent duplicate nodes duplicatenodes get parent getparent parent parenthesized expression parenthesizedexpression duplicate nodes duplicatenodes parent statement rewrite statementrewrite f rewriter frewriter duplicate nodes duplicatenodes replace call nodes callnodes description force static forcestatic f replace duplicates freplaceduplicates f duplicates fduplicates length snippet finder snippetfinder match duplicate f duplicates fduplicates duplicate is invalid node isinvalidnode duplicate is node in static context isnodeinstaticcontext is destination reachable isdestinationreachable method declaration methoddeclaration method declaration methoddeclaration ast node astnode start method declaration methoddeclaration start start f destination fdestination start start get parent getparent start f destination fdestination method declaration methoddeclaration create new method createnewmethod ast node astnode selected nodes selectednodes string line delimiter linedelimiter text edit group texteditgroup substitute core exception coreexception method declaration methoddeclaration result create new method declaration createnewmethoddeclaration result set body setbody create method body createmethodbody selected nodes selectednodes substitute result get modifiers getmodifiers f generate javadoc fgeneratejavadoc abstract type declaration abstracttypedeclaration enclosing type enclosingtype abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration abstract type declaration abstracttypedeclaration string string code generation codegeneration get method comment getmethodcomment fcunit enclosing type enclosingtype get name getname get identifier getidentifier result line delimiter linedelimiter string javadoc javadoc javadoc f rewriter frewriter create string placeholder createstringplaceholder string ast node astnode javadoc result set javadoc setjavadoc javadoc result method declaration methoddeclaration create new method declaration createnewmethoddeclaration method declaration methoddeclaration result fast new method declaration newmethoddeclaration modifiers f visibility fvisibility body declaration bodydeclaration enclosing body declaration enclosingbodydeclaration f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration is destination interface isdestinationinterface is destination interface isdestinationinterface is destination interface isdestinationinterface enclosing body declaration enclosingbodydeclaration method declaration methoddeclaration enclosing body declaration enclosingbodydeclaration get parent getparent f destination fdestination modifier is public ispublic enclosing body declaration enclosingbodydeclaration get modifiers getmodifiers modifiers modifier should be static shouldbestatic ast node astnode current parent currentparent enclosing body declaration enclosingbodydeclaration current parent currentparent body declaration bodydeclaration should be static shouldbestatic should be static shouldbestatic jdt flags jdtflags is static isstatic body declaration bodydeclaration current parent currentparent current parent currentparent current parent currentparent get parent getparent should be static shouldbestatic current parent currentparent current parent currentparent f destination fdestination should be static shouldbestatic f analyzer fanalyzer get force static getforcestatic force static forcestatic modifiers modifier is destination interface isdestinationinterface modifiers modifier i type binding itypebinding type variables typevariables compute local type variables computelocaltypevariables modifiers list type parameter typeparameter type parameters typeparameters result type parameters typeparameters type variables typevariables length type parameter typeparameter parameter fast new type parameter newtypeparameter parameter set name setname fast new simple name newsimplename type variables typevariables get name getname i type binding itypebinding bounds type variables typevariables get type bounds gettypebounds bounds length nls java lang object equals nls bounds get qualified name getqualifiedname parameter type bounds typebounds add f import rewriter fimportrewriter add import addimport bounds fast type parameters typeparameters add parameter result modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers fast modifiers result set return type setreturntype type ast node astnode copy subtree copysubtree fast f analyzer fanalyzer get return type getreturntype result set name setname fast new simple name newsimplename f method name fmethodname import rewrite context importrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext enclosing body declaration enclosingbodydeclaration f import rewriter fimportrewriter list single variable declaration singlevariabledeclaration parameters result parameters f parameter infos fparameterinfos size parameter info parameterinfo info f parameter infos fparameterinfos variable declaration variabledeclaration info decl infodecl get variable declaration getvariabledeclaration info single variable declaration singlevariabledeclaration parameter fast new single variable declaration newsinglevariabledeclaration parameter modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers fast ast nodes astnodes get modifiers getmodifiers info decl infodecl parameter set type settype ast node factory astnodefactory new type newtype fast info decl infodecl f import rewriter fimportrewriter context parameter set name setname fast new simple name newsimplename info get new name getnewname parameter set varargs setvarargs info is new varargs isnewvarargs parameters add parameter list type exceptions result thrown exception types thrownexceptiontypes i type binding itypebinding exception types exceptiontypes f analyzer fanalyzer get exceptions getexceptions f throw runtime exceptions fthrowruntimeexceptions exception types exceptiontypes length i type binding itypebinding exception type exceptiontype exception types exceptiontypes exceptions add f import rewriter fimportrewriter add import addimport exception type exceptiontype fast context result i type binding itypebinding compute local type variables computelocaltypevariables modifier list i type binding itypebinding result array list arraylist arrays as list aslist f analyzer fanalyzer get type variables gettypevariables f parameter infos fparameterinfos size parameter info parameterinfo info f parameter infos fparameterinfos process variable processvariable result info get old binding getoldbinding modifier i variable binding ivariablebinding method locals methodlocals f analyzer fanalyzer get method locals getmethodlocals method locals methodlocals length process variable processvariable result method locals methodlocals modifier result to array toarray i type binding itypebinding result size process variable processvariable list i type binding itypebinding result i variable binding ivariablebinding variable modifier variable i type binding itypebinding binding variable get type gettype binding binding is parameterized type isparameterizedtype i type binding itypebinding type args typeargs binding get type arguments gettypearguments args args type args typeargs length args i type binding itypebinding arg type args typeargs args arg is type variable istypevariable result arg ast node astnode decl f root froot find declaring node finddeclaringnode arg decl ast node astnode parent decl get parent getparent parent method declaration methoddeclaration parent type declaration typedeclaration modifier is static isstatic modifier result add arg i type binding itypebinding bound arg get bound getbound arg is wildcard type iswildcardtype bound result bound ast node astnode decl f root froot find declaring node finddeclaringnode bound decl ast node astnode parent decl get parent getparent parent method declaration methoddeclaration parent type declaration typedeclaration modifier is static isstatic modifier result add bound block create method body createmethodbody ast node astnode selected nodes selectednodes text edit group texteditgroup substitute modifiers block result fast new block newblock list rewrite listrewrite statements f rewriter frewriter get list rewrite getlistrewrite result block statements property locals passed arguments extracted method writes i variable binding ivariablebinding method locals methodlocals f analyzer fanalyzer get method locals getmethodlocals method locals methodlocals length method locals methodlocals result statements add create declaration createdeclaration method locals methodlocals iterator parameter info parameterinfo iter f parameter infos fparameterinfos iterator iter has next hasnext parameter info parameterinfo parameter iter parameter is rename d isrenamed selected nodes selectednodes length simple name simplename old names oldnames linked node finder linkednodefinder find by binding findbybinding selected nodes selectednodes parameter get old binding getoldbinding old names oldnames length f rewriter frewriter replace old names oldnames fast new simple name newsimplename parameter get new name getnewname extra cts expression extractsexpression f analyzer fanalyzer is expression selected isexpressionselected ast node astnode call nodes callnodes create call nodes createcallnodes modifiers ast node astnode replacement node replacementnode call nodes callnodes length replacement node replacementnode call nodes callnodes replacement node replacementnode f rewriter frewriter create group node creategroupnode call nodes callnodes extra cts expression extractsexpression expression node selected i type binding itypebinding binding f analyzer fanalyzer get expression binding getexpressionbinding nls binding binding is primitive isprimitive equals binding get name getname return statement returnstatement fast new return statement newreturnstatement set expression setexpression expression f rewriter frewriter create move target createmovetarget selected nodes selectednodes parenthesized expression parenthesizedexpression parenthesized expression parenthesizedexpression selected nodes selectednodes get expression getexpression selected nodes selectednodes statements insert last insertlast expression statement expressionstatement fast new expression statement newexpressionstatement expression f rewriter frewriter create move target createmovetarget selected nodes selectednodes statements insert last insertlast f rewriter frewriter replace selected nodes selectednodes get parent getparent parenthesized expression parenthesizedexpression selected nodes selectednodes get parent getparent selected nodes selectednodes replacement node replacementnode substitute selected nodes selectednodes length statements insert last insertlast f rewriter frewriter create move target createmovetarget selected nodes selectednodes substitute f rewriter frewriter replace selected nodes selectednodes replacement node replacementnode substitute list rewrite listrewrite source f rewriter frewriter get list rewrite getlistrewrite selected nodes selectednodes get parent getparent child list property descriptor childlistpropertydescriptor selected nodes selectednodes get location in parent getlocationinparent ast node astnode to move tomove source create move target createmovetarget selected nodes selectednodes selected nodes selectednodes selected nodes selectednodes length replacement node replacementnode substitute statements insert last insertlast to move tomove substitute i variable binding ivariablebinding return value returnvalue f analyzer fanalyzer get return value getreturnvalue return value returnvalue return statement returnstatement fast new return statement newreturnstatement set expression setexpression fast new simple name newsimplename get name getname return value returnvalue statements insert last insertlast result string get name getname i variable binding ivariablebinding binding iterator parameter info parameterinfo iter f parameter infos fparameterinfos iterator iter has next hasnext parameter info parameterinfo info iter bindings equals binding info get old binding getoldbinding info get new name getnewname binding get name getname variable declaration variabledeclaration get variable declaration getvariabledeclaration parameter info parameterinfo parameter ast nodes astnodes find variable declaration findvariabledeclaration parameter get old binding getoldbinding f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration variable declaration statement variabledeclarationstatement create declaration createdeclaration i variable binding ivariablebinding binding expression int ilizer intilizer variable declaration variabledeclaration original ast nodes astnodes find variable declaration findvariabledeclaration binding f analyzer fanalyzer get enclosing body declaration getenclosingbodydeclaration variable declaration fragment variabledeclarationfragment fragment fast new variable declaration fragment newvariabledeclarationfragment fragment set name setname simple name simplename ast node astnode copy subtree copysubtree fast original get name getname fragment set initializer setinitializer int ilizer intilizer variable declaration statement variabledeclarationstatement result fast new variable declaration statement newvariabledeclarationstatement fragment result modifiers add all addall ast node astnode copy sub trees copysubtrees fast ast nodes astnodes get modifiers getmodifiers original result set type settype ast node factory astnodefactory new type newtype fast original f import rewriter fimportrewriter context sensitive import rewrite context contextsensitiveimportrewritecontext original f import rewriter fimportrewriter result i compilation unit icompilationunit get compilation unit getcompilationunit fcunit refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments arguments string selection arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute selection selection refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute selection offset length string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer selection tokenizer has more tokens hasmoretokens offset integer value of valueof tokenizer next token nexttoken int value intvalue tokenizer has more tokens hasmoretokens length integer value of valueof tokenizer next token nexttoken int value intvalue offset length refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring illegal argument object selection java refactoring descriptor util javarefactoringdescriptorutil attribute selection f selection start fselectionstart offset f selection length fselectionlength length string handle arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle t o element handletoelement arguments get project getproject handle element element exists element get element type getelementtype i java element ijavaelement compilation unit java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get name getname i java refactorings ijavarefactorings extract method fcunit i compilation unit icompilationunit element string visibility arguments get attribute getattribute attribute visibility visibility visibility length flag flag integer parse int parseint visibility number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute visibility f visibility fvisibility flag string arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute length refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute f method name fmethodname string destination arguments get attribute getattribute attribute destination destination destination length integer parse int parseint destination number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute destination f destination index fdestinationindex string replace arguments get attribute getattribute attribute replace replace refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute replace f replace duplicates freplaceduplicates value of valueof replace boolean value booleanvalue string comments arguments get attribute getattribute attribute comments comments refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute comments f generate javadoc fgeneratejavadoc value of valueof comments boolean value booleanvalue string exceptions arguments get attribute getattribute attribute exceptions exceptions refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute exceptions f throw runtime exceptions fthrowruntimeexceptions value of valueof exceptions boolean value booleanvalue refactoring status refactoringstatus
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext code manipulation codemanipulation java util array list arraylist java util iterator java util list org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core i type root ityperoot org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast node astnode org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom modifier org eclipse jdt core dom org eclipse jdt core dom simple name simplename org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt internal corext dom scope analyzer scopeanalyzer org eclipse jdt internal corext util java model util javamodelutil code import rewrite context importrewritecontext code aware types visible code compilation unit compilationunit code code position code note context works ast created bindings context sensitive import rewrite context contextsensitiveimportrewritecontext import rewrite context importrewritecontext compilation unit compilationunit f compilation unit fcompilationunit f position fposition i binding ibinding f declarations in scope fdeclarationsinscope f imported names fimportednames import rewrite importrewrite f import rewrite fimportrewrite creates rewrite context node start position param node node context param import rewrite importrewrite rewrite context sensitive import rewrite context contextsensitiveimportrewritecontext ast node astnode node import rewrite importrewrite import rewrite importrewrite compilation unit compilationunit node get root getroot node get start position getstartposition import rewrite importrewrite creates rewrite context start position param compilation unit compilationunit root resolved bindings param position context position param import rewrite importrewrite rewrite context sensitive import rewrite context contextsensitiveimportrewritecontext compilation unit compilationunit compilation unit compilationunit position import rewrite importrewrite import rewrite importrewrite f compilation unit fcompilationunit compilation unit compilationunit f position fposition position f import rewrite fimportrewrite import rewrite importrewrite f declarations in scope fdeclarationsinscope f imported names fimportednames override find in context findincontext string qualifier string kind i binding ibinding declarations in scope declarationsinscope get declarations in scope getdeclarationsinscope declarations in scope declarationsinscope length declarations in scope declarationsinscope i type binding itypebinding i type binding itypebinding type binding typebinding i type binding itypebinding declarations in scope declarationsinscope is same type issametype type binding typebinding qualifier res is conflicting isconflicting type binding typebinding res conflict declarations in scope declarationsinscope is conflicting isconflicting declarations in scope declarationsinscope res conflict names get imported names getimportednames names length i binding ibinding binding names resolve binding resolvebinding binding i type binding itypebinding binding is recovered isrecovered i type binding itypebinding type binding typebinding i type binding itypebinding binding is conflicting type isconflictingtype type binding typebinding qualifier res conflict list abstract type declaration abstracttypedeclaration list f compilation unit fcompilationunit types iterator abstract type declaration abstracttypedeclaration iter list iterator iter has next hasnext abstract type declaration abstracttypedeclaration type iter i type binding itypebinding binding type resolve binding resolvebinding binding is same type issametype binding qualifier res i type binding itypebinding decl containing declaration containingdeclaration binding qualifier decl decl equals binding modifiers decl get modifiers getmodifiers modifier is private isprivate modifiers res conflict decl decl get declaring class getdeclaringclass string added imports addedimports f import rewrite fimportrewrite get added imports getaddedimports string qualified name qualifiedname java model util javamodelutil concatenate name concatenatename qualifier added imports addedimports length string added import addedimport added imports addedimports qualified name qualifiedname equals added import addedimport res is conflicting isconflicting added import addedimport res conflict nls qualifier equals java lang explicit statement required i type root ityperoot type root typeroot f compilation unit fcompilationunit get type root gettyperoot type root typeroot i package fragment ipackagefragment package fragment packagefragment i package fragment ipackagefragment type root typeroot get parent getparent i compilation unit icompilationunit compilation units compilationunits package fragment packagefragment get compilation units getcompilationunits compilation units compilationunits length i compilation unit icompilationunit compilation units compilationunits i type itype all types alltypes get all types getalltypes all types alltypes length i type itype type all types alltypes string package type name packagetypename type get fully qualified name getfullyqualifiedname is conflicting isconflicting package type name packagetypename res conflict java model exception javamodelexception f import rewrite fimportrewrite get default import rewrite context getdefaultimportrewritecontext find in context findincontext qualifier kind is conflicting isconflicting string string import t importt import t importt last index of lastindexof string imported name importedname imported name importedname import t importt imported name importedname import t importt substring import t importt length imported name importedname equals i type binding itypebinding containing declaration containingdeclaration i type binding itypebinding binding string qualifier string i type binding itypebinding declared types declaredtypes binding get declared types getdeclaredtypes declared types declaredtypes length i type binding itypebinding child binding childbinding declared types declaredtypes is same type issametype child binding childbinding qualifier child binding childbinding i type binding itypebinding result containing declaration containingdeclaration child binding childbinding qualifier result result is conflicting isconflicting i binding ibinding binding string binding get name getname equals is same type issametype i type binding itypebinding binding string qualifier string string qualified name qualifiedname java model util javamodelutil concatenate name concatenatename qualifier binding get qualified name getqualifiedname equals qualified name qualifiedname is conflicting type isconflictingtype i type binding itypebinding binding string qualifier string binding binding get type declaration gettypedeclaration is same type issametype binding qualifier is conflicting isconflicting binding i binding ibinding get declarations in scope getdeclarationsinscope f declarations in scope fdeclarationsinscope scope analyzer scopeanalyzer analyzer scope analyzer scopeanalyzer f compilation unit fcompilationunit f declarations in scope fdeclarationsinscope analyzer get declarations in scope getdeclarationsinscope f position fposition scope analyzer scopeanalyzer methods scope analyzer scopeanalyzer types scope analyzer scopeanalyzer variables f declarations in scope fdeclarationsinscope get imported names getimportednames f imported names fimportednames i java project ijavaproject project i java element ijavaelement java element javaelement f compilation unit fcompilationunit get java element getjavaelement java element javaelement project java element javaelement get java project getjavaproject list simple name simplename imports array list arraylist import references collector importreferencescollector collect f compilation unit fcompilationunit project imports f imported names fimportednames imports to array toarray imports size f imported names fimportednames
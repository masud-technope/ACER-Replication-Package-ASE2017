copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring rename java util array list arraylist java util arrays java util hash set hashset java util iterator java util list java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse text edits replace edit replaceedit org eclipse ltk core refactoring change org eclipse ltk core refactoring group category set groupcategoryset org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring text change textchange org eclipse ltk core refactoring participants check conditions context checkconditionscontext org eclipse ltk core refactoring participants rename arguments renamearguments org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt core search i java search constants ijavasearchconstants org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search method declaration match methoddeclarationmatch org eclipse jdt core search search engine searchengine org eclipse jdt core search search match searchmatch org eclipse jdt core search search participant searchparticipant org eclipse jdt core search search pattern searchpattern org eclipse jdt core search search requestor searchrequestor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring availability tester refactoringavailabilitytester org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring refactoring scope factory refactoringscopefactory org eclipse jdt internal corext refactoring refactoring search engine refactoringsearchengine org eclipse jdt internal corext refactoring search result group searchresultgroup org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext refactoring base references in binary context referencesinbinarycontext org eclipse jdt internal corext refactoring dynamic validation refactoring change dynamicvalidationrefactoringchange org eclipse jdt internal corext refactoring text change compatibility textchangecompatibility org eclipse jdt internal corext refactoring delegates delegate creator delegatecreator org eclipse jdt internal corext refactoring delegates delegate method creator delegatemethodcreator org eclipse jdt internal corext refactoring participants java processors javaprocessors org eclipse jdt internal corext refactoring structure ast node search util astnodesearchutil org eclipse jdt internal corext refactoring structure compilation unit rewrite compilationunitrewrite org eclipse jdt internal corext refactoring tag ging tagging i delegate updating idelegateupdating org eclipse jdt internal corext refactoring tag ging tagging i reference updating ireferenceupdating org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext refactoring util text change manager textchangemanager org eclipse jdt internal corext util collections util collectionsutil org eclipse jdt internal corext util java conventions util javaconventionsutil org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt internal corext util search utils searchutils org eclipse jdt java element labels javaelementlabels org eclipse jdt refactoring i refactoring processor ids irefactoringprocessorids org eclipse jdt refactoring refactoring save helper refactoringsavehelper org eclipse jdt internal java plugin javaplugin org eclipse jdt internal viewsupport basic element labels basicelementlabels rename method processor renamemethodprocessor java rename processor javarenameprocessor i reference updating ireferenceupdating i delegate updating idelegateupdating nls string attribute delegate delegate nls string attribute deprecate deprecate search result group searchresultgroup f occurrences foccurrences f update references fupdatereferences i method imethod f method fmethod i method imethod f methods to rename fmethodstorename text change manager textchangemanager f change manager fchangemanager working copy owner workingcopyowner f working copy owner fworkingcopyowner f is composite fiscomposite group category set groupcategoryset f category set fcategoryset f delegate updating fdelegateupdating f delegate deprecation fdelegatedeprecation f initialized finitialized creates rename method processor param method method code code invoked scripting rename method processor renamemethodprocessor i method imethod method method text change manager textchangemanager f is composite fiscomposite creates rename method processor constructor invoked code rename type processor renametypeprocessor code param method method param manager change manager param category set categoryset group category rename method processor renamemethodprocessor i method imethod method text change manager textchangemanager manager group category set groupcategoryset category set categoryset initialize method f change manager fchangemanager manager f category set fcategoryset category set categoryset f delegate updating fdelegateupdating f delegate deprecation fdelegatedeprecation f is composite fiscomposite initialize i method imethod method f method fmethod method f initialized finitialized method set new element name setnewelementname method get element name getelementname f update references fupdatereferences initialize working copy owner initializeworkingcopyowner initialize working copy owner initializeworkingcopyowner f working copy owner fworkingcopyowner working copy owner workingcopyowner set data setdata rename method processor renamemethodprocessor f update references fupdatereferences f update references fupdatereferences set new element name setnewelementname get new element name getnewelementname override string get identifier getidentifier i refactoring processor ids irefactoringprocessorids rename method processor override is applicable isapplicable core exception coreexception refactoring availability tester refactoringavailabilitytester is rename available isrenameavailable f method fmethod override string get processor name getprocessorname refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring override string get affected project natures getaffectedprojectnatures core exception coreexception java processors javaprocessors compute affected natures computeaffectednatures f method fmethod override object get elements getelements object f method fmethod override rename modifications renamemodifications compute rename modifications computerenamemodifications core exception coreexception rename modifications renamemodifications result rename modifications renamemodifications rename arguments renamearguments args rename arguments renamearguments get new element name getnewelementname get update references getupdatereferences iterator i method imethod iter f methods to rename fmethodstorename iterator iter has next hasnext i method imethod method iter result rename method args result override i file ifile get changed files getchangedfiles core exception coreexception resource util resourceutil get files getfiles f change manager fchangemanager get all compilation units getallcompilationunits override get save mode getsavemode refactoring save helper refactoringsavehelper save refactoring i name updating inameupdating override string get current element name getcurrentelementname f method fmethod get element name getelementname override refactoring status refactoringstatus check new element name checknewelementname string new name newname nls is not null isnotnull new name newname refactoring status refactoringstatus status checks check name checkname new name newname java conventions util javaconventionsutil validate method name validatemethodname new name newname f method fmethod status isok checks starts with lower case startswithlowercase new name newname status refactoring status refactoringstatus create warning status createwarningstatus f is composite fiscomposite messages format refactoring core messages refactoringcoremessages checks method names lowercase string basic element labels basicelementlabels get java element name getjavaelementname new name newname get declaring type label getdeclaringtypelabel refactoring core messages refactoringcoremessages checks method names lowercase checks is already name d isalreadynamed f method fmethod new name newname status add fatal error addfatalerror f is composite fiscomposite messages format refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring string basic element labels basicelementlabels get java element name getjavaelementname new name newname get declaring type label getdeclaringtypelabel refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring java status context javastatuscontext create f method fmethod status string get declaring type label getdeclaringtypelabel java element labels javaelementlabels get element label getelementlabel f method fmethod get declaring type getdeclaringtype java element labels javaelementlabels override object get new element getnewelement f method fmethod get declaring type getdeclaringtype get method getmethod get new element name getnewelementname f method fmethod get parameter types getparametertypes i method imethod get method getmethod f method fmethod initialize methods to rename initializemethodstorename i progress monitor iprogressmonitor references in binary context referencesinbinarycontext binary refs binaryrefs core exception coreexception f methods to rename fmethodstorename i method imethod ripple methods ripplemethods ripple method finder ripplemethodfinder get related methods getrelatedmethods get method getmethod binary refs binaryrefs f methods to rename fmethodstorename hash set hashset i method imethod method ripple methods ripplemethods method is lambda method islambdamethod f methods to rename fmethodstorename add method set methods to rename setmethodstorename i method imethod methods f methods to rename fmethodstorename hash set hashset arrays as list aslist methods i method imethod get methods to rename getmethodstorename f methods to rename fmethodstorename i reference updating ireferenceupdating override set update references setupdatereferences update f update references fupdatereferences update override get update references getupdatereferences f update references fupdatereferences i delegate updating idelegateupdating override can enable delegate updating canenabledelegateupdating override get delegate updating getdelegateupdating f delegate updating fdelegateupdating override set delegate updating setdelegateupdating updating f delegate updating fdelegateupdating updating override get deprecate delegates getdeprecatedelegates f delegate deprecation fdelegatedeprecation override set deprecate delegates setdeprecatedelegates deprecate f delegate deprecation fdelegatedeprecation deprecate preconditions override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception f method fmethod exists string message messages format refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring deleted basic element labels basicelementlabels get file name getfilename f method fmethod get compilation unit getcompilationunit refactoring status refactoringstatus create fatal error status createfatalerrorstatus message refactoring status refactoringstatus result checks check availability checkavailability f method fmethod result has fatal error hasfatalerror result result merge checks check if cu broken checkifcubroken f method fmethod jdt flags jdtflags is native isnative f method fmethod result add error adderror refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring result override refactoring status refactoringstatus do check final conditions docheckfinalconditions i progress monitor iprogressmonitor check conditions context checkconditionscontext context core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus nls begin task begintask todo work around workaround https bugs eclipse org bugs bug cgi checks is available isavailable f method fmethod result add fatal error addfatalerror refactoring core messages refactoringcoremessages rename method processor renamemethodprocessor binary java status context javastatuscontext create f method fmethod result result merge checks check if cu broken checkifcubroken f method fmethod result has fatal error hasfatalerror result set task name settaskname refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring task name taskname checking preconditions checkingpreconditions result merge check new element name checknewelementname get new element name getnewelementname result has fatal error hasfatalerror result must analyze shadowing mustanalyzeshadowing i method imethod new name methods newnamemethods search for declarations of clashing methods searchfordeclarationsofclashingmethods sub progress monitor subprogressmonitor new name methods newnamemethods length must analyze shadowing mustanalyzeshadowing worked i type itype outer types outertypes search for outer types of references searchforoutertypesofreferences new name methods newnamemethods sub progress monitor subprogressmonitor outer types outertypes length exists reference clas hing clashing method reference nested type nested type type ripple method hierarchy reference bind ripple method binding method enclosing scope references semantics preserved examples rename virtual method in class tests renamevirtualmethodinclasstests test fail testfail test fail testfail todo pass declaring types declaringtypes ripple method finder ripplemethodfinder check hierarchy outer types outertypes type outer type outertype recursively must analyze shadowing mustanalyzeshadowing has old refs in inner types hasoldrefsininnertypes recursively declare ripple method ripplemethod has old refs in inner types hasoldrefsininnertypes exists reference ripple method nested type type hierarchy ripple method reference renamed super types supertypes nested type declared method matching renamed reference bind method super type supertype inherited methods bind str onger stronger methods enclosing scopes references semantics preserved examples rename private method tests renameprivatemethodtests test fail testfail rename private method tests renameprivatemethodtests test fail testfail must analyze shadowing mustanalyzeshadowing must analyze shadowing mustanalyzeshadowing string binary refs description binaryrefsdescription messages format refactoring core messages refactoringcoremessages references in binary context referencesinbinarycontext bin aries binaries description basic element labels basicelementlabels get java element name getjavaelementname get current element name getcurrentelementname references in binary context referencesinbinarycontext binary refs binaryrefs references in binary context referencesinbinarycontext binary refs description binaryrefsdescription initialize methods to rename initializemethodstorename sub progress monitor subprogressmonitor binary refs binaryrefs set task name settaskname refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring task name taskname searching for references searchingforreferences f occurrences foccurrences get occurrences getoccurrences sub progress monitor subprogressmonitor result binary refs binaryrefs binary refs binaryrefs add error if necessary adderrorifnecessary result set task name settaskname refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring task name taskname checking preconditions checkingpreconditions f update references fupdatereferences result merge check related methods checkrelatedmethods removes c us cus syntax errors result merge analyze compilation units analyzecompilationunits worked result has fatal error hasfatalerror result create changes createchanges sub progress monitor subprogressmonitor result f update references fupdatereferences must analyze shadowing mustanalyzeshadowing result merge analyze rename changes analyzerenamechanges sub progress monitor subprogressmonitor worked result i type itype search for outer types of references searchforoutertypesofreferences i method imethod new name methods newnamemethods i progress monitor iprogressmonitor core exception coreexception i type itype outer types of references outertypesofreferences hash set hashset search pattern searchpattern pattern refactoring search engine refactoringsearchengine create or pattern createorpattern new name methods newnamemethods i java search constants ijavasearchconstants references i java search scope ijavasearchscope scope create refactoring scope createrefactoringscope get method getmethod search requestor searchrequestor requestor search requestor searchrequestor override accept search match acceptsearchmatch search match searchmatch match core exception coreexception object element match get element getelement element i member imember i import declaration iimportdeclaration method i member imember member i member imember element i type itype declaring member get declaring type getdeclaringtype declaring i type itype declaring get declaring type getdeclaringtype outer types of references outertypesofreferences add declaring search engine searchengine search pattern search utils searchutils get default search participants getdefaultsearchparticipants scope requestor outer types of references outertypesofreferences to array toarray i type itype outer types of references outertypesofreferences size i method imethod search for declarations of clashing methods searchfordeclarationsofclashingmethods i progress monitor iprogressmonitor core exception coreexception list i method imethod array list arraylist search pattern searchpattern pattern create new method pattern createnewmethodpattern i java search scope ijavasearchscope scope refactoring scope factory refactoringscopefactory create get method getmethod get java project getjavaproject search requestor searchrequestor requestor search requestor searchrequestor override accept search match acceptsearchmatch search match searchmatch match core exception coreexception object method match get element getelement check bug refactoring rename renaming method internal exception method i method imethod add i method imethod method java plugin javaplugin log error message logerrormessage nls unexpected element search match nls match to string tostring search engine searchengine search pattern search utils searchutils get default search participants getdefaultsearchparticipants scope requestor to array toarray i method imethod size search pattern searchpattern create new method pattern createnewmethodpattern string buffer stringbuffer string pattern stringpattern string buffer stringbuffer get new element name getnewelementname append param count paramcount get method getmethod get number of parameters getnumberofparameters param count paramcount string pattern stringpattern append string pattern stringpattern append string pattern stringpattern append search pattern searchpattern create pattern createpattern string pattern stringpattern to string tostring i java search constants ijavasearchconstants method i java search constants ijavasearchconstants declarations search utils searchutils generics agnostic match rule i java search scope ijavasearchscope create refactoring scope createrefactoringscope core exception coreexception create refactoring scope createrefactoringscope f method fmethod todo should n shouldn scope ripple methods account i java search scope ijavasearchscope create refactoring scope createrefactoringscope i method imethod method core exception coreexception refactoring scope factory refactoringscopefactory create method search pattern searchpattern create occurrence search pattern createoccurrencesearchpattern hash set hashset i method imethod methods hash set hashset f methods to rename fmethodstorename methods add f method fmethod i method imethod methods to array toarray i method imethod methods size refactoring search engine refactoringsearchengine create or pattern createorpattern i java search constants ijavasearchconstants occurrences search result group searchresultgroup get occurrences getoccurrences f occurrences foccurrences search result group searchresultgroup get occurrences getoccurrences i progress monitor iprogressmonitor refactoring status refactoringstatus status references in binary context referencesinbinarycontext binary refs binaryrefs core exception coreexception search pattern searchpattern pattern create occurrence search pattern createoccurrencesearchpattern refactoring search engine refactoringsearchengine search pattern create refactoring scope createrefactoringscope method occurence collector methodoccurencecollector get method getmethod get element name getelementname binary refs binaryrefs status refactoring status refactoringstatus check related methods checkrelatedmethods core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus iterator i method imethod iter f methods to rename fmethodstorename iterator iter has next hasnext i method imethod method iter result merge checks check if constructor name checkifconstructorname method get new element name getnewelementname method get declaring type getdeclaringtype get element name getelementname string msg data msgdata string basic element labels basicelementlabels get java element name getjavaelementname method get element name getelementname basic element labels basicelementlabels get java element name getjavaelementname method get declaring type getdeclaringtype get fully qualified name getfullyqualifiedname method exists result add fatal error addfatalerror messages format refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring model msg data msgdata method is binary isbinary result add fatal error addfatalerror messages format refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring binary msg data msgdata method is read only isreadonly result add fatal error addfatalerror messages format refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring read msg data msgdata jdt flags jdtflags is native isnative method result add error adderror messages format refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring msg data msgdata result refactoring status refactoringstatus analyze compilation units analyzecompilationunits core exception coreexception f occurrences foccurrences length refactoring status refactoringstatus result refactoring status refactoringstatus f occurrences foccurrences checks exclude compilation units excludecompilationunits f occurrences foccurrences result result has fatal error hasfatalerror result result merge checks check compile errors in affected files checkcompileerrorsinaffectedfiles f occurrences foccurrences result refactoring status refactoringstatus analyze rename changes analyzerenamechanges i progress monitor iprogressmonitor core exception coreexception i compilation unit icompilationunit new declaration cs newdeclarationwcs nls begin task begintask refactoring status refactoringstatus result refactoring status refactoringstatus i compilation unit icompilationunit declarationcus get declaration us getdeclarationcus new declaration cs newdeclarationwcs rename analyze util renameanalyzeutil create new working copies createnewworkingcopies declarationcus f change manager fchangemanager f working copy owner fworkingcopyowner sub progress monitor subprogressmonitor i method imethod wc old methods wcoldmethods i method imethod f methods to rename fmethodstorename size i method imethod wc new methods wcnewmethods i method imethod f methods to rename fmethodstorename size iterator i method imethod iter f methods to rename fmethodstorename iterator iter has next hasnext i method imethod method iter i compilation unit icompilationunit new cu newcu rename analyze util renameanalyzeutil find working copy for cu findworkingcopyforcu new declaration cs newdeclarationwcs method get compilation unit getcompilationunit i type itype type wc typewc i type itype java model util javamodelutil find in compilation unit findincompilationunit new cu newcu method get declaring type getdeclaringtype type wc typewc happen wc old methods wcoldmethods collections util collectionsutil to array toarray arrays as list aslist wc old methods wcoldmethods sub list sublist wc old methods wcoldmethods length i method imethod wc new methods wcnewmethods collections util collectionsutil to array toarray arrays as list aslist wc new methods wcnewmethods sub list sublist wc new methods wcnewmethods length i method imethod wc old methods wcoldmethods get method in working copy getmethodinworkingcopy method get current element name getcurrentelementname type wc typewc wc new methods wcnewmethods get method in working copy getmethodinworkingcopy method get new element name getnewelementname type wc typewc search result group searchresultgroup new occurrences newoccurrences find new occurrences findnewoccurrences new methods newmethods new declaration cs newdeclarationwcs sub progress monitor subprogressmonitor search result group searchresultgroup new occurrences newoccurrences batch find new occurrences batchfindnewoccurrences wc new methods wcnewmethods wc old methods wcoldmethods new declaration cs newdeclarationwcs sub progress monitor subprogressmonitor result result merge rename analyze util renameanalyzeutil analyze rename changes analyzerenamechanges f change manager fchangemanager f occurrences foccurrences new occurrences newoccurrences get new element name getnewelementname result new declaration cs newdeclarationwcs new declaration cs newdeclarationwcs length new declaration cs newdeclarationwcs discard working copy discardworkingcopy memory foo tprint footprint batch find new occurrences batchfindnewoccurrences slow solution searches chunks c us cus search result group searchresultgroup find new occurrences findnewoccurrences i method imethod new methods newmethods i compilation unit icompilationunit new declaration cs newdeclarationwcs i progress monitor iprogressmonitor core exception coreexception begin task begintask f occurrences foccurrences length nls search pattern searchpattern refs pattern refspattern refactoring search engine refactoringsearchengine create or pattern createorpattern new methods newmethods i java search constants ijavasearchconstants references search participant searchparticipant search participants searchparticipants search utils searchutils get default search participants getdefaultsearchparticipants i java search scope ijavasearchscope scope refactoring scope factory refactoringscopefactory create new methods newmethods method occurence collector methodoccurencecollector requestor method occurence collector methodoccurencecollector get new element name getnewelementname search engine searchengine search engine searchengine search engine searchengine f working copy owner fworkingcopyowner todo process references f occurrences foccurrences length get references getreferences cut memory peak holding reference time memory i compilation unit icompilationunit original cu originalcu f occurrences foccurrences get compilation unit getcompilationunit i compilation unit icompilationunit new wc newwc i compilation unit icompilationunit rename analyze util renameanalyzeutil find working copy for cu findworkingcopyforcu new declaration cs newdeclarationwcs original cu originalcu new wc newwc rename analyze util renameanalyzeutil create new working copy createnewworkingcopy original cu originalcu f change manager fchangemanager f working copy owner fworkingcopyowner sub progress monitor subprogressmonitor search engine searchengine search refs pattern refspattern search participants searchparticipants scope requestor sub progress monitor subprogressmonitor new wc newwc new wc newwc discard working copy discardworkingcopy search result group searchresultgroup new results newresults refactoring search engine refactoringsearchengine group by resource groupbyresource requestor get results getresults new results newresults search result group searchresultgroup batch find new occurrences batchfindnewoccurrences i method imethod wc new methods wcnewmethods i method imethod wc old methods wcoldmethods i compilation unit icompilationunit new declaration cs newdeclarationwcs i progress monitor iprogressmonitor refactoring status refactoringstatus status core exception coreexception nls begin task begintask search pattern searchpattern refs pattern refspattern refactoring search engine refactoringsearchengine create or pattern createorpattern wc new methods wcnewmethods i java search constants ijavasearchconstants references search participant searchparticipant search participants searchparticipants search utils searchutils get default search participants getdefaultsearchparticipants i java search scope ijavasearchscope scope refactoring scope factory refactoringscopefactory create wc new methods wcnewmethods method occurence collector methodoccurencecollector requestor get delegate updating getdelegateupdating matches delegate invocation javadoc reported note ocurrences delegate bodies empty created requestor method occurence collector methodoccurencecollector get new element name getnewelementname override accept search match acceptsearchmatch i compilation unit icompilationunit unit search match searchmatch match core exception coreexception wc old methods wcoldmethods length wc old methods wcoldmethods equals match get element getelement accept search match acceptsearchmatch unit match requestor method occurence collector methodoccurencecollector get new element name getnewelementname search engine searchengine search engine searchengine search engine searchengine f working copy owner fworkingcopyowner array list arraylist i compilation unit icompilationunit needwcs array list arraylist hash set hashset i compilation unit icompilationunit declaringcus hash set hashset new declaration cs newdeclarationwcs length new declaration cs newdeclarationwcs length declaringcus add new declaration cs newdeclarationwcs get primary getprimary f occurrences foccurrences length i compilation unit icompilationunit f occurrences foccurrences get compilation unit getcompilationunit declaringcus needwcs add i compilation unit icompilationunit otherwcs otherwcs rename analyze util renameanalyzeutil create new working copies createnewworkingcopies needwcs to array toarray i compilation unit icompilationunit needwcs size f change manager fchangemanager f working copy owner fworkingcopyowner sub progress monitor subprogressmonitor search engine searchengine search refs pattern refspattern search participants searchparticipants scope requestor sub progress monitor subprogressmonitor otherwcs otherwcs length otherwcs discard working copy discardworkingcopy search result group searchresultgroup new results newresults refactoring search engine refactoringsearchengine group by cu groupbycu requestor get results getresults status new results newresults i compilation unit icompilationunit get declaration us getdeclarationcus i compilation unit icompilationunit cus hash set hashset iterator i method imethod iter f methods to rename fmethodstorename iterator iter has next hasnext i method imethod method iter cus add method get compilation unit getcompilationunit cus to array toarray i compilation unit icompilationunit cus size i method imethod get method in working copy getmethodinworkingcopy i method imethod method string element name elementname i type itype type wc typewc string param type signatures paramtypesignatures method get parameter types getparametertypes type wc typewc get method getmethod element name elementname param type signatures paramtypesignatures i method imethod classes declare method name classesdeclaremethodname i type hierarchy itypehierarchy hier list i type itype classes i method imethod method string new name newname core exception coreexception i method imethod result hash set hashset i type itype type method get declaring type getdeclaringtype list i type itype subtypes arrays as list aslist hier get all subtypes getallsubtypes type parameter count parametercount method get parameter types getparametertypes length is method private ismethodprivate jdt flags jdtflags is private isprivate method iterator i type itype iter classes iterator iter has next hasnext i type itype clazz iter i method imethod methods clazz get methods getmethods is sub class issubclass subtypes clazz methods length i method imethod found method foundmethod checks find method findmethod new name newname parameter count parametercount i method imethod methods found method foundmethod is sub class issubclass type equals clazz result add found method foundmethod is method private ismethodprivate jdt flags jdtflags is private isprivate methods result add found method foundmethod result to array toarray i method imethod result size i method imethod hierarchy decl ares method name hierarchydeclaresmethodname i progress monitor iprogressmonitor i type hierarchy itypehierarchy hierarchy i method imethod method string new name newname core exception coreexception i method imethod result hash set hashset i type itype type method get declaring type getdeclaringtype i method imethod found method foundmethod checks find method findmethod new name newname method get parameter types getparametertypes length type found method foundmethod result add found method foundmethod i method imethod found in hierarchy classes foundinhierarchyclasses classes declare method name classesdeclaremethodname hierarchy arrays as list aslist hierarchy get all classes getallclasses method new name newname found in hierarchy classes foundinhierarchyclasses result add all addall arrays as list aslist found in hierarchy classes foundinhierarchyclasses i type itype implementing classes implementingclasses hierarchy get impl ementing classes getimplementingclasses type i method imethod found in impl ementing classes foundinimplementingclasses classes declare method name classesdeclaremethodname hierarchy arrays as list aslist implementing classes implementingclasses method new name newname found in impl ementing classes foundinimplementingclasses result add all addall arrays as list aslist found in impl ementing classes foundinimplementingclasses result to array toarray i method imethod result size override change create change createchange i progress monitor iprogressmonitor monitor core exception coreexception text change textchange f change manager fchangemanager get all changes getallchanges list text change textchange list array list arraylist length list add all addall arrays as list aslist string project i java project ijavaproject java project javaproject f method fmethod get java project getjavaproject java project javaproject project java project javaproject get element name getelementname flags java refactoring descriptor javarefactoringdescriptor jar migration java refactoring descriptor javarefactoringdescriptor jar refactoring refactoring descriptor refactoringdescriptor structural change flags is private isprivate f method fmethod get flags getflags flags refactoring descriptor refactoringdescriptor multi change java model exception javamodelexception exception java plugin javaplugin log exception i type itype declaring f method fmethod get declaring type getdeclaringtype declaring is anonymous isanonymous declaring is local islocal flags java refactoring descriptor javarefactoringdescriptor jar source attachment java model exception javamodelexception exception java plugin javaplugin log exception string description messages format refactoring core messages refactoringcoremessages rename method processor renamemethodprocessor descriptor description basic element labels basicelementlabels get java element name getjavaelementname f method fmethod get element name getelementname string header messages format refactoring core messages refactoringcoremessages rename method processor renamemethodprocessor descriptor description string java element labels javaelementlabels get text label gettextlabel f method fmethod java element labels javaelementlabels fully qualified basic element labels basicelementlabels get java element name getjavaelementname get new element name getnewelementname string comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project header as string asstring rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename method descriptor set project setproject project descriptor set description setdescription description descriptor set comment setcomment comment descriptor set flags setflags flags descriptor set java element setjavaelement f method fmethod descriptor set new name setnewname get new element name getnewelementname descriptor set update references setupdatereferences f update references fupdatereferences descriptor set keep original setkeeporiginal f delegate updating fdelegateupdating descriptor set deprecate delegate setdeprecatedelegate f delegate deprecation fdelegatedeprecation dynamic validation refactoring change dynamicvalidationrefactoringchange descriptor refactoring core messages refactoringcoremessages rename method processor renamemethodprocessor change list to array toarray change list size monitor text change manager textchangemanager create changes createchanges i progress monitor iprogressmonitor refactoring status refactoringstatus status core exception coreexception f is composite fiscomposite f change manager fchangemanager clear add occurrences addoccurrences f change manager fchangemanager status f change manager fchangemanager add occurrences param manager text change manager param progress monitor param status status core exception coreexception change creation failed add occurrences addoccurrences text change manager textchangemanager manager i progress monitor iprogressmonitor refactoring status refactoringstatus status core exception coreexception thrown subtype nls begin task begintask f occurrences foccurrences length f occurrences foccurrences length i compilation unit icompilationunit f occurrences foccurrences get compilation unit getcompilationunit search match searchmatch f occurrences foccurrences get search results getsearchresults split matches declaration declaration matches list search match searchmatch declarations in this cu declarationsinthiscu array list arraylist list search match searchmatch references in this cu referencesinthiscu array list arraylist length method declaration match methoddeclarationmatch declarations in this cu declarationsinthiscu add references in this cu referencesinthiscu add handle declarations declarations in this cu declarationsinthiscu size f delegate updating fdelegateupdating update delegates compilation unit rewrite compilationunitrewrite rewrite compilation unit rewrite compilationunitrewrite rewrite set resolve bindings setresolvebindings iterator search match searchmatch iter declarations in this cu declarationsinthiscu iterator iter has next hasnext search match searchmatch element iter method declaration methoddeclaration method ast node search util astnodesearchutil get method declaration node getmethoddeclarationnode i method imethod element get element getelement rewrite get root getroot delegate creator delegatecreator creator delegate method creator delegatemethodcreator creator set declare deprecated setdeclaredeprecated f delegate deprecation fdelegatedeprecation creator set declaration setdeclaration method creator set source rewrite setsourcerewrite rewrite creator set new element name setnewelementname get new element name getnewelementname creator prepare delegate preparedelegate creator create edit createedit handle delegates creates completely change object text change textchange change for this cu changeforthiscu rewrite create change createchange change for this cu changeforthiscu set keep preview edits setkeeppreviewedits manager manage change for this cu changeforthiscu update normal methods iterator search match searchmatch iter declarations in this cu declarationsinthiscu iterator iter has next hasnext search match searchmatch element iter simple update simpleupdate element manager handle references f update references fupdatereferences iterator search match searchmatch iter references in this cu referencesinthiscu iterator iter has next hasnext search match searchmatch element iter simple update simpleupdate element manager worked is canceled iscanceled operation canceled exception operationcanceledexception simple update simpleupdate search match searchmatch element i compilation unit icompilationunit text change textchange text change textchange string edit name editname refactoring core messages refactoringcoremessages rename method refactoring renamemethodrefactoring update occurrence replace edit replaceedit replace edit replaceedit create replace edit createreplaceedit element add text edit addtextedit text change textchange edit name editname replace edit replaceedit replace edit replaceedit create replace edit createreplaceedit search match searchmatch search result searchresult i compilation unit icompilationunit handle annotation element references bug search result searchresult is implicit isimplicit string buffer stringbuffer string buffer stringbuffer get new element name getnewelementname java core javacore insert equals get java project getjavaproject get option getoption default code formatter constants defaultcodeformatterconstants formatter insert space assignment append append java core javacore insert equals get java project getjavaproject get option getoption default code formatter constants defaultcodeformatterconstants formatter insert space assignment append replace edit replaceedit search result searchresult get offset getoffset to string tostring replace edit replaceedit search result searchresult get offset getoffset search result searchresult get length getlength get new element name getnewelementname initializes refactoring scripting arguments link rename virtual method processor renamevirtualmethodprocessor link rename non virtual method processor renamenonvirtualmethodprocessor param extended arguments status refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments extended f initialized finitialized string handle extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement extended get project getproject handle string refactoring get processor name getprocessorname element i method imethod i method imethod method i method imethod element i type itype declaring method get declaring type getdeclaringtype declaring declaring exists i method imethod methods declaring find methods findmethods method methods methods length methods methods exists java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus methods refactoring i java refactorings ijavarefactorings rename method f method fmethod methods initialize working copy owner initializeworkingcopyowner java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus refactoring i java refactorings ijavarefactorings rename method java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element refactoring i java refactorings ijavarefactorings rename method java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element refactoring i java refactorings ijavarefactorings rename method refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input string extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute nls equals set new element name setnewelementname refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute string references extended get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute references references f update references fupdatereferences value of valueof references boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute references string delegate extended get attribute getattribute attribute delegate delegate f delegate updating fdelegateupdating value of valueof delegate boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute delegate string deprecate extended get attribute getattribute attribute deprecate deprecate f delegate deprecation fdelegatedeprecation value of valueof deprecate boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute deprecate refactoring status refactoringstatus add text edit addtextedit text change textchange change string edit name editname replace edit replaceedit replace edit replaceedit f is composite fiscomposite text change compatibility textchangecompatibility add text edit addtextedit change edit name editname replace edit replaceedit f category set fcategoryset text change compatibility textchangecompatibility add text edit addtextedit change edit name editname replace edit replaceedit
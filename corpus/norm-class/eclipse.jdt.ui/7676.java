copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter deploy java application executable jar ferenc hechler ferenc hechler users source for ge sourceforge net jar application add jar jar class loader classloader option org eclipse jdt internal jar package r jarpackager java file java i o exception ioexception java input stream inputstream java net uri java util array list arraylist java util arrays java util iterator java util list java util zip crc java util zip zip entry zipentry java util zip zip exception zipexception java util zip zip file zipfile org eclipse swt widgets display org eclipse swt widgets shell org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime status org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs message dialog messagedialog org eclipse jface operation i runnable context irunnablecontext org eclipse jdt core i java element ijavaelement org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util messages org eclipse jdt javaui org eclipse jdt jar package r jarpackager jar package data jarpackagedata org eclipse jdt internal i java status constants ijavastatusconstants org eclipse jdt internal java plugin javaplugin org eclipse jdt internal viewsupport basic element labels basicelementlabels utility methods jar export jar package r util jarpackagerutil nls string jar extension jar nls string description extension jar desc jardesc nls string meta inf entry meta inf nls string ref actorings refactorings entry meta inf entry ref actorings refactorings xml jar package r util jarpackagerutil ask to create directory asktocreatedirectory shell parent file directory parent query dialog querydialog parent jar package r messages jarpackagermessages jar package jarpackage confirm create confirmcreate title messages format jar package r messages jarpackagermessages jar package jarpackage confirm create confirmcreate message basic element labels basicelementlabels get path label getpathlabel directory returns ref actorings refactorings zip entry ref actorings refactorings zip entry string get refactorings entry getrefactoringsentry ref actorings refactorings entry returns dep recations deprecations zip entry file param file dep recations deprecations zip entry string get deprecation entry getdeprecationentry string nls meta inf entry returns meta entry meta entry string get meta entry getmetaentry meta inf entry computes returns elements resources underlying resource java elements param elements elements retrieve resources list selected resources list i resource iresource as resources asresources object elements elements list i resource iresource selected resources selectedresources array list arraylist elements length elements length object element elements element i java element ijavaelement selected resources selectedresources add i java element ijavaelement element get resource getresource element i resource iresource selected resources selectedresources add i resource iresource element selected resources selectedresources ask for overwrite permission askforoverwritepermission shell parent i path ipath file path filepath isospath parent query dialog querydialog parent jar package r messages jarpackagermessages jar package jarpackage confirm replace confirmreplace title messages format jar package r messages jarpackagermessages jar package jarpackage confirm replace confirmreplace message basic element labels basicelementlabels get path label getpathlabel file path filepath isospath ask for overwrite folder permission askforoverwritefolderpermission shell parent i path ipath file path filepath isospath parent query dialog querydialog parent jar package r messages jarpackagermessages jar package jarpackage confirm overwrite folder confirmoverwritefolder title messages format jar package r messages jarpackagermessages jar package jarpackage confirm overwrite folder confirmoverwritefolder message basic element labels basicelementlabels get path label getpathlabel file path filepath isospath manifest main param jar package jarpackage jar data string string get main class name getmainclassname jar package data jarpackagedata jar package jarpackage jar package jarpackage get manifest main class getmanifestmainclass nls jar package jarpackage get manifest main class getmanifestmainclass get fully qualified name getfullyqualifiedname query dialog querydialog shell parent string title string message display display parent get display getdisplay display display is disposed isdisposed return value returnvalue runnable runnable runnable override return value returnvalue message dialog messagedialog open question openquestion parent title message display sync exec syncexec runnable return value returnvalue creates code core exception coreexception code parameters param message string message param exception wrapped code code core exception coreexception core exception coreexception create core exception createcoreexception string message exception message nls message core exception coreexception status i status istatus error javaui plugin i java status constants ijavastatusconstants internal error message tells manifest main valid param data jar data param context runnable context code code main valid is main class valid ismainclassvalid jar package data jarpackagedata data i runnable context irunnablecontext context data i type itype main class mainclass data get manifest main class getmanifestmainclass main class mainclass main check main method scope i file ifile file i file ifile main class mainclass get resource getresource file as resources asresources data get elements getelements file test main method java model util javamodelutil has main method hasmainmethod main class mainclass java model exception javamodelexception java plugin javaplugin log get status getstatus list i resource iresource resources i file ifile file resources file resources file iterator i resource iresource iter resources iterator iter has next hasnext i resource iresource resource iter resource resource get type gettype i resource iresource file list i resource iresource children children arrays as list aslist i container icontainer resource members core exception coreexception children children file calculates crc size resource updates entry param entry jar entry update param stream input stream param buffer shared buffer store temporary data i o exception ioexception input output error occurs calculate crc and size calculatecrcandsize zip entry zipentry entry input stream inputstream stream buffer i o exception ioexception size crc crc crc count count stream read buffer buffer length crc update buffer count size count stream stream close i o exception ioexception exception entry set size setsize size entry set crc setcrc crc get value getvalue opens archive file location note caller resp onsibility responsibility close returned link zip file zipfile param location location archive file archive code code retrieved core exception coreexception archive read zip file zipfile get archive file getarchivefile i path ipath location core exception coreexception file local file localfile i resource iresource file resources plugin resourcesplugin get workspace getworkspace get root getroot find member findmember location file internal resource uri file location filelocation file getlocationuri i file store ifilestore file store filestore efs get store getstore file location filelocation local file localfile file store filestore to local file tolocalfile efs local file localfile local file system local file localfile file store filestore to local file tolocalfile efs cache external resource to file tofile local file localfile location to file tofile local file localfile zip file zipfile local file localfile zip exception zipexception core exception coreexception status i status istatus error javaui plugin get local ized message getlocalizedmessage i o exception ioexception core exception coreexception status i status istatus error javaui plugin get local ized message getlocalizedmessage
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk internal core refactoring history java i o exception ioexception java input stream inputstream java output stream outputstream java net uri java util array list arraylist java util arrays java util collection java util java util hash map hashmap java util hash set hashset java util iterator java util linked hash map linkedhashmap java util list java util map java util map entry java util ibm icu text date format dateformat org xml sax input source inputsource org eclipse core commands operations i operation history listener ioperationhistorylistener org eclipse core commands operations i undo able operation iundoableoperation org eclipse core commands operations operation history event operationhistoryevent org eclipse core commands operations operation history factory operationhistoryfactory org eclipse core commands operations triggered operations triggeredoperations org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i safe runnable isaferunnable org eclipse core runtime i status istatus org eclipse core runtime listener list listenerlist org eclipse core runtime multi status multistatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime platform org eclipse core runtime safe runner saferunner org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core runtime preferences i scope context iscopecontext org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i resource change event iresourcechangeevent org eclipse core resources i resource change listener iresourcechangelistener org eclipse core resources i resource delta iresourcedelta org eclipse core resources project scope projectscope org eclipse core resources resources plugin resourcesplugin org eclipse ltk core refactoring change descriptor changedescriptor org eclipse ltk core refactoring i refactoring core status codes irefactoringcorestatuscodes org eclipse ltk core refactoring refactoring change descriptor refactoringchangedescriptor org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring descriptor proxy refactoringdescriptorproxy org eclipse ltk core refactoring refactoring session descriptor refactoringsessiondescriptor org eclipse ltk core refactoring history i refactoring execution listener irefactoringexecutionlistener org eclipse ltk core refactoring history i refactoring history listener irefactoringhistorylistener org eclipse ltk core refactoring history i refactoring history service irefactoringhistoryservice org eclipse ltk core refactoring history refactoring execution event refactoringexecutionevent org eclipse ltk core refactoring history refactoring history refactoringhistory org eclipse ltk core refactoring history refactoring history event refactoringhistoryevent org eclipse ltk internal core refactoring i refactoring serialization constants irefactoringserializationconstants org eclipse ltk internal core refactoring refactoring core messages refactoringcoremessages org eclipse ltk internal core refactoring refactoring core plugin refactoringcoreplugin org eclipse ltk internal core refactoring refactoring preference constants refactoringpreferenceconstants org eclipse ltk internal core refactoring refactoring session reader refactoringsessionreader org eclipse ltk internal core refactoring undo able operation undoableoperation change adapter changeadapter implementation refactoring history service refactoring history service refactoringhistoryservice i refactoring history service irefactoringhistoryservice refactoring history null refactoring history nullrefactoringhistory refactoring history refactoringhistory proxies constant refactoring descriptor proxy refactoringdescriptorproxy proxies override refactoring descriptor proxy refactoringdescriptorproxy get descriptors getdescriptors proxies override is empty isempty override refactoring history refactoringhistory remove all removeall refactoring history refactoringhistory history singleton history refactoring history service refactoringhistoryservice f instance finstance refactoring history file nls string history file refactorings history refactoring history folder nls string history folder refactorings refactoring history file nls string file refactorings special workspace project nls string workspace project workspace history constant null refactoring history nullrefactoringhistory history null refactoring history nullrefactoringhistory filters array refactoring proxies returns result refactoring descriptor proxy clients wishing benefit resolving refactoring descriptors determine flags resolve code code resolved refactoring descriptor proxies result param proxies refactoring descriptor proxies param result param resolve code code filtered refactoring descriptors resolved refactoring proxies code code param flags refactoring descriptor flags order returned refactoring history object param monitor progress monitor filter refactoring descriptors filterrefactoringdescriptors refactoring descriptor proxy refactoringdescriptorproxy proxies refactoring descriptor proxy refactoringdescriptorproxy resolve flags i progress monitor iprogressmonitor monitor is true istrue flags refactoring descriptor refactoringdescriptor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice retrieving history proxies length offset offset proxies length offset refactoring descriptor refactoringdescriptor descriptor proxies offset request descriptor requestdescriptor sub progress monitor subprogressmonitor monitor descriptor filter descriptor get flags getflags filter flags filter resolve add refactoring descriptor proxy adapter refactoringdescriptorproxyadapter descriptor add proxies offset monitor returns singleton instance refactoring history singleton instance refactoring history service refactoringhistoryservice get instance getinstance f instance finstance f instance finstance refactoring history service refactoringhistoryservice f instance finstance returns project shared refactoring history param project project test code code project shared project history code code has shared refactoring history hassharedrefactoringhistory i project iproject project is not null isnotnull project i scope context iscopecontext contexts i scope context iscopecontext project scope projectscope project string preference platform get preferences service getpreferencesservice get string getstring refactoring core plugin refactoringcoreplugin get plugin id getpluginid refactoring preference constants refactoringpreferenceconstants preference shared refactoring history to string tostring contexts preference value of valueof preference boolean value booleanvalue determines project shared refactoring history shared refactoring history enabled refactorings executed project stored hidden refactoring history folder project folder shared refactoring history enabled refactorings tracked persisted int ernally internally plugin specific alt ering altering project note method simply copies content refactoring history folder location shared history setting clients wishing program matically programmatically change refactoring history location update preference link refactoring preference constants refactoringpreferenceconstants preference shared refactoring history located preference store code org eclipse ltk core refactoring code plugin param project project shared refactoring history property param enable code code enable shared refactoring history code code param monitor progress monitor code code core exception coreexception error occurs changing shared refactoring history property reasons include error occurs changing shared refactoring history property set shared refactoring history setsharedrefactoringhistory i project iproject project enable i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull project is true istrue project is accessible isaccessible monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask string project get name getname uri uri project getlocationuri uri i file store ifilestore history efs get local file system getlocalfilesystem get store getstore refactoring core plugin refactoringcoreplugin get default getdefault get state location getstatelocation get child getchild history folder enable i file store ifilestore source history get child getchild source fetch info fetchinfo efs sub progress monitor subprogressmonitor monitor exists i file store ifilestore destination efs get store getstore uri get child getchild history folder destination fetch info fetchinfo efs sub progress monitor subprogressmonitor monitor exists destination delete efs sub progress monitor subprogressmonitor monitor destination mkdir efs sub progress monitor subprogressmonitor monitor source copy destination efs overwrite sub progress monitor subprogressmonitor monitor source delete efs sub progress monitor subprogressmonitor monitor i file store ifilestore source efs get store getstore uri get child getchild history folder source fetch info fetchinfo efs sub progress monitor subprogressmonitor monitor exists i file store ifilestore destination history get child getchild destination fetch info fetchinfo efs sub progress monitor subprogressmonitor monitor exists destination delete efs sub progress monitor subprogressmonitor monitor destination mkdir efs sub progress monitor subprogressmonitor monitor source copy destination efs overwrite sub progress monitor subprogressmonitor monitor source delete efs sub progress monitor subprogressmonitor monitor enable project refresh local refreshlocal i resource iresource depth infinite sub progress monitor subprogressmonitor monitor i folder ifolder folder project get folder getfolder history folder folder exists folder refresh local refreshlocal i resource iresource depth infinite sub progress monitor subprogressmonitor monitor monitor execution listeners listener list listenerlist i refactoring execution listener irefactoringexecutionlistener f execution listeners fexecutionlisteners listener list listenerlist listener list listenerlist equality history listeners listener list listenerlist i refactoring history listener irefactoringhistorylistener f history listeners fhistorylisteners listener list listenerlist listener list listenerlist equality operation listener code code i operation history listener ioperationhistorylistener f operation listener foperationlistener override time stamp f override time stamp foverridetimestamp history reference count f reference count freferencecount resource listener code code i resource change listener iresourcechangelistener f resource listener fresourcelistener max imal maximal number refactoring managers max managers refactoring history manager cache map i file store ifilestore refactoring history manager refactoringhistorymanager f manager cache fmanagercache linked hash map linkedhashmap i file store ifilestore refactoring history manager refactoringhistorymanager max managers serialversionuid override remove eldest entry removeeldestentry map entry i file store ifilestore refactoring history manager refactoringhistorymanager entry size max managers creates refactoring history refactoring history service refactoringhistoryservice override add execution listener addexecutionlistener i refactoring execution listener irefactoringexecutionlistener listener is not null isnotnull listener f execution listeners fexecutionlisteners add listener override add history listener addhistorylistener i refactoring history listener irefactoringhistorylistener listener is not null isnotnull listener f history listeners fhistorylisteners add listener adds refactoring descriptor refactoring history descriptor timestamp exists param proxy refactoring descriptor proxy param monitor progress monitor code code add refactoring descriptor addrefactoringdescriptor refactoring descriptor proxy refactoringdescriptorproxy proxy i progress monitor iprogressmonitor monitor is not null isnotnull proxy monitor monitor null progress monitor nullprogressmonitor fire refactoring history event firerefactoringhistoryevent proxy refactoring history event refactoringhistoryevent monitor override connect f reference count freferencecount f reference count freferencecount f operation listener foperationlistener i operation history listener ioperationhistorylistener override history notification historynotification operation history event operationhistoryevent event perform history notification performhistorynotification event operation history factory operationhistoryfactory get operation history getoperationhistory add operation history listener addoperationhistorylistener f operation listener foperationlistener f resource listener fresourcelistener i resource change listener iresourcechangelistener override resource changed resourcechanged i resource change event iresourcechangeevent event peform resource changed peformresourcechanged event resources plugin resourcesplugin get workspace getworkspace add resource change listener addresourcechangelistener f resource listener fresourcelistener i resource change event iresourcechangeevent pre close i resource change event iresourcechangeevent post change deletes refactoring descriptors refactoring histories param proxies refactoring descriptor proxies param monitor progress monitor code code core exception coreexception error occurs deleting refactoring descriptors reasons include refactoring history illegal format illegal arguments illegal error occurs deleting refactoring descriptors refactoring history i refactoring core status codes irefactoringcorestatuscodes refactoring history format error i refactoring core status codes irefactoringcorestatuscodes refactoring history error delete refactoring descriptors deleterefactoringdescriptors refactoring descriptor proxy refactoringdescriptorproxy proxies i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull proxies monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice deleting refactorings proxies length map string collection refactoring descriptor proxy refactoringdescriptorproxy projects hash map hashmap proxies length string project proxies get project getproject project nls equals nls project project refactoring history service refactoringhistoryservice workspace project collection refactoring descriptor proxy refactoringdescriptorproxy collection projects project collection collection array list arraylist projects project collection collection add proxies monitor worked sub progress monitor subprogressmonitor sub monitor submonitor sub progress monitor subprogressmonitor monitor entry string collection refactoring descriptor proxy refactoringdescriptorproxy entries projects entry set entryset sub monitor submonitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice deleting refactorings entries size iterator entry string collection refactoring descriptor proxy refactoringdescriptorproxy iterator entries iterator iterator has next hasnext entry string collection refactoring descriptor proxy refactoringdescriptorproxy entry iterator collection refactoring descriptor proxy refactoringdescriptorproxy collection entry get value getvalue string project entry get key getkey project equals refactoring history service refactoringhistoryservice workspace project project refactoring history manager refactoringhistorymanager manager get manager getmanager project manager manager remove refactoring descriptors removerefactoringdescriptors collection to array toarray refactoring descriptor proxy refactoringdescriptorproxy collection size sub progress monitor subprogressmonitor sub monitor submonitor refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice deleting refactorings sub monitor submonitor worked sub monitor submonitor monitor deletes refactoring descriptors refactoring histories param proxies refactoring descriptor proxies param query refactoring descriptor delete query param monitor progress monitor code code core exception coreexception error occurs deleting refactoring descriptors reasons include refactoring history illegal format illegal arguments illegal error occurs deleting refactoring descriptors refactoring history i refactoring core status codes irefactoringcorestatuscodes refactoring history format error i refactoring core status codes irefactoringcorestatuscodes refactoring history error delete refactoring descriptors deleterefactoringdescriptors refactoring descriptor proxy refactoringdescriptorproxy proxies i refactoring descriptor delete query irefactoringdescriptordeletequery query i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull proxies is not null isnotnull query monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice deleting refactorings proxies length refactoring descriptor proxy refactoringdescriptorproxy hash set hashset proxies length proxies length query proceed proxies isok add proxies monitor worked is empty isempty refactoring descriptor proxy refactoringdescriptorproxy delete to array toarray refactoring descriptor proxy refactoringdescriptorproxy size delete refactoring descriptors deleterefactoringdescriptors delete sub progress monitor subprogressmonitor monitor delete length fire refactoring history event firerefactoringhistoryevent delete refactoring history event refactoringhistoryevent delete d deleted monitor deletes refactoring history project refactorings workspace deleted refactoring history deleted files stored hidden refactoring history folder project folder removed shared refactoring history enabled refactoring history removed internal workspace refactoring history param project project delete history param monitor progress monitor code code core exception coreexception error occurs deleting refactoring history reasons include error occurs deleting refactoring history delete refactoring history deleterefactoringhistory i project iproject project i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull project monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice deleting refactorings string project get name getname i file store ifilestore state store statestore efs get local file system getlocalfilesystem get store getstore refactoring core plugin refactoringcoreplugin get default getdefault get state location getstatelocation equals workspace project i file store ifilestore meta store metastore state store statestore get child getchild history folder get child getchild meta store metastore delete efs sub progress monitor subprogressmonitor monitor uri uri project getlocationuri uri project is accessible isaccessible i file store ifilestore meta store metastore state store statestore get child getchild history folder get child getchild meta store metastore delete efs sub progress monitor subprogressmonitor monitor i file store ifilestore project store projectstore efs get store getstore uri get child getchild history folder project store projectstore delete efs sub progress monitor subprogressmonitor monitor project refresh local refreshlocal i resource iresource depth infinite sub progress monitor subprogressmonitor monitor monitor override disconnect f reference count freferencecount f manager cache fmanagercache clear f reference count freferencecount f reference count freferencecount f operation listener foperationlistener operation history factory operationhistoryfactory get operation history getoperationhistory remove operation history listener removeoperationhistorylistener f operation listener foperationlistener f resource listener fresourcelistener resources plugin resourcesplugin get workspace getworkspace remove resource change listener removeresourcechangelistener f resource listener fresourcelistener f operation listener foperationlistener fire refactoring execution event firerefactoringexecutionevent refactoring descriptor proxy refactoringdescriptorproxy proxy event type eventtype is not null isnotnull proxy i refactoring execution listener irefactoringexecutionlistener listener f execution listeners fexecutionlisteners safe runner saferunner i safe runnable isaferunnable override handle exception handleexception throwable throwable refactoring core plugin refactoringcoreplugin log throwable override exception listener execution notification executionnotification refactoring execution event refactoringexecutionevent refactoring history service refactoringhistoryservice event type eventtype proxy fire refactoring history event firerefactoringhistoryevent refactoring descriptor proxy refactoringdescriptorproxy proxy event type eventtype is not null isnotnull proxy i refactoring history listener irefactoringhistorylistener listener f history listeners fhistorylisteners safe runner saferunner i safe runnable isaferunnable override handle exception handleexception throwable throwable refactoring core plugin refactoringcoreplugin log throwable override exception listener history notification historynotification refactoring history event refactoringhistoryevent refactoring history service refactoringhistoryservice event type eventtype proxy check descriptor checkdescriptor refactoring descriptor refactoringdescriptor descriptor i undo able operation iundoableoperation operation is not null isnotnull descriptor map string string arguments refactoring history manager refactoringhistorymanager get argument map getargumentmap descriptor arguments refactoring history manager refactoringhistorymanager check argument map checkargumentmap arguments core exception coreexception exception i status istatus status exception get status getstatus status get code getcode i refactoring core status codes irefactoringcorestatuscodes refactoring history format error string time date format dateformat get date time instance getdatetimeinstance format descriptor get time stamp gettimestamp string message refactoring executed time contributed refactoring descriptor invalid format i status istatus comment status i status istatus error refactoring core plugin refactoringcoreplugin get plugin id getpluginid descriptor get comment getcomment refactoring core plugin refactoringcoreplugin log multi status multistatus refactoring core plugin refactoringcoreplugin get plugin id getpluginid i status istatus comment message refactoring core plugin refactoringcoreplugin log exception operation triggered operations triggeredoperations operation triggered operations triggeredoperations operation get triggering operation gettriggeringoperation operation undo able operation undoableoperation change adapter changeadapter undo able operation undoableoperation change adapter changeadapter operation set change descriptor setchangedescriptor override refactoring history refactoringhistory get project history getprojecthistory i project iproject project i progress monitor iprogressmonitor monitor get project history getprojecthistory project max refactoring descriptor refactoringdescriptor monitor override refactoring history refactoringhistory get project history getprojecthistory i project iproject project start flags i progress monitor iprogressmonitor monitor is not null isnotnull project is true istrue project exists is true istrue start is true istrue is true istrue flags refactoring descriptor refactoringdescriptor project is open isopen monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice retrieving history string project get name getname refactoring history manager refactoringhistorymanager manager get manager getmanager manager refactoring history refactoringhistory history manager read refactoring history readrefactoringhistory start sub progress monitor subprogressmonitor monitor flags refactoring descriptor refactoringdescriptor refactoring descriptor proxy refactoringdescriptorproxy hash set hashset filter refactoring descriptors filterrefactoringdescriptors history get descriptors getdescriptors flags sub progress monitor subprogressmonitor monitor history refactoring history implementation refactoringhistoryimplementation to array toarray refactoring descriptor proxy refactoringdescriptorproxy size history monitor history override refactoring history refactoringhistory get refactoring history getrefactoringhistory i project iproject projects i progress monitor iprogressmonitor monitor get refactoring history getrefactoringhistory projects max refactoring descriptor refactoringdescriptor monitor override refactoring history refactoringhistory get refactoring history getrefactoringhistory i project iproject projects start flags i progress monitor iprogressmonitor monitor is not null isnotnull projects is true istrue start is true istrue start is true istrue flags refactoring descriptor refactoringdescriptor monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice retrieving history projects length refactoring descriptor proxy refactoringdescriptorproxy hash set hashset flags refactoring descriptor refactoringdescriptor projects length i project iproject project projects project is accessible isaccessible refactoring descriptor proxy refactoringdescriptorproxy proxies get project history getprojecthistory project start flags sub progress monitor subprogressmonitor monitor get descriptors getdescriptors filter refactoring descriptors filterrefactoringdescriptors proxies flags sub progress monitor subprogressmonitor monitor projects length i project iproject project projects project is accessible isaccessible refactoring descriptor proxy refactoringdescriptorproxy proxies get project history getprojecthistory project start refactoring descriptor refactoringdescriptor sub progress monitor subprogressmonitor monitor get descriptors getdescriptors offset offset proxies length offset add proxies offset refactoring descriptor proxy refactoringdescriptorproxy proxies refactoring descriptor proxy refactoringdescriptorproxy size to array toarray proxies refactoring history implementation refactoringhistoryimplementation proxies monitor override refactoring history refactoringhistory get workspace history getworkspacehistory i progress monitor iprogressmonitor monitor get workspace history getworkspacehistory max monitor override refactoring history refactoringhistory get workspace history getworkspacehistory start i progress monitor iprogressmonitor monitor get refactoring history getrefactoringhistory resources plugin resourcesplugin get workspace getworkspace get root getroot get projects getprojects start refactoring descriptor refactoringdescriptor monitor reads refactoring descriptor proxies input stream note calling method flag argument unequal code refactoring descriptor refactoringdescriptor code result performance degradation actual descriptors eagerly resolved turn faster execution subsequent calls link refactoring descriptor proxy refactoringdescriptorproxy request descriptor requestdescriptor i progress monitor iprogressmonitor request descriptor returned refactoring history param stream input stream read refactoring descriptor proxies core exception coreexception error occurs reading refactoring descriptor proxies refactoring descriptor proxy refactoringdescriptorproxy read refactoring descriptor proxies readrefactoringdescriptorproxies input stream inputstream stream core exception coreexception is not null isnotnull stream refactoring history manager refactoringhistorymanager read refactoring descriptor proxies readrefactoringdescriptorproxies stream max i o exception ioexception exception core exception coreexception status i status istatus error refactoring core plugin refactoringcoreplugin get plugin id getpluginid exception get local ized message getlocalizedmessage override refactoring history refactoringhistory read refactoring history readrefactoringhistory input stream inputstream stream flags core exception coreexception is not null isnotnull stream is true istrue flags refactoring descriptor refactoringdescriptor list refactoring descriptor refactoringdescriptor list array list arraylist refactoring session descriptor refactoringsessiondescriptor descriptor refactoring session reader refactoringsessionreader read session readsession input source inputsource stream descriptor refactoring descriptor refactoringdescriptor descriptors descriptor get refactorings getrefactorings flags refactoring descriptor refactoringdescriptor descriptors length current descriptors get flags getflags current flags current list add descriptors list add all addall arrays as list aslist descriptors refactoring descriptor proxy refactoringdescriptorproxy proxies refactoring descriptor proxy refactoringdescriptorproxy list size list size proxies refactoring descriptor proxy adapter refactoringdescriptorproxyadapter list refactoring history implementation refactoringhistoryimplementation proxies override remove execution listener removeexecutionlistener i refactoring execution listener irefactoringexecutionlistener listener is not null isnotnull listener f execution listeners fexecutionlisteners remove listener override remove history listener removehistorylistener i refactoring history listener irefactoringhistorylistener listener is not null isnotnull listener f history listeners fhistorylisteners remove listener returns resolved refactoring descriptor proxy refactoring history connected param proxy refactoring descriptor proxy param monitor progress monitor code code resolved refactoring descriptor code code refactoring descriptor refactoringdescriptor request descriptor requestdescriptor refactoring descriptor proxy refactoringdescriptorproxy proxy i progress monitor iprogressmonitor monitor is not null isnotnull proxy monitor monitor null progress monitor nullprogressmonitor refactoring history manager refactoringhistorymanager manager get manager getmanager proxy get project getproject manager manager request descriptor requestdescriptor proxy monitor monitor sets override time stamp refactoring performed param stamp override time stamp code code clear set override time stamp setoverridetimestamp stamp is true istrue stamp stamp f override time stamp foverridetimestamp stamp override write refactoring descriptors writerefactoringdescriptors refactoring descriptor proxy refactoringdescriptorproxy proxies output stream outputstream stream flags time i progress monitor iprogressmonitor monitor core exception coreexception is not null isnotnull proxies is not null isnotnull stream is true istrue flags refactoring descriptor refactoringdescriptor monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask proxies length connect list refactoring descriptor refactoringdescriptor list array list arraylist proxies length proxies length refactoring descriptor refactoringdescriptor descriptor proxies request descriptor requestdescriptor sub progress monitor subprogressmonitor monitor descriptor current descriptor get flags getflags current flags current list add descriptor refactoring descriptor refactoringdescriptor descriptors refactoring descriptor refactoringdescriptor list size list to array toarray descriptors refactoring history manager refactoringhistorymanager write refactoring session writerefactoringsession stream refactoring session descriptor refactoringsessiondescriptor descriptors i refactoring serialization constants irefactoringserializationconstants current version time disconnect override write refactoring session writerefactoringsession refactoring session descriptor refactoringsessiondescriptor descriptor output stream outputstream stream time core exception coreexception is not null isnotnull descriptor is not null isnotnull stream refactoring history manager refactoringhistorymanager write refactoring session writerefactoringsession stream descriptor time moves project history project param old project oldproject project exist param new project newproject project exists param monitor progress monitor move history movehistory i project iproject old project oldproject i project iproject new project newproject i progress monitor iprogressmonitor monitor monitor begin task begintask refactoring core messages refactoringcoremessages refactoring history service refactoringhistoryservice updating history i file store ifilestore history store historystore efs get local file system getlocalfilesystem get store getstore refactoring core plugin refactoringcoreplugin get default getdefault get state location getstatelocation get child getchild history folder string old name oldname old project oldproject get name getname string new name newname new project newproject get name getname i file store ifilestore old store oldstore history store historystore get child getchild old name oldname old store oldstore fetch info fetchinfo efs sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label exists i file store ifilestore new store newstore history store historystore get child getchild new name newname new store newstore fetch info fetchinfo efs sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label exists new store newstore delete efs sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label old store oldstore move new store newstore efs overwrite sub progress monitor subprogressmonitor monitor sub progress monitor subprogressmonitor suppress subtask label core exception coreexception exception refactoring core plugin refactoringcoreplugin log exception monitor peform resource changed peformresourcechanged i resource change event iresourcechangeevent event type event get type gettype type i resource change event iresourcechangeevent post change i resource delta iresourcedelta delta event get delta getdelta delta i resource delta iresourcedelta deltas delta get affected children getaffectedchildren deltas length i path ipath to path topath deltas get moved to path getmovedtopath i path ipath from path frompath deltas get moved from path getmovedfrompath from path frompath to path topath i resource iresource old resource oldresource deltas get resource getresource i resource iresource new resource newresource deltas get resource getresource old resource oldresource get type gettype i resource iresource project new resource newresource get type gettype i resource iresource project move history movehistory i project iproject old resource oldresource i project iproject new resource newresource null progress monitor nullprogressmonitor deltas get kind getkind i resource delta iresourcedelta deltas get kind getkind i resource delta iresourcedelta removed i resource iresource new resource newresource deltas get resource getresource i resource iresource old resource oldresource deltas get resource getresource old resource oldresource get type gettype i resource iresource project new resource newresource get type gettype i resource iresource project move history movehistory i project iproject old resource oldresource i project iproject new resource newresource null progress monitor nullprogressmonitor refactoring descriptor refactoringdescriptor get refactoring descriptor getrefactoringdescriptor i undo able operation iundoableoperation operation operation triggered operations triggeredoperations operation triggered operations triggeredoperations operation get triggering operation gettriggeringoperation operation undo able operation undoableoperation change adapter changeadapter change descriptor changedescriptor change descriptor changedescriptor undo able operation undoableoperation change adapter changeadapter operation get change descriptor getchangedescriptor change descriptor changedescriptor refactoring change descriptor refactoringchangedescriptor refactoring change descriptor refactoringchangedescriptor change descriptor changedescriptor get refactoring descriptor getrefactoringdescriptor perform history notification performhistorynotification operation history event operationhistoryevent event refactoring descriptor refactoringdescriptor descriptor get refactoring descriptor getrefactoringdescriptor event get operation getoperation descriptor refactoring descriptor proxy adapter refactoringdescriptorproxyadapter proxy refactoring descriptor proxy adapter refactoringdescriptorproxyadapter descriptor event get event type geteventtype operation history event operationhistoryevent execute check descriptor checkdescriptor descriptor event get operation getoperation fire refactoring execution event firerefactoringexecutionevent proxy refactoring execution event refactoringexecutionevent per form perform operation history event operationhistoryevent refactoring descriptor refactoringdescriptor unknown equals descriptor getid time stamp timestamp f override time stamp foverridetimestamp f override time stamp foverridetimestamp system current time millis currenttimemillis descriptor set time stamp settimestamp time stamp timestamp fire refactoring history event firerefactoringhistoryevent proxy refactoring history event refactoringhistoryevent pushed fire refactoring execution event firerefactoringexecutionevent proxy refactoring execution event refactoringexecutionevent per for med performed operation history event operationhistoryevent undo fire refactoring execution event firerefactoringexecutionevent proxy refactoring execution event refactoringexecutionevent undo operation history event operationhistoryevent undone fire refactoring history event firerefactoringhistoryevent proxy refactoring history event refactoringhistoryevent popped fire refactoring execution event firerefactoringexecutionevent proxy refactoring execution event refactoringexecutionevent undone operation history event operationhistoryevent redo fire refactoring execution event firerefactoringexecutionevent proxy refactoring execution event refactoringexecutionevent redo operation history event operationhistoryevent redone fire refactoring history event firerefactoringhistoryevent proxy refactoring history event refactoringhistoryevent pushed fire refactoring execution event firerefactoringexecutionevent proxy refactoring execution event refactoringexecutionevent redone returns refactoring history manager project param project code code workspace refactoring history manager code code refactoring history manager refactoringhistorymanager get manager getmanager string i file store ifilestore store efs get local file system getlocalfilesystem get store getstore refactoring core plugin refactoringcoreplugin get default getdefault get state location getstatelocation get child getchild history folder nls equals i project iproject project resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject project is accessible isaccessible has shared refactoring history hassharedrefactoringhistory project uri uri project getlocationuri uri get manager getmanager efs get store getstore uri get child getchild refactoring history service refactoringhistoryservice history folder get manager getmanager store get child getchild core exception coreexception exception get manager getmanager store get child getchild workspace project returns cached refactoring history manager history location param store file store describing history location param empty project code code workspace refactoring history manager refactoring history manager refactoringhistorymanager get manager getmanager i file store ifilestore store string is not null isnotnull store refactoring history manager refactoringhistorymanager manager f manager cache fmanagercache store manager manager refactoring history manager refactoringhistorymanager store f manager cache fmanagercache store manager manager
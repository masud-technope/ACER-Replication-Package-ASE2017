copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring surround java util list org eclipse core runtime core exception coreexception org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core dom ast node astnode org eclipse jdt core dom block org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom constructor invocation constructorinvocation org eclipse jdt core dom expression org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom initializer org eclipse jdt core dom lambda expression lambdaexpression org eclipse jdt core dom message org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method reference methodreference org eclipse jdt core dom statement org eclipse jdt core dom super constructor invocation superconstructorinvocation org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom selection org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext refactoring util code analyzer codeanalyzer org eclipse jdt internal text correction ast res olving astresolving surround with analyzer surroundwithanalyzer code analyzer codeanalyzer variable declaration variabledeclaration f locals flocals f surround with try catch fsurroundwithtrycatch surround with analyzer surroundwithanalyzer i compilation unit icompilationunit cunit selection selection surround with try catch surroundwithtrycatch core exception coreexception cunit selection f surround with try catch fsurroundwithtrycatch surround with try catch surroundwithtrycatch ast node astnode get valid selected nodes getvalidselectednodes has selected nodes hasselectednodes internal get selected nodes internalgetselectednodes to array toarray ast node astnode internal get selected nodes internalgetselectednodes size statement variable declaration variabledeclaration get affected locals getaffectedlocals f locals flocals body declaration bodydeclaration get enclosing body declaration getenclosingbodydeclaration ast node astnode node get first selected node getfirstselectednode node body declaration bodydeclaration ast nodes astnodes get parent getparent node body declaration bodydeclaration override handle selection ends in handleselectionendsin ast node astnode node override end visit endvisit compilation unit compilationunit node post process selected nodes postprocessselectednodes internal get selected nodes internalgetselectednodes ast node astnode enclosing node enclosingnode super call supercall get status getstatus has fatal error hasfatalerror super call supercall has selected nodes hasselectednodes ast node astnode covering node coveringnode get last covering node getlastcoveringnode covering node coveringnode block block block block covering node coveringnode message messages ast nodes astnodes get messages getmessages block ast nodes astnodes node messages length invalid selection invalidselection refactoring core messages refactoringcoremessages surround with try catch analyzer surroundwithtrycatchanalyzer compile errors java status context javastatuscontext create get compilation unit getcompilationunit block super call supercall invalid selection invalidselection refactoring core messages refactoringcoremessages surround with try catch analyzer surroundwithtrycatchanalyzer does not cover doesnotcover super call supercall enclosing node enclosingnode get enclosing node getenclosingnode get first selected node getfirstselectednode is valid enclosing node isvalidenclosingnode enclosing node enclosingnode method declaration methoddeclaration enclosing node enclosingnode initializer f surround with try catch fsurroundwithtrycatch is valid enclosing node isvalidenclosingnode is valid enclosing node isvalidenclosingnode enclosing node enclosingnode method reference methodreference enclosing node enclosingnode get location in parent getlocationinparent lambda expression lambdaexpression body property is valid enclosing node isvalidenclosingnode invalid selection invalidselection refactoring core messages refactoringcoremessages surround with try catch analyzer surroundwithtrycatchanalyzer does not contain doesnotcontain super call supercall valid selected nodes validselectednodes invalid selection invalidselection refactoring core messages refactoringcoremessages surround with try catch analyzer surroundwithtrycatchanalyzer only statements onlystatements f locals flocals local declaration analyzer localdeclarationanalyzer perform enclosing node enclosingnode get selection getselection end visit endvisit node override end visit endvisit super constructor invocation superconstructorinvocation node get selection getselection get end visit selection mode getendvisitselectionmode node selection selected invalid selection invalidselection refactoring core messages refactoringcoremessages surround with try catch analyzer surroundwithtrycatchanalyzer cannot handle super cannothandlesuper java status context javastatuscontext create fcunit node end visit endvisit node override end visit endvisit constructor invocation constructorinvocation node get selection getselection get end visit selection mode getendvisitselectionmode node selection selected invalid selection invalidselection refactoring core messages refactoringcoremessages surround with try catch analyzer surroundwithtrycatchanalyzer cannot handle this cannothandlethis java status context javastatuscontext create fcunit node end visit endvisit node post process selected nodes postprocessselectednodes list ast node astnode selected nodes selectednodes selected nodes selectednodes selected nodes selectednodes size selected nodes selectednodes size ast node astnode node selected nodes selectednodes node expression node get parent getparent expression statement expressionstatement selected nodes selectednodes clear selected nodes selectednodes add node get parent getparent valid selected nodes validselectednodes ast node astnode nodes get selected nodes getselectednodes nodes length ast node astnode node nodes is valid node isvalidnode node statement method reference lambda expression body f surround with try catch fsurroundwithtrycatch is valid node isvalidnode is valid node isvalidnode node method reference methodreference node get location in parent getlocationinparent lambda expression lambdaexpression body property is valid node isvalidnode ast node astnode get enclosing node getenclosingnode ast node astnode first selected node firstselectednode ast node astnode enclosing node enclosingnode first selected node firstselectednode method reference methodreference enclosing node enclosingnode first selected node firstselectednode enclosing node enclosingnode ast res olving astresolving find enclosing lambda expression findenclosinglambdaexpression first selected node firstselectednode enclosing node enclosingnode enclosing node enclosingnode lambda expression lambdaexpression enclosing node enclosingnode get body getbody enclosing node enclosingnode ast nodes astnodes get parent getparent first selected node firstselectednode body declaration bodydeclaration enclosing node enclosingnode
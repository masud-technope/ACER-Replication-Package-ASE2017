copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter deploy java application executable jar ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter jar desc jardesc normal jar f atjar fatjar builder org eclipse jdt internal jar package r jarpackager java buffered input stream bufferedinputstream java byte array input stream bytearrayinputstream java io exception ioexception java input stream inputstream java util array list arraylist java util hash set hashset java util list java util javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers parser configuration exception parserconfigurationexception org xml sax input source inputsource org xml sax sax exception saxexception org xml sax helpers default handler defaulthandler org dom element org dom node org dom node list nodelist org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i adaptable iadaptable org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime multi status multistatus org eclipse core runtime path org eclipse core runtime status org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources resources plugin resourcesplugin org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring descriptor proxy refactoringdescriptorproxy org eclipse ltk core refactoring history i refactoring history service irefactoringhistoryservice org eclipse ltk core refactoring history refactoring history refactoringhistory org eclipse jdt core i java element ijavaelement org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt internal corext util messages org eclipse jdt jar package r jarpackager i jar description reader ijardescriptionreader org eclipse jdt jar package r jarpackager jar package data jarpackagedata org eclipse jdt internal i java status constants ijavastatusconstants org eclipse jdt internal java plugin javaplugin reads data input stream inputstream returns jar package jarpackage jar package reader jarpackagereader object i jar description reader ijardescriptionreader input stream inputstream f input stream finputstream multi status multistatus f warnings fwarnings reads jar underlying stream client res ponsibility responsibility close stream param input stream inputstream input stream jar package reader jarpackagereader input stream inputstream input stream inputstream is not null isnotnull input stream inputstream f input stream finputstream buffered input stream bufferedinputstream input stream inputstream f warnings fwarnings multi status multistatus java plugin javaplugin get plugin id getpluginid jar packager messages jarpackagermessages jar package reader jarpackagereader jar package reader warnings jarpackagereaderwarnings override read jar package data jarpackagedata jar package jarpackage core exception coreexception readxml jar package jarpackage io exception ioexception string message get local ized message getlocalizedmessage get local ized message getlocalizedmessage core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i java status constants ijavastatusconstants internal error message sax exception saxexception string message get local ized message getlocalizedmessage get local ized message getlocalizedmessage core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i java status constants ijavastatusconstants internal error message closes stream clients res ponsibility responsibility close stream exception core exception coreexception closing stream fails override close core exception coreexception f input stream finputstream f input stream finputstream close io exception ioexception string message get local ized message getlocalizedmessage get local ized message getlocalizedmessage core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i java status constants ijavastatusconstants internal error message jar package data jarpackagedata readxml jar package data jarpackagedata jar package jarpackage io exception ioexception sax exception saxexception document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance factory set valid ating setvalidating document builder documentbuilder parser parser factory new document builder newdocumentbuilder parser configuration exception parserconfigurationexception io exception ioexception get local ized message getlocalizedmessage note code clients responsible close stream parser set error handler seterrorhandler default handler defaulthandler element xml jar desc xmljardesc parser parse input source inputsource f input stream finputstream get document element getdocumentelement xml jar desc xmljardesc get node name getnodename equals jar packager util jarpackagerutil description extension io exception ioexception jar packager messages jarpackagermessages jar package reader jarpackagereader error bad format badformat node list nodelist top level elements toplevelelements xml jar desc xmljardesc get child nodes getchildnodes top level elements toplevelelements get length getlength node node top level elements toplevelelements item node get node type getnodetype node element node element element element node xml read jar location xmlreadjarlocation jar package jarpackage element xml read options xmlreadoptions jar package jarpackage element xml read refactoring xmlreadrefactoring jar package jarpackage element xml read selected projects xmlreadselectedprojects jar package jarpackage element jar package jarpackage are generated files exported aregeneratedfilesexported xml read manifest xmlreadmanifest jar package jarpackage element xml read selected elements xmlreadselectedelements jar package jarpackage element jar package jarpackage xml read jar location xmlreadjarlocation jar package data jarpackagedata jar package jarpackage element element element get node name getnodename equals jar packager util jarpackagerutil jar extension nls jar package jarpackage set jar location setjarlocation path from portable string fromportablestring element get attribute getattribute path xml read options xmlreadoptions jar package data jarpackagedata jar package jarpackage element element java io exception ioexception nls element get node name getnodename equals options nls jar package jarpackage set overwrite setoverwrite get boolean attribute getbooleanattribute element overwrite nls jar package jarpackage set comp ress setcompress get boolean attribute getbooleanattribute element comp ress compress nls jar package jarpackage set export errors setexporterrors get boolean attribute getbooleanattribute element export errors exporterrors nls jar package jarpackage set export warnings setexportwarnings get boolean attribute getbooleanattribute element export warnings exportwarnings nls jar package jarpackage set save description setsavedescription get boolean attribute getbooleanattribute element save description savedescription nls jar package jarpackage set use source folder hierarchy setusesourcefolderhierarchy get boolean attribute getbooleanattribute element use source folders usesourcefolders nls jar package jarpackage set description location setdescriptionlocation path from portable string fromportablestring element get attribute getattribute description location descriptionlocation nls jar package jarpackage set build if needed setbuildifneeded get boolean attribute getbooleanattribute element build if needed buildifneeded jar package jarpackage is building if needed isbuildingifneeded nls jar package jarpackage set include directory entries setincludedirectoryentries get boolean attribute getbooleanattribute element include directory entries includedirectoryentries nls jar package jarpackage set refactoring aware setrefactoringaware get boolean attribute getbooleanattribute element store refactorings storerefactorings xml read refactoring xmlreadrefactoring jar package data jarpackagedata jar package jarpackage element element java io exception ioexception nls element get node name getnodename equals stored refactorings storedrefactorings nls jar package jarpackage set export structural only setexportstructuralonly get boolean attribute getbooleanattribute element structural only structuralonly jar package jarpackage is export structural only isexportstructuralonly nls jar package jarpackage set deprecation aware setdeprecationaware get boolean attribute getbooleanattribute element deprecation info deprecationinfo jar package jarpackage is deprecation aware isdeprecationaware list i adaptable iadaptable elements array list arraylist count nls string element get attribute getattribute project count nls equals i project iproject project resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject project exists elements add project count nls element get attribute getattribute nls project count jar package jarpackage set refactoring projects setrefactoringprojects elements to array toarray i project iproject elements size elements clear count i refactoring history service irefactoringhistoryservice service refactoring core refactoringcore get history service gethistoryservice service connect nls element get attribute getattribute nls refactoring count nls equals byte array input stream bytearrayinputstream stream byte array input stream bytearrayinputstream nls get bytes getbytes nls utf refactoring history refactoringhistory history service read refactoring history readrefactoringhistory stream refactoring descriptor refactoringdescriptor history refactoring descriptor proxy refactoringdescriptorproxy descriptors history get descriptors getdescriptors descriptors length descriptors length elements add descriptors core exception coreexception exception java plugin javaplugin log exception count element get attribute getattribute nls refactoring nls count service disconnect jar package jarpackage set refactoring descriptors setrefactoringdescriptors elements to array toarray refactoring descriptor proxy refactoringdescriptorproxy elements size xml read manifest xmlreadmanifest jar package data jarpackagedata jar package jarpackage element element java io exception ioexception nls element get node name getnodename equals manifest nls jar package jarpackage set manifest version setmanifestversion element get attribute getattribute manifest version manifestversion nls jar package jarpackage set uses manifest setusesmanifest get boolean attribute getbooleanattribute element uses manifest usesmanifest nls jar package jarpackage set reuse manifest setreusemanifest get boolean attribute getbooleanattribute element reuse manifest reusemanifest nls jar package jarpackage set save manifest setsavemanifest get boolean attribute getbooleanattribute element save manifest savemanifest nls jar package jarpackage set generate manifest setgeneratemanifest get boolean attribute getbooleanattribute element generate manifest generatemanifest nls jar package jarpackage set manifest location setmanifestlocation path from portable string fromportablestring element get attribute getattribute manifest location manifestlocation jar package jarpackage set manifest main class setmanifestmainclass get main class getmainclass element xml read sealing info xmlreadsealinginfo jar package jarpackage element xml read sealing info xmlreadsealinginfo jar package data jarpackagedata jar package jarpackage element element java io exception ioexception find sealing info single child node adding child nodes manifest node node list nodelist sealing element container sealingelementcontainer element get child nodes getchildnodes sealing element container sealingelementcontainer get length getlength node sealing node sealingnode sealing element container sealingelementcontainer item sealing node sealingnode get node type getnodetype node element node nls sealing node sealingnode get node name getnodename equals sealing sealing element sealing element sealingelement element sealing node sealingnode nls jar package jarpackage set seal jar setsealjar nls get boolean attribute getbooleanattribute sealing element sealingelement seal jar sealjar nls jar package jarpackage set packages to seal setpackagestoseal nls get packages getpackages sealing element sealingelement get elements by tag name getelementsbytagname packages to seal packagestoseal nls jar package jarpackage set packages to unseal setpackagestounseal nls get packages getpackages sealing element sealingelement get elements by tag name getelementsbytagname packages to un seal packagestounseal xml read selected elements xmlreadselectedelements jar package data jarpackagedata jar package jarpackage element element java io exception ioexception nls element get node name getnodename equals selected elements selectedelements nls jar package jarpackage set export class files setexportclassfiles get boolean attribute getbooleanattribute element export class files exportclassfiles nls jar package jarpackage set export output folders setexportoutputfolders get boolean attribute getbooleanattribute element export output folder exportoutputfolder nls jar package jarpackage set export java files setexportjavafiles get boolean attribute getbooleanattribute element export java files exportjavafiles node list nodelist selected elements selectedelements element get child nodes getchildnodes i adaptable iadaptable elements to export elementstoexport hash set hashset selected elements selectedelements get length getlength selected elements selectedelements get length getlength node selected node selectednode selected elements selectedelements item selected node selectednode get node type getnodetype node element node element selected element selectedelement element selected node selectednode nls selected element selectedelement get node name getnodename equals nls file add file addfile elements to export elementstoexport selected element selectedelement nls selected element selectedelement get node name getnodename equals nls folder add folder addfolder elements to export elementstoexport selected element selectedelement nls selected element selectedelement get node name getnodename equals nls project add project addproject elements to export elementstoexport selected element selectedelement nls selected element selectedelement get node name getnodename equals nls java element javaelement add java element addjavaelement elements to export elementstoexport selected element selectedelement note file types handled writer jar package jarpackage set elements setelements elements to export elementstoexport to array toarray xml read selected projects xmlreadselectedprojects jar package data jarpackagedata jar package jarpackage element element java io exception ioexception nls element get node name getnodename equals selected projects selectedprojects node list nodelist selected elements selectedelements element get child nodes getchildnodes i adaptable iadaptable selected projects selectedprojects hash set hashset selected elements selectedelements get length getlength selected elements selectedelements get length getlength node node selected elements selectedelements item node get node type getnodetype node element node element selected element selectedelement element node nls selected element selectedelement get node name getnodename equals nls project add project addproject selected projects selectedprojects selected element selectedelement jar package jarpackage set refactoring projects setrefactoringprojects selected projects selectedprojects to array toarray i project iproject selected projects selectedprojects size get boolean attribute getbooleanattribute element element string default value defaultvalue io exception ioexception element has attribute hasattribute get boolean attribute getbooleanattribute element default value defaultvalue get boolean attribute getbooleanattribute element element string io exception ioexception string element get attribute getattribute nls equals ignore case equalsignorecase nls equals ignore case equalsignorecase io exception ioexception jar packager messages jarpackagermessages jar package reader jarpackagereader error illegal value for boolean attribute illegalvalueforbooleanattribute add file addfile i adaptable iadaptable selected elements selectedelements element element io exception ioexception i path ipath path get path getpath element path i file ifile file java plugin javaplugin get workspace getworkspace get root getroot get file getfile path file selected elements selectedelements add file add folder addfolder i adaptable iadaptable selected elements selectedelements element element io exception ioexception i path ipath path get path getpath element path i folder ifolder folder java plugin javaplugin get workspace getworkspace get root getroot get folder getfolder path folder selected elements selectedelements add folder add project addproject i adaptable iadaptable selected elements selectedelements element element io exception ioexception nls string element get attribute getattribute length io exception ioexception jar packager messages jarpackagermessages jar package reader jarpackagereader error tag name not found tagnamenotfound i project iproject project java plugin javaplugin get workspace getworkspace get root getroot get project getproject project selected elements selectedelements add project i path ipath get path getpath element element io exception ioexception nls string path string pathstring element get attribute getattribute path path string pathstring length io exception ioexception jar packager messages jarpackagermessages jar package reader jarpackagereader error tag path not found tagpathnotfound nls path from portable string fromportablestring element get attribute getattribute path add java element addjavaelement i adaptable iadaptable selected elements selectedelements element element io exception ioexception nls string handle id handleid element get attribute getattribute handle identifier handleidentifier handle id handleid length io exception ioexception jar packager messages jarpackagermessages jar package reader jarpackagereader error tag handle identifier not found or empty taghandleidentifiernotfoundorempty i java element ijavaelement java core javacore create handle id handleid add warning addwarning jar packager messages jarpackagermessages jar package reader jarpackagereader warning java element does not exist javaelementdoesnotexist selected elements selectedelements add i package fragment ipackagefragment get packages getpackages node list nodelist list io exception ioexception list get length getlength io exception ioexception messages format jar packager messages jarpackagermessages jar package reader jarpackagereader error duplicate tag duplicatetag list item get node name getnodename list get length getlength optional entry node list nodelist package nodes packagenodes list item get child nodes getchildnodes list i java element ijavaelement packages array list arraylist package nodes packagenodes get length getlength package nodes packagenodes get length getlength node package node packagenode package nodes packagenodes item nls package node packagenode get node type getnodetype node element node package node packagenode get node name getnodename equals string handle id handleid nls element package node packagenode get attribute getattribute nls handle identifier handleidentifier nls handle id handleid equals nls io exception ioexception jar packager messages jarpackagermessages jar package reader jarpackagereader error tag handle identifier not found or empty taghandleidentifiernotfoundorempty i java element ijavaelement java core javacore create handle id handleid get element type getelementtype i java element ijavaelement fragment packages add add warning addwarning jar packager messages jarpackagermessages jar package reader jarpackagereader warning java element does not exist javaelementdoesnotexist packages to array toarray i package fragment ipackagefragment packages size i type itype get main class getmainclass element element nls string handle id handleid element get attribute getattribute main class handle identifier mainclasshandleidentifier nls handle id handleid equals main entry optional empty i java element ijavaelement java core javacore create handle id handleid get element type getelementtype i java element ijavaelement type i type itype add warning addwarning jar packager messages jarpackagermessages jar package reader jarpackagereader warning main class does not exist mainclassdoesnotexist returns status reader errors result status object individual status objects error errors result status object error code code code status operation override i status istatus get status getstatus f warnings fwarnings get children getchildren length status status f warnings fwarnings adds warning list passed export operation continues warning param message message param error throwable caused warning code code add warning addwarning string message throwable error f warnings fwarnings add status i status istatus warning java plugin javaplugin get plugin id getpluginid message error
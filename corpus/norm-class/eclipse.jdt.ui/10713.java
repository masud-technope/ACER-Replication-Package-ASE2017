copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation nikolay metchev nikolaymetchev gmail contributed fixes convert anonymous nested declare refactoring https bugs eclipse org bugs bug cgi convert anonymous nested error field form anonymous type references refactoring https bugs eclipse org bugs bug cgi refactoring convert anonymous confused methods https bugs eclipse org bugs bug cgi convert anonymous convert anonymous nested generates wrong code https bugs eclipse org bugs bug cgi org eclipse jdt internal corext refactoring code java util array list arraylist java util arrays java util collections java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util java util string tokenizer stringtokenizer org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse ltk core refactoring change org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring change descriptor refactoringchangedescriptor org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core java model exception javamodelexception org eclipse jdt core naming conventions namingconventions org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom array creation arraycreation org eclipse jdt core dom array initializer arrayinitializer org eclipse jdt core dom array type arraytype org eclipse jdt core dom assignment org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom initializer org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom modifier org eclipse jdt core dom org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom statement org eclipse jdt core dom super constructor invocation superconstructorinvocation org eclipse jdt core dom super field access superfieldaccess org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core refactoring compilation unit change compilationunitchange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors convert anonymous descriptor convertanonymousdescriptor org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext dom linked node finder linkednodefinder org eclipse jdt internal corext linked proposal model linkedproposalmodel org eclipse jdt internal corext linked proposal position group linkedproposalpositiongroup org eclipse jdt internal corext refactoring checks org eclipse jdt internal corext refactoring jdt refactoring descriptor comment jdtrefactoringdescriptorcomment org eclipse jdt internal corext refactoring java refactoring arguments javarefactoringarguments org eclipse jdt internal corext refactoring java refactoring descriptor util javarefactoringdescriptorutil org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring structure compilation unit rewrite compilationunitrewrite org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util resource util resourceutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt code generation codegeneration org eclipse jdt java element labels javaelementlabels org eclipse jdt internal text correction modifier correction sub processor modifiercorrectionsubprocessor org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal viewsupport binding label provider bindinglabelprovider convert anonymous to nested refactoring convertanonymoustonestedrefactoring refactoring nls string attribute visibility visibility nls string attribute nls string attribute nls string key type type nls string key param ext param ext nls string key param param nls string key field ext field ext type variable finder typevariablefinder ast visitor astvisitor map string i type binding itypebinding f bindings fbindings hash map hashmap list i type binding itypebinding f found ffound array list arraylist override visit simple name simplename node is not null isnotnull node i type binding itypebinding binding node resolve type binding resolvetypebinding binding binding is type variable istypevariable f bindings fbindings contains key containskey binding get key getkey f bindings fbindings binding get key getkey binding f found ffound add binding override visit type parameter typeparameter parameter i type binding itypebinding binding parameter resolve binding resolvebinding binding don collect type parameters declared anonymous f bindings fbindings binding get key getkey binding i type binding itypebinding get result getresult i type binding itypebinding result i type binding itypebinding f found ffound size f found ffound to array toarray result result f selection start fselectionstart f selection length fselectionlength i compilation unit icompilationunit f cu fcu f visibility fvisibility modifier f declare final fdeclarefinal f declare static fdeclarestatic nls string f class name fclassname compilation unit compilationunit f compilation unit node fcompilationunitnode anonymous class declaration anonymousclassdeclaration f anonymous inner class node fanonymousinnerclassnode string f class names used fclassnamesused f self initial izing fselfinitializing linked proposal model linkedproposalmodel f linked proposal model flinkedproposalmodel creates convert anonymous nested refactoring param unit compilation unit code code invoked scripting param selection start selectionstart start param selection length selectionlength length convert anonymous to nested refactoring convertanonymoustonestedrefactoring i compilation unit icompilationunit unit selection start selectionstart selection length selectionlength is true istrue selection start selectionstart is true istrue selection length selectionlength is true istrue unit unit exists f selection start fselectionstart selection start selectionstart f selection length fselectionlength selection length selectionlength f cu fcu unit f anonymous inner class node fanonymousinnerclassnode f compilation unit node fcompilationunitnode convert anonymous to nested refactoring convertanonymoustonestedrefactoring anonymous class declaration anonymousclassdeclaration declaration is true istrue declaration ast node astnode ast root astroot declaration get root getroot is true istrue ast root astroot compilation unit compilationunit f compilation unit node fcompilationunitnode compilation unit compilationunit ast root astroot i java element ijavaelement java element javaelement f compilation unit node fcompilationunitnode get java element getjavaelement is true istrue java element javaelement i compilation unit icompilationunit f cu fcu i compilation unit icompilationunit java element javaelement f selection start fselectionstart declaration get start position getstartposition f selection length fselectionlength declaration get length getlength convert anonymous to nested refactoring convertanonymoustonestedrefactoring java refactoring arguments javarefactoringarguments arguments refactoring status refactoringstatus status refactoring status refactoringstatus initialize status initializestatus initialize arguments status merge initialize status initializestatus set linked proposal model setlinkedproposalmodel linked proposal model linkedproposalmodel linked proposal model linkedproposalmodel f linked proposal model flinkedproposalmodel linked proposal model linkedproposalmodel get available visibilities getavailablevisibilities is local inner type islocalinnertype modifier modifier modifier modifier modifier is local inner type islocalinnertype ast nodes astnodes get parent getparent ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration ast node astnode anonymous declaration get visibility getvisibility f visibility fvisibility set visibility setvisibility visibility is true istrue visibility modifier visibility modifier visibility modifier visibility modifier f visibility fvisibility visibility set class name setclassname string class name classname is not null isnotnull class name classname f class name fclassname class name classname can enable setting final canenablesettingfinal get declare final getdeclarefinal f declare final fdeclarefinal get declare static getdeclarestatic f declare static fdeclarestatic set declare final setdeclarefinal declare final declarefinal f declare final fdeclarefinal declare final declarefinal set declare static setdeclarestatic declare static declarestatic f declare static fdeclarestatic declare static declarestatic override string get name getname refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring use this for field access usethisforfieldaccess stub utility stubutility use this for field access usethisforfieldaccess f cu fcu get java project getjavaproject do add comments doaddcomments stub utility stubutility do add comments doaddcomments f cu fcu get java project getjavaproject override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus result checks validate modifies files validatemodifiesfiles resource util resourceutil get files getfiles i compilation unit icompilationunit f cu fcu get validation context getvalidationcontext result has fatal error hasfatalerror result initast f anonymous inner class node fanonymousinnerclassnode refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring place caret f self initial izing fselfinitializing initialize defaults initializedefaults get super constructor binding getsuperconstructorbinding refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring compile errors get super type binding getsupertypebinding is local islocal refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring local refactoring status refactoringstatus initialize defaults initializedefaults f visibility fvisibility is local inner type islocalinnertype modifier modifier f declare static fdeclarestatic must inner class be static mustinnerclassbestatic initast i progress monitor iprogressmonitor f compilation unit node fcompilationunitnode f compilation unit node fcompilationunitnode refactoringastparser parsewithastprovider f cu fcu f anonymous inner class node fanonymousinnerclassnode f anonymous inner class node fanonymousinnerclassnode get anonymous inner class getanonymousinnerclass node finder nodefinder perform f compilation unit node fcompilationunitnode f selection start fselectionstart f selection length fselectionlength f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration declaration abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration declaration type declaration typedeclaration abstract type declaration abstracttypedeclaration nested type declaration typedeclaration declaration get types gettypes f class names used fclassnamesused hash set hashset nested length nested length f class names used fclassnamesused add nested get name getname get identifier getidentifier f class names used fclassnamesused collections empty set emptyset anonymous class declaration anonymousclassdeclaration get anonymous inner class getanonymousinnerclass ast node astnode node node node anonymous class declaration anonymousclassdeclaration anonymous class declaration anonymousclassdeclaration node node class instance creation classinstancecreation anonymous class declaration anonymousclassdeclaration anon class instance creation classinstancecreation node get anonymous class declaration getanonymousclassdeclaration anon anon node ast nodes astnodes get normal ized node getnormalizednode node node get location in parent getlocationinparent class instance creation classinstancecreation type property anonymous class declaration anonymousclassdeclaration anon class instance creation classinstancecreation node get parent getparent get anonymous class declaration getanonymousclassdeclaration anon anon anonymous class declaration anonymousclassdeclaration ast nodes astnodes get parent getparent node anonymous class declaration anonymousclassdeclaration refactoring status refactoringstatus validate input validateinput refactoring status refactoringstatus result checks check type name checktypename f class name fclassname f cu fcu result has fatal error hasfatalerror result f class names used fclassnamesused f class name fclassname refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring type exists i method binding imethodbinding super constructor binding superconstructorbinding get super constructor binding getsuperconstructorbinding super constructor binding superconstructorbinding refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring compile errors f class name fclassname equals super constructor binding superconstructorbinding get declaring class getdeclaringclass get name getname refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring class name hides enclosing type classnamehidesenclosingtype refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring hides result accesses anonymous fields accessesanonymousfields list i variable binding ivariablebinding anonymous inner field types anonymousinnerfieldtypes get all enclosing anonymous types field getallenclosinganonymoustypesfield list i binding ibinding accessed field accessedfield get all accessed fields getallaccessedfields iterator i variable binding ivariablebinding anonymous inner field types anonymousinnerfieldtypes iterator has next hasnext i variable binding ivariablebinding variable binding variablebinding iterator i binding ibinding accessed field accessedfield iterator has next hasnext i variable binding ivariablebinding variable binding variablebinding i variable binding ivariablebinding bindings equals variable binding variablebinding variable binding variablebinding list i binding ibinding get all accessed fields getallaccessedfields list i binding ibinding accessed fields accessedfields array list arraylist ast visitor astvisitor visitor ast visitor astvisitor override visit field access fieldaccess node i variable binding ivariablebinding binding node resolve field binding resolvefieldbinding binding binding is enum constant isenumconstant accessed fields accessedfields add binding visit node override visit qualified name qualifiedname node i binding ibinding binding node resolve binding resolvebinding binding binding i variable binding ivariablebinding i variable binding ivariablebinding variable i variable binding ivariablebinding binding variable is enum constant isenumconstant variable is field isfield accessed fields accessedfields add binding visit node override visit simple name simplename node i binding ibinding binding node resolve binding resolvebinding binding binding i variable binding ivariablebinding i variable binding ivariablebinding variable i variable binding ivariablebinding binding variable is enum constant isenumconstant variable is field isfield accessed fields accessedfields add binding visit node override visit super field access superfieldaccess node i variable binding ivariablebinding binding node resolve field binding resolvefieldbinding binding binding is enum constant isenumconstant accessed fields accessedfields add binding visit node f anonymous inner class node fanonymousinnerclassnode accept visitor accessed fields accessedfields list i variable binding ivariablebinding get all enclosing anonymous types field getallenclosinganonymoustypesfield list i variable binding ivariablebinding ans array list arraylist abstract type declaration abstracttypedeclaration declaration abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration anonymous class declaration anonymousclassdeclaration anonymous anonymous class declaration anonymousclassdeclaration ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode ast node astnode anonymous declaration anonymous ast nodes astnodes is parent isparent anonymous declaration i type binding itypebinding binding anonymous resolve binding resolvebinding binding ans add all addall arrays as list aslist binding get declared fields getdeclaredfields anonymous anonymous class declaration anonymousclassdeclaration ast nodes astnodes get parent getparent anonymous ast node astnode anonymous declaration ans class name hides enclosing type classnamehidesenclosingtype i type binding itypebinding type abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration resolve binding resolvebinding type f class name fclassname equals type get name getname type type get declaring class getdeclaringclass org eclipse jdt internal corext refactoring base refactoring check input checkinput org eclipse core runtime i progress monitor iprogressmonitor override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus status validate input validateinput accesses anonymous fields accessesanonymousfields status merge refactoring status refactoringstatus create error status createerrorstatus refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring anonymous field access status compilation unit change compilationunitchange create compilation unit change createcompilationunitchange i progress monitor iprogressmonitor core exception coreexception compilation unit rewrite compilationunitrewrite rewrite compilation unit rewrite compilationunitrewrite f cu fcu f compilation unit node fcompilationunitnode i type binding itypebinding type parameters typeparameters get type parameters gettypeparameters add nested class addnestedclass rewrite type parameters typeparameters modify constructor call modifyconstructorcall rewrite type parameters typeparameters rewrite create change createchange refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring org eclipse jdt internal corext refactoring base i refactoring irefactoring create change createchange org eclipse core runtime i progress monitor iprogressmonitor override change create change createchange i progress monitor iprogressmonitor core exception coreexception compilation unit change compilationunitchange result create compilation unit change createcompilationunitchange result set descriptor setdescriptor create refactoring descriptor createrefactoringdescriptor result i type binding itypebinding get type parameters gettypeparameters list i type binding itypebinding parameters array list arraylist class instance creation classinstancecreation creation class instance creation classinstancecreation f anonymous inner class node fanonymousinnerclassnode get parent getparent f declare static fdeclarestatic type variable finder typevariablefinder finder type variable finder typevariablefinder creation accept finder finder get result getresult method declaration methoddeclaration declaration get enclosing method declaration getenclosingmethoddeclaration creation declaration i type binding itypebinding binding type parameter typeparameter parameter iterator type parameter typeparameter iterator declaration type parameters typeparameters iterator iterator has next hasnext parameter iterator binding parameter resolve binding resolvebinding binding parameters add binding type variable finder typevariablefinder finder type variable finder typevariablefinder creation accept finder i type binding itypebinding variables finder get result getresult list i type binding itypebinding remove array list arraylist match i type binding itypebinding binding i type binding itypebinding variable iterator i type binding itypebinding iterator parameters iterator iterator has next hasnext match binding iterator variables length variable variables variable equals binding match match remove add binding parameters remove all removeall remove i type binding itypebinding result i type binding itypebinding parameters size parameters to array toarray result result method declaration methoddeclaration get enclosing method declaration getenclosingmethoddeclaration ast node astnode node ast node astnode parent node get parent getparent parent parent abstract type declaration abstracttypedeclaration parent method declaration methoddeclaration method declaration methoddeclaration parent get enclosing method declaration getenclosingmethoddeclaration parent refactoring change descriptor refactoringchangedescriptor create refactoring descriptor createrefactoringdescriptor i type binding itypebinding binding f anonymous inner class node fanonymousinnerclassnode resolve binding resolvebinding string labels string binding label provider bindinglabelprovider get binding label getbindinglabel binding java element labels javaelementlabels fully qualified binding label provider bindinglabelprovider get binding label getbindinglabel binding get declaring method getdeclaringmethod java element labels javaelementlabels fully qualified map string string arguments hash map hashmap string project name projectname f cu fcu get java project getjavaproject get element name getelementname flags refactoring descriptor refactoringdescriptor structural change java refactoring descriptor javarefactoringdescriptor jar refactoring java refactoring descriptor javarefactoringdescriptor jar source attachment string description refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring descriptor description string header messages format refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring descriptor description labels jdt refactoring descriptor comment jdtrefactoringdescriptorcomment comment jdt refactoring descriptor comment jdtrefactoringdescriptorcomment project name projectname header comment add setting addsetting messages format refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring original pattern binding label provider bindinglabelprovider get binding label getbindinglabel binding java element labels javaelementlabels fully qualified comment add setting addsetting messages format refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring pattern basic element labels basicelementlabels get java element name getjavaelementname f class name fclassname string visibility jdt flags jdtflags get visibility string getvisibilitystring f visibility fvisibility visibility length visibility refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring visibility comment add setting addsetting messages format refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring visibility pattern visibility f declare final fdeclarefinal f declare static fdeclarestatic comment add setting addsetting refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring declare f declare final fdeclarefinal comment add setting addsetting refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring declare f declare static fdeclarestatic comment add setting addsetting refactoring core messages refactoringcoremessages convert anonymous to nested refactoring convertanonymoustonestedrefactoring declare arguments java refactoring descriptor util javarefactoringdescriptorutil attribute input java refactoring descriptor util javarefactoringdescriptorutil element to handle elementtohandle project name projectname f cu fcu arguments java refactoring descriptor util javarefactoringdescriptorutil attribute f class name fclassname arguments java refactoring descriptor util javarefactoringdescriptorutil attribute selection integer f selection start fselectionstart to string tostring integer f selection length fselectionlength to string tostring arguments attribute value of valueof f declare final fdeclarefinal to string tostring arguments attribute value of valueof f declare static fdeclarestatic to string tostring arguments attribute visibility integer f visibility fvisibility to string tostring convert anonymous descriptor convertanonymousdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create convert anonymous descriptor createconvertanonymousdescriptor project name projectname description comment as string asstring arguments flags refactoring change descriptor refactoringchangedescriptor descriptor modify constructor call modifyconstructorcall compilation unit rewrite compilationunitrewrite rewrite i type binding itypebinding parameters rewrite getastrewrite replace f anonymous inner class node fanonymousinnerclassnode get parent getparent create new class instance creation createnewclassinstancecreation rewrite parameters ast node astnode create new class instance creation createnewclassinstancecreation compilation unit rewrite compilationunitrewrite rewrite i type binding itypebinding parameters ast ast f anonymous inner class node fanonymousinnerclassnode getast class instance creation classinstancecreation new class creation newclasscreation ast new class instance creation newclassinstancecreation new class creation newclasscreation set anonymous class declaration setanonymousclassdeclaration type type simple name simplename new name node newnamenode ast new simple name newsimplename f class name fclassname parameters length parameterized type parameterizedtype parameterized ast new parameterized type newparameterizedtype ast new simple type newsimpletype new name node newnamenode parameters length parameterized type arguments typearguments add ast new simple type newsimpletype ast new simple name newsimplename parameters get name getname type parameterized type ast new simple type newsimpletype new name node newnamenode new class creation newclasscreation set type settype type copy arguments copyarguments rewrite new class creation newclasscreation add arguments for locals used in inner class addargumentsforlocalsusedininnerclass new class creation newclasscreation add linked position addlinkedposition key type new name node newnamenode rewrite getastrewrite new class creation newclasscreation add arguments for locals used in inner class addargumentsforlocalsusedininnerclass class instance creation classinstancecreation new class creation newclasscreation i variable binding ivariablebinding used locals usedlocals get used local variables getusedlocalvariables used locals usedlocals length ast ast f anonymous inner class node fanonymousinnerclassnode getast i variable binding ivariablebinding binding used locals usedlocals binding is enum constant isenumconstant ast new qualified name newqualifiedname ast new simple name newsimplename binding get declaring class getdeclaringclass get name getname ast new simple name newsimplename binding get name getname ast new simple name newsimplename binding get name getname new class creation newclasscreation arguments add copy arguments copyarguments compilation unit rewrite compilationunitrewrite rewrite class instance creation classinstancecreation new class creation newclasscreation iterator expression iter class instance creation classinstancecreation f anonymous inner class node fanonymousinnerclassnode get parent getparent arguments iterator iter has next hasnext i method binding imethodbinding super constructor binding superconstructorbinding get super constructor binding getsuperconstructorbinding i type binding itypebinding parameter types parametertypes super constructor binding superconstructorbinding get parameter types getparametertypes list expression arguments new class creation newclasscreation arguments ast rewrite astrewrite ast rewrite astrewrite rewrite getastrewrite parameter types parametertypes length arguments add expression ast rewrite astrewrite create copy target createcopytarget iter super constructor binding superconstructorbinding is varargs isvarargs ast ast ast rewrite astrewrite getast array creation arraycreation array creation arraycreation ast new array creation newarraycreation array creation arraycreation set type settype array type arraytype rewrite get import rewrite getimportrewrite add import addimport parameter types parametertypes ast array initializer arrayinitializer initializer ast new array initializer newarrayinitializer array creation arraycreation set initializer setinitializer initializer arguments add array creation arraycreation arguments initializer expressions iter has next hasnext arguments add expression ast rewrite astrewrite create copy target createcopytarget iter add nested class addnestedclass compilation unit rewrite compilationunitrewrite rewrite i type binding itypebinding type parameters typeparameters core exception coreexception abstract type declaration abstracttypedeclaration declarations abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration find index of f is t nested class findindexoffistnestedclass declarations body declarations bodydeclarations rewrite getastrewrite get list rewrite getlistrewrite declarations declarations get body declarations property getbodydeclarationsproperty insert at insertat create new nested class createnewnestedclass rewrite type parameters typeparameters find index of f is t nested class findindexoffistnestedclass list body declaration bodydeclaration list list size body declaration bodydeclaration list is nested type isnestedtype is nested type isnestedtype body declaration bodydeclaration abstract type declaration abstracttypedeclaration get parent getparent abstract type declaration abstracttypedeclaration abstract type declaration abstracttypedeclaration create new nested class createnewnestedclass compilation unit rewrite compilationunitrewrite rewrite i type binding itypebinding type parameters typeparameters core exception coreexception ast ast f anonymous inner class node fanonymousinnerclassnode getast type declaration typedeclaration new declaration newdeclaration ast new type declaration newtypedeclaration new declaration newdeclaration set interface setinterface new declaration newdeclaration set javadoc setjavadoc new declaration newdeclaration modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers ast create modifiers for nested class createmodifiersfornestedclass new declaration newdeclaration set name setname ast new simple name newsimplename f class name fclassname type parameter typeparameter parameter type parameters typeparameters length parameter ast new type parameter newtypeparameter parameter set name setname ast new simple name newsimplename type parameters typeparameters get name getname new declaration newdeclaration type parameters typeparameters add parameter set super type setsupertype new declaration newdeclaration i java project ijavaproject project f cu fcu get java project getjavaproject i variable binding ivariablebinding bindings get used local variables getusedlocalvariables array list arraylist string field names fieldnames array list arraylist bindings length string stub utility stubutility get base name getbasename bindings project string field name proposals fieldnameproposals stub utility stubutility get variable name suggestions getvariablenamesuggestions naming conventions namingconventions instance field project field names fieldnames field names fieldnames add field name proposals fieldnameproposals f linked proposal model flinkedproposalmodel linked proposal position group linkedproposalpositiongroup position group positiongroup f linked proposal model flinkedproposalmodel get position group getpositiongroup key field ext field name proposals fieldnameproposals length position group positiongroup add proposal addproposal field name proposals fieldnameproposals field name proposals fieldnameproposals length string all field names allfieldnames field names fieldnames to array toarray string field names fieldnames size list body declaration bodydeclaration new body declarations newbodydeclarations new declaration newdeclaration body declarations bodydeclarations create fields for accessed locals createfieldsforaccessedlocals rewrite bindings all field names allfieldnames new body declarations newbodydeclarations method declaration methoddeclaration new constructor decl newconstructordecl create new constructor createnewconstructor rewrite bindings all field names allfieldnames new constructor decl newconstructordecl new body declarations newbodydeclarations add new constructor decl newconstructordecl update and move body declarations updateandmovebodydeclarations rewrite bindings all field names allfieldnames new body declarations newbodydeclarations new constructor decl newconstructordecl do add comments doaddcomments string parameter names parameternames string type parameters typeparameters length parameter names parameternames length parameter names parameternames type parameters typeparameters get name getname string string code generation codegeneration get type comment gettypecomment rewrite get cu getcu f class name fclassname parameter names parameternames stub utility stubutility get line delimiter used getlinedelimiterused f cu fcu string javadoc javadoc javadoc rewrite getastrewrite create string placeholder createstringplaceholder string ast node astnode javadoc new declaration newdeclaration set javadoc setjavadoc javadoc f linked proposal model flinkedproposalmodel add linked position addlinkedposition key type new declaration newdeclaration get name getname rewrite getastrewrite modifier correction sub processor modifiercorrectionsubprocessor install linked visibility proposals installlinkedvisibilityproposals f linked proposal model flinkedproposalmodel rewrite getastrewrite new declaration newdeclaration modifiers new declaration newdeclaration update and move body declarations updateandmovebodydeclarations compilation unit rewrite compilationunitrewrite rewriter i variable binding ivariablebinding bindings string field names fieldnames list body declaration bodydeclaration new body declarations newbodydeclarations method declaration methoddeclaration new constructor decl newconstructordecl ast rewrite astrewrite ast rewrite astrewrite rewriter getastrewrite ast ast ast rewrite astrewrite getast use this access usethisaccess use this for field access usethisforfieldaccess field insert index fieldinsertindex new constructor decl newconstructordecl new body declarations newbodydeclarations last index of lastindexof new constructor decl newconstructordecl new body declarations newbodydeclarations size iterator body declaration bodydeclaration iterator f anonymous inner class node fanonymousinnerclassnode body declarations bodydeclarations iterator iterator has next hasnext body declaration bodydeclaration body iterator bindings length simple name simplename names linked node finder linkednodefinder find by binding findbybinding body bindings string field name fieldname field names fieldnames names length simple name simplename new node newnode ast new simple name newsimplename field name fieldname use this access usethisaccess field access fieldaccess access ast new field access newfieldaccess access set expression setexpression ast new this expression newthisexpression access set name setname new node newnode ast rewrite astrewrite replace names access ast rewrite astrewrite replace names new node newnode add linked position addlinkedposition key field ext new node newnode ast rewrite astrewrite body initializer body field declaration fielddeclaration new body declarations newbodydeclarations add field insert index fieldinsertindex body declaration bodydeclaration ast rewrite astrewrite create move target createmovetarget body new body declarations newbodydeclarations add body declaration bodydeclaration ast rewrite astrewrite create move target createmovetarget body new constructor decl newconstructordecl move initialization existing fields constructor referenced list statement body statements bodystatements new constructor decl newconstructordecl get body getbody statements list variable declaration fragment variabledeclarationfragment fields to initialize in constructor fieldstoinitializeinconstructor get fields to initialize in constructor getfieldstoinitializeinconstructor iterator variable declaration fragment variabledeclarationfragment iter fields to initialize in constructor fieldstoinitializeinconstructor iterator iter has next hasnext variable declaration fragment variabledeclarationfragment fragment iter expression initializer fragment get initializer getinitializer expression replacement expression ast rewrite astrewrite fragment variable declaration fragment variabledeclarationfragment initializer property replacement initializer replacement expression ast rewrite astrewrite create move target createmovetarget initializer ast rewrite astrewrite remove initializer simple name simplename field name node fieldnamenode ast new simple name newsimplename fragment get name getname get identifier getidentifier body statements bodystatements add new field assignment newfieldassignment ast field name node fieldnamenode replacement use this access usethisaccess create fields for accessed locals createfieldsforaccessedlocals compilation unit rewrite compilationunitrewrite rewrite i variable binding ivariablebinding var bindings varbindings string field names fieldnames list body declaration bodydeclaration new body declarations newbodydeclarations core exception coreexception import rewrite importrewrite import rewrite importrewrite rewrite get import rewrite getimportrewrite ast rewrite astrewrite ast rewrite astrewrite rewrite getastrewrite ast ast ast rewrite astrewrite getast var bindings varbindings length variable declaration fragment variabledeclarationfragment fragment ast new variable declaration fragment newvariabledeclarationfragment fragment set initializer setinitializer fragment set name setname ast new simple name newsimplename field names fieldnames field declaration fielddeclaration field ast new field declaration newfielddeclaration fragment i type binding itypebinding var type vartype var bindings varbindings get type gettype field set type settype import rewrite importrewrite add import addimport var type vartype ast field modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers ast modifier modifier do add comments doaddcomments string string code generation codegeneration get field comment getfieldcomment rewrite get cu getcu var type vartype get name getname field names fieldnames stub utility stubutility get line delimiter used getlinedelimiterused f cu fcu string javadoc javadoc javadoc ast rewrite astrewrite create string placeholder createstringplaceholder string ast node astnode javadoc field set javadoc setjavadoc javadoc new body declarations newbodydeclarations add field add linked position addlinkedposition key field ext fragment get name getname ast rewrite astrewrite add linked position addlinkedposition string key ast node astnode node to track nodetotrack ast rewrite astrewrite rewrite is first isfirst f linked proposal model flinkedproposalmodel f linked proposal model flinkedproposalmodel get position group getpositiongroup key add position addposition rewrite track node to track nodetotrack is first isfirst i variable binding ivariablebinding get used local variables getusedlocalvariables i binding ibinding result hash set hashset collect ref renced variables collectrefrencedvariables f anonymous inner class node fanonymousinnerclassnode result array list arraylist i variable binding ivariablebinding used locals usedlocals array list arraylist iterator i binding ibinding iterator result iterator iterator has next hasnext i variable binding ivariablebinding i variable binding ivariablebinding iterator is binding to temp isbindingtotemp used locals usedlocals add used locals usedlocals to array toarray i variable binding ivariablebinding used locals usedlocals size collect ref renced variables collectrefrencedvariables ast node astnode root i binding ibinding result root accept ast visitor astvisitor override visit simple name simplename node i binding ibinding binding node resolve binding resolvebinding binding i variable binding ivariablebinding result add binding is binding to temp isbindingtotemp i variable binding ivariablebinding variable variable is field isfield modifier is final isfinal variable get modifiers getmodifiers ast node astnode declaring node declaringnode f compilation unit node fcompilationunitnode find declaring node finddeclaringnode variable declaring node declaringnode ast nodes astnodes is parent isparent declaring node declaringnode f anonymous inner class node fanonymousinnerclassnode method declaration methoddeclaration create new constructor createnewconstructor compilation unit rewrite compilationunitrewrite rewrite i variable binding ivariablebinding bindings string field names fieldnames java model exception javamodelexception class instance creation classinstancecreation instance creation instancecreation class instance creation classinstancecreation f anonymous inner class node fanonymousinnerclassnode get parent getparent instance creation instancecreation arguments is empty isempty bindings length i java project ijavaproject project f cu fcu get java project getjavaproject ast ast rewrite getast import rewrite importrewrite import rewrite importrewrite rewrite get import rewrite getimportrewrite ast rewrite astrewrite ast rewrite astrewrite rewrite getastrewrite method declaration methoddeclaration new constructor newconstructor ast new method declaration newmethoddeclaration new constructor newconstructor set constructor setconstructor new constructor newconstructor set javadoc setjavadoc new constructor newconstructor modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers ast f visibility fvisibility new constructor newconstructor set name setname ast new simple name newsimplename f class name fclassname add linked position addlinkedposition key type new constructor newconstructor get name getname ast rewrite astrewrite new constructor newconstructor set body setbody ast new block newblock list statement new statements newstatements new constructor newconstructor get body getbody statements list single variable declaration singlevariabledeclaration new parameters newparameters new constructor newconstructor parameters list string new parameter names newparameternames array list arraylist add parameters elements passed instance creation instance creation instancecreation arguments is empty isempty i method binding imethodbinding constructor binding constructorbinding get super constructor binding getsuperconstructorbinding constructor binding constructorbinding super constructor invocation superconstructorinvocation super constructor invocation superconstructorinvocation ast new super constructor invocation newsuperconstructorinvocation i type binding itypebinding parameter types parametertypes constructor binding constructorbinding get parameter types getparametertypes string parameter names parameternames stub utility stubutility suggest argument names with proposals suggestargumentnameswithproposals project constructor binding constructorbinding parameter names parameternames length string name proposals nameproposals parameter names parameternames string param name paramname name proposals nameproposals single variable declaration singlevariabledeclaration param new parameter declaration newparameterdeclaration ast import rewrite importrewrite param name paramname parameter types parametertypes new parameters newparameters add param new parameter names newparameternames add param name paramname simple name simplename newsiargument ast new simple name newsimplename param name paramname super constructor invocation superconstructorinvocation arguments add newsiargument f linked proposal model flinkedproposalmodel linked proposal position group linkedproposalpositiongroup position group positiongroup f linked proposal model flinkedproposalmodel get position group getpositiongroup key param string value of valueof position group positiongroup add position addposition ast rewrite astrewrite track param get name getname position group positiongroup add position addposition ast rewrite astrewrite track newsiargument name proposals nameproposals length position group positiongroup add proposal addproposal name proposals nameproposals name proposals nameproposals length new statements newstatements add super constructor invocation superconstructorinvocation add parameters variables use this access usethisaccess use this for field access usethisforfieldaccess bindings length string base name basename stub utility stubutility get base name getbasename bindings project string param name proposals paramnameproposals stub utility stubutility get variable name suggestions getvariablenamesuggestions naming conventions namingconventions parameter project base name basename new parameter names newparameternames string param name paramname param name proposals paramnameproposals single variable declaration singlevariabledeclaration param new parameter declaration newparameterdeclaration ast import rewrite importrewrite param name paramname bindings get type gettype new parameters newparameters add param new parameter names newparameternames add param name paramname string field name fieldname field names fieldnames simple name simplename field name node fieldnamenode ast new simple name newsimplename field name fieldname simple name simplename param name node paramnamenode ast new simple name newsimplename param name paramname new statements newstatements add new field assignment newfieldassignment ast field name node fieldnamenode param name node paramnamenode use this access usethisaccess new parameter names newparameternames field name fieldname f linked proposal model flinkedproposalmodel linked proposal position group linkedproposalpositiongroup position group positiongroup f linked proposal model flinkedproposalmodel get position group getpositiongroup key param ext string value of valueof position group positiongroup add position addposition ast rewrite astrewrite track param get name getname position group positiongroup add position addposition ast rewrite astrewrite track param name node paramnamenode param name proposals paramnameproposals length position group positiongroup add proposal addproposal param name proposals paramnameproposals param name proposals paramnameproposals length f linked proposal model flinkedproposalmodel get position group getpositiongroup key field ext add position addposition ast rewrite astrewrite track field name node fieldnamenode add exceptions to new constructor addexceptionstonewconstructor new constructor newconstructor import rewrite importrewrite do add comments doaddcomments string all param names allparamnames new parameter names newparameternames to array toarray string new parameter names newparameternames size string string code generation codegeneration get method comment getmethodcomment f cu fcu f class name fclassname f class name fclassname all param names allparamnames string string stub utility stubutility get line delimiter used getlinedelimiterused f cu fcu string javadoc javadoc javadoc ast rewrite astrewrite create string placeholder createstringplaceholder string ast node astnode javadoc new constructor newconstructor set javadoc setjavadoc javadoc core exception coreexception exception java model exception javamodelexception exception new constructor newconstructor statement new field assignment newfieldassignment ast ast simple name simplename field name node fieldnamenode expression initializer use this access usethisaccess assignment assignment ast new assignment newassignment use this access usethisaccess field access fieldaccess access ast new field access newfieldaccess access set expression setexpression ast new this expression newthisexpression access set name setname field name node fieldnamenode assignment set left hand side setlefthandside access assignment set left hand side setlefthandside field name node fieldnamenode assignment set operator setoperator assignment assign assignment set right hand side setrighthandside initializer ast new expression statement newexpressionstatement assignment live list variable declaration fragments variabledeclarationfragments list variable declaration fragment variabledeclarationfragment get fields to initialize in constructor getfieldstoinitializeinconstructor list variable declaration fragment variabledeclarationfragment result array list arraylist iterator body declaration bodydeclaration iter f anonymous inner class node fanonymousinnerclassnode body declarations bodydeclarations iterator iter has next hasnext object element iter element field declaration fielddeclaration list variable declaration fragment variabledeclarationfragment fragments field declaration fielddeclaration element fragments iterator variable declaration fragment variabledeclarationfragment fragment iter fragmentiter fragments iterator fragment iter fragmentiter has next hasnext variable declaration fragment variabledeclarationfragment fragment fragment iter fragmentiter is to be initializer in constructor istobeinitializerinconstructor fragment result result add fragment result is to be initializer in constructor istobeinitializerinconstructor variable declaration fragment variabledeclarationfragment fragment list variable declaration fragment variabledeclarationfragment fields to initialize fieldstoinitialize fragment get initializer getinitializer are locals used in arelocalsusedin fragment get initializer getinitializer fields to initialize fieldstoinitialize are locals used in arelocalsusedin expression field initializer fieldinitializer list variable declaration fragment variabledeclarationfragment fields to initialize fieldstoinitialize i binding ibinding locals used localsused hash set hashset collect ref renced variables collectrefrencedvariables field initializer fieldinitializer locals used localsused i type binding itypebinding anon type anontype f anonymous inner class node fanonymousinnerclassnode resolve binding resolvebinding iterator i binding ibinding iterator locals used localsused iterator iterator has next hasnext i variable binding ivariablebinding curr i variable binding ivariablebinding iterator reference local is binding to temp isbindingtotemp curr curr is field isfield curr get declaring class getdeclaringclass anon type anontype fields to initialize fieldstoinitialize f compilation unit node fcompilationunitnode find declaring node finddeclaringnode curr references field references local i method binding imethodbinding get super constructor binding getsuperconstructorbinding work around workaround missing java core functionality f inding finding constructor anonymous creation i method binding imethodbinding anon constr anonconstr class instance creation classinstancecreation f anonymous inner class node fanonymousinnerclassnode get parent getparent resolve constructor binding resolveconstructorbinding anon constr anonconstr i type binding itypebinding super class superclass anon constr anonconstr get declaring class getdeclaringclass get superclass getsuperclass i method binding imethodbinding super methods supermethods super class superclass get declared methods getdeclaredmethods super methods supermethods length i method binding imethodbinding super method supermethod super methods supermethods super method supermethod is constructor isconstructor parameter types match parametertypesmatch super method supermethod anon constr anonconstr super method supermethod is true istrue parameter types match parametertypesmatch i method binding imethodbinding i method binding imethodbinding i type binding itypebinding params get parameter types getparametertypes i type binding itypebinding params get parameter types getparametertypes params length params length params length params equals params add exceptions to new constructor addexceptionstonewconstructor method declaration methoddeclaration new constructor newconstructor import rewrite importrewrite import rewrite importrewrite i method binding imethodbinding constructor binding constructorbinding get super constructor binding getsuperconstructorbinding constructor binding constructorbinding i type binding itypebinding exceptions constructor binding constructorbinding get exception types getexceptiontypes exceptions length type exception type exceptiontype import rewrite importrewrite add import addimport exceptions f anonymous inner class node fanonymousinnerclassnode getast new constructor newconstructor thrown exception types thrownexceptiontypes add exception type exceptiontype single variable declaration singlevariabledeclaration new parameter declaration newparameterdeclaration ast ast import rewrite importrewrite import rewrite importrewrite string param name paramname i type binding itypebinding param type paramtype single variable declaration singlevariabledeclaration param ast new single variable declaration newsinglevariabledeclaration param set type settype import rewrite importrewrite add import addimport param type paramtype ast param set name setname ast new simple name newsimplename param name paramname param set super type setsupertype type declaration typedeclaration declaration class instance creation classinstancecreation class instance creation classinstancecreation class instance creation classinstancecreation f anonymous inner class node fanonymousinnerclassnode get parent getparent i type binding itypebinding binding class instance creation classinstancecreation resolve type binding resolvetypebinding binding type new type newtype type ast node astnode copy subtree copysubtree f anonymous inner class node fanonymousinnerclassnode getast class instance creation classinstancecreation get type gettype nls binding get superclass getsuperclass get qualified name getqualifiedname equals java lang object is true istrue binding get interfaces getinterfaces length binding get interfaces getinterfaces length declaration super interface types superinterfacetypes add new type newtype declaration set superclass type setsuperclasstype new type newtype i type binding itypebinding get super type binding getsupertypebinding i type binding itypebinding types f anonymous inner class node fanonymousinnerclassnode resolve binding resolvebinding i type binding itypebinding interfaces types get interfaces getinterfaces interfaces length interfaces types get superclass getsuperclass create modifiers for nested class createmodifiersfornestedclass flags f visibility fvisibility f declare final fdeclarefinal flags modifier must inner class be static mustinnerclassbestatic f declare static fdeclarestatic flags modifier flags must inner class be static mustinnerclassbestatic i type binding itypebinding type binding typebinding abstract type declaration abstracttypedeclaration ast nodes astnodes get parent getparent f anonymous inner class node fanonymousinnerclassnode abstract type declaration abstracttypedeclaration resolve binding resolvebinding ast node astnode current f anonymous inner class node fanonymousinnerclassnode get parent getparent ans current current get node type getnodetype ast node astnode constructor invocation ast node astnode constructor invocation ast node astnode anonymous declaration anonymous class declaration anonymousclassdeclaration enclosing anonymous class declaration enclosinganonymousclassdeclaration anonymous class declaration anonymousclassdeclaration current i type binding itypebinding binding enclosing anonymous class declaration enclosinganonymousclassdeclaration resolve binding resolvebinding binding bindings is super type issupertype type binding typebinding binding get superclass getsuperclass ast node astnode field declaration field declaration fielddeclaration enclosing field declaration enclosingfielddeclaration field declaration fielddeclaration current modifier is static isstatic enclosing field declaration enclosingfielddeclaration get modifiers getmodifiers ans ast node astnode method declaration method declaration methoddeclaration enclosing method declaration enclosingmethoddeclaration method declaration methoddeclaration current modifier is static isstatic enclosing method declaration enclosingmethoddeclaration get modifiers getmodifiers ans ast node astnode type declaration ans current current get parent getparent ans refactoring status refactoringstatus initialize java refactoring arguments javarefactoringarguments arguments f self initial izing fselfinitializing string handle arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute input handle i java element ijavaelement element java refactoring descriptor util javarefactoringdescriptorutil handle to element handletoelement arguments get project getproject handle element element exists element get element type getelementtype i java element ijavaelement compilation unit java refactoring descriptor util javarefactoringdescriptorutil create input fatal status createinputfatalstatus element get name getname i java refactorings ijavarefactorings convert anonymous f cu fcu i compilation unit icompilationunit element refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute input string arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute nls equals f class name fclassname refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute string visibility arguments get attribute getattribute attribute visibility nls visibility equals visibility flag flag integer parse int parseint visibility number format exception numberformatexception exception refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute visibility f visibility fvisibility flag string selection arguments get attribute getattribute java refactoring descriptor util javarefactoringdescriptorutil attribute selection selection offset length string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer selection tokenizer has more tokens hasmoretokens offset integer value of valueof tokenizer next token nexttoken int value intvalue tokenizer has more tokens hasmoretokens length integer value of valueof tokenizer next token nexttoken int value intvalue offset length f selection start fselectionstart offset f selection length fselectionlength length refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring illegal argument object selection java refactoring descriptor util javarefactoringdescriptorutil attribute selection refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist java refactoring descriptor util javarefactoringdescriptorutil attribute selection string declare static declarestatic arguments get attribute getattribute attribute declare static declarestatic f declare static fdeclarestatic value of valueof declare static declarestatic boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute string declare final declarefinal arguments get attribute getattribute attribute declare final declarefinal f declare final fdeclarefinal value of valueof declare static declarestatic boolean value booleanvalue refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages initializable refactoring initializablerefactoring argument exist attribute refactoring status refactoringstatus
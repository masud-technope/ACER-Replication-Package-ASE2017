copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation swartz swartz nokia initial api implementation bug ltk patch text edit based change texteditbasedchange text change textchange incorrect diff side empty org eclipse jdt tests refactoring junit framework test junit framework test case testcase junit framework test suite testsuite org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse text edits multi text edit multitextedit org eclipse text edits replace edit replaceedit org eclipse text edits text edit group texteditgroup org eclipse jface text document org eclipse jface text i region iregion org eclipse ltk core refactoring document change documentchange org eclipse ltk core refactoring text edit change group texteditchangegroup ensure diffs text edits include spurious context lines source target regions empty current content preview content diff ering differing ranges spurious text diff content test textdiffcontenttest test case testcase string modified source contents file cm y class cmyclass cm y class cmyclass t good call tgoodcall t dumb call tdumbcall t magic call tmagiccall stuff test suite test suite testsuite text diff content test textdiffcontenttest document change documentchange f document change fdocumentchange document f document fdocument replace edit replaceedit f edit fedit replace edit replaceedit f edit fedit text edit change group texteditchangegroup f change fchange text edit change group texteditchangegroup f change fchange replace edit replaceedit f edit fedit text edit change group texteditchangegroup f change fchange override set up setup exception set up setup f document fdocument document modified source contents f document change fdocumentchange document change documentchange document f document fdocument store unified change document multi text edit multitextedit multi edit multiedit multi text edit multitextedit f document change fdocumentchange set edit setedit multi edit multiedit offset text edit group texteditgroup group offset modified source contents index of indexof f edit fedit replace edit replaceedit offset t final call tfinalcall group text edit group texteditgroup change group add text edit addtextedit f edit fedit f change fchange text edit change group texteditchangegroup f document change fdocumentchange group f document change fdocumentchange add text edit change group addtexteditchangegroup f change fchange multi edit multiedit add child addchild f edit fedit offset f edit fedit replace edit replaceedit offset add comment group text edit group texteditgroup change group add text edit addtextedit f edit fedit f change fchange text edit change group texteditchangegroup f document change fdocumentchange group f document change fdocumentchange add text edit change group addtexteditchangegroup f change fchange multi edit multiedit add child addchild f edit fedit offset modified source contents index of indexof t dumb tdumb end offset endoffset modified source contents index of indexof offset f edit fedit replace edit replaceedit offset end offset endoffset offset group text edit group texteditgroup change group add text edit addtextedit f edit fedit f change fchange text edit change group texteditchangegroup f document change fdocumentchange group f document change fdocumentchange add text edit change group addtexteditchangegroup f change fchange multi edit multiedit add child addchild f edit fedit string get source getsource i region iregion region context core exception coreexception f document change fdocumentchange get current content getcurrentcontent region context null progress monitor nullprogressmonitor string get preview getpreview text edit change group texteditchangegroup group context core exception coreexception f document change fdocumentchange get preview content getpreviewcontent text edit change group texteditchangegroup group group get region getregion context null progress monitor nullprogressmonitor test empty source range no context testemptysourcerangenocontext exception string src get source getsource f edit fedit get region getregion string preview get preview getpreview f change fchange assert equals assertequals src assert equals assertequals t final call tfinalcall preview test empty source range no context testemptysourcerangenocontext exception string src get source getsource f edit fedit get region getregion string preview get preview getpreview f change fchange assert equals assertequals src assert equals assertequals add comment preview test empty source range context testemptysourcerangecontext exception string src get source getsource f edit fedit get region getregion string preview get preview getpreview f change fchange assert equals assertequals t magic call tmagiccall src assert equals assertequals magic call magiccall final call finalcall preview test empty source range context testemptysourcerangecontext exception string src get source getsource f edit fedit get region getregion string preview get preview getpreview f change fchange assert equals assertequals file src assert equals assertequals add comment file preview test empty target range no context testemptytargetrangenocontext exception string src get source getsource f edit fedit get region getregion string preview get preview getpreview f change fchange assert equals assertequals t dumb call tdumbcall src assert equals assertequals preview test empty target range context testemptytargetrangecontext exception string src get source getsource f edit fedit get region getregion string preview get preview getpreview f change fchange assert equals assertequals t good call tgoodcall t dumb call tdumbcall t magic call tmagiccall src assert equals assertequals t good call tgoodcall t magic call tmagiccall preview
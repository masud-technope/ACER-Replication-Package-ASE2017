copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java util array list arraylist java util arrays java util comparator java util list org junit org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core resources i resource iresource org eclipse core resources i resource delta iresourcedelta org eclipse core resources i resource delta visitor iresourcedeltavisitor org eclipse core resources mapping model provider modelprovider test model provider testmodelprovider model provider modelprovider sorter comparator i resource delta iresourcedelta override compare i resource delta iresourcedelta i resource delta iresourcedelta get resource getresource get full path getfullpath to portable string toportablestring compare to compareto get resource getresource get full path getfullpath to portable string toportablestring comparator i resource delta iresourcedelta comparator sorter i resource delta iresourcedelta delta copy test pre delta flags i resource delta iresourcedelta content i resource delta iresourcedelta moved i resource delta iresourcedelta moved i resource delta iresourcedelta open clear delta cleardelta delta override i status istatus validate change validatechange i resource delta iresourcedelta delta i progress monitor iprogressmonitor delta delta validate change validatechange delta assert true asserttrue i resource delta iresourcedelta expected assert not null assertnotnull delta res assert true asserttrue expected delta res assert equals assertequals print delta printdelta expected print delta printdelta delta delta assert true asserttrue i resource delta iresourcedelta expected i resource delta iresourcedelta actual assert equal assertequal expected get resource getresource actual get resource getresource actual kind actualkind actual get kind getkind actual flags actualflags actual get flags getflags real delta combine kinds remove received actual kind actualkind i resource delta iresourcedelta i resource delta iresourcedelta removed actual kind actualkind actual kind actualkind i resource delta iresourcedelta changed expected delta doesn support copy flag remove actual flags actualflags actual flags actualflags i resource delta iresourcedelta copied expect kind expectkind expected get kind getkind expected flags expectedflags expected get flags getflags pre delta flags expect kind expectkind i resource delta iresourcedelta expected flags expectedflags i resource delta iresourcedelta moved expected flags expectedflags expected flags expectedflags i resource delta iresourcedelta open expect kind expectkind actual kind actualkind expected flags expectedflags actual flags actualflags i resource delta iresourcedelta expected children expectedchildren get expected children getexpectedchildren expected i resource delta iresourcedelta actual children actualchildren get actual children getactualchildren actual expected children expectedchildren expected children expectedchildren length actual children actualchildren length arrays sort expected children expectedchildren comparator arrays sort actual children actualchildren comparator expected children expectedchildren length res assert true asserttrue expected children expectedchildren actual children actualchildren res assert equals assertequals print delta printdelta expected print delta printdelta actual string print delta printdelta i resource delta iresourcedelta delta string buffer stringbuffer buf string buffer stringbuffer append delta appenddelta delta buf buf to string tostring string buffer stringbuffer append delta appenddelta i resource delta iresourcedelta delta indent string buffer stringbuffer buf indent buf append buf append delta get resource getresource to string tostring buf append append get kind string getkindstring delta get kind getkind flags delta get kind getkind flags buf append append get flag string getflagstring flags append i resource delta iresourcedelta affected children affectedchildren delta get affected children getaffectedchildren arrays sort affected children affectedchildren comparator affected children affectedchildren length append delta appenddelta affected children affectedchildren indent buf buf string get kind string getkindstring kind kind i resource delta iresourcedelta changed changed i resource delta iresourcedelta i resource delta iresourcedelta removed removed i resource delta iresourcedelta phantom phantom i resource delta iresourcedelta removed phantom removed phantom string get flag string getflagstring flags string buffer stringbuffer buf string buffer stringbuffer append flag appendflag flags i resource delta iresourcedelta content content buf append flag appendflag flags i resource delta iresourcedelta description description buf append flag appendflag flags i resource delta iresourcedelta encoding encoding buf append flag appendflag flags i resource delta iresourcedelta open open buf append flag appendflag flags i resource delta iresourcedelta moved moved buf append flag appendflag flags i resource delta iresourcedelta moved moved buf append flag appendflag flags i resource delta iresourcedelta type type buf append flag appendflag flags i resource delta iresourcedelta sync sync buf append flag appendflag flags i resource delta iresourcedelta markers markers buf append flag appendflag flags i resource delta iresourcedelta replaced replaced buf buf to string tostring append flag appendflag flags flag string string buffer stringbuffer res flags flag res length res append res append assert equal assertequal i resource iresource expected i resource iresource actual children sorted order change copy test i path ipath expected path expectedpath expected get full path getfullpath i path ipath actual path actualpath actual get full path getfullpath assert equals assertequals path length expected path expectedpath segment count segmentcount actual path actualpath segment count segmentcount expected path expectedpath segment count segmentcount string expected segment expectedsegment expected path expectedpath segment expected segment expectedsegment starts with startswith unused name unusedname expected segment expectedsegment equals unused name unusedname assert equals assertequals path segment expected segment expectedsegment actual path actualpath segment assert equals assertequals resource expected actual i resource delta iresourcedelta get expected children getexpectedchildren i resource delta iresourcedelta delta list i resource delta iresourcedelta result array list arraylist i resource delta iresourcedelta children delta get affected children getaffectedchildren children length i resource delta iresourcedelta child children i resource iresource resource child get resource getresource resource is ignorable isignorable resource child get affected children getaffectedchildren length result add child flags child get flags getflags flags flags pre delta flags result add child result to array toarray i resource delta iresourcedelta result size is ignorable isignorable i resource iresource resource string resource get name getname resource get type gettype i resource iresource folder starts with startswith i resource delta iresourcedelta get actual children getactualchildren i resource delta iresourcedelta delta i resource delta iresourcedelta expected children expectedchildren list i resource delta iresourcedelta result array list arraylist copy test i resource delta iresourcedelta children delta get affected children getaffectedchildren children length i resource delta iresourcedelta child children i resource iresource resource child get resource getresource resource is ignorable isignorable resource result add child i resource delta iresourcedelta candidates delta get affected children getaffectedchildren candidates length i resource delta iresourcedelta candidate candidates i resource iresource resource candidate get resource getresource resource is ignorable isignorable resource expected children expectedchildren candidate result add candidate assert copy source assertcopysource candidate result to array toarray i resource delta iresourcedelta result size i resource delta iresourcedelta expected children expectedchildren i resource delta iresourcedelta actual delta actualdelta i resource iresource actual resource actualresource actual delta actualdelta get resource getresource expected children expectedchildren length is same resource in copy issameresourceincopy expected children expectedchildren get resource getresource actual resource actualresource is same resource in copy issameresourceincopy i resource iresource expected i resource iresource actual i path ipath expected path expectedpath expected get full path getfullpath i path ipath actual path actualpath actual get full path getfullpath expected path expectedpath segment count segmentcount actual path actualpath segment count segmentcount expected path expectedpath segment count segmentcount string expected segment expectedsegment expected path expectedpath segment expected segment expectedsegment starts with startswith unused name unusedname expected segment expectedsegment equals unused name unusedname expected segment expectedsegment equals actual path actualpath segment assert copy source assertcopysource i resource delta iresourcedelta delta delta accept i resource delta visitor iresourcedeltavisitor override visit i resource delta iresourcedelta core exception coreexception assert true asserttrue copy delta get kind getkind i resource delta iresourcedelta changed core exception coreexception assert true asserttrue should n shouldn happen
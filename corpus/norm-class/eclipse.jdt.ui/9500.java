copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk internal core refactoring resource undo states undostates java net uri org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime path org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse ltk internal core refactoring refactoring core messages refactoringcoremessages container undo state containerundostate lightweight description describes container created intended instantiated clients container undo state containerundostate abstract resource undo state abstractresourceundostate string uri location string default char set defaultcharset abstract resource undo state abstractresourceundostate members create container description container handle create container returned container state containerstate represent existing parents add ition addition container param container handle container container description describing container existing parents container undo state containerundostate from container fromcontainer i container icontainer container i path ipath full path fullpath container get full path getfullpath container undo state containerundostate first created parent firstcreatedparent container undo state containerundostate current container description currentcontainerdescription container exist parent exists normal creation constructor i workspace root iworkspaceroot root resources plugin resourcesplugin get workspace getworkspace get root getroot i container icontainer current container currentcontainer i container icontainer root find member findmember full path fullpath current container currentcontainer container undo state containerundostate resource undo state resourceundostate from resource fromresource container create container descriptions uncreated parents path current container currentcontainer root full path fullpath segment count segmentcount string current segment currentsegment full path fullpath segment i resource iresource resource current container currentcontainer find member findmember current segment currentsegment resource parent exists create description current container currentcontainer i container icontainer resource parent exist project first created parent firstcreatedparent project undo state projectundostate root get project getproject current segment currentsegment current container description currentcontainerdescription first created parent firstcreatedparent i folder ifolder folder handle folderhandle current container currentcontainer get folder getfolder path current segment currentsegment container undo state containerundostate current folder currentfolder folder undo state folderundostate folder handle folderhandle current container currentcontainer folder handle folderhandle current container description currentcontainerdescription current container description currentcontainerdescription add member addmember current folder currentfolder current container description currentcontainerdescription current folder currentfolder first created parent firstcreatedparent first created parent firstcreatedparent current folder currentfolder first created parent firstcreatedparent create container state containerstate container undo state containerundostate create container state containerstate container handle typically container handle represents resource exists fail resource existent param container container container undo state containerundostate i container icontainer container container container get name getname container is linked islinked location container getlocationuri container is accessible isaccessible default char set defaultcharset container get default charset getdefaultcharset i resource iresource resource members resourcemembers container members members abstract resource undo state abstractresourceundostate resource members resourcemembers length resource members resourcemembers length members abstract resource undo state abstractresourceundostate resource undo state resourceundostate from resource fromresource resource members resourcemembers core exception coreexception create child resources container description param parent handle parenthandle handle created parent param monitor progress monitor param ticks number ticks all ocated allocated creating children core exception coreexception creation failed create child resources createchildresources i container icontainer parent handle parenthandle i progress monitor iprogressmonitor monitor ticks core exception coreexception restore children members members length members length members parent parent handle parenthandle members create resource createresource sub progress monitor subprogressmonitor monitor ticks members length override record state from history recordstatefromhistory i resource iresource resource i progress monitor iprogressmonitor monitor core exception coreexception monitor begin task begintask refactoring core messages refactoringcoremessages folder description folderdescription saving undo info progress savingundoinfoprogress members members length members file undo state fileundostate i path ipath path resource get full path getfullpath append file undo state fileundostate members i file ifile file handle filehandle resource get workspace getworkspace get root getroot get file getfile path members record state from history recordstatefromhistory file handle filehandle sub progress monitor subprogressmonitor monitor members length members folder undo state folderundostate i path ipath path resource get full path getfullpath append folder undo state folderundostate members i folder ifolder folder handle folderhandle resource get workspace getworkspace get root getroot get folder getfolder path members record state from history recordstatefromhistory folder handle folderhandle sub progress monitor subprogressmonitor monitor members length monitor container container state containerstate container override string get name getname folder child folders container description child receiver leaf container children container undo state containerundostate get first leaf folder getfirstleaffolder members leaf members members length traverse members find potential leaf members length members container undo state containerundostate container undo state containerundostate members get first leaf folder getfirstleaffolder child folders leaf add resource description member resource description param member resource description considered member container add member addmember abstract resource undo state abstractresourceundostate member members members abstract resource undo state abstractresourceundostate member abstract resource undo state abstractresourceundostate expanded members expandedmembers abstract resource undo state abstractresourceundostate members length system arraycopy members expanded members expandedmembers members length expanded members expandedmembers members length member members expanded members expandedmembers override restore resource attributes restoreresourceattributes i resource iresource resource core exception coreexception restore resource attributes restoreresourceattributes resource is legal islegal resource i container icontainer i container icontainer container i container icontainer resource default char set defaultcharset container set default charset setdefaultcharset default char set defaultcharset location container linked param location location uri code code link set location setlocation uri location location location override verify existence verifyexistence check members checkmembers existence verify existence verifyexistence check members checkmembers existence check members checkmembers restore children members members length members length members verify existence verifyexistence check members checkmembers
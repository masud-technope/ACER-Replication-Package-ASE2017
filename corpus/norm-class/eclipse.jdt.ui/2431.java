copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal refactoring java lang reflect invocation target exception invocationtargetexception java util array list arraylist java util arrays java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util org eclipse swt swt org eclipse swt custom sash form sashform org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets button org eclipse swt widgets composite org eclipse swt widgets label org eclipse swt widgets tree org eclipse core runtime org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime sub progress monitor subprogressmonitor org eclipse jface dialogs dialog org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse jface preference i preference store ipreferencestore org eclipse jface resource j fac e resources jfaceresources org eclipse jface viewers check state changed event checkstatechangedevent org eclipse jface viewers i check state listener icheckstatelistener org eclipse jface viewers i selection iselection org eclipse jface viewers i selection changed listener iselectionchangedlistener org eclipse jface viewers i structured selection istructuredselection org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers selection changed event selectionchangedevent org eclipse jface viewers viewer org eclipse jface viewers viewer filter viewerfilter org eclipse jface wizard i wizard page iwizardpage org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text source source viewer sourceviewer org eclipse platformui org eclipse dialogs container checked tree viewer containercheckedtreeviewer org eclipse ltk refactoring user input wizard page userinputwizardpage org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i source reference isourcereference org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring structure pull up refactoring processor pulluprefactoringprocessor org eclipse jdt internal corext refactoring util java element util javaelementutil org eclipse jdt internal corext util messages org eclipse jdt internal corext util strings org eclipse jdt java element comparator javaelementcomparator org eclipse jdt java element label provider javaelementlabelprovider org eclipse jdt java element labels javaelementlabels org eclipse jdt preference constants preferenceconstants org eclipse jdt text java source viewer configuration javasourceviewerconfiguration org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor java source viewer javasourceviewer org eclipse jdt internal util exception handler exceptionhandler org eclipse jdt internal util swt util swtutil wizard pull refactoring wizards methods deleted subtypes pull pull up method page pullupmethodpage user input wizard page userinputwizardpage pull up filter pullupfilter viewer filter viewerfilter any sub type can be shown anysubtypecanbeshown i type itype type map i type itype i member imember type to member array typetomemberarray i type hierarchy itypehierarchy hierarchy i type itype sub types subtypes hierarchy get subtypes getsubtypes type sub types subtypes length can be shown canbeshown sub types subtypes type to member array typetomemberarray hierarchy can be shown canbeshown i type itype type map i type itype i member imember type to member array typetomemberarray i type hierarchy itypehierarchy hierarchy type to member array typetomemberarray contains key containskey type any sub type can be shown anysubtypecanbeshown type type to member array typetomemberarray hierarchy i type itype compute show able subtypes of main type computeshowablesubtypesofmaintype i type hierarchy itypehierarchy hierarchy map i type itype i member imember type to member array typetomemberarray i type itype result hash set hashset i type itype subtypes hierarchy get all subtypes getallsubtypes hierarchy get type gettype subtypes length i type itype subtype subtypes can be shown canbeshown subtype type to member array typetomemberarray hierarchy result add subtype result i type itype compute types to show computetypestoshow i type hierarchy itypehierarchy hierarchy map i type itype i member imember type to member array typetomemberarray i type itype types to show typestoshow hash set hashset types to show typestoshow add hierarchy get type gettype types to show typestoshow add all addall compute show able subtypes of main type computeshowablesubtypesofmaintype hierarchy type to member array typetomemberarray types to show typestoshow i type itype f types to show ftypestoshow pull up filter pullupfilter i type hierarchy itypehierarchy hierarchy i member imember members i type itype i member imember map i type itype i member imember map pull up method page pullupmethodpage create type to member array mapping createtypetomemberarraymapping members f types to show ftypestoshow compute types to show computetypestoshow hierarchy map override select viewer viewer object parent element parentelement object element element i method imethod f types to show ftypestoshow element pull up hierarchy content provider pulluphierarchycontentprovider i tree content provider itreecontentprovider i type itype f declaring type fdeclaringtype i type hierarchy itypehierarchy f hierarchy fhierarchy i type itype i member imember map i type itype i member imember f type to member array ftypetomemberarray pull up hierarchy content provider pulluphierarchycontentprovider i type itype declaring type declaringtype i member imember members f declaring type fdeclaringtype declaring type declaringtype f type to member array ftypetomemberarray pull up method page pullupmethodpage create type to member array mapping createtypetomemberarraymapping members override dispose f hierarchy fhierarchy f type to member array ftypetomemberarray clear f type to member array ftypetomemberarray f declaring type fdeclaringtype override object get children getchildren object parent element parentelement parent element parentelement i type itype get subclasses and members getsubclassesandmembers i type itype parent element parentelement object override object get elements getelements object input element inputelement is true istrue input element inputelement input element inputelement i type hierarchy itypehierarchy i type itype f hierarchy fhierarchy get type gettype i member imember get members getmembers i type itype type f type to member array ftypetomemberarray contains key containskey type f type to member array ftypetomemberarray type i member imember override object get parent getparent object element element i type itype f hierarchy fhierarchy get superclass getsuperclass i type itype element element i member imember i member imember element get declaring type getdeclaringtype nls is true istrue i type itype get subclasses getsubclasses i type itype type type equals f declaring type fdeclaringtype i type itype f hierarchy fhierarchy get subclasses getsubclasses type object get subclasses and members getsubclassesandmembers i type itype type i member imember hash set hashset add all addall arrays as list aslist get subclasses getsubclasses type add all addall arrays as list aslist get members getmembers type to array toarray override has children haschildren object element element i type itype i type itype type i type itype element f hierarchy fhierarchy get all subtypes getallsubtypes type length f type to member array ftypetomemberarray contains key containskey type override input changed inputchanged viewer viewer object old input oldinput object new input newinput is true istrue new input newinput new input newinput i type hierarchy itypehierarchy f hierarchy fhierarchy i type hierarchy itypehierarchy new input newinput nls string pull up method page pullupmethodpage i type itype i member imember map i type itype i member imember create type to member array mapping createtypetomemberarraymapping i member imember members map i type itype hash set hashset i member imember type to member set typetomemberset create type to member set mapping createtypetomembersetmapping members map i type itype i member imember type to member array typetomemberarray hash map hashmap iterator i type itype iter type to member set typetomemberset key set keyset iterator iter has next hasnext i type itype type iter i member imember member set memberset type to member set typetomemberset type i member imember member array memberarray member set memberset to array toarray i member imember member set memberset size type to member array typetomemberarray type member array memberarray type to member array typetomemberarray i type itype i member imember map i type itype hash set hashset i member imember create type to member set mapping createtypetomembersetmapping i member imember members map i type itype hash set hashset i member imember type to member set typetomemberset hash map hashmap members length i member imember member members i type itype type member get declaring type getdeclaringtype type to member set typetomemberset contains key containskey type type to member set typetomemberset type hash set hashset i member imember type to member set typetomemberset type add member type to member set typetomemberset f changed settings fchangedsettings label f selection label fselectionlabel source viewer sourceviewer f source viewer fsourceviewer container checked tree viewer containercheckedtreeviewer f tree viewer ftreeviewer label f type hierarchy label ftypehierarchylabel pull up refactoring processor pulluprefactoringprocessor f processor fprocessor pull up method page pullupmethodpage pull up refactoring processor pulluprefactoringprocessor processor f processor fprocessor processor set message setmessage refactoring messages refactoringmessages pull up input page pullupinputpage select methods pull up refactoring processor pulluprefactoringprocessor get pull up refactoring processor getpulluprefactoringprocessor f processor fprocessor check all parents checkallparents i type itype parent i type hierarchy itypehierarchy get tree input gettreeinput i type itype root get tree input gettreeinput get type gettype i type itype type parent root equals type f tree viewer ftreeviewer set checked setchecked type type get superclass getsuperclass type f tree viewer ftreeviewer set checked setchecked root check pulled up checkpulledup uncheck all uncheckall f tree viewer ftreeviewer set checked elements setcheckedelements f processor fprocessor get members to move getmemberstomove i type itype parent f processor fprocessor get declaring type getdeclaringtype f tree viewer ftreeviewer set checked setchecked parent check all parents checkallparents parent create button composite createbuttoncomposite composite super composite supercomposite composite button composite buttoncomposite composite super composite supercomposite swt button composite buttoncomposite set layout data setlayoutdata grid data griddata grid data griddata fill grid data griddata grid layout gridlayout layout grid layout gridlayout layout margin width marginwidth button composite buttoncomposite set layout setlayout layout f selection label fselectionlabel label button composite buttoncomposite swt left swt wrap swt horizontal grid data griddata data grid data griddata grid data griddata grid data griddata data width hint widthhint convert width in chars to pixels convertwidthincharstopixels f selection label fselectionlabel set layout data setlayoutdata data button button button button composite buttoncomposite swt push button set text settext refactoring messages refactoringmessages pull up input page pullupinputpage select button set layout data setlayoutdata grid data griddata swt util swtutil set button dimension hint setbuttondimensionhint button button add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent check pulled up checkpulledup update selection label updateselectionlabel override create control createcontrol composite parent composite composite composite parent swt composite set layout setlayout grid layout gridlayout create tree and source viewer createtreeandsourceviewer composite create button composite createbuttoncomposite composite set control setcontrol composite dialog apply dialog font applydialogfont composite platformui get workbench getworkbench get help system gethelpsystem set help sethelp get control getcontrol i java help context ids ijavahelpcontextids pull wizard create hierarchy tree composite createhierarchytreecomposite composite parent composite composite composite parent swt composite set layout data setlayoutdata grid data griddata grid data griddata fill grid layout gridlayout layout grid layout gridlayout layout margin width marginwidth layout margin height marginheight layout horizontal spacing horizontalspacing layout vertical spacing verticalspacing composite set layout setlayout layout create type hierarchy label createtypehierarchylabel composite create tree viewer createtreeviewer composite create source viewer createsourceviewer composite i preference store ipreferencestore store java plugin javaplugin get default getdefault get combined preference store getcombinedpreferencestore f source viewer fsourceviewer java source viewer javasourceviewer swt scroll swt scroll swt multi swt border swt full selection store f source viewer fsourceviewer configure java source viewer configuration javasourceviewerconfiguration java plugin javaplugin get default getdefault get java text tools getjavatexttools get color manager getcolormanager store f source viewer fsourceviewer set editable seteditable f source viewer fsourceviewer get control getcontrol set layout data setlayoutdata grid data griddata grid data griddata fill f source viewer fsourceviewer get control getcontrol set font setfont j fac e resources jfaceresources get font getfont preference constants preferenceconstants editor text font create source viewer composite createsourceviewercomposite composite parent composite composite parent swt set layout data setlayoutdata grid data griddata grid data griddata fill grid layout gridlayout layout grid layout gridlayout layout margin width marginwidth layout margin height marginheight layout horizontal spacing horizontalspacing layout vertical spacing verticalspacing set layout setlayout layout create source viewer label createsourceviewerlabel create source viewer createsourceviewer create source viewer label createsourceviewerlabel composite label label label swt wrap grid data griddata grid data griddata grid data griddata fill horizontal label set text settext refactoring messages refactoringmessages pull up input page pullupinputpage source label set layout data setlayoutdata create tree and source viewer createtreeandsourceviewer composite super composite supercomposite sash form sashform composite sash form sashform super composite supercomposite swt horizontal initialize dialog units initializedialogunits super composite supercomposite grid data griddata grid data griddata grid data griddata fill height hint heighthint convert height in chars to pixels convertheightincharstopixels width hint widthhint convert width in chars to pixels convertwidthincharstopixels composite set layout data setlayoutdata grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns layout margin width marginwidth layout margin height marginheight layout horizontal spacing horizontalspacing layout vertical spacing verticalspacing composite set layout setlayout layout create hierarchy tree composite createhierarchytreecomposite composite create source viewer composite createsourceviewercomposite composite composite set weights setweights create tree viewer createtreeviewer composite composite tree tree tree composite swt check swt border swt multi swt scroll swt scroll tree set layout data setlayoutdata grid data griddata grid data griddata fill f tree viewer ftreeviewer container checked tree viewer containercheckedtreeviewer tree f tree viewer ftreeviewer set label provider setlabelprovider java element label provider javaelementlabelprovider java element label provider javaelementlabelprovider java element label provider javaelementlabelprovider small icons f tree viewer ftreeviewer set use hash lookup setusehashlookup f tree viewer ftreeviewer set comparator setcomparator java element comparator javaelementcomparator f tree viewer ftreeviewer add selection changed listener addselectionchangedlistener i selection changed listener iselectionchangedlistener override selection changed selectionchanged selection changed event selectionchangedevent event tree viewer selection changed treeviewerselectionchanged event f tree viewer ftreeviewer add check state listener addcheckstatelistener i check state listener icheckstatelistener override check state changed checkstatechanged check state changed event checkstatechangedevent event update selection label updateselectionlabel create type hierarchy label createtypehierarchylabel composite composite f type hierarchy label ftypehierarchylabel label composite swt wrap grid data griddata grid data griddata grid data griddata fill horizontal f type hierarchy label ftypehierarchylabel set layout data setlayoutdata fire settings changed firesettingschanged f changed settings fchangedsettings i method imethod get checked methods getcheckedmethods object checked f tree viewer ftreeviewer get checked elements getcheckedelements list i method imethod members array list arraylist checked length checked length checked i method imethod members add i method imethod checked members to array toarray i method imethod members size i source reference isourcereference get first selected source reference getfirstselectedsourcereference selection changed event selectionchangedevent event i selection iselection event get selection getselection i structured selection istructuredselection i structured selection istructuredselection i structured selection istructuredselection size object get first element getfirstelement i source reference isourcereference i source reference isourcereference override i wizard page iwizardpage get next page getnextpage initialize refactoring initializerefactoring get next page getnextpage string get supertype signature getsupertypesignature java element util javaelementutil create signature createsignature f processor fprocessor get destination type getdestinationtype i type hierarchy itypehierarchy get tree input gettreeinput i type hierarchy itypehierarchy f tree viewer ftreeviewer get input getinput initialize refactoring initializerefactoring f processor fprocessor set deleted methods setdeletedmethods get checked methods getcheckedmethods initialize tree viewer initializetreeviewer get container getcontainer i runnable with progress irunnablewithprogress override i progress monitor iprogressmonitor initialize tree viewer initializetreeviewer invocation target exception invocationtargetexception exception handler exceptionhandler handle get shell getshell refactoring messages refactoringmessages pull up input page pullupinputpage pull refactoring messages refactoringmessages pull up input page pullupinputpage exception interrupted exception interruptedexception is true istrue initialize tree viewer initializetreeviewer i progress monitor iprogressmonitor begin task begintask refactoring core messages refactoringcoremessages pull up refactoring pulluprefactoring checking i member imember matching methods matchingmethods f processor fprocessor get matching elements getmatchingelements sub progress monitor subprogressmonitor i type hierarchy itypehierarchy hierarchy f processor fprocessor get destination type hierarchy getdestinationtypehierarchy sub progress monitor subprogressmonitor remove all tree view filters removealltreeviewfilters f tree viewer ftreeviewer add filter addfilter pull up filter pullupfilter hierarchy matching methods matchingmethods f tree viewer ftreeviewer set content provider setcontentprovider pull up hierarchy content provider pulluphierarchycontentprovider f processor fprocessor get declaring type getdeclaringtype matching methods matchingmethods f tree viewer ftreeviewer set input setinput hierarchy precheck elements precheckelements f tree viewer ftreeviewer f tree viewer ftreeviewer expand all expandall update selection label updateselectionlabel java model exception javamodelexception exception handler exceptionhandler handle refactoring messages refactoringmessages pull up input page pullupinputpage pull refactoring messages refactoringmessages pull up input page pullupinputpage exception f tree viewer ftreeviewer set input setinput override perform finish performfinish initialize refactoring initializerefactoring perform finish performfinish precheck elements precheckelements container checked tree viewer containercheckedtreeviewer tree viewer treeviewer i member imember members f processor fprocessor get members to move getmemberstomove members length tree viewer treeviewer set checked setchecked members remove all tree view filters removealltreeviewfilters viewer filter viewerfilter filters f tree viewer ftreeviewer get filters getfilters filters length f tree viewer ftreeviewer remove filter removefilter filters set hierarchy label text sethierarchylabeltext string message messages format refactoring messages refactoringmessages pull up input page pullupinputpage subtypes get supertype signature getsupertypesignature f type hierarchy label ftypehierarchylabel set text settext message set source viewer contents setsourceviewercontents string contents contents i java project ijavaproject project f processor fprocessor get destination type getdestinationtype get java project getjavaproject string lines strings convert into lines convertintolines contents lines length indent strings compute indent units computeindentunits lines lines length project nls nls contents strings change indent changeindent contents indent project i document idocument document contents document document contents java plugin javaplugin get default getdefault get java text tools getjavatexttools setup java document partitioner setupjavadocumentpartitioner document f source viewer fsourceviewer set document setdocument document override set visible setvisible visible visible f changed settings fchangedsettings f changed settings fchangedsettings initialize tree viewer initializetreeviewer set hierarchy label text sethierarchylabeltext set visible setvisible visible show in source viewer showinsourceviewer i source reference isourcereference selected java model exception javamodelexception selected set source viewer contents setsourceviewercontents set source viewer contents setsourceviewercontents selected get source getsource tree viewer selection changed treeviewerselectionchanged selection changed event selectionchangedevent event show in source viewer showinsourceviewer get first selected source reference getfirstselectedsourcereference event java model exception javamodelexception exception handler exceptionhandler handle refactoring messages refactoringmessages pull up input page pullupinputpage pull refactoring messages refactoringmessages pull up input page pullupinputpage log uncheck all uncheckall i type itype root get tree input gettreeinput get type gettype f tree viewer ftreeviewer set checked setchecked root update selection label updateselectionlabel i method imethod methods get checked methods getcheckedmethods checked methods count checkedmethodscount methods length string text checked methods count checkedmethodscount messages format refactoring messages refactoringmessages pull up input page pullupinputpage hierarchy labal hierarchylabal singular java element labels javaelementlabels get element label getelementlabel methods java element labels javaelementlabels parameter types messages format refactoring messages refactoringmessages pull up input page pullupinputpage hierarchy labal hierarchylabal plural string value of valueof checked methods count checkedmethodscount f selection label fselectionlabel set text settext text
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation sebastian davids sdavids gmx bug dialog font activated components org eclipse jdt internal working sets workingsets java util array list arraylist java util arrays java util collections java util hash map hashmap java util hash set hashset java util hashtable java util iterator java util list java util map java util org eclipse swt swt org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt graphics image org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets button org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets shell org eclipse core runtime org eclipse jface dialogs i dialog constants idialogconstants org eclipse jface resource image descriptor imagedescriptor org eclipse jface viewers array content provider arraycontentprovider org eclipse jface viewers check state changed event checkstatechangedevent org eclipse jface viewers checkbox table viewer checkboxtableviewer org eclipse jface viewers double click event doubleclickevent org eclipse jface viewers i check state listener icheckstatelistener org eclipse jface viewers i double click listener idoubleclicklistener org eclipse jface viewers i selection iselection org eclipse jface viewers i selection changed listener iselectionchangedlistener org eclipse jface viewers i structured selection istructuredselection org eclipse jface viewers label provider labelprovider org eclipse jface viewers selection changed event selectionchangedevent org eclipse jface viewers structured selection structuredselection org eclipse jface viewers viewer org eclipse jface viewers viewer comparator viewercomparator org eclipse jface window window org eclipse jface wizard wizard dialog wizarddialog org eclipse i working set iworkingset org eclipse i working set manager iworkingsetmanager org eclipse platformui org eclipse dialogs i working set edit wizard iworkingseteditwizard org eclipse dialogs i working set new wizard iworkingsetnewwizard org eclipse dialogs selection dialog selectiondialog org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal viewsupport basic element labels basicelementlabels working set configuration dialog workingsetconfigurationdialog selection dialog selectiondialog working set label provider workingsetlabelprovider label provider labelprovider map image descriptor imagedescriptor image f icons ficons working set label provider workingsetlabelprovider f icons ficons hashtable override dispose iterator image iterator f icons ficons values iterator iterator has next hasnext image icon iterator icon dispose dispose override image get image getimage object object is true istrue object i working set iworkingset i working set iworkingset working set workingset i working set iworkingset object image descriptor imagedescriptor image descriptor imagedescriptor working set workingset get image descriptor getimagedescriptor image descriptor imagedescriptor image icon f icons ficons image descriptor imagedescriptor icon icon image descriptor imagedescriptor create image createimage f icons ficons image descriptor imagedescriptor icon icon override string get text gettext object object is true istrue object i working set iworkingset i working set iworkingset working set workingset i working set iworkingset object basic element labels basicelementlabels get working set label getworkingsetlabel working set workingset list i working set iworkingset f all working sets fallworkingsets checkbox table viewer checkboxtableviewer f table viewer ftableviewer button f new button fnewbutton button f edit button feditbutton button f remove button fremovebutton button f up button fupbutton button f down button fdownbutton button f select all fselectall button f deselect all fdeselectall sort working sets button button f sort working set fsortworkingset i working set iworkingset f result fresult list i working set iworkingset f added working sets faddedworkingsets list i working set iworkingset f removed working sets fremovedworkingsets map i working set iworkingset i working set iworkingset f edited working sets feditedworkingsets list i working set iworkingset fremovedmruworkingsets next button id nextbuttonid i dialog constants idialogconstants client sorted working sets f is sorting enabled fissortingenabled working comparator working set comparator workingsetcomparator f comparator fcomparator working set configuration dialog workingsetconfigurationdialog shell parent shell parentshell i working set iworkingset all working sets allworkingsets is sorting enabled issortingenabled parent shell parentshell set title settitle working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog title set message setmessage working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog message f all working sets fallworkingsets array list arraylist all working sets allworkingsets length all working sets allworkingsets length f all working sets fallworkingsets add all working sets allworkingsets f is sorting enabled fissortingenabled is sorting enabled issortingenabled override configure shell configureshell shell shell configure shell configureshell shell platformui get workbench getworkbench get help system gethelpsystem set help sethelp shell i java help context ids ijavahelpcontextids working configuration dialog returns selected working sets selected working sets i working set iworkingset get selection getselection f result fresult sets initial selection param working sets workingsets initial selection set selection setselection i working set iworkingset working sets workingsets f result fresult working sets workingsets set initial select ions setinitialselections working sets workingsets override control create contents createcontents composite parent control control create contents createcontents parent set initial selection setinitialselection update button availability updatebuttonavailability control override control create dialog area createdialogarea composite parent composite composite composite create dialog area createdialogarea parent create message area createmessagearea composite composite composite composite swt set layout data setlayoutdata grid data griddata grid data griddata fill grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns layout margin height marginheight layout margin width marginwidth set layout setlayout layout create table viewer createtableviewer create order buttons createorderbuttons create modify buttons createmodifybuttons composite update sorting updatesorting f table viewer ftableviewer set input setinput f all working sets fallworkingsets apply dialog font applydialogfont composite composite create table viewer createtableviewer composite parent f table viewer ftableviewer checkbox table viewer checkboxtableviewer new check list newchecklist parent swt border swt multi f table viewer ftableviewer add check state listener addcheckstatelistener i check state listener icheckstatelistener override check state changed checkstatechanged check state changed event checkstatechangedevent event update button availability updatebuttonavailability grid data griddata data grid data griddata grid data griddata fill data height hint heighthint convert height i n chars to pixels convertheightincharstopixels data width hint widthhint convert width i n chars to pixels convertwidthincharstopixels f table viewer ftableviewer get table gettable set layout data setlayoutdata data f table viewer ftableviewer set label provider setlabelprovider working set label provider workingsetlabelprovider f table viewer ftableviewer set content provider setcontentprovider array content provider arraycontentprovider f table viewer ftableviewer add selection changed listener addselectionchangedlistener i selection changed listener iselectionchangedlistener override selection changed selectionchanged selection changed event selectionchangedevent event handle selection changed handleselectionchanged f table viewer ftableviewer add double click listener adddoubleclicklistener i double click listener idoubleclicklistener override double click doubleclick double click event doubleclickevent event f edit button feditbutton is enabled isenabled edit selected working set editselectedworkingset create modify buttons createmodifybuttons composite composite composite button composite buttoncomposite composite composite swt grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns button composite buttoncomposite set layout setlayout layout grid data griddata data grid data griddata grid data griddata horizontal align grid data griddata grab horizontal data grab excess horizontal space grabexcesshorizontalspace composite set data setdata data f new button fnewbutton create button createbutton button composite buttoncomposite next button id nextbuttonid working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog label f new button fnewbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent create working set createworkingset f edit button feditbutton create button createbutton button composite buttoncomposite next button id nextbuttonid working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog edit label f edit button feditbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent edit selected working set editselectedworkingset f remove button fremovebutton create button createbutton button composite buttoncomposite next button id nextbuttonid working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog remove label f remove button fremovebutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent remove selected working sets removeselectedworkingsets create order buttons createorderbuttons composite parent composite buttons composite parent swt buttons set layout data setlayoutdata grid data griddata grid data griddata fill vertical grid layout gridlayout layout grid layout gridlayout layout margin height marginheight layout margin width marginwidth buttons set layout setlayout layout f up button fupbutton button buttons swt push f up button fupbutton set text settext working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog label set button layout data setbuttonlayoutdata f up button fupbutton f up button fupbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent move up moveup i structured selection istructuredselection f table viewer ftableviewer get selection getselection to list tolist f down button fdownbutton button buttons swt push f down button fdownbutton set text settext working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog label set button layout data setbuttonlayoutdata f down button fdownbutton f down button fdownbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent move down movedown i structured selection istructuredselection f table viewer ftableviewer get selection getselection to list tolist f select all fselectall button buttons swt push f select all fselectall set text settext working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog select all selectall label set button layout data setbuttonlayoutdata f select all fselectall f select all fselectall add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent select all selectall f deselect all fdeselectall button buttons swt push f deselect all fdeselectall set text settext working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog deselect all deselectall label set button layout data setbuttonlayoutdata f deselect all fdeselectall f deselect all fdeselectall add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent deselect all deselectall check box persistence sort working sets alphabetically working set configuration dialog workingsetconfigurationdialog rest ores restores unsorted order working sets unchecked f sort working set fsortworkingset button parent swt check f sort working set fsortworkingset set text settext working set messages workingsetmessages working set configuration dialog workingsetconfigurationdialog sort working sets f sort working set fsortworkingset set layout data setlayoutdata grid data griddata swt lead swt center f sort working set fsortworkingset set selection setselection f is sorting enabled fissortingenabled f sort working set fsortworkingset add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f is sorting enabled fissortingenabled f sort working set fsortworkingset get selection getselection update button availability updatebuttonavailability update sorting updatesorting override ok pressed okpressed list i working set iworkingset new result newresult get result working sets getresultworkingsets f result fresult new result newresult to array toarray i working set iworkingset new result newresult size f is sorting enabled fissortingenabled collections sort f all working sets fallworkingsets get comparator getcomparator set result setresult new result newresult ok pressed okpressed suppress warnings suppresswarnings unchecked rawtypes list i working set iworkingset get result working sets getresultworkingsets object checked f table viewer ftableviewer get checked elements getcheckedelements array list arraylist arrays as list aslist checked override cancel pressed cancelpressed restore added working sets restoreaddedworkingsets restore changed working sets restorechangedworkingsets restore removed working sets restoreremovedworkingsets cancel pressed cancelpressed set initial selection setinitialselection list object selections get initial element select ions getinitialelementselections selections is empty isempty f table viewer ftableviewer set checked elements setcheckedelements selections to array toarray create working set createworkingset i working set manager iworkingsetmanager manager platformui get workbench getworkbench get working set manager getworkingsetmanager i working set new wizard iworkingsetnewwizard wizard manager create working set new wizard createworkingsetnewwizard string i working set ds iworkingsetids java wizard java working wizard dialog wizarddialog dialog wizard dialog wizarddialog get shell getshell wizard dialog create dialog open window i working set iworkingset working set workingset wizard get selection getselection working set model workingsetmodel is supported as top level element issupportedastoplevelelement working set workingset f all working sets fallworkingsets add working set workingset f table viewer ftableviewer add working set workingset f table viewer ftableviewer set selection setselection structured selection structuredselection working set workingset f table viewer ftableviewer set checked setchecked working set workingset manager add working set addworkingset working set workingset f added working sets faddedworkingsets add working set workingset edit selected working set editselectedworkingset i working set manager iworkingsetmanager manager platformui get workbench getworkbench get working set manager getworkingsetmanager i working set iworkingset edit working set editworkingset i working set iworkingset i structured selection istructuredselection f table viewer ftableviewer get selection getselection get first element getfirstelement i working set edit wizard iworkingseteditwizard wizard manager create working set edit wizard createworkingseteditwizard edit working set editworkingset wizard dialog wizarddialog dialog wizard dialog wizarddialog get shell getshell wizard i working set iworkingset original working set originalworkingset f edited working sets feditedworkingsets edit working set editworkingset first edit firstedit original working set originalworkingset dialog can celled cancelled first edit firstedit original working set originalworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset edit working set editworkingset get name getname edit working set editworkingset get elements getelements f edited working sets feditedworkingsets remove edit working set editworkingset dialog create dialog open window edit working set editworkingset wizard get selection getselection f is sorting enabled fissortingenabled f table viewer ftableviewer refresh f table viewer ftableviewer update edit working set editworkingset button enabled selected working edited fixes bug update button availability updatebuttonavailability f edited working sets feditedworkingsets edit working set editworkingset original working set originalworkingset called selection changed handle selection changed handleselectionchanged update button availability updatebuttonavailability overrides method dialog org eclipse jface dialogs dialog open override open f added working sets faddedworkingsets array list arraylist f removed working sets fremovedworkingsets array list arraylist f edited working sets feditedworkingsets hash map hashmap fremovedmruworkingsets array list arraylist open removes selected working sets workbench remove selected working sets removeselectedworkingsets i selection iselection selection f table viewer ftableviewer get selection getselection selection i structured selection istructuredselection i working set manager iworkingsetmanager manager platformui get workbench getworkbench get working set manager getworkingsetmanager iterator iter i structured selection istructuredselection selection iterator iter has next hasnext i working set iworkingset working set workingset i working set iworkingset iter f added working sets faddedworkingsets working set workingset f added working sets faddedworkingsets remove working set workingset i working set iworkingset recent working sets recentworkingsets manager get recent working sets getrecentworkingsets recent working sets recentworkingsets length working set workingset equals recent working sets recentworkingsets fremovedmruworkingsets add working set workingset f removed working sets fremovedworkingsets add working set workingset f all working sets fallworkingsets remove working set workingset manager remove working set removeworkingset working set workingset f table viewer ftableviewer remove i structured selection istructuredselection selection to array toarray removes newly created working sets working manager restore added working sets restoreaddedworkingsets i working set manager iworkingsetmanager manager platformui get workbench getworkbench get working set manager getworkingsetmanager iterator i working set iworkingset iterator f added working sets faddedworkingsets iterator iterator has next hasnext manager remove working set removeworkingset iterator rolls working sets restore changed working sets restorechangedworkingsets iterator i working set iworkingset iterator f edited working sets feditedworkingsets key set keyset iterator iterator has next hasnext i working set iworkingset edited working set editedworkingset iterator i working set iworkingset original working set originalworkingset f edited working sets feditedworkingsets edited working set editedworkingset edited working set editedworkingset get name getname equals original working set originalworkingset get name getname edited working set editedworkingset set name setname original working set originalworkingset get name getname edited working set editedworkingset get elements getelements equals original working set originalworkingset get elements getelements edited working set editedworkingset set elements setelements original working set originalworkingset get elements getelements adds removed working sets working manager restore removed working sets restoreremovedworkingsets i working set manager iworkingsetmanager manager platformui get workbench getworkbench get working set manager getworkingsetmanager iterator i working set iworkingset iterator f removed working sets fremovedworkingsets iterator iterator has next hasnext manager add working set addworkingset iterator iterator fremovedmruworkingsets iterator iterator has next hasnext manager add recent working set addrecentworkingset iterator updates modify buttons enabled based current sel eciton seleciton update button availability updatebuttonavailability i structured selection istructuredselection selection i structured selection istructuredselection f table viewer ftableviewer get selection getselection has selection hasselection selection is empty isempty has single selection hassingleselection selection size f remove button fremovebutton set enabled setenabled has selection hasselection are all global working sets areallglobalworkingsets selection f edit button feditbutton set enabled setenabled has single selection hassingleselection i working set iworkingset selection get first element getfirstelement is editable iseditable f up button fupbutton f up button fupbutton set enabled setenabled can move up canmoveup f down button fdownbutton f down button fdownbutton set enabled setenabled can move down canmovedown are all global working sets areallglobalworkingsets i structured selection istructuredselection selection i working set iworkingset globals hash set hashset arrays as list aslist platformui get workbench getworkbench get working set manager getworkingsetmanager get working sets getworkingsets iterator iter selection iterator iter has next hasnext globals iter move up moveup list i working set iworkingset to move up tomoveup to move up tomoveup size set elements setelements move up moveup f all working sets fallworkingsets to move up tomoveup f table viewer ftableviewer reveal to move up tomoveup move down movedown list i working set iworkingset to move down tomovedown to move down tomovedown size set elements setelements reverse move up moveup reverse f all working sets fallworkingsets to move down tomovedown f table viewer ftableviewer reveal to move down tomovedown to move down tomovedown size set elements setelements list i working set iworkingset elements f all working sets fallworkingsets elements f table viewer ftableviewer set input setinput f all working sets fallworkingsets update button availability updatebuttonavailability list i working set iworkingset move up moveup list i working set iworkingset elements list i working set iworkingset move n elements nelements elements size list i working set iworkingset res array list arraylist n elements nelements i working set iworkingset floating n elements nelements i working set iworkingset curr elements move curr res add curr floating res add floating floating curr floating res add floating res list i working set iworkingset reverse list i working set iworkingset list i working set iworkingset reverse array list arraylist size size reverse add reverse can move up canmoveup f is sorting enabled fissortingenabled indc f table viewer ftableviewer get table gettable get selection indices getselectionindices indc length indc can move down canmovedown f is sorting enabled fissortingenabled indc f table viewer ftableviewer get table gettable get selection indices getselectionindices f all working sets fallworkingsets size indc length indc select deselect select all selectall f table viewer ftableviewer set all checked setallchecked deselect all deselectall f table viewer ftableviewer set all checked setallchecked returns list newly working sets dialog list newly working sets list i working set iworkingset get newly added working sets getnewlyaddedworkingsets f added working sets faddedworkingsets returns sorting enabled working sets code code sorting enabled code code is sorting enabled issortingenabled f is sorting enabled fissortingenabled returns working comparator working comparator working set comparator workingsetcomparator get comparator getcomparator f comparator fcomparator f comparator fcomparator working set comparator workingsetcomparator f comparator fcomparator returns working sets working sets i working set iworkingset get all working sets getallworkingsets f all working sets fallworkingsets to array toarray i working set iworkingset f all working sets fallworkingsets size update sorting updatesorting f is sorting enabled fissortingenabled f table viewer ftableviewer set comparator setcomparator viewer comparator viewercomparator override compare viewer viewer object object working set configuration dialog workingsetconfigurationdialog get comparator getcomparator compare i working set iworkingset i working set iworkingset f table viewer ftableviewer set comparator setcomparator
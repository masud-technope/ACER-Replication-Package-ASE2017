copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk core refactoring org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse ltk core refactoring history i refactoring history service irefactoringhistoryservice undo manager track performed method code add undo addundo code add change objects undo stack code perform undo performundo code code perform redo performredo code undo redo intended implemented clients clients method link refactoring core refactoringcore get undo manager getundomanager access refactoring undo manager implementation refactoring undo manager based link org eclipse core commands operations i operation history ioperationhistory code org eclipse core commands code plug clients examine ref actorings refactorings performed undo ne undone redo ne redone link i refactoring history service irefactoringhistoryservice enhanced functionality org eclipse core commands operations i operation history ioperationhistory noimplement intended implemented clients noextend intended extended clients i undo manager iundomanager adds listener undo manager listener param listener listener undo manager add listener addlistener i undo manager listener iundomanagerlistener listener removes listener undo manager listener isn registered undo manager param listener listener removed remove listener removelistener i undo manager listener iundomanagerlistener listener infrastructure perform change client calls method method link change performed changeperformed change called change executed typically code snippet pre change change undo manager undomanager about to perform change abouttoperformchange change execute change undo manager undomanager change performed changeperformed change pre param change change performed about to perform change abouttoperformchange change change infrastructure performed change param change change performed deprecated change performed changeperformed change deprecated change performed changeperformed change change infrastructure performed change param change change performed param successful code code change executed successful code code change performed changeperformed change change successful adds undo change undo manager param presented undo stack undo change human readable param change undo change add undo addundo string change change returns code code undo code code code code undo code code anything to undo anythingtoundo returns top undo top undo returns code code undo string peek undo name peekundoname undo top undo change param query proceed query decide proceed validation checking undo change perform returns status status isn fatal error code code passed undo proc eeds proceeds status fatal error param progress monitor report progress performing undo change core exception coreexception performing undo caused exception perform undo performundo i validation check result query ivalidationcheckresultquery query i progress monitor iprogressmonitor core exception coreexception returns code code redo code code code code redo code code anything to redo anythingtoredo returns top redo top redo returns code code redo string peek redo name peekredoname redo top redo change param query proceed query decide proceed validation checking redo change perform returns status code code passed undo proc eeds proceeds status fatal error param progress monitor report progress performing redo change core exception coreexception performing redo caused exception perform redo performredo i validation check result query ivalidationcheckresultquery query i progress monitor iprogressmonitor core exception coreexception flushes undo manager undo redo stacks flush shut undo manager shutdown
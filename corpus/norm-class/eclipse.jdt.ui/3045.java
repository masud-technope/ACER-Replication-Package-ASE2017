copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text java java util hash map hashmap java util linked list linkedlist java util list java util map org eclipse swt graphics image org eclipse swt graphics point org eclipse swt widgets shell org eclipse core runtime core exception coreexception org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime status org eclipse jface dialogs message dialog messagedialog org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text i document extension idocumentextension org eclipse jface text i document listener idocumentlistener org eclipse jface text i region iregion org eclipse jface text position org eclipse jface text region org eclipse jface text contentassist i context information icontextinformation org eclipse jface text contentassist i context information extension icontextinformationextension org eclipse jface text link i linked mode listener ilinkedmodelistener org eclipse jface text link linked mode model linkedmodemodel org eclipse jface text link linked mode i linkedmodeui org eclipse jface text link linked position linkedposition org eclipse jface text link linked position group linkedpositiongroup org eclipse i editor part ieditorpart org eclipse texteditor link editor linked mode i editorlinkedmodeui org eclipse jdt core completion proposal completionproposal org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core i type parameter itypeparameter org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core dom ast parser astparser org eclipse jdt core dom ast requestor astrequestor org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt internal corext dom bindings org eclipse jdt internal corext template java signature util signatureutil org eclipse jdt internal corext util strings org eclipse jdt text java java content assist invocation context javacontentassistinvocationcontext org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal java editor javaeditor editor highlighting synchronizer editorhighlightingsynchronizer org eclipse jdt internal java editor javaeditor java editor javaeditor proposal types compliance higher lazy generic type proposal lazygenerictypeproposal lazy java type completion proposal lazyjavatypecompletionproposal triggers types modify type triggers live d lived context object types created inserting type proposal core doesn correct type proposal some type sometype context information contextinformation i context information icontextinformation i context information extension icontextinformationextension string f information display string finformationdisplaystring string f context display string fcontextdisplaystring image f image fimage f position fposition context information contextinformation lazy generic type proposal lazygenerictypeproposal proposal don cache proposal content assistant hang context info f context display string fcontextdisplaystring proposal get display string getdisplaystring f information display string finformationdisplaystring compute context string computecontextstring proposal f image fimage proposal get image getimage f position fposition proposal get replacement offset getreplacementoffset proposal get replacement string getreplacementstring index of indexof org eclipse jface text contentassist i context information icontextinformation get context display string getcontextdisplaystring override string get context display string getcontextdisplaystring f context display string fcontextdisplaystring org eclipse jface text contentassist i context information icontextinformation get image getimage override image get image getimage f image fimage org eclipse jface text contentassist i context information icontextinformation get information display string getinformationdisplaystring override string get information display string getinformationdisplaystring f information display string finformationdisplaystring string compute context string computecontextstring lazy generic type proposal lazygenerictypeproposal proposal type argument proposal typeargumentproposal proposals proposal compute type argument proposals computetypeargumentproposals proposals length string buffer stringbuffer buf string buffer stringbuffer proposals length buf append proposals get display name getdisplayname proposals length nls buf append strings mark java element label r markjavaelementlabelltr buf to string tostring java model exception javamodelexception org eclipse jface text contentassist i context information extension icontextinformationextension get context information position getcontextinformationposition override get context information position getcontextinformationposition f position fposition java lang object equals java lang object override equals object obj obj context information contextinformation context information contextinformation context information contextinformation obj get context information position getcontextinformationposition get context information position getcontextinformationposition get information display string getinformationdisplaystring equals get information display string getinformationdisplaystring java lang object hash code hashcode override hash code hashcode f context display string fcontextdisplaystring f context display string fcontextdisplaystring hash code hashcode f position fposition f information display string finformationdisplaystring hash code hashcode type argument proposal typeargumentproposal f is ambiguous fisambiguous string f proposal fproposal string f type display name ftypedisplayname type argument proposal typeargumentproposal string proposal ambiguous string type display name typedisplayname f is ambiguous fisambiguous ambiguous f proposal fproposal proposal f type display name ftypedisplayname type display name typedisplayname string get display name getdisplayname f type display name ftypedisplayname is ambiguous isambiguous f is ambiguous fisambiguous override string to string tostring f proposal fproposal initialized apply i region iregion f selected region fselectedregion type argument proposal typeargumentproposal f type argument proposals ftypeargumentproposals f can use diamond fcanusediamond lazy generic type proposal lazygenerictypeproposal completion proposal completionproposal type proposal typeproposal java content assist invocation context javacontentassistinvocationcontext context type proposal typeproposal context i completion proposal extension icompletionproposalextension apply i document idocument override apply i document idocument document trigger offset only append arguments onlyappendarguments only append arguments onlyappendarguments f proposal fproposal get completion getcompletion length offset document get char getchar offset bad location exception badlocationexception only append arguments onlyappendarguments only append arguments onlyappendarguments should append arguments shouldappendarguments document offset trigger type argument proposal typeargumentproposal type argument proposals typeargumentproposals compute type argument proposals computetypeargumentproposals type argument proposals typeargumentproposals length offsets type argument proposals typeargumentproposals length lengths type argument proposals typeargumentproposals length string buffer stringbuffer buffer can use diamond canusediamond buffer string buffer stringbuffer get replacement string getreplacementstring nls buffer append buffer create parameter list createparameterlist type argument proposals typeargumentproposals offsets lengths only append arguments onlyappendarguments type replacement string insert closing parent hesis insertclosingparenthesis trigger auto close brackets autoclosebrackets insert closing parent hesis insertclosingparenthesis update replacement with parentheses updatereplacementwithparentheses buffer set replacement string setreplacementstring buffer to string tostring add remove update replacement offset apply document offset get text viewer gettextviewer has ambiguous proposals hasambiguousproposals type argument proposals typeargumentproposals adapt offsets adaptoffsets offsets buffer install linked mode installlinkedmode document offsets lengths type argument proposals typeargumentproposals insert closing parent hesis insertclosingparenthesis only append arguments onlyappendarguments insert closing parent hesis insertclosingparenthesis set up linked mode setuplinkedmode document f selected region fselectedregion region get replacement offset getreplacementoffset get replacement string getreplacementstring length java model exception javamodelexception java plugin javaplugin log implementation reasons parameterized type type arguments proposal type inherit expected type apply document trigger offset org eclipse jdt internal text java lazy java type completion proposal lazyjavatypecompletionproposal compute trigger char acters computetriggercharacters override compute trigger char acters computetriggercharacters type triggers adapt parameter offsets modification replacement string code apply code app lying applying proposal add inserting fully qualified assumes modifications happen replacement string touch type arguments list param offsets offsets modify param buffer original replacement string adapt offsets adaptoffsets offsets string buffer stringbuffer buffer string replacement string replacementstring get replacement string getreplacementstring delta buffer length replacement string replacementstring length offsets length offsets delta computes type argument proposals type proposals expected type binding type proposed type wildcard type arguments proposed type mapped type arguments expected type binding bound type arguments mapped arguments expected type expected type upper bound type argument proposed argument proposals code is ambiguos isambiguos code flag code code argument mapped wildcard type argument expected type proposal ambiguous type argument proposals proposed type java model exception javamodelexception accessing java model fails type argument proposal typeargumentproposal compute type argument proposals computetypeargumentproposals java model exception javamodelexception f type argument proposals ftypeargumentproposals i type itype type i type itype get java element getjavaelement type type argument proposal typeargumentproposal i type parameter itypeparameter parameters type get type parameters gettypeparameters parameters length type argument proposal typeargumentproposal type argument proposal typeargumentproposal arguments type argument proposal typeargumentproposal parameters length i type binding itypebinding expected type binding expectedtypebinding get expected type getexpectedtype expected type binding expectedtypebinding expected type binding expectedtypebinding is parameterized type isparameterizedtype type arguments propose compatible type parameters declared type i type itype expected type expectedtype i type itype expected type binding expectedtypebinding get java element getjavaelement i type itype path compute inheritance path computeinheritancepath type expected type expectedtype path instantiate add type arguments type argument proposal typeargumentproposal indices parameters length param idx paramidx param idx paramidx parameters length param idx paramidx indices param idx paramidx map type parameter index maptypeparameterindex path path length param idx paramidx type arguments mapped expected type parameters arguments expected type i type binding itypebinding type arguments typearguments expected type binding expectedtypebinding get type arguments gettypearguments param idx paramidx param idx paramidx parameters length param idx paramidx indices param idx paramidx type argument mapped i type binding itypebinding binding type arguments typearguments indices param idx paramidx arguments param idx paramidx compute type proposal computetypeproposal binding parameters param idx paramidx bound type parameter arguments length arguments arguments compute type proposal computetypeproposal parameters f type argument proposals ftypeargumentproposals arguments f type argument proposals ftypeargumentproposals returns type argument proposal type parameter proposal type bound type parameters single bound type parameter unbounded bound type parameters type argument proposals type parameters ambiguous param parameter type parameter inserted type type argument proposal code parameter code java model exception javamodelexception element exist exception occurs accessing resource type argument proposal typeargumentproposal compute type proposal computetypeproposal i type parameter itypeparameter parameter java model exception javamodelexception string bounds parameter get bounds getbounds string element name elementname parameter get element name getelementname string display name displayname compute type parameter display name computetypeparameterdisplayname parameter bounds nls bounds length java lang object equals bounds type argument proposal typeargumentproposal signature get simple name getsimplename bounds display name displayname type argument proposal typeargumentproposal element name elementname display name displayname string compute type parameter display name computetypeparameterdisplayname i type parameter itypeparameter parameter string bounds nls bounds length bounds length java lang object equals bounds parameter get element name getelementname string buffer stringbuffer buf string buffer stringbuffer parameter get element name getelementname nls buf append bounds length buf append signature get simple name getsimplename bounds bounds length nls buf append nls buf to string tostring returns type argument proposal type binding proposal simple type normal types type variables unambigous proposal wildcard types ambigous proposals upper bound wildcards upper bound link plain linkplain compute type proposal computetypeproposal i type parameter itypeparameter parameter proposal unbounded wildcards wildcards bound param binding type argument binding expected type param parameter type parameter inserted type type argument proposal code binding code java model exception javamodelexception element exist exception occurs accessing resource compute type proposal computetypeproposal i type parameter itypeparameter type argument proposal typeargumentproposal compute type proposal computetypeproposal i type binding itypebinding binding i type parameter itypeparameter parameter java model exception javamodelexception string bindings get type qualified name gettypequalifiedname binding binding is wildcard type iswildcardtype binding is upper bound isupperbound replace wildcard type parameter bound bound string context name contextname nls replace first replacefirst nls nls parameter get element name getelementname upper bound upper bound bound type argument proposal typeargumentproposal binding get bound getbound get name getname context name contextname res trictive restrictive list list serializable list serializablelist serializable compute type proposal computetypeproposal parameter wildcard type type variable unambigously insert type argument proposal typeargumentproposal computes inheritance path code super type supertype code code sub type subtype code code code code sub type subtype code inherit code super type supertype code note inheritance path method simply returns returned array code super type supertype code code sub type subtype code code sub type subtype code equals code super type supertype code array length returned type param sub type subtype type param super type supertype type inheritance path code super type supertype code code sub type subtype code code code code sub type subtype code inherit code super type supertype code java model exception javamodelexception element exist exception occurs accessing resource i type itype compute inheritance path computeinheritancepath i type itype sub type subtype i type itype super type supertype java model exception javamodelexception super type supertype optimization avoid building type hierarchy identity super type supertype equals sub type subtype i type itype sub type subtype i type hierarchy itypehierarchy hierarchy sub type subtype new supertype hierarchy newsupertypehierarchy get progress monitor getprogressmonitor hierarchy super type supertype path list i type itype path linked list linkedlist path add super type supertype type hierarchy chain super type supertype sub type subtype super type supertype hierarchy get subtypes getsubtypes super type supertype array index out of bounds exception arrayindexoutofboundsexception bug string message illegal super type supertype hierarchy sub type subtype get fully qualified name getfullyqualifiedname subtype super type supertype get fully qualified name getfullyqualifiedname hierarchy java plugin javaplugin log core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i status istatus message path add super type supertype equality handled spare check super type supertype equals sub type subtype path to array toarray i type itype path size null progress monitor nullprogressmonitor get progress monitor getprogressmonitor null progress monitor nullprogressmonitor type parameter code param index paramindex code type code path path index pathindex code method comp utes computes type parameter type code path code type parameter map type parameter type code code returned param path type inheritance path empty array consecutive types param path index pathindex code path code type start param param index paramindex type parameter map code path path index pathindex code type parameter code array index out of bounds exception arrayindexoutofboundsexception code thrown type parameter code path code type parameter code param index paramindex code code path path index pathindex code type parameter java model exception javamodelexception element exist exception occurs accessing resource array index out of bounds exception arrayindexoutofboundsexception code path path index pathindex code code param index paramindex code parameters map type parameter index maptypeparameterindex i type itype path path index pathindex param index paramindex java model exception javamodelexception array index out of bounds exception arrayindexoutofboundsexception path index pathindex condition reached top hierarchy param index paramindex i type itype sub type subtype path path index pathindex i type itype super type supertype path path index pathindex string super signature supersignature find matching super type signature findmatchingsupertypesignature sub type subtype super type supertype i type parameter itypeparameter param sub type subtype get type parameters gettypeparameters param index paramindex find matching type argument index findmatchingtypeargumentindex super signature supersignature param get element name getelementname mapped map type parameter index maptypeparameterindex path path index pathindex finds returns type signature code code code code clause code sub type subtype code corresponds code super type supertype code param sub type subtype direct type code super type supertype code param super type supertype direct type code sub type subtype code type signature code sub type subtype code ref erring referring code super type supertype code java model exception javamodelexception extra cting extracting type signatures fails code sub type subtype code type signature code super type supertype code string find matching super type signature findmatchingsupertypesignature i type itype sub type subtype i type itype super type supertype java model exception javamodelexception string signatures get super type signatures getsupertypesignatures sub type subtype super type supertype signatures length string signature signatures string qualified signature util signatureutil qualify signature qualifysignature signature sub type subtype string subfqn signature util signatureutil str ip signature to n stripsignaturetofqn qualified string superfqn super type supertype get fully qualified name getfullyqualifiedname subfqn equals superfqn signature todo handle local types nls java model exception javamodelexception core exception coreexception status i status istatus error java plugin javaplugin get plugin id getpluginid i status istatus illegal hierarchy finds returns type argument named code argument code type signature code signature code type argument code signature code type parameters reference parameterized type raw type returned param signature type signature type code code code code clause param argument type argument find type argument find matching type argument index findmatchingtypeargumentindex string signature string argument string type arguments typearguments signature get type arguments gettypearguments signature type arguments typearguments length signature get signature simple name getsignaturesimplename type arguments typearguments equals argument returns signatures code sub type subtype code code super type supertype code returns type signature param sub type subtype type signature param super type supertype type signature type signatures code sub type subtype code java model exception javamodelexception java model operation fails string get super type signatures getsupertypesignatures i type itype sub type subtype i type itype super type supertype java model exception javamodelexception super type supertype is interface isinterface sub type subtype get super interface type signatures getsuperinterfacetypesignatures string sub type subtype get superclass type signature getsuperclasstypesignature returns type binding expected type contained code completion context binding expected type i type binding itypebinding get expected type getexpectedtype ch keys chkeys f invocation context finvocationcontext get core context getcorecontext get expected types keys getexpectedtypeskeys ch keys chkeys ch keys chkeys length string string ch keys chkeys length length string value of valueof ch keys chkeys ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set project setproject f compilation unit fcompilationunit get java project getjavaproject parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery map string i binding ibinding bindings hash map hashmap ast requestor astrequestor requestor ast requestor astrequestor override accept binding acceptbinding string binding key bindingkey i binding ibinding binding bindings binding key bindingkey binding parser createasts i compilation unit icompilationunit requestor bindings size i type binding itypebinding bindings returns code code type arguments appended app lying applying proposal code code document type argument list insertion point param document document param offset insertion offset param trigger trigger character code code arguments appended should append arguments shouldappendarguments i document idocument document offset trigger argument list special triggers period qualify type trigger trigger trigger argument list completion empty argument list completion f proposal fproposal get completion getcompletion completion length argument list signature i region iregion region document get line information of offset getlineinformationofoffset offset string document region get offset getoffset region get length getlength offset region get offset getoffset length character is unicode identifier part isunicodeidentifierpart char at charat length char at charat bad location exception badlocationexception string buffer stringbuffer create parameter list createparameterlist type argument proposal typeargumentproposal type arguments typearguments offsets lengths only append arguments onlyappendarguments string buffer stringbuffer buffer string buffer stringbuffer buffer append get replacement string getreplacementstring formatter prefs formatterprefs prefs get formatter prefs getformatterprefs greater only append arguments onlyappendarguments prefs before opening bracket beforeopeningbracket buffer append space buffer append prefs after opening bracket afteropeningbracket buffer append space string buffer stringbuffer separator string buffer stringbuffer prefs before type argument comma beforetypeargumentcomma separator append space separator append comma prefs after type argument comma aftertypeargumentcomma separator append space type arguments typearguments length buffer append separator offsets buffer length buffer append type arguments typearguments lengths buffer length offsets prefs before closing bracket beforeclosingbracket buffer append space only append arguments onlyappendarguments buffer append greater buffer install linked mode installlinkedmode i document idocument document offsets lengths type argument proposal typeargumentproposal type argument proposals typeargumentproposals with parentheses withparentheses only append arguments onlyappendarguments replacement offset replacementoffset get replacement offset getreplacementoffset string replacement string replacementstring get replacement string getreplacementstring linked mode model linkedmodemodel model linked mode model linkedmodemodel offsets length type argument proposals typeargumentproposals is ambiguous isambiguous linked position group linkedpositiongroup group linked position group linkedpositiongroup group add position addposition linked position linkedposition document replacement offset replacementoffset offsets lengths model add group addgroup group with parentheses withparentheses linked position group linkedpositiongroup group linked position group linkedpositiongroup group add position addposition linked position linkedposition document replacement offset replacementoffset get cursor position getcursorposition model add group addgroup group model force install forceinstall java editor javaeditor editor get java editor getjavaeditor editor model add linking listener addlinkinglistener editor highlighting synchronizer editorhighlightingsynchronizer editor bug only append arguments onlyappendarguments document i document extension idocumentextension formatter prefs formatterprefs prefs get formatter prefs getformatterprefs position first bracket position firstbracketposition position second bracket position secondbracketposition first bracket offset firstbracketoffset replacement offset replacementoffset offsets prefs after opening bracket afteropeningbracket first bracket offset firstbracketoffset first bracket position firstbracketposition position first bracket offset firstbracketoffset document add position addposition first bracket position firstbracketposition second bracket offset secondbracketoffset replacement offset replacementoffset offsets offsets length lengths offsets length prefs before closing bracket beforeclosingbracket second bracket offset secondbracketoffset second bracket position secondbracketposition position second bracket offset secondbracketoffset document add position addposition second bracket position secondbracketposition model add linking listener addlinkinglistener i linked mode listener ilinkedmodelistener override left linked mode model linkedmodemodel environment flags get text viewer gettextviewer get selected range getselectedrange flags i linked mode listener ilinkedmodelistener external modification i document extension idocumentextension document register post notification replace registerpostnotificationreplace i document extension idocumentextension i replace ireplace override perform i document idocument i document listener idocumentlistener owner first bracket position firstbracketposition length first bracket position firstbracketposition is deleted isdeleted second bracket position secondbracketposition is deleted isdeleted replace first bracket position firstbracketposition offset nls second bracket position secondbracketposition offset nls first bracket position firstbracketposition offset bad location exception badlocationexception java plugin javaplugin log document remove position removeposition first bracket position firstbracketposition document remove position removeposition second bracket position secondbracketposition override suspend linked mode model linkedmodemodel environment override resume linked mode model linkedmodemodel environment flags linked mode i linkedmodeui editor linked mode i editorlinkedmodeui model get text viewer gettextviewer set exit policy setexitpolicy exit policy exitpolicy with parentheses withparentheses document set exit position setexitposition get text viewer gettextviewer replacement offset replacementoffset replacement string replacementstring length integer max set do context info setdocontextinfo enter f selected region fselectedregion get selected region getselectedregion bad location exception badlocationexception java plugin javaplugin log open error dialog openerrordialog has ambiguous proposals hasambiguousproposals type argument proposal typeargumentproposal type argument proposals typeargumentproposals has ambiguous proposals hasambiguousproposals type argument proposals typeargumentproposals length type argument proposals typeargumentproposals is ambiguous isambiguous has ambiguous proposals hasambiguousproposals has ambiguous proposals hasambiguousproposals returns active java editor code code determined active java editor code code java editor javaeditor get java editor getjavaeditor i editor part ieditorpart java plugin javaplugin get active page getactivepage get active editor getactiveeditor java editor javaeditor java editor javaeditor i completion proposal icompletionproposal get selection getselection i document idocument override point get selection getselection i document idocument document f selected region fselectedregion get selection getselection document point f selected region fselectedregion get offset getoffset f selected region fselectedregion get length getlength open error dialog openerrordialog bad location exception badlocationexception shell shell get text viewer gettextviewer get text widget gettextwidget get shell getshell string message get message getmessage message dialog messagedialog open error openerror shell java text messages javatextmessages filled argument names method proposal filledargumentnamesmethodproposal error msg message to string tostring message org eclipse jdt internal text java lazy java completion proposal lazyjavacompletionproposal compute context information computecontextinformation override i context information icontextinformation compute context information computecontextinformation has parameters hasparameters type argument proposal typeargumentproposal proposals compute type argument proposals computetypeargumentproposals has ambiguous proposals hasambiguousproposals proposals context information contextinformation java model exception javamodelexception compute context information computecontextinformation override compute cursor position computecursorposition f selected region fselectedregion f selected region fselectedregion get offset getoffset get replacement offset getreplacementoffset compute cursor position computecursorposition has parameters hasparameters i type itype type i type itype get java element getjavaelement type type get type parameters gettypeparameters length java model exception javamodelexception sets proposal diamond param can use diamond canusediamond code code diamond inserted completion proposal completionproposal can use diamond canusediamond org eclipse jdt core completion context completioncontext can use diamond canusediamond can use diamond canusediamond f can use diamond fcanusediamond can use diamond canusediamond tells proposal diamond code code diamond completion proposal completionproposal can use diamond canusediamond org eclipse jdt core completion context completioncontext can use diamond canusediamond f can use diamond fcanusediamond
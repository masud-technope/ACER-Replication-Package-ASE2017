copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring ccp java file java util array list arraylist java util arrays java util enumeration java util iterator java util list java util tree map treemap org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse jdt test plugin testplugin java test plugin javatestplugin org eclipse core commands operations i operation history ioperationhistory org eclipse core commands operations i undo context iundocontext org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse platformui org eclipse operations i workbench operation support iworkbenchoperationsupport org eclipse ltk core refactoring i undo manager iundomanager org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants delete refactoring deleterefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring reorg i reorg queries ireorgqueries org eclipse jdt internal corext refactoring reorg java delete processor javadeleteprocessor org eclipse jdt tests refactoring participant testing participanttesting org eclipse jdt tests refactoring refactoring test refactoringtest org eclipse jdt tests refactoring refactoring test setup refactoringtestsetup junit framework test junit framework test case testcase junit framework test suite testsuite delete test deletetest refactoring test refactoringtest bug delete test deletetest clazz delete test deletetest string refactoring path delete delete test deletetest string test suite test suite testsuite class suite classsuite test suite testsuite clazz tests delete sorted tree map treemap string test case testcase last tests lasttests tree map treemap test suite testsuite suite test suite testsuite class suite classsuite get name getname enumeration test class suite classsuite tests has more elements hasmoreelements test case testcase test test case testcase next element nextelement string test get name getname starts with startswith test delete package sub deletepackagesub last tests lasttests test suite add test addtest test iterator test case testcase iter last tests lasttests values iterator iter has next hasnext suite add test addtest iter refactoring test setup refactoringtestsetup suite test set u p test setuptest test some test sometest refactoring test setup refactoringtestsetup some test sometest override set u p setup exception set u p setup f is pre delta test fispredeltatest override string get refactoring path getrefactoringpath refactoring path verify disabled verifydisabled object elements core exception coreexception java delete processor javadeleteprocessor processor java delete processor javadeleteprocessor elements delete refactoring deleterefactoring delete refactoring deleterefactoring processor assert true asserttrue delete disabled is applicable isapplicable verify enabled verifyenabled object elements core exception coreexception java delete processor javadeleteprocessor processor java delete processor javadeleteprocessor elements delete refactoring deleterefactoring delete refactoring deleterefactoring processor assert true asserttrue delete enabled is applicable isapplicable i package fragment root ipackagefragmentroot get archive root getarchiveroot java model exception javamodelexception exception i package fragment root ipackagefragmentroot roots refactoring test setup refactoringtestsetup get project getproject get package fragment roots getpackagefragmentroots i package fragment root ipackagefragmentroot archive roots length i package fragment root ipackagefragmentroot root roots root is archive isarchive root is external isexternal archive root archive i compilation unit icompilationunit f cu a fcua string load file setup loadfilesetup exception f cu a fcua create ufrom test file createcufromtestfile get package p getpackagep assert true asserttrue java exist f cu a fcua exists check delete checkdelete i java element ijavaelement elems delete cu deletecu java model exception javamodelexception exception delete refactoring deleterefactoring refactoring create refactoring createrefactoring elems assert not null assertnotnull refactoring refactoring status refactoringstatus status perform refactoring performrefactoring refactoring assert equals assertequals precondition supposed pass status i compilation unit icompilationunit new cu a newcua get package p getpackagep get compilation unit getcompilationunit java assert true asserttrue java exist new cu a newcua exists delete cu deletecu delete cu deletecu assert equal lines assertequallines incorrect content java get file contents getfilecontents get output test file name getoutputtestfilename new cu a newcua get source getsource delete refactoring deleterefactoring create refactoring createrefactoring object elements java delete processor javadeleteprocessor processor java delete processor javadeleteprocessor elements delete refactoring deleterefactoring result delete refactoring deleterefactoring processor processor set queries setqueries create reorg queries createreorgqueries result helpers i package fragment ipackagefragment create package path createpackagepath java model exception javamodelexception i package fragment ipackagefragment frags i package fragment ipackagefragment frags get root getroot create package fragment createpackagefragment get package name getpackagename null progress monitor nullprogressmonitor frags string get package name getpackagename string buffer stringbuffer buf string buffer stringbuffer buf append buf append buf append buf to string tostring execute delete package executedeletepackage object marked for delete markedfordelete i package fragment ipackagefragment packs to be deleted packstobedeleted object others to be deleted otherstobedeleted core exception coreexception exception execute delete package executedeletepackage marked for delete markedfordelete packs to be deleted packstobedeleted others to be deleted otherstobedeleted execute delete param marked for delete markedfordelete elements selected deletion param packs to be deleted packstobedeleted elements deleted refactoring param others to be deleted otherstobedeleted halfs merged param delete subs deletesubs sub packages subpackages deleted core exception coreexception xxx exception xxx execute delete package executedeletepackage object marked for delete markedfordelete i package fragment ipackagefragment packs to be deleted packstobedeleted object others to be deleted otherstobedeleted delete subs deletesubs core exception coreexception exception list object all list alllist array list arraylist all list alllist add all addall arrays as list aslist packs to be deleted packstobedeleted all list alllist add all addall arrays as list aslist others to be deleted otherstobedeleted object all list alllist to array toarray participant testing participanttesting reset string delete handles deletehandles participant testing participanttesting create handles createhandles verify enabled verifyenabled marked for delete markedfordelete must perform dummy search mustperformdummysearch delete refactoring deleterefactoring create refactoring createrefactoring marked for delete markedfordelete java delete processor javadeleteprocessor get processor getprocessor set delete sub packages setdeletesubpackages delete subs deletesubs refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assure participants not ified notified participant testing participanttesting test delete testdelete delete handles deletehandles do test undo redo dotestundoredo object don t exist dontexist object exist core exception coreexception assert exist assertexist exist assert exist assertexist don t exist dontexist i undo manager iundomanager undo manager undomanager refactoring core refactoringcore get undo manager getundomanager undo manager undomanager perform undo performundo null progress monitor nullprogressmonitor assert exist assertexist exist assert exist assertexist don t exist dontexist undo manager undomanager perform redo performredo null progress monitor nullprogressmonitor assert exist assertexist exist assert exist assertexist don t exist dontexist assert exist assertexist object resource or elements resourceorelements exists resource or elements resourceorelements resource or elements resourceorelements length assert exists assertexists resource or elements resourceorelements exists assert exists assertexists object resource or element resourceorelement exists resource or element resourceorelement i resource iresource i resource iresource resource i resource iresource resource or element resourceorelement exists assert true asserttrue expected exist resource get full path getfullpath resource exists assert true asserttrue expected exist resource get full path getfullpath resource exists resource or element resourceorelement i java element ijavaelement i java element ijavaelement java element javaelement i java element ijavaelement resource or element resourceorelement exists assert true asserttrue expected exist java element javaelement get handle identifier gethandleidentifier java element javaelement exists assert true asserttrue expected exist java element javaelement get handle identifier gethandleidentifier java element javaelement exists i resource iresource resource java element javaelement get resource getresource assert true asserttrue expected exist resource get full path getfullpath resource exists tests i reorg queries ireorgqueries create reorg queries createreorgqueries mock reorg queries mockreorgqueries test disabled testdisabled empty selection emptyselection exception verify disabled verifydisabled object test disabled testdisabled project and non project projectandnonproject exception i java element ijavaelement java elements javaelements refactoring test setup refactoringtestsetup get project getproject get package p getpackagep verify disabled verifydisabled java elements javaelements test disabled testdisabled non existing resource nonexistingresource exception i folder ifolder folder i folder ifolder get package p getpackagep get resource getresource i file ifile file folder get file getfile txt i resource iresource resources file verify disabled verifydisabled resources test disabled testdisabled non existing java element nonexistingjavaelement exception i java element ijavaelement not existing cu notexistingcu get package p getpackagep get compilation unit getcompilationunit java i java element ijavaelement java elements javaelements not existing cu notexistingcu verify disabled verifydisabled java elements javaelements test disabled testdisabled null resource nullresource exception object elements refactoring test setup refactoringtestsetup get project getproject verify disabled verifydisabled elements test disabled testdisabled null java element nulljavaelement exception object elements get package p getpackagep verify disabled verifydisabled elements test disabled testdisabled archive element archiveelement exception i package fragment root ipackagefragmentroot archive get archive root getarchiveroot assert not null assertnotnull archive object elements archive get children getchildren verify disabled verifydisabled elements test disabled testdisabled external archive externalarchive exception i package fragment root ipackagefragmentroot archive get archive root getarchiveroot assert not null assertnotnull archive object elements archive verify disabled verifydisabled elements test disabled testdisabled archive from another project archivefromanotherproject exception todo implement test disabled testdisabled binary member binarymember exception todo implement test disabled testdisabled java project javaproject exception object elements refactoring test setup refactoringtestsetup get project getproject verify disabled verifydisabled elements test enabled testenabled default package defaultpackage exception i package fragment ipackagefragment default package defaultpackage get root getroot get package fragment getpackagefragment default package defaultpackage create compilation unit createcompilationunit java null progress monitor nullprogressmonitor object elements default package defaultpackage verify enabled verifyenabled elements test disabled testdisabled simple project simpleproject exception object elements refactoring test setup refactoringtestsetup get project getproject get project getproject verify disabled verifydisabled elements test enabled testenabled exception i compilation unit icompilationunit get package p getpackagep create compilation unit createcompilationunit java null progress monitor nullprogressmonitor object elements verify enabled verifyenabled elements test enabled testenabled source references sourcereferences exception i compilation unit icompilationunit get package p getpackagep create compilation unit createcompilationunit java null progress monitor nullprogressmonitor i java element ijavaelement import d importd create import createimport java lang null progress monitor nullprogressmonitor i java element ijavaelement package d packaged create package declaration createpackagedeclaration null progress monitor nullprogressmonitor i java element ijavaelement type create type createtype null progress monitor nullprogressmonitor object elements package d packaged import d importd type verify enabled verifyenabled elements test enabled testenabled source references sourcereferences exception i compilation unit icompilationunit get package p getpackagep create compilation unit createcompilationunit java null progress monitor nullprogressmonitor i type itype type create type createtype null progress monitor nullprogressmonitor i java element ijavaelement field type create field createfield null progress monitor nullprogressmonitor i java element ijavaelement method type create method createmethod null progress monitor nullprogressmonitor i java element ijavaelement initializer type create initializer createinitializer null progress monitor nullprogressmonitor i java element ijavaelement inner type innertype type create type createtype null progress monitor nullprogressmonitor object elements field method initializer inner type innertype verify enabled verifyenabled elements test enabled testenabled file exception i folder ifolder folder i folder ifolder get package p getpackagep get resource getresource i file ifile file folder get file getfile txt file create get stream getstream object elements file verify enabled verifyenabled elements test enabled testenabled folder exception i folder ifolder folder i folder ifolder get package p getpackagep get resource getresource object elements folder verify enabled verifyenabled elements test enabled testenabled read only cu readonlycu exception todo implement test enabled testenabled read only file readonlyfile exception todo implement test enabled testenabled exception object elements get package p getpackagep verify enabled verifyenabled elements test enabled testenabled source folder sourcefolder exception object elements get root getroot verify enabled verifyenabled elements test enabled testenabled linked file linkedfile exception todo implement test enabled testenabled linked folder linkedfolder exception todo implement test enabled testenabled linked package linkedpackage exception todo implement test enabled testenabled linked source folder linkedsourcefolder exception todo implement test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles f cu a fcua elem f cu a fcua get resource getresource check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception load file setup loadfilesetup participant testing participanttesting reset i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception load file setup loadfilesetup participant testing participanttesting reset i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem elem string handles participant testing participanttesting create handles createhandles elem elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem elem string handles participant testing participanttesting create handles createhandles elem elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception load file setup loadfilesetup participant testing participanttesting reset i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception exp oses exposes bug i package declaration ipackagedeclaration i source manipulation isourcemanipulation participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get package declaration getpackagedeclaration i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get method getmethod string i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get initializer getinitializer i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get initializer getinitializer i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get import getimport java util list i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get type gettype i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get type gettype i java element ijavaelement elem f cu a fcua get type gettype i java element ijavaelement elems i java element ijavaelement elem elem string handles participant testing participanttesting create handles createhandles f cu a fcua f cu a fcua get types gettypes f cu a fcua get resource getresource check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get type gettype i java element ijavaelement elem f cu a fcua get type gettype i java element ijavaelement elem f cu a fcua get package declaration getpackagedeclaration i java element ijavaelement elems i java element ijavaelement elem elem elem string handles participant testing participanttesting create handles createhandles f cu a fcua f cu a fcua get types gettypes f cu a fcua get resource getresource check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get field getfield field i java element ijavaelement get ter getter f cu a fcua get type gettype get method getmethod get field getfield string i java element ijavaelement set ter setter f cu a fcua get type gettype get method getmethod set field setfield string i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem get ter getter set ter setter check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception bug print test disabled message printtestdisabledmessage test delete with in cu testdeletewithincu disabled bug participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype test i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get method getmethod string i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get method getmethod string i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get import container getimportcontainer i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get field getfield f empty fempty i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype get field getfield i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i java element ijavaelement elem f cu a fcua get type gettype i java element ijavaelement elems i java element ijavaelement elem string handles participant testing participanttesting create handles createhandles elem check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup i type itype type a typea f cu a fcua get type gettype i java element ijavaelement elems i java element ijavaelement type a typea get field getfield nesting depth nestingdepth type a typea get field getfield open on run openonrun type a typea get method getmethod get nesting depth getnestingdepth string type a typea get method getmethod get open on run getopenonrun string string handles participant testing participanttesting create handles createhandles elems check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup index of indexof f cu a fcua get source getsource index of indexof thread i type itype type i type itype f cu a fcua get element a t getelementat index of indexof i java element ijavaelement elems i java element ijavaelement type string handles participant testing participanttesting create handles createhandles elems check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup index of indexof f cu a fcua get source getsource index of indexof thread i type itype type i type itype f cu a fcua get element a t getelementat index of indexof i java element ijavaelement elems i java element ijavaelement type string handles participant testing participanttesting create handles createhandles elems check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete with in cu testdeletewithincu exception participant testing participanttesting reset load file setup loadfilesetup index of indexof f cu a fcua get source getsource index of indexof i type itype type i type itype f cu a fcua get element a t getelementat index of indexof i java element ijavaelement elems i java element ijavaelement type string handles participant testing participanttesting create handles createhandles elems check delete checkdelete elems participant testing participanttesting test delete testdelete handles test delete file testdeletefile exception participant testing participanttesting reset i folder ifolder folder i folder ifolder get package p getpackagep get resource getresource string content i file ifile file folder get file getfile txt file create get stream getstream content assert true asserttrue file exist file exists object elem file verify enabled verifyenabled elem must perform dummy search mustperformdummysearch string handles participant testing participanttesting create handles createhandles file delete refactoring deleterefactoring create refactoring createrefactoring elem refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue file deleted file exists participant testing participanttesting test delete testdelete handles i undo manager iundomanager undo manager undomanager refactoring core refactoringcore get undo manager getundomanager assert true asserttrue undo manager undomanager anything to redo anythingtoredo assert true asserttrue undo manager undomanager anything to undo anythingtoundo undo manager undomanager perform undo performundo null progress monitor nullprogressmonitor assert true asserttrue file exists assert equals assertequals content get contents getcontents file assert true asserttrue undo manager undomanager anything to redo anythingtoredo undo manager undomanager perform redo performredo null progress monitor nullprogressmonitor assert true asserttrue file exists test delete folder testdeletefolder exception participant testing participanttesting reset i folder ifolder folder i folder ifolder get package p getpackagep get resource getresource i folder ifolder sub folder subfolder folder get folder getfolder sub folder subfolder sub folder subfolder create assert true asserttrue folder exist sub folder subfolder exists object elements sub folder subfolder verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string handles participant testing participanttesting create handles createhandles sub folder subfolder delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue folder deleted sub folder subfolder exists participant testing participanttesting test delete testdelete handles test delete nested folders testdeletenestedfolders exception participant testing participanttesting reset i folder ifolder folder i folder ifolder get package p getpackagep get resource getresource i folder ifolder sub folder subfolder folder get folder getfolder sub folder subfolder sub folder subfolder create i folder ifolder sub sub folder subsubfolder sub folder subfolder get folder getfolder sub sub folder subsubfolder sub sub folder subsubfolder create assert true asserttrue folder exist sub folder subfolder exists assert true asserttrue folder exist sub sub folder subsubfolder exists object elements sub folder subfolder sub sub folder subsubfolder verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string handles participant testing participanttesting create handles createhandles sub folder subfolder delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue folder deleted sub folder subfolder exists assert true asserttrue folder deleted sub sub folder subsubfolder exists participant testing participanttesting test delete testdelete handles i undo manager iundomanager undo manager undomanager refactoring core refactoringcore get undo manager getundomanager assert true asserttrue undo manager undomanager anything to redo anythingtoredo assert true asserttrue undo manager undomanager anything to undo anythingtoundo undo manager undomanager perform undo performundo null progress monitor nullprogressmonitor assert true asserttrue sub folder subfolder exists assert true asserttrue sub sub folder subsubfolder exists assert true asserttrue undo manager undomanager anything to redo anythingtoredo undo manager undomanager perform redo performredo null progress monitor nullprogressmonitor assert true asserttrue sub folder subfolder exists assert true asserttrue sub sub folder subsubfolder exists test delete cu testdeletecu exception participant testing participanttesting reset string contents i compilation unit icompilationunit newcu get package p getpackagep create compilation unit createcompilationunit java contents null progress monitor nullprogressmonitor assert true asserttrue created newcu exists object elements newcu string handles participant testing participanttesting create handles createhandles newcu newcu get types gettypes newcu get resource getresource verify enabled verifyenabled elements must perform dummy search mustperformdummysearch delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue deleted newcu exists participant testing participanttesting test delete testdelete handles i workbench operation support iworkbenchoperationsupport operation support operationsupport platformui get workbench getworkbench get operation support getoperationsupport i operation history ioperationhistory operation history operationhistory operation support operationsupport get operation history getoperationhistory i undo context iundocontext undo context undocontext operation support operationsupport get undo context getundocontext assert true asserttrue operation history operationhistory can redo canredo undo context undocontext assert true asserttrue operation history operationhistory can undo canundo undo context undocontext operation history operationhistory undo undo context undocontext assert true asserttrue newcu exists assert equals assertequals contents newcu get source getsource assert true asserttrue operation history operationhistory can redo canredo undo context undocontext operation history operationhistory redo undo context undocontext assert true asserttrue newcu exists test delete source folder testdeletesourcefolder exception participant testing participanttesting reset i package fragment root ipackagefragmentroot fred root fredroot java project helper javaprojecthelper add source container addsourcecontainer refactoring test setup refactoringtestsetup get project getproject fred assert true asserttrue created fred root fredroot exists object elements fred root fredroot verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string handles participant testing participanttesting create handles createhandles fred root fredroot fred root fredroot get resource getresource delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue deleted fred root fredroot exists participant testing participanttesting test delete testdelete handles test delete internal r testdeleteinternaljar exception participant testing participanttesting reset file lib java test plugin javatestplugin get default getdefault get file i n plugin getfileinplugin java project helper javaprojecthelper mylib assert true asserttrue lib exist lib exists i package fragment root ipackagefragmentroot internaljar java project helper javaprojecthelper add library with import addlibrarywithimport refactoring test setup refactoringtestsetup get project getproject path fromosstring lib get path getpath object elements internaljar verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string handles participant testing participanttesting create handles createhandles internaljar internaljar get resource getresource delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue deleted internaljar exists participant testing participanttesting test delete testdelete handles test delete class file testdeleteclassfile exception todo implement handle file test delete package testdeletepackage exception new package newpackage delete new package newpackage new package newpackage file items deleted notification delete folder delete participant testing participanttesting reset i package fragment ipackagefragment new package newpackage get root getroot create package fragment createpackagefragment new package newpackage null progress monitor nullprogressmonitor assert true asserttrue created new package newpackage exists string cu contents cucontents i compilation unit icompilationunit new package newpackage create compilation unit createcompilationunit java cu contents cucontents i file ifile file i container icontainer new package newpackage get resource getresource get file getfile path txt file create get stream getstream object elements new package newpackage verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string delete handles deletehandles participant testing participanttesting create handles createhandles new package newpackage new package newpackage get resource getresource delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue deleted new package newpackage exists participant testing participanttesting test delete testdelete delete handles deletehandles i undo manager iundomanager undo manager undomanager refactoring core refactoringcore get undo manager getundomanager undo manager undomanager perform undo performundo null progress monitor nullprogressmonitor assert true asserttrue new package newpackage exists assert true asserttrue file exists assert equals assertequals cu contents cucontents get source getsource undo manager undomanager perform redo performredo null progress monitor nullprogressmonitor assert true asserttrue new package newpackage exists test delete package testdeletepackage exception delete file tests cleaning packages deleted participant testing participanttesting reset i package fragment ipackagefragment get root getroot create package fragment createpackagefragment null progress monitor nullprogressmonitor i package fragment ipackagefragment get root getroot create package fragment createpackagefragment null progress monitor nullprogressmonitor assert true asserttrue created exists string cu contents cucontents i compilation unit icompilationunit create compilation unit createcompilationunit java cu contents cucontents i file ifile file i container icontainer get resource getresource get file getfile path txt file create get stream getstream object elements verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string delete handles deletehandles participant testing participanttesting create handles createhandles get resource getresource file delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status delete packages assert true asserttrue deleted exists assert equals assertequals get children getchildren length assert true asserttrue exists assert true asserttrue file exists assert true asserttrue exists participant testing participanttesting test delete testdelete delete handles deletehandles i undo manager iundomanager undo manager undomanager refactoring core refactoringcore get undo manager getundomanager undo manager undomanager perform undo performundo null progress monitor nullprogressmonitor assert true asserttrue exists assert true asserttrue exists assert true asserttrue file exists assert equals assertequals cu contents cucontents get source getsource undo manager undomanager perform redo performredo null progress monitor nullprogressmonitor assert true asserttrue exists assert true asserttrue file exists assert true asserttrue exists test delete package testdeletepackage exception delete packages removed folder removed i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java execute delete package executedeletepackage object frags frags object frags get resource getresource object deleted object frags frags frags frags do test undo redo dotestundoredo deleted test delete package testdeletepackage exception delete delete packages removed folder removed i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java execute delete package executedeletepackage object frags frags object frags get resource getresource object deleted object frags frags frags frags do test undo redo dotestundoredo deleted test delete package testdeletepackage exception deleted delete deleted folder removed i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java execute delete package executedeletepackage object frags i package fragment ipackagefragment frags frags frags object frags get resource getresource object deleted object frags frags frags object exist object frags frags frags do test undo redo dotestundoredo deleted exist test delete package testdeletepackage exception another package anotherpackage delete deleted folder removed i package fragment ipackagefragment frags create package path createpackagepath i package fragment ipackagefragment get root getroot create package fragment createpackagefragment another package anotherpackage execute delete package executedeletepackage object frags i package fragment ipackagefragment frags frags frags object frags get resource getresource object deleted object frags frags frags object exist object frags frags frags do test undo redo dotestundoredo deleted exist test delete package testdeletepackage exception delete delete packages deleted folder removed i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java execute delete package executedeletepackage object frags frags object frags get resource getresource object deleted object frags frags frags frags frags frags object exist do test undo redo dotestundoredo deleted exist test delete package testdeletepackage exception delete don delete delete some file somefile deleted notification i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java i file ifile file i container icontainer frags get resource getresource get file getfile path txt file create get stream getstream execute delete package executedeletepackage object frags i package fragment ipackagefragment frags frags object frags get resource getresource get resource getresource get type gettype object deleted object frags frags object exist object frags frags frags frags file do test undo redo dotestundoredo deleted exist test delete package testdeletepackage exception delete delete delete packages removed folder removed i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java i file ifile file i container icontainer frags get resource getresource get file getfile path txt file create get stream getstream execute delete package executedeletepackage object frags file frags object frags get resource getresource object deleted object frags frags frags frags frags frags file object exist do test undo redo dotestundoredo deleted exist test delete package testdeletepackage exception delete delete delete removed tests cleaning packages folder removed i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java participant testing participanttesting reset object marked for delete markedfordelete object frags get resource getresource string delete handles deletehandles participant testing participanttesting create handles createhandles marked for delete markedfordelete verify enabled verifyenabled marked for delete markedfordelete must perform dummy search mustperformdummysearch delete refactoring deleterefactoring create refactoring createrefactoring marked for delete markedfordelete refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status test handles resource participant testing participanttesting test delete testdelete delete handles deletehandles deleted packages object deleted object object exist object frags frags frags frags do test undo redo dotestundoredo deleted exist test delete package testdeletepackage exception test deletion project source folder delete txt don delete expected txt deleted i java project ijavaproject new java project newjavaproject java project helper javaprojecthelper create java project createjavaproject test project testproject system current time millis currenttimemillis bin java project helper javaprojecthelper addrtjar new java project newjavaproject i package fragment root ipackagefragmentroot root java project helper javaprojecthelper add source container addsourcecontainer new java project newjavaproject i package fragment ipackagefragment default p defaultp root get package fragment getpackagefragment i file ifile file i container icontainer default p defaultp get resource getresource get file getfile path txt file create get stream getstream i compilation unit icompilationunit default p defaultp create compilation unit createcompilationunit java participant testing participanttesting reset object marked for delete markedfordelete object default p defaultp string delete handles deletehandles participant testing participanttesting create handles createhandles object default p defaultp get resource getresource verify enabled verifyenabled marked for delete markedfordelete must perform dummy search mustperformdummysearch delete refactoring deleterefactoring create refactoring createrefactoring marked for delete markedfordelete refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status participant testing participanttesting test delete testdelete delete handles deletehandles object deleted object object exist object default p defaultp file do test undo redo dotestundoredo deleted exist java project helper javaprojecthelper delete new java project newjavaproject test delete package testdeletepackage exception delete delete cleaned report folder deletions i package fragment ipackagefragment frags create package path createpackagepath execute delete package executedeletepackage object frags frags i package fragment ipackagefragment frags frags object object deleted object exist object frags frags frags do test undo redo dotestundoredo deleted exist test delete package and folder testdeletepackageandfolder exception folder delete new package newpackage delete new package newpackage new package newpackage file folder deleted participant testing participanttesting reset i project iproject project refactoring test setup refactoringtestsetup get project getproject get project getproject i folder ifolder folder project get folder getfolder folder folder create i package fragment ipackagefragment new package newpackage get root getroot create package fragment createpackagefragment new package newpackage null progress monitor nullprogressmonitor assert true asserttrue folder exist folder exists assert true asserttrue created new package newpackage exists string cu contents cucontents i compilation unit icompilationunit new package newpackage create compilation unit createcompilationunit java cu contents cucontents i file ifile file i container icontainer new package newpackage get resource getresource get file getfile path txt file create get stream getstream object elements folder new package newpackage verify enabled verifyenabled elements must perform dummy search mustperformdummysearch string delete handles deletehandles participant testing participanttesting create handles createhandles folder new package newpackage new package newpackage get resource getresource delete refactoring deleterefactoring create refactoring createrefactoring elements refactoring status refactoringstatus status perform refactoring performrefactoring assert equals assertequals expected pass status assert true asserttrue folder deleted folder exists assert true asserttrue deleted new package newpackage exists participant testing participanttesting test delete testdelete delete handles deletehandles i undo manager iundomanager undo manager undomanager refactoring core refactoringcore get undo manager getundomanager undo manager undomanager perform undo performundo null progress monitor nullprogressmonitor assert true asserttrue folder exists assert true asserttrue new package newpackage exists assert true asserttrue file exists assert equals assertequals cu contents cucontents get source getsource undo manager undomanager perform redo performredo null progress monitor nullprogressmonitor assert true asserttrue folder exists assert true asserttrue new package newpackage exists don rename suite test delete package sub deletepackagesub exception delete subs file expected deleted i package fragment ipackagefragment frags create package path createpackagepath i compilation unit icompilationunit frags create compilation unit createcompilationunit java i file ifile file i container icontainer frags get resource getresource get file getfile path txt file create get stream getstream execute delete package executedeletepackage object frags frags object frags get resource getresource object deleted object frags frags frags frags file object exist do test undo redo dotestundoredo deleted exist don rename suite test delete package sub deletepackagesub exception delete expected deleted notification deletion i package fragment ipackagefragment frags create package path createpackagepath i package fragment ipackagefragment get root getroot get package fragment getpackagefragment exists delete i package fragment ipackagefragment default package defaultpackage get root getroot get package fragment getpackagefragment execute delete package executedeletepackage object default package defaultpackage i package fragment ipackagefragment default package defaultpackage object object deleted object exist object frags frags default package defaultpackage do test undo redo dotestundoredo deleted exist don rename suite test delete package sub deletepackagesub exception delete file txt expected deleted notification deletion package fragments packagefragments folders files java files root file txt i package fragment ipackagefragment frags create package path createpackagepath i package fragment ipackagefragment default package defaultpackage get root getroot get package fragment getpackagefragment i package fragment ipackagefragment get root getroot get package fragment getpackagefragment exists delete i compilation unit icompilationunit default package defaultpackage create compilation unit createcompilationunit java i file ifile file i container icontainer default package defaultpackage get resource getresource get file getfile path file txt file create get stream getstream execute delete package executedeletepackage object default package defaultpackage i package fragment ipackagefragment object default package defaultpackage get resource getresource object deleted object object exist object frags frags default package defaultpackage file do test undo redo dotestundoredo deleted exist don rename suite test delete package sub deletepackagesub exception delete expected deleted notification deletion package fragments packagefragments folders folder i package fragment ipackagefragment frags create package path createpackagepath i package fragment ipackagefragment get root getroot get package fragment getpackagefragment exists delete execute delete package executedeletepackage object frags frags object frags get resource getresource object deleted object frags frags object exist do test undo redo dotestundoredo deleted exist don rename suite test delete package sub deletepackagesub exception delete delete expected deleted notification deletion package fragments packagefragments folders folder files java files root classpath i package fragment ipackagefragment frags create package path createpackagepath i package fragment ipackagefragment default package defaultpackage get root getroot get package fragment getpackagefragment i package fragment ipackagefragment get root getroot get package fragment getpackagefragment exists delete i compilation unit icompilationunit default package defaultpackage create compilation unit createcompilationunit java execute delete package executedeletepackage object default package defaultpackage frags frags object default package defaultpackage get resource getresource frags get resource getresource object deleted object frags frags object exist do test undo redo dotestundoredo deleted exist
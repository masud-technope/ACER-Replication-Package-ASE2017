copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text java java util hash set hashset java util iterator java util list java util org eclipse core runtime i progress monitor iprogressmonitor org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text contentassist i completion proposal icompletionproposal org eclipse jdt core completion context completioncontext org eclipse jdt core completion proposal completionproposal org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt text java completion proposal collector completionproposalcollector org eclipse jdt text java content assist invocation context contentassistinvocationcontext org eclipse jdt text java i java completion proposal ijavacompletionproposal org eclipse jdt text java java content assist invocation context javacontentassistinvocationcontext org eclipse jdt internal java plugin javaplugin org eclipse jdt internal text java heuristic scanner javaheuristicscanner org eclipse jdt internal text symbols java type completion proposal computer javatypecompletionproposalcomputer java completion proposal computer javacompletionproposalcomputer org eclipse jdt internal text java java completion proposal computer javacompletionproposalcomputer create collector createcollector org eclipse jdt text java java content assist invocation context javacontentassistinvocationcontext override completion proposal collector completionproposalcollector create collector createcollector java content assist invocation context javacontentassistinvocationcontext context completion proposal collector completionproposalcollector collector create collector createcollector context collector set ignored setignored completion proposal completionproposal type collector org eclipse jdt internal text java java completion proposal computer javacompletionproposalcomputer compute completion proposals computecompletionproposals org eclipse jface text contentassist text content assist invocation context textcontentassistinvocationcontext org eclipse core runtime i progress monitor iprogressmonitor override list i completion proposal icompletionproposal compute completion proposals computecompletionproposals content assist invocation context contentassistinvocationcontext context i progress monitor iprogressmonitor monitor list i completion proposal icompletionproposal types compute completion proposals computecompletionproposals context monitor context java content assist invocation context javacontentassistinvocationcontext types java content assist invocation context javacontentassistinvocationcontext java context javacontext java content assist invocation context javacontentassistinvocationcontext context completion context completioncontext core context corecontext java context javacontext get core context getcorecontext core context corecontext core context corecontext get token location gettokenlocation completion context completioncontext constructor start types types size context compute identifier prefix computeidentifierprefix length i type itype expected type expectedtype java context javacontext get expected type getexpectedtype expected type expectedtype empty prefix completion insert lru types prune occur core list compute min mimum minmimum relevance proposed list relevance integer max string proposed hash set hashset iterator i completion proposal icompletionproposal types iterator has next hasnext abstract java completion proposal abstractjavacompletionproposal abstract java completion proposal abstractjavacompletionproposal i java element ijavaelement element get java element getjavaelement element i type itype proposed add i type itype element get fully qualified name getfullyqualifiedname relevance math min relevance get relevance getrelevance insert history types list string history java plugin javaplugin get default getdefault get content assist history getcontentassisthistory get history gethistory expected type expectedtype get fully qualified name getfullyqualifiedname get types gettypes relevance history size iterator string history iterator has next hasnext string type proposed type i java completion proposal ijavacompletionproposal proposal create type proposal createtypeproposal relevance type java context javacontext proposal types add proposal relevance bad location exception badlocationexception java plugin javaplugin log java model exception javamodelexception java plugin javaplugin log types i java completion proposal ijavacompletionproposal create type proposal createtypeproposal relevance string fully qualified type fullyqualifiedtype java content assist invocation context javacontentassistinvocationcontext context java model exception javamodelexception i type itype type context get compilation unit getcompilationunit get java project getjavaproject find type findtype fully qualified type fullyqualifiedtype type completion proposal completionproposal proposal completion proposal completionproposal create completion proposal completionproposal type context get invocation offset getinvocationoffset proposal set completion setcompletion fully qualified type fullyqualifiedtype to char array tochararray proposal set declaration signature setdeclarationsignature type get package fragment getpackagefragment get element name getelementname to char array tochararray proposal set flags setflags type get flags getflags proposal set relevance setrelevance relevance proposal set replace range setreplacerange context get invocation offset getinvocationoffset context get invocation offset getinvocationoffset proposal set signature setsignature signature create type signature createtypesignature fully qualified type fullyqualifiedtype to char array tochararray should propose generics shouldproposegenerics context get project getproject lazy generic type proposal lazygenerictypeproposal proposal context lazy java type completion proposal lazyjavatypecompletionproposal proposal context returns code code proposals allowed code code note code library referenced generics current source generics param project java project code code proposals allowed code code should propose generics shouldproposegenerics i java project ijavaproject project string source version sourceversion project source version sourceversion project get option getoption java core javacore compiler source source version sourceversion java core javacore get option getoption java core javacore compiler source source version sourceversion java core javacore version compare to compareto source version sourceversion override guess context information position guesscontextinformationposition content assist invocation context contentassistinvocationcontext context context position contextposition context get invocation offset getinvocationoffset i document idocument document context get document getdocument java heuristic scanner javaheuristicscanner scanner java heuristic scanner javaheuristicscanner document bound math max context position contextposition inner most innermost scope angle brackets type argument list pos context position contextposition angle scanner find opening peer findopeningpeer pos bound angle java heuristic scanner javaheuristicscanner token scanner previous token previoustoken angle bound token method type token symbols tokenident scanner get position getposition angle string ident document trim java heuristic scanner javaheuristicscanner is generic starter isgenericstarter ident angle pos angle bad location exception badlocationexception guess context information position guesscontextinformationposition context
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring junit framework test junit framework test suite testsuite org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse ltk core refactoring change org eclipse ltk core refactoring resource rename resource change renameresourcechange rename resource change tests renameresourcechangetests refactoring test refactoringtest rename resource change tests renameresourcechangetests clazz rename resource change tests renameresourcechangetests rename resource change tests renameresourcechangetests string test suite refactoring test setup refactoringtestsetup test suite testsuite clazz test set up test setuptest test test refactoring test setup refactoringtestsetup test test file testfile exception i folder ifolder folder i folder ifolder get package p getpackagep get corresponding resource getcorrespondingresource string new name newname txt string old name oldname txt i file ifile file folder get file getfile old name oldname assert true asserttrue exist file exists string content aaa aaa aaa aaaaaaaaa file create get stream getstream content null progress monitor nullprogressmonitor assert true asserttrue exist file exists change change rename resource change renameresourcechange file get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange change assert true asserttrue exist folder get file getfile new name newname exists assert true asserttrue exist folder get file getfile old name oldname exists test file testfile exception i folder ifolder folder i folder ifolder get package p getpackagep get corresponding resource getcorrespondingresource string new name newname txt string old name oldname txt i file ifile file folder get file getfile old name oldname assert true asserttrue exist file exists string content file create get stream getstream content null progress monitor nullprogressmonitor assert true asserttrue exist file exists change change rename resource change renameresourcechange file get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange change assert true asserttrue exist folder get file getfile new name newname exists assert true asserttrue exist folder get file getfile old name oldname exists test file testfile exception i folder ifolder folder i folder ifolder get package p getpackagep get corresponding resource getcorrespondingresource string old name oldname txt string new name newname txt i file ifile file folder get file getfile old name oldname assert true asserttrue exist file exists string content aaa aaa aaa aaaaaaaaa file create get stream getstream content null progress monitor nullprogressmonitor assert true asserttrue exist file exists change change rename resource change renameresourcechange file get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor change undo perform change performchange change assert true asserttrue exist folder get file getfile new name newname exists assert true asserttrue exist folder get file getfile old name oldname exists assert true asserttrue undo able undoable undo undo initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange undo assert true asserttrue undo exist folder get file getfile old name oldname exists assert true asserttrue undo exist folder get file getfile new name newname exists test folder testfolder exception i folder ifolder folder i folder ifolder get package p getpackagep get corresponding resource getcorrespondingresource string new name newname string old name oldname i folder ifolder sub folder subfolder folder get folder getfolder old name oldname assert true asserttrue exist sub folder subfolder exists sub folder subfolder create assert true asserttrue exist sub folder subfolder exists change change rename resource change renameresourcechange sub folder subfolder get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange change assert true asserttrue exist folder get folder getfolder new name newname exists assert true asserttrue exist folder get folder getfolder old name oldname exists test folder testfolder exception i folder ifolder folder i folder ifolder get package p getpackagep get corresponding resource getcorrespondingresource string new name newname string old name oldname i folder ifolder sub folder subfolder folder get folder getfolder old name oldname assert true asserttrue exist sub folder subfolder exists sub folder subfolder create i file ifile file sub folder subfolder get file getfile txt i file ifile file sub folder subfolder get file getfile txt file create get stream getstream file create get stream getstream assert true asserttrue exist sub folder subfolder exists assert true asserttrue file exist file exists assert true asserttrue file exist file exists change change rename resource change renameresourcechange sub folder subfolder get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange change assert true asserttrue exist folder get folder getfolder new name newname exists assert true asserttrue exist folder get folder getfolder old name oldname exists assert equals assertequals child count folder get folder getfolder new name newname members length test folder testfolder exception i folder ifolder folder i folder ifolder get package p getpackagep get corresponding resource getcorrespondingresource string old name oldname string new name newname i folder ifolder sub folder subfolder folder get folder getfolder old name oldname assert true asserttrue exist sub folder subfolder exists sub folder subfolder create assert true asserttrue exist sub folder subfolder exists change change rename resource change renameresourcechange sub folder subfolder get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor change undo perform change performchange change assert true asserttrue exist folder get folder getfolder new name newname exists assert true asserttrue exist folder get folder getfolder old name oldname exists assert true asserttrue undo able undoable undo undo initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange undo assert true asserttrue undo exist folder get folder getfolder old name oldname exists assert true asserttrue undo exist folder get folder getfolder new name newname exists test java project testjavaproject exception string old name oldname rename resource change test renameresourcechangetest string new name newname rename resource change test renameresourcechangetest string link name linkname link i workspace root iworkspaceroot workspace root workspaceroot resources plugin resourcesplugin get workspace getworkspace get root getroot i project iproject project workspace root workspaceroot get project getproject old name oldname i project iproject project workspace root workspaceroot get project getproject new name newname get package p getpackagep create compilation unit createcompilationunit java nclass project create project open i folder ifolder link project get folder getfolder link name linkname link create link createlink get package p getpackagep get resource getresource get raw location getrawlocation i resource iresource assert true asserttrue link exists rename resource change renameresourcechange change rename resource change renameresourcechange project get full path getfullpath new name newname change initialize validation data initializevalidationdata null progress monitor nullprogressmonitor perform change performchange change assert true asserttrue linked folder exist project get folder getfolder link name linkname exists assert true asserttrue linked folder linked project get folder getfolder link name linkname is linked islinked assert true asserttrue linked folder project get folder getfolder link name linkname get file getfile java exists project exists java project helper javaprojecthelper delete project project exists java project helper javaprojecthelper delete project
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt actions java util arrays java util hash set hashset java util iterator java util org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers i selection iselection org eclipse jface viewers i selection provider iselectionprovider org eclipse jface viewers i structured selection istructuredselection org eclipse jface viewers selection changed event selectionchangedevent org eclipse jface viewers structured selection structuredselection org eclipse jface text i text selection itextselection org eclipse i workbench site iworkbenchsite org eclipse platformui org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring refactoring availability tester refactoringavailabilitytester org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal actions action util actionutil org eclipse jdt internal actions selection converter selectionconverter org eclipse jdt internal java editor javaeditor java editor javaeditor org eclipse jdt internal refactoring refactoring messages refactoringmessages org eclipse jdt internal refactoring actions move instance method action moveinstancemethodaction org eclipse jdt internal refactoring actions move static members action movestaticmembersaction org eclipse jdt internal refactoring reorg reorg move action reorgmoveaction org eclipse jdt internal util exception handler exceptionhandler action moves java elements location action pro mpts prompts user location action applicable homogeneous selection projects fragment roots fragments compilation units methods instantiated intended subclassed noextend intended subclassed clients move action moveaction selection dispatch action selectiondispatchaction todo remove duplicate availability checks action selection changed selectionchanged action is enabled isenabled refactoring is available isavailable remove duplicated code text str uctured structured select ions selections clean term solution bug java elements javaelements local types java editor javaeditor f editor feditor move instance method action moveinstancemethodaction f move instance method action fmoveinstancemethodaction move static members action movestaticmembersaction f move static members action fmovestaticmembersaction reorg move action reorgmoveaction f reorg move action freorgmoveaction creates code move action moveaction code action requires selection site selection provider type code org eclipse jface viewers i structured selection istructuredselection code param site site providing context action move action moveaction i workbench site iworkbenchsite site site set text settext refactoring messages refactoringmessages move action moveaction text f move static members action fmovestaticmembersaction move static members action movestaticmembersaction site f move instance method action fmoveinstancemethodaction move instance method action moveinstancemethodaction site f reorg move action freorgmoveaction reorg move action reorgmoveaction site platformui get workbench getworkbench get help system gethelpsystem set help sethelp i java help context ids ijavahelpcontextids move action note constructor internal clients call constructor param editor java editor noreference constructor intended referenced clients move action moveaction java editor javaeditor editor editor get editor site geteditorsite f editor feditor editor set text settext refactoring messages refactoringmessages move action moveaction text f move static members action fmovestaticmembersaction move static members action movestaticmembersaction editor f move instance method action fmoveinstancemethodaction move instance method action moveinstancemethodaction editor f reorg move action freorgmoveaction reorg move action reorgmoveaction editor get editor site geteditorsite platformui get workbench getworkbench get help system gethelpsystem set help sethelp i java help context ids ijavahelpcontextids move action i selection changed listener iselectionchangedlistener selection changed selectionchanged selection changed event selectionchangedevent override selection changed selectionchanged selection changed event selectionchangedevent event f move static members action fmovestaticmembersaction selection changed selectionchanged event f move instance method action fmoveinstancemethodaction selection changed selectionchanged event f reorg move action freorgmoveaction selection changed selectionchanged event set enabled setenabled compute enable state computeenablestate override set special selection provider setspecialselectionprovider i selection provider iselectionprovider provider set special selection provider setspecialselectionprovider provider f move instance method action fmoveinstancemethodaction set special selection provider setspecialselectionprovider provider f move static members action fmovestaticmembersaction set special selection provider setspecialselectionprovider provider f reorg move action freorgmoveaction set special selection provider setspecialselectionprovider provider org eclipse jdt actions selection dispatch action selectiondispatchaction org eclipse jface viewers i structured selection istructuredselection override i structured selection istructuredselection selection f move instance method action fmoveinstancemethodaction is enabled isenabled try move instance method trymoveinstancemethod selection f move static members action fmovestaticmembersaction is enabled isenabled try move static members trymovestaticmembers selection f reorg move action freorgmoveaction is enabled isenabled f reorg move action freorgmoveaction selection java model exception javamodelexception exception handler exceptionhandler handle refactoring messages refactoringmessages open refactoring wizard action openrefactoringwizardaction refactoring refactoring messages refactoringmessages open refactoring wizard action openrefactoringwizardaction exception org eclipse jdt actions selection dispatch action selectiondispatchaction org eclipse jface text i text selection itextselection override i text selection itextselection selection action util actionutil is editable iseditable f editor feditor f move static members action fmovestaticmembersaction is enabled isenabled try move static members trymovestaticmembers selection f move instance method action fmoveinstancemethodaction is enabled isenabled try move instance method trymoveinstancemethod selection try reorg move tryreorgmove message dialog messagedialog open information openinformation get shell getshell refactoring messages refactoringmessages move action moveaction move refactoring messages refactoringmessages move action moveaction select java model exception javamodelexception exception handler exceptionhandler handle refactoring messages refactoringmessages open refactoring wizard action openrefactoringwizardaction refactoring refactoring messages refactoringmessages open refactoring wizard action openrefactoringwizardaction exception try move static members trymovestaticmembers i text selection itextselection selection java model exception javamodelexception i java element ijavaelement element selection converter selectionconverter get element at offset getelementatoffset f editor feditor element element i member imember i member imember array i member imember i member imember element refactoring availability tester refactoringavailabilitytester is move static members available ismovestaticmembersavailable array f move static members action fmovestaticmembersaction selection i member imember get selected members getselectedmembers i structured selection istructuredselection selection selection is empty isempty iterator iter selection iterator iter has next hasnext iter i member imember convert to member array converttomemberarray selection to array toarray i member imember convert to member array converttomemberarray object obj obj object member set memberset hash set hashset member set memberset add all addall arrays as list aslist obj member set memberset to array toarray i member imember member set memberset size try move static members trymovestaticmembers i structured selection istructuredselection selection java model exception javamodelexception i member imember array get selected members getselectedmembers selection refactoring availability tester refactoringavailabilitytester is move static members available ismovestaticmembersavailable array f move static members action fmovestaticmembersaction selection try move instance method trymoveinstancemethod i text selection itextselection selection java model exception javamodelexception i java element ijavaelement element selection converter selectionconverter get element at offset getelementatoffset f editor feditor element element i method imethod i method imethod method i method imethod element refactoring availability tester refactoringavailabilitytester is move method available ismovemethodavailable method f move instance method action fmoveinstancemethodaction selection try move instance method trymoveinstancemethod i structured selection istructuredselection selection java model exception javamodelexception i method imethod method get single selected method getsingleselectedmethod selection method refactoring availability tester refactoringavailabilitytester is move method available ismovemethodavailable method f move instance method action fmoveinstancemethodaction selection i method imethod get single selected method getsingleselectedmethod i structured selection istructuredselection selection selection is empty isempty selection size object selection get first element getfirstelement i method imethod i method imethod try reorg move tryreorgmove java model exception javamodelexception i java element ijavaelement element selection converter selectionconverter get element at offset getelementatoffset f editor feditor element structured selection structuredselection mock structured selection mockstructuredselection structured selection structuredselection element f reorg move action freorgmoveaction selection changed selectionchanged mock structured selection mockstructuredselection f reorg move action freorgmoveaction is enabled isenabled f reorg move action freorgmoveaction mock structured selection mockstructuredselection selection dispatch action selectiondispatchaction update i selection iselection override update i selection iselection selection f move static members action fmovestaticmembersaction update selection f move instance method action fmoveinstancemethodaction update selection f reorg move action freorgmoveaction update selection set enabled setenabled compute enable state computeenablestate compute enable state computeenablestate f move static members action fmovestaticmembersaction is enabled isenabled f move instance method action fmoveinstancemethodaction is enabled isenabled f reorg move action freorgmoveaction is enabled isenabled
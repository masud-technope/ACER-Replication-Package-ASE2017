copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests core java util hashtable java util list org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse jdt test plugin testplugin test options testoptions org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core compiler i problem iproblem org eclipse jdt core dom ast parser astparser org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt internal corext dom type rules typerules org eclipse jdt internal java editor javaeditor ast provider astprovider junit framework test junit framework test suite testsuite type rules test typerulestest core tests coretests type rules test typerulestest type rules test typerulestest i java project ijavaproject fjproject i package fragment root ipackagefragmentroot f source folder fsourcefolder type rules test typerulestest string test suite set up test setuptest test suite testsuite test set up test setuptest test test project test setup projecttestsetup test override set up setup exception hashtable string string options test options testoptions get default options getdefaultoptions options java core javacore compiler assignment java core javacore ignore options java core javacore compiler unnecessary type check java core javacore ignore options java core javacore compiler unused local java core javacore ignore options java core javacore compiler unchecked type operation java core javacore ignore java core javacore set options setoptions options fjproject project test setup projecttestsetup get project getproject f source folder fsourcefolder java project helper javaprojecthelper add source container addsourcecontainer fjproject src override tear down teardown exception java project helper javaprojecthelper clear fjproject project test setup projecttestsetup get default classpath getdefaultclasspath variable declaration fragment variabledeclarationfragment create variables createvariables java model exception javamodelexception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java util vector buf append java util collection buf append java serializable buf append java net socket buf append number buf append bool buf append buf append buf append buf append buf append buf append buf append buf append bool buf append character buf append buf append buf append integer buf append buf append buf append buf append object object buf append vector vector buf append socket socket buf append cloneable clone able cloneable buf append collection collection buf append serializable serializable buf append object object arr objectarr buf append arr buf append arr buf append vector vector arr buf append socket socket arr buf append collection collection arr buf append object object arr arr objectarrarr buf append collection collection arrarr buf append vector vector arrarr buf append socket socket arrarr buf append collection string collection string buf append collection object collection object buf append collection number collection number buf append collection integer collection int eger integer buf append collection number collection upper number buf append collection number collection number buf append vector object vector object buf append vector number vector number buf append vector integer vector int eger integer buf append vector number vector upper number buf append vector number vector number buf append vector exception vector upper exception buf append vector exception vector exception buf append buf append buf append vector vector buf append vector vector buf append vector vector upper buf append vector vector upper buf append vector vector buf append vector vector buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource parser set resolve bindings setresolvebindings compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast i problem iproblem problems ast root astroot get problems getproblems assert number of assertnumberof problems problems length type declaration typedeclaration type type declaration typedeclaration ast root astroot types field declaration fielddeclaration fields type get fields getfields variable declaration fragment variabledeclarationfragment targets variable declaration fragment variabledeclarationfragment fields length fields length list variable declaration fragment variabledeclarationfragment fragments fields fragments targets fragments targets todo tests behavior i type bindings itypebindings ast bug test is assignment compatible testisassignmentcompatible exception variable declaration fragment variabledeclarationfragment targets create variables createvariables string buffer stringbuffer errors string buffer stringbuffer targets length targets length variable declaration fragment variabledeclarationfragment targets variable declaration fragment variabledeclarationfragment targets string get name getname get identifier getidentifier get name getname get identifier getidentifier string buffer stringbuffer buf string buffer stringbuffer buf append test buf append number buf append foo buf append append append buf append buf append content buf to string tostring to char array tochararray ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource content parser set resolve bindings setresolvebindings parser set project setproject fjproject parser set unit name setunitname java compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast i problem iproblem problems ast root astroot get problems getproblems i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull res is assignment compatible isassignmentcompatible res problems length errors append append assert true asserttrue errors to string tostring errors length test can assign testcanassign exception variable declaration fragment variabledeclarationfragment targets create variables createvariables string buffer stringbuffer errors string buffer stringbuffer targets length targets length variable declaration fragment variabledeclarationfragment targets variable declaration fragment variabledeclarationfragment targets string get name getname get identifier getidentifier get name getname get identifier getidentifier string buffer stringbuffer buf string buffer stringbuffer buf append test buf append number buf append foo buf append append append buf append buf append content buf to string tostring to char array tochararray ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource content parser set resolve bindings setresolvebindings parser set project setproject fjproject parser set unit name setunitname java compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast i problem iproblem problems ast root astroot get problems getproblems i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull res type rules typerules can assign canassign res problems length errors append append assert true asserttrue errors to string tostring errors length test is cast compatible testiscastcompatible exception string buffer stringbuffer errors string buffer stringbuffer variable declaration fragment variabledeclarationfragment targets create variables createvariables targets length targets length variable declaration fragment variabledeclarationfragment targets variable declaration fragment variabledeclarationfragment targets string cast type casttype resolve binding resolvebinding get type gettype get qualified name getqualifiedname string cast type casttype cast type casttype get name getname get identifier getidentifier string buffer stringbuffer buf string buffer stringbuffer buf append test buf append number buf append foo buf append append append buf append buf append content buf to string tostring to char array tochararray ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource content parser set resolve bindings setresolvebindings parser set project setproject fjproject parser set unit name setunitname java compilation unit compilationunit ast root astroot ast root astroot compilation unit compilationunit parser createast i problem iproblem problems ast root astroot get problems getproblems i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull res is cast compatible iscastcompatible res problems length errors append append assert true asserttrue errors to string tostring errors length test can cast testcancast exception string buffer stringbuffer errors string buffer stringbuffer variable declaration fragment variabledeclarationfragment targets create variables createvariables targets length targets length variable declaration fragment variabledeclarationfragment targets variable declaration fragment variabledeclarationfragment targets string cast type casttype resolve binding resolvebinding get type gettype get qualified name getqualifiedname string cast type casttype cast type casttype get name getname get identifier getidentifier string buffer stringbuffer buf string buffer stringbuffer buf append test buf append number buf append foo buf append append append buf append buf append content buf to string tostring to char array tochararray ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set source setsource content parser set resolve bindings setresolvebindings parser set project setproject fjproject parser set unit name setunitname java i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull i type binding itypebinding resolve binding resolvebinding get type gettype assert not null assertnotnull implementation support generics is parameterized type isparameterizedtype is wildcard type iswildcardtype is type variable istypevariable is parameterized type isparameterizedtype is wildcard type iswildcardtype is type variable istypevariable is raw type israwtype is raw type israwtype implementation support autoboxing is primitive isprimitive is primitive isprimitive compilation unit compilationunit ast root astroot ast root astroot compilation unit compilationunit parser createast i problem iproblem problems ast root astroot get problems getproblems res type rules typerules can cast cancast res problems length errors append append assert true asserttrue errors to string tostring errors length
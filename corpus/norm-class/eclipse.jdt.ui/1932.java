copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests browsing java file junit framework test junit framework test case testcase junit framework test suite testsuite org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse jdt test plugin testplugin java test plugin javatestplugin org eclipse core runtime path org eclipse core resources i resource iresource org eclipse core resources i workspace iworkspace org eclipse core resources i workspace description iworkspacedescription org eclipse core resources resources plugin resourcesplugin org eclipse jface viewers i tree content provider itreecontentprovider org eclipse i view part iviewpart org eclipse i workbench iworkbench org eclipse i workbench page iworkbenchpage org eclipse platformui org eclipse jdt core element changed event elementchangedevent org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i element changed listener ielementchangedlistener org eclipse jdt core i java element ijavaelement org eclipse jdt core i java element delta ijavaelementdelta org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt internal browsing logical package logicalpackage org eclipse jdt internal util core utility coreutility packages view delta tests packagesviewdeltatests test case testcase test suite test suite testsuite suite test suite testsuite packages view delta tests packagesviewdeltatests get name getname j unit junit suite add test suite addtestsuite packages view delta tests packagesviewdeltatests j unit junit suite i java project ijavaproject fjproject i package fragment root ipackagefragmentroot f root froot i workspace iworkspace f workspace fworkspace i workbench iworkbench f workbench fworkbench mock plugin view mockpluginview f my part fmypart i tree content provider itreecontentprovider f provider fprovider i workbench page iworkbenchpage f page fpage i package fragment root ipackagefragmentroot f root froot i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment ipackagefragment f pack fpack i package fragment root ipackagefragmentroot f internal jar root finternaljarroot i package fragment ipackagefragment f internal pack finternalpack i package fragment ipackagefragment f internal pack finternalpack i package fragment ipackagefragment f internal pack finternalpack i package fragment ipackagefragment f internal pack finternalpack i package fragment ipackagefragment f internal pack finternalpack i package fragment ipackagefragment f pack fpack f enable auto build after testing fenableautobuildaftertesting packages view delta tests packagesviewdeltatests string remove delta test cases test remove top level fragment not logical package testremovetoplevelfragmentnotlogicalpackage exception create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f my part fmypart f viewer fviewer set input setinput fjproject f provider fprovider get children getchildren f my part fmypart clear i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta removed f pack fpack listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue remove happened f my part fmypart has remove happened hasremovehappened nls assert true asserttrue correct removed f my part fmypart get removed object getremovedobject f pack fpack test remove bottom level fragment not logical package testremovebottomlevelfragmentnotlogicalpackage exception initialise map f my part fmypart f viewer fviewer set input setinput fjproject f my part fmypart clear i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta removed f pack fpack listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue remove happened logical f my part fmypart has remove happened hasremovehappened bogus test situation occur e occure f pack fpack exists remove f pack fpack tests correct delta hand eling handeling test remove fragment in multi fragment logical package testremovefragmentinmultifragmentlogicalpackage exception initialise map f my part fmypart f viewer fviewer set input setinput fjproject object children f provider fprovider get children getchildren fjproject children length object object children f provider fprovider get children getchildren object create logical pack logical package logicalpackage expected parent expectedparent logical package logicalpackage f pack fpack expected parent expectedparent add f internal pack finternalpack create logical pack pack logical package logicalpackage child cp childcp logical package logicalpackage f pack fpack child cp childcp add f pack fpack child cp childcp add f internal pack finternalpack f my part fmypart clear delete fragment i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta removed f pack fpack listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay remove happened nls assert true asserttrue refresh happened f my part fmypart has remove happened hasremovehappened f my part fmypart has refresh happened hasrefreshhappened test life cycle logical object parent f provider fprovider get parent getparent child cp childcp parent logical package logicalpackage nls assert true asserttrue wrong parent logical remove logical package logicalpackage logical package logicalpackage parent nls assert true asserttrue package fragment packagefragment removed logical equals expected parent expectedparent test remove bottom level fragment in multi fragment logical package testremovebottomlevelfragmentinmultifragmentlogicalpackage exception delete fragment f pack fpack delete create logical child pack pack pack logical package logicalpackage expected child expectedchild logical package logicalpackage f pack fpack expected child expectedchild add f internal pack finternalpack create logical child pack pack logical package logicalpackage parent cp parentcp logical package logicalpackage f pack fpack parent cp parentcp add f pack fpack parent cp parentcp add f internal pack finternalpack create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f provider fprovider get children getchildren fjproject f provider fprovider get children getchildren f provider fprovider get children getchildren parent cp parentcp f my part fmypart clear send delta indicating fragment deleted i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta removed f pack fpack listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay delta correct remove refresh change logical package logicalpackage nls assert true asserttrue refresh happened f my part fmypart has refresh happened hasrefreshhappened f my part fmypart has remove happened hasremovehappened test life cycle logical package logicalpackage object child f provider fprovider get children getchildren parent cp parentcp child length child logical package logicalpackage nls assert true asserttrue wrong parent logical remove logical package logicalpackage logical package logicalpackage child nls assert true asserttrue package fragment packagefragment removed logical equals expected child expectedchild test remove fragment in two fragment logical package testremovefragmentintwofragmentlogicalpackage exception create logical child logical package logicalpackage parent cp parentcp logical package logicalpackage f pack fpack parent cp parentcp add f pack fpack parent cp parentcp add f internal pack finternalpack create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f provider fprovider get children getchildren fjproject f provider fprovider get children getchildren f provider fprovider get children getchildren parent cp parentcp create logical pack pack pack logical package logicalpackage logical package logicalpackage f internal pack finternalpack delete fragment f pack fpack delete f my part fmypart clear send delta indicating fragment deleted i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta removed f pack fpack listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change f my part fmypart push display pushdisplay remove happened delta worked nls assert true asserttrue refresh happened f my part fmypart has remove happened hasremovehappened f my part fmypart has add happened hasaddhappened object added object addedobject f my part fmypart get added object getaddedobject object removed object removedobject f my part fmypart get removed object getremovedobject nls assert true asserttrue correct guy removed equals removed object removedobject nls assert true asserttrue correct guy f internal pack finternalpack equals added object addedobject correct children object children f provider fprovider get children getchildren parent cp parentcp nls assert true asserttrue package fragment packagefragment removed logial compare arrays comparearrays children object f pack fpack f internal pack finternalpack add delta test cases test add top level fragment not logical package testaddtoplevelfragmentnotlogicalpackage exception initialise map f my part fmypart f viewer fviewer set input setinput fjproject f my part fmypart clear nls i package fragment ipackagefragment test f root froot create package fragment createpackagefragment pack test i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta test listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue add happened f my part fmypart has add happened hasaddhappened nls assert true asserttrue correct f my part fmypart get added object getaddedobject test test add fragment to logical package testaddfragmenttologicalpackage exception create logical pack pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f provider fprovider get children getchildren send delta nls i package fragment ipackagefragment pack f root froot create package fragment createpackagefragment pack pack pack i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta pack listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay refresh happened nls assert true asserttrue refresh happened f my part fmypart has refresh happened hasrefreshhappened test add from fragment not logical package visible testaddcufromfragmentnotlogicalpackagevisible exception create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack nls nls i compilation unit icompilationunit f pack fpack create compilation unit createcompilationunit object java initialise map f my part fmypart f viewer fviewer set input setinput fjproject f provider fprovider get children getchildren f my part fmypart f viewer fviewer reveal f pack fpack f my part fmypart clear i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta createcudelta i compilation unit icompilationunit f pack fpack i java element delta ijavaelementdelta listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue refresh happened f my part fmypart has refresh happened hasrefreshhappened nls assert true asserttrue correct ref res hed refreshed f my part fmypart get ref res hed object getrefreshedobject f pack fpack nls assert equals assertequals correct number ref res hes refreshes f my part fmypart get ref res hed object getrefreshedobject size test add from fragment not logical package not visible testaddcufromfragmentnotlogicalpackagenotvisible exception create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack nls nls i compilation unit icompilationunit f pack fpack create compilation unit createcompilationunit object java initialise map f my part fmypart f viewer fviewer set input setinput fjproject f provider fprovider get children getchildren f my part fmypart clear i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta createcudelta i compilation unit icompilationunit f pack fpack i java element delta ijavaelementdelta listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue refresh happened f my part fmypart has refresh happened hasrefreshhappened nls assert true asserttrue correct ref res hed refreshed f my part fmypart get ref res hed object getrefreshedobject nls assert equals assertequals correct number ref res hes refreshes f my part fmypart get ref res hed object getrefreshedobject size test remove from fragment not logical package testremovecufromfragmentnotlogicalpackage exception create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f my part fmypart f viewer fviewer set input setinput fjproject f provider fprovider get children getchildren nls nls i compilation unit icompilationunit f pack fpack create compilation unit createcompilationunit object java parent visible f my part fmypart f viewer fviewer set input setinput fjproject f my part fmypart f viewer fviewer reveal f pack fpack f my part fmypart clear i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta createcudelta i compilation unit icompilationunit f pack fpack i java element delta ijavaelementdelta removed listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue refresh happened f my part fmypart has refresh happened hasrefreshhappened nls assert true asserttrue correct ref res hed refreshed f my part fmypart get ref res hed object getrefreshedobject f pack fpack nls assert equals assertequals correct number ref res hes refreshes f my part fmypart get ref res hed object getrefreshedobject size test remove from fragment not logical package with parent not visible testremovecufromfragmentnotlogicalpackagewithparentnotvisible exception create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f my part fmypart f viewer fviewer set input setinput fjproject f provider fprovider get children getchildren nls nls i compilation unit icompilationunit f pack fpack create compilation unit createcompilationunit object java f my part fmypart clear i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta createcudelta i compilation unit icompilationunit f pack fpack i java element delta ijavaelementdelta removed listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue refresh happened f my part fmypart has refresh happened hasrefreshhappened nls assert true asserttrue correct ref res hed refreshed f my part fmypart get ref res hed object getrefreshedobject nls assert equals assertequals correct number ref res hes refreshes f my part fmypart get ref res hed object getrefreshedobject size test add bottom level fragment not logical package testaddbottomlevelfragmentnotlogicalpackage exception create logical packages pack logical package logicalpackage logical package logicalpackage f pack fpack add f pack fpack add f internal pack finternalpack initialise map f my part fmypart f viewer fviewer set input setinput fjproject f provider fprovider get children getchildren f my part fmypart clear nls i package fragment ipackagefragment test f root froot create package fragment createpackagefragment pack pack test i element changed listener ielementchangedlistener listener i element changed listener ielementchangedlistener f provider fprovider i java element delta ijavaelementdelta delta test delta testdelta i java element delta ijavaelementdelta test listener element changed elementchanged element changed event elementchangedevent delta element changed event elementchangedevent post change force events display f my part fmypart push display pushdisplay nls assert true asserttrue add happened f my part fmypart has add happened hasaddhappened nls assert true asserttrue corrent f my part fmypart get added object getaddedobject test test case testcase set up setup override set up setup exception set up setup f workspace fworkspace resources plugin resourcesplugin get workspace getworkspace assert not null assertnotnull f workspace fworkspace i workspace description iworkspacedescription workspace desc workspacedesc f workspace fworkspace get description getdescription f enable auto build after testing fenableautobuildaftertesting workspace desc workspacedesc is auto building isautobuilding f enable auto build after testing fenableautobuildaftertesting core utility coreutility set auto building setautobuilding project nls nls fjproject java project helper javaprojecthelper create java project createjavaproject test project testproject bin nls assert not null assertnotnull project fjproject internal jar nls file my internal jar myinternaljar java test plugin javatestplugin get default getdefault get file in plugin getfileinplugin path test resources testresources compound test compoundtest jar nls assert true asserttrue lib my internal jar myinternaljar my internal jar myinternaljar exists f internal jar root finternaljarroot java project helper javaprojecthelper add library with import addlibrarywithimport fjproject path fromosstring my internal jar myinternaljar get path getpath nls f internal jar root finternaljarroot get package fragment getpackagefragment nls f internal pack finternalpack f internal jar root finternaljarroot get package fragment getpackagefragment pack nls f internal pack finternalpack f internal jar root finternaljarroot get package fragment getpackagefragment pack pack nls f internal pack finternalpack f internal jar root finternaljarroot get package fragment getpackagefragment pack pack nls f internal pack finternalpack f internal jar root finternaljarroot get package fragment getpackagefragment pack pack pack nls f internal pack finternalpack f internal jar root finternaljarroot get package fragment getpackagefragment pack pack pack nls f internal jar root finternaljarroot get package fragment getpackagefragment meta inf source folder nls f root froot java project helper javaprojecthelper add source container addsourcecontainer fjproject src nls f root froot create package fragment createpackagefragment nls f pack fpack f root froot create package fragment createpackagefragment pack nls f root froot create package fragment createpackagefragment pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack pack nls nls f pack fpack create compilation unit createcompilationunit object java nls nls f pack fpack create compilation unit createcompilationunit object java f pack fpack won deleted delete f pack fpack tests nls nls f pack fpack create compilation unit createcompilationunit object java f pack fpack won deleted delete f pack fpack tests nls nls f pack fpack create compilation unit createcompilationunit object java project file system structure source folder java project helper javaprojecthelper add variable entry addvariableentry fjproject path jre lib test source folder nls f root froot java project helper javaprojecthelper add source container addsourcecontainer fjproject src nls f root froot create package fragment createpackagefragment nls f pack fpack f root froot create package fragment createpackagefragment pack nls f pack fpack f root froot create package fragment createpackagefragment pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack pack nls f pack fpack f root froot create package fragment createpackagefragment pack pack nls nls f pack fpack create compilation unit createcompilationunit object java nls nls f pack fpack create compilation unit createcompilationunit object java mock view set up mock view setupmockview set up mock view setupmockview exception f workbench fworkbench platformui get workbench getworkbench assert not null assertnotnull f workbench fworkbench f page fpage f workbench fworkbench get active workbench window getactiveworkbenchwindow get active page getactivepage assert not null assertnotnull f page fpage mock plugin view mockpluginview set list state setliststate nls i view part iviewpart my part mypart f page fpage show view showview org eclipse jdt tests browsing mock plugin view mockpluginview my part mypart mock plugin view mockpluginview f my part fmypart mock plugin view mockpluginview my part mypart f provider fprovider i tree content provider itreecontentprovider f my part fmypart get tree viewer gettreeviewer get content provider getcontentprovider java core javacore remove element changed listener removeelementchangedlistener i element changed listener ielementchangedlistener f provider fprovider nls assert true asserttrue unable view assert not null assertnotnull f provider fprovider test case testcase tear down teardown override tear down teardown exception java project helper javaprojecthelper delete fjproject f provider fprovider input changed inputchanged f page fpage hide view hideview f my part fmypart f enable auto build after testing fenableautobuildaftertesting core utility coreutility set auto building setautobuilding tear down teardown method compare arrays comparearrays arrays i package fragments ipackagefragments compare fail param children children param expected children expectedchildren expected children returns arrays elements compare arrays comparearrays object children object expected children expectedchildren children length expected children expectedchildren length children length object child children child i java element ijavaelement i java element ijavaelement i java element ijavaelement child expected children expectedchildren child i resource iresource i resource iresource res i resource iresource child res expected children expectedchildren child logical package logicalpackage logical package logicalpackage child expected children expectedchildren i resource iresource res object expected children expectedchildren expected children expectedchildren length object object expected children expectedchildren object i resource iresource i resource iresource exp res expres i resource iresource object exp res expres equals res i java element ijavaelement fragment object expected children expectedchildren expected children expectedchildren length object object expected children expectedchildren object i java element ijavaelement i java element ijavaelement exp frag expfrag i java element ijavaelement object exp frag expfrag equals fragment logical package logicalpackage object expected children expectedchildren expected children expectedchildren length object object expected children expectedchildren object logical package logicalpackage logical package logicalpackage exp lp explp logical package logicalpackage object exp lp explp equals
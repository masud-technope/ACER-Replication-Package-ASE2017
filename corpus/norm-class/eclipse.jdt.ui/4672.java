copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring util org eclipse core runtime org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core tool factory toolfactory org eclipse jdt core compiler i scanner iscanner org eclipse jdt core compiler i terminal symbols iterminalsymbols org eclipse jdt core compiler invalid input exception invalidinputexception org eclipse jdt internal corext dom selection org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages comment analyzer commentanalyzer comment analyzer commentanalyzer refactoring status refactoringstatus perform selection selection i scanner iscanner scanner start length refactoring status refactoringstatus result refactoring status refactoringstatus length result comment analyzer commentanalyzer check result selection scanner start start length result check refactoring status refactoringstatus result selection selection i scanner iscanner scanner start characters scanner get source getsource selection adjust selection adjustselection characters selection scanner reset t o resetto start token loop token i terminal symbols iterminalsymbols tokennameeof token scanner get next token getnexttoken token i terminal symbols iterminalsymbols tokennamecomment i terminal symbols iterminalsymbols tokennamecomment block i terminal symbols iterminalsymbols tokennamecomment javadoc check start checkstart scanner selection get offset getoffset result add fatal error addfatalerror refactoring core messages refactoringcoremessages comment analyzer commentanalyzer starts comment loop check end checkend scanner selection get inclusive end getinclusiveend result add fatal error addfatalerror refactoring core messages refactoringcoremessages comment analyzer commentanalyzer ends comment loop invalid input exception invalidinputexception result add fatal error addfatalerror refactoring core messages refactoringcoremessages comment analyzer commentanalyzer internal error check start checkstart i scanner iscanner scanner position scanner get current token start position getcurrenttokenstartposition position position scanner get current token end position getcurrenttokenendposition check end checkend i scanner iscanner scanner position scanner get current token start position getcurrenttokenstartposition position position scanner get current token end position getcurrenttokenendposition selection adjust selection adjustselection characters selection selection new end newend selection get inclusive end getinclusiveend selection get exclusive end getexclusiveend characters new end newend selection create from start end createfromstartend selection get offset getoffset new end newend removes comments whitespace param reference type reference reference consisting dots java identifier characters string normalize reference normalizereference string reference i scanner iscanner scanner tool factory toolfactory create scanner createscanner scanner set source setsource reference to char array tochararray string buffer stringbuffer string buffer stringbuffer token type tokentype scanner get next token getnexttoken token type tokentype i terminal symbols iterminalsymbols tokennameeof append scanner get raw token source getrawtokensource token type tokentype scanner get next token getnexttoken invalid input exception invalidinputexception is true istrue reference reference to string tostring reference
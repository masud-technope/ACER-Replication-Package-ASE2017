copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal search java util hash set hashset java util iterator java util org eclipse core runtime i adaptable iadaptable org eclipse core resources i resource iresource org eclipse core resources i resource delta iresourcedelta org eclipse search i query listener iquerylistener org eclipse search i search query isearchquery org eclipse search new search i newsearchui org eclipse search text match org eclipse jdt core element changed event elementchangedevent org eclipse jdt core i element changed listener ielementchangedlistener org eclipse jdt core i java element ijavaelement org eclipse jdt core i java element delta ijavaelementdelta org eclipse jdt core java core javacore search result updater searchresultupdater i element changed listener ielementchangedlistener i query listener iquerylistener java search result javasearchresult f result fresult removed flags i java element delta ijavaelementdelta moved i java element delta ijavaelementdelta removed classpath i java element delta ijavaelementdelta closed i java element delta ijavaelementdelta content search result updater searchresultupdater java search result javasearchresult result f result fresult result new search i newsearchui add query listener addquerylistener java core javacore add element changed listener addelementchangedlistener todo work resources override element changed elementchanged element changed event elementchangedevent event system current time millis currenttimemillis i java element delta ijavaelementdelta delta event get delta getdelta i adaptable iadaptable removed elements removedelements hash set hashset i adaptable iadaptable potentially removed elements potentiallyremovedelements hash set hashset collect removed collectremoved potentially removed elements potentiallyremovedelements removed elements removedelements delta removed elements removedelements size handle removed handleremoved removed elements removedelements potentially removed elements potentiallyremovedelements size handle removed handleremoved potentially removed elements potentiallyremovedelements system println handled delta system current time millis currenttimemillis handle removed handleremoved i adaptable iadaptable removed elements removedelements object elements f result fresult get elements getelements elements length is contained in removed iscontainedinremoved removed elements removedelements elements elements i java element ijavaelement i java element ijavaelement i java element ijavaelement elements exists system println removing f result fresult get user data getuserdata match matches f result fresult get matches getmatches elements matches length f result fresult remove match removematch matches elements i resource iresource i resource iresource resource i resource iresource elements resource exists system println removing resource f result fresult get user data getuserdata match matches f result fresult get matches getmatches elements matches length f result fresult remove match removematch matches is contained in removed iscontainedinremoved i adaptable iadaptable removed elements removedelements object object iterator i adaptable iadaptable elements removed elements removedelements iterator elements has next hasnext is parent of isparentof elements object is parent of isparentof object ancestor object descendant descendant ancestor equals descendant descendant get parent getparent descendant descendant object get parent getparent object object object i java element ijavaelement i java element ijavaelement object get parent getparent object i resource iresource i resource iresource object get parent getparent collect removed collectremoved i adaptable iadaptable potentially removed set potentiallyremovedset i adaptable iadaptable removed elements removedelements i java element delta ijavaelementdelta delta delta get kind getkind i java element delta ijavaelementdelta removed removed elements removedelements add delta get element getelement delta get kind getkind i java element delta ijavaelementdelta changed flags delta get flags getflags flags removed flags potentially removed set potentiallyremovedset add delta get element getelement i java element delta ijavaelementdelta child deltas childdeltas delta get affected children getaffectedchildren child deltas childdeltas length collect removed collectremoved potentially removed set potentiallyremovedset removed elements removedelements child deltas childdeltas i resource delta iresourcedelta resource deltas resourcedeltas delta get resource deltas getresourcedeltas resource deltas resourcedeltas resource deltas resourcedeltas length collect removals collectremovals removed elements removedelements resource deltas resourcedeltas override query added queryadded i search query isearchquery query don care override query removed queryremoved i search query isearchquery query f result fresult equals query get search result getsearchresult java core javacore remove element changed listener removeelementchangedlistener new search i newsearchui remove query listener removequerylistener collect removals collectremovals i adaptable iadaptable removals i resource delta iresourcedelta delta delta get kind getkind i resource delta iresourcedelta removed removals add delta get resource getresource i resource delta iresourcedelta children delta get affected children getaffectedchildren children length collect removals collectremovals removals children override query starting querystarting i search query isearchquery query int erested interested override query finished queryfinished i search query isearchquery query int erested interested
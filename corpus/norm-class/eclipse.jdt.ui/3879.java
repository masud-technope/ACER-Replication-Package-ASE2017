copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal browsing java util array list arraylist java util arrays java util collection java util iterator java util list org eclipse swt widgets control org eclipse swt widgets display org eclipse core resources i resource iresource org eclipse jface viewers abstract tree viewer abstracttreeviewer org eclipse jface viewers i basic property constants ibasicpropertyconstants org eclipse jface viewers list viewer listviewer org eclipse jface viewers structured viewer structuredviewer org eclipse jface viewers table viewer tableviewer org eclipse jface viewers viewer org eclipse jdt core element changed event elementchangedevent org eclipse jdt core i class file iclassfile org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i element changed listener ielementchangedlistener org eclipse jdt core i import container iimportcontainer org eclipse jdt core i java element ijavaelement org eclipse jdt core i java element delta ijavaelementdelta org eclipse jdt core i java project ijavaproject org eclipse jdt core i package declaration ipackagedeclaration org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i parent iparent org eclipse jdt core i source reference isourcereference org eclipse jdt core i type itype org eclipse jdt core i working copy iworkingcopy org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt standard java element content provider standardjavaelementcontentprovider org eclipse jdt internal java plugin javaplugin java browsing content provider javabrowsingcontentprovider standard java element content provider standardjavaelementcontentprovider i element changed listener ielementchangedlistener structured viewer structuredviewer f viewer fviewer object f input finput java browsing part javabrowsingpart f browsing part fbrowsingpart f reads in display thread freadsindisplaythread java browsing content provider javabrowsingcontentprovider provide members providemembers java browsing part javabrowsingpart browsing part browsingpart provide members providemembers f browsing part fbrowsingpart browsing part browsingpart f viewer fviewer f browsing part fbrowsingpart get viewer getviewer java core javacore add element changed listener addelementchangedlistener override has children haschildren object element start read in display thread startreadindisplaythread has children haschildren element finished read in display thread finishedreadindisplaythread override object get children getchildren object element exists element children start read in display thread startreadindisplaythread element collection collection elements collection element elements is empty isempty children object result object iterator iter collection element iterator iter has next hasnext object children get children getchildren iter children children result concatenate result children result element i package fragment ipackagefragment get package contents getpackagecontents i package fragment ipackagefragment element f provide members fprovidemembers element i type itype get children getchildren i type itype element f provide members fprovidemembers element i source reference isourcereference element i parent iparent remove import and package declarations removeimportandpackagedeclarations get children getchildren element element i java project ijavaproject get package fragment roots getpackagefragmentroots i java project ijavaproject element get children getchildren element java model exception javamodelexception children finished read in display thread finishedreadindisplaythread object get package contents getpackagecontents i package fragment ipackagefragment fragment java model exception javamodelexception i source reference isourcereference source refs sourcerefs fragment get kind getkind i package fragment root ipackagefragmentroot source source refs sourcerefs fragment get compilation units getcompilationunits i class file iclassfile class files classfiles fragment get class files getclassfiles list i class file iclassfile top level class file toplevelclassfile array list arraylist class files classfiles length i type itype type class files classfiles get type gettype type type get declaring type getdeclaringtype type is anonymous isanonymous type is local islocal top level class file toplevelclassfile add class files classfiles source refs sourcerefs top level class file toplevelclassfile to array toarray i source reference isourcereference top level class file toplevelclassfile size object result object source refs sourcerefs length result concatenate result remove import and package declarations removeimportandpackagedeclarations get children getchildren source refs sourcerefs concatenate result fragment get non java resources getnonjavaresources object remove import and package declarations removeimportandpackagedeclarations object members array list arraylist object temp result tempresult array list arraylist members length members length members i import container iimportcontainer members i package declaration ipackagedeclaration temp result tempresult add members temp result tempresult to array toarray object get children getchildren i type itype type java model exception javamodelexception i parent iparent parent type is binary isbinary parent type get class file getclassfile parent type get compilation unit getcompilationunit type get declaring type getdeclaringtype type get children getchildren add declarations i java element ijavaelement members parent get children getchildren array list arraylist i java element ijavaelement temp result tempresult array list arraylist members length members length members i import container iimportcontainer temp result tempresult add members temp result tempresult add all addall arrays as list aslist type get children getchildren temp result tempresult to array toarray override object get package fragment roots getpackagefragmentroots i java project ijavaproject project java model exception javamodelexception project get project getproject is open isopen children i package fragment root ipackagefragmentroot roots project get package fragment roots getpackagefragmentroots list i java element ijavaelement list array list arraylist roots length replace fragments roots length i package fragment root ipackagefragmentroot root roots root is external isexternal i java element ijavaelement children root get children getchildren children length list add children has children haschildren root list add root concatenate list to array toarray project get non java resources getnonjavaresources element change handling override input changed inputchanged viewer viewer object old input oldinput object new input newinput input changed inputchanged viewer old input oldinput new input newinput new input newinput collection template object collection collection col collection new input newinput col is empty isempty new input newinput col iterator new input newinput f input finput new input newinput override dispose dispose java core javacore remove element changed listener removeelementchangedlistener override element changed elementchanged element changed event elementchangedevent event process delta processdelta event get delta getdelta java model exception javamodelexception java plugin javaplugin log get status getstatus processes delta recursively children tree fully ref res hed refreshed starting node delta processed current thread viewer updates pos ted posted thread process delta processdelta i java element delta ijavaelementdelta delta java model exception javamodelexception kind delta get kind getkind flags delta get flags getflags i java element ijavaelement element delta get element getelement is element valid for view iselementvalidforview f browsing part fbrowsingpart is valid element isvalidelement element get provide working copy getprovideworkingcopy element i working copy iworkingcopy i working copy iworkingcopy element is working copy isworkingcopy element element get element type getelementtype i java element ijavaelement compilation unit is on class path isonclasspath i compilation unit icompilationunit element handle open closing solution project flags i java element delta ijavaelementdelta closed flags i java element delta ijavaelementdelta opened post refresh postrefresh kind i java element delta ijavaelementdelta removed object parent internal get parent internalgetparent element is element valid for view iselementvalidforview element i class file iclassfile post remove postremove i class file iclassfile element get type gettype element i compilation unit icompilationunit i compilation unit icompilationunit element is working copy isworkingcopy post refresh postrefresh element i compilation unit icompilationunit i compilation unit icompilationunit element is working copy isworkingcopy get provide working copy getprovideworkingcopy post refresh postrefresh parent i compilation unit icompilationunit get provide working copy getprovideworkingcopy i compilation unit icompilationunit parent is working copy isworkingcopy element i working copy iworkingcopy i working copy iworkingcopy element is working copy isworkingcopy working copy removed system refresh post refresh postrefresh element i working copy iworkingcopy i working copy iworkingcopy element is working copy isworkingcopy parent parent equals f input finput closed editor removing working copy post refresh postrefresh post remove postremove element f browsing part fbrowsingpart is ancestor of isancestorof element f input finput element i working copy iworkingcopy i working copy iworkingcopy element is working copy isworkingcopy post adjust input and set selection postadjustinputandsetselection i java element ijavaelement f input finput get primary element getprimaryelement post adjust input and set selection postadjustinputandsetselection f input finput f input finput equals element post refresh postrefresh parent i package fragment ipackagefragment f browsing part fbrowsingpart is valid element isvalidelement parent refresh empty filtered is package fragment empty ispackagefragmentempty i package fragment ipackagefragment parent f viewer fviewer test find item testfinditem parent post refresh postrefresh kind i java element delta ijavaelementdelta delta get moved from element getmovedfromelement element i compilation unit icompilationunit kind i java element delta ijavaelementdelta is element valid for view iselementvalidforview object parent internal get parent internalgetparent element element i class file iclassfile post add postadd parent i class file iclassfile element get type gettype element i compilation unit icompilationunit i compilation unit icompilationunit element is working copy isworkingcopy post add postadd parent i compilation unit icompilationunit element get types gettypes parent i compilation unit icompilationunit get provide working copy getprovideworkingcopy i compilation unit icompilationunit parent is working copy isworkingcopy element i working copy iworkingcopy i working copy iworkingcopy element is working copy isworkingcopy working copy live post refresh postrefresh post add postadd parent element f input finput i java element ijavaelement new input newinput f browsing part fbrowsingpart find input for java element findinputforjavaelement element new input newinput post adjust input and set selection postadjustinputandsetselection element element i type itype f browsing part fbrowsingpart is valid input isvalidinput element i java element ijavaelement element get ancestor getancestor i java element ijavaelement compilation unit i java element ijavaelement i java element ijavaelement f input finput get ancestor getancestor i java element ijavaelement compilation unit equals post adjust input and set selection postadjustinputandsetselection element kind i java element delta ijavaelementdelta changed f input finput f input finput equals element flags i java element delta ijavaelementdelta children flags i java element delta ijavaelementdelta fine grained post refresh postrefresh is element valid for view iselementvalidforview flags i java element delta ijavaelementdelta modifiers post update icon postupdateicon element is class path change isclasspathchange delta towel full refresh post refresh postrefresh flags i java element delta ijavaelementdelta archive content changed f input finput i java element ijavaelement i package fragment root ipackagefragmentroot pkg root pkgroot i package fragment root ipackagefragmentroot element i java element ijavaelement inputs parent inputsparent i java element ijavaelement f input finput get ancestor getancestor i java element ijavaelement fragment root pkg root pkgroot equals inputs parent inputsparent post refresh postrefresh source attachment jar changed element i package fragment root ipackagefragmentroot flags i java element delta ijavaelementdelta source attached sourceattached flags i java element delta ijavaelementdelta source detached sourcedetached post update icon postupdateicon element i java element delta ijavaelementdelta affected children affectedchildren delta get affected children getaffectedchildren affected children affectedchildren length fragment empty refresh parent element i package fragment ipackagefragment i java element ijavaelement parent i java element ijavaelement internal get parent internalgetparent element avoid pos ting posting refresh invisible parent element equals f input finput post refresh postrefresh element post refresh postrefresh parent child changed refresh element i package fragment root ipackagefragmentroot is element valid for view iselementvalidforview post refresh postrefresh skip project package fragment root skipprojectpackagefragmentroot i package fragment root ipackagefragmentroot element affected children affectedchildren length process delta processdelta affected children affectedchildren is on class path isonclasspath i compilation unit icompilationunit element java model exception javamodelexception i java project ijavaproject project element get java project getjavaproject project project exists project is on classpath isonclasspath element updates icon post update icon postupdateicon i java element ijavaelement element post runnable postrunnable runnable override control ctrl f viewer fviewer get control getcontrol ctrl ctrl is disposed isdisposed f viewer fviewer update element string i basic property constants ibasicpropertyconstants image post refresh postrefresh object root update labels updatelabels post runnable postrunnable runnable override control ctrl f viewer fviewer get control getcontrol ctrl ctrl is disposed isdisposed f viewer fviewer refresh root update labels updatelabels post refresh postrefresh object root post refresh postrefresh root post add postadd object parent object element post add postadd parent object element post add postadd object parent object elements elements elements length post runnable postrunnable runnable override control ctrl f viewer fviewer get control getcontrol ctrl ctrl is disposed isdisposed object new elements newelements get new elements getnewelements elements f viewer fviewer abstract tree viewer abstracttreeviewer f viewer fviewer test find item testfinditem parent object root abstract tree viewer abstracttreeviewer f viewer fviewer get input getinput root abstract tree viewer abstracttreeviewer f viewer fviewer add root new elements newelements abstract tree viewer abstracttreeviewer f viewer fviewer add parent new elements newelements f viewer fviewer list viewer listviewer list viewer listviewer f viewer fviewer add new elements newelements f viewer fviewer table viewer tableviewer table viewer tableviewer f viewer fviewer add new elements newelements f viewer fviewer test find item testfinditem elements f browsing part fbrowsingpart adjust input and set selection adjustinputandsetselection elements object get new elements getnewelements object elements elements length elementslength elements length array list arraylist object result array list arraylist elements length elementslength elements length elementslength object element elements f viewer fviewer test find item testfinditem element result add element result to array toarray post remove postremove object element post remove postremove object element post remove postremove object elements elements length post runnable postrunnable runnable override control ctrl f viewer fviewer get control getcontrol ctrl ctrl is disposed isdisposed f viewer fviewer abstract tree viewer abstracttreeviewer abstract tree viewer abstracttreeviewer f viewer fviewer remove elements f viewer fviewer list viewer listviewer list viewer listviewer f viewer fviewer remove elements f viewer fviewer table viewer tableviewer table viewer tableviewer f viewer fviewer remove elements post adjust input and set selection postadjustinputandsetselection object element post runnable postrunnable runnable override control ctrl f viewer fviewer get control getcontrol ctrl ctrl is disposed isdisposed ctrl set redraw setredraw f browsing part fbrowsingpart adjust input and set selection adjustinputandsetselection element ctrl set redraw setredraw start read in display thread startreadindisplaythread is display thread isdisplaythread f reads in display thread freadsindisplaythread finished read in display thread finishedreadindisplaythread is display thread isdisplaythread f reads in display thread freadsindisplaythread is display thread isdisplaythread control ctrl f viewer fviewer get control getcontrol ctrl display current display currentdisplay display get current getcurrent current display currentdisplay current display currentdisplay equals ctrl get display getdisplay post runnable postrunnable runnable control ctrl f viewer fviewer get control getcontrol ctrl ctrl is disposed isdisposed f browsing part fbrowsingpart set process selection events setprocessselectionevents is display thread isdisplaythread f reads in display thread freadsindisplaythread ctrl get display getdisplay sync exec syncexec ctrl get display getdisplay async exec asyncexec f browsing part fbrowsingpart set process selection events setprocessselectionevents returns parent element note method working copy parent working copy implementation returns original element override object internal get parent internalgetparent object element element i java project ijavaproject i java project ijavaproject element get java model getjavamodel map resources fragment element i resource iresource i resource iresource parent i resource iresource element get parent getparent object j parent jparent java core javacore create parent j parent jparent j parent jparent parent skip fragment root parent element i package fragment ipackagefragment i package fragment root ipackagefragmentroot parent i package fragment root ipackagefragmentroot i package fragment ipackagefragment element get parent getparent skip project package fragment root skipprojectpackagefragmentroot parent element i java element ijavaelement i java element ijavaelement element get parent getparent
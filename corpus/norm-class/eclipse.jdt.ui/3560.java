copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal wizards buildpaths new source page newsourcepage java util list org eclipse swt widgets display org eclipse swt widgets shell org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse jface dialogs message dialog messagedialog org eclipse jface window window org eclipse dialogs new folder dialog newfolderdialog org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext util messages org eclipse jdt preference constants preferenceconstants org eclipse jdt wizards build path dialog access buildpathdialogaccess org eclipse jdt internal java plugin javaplugin org eclipse jdt internal viewsupport basic element labels basicelementlabels org eclipse jdt internal wizards new wizard messages newwizardmessages org eclipse jdt internal wizards buildpaths cp list element cplistelement org eclipse jdt internal wizards buildpaths exclusion inclusion dialog exclusioninclusiondialog helper queries code classpath modifier classpathmodifier code clients decide implement queries predefined queries classpath modifier queries classpathmodifierqueries validator output location find entred location output folder output folder validator outputfoldervalidator i classpath entry iclasspathentry f entries fentries list f elements felements create output folder validator param new elements newelements list elements buildpath list items type code i java project ijavaproject code code i package fragment ipackagefragment code code i folder ifolder code param project java project java model exception javamodelexception output folder validator outputfoldervalidator list new elements newelements i java project ijavaproject project java model exception javamodelexception f entries fentries project get raw classpath getrawclasspath f elements felements new elements newelements path output location validated path full path project projectxy folder a foldera output location outputlocation param output location outputlocation output location project code code output location valid code code validate i path ipath output location outputlocation query project removed source folder update build folder code output location outputlocation code output folder query outputfolderquery i path ipath f desired output location fdesiredoutputlocation constructor desired output location project param output location outputlocation desired output location project desired output location equals current project output location intended change output location time output folder query outputfolderquery i path ipath output location outputlocation output location outputlocation f desired output location fdesiredoutputlocation output location outputlocation make absolute makeabsolute getter desired output location project desired output location i path ipath get desired output location getdesiredoutputlocation f desired output location fdesiredoutputlocation output location determined query project note output location desired output location passed constructor method intended called code do query doquery code executed code code accepted effective output location i path ipath get output location getoutputlocation find wheter project removed classpath method intended called code do query doquery code executed code code accepted code code project removed classpath code code remove project from classpath removeprojectfromclasspath query project removed source folder update build folder code output location outputlocation code situations setting project project folder output folder query asks place changing output folder add itionally additionally useful l usefull remove project classpath retrieved calling code remove project from classpath removeprojectfromclasspath code note code do query doquery code returns started computation additional dialog info rms informs user abort query info rms informs users consequences allowing change output folder param editing output folder editingoutputfolder code code output folder changed code code useful l usefull generate message user action param validator validator find chosen output location valid param project java project code code execution successful l successfull aborted caller execute additional steps setting output location project option ally optionally removing project classpath code code java model exception javamodelexception output location project retrieved do query doquery editing output folder editingoutputfolder output folder validator outputfoldervalidator validator i java project ijavaproject project java model exception javamodelexception query inclusion exclusion filters element i inclusion exclusion query iinclusionexclusionquery query inclusion exclusion filters element executing code do query doquery code filter change calling code get inclusion pattern getinclusionpattern code code get exclusion pattern getexclusionpattern code expected updated filters param element element param focus on excluded focusonexcluded code code accepted code get inclusion patter getinclusionpatter code code get exclusion pattern getexclusionpattern code called do query doquery cp list element cplistelement element focus on excluded focusonexcluded called code do query doquery code executed returned code code inclusion filters i path ipath get inclusion pattern getinclusionpattern called code do query doquery code executed returned code code exclusion filters i path ipath get exclusion pattern getexclusionpattern query output location element i output location query ioutputlocationquery query output location element param element element output location code code output location changed code code do query doquery cp list element cplistelement element output location called executed code do query doquery code returned code code output location code code i path ipath get output location getoutputlocation query project removed source folder update build folder param output location outputlocation desired output location project query output source folders java model exception javamodelexception output folder query outputfolderquery get output folder query getoutputfolderquery i path ipath output location outputlocation java model exception javamodelexception query determine linked folder removed i remove linked folder query iremovelinkedfolderquery remove status indicating removal cancelled remove cancel remove status indicating folder removed build path remove build path remove status indicating folder removed build path deleted remove build path folder query determined linked folder removed param folder linked folder remove status code i remove linked folder query iremovelinkedfolderquery remove xxx constants do query doquery i folder ifolder folder query create folder i create folder query icreatefolderquery query create folder code code operation successful cancelled code code do query doquery find source folder created normal folder classpath excluded called executed code do query doquery code result exists code code source folder created code code is source folder issourcefolder newly created folder method valid called code do query doquery code created folder type code i folder ifolder code i folder ifolder get created folder getcreatedfolder query add archives jar zip files buildpath i add archives query iaddarchivesquery paths archive entries buildpath returns classpath container entry paths empty array query cancelled user i path ipath do query doquery query add libraries buildpath i add libraries query iaddlibrariesquery classpath entries libraries buildpath param project java project param entries array classpath entries project returns selected classpath container entries empty query cancelled user i classpath entry iclasspathentry do query doquery i java project ijavaproject project i classpath entry iclasspathentry entries query project removed source folder update build folder code output location outputlocation code param shell shell code code param output location outputlocation desired project output location code i output folder query ioutputfolderquery code executed output folder query outputfolderquery output folder query outputfolderquery get default folder query getdefaultfolderquery shell shell i path ipath output location outputlocation output folder query outputfolderquery output location outputlocation i path ipath f output location foutputlocation f remove project fremoveproject override do query doquery editing output folder editingoutputfolder output folder validator outputfoldervalidator validator i java project ijavaproject project java model exception javamodelexception result f remove project fremoveproject f output location foutputlocation project get output location getoutputlocation display get default getdefault sync exec syncexec runnable override shell shell shell java plugin javaplugin get active workbench shell getactiveworkbenchshell string title new wizard messages newwizardmessages classpath modifier classpathmodifier change output location dialog changeoutputlocationdialog title f desired output location fdesiredoutputlocation segment count segmentcount string output folder name outputfoldername preference constants preferenceconstants get preference store getpreferencestore get string getstring preference constants preferenceconstants srcbin binname i path ipath new output folder newoutputfolder f desired output location fdesiredoutputlocation append output folder name outputfoldername new output folder newoutputfolder get valid path getvalidpath new output folder newoutputfolder validator string message messages format new wizard messages newwizardmessages classpath modifier classpathmodifier change output location dialog changeoutputlocationdialog project output location outputlocation basic element labels basicelementlabels get path label getpathlabel new output folder newoutputfolder f remove project fremoveproject message dialog messagedialog open confirm openconfirm title message f output location foutputlocation new output folder newoutputfolder result i path ipath new output folder newoutputfolder f desired output location fdesiredoutputlocation new output folder newoutputfolder get valid path getvalidpath new output folder newoutputfolder validator editing output folder editingoutputfolder f output location foutputlocation new output folder newoutputfolder result dialog string message new wizard messages newwizardmessages classpath modifier classpathmodifier change output location dialog changeoutputlocationdialog project message f remove project fremoveproject message dialog messagedialog open question openquestion title message f output location foutputlocation new output folder newoutputfolder result result override i path ipath get output location getoutputlocation f output location foutputlocation override remove project from classpath removeprojectfromclasspath f remove project fremoveproject i path ipath get valid path getvalidpath i path ipath new output folder newoutputfolder output folder validator outputfoldervalidator validator i path ipath path new output folder newoutputfolder validator validate path path path new output folder newoutputfolder to string tostring path query inclusion exclusion filters query inclusion exclusion filters element param shell shell code code code i inclusion exclusion query iinclusionexclusionquery code executed classpath modifier queries classpathmodifierqueries i inclusion exclusion query iinclusionexclusionquery i inclusion exclusion query iinclusionexclusionquery get default inclusion exclusion query getdefaultinclusionexclusionquery shell shell i inclusion exclusion query iinclusionexclusionquery i path ipath f inclusion pattern finclusionpattern i path ipath f exclusion pattern fexclusionpattern override do query doquery cp list element cplistelement element focus on excluded focusonexcluded result display get default getdefault sync exec syncexec runnable override shell shell shell java plugin javaplugin get active workbench shell getactiveworkbenchshell exclusion inclusion dialog exclusioninclusiondialog dialog exclusion inclusion dialog exclusioninclusiondialog element focus on excluded focusonexcluded result dialog open window f inclusion pattern finclusionpattern dialog get inclusion pattern getinclusionpattern f exclusion pattern fexclusionpattern dialog get exclusion pattern getexclusionpattern result override i path ipath get inclusion pattern getinclusionpattern f inclusion pattern finclusionpattern override i path ipath get exclusion pattern getexclusionpattern f exclusion pattern fexclusionpattern select external jar zip archive entries query aborted result empty array param shell parent shell dialog code code code i add archives query iaddarchivesquery code showing dialog selected archive files buildpath i add archives query iaddarchivesquery i add archives query iaddarchivesquery get default archives query getdefaultarchivesquery shell shell i add archives query iaddarchivesquery override i path ipath do query doquery i path ipath selected display get default getdefault sync exec syncexec runnable override shell shell shell java plugin javaplugin get active workbench shell getactiveworkbenchshell selected build path dialog access buildpathdialogaccess chooseexternaljarentries selected i path ipath selected prompt linked folder removed build path deleted param shell parent shell dialog code code code i remove linked folder query iremovelinkedfolderquery code showing dialog prompt linked folder deleted i remove linked folder query iremovelinkedfolderquery i remove linked folder query iremovelinkedfolderquery get default remove linked folder query getdefaultremovelinkedfolderquery shell shell i remove linked folder query iremovelinkedfolderquery override do query doquery i folder ifolder folder result i remove linked folder query iremovelinkedfolderquery remove build path display get default getdefault sync exec syncexec runnable override remove linked folder dialog removelinkedfolderdialog dialog remove linked folder dialog removelinkedfolderdialog shell shell java plugin javaplugin get active workbench shell getactiveworkbenchshell folder status dialog open status result dialog get remove status getremovestatus result i remove linked folder query iremovelinkedfolderquery remove cancel result choose classpath container classpath entries link i classpath entry iclasspathentry cpe container details container classpath entries query returns selected classpath entries empty array query cancelled param shell parent shell dialog code code returns selected classpath container entries empty array query cancelled user i add libraries query iaddlibrariesquery get default libraries query getdefaultlibrariesquery shell shell i add libraries query iaddlibrariesquery override i classpath entry iclasspathentry do query doquery i java project ijavaproject project i classpath entry iclasspathentry entries i classpath entry iclasspathentry selected display get default getdefault sync exec syncexec runnable override shell shell shell java plugin javaplugin get active workbench shell getactiveworkbenchshell selected build path dialog access buildpathdialogaccess choose container entries choosecontainerentries project entries selected i classpath entry iclasspathentry selected create source folder param shell parent shell dialog code code param project java project create source folder returns query i create folder query icreatefolderquery get default create folder query getdefaultcreatefolderquery shell shell i java project ijavaproject project i create folder query icreatefolderquery i folder ifolder f new folder fnewfolder override do query doquery isok display get default getdefault sync exec syncexec runnable override shell shell shell java plugin javaplugin get active workbench shell getactiveworkbenchshell new folder dialog newfolderdialog dialog new folder dialog newfolderdialog project get project getproject isok dialog open window isok i resource iresource source container sourcecontainer i resource iresource dialog get result getresult source container sourcecontainer i folder ifolder f new folder fnewfolder i folder ifolder source container sourcecontainer f new folder fnewfolder isok override is source folder issourcefolder override i folder ifolder get created folder getcreatedfolder f new folder fnewfolder
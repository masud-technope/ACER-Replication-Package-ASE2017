copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring reorg java util array list arraylist java util arrays java util hash set hashset java util iterator java util list java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core resources mapping i resource change description factory iresourcechangedescriptionfactory org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants i participant descriptor filter iparticipantdescriptorfilter org eclipse ltk core refactoring participants move arguments movearguments org eclipse ltk core refactoring participants participant manager participantmanager org eclipse ltk core refactoring participants refactoring arguments refactoringarguments org eclipse ltk core refactoring participants refactoring participant refactoringparticipant org eclipse ltk core refactoring participants refactoring processor refactoringprocessor org eclipse ltk core refactoring participants sharable participants sharableparticipants org eclipse ltk core refactoring participants validate edit checker validateeditchecker org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt internal corext refactoring participants resource modifications resourcemodifications move modifications movemodifications refactoring modifications refactoringmodifications list object f moves fmoves list refactoring arguments refactoringarguments f move arguments fmovearguments list i participant descriptor filter iparticipantdescriptorfilter f participant descriptor filter fparticipantdescriptorfilter move modifications movemodifications f moves fmoves array list arraylist f move arguments fmovearguments array list arraylist f participant descriptor filter fparticipantdescriptorfilter array list arraylist move i resource iresource resource move arguments movearguments args add resource args move i package fragment root ipackagefragmentroot source folder sourcefolder move arguments movearguments arguments add source folder sourcefolder arguments i resource iresource source resource sourceresource source folder sourcefolder get resource getresource source resource sourceresource get resource modifications getresourcemodifications add move addmove source resource sourceresource move arguments movearguments get resource destination getresourcedestination arguments arguments get update references getupdatereferences i file ifile classpath get classpath file getclasspathfile source resource sourceresource classpath get resource modifications getresourcemodifications add changed addchanged classpath classpath get classpath file getclasspathfile get resource destination getresourcedestination arguments classpath get resource modifications getresourcemodifications add changed addchanged classpath move i package fragment ipackagefragment pack move arguments movearguments args core exception coreexception add pack args pack get resource getresource i package fragment root ipackagefragmentroot java destination javadestination i package fragment root ipackagefragmentroot args get destination getdestination java destination javadestination get resource getresource i package fragment ipackagefragment new pack newpack java destination javadestination get package fragment getpackagefragment pack get element name getelementname pack has sub packages hassubpackages new pack newpack exists simple move i container icontainer resource destination resourcedestination new pack newpack get resource getresource get parent getparent create inc luding parents createincludingparents resource destination resourcedestination get resource modifications getresourcemodifications add move addmove pack get resource getresource move arguments movearguments resource destination resourcedestination args get update references getupdatereferences i container icontainer resource source resourcesource i container icontainer pack get resource getresource i container icontainer resource destination resourcedestination i container icontainer new pack newpack get resource getresource create inc luding parents createincludingparents resource destination resourcedestination move arguments movearguments arguments move arguments movearguments resource destination resourcedestination args get update references getupdatereferences i resource iresource resources to move resourcestomove collect resources of int erest collectresourcesofinterest pack i resource iresource all members allmembers hash set hashset arrays as list aslist resource source resourcesource members resources to move resourcestomove length i resource iresource to move tomove resources to move resourcestomove get resource modifications getresourcemodifications add move addmove to move tomove arguments all members allmembers remove to move tomove iterator i resource iresource iter all members allmembers iterator iter has next hasnext i resource iresource element iter element i file ifile get resource modifications getresourcemodifications add delete adddelete element iter remove all members allmembers is empty isempty get resource modifications getresourcemodifications add delete adddelete resource source resourcesource move i compilation unit icompilationunit unit move arguments movearguments args core exception coreexception add unit args i type itype types unit get types gettypes types length add types args i resource iresource resource destination resourcedestination get resource destination getresourcedestination args resource destination resourcedestination unit get resource getresource i resource iresource parent resource destination resourcedestination parent exists get resource modifications getresourcemodifications add create addcreate parent parent parent get parent getparent get resource modifications getresourcemodifications add move addmove unit get resource getresource move arguments movearguments resource destination resourcedestination args get update references getupdatereferences override build delta builddelta i resource change description factory iresourcechangedescriptionfactory builder f moves fmoves size object element f moves fmoves element i resource iresource resource modifications resourcemodifications build move delta buildmovedelta builder i resource iresource element move arguments movearguments f move arguments fmovearguments get resource modifications getresourcemodifications build delta builddelta builder override build validate edits buildvalidateedits validate edit checker validateeditchecker checker iterator object iter f moves fmoves iterator iter has next hasnext object element iter element i compilation unit icompilationunit i compilation unit icompilationunit unit i compilation unit icompilationunit element i resource iresource resource unit get resource getresource resource resource get type gettype i resource iresource file checker add file addfile i file ifile resource override refactoring participant refactoringparticipant load participants loadparticipants refactoring status refactoringstatus status refactoring processor refactoringprocessor owner string natures sharable participants sharableparticipants shared list refactoring participant refactoringparticipant result array list arraylist f moves fmoves size result add all addall arrays as list aslist participant manager participantmanager load move participants loadmoveparticipants status owner f moves fmoves move arguments movearguments f move arguments fmovearguments f participant descriptor filter fparticipantdescriptorfilter natures shared result add all addall arrays as list aslist get resource modifications getresourcemodifications get participants getparticipants status owner natures shared result to array toarray refactoring participant refactoringparticipant result size add object element refactoring arguments refactoringarguments args i participant descriptor filter iparticipantdescriptorfilter filter is not null isnotnull element is not null isnotnull args f moves fmoves add element f move arguments fmovearguments add args f participant descriptor filter fparticipantdescriptorfilter add filter i resource iresource get resource destination getresourcedestination move arguments movearguments args object generic destination genericdestination args get destination getdestination i resource iresource resource destination resourcedestination generic destination genericdestination i java element ijavaelement resource destination resourcedestination i java element ijavaelement generic destination genericdestination get resource getresource generic destination genericdestination i resource iresource resource destination resourcedestination i resource iresource generic destination genericdestination resource destination resourcedestination
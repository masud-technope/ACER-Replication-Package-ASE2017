copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal viewsupport java file java net malformedurlexception java net url java util hash map hashmap org eclipse swt swt org eclipse swt graphics image data imagedata org eclipse swt graphics image loader imageloader org eclipse jface resource image descriptor imagedescriptor org eclipse jdt core i java element ijavaelement org eclipse jdt internal java plugin javaplugin image registry images local file system images on file system registry imagesonfilesystemregistry nls string image dir jdt images hash map hashmap image descriptor imagedescriptor url furlmap file f temp dir ftempdir java element image provider javaelementimageprovider f image provider fimageprovider f image count fimagecount images on file system registry imagesonfilesystemregistry furlmap hash map hashmap f temp dir ftempdir get temp dir gettempdir f image provider fimageprovider java element image provider javaelementimageprovider f image count fimagecount file get temp dir gettempdir file image dir imagedir java plugin javaplugin get default getdefault get state location getstatelocation append image dir to file tofile image dir imagedir exists deleted previous shutdown delete image dir imagedir image dir imagedir exists image dir imagedir mkdir image dir imagedir is directory isdirectory nls java plugin javaplugin log error message logerrormessage nls failed create image directory image dir imagedir to string tostring image dir imagedir illegal state exception illegalstateexception delete file file file is directory isdirectory file list files listfiles file list files listfiles list files listfiles length delete list files listfiles file delete url getimageurl i java element ijavaelement element image descriptor imagedescriptor descriptor f image provider fimageprovider get java image descriptor getjavaimagedescriptor element java element image provider javaelementimageprovider overlay icons java element image provider javaelementimageprovider small icons descriptor getimageurl descriptor url getimageurl image descriptor imagedescriptor descriptor f temp dir ftempdir url url furlmap descriptor url url file image file imagefile get new file getnewfile image data imagedata image data imagedata descriptor get image data getimagedata image data imagedata image loader imageloader loader image loader imageloader loader data image data imagedata image data imagedata loader save image file imagefile get absolute path getabsolutepath swt image png url image file imagefile touri tourl furlmap descriptor url url malformedurlexception java plugin javaplugin log file get new file getnewfile file file nls file file f temp dir ftempdir string value of valueof get image count getimagecount png file exists file get image count getimagecount f image count fimagecount dispose f temp dir ftempdir delete f temp dir ftempdir furlmap
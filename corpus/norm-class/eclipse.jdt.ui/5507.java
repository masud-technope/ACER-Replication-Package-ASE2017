copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse core index search indexsearch java io exception ioexception java util array list arraylist java util hash map hashmap java util hash set hashset java util iterator org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime path org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse core resources i workspace iworkspace org eclipse core resources resources plugin resourcesplugin code search engine searchengine code searches java elements search pattern instantiated intended subclassed search engine searchengine my index myindex i index iindex hash map hashmap f map fmap hash map hashmap add ref addref string word string path nls nls system err println add path word hash map hashmap hash map hashmap f map fmap path hash map hashmap f map fmap path word word remove string path nls system err println remove path f map fmap remove path query prefix queryprefix hash set hashset string iterator iter f map fmap key set keyset iterator iter has next hasnext string path string iter hash map hashmap hash map hashmap f map fmap path contains key containskey add path waiting policies search operation code org eclipse core runtime operation canceled exception operationcanceledexception code underlying indexer finished indexing workspace cancel ready search search operation waits underlying indexer finish indexing workspace starting search wait ready search search engine searchengine fg search engine fgsearchengine hash map hashmap f indexes findexes hash map hashmap search engine searchengine search engine searchengine get search engine getsearchengine fg search engine fgsearchengine fg search engine fgsearchengine search engine searchengine fg search engine fgsearchengine trigger removal resource note actual operation performed background remove string resource name resourcename i path ipath indexed container indexedcontainer i index iindex get index getindex indexed container indexedcontainer remove resource name resourcename add i path ipath indexed container indexedcontainer i indexer iindexer indexer i index iindex get index getindex indexed container indexedcontainer indexer io exception ioexception returns files correspond paths collected todo search i file ifile get files getfiles hash set hashset i workspace iworkspace workspace i file ifile result i file ifile size iterator iter iterator iter has next hasnext string resource path resourcepath string iter i path ipath path path resource path resourcepath result workspace get root getroot get file getfile path result perform query result collector resultcollector search i index query iindexquery search i search result collector isearchresultcollector result collector resultcollector i progress monitor iprogressmonitor progress monitor progressmonitor waiting policy waitingpolicy hash set hashset path collector pathcollector hash set hashset i progress monitor iprogressmonitor progress monitor progressmonitor sub progress monitor subprogressmonitor progress monitor progressmonitor execute search path collector pathcollector todo search i file ifile files get files getfiles path collector pathcollector resources plugin resourcesplugin get workspace getworkspace files length i file ifile file files search locate matches locatematches file result collector resultcollector i index iindex get index getindex i path ipath index path indexpath create i index iindex i index iindex f indexes findexes index path indexpath create my index myindex f indexes findexes index path indexpath execute i index query iindexquery search hash set hashset path collector pathcollector i progress monitor iprogressmonitor progress monitor progressmonitor progress monitor progressmonitor progress monitor progressmonitor is canceled iscanceled operation canceled exception operationcanceledexception is complete iscomplete i index iindex search indexes searchindexes get indexes getindexes search max search indexes searchindexes length progress monitor progressmonitor nls progress monitor progressmonitor begin task begintask nls nls max max is complete iscomplete search search search indexes searchindexes path collector pathcollector progress monitor progressmonitor progress monitor progressmonitor progress monitor progressmonitor is canceled iscanceled operation canceled exception operationcanceledexception progress monitor progressmonitor worked is complete iscomplete progress monitor progressmonitor progress monitor progressmonitor i index iindex get indexes getindexes i index query iindexquery search cache i path ipath f index keys findexkeys array list arraylist required index keys requiredindexkeys array list arraylist search compute paths keying index files computepathskeyingindexfiles required index keys requiredindexkeys f index keys findexkeys i path ipath required index keys requiredindexkeys size required index keys requiredindexkeys to array toarray f index keys findexkeys acquire memory indexes fly length f index keys findexkeys length i index iindex indexes i index iindex length count length trigger rec reation recreation work i index iindex get index getindex f index keys findexkeys indexes ready indexes count count length system arraycopy indexes indexes i index iindex count count indexes search i index query iindexquery search i index iindex hash set hashset path collector pathcollector i progress monitor iprogressmonitor progress monitor progressmonitor progress monitor progressmonitor progress monitor progressmonitor is canceled iscanceled operation canceled exception operationcanceledexception search find index matches findindexmatches path collector pathcollector progress monitor progressmonitor io exception ioexception
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk internal core refactoring resource java util array list arraylist java util arrays java util list org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse core resources i workspace root iworkspaceroot org eclipse core resources mapping i resource change description factory iresourcechangedescriptionfactory org eclipse ltk core refactoring change org eclipse ltk core refactoring composite change compositechange org eclipse ltk core refactoring refactoring change descriptor refactoringchangedescriptor org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants check conditions context checkconditionscontext org eclipse ltk core refactoring participants move arguments movearguments org eclipse ltk core refactoring participants move participant moveparticipant org eclipse ltk core refactoring participants move processor moveprocessor org eclipse ltk core refactoring participants participant manager participantmanager org eclipse ltk core refactoring participants refactoring participant refactoringparticipant org eclipse ltk core refactoring participants resource change checker resourcechangechecker org eclipse ltk core refactoring participants sharable participants sharableparticipants org eclipse ltk core refactoring resource move resource change moveresourcechange org eclipse ltk core refactoring resource move resources descriptor moveresourcesdescriptor org eclipse ltk internal core refactoring basic element labels basicelementlabels org eclipse ltk internal core refactoring messages org eclipse ltk internal core refactoring refactoring core messages refactoringcoremessages org eclipse ltk internal core refactoring resources move processor link i resource iresource resources processor move resources load move participants references move move resources processor moveresourcesprocessor move processor moveprocessor i resource iresource f resources to move fresourcestomove i container icontainer f destination fdestination f update references fupdatereferences check final conditions checkfinalconditions move arguments movearguments f move arguments fmovearguments creates move resource processor param resources to move resourcestomove resources move move resources processor moveresourcesprocessor i resource iresource resources to move resourcestomove resources to move resourcestomove nls illegal argument exception illegalargumentexception resources f resources to move fresourcestomove resources to move resourcestomove f destination fdestination f update references fupdatereferences returns resources move resources move i resource iresource get resources to move getresourcestomove f resources to move fresourcestomove sets move destination param destination move destination set destination setdestination i container icontainer destination is not null isnotnull destination f destination fdestination destination returns code code refactoring processor updates references code code refactoring processor updates references is update references isupdatereferences f update references fupdatereferences specifies refactoring processor updates references behavior update references param update references updatereferences code code refactoring processor updates references set update references setupdatereferences update references updatereferences f update references fupdatereferences update references updatereferences override refactoring status refactoringstatus check initial conditions checkinitialconditions i progress monitor iprogressmonitor core exception coreexception refactoring status refactoringstatus result refactoring status refactoringstatus result merge refactoring status refactoringstatus create resources check in sync checkinsync f resources to move fresourcestomove result override refactoring status refactoringstatus check final conditions checkfinalconditions i progress monitor iprogressmonitor check conditions context checkconditionscontext context core exception coreexception nls begin task begintask refactoring status refactoringstatus status validate destination validatedestination f destination fdestination status has fatal error hasfatalerror status f move arguments fmovearguments move arguments movearguments f destination fdestination is update references isupdatereferences resource change checker resourcechangechecker checker context get checker getchecker resource change checker resourcechangechecker i resource change description factory iresourcechangedescriptionfactory delta factory deltafactory checker get delta factory getdeltafactory f resources to move fresourcestomove length i resource iresource resource f resources to move fresourcestomove i resource iresource new resource newresource f destination fdestination find member findmember resource get name getname new resource newresource status add warning addwarning messages format refactoring core messages refactoringcoremessages move resources processor moveresourcesprocessor warning destination exists basic element labels basicelementlabels get path label getpathlabel new resource newresource get full path getfullpath delta factory deltafactory delete new resource newresource resource modifications resourcemodifications build move delta buildmovedelta delta factory deltafactory f resources to move fresourcestomove f move arguments fmovearguments status valid ates validates destination valid method change destination settings refactoring intended wizard validate user input param destination destination validate returns status validation refactoring status refactoringstatus validate destination validatedestination i container icontainer destination nls is not null isnotnull destination container destination i workspace root iworkspaceroot refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor error invalid destination destination exists refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor error destination exists i path ipath destination path destinationpath destination get full path getfullpath f resources to move fresourcestomove length i path ipath path f resources to move fresourcestomove get full path getfullpath path is prefix of isprefixof destination path destinationpath path equals destination path destinationpath refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor destination moved basic element labels basicelementlabels get path label getpathlabel path path remove last segments removelastsegments equals destination path destinationpath refactoring status refactoringstatus create fatal error status createfatalerrorstatus messages format refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor destination moved basic element labels basicelementlabels get path label getpathlabel path refactoring status refactoringstatus string get move description getmovedescription f resources to move fresourcestomove length messages format refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor description single string basic element labels basicelementlabels get resource name getresourcename f resources to move fresourcestomove basic element labels basicelementlabels get resource name getresourcename f destination fdestination messages format refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor description multiple object integer f resources to move fresourcestomove length basic element labels basicelementlabels get resource name getresourcename f destination fdestination move resources descriptor moveresourcesdescriptor create descriptor createdescriptor move resources descriptor moveresourcesdescriptor descriptor move resources descriptor moveresourcesdescriptor descriptor set project setproject f destination fdestination get project getproject get name getname descriptor set description setdescription get move description getmovedescription f resources to move fresourcestomove length descriptor set comment setcomment descriptor get description getdescription string buffer stringbuffer buf string buffer stringbuffer f resources to move fresourcestomove length nls buf append buf append f resources to move fresourcestomove get name getname descriptor set comment setcomment messages format refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor comment string buf to string tostring basic element labels basicelementlabels get resource name getresourcename f destination fdestination descriptor set flags setflags refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change refactoring descriptor refactoringdescriptor breaking change descriptor set destination setdestination f destination fdestination descriptor set update references setupdatereferences is update references isupdatereferences descriptor set resources to move setresourcestomove f resources to move fresourcestomove descriptor override change create change createchange i progress monitor iprogressmonitor core exception coreexception nls begin task begintask f resources to move fresourcestomove length composite change compositechange composite change compositechange composite change compositechange get move description getmovedescription composite change compositechange mark as synthetic markassynthetic refactoring change descriptor refactoringchangedescriptor descriptor refactoring change descriptor refactoringchangedescriptor create descriptor createdescriptor f resources to move fresourcestomove length move resource change moveresourcechange move change movechange move resource change moveresourcechange f resources to move fresourcestomove f destination fdestination move change movechange set descriptor setdescriptor descriptor composite change compositechange add move change movechange composite change compositechange override object get elements getelements f resources to move fresourcestomove override string get identifier getidentifier nls org eclipse ltk core refactoring move resources processor moveresourcesprocessor override string get processor name getprocessorname refactoring core messages refactoringcoremessages move resource processor moveresourceprocessor processor override is applicable isapplicable f resources to move fresourcestomove length can move canmove f resources to move fresourcestomove can move canmove i resource iresource res res i file ifile res i folder ifolder res exists res is phantom isphantom override refactoring participant refactoringparticipant load participants loadparticipants refactoring status refactoringstatus status sharable participants sharableparticipants shared core exception coreexception string affected natures affectednatures resource processors resourceprocessors compute affected natures computeaffectednatures f resources to move fresourcestomove list move participant moveparticipant result array list arraylist f resources to move fresourcestomove length move participant moveparticipant participants participant manager participantmanager load move participants loadmoveparticipants status f resources to move fresourcestomove f move arguments fmovearguments affected natures affectednatures shared result add all addall arrays as list aslist participants result to array toarray refactoring participant refactoringparticipant result size
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests leaks org eclipse swt swt org eclipse swt widgets shell org eclipse text undo document undo manager documentundomanager org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text i text viewer itextviewer org eclipse jface text i undo manager iundomanager org eclipse jface text position org eclipse jface text text viewer textviewer org eclipse jface text text viewer undo manager textviewerundomanager org eclipse jdt leaktest leak test case leaktestcase org eclipse jdt leaktest leak test setup leaktestsetup junit framework test junit framework test suite testsuite tests leaks text viewer undo manager textviewerundomanager text viewer undo manager leak test textviewerundomanagerleaktest leak test case leaktestcase maximum undo level max undo level shell shell f shell fshell text viewer i text viewer itextviewer f text viewer ftextviewer undo manager i undo manager iundomanager f undo manager fundomanager test suite leak test setup leaktestsetup test suite testsuite text viewer undo manager leak test textviewerundomanagerleaktest test case testcase test case testcase string text viewer undo manager leak test textviewerundomanagerleaktest string test case testcase set up setup override set up setup f shell fshell shell f undo manager fundomanager text viewer undo manager textviewerundomanager max undo level f text viewer ftextviewer text viewer textviewer f shell fshell swt f text viewer ftextviewer set undo manager setundomanager f undo manager fundomanager f undo manager fundomanager connect f text viewer ftextviewer test text viewer undo manager testtextviewerundomanager exception document instance document undo manager documentundomanager count instances https bugs eclipse org bugs bug cgi instance count instancecount get instance count getinstancecount document undo manager documentundomanager internal test convert line delimiters internaltestconvertlinedelimiters internal test random access internaltestrandomaccess internal test random access as compound internaltestrandomaccessascompound f undo manager fundomanager disconnect f undo manager fundomanager f shell fshell dispose f shell fshell f text viewer ftextviewer string types text viewer textviewer get name getname text viewer undo manager textviewerundomanager get name getname get shared undo managers inner class getsharedundomanagersinnerclass text input listener textinputlistener get name getname get shared undo managers inner class getsharedundomanagersinnerclass document undo listener documentundolistener get name getname get shared undo managers inner class getsharedundomanagersinnerclass key and mouse listener keyandmouselistener get name getname document undo manager documentundomanager get name getname get document undo managers inner class getdocumentundomanagersinnerclass document listener documentlistener get name getname get document undo managers inner class getdocumentundomanagersinnerclass history listener historylistener get name getname expected instance count instancecount assert instance count assertinstancecount types expected get shared undo managers inner class getsharedundomanagersinnerclass string class name classname for name forname org eclipse jface text text viewer undo manager textviewerundomanager class name classname get class getclass get class loader getclassloader class not found exception classnotfoundexception fail get document undo managers inner class getdocumentundomanagersinnerclass string class name classname for name forname org eclipse text undo document undo manager documentundomanager class name classname get class getclass get class loader getclassloader class not found exception classnotfoundexception fail test delimiter conversion internal test convert line delimiters internaltestconvertlinedelimiters string original i document idocument document document original f text viewer ftextviewer set document setdocument document document replace document replace bad location exception badlocationexception assert true asserttrue assert true asserttrue f undo manager fundomanager undoable f undo manager fundomanager undo assert true asserttrue f undo manager fundomanager undoable f undo manager fundomanager undo string reverted document assert equals assertequals original reverted ran domly randomly applies document internal test random access internaltestrandomaccess random string length random replace count assert true asserttrue random replace count assert true asserttrue random replace count max undo level string original create random string createrandomstring random string length i document idocument document document original f text viewer ftextviewer set document setdocument document do change dochange document random replace count assert true asserttrue f undo manager fundomanager undoable f undo manager fundomanager undoable f undo manager fundomanager undo string reverted document assert equals assertequals original reverted do change dochange i document idocument document count count position position create random position poisson createrandompositionpoisson document get length getlength string string create random string poisson createrandomstringpoisson document replace position get offset getoffset position get length getlength string bad location exception badlocationexception assert true asserttrue internal test random access as compound internaltestrandomaccessascompound random string length random replace count assert true asserttrue random replace count assert true asserttrue random replace count max undo level string original create random string createrandomstring random string length i document idocument document document original f text viewer ftextviewer set document setdocument document f undo manager fundomanager begin compound change begincompoundchange do change dochange document random replace count f undo manager fundomanager end compound change endcompoundchange assert true asserttrue f undo manager fundomanager undoable f undo manager fundomanager undoable f undo manager fundomanager undo assert true asserttrue f undo manager fundomanager undoable string reverted document assert equals assertequals original reverted string create random string createrandomstring length string buffer stringbuffer buffer string buffer stringbuffer length buffer append get random character getrandomcharacter buffer to string tostring get random character getrandomcharacter xxx include math random string create random string poisson createrandomstringpoisson length get random poisson value getrandompoissonvalue create random string createrandomstring length position create random position poisson createrandompositionpoisson document length documentlength random math random offset random document length documentlength length get random poisson value getrandompoissonvalue offset length document length documentlength length document length documentlength offset position offset length get random poisson value getrandompoissonvalue max random math random probability probability max probability get poisson distribution getpoissondistribution random probability get poisson distribution getpoissondistribution lambda math exp lambda math pow lambda faculty returns faculty param faculty faculty faculty
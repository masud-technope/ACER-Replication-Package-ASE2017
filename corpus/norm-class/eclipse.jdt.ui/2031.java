copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring rename java util array list arraylist java util arrays java util hash set hashset java util iterator java util list java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse core resources mapping i resource change description factory iresourcechangedescriptionfactory org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants i participant descriptor filter iparticipantdescriptorfilter org eclipse ltk core refactoring participants move arguments movearguments org eclipse ltk core refactoring participants participant manager participantmanager org eclipse ltk core refactoring participants refactoring arguments refactoringarguments org eclipse ltk core refactoring participants refactoring participant refactoringparticipant org eclipse ltk core refactoring participants refactoring processor refactoringprocessor org eclipse ltk core refactoring participants rename arguments renamearguments org eclipse ltk core refactoring participants sharable participants sharableparticipants org eclipse ltk core refactoring participants validate edit checker validateeditchecker org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i local variable ilocalvariable org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core i type parameter itypeparameter org eclipse jdt core refactoring rename type arguments renametypearguments org eclipse jdt internal corext refactoring participants resource modifications resourcemodifications org eclipse jdt internal corext refactoring reorg refactoring modifications refactoringmodifications rename modifications renamemodifications refactoring modifications refactoringmodifications list object f rename frename list refactoring arguments refactoringarguments f rename arguments frenamearguments list i participant descriptor filter iparticipantdescriptorfilter f participant descriptor filter fparticipantdescriptorfilter rename modifications renamemodifications f rename frename array list arraylist f rename arguments frenamearguments array list arraylist f participant descriptor filter fparticipantdescriptorfilter array list arraylist rename i resource iresource resource rename arguments renamearguments args add resource args rename i java project ijavaproject project rename arguments renamearguments args add project args i project iproject r project rproject project get project getproject r project rproject get resource modifications getresourcemodifications add rename addrename r project rproject args i project iproject referencing projects referencingprojects r project rproject get ref erencing projects getreferencingprojects referencing projects referencingprojects length i file ifile classpath get classpath file getclasspathfile referencing projects referencingprojects classpath get resource modifications getresourcemodifications add changed addchanged classpath rename i package fragment root ipackagefragmentroot source folder sourcefolder rename arguments renamearguments arguments add source folder sourcefolder arguments source folder sourcefolder get resource getresource get resource modifications getresourcemodifications add rename addrename source folder sourcefolder get resource getresource arguments rename i package fragment ipackagefragment root package rootpackage rename arguments renamearguments args rename sub packages renamesubpackages core exception coreexception add root package rootpackage args i package fragment ipackagefragment all sub packages allsubpackages rename sub packages renamesubpackages all sub packages allsubpackages get sub packages getsubpackages root package rootpackage all sub packages allsubpackages length i package fragment ipackagefragment pack all sub packages allsubpackages rename arguments renamearguments sub args subargs rename arguments renamearguments get new package name getnewpackagename root package rootpackage args get new name getnewname pack get element name getelementname args get update references getupdatereferences add pack sub args subargs i container icontainer container i container icontainer root package rootpackage get resource getresource container i container icontainer target i container icontainer i package fragment root ipackagefragmentroot root package rootpackage get parent getparent get package fragment getpackagefragment args get new name getnewname get resource getresource root package rootpackage has sub packages hassubpackages rename sub packages renamesubpackages can move canmove container target create inc luding parents createincludingparents target get parent getparent container get parent getparent equals target get parent getparent get resource modifications getresourcemodifications add rename addrename container rename arguments renamearguments target get name getname args get update references getupdatereferences moves deletes get resource modifications getresourcemodifications ignore for delta ignorefordelta add all resource modifications addallresourcemodifications root package rootpackage args rename sub packages renamesubpackages all sub packages allsubpackages get resource modifications getresourcemodifications track for delta trackfordelta get resource modifications getresourcemodifications add delta adddelta resource modifications resourcemodifications move description movedescription container target get full path getfullpath add all resource modifications addallresourcemodifications root package rootpackage args rename sub packages renamesubpackages all sub packages allsubpackages rename i compilation unit icompilationunit unit rename arguments renamearguments args add unit args unit get resource getresource get resource modifications getresourcemodifications add rename addrename unit get resource getresource rename arguments renamearguments args get new name getnewname args get update references getupdatereferences rename i type itype type rename type arguments renametypearguments args i participant descriptor filter iparticipantdescriptorfilter filter add type args filter rename i field ifield field rename arguments renamearguments args add field args rename i method imethod method rename arguments renamearguments args add method args rename i local variable ilocalvariable variable rename arguments renamearguments args add variable args rename i type parameter itypeparameter type parameter typeparameter rename arguments renamearguments arguments add type parameter typeparameter arguments override build delta builddelta i resource change description factory iresourcechangedescriptionfactory builder f rename frename size object element f rename frename element i resource iresource resource modifications resourcemodifications build move delta buildmovedelta builder i resource iresource element rename arguments renamearguments f rename arguments frenamearguments get resource modifications getresourcemodifications build delta builddelta builder override build validate edits buildvalidateedits validate edit checker validateeditchecker checker iterator object iter f rename frename iterator iter has next hasnext object element iter element i compilation unit icompilationunit i compilation unit icompilationunit unit i compilation unit icompilationunit element i resource iresource resource unit get resource getresource resource resource get type gettype i resource iresource file checker add file addfile i file ifile resource override refactoring participant refactoringparticipant load participants loadparticipants refactoring status refactoringstatus status refactoring processor refactoringprocessor owner string natures sharable participants sharableparticipants shared list refactoring participant refactoringparticipant result array list arraylist f rename frename size result add all addall arrays as list aslist participant manager participantmanager load rename participants loadrenameparticipants status owner f rename frename rename arguments renamearguments f rename arguments frenamearguments f participant descriptor filter fparticipantdescriptorfilter natures shared result add all addall arrays as list aslist get resource modifications getresourcemodifications get participants getparticipants status owner natures shared result to array toarray refactoring participant refactoringparticipant result size add object element refactoring arguments refactoringarguments args i participant descriptor filter iparticipantdescriptorfilter filter is not null isnotnull element is not null isnotnull args f rename frename add element f rename arguments frenamearguments add args f participant descriptor filter fparticipantdescriptorfilter add filter add all resource modifications addallresourcemodifications i package fragment ipackagefragment root package rootpackage rename arguments renamearguments args rename sub packages renamesubpackages i package fragment ipackagefragment all sub packages allsubpackages core exception coreexception i folder ifolder target add resource modifications addresourcemodifications root package rootpackage args root package rootpackage rename sub packages renamesubpackages rename sub packages renamesubpackages i container icontainer container i container icontainer root package rootpackage get resource getresource container remove container removecontainer container target all sub packages allsubpackages length i package fragment ipackagefragment pack all sub packages allsubpackages i folder ifolder sub target subtarget add resource modifications addresourcemodifications root package rootpackage args pack rename sub packages renamesubpackages container sub target subtarget remove container removecontainer remove container removecontainer get resource modifications getresourcemodifications add delete adddelete container i folder ifolder add resource modifications addresourcemodifications i package fragment ipackagefragment root package rootpackage rename arguments renamearguments args i package fragment ipackagefragment pack rename sub packages renamesubpackages core exception coreexception i container icontainer container i container icontainer pack get resource getresource container i folder ifolder target compute target folder computetargetfolder root package rootpackage args pack create inc luding parents createincludingparents target move arguments movearguments arguments move arguments movearguments target args get update references getupdatereferences i resource iresource resources to move resourcestomove collect resources of int erest collectresourcesofinterest pack i resource iresource all members allmembers hash set hashset arrays as list aslist container members resources to move resourcestomove length i resource iresource to move tomove resources to move resourcestomove get resource modifications getresourcemodifications add move addmove to move tomove arguments all members allmembers remove to move tomove iterator i resource iresource iter all members allmembers iterator iter has next hasnext i resource iresource element iter element i file ifile get resource modifications getresourcemodifications add delete adddelete element iter remove rename sub packages renamesubpackages all members allmembers is empty isempty get resource modifications getresourcemodifications add delete adddelete container target can move canmove i container icontainer source i container icontainer target target exists source get full path getfullpath is prefix of isprefixof target get full path getfullpath i package fragment ipackagefragment get sub packages getsubpackages i package fragment ipackagefragment pack core exception coreexception i package fragment root ipackagefragmentroot root i package fragment root ipackagefragmentroot pack get parent getparent i java element ijavaelement all packages allpackages root get children getchildren pack is default package isdefaultpackage i package fragment ipackagefragment array list arraylist i package fragment ipackagefragment result array list arraylist string prefix pack get element name getelementname all packages allpackages length i package fragment ipackagefragment current package currentpackage i package fragment ipackagefragment all packages allpackages current package currentpackage get element name getelementname starts with startswith prefix result add current package currentpackage result to array toarray i package fragment ipackagefragment result size i folder ifolder compute target folder computetargetfolder i package fragment ipackagefragment root package rootpackage rename arguments renamearguments args i package fragment ipackagefragment pack i path ipath path pack get parent getparent get path getpath path path append get new package name getnewpackagename root package rootpackage args get new name getnewname pack get element name getelementname replace i path ipath separator i folder ifolder target resources plugin resourcesplugin get workspace getworkspace get root getroot get folder getfolder path target string get new package name getnewpackagename i package fragment ipackagefragment root package rootpackage string new package name newpackagename string old sub package name oldsubpackagename string old package name oldpackagename root package rootpackage get element name getelementname new package name newpackagename old sub package name oldsubpackagename substring old package name oldpackagename length
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jesper kamstrup linnet eclipse kamstrup linnet initial api implementation report callers call ees callees view org eclipse jdt internal callhierarchy java lang reflect invocation target exception invocationtargetexception org eclipse swt widgets display org eclipse core runtime i progress monitor iprogressmonitor org eclipse jface operation i runnable context irunnablecontext org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse jface viewers abstract tree viewer abstracttreeviewer org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers viewer org eclipse progress deferred tree content manager deferredtreecontentmanager org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext callhierarchy caller method wrapper callermethodwrapper org eclipse jdt internal corext callhierarchy method call methodcall org eclipse jdt internal corext callhierarchy method wrapper methodwrapper org eclipse jdt internal corext callhierarchy real callers realcallers org eclipse jdt internal corext refactoring util java element util javaelementutil org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt preference constants preferenceconstants org eclipse jdt internal java plugin javaplugin org eclipse jdt internal util exception handler exceptionhandler call hierarchy content provider callhierarchycontentprovider i tree content provider itreecontentprovider named preference holds types methods expanded constructors call hierarchy type code string code semicolon separated list fully qualified type names strong replaced api link preference constants preferenceconstants pref expand constructors members strong nls string pref expand constructors call hierarchy callhierarchy default expand with constructors defaultexpandwithconstructors object empty array object deferred tree content manager deferredtreecontentmanager f manager fmanager call hierarchy view part callhierarchyviewpart f part fpart method wrapper runnable methodwrapperrunnable i runnable with progress irunnablewithprogress method wrapper methodwrapper f method wrapper fmethodwrapper method wrapper methodwrapper f calls fcalls method wrapper runnable methodwrapperrunnable method wrapper methodwrapper method wrapper methodwrapper f method wrapper fmethodwrapper method wrapper methodwrapper override i progress monitor iprogressmonitor f calls fcalls f method wrapper fmethodwrapper get calls getcalls method wrapper methodwrapper get calls getcalls f calls fcalls f calls fcalls method wrapper methodwrapper call hierarchy content provider callhierarchycontentprovider call hierarchy view part callhierarchyviewpart f part fpart org eclipse jface viewers i tree content provider itreecontentprovider get children getchildren java lang object override object get children getchildren object parent element parentelement parent element parentelement tree root treeroot tree root treeroot dummy root dummyroot tree root treeroot parent element parentelement dummy root dummyroot get roots getroots parent element parentelement real callers realcallers method wrapper methodwrapper parent wrapper parentwrapper real callers realcallers parent element parentelement get parent getparent real callers realcallers element real callers realcallers parent element parentelement f manager fmanager object children f manager fmanager get children getchildren deferred method wrapper deferredmethodwrapper element children children fetch children fetchchildren parent wrapper parentwrapper parent element parentelement method wrapper methodwrapper method wrapper methodwrapper method wrapper methodwrapper method wrapper methodwrapper parent element parentelement should stop traversion shouldstoptraversion method wrapper methodwrapper empty array parent element parentelement caller method wrapper callermethodwrapper caller method wrapper callermethodwrapper caller caller method wrapper callermethodwrapper parent element parentelement ensure default expand with constructors ensuredefaultexpandwithconstructors caller caller get expand with constructors getexpandwithconstructors i type itype type caller get member getmember get declaring type getdeclaringtype type is anonymous isanonymous i member imember anonymous class anonymousclass type method call methodcall anonymous constructor anonymousconstructor method call methodcall anonymous class anonymousclass caller method wrapper callermethodwrapper anonymous wrapper anonymouswrapper caller method wrapper callermethodwrapper caller create method wrapper createmethodwrapper anonymous constructor anonymousconstructor object anonymous wrapper anonymouswrapper real callers realcallers method wrapper methodwrapper caller get method call getmethodcall i member imember constructors java element util javaelementutil get all constructors getallconstructors type constructors length type stands constructor constructors i type itype type object children object constructors length constructors length method call methodcall constructor method call methodcall constructors caller method wrapper callermethodwrapper constructor wrapper constructorwrapper caller method wrapper callermethodwrapper caller create method wrapper createmethodwrapper constructor children constructor wrapper constructorwrapper children constructors length real callers realcallers method wrapper methodwrapper caller get method call getmethodcall children java model exception javamodelexception java plugin javaplugin log f manager fmanager object children f manager fmanager get children getchildren deferred method wrapper deferredmethodwrapper method wrapper methodwrapper children children fetch children fetchchildren method wrapper methodwrapper empty array sets expand constructors mode method wrapper mode param wrapper caller method wrapper ensure default expand with constructors ensuredefaultexpandwithconstructors caller method wrapper callermethodwrapper wrapper wrapper is expand with constructors set isexpandwithconstructorsset call hierarchy content provider callhierarchycontentprovider can expand with constructors canexpandwithconstructors wrapper i method imethod method i method imethod wrapper get member getmember i type itype type method get declaring type getdeclaringtype with constructors withconstructors type anonymous pref anonymouspref preference constants preferenceconstants get preference store getpreferencestore get boolean getboolean preference constants preferenceconstants pref anonymous expand constructors anonymous pref anonymouspref type is anonymous isanonymous with constructors withconstructors is in the default expand with constructor list isinthedefaultexpandwithconstructorlist method with constructors withconstructors wrapper set expand with constructors setexpandwithconstructors with constructors withconstructors java model exception javamodelexception checks caller method wrapper expanded constructors param wrapper caller method wrapper code code wrapper expanded constructors code code can expand with constructors canexpandwithconstructors caller method wrapper callermethodwrapper wrapper i member imember member wrapper get member getmember member i method imethod i method imethod method i method imethod member jdt flags jdtflags is static isstatic method method is constructor isconstructor java model exception javamodelexception checks method declaring type matches pre defined array methods types expand constructors param method wrapped method code code method type matches pre defined list code code is in the default expand with constructor list isinthedefaultexpandwithconstructorlist i method imethod method string serialized members serializedmembers preference constants preferenceconstants get preference store getpreferencestore get string getstring preference constants preferenceconstants pref expand constructors members serialized members serializedmembers length nls string default member patterns defaultmemberpatterns serialized members serializedmembers split string method name methodname method get element name getelementname i type itype declaring type declaringtype method get declaring type getdeclaringtype string declaring type name declaringtypename declaring type declaringtype get fully qualified name getfullyqualifiedname string super class name superclassname string super interface names superinterfacenames super class name superclassname declaring type declaringtype get superclass name getsuperclassname super class name superclassname super class name superclassname str ip type arguments striptypearguments super class name superclassname super interface names superinterfacenames declaring type declaringtype get super interface names getsuperinterfacenames super interface names superinterfacenames length super interface names superinterfacenames str ip type arguments striptypearguments super interface names superinterfacenames java model exception javamodelexception default member patterns defaultmemberpatterns length string default member pattern defaultmemberpattern default member patterns defaultmemberpatterns pos default member pattern defaultmemberpattern last index of lastindexof string default type name defaulttypename default member pattern defaultmemberpattern substring pos string default method name defaultmethodname default member pattern defaultmemberpattern substring pos nls equals default method name defaultmethodname declaring type name declaringtypename equals default type name defaulttypename method name methodname equals default method name defaultmethodname declaring type name declaringtypename equals default type name defaulttypename super class name superclassname java model util javamodelutil is matching name ismatchingname super class name superclassname default type name defaulttypename super interface names superinterfacenames length string super interface name superinterfacename super interface names superinterfacenames java model util javamodelutil is matching name ismatchingname super interface name superinterfacename default type name defaulttypename str ips strips type arguments type returns erased type param type name typename type erased type string str ip type arguments striptypearguments string type name typename pos type name typename index of indexof pos type name typename substring pos type name typename object fetch children fetchchildren method wrapper methodwrapper method wrapper methodwrapper i runnable context irunnablecontext context java plugin javaplugin get active workbench window getactiveworkbenchwindow method wrapper runnable methodwrapperrunnable runnable method wrapper runnable methodwrapperrunnable method wrapper methodwrapper context runnable invocation target exception invocationtargetexception exception handler exceptionhandler handle call hierarchy messages callhierarchymessages call hierarchy content provider callhierarchycontentprovider search error searcherror title call hierarchy messages callhierarchymessages call hierarchy content provider callhierarchycontentprovider search error searcherror message empty array interrupted exception interruptedexception caller method wrapper callermethodwrapper element caller method wrapper callermethodwrapper method wrapper methodwrapper is expand with constructors isexpandwithconstructors element display get default getdefault async exec asyncexec runnable override collapse and refresh collapseandrefresh element runnable get calls getcalls returns element expand witch constructors node param element method wrapped code code iff element expand witch constructors node is expand with constructors isexpandwithconstructors method wrapper methodwrapper element element caller method wrapper callermethodwrapper caller method wrapper callermethodwrapper element get expand with constructors getexpandwithconstructors collapses ref res hes refreshes element search can celed canceled param element element search can celed canceled collapsed collapse and refresh collapseandrefresh method wrapper methodwrapper element call hierarchy viewer callhierarchyviewer viewer f part fpart get viewer getviewer problem user exp ands expands real callers realcallers node unchecks expand constructors search real call ers callers progress scenario real callers realcallers current tree expand with constructors action expandwithconstructorsaction toggle d toggled flag ref res hed refreshed tree set expanded state setexpandedstate element walks get parent getparent chain element parent children created wrongly start deferred search real caller realcaller parent expand with constructors expandwithconstructors element stays elementstays element real callers realcallers element stays elementstays is expand with constructors isexpandwithconstructors element get parent getparent element stays elementstays viewer set expanded state setexpandedstate element viewer refresh element returns call hierarchy view call hierarchy view call hierarchy view part callhierarchyviewpart get view part getviewpart f part fpart should stop traversion shouldstoptraversion method wrapper methodwrapper method wrapper methodwrapper method wrapper methodwrapper get level getlevel call hierarchy i callhierarchyui get default getdefault get max call depth getmaxcalldepth method wrapper methodwrapper is recursive isrecursive org eclipse jface viewers i structured content provider istructuredcontentprovider get elements getelements java lang object override object get elements getelements object input element inputelement get children getchildren input element inputelement org eclipse jface viewers i tree content provider itreecontentprovider get parent getparent java lang object override object get parent getparent object element element method wrapper methodwrapper method wrapper methodwrapper element get parent getparent org eclipse jface viewers i content provider icontentprovider dispose override dispose dispose org eclipse jface viewers i tree content provider itreecontentprovider has children haschildren java lang object override has children haschildren object element element tree root treeroot empty root element tree termination treetermination search can celed canceled user believing element method wrapper methodwrapper method wrapper methodwrapper method wrapper methodwrapper method wrapper methodwrapper element method wrapper methodwrapper can have children canhavechildren should stop traversion shouldstoptraversion method wrapper methodwrapper element tree root treeroot element deferred method wrapper deferredmethodwrapper don children update placeholder children org eclipse jface viewers i content provider icontentprovider input changed inputchanged org eclipse jface viewers viewer java lang object java lang object override input changed inputchanged viewer viewer object old input oldinput object new input newinput old input oldinput tree root treeroot method wrapper methodwrapper roots tree root treeroot old input oldinput get roots getroots cancel jobs canceljobs roots viewer abstract tree viewer abstracttreeviewer f manager fmanager deferred tree content manager deferredtreecontentmanager abstract tree viewer abstracttreeviewer viewer f part fpart get site getsite cancel current jobs param wrappers parents cancel jobs cancel jobs canceljobs method wrapper methodwrapper wrappers f manager fmanager wrappers wrappers length method wrapper methodwrapper wrapper wrappers f manager fmanager cancel wrapper f part fpart f part fpart set cancel enabled setcancelenabled done fetching donefetching f part fpart f part fpart set cancel enabled setcancelenabled start fetching startfetching f part fpart f part fpart set cancel enabled setcancelenabled
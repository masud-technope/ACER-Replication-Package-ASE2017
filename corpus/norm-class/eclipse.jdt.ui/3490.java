copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring junit framework test junit framework test suite testsuite org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i local variable ilocalvariable org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i source range isourcerange org eclipse jdt core source range sourcerange org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt tests refactoring infra text range util textrangeutil rename temp tests renametemptests refactoring test refactoringtest bug check decl in nested class checkdeclinnestedclass bug check shadowing checkshadowing rename temp tests renametemptests clazz rename temp tests renametemptests string refactoring path rename temp renametemp rename temp tests renametemptests string override string get refactoring path getrefactoringpath refactoring path test suite refactoring test setup refactoringtestsetup test suite testsuite clazz test set up test setuptest test test refactoring test setup refactoringtestsetup test string get simple test file name getsimpletestfilename can rename canrename input string file name filename get name getname can rename canrename file name filename input file name filename java string get test file name gettestfilename can rename canrename input string file name filename test path prefix get refactoring path getrefactoringpath file name filename can rename canrename can rename canrename cannot rename cannotrename file name filename get simple test file name getsimpletestfilename can rename canrename input i compilation unit icompilationunit create ufrom test file createcufromtestfile i package fragment ipackagefragment pack can rename canrename input exception createcu pack get simple test file name getsimpletestfilename can rename canrename input get file contents getfilecontents get test file name gettestfilename can rename canrename input i source range isourcerange get selection getselection i compilation unit icompilationunit exception string source get source getsource warning includes square bracket open offset source index of indexof abstract selection test case abstractselectiontestcase square bracket open source index of indexof abstract selection test case abstractselectiontestcase square bracket close source range sourcerange offset offset helper string new name newname update references updatereferences i source range isourcerange selection i compilation unit icompilationunit exception i java element ijavaelement elements code select codeselect selection get offset getoffset selection get length getlength assert equals assertequals elements length assert true asserttrue elements get class getclass to string tostring elements i local variable ilocalvariable rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename local variable descriptor set java element setjavaelement elements descriptor set new name setnewname new name newname descriptor set update references setupdatereferences update references updatereferences refactoring status refactoringstatus status refactoring status refactoringstatus refactoring refactoring descriptor create refactoring createrefactoring status assert true asserttrue status status isok assert not null assertnotnull refactoring refactoring refactoring status refactoringstatus result perform refactoring performrefactoring refactoring assert equals assertequals precondition supposed pass result i package fragment ipackagefragment pack i package fragment ipackagefragment get parent getparent string new cu name newcuname get simple test file name getsimpletestfilename i compilation unit icompilationunit new cu newcu pack get compilation unit getcompilationunit new cu name newcuname assert true asserttrue new cu name newcuname exist new cu newcu exists assert equal lines assertequallines incorrect renaming get file contents getfilecontents get test file name gettestfilename new cu newcu get source getsource helper string new name newname update references updatereferences exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep helper new name newname update references updatereferences get selection getselection helper string new name newname update references updatereferences start line startline start column startcolumn end line endline end column endcolumn exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn helper new name newname update references updatereferences selection helper string new name newname exception helper new name newname fail helper no element failhelpernoelement exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection get selection getselection i java element ijavaelement elements code select codeselect selection get offset getoffset selection get length getlength assert equals assertequals elements length fail test helper failtesthelper string new name newname update references updatereferences i compilation unit icompilationunit i source range isourcerange selection exception i java element ijavaelement elements code select codeselect selection get offset getoffset selection get length getlength assert equals assertequals elements length assert true asserttrue elements get class getclass to string tostring elements i local variable ilocalvariable rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename local variable descriptor set java element setjavaelement elements descriptor set new name setnewname new name newname descriptor set update references setupdatereferences update references updatereferences refactoring status refactoringstatus status refactoring status refactoringstatus refactoring refactoring descriptor create refactoring createrefactoring status assert true asserttrue status status isok assert not null assertnotnull refactoring refactoring refactoring status refactoringstatus result perform refactoring performrefactoring refactoring assert not null assertnotnull precondition supposed fail result helper string new name newname update references updatereferences exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection get selection getselection fail test helper failtesthelper new name newname update references updatereferences selection helper string new name newname exception helper new name newname test exception helper test exception helper test exception map renaming hash map hashmap renaming renaming helper renaming string test exception helper test exception helper test exception helper test exception helper test exception helper removed test exception helper test exception helper test exception helper test exception helper disabled test exception map renaming hash map hashmap renaming renaming helper renaming string test exception helper disabled test exception map renaming hash map hashmap renaming renaming helper renaming string test exception helper test exception helper test exception helper test exception helper test exception helper disabled test exception map renaming hash map hashmap renaming renaming helper renaming string test exception helper test exception helper test exception helper deleted incorrect test fail testfail test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception helper test exception print test disabled message printtestdisabledmessage regression test bug helper test test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper test exception print test disabled message printtestdisabledmessage regression test bug helper new name newname test exception print test disabled message printtestdisabledmessage regression test bug helper new name newname test exception print test disabled message printtestdisabledmessage regression test bug helper new name newname test exception print test disabled message printtestdisabledmessage regression test bug helper new name newname test exception print test disabled message printtestdisabledmessage regression test bug helper qwerty test exception helper test exception print test disabled message printtestdisabledmessage bug helper loc ker locker test exception helper obj test exception helper test exception helper param test exception helper param test exception helper param test exception helper test exception helper param test exception helper test exception print test disabled message printtestdisabledmessage bug helper xxx test exception regression test https bugs eclipse org bugs bug cgi helper xxx test exception regression test https bugs eclipse org bugs bug cgi helper xxx test fail testfail exception bug check decl in nested class checkdeclinnestedclass print test disabled message printtestdisabledmessage fails revisit helper test fail testfail exception fail helper no element failhelpernoelement test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception bug check decl in nested class checkdeclinnestedclass print test disabled message printtestdisabledmessage fails revisit helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception fail helper no element failhelpernoelement disabled allowed test fail testfail exception helper test fail testfail exception print test disabled message printtestdisabledmessage http dev eclipse org bugs bug cgi helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper test fail testfail exception helper disabled allowed test fail testfail exception helper test fail testfail exception fail helper no element failhelpernoelement disabled allowed test fail testfail exception helper test fail testfail exception print test disabled message printtestdisabledmessage compile errors collision helper test fail testfail exception helper test fail testfail exception bug check shadowing checkshadowing print test disabled message printtestdisabledmessage test disabled clear treats helper test fail testfail exception helper test fail testfail exception helper
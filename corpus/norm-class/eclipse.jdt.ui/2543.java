copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk core refactoring tests history java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java io exception ioexception java unsupported encoding exception unsupportedencodingexception java util array list arraylist java util list java util map junit framework test case testcase org eclipse core runtime core exception coreexception org eclipse jface text bad location exception badlocationexception org eclipse jface text default line tracker defaultlinetracker org eclipse jface text i line tracker ilinetracker org eclipse jface text i region iregion org eclipse ltk core refactoring i refactoring core status codes irefactoringcorestatuscodes org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring descriptor proxy refactoringdescriptorproxy org eclipse ltk core refactoring refactoring session descriptor refactoringsessiondescriptor org eclipse ltk core refactoring history refactoring history refactoringhistory org eclipse ltk internal core refactoring history refactoring descriptor proxy adapter refactoringdescriptorproxyadapter refactoring history serialization tests refactoringhistoryserializationtests test case testcase compare read history comparereadhistory refactoring descriptor refactoringdescriptor descriptors flags string xml io exception ioexception core exception coreexception list refactoring descriptor proxy adapter refactoringdescriptorproxyadapter list array list arraylist descriptors length list add refactoring descriptor proxy adapter refactoringdescriptorproxyadapter descriptors byte array input stream bytearrayinputstream stream io exception ioexception stream byte array input stream bytearrayinputstream xml get bytes getbytes utf override read io exception ioexception io exception ioexception stream byte array input stream bytearrayinputstream xml get bytes getbytes utf refactoring history refactoringhistory result refactoring core refactoringcore get history service gethistoryservice read refactoring history readrefactoringhistory stream flags refactoring descriptor proxy refactoringdescriptorproxy actual proxies actualproxies result get descriptors getdescriptors refactoring descriptor proxy refactoringdescriptorproxy expected proxies expectedproxies list to array toarray refactoring descriptor proxy refactoringdescriptorproxy list size assert equals assertequals number refactoring descriptors incorrect expected proxies expectedproxies length actual proxies actualproxies length expected proxies expectedproxies length refactoring descriptor refactoringdescriptor expected descriptor expecteddescriptor expected proxies expectedproxies request descriptor requestdescriptor assert not null assertnotnull expected refactoring descriptor resolved expected descriptor expecteddescriptor refactoring descriptor refactoringdescriptor actual descriptor actualdescriptor actual proxies actualproxies request descriptor requestdescriptor assert not null assertnotnull actual refactoring descriptor resolved actual descriptor actualdescriptor assert equals assertequals expected refactoring descriptor equal actual expected descriptor expecteddescriptor to string tostring actual descriptor actualdescriptor to string tostring unsupported encoding exception unsupportedencodingexception exception assert false assertfalse unsupported encoding byte array output stream bytearrayoutputstream compare written descriptor comparewrittendescriptor refactoring session descriptor refactoringsessiondescriptor descriptor time string xml core exception coreexception byte array output stream bytearrayoutputstream stream byte array output stream bytearrayoutputstream refactoring core refactoringcore get history service gethistoryservice write refactoring session writerefactoringsession descriptor stream time assert equals assertequals refactoring descriptor correctly serialized convert line delimiters convertlinedelimiters xml stream to string tostring utf unsupported encoding exception unsupportedencodingexception exception assert false assertfalse unsupported encoding byte array output stream bytearrayoutputstream string concatenate string lines string delimiter string buffer stringbuffer buffer string buffer stringbuffer lines length buffer append delimiter buffer append lines buffer to string tostring string convert into lines convertintolines string input i line tracker ilinetracker tracker default line tracker defaultlinetracker tracker input size tracker get number of lines getnumberoflines string result string size size i region iregion region tracker get line information getlineinformation offset region get offset getoffset result input substring offset offset region get length getlength result bad location exception badlocationexception string convert line delimiters convertlinedelimiters string xml string delimiter system get property getproperty separator assert not null assertnotnull determine separator delimiter equals delimiter xml concatenate convert into lines convertintolines xml delimiter xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session comment mock comment version refactoring arg arg arg comment mock comment description mock refactoring flags org eclipse ltk core mock project test session flags refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor descriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring mock comment refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor breaking change map string string arguments descriptor get arguments getarguments arguments arg arguments arg arguments arg compare read history comparereadhistory refactoring descriptor refactoringdescriptor descriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session comment mock comment version refactoring arg arg arg comment mock comment description mock refactoring flags org eclipse ltk core mock project test session flags refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor descriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring mock comment refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change map string string arguments descriptor get arguments getarguments arguments arg arguments arg arguments arg compare read history comparereadhistory refactoring descriptor refactoringdescriptor descriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml core exception coreexception exception assert equals assertequals wrong status code refactoring history error i refactoring core status codes irefactoringcorestatuscodes refactoring history error exception get status getstatus get code getcode test read descriptor testreaddescriptor exception string xml xml version encoding utf session version ref act refact oring arg ment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml core exception coreexception exception assert equals assertequals wrong status code refactoring history error i refactoring core status codes irefactoringcorestatuscodes refactoring history error exception get status getstatus get code getcode test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg ment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml core exception coreexception exception assert equals assertequals wrong status code refactoring history error i refactoring core status codes irefactoringcorestatuscodes refactoring history error exception get status getstatus get code getcode test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock session flags refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor descriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor map string string arguments descriptor get arguments getarguments arguments arg compare read history comparereadhistory refactoring descriptor refactoringdescriptor descriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock session flags refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change map string string arguments get arguments getarguments arguments arg arguments get arguments getarguments arguments arg compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml test read descriptor testreaddescriptor exception string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml core exception coreexception exception assert equals assertequals wrong status code unsupported refactoring history version exception i refactoring core status codes irefactoringcorestatuscodes unsupported refactoring history version exception get status getstatus get code getcode test read descriptor testreaddescriptor exception string xml xml version encoding utf session refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml core exception coreexception exception assert equals assertequals wrong status code missing refactoring history version exception i refactoring core status codes irefactoringcorestatuscodes missing refactoring history version exception get status getstatus get code getcode test read descriptor testreaddescriptor exception string xml xml version encoding utf error version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version error flags refactoring descriptor refactoringdescriptor multi change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments version compare read history comparereadhistory refactoring descriptor refactoringdescriptor flags xml core exception coreexception exception assert equals assertequals wrong status code refactoring history format exception i refactoring core status codes irefactoringcorestatuscodes refactoring history format error exception get status getstatus get code getcode test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor descriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring mock comment refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor breaking change map string string arguments descriptor get arguments getarguments arguments arg arguments arg arguments arg string version string comment mock comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor descriptor version comment string xml xml version encoding utf session comment mock comment version refactoring arg arg arg comment mock comment description mock refactoring flags org eclipse ltk core mock project test session compare written descriptor comparewrittendescriptor session xml test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor descriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring mock comment refactoring descriptor refactoringdescriptor structural change refactoring descriptor refactoringdescriptor multi change map string string arguments descriptor get arguments getarguments arguments arg arguments arg arguments arg string version string comment mock comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor descriptor version comment string xml xml version encoding utf session comment mock comment version refactoring arg arg arg comment mock comment description mock refactoring flags org eclipse ltk core mock project test session compare written descriptor comparewrittendescriptor session xml test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor descriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor map string string arguments descriptor get arguments getarguments arguments arg string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor descriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock session compare written descriptor comparewrittendescriptor session xml test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change map string string arguments get arguments getarguments arguments arg arguments get arguments getarguments arguments arg string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock session compare written descriptor comparewrittendescriptor session xml test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session compare written descriptor comparewrittendescriptor session xml test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session compare written descriptor comparewrittendescriptor session xml core exception coreexception exception assert equals assertequals wrong status code refactoring history format exception i refactoring core status codes irefactoringcorestatuscodes refactoring history format error exception get status getstatus get code getcode test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session compare written descriptor comparewrittendescriptor session xml core exception coreexception exception assert equals assertequals wrong status code refactoring history format exception i refactoring core status codes irefactoringcorestatuscodes refactoring history format error exception get status getstatus get code getcode test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session compare written descriptor comparewrittendescriptor session xml core exception coreexception exception assert equals assertequals wrong status code refactoring history format exception i refactoring core status codes irefactoringcorestatuscodes refactoring history format error exception get status getstatus get code getcode test write descriptor testwritedescriptor exception mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring mock comment refactoring descriptor refactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor mock refactoring comment refactoring descriptor refactoringdescriptor breaking change mock refactoring descriptor mockrefactoringdescriptor mock refactoring descriptor mockrefactoringdescriptor test mock refactoring refactoring descriptor refactoringdescriptor breaking change refactoring descriptor refactoringdescriptor multi change map string string arguments get arguments getarguments arguments arg arguments get arguments getarguments arguments arg arguments version arguments get arguments getarguments arguments arg arguments version string version string comment refactoring session descriptor refactoringsessiondescriptor session refactoring session descriptor refactoringsessiondescriptor refactoring descriptor refactoringdescriptor version comment string xml xml version encoding utf session version refactoring arg comment mock comment description mock refactoring org eclipse ltk core mock refactoring arg comment comment description mock refactoring flags org eclipse ltk core mock version refactoring arg description mock refactoring flags org eclipse ltk core mock project test version session compare written descriptor comparewrittendescriptor session xml
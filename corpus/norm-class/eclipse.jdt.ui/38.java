copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal refactoring nls java util array list arraylist java util hash map hashmap java util list org eclipse swt widgets display org eclipse jface window window org eclipse dialogs element list selection dialog elementlistselectiondialog org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java model exception javamodelexception org eclipse jdt java element label provider javaelementlabelprovider org eclipse jdt internal java plugin javaplugin org eclipse jdt internal wizards dialogfields dialog field dialogfield org eclipse jdt internal wizards dialogfields i string button adapter istringbuttonadapter package browse adapter packagebrowseadapter i string button adapter istringbuttonadapter package selection dialog button field packageselectiondialogbuttonfield f receiver freceiver i compilation unit icompilationunit f cu fcu package browse adapter packagebrowseadapter i compilation unit icompilationunit unit f cu fcu unit set receiver setreceiver package selection dialog button field packageselectiondialogbuttonfield receiver f receiver freceiver receiver override change control pressed changecontrolpressed dialog field dialogfield field element list selection dialog elementlistselectiondialog dialog element list selection dialog elementlistselectiondialog display get current getcurrent get active shell getactiveshell java element label provider javaelementlabelprovider dialog set ignore case setignorecase dialog set title settitle nls ui messages nlsuimessages package browse adapter packagebrowseadapter selection dialog set message setmessage nls ui messages nlsuimessages package browse adapter packagebrowseadapter choose dialog set elements setelements create package list input createpackagelistinput f cu fcu dialog open window i package fragment ipackagefragment selected package selectedpackage i package fragment ipackagefragment dialog get first result getfirstresult selected package selectedpackage f receiver freceiver set package setpackage selected package selectedpackage object create package list input createpackagelistinput i compilation unit icompilationunit string element name match elementnamematch i java project ijavaproject project get java project getjavaproject i package fragment root ipackagefragmentroot roots project get package fragment roots getpackagefragmentroots list i package fragment ipackagefragment result array list arraylist hash map hashmap string object entered hash map hashmap roots length can add package root canaddpackageroot roots get valid packages getvalidpackages roots result entered element name match elementnamematch result to array toarray java model exception javamodelexception java plugin javaplugin log object can add package root canaddpackageroot i package fragment root ipackagefragmentroot root java model exception javamodelexception root exists root is archive isarchive root is external isexternal root is read only isreadonly root is structure known isstructureknown get valid packages getvalidpackages i package fragment root ipackagefragmentroot root list i package fragment ipackagefragment result hash map hashmap string object entered string element name match elementnamematch java model exception javamodelexception i java element ijavaelement children children root get children getchildren java model exception javamodelexception children length children i package fragment ipackagefragment i package fragment ipackagefragment package fragment packagefragment i package fragment ipackagefragment children string package name packagename package fragment packagefragment get element name getelementname entered entered contains key containskey package name packagename can add package canaddpackage package fragment packagefragment element name match elementnamematch element name match elementnamematch equals package name packagename result add package fragment packagefragment entered entered package name packagename can add package canaddpackage i package fragment ipackagefragment java model exception javamodelexception exists is read only isreadonly is structure known isstructureknown list i package fragment ipackagefragment search all packages searchallpackages i java project ijavaproject project string matcher i package fragment root ipackagefragmentroot roots project get package fragment roots getpackagefragmentroots list i package fragment ipackagefragment result array list arraylist roots length can add package root canaddpackageroot roots get valid packages getvalidpackages roots result matcher result java model exception javamodelexception java plugin javaplugin log array list arraylist
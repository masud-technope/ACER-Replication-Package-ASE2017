copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter deploy java application executable jar org eclipse jdt jar package r jarpackager java input stream inputstream java output stream outputstream org eclipse swt widgets shell org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse jface operation i runnable context irunnablecontext org eclipse ltk core refactoring refactoring descriptor proxy refactoringdescriptorproxy org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt internal java plugin javaplugin org eclipse jdt internal jar package r jarpackager jar file export operation jarfileexportoperation org eclipse jdt internal jar package r jarpackager jar package reader jarpackagereader org eclipse jdt internal jar package r jarpackager jar package writer jarpackagewriter org eclipse jdt internal jar package r jarpackager jar package r util jarpackagerutil org eclipse jdt internal jar package r jarpackager plain jar builder plainjarbuilder org eclipse jdt internal jarpackager f at jarpackagerfat unpack fat jar builder unpackfatjarbuilder org eclipse jdt internal util busy indicator runnable context busyindicatorrunnablecontext model jar stores jar export clients subclass org eclipse jdt jar package r jarpackager jar writer jarwriter jar package data jarpackagedata string f manifest version fmanifestversion export internal locations list f exported fexported f export fexport export generated files resources f export class files fexportclassfiles export output folder enclosing projects f export output folders fexportoutputfolders export java files resources f export java files fexportjavafiles source folder hierarchy created jar f use source folder hierarchy fusesourcefolderhierarchy projects files exported built auto build f build if needed fbuildifneeded leaf elements containers export workspace object f elements felements external location i path ipath f jar location fjarlocation f overwrite foverwrite f comp ress fcompress f save description fsavedescription internal location i path ipath f description location fdescriptionlocation normal jar manifest f uses manifest fusesmanifest manifest contributed ways generated f generate manifest fgeneratemanifest saved f save manifest fsavemanifest saved reused f reuse manifest freusemanifest impl ies implies f save manifest fsavemanifest f generate manifest fgeneratemanifest manifest location f manifest location fmanifestlocation f uses manifest fusesmanifest f save manifest fsavemanifest f reuse manifest freusemanifest f generate manifest fgeneratemanifest internal location i path ipath f manifest location fmanifestlocation sealing jar sealed f seal jar fsealjar list unsealed packages defined f packages to unseal fpackagestounseal list sealed packages unsealed f seal jar fsealjar list sealed packages defined f packages to seal fpackagestoseal list unsealed packages f seal jar fsealjar i package fragment ipackagefragment f packages to seal fpackagestoseal i package fragment ipackagefragment f packages to unseal fpackagestounseal i type itype f manifest main class fmanifestmainclass jar comment string f comment fcomment error handling f export errors fexporterrors f export warnings fexportwarnings provider manifest file i manifest provider imanifestprovider f manifest provider fmanifestprovider add directory entries jar f include directory entries fincludedirectoryentries projects store refactoring i project iproject f refactoring projects frefactoringprojects refactoring aware f refactoring aware frefactoringaware exporter export ref actorings refactorings causing structural f refactoring structural frefactoringstructural exporter include deprecation resolving f deprecation aware fdeprecationaware refactoring descriptors export refactoring descriptor proxy refactoringdescriptorproxy f refactoring descriptors frefactoringdescriptors builder jar file export operation jarfileexportoperation build jar file i jar builder ijarbuilder f jar builder fjarbuilder launch configuration f at fat jar builder determine dependencies string f launch configuration name flaunchconfigurationname creates jar data structure jar package data jarpackagedata set export class files setexportclassfiles set export output folders setexportoutputfolders set use source folder hierarchy setusesourcefolderhierarchy set comp ress setcompress set save description setsavedescription set jar location setjarlocation path empty set description location setdescriptionlocation path empty set uses manifest setusesmanifest set generate manifest setgeneratemanifest set reuse manifest setreusemanifest set save manifest setsavemanifest set manifest location setmanifestlocation path empty set export errors setexporterrors set export warnings setexportwarnings set build if needed setbuildifneeded set include directory entries setincludedirectoryentries access ors accessors tells jar comp res sed compressed code code jar comp res sed compressed is comp res sed iscompressed f comp ress fcompress jar comp res sed compressed param indicating set comp ress setcompress f comp ress fcompress tells files overwritten warning code code files overwritten warning allow overwrite allowoverwrite f overwrite foverwrite sets files overwritten warning param indicating set overwrite setoverwrite f overwrite foverwrite tells files resources exported code code files resources exported are class files exported areclassfilesexported f export class files fexportclassfiles sets option export files resources param indicating set export class files setexportclassfiles f export class files fexportclassfiles tells output folders enclosing projects exported elements code code output folder exported are output folders exported areoutputfoldersexported f export output folders fexportoutputfolders sets option export output folders enclosing projects exported elements param indicating set export output folders setexportoutputfolders f export output folders fexportoutputfolders tells files created java builder exported code code output folder exported are generated files exported aregeneratedfilesexported f export output folders fexportoutputfolders f export class files fexportclassfiles tells java files resources exported code code java files resources exported are java files exported arejavafilesexported f export java files fexportjavafiles sets option export java source resources param set export java files setexportjavafiles f export java files fexportjavafiles tells source folder hierarchy source folder hierarchy sense java files files exported code code source folder hierarchy use source folder hierarchy usesourcefolderhierarchy f use source folder hierarchy fusesourcefolderhierarchy option export source folder hierarchy param set use source folder hierarchy setusesourcefolderhierarchy f use source folder hierarchy fusesourcefolderhierarchy absolute location jar file path external workspace absolute path representing location jar file i path ipath get absolute jar location getabsolutejarlocation f jar location fjarlocation is absolute isabsolute i workspace root iworkspaceroot root resources plugin resourcesplugin get workspace getworkspace get root getroot nls f jar location fjarlocation segment count segmentcount equals f jar location fjarlocation segment reverse abstract jar destination wizard page abstractjardestinationwizardpage handle destination browse button pressed handledestinationbrowsebuttonpressed i file ifile file root get file getfile f jar location fjarlocation i path ipath absolute path absolutepath file get location getlocation absolute path absolutepath absolute path absolutepath fallback append path workspace root root get location getlocation append f jar location fjarlocation f jar location fjarlocation location jar file path external workspace path representing location jar file i path ipath get jar location getjarlocation f jar location fjarlocation sets jar file location param jar location jarlocation path denoting location jar file set jar location setjarlocation i path ipath jar location jarlocation f jar location fjarlocation jar location jarlocation tells manifest file generated code code manifest generated is manifest generated ismanifestgenerated f generate manifest fgeneratemanifest manifest generated param set generate manifest setgeneratemanifest f generate manifest fgeneratemanifest tells manifest file saved file export operation code code manifest saved get manifest location getmanifestlocation is manifest saved ismanifestsaved f save manifest fsavemanifest sets manifest file saved export operation param get manifest location getmanifestlocation set save manifest setsavemanifest f save manifest fsavemanifest f save manifest fsavemanifest reuse manifest saved set reuse manifest setreusemanifest tells generated manifest reused code code generated manifest reused reg enerating regenerating jar code code manifest reg enerated regenerated is manifest reuse d ismanifestreused f reuse manifest freusemanifest sets generated manifest reused param set reuse manifest setreusemanifest f reuse manifest freusemanifest f reuse manifest freusemanifest manifest saved order reused set save manifest setsavemanifest returns location user defined manifest file path user defined manifest file location code code i path ipath get manifest location getmanifestlocation f manifest location fmanifestlocation sets location user defined manifest file param manifest location manifestlocation path user define manifest location set manifest location setmanifestlocation i path ipath manifest location manifestlocation f manifest location fmanifestlocation manifest location manifestlocation manifest file workspace resource file points manifest i file ifile get manifest file getmanifestfile i path ipath path get manifest location getmanifestlocation path is valid path isvalidpath path to string tostring path segment count segmentcount java plugin javaplugin get workspace getworkspace get root getroot get file getfile path manifest version string manifest version string get manifest version getmanifestversion f manifest version fmanifestversion nls f manifest version fmanifestversion sets manifest version param manifest version manifestversion string manifest version set manifest version setmanifestversion string manifest version manifestversion f manifest version fmanifestversion manifest version manifestversion answers manifest included jar code code manifest included uses manifest usesmanifest f uses manifest fusesmanifest sets manifest included jar param set uses manifest setusesmanifest f uses manifest fusesmanifest manifest provider jar i manifest provider imanifestprovider i manifest provider imanifestprovider get manifest provider getmanifestprovider f manifest provider fmanifestprovider get jar builder getjarbuilder get manifest provider getmanifestprovider f manifest provider fmanifestprovider sets manifest provider param manifest provider manifestprovider manifest provider manifestprovider set manifest provider setmanifestprovider i manifest provider imanifestprovider manifest provider manifestprovider f manifest provider fmanifestprovider manifest provider manifestprovider answers jar sealed manifest sealed statement option considered manifest file generated code code jar sealed is manifest generated ismanifestgenerated is jar sealed isjarsealed f seal jar fsealjar sets jar sealed manifest entry sealed option considered manifest file generated param seal jar sealjar code code jar sealed is manifest generated ismanifestgenerated set seal jar setsealjar seal jar sealjar f seal jar fsealjar seal jar sealjar sets packages sealed entry manifest file sealed jar sealed param packages to seal packagestoseal array code i package fragment ipackagefragment code seal set packages to seal setpackagestoseal i package fragment ipackagefragment packages to seal packagestoseal f packages to seal fpackagestoseal packages to seal packagestoseal packages sealed entry manifest file sealed jar sealed array code i package fragment ipackagefragment code i package fragment ipackagefragment get packages to seal getpackagestoseal f packages to seal fpackagestoseal i package fragment ipackagefragment f packages to seal fpackagestoseal packages explicitly unsealed entry manifest file sealed jar sealed array code i package fragment ipackagefragment code i package fragment ipackagefragment get packages to unseal getpackagestounseal f packages to unseal fpackagestounseal i package fragment ipackagefragment f packages to unseal fpackagestounseal packages explicitly unsealed entry manifest file sealed jar sealed param packages to unseal packagestounseal array code i package fragment ipackagefragment code set packages to unseal setpackagestounseal i package fragment ipackagefragment packages to unseal packagestounseal f packages to unseal fpackagestounseal packages to unseal packagestounseal tells description jar saved file jar description writer export operation jar writer defines format file code code jar saved get description location getdescriptionlocation is description saved isdescriptionsaved f save description fsavedescription description jar saved file jar description writer export operation format defined client reader writer pair param get description location getdescriptionlocation i jar description writer ijardescriptionwriter set save description setsavedescription f save description fsavedescription returns location file description jar location workspace path description file location code code i path ipath get description location getdescriptionlocation f description location fdescriptionlocation location jar description file param description location descriptionlocation path location set description location setdescriptionlocation i path ipath description location descriptionlocation f description location fdescriptionlocation description location descriptionlocation description file workspace resource file points description i file ifile get description file getdescriptionfile i path ipath path get description location getdescriptionlocation path is valid path isvalidpath path to string tostring path segment count segmentcount java plugin javaplugin get workspace getworkspace get root getroot get file getfile path manifest main type main code code i type itype get manifest main class getmanifestmainclass f manifest main class fmanifestmainclass manifest main param manifest main class manifestmainclass type main manifest file set manifest main class setmanifestmainclass i type itype manifest main class manifestmainclass f manifest main class fmanifestmainclass manifest main class manifestmainclass returns elements exported elements leaf objects code i file ifile code containers array leaf objects object get elements getelements f elements felements set elements setelements object f elements felements elements exported elements leaf objects code i file ifile code containers param elements array leaf objects set elements setelements object elements f elements felements elements returns jar comment comment string code code jar comment string get comment getcomment f comment fcomment sets jar comment param comment string code code jar comment set comment setcomment string comment f comment fcomment comment errors logged export operation decides errors logged code code errors logged deprecated removed deprecated log errors logerrors sets errors logged export operation decides errors logged param log errors logerrors code code errors logged deprecated removed deprecated set log errors setlogerrors log errors logerrors tells warnings logged export operation decides warnings logged code code warnings logged deprecated removed deprecated log warnings logwarnings sets warnings logged export operation decides warnings logged param log warnings logwarnings code code warnings logged deprecated removed deprecated set log warnings setlogwarnings log warnings logwarnings answers compilation units errors exported code code cu s cus errors exported are errors exported areerrorsexported f export errors fexporterrors sets compilation units errors exported param export errors exporterrors code code cu s cus errors exported set export errors setexporterrors export errors exporterrors f export errors fexporterrors export errors exporterrors answers compilation units warnings exported code code cu s cus warnings exported export warnings exportwarnings f export warnings fexportwarnings sets compilation units warnings exported param export warnings exportwarnings code code cu s cus warnings exported set export warnings setexportwarnings export warnings exportwarnings f export warnings fexportwarnings export warnings exportwarnings answers build performed exporting files flag considered auto build telling build performed is building if needed isbuildingifneeded f build if needed fbuildifneeded sets build performed exporting files flag considered auto build param build if needed buildifneeded telling build performed set build if needed setbuildifneeded build if needed buildifneeded f build if needed fbuildifneeded build if needed buildifneeded utility methods finds files java file returns hook subclasses implement str ategy strategy finding files str ategy strategy query files source file attribute attribute missing files output folder exported core exception coreexception thrown error occurs operation code core exception coreexception code export process adds status object status export runnable param java file javafile java file array files code code str ategy strategy core exception coreexception find failed error resource sync i jar export runnable ijarexportrunnable get status getstatus i file ifile find class files for findclassfilesfor i file ifile java file javafile core exception coreexception creates returns jar writer jarwriter jar param parent shell display question dialogs code code cancel answer dialog jar writer jarwriter jar writer jarwriter core exception coreexception unexpected exception deprecated link create jar writer createjarwriter shell deprecated jar writer jarwriter create jar writer createjarwriter shell parent core exception coreexception jar writer jarwriter parent creates returns jar writer jarwriter jar param parent shell display question dialogs code code cancel answer dialog jar writer jarwriter jar writer jarwriter core exception coreexception unexpected exception deprecated link create plain jar builder createplainjarbuilder deprecated jar writer jarwriter create jar writer createjarwriter shell parent core exception coreexception jar writer jarwriter parent creates returns jar builder capable handling files archives instance plain jar builder i jar builder ijarbuilder create plain jar builder createplainjarbuilder plain jar builder plainjarbuilder creates returns jar builder capable handling files archives instance f at fat jar builder i jar builder ijarbuilder create fat jar builder createfatjarbuilder unpack fat jar builder unpackfatjarbuilder creates returns jar export runnable jarexportrunnable param parent parent dialog code code questions asked checks unsaved files jar export runnable jarexportrunnable i jar export runnable ijarexportrunnable create jar export runnable createjarexportrunnable shell parent jar file export operation jarfileexportoperation parent creates returns jar export runnable jarexportrunnable list jar data objects param jar packages data jarpackagesdata array jar data objects param parent parent dialog code code dialog presented link i jar export runnable ijarexportrunnable i jar export runnable ijarexportrunnable create jar export runnable createjarexportrunnable jar package data jarpackagedata jar packages data jarpackagesdata shell parent jar file export operation jarfileexportoperation jar packages data jarpackagesdata parent creates returns jar data description writer jar data object client res ponsibility responsibility close writer param output stream outputstream output stream write jar writer jarwriter deprecated link create jar description writer createjardescriptionwriter output stream outputstream string deprecated i jar description writer ijardescriptionwriter create jar description writer createjardescriptionwriter output stream outputstream output stream outputstream nls jar package writer jarpackagewriter output stream outputstream utf creates returns jar data description writer jar data object client res ponsibility responsibility close writer param output stream outputstream output stream write param encoding encoding jar writer jarwriter i jar description writer ijardescriptionwriter create jar description writer createjardescriptionwriter output stream outputstream output stream outputstream string encoding jar package writer jarpackagewriter output stream outputstream encoding creates returns jar data description reader jar data object client res ponsibility responsibility close reader param input stream inputstream input stream read jar writer jarwriter i jar description reader ijardescriptionreader create jar description reader createjardescriptionreader input stream inputstream input stream inputstream jar package reader jarpackagereader input stream inputstream tells jar data generate valid jar code code jar info valid is valid isvalid are generated files exported aregeneratedfilesexported are java files exported arejavafilesexported get elements getelements get elements getelements length get absolute jar location getabsolutejarlocation is manifest accessible ismanifestaccessible is main class valid ismainclassvalid busy indicator runnable context busyindicatorrunnablecontext tells manifest code code manifest generated accessible is manifest accessible ismanifestaccessible is manifest generated ismanifestgenerated i file ifile file get manifest file getmanifestfile file file is accessible isaccessible tells manifest main valid param context link i runnable context irunnablecontext code code main valid is main class valid ismainclassvalid i runnable context irunnablecontext context jar package r util jarpackagerutil is main class valid ismainclassvalid context tells directory entries jar code code directory entries included are directory entries included aredirectoryentriesincluded f include directory entries fincludedirectoryentries sets option include directory entries jar param include directory entries includedirectoryentries code code include directory entries code code set include directory entries setincludedirectoryentries include directory entries includedirectoryentries f include directory entries fincludedirectoryentries include directory entries includedirectoryentries returns projects refactoring stored jar export projects refactoring stored empty array i project iproject get refactoring projects getrefactoringprojects f refactoring projects frefactoringprojects jar export wizard exporting ref actorings refactorings causing structural jar export code code exporting structural code code is export structural only isexportstructuralonly f refactoring structural frefactoringstructural jar refactoring aware jar export code code refactoring aware code code is refactoring aware isrefactoringaware f refactoring aware frefactoringaware jar deprecation aware jar export code code deprecation aware code code is deprecation aware isdeprecationaware f deprecation aware fdeprecationaware sets projects refactoring stored jar export param projects projects refactoring stored set refactoring projects setrefactoringprojects i project iproject projects is not null isnotnull projects f refactoring projects frefactoringprojects projects determines jar refactoring aware jar export param aware code code refactoring aware code code set refactoring aware setrefactoringaware aware f refactoring aware frefactoringaware aware determines jar deprecation aware jar export param aware code code deprecation aware code code set deprecation aware setdeprecationaware aware f deprecation aware fdeprecationaware aware sets refactoring descriptors export jar export param descriptors refactoring descriptors set refactoring descriptors setrefactoringdescriptors refactoring descriptor proxy refactoringdescriptorproxy descriptors is not null isnotnull descriptors f refactoring descriptors frefactoringdescriptors descriptors returns refactoring descriptors export jar export refactoring descriptors export refactoring descriptor proxy refactoringdescriptorproxy get refactoring descriptors getrefactoringdescriptors f refactoring descriptors frefactoringdescriptors determines jar package r packager exports ref actorings refactorings causing structural jar export param structural code code exports ref actorings refactorings causing structural code code set export structural only setexportstructuralonly structural f refactoring structural frefactoringstructural structural returns jar builder build jar data builder i jar builder ijarbuilder get jar builder getjarbuilder f jar builder fjarbuilder f jar builder fjarbuilder create plain jar builder createplainjarbuilder f jar builder fjarbuilder jar builder build jar param jar builder jarbuilder builder set jar builder setjarbuilder i jar builder ijarbuilder jar builder jarbuilder f jar builder fjarbuilder jar builder jarbuilder launch configuration retrieve classpath launch configuration string get launch configuration name getlaunchconfigurationname f launch configuration name flaunchconfigurationname launch configuration form retrieve classpath param launch configuration set launch configuration name setlaunchconfigurationname string f launch configuration name flaunchconfigurationname
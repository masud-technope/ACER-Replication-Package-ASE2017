copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal refactoring java util array list arraylist java util collections java util comparator java util hash map hashmap java util list java util map org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse text edits text edit textedit org eclipse jface resource image descriptor imagedescriptor org eclipse jface text i region iregion org eclipse jface text region org eclipse ltk core refactoring multi state text file change multistatetextfilechange org eclipse ltk core refactoring text edit based change texteditbasedchange org eclipse ltk core refactoring text edit based change group texteditbasedchangegroup org eclipse ltk refactoring language element node languageelementnode org eclipse ltk refactoring text edit change node texteditchangenode org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i source range isourcerange org eclipse jdt core i source reference isourcereference org eclipse jdt core java model exception javamodelexception org eclipse jdt java element labels javaelementlabels org eclipse jdt internal viewsupport java element image provider javaelementimageprovider compilation unit change node compilationunitchangenode text edit change node texteditchangenode child node childnode empty children child node childnode java language node javalanguagenode language element node languageelementnode i java element ijavaelement f java element fjavaelement java element image provider javaelementimageprovider f g image provider fgimageprovider java element image provider javaelementimageprovider java language node javalanguagenode text edit change node texteditchangenode parent i java element ijavaelement element parent f java element fjavaelement element is not null isnotnull f java element fjavaelement java language node javalanguagenode child node childnode parent i java element ijavaelement element parent f java element fjavaelement element is not null isnotnull f java element fjavaelement override string get text gettext java element labels javaelementlabels get element label getelementlabel f java element fjavaelement java element labels javaelementlabels override image descriptor imagedescriptor get image descriptor getimagedescriptor f g image provider fgimageprovider get java image descriptor getjavaimagedescriptor f java element fjavaelement java element image provider javaelementimageprovider overlay icons java element image provider javaelementimageprovider small icons override i region iregion get text range gettextrange core exception coreexception i source range isourcerange range i source reference isourcereference f java element fjavaelement get source range getsourcerange region range get offset getoffset range get length getlength compilation unit change node compilationunitchangenode text edit based change texteditbasedchange change change override child node childnode create child nodes createchildnodes text edit based change texteditbasedchange change get text edit based change gettexteditbasedchange change multi state text file change multistatetextfilechange edit preview edit disabling multi state text file change multistatetextfilechange edits applied sequence child node childnode i compilation unit icompilationunit cunit change get adapter getadapter i compilation unit icompilationunit cunit list child node childnode children array list arraylist map i java element ijavaelement java language node javalanguagenode map hash map hashmap text edit based change group texteditbasedchangegroup get sorted change groups getsortedchangegroups change length text edit based change group texteditbasedchangegroup tec i java element ijavaelement element get modified java element getmodifiedjavaelement tec cunit element equals cunit children add create text edit group node createtexteditgroupnode tec java language node javalanguagenode pjce get change element getchangeelement map element children pjce add child addchild create text edit group node createtexteditgroupnode pjce tec java model exception javamodelexception children add create text edit group node createtexteditgroupnode tec children to array toarray child node childnode children size empty children offset comparator offsetcomparator comparator text edit based change group texteditbasedchangegroup override compare text edit based change group texteditbasedchangegroup text edit based change group texteditbasedchangegroup get offset getoffset get offset getoffset offset get offset getoffset text edit based change group texteditbasedchangegroup edit edit get region getregion get offset getoffset text edit based change group texteditbasedchangegroup get sorted change groups getsortedchangegroups text edit based change texteditbasedchange change text edit based change group texteditbasedchangegroup edits change get change groups getchangegroups list text edit based change group texteditbasedchangegroup result array list arraylist edits length edits length edits get text edit group gettexteditgroup is empty isempty result add edits comparator text edit based change group texteditbasedchangegroup comparator offset comparator offsetcomparator collections sort result comparator result to array toarray text edit based change group texteditbasedchangegroup result size i java element ijavaelement get modified java element getmodifiedjavaelement text edit based change group texteditbasedchangegroup edit i compilation unit icompilationunit cunit java model exception javamodelexception i region iregion range edit get region getregion range get offset getoffset range get length getlength cunit i java element ijavaelement result cunit get element at getelementat range get offset getoffset result cunit i source reference isourcereference i source reference isourcereference result i region iregion s range srange region get source range getsourcerange get offset getoffset get source range getsourcerange get length getlength result get element type getelementtype i java element ijavaelement compilation unit result get parent getparent covered by coveredby edit s range srange result result get parent getparent java model exception javamodelexception class cast exception classcastexception result java language node javalanguagenode get change element getchangeelement map i java element ijavaelement java language node javalanguagenode map i java element ijavaelement element list child node childnode children text edit change node texteditchangenode cunit change cunitchange java language node javalanguagenode result map element result result i java element ijavaelement parent element get parent getparent parent i compilation unit icompilationunit result java language node javalanguagenode cunit change cunitchange element children add result map element result java language node javalanguagenode parent change parentchange get change element getchangeelement map parent children cunit change cunitchange result java language node javalanguagenode parent change parentchange element parent change parentchange add child addchild result map element result result covered by coveredby text edit based change group texteditbasedchangegroup group i region iregion source region sourceregion s length slength source region sourceregion get length getlength s length slength s offset soffset source region sourceregion get offset getoffset s end send s offset soffset s length slength text edit textedit edits group get text edits gettextedits edits length text edit textedit edit edits edit is deleted isdeleted r offset roffset edit get offset getoffset r length rlength edit get length getlength r end rend r offset roffset r length rlength r length rlength s offset soffset r offset roffset r offset roffset s end send s offset soffset r offset roffset r end rend s end send
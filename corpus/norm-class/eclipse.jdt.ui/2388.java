copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter deploy java application executable jar org eclipse jdt internal jar package r jarpackager java file org eclipse swt swt org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets button org eclipse swt widgets combo org eclipse swt widgets composite org eclipse swt widgets event org eclipse swt widgets file dialog filedialog org eclipse swt widgets label org eclipse core file system filesystem uri util uriutil org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs i dialog settings idialogsettings org eclipse jface dialogs i message provider imessageprovider org eclipse jface viewers i structured selection istructuredselection org eclipse dialogs wizard export resources page wizardexportresourcespage org eclipse jdt jar package r jarpackager jar package data jarpackagedata org eclipse jdt internal util swt util swtutil org eclipse jdt internal wizards build paths buildpaths archive file filter archivefilefilter wizard destination block jar file inc luding including required validation code clients overwrite code create control createcontrol code abstract jar destination wizard page abstractjardestinationwizardpage wizard export resources page wizardexportresourcespage i jar package wizard page ijarpackagewizardpage string f store destination names id fstoredestinationnamesid combo f destination names combo fdestinationnamescombo button f destination browse button fdestinationbrowsebutton jar package data jarpackagedata f jar package fjarpackage abstract jar destination wizard page abstractjardestinationwizardpage string page name pagename i structured selection istructuredselection selection jar package data jarpackagedata jar package jarpackage page name pagename selection nls f store destination names id fstoredestinationnamesid page name pagename destination names f jar package fjarpackage jar package jarpackage overrides method wizard export page wizardexportpage override create destination group createdestinationgroup composite parent initialize dialog units initializedialogunits parent destination specification group composite destination selection group destinationselectiongroup composite parent swt grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns destination selection group destinationselectiongroup set layout setlayout layout destination selection group destinationselectiongroup set layout data setlayoutdata grid data griddata grid data griddata horizontal align fill grid data griddata vertical align fill string label get destination label getdestinationlabel label label destination selection group destinationselectiongroup swt set text settext label layout margin width marginwidth layout margin height marginheight destination entry field f destination names combo fdestinationnamescombo combo destination selection group destinationselectiongroup swt single swt border swt util swtutil set default visible item count setdefaultvisibleitemcount f destination names combo fdestinationnamescombo f destination names combo fdestinationnamescombo add listener addlistener swt modify f destination names combo fdestinationnamescombo add listener addlistener swt selection grid data griddata data grid data griddata grid data griddata horizontal align fill grid data griddata grab horizontal data width hint widthhint sizing text field width data horizontal span horizontalspan label f destination names combo fdestinationnamescombo set layout data setlayoutdata data label swt util swtutil set acc essibility text setaccessibilitytext f destination names combo fdestinationnamescombo jar packager messages jarpackagermessages abstract jar destination wizard page abstractjardestinationwizardpage destination combo destinationcombo acc essibility text accessibilitytext destination browse button f destination browse button fdestinationbrowsebutton button destination selection group destinationselectiongroup swt push f destination browse button fdestinationbrowsebutton set text settext jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage browse button browsebutton text f destination browse button fdestinationbrowsebutton set layout data setlayoutdata grid data griddata grid data griddata horizontal align fill swt util swtutil set button dimension hint setbuttondimensionhint f destination browse button fdestinationbrowsebutton f destination browse button fdestinationbrowsebutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle destination browse button pressed handledestinationbrowsebuttonpressed open destination browser user source handle destination browse button pressed handledestinationbrowsebuttonpressed file dialog filedialog dialog file dialog filedialog get container getcontainer get shell getshell swt save dialog set filter extensions setfilterextensions archive file filter archivefilefilter jar zip filter extensions string current source string currentsourcestring get destination value getdestinationvalue last separator index lastseparatorindex current source string currentsourcestring last index of lastindexof file separator last separator index lastseparatorindex dialog set filter path setfilterpath current source string currentsourcestring substring last separator index lastseparatorindex dialog set file name setfilename current source string currentsourcestring substring last separator index lastseparatorindex current source string currentsourcestring length string selected file name selectedfilename dialog open selected file name selectedfilename i container icontainer find containers for location findcontainersforlocation resources plugin resourcesplugin get workspace getworkspace get root getroot find containers for location i findcontainersforlocationuri uri util uriutil touri path selected file name selectedfilename make absolute makeabsolute find containers for location findcontainersforlocation length selected file name selectedfilename find containers for location findcontainersforlocation get full path getfullpath make relative makerelative to string tostring f destination names combo fdestinationnamescombo set text settext selected file name selectedfilename answer contents destination specification widget required suffix add java lang string string get destination value getdestinationvalue string destination text destinationtext f destination names combo fdestinationnamescombo get text gettext trim destination text destinationtext index of indexof destination text destinationtext get output suffix getoutputsuffix destination text destinationtext answer string display destination type java lang string string get destination label getdestinationlabel jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage destination label answer suffix files exported wizard suffix file extension typically include leading period character java lang string string get output suffix getoutputsuffix nls jar packager util jarpackagerutil jar extension override restore widget values restorewidgetvalues destination f jar package fjarpackage get jar location getjarlocation is empty isempty nls f destination names combo fdestinationnamescombo set text settext f destination names combo fdestinationnamescombo set text settext f jar package fjarpackage get jar location getjarlocation toosstring i dialog settings idialogsettings settings get dialog settings getdialogsettings settings string directory names directorynames settings get array getarray f store destination names id fstoredestinationnamesid directory names directorynames settings stored f destination names combo fdestinationnamescombo get text gettext equals directory names directorynames f destination names combo fdestinationnamescombo add f destination names combo fdestinationnamescombo get text gettext directory names directorynames length f destination names combo fdestinationnamescombo add directory names directorynames update model updatemodel destination string combo text combotext f destination names combo fdestinationnamescombo get text gettext i path ipath path path fromosstring combo text combotext path segment count segmentcount ensure target file is valid ensuretargetfileisvalid path to file tofile path get file extension getfileextension append jar path path add file extension addfileextension jar packager util jarpackagerutil jar extension f jar package fjarpackage set jar location setjarlocation path returns indicating passed file handle valid param target file targetfile target ensure target file is valid ensuretargetfileisvalid file target file targetfile target file targetfile exists target file targetfile is directory isdirectory f destination names combo fdestinationnamescombo get text gettext length set error message seterrormessage jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage error export destination must not be directory exportdestinationmustnotbedirectory f destination names combo fdestinationnamescombo set focus setfocus target file targetfile exists target file targetfile can write canwrite set error message seterrormessage jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage error jar file exists and not writable jarfileexistsandnotwritable f destination names combo fdestinationnamescombo set focus setfocus overrides method wizard data transfer page wizarddatatransferpage override validate destination group validatedestinationgroup f destination names combo fdestinationnamescombo get text gettext length clear error get error message geterrormessage set error message seterrormessage get message getmessage set message setmessage nls f jar package fjarpackage get absolute jar location getabsolutejarlocation to string tostring ends with endswith set error message seterrormessage jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage error export destination must not be directory exportdestinationmustnotbedirectory f destination names combo fdestinationnamescombo set focus setfocus check jar workspace conflicts containers exported workspace isn local files system fine jar created local file system i path ipath workspace location workspacelocation resources plugin resourcesplugin get workspace getworkspace get root getroot get location getlocation workspace location workspacelocation workspace location workspacelocation is prefix of isprefixof f jar package fjarpackage get absolute jar location getabsolutejarlocation segments workspace location workspacelocation matching first segments matchingfirstsegments f jar package fjarpackage get absolute jar location getabsolutejarlocation i path ipath path f jar package fjarpackage get absolute jar location getabsolutejarlocation remove first segments removefirstsegments segments i resource iresource resource resources plugin resourcesplugin get workspace getworkspace get root getroot find member findmember path resource resource get type gettype i resource iresource file test included jar packager util jarpackagerutil jar packager util jarpackagerutil as resources asresources f jar package fjarpackage get elements getelements i file ifile resource set error message seterrormessage jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage error can t export into itself cantexportjarintoitself info rm inform user relative directory string current message currentmessage get message getmessage path fromosstring f destination names combo fdestinationnamescombo get text gettext is absolute isabsolute current message currentmessage set message setmessage jar packager messages jarpackagermessages jar package wizard page jarpackagewizardpage info relative export destination relativeexportdestination i message provider imessageprovider current message currentmessage set message setmessage ensure target file is valid ensuretargetfileisvalid f jar package fjarpackage get absolute jar location getabsolutejarlocation to file tofile current input focus destination entry field give focus to destination givefocustodestination f destination names combo fdestinationnamescombo set focus setfocus override save widget values savewidgetvalues i dialog settings idialogsettings settings get dialog settings getdialogsettings settings string directory names directorynames settings get array getarray f store destination names id fstoredestinationnamesid directory names directorynames directory names directorynames string directory names directorynames add to history addtohistory directory names directorynames get destination value getdestinationvalue settings f store destination names id fstoredestinationnamesid directory names directorynames initializes jar wizard values initialize jar package initializejarpackage i dialog settings idialogsettings settings get dialog settings getdialogsettings settings destination string directory names directorynames settings get array getarray f store destination names id fstoredestinationnamesid directory names directorynames settings stored f jar package fjarpackage set jar location setjarlocation path fromosstring directory names directorynames method i jar package wizard page ijarpackagewizardpage override finish save widget values savewidgetvalues method listener override handle event handleevent event get control getcontrol update update update model updatemodel update widget enable ments updatewidgetenablements update page completion updatepagecompletion override update page completion updatepagecompletion page complete pagecomplete is page complete ispagecomplete set page complete setpagecomplete page complete pagecomplete page complete pagecomplete set error message seterrormessage
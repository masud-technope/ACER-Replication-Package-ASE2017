copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation nikolay metchev nikolaymetchev gmail move method method invocation compile refactoring https bugs eclipse org nikolay metchev nikolaymetchev gmail move method move method imported method calls intro duces introduces compiler error https bugs eclipse org nikolay metchev nikolaymetchev gmail move method wrong detection duplicate methods result compile errors https bugs eclipse org nikolay metchev nikolaymetchev gmail move method annotation error app lying applying move refactoring inherited methods https bugs eclipse org org eclipse jdt tests refactoring junit framework test junit framework test suite testsuite org eclipse core runtime org eclipse core runtime null progress monitor nullprogressmonitor org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants move refactoring moverefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i method imethod org eclipse jdt core i source range isourcerange org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt internal corext refactoring structure move instance method processor moveinstancemethodprocessor org eclipse jdt tests refactoring infra text range util textrangeutil org eclipse jdt internal preferences java preferences settings javapreferencessettings move instance method tests moveinstancemethodtests refactoring test refactoringtest move instance method tests moveinstancemethodtests clazz move instance method tests moveinstancemethodtests field parameter string refactoring path move instance method moveinstancemethod choose new target choosenewtarget move instance method processor moveinstancemethodprocessor processor new target type newtargettype string new target name newtargetname i variable binding ivariablebinding target i variable binding ivariablebinding targets processor get possible targets getpossibletargets targets length i variable binding ivariablebinding candidate targets candidate get name getname equals new target name newtargetname type matches typematches new target type newtargettype candidate target candidate assert not null assertnotnull expected target target processor set target settarget target i method imethod get method getmethod i compilation unit icompilationunit i source range isourcerange source range sourcerange java model exception javamodelexception i java element ijavaelement jes code select codeselect source range sourcerange get offset getoffset source range sourcerange get length getlength jes length jes i method imethod i method imethod jes test set up test setuptest test some test sometest java setup some test sometest test suite java setup test suite testsuite clazz type matches typematches new target type newtargettype i variable binding ivariablebinding new target newtarget new target type newtargettype parameter new target newtarget is field isfield new target type newtargettype field new target newtarget is field isfield to succeed tosucceed move instance method tests moveinstancemethodtests string i compilation unit icompilationunit createcus string qualified names qualifiednames exception i compilation unit icompilationunit cus i compilation unit icompilationunit qualified names qualifiednames length qualified names qualifiednames length is not null isnotnull qualified names qualifiednames cus create ufrom test file createcufromtestfile get root getroot create package fragment createpackagefragment get qualifier getqualifier qualified names qualifiednames get simple name getsimplename qualified names qualifiednames cus fail helper failhelper string cuqname start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype string new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator exception fail helper failhelper string cuqname cuqname start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator fail helper failhelper string cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype string new receiver name newreceivername string new method name newmethodname string new target name newtargetname inline delegator inlinedelegator remove delegator removedelegator exception is true istrue selection cu index selectioncuindex selection cu index selectioncuindex cuqnames length to succeed tosucceed i compilation unit icompilationunit cus createcus cuqnames i compilation unit icompilationunit selection cu selectioncu cus selection cu index selectioncuindex i source range isourcerange selection text range util textrangeutil get selection getselection selection cu selectioncu start line startline start column startcolumn end line endline end column endcolumn i method imethod method get method getmethod selection cu selectioncu selection assert not null assertnotnull method move instance method processor moveinstancemethodprocessor processor move instance method processor moveinstancemethodprocessor method java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings selection cu selectioncu get java project getjavaproject refactoring move refactoring moverefactoring processor refactoring status refactoringstatus result check initial conditions checkinitialconditions null progress monitor nullprogressmonitor result isok choose new target choosenewtarget processor new receiver type newreceivertype new receiver name newreceivername new target name newtargetname processor set target name settargetname new target name newtargetname processor set inline delegator setinlinedelegator inline delegator inlinedelegator processor set remove delegator setremovedelegator remove delegator removedelegator processor set deprecate delegates setdeprecatedelegates new method name newmethodname processor set method name setmethodname new method name newmethodname result merge check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert true asserttrue precondition checking expected fail result isok fail helper failhelper string cuqnames string selection cu name selectioncuqname start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype string new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator exception selection cu index selectioncuindex first index of firstindexof selection cu name selectioncuqname cuqnames is true istrue selection cu index selectioncuindex parameter selection cu name selectioncuqname match string cuqnames fail helper failhelper cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator fail helper failhelper string cuqnames string selection cu name selectioncuqname start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype string new receiver name newreceivername string original receiver parameter name originalreceiverparametername inline delegator inlinedelegator remove delegator removedelegator exception selection cu index selectioncuindex first index of firstindexof selection cu name selectioncuqname cuqnames is true istrue selection cu index selectioncuindex parameter selection cu name selectioncuqname match string cuqnames fail helper failhelper cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype new receiver name newreceivername original receiver parameter name originalreceiverparametername inline delegator inlinedelegator remove delegator removedelegator first index of firstindexof string string length equals string get qualifier getqualifier string qualified name qualifiedname dot qualified name qualifiedname last index of lastindexof qualified name qualifiedname substring dot dot override string get refactoring path getrefactoringpath refactoring path success path successpath string get simple name getsimplename string qualified name qualifiedname qualified name qualifiedname substring qualified name qualifiedname last index of lastindexof helper string cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new target type newtargettype string new target name newtargetname string new method name newmethodname inline delegator inlinedelegator remove delegator removedelegator exception is true istrue selection cu index selectioncuindex selection cu index selectioncuindex cuqnames length to succeed tosucceed i compilation unit icompilationunit cus createcus cuqnames i compilation unit icompilationunit selection cu selectioncu cus selection cu index selectioncuindex i source range isourcerange selection text range util textrangeutil get selection getselection selection cu selectioncu start line startline start column startcolumn end line endline end column endcolumn i method imethod method get method getmethod selection cu selectioncu selection assert not null assertnotnull method move instance method processor moveinstancemethodprocessor processor move instance method processor moveinstancemethodprocessor method java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings selection cu selectioncu get java project getjavaproject refactoring move refactoring moverefactoring processor assert not null assertnotnull refactoring created refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert true asserttrue activation supposed successful precondition result preconditionresult isok choose new target choosenewtarget processor new target type newtargettype new target name newtargetname processor set inline delegator setinlinedelegator inline delegator inlinedelegator processor set remove delegator setremovedelegator remove delegator removedelegator processor set deprecate delegates setdeprecatedelegates new method name newmethodname processor set method name setmethodname new method name newmethodname precondition result preconditionresult merge check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert true asserttrue precondition supposed pass precondition result preconditionresult has error haserror perform change performchange cus length string output test file name outputtestfilename get output test file name getoutputtestfilename get simple name getsimplename cuqnames assert equal lines assertequallines incorrect inline output test file name outputtestfilename get file contents getfilecontents output test file name outputtestfilename cus get source getsource helper string cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new target type newtargettype string new target name newtargetname string new method name newmethodname inline delegator inlinedelegator remove delegator removedelegator deprecate exception is true istrue selection cu index selectioncuindex selection cu index selectioncuindex cuqnames length to succeed tosucceed i compilation unit icompilationunit cus createcus cuqnames i compilation unit icompilationunit selection cu selectioncu cus selection cu index selectioncuindex i source range isourcerange selection text range util textrangeutil get selection getselection selection cu selectioncu start line startline start column startcolumn end line endline end column endcolumn i method imethod method get method getmethod selection cu selectioncu selection assert not null assertnotnull method move instance method processor moveinstancemethodprocessor processor move instance method processor moveinstancemethodprocessor method java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings selection cu selectioncu get java project getjavaproject refactoring move refactoring moverefactoring processor assert not null assertnotnull refactoring created refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert true asserttrue activation supposed successful precondition result preconditionresult isok choose new target choosenewtarget processor new target type newtargettype new target name newtargetname processor set inline delegator setinlinedelegator inline delegator inlinedelegator processor set remove delegator setremovedelegator remove delegator removedelegator processor set deprecate delegates setdeprecatedelegates deprecate new method name newmethodname processor set method name setmethodname new method name newmethodname precondition result preconditionresult merge check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert true asserttrue precondition supposed pass precondition result preconditionresult has error haserror perform change performchange cus length string output test file name outputtestfilename get output test file name getoutputtestfilename get simple name getsimplename cuqnames assert equal lines assertequallines incorrect inline output test file name outputtestfilename get file contents getfilecontents output test file name outputtestfilename cus get source getsource helper string cuqnames string selection cu name selectioncuqname start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype string new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator exception selection cu index selectioncuindex first index of firstindexof selection cu name selectioncuqname cuqnames is true istrue selection cu index selectioncuindex parameter selection cu name selectioncuqname match string cuqnames helper cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator helper string cuqnames string selection cu name selectioncuqname start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype string new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator deprecate exception selection cu index selectioncuindex first index of firstindexof selection cu name selectioncuqname cuqnames is true istrue selection cu index selectioncuindex parameter selection cu name selectioncuqname match string cuqnames helper cuqnames selection cu index selectioncuindex start line startline start column startcolumn end line endline end column endcolumn new receiver type newreceivertype new receiver name newreceivername inline delegator inlinedelegator remove delegator removedelegator deprecate string success path successpath to succeed tosucceed can move canmove cannot move cannotmove tests move parameter inline delegator test exception helper string parameter move parameter inline delegator test exception print test disabled message printtestdisabledmessage implemented helper string parameter multiple parameters left receiver parameter passed argument method test exception helper string parameter move field method parameters choice fields type fields passed argument test exception helper string field move field pass unneeded test exception helper string field junit test exception helper string parameter test simplified junit test exception helper string parameter test move type test exception https bugs eclipse org bugs bug cgi helper string parameter move type test exception https bugs eclipse org bugs bug cgi helper string parameter don generate parameter unused field bug test exception helper string shape rectangle shape field f bounds fbounds generate parameter field bug test exception helper string shape rectangle shape field f inner bounds finnerbounds generate parameter field bug test exception helper string shape rectangle shape parameter rect move parameter inline delegator remove delegator test exception print test disabled message printtestdisabledmessage implemented helper string parameter move test exception helper string star decorator stardecorator parameter arguments method calls preserved moved body bug test exception helper string field arguments method calls preserved moved body bug field bug test exception helper string field qualified field access bug test exception helper string field move local test exception helper string star decorator stardecorator parameter extended junit test exception helper string parameter test extended junit generics bug test exception helper string parameter test extended junit generics deprecation message test exception helper string parameter test extended junit generics enums deprecation message test exception helper string parameter test extended junit generics enums deprecation message test exception helper string parameter test extended junit generics enums imports deprecation message test exception helper string parameter test extended junit generics enums imports deprecation message test exception print test disabled message printtestdisabledmessage disabled missing support static ally statically imported methods helper string parameter test test exception helper string parameter test visibility target field test exception helper string foo bar foo field bar test visibility target field changed caller bug test exception helper string test test target testtarget test test test test test test field target test visibility target field changed caller bug test exception helper string test test target testtarget test test test test test test field target test search engine secondary types bug test exception helper string field test conflicts moved method fields parameters bug test exception helper string field destination test problem parameter order bug test exception helper string field target test problem qualified accesses bug test exception helper string parameter test problem qualified accesses bug test exception helper string parameter test problem missing bindings bug test exception helper string parameter test problem parameterized nested bug test exception helper string parameter test problem enum bug test exception helper string parameter foo bar foobar test problem enum bug test exception helper string my enum myenum parameter foo bar foobar test problem enum bug test exception helper string parameter foo bar foobar bug test exception helper string parameter bug test exception helper string parameter target bug test exception helper string parameter bug test exception helper string field bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string field bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string field bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug test exception helper string parameter bug references enclosing type test exception helper string field bug test exception helper string parameter move field inline delegator test exception helper string field move field inline delegator remove delegator test exception print test disabled message printtestdisabledmessage implemented helper string field move field unqualified member references qualified test exception helper string field qualify referenced type top level original receiver method test exception helper string nestor nestor parameter test exception helper string parameter access fields type test exception helper string parameter multiple parameters left receiver parameter passed argument test exception helper string parameter move method declaration test fail testfail exception fail helper failhelper parameter move method declaration test fail testfail exception fail helper failhelper parameter move method potential receiver test fail testfail exception fail helper failhelper string parameter move method parameter conflict test fail testfail exception fail helper failhelper string parameter move method potential receiver bindings test fail testfail exception print test disabled message printtestdisabledmessage bug fail helper failhelper string parameter move method annotations supported test fail testfail exception print test disabled message printtestdisabledmessage disabled jcore elements annotation members fail helper failhelper string parameter bug target method exists test fail testfail exception fail helper failhelper string parameter bug bug target method exists test fail testfail exception fail helper failhelper string field bug references enclosing instance test fail testfail exception fail helper failhelper string parameter move method test fail testfail exception fail helper failhelper string parameter move method test fail testfail exception fail helper failhelper string parameter move method references test fail testfail exception fail helper failhelper string parameter move method references enclosing instance test fail testfail exception fail helper failhelper string parameter move recursive method test fail testfail exception fail helper failhelper string parameter move method test fail testfail exception fail helper failhelper string parameter move method potential receiver test fail testfail exception fail helper failhelper string parameter
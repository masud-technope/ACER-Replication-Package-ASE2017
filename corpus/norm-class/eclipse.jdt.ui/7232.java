copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse ltk core refactoring org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime status org eclipse core resources i file ifile org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse core file buf fers filebuffers location kind locationkind org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits undo edit undoedit org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse ltk internal core refactoring buffer validation state buffervalidationstate org eclipse ltk internal core refactoring org eclipse ltk internal core refactoring content stamps contentstamps org eclipse ltk internal core refactoring lock org eclipse ltk internal core refactoring refactoring core plugin refactoringcoreplugin special link text change textchange operates code i file ifile code content stamp managed text file change maps modification stamp underlying code i file ifile code text file change roll modification stamp resource original api link org eclipse core resources i resource iresource revert modification stamp revertmodificationstamp subclassed clients perform special operation acquiring rel easing releasing document text file change textfilechange text change textchange flag indicating file save unsaved file unsaved performing change saved saved save flag indicating file saved change applied force save flag indicating file saved change applied leave dirty file change i file ifile f file ffile f save mode fsavemode save mapped text buffer f acquire count facquirecount i text file buffer itextfilebuffer f buffer fbuffer buffer validation state buffervalidationstate f validation state fvalidationstate content stamp contentstamp f content stamp fcontentstamp creates code text file change textfilechange code file param change render change param file file text change operates text file change textfilechange string i file ifile file is not null isnotnull file f file ffile file string extension file get file extension getfileextension extension extension length set text type settexttype extension sets save code save code code force save code code leave dirty code param save mode savemode indicating save handled document committed set save mode setsavemode save mode savemode f save mode fsavemode save mode savemode returns save link set save mode setsavemode save get save mode getsavemode f save mode fsavemode returns code i file ifile code change working file change working i file ifile get file getfile f file ffile hook create undo change undo edit content stamp hook called performing change construct undo change object param edit link undo edit undoedit create undo change param stamp to restore stamptorestore content stamp restore undo edit executed undo change code code undo change created returning code code fact change tree undo ne undone returning code code recommended exception occurred creating undo change change create undo change createundochange undo edit undoedit edit content stamp contentstamp stamp to restore stamptorestore undo text file change undotextfilechange get name getname f file ffile edit stamp to restore stamptorestore f save mode fsavemode override object get modified element getmodifiedelement f file ffile override object get affected objects getaffectedobjects object modified element modifiedelement get modified element getmodifiedelement modified element modifiedelement object modified element modifiedelement override initialize validation data initializevalidationdata i progress monitor iprogressmonitor monitor monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask f validation state fvalidationstate buffer validation state buffervalidationstate create f file ffile monitor override refactoring status refactoringstatus is valid isvalid i progress monitor iprogressmonitor monitor core exception coreexception monitor monitor null progress monitor nullprogressmonitor nls monitor begin task begintask f validation state fvalidationstate nls core exception coreexception nls status i status istatus error refactoring core plugin refactoringcoreplugin get plugin id getpluginid text file change textfilechange initial ialized initialialized needs saving needssaving needs saving needssaving refactoring status refactoringstatus result f validation state fvalidationstate is valid isvalid needs saving needssaving needs saving needssaving result merge validate modifies files validatemodifiesfiles i file ifile f file ffile reading file sync result merge check in sync checkinsync i file ifile f file ffile result monitor override dispose f validation state fvalidationstate f validation state fvalidationstate dispose override i document idocument acquire document acquiredocument i progress monitor iprogressmonitor core exception coreexception f acquire count facquirecount f acquire count facquirecount f buffer fbuffer get document getdocument i text file buffer manager itextfilebuffermanager manager file buffers filebuffers get text file buffer manager gettextfilebuffermanager i path ipath path f file ffile get full path getfullpath manager connect path location kind locationkind ifile f buffer fbuffer manager get text file buffer gettextfilebuffer path location kind locationkind ifile i document idocument result f buffer fbuffer get document getdocument f content stamp fcontentstamp content stamps contentstamps f file ffile result result inherit doc inheritdoc implementation method commits underlying buffer link needs saving needssaving link is document modified isdocumentmodified returns code code override commit i document idocument document i progress monitor iprogressmonitor core exception coreexception needs saving needssaving f buffer fbuffer commit override release document releasedocument i document idocument document i progress monitor iprogressmonitor core exception coreexception is true istrue f acquire count facquirecount f acquire count facquirecount i text file buffer manager itextfilebuffermanager manager file buffers filebuffers get text file buffer manager gettextfilebuffermanager manager disconnect f file ffile get full path getfullpath location kind locationkind ifile f acquire count facquirecount override change create undo change createundochange undo edit undoedit edit create undo change createundochange edit f content stamp fcontentstamp org eclipse ltk core refactoring text change textchange perform edits performedits org eclipse jface text i document idocument override undo edit undoedit perform edits performedits i document idocument document bad location exception badlocationexception malformed tree exception malformedtreeexception f buffer fbuffer is synchronization context requested issynchronizationcontextrequested perform edits performedits document i text file buffer manager itextfilebuffermanager file buffer manager filebuffermanager file buffers filebuffers get text file buffer manager gettextfilebuffermanager lock waiting computation thread complete lock completion lock completionlock lock undo edit undoedit result undo edit undoedit bad location exception badlocationexception exception bad location exception badlocationexception runnable runnable runnable override completion lock completionlock result text file change textfilechange perform edits performedits document bad location exception badlocationexception exception completion lock completionlock f done fdone completion lock completionlock notify all notifyall completion lock completionlock file buffer manager filebuffermanager execute runnable completion lock completionlock f done fdone completion lock completionlock wait interrupted exception interruptedexception exception exception result document acquired code code document acquired code code is document acquire d isdocumentacquired f acquire count facquirecount document modified acquired change returns document modified acquired change code code returned document acquired released is document modified isdocumentmodified f acquire count facquirecount content stamp contentstamp current stamp currentstamp content stamps contentstamps f file ffile f buffer fbuffer get document getdocument current stamp currentstamp equals f content stamp fcontentstamp text file change saving implementation method returns code code code force save code flag enabled underlying file dirty code save code enabled code code saving dirty save mode flags code code needs saving needssaving f save mode fsavemode force save f save mode fsavemode save f validation state fvalidationstate f validation state fvalidationstate was dirty wasdirty
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal compare java util iterator java util stack org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom annotation type member declaration annotationtypememberdeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enum constant declaration enumconstantdeclaration org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom initializer org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom package declaration packagedeclaration org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt internal corext dom ast flattener astflattener java parse tree builder javaparsetreebuilder ast visitor astvisitor f buffer fbuffer stack java node javanode f stack fstack stack java node javanode f import container fimportcontainer f show u fshowcu parsing performed buffer tree hangs root java parse tree builder javaparsetreebuilder java node javanode root buffer showcu f buffer fbuffer buffer f show u fshowcu showcu f stack fstack clear f stack fstack push root override visit package declaration packagedeclaration node java node javanode get current container getcurrentcontainer java node javanode node get start position getstartposition node get length getlength override visit compilation unit compilationunit node f show u fshowcu push java node javanode node get start position getstartposition node get length getlength override end visit endvisit compilation unit compilationunit node f show u fshowcu pop override visit type declaration typedeclaration node push node is interface isinterface java node javanode java node javanode node get name getname to string tostring node get start position getstartposition node get length getlength override end visit endvisit type declaration typedeclaration node pop override visit enum declaration enumdeclaration node push java node javanode enum node get name getname to string tostring node get start position getstartposition node get length getlength override end visit endvisit enum declaration enumdeclaration node pop override visit annotation type declaration annotationtypedeclaration node push java node javanode annotation node get name getname to string tostring node get start position getstartposition node get length getlength override end visit endvisit annotation type declaration annotationtypedeclaration node pop override visit annotation type member declaration annotationtypememberdeclaration node push java node javanode method get signature getsignature node node get start position getstartposition node get length getlength override end visit endvisit annotation type member declaration annotationtypememberdeclaration node pop override visit method declaration methoddeclaration node string signature get signature getsignature node push node is constructor isconstructor java node javanode constructor java node javanode method signature node get start position getstartposition node get length getlength override end visit endvisit method declaration methoddeclaration node pop override visit initializer node push java node javanode init get current container getcurrentcontainer get initializer count getinitializercount node get start position getstartposition node get length getlength override end visit endvisit initializer node pop override visit import declaration importdeclaration node node get start position getstartposition node get length getlength declaration end declarationend f import container fimportcontainer f import container fimportcontainer java node javanode get current container getcurrentcontainer java node javanode container string node get name getname to string tostring node is on demand isondemand nls java node javanode f import container fimportcontainer java node javanode f import container fimportcontainer set length setlength declaration end declarationend f import container fimportcontainer get range getrange get offset getoffset fixme f import container fimportcontainer set append position setappendposition declaration end declarationend override visit variable declaration fragment variabledeclarationfragment node string get field name getfieldname node ast node astnode parent node get parent getparent push java node javanode field parent get start position getstartposition parent get length getlength override end visit endvisit variable declaration fragment variabledeclarationfragment node pop override visit enum constant declaration enumconstantdeclaration node push java node javanode field node get name getname to string tostring node get start position getstartposition node get length getlength override end visit endvisit enum constant declaration enumconstantdeclaration node pop stuff adds java node javanode type current container push type string declaration start declarationstart length declaration start declarationstart f buffer fbuffer declaration start declarationstart declaration start declarationstart length java node javanode node java node javanode get current container getcurrentcontainer type declaration start declarationstart length type java node javanode node set append position setappendposition declaration start declarationstart length node set append position setappendposition declaration start declarationstart length f stack fstack push node closes current java node setting position pops stack pop f stack fstack pop java node javanode get current container getcurrentcontainer f stack fstack peek string get field name getfieldname variable declaration fragment variabledeclarationfragment node string buffer stringbuffer buffer string buffer stringbuffer buffer append node get name getname to string tostring ast node astnode parent node get parent getparent parent field declaration fielddeclaration field declaration fielddeclaration field declaration fielddeclaration parent nls buffer append buffer append get type gettype get type gettype buffer to string tostring string get signature getsignature method declaration methoddeclaration node string buffer stringbuffer buffer string buffer stringbuffer buffer append node get name getname to string tostring buffer append iterator single variable declaration singlevariabledeclaration iterator node parameters iterator iterator has next hasnext single variable declaration singlevariabledeclaration svd iterator nls buffer append buffer append get type gettype svd get type gettype svd is varargs isvarargs nls buffer append buffer append buffer to string tostring string get signature getsignature annotation type member declaration annotationtypememberdeclaration node string buffer stringbuffer buffer string buffer stringbuffer buffer append node get name getname to string tostring buffer append buffer append buffer to string tostring string get type gettype type type ast flattener astflattener flattener ast flattener astflattener override visit qualified name qualifiedname node skip qualifier node get name getname accept type accept flattener flattener get result getresult
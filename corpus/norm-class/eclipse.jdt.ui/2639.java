copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ferenc hechler ferenc hechler users source for ge sourceforge net jar exporter deploy java application executable jar org eclipse jdt internal jar package rfat jarpackagerfat java io exception ioexception java input stream inputstream java util array list arraylist java util enumeration java util iterator java util list java util map java util jar attributes java util jar manifest java util zip zip entry zipentry java util zip zip file zipfile org eclipse core runtime core exception coreexception org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt jar package r jarpackager i manifest provider imanifestprovider org eclipse jdt jar package r jarpackager jar package data jarpackagedata org eclipse jdt internal java plugin javaplugin org eclipse jdt internal jar package r jarpackager jar package r util jarpackagerutil manifest provider creates manifest files fat jar fat jar manifest provider fatjarmanifestprovider i manifest provider imanifestprovider nls string sealed nls string unsealed fat jar builder fatjarbuilder f builder fbuilder fat jar manifest provider fatjarmanifestprovider fat jar builder fatjarbuilder builder f builder fbuilder builder override manifest create jar package data jarpackagedata jar package jarpackage core exception coreexception manifest result manifest own manifest ownmanifest create own createown jar package jarpackage set manifest classpath setmanifestclasspath own manifest ownmanifest f builder fbuilder get manifest classpath getmanifestclasspath f builder fbuilder is merge manifests ismergemanifests list zip file zipfile open zips openzips array list arraylist list manifest other manifests othermanifests array list arraylist object elements jar package jarpackage get elements getelements elements length object element elements element i package fragment root ipackagefragmentroot i package fragment root ipackagefragmentroot element is archive isarchive zip file zipfile zip jar package r util jarpackagerutil get archive file getarchivefile i package fragment root ipackagefragmentroot element get path getpath open zips openzips add zip enumeration zip entry zipentry entries zip entries entries has more elements hasmoreelements zip entry zipentry entry entries next element nextelement nls entry get name getname equals ignore case equalsignorecase nls meta inf manifest input stream inputstream input stream inputstream input stream inputstream zip get input stream getinputstream entry manifest other manifest othermanifest manifest input stream inputstream other manifests othermanifests add other manifest othermanifest io exception ioexception java plugin javaplugin log input stream inputstream input stream inputstream close io exception ioexception result merge own manifest ownmanifest other manifests othermanifests iterator zip file zipfile iter open zips openzips iterator iter has next hasnext zip file zipfile file iter file close io exception ioexception java plugin javaplugin log result own manifest ownmanifest result set manifest classpath setmanifestclasspath manifest own manifest ownmanifest string manifest classpath manifestclasspath nls manifest classpath manifestclasspath manifest classpath manifestclasspath trim equals attributes main attr mainattr own manifest ownmanifest get main attributes getmainattributes nls main attr mainattr put value putvalue path manifest classpath manifestclasspath manifest merge manifest own manifest ownmanifest list manifest other manifests othermanifests manifest merged manifest mergedmanifest manifest own manifest ownmanifest map string attributes merged entries mergedentries merged manifest mergedmanifest get entries getentries iterator manifest iter other manifests othermanifests iterator iter has next hasnext manifest other manifest othermanifest iter map string attributes other entries otherentries other manifest othermanifest get entries getentries iterator string iterator other entries otherentries key set keyset iterator iterator has next hasnext string attribute name attributename iterator merged entries mergedentries contains key containskey attribute name attributename todo warning merged entries mergedentries attribute name attributename other entries otherentries attribute name attributename merged manifest mergedmanifest manifest create own createown jar package data jarpackagedata jar package jarpackage core exception coreexception jar package jarpackage is manifest generated ismanifestgenerated create generated manifest creategeneratedmanifest jar package jarpackage create supplied manifest createsuppliedmanifest jar package jarpackage io exception ioexception jar package r util jarpackagerutil create core exception createcoreexception get local ized message getlocalizedmessage override manifest create default createdefault string manifest version manifestversion manifest manifest manifest manifest get main attributes getmainattributes attributes manifest version manifest version manifestversion manifest hook subclasses add additional manifest entries param manifest manifest entries param jar package jarpackage jar specification put additional entries putadditionalentries manifest manifest jar package data jarpackagedata jar package jarpackage manifest create generated manifest creategeneratedmanifest jar package data jarpackagedata jar package jarpackage manifest manifest manifest put version putversion manifest jar package jarpackage put sealing putsealing manifest jar package jarpackage put main class putmainclass manifest jar package jarpackage put additional entries putadditionalentries manifest jar package jarpackage manifest put version putversion manifest manifest jar package data jarpackagedata jar package jarpackage manifest get main attributes getmainattributes attributes manifest version jar package jarpackage get manifest version getmanifestversion put sealing putsealing manifest manifest jar package data jarpackagedata jar package jarpackage jar package jarpackage is jar sealed isjarsealed manifest get main attributes getmainattributes attributes sealed sealed i package fragment ipackagefragment packages jar package jarpackage get packages to unseal getpackagestounseal packages packages length attributes attributes attributes attributes attributes sealed unsealed manifest get entries getentries get in manifest format getinmanifestformat packages attributes i package fragment ipackagefragment packages jar package jarpackage get packages to seal getpackagestoseal packages packages length attributes attributes attributes attributes attributes sealed sealed manifest get entries getentries get in manifest format getinmanifestformat packages attributes put main class putmainclass manifest manifest jar package data jarpackagedata jar package jarpackage jar package jarpackage get manifest main class getmanifestmainclass jar package jarpackage get manifest main class getmanifestmainclass get fully qualified name getfullyqualifiedname length manifest get main attributes getmainattributes attributes main jar package jarpackage get manifest main class getmanifestmainclass get fully qualified name getfullyqualifiedname string get in manifest format getinmanifestformat i package fragment ipackagefragment package fragment packagefragment string package fragment packagefragment get element name getelementname replace manifest create supplied manifest createsuppliedmanifest jar package data jarpackagedata jar package jarpackage core exception coreexception io exception ioexception manifest manifest buffer manifest input stream inputstream stream jar package jarpackage get manifest file getmanifestfile get contents getcontents manifest manifest stream stream stream close manifest
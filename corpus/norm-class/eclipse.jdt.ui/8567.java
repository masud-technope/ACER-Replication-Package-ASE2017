copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt leaktest java util array list arraylist org eclipse jdt leaktest leak test case leaktestcase org eclipse jdt leaktest leak test setup leaktestsetup junit framework test junit framework test suite testsuite leak test example leaktestexample leak test case leaktestcase leak test example leaktestexample leak test example leaktestexample my class myclass test suite leak test setup leaktestsetup test suite testsuite object f global reference fglobalreference array list arraylist object f global list fgloballist array list arraylist leak test example leaktestexample string test leak global reference testleakglobalreference exception f global list fgloballist clear my class myclass my class myclass count creating instance count get instance count getinstancecount create instance f global reference fglobalreference my class myclass count creating instance count get instance count getinstancecount assert different count assertdifferentcount creation count count clear references instance f global reference fglobalreference count clearing reference instance count get instance count getinstancecount assert equal count assertequalcount clear count count test no leak global reference testnoleakglobalreference exception f global list fgloballist clear my class myclass my class myclass count creating instance count get instance count getinstancecount create instance f global reference fglobalreference my class myclass count creating instance count get instance count getinstancecount assert different count assertdifferentcount creation count count add instance list f global list fgloballist add f global reference fglobalreference clear global references instance f global reference fglobalreference count clearing global reference instance instance referenced list count get instance count getinstancecount assert equal count assertequalcount clear count count
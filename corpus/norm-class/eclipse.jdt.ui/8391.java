copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation johannes utzig mail jutzig j unit junit update test suite wizard j unit junit run with runwith suite https bugs eclipse org org eclipse jdt junit wizards org eclipse swt swt org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets button org eclipse swt widgets composite org eclipse swt widgets label org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs dialog org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers check state changed event checkstatechangedevent org eclipse jface viewers checkbox table viewer checkboxtableviewer org eclipse jface viewers i check state listener icheckstatelistener org eclipse jface viewers i structured selection istructuredselection org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse platformui org eclipse jdt core i annotation iannotation org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext util java conventions util javaconventionsutil org eclipse jdt internal junit j unit core plugin junitcoreplugin org eclipse jdt internal junit messages org eclipse jdt internal junit i j unit help context ids ijunithelpcontextids org eclipse jdt internal junit util core test search engine coretestsearchengine org eclipse jdt internal junit util j unit status junitstatus org eclipse jdt internal junit util j unit stub utility junitstubutility org eclipse jdt internal junit util layout util layoututil org eclipse jdt internal junit wizards suite classes content provider suiteclassescontentprovider org eclipse jdt internal junit wizards test suite class list range testsuiteclasslistrange org eclipse jdt internal junit wizards update test suite updatetestsuite org eclipse jdt internal junit wizards wizard messages wizardmessages org eclipse jdt java element label provider javaelementlabelprovider org eclipse jdt wizards new type wizard page newtypewizardpage code new test suite wizard page newtestsuitewizardpage code controls validation routines single j unit junit test suite testsuite wizard clients add wizard extend modify validation add remove controls new test suite wizard page newtestsuitewizardpage new type wizard page newtypewizardpage nls string tests all tests alltests nls string comment marker j unit junit nls string comment start marker j unit junit nls string comment start string mark generated code string start marker comment start comment start marker string mark generated code string marker comment start comment marker nls string new test suite creation wizard page newtestsuitecreationwizardpage field suite field nls string classes suite classes ins uite classesinsuite field junit toggle field nls string junit toggle junit toggle checkbox table viewer checkboxtableviewer f classes in suite table fclassesinsuitetable i status istatus f classes in suite status fclassesinsuitestatus label f selected classes label fselectedclasseslabel f updated existing class button fupdatedexistingclassbutton button fjunit toggle button fjunit toggle f is junit fisjunit f is junit fisjunit enabled creates code new test suite wizard page newtestsuitewizardpage code new test suite wizard page newtestsuitewizardpage set title settitle wizard messages wizardmessages new test suite wiz page newtestsuitewizpage title set description setdescription wizard messages wizardmessages new test suite wiz page newtestsuitewizpage description f classes in suite status fclassesinsuitestatus j unit status junitstatus override create control createcontrol composite parent initialize dialog units initializedialogunits parent composite composite composite parent swt n columns ncolumns grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns n columns ncolumns composite set layout setlayout layout createjunit controls composite n columns ncolumns create container controls createcontainercontrols composite n columns ncolumns create package controls createpackagecontrols composite n columns ncolumns create separator createseparator composite n columns ncolumns create type name controls createtypenamecontrols composite n columns ncolumns create classes in suite control createclassesinsuitecontrol composite n columns ncolumns create method stub selection controls createmethodstubselectioncontrols composite n columns ncolumns set control setcontrol composite restore widget values restorewidgetvalues dialog apply dialog font applydialogfont composite platformui get workbench getworkbench get help system gethelpsystem set help sethelp composite i j unit help context ids ijunithelpcontextids tests uite testsuite wizard creates controls method stub selection buttons expects code grid layout gridlayout code columns param composite parent composite param n columns ncolumns number columns span create method stub selection controls createmethodstubselectioncontrols composite composite n columns ncolumns called wizard initial selection param selection initial selection init i structured selection istructuredselection selection i java element ijavaelement jelem get initial java element getinitialjavaelement selection init container page initcontainerpage jelem init suite page initsuitepage jelem is junit isjunit jelem jelem get element type getelementtype i java element ijavaelement java model i java project ijavaproject project jelem get java project getjavaproject is junit isjunit core test search engine coretestsearchengine has test annotation hastestannotation project is junit isjunit core test search engine coretestsearchengine has test case type hastestcasetype project j unit stub utility junitstubutility or higher orhigher project is junit isjunit setjunit is junit isjunit do status update dostatusupdate init suite page initsuitepage i java element ijavaelement jelem jelem i package fragment ipackagefragment pack i package fragment ipackagefragment jelem get ancestor getancestor i java element ijavaelement fragment i java project ijavaproject project jelem get java project getjavaproject set package fragment setpackagefragment pack project workspace set add comments setaddcomments stub utility stubutility do add comments doaddcomments project set type name settypename tests status initialization dialog user suite method overridden f type name status ftypenamestatus type name changed typenamechanged override handle field changed handlefieldchanged string field name fieldname handle field changed handlefieldchanged field name fieldname field name fieldname equals field name fieldname equals container field name fieldname equals junit toggle update classes in suite table updateclassesinsuitetable field name fieldname equals classes suite f classes in suite status fclassesinsuitestatus classes in suite changed classesinsuitechanged check f type name status ftypenamestatus type name changed typenamechanged update selected classes label updateselectedclasseslabel do status update dostatusupdate validation do status update dostatusupdate status components i status istatus status i status istatus f container status fcontainerstatus f package status fpackagestatus f type name status ftypenamestatus f classes in suite status fclassesinsuitestatus severe status displayed button enabled disabled update status updatestatus status override set visible setvisible visible visible set focus setfocus update classes in suite table updateclassesinsuitetable handle all fields changed handleallfieldschanged save widget values savewidgetvalues set visible setvisible visible handle all fields changed handleallfieldschanged handle field changed handlefieldchanged handle field changed handlefieldchanged container handle field changed handlefieldchanged classes suite handle field changed handlefieldchanged type name typename updates classes suite table update classes in suite table updateclassesinsuitetable f classes in suite table fclassesinsuitetable i package fragment ipackagefragment pack get package fragment getpackagefragment pack i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot root pack nls root get package fragment getpackagefragment nls f classes in suite table fclassesinsuitetable set input setinput pack f classes in suite table fclassesinsuitetable set all checked setallchecked update selected classes label updateselectedclasseslabel creates controls list classes suite expects code grid layout gridlayout code columns param parent parent composite param n columns ncolumns number columns span create classes in suite control createclassesinsuitecontrol composite parent n columns ncolumns f classes in suite table fclassesinsuitetable label label label parent swt left label set text settext wizard messages wizardmessages new test suite wiz page newtestsuitewizpage classes suite label grid data griddata grid data griddata horizontal alignment horizontalalignment grid data griddata fill horizontal span horizontalspan n columns ncolumns label set layout data setlayoutdata f classes in suite table fclassesinsuitetable checkbox table viewer checkboxtableviewer new check list newchecklist parent swt border grid data griddata grid data griddata fill height hint heighthint horizontal span horizontalspan n columns ncolumns f classes in suite table fclassesinsuitetable get table gettable set layout data setlayoutdata f classes in suite table fclassesinsuitetable set content provider setcontentprovider suite classes content provider suiteclassescontentprovider isjunit f classes in suite table fclassesinsuitetable set label provider setlabelprovider java element label provider javaelementlabelprovider f classes in suite table fclassesinsuitetable add check state listener addcheckstatelistener i check state listener icheckstatelistener override check state changed checkstatechanged check state changed event checkstatechangedevent event handle field changed handlefieldchanged classes suite composite button container buttoncontainer composite parent swt grid data griddata grid data griddata fill vertical button container buttoncontainer set layout data setlayoutdata grid layout gridlayout button layout buttonlayout grid layout gridlayout button layout buttonlayout margin width marginwidth button layout buttonlayout margin height marginheight button container buttoncontainer set layout setlayout button layout buttonlayout button select all button selectallbutton button button container buttoncontainer swt push select all button selectallbutton set text settext wizard messages wizardmessages new test suite wiz page newtestsuitewizpage select all selectall grid data griddata bgd grid data griddata grid data griddata fill horizontal grid data griddata vertical align bgd width hint widthhint layout util layoututil get button width hint getbuttonwidthhint select all button selectallbutton select all button selectallbutton set layout data setlayoutdata bgd select all button selectallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f classes in suite table fclassesinsuitetable set all checked setallchecked handle field changed handlefieldchanged classes suite button deselect all button deselectallbutton button button container buttoncontainer swt push deselect all button deselectallbutton set text settext wizard messages wizardmessages new test suite wiz page newtestsuitewizpage deselect all deselectall bgd grid data griddata grid data griddata fill horizontal grid data griddata vertical align bgd width hint widthhint layout util layoututil get button width hint getbuttonwidthhint deselect all button deselectallbutton deselect all button deselectallbutton set layout data setlayoutdata bgd deselect all button deselectallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f classes in suite table fclassesinsuitetable set all checked setallchecked handle field changed handlefieldchanged classes suite selected classes label f selected classes label fselectedclasseslabel label parent swt left swt wrap f selected classes label fselectedclasseslabel set font setfont parent get font getfont update selected classes label updateselectedclasseslabel grid data griddata horizontal span horizontalspan f selected classes label fselectedclasseslabel set layout data setlayoutdata override create type members createtypemembers i type itype type imports manager importsmanager imports i progress monitor iprogressmonitor monitor core exception coreexception write imports writeimports imports isjunit type create method createmethod get suite method string getsuitemethodstring type returns string content creating suite method string get suite method string getsuitemethodstring i type itype type string type name typename type get element name getelementname nls nls string buffer stringbuffer suite string buffer stringbuffer test suite test suite testsuite suite test suite testsuite type name typename get name getname suite append get updatable string getupdatablestring nls suite append n return nreturn suite suite to string tostring string get updatable string getupdatablestring update test suite updatetestsuite get updatable string getupdatablestring f classes in suite table fclassesinsuitetable get checked elements getcheckedelements override create type createtype i progress monitor iprogressmonitor monitor core exception coreexception interrupted exception interruptedexception i package fragment ipackagefragment pack get package fragment getpackagefragment nls i compilation unit icompilationunit pack get compilation unit getcompilationunit get type name gettypename java exists create type createtype monitor f updated existing class button fupdatedexistingclassbutton update existing type updateexistingtype monitor f updated existing class button fupdatedexistingclassbutton update existing type updateexistingtype i compilation unit icompilationunit i progress monitor iprogressmonitor monitor java model exception javamodelexception update test suite updatetestsuite check validate edit status checkvalidateeditstatus get shell getshell i type itype suite type suitetype get type gettype get type name gettypename monitor begin task begintask wizard messages wizardmessages new test suite wiz page newtestsuitewizpage create type createtype begin task begintask isjunit find test classes testclasses test suite nls i annotation iannotation suite classes suiteclasses suite type suitetype get annotation getannotation suite classes suiteclasses suite classes suiteclasses exists update test suite updatetestsuite update test cases in junit updatetestcasesinjunit suite sub progress monitor subprogressmonitor monitor suite classes suiteclasses f classes in suite table fclassesinsuitetable get checked elements getcheckedelements cannot update suite error cannotupdatesuiteerror nls i method imethod suite method suitemethod suite type suitetype get method getmethod suite string monitor worked string line delimiter linedelimiter find recommended line separator findrecommendedlineseparator suite method suitemethod exists i source range isourcerange range suite method suitemethod get source range getsourcerange range i document idocument full source fullsource document get buffer getbuffer get contents getcontents string original content originalcontent full source fullsource range get offset getoffset range get length getlength test suite class list range testsuiteclasslistrange class list range classlistrange update test suite updatetestsuite get test suite class list range gettestsuiteclasslistrange original content originalcontent class list range classlistrange update test suite updatetestsuite update test cases in suite updatetestcasesinsuite monitor suite method suitemethod f classes in suite table fclassesinsuitetable get checked elements getcheckedelements cannot update suite error cannotupdatesuiteerror bad location exception badlocationexception is true istrue happen message dialog messagedialog open error openerror get shell getshell wizard messages wizardmessages new test suite wiz page newtestsuitewizpage create type createtype update error dialog updateerrordialog title wizard messages wizardmessages new test suite wiz page newtestsuitewizpage create type createtype update error dialog updateerrordialog message suite type suitetype create method createmethod get suite method string getsuitemethodstring suite type suitetype monitor string original content originalcontent get source getsource monitor worked string for matted content formattedcontent j unit stub utility junitstubutility format compilation unit formatcompilationunit get java project getjavaproject original content originalcontent line delimiter linedelimiter get buffer getbuffer set contents setcontents for matted content formattedcontent monitor worked save sub progress monitor subprogressmonitor monitor monitor returns iff existing suite method replaced code code returned existing test suite replaced has updated existing class hasupdatedexistingclass f updated existing class button fupdatedexistingclassbutton i status istatus classes in suite changed classesinsuitechanged j unit status junitstatus status j unit status junitstatus f classes in suite table fclassesinsuitetable get checked elements getcheckedelements length status set warning setwarning wizard messages wizardmessages new test suite wiz page newtestsuitewizpage classes suite error test classes testclasses selected status update selected classes label updateselectedclasseslabel n o of classes checked noofclasseschecked f classes in suite table fclassesinsuitetable get checked elements getcheckedelements length string key n o of classes checked noofclasseschecked wizard messages wizardmessages new test class wiz page newtestclasswizpage tree caption treecaption class selected classselected wizard messages wizardmessages new test class wiz page newtestclasswizpage tree caption treecaption classes selected classesselected f selected classes label fselectedclasseslabel set text settext messages format key integer n o of classes checked noofclasseschecked override i status istatus type name changed typenamechanged type name changed typenamechanged j unit status junitstatus status j unit status junitstatus string type name typename get type name gettypename empty type name typename length status set error seterror wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename error empty status type name typename index of indexof status set error seterror wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename error qualified status i package fragment ipackagefragment pack get package fragment getpackagefragment pack nls i compilation unit icompilationunit pack get compilation unit getcompilationunit type name typename java junit option junit suite vice versa exists i type itype type find primary type findprimarytype type setjunit nls type get annotation getannotation run with runwith exists nls setjunit isjunit i status istatus val java conventions util javaconventionsutil validate java type name validatejavatypename type name typename get java project getjavaproject val get severity getseverity i status istatus error status set error seterror wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename error valid val get message getmessage status val get severity getseverity i status istatus warning status set warning setwarning wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename error discouraged val get message getmessage checking i status istatus recursive suite inclusion status recursivesuiteinclusionstatus check recursive test suite inclusion checkrecursivetestsuiteinclusion recursive suite inclusion status recursivesuiteinclusionstatus isok recursive suite inclusion status recursivesuiteinclusionstatus pack nls i compilation unit icompilationunit pack get compilation unit getcompilationunit type name typename java exists status set warning setwarning isjunit wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename warning exists junit wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename warning exists status i resource iresource resource get resource getresource resource resources plugin resourcesplugin get workspace getworkspace validate filtered validatefiltered resource isok status set error seterror wizard messages wizardmessages new test suite wiz page newtestsuitewizpage type name typename error filtered status status i status istatus check recursive test suite inclusion checkrecursivetestsuiteinclusion f classes in suite table fclassesinsuitetable j unit status junitstatus string type name typename get type name gettypename j unit status junitstatus status j unit status junitstatus object checked classes checkedclasses f classes in suite table fclassesinsuitetable get checked elements getcheckedelements checked classes checkedclasses length i type itype checked class checkedclass i type itype checked classes checkedclasses checked class checkedclass get element name getelementname equals type name typename status set warning setwarning wizard messages wizardmessages new test suite creation wizard page newtestsuitecreationwizardpage infinite recursion status j unit status junitstatus cannot update suite error cannotupdatesuiteerror message dialog messagedialog open error openerror get shell getshell wizard messages wizardmessages new test suite wiz page newtestsuitewizpage cannot update dialog cannotupdatedialog title messages format wizard messages wizardmessages new test suite wiz page newtestsuitewizpage cannot update dialog cannotupdatedialog message string new test suite wizard page newtestsuitewizardpage start marker new test suite wizard page newtestsuitewizardpage marker write imports writeimports imports manager importsmanager imports isjunit nls imports add import addimport org junit runner run with runwith nls imports add import addimport org junit run ners runners suite nls imports add import addimport org junit run ners runners suite suite classes suiteclasses nls imports add import addimport junit framework test nls imports add import addimport junit framework test suite testsuite dialog store restore widget values values held time wizard completion restore widget values restorewidgetvalues finish pressed write widget values dialog store persist invocation wizard save widget values savewidgetvalues creates controls j unit junit toggle control expects code grid layout gridlayout code columns param composite parent composite param n columns ncolumns number columns span createjunit controls composite composite n columns ncolumns composite composite composite swt set layout data setlayoutdata grid data griddata swt fill swt center n columns ncolumns grid layout gridlayout layout grid layout gridlayout layout margin height marginheight layout margin width marginwidth set layout setlayout layout selection adapter selectionadapter listener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent is selected isselected button widget get selection getselection internal set unit internalsetjunit is selected isselected fjunit toggle button swt radio fjunit toggle set text settext wizard messages wizardmessages new test class wiz page newtestclasswizpage junit radio label fjunit toggle set layout data setlayoutdata grid data griddata grid data griddata fill grid data griddata center fjunit toggle set selection setselection f is junit fisjunit fjunit toggle set enabled setenabled f is junit fisjunit enabled fjunit toggle button swt radio fjunit toggle set text settext wizard messages wizardmessages new test class wiz page newtestclasswizpage junit radio label fjunit toggle set selection setselection f is junit fisjunit fjunit toggle set enabled setenabled f is junit fisjunit enabled fjunit toggle set layout data setlayoutdata grid data griddata grid data griddata fill grid data griddata center fjunit toggle add selection listener addselectionlistener listener specifies test created j unit junit test param isjunit j unit junit test created param is enabled isenabled code code modifier fields editable read setjunit isjunit is enabled isenabled f is junit fisjunit enabled is enabled isenabled fjunit toggle fjunit toggle is disposed isdisposed fjunit toggle set selection setselection isjunit fjunit toggle set selection setselection isjunit fjunit toggle set enabled setenabled is enabled isenabled isjunit fjunit toggle set enabled setenabled is enabled isenabled isjunit internal set unit internalsetjunit isjunit returns code code test suite created junit suite returns code code test suite created junit test isjunit f is junit fisjunit internal set unit internalsetjunit isjunit f is junit fisjunit isjunit f is junit fisjunit isjunit f classes in suite table fclassesinsuitetable f classes in suite table fclassesinsuitetable get content provider getcontentprovider suite classes content provider suiteclassescontentprovider suite classes content provider suiteclassescontentprovider provider suite classes content provider suiteclassescontentprovider f classes in suite table fclassesinsuitetable get content provider getcontentprovider provider set include junit setincludejunit tests isjunit f is junit fisjunit nls set super class setsuperclass java lang object set super class setsuperclass j unit core plugin junitcoreplugin test superclass handle field changed handlefieldchanged junit toggle override string constructcucontent i compilation unit icompilationunit string type content typecontent string line delimiter linedelimiter core exception coreexception isjunit type content typecontent append annotations appendannotations type content typecontent line delimiter linedelimiter constructcucontent type content typecontent line delimiter linedelimiter string append annotations appendannotations string type content typecontent string line delimiter linedelimiter object checked elements checkedelements f classes in suite table fclassesinsuitetable get checked elements getcheckedelements nls string buffer stringbuffer buffer string buffer stringbuffer run with runwith suite buffer append line delimiter linedelimiter nls buffer append suite classes suiteclasses checked elements checkedelements length checked elements checkedelements i type itype i type itype test type testtype i type itype checked elements checkedelements buffer append test type testtype get element name getelementname nls buffer append nls checked elements checkedelements length buffer append nls buffer append buffer append line delimiter linedelimiter buffer append type content typecontent buffer to string tostring
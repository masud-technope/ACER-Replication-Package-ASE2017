copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core resources i resource iresource org eclipse core resources mapping resource mapping resourcemapping org eclipse ltk core refactoring change org eclipse ltk core refactoring participants reorg execution log reorgexecutionlog org eclipse ltk core refactoring resource resource change resourcechange org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring reorg i new name query inewnamequery org eclipse jdt internal corext util java element resource mapping javaelementresourcemapping package reorg change packagereorgchange resource change resourcechange string f package handle fpackagehandle string f destination handle fdestinationhandle i new name query inewnamequery f name query fnamequery package reorg change packagereorgchange i package fragment ipackagefragment pack i package fragment root ipackagefragmentroot dest i new name query inewnamequery name query namequery f package handle fpackagehandle pack get handle identifier gethandleidentifier f destination handle fdestinationhandle dest get handle identifier gethandleidentifier f name query fnamequery name query namequery check reorg undo able undoable don check read user confirmation moving read doesn thorugh validate edit file content modified set validation method setvalidationmethod validate change do perform reorg doperformreorg i progress monitor iprogressmonitor java model exception javamodelexception operation canceled exception operationcanceledexception override change perform i progress monitor iprogressmonitor core exception coreexception operation canceled exception operationcanceledexception begin task begintask get name getname i package fragment ipackagefragment pack get package getpackage resource mapping resourcemapping mapping java element resource mapping javaelementresourcemapping create pack change result do perform reorg doperformreorg mark as executed markasexecuted pack mapping result override object get modified element getmodifiedelement get package getpackage override i resource iresource get modified resource getmodifiedresource i package fragment ipackagefragment pack get package getpackage pack pack get resource getresource i package fragment root ipackagefragmentroot get destination getdestination i package fragment root ipackagefragmentroot java core javacore create f destination handle fdestinationhandle i package fragment ipackagefragment get package getpackage i package fragment ipackagefragment java core javacore create f package handle fpackagehandle string get new name getnewname operation canceled exception operationcanceledexception f name query fnamequery f name query fnamequery get new name getnewname mark as executed markasexecuted i package fragment ipackagefragment pack resource mapping resourcemapping mapping reorg execution log reorgexecutionlog log get adapter getadapter reorg execution log reorgexecutionlog log log mark as processed markasprocessed pack log mark as processed markasprocessed mapping
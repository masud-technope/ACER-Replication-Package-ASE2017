copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text correction proposals java util array list arraylist java util hash set hashset java util list org eclipse swt graphics image org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom tag element tagelement org eclipse jdt core dom text element textelement org eclipse jdt core dom type org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite import rewrite importrewrite import rewrite context importrewritecontext org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt internal corext code manipulation codemanipulation context sensitive import rewrite context contextsensitiveimportrewritecontext org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext dom dimension rewrite dimensionrewrite org eclipse jdt internal corext dom linked node finder linkednodefinder org eclipse jdt internal corext dom scope analyzer scopeanalyzer org eclipse jdt internal text correction ast res olving astresolving org eclipse jdt internal text correction javadoc tags sub processor javadoctagssubprocessor change method signature proposal changemethodsignatureproposal linked correction proposal linkedcorrectionproposal change description changedescription swap description swapdescription change description changedescription swap description swapdescription remove description removedescription change description changedescription modify description modifydescription change description changedescription string i type binding itypebinding type type resulting param type resultingparamtype simple name simplename resulting param name resultingparamname simple name simplename resulting tag arg resultingtagarg modify description modifydescription i type binding itypebinding type string type type edit description editdescription modify description modifydescription string org inal name orginalname edit description editdescription i type binding itypebinding type string type insert description insertdescription modify description modifydescription insert description insertdescription i type binding itypebinding type string type ast node astnode f invocation node finvocationnode i method binding imethodbinding f sender binding fsenderbinding change description changedescription f parameter changes fparameterchanges change description changedescription f exception changes fexceptionchanges change method signature proposal changemethodsignatureproposal string label i compilation unit icompilationunit targetcu ast node astnode invocation node invocationnode i method binding imethodbinding binding change description changedescription param changes paramchanges change description changedescription exception changes exceptionchanges relevance image image label targetcu relevance image is true istrue binding bindings is declaration binding isdeclarationbinding binding f invocation node finvocationnode invocation node invocationnode f sender binding fsenderbinding binding f parameter changes fparameterchanges param changes paramchanges f exception changes fexceptionchanges exception changes exceptionchanges override ast rewrite astrewrite get rewrite getrewrite core exception coreexception compilation unit compilationunit ast root astroot compilation unit compilationunit f invocation node finvocationnode get root getroot ast node astnode method decl methoddecl ast root astroot find declaring node finddeclaringnode f sender binding fsenderbinding ast node astnode new method decl newmethoddecl method decl methoddecl new method decl newmethoddecl method decl methoddecl ast root astroot ast res olving astresolving create quick fix t createquickfixast get compilation unit getcompilationunit new method decl newmethoddecl ast root astroot find declaring node finddeclaringnode f sender binding fsenderbinding get key getkey create import rewrite createimportrewrite ast root astroot new method decl newmethoddecl method declaration methoddeclaration method declaration methoddeclaration decl method declaration methoddeclaration new method decl newmethoddecl ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast f parameter changes fparameterchanges modify parameters modifyparameters rewrite decl f exception changes fexceptionchanges modify exceptions modifyexceptions rewrite decl rewrite modify parameters modifyparameters ast rewrite astrewrite rewrite method declaration methoddeclaration method decl methoddecl ast ast method decl methoddecl getast array list arraylist string used names usednames array list arraylist has created variables hascreatedvariables i variable binding ivariablebinding declared fields declaredfields f sender binding fsenderbinding get declaring class getdeclaringclass get declared fields getdeclaredfields avoid parameter names equal field names avoid parameter names equal field names declared fields declaredfields length avoid parameter names equal field names used names usednames add declared fields declaredfields get name getname import rewrite importrewrite imports get import rewrite getimportrewrite import rewrite context importrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext method decl methoddecl imports list rewrite listrewrite list rewrite listrewrite rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration parameters property parameters list single variable declaration singlevariabledeclaration parameters method decl methoddecl parameters old parameters oldparameters f parameter changes fparameterchanges length change description changedescription curr f parameter changes fparameterchanges curr single variable declaration singlevariabledeclaration old param oldparam parameters used names usednames add old param oldparam get name getname get identifier getidentifier curr insert description insertdescription insert description insertdescription desc insert description insertdescription curr single variable declaration singlevariabledeclaration new node newnode ast new single variable declaration newsinglevariabledeclaration new node newnode set type settype imports add import addimport desc type ast context nls new node newnode set name setname nls ast new simple name newsimplename remember desc resulting param name resultingparamname simple name simplename new node newnode get name getname desc resulting param type resultingparamtype new node newnode get type gettype has created variables hascreatedvariables list rewrite listrewrite insert at insertat new node newnode javadoc javadoc method decl methoddecl get javadoc getjavadoc javadoc tag element tagelement new tag element newtagelement ast new tag element newtagelement new tag element newtagelement set tag name settagname tag element tagelement tag param simple name simplename arg nls ast new simple name newsimplename nls new tag element newtagelement fragments add arg insert tab stop inserttabstop rewrite new tag element newtagelement fragments nls param tag comment tagcomment nls insert param tag insertparamtag rewrite get list rewrite getlistrewrite javadoc javadoc tags property parameters new tag element newtagelement desc resulting tag arg resultingtagarg arg desc resulting tag arg resultingtagarg curr remove description removedescription single variable declaration singlevariabledeclaration decl parameters list rewrite listrewrite remove decl tag element tagelement tag node tagnode find param tag findparamtag method decl methoddecl decl tag node tagnode rewrite remove tag node tagnode curr edit description editdescription edit description editdescription desc edit description editdescription curr i type binding itypebinding new type binding newtypebinding desc type single variable declaration singlevariabledeclaration decl parameters parameters size f parameter changes fparameterchanges length decl is varargs isvarargs new type binding newtypebinding is array isarray stick varargs new type binding newtypebinding new type binding newtypebinding get element type getelementtype rewrite decl single variable declaration singlevariabledeclaration varargs property type new type newtype imports add import addimport new type binding newtypebinding ast context rewrite replace decl get type gettype new type newtype dimension rewrite dimensionrewrite remove all children removeallchildren decl single variable declaration singlevariabledeclaration extra dimensions property rewrite i binding ibinding binding decl get name getname resolve binding resolvebinding binding simple name simplename names linked node finder linkednodefinder find by binding findbybinding decl get root getroot binding simple name simplename new names newnames simple name simplename names length names length nls simple name simplename new name newname ast new simple name newsimplename new names newnames new name newname rewrite replace names new name newname desc resulting param name resultingparamname new names newnames nls simple name simplename new name newname ast new simple name newsimplename rewrite replace decl get name getname new name newname remember desc resulting param name resultingparamname simple name simplename new name newname desc resulting param type resultingparamtype new type newtype desc org inal name orginalname decl get name getname get identifier getidentifier has created variables hascreatedvariables tag element tagelement tag node tagnode find param tag findparamtag method decl methoddecl decl tag node tagnode list ast node astnode fragments tag node tagnode fragments fragments is empty isempty simple name simplename arg nls ast new simple name newsimplename nls rewrite replace fragments arg desc resulting tag arg resultingtagarg arg curr swap description swapdescription single variable declaration singlevariabledeclaration decl parameters single variable declaration singlevariabledeclaration decl parameters swap description swapdescription curr rewrite replace decl rewrite create copy target createcopytarget decl rewrite replace decl rewrite create copy target createcopytarget decl used names usednames add decl get name getname get identifier getidentifier tag element tagelement tag node tagnode find param tag findparamtag method decl methoddecl decl tag element tagelement tag node tagnode find param tag findparamtag method decl methoddecl decl tag node tagnode tag node tagnode rewrite replace tag node tagnode rewrite create copy target createcopytarget tag node tagnode rewrite replace tag node tagnode rewrite create copy target createcopytarget tag node tagnode has created variables hascreatedvariables method decl methoddecl get body getbody avoid local variable compilation unit compilationunit root compilation unit compilationunit method decl methoddecl get root getroot i binding ibinding bindings scope analyzer scopeanalyzer root get declarations after getdeclarationsafter method decl methoddecl get body getbody get start position getstartposition scope analyzer scopeanalyzer variables bindings length used names usednames add bindings get name getname fix up names fixupnames rewrite used names usednames fix up names fixupnames ast rewrite astrewrite rewrite array list arraylist string used names usednames ast ast rewrite getast names parameters f parameter changes fparameterchanges length change description changedescription curr f parameter changes fparameterchanges curr modify description modifydescription modify description modifydescription desc modify description modifydescription curr string type key typekey get param type group id getparamtypegroupid string name key namekey get param name group id getparamnamegroupid collect suggestions string favourite string excluded names excludednames used names usednames to array toarray string used names usednames size string suggested name suggestedname desc suggested name suggestedname favourite stub utility stubutility suggest argument name suggestargumentname get compilation unit getcompilationunit get java project getjavaproject suggested name suggestedname excluded names excludednames add linked position proposal addlinkedpositionproposal name key namekey favourite desc edit description editdescription add linked position proposal addlinkedpositionproposal name key namekey edit description editdescription desc org inal name orginalname type type desc resulting param type resultingparamtype string suggested names suggestednames stub utility stubutility get argument name suggestions getargumentnamesuggestions get compilation unit getcompilationunit get java project getjavaproject type excluded names excludednames suggested names suggestednames length add linked position proposal addlinkedpositionproposal name key namekey suggested names suggestednames favourite favourite suggested names suggestednames used names usednames add favourite simple name simplename names desc resulting param name resultingparamname names length names set identifier setidentifier favourite add linked position addlinkedposition rewrite track names name key namekey add linked position addlinkedposition rewrite track desc resulting param type resultingparamtype type key typekey collect type suggestions i type binding itypebinding bindings ast res olving astresolving get relaxing types getrelaxingtypes ast desc type bindings length add linked position proposal addlinkedpositionproposal type key typekey bindings simple name simplename tag arg tagarg desc resulting tag arg resultingtagarg tag arg tagarg tag arg tagarg set identifier setidentifier favourite add linked position addlinkedposition rewrite track tag arg tagarg name key namekey tag element tagelement find param tag findparamtag method declaration methoddeclaration decl single variable declaration singlevariabledeclaration param javadoc javadoc decl get javadoc getjavadoc javadoc javadoc tags sub processor javadoctagssubprocessor find param tag findparamtag javadoc param get name getname get identifier getidentifier tag element tagelement insert param tag insertparamtag list rewrite listrewrite tag rewriter tagrewriter list single variable declaration singlevariabledeclaration parameters current index currentindex tag element tagelement new tag element newtagelement hash set hashset string previous names previousnames hash set hashset current index currentindex single variable declaration singlevariabledeclaration parameters previous names previousnames add get name getname get identifier getidentifier javadoc tags sub processor javadoctagssubprocessor insert tag inserttag tag rewriter tagrewriter new tag element newtagelement previous names previousnames new tag element newtagelement modify exceptions modifyexceptions ast rewrite astrewrite rewrite method declaration methoddeclaration method decl methoddecl ast ast method decl methoddecl getast import rewrite importrewrite imports get import rewrite getimportrewrite import rewrite context importrewritecontext context context sensitive import rewrite context contextsensitiveimportrewritecontext method decl methoddecl imports list rewrite listrewrite list rewrite listrewrite rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration thrown exception types property exceptions list type exceptions method decl methoddecl thrown exception types thrownexceptiontypes exceptions f exception changes fexceptionchanges length change description changedescription curr f exception changes fexceptionchanges curr curr insert description insertdescription insert description insertdescription desc insert description insertdescription curr string type imports add import addimport desc type context ast node astnode new node newnode imports add import addimport desc type ast context list rewrite listrewrite insert at insertat new node newnode string key get exception type group id getexceptiontypegroupid add linked position addlinkedposition rewrite track new node newnode key javadoc javadoc method decl methoddecl get javadoc getjavadoc javadoc javadoc tags sub processor javadoctagssubprocessor find throws tag findthrowstag javadoc type tag element tagelement new tag element newtagelement ast new tag element newtagelement new tag element newtagelement set tag name settagname tag element tagelement tag ast node astnode new ref newref ast node factory astnodefactory new name newname ast type new tag element newtagelement fragments add new ref newref insert tab stop inserttabstop rewrite new tag element newtagelement fragments nls tag comment tagcomment nls insert throws tag insertthrowstag rewrite get list rewrite getlistrewrite javadoc javadoc tags property exceptions new tag element newtagelement add linked position addlinkedposition rewrite track new ref newref key curr remove description removedescription type node exceptions list rewrite listrewrite remove node tag element tagelement tag node tagnode find throws tag findthrowstag method decl methoddecl node tag node tagnode rewrite remove tag node tagnode curr edit description editdescription edit description editdescription desc edit description editdescription curr type old node oldnode exceptions string type imports add import addimport desc type context ast node astnode new node newnode imports add import addimport desc type ast context list rewrite listrewrite replace old node oldnode new node newnode string key get exception type group id getexceptiontypegroupid add linked position addlinkedposition rewrite track new node newnode key tag element tagelement tag node tagnode find throws tag findthrowstag method decl methoddecl old node oldnode tag node tagnode ast node astnode new ref newref ast node factory astnodefactory new type newtype ast type rewrite replace ast node astnode tag node tagnode fragments new ref newref add linked position addlinkedposition rewrite track new ref newref key curr swap description swapdescription type decl exceptions type decl exceptions swap description swapdescription curr rewrite replace decl rewrite create copy target createcopytarget decl rewrite replace decl rewrite create copy target createcopytarget decl tag element tagelement tag node tagnode find throws tag findthrowstag method decl methoddecl decl tag element tagelement tag node tagnode find throws tag findthrowstag method decl methoddecl decl tag node tagnode tag node tagnode rewrite replace tag node tagnode rewrite create copy target createcopytarget tag node tagnode rewrite replace tag node tagnode rewrite create copy target createcopytarget tag node tagnode insert tab stop inserttabstop ast rewrite astrewrite rewriter list ast node astnode fragments string linked name linkedname text element textelement text element textelement rewriter getast new text element newtextelement nls text element textelement set text settext fragments add text element textelement add linked position addlinkedposition rewriter track text element textelement linked name linkedname tag element tagelement find throws tag findthrowstag method declaration methoddeclaration decl type exception javadoc javadoc decl get javadoc getjavadoc javadoc string ast nodes astnodes get type name gettypename exception javadoc tags sub processor javadoctagssubprocessor find throws tag findthrowstag javadoc tag element tagelement insert throws tag insertthrowstag list rewrite listrewrite tag rewriter tagrewriter list type exceptions current index currentindex tag element tagelement new tag element newtagelement hash set hashset string previous names previousnames hash set hashset current index currentindex type curr exceptions previous names previousnames add ast nodes astnodes get type name gettypename curr javadoc tags sub processor javadoctagssubprocessor insert tag inserttag tag rewriter tagrewriter new tag element newtagelement previous names previousnames new tag element newtagelement string get param name group id getparamnamegroupid idx nls param idx string get param type group id getparamtypegroupid idx nls param type idx string get exception type group id getexceptiontypegroupid idx nls exc type idx
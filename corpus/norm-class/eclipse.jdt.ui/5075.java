copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring nls java util array list arraylist java util arrays java util collections java util comparator java util iterator java util list ibm icu text collator org eclipse text edits delete edit deleteedit org eclipse text edits insert edit insertedit org eclipse text edits replace edit replaceedit org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text text utilities textutilities org eclipse ltk core refactoring text change textchange org eclipse jdt internal corext refactoring text change compatibility textchangecompatibility org eclipse jdt internal corext util messages org eclipse jdt internal corext util strings org eclipse jdt internal properties file editor propertiesfileeditor properties file escapes propertiesfileescapes org eclipse jdt internal viewsupport basic element labels basicelementlabels property file document model propertyfiledocumentmodel list key value pair model l keyvaluepairmodell f key value pairs fkeyvaluepairs string f line delimiter flinedelimiter property file document model propertyfiledocumentmodel i document idocument document parse property document parsepropertydocument document f line delimiter flinedelimiter text utilities textutilities get default line delimiter getdefaultlinedelimiter document delimiter document model string get line delimiter getlinedelimiter f line delimiter flinedelimiter key pair model key code key code param key key pair pair key pair key value pair keyvaluepair get key value pair getkeyvaluepair string key f key value pairs fkeyvaluepairs size key value pair model l keyvaluepairmodell key value pair keyvaluepair f key value pairs fkeyvaluepairs key value pair keyvaluepair get key getkey equals key key value pair keyvaluepair insert edit insertedit insert key value pair keyvaluepair key value pair keyvaluepair key value pair model l keyvaluepairmodell key value pair model l keyvaluepairmodell key value pair model l keyvaluepairmodell key value pair keyvaluepair find insert position findinsertposition key value pair model l keyvaluepairmodell key value pair model l keyvaluepairmodell insert here inserthere f key value pairs fkeyvaluepairs offset insert here inserthere f offset foffset nls string extra insert here inserthere last key value pair lastkeyvaluepair last key value pair lastkeyvaluepair insert here inserthere needs new line needsnewline extra f line delimiter flinedelimiter last key value pair lastkeyvaluepair insert here inserthere reset needs new line resetneedsnewline offset insert here inserthere f leading white spaces fleadingwhitespaces string before key beforekey f key value pairs fkeyvaluepairs f key fkey string after key afterkey insert here inserthere f key fkey string key key value pair keyvaluepair f key fkey dist before distbefore nls util nlsutil invert distance invertdistance key before key beforekey dist after distafter nls util nlsutil invert distance invertdistance key after key afterkey dist before distbefore dist after distafter offset insert here inserthere f leading white spaces fleadingwhitespaces dist before distbefore dist after distafter collator get instance getinstance compare before key beforekey after key afterkey offset insert here inserthere f leading white spaces fleadingwhitespaces insert after key afterkey move leading white spaces inserted pair key value pair model l keyvaluepairmodell f leading white spaces fleadingwhitespaces insert here inserthere f leading white spaces fleadingwhitespaces insert here inserthere f leading white spaces fleadingwhitespaces string text extra key value pair model l keyvaluepairmodell get key value text getkeyvaluetext key value pair model l keyvaluepairmodell f offset foffset offset key value pair model l keyvaluepairmodell f length flength text length f key value pairs fkeyvaluepairs add key value pair model l keyvaluepairmodell insert edit insertedit offset text inserts key pairs model positions records required text change param key value pairs keyvaluepairs key pairs insert param change change record text insert key value pair keyvaluepair key value pairs keyvaluepairs text change textchange change array list arraylist key value pair keyvaluepair sorted array list arraylist arrays as list aslist key value pairs keyvaluepairs collections sort sorted comparator key value pair keyvaluepair override compare key value pair keyvaluepair key value pair keyvaluepair collator get instance getinstance compare f key fkey f key fkey sorted size key value pair keyvaluepair curr sorted insert edit insertedit insert edit insertedit insert curr string message messages format nls messages nlsmessages nls property file modifier nlspropertyfilemodifier add entry basic element labels basicelementlabels get java element name getjavaelementname curr get key getkey text change compatibility textchangecompatibility add text edit addtextedit change message insert edit insertedit delete edit deleteedit remove string key iterator key value pair model l keyvaluepairmodell iter f key value pairs fkeyvaluepairs iterator iter has next hasnext key value pair model l keyvaluepairmodell key value pair keyvaluepair iter key value pair keyvaluepair f key fkey equals key delete edit deleteedit key value pair keyvaluepair f offset foffset key value pair keyvaluepair get length getlength replace edit replaceedit replace key value pair keyvaluepair to replace toreplace key value pair keyvaluepair replace with replacewith iterator key value pair model l keyvaluepairmodell iter f key value pairs fkeyvaluepairs iterator iter has next hasnext key value pair model l keyvaluepairmodell key value pair keyvaluepair iter key value pair keyvaluepair f key fkey equals to replace toreplace get key getkey string new text newtext key value pair model l keyvaluepairmodell replace with replacewith get key value text getkeyvaluetext replace edit replaceedit key value pair keyvaluepair f offset foffset key value pair keyvaluepair get length getlength new text newtext find insert position findinsertposition key value pair model l keyvaluepairmodell key value pair keyvaluepair array list arraylist string array list arraylist f key value pairs fkeyvaluepairs size key value pair model l keyvaluepairmodell element f key value pairs fkeyvaluepairs element last key value pair lastkeyvaluepair add element get key getkey insert index insertindex nls util nlsutil get insertion position getinsertionposition key value pair keyvaluepair get key getkey insert index insertindex f key value pairs fkeyvaluepairs size insert index insertindex insert index insertindex parse property document parsepropertydocument i document idocument document f key value pairs fkeyvaluepairs array list arraylist simple line reader simplelinereader reader simple line reader simplelinereader document offset string reader read line readline leading white spaces leadingwhitespaces simple line reader simplelinereader is comment or white space iscommentorwhitespace idx get index of separation character getindexofseparationcharacter idx string key substring idx string trimmed key trimmedkey key trim string substring idx string trimmed value trimmedvalue strings trim leading tabs and spaces trimleadingtabsandspaces length key length length f key value pairs fkeyvaluepairs add key value pair model l keyvaluepairmodell trimmed key trimmedkey trimmed value trimmedvalue offset length leading white spaces leadingwhitespaces leading white spaces leadingwhitespaces leading white spaces leadingwhitespaces length offset length reader read line readline last line lastline document get number of lines getnumberoflines needs new line needsnewline needs new line needsnewline document get line length getlinelength last line lastline bad location exception badlocationexception ignore last key value pair lastkeyvaluepair last key value pair lastkeyvaluepair last key value pair lastkeyvaluepair offset needs new line needsnewline f key value pairs fkeyvaluepairs add last key value pair lastkeyvaluepair get index of separation character getindexofseparationcharacter string min index minindex index of even indexofeven index of indexof index of column indexofcolumn index of indexof index of blank indexofblank index of indexof index of even indexofeven index of column indexofcolumn min index minindex math min index of even indexofeven index of column indexofcolumn min index minindex math max index of even indexofeven index of column indexofcolumn min index minindex index of blank indexofblank min index minindex index of blank indexofblank min index minindex string escape string escape comment chars and leading whitespaces escapecommentcharsandleadingwhitespaces string buffer stringbuffer string buffer stringbuffer length length length length char at charat append properties file escapes propertiesfileescapes escape escape comment chars and leading whitespaces escapecommentcharsandleadingwhitespaces to string tostring escape leading white spaces escapeleadingwhitespaces escape comment chars escapecommentchars to string tostring string escape comment chars escapecommentchars string string string buffer stringbuffer string buffer stringbuffer string length string length string char at charat nls append nls append append to string tostring string escape leading white spaces escapeleadingwhitespaces string str first non white space firstnonwhitespace find first non white space findfirstnonwhitespace str string buffer stringbuffer buf string buffer stringbuffer first non white space firstnonwhitespace first non white space firstnonwhitespace buf append buf append str char at charat buf append str substring first non white space firstnonwhitespace buf to string tostring find first non white space findfirstnonwhitespace string length character is whitespace iswhitespace char at charat length key value pair model l keyvaluepairmodell key value pair keyvaluepair f offset foffset f length flength f leading white spaces fleadingwhitespaces key value pair model l keyvaluepairmodell string key string offset length leading white spaces leadingwhitespaces key f offset foffset offset f length flength length f leading white spaces fleadingwhitespaces leading white spaces leadingwhitespaces key value pair model l keyvaluepairmodell key value pair keyvaluepair key value pair keyvaluepair key value pair keyvaluepair f key fkey key value pair keyvaluepair f value fvalue get length getlength f length flength string get key value text getkeyvaluetext f key fkey f value fvalue last key value pair lastkeyvaluepair key value pair model l keyvaluepairmodell f needs new line fneedsnewline last key value pair lastkeyvaluepair offset needs new line needsnewline zzz zzzz zzzzzzz key offset f needs new line fneedsnewline needs new line needsnewline needs new line needsnewline f needs new line fneedsnewline reset needs new line resetneedsnewline f needs new line fneedsnewline
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation philippe marschall philippe marschall net cetera netcetera type wizards creation compilation unit called info java https bugs eclipse org michael pellaton michael pellaton net cetera netcetera type wizards creation compilation unit called info java https bugs eclipse org org eclipse jdt wizards java byte array input stream bytearrayinputstream java i o exception ioexception java reader java unsupported encoding exception unsupportedencodingexception java lang reflect invocation target exception invocationtargetexception java net uri org eclipse equinox bidi structured text type handler factory structuredtexttypehandlerfactory org eclipse swt swt org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets composite org eclipse swt widgets label org eclipse swt widgets text org eclipse core file system filesystem efs org eclipse core file system filesystem i file store ifilestore org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse core resources i workspace iworkspace org eclipse core resources resources plugin resourcesplugin org eclipse jface dialogs dialog org eclipse jface dialogs i dialog settings idialogsettings org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse jface util bidi utils bidiutils org eclipse jface viewers i structured selection istructuredselection org eclipse platformui org eclipse jdt core i buffer ibuffer org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i source range isourcerange org eclipse jdt core java conventions javaconventions org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core formatter code formatter codeformatter org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext javadoc java doc comment reader javadoccommentreader org eclipse jdt internal corext util code formatter util codeformatterutil org eclipse jdt internal corext util java conventions util javaconventionsutil org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util messages org eclipse jdt internal corext util strings org eclipse jdt code generation codegeneration org eclipse jdt javaui org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal java plugin javaplugin org eclipse jdt internal dialogs status info statusinfo org eclipse jdt internal dialogs text field navigation handler textfieldnavigationhandler org eclipse jdt internal java editor javaeditor document adapter documentadapter org eclipse jdt internal text javadoc java doc javadoc html text reader htmltextreader org eclipse jdt internal wizards new wizard messages newwizardmessages org eclipse jdt internal wizards dialogfields dialog field dialogfield org eclipse jdt internal wizards dialogfields i dialog field listener idialogfieldlistener org eclipse jdt internal wizards dialogfields layout util layoututil org eclipse jdt internal wizards dialogfields selection button dialog field selectionbuttondialogfield org eclipse jdt internal wizards dialogfields string dialog field stringdialogfield wizard create note intended subclassed clients instantiate implement kind wizard extend code new container wizard page newcontainerwizardpage code noextend intended subclassed clients new package wizard page newpackagewizardpage new container wizard page newcontainerwizardpage string info java filename java model util javamodelutil info java string html filename java model util javamodelutil html nls string new package wizard page newpackagewizardpage nls string new package wizard page newpackagewizardpage nls string settings create package createpackage info java create info java string dialog field stringdialogfield f package dialog field fpackagedialogfield selection button dialog field selectionbuttondialogfield f create package info java dialog field fcreatepackageinfojavadialogfield status validation field i status istatus f package status fpackagestatus i package fragment ipackagefragment f created package fragment fcreatedpackagefragment creates code new package wizard page newpackagewizardpage code new package wizard page newpackagewizardpage set title settitle new wizard messages newwizardmessages new package wizard page newpackagewizardpage title set description setdescription new wizard messages newwizardmessages new package wizard page newpackagewizardpage description f created package fragment fcreatedpackagefragment package field adapter packagefieldadapter adapter package field adapter packagefieldadapter f package dialog field fpackagedialogfield string dialog field stringdialogfield f package dialog field fpackagedialogfield set dialog field listener setdialogfieldlistener adapter f package dialog field fpackagedialogfield set label text setlabeltext new wizard messages newwizardmessages new package wizard page newpackagewizardpage label f create package info java dialog field fcreatepackageinfojavadialogfield selection button dialog field selectionbuttondialogfield swt check f create package info java dialog field fcreatepackageinfojavadialogfield set dialog field listener setdialogfieldlistener adapter f create package info java dialog field fcreatepackageinfojavadialogfield set label text setlabeltext new wizard messages newwizardmessages new package wizard page newpackagewizardpage create package info java createpackageinfojava f package status fpackagestatus status info statusinfo initialization wizard owning responsible calling method current selection selection initialize fields wizard param selection initialize fields init i structured selection istructuredselection selection i java element ijavaelement jelem get initial java element getinitialjavaelement selection init container page initcontainerpage jelem nls string p name pname jelem i package fragment ipackagefragment i package fragment ipackagefragment jelem get ancestor getancestor i java element ijavaelement fragment is default package isdefaultpackage p name pname get element name getelementname jelem get java project getjavaproject i package fragment root ipackagefragmentroot pkg fragment root pkgfragmentroot get package fragment root getpackagefragmentroot pkg fragment root pkgfragmentroot pkg fragment root pkgfragmentroot exists i java element ijavaelement packages pkg fragment root pkgfragmentroot get children getchildren packages length string pr name prname jelem get java project getjavaproject get element name getelementname i status istatus status get package status getpackagestatus pr name prname status get severity getseverity i status istatus p name pname pr name prname java model exception javamodelexception set package text setpackagetext p name pname i dialog settings idialogsettings dialog settings dialogsettings get dialog settings getdialogsettings dialog settings dialogsettings i dialog settings idialogsettings dialog settings dialogsettings get section getsection create package doc umentation createpackagedocumentation get boolean getboolean settings create package createpackage info java f create package info java dialog field fcreatepackageinfojavadialogfield set selection setselection create package doc umentation createpackagedocumentation update status updatestatus i status istatus f container status fcontainerstatus f package status fpackagestatus creation wizard page wizardpage create control createcontrol override create control createcontrol composite parent initialize dialog units initializedialogunits parent composite composite composite parent swt composite set font setfont parent get font getfont n columns ncolumns grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns composite set layout setlayout layout label label label composite swt wrap label set text settext new wizard messages newwizardmessages new package wizard page newpackagewizardpage info grid data griddata grid data griddata width hint widthhint convert width i n chars to pixels convertwidthincharstopixels horizontal span horizontalspan label set layout data setlayoutdata create container controls createcontainercontrols composite n columns ncolumns create package controls createpackagecontrols composite n columns ncolumns set control setcontrol composite dialog apply dialog font applydialogfont composite platformui get workbench getworkbench get help system gethelpsystem set help sethelp composite i java help context ids ijavahelpcontextids wizard org eclipse jface dialogs i dialog page idialogpage set visible setvisible override set visible setvisible visible set visible setvisible visible visible set focus setfocus sets focus input field set focus setfocus f package dialog field fpackagedialogfield set focus setfocus create package controls createpackagecontrols composite composite n columns ncolumns f package dialog field fpackagedialogfield do fill into grid dofillintogrid composite n columns ncolumns text text f package dialog field fpackagedialogfield get text control gettextcontrol layout util layoututil set width hint setwidthhint text get max field width getmaxfieldwidth layout util layoututil set horizontal grabbing sethorizontalgrabbing text dialog field dialogfield create empty space createemptyspace composite text field navigation handler textfieldnavigationhandler install text f create package info java dialog field fcreatepackageinfojavadialogfield do fill into grid dofillintogrid composite n columns ncolumns bidi utils bidiutils apply bidi processing applybidiprocessing f package dialog field fpackagedialogfield get text control gettextcontrol structured text type handler factory structuredtexttypehandlerfactory java package field adapter packagefieldadapter i dialog field listener idialogfieldlistener i dialog field listener idialogfieldlistener override dialog field changed dialogfieldchanged dialog field dialogfield field f package status fpackagestatus get package status getpackagestatus get package text getpackagetext handle field changed handlefieldchanged update message org eclipse jdt wizards new container wizard page newcontainerwizardpage handle field changed handlefieldchanged string override handle field changed handlefieldchanged string field name fieldname handle field changed handlefieldchanged field name fieldname field name fieldname container f package status fpackagestatus get package status getpackagestatus get package text getpackagetext status update update status updatestatus i status istatus f container status fcontainerstatus f package status fpackagestatus validation i status istatus validate package name validatepackagename string text i java project ijavaproject project get java project getjavaproject project project exists java conventions javaconventions validate package name validatepackagename text java core javacore version java core javacore version java conventions util javaconventionsutil validate package name validatepackagename text project valid ates validates returns status validation param pack name packname status validation i status istatus get package status getpackagestatus string pack name packname status info statusinfo status status info statusinfo pack name packname length i status istatus val validate package name validatepackagename pack name packname val get severity getseverity i status istatus error status set error seterror messages format new wizard messages newwizardmessages new package wizard page newpackagewizardpage error invalid package name invalidpackagename val get message getmessage status val get severity getseverity i status istatus warning status set warning setwarning messages format new wizard messages newwizardmessages new package wizard page newpackagewizardpage warning discouraged package name discouragedpackagename val get message getmessage status set error seterror new wizard messages newwizardmessages new package wizard page newpackagewizardpage error enter name entername status i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot root root get java project getjavaproject exists i package fragment ipackagefragment pack root get package fragment getpackagefragment pack name packname i path ipath root path rootpath root get path getpath i path ipath output path outputpath root get java project getjavaproject get output location getoutputlocation root path rootpath is prefix of isprefixof output path outputpath root path rootpath equals output path outputpath bin folder root don bin folder i path ipath package path packagepath pack get path getpath output path outputpath is prefix of isprefixof package path packagepath status set error seterror new wizard messages newwizardmessages new package wizard page newpackagewizardpage error is output folder isoutputfolder status pack exists level documentation doesn exist is create package doc umentation iscreatepackagedocumentation package doc umentation already exists packagedocumentationalreadyexists pack pack contains java resources containsjavaresources pack has sub packages hassubpackages status set error seterror new wizard messages newwizardmessages new package wizard page newpackagewizardpage error package exists packageexists status set error seterror new wizard messages newwizardmessages new package wizard page newpackagewizardpage error package not shown packagenotshown i resource iresource resource pack get resource getresource resource resources plugin resourcesplugin get workspace getworkspace validate filtered validatefiltered resource isok status set error seterror new wizard messages newwizardmessages new package wizard page newpackagewizardpage error package name filtered packagenamefiltered status uri location pack get resource getresource getlocationuri location i file store ifilestore store efs get store getstore location store fetch info fetchinfo exists status set error seterror new wizard messages newwizardmessages new package wizard page newpackagewizardpage error package exists different case packageexistsdifferentcase core exception coreexception java plugin javaplugin log status package doc umentation already exists packagedocumentationalreadyexists i package fragment ipackagefragment pack java model exception javamodelexception i compilation unit icompilationunit package info java packageinfojava pack get compilation unit getcompilationunit info java filename package info java packageinfojava exists object non java resources nonjavaresources pack get non java resources getnonjavaresources non java resources nonjavaresources length object resource non java resources nonjavaresources resource i file ifile i file ifile file i file ifile resource string file name filename file get name getname html filename equals file name filename returns content input field content input field string get package text getpackagetext f package dialog field fpackagedialogfield get text gettext returns content create documentation input field content create documentation input field is create package doc umentation iscreatepackagedocumentation f create package info java dialog field fcreatepackageinfojavadialogfield is selected isselected sets content input field param str input field text param can be modified canbemodified code code input field modified read set package text setpackagetext string str can be modified canbemodified f package dialog field fpackagedialogfield set text settext str f package dialog field fpackagedialogfield set enabled setenabled can be modified canbemodified returns resource handle corresponds element created created resource illegal values i resource iresource get modified resource getmodifiedresource i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot root i package fragment ipackagefragment pack root get package fragment getpackagefragment get package text getpackagetext i resource iresource pack res packres pack get resource getresource is create package doc umentation iscreatepackagedocumentation java model util javamodelutil or higher orhigher get java project getjavaproject pack get compilation unit getcompilationunit info java filename get resource getresource pack res packres i folder ifolder i folder ifolder pack res packres get file getfile html filename pack res packres creation returns runnable creates current settings runnable creates i runnable with progress irunnablewithprogress get runnable getrunnable i runnable with progress irunnablewithprogress override i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception interrupted exception interruptedexception create package createpackage monitor core exception coreexception invocation target exception invocationtargetexception returns created fragment method returns valid code get runnable getrunnable code code create package createpackage code executed created fragment i package fragment ipackagefragment get new package fragment getnewpackagefragment f created package fragment fcreatedpackagefragment creates entered field values param monitor progress monitor report progress progress monitor code code core exception coreexception thrown creating failed interrupted exception interruptedexception thrown operation can celed canceled create package createpackage i progress monitor iprogressmonitor monitor core exception coreexception interrupted exception interruptedexception monitor monitor null progress monitor nullprogressmonitor i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot i package fragment ipackagefragment pack root get package fragment getpackagefragment get package text getpackagetext pack exists f created package fragment fcreatedpackagefragment pack f created package fragment fcreatedpackagefragment root create package fragment createpackagefragment get package text getpackagetext monitor is create package doc umentation iscreatepackagedocumentation java model util javamodelutil or higher orhigher get java project getjavaproject create package info java createpackageinfojava monitor create package html createpackagehtml root monitor save documentation created i dialog settings idialogsettings dialog settings dialogsettings get dialog settings getdialogsettings dialog settings dialogsettings i dialog settings idialogsettings dialog settings dialogsettings get section getsection dialog settings dialogsettings add new section addnewsection settings create package createpackage info java is create package doc umentation iscreatepackagedocumentation monitor is canceled iscanceled interrupted exception interruptedexception create package info java createpackageinfojava i progress monitor iprogressmonitor monitor core exception coreexception string line delimiter linedelimiter stub utility stubutility get line delimiter used getlinedelimiterused f created package fragment fcreatedpackagefragment get java project getjavaproject string builder stringbuilder content string builder stringbuilder string file comment filecomment get file comment getfilecomment line delimiter linedelimiter string type comment typecomment get type comment gettypecomment line delimiter linedelimiter file comment filecomment content append file comment filecomment content append line delimiter linedelimiter type comment typecomment content append type comment typecomment content append line delimiter linedelimiter file comment filecomment insert empty file comment avoid file comment type comment nls content append content append line delimiter linedelimiter nls content append content append line delimiter linedelimiter nls content append content append line delimiter linedelimiter nls content append content append f created package fragment fcreatedpackagefragment get element name getelementname nls content append i compilation unit icompilationunit compilation unit compilationunit f created package fragment fcreatedpackagefragment create compilation unit createcompilationunit info java filename content to string tostring monitor java model util javamodelutil reconcile compilation unit compilationunit compilation unit compilationunit become working copy becomeworkingcopy monitor i buffer ibuffer buffer compilation unit compilationunit get buffer getbuffer i source range isourcerange source range sourcerange compilation unit compilationunit get source range getsourcerange string original content originalcontent buffer get text gettext source range sourcerange get offset getoffset source range sourcerange get length getlength string for matted content formattedcontent code formatter util codeformatterutil format code formatter codeformatter compilation unit original content originalcontent line delimiter linedelimiter f created package fragment fcreatedpackagefragment get java project getjavaproject for matted content formattedcontent strings trim leading tabs and spaces trimleadingtabsandspaces for matted content formattedcontent buffer replace source range sourcerange get offset getoffset source range sourcerange get length getlength for matted content formattedcontent compilation unit compilationunit commit working copy commitworkingcopy sub progress monitor subprogressmonitor monitor compilation unit compilationunit discard working copy discardworkingcopy string get file comment getfilecomment string line delimiter used linedelimiterused core exception coreexception i compilation unit icompilationunit f created package fragment fcreatedpackagefragment get compilation unit getcompilationunit info java filename code generation codegeneration get file comment getfilecomment line delimiter used linedelimiterused string get type comment gettypecomment string line delimiter used linedelimiterused core exception coreexception i compilation unit icompilationunit f created package fragment fcreatedpackagefragment get compilation unit getcompilationunit info java filename string type name typename info java filename substring info java filename length java model util javamodelutil suffix length code generation codegeneration get type comment gettypecomment type name typename line delimiter used linedelimiterused create package html createpackagehtml i package fragment root ipackagefragmentroot root i progress monitor iprogressmonitor monitor core exception coreexception i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace i folder ifolder created package createdpackage workspace get root getroot get folder getfolder f created package fragment fcreatedpackagefragment get path getpath i file ifile package html packagehtml created package createdpackage get file getfile html filename string charset package html packagehtml get charset getcharset string content build package html content buildpackagehtmlcontent root charset package html packagehtml create byte array input stream bytearrayinputstream content get bytes getbytes charset monitor unsupported encoding exception unsupportedencodingexception string message charset charset supported platform core exception coreexception status i status istatus error javaui plugin message string build package html content buildpackagehtmlcontent i package fragment root ipackagefragmentroot root string charset core exception coreexception string line delimiter linedelimiter stub utility stubutility get line delimiter used getlinedelimiterused root get java project getjavaproject string builder stringbuilder content string builder stringbuilder string file comment filecomment get file comment getfilecomment line delimiter linedelimiter string type comment typecomment get type comment gettypecomment line delimiter linedelimiter nls content append doctype html dtd html content append line delimiter linedelimiter file comment filecomment nls content append content append line delimiter linedelimiter content append str ip java comments stripjavacomments file comment filecomment content append line delimiter linedelimiter nls content append content append line delimiter linedelimiter nls content append html content append line delimiter linedelimiter nls content append head content append line delimiter linedelimiter nls content append meta http equiv content type content text html charset content append charset nls content append content append line delimiter linedelimiter nls content append title content append f created package fragment fcreatedpackagefragment get element name getelementname nls content append title content append line delimiter linedelimiter nls content append head content append line delimiter linedelimiter nls content append body content append line delimiter linedelimiter type comment typecomment content append str ip java comments stripjavacomments type comment typecomment content append line delimiter linedelimiter nls content append body content append line delimiter linedelimiter nls content append html content to string tostring string str ip java comments stripjavacomments string comment document adapter documentadapter document adapter documentadapter document adapter documentadapter f created package fragment fcreatedpackagefragment get path getpath document adapter documentadapter set contents setcontents comment get string getstring java doc javadoc html text reader htmltextreader java doc comment reader javadoccommentreader document adapter documentadapter comment length document adapter documentadapter close string get string getstring reader reader string buffer stringbuffer buf string buffer stringbuffer buffer count count reader read buffer buf append buffer count i o exception ioexception buf to string tostring
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation matt chapman mpchapman gmail jdt java agnostic org eclipse jdt internal corext util java util arrays java util hash set hashset java util map org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core resources i storage istorage org eclipse text edits text edit textedit org eclipse jdt core classpath container initializer classpathcontainerinitializer org eclipse jdt core flags org eclipse jdt core i classpath container iclasspathcontainer org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i jar entry resource ijarentryresource org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core compiler char operation charoperation org eclipse jdt internal corext core xt messages corextmessages org eclipse jdt internal corext validate edit exception validateeditexception org eclipse jdt launching ivm install ivminstall org eclipse jdt launching ivm install ivminstall org eclipse jdt launching java runtime javaruntime org eclipse jdt launching environments i execution environment iexecutionenvironment utility methods java model jdt ui helper classes jdtuihelperclasses java model util javamodelutil latest link java core javacore code version level string version latest inlined version latest java core javacore version suffix creating java files general java like javalike methods java core javacore create existing compilation unit link get rename d name getrenamedcuname i compilation unit icompilationunit string note link java core javacore get java like extensions getjavalikeextensions suffix includes leading java core javacore get java like extensions getjavalikeextensions java core javacore is java like file name isjavalikefilename string java core javacore remove java like extension removejavalikeextension string get rename d name getrenamedcuname i compilation unit icompilationunit string nls string suffix java info java file nls string info java info java info file nls string info info html file nls string html html finds type container container returned element type code i type itype code code i package fragment ipackagefragment code code code returned type container param jproject java project defining context search param type container name typecontainername dot separated type container returns container java model exception javamodelexception thrown project accessed get type container name gettypecontainername i type itype i java element ijavaelement find type container findtypecontainer i java project ijavaproject jproject string type container name typecontainername java model exception javamodelexception find type i java element ijavaelement result jproject find type findtype type container name typecontainername result find i path ipath path path type container name typecontainername replace result jproject find element findelement path result i package fragment ipackagefragment result result finds type compilation unit typical usage find type working copy param compilation unit search param type qualified name typequalifiedname type qualified type enclosing type names separated dots type existing java model exception javamodelexception thrown accessed i type itype find type in compilation unit findtypeincompilationunit i compilation unit icompilationunit string type qualified name typequalifiedname java model exception javamodelexception i type itype types get all types getalltypes types length string curr name currname types get type qualified name gettypequalifiedname type qualified name typequalifiedname equals curr name currname types returns element compilation unit equal element note element parent compilation unit param search param element element element equal element i java element ijavaelement find in compilation unit findincompilationunit i compilation unit icompilationunit i java element ijavaelement element i java element ijavaelement elements find elements findelements element elements elements length elements returns fully qualified type container enclosing type param type type type container string get type container name gettypecontainername i type itype type i type itype outer type outertype type get declaring type getdeclaringtype outer type outertype outer type outertype get fully qualified name getfullyqualifiedname type get package fragment getpackagefragment get element name getelementname concatenates names dot separation strings empty code code param param concat enated concatenated string concatenate name concatenatename string string string buffer stringbuffer buf string buffer stringbuffer length buf append length buf length buf append buf append buf to string tostring concatenates names dot separation strings empty code code param string param string concat enated concatenated string string concatenate name concatenatename string buffer stringbuffer buf string buffer stringbuffer length buf append length buf length buf append buf append buf to string tostring returns names match match equal missing dot separated qualifier param name a namea qualified param name b nameb qualified code code iff names match is matching name ismatchingname string name a namea string name b nameb name a namea length name b nameb length name a namea equals name b nameb name b nameb ends with endswith name a namea name b nameb char at charat name a namea ends with endswith name b nameb name a namea char at charat eval uates evaluates member visible elements param member member test visibility param pack focus returns code code member visible java model exception javamodelexception thrown member accessed is visible isvisible i member imember member i package fragment ipackagefragment pack java model exception javamodelexception type member get element type getelementtype nls type i java element ijavaelement initializer type i java element ijavaelement method member get element name getelementname starts with startswith other flags otherflags member get flags getflags i type itype declaring type declaringtype member get declaring type getdeclaringtype flags is public ispublic other flags otherflags declaring type declaringtype is interface or annotation isinterfaceorannotation declaring type declaringtype flags is private isprivate other flags otherflags i package fragment ipackagefragment other pack otherpack i package fragment ipackagefragment member get ancestor getancestor i java element ijavaelement fragment pack other pack otherpack is same package issamepackage pack other pack otherpack eval uates evaluates member focus element hierarchy visible elements param member member test visibility param pack focus element focus returns code code member visible java model exception javamodelexception thrown member accessed is visible in hierarchy isvisibleinhierarchy i member imember member i package fragment ipackagefragment pack java model exception javamodelexception type member get element type getelementtype nls type i java element ijavaelement initializer type i java element ijavaelement method member get element name getelementname starts with startswith other flags otherflags member get flags getflags i type itype declaring type declaringtype member get declaring type getdeclaringtype flags is public ispublic other flags otherflags flags is protected isprotected other flags otherflags declaring type declaringtype is interface or annotation isinterfaceorannotation declaring type declaringtype flags is private isprivate other flags otherflags i package fragment ipackagefragment other pack otherpack i package fragment ipackagefragment member get ancestor getancestor i java element ijavaelement fragment pack pack equals other pack otherpack returns fragment root code i java element ijavaelement code element fragment root element returned param element element fragment root element code code i package fragment root ipackagefragmentroot get package fragment root getpackagefragmentroot i java element ijavaelement element i package fragment root ipackagefragmentroot element get ancestor getancestor i java element ijavaelement fragment root finds method type searches method signature parameter types compared simple resolving fully qualified type constructors compared parameters param method find param param types paramtypes type signatures parameters code q string qstring code param is constructor isconstructor method constructor param type type method code code foun java model exception javamodelexception thrown type accessed i method imethod find method findmethod string string param types paramtypes is constructor isconstructor i type itype type java model exception javamodelexception i method imethod methods type get methods getmethods methods length is same method signature issamemethodsignature param types paramtypes is constructor isconstructor methods methods finds method type types hierarchy searched interfaces searches method signature parameter types compared simple resolving fully qualified type constructors compared parameters note finding overridden methods finding declaring method link method override tester methodoverridetester param hierarchy hierarchy type param type type start search param method find param param types paramtypes type signatures parameters code q string qstring code param is constructor isconstructor method constructor method code code java model exception javamodelexception thrown type accessed i method imethod find method in hierarchy findmethodinhierarchy i type hierarchy itypehierarchy hierarchy i type itype type string string param types paramtypes is constructor isconstructor java model exception javamodelexception i method imethod method find method findmethod param types paramtypes is constructor isconstructor type method method i type itype super class superclass hierarchy get superclass getsuperclass type super class superclass i method imethod res find method in hierarchy findmethodinhierarchy hierarchy super class superclass param types paramtypes is constructor isconstructor res res is constructor isconstructor i type itype super interfaces superinterfaces hierarchy get super interfaces getsuperinterfaces type super interfaces superinterfaces length i method imethod res find method in hierarchy findmethodinhierarchy hierarchy super interfaces superinterfaces param types paramtypes res res method tests method equals signature parameter types compared simple resolving fully qualified type constructors compared parameters param method param param types paramtypes type signatures parameters code q string qstring code param is constructor isconstructor specifies method constructor param curr method returns code code method parameter types constructor java model exception javamodelexception thrown method accessed is same method signature issamemethodsignature string string param types paramtypes is constructor isconstructor i method imethod curr java model exception javamodelexception is constructor isconstructor equals curr get element name getelementname is constructor isconstructor curr is constructor isconstructor string curr param types currparamtypes curr get parameter types getparametertypes param types paramtypes length curr param types currparamtypes length param types paramtypes length string signature get simple name getsimplename signature to string tostring param types paramtypes string signature get simple name getsimplename signature to string tostring curr param types currparamtypes equals tests code i package fragment ipackagefragment code represent logical java param pack param pack code code fragments names equal is same package issamepackage i package fragment ipackagefragment pack i package fragment ipackagefragment pack pack get element name getelementname equals pack get element name getelementname checks type valid main method param type type test returns code code type main method java model exception javamodelexception thrown type accessed has main method hasmainmethod i type itype type java model exception javamodelexception i method imethod methods type get methods getmethods methods length methods is main method ismainmethod checks field param field field returns code code field returns java model exception javamodelexception thrown field accessed is boolean isboolean i field ifield field java model exception javamodelexception field get type signature gettypesignature equals signature sig param type type test code code iff type annotation java model exception javamodelexception thrown field accessed is interface or annotation isinterfaceorannotation i type itype type java model exception javamodelexception type is interface isinterface resolves type context declaring type param ref type sig reftypesig type signature notation q vector qvector array type dimensions param declaring type declaringtype context resolving type reference returns fully qualified type build type unresolved type could n couldn resolved returned java model exception javamodelexception thrown type accessed string get resolved type name getresolvedtypename string ref type sig reftypesig i type itype declaring type declaringtype java model exception javamodelexception array count arraycount signature get array count getarraycount ref type sig reftypesig type ref type sig reftypesig char at charat array count arraycount type signature unresolved nls string bracket ref type sig reftypesig index of indexof signature start array count arraycount bracket ref type sig reftypesig substring array count arraycount bracket semi ref type sig reftypesig index of indexof signature semicolon array count arraycount semi illegal argument exception illegalargumentexception ref type sig reftypesig substring array count arraycount semi string resolved names resolvednames declaring type declaringtype resolve type resolvetype resolved names resolvednames resolved names resolvednames length java model util javamodelutil concatenate name concatenatename resolved names resolvednames resolved names resolvednames signature to string tostring ref type sig reftypesig substring array count arraycount returns edited param compilation unit code code edited is editable iseditable i compilation unit icompilationunit is not null isnotnull i resource iresource resource get primary getprimary get resource getresource resource exists resource get resource attributes getresourceattributes is read only isreadonly returns primary original shared working copy param compilation unit code code primary is primary isprimary i compilation unit icompilationunit get owner getowner checks type signature primitive type param type signature typesignature type signature string check code code type primitive type code code java model exception javamodelexception element exist exception occurs accessing resource is primitive isprimitive string type signature typesignature java model exception javamodelexception signature get type signature kind gettypesignaturekind signature get element type getelementtype type signature typesignature signature base type signature don log exists exceptions bug http bugs eclipse org bugs bug cgi don log exists exception working copies is exception to b e log ged isexceptiontobelogged core exception coreexception exception exception java model exception javamodelexception java model exception javamodelexception java model exception javamodelexception exception is does not exist isdoesnotexist i type itype get all super types getallsupertypes i type itype type i progress monitor iprogressmonitor java model exception javamodelexception work around workaround i type itype super types supertypes super type hierarchy cache supertypehierarchycache get type hierarchy gettypehierarchy type get all super types getallsupertypes type type is interface isinterface i type itype obj ekt objekt type get java project getjavaproject find type findtype java lang object obj ekt objekt i type itype super interfaces and object superinterfacesandobject i type itype super types supertypes length system arraycopy super types supertypes super interfaces and object superinterfacesandobject super types supertypes length super interfaces and object superinterfacesandobject super types supertypes length obj ekt objekt super interfaces and object superinterfacesandobject super types supertypes is super type issupertype i type hierarchy itypehierarchy hierarchy i type itype possible super type possiblesupertype i type itype type file d filed bug add method i type hierarchy itypehierarchy i type itype super class superclass hierarchy get superclass getsuperclass type super class superclass possible super type possiblesupertype equals super class superclass is super type issupertype hierarchy possible super type possiblesupertype super class superclass flags is interface isinterface hierarchy get cached flags getcachedflags possible super type possiblesupertype i type itype super interfaces superinterfaces hierarchy get super interfaces getsuperinterfaces type super interfaces superinterfaces length i type itype curr super interfaces superinterfaces possible super type possiblesupertype equals curr is super type issupertype hierarchy possible super type possiblesupertype curr is excluded path isexcludedpath i path ipath resource path resourcepath i path ipath exclusion patterns exclusionpatterns path resource path resourcepath to string tostring to char array tochararray length exclusion patterns exclusionpatterns length length pattern exclusion patterns exclusionpatterns to string tostring to char array tochararray char operation charoperation path match pathmatch pattern path returns resource path matches exclusion patterns param resource path resourcepath resource path param exclusion patterns exclusionpatterns exclusion patterns returns code code resource path matches exclusion i classpath entry iclasspathentry get exclusion patterns getexclusionpatterns is excluded isexcluded i path ipath resource path resourcepath exclusion patterns exclusionpatterns exclusion patterns exclusionpatterns path resource path resourcepath to string tostring to char array tochararray length exclusion patterns exclusionpatterns length length char operation charoperation path match pathmatch exclusion patterns exclusionpatterns path force reconcile compilation unit param unit compilation unit java model exception javamodelexception thrown compilation unit accessed reconcile i compilation unit icompilationunit unit java model exception javamodelexception unit reconcile i compilation unit icompilationunit ast don force problem detection primary owner progress monitor helper method tests classpath entry container code code returned entry container configuration source attach ments attachments param jproject container parent project param container path containerpath path container param lib path libpath path library i classpath entry iclasspathentry classpath entry container code code container modified java model exception javamodelexception thrown accessing container failed i classpath entry iclasspathentry get classpath entry to edit getclasspathentrytoedit i java project ijavaproject jproject i path ipath container path containerpath i path ipath lib path libpath java model exception javamodelexception i classpath container iclasspathcontainer container java core javacore get classpath container getclasspathcontainer container path containerpath jproject classpath container initializer classpathcontainerinitializer initializer java core javacore get classpath container initializer getclasspathcontainerinitializer container path containerpath segment container initializer initializer can update classpath container canupdateclasspathcontainer container path containerpath jproject find entry in container findentryincontainer container lib path libpath attachment finds entry container code code returned entry param container container param lib path libpath path library i classpath entry iclasspathentry classpath entry container code code container modified i classpath entry iclasspathentry find entry in container findentryincontainer i classpath container iclasspathcontainer container i path ipath lib path libpath i classpath entry iclasspathentry entries container get classpath entries getclasspathentries entries length i classpath entry iclasspathentry curr entries i classpath entry iclasspathentry resolved java core javacore get resolved classpath entry getresolvedclasspathentry curr resolved lib path libpath equals resolved get path getpath real entry curr attachment returns classpath entry fragment root raw entry root referenced library resolved entry param root fragment root classpath entry java model exception javamodelexception accessing entry failed i classpath entry iclasspathentry get classpath entry getclasspathentry i package fragment root ipackagefragmentroot root java model exception javamodelexception i classpath entry iclasspathentry raw entry rawentry root get raw classpath entry getrawclasspathentry raw entry kind rawentrykind raw entry rawentry get entry kind getentrykind raw entry kind rawentrykind i classpath entry iclasspathentry cpe library i classpath entry iclasspathentry cpe variable happen https bugs eclipse org bugs bug cgi i classpath entry iclasspathentry cpe container root is archive isarchive root get kind getkind i package fragment root ipackagefragmentroot binary i classpath entry iclasspathentry resolved entry resolvedentry root get resolved classpath entry getresolvedclasspathentry resolved entry resolvedentry get ref erencing entry getreferencingentry resolved entry resolvedentry raw entry rawentry raw entry rawentry compilation units selection param java elements javaelements selected java elements compilation units contained elements java elements javaelements java model exception javamodelexception element exist exception occurs accessing resource i compilation unit icompilationunit get all compilation units getallcompilationunits i java element ijavaelement java elements javaelements java model exception javamodelexception hash set hashset i compilation unit icompilationunit result hash set hashset java elements javaelements length add all cus addallcus result java elements javaelements result to array toarray i compilation unit icompilationunit result size add all cus addallcus hash set hashset i compilation unit icompilationunit collector i java element ijavaelement java element javaelement java model exception javamodelexception java element javaelement get element type getelementtype i java element ijavaelement java project i java project ijavaproject java project javaproject i java project ijavaproject java element javaelement i package fragment root ipackagefragmentroot package fragment roots packagefragmentroots java project javaproject get package fragment roots getpackagefragmentroots package fragment roots packagefragmentroots length add all cus addallcus collector package fragment roots packagefragmentroots i java element ijavaelement fragment root i package fragment root ipackagefragmentroot package fragment root packagefragmentroot i package fragment root ipackagefragmentroot java element javaelement package fragment root packagefragmentroot get kind getkind i package fragment root ipackagefragmentroot source i java element ijavaelement package fragments packagefragments package fragment root packagefragmentroot get children getchildren package fragments packagefragments length add all cus addallcus collector package fragments packagefragments i java element ijavaelement fragment i package fragment ipackagefragment package fragment packagefragment i package fragment ipackagefragment java element javaelement collector add all addall arrays as list aslist package fragment packagefragment get compilation units getcompilationunits i java element ijavaelement compilation unit collector add i compilation unit icompilationunit java element javaelement i java element ijavaelement java element javaelement get ancestor getancestor i java element ijavaelement compilation unit collector add i compilation unit icompilationunit set compliance options setcomplianceoptions map string string map string compliance java core javacore set compliance options setcomplianceoptions compliance map set default class file options setdefaultclassfileoptions map string string map string compliance map java core javacore compiler codegen inline jsr bytecode or higher orhigher compliance java core javacore enabled java core javacore disabled map java core javacore compiler local variable attr java core javacore generate map java core javacore compiler number attr java core javacore generate map java core javacore compiler source file attr java core javacore generate map java core javacore compiler codegen unused local java core javacore preserve param version version param version version code code iff version version is version less than isversionlessthan string version string version java core javacore version cldc equals version version java core javacore version java core javacore version cldc equals version version java core javacore version version compare to compareto version or higher orhigher string compliance is version less than isversionlessthan compliance java core javacore version or higher orhigher string compliance is version less than isversionlessthan compliance java core javacore version or higher orhigher string compliance is version less than isversionlessthan compliance java core javacore version checks project workspace source compliance greater param project project test code code test workspace settings code code project workspace source compliance greater or higher orhigher i java project ijavaproject project or higher orhigher get source compliance getsourcecompliance project checks project workspace source compliance greater param project project test code code test workspace settings code code project workspace source compliance greater or higher orhigher i java project ijavaproject project or higher orhigher get source compliance getsourcecompliance project checks project workspace source compliance greater param project project test code code test workspace settings code code project workspace source compliance greater or higher orhigher i java project ijavaproject project or higher orhigher get source compliance getsourcecompliance project string get source compliance getsourcecompliance i java project ijavaproject project project project get option getoption java core javacore compiler source java core javacore get option getoption java core javacore compiler source checks jre project workspace jre source compliance greater param project project test code code test workspace jre code code jre project workspace jre source compliance greater core exception coreexception unable determine project install orhigherjre i java project ijavaproject project core exception coreexception ivm install ivminstall vm install vminstall project vm install vminstall java runtime javaruntime getdefaultvminstall vm install vminstall java runtime javaruntime getvminstall project vm install vminstall ivm install ivminstall assume string compliance get compiler compliance getcompilercompliance ivm install ivminstall vm install vminstall compliance assume or higher orhigher compliance string get compiler compliance getcompilercompliance ivm install ivminstall vminstall string default compliance defaultcompliance string version vminstall get java version getjavaversion version default compliance defaultcompliance version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version version starts with startswith java core javacore version java core javacore version default compliance defaultcompliance string get execution environment compliance getexecutionenvironmentcompliance i execution environment iexecutionenvironment execution environment executionenvironment map string string compliance options complianceoptions execution environment executionenvironment get compliance options getcomplianceoptions compliance options complianceoptions object compliance compliance options complianceoptions java core javacore compiler compliance compliance string string compliance fallback string desc execution environment executionenvironment get id getid desc index of indexof java core javacore version java core javacore version desc index of indexof java core javacore version java core javacore version desc index of indexof java core javacore version java core javacore version desc index of indexof java core javacore version java core javacore version desc index of indexof java core javacore version java core javacore version java core javacore version compute compilation unit main type query main tain maintain existing extension java param compilation unit param new main name newmainname main type extension compilation unit string get rename d name getrenamedcuname i compilation unit icompilationunit string new main name newmainname string old name oldname get element name getelementname old name oldname last index of lastindexof new main name newmainname old name oldname substring new main name newmainname applies text edit compilation unit file d filed bug jdt core param compilation unit apply edit param edit edit apply param save save edit applied param monitor progress monitor core exception coreexception thrown access failed validate edit exception validateeditexception validate edit fails apply edit applyedit i compilation unit icompilationunit text edit textedit edit save i progress monitor iprogressmonitor monitor core exception coreexception validate edit exception validateeditexception i file ifile file i file ifile get resource getresource save file exists apply text edit applytextedit edit monitor monitor monitor null progress monitor nullprogressmonitor monitor begin task begintask core xt messages corextmessages java model util javamodelutil apply edit applyedit operation i status istatus status resources make commit table makecommittable file status isok validate edit exception validateeditexception status apply text edit applytextedit edit sub progress monitor subprogressmonitor monitor save sub progress monitor subprogressmonitor monitor monitor is implicit import isimplicitimport string qualifier i compilation unit icompilationunit nls java lang equals qualifier string package name packagename get parent getparent get element name getelementname qualifier equals package name packagename string type name typename java core javacore remove java like extension removejavalikeextension get element name getelementname string main type name maintypename java model util javamodelutil concatenate name concatenatename package name packagename type name typename qualifier equals main type name maintypename is openable storage isopenablestorage object storage storage i jar entry resource ijarentryresource i jar entry resource ijarentryresource storage is file isfile storage i storage istorage tells info java param compilation unit test code code info java is package info ispackageinfo i compilation unit icompilationunit info java equals get element name getelementname is polymorphic signature ispolymorphicsignature i method imethod method nls method get annotation getannotation java lang invoke method handle methodhandle polymorphic signature polymorphicsignature exists
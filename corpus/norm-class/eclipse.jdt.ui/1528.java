copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt text tests performance java io exception ioexception java input stream reader inputstreamreader java util arrays java util hash map hashmap java util map java util random org eclipse test performance performance meter performancemeter org eclipse jface text bad location exception badlocationexception org eclipse jface text default line tracker defaultlinetracker org eclipse jface text i line tracker ilinetracker org eclipse jface text i region iregion org eclipse jface text i text store itextstore text store performance test textstoreperformancetest text performance test case textperformancetestcase string faust string faust string faust map string string local fingerprints hash map hashmap string faust faust file tool filetool read input stream reader inputstreamreader text store performance test textstoreperformancetest get resource as stream getresourceasstream faust txt to string tostring io exception ioexception faust print stack trace printstacktrace faust faust faust faust substring int ern intern faust faust substring int ern intern i text store itextstore create text store createtextstore i text store itextstore f text store ftextstore org eclipse jdt text tests performance performance test case performancetestcase get local fingerprints getlocalfingerprints override map string string get local fingerprints getlocalfingerprints local fingerprints override set up setup exception set up setup f text store ftextstore create text store createtextstore measure set measureset performance meter performancemeter meter meter start accumulated accumulated accumulated f text store ftextstore faust meter measure repeated replace measurerepeatedreplace performance meter performancemeter meter f text store ftextstore faust offset replace length faust length meter start times times times f text store ftextstore replace offset replace length faust meter measure typing replace in l arg e file measuretypingreplaceinlargefile performance meter performancemeter meter f text store ftextstore faust offset meter start times times times offset f text store ftextstore replace offset meter measure typing replace in small file measuretypingreplaceinsmallfile performance meter performancemeter meter f text store ftextstore faust offset meter start times times times offset f text store ftextstore replace offset meter measure insert at start measureinsertatstart performance meter performancemeter meter f text store ftextstore faust meter start times times times f text store ftextstore replace faust meter measure insert at end measureinsertatend performance meter performancemeter meter f text store ftextstore offset f text store ftextstore get length getlength length faust length meter start times times times f text store ftextstore replace offset faust offset length meter measure delete insert measuredeleteinsert performance meter performancemeter meter f text store ftextstore faust offset replace length meter start times times times delete phase f text store ftextstore replace offset replace length times times times insert phase f text store ftextstore replace offset faust meter measure random replace measurerandomreplace performance meter performancemeter meter f text store ftextstore faust random rand random indices chosen fit gap text store size replace length indices length indices rand next int nextint faust length replace length replacement replace length arrays fill replacement string replace string replacement meter start times times times indices length f text store ftextstore replace indices replace length f text store ftextstore replace indices replace meter measure get line measuregetline performance meter performancemeter meter bad location exception badlocationexception f text store ftextstore faust i line tracker ilinetracker tracker default line tracker defaultlinetracker tracker faust lines tracker get number of lines getnumberoflines meter start times times times lines i region iregion line info lineinfo tracker get line information getlineinformation f text store ftextstore line info lineinfo get offset getoffset line info lineinfo get length getlength meter measure get char measuregetchar performance meter performancemeter meter f text store ftextstore faust length f text store ftextstore get length getlength meter start times times times offset offset length offset f text store ftextstore offset meter measure get all measuregetall performance meter performancemeter meter f text store ftextstore faust length f text store ftextstore get length getlength meter start times times times f text store ftextstore length meter
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring java util array list arraylist java util arrays java util list org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse ltk core refactoring check conditions operation checkconditionsoperation org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring participants move refactoring moverefactoring org eclipse ltk core refactoring participants processor based refactoring processorbasedrefactoring org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core refactoring i java refactorings ijavarefactorings org eclipse jdt core refactoring descriptors java refactoring descriptor javarefactoringdescriptor org eclipse jdt core refactoring descriptors move descriptor movedescriptor org eclipse jdt core refactoring descriptors move static members descriptor movestaticmembersdescriptor org eclipse jdt core refactoring descriptors rename java element descriptor renamejavaelementdescriptor org eclipse jdt core search search match searchmatch org eclipse jdt internal core refactoring descriptors refactoring signature descriptor factory refactoringsignaturedescriptorfactory org eclipse jdt internal corext refactoring parameter info parameterinfo org eclipse jdt internal corext refactoring base references in binary context referencesinbinarycontext org eclipse jdt internal corext refactoring code inline method refactoring inlinemethodrefactoring org eclipse jdt internal corext refactoring structure ast node search util astnodesearchutil org eclipse jdt internal corext refactoring structure change signature processor changesignatureprocessor org eclipse jdt internal corext refactoring structure move instance method processor moveinstancemethodprocessor org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal preferences java preferences settings javapreferencessettings junit framework test junit framework test case testcase junit framework test suite testsuite binary references tests binaryreferencestests test case testcase bug binary references test setup binaryreferencestestsetup fg test setup fgtestsetup binary references tests binaryreferencestests string test suite fg test setup fgtestsetup binary references test setup binaryreferencestestsetup test suite testsuite binary references tests binaryreferencestests fg test setup fgtestsetup test set up test setuptest test test fg test setup fgtestsetup binary references test setup binaryreferencestestsetup test fg test setup fgtestsetup assert contains matches assertcontainsmatches list search match searchmatch matches string expected handle identifiers expectedhandleidentifiers match count matchcount matches size assert true asserttrue match count small match count matchcount match count matchcount expected handle identifiers expectedhandleidentifiers length list string actual array list arraylist match count matchcount search match searchmatch match matches string handle identifier handleidentifier i java element ijavaelement match get element getelement get handle identifier gethandleidentifier actual add handle identifier handleidentifier list string expected array list arraylist arrays as list aslist expected handle identifiers expectedhandleidentifiers expected remove all removeall actual expected size assert equals assertequals expected matches expected to string tostring actual to string tostring i type itype find type findtype string type name typename java model exception javamodelexception fg test setup fgtestsetup get source project getsourceproject find type findtype type name typename i method imethod find method findmethod i type itype type string method name methodname java model exception javamodelexception i method imethod method type get method getmethod method name methodname string method exists i method imethod methods type get methods getmethods methods length methods get element name getelementname equals method name methodname method methods method list search match searchmatch do refactoring dorefactoring java refactoring descriptor javarefactoringdescriptor descriptor core exception coreexception refactoring status refactoringstatus status refactoring status refactoringstatus refactoring refactoring descriptor create refactoring createrefactoring status assert true asserttrue status isok do check conditions docheckconditions refactoring list search match searchmatch do check conditions docheckconditions refactoring refactoring core exception coreexception check conditions operation checkconditionsoperation check conditions operation checkconditionsoperation refactoring check conditions operation checkconditionsoperation conditions refactoring status refactoringstatus validation status validationstatus get status getstatus assert true asserttrue validation status validationstatus has fatal error hasfatalerror assert true asserttrue validation status validationstatus has error haserror assert equals assertequals validation status validationstatus get entries getentries length references in binary context referencesinbinarycontext context references in binary context referencesinbinarycontext validation status validationstatus get entry at getentryat get context getcontext context get matches getmatches test rename type testrenametype exception rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename type descriptor set java element setjavaelement find type findtype source base class baseclass descriptor set new name setnewname rename d base class renamedbaseclass descriptor set update references setupdatereferences list search match searchmatch matches do refactoring dorefactoring descriptor assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass compare to compareto lsource base class baseclass test rename type testrenametype exception rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename type descriptor set java element setjavaelement find type findtype source color descriptor set new name setnewname colour descriptor set update similar declarations setupdatesimilardeclarations descriptor set match strategy setmatchstrategy rename java element descriptor renamejavaelementdescriptor strategy suffix descriptor set update references setupdatereferences refactoring status refactoringstatus status refactoring status refactoringstatus refactoring refactoring descriptor create refactoring createrefactoring status assert true asserttrue status isok check conditions operation checkconditionsoperation check conditions operation checkconditionsoperation refactoring check conditions operation checkconditionsoperation conditions refactoring status refactoringstatus validation status validationstatus get status getstatus assert true asserttrue validation status validationstatus has fatal error hasfatalerror assert true asserttrue validation status validationstatus has error haserror assert equals assertequals validation status validationstatus get entries getentries length references in binary context referencesinbinarycontext context references in binary context referencesinbinarycontext validation status validationstatus get entry at getentryat get context getcontext list search match searchmatch matches context get matches getmatches assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass paint color paintcolor lsource color context references in binary context referencesinbinarycontext validation status validationstatus get entry at getentryat get context getcontext matches context get matches getmatches assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string list search match searchmatch do rename method dorenamemethod string type name typename string method name methodname core exception coreexception rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename method i method imethod method find method findmethod find type findtype type name typename method name methodname descriptor set java element setjavaelement method descriptor set new name setnewname new name newname descriptor set update references setupdatereferences do refactoring dorefactoring descriptor test rename virtual method testrenamevirtualmethod exception list search match searchmatch matches do rename method dorenamemethod source base class baseclass base method basemethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass base method basemethod test rename virtual method testrenamevirtualmethod exception list search match searchmatch matches do rename method dorenamemethod source base class baseclass compare to compareto assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass compare to compareto lsource base class baseclass test rename virtual method testrenamevirtualmethod exception list search match searchmatch matches do rename method dorenamemethod source base class baseclass referenced virtual method referencedvirtualmethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string binary reference binaryreference binary sub class subclass sub class subclass base method basemethod test rename non virtual method testrenamenonvirtualmethod exception list search match searchmatch matches do rename method dorenamemethod source base class baseclass referenced method referencedmethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test rename non virtual method testrenamenonvirtualmethod exception list search match searchmatch matches do rename method dorenamemethod source base class baseclass referenced static method referencedstaticmethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string list search match searchmatch do rename field dorenamefield string type name typename string field name fieldname core exception coreexception i field ifield field find type findtype type name typename get field getfield field name fieldname string refactoringid field is enum constant isenumconstant i java refactorings ijavarefactorings rename enum constant i java refactorings ijavarefactorings rename field rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor refactoringid descriptor set java element setjavaelement field descriptor set new name setnewname field is enum constant isenumconstant bla new name newname descriptor set update references setupdatereferences do refactoring dorefactoring descriptor test rename field testrenamefield exception list search match searchmatch matches do rename field dorenamefield source base class baseclass f protected fprotected assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass sub class subclass test rename field testrenamefield exception list search match searchmatch matches do rename field dorenamefield source base class baseclass f public fpublic assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test rename field testrenamefield exception list search match searchmatch matches do rename field dorenamefield source color red assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test rename field testrenamefield exception https bugs eclipse org bugs bug cgi bug list search match searchmatch matches do rename field dorenamefield source color green assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test rename package testrenamepackage exception rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename i package fragment ipackagefragment pack find type findtype source base class baseclass get package fragment getpackagefragment descriptor set java element setjavaelement pack descriptor set new name setnewname new name newname descriptor set update references setupdatereferences descriptor set update hierarchy setupdatehierarchy list search match searchmatch matches do refactoring dorefactoring descriptor assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass test rename package testrenamepackage exception rename java element descriptor renamejavaelementdescriptor descriptor refactoring signature descriptor factory refactoringsignaturedescriptorfactory create rename java element descriptor createrenamejavaelementdescriptor i java refactorings ijavarefactorings rename i package fragment ipackagefragment pack find type findtype source base class baseclass get package fragment getpackagefragment descriptor set java element setjavaelement pack descriptor set new name setnewname new name newname descriptor set update references setupdatereferences descriptor set update hierarchy setupdatehierarchy refactoring status refactoringstatus status refactoring status refactoringstatus refactoring refactoring descriptor create refactoring createrefactoring status assert true asserttrue status isok check conditions operation checkconditionsoperation check conditions operation checkconditionsoperation refactoring check conditions operation checkconditionsoperation conditions refactoring status refactoringstatus validation status validationstatus get status getstatus assert true asserttrue validation status validationstatus has fatal error hasfatalerror assert true asserttrue validation status validationstatus has error haserror assert equals assertequals validation status validationstatus get entries getentries length references in binary context referencesinbinarycontext context references in binary context referencesinbinarycontext validation status validationstatus get entry at getentryat get context getcontext list search match searchmatch matches context get matches getmatches assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass context references in binary context referencesinbinarycontext validation status validationstatus get entry at getentryat get context getcontext matches context get matches getmatches assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string binary reference binaryreference binary sub class subclass sub class subclass list search match searchmatch do change signature dochangesignature string type name typename string method name methodname java model exception javamodelexception exception core exception coreexception i method imethod method find method findmethod find type findtype type name typename method name methodname change signature processor changesignatureprocessor processor change signature processor changesignatureprocessor method string new names newnames string new types newtypes string new default values newdefaultvalues parameter info parameterinfo new param infos newparaminfos change signature tests changesignaturetests create new param infos createnewparaminfos new types newtypes new names newnames new default values newdefaultvalues new indices newindices change signature tests changesignaturetests add infos addinfos processor get parameter infos getparameterinfos new param infos newparaminfos new indices newindices refactoring refactoring processor based refactoring processorbasedrefactoring processor do check conditions docheckconditions refactoring test change signature testchangesignature exception list search match searchmatch matches do change signature dochangesignature source base class baseclass base method basemethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass base method basemethod binary reference binaryreference binary sub class subclass sub class subclass base method basemethod test change signature testchangesignature exception list search match searchmatch matches do change signature dochangesignature source base class baseclass compare to compareto assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass compare to compareto lsource base class baseclass test change signature testchangesignature exception list search match searchmatch matches do change signature dochangesignature source base class baseclass referenced method referencedmethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test change constructor signature testchangeconstructorsignature exception list search match searchmatch matches do change signature dochangesignature source base class baseclass base class baseclass assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass sub class subclass binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string list search match searchmatch do inline method doinlinemethod string type name typename string method name methodname java model exception javamodelexception exception core exception coreexception i method imethod method find method findmethod find type findtype type name typename method name methodname i compilation unit icompilationunit method get compilation unit getcompilationunit compilation unit compilationunit node refactoringastparser ast provider astprovider shared ast level parse i source range isourcerange name range namerange method get name range getnamerange refactoring refactoring inline method refactoring inlinemethodrefactoring create node name range namerange get offset getoffset name range namerange get length getlength do check conditions docheckconditions refactoring test inline method testinlinemethod exception list search match searchmatch matches do inline method doinlinemethod source base class baseclass referenced method referencedmethod assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test inline method testinlinemethod exception error inlining selected reference source i method imethod base method basemethod find method findmethod find type findtype source base class baseclass base method basemethod i compilation unit icompilationunit base method basemethod get compilation unit getcompilationunit compilation unit compilationunit node refactoringastparser ast provider astprovider shared ast level parse method declaration methoddeclaration base decl basedecl ast node search util astnodesearchutil get method declaration node getmethoddeclarationnode base method basemethod node expression statement expressionstatement method stmt methodstmt expression statement expressionstatement base decl basedecl get body getbody statements refactoring refactoring inline method refactoring inlinemethodrefactoring create node method stmt methodstmt get start position getstartposition method stmt methodstmt get length getlength check conditions operation checkconditionsoperation check conditions operation checkconditionsoperation refactoring check conditions operation checkconditionsoperation conditions refactoring status refactoringstatus validation status validationstatus get status getstatus assert true asserttrue validation status validationstatus has error haserror list search match searchmatch do move type domovetype string type name typename string new package name newpackagename core exception coreexception i type itype type find type findtype type name typename i package fragment root ipackagefragmentroot root java model util javamodelutil get package fragment root getpackagefragmentroot type move descriptor movedescriptor descriptor move descriptor movedescriptor refactoring core refactoringcore get refactoring contribution getrefactoringcontribution i java refactorings ijavarefactorings move create descriptor createdescriptor descriptor set move resources setmoveresources i file ifile i folder ifolder i compilation unit icompilationunit type get compilation unit getcompilationunit descriptor set destination setdestination root get package fragment getpackagefragment new package name newpackagename descriptor set update references setupdatereferences do refactoring dorefactoring descriptor test move type testmovetype exception list search match searchmatch matches do move type domovetype source base class baseclass source assert contains matches assertcontainsmatches matches string binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass binary reference binaryreference binary sub class subclass sub class subclass compare to compareto lsource base class baseclass binary reference binaryreference binary reference class referenceclass reference class referenceclass binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string list search match searchmatch do move static members domovestaticmembers i member imember members string target type name targettypename core exception coreexception i type itype target type targettype find type findtype target type name targettypename move static members descriptor movestaticmembersdescriptor descriptor move static members descriptor movestaticmembersdescriptor refactoring core refactoringcore get refactoring contribution getrefactoringcontribution i java refactorings ijavarefactorings move members create descriptor createdescriptor descriptor set destination type setdestinationtype target type targettype descriptor set members setmembers members do refactoring dorefactoring descriptor test move static member testmovestaticmember exception i type itype type find type findtype source base class baseclass i method imethod method find method findmethod type referenced static method referencedstaticmethod i field ifield field type get field getfield list search match searchmatch matches do move static members domovestaticmembers i member imember method field source in sub pack insubpack assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string test move method testmovemethod exception i type itype type find type findtype source base class baseclass i method imethod method find method findmethod type referenced method referencedmethod move instance method processor moveinstancemethodprocessor processor move instance method processor moveinstancemethodprocessor method java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings method get java project getjavaproject refactoring move refactoring moverefactoring processor refactoring status refactoringstatus precondition result preconditionresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert true asserttrue activation supposed successful precondition result preconditionresult isok move instance method tests moveinstancemethodtests choose new target choosenewtarget processor move instance method tests moveinstancemethodtests parameter list search match searchmatch matches do check conditions docheckconditions assert contains matches assertcontainsmatches matches string binary reference binaryreference binary reference class referenceclass reference class referenceclass main ljava lang string
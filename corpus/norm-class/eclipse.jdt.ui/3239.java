copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation sergey prigogin eclipse sprigogin gmail refactoring provide implement ref actorings refactorings depend resources explicitly released https bugs eclipse org org eclipse ltk core refactoring tests resource java io exception ioexception junit framework test junit framework test case testcase junit framework test suite testsuite org eclipse core file system filesystem efs org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i project description iprojectdescription org eclipse core resources i resource iresource org eclipse core resources i workspace iworkspace org eclipse core resources resources plugin resourcesplugin org eclipse ltk core refactoring change org eclipse ltk core refactoring check conditions operation checkconditionsoperation org eclipse ltk core refactoring perform change operation performchangeoperation org eclipse ltk core refactoring perform refactoring operation performrefactoringoperation org eclipse ltk core refactoring refactoring org eclipse ltk core refactoring refactoring context refactoringcontext org eclipse ltk core refactoring refactoring contribution refactoringcontribution org eclipse ltk core refactoring refactoring core refactoringcore org eclipse ltk core refactoring refactoring descriptor refactoringdescriptor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring resource delete resources descriptor deleteresourcesdescriptor org eclipse ltk core refactoring resource move resource change moveresourcechange org eclipse ltk core refactoring resource move resources descriptor moveresourcesdescriptor org eclipse ltk core refactoring tests util simple test project simpletestproject resource refactoring tests resourcerefactoringtests test case testcase test suite test suite testsuite suite test suite testsuite resource refactoring tests resourcerefactoringtests get name getname suite add test suite addtestsuite resource refactoring tests resourcerefactoringtests suite add test suite addtestsuite resource refactoring undo tests resourcerefactoringundotests suite simple test project simpletestproject f project fproject override set up setup exception f project fproject simple test project simpletestproject override tear down teardown exception f project fproject delete test move change testmovechange exception string content i folder ifolder test folder testfolder f project fproject create folder createfolder test i file ifile file f project fproject create file createfile test folder testfolder my file myfile txt content i folder ifolder destination f project fproject create folder createfolder dest change undo change undochange perform move resource change moveresourcechange file destination i resource iresource moved resource movedresource assert move assertmove file destination content perform undo change undochange assert move assertmove moved resource movedresource file get parent getparent content test move change testmovechange exception string content i folder ifolder test folder testfolder f project fproject create folder createfolder test f project fproject create file createfile test folder testfolder my file myfile txt content i folder ifolder destination f project fproject create folder createfolder dest change undo change undochange perform move resource change moveresourcechange test folder testfolder destination i folder ifolder moved resource movedresource i folder ifolder assert move assertmove test folder testfolder destination assert true asserttrue moved resource movedresource get file getfile my file myfile txt exists perform undo change undochange assert move assertmove moved resource movedresource test folder testfolder get parent getparent assert true asserttrue test folder testfolder get file getfile my file myfile txt exists test move change testmovechange exception move overwrite string content string content i folder ifolder test folder testfolder f project fproject create folder createfolder test i file ifile file f project fproject create file createfile test folder testfolder my file myfile txt content i folder ifolder destination f project fproject create folder createfolder dest i file ifile file f project fproject create file createfile destination my file myfile txt content change undo change undochange perform move resource change moveresourcechange file destination i resource iresource moved resource movedresource assert move assertmove file destination content perform undo change undochange assert move assertmove moved resource movedresource file get parent getparent content assert true asserttrue content equals f project fproject get content getcontent file test move refactoring testmoverefactoring exception string content i folder ifolder test folder testfolder f project fproject create folder createfolder test i file ifile file f project fproject create file createfile test folder testfolder my file myfile txt content i folder ifolder destination f project fproject create folder createfolder dest refactoring contribution refactoringcontribution contribution refactoring core refactoringcore get refactoring contribution getrefactoringcontribution move resources descriptor moveresourcesdescriptor move resources descriptor moveresourcesdescriptor descriptor move resources descriptor moveresourcesdescriptor contribution create descriptor createdescriptor descriptor set resources to move setresourcestomove i resource iresource file descriptor set destination setdestination destination change undo change undochange perform descriptor i resource iresource moved resource movedresource assert move assertmove file destination content perform undo change undochange assert move assertmove moved resource movedresource file get parent getparent content test move refactoring testmoverefactoring exception string content i folder ifolder test folder testfolder f project fproject create folder createfolder test f project fproject create file createfile test folder testfolder my file myfile txt content i folder ifolder destination f project fproject create folder createfolder dest refactoring contribution refactoringcontribution contribution refactoring core refactoringcore get refactoring contribution getrefactoringcontribution move resources descriptor moveresourcesdescriptor move resources descriptor moveresourcesdescriptor descriptor move resources descriptor moveresourcesdescriptor contribution create descriptor createdescriptor descriptor set resources to move setresourcestomove i resource iresource test folder testfolder descriptor set destination setdestination destination change undo change undochange perform descriptor i folder ifolder moved resource movedresource i folder ifolder assert move assertmove test folder testfolder destination assert true asserttrue moved resource movedresource get file getfile my file myfile txt exists perform undo change undochange assert move assertmove moved resource movedresource test folder testfolder get parent getparent assert true asserttrue test folder testfolder get file getfile my file myfile txt exists test move refactoring testmoverefactoring exception move overwrite string content string content i folder ifolder test folder testfolder f project fproject create folder createfolder test i file ifile file f project fproject create file createfile test folder testfolder my file myfile txt content i folder ifolder destination f project fproject create folder createfolder dest i file ifile file f project fproject create file createfile destination my file myfile txt content refactoring contribution refactoringcontribution contribution refactoring core refactoringcore get refactoring contribution getrefactoringcontribution move resources descriptor moveresourcesdescriptor move resources descriptor moveresourcesdescriptor descriptor move resources descriptor moveresourcesdescriptor contribution create descriptor createdescriptor descriptor set resources to move setresourcestomove i resource iresource file descriptor set destination setdestination destination change undo change undochange perform descriptor i resource iresource moved resource movedresource assert move assertmove file destination content perform undo change undochange assert move assertmove moved resource movedresource file get parent getparent content assert true asserttrue content equals f project fproject get content getcontent file test delete refactoring testdeleterefactoring bug exception i folder ifolder test folder testfolder f project fproject create folder createfolder test f project fproject create file createfile test folder testfolder my file myfile txt i project iproject test project testproject resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject simple test project simpletestproject test project test project testproject create test project testproject open refactoring contribution refactoringcontribution contribution refactoring core refactoringcore get refactoring contribution getrefactoringcontribution delete resources descriptor deleteresourcesdescriptor delete resources descriptor deleteresourcesdescriptor descriptor delete resources descriptor deleteresourcesdescriptor contribution create descriptor createdescriptor descriptor set delete contents setdeletecontents descriptor set resources setresources i resource iresource f project fproject get project getproject test project testproject perform descriptor assert false assertfalse f project fproject get project getproject exists assert false assertfalse test project testproject exists test project testproject delete test delete refactoring testdeleterefactoring bug exception i path ipath location f project fproject get project getproject get location getlocation i folder ifolder test folder testfolder f project fproject create folder createfolder test f project fproject create file createfile test folder testfolder my file myfile txt i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace string i project description iprojectdescription description workspace new project description newprojectdescription description set location setlocation location append i project iproject workspace get root getroot get project getproject create description open i path ipath location get location getlocation refactoring contribution refactoringcontribution contribution refactoring core refactoringcore get refactoring contribution getrefactoringcontribution delete resources descriptor deleteresourcesdescriptor delete resources descriptor deleteresourcesdescriptor descriptor delete resources descriptor deleteresourcesdescriptor contribution create descriptor createdescriptor descriptor set delete contents setdeletecontents descriptor set resources setresources i resource iresource f project fproject get project getproject perform descriptor assert false assertfalse f project fproject get project getproject exists assert false assertfalse exists assert false assertfalse location to file tofile exists assert false assertfalse location to file tofile exists test delete refactoring testdeleterefactoring bug exception i path ipath location f project fproject get project getproject get location getlocation i folder ifolder test folder testfolder f project fproject create folder createfolder test i file ifile file f project fproject create file createfile test folder testfolder my file myfile txt i path ipath file location filelocation file get location getlocation i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace string i project description iprojectdescription description workspace new project description newprojectdescription description set location setlocation location append i project iproject workspace get root getroot get project getproject create description open i path ipath location get location getlocation refactoring contribution refactoringcontribution contribution refactoring core refactoringcore get refactoring contribution getrefactoringcontribution delete resources descriptor deleteresourcesdescriptor delete resources descriptor deleteresourcesdescriptor descriptor delete resources descriptor deleteresourcesdescriptor contribution create descriptor createdescriptor descriptor set delete contents setdeletecontents descriptor set resources setresources i resource iresource f project fproject get project getproject perform descriptor assert false assertfalse f project fproject get project getproject exists assert false assertfalse exists assert true asserttrue location to file tofile exists assert true asserttrue file location filelocation to file tofile exists assert true asserttrue location to file tofile exists efs get local file system getlocalfilesystem get store getstore location delete efs efs get local file system getlocalfilesystem get store getstore location delete efs change perform change change core exception coreexception perform change operation performchangeoperation perform change operation performchangeoperation change assert true asserttrue change executed changeexecuted get undo change getundochange change perform refactoring descriptor refactoringdescriptor descriptor core exception coreexception refactoring status refactoringstatus status refactoring status refactoringstatus refactoring context refactoringcontext context descriptor create refactoring context createrefactoringcontext status refactoring refactoring context context get refactoring getrefactoring assert true asserttrue status isok perform refactoring operation performrefactoringoperation perform refactoring operation performrefactoringoperation refactoring check conditions operation checkconditionsoperation conditions refactoring status refactoringstatus validation status validationstatus get validation status getvalidationstatus assert true asserttrue validation status validationstatus has fatal error hasfatalerror validation status validationstatus has error haserror get undo change getundochange context context dispose i resource iresource assert move assertmove i resource iresource source i container icontainer destination string content core exception coreexception io exception ioexception i resource iresource res destination find member findmember source get name getname assert true asserttrue res assert true asserttrue res get type gettype source get type gettype res i file ifile assert true asserttrue content equals f project fproject get content getcontent i file ifile res res
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring rename java util arrays java util hash set hashset java util iterator java util org eclipse text edits text edit textedit org eclipse jface text i region iregion org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status context refactoringstatuscontext org eclipse ltk core refactoring text change textchange org eclipse jdt core compiler i problem iproblem org eclipse jdt core dom ast node astnode org eclipse jdt core dom block org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom lambda expression lambdaexpression org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom simple name simplename org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt internal corext source range factory sourcerangefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring base java string status context javastringstatuscontext org eclipse jdt internal corext util messages org eclipse jdt internal viewsupport basic element labels basicelementlabels refactoring analyze util refactoringanalyzeutil refactoring analyze util refactoringanalyzeutil instances i region iregion get new ranges getnewranges text edit textedit edits text change textchange change i region iregion result i region iregion edits length edits length result refactoring analyze util refactoringanalyzeutil get new text range getnewtextrange edits change result refactoring status refactoringstatus report problem nodes reportproblemnodes string modified working copy source modifiedworkingcopysource simple name simplename problem nodes problemnodes refactoring status refactoringstatus result refactoring status refactoringstatus problem nodes problemnodes length refactoring status context refactoringstatuscontext context java string status context javastringstatuscontext modified working copy source modifiedworkingcopysource source range factory sourcerangefactory create problem nodes problemnodes result add error adderror messages format refactoring core messages refactoringcoremessages refactoring analyze util refactoringanalyzeutil collision basic element labels basicelementlabels get java element name getjavaelementname problem nodes problemnodes get identifier getidentifier context result lambda expression lambdaexpression get lambda expression getlambdaexpression text edit textedit edit text change textchange change compilation unit compilationunit cu node cunode ast node astnode decl refactoring analyze util refactoringanalyzeutil find simple name node findsimplenamenode refactoring analyze util refactoringanalyzeutil get new text range getnewtextrange edit change cu node cunode lambda expression lambdaexpression ast nodes astnodes get parent getparent decl lambda expression lambdaexpression method declaration methoddeclaration get method declaration getmethoddeclaration text edit textedit edit text change textchange change compilation unit compilationunit cu node cunode ast node astnode decl refactoring analyze util refactoringanalyzeutil find simple name node findsimplenamenode refactoring analyze util refactoringanalyzeutil get new text range getnewtextrange edit change cu node cunode method declaration methoddeclaration ast nodes astnodes get parent getparent decl method declaration methoddeclaration block get block getblock text edit textedit edit text change textchange change compilation unit compilationunit cu node cunode ast node astnode decl refactoring analyze util refactoringanalyzeutil find simple name node findsimplenamenode refactoring analyze util refactoringanalyzeutil get new text range getnewtextrange edit change cu node cunode block ast nodes astnodes get parent getparent decl block i problem iproblem get introduce d compile problems getintroducedcompileproblems compilation unit compilationunit newcunode compilation unit compilationunit old cu node oldcunode i problem iproblem sub result subresult hash set hashset i problem iproblem old problems oldproblems get old problems getoldproblems old cu node oldcunode i problem iproblem new problems newproblems ast nodes astnodes get problems getproblems newcunode ast nodes astnodes include paren ts parents ast nodes astnodes problems new problems newproblems length i problem iproblem corresponding old correspondingold find corresponding problem findcorrespondingproblem old problems oldproblems new problems newproblems corresponding old correspondingold sub result subresult add new problems newproblems sub result subresult to array toarray i problem iproblem sub result subresult size i region iregion get new text range getnewtextrange text edit textedit edit text change textchange change change get preview edit getpreviewedit edit get region getregion i problem iproblem find corresponding problem findcorrespondingproblem i problem iproblem old problems oldproblems i problem iproblem i problem iproblem iterator i problem iproblem iter old problems oldproblems iterator iter has next hasnext i problem iproblem old problem oldproblem iter is corresponding iscorresponding old problem oldproblem i problem iproblem old problem oldproblem is corresponding iscorresponding i problem iproblem old problem oldproblem i problem iproblem i problem iproblem old problem oldproblem getid i problem iproblem getid old problem oldproblem get message getmessage equals i problem iproblem get message getmessage simple name simplename get simple name getsimplename ast node astnode node node simple name simplename simple name simplename node node variable declaration variabledeclaration variable declaration variabledeclaration node get name getname simple name simplename find simple name node findsimplenamenode i region iregion range compilation unit compilationunit cu node cunode ast node astnode node node finder nodefinder perform cu node cunode range get offset getoffset range get length getlength get simple name getsimplename node i problem iproblem get old problems getoldproblems compilation unit compilationunit old cu node oldcunode hash set hashset arrays as list aslist ast nodes astnodes get problems getproblems old cu node oldcunode ast nodes astnodes include paren ts parents ast nodes astnodes problems
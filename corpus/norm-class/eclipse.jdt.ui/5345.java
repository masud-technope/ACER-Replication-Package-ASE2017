copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring structure java util array list arraylist java util arrays java util hash map hashmap java util iterator java util list java util map org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime sub progress monitor subprogressmonitor org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits text edit textedit org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse ltk core refactoring group category set groupcategoryset org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse ltk core refactoring refactoring status context refactoringstatuscontext org eclipse ltk core refactoring participants refactoring participant refactoringparticipant org eclipse ltk core refactoring participants sharable participants sharableparticipants org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i initializer iinitializer org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core i type hierarchy itypehierarchy org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom annotation org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom dimension org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom expression org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom i extended modifier iextendedmodifier org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom modifier org eclipse jdt core dom simple name simplename org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite i t racked node position itrackednodeposition org eclipse jdt core search i java search constants ijavasearchconstants org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt internal corext code manipulation codemanipulation code generation settings codegenerationsettings org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom modifier rewrite modifierrewrite org eclipse jdt internal corext refactoring refactoring availability tester refactoringavailabilitytester org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring refactoring scope factory refactoringscopefactory org eclipse jdt internal corext refactoring refactoring search engine refactoringsearchengine org eclipse jdt internal corext refactoring search result group searchresultgroup org eclipse jdt internal corext refactoring base java status context javastatuscontext org eclipse jdt internal corext refactoring reorg source reference util sourcereferenceutil org eclipse jdt internal corext refactoring structure constraints super type constraints model supertypeconstraintsmodel org eclipse jdt internal corext refactoring structure constraints super type constraints solver supertypeconstraintssolver org eclipse jdt internal corext refactoring structure constraints super type refactoring processor supertyperefactoringprocessor org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext refactoring util text edit based change manager texteditbasedchangemanager org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt internal corext util jdt flags jdtflags org eclipse jdt internal corext util messages org eclipse jdt internal corext util search utils searchutils org eclipse jdt internal corext util strings org eclipse jdt java element labels javaelementlabels org eclipse jdt internal java plugin javaplugin partial implementation hierarchy refactoring processor pull push extract super type supertype ref actorings refactorings processor common functionality move members type hierarchy perform supertype refactoring hierarchy processor hierarchyprocessor super type refactoring processor supertyperefactoringprocessor ast node visitor performs actual mapping type variable mapper typevariablemapper ast visitor astvisitor type variable mapping type variable map let typevariablemaplet f mapping fmapping ast rewrite ast rewrite astrewrite f rewrite frewrite creates type variable mapper param rewrite ast rewrite param mapping type variable mapping type variable mapper typevariablemapper ast rewrite astrewrite rewrite type variable map let typevariablemaplet mapping is not null isnotnull rewrite is not null isnotnull mapping f rewrite frewrite rewrite f mapping fmapping mapping override visit simple name simplename node i type binding itypebinding binding node resolve type binding resolvetypebinding binding binding is type variable istypevariable string f mapping fmapping length binding get name getname f mapping fmapping get source name getsourcename equals node get identifier getidentifier equals method declaration methoddeclaration declaration method declaration methoddeclaration ast nodes astnodes get parent getparent node method declaration methoddeclaration declaration i method binding imethodbinding method declaration resolve binding resolvebinding method i type binding itypebinding bindings method get type parameters gettypeparameters offset offset bindings length offset bindings offset is equal to isequalto binding f rewrite frewrite node simple name simplename identifier property f mapping fmapping get target name gettargetname are all fragments deleted areallfragmentsdeleted field declaration fielddeclaration declaration list ast node astnode declaration nodes declarationnodes iterator variable declaration fragment variabledeclarationfragment iterator declaration fragments iterator iterator has next hasnext declaration nodes declarationnodes iterator refactoring status refactoringstatus check project compliance checkprojectcompliance compilation unit rewrite compilationunitrewrite source rewriter sourcerewriter i type itype destination i member imember members refactoring status refactoringstatus status refactoring status refactoringstatus java model util javamodelutil or higher orhigher destination get java project getjavaproject members length body declaration bodydeclaration decl ast node search util astnodesearchutil get body declaration node getbodydeclarationnode members source rewriter sourcerewriter get root getroot decl iterator i extended modifier iextendedmodifier iterator decl modifiers iterator iterator has next hasnext reported i extended modifier iextendedmodifier modifier iterator reported modifier is annotation isannotation status merge refactoring status refactoringstatus create error status createerrorstatus messages format refactoring core messages refactoringcoremessages pull up refactoring pulluprefactoring incompatible lang auge langauge constructs string java element labels javaelementlabels get text label gettextlabel members java element labels javaelementlabels fully qualified java element labels javaelementlabels get text label gettextlabel destination java element labels javaelementlabels java status context javastatuscontext create members reported java model exception javamodelexception exception java plugin javaplugin log exception members i method imethod i method imethod method i method imethod members flags is varargs isvarargs method get flags getflags status merge refactoring status refactoringstatus create error status createerrorstatus messages format refactoring core messages refactoringcoremessages pull up refactoring pulluprefactoring incompatible language constructs string java element labels javaelementlabels get text label gettextlabel members java element labels javaelementlabels fully qualified java element labels javaelementlabels get text label gettextlabel destination java element labels javaelementlabels java status context javastatuscontext create members java model exception javamodelexception exception java plugin javaplugin log exception status copy extra dimensions copyextradimensions variable declaration variabledeclaration old var declaration oldvardeclaration variable declaration variabledeclaration new var declaration newvardeclaration ast ast new var declaration newvardeclaration getast old var declaration oldvardeclaration extra dimensions extradimensions size new var declaration newvardeclaration extra dimensions extradimensions add ast node astnode copy subtree copysubtree ast dimension old var declaration oldvardeclaration extra dimensions extradimensions copy extra dimensions copyextradimensions method declaration methoddeclaration old method oldmethod method declaration methoddeclaration new method newmethod ast ast new method newmethod getast old method oldmethod extra dimensions extradimensions size new method newmethod extra dimensions extradimensions add ast node astnode copy subtree copysubtree ast dimension old method oldmethod extra dimensions extradimensions copy annotations copyannotations field declaration fielddeclaration old field oldfield field declaration fielddeclaration new field newfield ast ast new field newfield getast old field oldfield modifiers size i extended modifier iextendedmodifier modifier i extended modifier iextendedmodifier old field oldfield modifiers list i extended modifier iextendedmodifier modifiers new field newfield modifiers modifier is annotation isannotation modifiers modifier modifiers add i extended modifier iextendedmodifier ast node astnode copy subtree copysubtree ast annotation modifier copy annotations copyannotations method declaration methoddeclaration old method oldmethod method declaration methoddeclaration new method newmethod ast ast new method newmethod getast old method oldmethod modifiers size i extended modifier iextendedmodifier modifier i extended modifier iextendedmodifier old method oldmethod modifiers list i extended modifier iextendedmodifier modifiers new method newmethod modifiers modifier is annotation isannotation modifiers modifier modifiers add i extended modifier iextendedmodifier ast node astnode copy subtree copysubtree ast annotation modifier copy javadoc node copyjavadocnode ast rewrite astrewrite rewrite body declaration bodydeclaration old declaration olddeclaration body declaration bodydeclaration new declaration newdeclaration javadoc predecessor old declaration olddeclaration get javadoc getjavadoc predecessor string new string newstring ast nodes astnodes get node source getnodesource predecessor new string newstring new declaration newdeclaration set javadoc setjavadoc javadoc rewrite create string placeholder createstringplaceholder new string newstring ast node astnode javadoc copy thrown exceptions copythrownexceptions method declaration methoddeclaration old method oldmethod method declaration methoddeclaration new method newmethod ast ast new method newmethod getast old method oldmethod thrown exception types thrownexceptiontypes size new method newmethod thrown exception types thrownexceptiontypes add ast node astnode copy subtree copysubtree ast type old method oldmethod thrown exception types thrownexceptiontypes copy type parameters copytypeparameters method declaration methoddeclaration old method oldmethod method declaration methoddeclaration new method newmethod ast ast new method newmethod getast old method oldmethod type parameters typeparameters size new method newmethod type parameters typeparameters add ast node astnode copy subtree copysubtree ast type parameter typeparameter old method oldmethod type parameters typeparameters string create label createlabel i member imember member member i type itype java element labels javaelementlabels get text label gettextlabel member java element labels javaelementlabels fully qualified member i method imethod java element labels javaelementlabels get text label gettextlabel member java element labels javaelementlabels fully qualified member i field ifield java element labels javaelementlabels get text label gettextlabel member java element labels javaelementlabels fully qualified member i initializer iinitializer refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring initializer is true istrue field declaration fielddeclaration create new field declaration node createnewfielddeclarationnode ast rewrite astrewrite rewrite compilation unit compilationunit unit i field ifield field variable declaration fragment variabledeclarationfragment old field fragment oldfieldfragment type variable map let typevariablemaplet mapping i progress monitor iprogressmonitor monitor refactoring status refactoringstatus status modifiers java model exception javamodelexception variable declaration fragment variabledeclarationfragment new fragment newfragment rewrite getast new variable declaration fragment newvariabledeclarationfragment copy extra dimensions copyextradimensions old field fragment oldfieldfragment new fragment newfragment old field fragment oldfieldfragment get initializer getinitializer expression new initializer newinitializer mapping length new initializer newinitializer create placeholder for expression createplaceholderforexpression old field fragment oldfieldfragment get initializer getinitializer field get compilation unit getcompilationunit mapping rewrite new initializer newinitializer create placeholder for expression createplaceholderforexpression old field fragment oldfieldfragment get initializer getinitializer field get compilation unit getcompilationunit rewrite new fragment newfragment set initializer setinitializer new initializer newinitializer new fragment newfragment set name setname simple name simplename ast node astnode copy subtree copysubtree rewrite getast old field fragment oldfieldfragment get name getname field declaration fielddeclaration new field newfield rewrite getast new field declaration newfielddeclaration new fragment newfragment field declaration fielddeclaration old field oldfield ast node search util astnodesearchutil get field declaration node getfielddeclarationnode field unit copy javadoc node copyjavadocnode rewrite old field oldfield new field newfield copy annotations copyannotations old field oldfield new field newfield new field newfield modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers rewrite getast modifiers type old type oldtype old field oldfield get type gettype type new type newtype mapping length new type newtype create placeholder for type createplaceholderfortype old type oldtype field get compilation unit getcompilationunit mapping rewrite new type newtype create placeholder for type createplaceholderfortype old type oldtype field get compilation unit getcompilationunit rewrite new field newfield set type settype new type newtype new field newfield expression create placeholder for expression createplaceholderforexpression expression expression i compilation unit icompilationunit declaring cu declaringcu ast rewrite astrewrite rewrite java model exception javamodelexception expression rewrite create string placeholder createstringplaceholder declaring cu declaringcu get buffer getbuffer get text gettext expression get start position getstartposition expression get length getlength ast node astnode method invocation expression create placeholder for expression createplaceholderforexpression expression expression i compilation unit icompilationunit declaring cu declaringcu type variable map let typevariablemaplet mapping ast rewrite astrewrite rewrite java model exception javamodelexception expression result i document idocument document document declaring cu declaringcu get buffer getbuffer get contents getcontents ast rewrite astrewrite rewriter ast rewrite astrewrite create expression getast i t racked node position itrackednodeposition position rewriter track expression expression accept type variable mapper typevariablemapper rewriter mapping rewriter rewriteast document declaring cu declaringcu get java project getjavaproject get options getoptions apply document text edit textedit result expression rewrite create string placeholder createstringplaceholder document position get start position getstartposition position get length getlength ast node astnode method invocation malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception result body declaration bodydeclaration create placeholder for protected type declaration createplaceholderforprotectedtypedeclaration body declaration bodydeclaration body declaration bodydeclaration compilation unit compilationunit declaring cu node declaringcunode i compilation unit icompilationunit declaring cu declaringcu ast rewrite astrewrite rewrite remove indentation removeindentation java model exception javamodelexception string text ast rewrite astrewrite rewriter ast rewrite astrewrite create body declaration bodydeclaration getast modifier rewrite modifierrewrite create rewriter body declaration bodydeclaration set visibility setvisibility modifier i t racked node position itrackednodeposition position rewriter track body declaration bodydeclaration i document idocument document document declaring cu declaringcu get buffer getbuffer get text gettext declaring cu node declaringcunode get start position getstartposition declaring cu node declaringcunode get length getlength rewriter rewriteast document declaring cu declaringcu get java project getjavaproject get options getoptions apply document text edit textedit update regions text document position get start position getstartposition position get length getlength bad location exception badlocationexception exception text get new text getnewtext body declaration bodydeclaration declaring cu declaringcu remove indentation removeindentation body declaration bodydeclaration rewrite create string placeholder createstringplaceholder text ast node astnode type declaration body declaration bodydeclaration create placeholder for protected type declaration createplaceholderforprotectedtypedeclaration body declaration bodydeclaration body declaration bodydeclaration compilation unit compilationunit declaring cu node declaringcunode i compilation unit icompilationunit declaring cu declaringcu type variable map let typevariablemaplet mapping ast rewrite astrewrite rewrite remove indentation removeindentation java model exception javamodelexception body declaration bodydeclaration result i document idocument document document declaring cu declaringcu get buffer getbuffer get contents getcontents ast rewrite astrewrite rewriter ast rewrite astrewrite create body declaration bodydeclaration getast i t racked node position itrackednodeposition position rewriter track body declaration bodydeclaration body declaration bodydeclaration accept type variable mapper typevariablemapper rewriter mapping override visit annotation type declaration annotationtypedeclaration node modifier rewrite modifierrewrite create f rewrite frewrite body declaration bodydeclaration set visibility setvisibility modifier override visit enum declaration enumdeclaration node modifier rewrite modifierrewrite create f rewrite frewrite body declaration bodydeclaration set visibility setvisibility modifier override visit type declaration typedeclaration node modifier rewrite modifierrewrite create f rewrite frewrite body declaration bodydeclaration set visibility setvisibility modifier rewriter rewriteast document declaring cu declaringcu get java project getjavaproject get options getoptions apply document text edit textedit result body declaration bodydeclaration rewrite create string placeholder createstringplaceholder document position get start position getstartposition position get length getlength ast node astnode type declaration malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception result single variable declaration singlevariabledeclaration create placeholder for single variable declaration createplaceholderforsinglevariabledeclaration single variable declaration singlevariabledeclaration declaration i compilation unit icompilationunit declaring cu declaringcu ast rewrite astrewrite rewrite java model exception javamodelexception single variable declaration singlevariabledeclaration rewrite create string placeholder createstringplaceholder declaring cu declaringcu get buffer getbuffer get text gettext declaration get start position getstartposition declaration get length getlength ast node astnode single variable declaration single variable declaration singlevariabledeclaration create placeholder for single variable declaration createplaceholderforsinglevariabledeclaration single variable declaration singlevariabledeclaration declaration i compilation unit icompilationunit declaring cu declaringcu type variable map let typevariablemaplet mapping ast rewrite astrewrite rewrite java model exception javamodelexception single variable declaration singlevariabledeclaration result i document idocument document document declaring cu declaringcu get buffer getbuffer get contents getcontents ast rewrite astrewrite rewriter ast rewrite astrewrite create declaration getast i t racked node position itrackednodeposition position rewriter track declaration declaration accept type variable mapper typevariablemapper rewriter mapping rewriter rewriteast document declaring cu declaringcu get java project getjavaproject get options getoptions apply document text edit textedit result single variable declaration singlevariabledeclaration rewrite create string placeholder createstringplaceholder document position get start position getstartposition position get length getlength ast node astnode single variable declaration malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception result type create placeholder for type createplaceholderfortype type type i compilation unit icompilationunit declaring cu declaringcu ast rewrite astrewrite rewrite java model exception javamodelexception type rewrite create string placeholder createstringplaceholder declaring cu declaringcu get buffer getbuffer get text gettext type get start position getstartposition type get length getlength ast node astnode simple type type create placeholder for type createplaceholderfortype type type i compilation unit icompilationunit declaring cu declaringcu type variable map let typevariablemaplet mapping ast rewrite astrewrite rewrite java model exception javamodelexception type result i document idocument document document declaring cu declaringcu get buffer getbuffer get contents getcontents ast rewrite astrewrite rewriter ast rewrite astrewrite create type getast i t racked node position itrackednodeposition position rewriter track type type accept type variable mapper typevariablemapper rewriter mapping rewriter rewriteast document declaring cu declaringcu get java project getjavaproject get options getoptions apply document text edit textedit result type rewrite create string placeholder createstringplaceholder document position get start position getstartposition position get length getlength ast node astnode simple type malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception result body declaration bodydeclaration create placeholder for type declaration createplaceholderfortypedeclaration body declaration bodydeclaration body declaration bodydeclaration i compilation unit icompilationunit declaring cu declaringcu ast rewrite astrewrite rewrite remove indentation removeindentation java model exception javamodelexception body declaration bodydeclaration rewrite create string placeholder createstringplaceholder get new text getnewtext body declaration bodydeclaration declaring cu declaringcu remove indentation removeindentation ast node astnode type declaration body declaration bodydeclaration create placeholder for type declaration createplaceholderfortypedeclaration body declaration bodydeclaration body declaration bodydeclaration i compilation unit icompilationunit declaring cu declaringcu type variable map let typevariablemaplet mapping ast rewrite astrewrite rewrite remove indentation removeindentation java model exception javamodelexception body declaration bodydeclaration result i document idocument document document declaring cu declaringcu get buffer getbuffer get contents getcontents ast rewrite astrewrite rewriter ast rewrite astrewrite create body declaration bodydeclaration getast i t racked node position itrackednodeposition position rewriter track body declaration bodydeclaration body declaration bodydeclaration accept type variable mapper typevariablemapper rewriter mapping rewriter rewriteast document declaring cu declaringcu get java project getjavaproject get options getoptions apply document text edit textedit result body declaration bodydeclaration rewrite create string placeholder createstringplaceholder document position get start position getstartposition position get length getlength ast node astnode type declaration malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception result delete declaration nodes deletedeclarationnodes compilation unit rewrite compilationunitrewrite source rewriter sourcerewriter same cu samecu compilation unit rewrite compilationunitrewrite unit rewriter unitrewriter list i member imember members group category set groupcategoryset java model exception javamodelexception list ast node astnode declaration nodes declarationnodes get declaration nodes getdeclarationnodes unit rewriter unitrewriter get root getroot members iterator ast node astnode iterator declaration nodes declarationnodes iterator iterator has next hasnext ast node astnode node iterator ast rewrite astrewrite rewriter unit rewriter unitrewriter getastrewrite import remove r importremover remove r remover unit rewriter unitrewriter get import remove r getimportremover node variable declaration fragment variabledeclarationfragment node get parent getparent field declaration fielddeclaration field declaration fielddeclaration declaration field declaration fielddeclaration node get parent getparent are all fragments deleted areallfragmentsdeleted declaration declaration nodes declarationnodes rewriter remove declaration unit rewriter unitrewriter create categorized group description createcategorizedgroupdescription refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring remove member same cu samecu remove r remover register removed node registerremovednode declaration rewriter remove node unit rewriter unitrewriter create categorized group description createcategorizedgroupdescription refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring remove member same cu samecu remove r remover register removed node registerremovednode node rewriter remove node unit rewriter unitrewriter create categorized group description createcategorizedgroupdescription refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring remove member same cu samecu remove r remover register removed node registerremovednode node list ast node astnode get declaration nodes getdeclarationnodes compilation unit compilationunit cu node cunode list i member imember members java model exception javamodelexception list ast node astnode result array list arraylist members size iterator i member imember iterator members iterator iterator has next hasnext i member imember member iterator ast node astnode node member i field ifield flags is enum isenum member get flags getflags node ast node search util astnodesearchutil get enum constant declaration getenumconstantdeclaration i field ifield member cu node cunode node ast node search util astnodesearchutil get field declaration fragment node getfielddeclarationfragmentnode i field ifield member cu node cunode member i type itype node ast node search util astnodesearchutil get abstract type declaration node getabstracttypedeclarationnode i type itype member cu node cunode member i method imethod node ast node search util astnodesearchutil get method declaration node getmethoddeclarationnode i method imethod member cu node cunode node result add node result string get new text getnewtext ast node astnode node i compilation unit icompilationunit declaring cu declaringcu remove indentation removeindentation java model exception javamodelexception string result declaring cu declaringcu get buffer getbuffer get text gettext node get start position getstartposition node get length getlength remove indentation removeindentation get unindented text getunindentedtext result declaring cu declaringcu result string get unindented text getunindentedtext string text i compilation unit icompilationunit declaring cu declaringcu java model exception javamodelexception string lines strings convert into lines convertintolines text strings trim indentation trimindentation lines declaring cu declaringcu get java project getjavaproject strings concatenate lines stub utility stubutility get line delimiter used getlinedelimiterused declaring cu declaringcu cached declaring type i type itype f cached declaring type fcacheddeclaringtype cached member references map i member imember object f cached members references fcachedmembersreferences hash map hashmap cached type references i type itype f cached referenced types fcachedreferencedtypes text edit based change manager text edit based change manager texteditbasedchangemanager f change manager fchangemanager refactoring working copy layer f layer flayer members move working copies i member imember f members to move fmemberstomove creates hierarchy processor param members members code code invoked scripting param settings code generation settings param layer code code create working copy layer code code hierarchy processor hierarchyprocessor i member imember members code generation settings codegenerationsettings settings layer settings f layer flayer layer members f members to move fmemberstomove i member imember source reference util sourcereferenceutil sort by offset sortbyoffset members layer f members to move fmemberstomove length i compilation unit icompilationunit original f members to move fmemberstomove get compilation unit getcompilationunit original i compilation unit icompilationunit copy get shared working copy getsharedworkingcopy original get primary getprimary null progress monitor nullprogressmonitor copy f members to move fmemberstomove length i java element ijavaelement elements copy find elements findelements f members to move fmemberstomove elements elements length elements i member imember f members to move fmemberstomove i member imember elements java model exception javamodelexception exception java plugin javaplugin log exception can be accessed from canbeaccessedfrom i member imember member i type itype target i type hierarchy itypehierarchy hierarchy java model exception javamodelexception is true istrue member i initializer iinitializer member exists refactoring status refactoringstatus check constructor c alls checkconstructorcalls i type itype type i progress monitor iprogressmonitor monitor java model exception javamodelexception monitor begin task begintask refactoring core messages refactoringcoremessages pull up refactoring pulluprefactoring checking refactoring status refactoringstatus result refactoring status refactoringstatus search result group searchresultgroup groups constructor reference finder constructorreferencefinder get constructor references getconstructorreferences type f owner fowner sub progress monitor subprogressmonitor monitor result string message messages format refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring instantiated object java element labels javaelementlabels get text label gettextlabel type java element labels javaelementlabels fully qualified i compilation unit icompilationunit unit groups length unit groups get compilation unit getcompilationunit unit compilation unit compilationunit cu node cunode refactoringastparser parsewithastprovider unit sub progress monitor subprogressmonitor monitor ast node astnode references ast node search util astnodesearchutil get ast nodes getastnodes groups get search results getsearchresults cu node cunode ast node astnode node offset offset references length offset node references offset node class instance creation classinstancecreation constructor reference finder constructorreferencefinder is implicit constructor reference node in class creations isimplicitconstructorreferencenodeinclasscreations node refactoring status context refactoringstatuscontext context java status context javastatuscontext create unit node result add error adderror message context result monitor refactoring status refactoringstatus check declaring type checkdeclaringtype i progress monitor iprogressmonitor monitor java model exception javamodelexception i type itype type get declaring type getdeclaringtype type is enum isenum refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring enum members type is annotation isannotation refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring annotation members type is interface isinterface refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring members type is binary isbinary refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring members binary type is read only isreadonly refactoring status refactoringstatus create fatal error status createfatalerrorstatus refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring members read refactoring status refactoringstatus monitor monitor refactoring status refactoringstatus check if members exist checkifmembersexist refactoring status refactoringstatus result refactoring status refactoringstatus i member imember member f members to move fmemberstomove length member f members to move fmemberstomove member member exists result add fatal error addfatalerror refactoring core messages refactoringcoremessages hierarchy refactoring hierarchyrefactoring exist result clear caches clearcaches f cached referenced types fcachedreferencedtypes copy parameters copyparameters ast rewrite astrewrite rewrite i compilation unit icompilationunit unit method declaration methoddeclaration old method oldmethod method declaration methoddeclaration new method newmethod type variable map let typevariablemaplet mapping java model exception javamodelexception single variable declaration singlevariabledeclaration new declaration newdeclaration size old method oldmethod parameters size size single variable declaration singlevariabledeclaration old declaration olddeclaration single variable declaration singlevariabledeclaration old method oldmethod parameters mapping length new declaration newdeclaration create placeholder for single variable declaration createplaceholderforsinglevariabledeclaration old declaration olddeclaration unit mapping rewrite new declaration newdeclaration create placeholder for single variable declaration createplaceholderforsinglevariabledeclaration old declaration olddeclaration unit rewrite new method newmethod parameters add new declaration newdeclaration copy return type copyreturntype ast rewrite astrewrite rewrite i compilation unit icompilationunit unit method declaration methoddeclaration old method oldmethod method declaration methoddeclaration new method newmethod type variable map let typevariablemaplet mapping java model exception javamodelexception type new return type newreturntype mapping length new return type newreturntype create placeholder for type createplaceholderfortype old method oldmethod get return type getreturntype unit mapping rewrite new return type newreturntype create placeholder for type createplaceholderfortype old method oldmethod get return type getreturntype unit rewrite new method newmethod set return type setreturntype new return type newreturntype override super type constraints solver supertypeconstraintssolver create contraint solver createcontraintsolver super type constraints model supertypeconstraintsmodel model super type constraints solver supertypeconstraintssolver model i type itype get declaring type getdeclaringtype f cached declaring type fcacheddeclaringtype f cached declaring type fcacheddeclaringtype f cached declaring type fcacheddeclaringtype refactoring availability tester refactoringavailabilitytester get top level type gettopleveltype f members to move fmemberstomove f cached declaring type fcacheddeclaringtype f cached declaring type fcacheddeclaringtype f members to move fmemberstomove get declaring type getdeclaringtype f cached declaring type fcacheddeclaringtype i member imember get members to move getmemberstomove f members to move fmemberstomove i type itype get types referenced in moved members gettypesreferencedinmovedmembers i progress monitor iprogressmonitor monitor java model exception javamodelexception f cached referenced types fcachedreferencedtypes i type itype types reference finder util referencefinderutil get types referenced in gettypesreferencedin f members to move fmemberstomove f owner fowner monitor list i type itype result array list arraylist types length list i member imember members arrays as list aslist f members to move fmemberstomove types length members types types equals get declaring type getdeclaringtype result add types f cached referenced types fcachedreferencedtypes i type itype result size result to array toarray f cached referenced types fcachedreferencedtypes f cached referenced types fcachedreferencedtypes has non moved references hasnonmovedreferences i member imember member i progress monitor iprogressmonitor monitor refactoring status refactoringstatus status java model exception javamodelexception f cached members references fcachedmembersreferences contains key containskey member refactoring search engine refactoringsearchengine engine refactoring search engine refactoringsearchengine search pattern searchpattern create pattern createpattern member i java search constants ijavasearchconstants references search utils searchutils generics agnostic match rule engine set filtering setfiltering engine set status setstatus status engine set owner setowner f owner fowner engine set scope setscope refactoring scope factory refactoringscopefactory create member engine search pattern searchpattern sub progress monitor subprogressmonitor monitor f cached members references fcachedmembersreferences member engine get results getresults search result group searchresultgroup groups search result group searchresultgroup f cached members references fcachedmembersreferences member groups length groups length i compilation unit icompilationunit unit groups get compilation unit getcompilationunit get declaring type getdeclaringtype get compilation unit getcompilationunit equals unit search match searchmatch matches groups get search results getsearchresults matches length is moved reference ismovedreference matches is moved reference ismovedreference search match searchmatch match java model exception javamodelexception i source range isourcerange range f members to move fmemberstomove length range f members to move fmemberstomove get source range getsourcerange range get offset getoffset match get offset getoffset range get offset getoffset range get length getlength match get offset getoffset override refactoring participant refactoringparticipant load participants loadparticipants refactoring status refactoringstatus status sharable participants sharableparticipants shared participants sharedparticipants core exception coreexception refactoring participant refactoringparticipant needs visibility adjustment needsvisibilityadjustment i member imember member references i progress monitor iprogressmonitor monitor refactoring status refactoringstatus status java model exception javamodelexception jdt flags jdtflags is public ispublic member jdt flags jdtflags is protected isprotected member references has non moved references hasnonmovedreferences member monitor status
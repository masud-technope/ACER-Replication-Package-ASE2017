copyright mateusz matela rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mateusz matela mateusz matela gmail code manipulation dcr to string tostring builder wizard https bugs eclipse org bugs bug cgi mateusz matela mateusz matela gmail to string tostring generator wrong suffixes prefixes https bugs eclipse org bugs bug cgi org eclipse jdt internal corext code manipulation codemanipulation to string generation tostringgeneration java util array list arraylist java util hash set hashset java util iterator java util list java util org eclipse core runtime core exception coreexception org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core naming conventions namingconventions org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom array access arrayaccess org eclipse jdt core dom assignment org eclipse jdt core dom block org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom conditional expression conditionalexpression org eclipse jdt core dom expression org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom for statement forstatement org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom if statement ifstatement org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom instanceof expression instanceofexpression org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom modifier org eclipse jdt core dom org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom postfix expression postfixexpression org eclipse jdt core dom primitive type primitivetype org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom simple type simpletype org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom statement org eclipse jdt core dom string literal stringliteral org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom type org eclipse jdt core dom variable declaration expression variabledeclarationexpression org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom modifier modifier keyword modifierkeyword org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast node factory astnodefactory org eclipse jdt code generation codegeneration generator creates implementation code link java lang object to string tostring code lists selected fields methods listed members separated determined format template print items arrays limit number items printed arrays collect ions collections methods actual jdk compatibility table border code java util list code code java util collection code code java util map code array primitive types array primitive types jdk helper method code array to string arraytostring object array length code code arrays as list aslist member code jdk limit elements code member sub list sublist code helper method code to sting tosting collection code helper method code to string tostring collection code code member entry set entryset code helper method code array to string arraytostring object array length code code arrays as list aslist member sub list sublist code jdk code arrays to string tostring code code arrays as list aslist member code jdk code arrays to string tostring code code arrays to string tostring code jdk limit elements code member sub list sublist code helper method code to sting tosting collection code helper method code to string tostring collection code code member entry set entryset code code arrays to string tostring arrays copy of copyof member code code arrays as list aslist member sub list sublist code table add itionally additionally helper method generated members members solution code cleaner abstract to string generator abstracttostringgenerator nls string method name methodname string to string tostring nls string type name typename string string nls string helper tostring method to string tostring nls string helper array tostring arraytostring method array to string arraytostring nls string max len variable max len maxlen string f max len variable name fmaxlenvariablename max len variable property code method declaration methoddeclaration code generated property determines method overwritten exists data property nls string overwrite method property override method to string template parser tostringtemplateparser get template parser gettemplateparser to string template parser tostringtemplateparser to string generation context tostringgenerationcontext f context fcontext ast convenience accessor field ast f ast fast method declaration methoddeclaration to string method tostringmethod need max len variable needmaxlenvariable need collection to string method needcollectiontostringmethod list i type binding itypebinding types that need array to string method typesthatneedarraytostringmethod refactoring status refactoringstatus check conditions checkconditions refactoring status refactoringstatus method implementation dir ector director builder pattern elements format template calls methods responsible processing declaration generated code to string tostring code method core exception coreexception creation failed method declaration methoddeclaration generate to string method generatetostringmethod core exception coreexception initialize string string array stringarray f context fcontext get template parser gettemplateparser get begin ning getbeginning string array stringarray length add element addelement process element processelement string array stringarray string array stringarray f context fcontext get template parser gettemplateparser get body getbody object members f context fcontext get selected members getselectedmembers members length f context fcontext is skip nulls isskipnulls get member type getmembertype members is primitive isprimitive add member addmember members members length add member check null addmemberchecknull members members length string array stringarray f context fcontext get template parser gettemplateparser get ending getending string array stringarray length add element addelement process element processelement string array stringarray complete to string method tostringmethod list method declaration methoddeclaration generate helper methods generatehelpermethods list method declaration methoddeclaration result array list arraylist need collection to string method needcollectiontostringmethod result add create helper to string method createhelpertostringmethod types that need array to string method typesthatneedarraytostringmethod is empty isempty result add create helper to string method createhelpertostringmethod result adds comment code override code annotation generated method core exception coreexception creation failed create method comment createmethodcomment core exception coreexception nls i type binding itypebinding object f ast fast resolve well known type resolvewellknowntype java lang object i method binding imethodbinding obj ms objms object get declared methods getdeclaredmethods i method binding imethodbinding object method objectmethod obj ms objms length obj ms objms get name getname equals method name methodname string obj ms objms get parameter types getparametertypes length object method objectmethod obj ms objms f context fcontext is create comments iscreatecomments string doc string docstring code generation codegeneration get method comment getmethodcomment f context fcontext get compilation unit getcompilationunit f context fcontext get type binding gettypebinding get qualified name getqualifiedname to string method tostringmethod object method objectmethod stub utility stubutility get line delimiter used getlinedelimiterused f context fcontext get compilation unit getcompilationunit doc string docstring javadoc javadoc javadoc f context fcontext getastrewrite create string placeholder createstringplaceholder doc string docstring ast node astnode javadoc to string method tostringmethod set javadoc setjavadoc javadoc stub utility stubutility add override annotation addoverrideannotation f context fcontext get code generation settings getcodegenerationsettings f context fcontext get type binding gettypebinding get java element getjavaelement get java project getjavaproject f context fcontext getastrewrite f context fcontext get import rewrite getimportrewrite to string method tostringmethod object method objectmethod get declaring class getdeclaringclass is interface isinterface creates method takes code collection code array returns code string code code f settings fsettings limit value limitvalue code elements param array generated method convert array string code collection code code array to string arraytostring object array code code collection to string collectiontostring collection collection code method method declaration methoddeclaration create helper to string method createhelpertostringmethod array nls string iterator name iteratorname create name suggestion createnamesuggestion iterator naming conventions namingconventions local nls string append method name appendmethodname append nls string index name indexname create name suggestion createnamesuggestion naming conventions namingconventions local nls string length param name lengthparamname create name suggestion createnamesuggestion len naming conventions namingconventions parameter string max len param name maxlenparamname create name suggestion createnamesuggestion max len variable naming conventions namingconventions parameter string param name paramname string string builder name stringbuildername string string builder type name stringbuildertypename f context fcontext or higher orhigher nls string builder type name stringbuildertypename java lang string builder stringbuilder nls string builder name stringbuildername create name suggestion createnamesuggestion builder naming conventions namingconventions local nls string builder type name stringbuildertypename java lang string buffer stringbuffer nls string builder name stringbuildername create name suggestion createnamesuggestion buffer naming conventions namingconventions local array to string arraytostring method declaration methoddeclaration array to string method arraytostringmethod f ast fast new method declaration newmethoddeclaration array to string method arraytostringmethod set name setname f ast fast new simple name newsimplename array helper array tostring arraytostring method helper tostring method array to string method arraytostringmethod modifiers add f ast fast new modifier newmodifier modifier modifier keyword modifierkeyword keyword array to string method arraytostringmethod set return type setreturntype f ast fast new simple type newsimpletype f ast fast new name newname type name typename string array obj ec objec array length nls param name paramname create name suggestion createnamesuggestion array naming conventions namingconventions parameter single variable declaration singlevariabledeclaration param f ast fast new single variable declaration newsinglevariabledeclaration nls param set type settype f ast fast new simple type newsimpletype add import addimport java lang object param set name setname f ast fast new simple name newsimplename param name paramname array to string method arraytostringmethod parameters add param param f ast fast new single variable declaration newsinglevariabledeclaration param set type settype f ast fast new primitive type newprimitivetype primitive type primitivetype param set name setname f ast fast new simple name newsimplename length param name lengthparamname array to string method arraytostringmethod parameters add param collection collection nls param name paramname create name suggestion createnamesuggestion collection naming conventions namingconventions parameter single variable declaration singlevariabledeclaration param f ast fast new single variable declaration newsinglevariabledeclaration nls type collection type collectiontype f ast fast new simple type newsimpletype add import addimport java util collection f context fcontext or higher orhigher parameterized type parameterizedtype generic type generictype f ast fast new parameterized type newparameterizedtype collection type collectiontype generic type generictype type arguments typearguments add f ast fast new wildcard type newwildcardtype param set type settype generic type generictype param set type settype collection type collectiontype param set name setname f ast fast new simple name newsimplename param name paramname array to string method arraytostringmethod parameters add param f context fcontext is limit items islimititems single variable declaration singlevariabledeclaration param f ast fast new single variable declaration newsinglevariabledeclaration param set type settype f ast fast new primitive type newprimitivetype primitive type primitivetype param set name setname f ast fast new simple name newsimplename max len param name maxlenparamname array to string method arraytostringmethod parameters add param block body f ast fast new block newblock array to string method arraytostringmethod set body setbody body string builder stringbuilder string builder stringbuilder string builder stringbuilder variable declaration fragment variabledeclarationfragment fragment f ast fast new variable declaration fragment newvariabledeclarationfragment fragment set name setname f ast fast new simple name newsimplename string builder name stringbuildername class instance creation classinstancecreation class instance classinstance f ast fast new class instance creation newclassinstancecreation class instance classinstance set type settype f ast fast new simple type newsimpletype add import addimport string builder type name stringbuildertypename fragment set initializer setinitializer class instance classinstance variable declaration statement variabledeclarationstatement v statement vstatement f ast fast new variable declaration statement newvariabledeclarationstatement fragment v statement vstatement set type settype f ast fast new simple type newsimpletype add import addimport string builder type name stringbuildertypename body statements add v statement vstatement array f context fcontext is limit items islimititems length math min length max len maxlen nls nls method invocation methodinvocation min invocation mininvocation create method invocation createmethodinvocation add import addimport java lang math min f ast fast new simple name newsimplename length param name lengthparamname min invocation mininvocation arguments add f ast fast new simple name newsimplename max len param name maxlenparamname assignment length assignment lengthassignment f ast fast new assignment newassignment length assignment lengthassignment set left hand side setlefthandside f ast fast new simple name newsimplename length param name lengthparamname length assignment lengthassignment set right hand side setrighthandside min invocation mininvocation body statements add f ast fast new expression statement newexpressionstatement length assignment lengthassignment string builder stringbuilder add string literal stringliteral literal f ast fast new string literal newstringliteral nls literal set literal value setliteralvalue body statements add f ast fast new expression statement newexpressionstatement create method invocation createmethodinvocation string builder name stringbuildername append method name appendmethodname literal for statement forstatement for statement forstatement f ast fast new for statement newforstatement block for block forblock f ast fast new block newblock for statement forstatement set body setbody for block forblock variable declaration fragment variabledeclarationfragment index decl fragment indexdeclfragment f ast fast new variable declaration fragment newvariabledeclarationfragment index decl fragment indexdeclfragment set name setname f ast fast new simple name newsimplename index name indexname nls index decl fragment indexdeclfragment set initializer setinitializer f ast fast new number literal newnumberliteral variable declaration expression variabledeclarationexpression index decl expression indexdeclexpression f ast fast new variable declaration expression newvariabledeclarationexpression index decl fragment indexdeclfragment index decl expression indexdeclexpression set type settype f ast fast new primitive type newprimitivetype primitive type primitivetype postfix expression postfixexpression postfix expr postfixexpr f ast fast new postfix expression newpostfixexpression postfix expr postfixexpr set operand setoperand f ast fast new simple name newsimplename index name indexname postfix expr postfixexpr set operator setoperator org eclipse jdt core dom postfix expression postfixexpression increment for statement forstatement update rs updaters add postfix expr postfixexpr builder append if statement ifstatement if statement ifstatement f ast fast new if statement newifstatement if statement ifstatement set expression setexpression create infix expression createinfixexpression f ast fast new simple name newsimplename index name indexname greater f ast fast new number literal newnumberliteral string value of valueof literal f ast fast new string literal newstringliteral nls literal set literal value setliteralvalue if statement ifstatement set then statement setthenstatement create one statement block createonestatementblock create method invocation createmethodinvocation string builder name stringbuildername append method name appendmethodname literal for block forblock statements add if statement ifstatement array for statement forstatement initializers add index decl expression indexdeclexpression length for statement forstatement set expression setexpression create infix expression createinfixexpression f ast fast new simple name newsimplename index name indexname f ast fast new simple name newsimplename length param name lengthparamname iterator i type binding itypebinding iterator types that need array to string method typesthatneedarraytostringmethod iterator iterator has next hasnext i type binding itypebinding type binding typebinding iterator array string type name typename type binding typebinding get name getname primitive type primitivetype code code type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype type name typename equals code nls primitive type primitivetype nls code type name typename equals object nls instanceof expression instanceofexpression f ast fast new instanceof expression newinstanceofexpression set left operand setleftoperand f ast fast new simple name newsimplename param name paramname nls set right operand setrightoperand nls f ast fast new array type newarraytype code type f ast fast new primitive type newprimitivetype code f ast fast new simple type newsimpletype add import addimport java lang object if statement ifstatement f ast fast new if statement newifstatement if statement ifstatement set expression setexpression builder append array cast expression castexpression array cast arraycast f ast fast new cast expression newcastexpression array cast arraycast set expression setexpression f ast fast new simple name newsimplename param name paramname nls array cast arraycast set type settype nls f ast fast new array type newarraytype code type f ast fast new primitive type newprimitivetype code f ast fast new simple type newsimpletype add import addimport java lang object parenthesized expression parenthesizedexpression parenthesized cast parenthesizedcast f ast fast new parenthesized expression newparenthesizedexpression parenthesized cast parenthesizedcast set expression setexpression array cast arraycast array access arrayaccess array access arrayaccess f ast fast new array access newarrayaccess array access arrayaccess set array setarray parenthesized cast parenthesizedcast array access arrayaccess set index setindex f ast fast new simple name newsimplename index name indexname if statement ifstatement set then statement setthenstatement create one statement block createonestatementblock create method invocation createmethodinvocation string builder name stringbuildername append method name appendmethodname array access arrayaccess for block forblock statements add if statement ifstatement body statements add f ast fast new expression statement newexpressionstatement index decl expression indexdeclexpression iterator iterator collection iterator fragment f ast fast new variable declaration fragment newvariabledeclarationfragment fragment set name setname f ast fast new simple name newsimplename iterator name iteratorname nls fragment set initializer setinitializer create method invocation createmethodinvocation param name paramname iterator variable declaration expression variabledeclarationexpression v expression vexpression f ast fast new variable declaration expression newvariabledeclarationexpression fragment nls simple type simpletype iterator type iteratortype f ast fast new simple type newsimpletype add import addimport java util iterator f context fcontext or higher orhigher parameterized type parameterizedtype p type ptype f ast fast new parameterized type newparameterizedtype iterator type iteratortype p type ptype type arguments typearguments add f ast fast new wildcard type newwildcardtype v expression vexpression set type settype p type ptype v expression vexpression set type settype iterator type iteratortype for statement forstatement initializers add v expression vexpression iterator has next hasnext max len maxlen expression index expression indexexpression create infix expression createinfixexpression f ast fast new simple name newsimplename index name indexname f ast fast new simple name newsimplename max len param name maxlenparamname nls for statement forstatement set expression setexpression create infix expression createinfixexpression create method invocation createmethodinvocation iterator name iteratorname has next hasnext conditional index expression indexexpression string builder stringbuilder append iterator nls method invocation methodinvocation next invocation nextinvocation create method invocation createmethodinvocation iterator name iteratorname for block forblock statements add f ast fast new expression statement newexpressionstatement create method invocation createmethodinvocation string builder name stringbuildername append method name appendmethodname next invocation nextinvocation body statements add for statement forstatement string builder stringbuilder add literal f ast fast new string literal newstringliteral nls literal set literal value setliteralvalue body statements add f ast fast new expression statement newexpressionstatement create method invocation createmethodinvocation string builder name stringbuildername append method name appendmethodname literal string builder stringbuilder to string tostring return statement returnstatement return statement returnstatement f ast fast new return statement newreturnstatement nls return statement returnstatement set expression setexpression create method invocation createmethodinvocation string builder name stringbuildername to string tostring body statements add return statement returnstatement array to string method arraytostringmethod set property setproperty overwrite method property value of valueof array array to string method arraytostringmethod method initial izes initializes variables process generating code to string tostring code method initialize need max len variable needmaxlenvariable need collection to string method needcollectiontostringmethod types that need array to string method typesthatneedarraytostringmethod array list arraylist check need for helper methods checkneedforhelpermethods to string method tostringmethod f ast fast new method declaration newmethoddeclaration to string method tostringmethod modifiers add all addall ast node factory astnodefactory new modifiers newmodifiers f ast fast modifier to string method tostringmethod set name setname f ast fast new simple name newsimplename method name methodname string to string method tostringmethod set constructor setconstructor to string method tostringmethod set return type setreturntype f ast fast new simple type newsimpletype f ast fast new name newname type name typename string block body f ast fast new block newblock to string method tostringmethod set body setbody body f max len variable name fmaxlenvariablename create name suggestion createnamesuggestion max len variable naming conventions namingconventions local method called process generating code to string tostring code method processed properly clean environment core exception coreexception creation failed complete core exception coreexception need max len variable needmaxlenvariable to string method tostringmethod get body getbody statements add create max len declaration createmaxlendeclaration create method comment createmethodcomment to string method tostringmethod set property setproperty overwrite method property value of valueof iter ates iterates selected members determine helper methods needed check need for helper methods checkneedforhelpermethods f context fcontext is limit items islimititems f context fcontext is custom array iscustomarray f context fcontext is limit items islimititems f context fcontext get limit items value getlimititemsvalue is non primitive isnonprimitive f context fcontext get selected members getselectedmembers length i type binding itypebinding member type membertype get member type getmembertype f context fcontext get selected members getselectedmembers nls nls nls implements interfaces implementsinterfaces implements interfaces implementsinterfaces member type membertype get erasure geterasure string java util collection java util list java util map is collection iscollection implements interfaces implementsinterfaces is list islist implements interfaces implementsinterfaces is map ismap implements interfaces implementsinterfaces f context fcontext is limit items islimititems is collection iscollection is map ismap is list islist need collection to string method needcollectiontostringmethod f context fcontext is custom array iscustomarray member type membertype is array isarray i type binding itypebinding component type componenttype member type membertype get component type getcomponenttype component type componenttype is primitive isprimitive f context fcontext or higher orhigher f context fcontext or higher orhigher f context fcontext is limit items islimititems types that need array to string method typesthatneedarraytostringmethod component type componenttype types that need array to string method typesthatneedarraytostringmethod add component type componenttype component type componenttype is primitive isprimitive is non primitive isnonprimitive types that need array to string method typesthatneedarraytostringmethod is empty isempty is non primitive isnonprimitive nls types that need array to string method typesthatneedarraytostringmethod add f ast fast resolve well known type resolvewellknowntype java lang object param template element templateelement template element constants link to string template parser tostringtemplateparser param member member code string code code expression code switching object process element processelement string template element templateelement object member object result template element templateelement template element templateelement to string template parser tostringtemplateparser object variable result f context fcontext get type binding gettypebinding get name getname template element templateelement to string template parser tostringtemplateparser object variable get class getclass get name getname method invocation methodinvocation get class invocation getclassinvocation f ast fast new method invocation newmethodinvocation f context fcontext is keyword this iskeywordthis get class invocation getclassinvocation set expression setexpression f ast fast new this expression newthisexpression nls get class invocation getclassinvocation set name setname f ast fast new simple name newsimplename get class getclass method invocation methodinvocation get name invocation getnameinvocation f ast fast new method invocation newmethodinvocation get name invocation getnameinvocation set expression setexpression get class invocation getclassinvocation nls get name invocation getnameinvocation set name setname f ast fast new simple name newsimplename get name getname result get name invocation getnameinvocation template element templateelement to string template parser tostringtemplateparser object tostring variable to string tostring super method invocation supermethodinvocation super to string invocation supertostringinvocation f ast fast new super method invocation newsupermethodinvocation super to string invocation supertostringinvocation set name setname f ast fast new simple name newsimplename method name methodname string result super to string invocation supertostringinvocation template element templateelement to string template parser tostringtemplateparser object hashcode variable hash code hashcode method invocation methodinvocation hash code invocation hashcodeinvocation f ast fast new method invocation newmethodinvocation f context fcontext is keyword this iskeywordthis hash code invocation hashcodeinvocation set expression setexpression f ast fast new this expression newthisexpression nls hash code invocation hashcodeinvocation set name setname f ast fast new simple name newsimplename hash code hashcode result hash code invocation hashcodeinvocation template element templateelement to string template parser tostringtemplateparser object system hashcode variable system identity hash code identityhashcode nls nls result create method invocation createmethodinvocation add import addimport java lang system identity hash code identityhashcode f ast fast new this expression newthisexpression template element templateelement to string template parser tostringtemplateparser member variable template element templateelement to string template parser tostringtemplateparser member paren the sis parenthesis variable result get member name getmembername member template element templateelement template element templateelement to string template parser tostringtemplateparser member variable result create member access expression creatememberaccessexpression member f context fcontext is skip nulls isskipnulls result string literal stringliteral string literal stringliteral result get literal value getliteralvalue result adds element generated code to string tostring code method method called element format template param element string expression code i variable binding ivariablebinding code code i method binding imethodbinding code add element addelement object element adds member code to string tostring code method method called member skip values options unchecked param member member param add separator addseparator separator member member add member addmember object member add separator addseparator string string array stringarray f context fcontext get template parser gettemplateparser get body getbody string array stringarray length add element addelement process element processelement string array stringarray member add separator addseparator add element addelement f context fcontext get template parser gettemplateparser get separator getseparator adds code checking member adding generated string method called primitive type member skip values options checked code collection code code map code member limit number elements param member member param add separator addseparator separator member member add member check null addmemberchecknull object member add separator addseparator add member addmember member add separator addseparator creates invocation method takes argument param expression receiver expression param method name methodname method param argument argument code code method arguments method invocation methodinvocation form code expression method name methodname argument code method invocation methodinvocation create method invocation createmethodinvocation expression expression string method name methodname expression argument method invocation methodinvocation invocation f ast fast new method invocation newmethodinvocation invocation set expression setexpression expression invocation set name setname f ast fast new simple name newsimplename method name methodname argument invocation arguments add argument invocation creates invocation method takes argument param receiver receiver param method name methodname method param argument argument code code method arguments method invocation methodinvocation form code expression method name methodname argument code method invocation methodinvocation create method invocation createmethodinvocation string receiver string method name methodname expression argument create method invocation createmethodinvocation f ast fast new name newname receiver method name methodname argument creates statement block param expression expression single statement block depending settings statement create one statement block createonestatementblock expression expression f context fcontext is force blocks isforceblocks block for block forblock f ast fast new block newblock for block forblock statements add f ast fast new expression statement newexpressionstatement expression for block forblock f ast fast new expression statement newexpressionstatement expression infix expression infixexpression create infix expression createinfixexpression expression left operand leftoperand expression right operand rightoperand infix expression infixexpression expression f ast fast new infix expression newinfixexpression expression set left operand setleftoperand left operand leftoperand expression set operator setoperator expression set right operand setrightoperand right operand rightoperand expression statement form code max len maxlen code variable declaration statement variabledeclarationstatement create max len declaration createmaxlendeclaration variable declaration fragment variabledeclarationfragment fragment f ast fast new variable declaration fragment newvariabledeclarationfragment fragment set name setname f ast fast new simple name newsimplename f max len variable name fmaxlenvariablename fragment set initializer setinitializer f ast fast new number literal newnumberliteral string value of valueof f context fcontext get limit items value getlimititemsvalue variable declaration statement variabledeclarationstatement decl expression declexpression f ast fast new variable declaration statement newvariabledeclarationstatement fragment decl expression declexpression set type settype f ast fast new primitive type newprimitivetype primitive type primitivetype decl expression declexpression modifiers add f ast fast new modifier newmodifier modifier keyword modifierkeyword keyword decl expression declexpression param member code i variable binding ivariablebinding code code i method binding imethodbinding code representing member param ignore arrays collections ignorearrayscollections limit number items method custom methods print arrays collections sets param ignore nulls ignorenulls method add checking nulls custom methods expression accesses member expression create member access expression creatememberaccessexpression object member ignore arrays collections ignorearrayscollections ignore nulls ignorenulls ignore arrays collections ignorearrayscollections i type binding itypebinding member type membertype get member type getmembertype member is array isarray member type membertype is array isarray nls nls nls implements interfaces implementsinterfaces implements interfaces implementsinterfaces member type membertype get erasure geterasure string java util collection java util list java util map is collection iscollection implements interfaces implementsinterfaces is list islist implements interfaces implementsinterfaces is map ismap implements interfaces implementsinterfaces is collection iscollection is map ismap is array isarray f context fcontext is custom array iscustomarray expression access expression accessexpression f context fcontext is limit items islimititems f context fcontext get limit items value getlimititemsvalue access expression accessexpression f ast fast new string literal newstringliteral nls string literal stringliteral access expression accessexpression set literal value setliteralvalue nls is list islist need collection to string method needcollectiontostringmethod member sub list sublist math min max len maxlen member size method invocation methodinvocation member size invocation membersizeinvocation f ast fast new method invocation newmethodinvocation member size invocation membersizeinvocation set expression setexpression create member access expression creatememberaccessexpression member member size invocation membersizeinvocation set name setname nls f ast fast new simple name newsimplename nls size access expression accessexpression create sub list invocation createsublistinvocation create member access expression creatememberaccessexpression member member size invocation membersizeinvocation need max len variable needmaxlenvariable is collection iscollection is map ismap to string tostring member max len maxlen expression member access memberaccess create member access expression creatememberaccessexpression member is map ismap member entry set entryset method invocation methodinvocation entry set invocation entrysetinvocation f ast fast new method invocation newmethodinvocation entry set invocation entrysetinvocation set expression setexpression member access memberaccess entry set invocation entrysetinvocation set name setname nls f ast fast new simple name newsimplename nls entry set entryset member access memberaccess entry set invocation entrysetinvocation method invocation methodinvocation to string invocation tostringinvocation f ast fast new method invocation newmethodinvocation f context fcontext is keyword this iskeywordthis to string invocation tostringinvocation set expression setexpression f ast fast new this expression newthisexpression to string invocation tostringinvocation set name setname f ast fast new simple name newsimplename helper tostring method to string invocation tostringinvocation arguments add member access memberaccess to string invocation tostringinvocation arguments add f ast fast new simple name newsimplename f max len variable name fmaxlenvariablename need max len variable needmaxlenvariable access expression accessexpression to string invocation tostringinvocation is array isarray field access fieldaccess length access lengthaccess f ast fast new field access newfieldaccess length access lengthaccess set expression setexpression create member access expression creatememberaccessexpression member length access lengthaccess set name setname nls f ast fast new simple name newsimplename nls length i type binding itypebinding array component type arraycomponenttype member type membertype get component type getcomponenttype array component type arraycomponenttype is primitive isprimitive types that need array to string method typesthatneedarraytostringmethod is empty isempty arrays as list aslist member sub list sublist math min max len maxlen member length method invocation methodinvocation as list invocation aslistinvocation create method invocation createmethodinvocation add import addimport java util arrays as list aslist create member access expression creatememberaccessexpression nls nls member nls nls nls nls access expression accessexpression create sub list invocation createsublistinvocation as list invocation aslistinvocation length access lengthaccess f context fcontext or higher orhigher arrays to string tostring arrays copy of copyof member math min max len maxlen member length nls arrays import arraysimport nls add import addimport java util arrays method invocation methodinvocation min invocation mininvocation create method invocation createmethodinvocation nls nls add import addimport java lang math nls nls min nls nls length access lengthaccess min invocation mininvocation arguments add f ast fast new simple name newsimplename f max len variable name fmaxlenvariablename need max len variable needmaxlenvariable method invocation methodinvocation copy of invocation copyofinvocation create method invocation createmethodinvocation arrays import arraysimport copy of copyof create member access expression creatememberaccessexpression nls member nls nls copy of invocation copyofinvocation arguments add min invocation mininvocation arrays import copy arraysimportcopy ast node astnode copy subtree copysubtree f ast fast arrays import arraysimport access expression accessexpression create method invocation createmethodinvocation nls arrays import copy arraysimportcopy nls to string tostring nls copy of invocation copyofinvocation array to string arraytostring member member length max len maxlen method invocation methodinvocation array to string invocation arraytostringinvocation f ast fast new method invocation newmethodinvocation f context fcontext is keyword this iskeywordthis array to string invocation arraytostringinvocation set expression setexpression f ast fast new this expression newthisexpression array to string invocation arraytostringinvocation set name setname f ast fast new simple name newsimplename helper array tostring arraytostring method array to string invocation arraytostringinvocation arguments add create member access expression creatememberaccessexpression member array to string invocation arraytostringinvocation arguments add length access lengthaccess array to string invocation arraytostringinvocation arguments add f ast fast new simple name newsimplename f max len variable name fmaxlenvariablename need max len variable needmaxlenvariable access expression accessexpression array to string invocation arraytostringinvocation is array isarray f context fcontext is custom array iscustomarray f context fcontext or higher orhigher nls nls create method invocation createmethodinvocation add import addimport java util arrays to string tostring create member access expression creatememberaccessexpression member i type binding itypebinding array component type arraycomponenttype member type membertype get component type getcomponenttype array component type arraycomponenttype is primitive isprimitive types that need array to string method typesthatneedarraytostringmethod is empty isempty arrays as list aslist member access expression accessexpression create method invocation createmethodinvocation add import addimport java util arrays as list aslist create member access expression creatememberaccessexpression nls nls member nls nls nls nls array to string arraytostring member member length max len maxlen field access fieldaccess length access lengthaccess f ast fast new field access newfieldaccess length access lengthaccess set expression setexpression create member access expression creatememberaccessexpression member nls length access lengthaccess set name setname nls f ast fast new simple name newsimplename length method invocation methodinvocation array to string invocation arraytostringinvocation f ast fast new method invocation newmethodinvocation f context fcontext is keyword this iskeywordthis array to string invocation arraytostringinvocation set expression setexpression f ast fast new this expression newthisexpression array to string invocation arraytostringinvocation set name setname f ast fast new simple name newsimplename helper array tostring arraytostring method array to string invocation arraytostringinvocation arguments add create member access expression creatememberaccessexpression member array to string invocation arraytostringinvocation arguments add length access lengthaccess access expression accessexpression array to string invocation arraytostringinvocation access expression accessexpression ignore nulls ignorenulls conditional expression conditionalexpression conditional f ast fast new conditional expression newconditionalexpression conditional set expression setexpression create infix expression createinfixexpression create member access expression creatememberaccessexpression member equals f ast fast new null literal newnullliteral conditional set then expression setthenexpression access expression accessexpression conditional set else expression setelseexpression f ast fast new null literal newnullliteral conditional access expression accessexpression member i variable binding ivariablebinding f context fcontext is keyword this iskeywordthis field access fieldaccess f ast fast new field access newfieldaccess set expression setexpression f ast fast new this expression newthisexpression set name setname f ast fast new simple name newsimplename i variable binding ivariablebinding member get name getname f ast fast new simple name newsimplename i variable binding ivariablebinding member get name getname member i method binding imethodbinding i method binding imethodbinding member get name getname equals method name methodname string super method invocation supermethodinvocation invocation f ast fast new super method invocation newsupermethodinvocation invocation set name setname f ast fast new simple name newsimplename i method binding imethodbinding member get name getname invocation method invocation methodinvocation invocation f ast fast new method invocation newmethodinvocation f context fcontext is keyword this iskeywordthis invocation set expression setexpression f ast fast new this expression newthisexpression invocation set name setname f ast fast new simple name newsimplename i method binding imethodbinding member get name getname invocation expression create sub list invocation createsublistinvocation expression member access memberaccess expression size access sizeaccess method invocation methodinvocation sub list invocation sublistinvocation f ast fast new method invocation newmethodinvocation sub list invocation sublistinvocation set expression setexpression member access memberaccess nls sub list invocation sublistinvocation set name setname f ast fast new simple name newsimplename sub list sublist sub list invocation sublistinvocation arguments add f ast fast new number literal newnumberliteral string value of valueof nls nls method invocation methodinvocation min invocation mininvocation create method invocation createmethodinvocation add import addimport java lang math min size access sizeaccess min invocation mininvocation arguments add f ast fast new simple name newsimplename f max len variable name fmaxlenvariablename sub list invocation sublistinvocation arguments add min invocation mininvocation need max len variable needmaxlenvariable sub list invocation sublistinvocation adds method reference generated code param type name typename fully qualified type simple fully qualified conflict add import addimport string type name typename string imported name importedname f context fcontext get import rewrite getimportrewrite add import addimport type name typename f ast fast new name newname imported name importedname string excluded string create name suggestion createnamesuggestion string base name basename variable kind variablekind excluded excluded hash set hashset i variable binding ivariablebinding fields f context fcontext get type binding gettypebinding get declared fields getdeclaredfields fields length excluded add fields get name getname i type binding itypebinding super type supertype f context fcontext get type binding gettypebinding get superclass getsuperclass super type supertype fields super type supertype get declared fields getdeclaredfields fields length modifier is private isprivate fields get modifiers getmodifiers excluded add fields get name getname super type supertype super type supertype get superclass getsuperclass i type binding itypebinding types f context fcontext get type binding gettypebinding get declared types getdeclaredtypes types length excluded add types get name getname super type supertype f context fcontext get type binding gettypebinding get superclass getsuperclass super type supertype types super type supertype get declared types getdeclaredtypes types length modifier is private isprivate types get modifiers getmodifiers excluded add types get name getname super type supertype super type supertype get superclass getsuperclass stub utility stubutility get variable name suggestions getvariablenamesuggestions variable kind variablekind f context fcontext get compilation unit getcompilationunit get java project getjavaproject base name basename excluded checks type param member type membertype binding type check param interface names interfacenames fully qualified names interfaces see k seek array booleans element position code interface names interfacenames code implemented code member type membertype code implements interfaces implementsinterfaces i type binding itypebinding member type membertype string interface names interfacenames result interface names interfacenames length interface names interfacenames length member type membertype get qualified name getqualifiedname equals interface names interfacenames result i type binding itypebinding interfaces member type membertype get interfaces getinterfaces interfaces length deeper implements interfaces implementsinterfaces interfaces get erasure geterasure interface names interfacenames interface names interfacenames length result result deeper result param member code i variable binding ivariablebinding code code i method binding imethodbinding code representing member param template element templateelement template element member parent hesis parenthesis member method string get member name getmembername object member string template element templateelement member i variable binding ivariablebinding i variable binding ivariablebinding member get name getname member i method binding imethodbinding string result i method binding imethodbinding member get name getname template element templateelement to string template parser tostringtemplateparser member paren the sis parenthesis variable nls result result param member member check type field method type i type binding itypebinding get member type getmembertype object member member i variable binding ivariablebinding i variable binding ivariablebinding member get type gettype member i method binding imethodbinding i method binding imethodbinding member get return type getreturntype set context setcontext to string generation context tostringgenerationcontext context f context fcontext context f ast fast f context fcontext getast excluded to string generation context tostringgenerationcontext get context getcontext f context fcontext
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal compare java lang reflect invocation target exception invocationtargetexception java util map org eclipse team core team exception teamexception org eclipse team history element local history page source elementlocalhistorypagesource org eclipse team history history page compare editor input historypagecompareeditorinput org eclipse swt widgets shell org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core resources i file ifile org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse core file buf fers filebuffers location kind locationkind org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers i selection iselection org eclipse jface text i document idocument org eclipse jface text text utilities textutilities org eclipse compare compare configuration compareconfiguration org eclipse compare compareui org eclipse compare i stream content accessor istreamcontentaccessor org eclipse compare i type d element itypedelement org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i source range isourcerange org eclipse jdt core java model exception javamodelexception org eclipse jdt core source range sourcerange org eclipse jdt core dom ast node astnode org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext util resources org eclipse jdt internal i java help context ids ijavahelpcontextids org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java editor javaeditor java editor javaeditor org eclipse jdt internal util exception handler exceptionhandler replace local history java elements java replace with edit ion action impl javareplacewitheditionactionimpl java history action impl javahistoryactionimpl f previous fprevious java replace with edit ion action impl javareplacewitheditionactionimpl previous f previous fprevious previous override i selection iselection selection shell shell get shell getshell i member imember input get edit ion element geteditionelement selection input message dialog messagedialog open information openinformation shell compare messages comparemessages replace from history replacefromhistory title compare messages comparemessages replace from history replacefromhistory invalid selection message invalidselectionmessage i file ifile file get file getfile input file show error showerror i status istatus status resources make commit table makecommittable file shell status isok f previous fprevious string error title errortitle compare messages comparemessages replace from history replacefromhistory title string error message errormessage compare messages comparemessages replace from history replacefromhistory internal error message internalerrormessage i type d element itypedelement element local history page source elementlocalhistorypagesource get previous edit ion getpreviousedition file input message dialog messagedialog open information openinformation shell error title errortitle compare messages comparemessages replace from history replacefromhistory parsing error message parsingerrormessage replace input file team exception teamexception exception handler exceptionhandler handle shell error title errortitle error message errormessage java element history page source javaelementhistorypagesource page source pagesource java element history page source javaelementhistorypagesource get instance getinstance compare configuration compareconfiguration compare configuration compareconfiguration set left editable setlefteditable set right editable setrighteditable history page compare editor input historypagecompareeditorinput history page compare editor input historypagecompareeditorinput page source pagesource input override perform replace performreplace object selected element selectedelement selected element selectedelement i type d element itypedelement java replace with edit ion action impl javareplacewitheditionactionimpl replace input file i type d element itypedelement selected element selectedelement set replace setreplace set title settitle compare messages comparemessages java replace with edit ion action impl javareplacewitheditionactionimpl set help context i d sethelpcontextid i java help context ids ijavahelpcontextids replace element history dialog compareui open compare dialog opencomparedialog replace i member imember input i file ifile file i type d element itypedelement element shell shell get shell getshell string error title errortitle compare messages comparemessages replace from history replacefromhistory title string error message errormessage compare messages comparemessages replace from history replacefromhistory internal error message internalerrormessage document insert text i path ipath path file get full path getfullpath i text file buffer manager itextfilebuffermanager buffer manager buffermanager file buffers filebuffers get text file buffer manager gettextfilebuffermanager i text file buffer itextfilebuffer text file buffer textfilebuffer buffer manager buffermanager connect path location kind locationkind ifile text file buffer textfilebuffer buffer manager buffermanager get text file buffer gettextfilebuffer path location kind locationkind ifile i document idocument document text file buffer textfilebuffer get document getdocument perform replace performreplace input file text file buffer textfilebuffer document element invocation target exception invocationtargetexception exception handler exceptionhandler handle shell error title errortitle error message errormessage interrupted exception interruptedexception is true istrue core exception coreexception exception handler exceptionhandler handle shell error title errortitle error message errormessage text file buffer textfilebuffer buffer manager buffermanager disconnect path location kind locationkind ifile core exception coreexception java plugin javaplugin log perform replace performreplace i member imember input i file ifile file i text file buffer itextfilebuffer text file buffer textfilebuffer i document idocument document i type d element itypedelement core exception coreexception java model exception javamodelexception invocation target exception invocationtargetexception interrupted exception interruptedexception i stream content accessor istreamcontentaccessor in editor ineditor being edited beingedited file string content java compare utilities javacompareutilities read string readstring i stream content accessor istreamcontentaccessor string new content newcontent trim text block trimtextblock content text utilities textutilities get default line delimiter getdefaultlinedelimiter document input get java project getjavaproject new content newcontent show error showerror i compilation unit icompilationunit compilation unit compilationunit input get compilation unit getcompilationunit compilation unit compilationunit root parse partial compilation unit parsepartialcompilationunit compilation unit compilationunit i source range isourcerange name range namerange input get name range getnamerange name range namerange name range namerange input get source range getsourcerange work around workaround bug get name range getnamerange annotation members annotationmembers length negative length name range namerange get length getlength length length ast node astnode node node finder nodefinder perform root source range sourcerange name range namerange get offset getoffset length ast node astnode node node get node type getnodetype ast node astnode initializer node node node ast nodes astnodes get parent getparent node body declaration bodydeclaration node node ast nodes astnodes get parent getparent node annotation type declaration annotationtypedeclaration node node ast nodes astnodes get parent getparent node enum declaration enumdeclaration ast node astnode node get body container getbodycontainer root input node show error showerror ast rewrite astrewrite rewriter ast rewrite astrewrite create root getast rewriter replace node rewriter create string placeholder createstringplaceholder new content newcontent node get node type getnodetype in editor ineditor java editor javaeditor get editor geteditor file set focus setfocus map string string options i java project ijavaproject java project javaproject compilation unit compilationunit get java project getjavaproject java project javaproject options java project javaproject get options getoptions apply changes applychanges rewriter document text file buffer textfilebuffer get shell getshell in editor ineditor options show error showerror message dialog messagedialog open error openerror get shell getshell compare messages comparemessages replace from history replacefromhistory title compare messages comparemessages replace from history replacefromhistory internal error message internalerrormessage
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal examples jsp editor jspeditor java io exception ioexception java reader java string reader stringreader org eclipse core runtime org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i region iregion org eclipse jface text position org eclipse jface text reconciler abstract reconcile step abstractreconcilestep org eclipse jface text reconciler dirty region dirtyregion org eclipse jface text reconciler i reconcile step ireconcilestep org eclipse jface text reconciler i reconcile result ireconcileresult org eclipse jface text reconciler ir econcilable model ireconcilablemodel org eclipse jface text source translation i translator itranslator org eclipse jsp jsp translator jsptranslator reconcile step jsp source document input model main tains maintains document java source jsp java reconcile step javareconcilestep abstract reconcile step abstractreconcilestep document adapter documentadapter f model fmodel i translator itranslator f jsp translator fjsptranslator creates reconcile step pipe jsp java reconcile step javareconcilestep initialize creates int ermediate intermediate reconcile step adds step pipe jsp java reconcile step javareconcilestep i reconcile step ireconcilestep step step initialize initialize f jsp translator fjsptranslator jsp translator jsptranslator f jsp translator fjsptranslator set tag handler factory settaghandlerfactory jsp java tag handler factory javataghandlerfactory abstract reconcile step abstractreconcilestep reconcile model reconcilemodel dirty region dirtyregion i region iregion i reconcile result ireconcileresult reconcile model reconcilemodel dirty region dirtyregion dirty region dirtyregion i region iregion sub region subregion nls is true istrue get input model getinputmodel document adapter documentadapter wrong model nls system println reconciling jsp java reader reader string reader stringreader document adapter documentadapter f input model finputmodel get document getdocument nls string java source javasource f jsp translator fjsptranslator translate reader demo f model fmodel document adapter documentadapter document java source javasource io exception ioexception print stack trace printstacktrace reconcile step create abstract reconcile step abstractreconcilestep get model getmodel ir econcilable model ireconcilablemodel get model getmodel f model fmodel abstract reconcile step abstractreconcilestep convert to input model converttoinputmodel i reconcile result ireconcileresult i reconcile result ireconcileresult convert to input model converttoinputmodel i reconcile result ireconcileresult input results inputresults input results inputresults adapt positions smap f jsp translator fjsptranslator get line mapping getlinemapping input results inputresults length is canceled iscanceled input results inputresults annotation adapter annotationadapter annotation adapter annotationadapter result annotation adapter annotationadapter input results inputresults position pos result get position getposition java line javaline java line javaline f model fmodel get document getdocument get line of offset getlineofoffset pos offset adjust offset relative pos offset f model fmodel get document getdocument get line offset getlineoffset java line javaline relative line offset in java relativelineoffsetinjava pos offset document based smap based jsp line jspline smap java line javaline add jsp offset document based smap based pos offset document adapter documentadapter get input model getinputmodel get document getdocument get line offset getlineoffset jsp line jspline string jsp line str jsplinestr document adapter documentadapter get input model getinputmodel get document getdocument document adapter documentadapter get input model getinputmodel get document getdocument get line offset getlineoffset jsp line jspline document adapter documentadapter get input model getinputmodel get document getdocument get line length getlinelength jsp line jspline xxx part itioner partitioner place partition ease detection offset in line offsetinline f jsp translator fjsptranslator back translate offset in line backtranslateoffsetinline jsp line str jsplinestr relative line offset in java relativelineoffsetinjava offset in line offsetinline pos offset offset in line offsetinline bad location exception badlocationexception print stack trace printstacktrace input results inputresults
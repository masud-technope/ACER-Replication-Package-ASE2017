copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug override method generating method override create redundant annotations org eclipse jdt internal text java java util array list arraylist java util list java util map org eclipse swt graphics image org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse text edits malformed tree exception malformedtreeexception org eclipse jface viewers styled string styledstring org eclipse jface window window org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text text utilities textutilities org eclipse jface text contentassist i completion proposal extension icompletionproposalextension org eclipse jface text contentassist i context information icontextinformation org eclipse jface text link linked mode model linkedmodemodel org eclipse jdt core completion proposal completionproposal org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom modifier org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite i tracked node position itrackednodeposition org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt core formatter code formatter codeformatter org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt internal corext code manipulation codemanipulation code generation settings codegenerationsettings org eclipse jdt internal corext code manipulation codemanipulation stub utility stubutility org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext util code formatter util codeformatterutil org eclipse jdt internal corext util strings org eclipse jdt text java java content assist invocation context javacontentassistinvocationcontext org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java plugin images javapluginimages org eclipse jdt internal dialogs override method dialog overridemethoddialog org eclipse jdt internal java editor javaeditor ast provider astprovider org eclipse jdt internal preferences java preferences settings javapreferencessettings anonymous type completion proposal anonymoustypecompletionproposal java type completion proposal javatypecompletionproposal i completion proposal extension icompletionproposalextension string f declaration signature fdeclarationsignature i type itype f super type fsupertype f is context information computed fiscontextinformationcomputed f context information position fcontextinformationposition import rewrite importrewrite f import rewrite fimportrewrite anonymous type completion proposal anonymoustypecompletionproposal i java project ijavaproject jproject i compilation unit icompilationunit java content assist invocation context javacontentassistinvocationcontext invocation context invocationcontext start length string constructor completion constructorcompletion styled string styledstring display name displayname string declaration signature declarationsignature i type itype super type supertype relevance constructor completion constructorcompletion start length display name displayname relevance invocation context invocationcontext is not null isnotnull declaration signature declarationsignature is not null isnotnull jproject is not null isnotnull is not null isnotnull super type supertype f declaration signature fdeclarationsignature declaration signature declarationsignature f super type fsupertype super type supertype set cursor position setcursorposition constructor completion constructorcompletion index of indexof string create dummy type createdummytype string java model exception javamodelexception string buffer stringbuffer buffer string buffer stringbuffer nls buffer append buffer append f super type fsupertype is interface isinterface nls buffer append nls buffer append f declaration signature fdeclarationsignature buffer append signature to string tostring f declaration signature fdeclarationsignature buffer append f super type fsupertype get fully qualified parameterized name getfullyqualifiedparameterizedname nls buffer append new line newline source dummy compilation unit nls buffer append nls buffer append buffer to string tostring string create new body createnewbody import rewrite importrewrite import rewrite importrewrite core exception coreexception import rewrite importrewrite i compilation unit icompilationunit working copy workingcopy nls string type system current time millis currenttimemillis working copy workingcopy f compilation unit fcompilationunit get primary getprimary get working copy getworkingcopy i source range isourcerange range f super type fsupertype get source range getsourcerange same unit sameunit range f compilation unit fcompilationunit equals f super type fsupertype get compilation unit getcompilationunit creates type type string dummy class content dummyclasscontent create dummy type createdummytype string buffer stringbuffer working copy contents workingcopycontents string buffer stringbuffer f compilation unit fcompilationunit get source getsource insert position insertposition same unit sameunit insert position insertposition range get offset getoffset range get length getlength i source range isourcerange first type range firsttyperange f compilation unit fcompilationunit get types gettypes get source range getsourcerange insert position insertposition first type range firsttyperange get offset getoffset f super type fsupertype is local islocal add extra block helps ast recover working copy contents workingcopycontents insert insert position insertposition dummy class content dummyclasscontent insert position insertposition empty lines tracked declaration trackeddeclaration covered range included comments follow dummy nls working copy contents workingcopycontents insert nls insert position insertposition nls dummy class content dummyclasscontent working copy workingcopy get buffer getbuffer set contents setcontents working copy contents workingcopycontents to string tostring ast parser astparser parser ast parser astparser new parser newparser ast provider astprovider shared ast level parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery parser set source setsource working copy workingcopy compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast null progress monitor nullprogressmonitor ast node astnode new type newtype node finder nodefinder perform ast root astroot insert position insertposition dummy class content dummyclasscontent length new type newtype abstract type declaration abstracttypedeclaration abstract type declaration abstracttypedeclaration declaration abstract type declaration abstracttypedeclaration new type newtype i type binding itypebinding dummy type binding dummytypebinding declaration resolve binding resolvebinding dummy type binding dummytypebinding i method binding imethodbinding bindings stub utility stubutility get over ridable methods getoverridablemethods ast root astroot getast dummy type binding dummytypebinding f super type fsupertype is interface isinterface i type binding itypebinding dummy super interfaces dummysuperinterfaces dummy type binding dummytypebinding get interfaces getinterfaces dummy super interfaces dummysuperinterfaces length dummy super interfaces dummysuperinterfaces length dummy super interfaces dummysuperinterfaces is raw type israwtype bindings i method binding imethodbinding i type binding itypebinding dummy superclass dummysuperclass dummy type binding dummytypebinding get superclass getsuperclass dummy superclass dummysuperclass dummy superclass dummysuperclass is raw type israwtype bindings i method binding imethodbinding code generation settings codegenerationsettings settings java preferences settings javapreferencessettings get code generation settings getcodegenerationsettings f super type fsupertype get java project getjavaproject i method binding imethodbinding methods to override methodstooverride i type itype type f super type fsupertype is interface isinterface f super type fsupertype is annotation isannotation i java element ijavaelement type element typeelement dummy type binding dummytypebinding get java element getjavaelement add extra checks recovered code f ragile fragile type element typeelement i type itype equals type element typeelement get element name getelementname type element typeelement exists type i type itype type element typeelement type override method dialog overridemethoddialog dialog override method dialog overridemethoddialog java plugin javaplugin get active workbench shell getactiveworkbenchshell type dialog set generate comment setgeneratecomment dialog set element position enabled setelementpositionenabled dialog open window object selection dialog get result getresult array list arraylist object result array list arraylist selection length selection length selection i method binding imethodbinding result add selection methods to override methodstooverride result to array toarray i method binding imethodbinding result size settings create comments createcomments dialog get generate comment getgeneratecomment can celled cancelled set replacement string setreplacementstring nls set replacement length setreplacementlength settings create comments createcomments list i method binding imethodbinding result array list arraylist bindings length i method binding imethodbinding curr bindings modifier is abstract isabstract curr get modifiers getmodifiers result add curr methods to override methodstooverride result to array toarray i method binding imethodbinding result size find non null by default nonnullbydefault effective current context i binding ibinding context binding contextbinding f compilation unit fcompilationunit get java project getjavaproject get option getoption java core javacore compiler annotation analysis equals java core javacore enabled ast node astnode focus node focusnode node finder nodefinder perform ast root astroot get replacement offset getreplacementoffset dummy class content dummyclasscontent length context binding contextbinding ast nodes astnodes get enclosing declaration getenclosingdeclaration focus node focusnode ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast i tracked node position itrackednodeposition tracked declaration trackeddeclaration rewrite track declaration list rewrite listrewrite rewriter rewrite get list rewrite getlistrewrite declaration declaration get body declarations property getbodydeclarationsproperty methods to override methodstooverride length i method binding imethodbinding curr methods to override methodstooverride method declaration methoddeclaration stub stub utility stubutility create implementation stub createimplementationstub working copy workingcopy rewrite import rewrite importrewrite curr dummy type binding dummytypebinding settings dummy type binding dummytypebinding is interface isinterface context binding contextbinding rewriter insert first insertfirst stub i document idocument document document working copy workingcopy get source getsource rewrite rewriteast apply document body start bodystart tracked declaration trackeddeclaration get start position getstartposition dummy class content dummyclasscontent index of indexof body end bodyend tracked declaration trackeddeclaration get start position getstartposition tracked declaration trackeddeclaration get length getlength document body start bodystart body end bodyend body start bodystart malformed tree exception malformedtreeexception exception java plugin javaplugin log exception bad location exception badlocationexception exception java plugin javaplugin log exception working copy workingcopy working copy workingcopy discard working copy discardworkingcopy image get image for type getimagefortype i type itype type string image name imagename java plugin images javapluginimages img objs type is annotation isannotation image name imagename java plugin images javapluginimages img objs annotation type is interface isinterface image name imagename java plugin images javapluginimages img objs java model exception javamodelexception java plugin javaplugin log java plugin images javapluginimages image name imagename override image get image getimage image image get image getimage image image get image for type getimagefortype f super type fsupertype set image setimage image image org eclipse jface text contentassist i completion proposal extension icompletionproposalextension is auto insert able isautoinsertable override is auto insert able isautoinsertable org eclipse jdt internal text java abstract java completion proposal abstractjavacompletionproposal is offset valid isoffsetvalid override is offset valid isoffsetvalid offset completion proposal completionproposal core proposal coreproposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal core proposal coreproposal get kind getkind completion proposal completionproposal anonymous constructor invocation is offset valid isoffsetvalid offset core proposal coreproposal get required proposals getrequiredproposals get replace start getreplacestart offset org eclipse jdt internal text java abstract java completion proposal abstractjavacompletionproposal get prefix completion start getprefixcompletionstart org eclipse jface text i document idocument override get prefix completion start getprefixcompletionstart i document idocument document completion offset completionoffset completion proposal completionproposal core proposal coreproposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal core proposal coreproposal get kind getkind completion proposal completionproposal anonymous constructor invocation get prefix completion start getprefixcompletionstart document completion offset completionoffset core proposal coreproposal get required proposals getrequiredproposals get replace start getreplacestart org eclipse jdt internal text java java type completion proposal javatypecompletionproposal get prefix completion text getprefixcompletiontext org eclipse jface text i document idocument override char sequence charsequence get prefix completion text getprefixcompletiontext i document idocument document completion offset completionoffset completion proposal completionproposal core proposal coreproposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal core proposal coreproposal get kind getkind completion proposal completionproposal anonymous constructor invocation get prefix completion text getprefixcompletiontext document completion offset completionoffset string value of valueof core proposal coreproposal get name getname org eclipse jdt internal text java abstract java completion proposal abstractjavacompletionproposal get prefix getprefix org eclipse jface text i document idocument override string get prefix getprefix i document idocument document offset completion proposal completionproposal core proposal coreproposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal core proposal coreproposal get kind getkind completion proposal completionproposal anonymous constructor invocation get prefix getprefix document offset replacement offset replacementoffset core proposal coreproposal get required proposals getrequiredproposals get replace start getreplacestart length offset replacement offset replacementoffset length document replacement offset replacementoffset length bad location exception badlocationexception nls org eclipse jdt internal text java java type completion proposal javatypecompletionproposal is valid prefix isvalidprefix java lang string override is valid prefix isvalidprefix string prefix completion proposal completionproposal core proposal coreproposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal core proposal coreproposal get kind getkind completion proposal completionproposal anonymous constructor invocation is valid prefix isvalidprefix prefix is valid prefix isvalidprefix prefix is prefix isprefix prefix string value of valueof core proposal coreproposal get name getname org eclipse jdt internal text java java type completion proposal javatypecompletionproposal apply org eclipse jface text i document idocument override apply i document idocument document trigger offset apply document trigger offset linked mode model linkedmodemodel close all models closeallmodels document org eclipse jdt internal text java java type completion proposal javatypecompletionproposal update replacement string updatereplacementstring org eclipse jface text i document idocument org eclipse jdt core dom rewrite import rewrite importrewrite override update replacement string updatereplacementstring i document idocument document trigger offset import rewrite importrewrite imp rewrite imprewrite core exception coreexception bad location exception badlocationexception f import rewrite fimportrewrite imp rewrite imprewrite string new body newbody create new body createnewbody imp rewrite imprewrite new body newbody completion proposal completionproposal core proposal coreproposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal is anonymous constructor invoc isanonymousconstructorinvoc core proposal coreproposal get kind getkind completion proposal completionproposal anonymous constructor invocation nls replacement string ends with parentheses replacementstringendswithparentheses is anonymous constructor invoc isanonymousconstructorinvoc get replacement string getreplacementstring ends with endswith construct replacement text expression for matted formatted nls string buffer stringbuffer buf string buffer stringbuffer replacement string ends with parentheses replacementstringendswithparentheses is anonymous constructor invoc isanonymousconstructorinvoc buf append buf append new body newbody code formatter string line delim linedelim text utilities textutilities get default line delimiter getdefaultlinedelimiter document i java project ijavaproject project f compilation unit fcompilationunit get java project getjavaproject i region iregion line info lineinfo document get line information of offset getlineinformationofoffset get replacement offset getreplacementoffset indent strings compute indent units computeindentunits document line info lineinfo get offset getoffset line info lineinfo get length getlength project map string string options project project get options getoptions java core javacore get options getoptions options default code formatter constants defaultcodeformatterconstants formatter indent empty lines default code formatter constants defaultcodeformatterconstants string replacement string replacementstring code formatter util codeformatterutil format code formatter codeformatter expression buf to string tostring line delim linedelim options line end offset lineendoffset line info lineinfo get offset getoffset line info lineinfo get length getlength offset document get char getchar line end offset lineendoffset document get char getchar replacement string replacementstring replacement string replacementstring replacement string replacementstring strings change indent changeindent replacement string replacementstring project code formatter util codeformatterutil create indent string createindentstring indent project line delim linedelim begin index beginindex replacement string replacementstring index of indexof is anonymous constructor invoc isanonymousconstructorinvoc begin index beginindex replacement string replacementstring replacement string replacementstring substring begin index beginindex pos offset is anonymous constructor invoc isanonymousconstructorinvoc insert completion insertcompletion is insert mode toggle d isinsertmodetoggled existing code end pos endpos pos document get char getchar end pos endpos end pos endpos line end offset lineendoffset character is whitespace iswhitespace document get char getchar end pos endpos keep length keeplength end pos endpos pos keep length keeplength string keep str keepstr document pos keep length keeplength replacement string replacementstring replacement string replacementstring keep str keepstr set cursor position setcursorposition replacement string replacementstring length keep length keeplength set cursor position setcursorposition replacement string replacementstring length set replacement string setreplacementstring replacement string replacementstring pos document get length getlength document get char getchar pos current length currentlength get replacement length getreplacementlength replacement string ends with parentheses replacementstringendswithparentheses set replacement length setreplacementlength current length currentlength pos offset set replacement length setreplacementlength current length currentlength pos offset i completion proposal extension icompletionproposalextension get context information position getcontextinformationposition override get context information position getcontextinformationposition f is context information computed fiscontextinformationcomputed set context information setcontextinformation compute context information computecontextinformation f context information position fcontextinformationposition i completion proposal icompletionproposal get context information getcontextinformation override i context information icontextinformation get context information getcontextinformation f is context information computed fiscontextinformationcomputed set context information setcontextinformation compute context information computecontextinformation get context information getcontextinformation i context information icontextinformation compute context information computecontextinformation f context information position fcontextinformationposition get replacement offset getreplacementoffset completion proposal completionproposal proposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal https bugs eclipse org bugs bug cgi nls has parameters hasparameters get replacement string getreplacementstring ends with endswith get replacement string getreplacementstring length proposal context information proposalcontextinformation context information contextinformation proposal context information proposalcontextinformation proposal f context information position fcontextinformationposition get replacement offset getreplacementoffset get cursor position getcursorposition f context information position fcontextinformationposition proposal get completion getcompletion length context information contextinformation set context information position setcontextinformationposition f context information position fcontextinformationposition context information contextinformation f is context information computed fiscontextinformationcomputed returns code code method inserted parameter note argument list inserted code code method parameters code code parameters has parameters hasparameters completion proposal completionproposal proposal member proposal info memberproposalinfo get proposal info getproposalinfo f proposal fproposal signature get parameter count getparametercount proposal get signature getsignature org eclipse jdt internal text java abstract java completion proposal abstractjavacompletionproposal create lazy java type completion proposal createlazyjavatypecompletionproposal org eclipse jdt core completion proposal completionproposal org eclipse jdt text java java content assist invocation context javacontentassistinvocationcontext override lazy java completion proposal lazyjavacompletionproposal create required type completion proposal createrequiredtypecompletionproposal completion proposal completionproposal completion proposal completionproposal java content assist invocation context javacontentassistinvocationcontext invocation context invocationcontext lazy java completion proposal lazyjavacompletionproposal proposal create required type completion proposal createrequiredtypecompletionproposal completion proposal completionproposal invocation context invocationcontext proposal lazy java type completion proposal lazyjavatypecompletionproposal lazy java type completion proposal lazyjavatypecompletionproposal proposal set import rewrite setimportrewrite f import rewrite fimportrewrite proposal
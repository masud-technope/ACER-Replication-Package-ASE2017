copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation samrat dhillon samrat dhillon gmail gen eralize generalize type generalize declared type off ers offers types visible https bugs eclipse org bugs bug cgi samrat dhillon samrat dhillon gmail gen eralize generalize type generalize declared type variable statement yields compilation error https bugs eclipse org bugs bug cgi org eclipse jdt tests refactoring java util collection org junit org eclipse jdt test plugin testplugin string asserts stringasserts org eclipse core runtime null progress monitor nullprogressmonitor org eclipse ltk core refactoring refactoring status refactoringstatus org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i source range isourcerange org eclipse jdt core dom i type binding itypebinding org eclipse jdt internal corext refactoring structure change type refactoring changetyperefactoring org eclipse jdt tests refactoring infra text range util textrangeutil junit framework test junit framework test suite testsuite author rfuhrer change type refactoring tests changetyperefactoringtests refactoring test refactoringtest bug core type hierarchy illegal parameterized interfaces change type refactoring tests changetyperefactoringtests clazz change type refactoring tests changetyperefactoringtests string refactoring path change type refactoring changetyperefactoring change type refactoring changetyperefactoring create i compilation unit icompilationunit selection start selectionstart selection length selectionlength change type refactoring changetyperefactoring selection start selectionstart selection length selectionlength change type refactoring changetyperefactoring create i compilation unit icompilationunit selection start selectionstart selection length selectionlength string selected type selectedtype change type refactoring changetyperefactoring selection start selectionstart selection length selectionlength selected type selectedtype change type refactoring tests changetyperefactoringtests string override string get refactoring path getrefactoringpath refactoring path test suite refactoring test setup refactoringtestsetup test suite testsuite clazz test set u p test setuptest test test refactoring test setup refactoringtestsetup test string get simple test file name getsimpletestfilename input string file name filename get name getname input java file name filename string get test file name gettestfilename positive input string file name filename test path prefix get refactoring path getrefactoringpath file name filename positive positive negative file name filename get simple test file name getsimpletestfilename input file name filename i compilation unit icompilationunit create ufrom test file createcufromtestfile i package fragment ipackagefragment pack positive input exception createcu pack get simple test file name getsimpletestfilename input get file contents getfilecontents get test file name gettestfilename positive input i compilation unit icompilationunit create additional u createadditionalcu string file name filename i package fragment ipackagefragment pack exception string full name fullname test path prefix get refactoring path getrefactoringpath positive file name filename java createcu pack file name filename java get file contents getfilecontents full name fullname i compilation unit icompilationunit create additional for negative createadditionalcufornegative string file name filename i package fragment ipackagefragment pack exception string full name fullname test path prefix get refactoring path getrefactoringpath negative file name filename java createcu pack file name filename java get file contents getfilecontents full name fullname change type refactoring changetyperefactoring helper start line startline start column startcolumn end line endline end column endcolumn string selected type name selectedtypename exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn change type refactoring changetyperefactoring change type refactoring changetyperefactoring selection get offset getoffset selection get length getlength selected type name selectedtypename todo parameters refactoring instance arguments refactoring status refactoringstatus activation result activationresult check initial conditions checkinitialconditions null progress monitor nullprogressmonitor assert true asserttrue activation supposed successful activation result activationresult to string tostring activation result activationresult isok collection i type binding itypebinding valid types validtypes compute valid types computevalidtypes null progress monitor nullprogressmonitor valid types validtypes is empty isempty refactoring status refactoringstatus check input result checkinputresult check final conditions checkfinalconditions null progress monitor nullprogressmonitor assert true asserttrue precondition supposed pass check input result checkinputresult to string tostring check input result checkinputresult isok perform change performchange string new source newsource get source getsource assert equal lines assertequallines get name getname get file contents getfilecontents get test file name gettestfilename new source newsource fail helper failhelper start line startline start column startcolumn end line endline end column endcolumn expected status expectedstatus string selected type name selectedtypename exception i compilation unit icompilationunit create ufrom test file createcufromtestfile get package p getpackagep i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn change type refactoring changetyperefactoring change type refactoring changetyperefactoring selection get offset getoffset selection get length getlength selected type name selectedtypename refactoring status refactoringstatus result perform refactoring performrefactoring assert not null assertnotnull precondition supposed fail result assert equals assertequals status expected status expectedstatus result get severity getseverity string can on after src name canonaftersrcname get test file name gettestfilename assert equal lines assertequallines get file contents getfilecontents can on after src name canonaftersrcname get source getsource change type refactoring changetyperefactoring fail helper failhelper start line startline start column startcolumn end line endline end column endcolumn string selected type name selectedtypename i package fragment ipackagefragment pack exception i compilation unit icompilationunit create ufrom test file createcufromtestfile pack i source range isourcerange selection text range util textrangeutil get selection getselection start line startline start column startcolumn end line endline end column endcolumn change type refactoring changetyperefactoring change type refactoring changetyperefactoring selection get offset getoffset selection get length getlength selected type name selectedtypename perform refactoring performrefactoring tests test local var name testlocalvarname exception system println running test local var name testlocalvarname collection string types helper java util map get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util map test local var type testlocalvartype exception collection string types helper java util map get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util map test local var decl testlocalvardecl exception collection string types helper java util map get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util map test local super types of array list testlocalsupertypesofarraylist exception collection string types helper java util list get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang cloneable java lang iterable java serializable java util collection java util list java util abstract list abstractlist java util abstract collection abstractcollection java util random access randomaccess string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parameter name testparametername exception collection string types helper java util map get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util map assert true asserttrue types java util dictionary test parameter type testparametertype exception collection string types helper java util dictionary get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util map assert true asserttrue types java util dictionary test parameter decl testparameterdecl exception collection string types helper java util map get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util map assert true asserttrue types java util dictionary test field name testfieldname exception collection string types helper java util abstract list abstractlist get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test field type testfieldtype exception collection string types helper java util abstract list abstractlist get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test field decl testfielddecl exception collection string types helper java util abstract list abstractlist get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test field use subtypes of list testfieldusesubtypesoflist exception collection string types helper java util list get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test field decl subtypes of list testfielddeclsubtypesoflist exception collection string types helper java util list get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test local var use testlocalvaruse exception collection string types helper java util abstract list abstractlist get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test return type with call testreturntypewithcall exception collection string types helper java util abstract list abstractlist get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract list abstractlist assert true asserttrue types java util list test parameter name with override testparameternamewithoverride exception collection string types helper java util collection get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract collection abstractcollection assert true asserttrue types java util array list arraylist assert true asserttrue types java util list assert true asserttrue types java util collection test parameter type with override testparametertypewithoverride exception collection string types helper java util list get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract collection abstractcollection assert true asserttrue types java util array list arraylist assert true asserttrue types java util list assert true asserttrue types java util collection test parameter decl with override testparameterdeclwithoverride exception collection string types helper java util abstract collection abstractcollection get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract collection abstractcollection assert true asserttrue types java util list assert true asserttrue types java util collection test local var cast testlocalvarcast exception collection string types helper java util list get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang cloneable java lang iterable java serializable java util collection java util list java util abstract list abstractlist java util abstract collection abstractcollection java util random access randomaccess string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test return type testreturntype exception create additional u createadditionalcu test return type testreturntype get package p getpackagep collection string types helper java util collection get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang iterable java util collection string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test field with access testfieldwithaccess exception create additional u createadditionalcu test field with access testfieldwithaccess get package p getpackagep collection string types helper java util collection get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util collection test parameter type with overriding testparametertypewithoverriding exception create additional u createadditionalcu test parameter type with overriding testparametertypewithoverriding get package p getpackagep collection string types helper java util collection get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util collection test multi u testmulticu exception create additional u createadditionalcu testmulticuinterface get package p getpackagep create additional u createadditionalcu testmulticuinterface get package p getpackagep create additional u createadditionalcu testmulticuclass get package p getpackagep create additional u createadditionalcu testmulticuclass get package p getpackagep collection string types helper java util collection get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util collection test hash map testhashmap exception collection string types helper java util abstract map abstractmap get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java util abstract map abstractmap assert true asserttrue types java util map test string teststring exception collection string types helper java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang char sequence charsequence java lang comparable java lang string java serializable string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test interface types testinterfacetypes exception collection string types helper get valid type names getvalidtypenames assert true asserttrue types size assert true asserttrue types java lang object assert true asserttrue types assert true asserttrue types test import testimport exception collection string types helper java util list get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang cloneable java lang iterable java serializable java util collection java util list java util abstract list abstractlist java util abstract collection abstractcollection java util random access randomaccess string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric type with parametric super type testparametrictypewithparametricsupertype exception collection string types helper java util collection java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util collection java lang string java lang object java lang iterable java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric type with non parametric super type testparametrictypewithnonparametricsupertype exception collection string types helper java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util collection java lang string java lang object java lang iterable java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test non parametric type with parametric super type testnonparametrictypewithparametricsupertype exception collection string types helper java lang comparable java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang string java lang comparable java lang string java lang char sequence charsequence java serializable java lang object string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test nested parametric type testnestedparametrictype exception collection string types helper java util abstract collection abstractcollection java util vector java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util abstract collection abstractcollection java util vector java lang string java util collection java util vector java lang string java util random access randomaccess java lang cloneable java lang object java serializable java util list java util vector java lang string java util abstract list abstractlist java util vector java lang string java lang iterable java util vector java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric hashtable testparametrichashtable exception collection string types helper java util map java lang string java lang integer get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util map java lang string java lang integer java util dictionary java lang string java lang integer java lang object java lang cloneable java serializable string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test nested parametric hashtable testnestedparametrichashtable exception collection string types helper java util dictionary java lang string java util vector java lang integer get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util map java lang string java util vector java lang integer java util dictionary java lang string java util vector java lang integer java lang object java lang cloneable java serializable string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test nested raw parametric hashtable testnestedrawparametrichashtable exception collection string types helper java util dictionary java lang string java util vector get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util map java lang string java util vector java util dictionary java lang string java util vector java lang object java lang cloneable java serializable string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test reorder type parameters testreordertypeparameters exception collection string types helper java lang integer java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang integer java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test type parameters typeparameters exception bug core type hierarchy illegal parameterized interfaces print test disabled message printtestdisabledmessage core bug collection string types helper java lang java lang get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang java lang java lang java lang java lang string java lang integer string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test raw comment testrawcomment exception collection string types helper java util collection get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util collection string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test non raw comment testnonrawcomment exception collection string types helper java util collection java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util collection java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test unrelated type parameters testunrelatedtypeparameters exception collection string types helper java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang string java lang object string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test unbound type parameter testunboundtypeparameter exception collection string types helper java lang iterable get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang iterable java util collection java lang object string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test raw sub type testrawsubtype exception collection string types helper java lang comparable java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang comparable java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric field testparametricfield exception collection string types helper java lang iterable java lang integer get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util collection java lang integer java util abstract collection abstractcollection java lang integer java util list java lang integer java lang iterable java lang integer java lang cloneable java lang object java util random access randomaccess java serializable java util abstract list abstractlist java lang integer string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric return type testparametricreturntype exception collection string types helper java lang iterable java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java util list java lang string java serializable java lang iterable java lang string java lang cloneable java util random access randomaccess java util collection java lang string java util abstract collection abstractcollection java lang string java lang object java util abstract list abstractlist java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric parameter testparametricparameter exception collection string types helper java lang iterable java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang iterable java lang object java util collection java lang object string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric local var testparametriclocalvar exception collection string types helper java lang iterable java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang iterable java lang string java util collection java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test parametric empty selection testparametricemptyselection exception collection string types helper java lang iterable java lang string get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang iterable java lang string java util collection java lang string string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test qualified name empty selection testqualifiednameemptyselection exception collection string types helper java lang iterable java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java lang iterable java lang object java util collection java lang object string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test catch clause testcatchclause exception collection string types helper java io exception ioexception get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang throwable java lang exception java io exception ioexception string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test var arg testvararg exception collection string types helper java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java serializable java lang comparable java lang integer java lang number string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test var arg testvararg exception collection string types helper java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected test array value d annotations testarrayvaluedannotations exception test https bugs eclipse org bugs bug cgi collection string types helper java lang object get valid type names getvalidtypenames string actual types to array toarray string types size string expected java lang object java serializable java lang comparable java lang string java lang char sequence charsequence string asserts stringasserts assert equal strings ignore order assertequalstringsignoreorder actual expected tests supposed fail test invalid selection testinvalidselection exception fail helper failhelper java lang object test bogus selection testbogusselection exception fail helper failhelper java lang object test multi declaration testmultideclaration exception fail helper failhelper java util list test update not possible testupdatenotpossible exception fail helper failhelper java util hashtable test array testarray exception fail helper failhelper java lang object test array testarray exception fail helper failhelper java lang object test primitive testprimitive exception fail helper failhelper java lang object test overridden binary method testoverriddenbinarymethod exception fail helper failhelper java lang object test field of local type testfieldoflocaltype exception fail helper failhelper java lang object test object return type testobjectreturntype exception fail helper failhelper java lang object test type parameter testtypeparameter exception fail helper failhelper java lang object test enum testenum exception fail helper failhelper java lang object test qualified field ref testqualifiedfieldref exception fail helper failhelper java lang object test in visible type testinvisibletype exception create additional for negative createadditionalcufornegative in visible type invisibletype get package p getpackagep create additional for negative createadditionalcufornegative visible type visibletype get package p getpackagep collection string types fail helper failhelper visible type visibletype get root getroot get package fragment getpackagefragment get valid type names getvalidtypenames assert false assertfalse types in visible type invisibletype test throwable sub type testthrowablesubtype exception collection string types fail helper failhelper java lang exception get package p getpackagep get valid type names getvalidtypenames assert true asserttrue types java lang throwable assert false assertfalse types java lang object
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal viewsupport java util hash set hashset java util org eclipse swt widgets display org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime listener list listenerlist org eclipse core runtime status org eclipse core resources i marker imarker org eclipse core resources i marker delta imarkerdelta org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i resource change event iresourcechangeevent org eclipse core resources i resource change listener iresourcechangelistener org eclipse core resources i resource delta iresourcedelta org eclipse core resources i resource delta visitor iresourcedeltavisitor org eclipse jface text source annotation model event annotationmodelevent org eclipse jface text source i annotation model iannotationmodel org eclipse jface text source i annotation model listener iannotationmodellistener org eclipse jface text source i annotation model listener extension iannotationmodellistenerextension org eclipse platformui org eclipse progress ui job uijob org eclipse jdt internal java plugin javaplugin org eclipse jdt internal javauimessages org eclipse jdt internal java editor javaeditor compilation unit annotation model event compilationunitannotationmodelevent list ens listens resource deltas filters marker type i marker imarker problem view ers viewers showing error ticks register listener type problem marker manager problemmarkermanager i resource change listener iresourcechangelistener i annotation model listener iannotationmodellistener i annotation model listener extension iannotationmodellistenerextension visit ors visitors element change delta marker change project error visitor projecterrorvisitor i resource delta visitor iresourcedeltavisitor hash set hashset i resource iresource f changed elements fchangedelements project error visitor projecterrorvisitor hash set hashset i resource iresource changed elements changedelements f changed elements fchangedelements changed elements changedelements override visit i resource delta iresourcedelta delta core exception coreexception i resource iresource res delta get resource getresource res i project iproject delta get kind getkind i resource delta iresourcedelta changed i project iproject project i project iproject res project is accessible isaccessible track open java projects check invalid ate checkinvalidate delta res check invalid ate checkinvalidate i resource delta iresourcedelta delta i resource iresource resource kind delta get kind getkind kind i resource delta iresourcedelta removed kind i resource delta iresourcedelta kind i resource delta iresourcedelta changed is error delta iserrordelta delta invalid ate invalidate resource parents resource get type gettype i resource iresource root f changed elements fchangedelements add resource resource resource get parent getparent is error delta iserrordelta i resource delta iresourcedelta delta delta get flags getflags i resource delta iresourcedelta markers i marker delta imarkerdelta marker deltas markerdeltas delta get marker deltas getmarkerdeltas marker deltas markerdeltas length marker deltas markerdeltas is subtype of issubtypeof i marker imarker problem kind marker deltas markerdeltas get kind getkind kind i resource delta iresourcedelta kind i resource delta iresourcedelta removed severity marker deltas markerdeltas get attribute getattribute i marker imarker severity new severity newseverity marker deltas markerdeltas get marker getmarker get attribute getattribute i marker imarker severity new severity newseverity severity listener list listenerlist i problem changed listener iproblemchangedlistener f listeners flisteners i resource iresource f resources with marker changes fresourceswithmarkerchanges i resource iresource f resources with annotation changes fresourceswithannotationchanges ui job uijob f not ifier job fnotifierjob problem marker manager problemmarkermanager f listeners flisteners listener list listenerlist f resources with marker changes fresourceswithmarkerchanges hash set hashset f resources with annotation changes fresourceswithannotationchanges hash set hashset i resource change listener iresourcechangelistener resource changed resourcechanged override resource changed resourcechanged i resource change event iresourcechangeevent event hash set hashset i resource iresource changed elements changedelements hash set hashset i resource delta iresourcedelta delta event get delta getdelta delta delta accept project error visitor projecterrorvisitor changed elements changedelements core exception coreexception java plugin javaplugin log get status getstatus changed elements changedelements is empty isempty has changes haschanges f resources with marker changes fresourceswithmarkerchanges is empty isempty f resources with marker changes fresourceswithmarkerchanges changed elements changedelements has changes haschanges has changes haschanges f resources with marker changes fresourceswithmarkerchanges add all addall changed elements changedelements has changes haschanges fire changes firechanges override model changed modelchanged i annotation model iannotationmodel model action override model changed modelchanged annotation model event annotationmodelevent event event compilation unit annotation model event compilationunitannotationmodelevent compilation unit annotation model event compilationunitannotationmodelevent cu event cuevent compilation unit annotation model event compilationunitannotationmodelevent event cu event cuevent includes problem marker annotation changes includesproblemmarkerannotationchanges has changes haschanges i resource iresource changed resource changedresource cu event cuevent get underlying resource getunderlyingresource has changes haschanges f resources with annotation changes fresourceswithannotationchanges add changed resource changedresource has changes haschanges fire changes firechanges adds listener problem marker param listener listener add add listener addlistener i problem changed listener iproblemchangedlistener listener f listeners flisteners is empty isempty java plugin javaplugin get workspace getworkspace add resource change listener addresourcechangelistener java plugin javaplugin get default getdefault get compilation unit document provider getcompilationunitdocumentprovider add global annotation model listener addglobalannotationmodellistener f listeners flisteners add listener removes code i problem changed listener iproblemchangedlistener code param listener listener remove remove listener removelistener i problem changed listener iproblemchangedlistener listener f listeners flisteners remove listener f listeners flisteners is empty isempty java plugin javaplugin get workspace getworkspace remove resource change listener removeresourcechangelistener java plugin javaplugin get default getdefault get compilation unit document provider getcompilationunitdocumentprovider remove global annotation model listener removeglobalannotationmodellistener fire changes firechanges display display platformui get workbench getworkbench get display getdisplay display display is disposed isdisposed post async update postasyncupdate display post async update postasyncupdate display display f not ifier job fnotifierjob f not ifier job fnotifierjob ui job uijob display javauimessages problem marker manager problemmarkermanager problem marker update job description override i status istatus run i n thread runinuithread i progress monitor iprogressmonitor monitor run pending updates runpendingupdates status status f not ifier job fnotifierjob set system setsystem f not ifier job fnotifierjob schedule notify i problem changed listener iproblemchangedlistener called display thread run pending updates runpendingupdates i resource iresource marker resources markerresources i resource iresource annotation resources annotationresources f resources with marker changes fresourceswithmarkerchanges is empty isempty marker resources markerresources f resources with marker changes fresourceswithmarkerchanges to array toarray i resource iresource f resources with marker changes fresourceswithmarkerchanges size f resources with marker changes fresourceswithmarkerchanges clear f resources with annotation changes fresourceswithannotationchanges is empty isempty annotation resources annotationresources f resources with annotation changes fresourceswithannotationchanges to array toarray i resource iresource f resources with annotation changes fresourceswithannotationchanges size f resources with annotation changes fresourceswithannotationchanges clear i problem changed listener iproblemchangedlistener curr f listeners flisteners marker resources markerresources curr problems changed problemschanged marker resources markerresources annotation resources annotationresources curr problems changed problemschanged annotation resources annotationresources
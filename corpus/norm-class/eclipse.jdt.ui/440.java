copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext dom java util array list arraylist java util collection java util hash set hashset java util list org eclipse jdt core dom ast node astnode org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom block org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom catch clause catchclause org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom for statement forstatement org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom initializer org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom modifier org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom simple name simplename org eclipse jdt core dom statement org eclipse jdt core dom super field access superfieldaccess org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom switch case switchcase org eclipse jdt core dom switch statement switchstatement org eclipse jdt core dom type org eclipse jdt core dom type declaration statement typedeclarationstatement org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom variable declaration expression variabledeclarationexpression org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt internal text correction ast res olving astresolving eval uates evaluates fields methods types declared offset compilation unit code assist returns i bindings ibindings scope analyzer scopeanalyzer i binding ibinding binding i binding ibinding flag method reported methods flag variables reported variables flag types reported types flag visible elements check visibility i binding requestor ibindingrequestor accept binding acceptbinding i binding ibinding binding default binding requestor defaultbindingrequestor i binding requestor ibindingrequestor list i binding ibinding f result fresult hash set hashset string f names added fnamesadded f flags fflags i type binding itypebinding f parent type binding fparenttypebinding default binding requestor defaultbindingrequestor i type binding itypebinding parent type binding parenttypebinding flags f parent type binding fparenttypebinding parent type binding parenttypebinding f flags fflags flags f result fresult array list arraylist f names added fnamesadded hash set hashset default binding requestor defaultbindingrequestor override accept binding acceptbinding i binding ibinding binding binding string signature get signature getsignature binding avoid duplicated inheritance signature f names added fnamesadded add signature f result fresult add binding list i binding ibinding get result getresult has flag hasflag check visibility f flags fflags f result fresult size i binding ibinding binding f result fresult is visible isvisible binding f parent type binding fparenttypebinding f result fresult remove f result fresult hash set hashset i type binding itypebinding f types visited ftypesvisited compilation unit compilationunit f root froot scope analyzer scopeanalyzer compilation unit compilationunit root f types visited ftypesvisited hash set hashset f root froot root clear lists clearlists f types visited ftypesvisited clear string get signature getsignature i binding ibinding binding binding binding get kind getkind i binding ibinding method string buffer stringbuffer buf string buffer stringbuffer buf append buf append binding get name getname append i type binding itypebinding parameters i method binding imethodbinding binding get parameter types getparametertypes parameters length buf append i type binding itypebinding param type paramtype parameters get erasure geterasure buf append param type paramtype get qualified name getqualifiedname buf append buf to string tostring i binding ibinding variable binding get name getname i binding ibinding type binding get name getname has flag hasflag property flags flags property collects elements type hierarchy param binding type binding param flags flags defining elements report param requestor requestor reported code code requestor reported binding required add inherited addinherited i type binding itypebinding binding flags i binding requestor ibindingrequestor requestor add inherited addinherited binding flags requestor add inherited addinherited i type binding itypebinding binding is super interface binding issuperinterfacebinding flags i binding requestor ibindingrequestor requestor f types visited ftypesvisited add binding has flag hasflag variables flags i variable binding ivariablebinding variable bindings variablebindings binding get declared fields getdeclaredfields variable bindings variablebindings length requestor accept binding acceptbinding variable bindings variablebindings has flag hasflag methods flags i method binding imethodbinding method bindings methodbindings binding get declared methods getdeclaredmethods method bindings methodbindings length i method binding imethodbinding curr method bindings methodbindings is super interface binding issuperinterfacebinding modifier is static isstatic curr get modifiers getmodifiers curr is synthetic issynthetic curr is constructor isconstructor requestor accept binding acceptbinding curr has flag hasflag types flags i type binding itypebinding type bindings typebindings binding get declared types getdeclaredtypes type bindings typebindings length i type binding itypebinding curr type bindings typebindings requestor accept binding acceptbinding curr i type binding itypebinding super class superclass binding get superclass getsuperclass super class superclass recursive add inherited addinherited super class superclass flags requestor binding is array isarray nls add inherited addinherited f root froot getast resolve well known type resolvewellknowntype java lang object flags requestor includes methods unimplemented methods i type binding itypebinding interfaces binding get interfaces getinterfaces interfaces length recursive add inherited addinherited interfaces flags requestor collects elements type hierarchy scopes param binding type binding param flags flags defining elements report param requestor requestor reported code code requestor reported binding required add type declarations addtypedeclarations i type binding itypebinding binding flags i binding requestor ibindingrequestor requestor has flag hasflag types flags binding is anonymous isanonymous requestor accept binding acceptbinding binding i type binding itypebinding type parameters typeparameters binding get type parameters gettypeparameters type parameters typeparameters length requestor accept binding acceptbinding type parameters typeparameters add inherited add inherited addinherited binding flags requestor binding is local islocal add outer declarations for local type addouterdeclarationsforlocaltype binding flags requestor i type binding itypebinding declaring class declaringclass binding get declaring class getdeclaringclass declaring class declaringclass recursively add inherited add type declarations addtypedeclarations declaring class declaringclass flags requestor has flag hasflag types flags f root froot find declaring node finddeclaringnode binding list abstract type declaration abstracttypedeclaration types f root froot types types size requestor accept binding acceptbinding types resolve binding resolvebinding add outer declarations for local type addouterdeclarationsforlocaltype i type binding itypebinding local binding localbinding flags i binding requestor ibindingrequestor requestor ast node astnode node f root froot find declaring node finddeclaringnode local binding localbinding node node abstract type declaration abstracttypedeclaration node anonymous class declaration anonymousclassdeclaration add local declarations addlocaldeclarations node get parent getparent flags requestor i type binding itypebinding parent type binding parenttypebinding bindings get binding of parent type getbindingofparenttype node get parent getparent parent type binding parenttypebinding add type declarations addtypedeclarations parent type binding parenttypebinding flags requestor i type binding itypebinding get binding getbinding expression node node node resolve type binding resolvetypebinding i type binding itypebinding get qualifier getqualifier simple name simplename selector ast node astnode parent selector get parent getparent parent get node type getnodetype ast node astnode method invocation method invocation methodinvocation decl method invocation methodinvocation parent selector decl get name getname get binding getbinding decl get expression getexpression ast node astnode qualified qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname parent selector qualified name qualifiedname get name getname get binding getbinding qualified name qualifiedname get qualifier getqualifier ast node astnode field access field access fieldaccess field access fieldaccess field access fieldaccess parent selector field access fieldaccess get name getname get binding getbinding field access fieldaccess get expression getexpression ast node astnode field access super field access superfieldaccess super field access superfieldaccess super field access superfieldaccess parent selector super field access superfieldaccess get name getname i type binding itypebinding curr bindings get binding of parent type getbindingofparenttype parent curr get superclass getsuperclass ast node astnode method invocation super method invocation supermethodinvocation super inv superinv super method invocation supermethodinvocation parent selector super inv superinv get name getname i type binding itypebinding curr bindings get binding of parent type getbindingofparenttype parent curr get superclass getsuperclass parent type bug member types visible location ast node astnode normalized node normalizednode ast nodes astnodes get normal ized node getnormalizednode parent normalized node normalizednode get location in parent getlocationinparent class instance creation classinstancecreation type property class instance creation classinstancecreation creation class instance creation classinstancecreation normalized node normalizednode get parent getparent get binding getbinding creation get expression getexpression i binding ibinding get declarations in scope getdeclarationsinscope simple name simplename selector flags special enum selector get location in parent getlocationinparent switch case switchcase expression property i type binding itypebinding binding switch statement switchstatement selector get parent getparent get parent getparent get expression getexpression resolve type binding resolvetypebinding binding binding is enum isenum get enum contants getenumcontants binding i type binding itypebinding parent type binding parenttypebinding bindings get binding of parent type getbindingofparenttype selector parent type binding parenttypebinding i type binding itypebinding binding get qualifier getqualifier selector default binding requestor defaultbindingrequestor requestor default binding requestor defaultbindingrequestor parent type binding parenttypebinding flags binding add local declarations addlocaldeclarations selector flags requestor add type declarations addtypedeclarations parent type binding parenttypebinding flags requestor add inherited addinherited binding flags requestor list i binding ibinding result requestor get result getresult result to array toarray i binding ibinding result size binding clear lists clearlists search requestor searchrequestor i binding requestor ibindingrequestor f flags fflags i type binding itypebinding f parent type binding fparenttypebinding i binding ibinding f to search ftosearch f found ffound f is visible fisvisible search requestor searchrequestor i binding ibinding to search tosearch i type binding itypebinding parent type binding parenttypebinding flag f flags fflags flag f to search ftosearch to search tosearch f parent type binding fparenttypebinding parent type binding parenttypebinding f found ffound f is visible fisvisible override accept binding acceptbinding i binding ibinding binding f found ffound binding f to search ftosearch get kind getkind binding get kind getkind check visibility checkvisibility has flag hasflag check visibility f flags fflags binding f to search ftosearch f found ffound i binding ibinding binding declaration bindingdeclaration bindings get declaration getdeclaration binding binding declaration bindingdeclaration f to search ftosearch f found ffound binding declaration bindingdeclaration get name getname equals f to search ftosearch get name getname string signature get signature getsignature binding declaration bindingdeclaration signature signature equals get signature getsignature f to search ftosearch check visibility checkvisibility f is visible fisvisible element hides binding find f found ffound check visibility checkvisibility f is visible fisvisible scope analyzer scopeanalyzer is visible isvisible binding f parent type binding fparenttypebinding f found ffound f found ffound is visible isvisible f is visible fisvisible is declared in scope isdeclaredinscope i binding ibinding declaration simple name simplename selector flags special enum selector get location in parent getlocationinparent switch case switchcase expression property i type binding itypebinding binding switch statement switchstatement selector get parent getparent get parent getparent get expression getexpression resolve type binding resolvetypebinding binding binding is enum isenum has enum contants hasenumcontants declaration binding get type declaration gettypedeclaration i type binding itypebinding parent type binding parenttypebinding bindings get binding of parent type context getbindingofparenttypecontext selector parent type binding parenttypebinding i type binding itypebinding binding get qualifier getqualifier selector search requestor searchrequestor requestor search requestor searchrequestor declaration parent type binding parenttypebinding flags binding add local declarations addlocaldeclarations selector flags requestor requestor requestor is visible isvisible add type declarations addtypedeclarations parent type binding parenttypebinding flags requestor requestor requestor is visible isvisible add inherited addinherited binding flags requestor requestor requestor is visible isvisible clear lists clearlists i variable binding ivariablebinding get enum contants getenumcontants i type binding itypebinding binding i variable binding ivariablebinding declared fields declaredfields binding get declared fields getdeclaredfields array list arraylist i variable binding ivariablebinding res array list arraylist declared fields declaredfields length declared fields declaredfields length i variable binding ivariablebinding curr declared fields declaredfields curr is enum constant isenumconstant res add curr res to array toarray i variable binding ivariablebinding res size has enum contants hasenumcontants i binding ibinding declaration i type binding itypebinding binding i variable binding ivariablebinding declared fields declaredfields binding get declared fields getdeclaredfields declared fields declaredfields length i variable binding ivariablebinding curr declared fields declaredfields curr declaration i binding ibinding get declarations in scope getdeclarationsinscope offset flags org eclipse jdt core dom node finder nodefinder finder org eclipse jdt core dom node finder nodefinder f root froot offset ast node astnode node finder get covering node getcoveringnode node binding node simple name simplename get declarations in scope getdeclarationsinscope simple name simplename node flags i type binding itypebinding binding bindings get binding of parent type getbindingofparenttype node default binding requestor defaultbindingrequestor requestor default binding requestor defaultbindingrequestor binding flags add local declarations addlocaldeclarations node offset flags requestor binding add type declarations addtypedeclarations binding flags requestor list i binding ibinding result requestor get result getresult result to array toarray i binding ibinding result size clear lists clearlists i type binding itypebinding get declaring type getdeclaringtype i binding ibinding binding binding get kind getkind i binding ibinding variable i variable binding ivariablebinding binding get declaring class getdeclaringclass i binding ibinding method i method binding imethodbinding binding get declaring class getdeclaringclass i binding ibinding type i type binding itypebinding type binding typebinding i type binding itypebinding binding type binding typebinding get declaring class getdeclaringclass type binding typebinding type binding typebinding eval uates evaluates declaration visible context param binding binding declaration examine param context context test returns is visible isvisible i binding ibinding binding i type binding itypebinding context binding get kind getkind i binding ibinding variable i variable binding ivariablebinding binding is field isfield local variables visible i type binding itypebinding declaring get declaring type getdeclaringtype binding declaring declaring declaring get type declaration gettypedeclaration modifiers binding get modifiers getmodifiers modifier is public ispublic modifiers declaring is interface isinterface modifier is protected isprotected modifiers modifier is private isprivate modifiers declaring get package getpackage context get package getpackage is type in scope istypeinscope declaring context modifier is protected isprotected modifiers visibility is type in scope istypeinscope declaring context is type in scope istypeinscope i type binding itypebinding declaring i type binding itypebinding context include hierarchy includehierarchy i type binding itypebinding curr context get type declaration gettypedeclaration curr curr declaring include hierarchy includehierarchy is in super type hierarchy isinsupertypehierarchy declaring curr curr curr get declaring class getdeclaringclass curr declaring method binding is super type issupertype type declarations compared is in super type hierarchy isinsupertypehierarchy i type binding itypebinding possible super type decl possiblesupertypedecl i type binding itypebinding type type possible super type decl possiblesupertypedecl i type binding itypebinding super class superclass type get superclass getsuperclass super class superclass is in super type hierarchy isinsupertypehierarchy possible super type decl possiblesupertypedecl super class superclass get type declaration gettypedeclaration possible super type decl possiblesupertypedecl is interface isinterface i type binding itypebinding super interfaces superinterfaces type get interfaces getinterfaces super interfaces superinterfaces length is in super type hierarchy isinsupertypehierarchy possible super type decl possiblesupertypedecl super interfaces superinterfaces get type declaration gettypedeclaration i binding ibinding get declarations after getdeclarationsafter offset flags org eclipse jdt core dom node finder nodefinder finder org eclipse jdt core dom node finder nodefinder f root froot offset ast node astnode node finder get covering node getcoveringnode node ast node astnode declaration ast res olving astresolving find parent statement findparentstatement node declaration statement declaration get node type getnodetype ast node astnode block declaration declaration get parent getparent declaration block default binding requestor defaultbindingrequestor requestor default binding requestor defaultbindingrequestor declarations after visitor declarationsaftervisitor visitor declarations after visitor declarationsaftervisitor node get start position getstartposition flags requestor declaration accept visitor list i binding ibinding result requestor get result getresult result to array toarray i binding ibinding result size binding clear lists clearlists scope analyzer visitor scopeanalyzervisitor hierarchicalastvisitor f position fposition f flags fflags i binding requestor ibindingrequestor f requestor frequestor f break fbreak scope analyzer visitor scopeanalyzervisitor position flags i binding requestor ibindingrequestor requestor f position fposition position f flags fflags flags f requestor frequestor requestor f break fbreak is inside isinside ast node astnode node start node get start position getstartposition start node get length getlength start f position fposition f position fposition override visit method declaration methoddeclaration node is inside isinside node block body node get body getbody body body accept visit backwards visitbackwards node parameters visit backwards visitbackwards node type parameters typeparameters override visit type parameter typeparameter node has flag hasflag types f flags fflags node get start position getstartposition f position fposition f break fbreak f requestor frequestor accept binding acceptbinding node get name getname resolve binding resolvebinding f break fbreak override visit switch case switchcase node enum enum constants qualification has flag hasflag variables f flags fflags node is default isdefault is inside isinside node get expression getexpression switch statement switchstatement switch statement switchstatement switch statement switchstatement node get parent getparent i type binding itypebinding binding switch statement switchstatement get expression getexpression resolve type binding resolvetypebinding binding binding is enum isenum i variable binding ivariablebinding declared fields declaredfields binding get declared fields getdeclaredfields declared fields declaredfields length i variable binding ivariablebinding curr declared fields declaredfields curr is enum constant isenumconstant f break fbreak f requestor frequestor accept binding acceptbinding curr f break fbreak override visit initializer node f break fbreak is inside isinside node override visit field declaration fielddeclaration node f break fbreak is inside isinside node override visit expression node f break fbreak is inside isinside node override visit statement node f break fbreak is inside isinside node override visit ast node astnode node override visit block node is inside isinside node visit backwards visitbackwards node statements override visit variable declaration variabledeclaration node has flag hasflag variables f flags fflags node get start position getstartposition f position fposition f break fbreak f requestor frequestor accept binding acceptbinding node resolve binding resolvebinding f break fbreak override visit variable declaration statement variabledeclarationstatement node visit backwards visitbackwards node fragments override visit variable declaration expression variabledeclarationexpression node visit backwards visitbackwards node fragments override visit catch clause catchclause node is inside isinside node node get body getbody accept node get exception getexception accept override visit for statement forstatement node is inside isinside node node get body getbody accept visit backwards visitbackwards node initializers override visit type declaration statement typedeclarationstatement node has flag hasflag types f flags fflags node get start position getstartposition node get length getlength f position fposition f break fbreak f requestor frequestor accept binding acceptbinding node resolve binding resolvebinding f break fbreak is inside isinside node visit backwards visitbackwards list ast node astnode list f break fbreak list size ast node astnode curr list curr get start position getstartposition f position fposition curr accept declarations after visitor declarationsaftervisitor hierarchicalastvisitor f position fposition f flags fflags i binding requestor ibindingrequestor f requestor frequestor f break fbreak declarations after visitor declarationsaftervisitor position flags i binding requestor ibindingrequestor requestor f position fposition position f flags fflags flags f requestor frequestor requestor f break fbreak override visit ast node astnode node f break fbreak override visit variable declaration variabledeclaration node has flag hasflag variables f flags fflags f position fposition node get start position getstartposition f break fbreak f requestor frequestor accept binding acceptbinding node resolve binding resolvebinding override visit anonymous class declaration anonymousclassdeclaration node override visit type declaration statement typedeclarationstatement node has flag hasflag types f flags fflags f position fposition node get start position getstartposition f break fbreak f requestor frequestor accept binding acceptbinding node resolve binding resolvebinding add local declarations addlocaldeclarations ast node astnode node flags i binding requestor ibindingrequestor requestor add local declarations addlocaldeclarations node node get start position getstartposition flags requestor add local declarations addlocaldeclarations ast node astnode node offset flags i binding requestor ibindingrequestor requestor has flag hasflag variables flags has flag hasflag types flags body declaration bodydeclaration declaration ast res olving astresolving find parent body declaration findparentbodydeclaration node declaration method declaration methoddeclaration declaration initializer declaration field declaration fielddeclaration scope analyzer visitor scopeanalyzervisitor visitor scope analyzer visitor scopeanalyzervisitor offset flags requestor declaration accept visitor visitor f break fbreak collection string get used variable names getusedvariablenames offset length hash set hashset string result hash set hashset i binding ibinding bindings before bindingsbefore get declarations in scope getdeclarationsinscope offset variables bindings before bindingsbefore length result add bindings before bindingsbefore get name getname i binding ibinding bindings after bindingsafter get declarations after getdeclarationsafter offset length variables bindings after bindingsafter length result add bindings after bindingsafter get name getname list import declaration importdeclaration imports f root froot imports imports size import declaration importdeclaration decl imports decl is static isstatic decl is on demand isondemand result add ast nodes astnodes get simple name identifier getsimplenameidentifier decl get name getname result
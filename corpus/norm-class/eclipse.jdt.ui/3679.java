copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt actions java util array list arraylist java util arrays java util hash map hashmap java util hash set hashset java util iterator java util map java util sorted set sortedset java util stack java util string tokenizer stringtokenizer java util tree set treeset org eclipse swt swt org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt widgets menu org eclipse swt widgets menu item menuitem org eclipse core runtime org eclipse jface action action org eclipse jface action contribution item contributionitem org eclipse jface action group marker groupmarker org eclipse jface action i contribution item icontributionitem org eclipse jface action i menu listener imenulistener org eclipse jface action i menu manager imenumanager org eclipse jface action separator org eclipse jface preference i preference store ipreferencestore org eclipse jface viewers i content provider icontentprovider org eclipse jface viewers i tree content provider itreecontentprovider org eclipse jface viewers structured viewer structuredviewer org eclipse jface viewers viewer filter viewerfilter org eclipse jface window window org eclipse i action bars iactionbars org eclipse i memento imemento org eclipse i view part iviewpart org eclipse actions action group actiongroup org eclipse jdt core i java model ijavamodel org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java plugin images javapluginimages org eclipse jdt internal filters custom filters dialog customfiltersdialog org eclipse jdt internal filters empty library container filter emptylibrarycontainerfilter org eclipse jdt internal filters filter descriptor filterdescriptor org eclipse jdt internal filters filter messages filtermessages org eclipse jdt internal filters name pattern filter namepatternfilter action group add filter action view tool bar menu instantiated intended subclassed noextend intended subclassed clients custom filters action group customfiltersactiongroup action group actiongroup nls string tag dummy test existence tag dummy test existence show filter dialog action showfilterdialogaction action show filter dialog action showfilterdialogaction set text settext filter messages filtermessages open custom filters dialog action opencustomfiltersdialogaction text set image descriptor setimagedescriptor java plugin images javapluginimages desc elcl filter set disabled image descriptor setdisabledimagedescriptor java plugin images javapluginimages desc dlcl filter override open dialog opendialog menu contribution item check uncheck filters filter action menu contribution item filteractionmenucontributionitem contribution item contributionitem f item number fitemnumber f state fstate string f filter id ffilterid string f filter name ffiltername custom filters action group customfiltersactiongroup f action group factiongroup constructor filter action menu contribution item filteractionmenucontributionitem param action group actiongroup action group param filter id filterid filter param filter name filtername filter param initial filter param item number itemnumber menu item filter action menu contribution item filteractionmenucontributionitem custom filters action group customfiltersactiongroup action group actiongroup string filter id filterid string filter name filtername item number itemnumber filter id filterid is not null isnotnull action group actiongroup is not null isnotnull filter id filterid is not null isnotnull filter name filtername f action group factiongroup action group actiongroup f filter id ffilterid filter id filterid f filter name ffiltername filter name filtername f state fstate f item number fitemnumber item number itemnumber overrides method contribution item contributionitem override fill menu menu menu item menuitem menu item menuitem menu swt check nls nls set text settext f item number fitemnumber f filter name ffiltername xxx don image bad menu items don provide image xxx working specific image xml cache icons set image setimage java plugin images javapluginimages java plugin images javapluginimages img objs java working set selection setselection f state fstate add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f state fstate f state fstate f action group factiongroup set filter setfilter f filter id ffilterid f state fstate org eclipse jface action i contribution item icontributionitem is dynamic isdynamic override is dynamic isdynamic nls string tag custom filters custom filters customfilters nls string tag user defined patterns enabled user defined patterns enabled userdefinedpatternsenabled nls string tag user defined patterns user defined patterns userdefinedpatterns nls string tag xml defined filters xml defined filters xmldefinedfilters nls string tag lru filters last recently used filters lastrecentlyusedfilters nls string tag child child nls string tag pattern pattern nls string tag filter filter id filterid nls string tag enabled is enabled isenabled nls string separator max filter menu entries nls string filters group recent filters group recentfiltersgroup filter item filteritem enabled previously enabled previouslyenabled filter descriptor filterdescriptor descriptor string viewer filter viewerfilter filter instance filterinstance filter item filteritem filter descriptor filterdescriptor descriptor descriptor descriptor descriptor get id getid previously enabled previouslyenabled enabled descriptor is enabled isenabled viewer filter viewerfilter get filter instance getfilterinstance filter instance filterinstance filter instance filterinstance descriptor create viewer filter createviewerfilter filter instance filterinstance structured viewer structuredviewer f viewer fviewer name pattern filter namepatternfilter f pattern filter fpatternfilter f user defined patterns enabled fuserdefinedpatternsenabled string f user defined patterns fuserdefinedpatterns string f previous patterns fpreviouspatterns map string filter item filteritem f filter items ffilteritems changed filter ids stack oldest top stack string flrufilteridsstack handle menu manager dynamically update filters i menu manager imenumanager f menu manager fmenumanager menu listener dynamically updates filters i menu listener imenulistener f menu listener fmenulistener filter ids view menu invocation string f filter ids used in last view menu ffilteridsusedinlastviewmenu string f target id ftargetid creates code custom filters action group customfiltersactiongroup code param view owns action group param viewer viewer filtered custom filters action group customfiltersactiongroup i view part iviewpart structured viewer structuredviewer viewer get view site getviewsite get id getid viewer creates code custom filters action group customfiltersactiongroup code param owner id ownerid action group owner param viewer viewer filtered custom filters action group customfiltersactiongroup string owner id ownerid structured viewer structuredviewer viewer is not null isnotnull owner id ownerid is not null isnotnull viewer f target id ftargetid owner id ownerid f viewer fviewer viewer f pattern filter fpatternfilter name pattern filter namepatternfilter flrufilteridsstack stack f user defined patterns fuserdefinedpatterns string f user defined patterns enabled fuserdefinedpatternsenabled f previous patterns fpreviouspatterns string f filter items ffilteritems hash map hashmap filter descriptor filterdescriptor filter descriptors filterdescriptors filter descriptor filterdescriptor get filter descriptors getfilterdescriptors f target id ftargetid filter descriptors filterdescriptors length filter item filteritem item filter item filteritem filter descriptors filterdescriptors object existing f filter items ffilteritems item item existing nls java plugin javaplugin log error message logerrormessage nls warning duplicate extension point org eclipse jdt java element filters javaelementfilters owner id ownerid initialize with view defaults initializewithviewdefaults update viewer filters updateviewerfilters method declared action group actiongroup override fill action bars fillactionbars i action bars iactionbars action bars actionbars fill view menu fillviewmenu action bars actionbars get menu manager getmenumanager returns list enabled filters filter identified method internal called clients jdt list enabled filters noreference method intended referenced clients string internal get enabled filter ids internalgetenabledfilterids array list arraylist string enabled filter ids enabledfilterids array list arraylist iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator item enabled enabled filter ids enabledfilterids add item enabled filter ids enabledfilterids to array toarray string enabled filter ids enabledfilterids size removes filters parent element param parent parent element param element element param content provider contentprovider content provider viewer filters removed array filter ids string remove filters for removefiltersfor object parent object element i content provider icontentprovider content provider contentprovider array list arraylist string new filters newfilters array list arraylist iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator item enabled viewer filter viewerfilter filter item get filter instance getfilterinstance filter is selected isselected parent element content provider contentprovider filter new filters newfilters add item f user defined patterns enabled fuserdefinedpatternsenabled is selected isselected parent element content provider contentprovider f pattern filter fpatternfilter new filters newfilters add f pattern filter fpatternfilter get class getclass get name getname new filters newfilters to array toarray string new filters newfilters size sets filters array filters param new filters newfilters filters set filters setfilters string new filters newfilters set enabled filter ids setenabledfilterids new filters newfilters update viewer filters updateviewerfilters is selected isselected object parent object element i content provider icontentprovider content provider contentprovider viewer filter viewerfilter filter work around workaround https bugs eclipse org filter empty library container filter emptylibrarycontainerfilter content provider contentprovider i tree content provider itreecontentprovider element parents selected i tree content provider itreecontentprovider provider i tree content provider itreecontentprovider content provider contentprovider element element i java model ijavamodel filter select f viewer fviewer parent element element provider get parent getparent element filter select f viewer fviewer parent element sets enable filter param filter id filterid filter param filter set filter setfilter string filter id filterid renew filter lru stack flrufilteridsstack remove filter id filterid flrufilteridsstack add filter id filterid filter item filteritem item f filter items ffilteritems filter id filterid item item enabled store view defaults storeviewdefaults update viewer filters updateviewerfilters set enabled filter ids setenabledfilterids string enabled ids enabledids f user defined patterns enabled fuserdefinedpatternsenabled iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator item enabled enabled enabled ids enabledids length filter item filteritem item f filter items ffilteritems enabled ids enabledids item item enabled f pattern filter fpatternfilter get class getclass get name getname equals enabled ids enabledids f user defined patterns enabled fuserdefinedpatternsenabled set user defined patterns setuserdefinedpatterns string patterns f user defined patterns fuserdefinedpatterns patterns sets changed filters param change history changehistory change history set recently changed filters setrecentlychangedfilters stack filter descriptor filterdescriptor change history changehistory stack string oldest first stack oldestfirststack stack length math min change history changehistory size max filter menu entries length oldest first stack oldestfirststack push change history changehistory pop get id getid length math min flrufilteridsstack size max filter menu entries oldest first stack oldestfirststack size newest length string filter flrufilteridsstack remove newest oldest first stack oldestfirststack filter oldest first stack oldestfirststack push filter flrufilteridsstack oldest first stack oldestfirststack are user defined patterns enabled areuserdefinedpatternsenabled f user defined patterns enabled fuserdefinedpatternsenabled set user defined patterns enabled setuserdefinedpatternsenabled f user defined patterns enabled fuserdefinedpatternsenabled fills view menu entries managed group param view menu viewmenu menu fill fill view menu fillviewmenu i menu manager imenumanager view menu viewmenu don change separator group ensures filters contributed group nls view menu viewmenu add separator filters view menu viewmenu add group marker groupmarker filters group view menu viewmenu add show filter dialog action showfilterdialogaction f menu manager fmenumanager view menu viewmenu f menu listener fmenulistener i menu listener imenulistener override menu about to show menuabouttoshow i menu manager imenumanager manager removepreviouslrufilteractions manager addlrufilteractions manager f menu manager fmenumanager add menu listener addmenulistener f menu listener fmenulistener removepreviouslrufilteractions i menu manager imenumanager f filter ids used in last view menu ffilteridsusedinlastviewmenu f filter ids used in last view menu ffilteridsusedinlastviewmenu length remove f filter ids used in last view menu ffilteridsusedinlastviewmenu addlrufilteractions i menu manager imenumanager flrufilteridsstack is empty isempty f filter ids used in last view menu ffilteridsusedinlastviewmenu sorted set sortedset string sorted filters sortedfilters tree set treeset flrufilteridsstack string recently changed filter ids recentlychangedfilterids sorted filters sortedfilters to array toarray string sorted filters sortedfilters size f filter ids used in last view menu ffilteridsusedinlastviewmenu string recently changed filter ids recentlychangedfilterids length recently changed filter ids recentlychangedfilterids length string recently changed filter ids recentlychangedfilterids f filter ids used in last view menu ffilteridsusedinlastviewmenu filter item filteritem filter item filteritem f filter items ffilteritems filter item filteritem i contribution item icontributionitem item filter action menu contribution item filteractionmenucontributionitem filter item filteritem descriptor get name getname filter item filteritem enabled insert before insertbefore filters group item method declared action group actiongroup override dispose f menu manager fmenumanager f menu manager fmenumanager remove menu listener removemenulistener f menu listener fmenulistener f filter items ffilteritems clear dispose viewer filter handling update viewer filters updateviewerfilters viewer filter viewerfilter installed filters installedfilters f viewer fviewer get filters getfilters array list arraylist viewer filter viewerfilter viewer filters viewerfilters array list arraylist arrays as list aslist installed filters installedfilters hash set hashset string patterns hash set hashset has change haschange pattern change patternchange iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator item descriptor is custom filter iscustomfilter item enabled item previously enabled previouslyenabled create changed viewer filter viewerfilter filter item get filter instance getfilterinstance filter item enabled viewer filters viewerfilters add filter viewer filters viewerfilters remove filter has change haschange item descriptor is pattern filter ispatternfilter item enabled patterns add item descriptor get pattern getpattern pattern change patternchange item enabled item previously enabled previouslyenabled item previously enabled previouslyenabled item enabled are user defined patterns enabled areuserdefinedpatternsenabled f user defined patterns fuserdefinedpatterns length patterns add f user defined patterns fuserdefinedpatterns pattern change test user patterns difference pattern change patternchange pattern change patternchange has changes haschanges patterns f previous patterns fpreviouspatterns f previous patterns fpreviouspatterns patterns to array toarray string patterns size pattern change patternchange f pattern filter fpatternfilter set patterns setpatterns f previous patterns fpreviouspatterns patterns is empty isempty viewer filters viewerfilters remove f pattern filter fpatternfilter viewer filters viewerfilters f pattern filter fpatternfilter viewer filters viewerfilters add f pattern filter fpatternfilter has change haschange has change haschange refresh f viewer fviewer set filters setfilters viewer filters viewerfilters to array toarray viewer filter viewerfilter viewer filters viewerfilters size has change haschange has changes haschanges hash set hashset string patterns string old patterns oldpatterns suppress warnings suppresswarnings unchecked hash set hashset string copy hash set hashset string patterns clone old patterns oldpatterns length copy remove old patterns oldpatterns copy is empty isempty view kind defaults per sistency persistency initialize with view defaults initializewithviewdefaults values view i preference store ipreferencestore store java plugin javaplugin get default getdefault get preference store getpreferencestore bug https bugs eclipse org bugs bug cgi store get preference key getpreferencekey tag dummy test existence f user defined patterns enabled fuserdefinedpatternsenabled store get boolean getboolean get preference key getpreferencekey tag user defined patterns enabled set user defined patterns setuserdefinedpatterns custom filters dialog customfiltersdialog convert from string convertfromstring store get string getstring get preference key getpreferencekey tag user defined patterns separator iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator string item plugin contributions fixes https bugs eclipse org bugs bug cgi store set default setdefault item descriptor is enabled isenabled item enabled store get boolean getboolean flrufilteridsstack clear string lru filter ids lrufilterids store get string getstring tag lru filters string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer lru filter ids lrufilterids separator tokenizer has more tokens hasmoretokens string tokenizer next token nexttoken f filter items ffilteritems contains key containskey flrufilteridsstack flrufilteridsstack push store view defaults storeviewdefaults values view i preference store ipreferencestore store java plugin javaplugin get default getdefault get preference store getpreferencestore bug https bugs eclipse org bugs bug cgi nls store set value setvalue get preference key getpreferencekey tag dummy test existence stored view preferences storedviewpreferences store set value setvalue get preference key getpreferencekey tag user defined patterns enabled f user defined patterns enabled fuserdefinedpatternsenabled store set value setvalue get preference key getpreferencekey tag user defined patterns custom filters dialog customfiltersdialog convert to string converttostring f user defined patterns fuserdefinedpatterns separator iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator store set value setvalue item item enabled string buffer stringbuffer buf string buffer stringbuffer flrufilteridsstack size iterator string iter flrufilteridsstack iterator iter has next hasnext buf append iter buf append separator store set value setvalue tag lru filters buf to string tostring string get preference key getpreferencekey string tag nls custom filters action group customfiltersactiongroup f target id ftargetid tag view instance per sistency persistency saves custom filters memento param memento memento saved save state savestate i memento imemento memento i memento imemento custom filters customfilters memento create child createchild tag custom filters custom filters customfilters put string putstring tag user defined patterns enabled to string tostring f user defined patterns enabled fuserdefinedpatternsenabled save user defined patterns saveuserdefinedpatterns custom filters customfilters save xml defined filters savexmldefinedfilters custom filters customfilters savelrufilters custom filters customfilters save xml defined filters savexmldefinedfilters i memento imemento memento i memento imemento xml defined filters xmldefinedfilters memento create child createchild tag xml defined filters iterator filter item filteritem iterator f filter items ffilteritems values iterator iterator has next hasnext filter item filteritem item iterator i memento imemento child xml defined filters xmldefinedfilters create child createchild tag child child put string putstring tag filter item child put string putstring tag enabled string value of valueof item enabled stores filter ids memento param memento memento store lru filter ids savelrufilters i memento imemento memento flrufilteridsstack flrufilteridsstack is empty isempty i memento imemento lru filters lrufilters memento create child createchild tag lru filters iterator string iter flrufilteridsstack iterator iter has next hasnext string iter i memento imemento child lru filters lrufilters create child createchild tag child child put string putstring tag filter save user defined patterns saveuserdefinedpatterns i memento imemento memento f user defined patterns fuserdefinedpatterns f user defined patterns fuserdefinedpatterns length i memento imemento user defined patterns userdefinedpatterns memento create child createchild tag user defined patterns f user defined patterns fuserdefinedpatterns length i memento imemento child user defined patterns userdefinedpatterns create child createchild tag child child put string putstring tag pattern f user defined patterns fuserdefinedpatterns restores filter actions memento note method refresh viewer param memento memento res tored restored restore state restorestate i memento imemento memento memento i memento imemento custom filters customfilters memento get child getchild tag custom filters custom filters customfilters string user defined patterns enabled userdefinedpatternsenabled custom filters customfilters get string getstring tag user defined patterns enabled user defined patterns enabled userdefinedpatternsenabled f user defined patterns enabled fuserdefinedpatternsenabled value of valueof user defined patterns enabled userdefinedpatternsenabled boolean value booleanvalue restore user defined patterns restoreuserdefinedpatterns custom filters customfilters restore xml defined filters restorexmldefinedfilters custom filters customfilters restorelrufilters custom filters customfilters update viewer filters updateviewerfilters restore user defined patterns restoreuserdefinedpatterns i memento imemento memento i memento imemento user defined patterns userdefinedpatterns memento get child getchild tag user defined patterns user defined patterns userdefinedpatterns i memento imemento children user defined patterns userdefinedpatterns get children getchildren tag child string patterns string children length children length patterns children get string getstring tag pattern set user defined patterns setuserdefinedpatterns patterns set user defined patterns setuserdefinedpatterns string restore xml defined filters restorexmldefinedfilters i memento imemento memento i memento imemento xml defined filters xmldefinedfilters memento get child getchild tag xml defined filters xml defined filters xmldefinedfilters i memento imemento children xml defined filters xmldefinedfilters get children getchildren tag child children length string children get string getstring tag filter is enabled isenabled value of valueof children get string getstring tag enabled filter item filteritem item f filter items ffilteritems item item enabled is enabled isenabled boolean value booleanvalue restorelrufilters i memento imemento memento i memento imemento lru filters lrufilters memento get child getchild tag lru filters flrufilteridsstack clear lru filters lrufilters i memento imemento children lru filters lrufilters get children getchildren tag child children length string children get string getstring tag filter f filter items ffilteritems contains key containskey flrufilteridsstack flrufilteridsstack push dialog code open dialog opendialog custom filters dialog customfiltersdialog dialog custom filters dialog customfiltersdialog f viewer fviewer get control getcontrol get shell getshell f target id ftargetid are user defined patterns enabled areuserdefinedpatternsenabled f user defined patterns fuserdefinedpatterns internal get enabled filter ids internalgetenabledfilterids dialog open window set enabled filter ids setenabledfilterids dialog get enabled filter ids getenabledfilterids set user defined patterns enabled setuserdefinedpatternsenabled dialog are user defined patterns enabled areuserdefinedpatternsenabled set user defined patterns setuserdefinedpatterns dialog get user defined patterns getuserdefinedpatterns set recently changed filters setrecentlychangedfilters dialog get filter descriptor change history getfilterdescriptorchangehistory store view defaults storeviewdefaults update viewer filters updateviewerfilters
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt text tests performance java io exception ioexception java lang reflect constructor java net inet address inetaddress java util array list arraylist java util hash map hashmap java util iterator java util list java util map sun jdi class type classtype sun jdi method sun jdi object reference objectreference sun jdi vm disconnected exception vmdisconnectedexception sun jdi virtual machine virtualmachine sun jdi virtual machine manager virtualmachinemanager sun jdi connect attaching connector attachingconnector sun jdi connect connector sun jdi connect illegal connector arguments exception illegalconnectorargumentsexception sun jdi event breakpoint event breakpointevent sun jdi event event sun jdi event event iterator eventiterator sun jdi event event queue eventqueue sun jdi event event set eventset sun jdi event vm death event vmdeathevent sun jdi request breakpoint request breakpointrequest sun jdi request event request eventrequest org junit org eclipse jdi bootstrap org eclipse test internal performance internal dimensions internaldimensions org eclipse test internal performance internal performance meter internalperformancemeter org eclipse test internal performance performance test plugin performancetestplugin org eclipse test internal performance data data point datapoint org eclipse test internal performance data dim org eclipse test internal performance data sample org eclipse test internal performance data scalar performance meter add arguments code xdebug xnoagent xrunjdwp transport socket add ress address suspend server decl ipse declipse perf debug port debugport code port work performance meter debug ging debugging facility debug ged debugged link org eclipse test performance performance get null performance meter getnullperformancemeter debug ging debugging clients invocation count performance meter invocationcountperformancemeter internal performance meter internalperformancemeter event reader cont inuously continuously reads handles events coming event reader eventreader runnable event queue event queue eventqueue f event queue feventqueue background thread thread f thread fthread code code reader f is stopping fisstopping creates event reader read event queue param queue event queue event reader eventreader event queue eventqueue queue f event queue feventqueue queue start thread reads events start f thread fthread thread f thread fthread set daemon setdaemon f thread fthread f thread fthread start f thread fthread wait interrupted exception interruptedexception print stack trace printstacktrace tells reader loop f is stopping fisstopping f thread fthread f thread fthread int errupt interrupt f thread fthread join f thread fthread interrupted exception interruptedexception print stack trace printstacktrace continuously reads handles events coming event queue override f thread fthread enable breakpoints enablebreakpoints f thread fthread notify all notifyall f is stopping fisstopping event set eventset event set eventset f timeout ftimeout event set eventset f event queue feventqueue remove event set eventset f event queue feventqueue remove f timeout ftimeout event set eventset f is stopping fisstopping system println event reader time d timed event iterator eventiterator iterator event set eventset event iterator eventiterator iterator has next hasnext event event iterator next event nextevent event breakpoint event breakpointevent handle breakpoint event handlebreakpointevent breakpoint event breakpointevent event event vm death event vmdeathevent f is stopping fisstopping nls system println nls unexpectedly died event set eventset resume interrupted exception interruptedexception f is stopping fisstopping system println event reader loop unexpectedly int errupted interrupted print stack trace printstacktrace vm disconnected exception vmdisconnectedexception system println unexpectedly disconnected print stack trace printstacktrace disable breakpoints disablebreakpoints fvm resume enables breakpoint request enable breakpoints enablebreakpoints f breakpoint requests fbreakpointrequests length f breakpoint requests fbreakpointrequests enable disables breakpoint request disable breakpoints disablebreakpoints f breakpoint requests fbreakpointrequests length f breakpoint requests fbreakpointrequests disable handles breakpoint event param event breakpoint event handle breakpoint event handlebreakpointevent breakpoint event breakpointevent event f invocation count finvocationcount f verbose fverbose object reference objectreference this object thisobject event thread frame this object thisobject method method event location method string class key classkey method declaring type declaringtype method nls method signature nls nls string instance key instancekey f collect instance results fcollectinstanceresults this object thisobject reference type referencetype this object thisobject uniqueid instances f results fresults update class key classkey instance key instancekey exception print stack trace printstacktrace invocation count result map map object map object integer f results map fresultsmap hash map hashmap updates pair param key key param key key update object key object key map object integer f results map fresultsmap contains key containskey key f results map fresultsmap key contains key containskey key key int value intvalue hash map hashmap f results map fresultsmap key key integer clears clear f results map fresultsmap clear prints print iterator object iter f results map fresultsmap key set keyset iterator iter has next hasnext print iter prints key param key key print object key nls system println key to string tostring map object integer f results map fresultsmap key iterator object iter key set keyset iterator iter has next hasnext object key iter nls nls system println key key int value intvalue system property specifies debug ging debugging port nls string debug port property eclipse perf debug port debugport debug ging debugging port system property int erpreted interpreted int eger integer debug port debug ging debugging port todo f etc h fetch debug port code platform get command line args getcommandlineargs code code org eclipse core runtime adapt or adaptor environment info environmentinfo get default getdefault get command line args getcommandlineargs code includes level arguments port int value of intvalueof system get property getproperty debug port property debug port empty array methods java lang reflect method methods java lang reflect method empty array constructors constructor constructors constructor f results fresults virtual machine virtual machine virtualmachine fvm event reader event reader eventreader f event reader feventreader methods count invocations java lang reflect method f methods fmethods constructors count invocations constructor f constructors fconstructors timestamp f start time fstarttime total number invocations f invocation count finvocationcount breakpoint requests breakpoint request breakpointrequest f breakpoint requests fbreakpointrequests code code iff additional collected printed f verbose fverbose code code iff additional collected instance f collect instance results fcollectinstanceresults timeout event reader aborts event occurred code code infinite f timeout ftimeout initialize performance meter count number invocation methods constructors param scenario id scenarioid scenario param methods methods param constructors constructors invocation count performance meter invocationcountperformancemeter string scenario id scenarioid java lang reflect method methods constructor constructors scenario id scenarioid assert not null assertnotnull create performance meter check command arguments invocation count performance meter invocationcountperformancemeter details system get property getproperty debug port property f methods fmethods methods f constructors fconstructors constructors f start time fstarttime system current time millis currenttimemillis f verbose fverbose performance test plugin performancetestplugin getdblocation system get property getproperty verbose per for mance performance m eter meter property initialize performance meter count number invocation methods param scenario id scenarioid scenario param methods methods invocation count performance meter invocationcountperformancemeter string scenario id scenarioid java lang reflect method methods scenario id scenarioid methods constructors initialize performance meter count number invocation constructors param scenario id scenarioid scenario param constructors constructors invocation count performance meter invocationcountperformancemeter string scenario id scenarioid constructor constructors scenario id scenarioid methods constructors f collect instance results fcollectinstanceresults org eclipse test performance performance meter performancemeter start override start string localhost inet address inetaddress get local host getlocalhost get canonical host name getcanonicalhostname attach localhost port list breakpoint request breakpointrequest requests array list arraylist f methods fmethods length requests add create breakpoint request createbreakpointrequest f methods fmethods f constructors fconstructors length requests add create breakpoint request createbreakpointrequest f constructors fconstructors f breakpoint requests fbreakpointrequests requests to array toarray breakpoint request breakpointrequest requests size f event reader feventreader event reader eventreader fvm event queue eventqueue f event reader feventreader start io exception ioexception print stack trace printstacktrace illegal connector arguments exception illegalconnectorargumentsexception print stack trace printstacktrace assert not null assertnotnull start performance meter hints check command arguments invocation count performance meter invocationcountperformancemeter details port number f event reader feventreader org eclipse test performance performance meter performancemeter override f event reader feventreader f event reader feventreader f event reader feventreader fvm delete breakpoint requests deletebreakpointrequests detach org eclipse test performance performance meter performancemeter commit override commit commit f verbose fverbose nls system println detailed f results fresults print system println nls system println system println org eclipse test performance performance meter performancemeter dispose override dispose dispose fvm f event reader feventreader f results fresults f methods fmethods f constructors fconstructors org eclipse test internal performance internal performance meter internalperformancemeter get sample getsample override sample get sample getsample map dim scalar map hash map hashmap map internal dimensions internaldimensions invocation count scalar internal dimensions internaldimensions invocation count f invocation count finvocationcount data point datapoint data points datapoints data point datapoint data point datapoint map sample get scenario name getscenarioname f start time fstarttime data points datapoints attach string host port io exception ioexception illegal connector arguments exception illegalconnectorargumentsexception virtual machine manager virtualmachinemanager manager bootstrap virtual machine manager virtualmachinemanager list attaching connector attachingconnector connectors manager attaching connectors attachingconnectors attaching connector attachingconnector connector connectors map string connector argument args connector default arguments defaultarguments nls args port set value setvalue string value of valueof port nls args host name hostname set value setvalue host fvm connector attach args detaches detach fvm dispose fvm creates breakpoint request entry method param method method breakpoint request breakpoint request breakpointrequest create breakpoint request createbreakpointrequest java lang reflect method method create breakpoint request createbreakpointrequest get method getmethod method get declaring class getdeclaringclass get name getname method get name getname getjnisignature method creates breakpoint request entry constructor param constructor method breakpoint request breakpoint request breakpointrequest create breakpoint request createbreakpointrequest constructor constructor create breakpoint request createbreakpointrequest get method getmethod constructor get declaring class getdeclaringclass get name getname init getjnisignature constructor creates breakpoint request entry method param method method breakpoint request breakpoint request breakpointrequest create breakpoint request createbreakpointrequest method method breakpoint request breakpointrequest request fvm event request manager eventrequestmanager create breakpoint request createbreakpointrequest method location request set suspend policy setsuspendpolicy event request eventrequest suspend event thread request returns jdi method signature param class name classname fully qualified param method param signature jni style signature jdi method method get method getmethod string class name classname string string signature class type classtype type class type classtype fvm classes by name classesbyname class name classname type concrete method by name concretemethodbyname signature deletes breakpoint requests delete breakpoint requests deletebreakpointrequests fvm event request manager eventrequestmanager delete all breakpoints deleteallbreakpoints vm disconnected exception vmdisconnectedexception system println unexpectedly disconnected print stack trace printstacktrace returns jni style signature method http download oracle java se javase docs jdk api jpda jdi sun jdi doc files signature html param method method jni style signature string getjnisignature java lang reflect method method getjnisignature method get parameter types getparametertypes getjnisignature method get return type getreturntype returns jni style signature constructor http download oracle java se javase docs jdk api jpda jdi sun jdi doc files signature html param constructor constructor jni style signature string getjnisignature constructor constructor getjnisignature constructor get parameter types getparametertypes returns jni style signature parameter types http download oracle java se javase docs jdk api jpda jdi sun jdi doc files signature html param param types paramtypes parameter types jni style signature string getjnisignature param types paramtypes string buffer stringbuffer signature string buffer stringbuffer signature append param types paramtypes length signature append getjnisignature param types paramtypes signature append signature to string tostring returns jni style signature http download oracle java se javase docs jdk api jpda jdi sun jdi doc files signature html param clazz jni style signature string getjnisignature clazz string qualified name qualifiedname get name getname clazz string buffer stringbuffer signature string buffer stringbuffer qualified name qualifiedname index of indexof qualified name qualifiedname index of indexof signature append name end offset nameendoffset qualified name qualifiedname index of indexof name end offset nameendoffset name end offset nameendoffset qualified name qualifiedname length check primitive types string qualified name qualifiedname substring name end offset nameendoffset nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring nls equals signature append signature to string tostring type signature append signature append replace signature append signature to string tostring returns param clazz string get name getname clazz clazz is array isarray nls get name getname clazz get component type getcomponenttype clazz get name getname returns int eger integer string string int erpreted interpreted returned param string value stringvalue string int erpreted interpreted int eger integer param default value defaultvalue int eger integer int eger integer int value of intvalueof string string value stringvalue default value defaultvalue string value stringvalue integer value of valueof string value stringvalue int value intvalue number format exception numberformatexception default value defaultvalue returns timeout event reader aborts event occurred code code infinite debug ging debugging purposes debug ging debugging purposes timeout event reader aborts event occurred code code infinite get timeout gettimeout f timeout ftimeout sets timeout event reader aborts event occurred code code infinite debug ging debugging purposes param timeout timeout event reader aborts event occurred code code infinite set timeout settimeout timeout f timeout ftimeout timeout
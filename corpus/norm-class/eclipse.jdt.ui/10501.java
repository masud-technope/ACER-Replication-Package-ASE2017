copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal text correction java util array list arraylist java util collection java util collections java util comparator java util regex matcher java util regex pattern ibm icu text collator org eclipse swt graphics image org eclipse core runtime core exception coreexception org eclipse core runtime i status istatus org eclipse core resources i file ifile org eclipse jface viewers styled cell label provider styledcelllabelprovider org eclipse jface viewers styled string styledstring org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse jface text document event documentevent org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text region org eclipse jface text text utilities textutilities org eclipse jface text templates global template variables globaltemplatevariables org eclipse jface text templates template org eclipse jface text templates template context templatecontext org eclipse jface text templates template context type templatecontexttype org eclipse file editor input fileeditorinput org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast node astnode org eclipse jdt internal corext template java compilation unit context compilationunitcontext org eclipse jdt internal corext template java compilation unit context type compilationunitcontexttype org eclipse jdt internal corext template java java context type javacontexttype org eclipse jdt internal corext template java java doc context type javadoccontexttype org eclipse jdt internal corext util messages org eclipse jdt javaui org eclipse jdt text i java partitions ijavapartitions org eclipse jdt text java i invocation context iinvocationcontext org eclipse jdt text java i java completion proposal ijavacompletionproposal org eclipse jdt text java i problem location iproblemlocation org eclipse jdt text java i quick assist processor iquickassistprocessor org eclipse jdt internal java plugin javaplugin org eclipse jdt internal java plugin images javapluginimages org eclipse jdt internal javauistatus org eclipse jdt internal text template contentassist surround with template proposal surroundwithtemplateproposal org eclipse jdt internal text template contentassist template proposal templateproposal quick template processor quick template processor quicktemplateprocessor i quick assist processor iquickassistprocessor nls nls pattern selection pattern pattern compile global template variables globaltemplatevariables line selection lineselection nls nls pattern word selection pattern pattern compile global template variables globaltemplatevariables word selection wordselection quick template processor quicktemplateprocessor override has assists hasassists i invocation context iinvocationcontext context core exception coreexception i compilation unit icompilationunit context get compilation unit getcompilationunit i document idocument document get document getdocument offset context get selection offset getselectionoffset length context get selection length getselectionlength length start line startline document get line of offset getlineofoffset offset end line endline document get line of offset getlineofoffset offset length i region iregion region document get line information getlineinformation end line endline start line startline end line endline length offset region get offset getoffset length region get length getlength bad location exception badlocationexception override i java completion proposal ijavacompletionproposal get assists getassists i invocation context iinvocationcontext context i problem location iproblemlocation locations core exception coreexception locations locations length i java completion proposal ijavacompletionproposal offset context get selection offset getselectionoffset length context get selection length getselectionlength length i compilation unit icompilationunit context get compilation unit getcompilationunit i document idocument document get document getdocument string content type contenttype text utilities textutilities get content type getcontenttype document i java partitions ijavapartitions java partitioning offset string context id contextid content type contenttype equals i java partitions ijavapartitions java doc context id contextid java doc context type javadoccontexttype todo compute location member statement context id contextid java context type javacontexttype test selection full spans multiple lines start line startline document get line of offset getlineofoffset offset end line endline document get line of offset getlineofoffset offset length context id contextid equals java context type javacontexttype i region iregion end line region endlineregion document get line information getlineinformation end line endline position start previous end line endline start line startline end line region endlineregion get offset getoffset offset length end line endline end line region endlineregion document get line information getlineinformation end line endline length end line region endlineregion get offset getoffset end line region endlineregion get length getlength offset start line startline end line endline length offset end line region endlineregion get offset getoffset length end line region endlineregion get length getlength assist context assistcontext invocation context invocationcontext assist context assistcontext offset length surround with surroundwith is applicable isapplicable invocation context invocationcontext expand selection offset document get line offset getlineoffset start line startline length end line region endlineregion get offset getoffset end line region endlineregion get length getlength offset array list arraylist i java completion proposal ijavacompletionproposal resulting collections resultingcollections array list arraylist collect surround templates collectsurroundtemplates document offset length resulting collections resultingcollections context id contextid sort resulting collections resultingcollections resulting collections resultingcollections to array toarray i java completion proposal ijavacompletionproposal resulting collections resultingcollections size bad location exception badlocationexception core exception coreexception javauistatus create error createerror i status istatus error sort array list arraylist i java completion proposal ijavacompletionproposal proposals collections sort proposals comparator i java completion proposal ijavacompletionproposal override compare i java completion proposal ijavacompletionproposal i java completion proposal ijavacompletionproposal collator get instance getinstance compare get display string getdisplaystring get display string getdisplaystring i document idocument get document getdocument i compilation unit icompilationunit java model exception javamodelexception i file ifile file i file ifile get resource getresource i document idocument document javaui get document provider getdocumentprovider get document getdocument file editor input fileeditorinput file document test cases document get source getsource document collect surround templates collectsurroundtemplates i document idocument document i compilation unit icompilationunit offset length collection i java completion proposal ijavacompletionproposal result string context id contextid bad location exception badlocationexception core exception coreexception compilation unit context type compilationunitcontexttype context type contexttype compilation unit context type compilationunitcontexttype java plugin javaplugin get default getdefault get template context registry gettemplatecontextregistry get context type getcontexttype context id contextid compilation unit context compilationunitcontext context context type contexttype create context createcontext document offset length nls context set variable setvariable selection document offset length context set force evaluation setforceevaluation start context get start getstart context get end getend i region iregion region region start start assist context assistcontext invocation context invocationcontext assist context assistcontext start start ast node astnode selected nodes selectednodes surround with surroundwith get valid selected nodes getvalidselectednodes invocation context invocationcontext template templates java plugin javaplugin get default getdefault get template store gettemplatestore get templates gettemplates templates length template current template currenttemplate templates can evaluate canevaluate context current template currenttemplate selected nodes selectednodes image image java plugin images javapluginimages java plugin images javapluginimages img correction change template proposal templateproposal proposal surround with template proposal surroundwithtemplateproposal current template currenttemplate context region image selected nodes selectednodes string arg string current template currenttemplate get name getname current template currenttemplate get description getdescription string decorated messages format correction messages correctionmessages quick template processor quicktemplateprocessor surround label arg proposal set display string setdisplaystring styled cell label provider styledcelllabelprovider style decorated string styledecoratedstring decorated styled string styledstring qualifier styler styled string styledstring current template currenttemplate get name getname result add proposal template proposal templateproposal proposal template proposal templateproposal current template currenttemplate context region java plugin images javapluginimages java plugin images javapluginimages img objs template override validate i document idocument doc document event documentevent event string arg string current template currenttemplate get name getname current template currenttemplate get description getdescription string decorated messages format correction messages correctionmessages quick template processor quicktemplateprocessor surround label arg proposal set display string setdisplaystring styled cell label provider styledcelllabelprovider style decorated string styledecoratedstring decorated styled string styledstring qualifier styler styled string styledstring current template currenttemplate get name getname result add proposal can evaluate canevaluate template context templatecontext context template template string context id contextid context get context type getcontexttype get id getid matcher word selection matcher wordselectionmatcher word selection pattern matcher template get pattern getpattern matcher line selection matcher lineselectionmatcher selection pattern matcher template get pattern getpattern java doc context type javadoccontexttype equals context id contextid nls template matches context id contextid line selection matcher lineselectionmatcher find word selection matcher wordselectionmatcher find nls template matches java doc context type javadoccontexttype line selection matcher lineselectionmatcher find template context type templatecontexttype context type contexttype java plugin javaplugin get default getdefault get template context registry gettemplatecontextregistry get context type getcontexttype template get context type id getcontexttypeid context type contexttype compilation unit context type compilationunitcontexttype
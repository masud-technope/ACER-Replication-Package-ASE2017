copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests refactoring ccp java i o exception ioexception java util arrays java util hash set hashset java util junit framework test junit framework test suite testsuite org eclipse swt swt error swterror org eclipse swt dnd clipboard org eclipse swt dnd dnd org eclipse swt dnd transfer org eclipse swt widgets display org eclipse core runtime core exception coreexception org eclipse core runtime i adaptable iadaptable org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse jface viewers i structured selection istructuredselection org eclipse i working set iworkingset org eclipse platformui org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i import container iimportcontainer org eclipse jdt core i java element ijavaelement org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt internal corext refactoring type d source typedsource org eclipse jdt tests refactoring refactoring test refactoringtest org eclipse jdt tests refactoring refactoring test setup refactoringtestsetup org eclipse jdt tests refactoring infra mock clipboard mockclipboard org eclipse jdt tests refactoring infra mock workbench site mockworkbenchsite org eclipse jdt internal refactoring reorg copy to clipboard action copytoclipboardaction org eclipse jdt internal refactoring reorg paste action pasteaction org eclipse jdt internal refactoring reorg type d source transfer typedsourcetransfer paste action test pasteactiontest refactoring test refactoringtest bug implemented clipboard f clipboard fclipboard paste action test pasteactiontest clazz paste action test pasteactiontest string refactoring path paste paste action test pasteactiontest string test suite refactoring test setup refactoringtestsetup test suite testsuite clazz override string get refactoring path getrefactoringpath refactoring path override set up setup exception set up setup f clipboard fclipboard mock clipboard mockclipboard display get default getdefault override tear down teardown exception tear down teardown f clipboard fclipboard dispose object merge object array object array object elements hash set hashset array length array length elements add all addall arrays as list aslist array elements add all addall arrays as list aslist array elements to array toarray paste action pasteaction verify enabled verifyenabled i resource iresource copy selected resources copyselectedresources i java element ijavaelement copy selected java elements copyselectedjavaelements i resource iresource paste selected resources pasteselectedresources i java element ijavaelement paste selected java elements pasteselectedjavaelements paste action pasteaction paste action pasteaction paste action pasteaction mock workbench site mockworkbenchsite merge paste selected resources pasteselectedresources paste selected java elements pasteselectedjavaelements f clipboard fclipboard copy to clipboard action copytoclipboardaction copy to clipboard action copytoclipboardaction copy to clipboard action copytoclipboardaction mock workbench site mockworkbenchsite merge copy selected resources copyselectedresources copy selected java elements copyselectedjavaelements f clipboard fclipboard copy to clipboard action copytoclipboardaction set auto repeat on failure setautorepeatonfailure copy to clipboard action copytoclipboardaction update copy to clipboard action copytoclipboardaction get selection getselection assert true asserttrue copy enabled copy to clipboard action copytoclipboardaction is enabled isenabled copy to clipboard action copytoclipboardaction paste action pasteaction update paste action pasteaction get selection getselection assert true asserttrue paste enabled paste action pasteaction is enabled isenabled paste action pasteaction paste action pasteaction verify enabled verifyenabled i resource iresource copy selected resources copyselectedresources i java element ijavaelement copy selected java elements copyselectedjavaelements i working set iworkingset paste selected working set pasteselectedworkingset paste action pasteaction paste action pasteaction paste action pasteaction mock workbench site mockworkbenchsite object paste selected working set pasteselectedworkingset f clipboard fclipboard copy to clipboard action copytoclipboardaction copy to clipboard action copytoclipboardaction copy to clipboard action copytoclipboardaction mock workbench site mockworkbenchsite merge copy selected resources copyselectedresources copy selected java elements copyselectedjavaelements f clipboard fclipboard copy to clipboard action copytoclipboardaction set auto repeat on failure setautorepeatonfailure copy to clipboard action copytoclipboardaction update copy to clipboard action copytoclipboardaction get selection getselection assert true asserttrue copy enabled copy to clipboard action copytoclipboardaction is enabled isenabled copy to clipboard action copytoclipboardaction paste action pasteaction update paste action pasteaction get selection getselection assert true asserttrue paste enabled paste action pasteaction is enabled isenabled paste action pasteaction test enabled testenabled java project javaproject exception i java element ijavaelement java elements javaelements refactoring test setup refactoringtestsetup get project getproject i resource iresource resources verify enabled verifyenabled resources java elements javaelements i resource iresource i java element ijavaelement test enabled testenabled project exception i java element ijavaelement java elements javaelements i resource iresource resources refactoring test setup refactoringtestsetup get project getproject get project getproject verify enabled verifyenabled resources java elements javaelements i resource iresource i java element ijavaelement test enabled testenabled working set workingset exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable verify enabled verifyenabled i resource iresource i java element ijavaelement refactoring test setup refactoringtestsetup get project getproject platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset compare contents comparecontents string cu name cuname java model exception javamodelexception i o exception ioexception assert equal lines assertequallines cu name cuname get file contents getfilecontents get output test file name getoutputtestfilename cu name cuname get package p getpackagep get compilation unit getcompilationunit cu name cuname java get source getsource test exception bug implemented print test disabled message printtestdisabledmessage implemented i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i compilation unit icompilationunit cu b cub create ufrom test file createcufromtestfile get package p getpackagep i type itype type a typea cu a cua get type gettype i type itype type b typeb cu b cub get type gettype assert true asserttrue exist type a typea exists assert true asserttrue exist type b typeb exists i java element ijavaelement copy java elements copyjavaelements type a typea i resource iresource copy resources copyresources i java element ijavaelement paste java elements pastejavaelements type b typeb i resource iresource paste resources pasteresources paste action pasteaction paste verify enabled verifyenabled copy resources copyresources copy java elements copyjavaelements paste resources pasteresources paste java elements pastejavaelements paste i structured selection istructuredselection paste get selection getselection compare contents comparecontents compare contents comparecontents test exception i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i compilation unit icompilationunit cu b cub create ufrom test file createcufromtestfile get package p getpackagep i field ifield field y fieldy cu a cua get type gettype get field getfield i type itype type b typeb cu b cub get type gettype assert true asserttrue exist field y fieldy exists assert true asserttrue exist type b typeb exists i java element ijavaelement copy java elements copyjavaelements field y fieldy i resource iresource copy resources copyresources i java element ijavaelement paste java elements pastejavaelements type b typeb i resource iresource paste resources pasteresources paste action pasteaction paste verify enabled verifyenabled copy resources copyresources copy java elements copyjavaelements paste resources pasteresources paste java elements pastejavaelements paste i structured selection istructuredselection paste get selection getselection compare contents comparecontents compare contents comparecontents test exception print test disabled message printtestdisabledmessage test bug i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i compilation unit icompilationunit cu b cub create ufrom test file createcufromtestfile get package p getpackagep i java element ijavaelement elem cu a cua get import getimport java lang i import container iimportcontainer import container importcontainer cu b cub get import container getimportcontainer assert true asserttrue exist elem exists assert true asserttrue exist import container importcontainer exists i java element ijavaelement copy java elements copyjavaelements elem i resource iresource copy resources copyresources i java element ijavaelement paste java elements pastejavaelements import container importcontainer i resource iresource paste resources pasteresources paste action pasteaction paste verify enabled verifyenabled copy resources copyresources copy java elements copyjavaelements paste resources pasteresources paste java elements pastejavaelements paste i structured selection istructuredselection paste get selection getselection compare contents comparecontents compare contents comparecontents test exception print test disabled message printtestdisabledmessage test bug i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i java element ijavaelement elem cu a cua get type gettype get method getmethod string i method imethod method cu a cua get type gettype get method getmethod string assert true asserttrue exist elem exists assert true asserttrue exist method exists i java element ijavaelement copy java elements copyjavaelements elem i resource iresource copy resources copyresources i java element ijavaelement paste java elements pastejavaelements method i resource iresource paste resources pasteresources paste action pasteaction paste verify enabled verifyenabled copy resources copyresources copy java elements copyjavaelements paste resources pasteresources paste java elements pastejavaelements paste i structured selection istructuredselection paste get selection getselection compare contents comparecontents test pasting java element into working set testpastingjavaelementintoworkingset exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable i resource iresource resources i java element ijavaelement j elements jelements refactoring test setup refactoringtestsetup get project getproject paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals refactoring test setup refactoringtestsetup get project getproject get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset test pasting resource into working set testpastingresourceintoworkingset exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable i folder ifolder folder refactoring test setup refactoringtestsetup get project getproject get project getproject get folder getfolder folder folder create i resource iresource resources folder i java element ijavaelement j elements jelements paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals folder get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset test pasting java element as resource into working set testpastingjavaelementasresourceintoworkingset exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable i resource iresource resources refactoring test setup refactoringtestsetup get project getproject get project getproject i java element ijavaelement j elements jelements paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals refactoring test setup refactoringtestsetup get project getproject get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset test pasting existing element into working set testpastingexistingelementintoworkingset exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable refactoring test setup refactoringtestsetup get project getproject i resource iresource resources i java element ijavaelement j elements jelements refactoring test setup refactoringtestsetup get project getproject paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals refactoring test setup refactoringtestsetup get project getproject get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset test pasting child java element into working set testpastingchildjavaelementintoworkingset exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable refactoring test setup refactoringtestsetup get project getproject i resource iresource resources i java element ijavaelement j elements jelements get package p getpackagep paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals refactoring test setup refactoringtestsetup get project getproject get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset test pasting child resource into working set testpastingchildresourceintoworkingset exception i folder ifolder folder refactoring test setup refactoringtestsetup get project getproject get project getproject get folder getfolder folder folder create i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable folder i folder ifolder folder get folder getfolder create i resource iresource resources i java element ijavaelement j elements jelements paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals folder get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset test pasting child resource into working set containing parent testpastingchildresourceintoworkingsetcontainingparent exception i working set iworkingset platformui get workbench getworkbench get working set manager getworkingsetmanager create working set createworkingset test i adaptable iadaptable refactoring test setup refactoringtestsetup get project getproject i folder ifolder folder refactoring test setup refactoringtestsetup get project getproject get project getproject get folder getfolder folder folder create i resource iresource resources folder i java element ijavaelement j elements jelements paste action pasteaction paste verify enabled verifyenabled resources j elements jelements paste i structured selection istructuredselection paste get selection getselection assert equals assertequals element get elements getelements length assert equals assertequals refactoring test setup refactoringtestsetup get project getproject get elements getelements platformui get workbench getworkbench get working set manager getworkingsetmanager remove working set removeworkingset set clipboard contents setclipboardcontents type d source typedsource type d sources typedsources repeat max repeat maxrepeat f clipboard fclipboard set contents setcontents object type d sources typedsources transfer type d source transfer typedsourcetransfer get instance getinstance swt error swterror code dnd error clipboard repeat max repeat maxrepeat set clipboard contents setclipboardcontents type d sources typedsources repeat copy and paste type d sources copyandpastetypedsources i java element ijavaelement elems for clipboard elemsforclipboard i java element ijavaelement paste selected java elements pasteselectedjavaelements paste enabled pasteenabled core exception coreexception set clipboard contents setclipboardcontents type d source typedsource create type d sources createtypedsources elems for clipboard elemsforclipboard paste action pasteaction paste action pasteaction paste action pasteaction mock workbench site mockworkbenchsite paste selected java elements pasteselectedjavaelements f clipboard fclipboard paste action pasteaction update paste action pasteaction get selection getselection assert equals assertequals action enablement paste enabled pasteenabled paste action pasteaction is enabled isenabled paste enabled pasteenabled paste action pasteaction i structured selection istructuredselection paste action pasteaction get selection getselection test pasting type d resources testpastingtypedresources exception i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i java element ijavaelement method m methodm cu a cua get type gettype get method getmethod string i java element ijavaelement elems for clipboard elemsforclipboard method m methodm i java element ijavaelement paste selected java elements pasteselectedjavaelements method m methodm enabled copy and paste type d sources copyandpastetypedsources elems for clipboard elemsforclipboard paste selected java elements pasteselectedjavaelements enabled compare contents comparecontents test pasting type d resources testpastingtypedresources exception i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i type itype type a typea cu a cua get type gettype i java element ijavaelement field f fieldf type a typea get field getfield i java element ijavaelement elems for clipboard elemsforclipboard field f fieldf i java element ijavaelement paste selected java elements pasteselectedjavaelements type a typea enabled copy and paste type d sources copyandpastetypedsources elems for clipboard elemsforclipboard paste selected java elements pasteselectedjavaelements enabled compare contents comparecontents test pasting type d resources testpastingtypedresources exception i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i type itype type a typea cu a cua get type gettype i java element ijavaelement field f fieldf type a typea get field getfield i java element ijavaelement elems for clipboard elemsforclipboard field f fieldf i java element ijavaelement paste selected java elements pasteselectedjavaelements type a typea enabled copy and paste type d sources copyandpastetypedsources elems for clipboard elemsforclipboard paste selected java elements pasteselectedjavaelements enabled compare contents comparecontents test pasting type d resources testpastingtypedresources exception i compilation unit icompilationunit cu a cua create ufrom test file createcufromtestfile get package p getpackagep i type itype type a typea cu a cua get type gettype i java element ijavaelement field f fieldf type a typea get field getfield i java element ijavaelement field g fieldg type a typea get field getfield i java element ijavaelement elems for clipboard elemsforclipboard field f fieldf field g fieldg i java element ijavaelement paste selected java elements pasteselectedjavaelements type a typea enabled copy and paste type d sources copyandpastetypedsources elems for clipboard elemsforclipboard paste selected java elements pasteselectedjavaelements enabled compare contents comparecontents
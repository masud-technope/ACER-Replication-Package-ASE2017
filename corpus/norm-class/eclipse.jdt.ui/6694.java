copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt tests core source java lang reflect modifier junit framework test junit framework test suite testsuite org junit org eclipse jdt test plugin testplugin java project helper javaprojecthelper org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i type itype org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt internal corext code manipulation codemanipulation add custom constructor operation addcustomconstructoroperation org eclipse jdt internal corext dom ast nodes astnodes org eclipse jdt internal corext dom bindings org eclipse jdt internal corext refactoring structure ast node search util astnodesearchutil org eclipse jdt internal corext refactoring util refactoringastparser org eclipse jdt internal corext util java model util javamodelutil org eclipse jdt tests core project test setup projecttestsetup org eclipse jdt internal java editor javaeditor ast provider astprovider tests generation constructors fields org eclipse jdt internal corext code manipulation codemanipulation add custom constructor operation addcustomconstructoroperation generate constructor using fields test generateconstructorusingfieldstest source test case sourcetestcase generate constructor using fields test generateconstructorusingfieldstest generate constructor using fields test generateconstructorusingfieldstest generate constructor using fields test generateconstructorusingfieldstest string test suite set up test setuptest test suite testsuite test set up test setuptest test test project test setup projecttestsetup test run operation runoperation i type itype type i field ifield fields i method imethod super constructor superconstructor i java element ijavaelement insert before insertbefore create comments createcomments omit super omitsuper visibility core exception coreexception refactoringastparser parser refactoringastparser ast provider astprovider shared ast level compilation unit compilationunit unit parser parse type get compilation unit getcompilationunit i type binding itypebinding type binding typebinding ast nodes astnodes get type binding gettypebinding unit type i variable binding ivariablebinding bindings i variable binding ivariablebinding fields length fields length assert true asserttrue fields exists variable declaration fragment variabledeclarationfragment frag ast node search util astnodesearchutil get field declaration fragment node getfielddeclarationfragmentnode fields unit bindings frag resolve binding resolvebinding i method binding imethodbinding constructor to invoke constructortoinvoke super constructor superconstructor compilation unit compilationunit m unit munit parser parse super constructor superconstructor get compilation unit getcompilationunit method declaration methoddeclaration mdl ast node search util astnodesearchutil get method declaration node getmethoddeclarationnode super constructor superconstructor m unit munit constructor to invoke constructortoinvoke mdl resolve binding resolvebinding constructor to invoke constructortoinvoke get object constructor getobjectconstructor unit f settings fsettings create comments createcomments create comments createcomments add custom constructor operation addcustomconstructoroperation add custom constructor operation addcustomconstructoroperation unit type binding typebinding bindings constructor to invoke constructortoinvoke insert before insertbefore f settings fsettings set omit super setomitsuper omit super omitsuper set visibility setvisibility visibility null progress monitor nullprogressmonitor java model util javamodelutil reconcile type get compilation unit getcompilationunit run operation runoperation i type itype type i field ifield fields i method imethod super constructor superconstructor core exception coreexception run operation runoperation type fields super constructor superconstructor modifier i method binding imethodbinding get object constructor getobjectconstructor compilation unit compilationunit compilation unit compilationunit nls i type binding itypebinding binding compilation unit compilationunit getast resolve well known type resolvewellknowntype java lang object nls bindings find method in type findmethodintype binding object i type binding itypebinding run it runit string top level type name topleveltypename string field names fieldnames i method imethod super constructor superconstructor string source string destination exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit top level type name topleveltypename java source i type itype type get type gettype top level type name topleveltypename i field ifield fields i field ifield field names fieldnames length field names fieldnames length fields type get field getfield field names fieldnames run operation runoperation type fields super constructor superconstructor compare source comparesource destination get source getsource run it runit string top level type name topleveltypename string field names fieldnames string source string destination exception run it runit top level type name topleveltypename field names fieldnames source destination actual tests tests simple constructor generation field exception test exception run it runit string field string field string field param field string field field field tests adding fields ident ically identically named classes packages exception test exception print test disabled message printtestdisabledmessage bug issue i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java i package fragment ipackagefragment package q packageq f root froot create package fragment createpackagefragment package q packageq create compilation unit createcompilationunit java i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java field field i field ifield get type gettype get field getfield field i field ifield get type gettype get field getfield field run operation runoperation get type gettype i field ifield compare source comparesource field field param field param field field field todo auto generated constructor stub field field field field get source getsource ensure field ordering stays constant exception test exception run it runit string first field firstfield second field secondfield before hand third field beforehandthirdfield java util list string first field firstfield list second field secondfield before hand third field beforehandthirdfield java util list string first field firstfield list second field secondfield before hand third field beforehandthirdfield param first field firstfield param second field secondfield param before hand third field beforehandthirdfield string first field firstfield list second field secondfield before hand third field beforehandthirdfield first field firstfield first field firstfield second field secondfield second field secondfield before hand third field beforehandthirdfield before hand third field beforehandthirdfield test insertion methods exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java string field method method i type itype type a typea get type gettype i field ifield first field firstfield type a typea get field getfield field i method imethod method type a typea get method getmethod method string run operation runoperation type a typea i field ifield first field firstfield method modifier compare source comparesource string field method param field string field field field method get source getsource comments exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java string field i type itype type a typea get type gettype i field ifield field type a typea get field getfield field run operation runoperation type a typea i field ifield field modifier compare source comparesource string field string field field field get source getsource modifier exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java string field i type itype type a typea get type gettype i field ifield field type a typea get field getfield field run operation runoperation type a typea i field ifield field modifier compare source comparesource string field string field field field get source getsource omit ting omitting constructor exception test exception i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java string field i type itype type a typea get type gettype i field ifield field type a typea get field getfield field run operation runoperation type a typea i field ifield field modifier compare source comparesource string field string field field field get source getsource type variables types fields exception test exception f package p fpackagep create compilation unit createcompilationunit java i compilation unit icompilationunit f package p fpackagep create compilation unit createcompilationunit java java util map map string field field i type itype type a typea get type gettype i field ifield field type a typea get field getfield field i field ifield field type a typea get field getfield field run operation runoperation type a typea i field ifield field field compare source comparesource java util map map string field field param field param field map string field field field field field field get source getsource e nums enums exception test exception run it runit string field enum field enum field param field field field field uninitialized fields exception test exception run it runit string field field field param field field field field verify jdt code conventions bug exception test exception run it runit string start date startdate end date enddate java util start date startdate end date enddate java util start date startdate end date enddate param start date startdate param end date enddate start date startdate end date enddate start date startdate start date startdate end date enddate end date enddate clas hing clashing fun constructors exception test exception i compilation unit icompilationunit unit f package p fpackagep create compilation unit createcompilationunit super a supera java super a supera super a supera super a supera string string i method imethod super constructor superconstructor unit get type gettype super a supera get method getmethod super a supera string q string qstring q string qstring run it runit string super constructor superconstructor super a supera string string super a supera string string param param param param string string string string types parameters constructor exception test exception i compilation unit icompilationunit unit f package p fpackagep create compilation unit createcompilationunit super a supera java java util map super a supera map string some map somemap super a supera super a supera map string some map somemap some map somemap some map somemap i method imethod super constructor superconstructor unit get type gettype super a supera get method getmethod super a supera string q map qmap q string qstring run it runit string field super constructor superconstructor super a supera string field java util map super a supera string field param some map somemap param field map string some map somemap string field some map somemap field field types exception test exception i compilation unit icompilationunit unit f package p fpackagep create compilation unit createcompilationunit java i type itype inner type innertype unit get type gettype get type gettype i field ifield field inner type innertype get field getfield run operation runoperation inner type innertype i field ifield field compare source comparesource param unit get source getsource test exception i compilation unit icompilationunit unit f package p fpackagep create compilation unit createcompilationunit java foo secondary type i type itype secondary i type itype unit get element a t getelementat i field ifield foo secondary get field getfield foo run operation runoperation secondary i field ifield foo compare source comparesource foo param foo foo foo foo unit get source getsource test insert a t testinsertat exception string buffer stringbuffer buf string buffer stringbuffer buf append buf append buf append buf append buf append buf append buf append buf append buf append foo buf append buf append initializer buf append buf append buf append initializer buf append buf append buf append buf append buf append buf append string original content originalcontent buf to string tostring num members buf string buffer stringbuffer buf append buf append buf append string expected constructor expectedconstructor buf to string tostring insert constructor member num members i compilation unit icompilationunit unit unit f package p fpackagep create compilation unit createcompilationunit java original content originalcontent i type itype type unit find primary type findprimarytype i java element ijavaelement children type get children getchildren i field ifield foo i field ifield children assert equals assertequals num members children length i java element ijavaelement insert before insertbefore num members children run operation runoperation type i field ifield foo insert before insertbefore flags acc public accpublic i java element ijavaelement new children newchildren type get children getchildren assert equals assertequals num members new children newchildren length element expected string source i member imember new children newchildren get source getsource assert equals assertequals expected constructor expectedconstructor source unit java project helper javaprojecthelper delete unit
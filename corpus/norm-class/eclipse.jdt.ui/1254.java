copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation julien ruaux jruaux octo vincent massol vmassol octo org eclipse jdt internal junit model java buffered reader bufferedreader java io exception ioexception java input stream reader inputstreamreader java output stream writer outputstreamwriter java print writer printwriter java pushback reader pushbackreader java unsupported encoding exception unsupportedencodingexception java net server socket serversocket java net socket java net socket exception socketexception org eclipse core runtime i safe runnable isaferunnable org eclipse core runtime safe runner saferunner org eclipse jdt internal junit j unit core plugin junitcoreplugin org eclipse jdt internal junit runner message ids messageids org eclipse jdt internal junit runner remote test runner remotetestrunner client side remote test runner remotetestrunner handles marshaling messages remote test runner client remotetestrunnerclient listener safe runnable listenersaferunnable i safe runnable isaferunnable override handle exception handleexception throwable exception j unit core plugin junitcoreplugin log exception simple machine process requests remote test runner remotetestrunner processing state processingstate processing state processingstate read message readmessage string message default processing state defaultprocessingstate processing state processingstate override processing state processingstate read message readmessage string message message starts with startswith message ids messageids trace start f failed trace ffailedtrace set length setlength f trace state ftracestate message starts with startswith message ids messageids expected start f expected result fexpectedresult set length setlength f expected state fexpectedstate message starts with startswith message ids messageids actual start f actual result factualresult set length setlength f actual state factualstate message starts with startswith message ids messageids rtrace start f failed rerun trace ffailedreruntrace set length setlength f rerun state frerunstate string arg message substring message ids messageids msg header length message starts with startswith message ids messageids test start version format count version format count version count arg index of indexof nls f version fversion count integer parse int parseint arg f version fversion arg substring string arg substring count integer parse int parseint notify test run started notifytestrunstarted count message starts with startswith message ids messageids test start notify test started notifyteststarted arg message starts with startswith message ids messageids test notify test ended notifytestended arg message starts with startswith message ids messageids test error extract failure extractfailure arg i test run listener itestrunlistener status error message starts with startswith message ids messageids test failed extract failure extractfailure arg i test run listener itestrunlistener status failure message starts with startswith message ids messageids test elapsed time elapsedtime parse long parselong arg test run ended testrunended elapsed time elapsedtime message starts with startswith message ids messageids test stopped elapsed time elapsedtime parse long parselong arg notify test run stopped notifytestrunstopped elapsed time elapsedtime shut down shutdown message starts with startswith message ids messageids test tree notify test tree entry notifytesttreeentry arg message starts with startswith message ids messageids test reran has test id hastestid scan reran message scanreranmessage arg scan old reran message scanoldreranmessage arg base messages appended internal string buffer message read appending processing state appendingprocessingstate processing state processingstate string buffer stringbuffer f buffer fbuffer string f end string fendstring appending processing state appendingprocessingstate string buffer stringbuffer buffer string end string endstring f buffer fbuffer buffer f end string fendstring end string endstring override processing state processingstate read message readmessage string message message starts with startswith f end string fendstring entire string read entirestringread f default state fdefaultstate f buffer fbuffer append message f last line delimiter flastlinedelimiter f buffer fbuffer append f last line delimiter flastlinedelimiter subclasses override special message read entire string read entirestringread trace processing state traceprocessingstate appending processing state appendingprocessingstate trace processing state traceprocessingstate f failed trace ffailedtrace message ids messageids trace override entire string read entirestringread notify test failed notifytestfailed f expected result fexpectedresult set length setlength f actual result factualresult set length setlength override processing state processingstate read message readmessage string message message starts with startswith message ids messageids trace notify test failed notifytestfailed f failed trace ffailedtrace set length setlength f actual result factualresult set length setlength f expected result fexpectedresult set length setlength f default state fdefaultstate f failed trace ffailedtrace append message f last line delimiter flastlinedelimiter f failed trace ffailedtrace append f last line delimiter flastlinedelimiter failed trace reported remote test runner remotetestrunner string buffer stringbuffer f failed trace ffailedtrace string buffer stringbuffer expected test result string buffer stringbuffer f expected result fexpectedresult string buffer stringbuffer actual test result string buffer stringbuffer f actual result factualresult string buffer stringbuffer failed trace reran test string buffer stringbuffer f failed rerun trace ffailedreruntrace string buffer stringbuffer processing state processingstate f default state fdefaultstate default processing state defaultprocessingstate processing state processingstate f trace state ftracestate trace processing state traceprocessingstate processing state processingstate f expected state fexpectedstate appending processing state appendingprocessingstate f expected result fexpectedresult message ids messageids expected processing state processingstate f actual state factualstate appending processing state appendingprocessingstate f actual result factualresult message ids messageids actual processing state processingstate f rerun state frerunstate appending processing state appendingprocessingstate f failed rerun trace ffailedreruntrace message ids messageids rtrace processing state processingstate f current state fcurrentstate f default state fdefaultstate array listeners info rmed informed test events i test run listener itestrunlistener f listeners flisteners server socket server socket serversocket f server socket fserversocket socket f socket fsocket f port fport print writer printwriter f writer fwriter pushback reader pushbackreader f pushback reader fpushbackreader string f last line delimiter flastlinedelimiter protocol version string f version fversion failed test reported remote test runner remotetestrunner string f failed test ffailedtest failed test string f failed test id ffailedtestid kind failure test reported failed f failure kind ffailurekind f debug fdebug reads message stream remote test runner remotetestrunner server connection serverconnection thread f server port fserverport server connection serverconnection port nls server connection serverconnection f server port fserverport port override f debug fdebug system println nls creating server socket nls f server port fserverport f server socket fserversocket server socket serversocket f server port fserverport f socket fsocket f server socket fserversocket accept f pushback reader fpushbackreader nls pushback reader pushbackreader nls buffered reader bufferedreader input stream reader inputstreamreader f socket fsocket get input stream getinputstream utf unsupported encoding exception unsupportedencodingexception f pushback reader fpushbackreader pushback reader pushbackreader buffered reader bufferedreader input stream reader inputstreamreader f socket fsocket get input stream getinputstream f writer fwriter nls print writer printwriter nls output stream writer outputstreamwriter f socket fsocket get output stream getoutputstream utf nls unsupported encoding exception unsupportedencodingexception f writer fwriter print writer printwriter output stream writer outputstreamwriter f socket fsocket get output stream getoutputstream string message f pushback reader fpushbackreader message read message readmessage f pushback reader fpushbackreader receive message receivemessage message socket exception socketexception notify test run terminated notifytestrunterminated io exception ioexception j unit core plugin junitcoreplugin log shut down shutdown start list ening listening test start server connection remote test runner remotetestrunner connect param listeners listeners info rm inform param port port server socket opened start list ening startlistening i test run listener itestrunlistener listeners port f listeners flisteners listeners f port fport port server connection serverconnection connection server connection serverconnection port connection start requests remote test stop test stoptest is running isrunning f writer fwriter println message ids messageids test f writer fwriter flush stop waiting stopwaiting f server socket fserversocket f server socket fserversocket is closed isclosed f socket fsocket socket exception socketexception threads wait server socket serversocket accept shut down shutdown shut down shutdown f debug fdebug nls system println shutdown f port fport f writer fwriter f writer fwriter close f writer fwriter f pushback reader fpushbackreader f pushback reader fpushbackreader close f pushback reader fpushbackreader io exception ioexception f socket fsocket f socket fsocket close f socket fsocket io exception ioexception f server socket fserversocket f server socket fserversocket close f server socket fserversocket io exception ioexception is running isrunning f socket fsocket string read message readmessage pushback reader pushbackreader io exception ioexception string buffer stringbuffer buf string buffer stringbuffer read nls f last line delimiter flastlinedelimiter nls buf to string tostring read nls f last line delimiter flastlinedelimiter nls unread nls f last line delimiter flastlinedelimiter nls buf to string tostring buf append f last line delimiter flastlinedelimiter buf length buf to string tostring receive message receivemessage string message f current state fcurrentstate f current state fcurrentstate read message readmessage message scan old reran message scanoldreranmessage string arg format format class name classname test name testname status status failure error nls arg index of indexof nls arg index of indexof string class name classname arg substring string test name testname arg substring string status arg substring string test id testid class name classname test name testname notify test reran notifytestreran test id testid class name classname test name testname status scan reran message scanreranmessage string arg format test id testid class name classname test name testname status status failure error arg index of indexof arg index of indexof special treatment test name testname spaces arg ends with endswith remote test runner remotetestrunner reran error arg length remote test runner remotetestrunner reran error length arg ends with endswith remote test runner remotetestrunner reran failure arg length remote test runner remotetestrunner reran failure length arg ends with endswith remote test runner remotetestrunner reran arg length remote test runner remotetestrunner reran length arg index of indexof string test id testid arg substring string class name classname arg substring string test name testname arg substring string status arg substring notify test reran notifytestreran test id testid class name classname test name testname status notify test reran notifytestreran string test id testid string class name classname string test name testname string status status code statuscode i test run listener itestrunlistener status nls status equals failure status code statuscode i test run listener itestrunlistener status failure nls status equals error status code statuscode i test run listener itestrunlistener status error nls string trace status code statuscode i test run listener itestrunlistener status trace f failed rerun trace ffailedreruntrace to string tostring assumption rerun trace notify test reran notifytestreran test id testid class name classname test name testname status code statuscode trace extract failure extractfailure string arg status string extract test id extracttestid arg f failed test id ffailedtestid f failed test ffailedtest f failure kind ffailurekind status param arg test array elements test id testid test name testname string extract test id extracttestid string arg string result string has test id hastestid test test result arg result arg result arg index of indexof result arg substring result arg substring arg length result has test id hastestid todo f version fversion nls f version fversion equals notify test reran notifytestreran string test id testid string class name classname string test name testname status code statuscode string trace f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override listener test reran testreran test id testid class name classname test name testname status code statuscode trace nullify empty nullifyempty f expected result fexpectedresult nullify empty nullifyempty f actual result factualresult notify test tree entry notifytesttreeentry string tree entry treeentry f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners has test id hastestid listener test tree entry testtreeentry fake test id faketestid tree entry treeentry listener test tree entry testtreeentry tree entry treeentry string fake test id faketestid string tree entry treeentry extract test add test id testid tree entry treeentry index of indexof string test name testname tree entry treeentry substring trim nls test name testname tree entry treeentry notify test run stopped notifytestrunstopped elapsed time elapsedtime j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override listener test run stopped testrunstopped elapsed time elapsedtime test run ended testrunended elapsed time elapsedtime j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override listener test run ended testrunended elapsed time elapsedtime notify test ended notifytestended string test j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override string extract test id extracttestid test listener test ended testended notify test started notifyteststarted string test j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override string extract test id extracttestid test listener test started teststarted notify test run started notifytestrunstarted count j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override listener test run started testrunstarted count notify test failed notifytestfailed j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override listener test failed testfailed f failure kind ffailurekind f failed test id ffailedtestid f failed test ffailedtest f failed trace ffailedtrace to string tostring nullify empty nullifyempty f expected result fexpectedresult nullify empty nullifyempty f actual result factualresult returns comparison result buffer removes terminating delimiter param buf comparison result result code code empty string nullify empty nullifyempty string buffer stringbuffer buf length buf length length buf char at charat length length buf char at charat length buf substring length buf substring length buf substring length buf to string tostring notify test run terminated notifytestrunterminated remote test runner client remotetestrunnerclient work junit shutdown j unit junit j unit core plugin junitcoreplugin is stopped isstopped f listeners flisteners length i test run listener itestrunlistener listener f listeners flisteners safe runner saferunner listener safe runnable listenersaferunnable override listener test run terminated testrunterminated rerun test reruntest string test id testid string class name classname string test name testname is running isrunning f actual result factualresult set length setlength f expected result fexpectedresult set length setlength nls nls f writer fwriter println message ids messageids test rerun test id testid class name classname test name testname f writer fwriter flush
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal java editor javaeditor java util hash map hashmap java util map java util resource bundle resourcebundle org eclipse swt custom busy indicator busyindicator org eclipse swt widgets display org eclipse swt widgets shell org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers i selection iselection org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text i text operation target itextoperationtarget org eclipse jface text i text selection itextselection org eclipse jface text i type d region itypedregion org eclipse jface text region org eclipse jface text text utilities textutilities org eclipse jface text source i source viewer isourceviewer org eclipse jface text source source viewer configuration sourceviewerconfiguration org eclipse texteditor i text editor itexteditor org eclipse texteditor resource action resourceaction org eclipse texteditor text editor action texteditoraction org eclipse jdt internal java plugin javaplugin action toggles comment prefixes selected lines toggle comment action togglecommentaction text editor action texteditoraction text operation target i text operation target itextoperationtarget f operation target foperationtarget document partitioning string f document partitioning fdocumentpartitioning comment prefixes map string string f prefixes map fprefixesmap creates initial izes initializes action text editor action config ures configures visual representation resource bundle param bundle resource bundle param prefix prefix prepended resource code resource action resourceaction code constructor code code param editor text editor resource action resourceaction resource action resourceaction resource bundle resourcebundle string toggle comment action togglecommentaction resource bundle resourcebundle bundle string prefix i text editor itexteditor editor bundle prefix editor implementation code i action iaction code prototype checks selected lines commented uncomments comments override f operation target foperationtarget f document partitioning fdocumentpartitioning f prefixes map fprefixesmap i text editor itexteditor editor get text editor gettexteditor editor validate editor input state validateeditorinputstate operation code operationcode is selection commented isselectioncommented editor get selection provider getselectionprovider get selection getselection operation code operationcode i text operation target itextoperationtarget strip prefix operation code operationcode i text operation target itextoperationtarget prefix shell shell editor get site getsite get shell getshell f operation target foperationtarget can do operation candooperation operation code operationcode shell message dialog messagedialog open error openerror shell java editor messages javaeditormessages toggle comment togglecomment error title java editor messages javaeditormessages toggle comment togglecomment error message display display shell shell is disposed isdisposed display shell get display getdisplay busy indicator busyindicator show while showwhile display runnable override f operation target foperationtarget do operation dooperation operation code operationcode selection single commented param selection selection check code code iff selected lines commented is selection commented isselectioncommented i selection iselection selection selection i text selection itextselection i text selection itextselection text selection textselection i text selection itextselection selection text selection textselection get start line getstartline text selection textselection get end line getendline i document idocument document get text editor gettexteditor get document provider getdocumentprovider get document getdocument get text editor gettexteditor get editor input geteditorinput i region iregion block get text block from selection gettextblockfromselection text selection textselection document i type d region itypedregion regions text utilities textutilities compute partitioning computepartitioning document f document partitioning fdocumentpartitioning block get offset getoffset block get length getlength start line startline end line endline start line startline end line endline lines regions length regions length start region lines get first complete line of region getfirstcompletelineofregion regions document region length regions get length getlength offset regions get offset getoffset length length offset lines lines document get line of offset getlineofoffset offset perform check regions length string prefixes f prefixes map fprefixesmap regions get type gettype prefixes prefixes length lines lines is block commented isblockcommented lines lines prefixes document bad location exception badlocationexception java plugin javaplugin log creates region describing text block starts completely current selection param selection selection param document document region describing text block comp rising comprising selection i region iregion get text block from selection gettextblockfromselection i text selection itextselection selection i document idocument document i region iregion document get line information of offset getlineinformationofoffset selection get offset getoffset length selection get length getlength get length getlength selection get length getlength selection get offset getoffset get offset getoffset region get offset getoffset length bad location exception badlocationexception java plugin javaplugin log returns start offset text range param region text range characters find param document document start range get first complete line of region getfirstcompletelineofregion i region iregion region i document idocument document start line startline document get line of offset getlineofoffset region get offset getoffset offset document get line offset getlineoffset start line startline offset region get offset getoffset start line startline next line nextline start line startline next line nextline document get number of lines getnumberoflines offset document get line offset getlineoffset next line nextline offset region get offset getoffset region get length getlength next line nextline bad location exception badlocationexception java plugin javaplugin log determines prefixed prefixes param start line startline start document param end line endline document param prefixes comment prefixes param document document code code iff code start line startline code including code end line endline code prepended code prefixes code ignoring whitespace is block commented isblockcommented start line startline end line endline string prefixes i document idocument document check occurrences prefixes lines start line startline end line endline i region iregion document get line information getlineinformation string text document get offset getoffset get length getlength text utilities textutilities index of indexof prefixes text commented string document get offset getoffset trim length commented bad location exception badlocationexception java plugin javaplugin log implementation code i update iupdate code prototype method disco vers discovers operation current editor code i text operation target itextoperationtarget code adapter sets enabled override update update can modify editor canmodifyeditor set enabled setenabled i text editor itexteditor editor get text editor gettexteditor f operation target foperationtarget editor f operation target foperationtarget editor get adapter getadapter i text operation target itextoperationtarget is enabled isenabled f operation target foperationtarget f operation target foperationtarget can do operation candooperation i text operation target itextoperationtarget prefix f operation target foperationtarget can do operation candooperation i text operation target itextoperationtarget strip prefix set enabled setenabled is enabled isenabled text editor action texteditoraction set editor seteditor i text editor itexteditor override set editor seteditor i text editor itexteditor editor set editor seteditor editor f operation target foperationtarget configure i source viewer isourceviewer source viewer sourceviewer source viewer configuration sourceviewerconfiguration configuration f prefixes map fprefixesmap string types configuration get configured content types getconfiguredcontenttypes source viewer sourceviewer map string string prefixes map prefixesmap hash map hashmap types length types length string type types string prefixes configuration get default prefixes getdefaultprefixes source viewer sourceviewer type prefixes prefixes length empty prefixes emptyprefixes prefixes length prefixes length empty prefixes emptyprefixes empty prefixes emptyprefixes string none mpty prefixes nonemptyprefixes string prefixes length empty prefixes emptyprefixes prefixes length string prefix prefixes prefix length none mpty prefixes nonemptyprefixes prefix prefixes none mpty prefixes nonemptyprefixes prefixes map prefixesmap type prefixes f document partitioning fdocumentpartitioning configuration get configured document partitioning getconfigureddocumentpartitioning source viewer sourceviewer f prefixes map fprefixesmap prefixes map prefixesmap
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring util java util arrays java util comparator java util hash map hashmap java util map java util org eclipse ltk core refactoring text change textchange org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core refactoring compilation unit change compilationunitchange code text change manager textchangemanager code manages associations code i compilation unit icompilationunit code code i file ifile code code text change textchange code objects text change manager textchangemanager map i compilation unit icompilationunit text change textchange f map fmap hash map hashmap f keep executed text edits fkeepexecutedtextedits text change manager textchangemanager text change manager textchangemanager keep executed text edits keepexecutedtextedits f keep executed text edits fkeepexecutedtextedits keep executed text edits keepexecutedtextedits adds association compilation unit passed change manager param compilation unit key param change change compilation unit manage i compilation unit icompilationunit text change textchange change f map fmap change returns code text change textchange code compilation unit manager manage association creates param compilation unit text buffer change requested text change compilation unit text change textchange i compilation unit icompilationunit text change textchange result f map fmap result result compilation unit change compilationunitchange get element name getelementname result set keep preview edits setkeeppreviewedits f keep executed text edits fkeepexecutedtextedits f map fmap result result removes text change textchange managed key code unit code param unit key determining text change textchange removed removed text change textchange text change textchange remove i compilation unit icompilationunit unit f map fmap remove unit returns text managed instance text managed instance text change textchange get all changes getallchanges i compilation unit icompilationunit cu set cuset f map fmap key set keyset i compilation unit icompilationunit cus cu set cuset to array toarray i compilation unit icompilationunit cu set cuset size sort arrays sort cus comparator i compilation unit icompilationunit override compare i compilation unit icompilationunit i compilation unit icompilationunit string get element name getelementname string get element name getelementname compare to compareto text change textchange text changes textchanges text change textchange cus length cus length text changes textchanges f map fmap cus text changes textchanges returns compilation units managed instance compilation units managed instance i compilation unit icompilationunit get all compilation units getallcompilationunits f map fmap key set keyset to array toarray i compilation unit icompilationunit f map fmap key set keyset size clears associations resources text clear f map fmap clear returns text managed compilation unit param compilation unit code code text managed compilation unit code code contains changes in containschangesin i compilation unit icompilationunit f map fmap contains key containskey
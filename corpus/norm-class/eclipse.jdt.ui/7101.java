copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext template java java util array list arraylist java util hash map hashmap java util iterator java util list java util map org eclipse core runtime org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits multi text edit multitextedit org eclipse text edits range marker rangemarker org eclipse text edits replace edit replaceedit org eclipse text edits text edit textedit org eclipse jface text bad location exception badlocationexception org eclipse jface text bad position category exception badpositioncategoryexception org eclipse jface text document org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text type d position typedposition org eclipse jface text rules fast partitioner fastpartitioner org eclipse jface text source line range linerange org eclipse jface text templates document template context documenttemplatecontext org eclipse jface text templates template buffer templatebuffer org eclipse jface text templates template context templatecontext org eclipse jface text templates template variable templatevariable org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore org eclipse jdt core formatter code formatter codeformatter org eclipse jdt internal corext util code formatter util codeformatterutil org eclipse jdt text i java partitions ijavapartitions org eclipse jdt internal java editor javaeditor indent util indentutil org eclipse jdt internal text fast java partition scanner fastjavapartitionscanner template editor java formatter format template buffer java formatter javaformatter nls string comment start nls string comment delimiter code formatter string f line delimiter flinedelimiter initial indent level f initial indent level finitialindentlevel java part itioner partitioner f use code formatter fusecodeformatter i java project ijavaproject f project fproject wraps link template buffer templatebuffer tracks variable offsets buffer occur whitespace variables tracked variable tracker variabletracker nls string category template variables document f document fdocument template buffer templatebuffer f buffer fbuffer list type d position typedposition f positions fpositions creates tracker param buffer buffer track malformed tree exception malformedtreeexception bad location exception badlocationexception variable tracker variabletracker template buffer templatebuffer buffer malformed tree exception malformedtreeexception bad location exception badlocationexception is legal islegal buffer f buffer fbuffer buffer f document fdocument document f buffer fbuffer get string getstring install java stuff installjavastuff f document fdocument f document fdocument add position category addpositioncategory category f document fdocument add position updater addpositionupdater exclusive position updater exclusivepositionupdater category f positions fpositions create range markers createrangemarkers f buffer fbuffer get variables getvariables f document fdocument installs java part itioner partitioner code document code param document document install java stuff installjavastuff document document string types string i java partitions ijavapartitions java doc i java partitions ijavapartitions java multi comment i java partitions ijavapartitions java single comment i java partitions ijavapartitions java string i java partitions ijavapartitions java character i document idocument content type fast partitioner fastpartitioner part itioner partitioner fast partitioner fastpartitioner fast java partition scanner fastjavapartitionscanner types part itioner partitioner connect document document set document partitioner setdocumentpartitioner i java partitions ijavapartitions java partitioning part itioner partitioner returns document buffer contents whitespace variables decorated comments buffer document i document idocument get document getdocument check state checkstate f document fdocument check state checkstate f document fdocument illegal state exception illegalstateexception restores decorated regions updates buffer variable offsets buffer malformed tree exception malformedtreeexception bad location exception badlocationexception template buffer templatebuffer update buffer updatebuffer malformed tree exception malformedtreeexception bad location exception badlocationexception check state checkstate template variable templatevariable variables f buffer fbuffer get variables getvariables remove range markers removerangemarkers f positions fpositions f document fdocument variables bad position category exception badpositioncategoryexception is true istrue f buffer fbuffer set content setcontent f document fdocument variables f document fdocument f buffer fbuffer list type d position typedposition create range markers createrangemarkers template variable templatevariable variables i document idocument document malformed tree exception malformedtreeexception bad location exception badlocationexception map replace edit replaceedit string marker to original markertooriginal hash map hashmap multi text edit multitextedit root multi text edit multitextedit document get length getlength list text edit textedit edits array list arraylist has modifications hasmodifications variables length template variable templatevariable variable variables offsets variable get offsets getoffsets string variable get default value getdefaultvalue is whitespace variable iswhitespacevariable replace whitespace positions unformattable comments string placeholder comment start comment offsets length replace edit replaceedit replace replace edit replaceedit offsets length placeholder root add child addchild replace has modifications hasmodifications marker to original markertooriginal replace edits add replace offsets length range marker rangemarker marker range marker rangemarker offsets length root add child addchild marker edits add marker has modifications hasmodifications update document convert replaces markers root apply document text edit textedit update regions list type d position typedposition positions array list arraylist iterator text edit textedit edits iterator has next hasnext text edit textedit edit abuse type d position typedposition piggy original contents position type d position typedposition pos type d position typedposition edit get offset getoffset edit get length getlength marker to original markertooriginal edit document add position addposition category pos positions add pos bad position category exception badpositioncategoryexception is true istrue positions is whitespace variable iswhitespacevariable string length length length character is whitespace iswhitespace char at charat character is whitespace iswhitespace char at charat length remove range markers removerangemarkers list type d position typedposition positions i document idocument document template variable templatevariable variables malformed tree exception malformedtreeexception bad location exception badlocationexception bad position category exception badpositioncategoryexception revert previous iterator type d position typedposition positions iterator has next hasnext type d position typedposition position remove add order conf use confuse exclusive position updater exclusivepositionupdater document remove position removeposition category position string original position get type gettype original document replace position get offset getoffset position get length getlength original position set length setlength original length document add position addposition position iterator type d position typedposition positions iterator variables length template variable templatevariable variable variables offsets variable get offsets getoffsets length offsets length offsets get offset getoffset variable set offsets setoffsets offsets creates java formatter javaformatter target delimiter param line delimiter linedelimiter delimiter param initial indent level initialindentlevel initial indentation level param use code formatter usecodeformatter code code core code formatter param project java project preferences code code workbench settings java formatter javaformatter string line delimiter linedelimiter initial indent level initialindentlevel use code formatter usecodeformatter i java project ijavaproject project f line delimiter flinedelimiter line delimiter linedelimiter f use code formatter fusecodeformatter use code formatter usecodeformatter f initial indent level finitialindentlevel initial indent level initialindentlevel f project fproject project form ats formats template buffer param buffer param context bad location exception badlocationexception format template buffer templatebuffer buffer template context templatecontext context bad location exception badlocationexception variable tracker variabletracker tracker variable tracker variabletracker buffer i document idocument document tracker get document getdocument internal format internalformat document context convert line delimiters convertlinedelimiters document context java doc context javadoccontext is replaced area empty isreplacedareaempty context trim start trimstart document tracker update buffer updatebuffer malformed tree exception malformedtreeexception bad location exception badlocationexception param document param context bad location exception badlocationexception internal format internalformat i document idocument document template context templatecontext context bad location exception badlocationexception f use code formatter fusecodeformatter format fall indenting format document compilation unit context compilationunitcontext context bad location exception badlocationexception malformed tree exception malformedtreeexception context java doc context javadoccontext indent document convert line delimiters convertlinedelimiters i document idocument document bad location exception badlocationexception lines document get number of lines getnumberoflines lines i region iregion region document get line information getlineinformation string line delimiter linedelimiter document get line delimiter getlinedelimiter line delimiter linedelimiter document replace region get offset getoffset region get length getlength line delimiter linedelimiter length f line delimiter flinedelimiter trim start trimstart i document idocument document bad location exception badlocationexception document get length getlength character is whitespace iswhitespace document get char getchar nls document replace is replaced area empty isreplacedareaempty template context templatecontext context surrounding empty lines block context document template context documenttemplatecontext document template context documenttemplatecontext dtc document template context documenttemplatecontext context dtc get start getstart dtc get completion offset getcompletionoffset i document idocument document dtc get document getdocument line offset lineoffset document get line information of offset getlineinformationofoffset dtc get start getstart get offset getoffset line offset lineoffset dtc get start getstart selection whitespace characters document dtc get start getstart dtc get end getend dtc get start getstart trim length bad location exception badlocationexception format i document idocument doc compilation unit context compilationunitcontext context bad location exception badlocationexception map string string options i java project ijavaproject project context get java project getjavaproject project options project get options getoptions options java core javacore get options getoptions string contents doc kinds code formatter codeformatter expression code formatter codeformatter statements code formatter codeformatter unknown text edit textedit edit kinds length edit edit code formatter util codeformatterutil format kinds contents f initial indent level finitialindentlevel f line delimiter flinedelimiter options edit fall indenting bad location exception badlocationexception edit apply doc text edit textedit update regions indent i document idocument document bad location exception badlocationexception malformed tree exception malformedtreeexception offset document get line offset getlineoffset document replace offset code formatter util codeformatterutil create indent string createindentstring f initial indent level finitialindentlevel f project fproject lines line count linecount document get number of lines getnumberoflines indent util indentutil indent lines indentlines document line range linerange line count linecount f project fproject
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal corext refactoring rename java util array list arraylist java util arrays java util hash set hashset java util iterator java util org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime operation canceled exception operationcanceledexception org eclipse core runtime sub progress monitor subprogressmonitor org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits replace edit replaceedit org eclipse ltk core refactoring group category groupcategory org eclipse ltk core refactoring group category set groupcategoryset org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search search match searchmatch org eclipse jdt internal corext refactoring refactoring core messages refactoringcoremessages org eclipse jdt internal corext refactoring search result group searchresultgroup org eclipse jdt internal corext refactoring text change compatibility textchangecompatibility org eclipse jdt internal corext refactoring rename refactoring scanner refactoringscanner text match textmatch org eclipse jdt internal corext refactoring tag ging tagging i text updating itextupdating org eclipse jdt internal corext refactoring util text change manager textchangemanager text match updater textmatchupdater string text edit label refactoring core messages refactoringcoremessages text match updater textmatchupdater update group category set groupcategoryset text ual textual matches group category set groupcategoryset nls group category groupcategory nls org eclipse jdt internal corext text ual matches textualmatches refactoring core messages refactoringcoremessages text match updater textmatchupdater text ual matches textualmatches refactoring core messages refactoringcoremessages text match updater textmatchupdater text ual matches textualmatches description i java search scope ijavasearchscope f scope fscope text change manager textchangemanager f manager fmanager search result group searchresultgroup f references freferences f only qualified fonlyqualified refactoring scanner refactoringscanner f scanner fscanner string f new name fnewname f current name length fcurrentnamelength text match updater textmatchupdater text change manager textchangemanager manager i java search scope ijavasearchscope scope string current name currentname string current qualifier currentqualifier string new name newname search result group searchresultgroup references only qualified onlyqualified is not null isnotnull manager is not null isnotnull scope is not null isnotnull references f manager fmanager manager f scope fscope scope f references freferences references f only qualified fonlyqualified only qualified onlyqualified f new name fnewname new name newname f current name length fcurrentnamelength current name currentname length f scanner fscanner refactoring scanner refactoringscanner current name currentname current qualifier currentqualifier perform i progress monitor iprogressmonitor i java search scope ijavasearchscope scope string current name currentname string current qualifier currentqualifier string new name newname text change manager textchangemanager manager search result group searchresultgroup references only qualified onlyqualified java model exception javamodelexception text match updater textmatchupdater manager scope current name currentname current qualifier currentqualifier new name newname references only qualified onlyqualified update text matches updatetextmatches perform i progress monitor iprogressmonitor i java search scope ijavasearchscope scope i text updating itextupdating processor text change manager textchangemanager manager search result group searchresultgroup references java model exception javamodelexception text match updater textmatchupdater manager scope processor get current element name getcurrentelementname processor get current element qualifier getcurrentelementqualifier processor get new element name getnewelementname references update text matches updatetextmatches update text matches updatetextmatches i progress monitor iprogressmonitor java model exception javamodelexception i project iproject projects in scope projectsinscope get projects in scope getprojectsinscope nls begin task begintask projects in scope projectsinscope length projects in scope projectsinscope length is canceled iscanceled operation canceled exception operationcanceledexception add text matches addtextmatches projects in scope projectsinscope sub progress monitor subprogressmonitor i project iproject get projects in scope getprojectsinscope i path ipath enclosing projects enclosingprojects f scope fscope enclosing projects and jars enclosingprojectsandjars i path ipath enclosing project set enclosingprojectset hash set hashset enclosing project set enclosingprojectset add all addall arrays as list aslist enclosing projects enclosingprojects array list arraylist i project iproject projects in scope projectsinscope array list arraylist i project iproject projects resources plugin resourcesplugin get workspace getworkspace get root getroot get projects getprojects projects length enclosing project set enclosingprojectset projects get full path getfullpath projects in scope projectsinscope add projects projects in scope projectsinscope to array toarray i project iproject projects in scope projectsinscope size add text matches addtextmatches i resource iresource resource i progress monitor iprogressmonitor java model exception javamodelexception string task refactoring core messages refactoringcoremessages text match updater textmatchupdater searching resource get full path getfullpath resource i file ifile i java element ijavaelement element java core javacore create resource don start task f lickering flickering label updates element i compilation unit icompilationunit element exists f scope fscope encloses element add cu text matches addcutextmatches i compilation unit icompilationunit element resource i container icontainer i resource iresource members i container icontainer resource members begin task begintask task members length sub task subtask task members length is canceled iscanceled operation canceled exception operationcanceledexception add text matches addtextmatches members sub progress monitor subprogressmonitor java model exception javamodelexception core exception coreexception java model exception javamodelexception add cu text matches addcutextmatches i compilation unit icompilationunit java model exception javamodelexception f scanner fscanner scan text match textmatch text match textmatch matches f scanner fscanner get matches getmatches matches size remove references removereferences matches matches size add text updates addtextupdates matches remove references removereferences i compilation unit icompilationunit text match textmatch matches f references freferences length search result group searchresultgroup group f references freferences equals group get compilation unit getcompilationunit remove references removereferences matches group remove references removereferences text match textmatch matches search result group searchresultgroup group search match searchmatch search results searchresults group get search results getsearchresults search results searchresults length start search results searchresults get start getstart doesn work pack referenced type referencedtype unqualified start unqualifiedstart search results searchresults get offset getoffset search results searchresults get length getlength f current name length fcurrentnamelength iterator text match textmatch iter matches iterator iter has next hasnext text match textmatch element iter element get start position getstartposition unqualified start unqualifiedstart iter remove add text updates addtextupdates i compilation unit icompilationunit text match textmatch matches iterator text match textmatch result iter resultiter matches iterator result iter resultiter has next hasnext text match textmatch match result iter resultiter match is qualified isqualified f only qualified fonlyqualified match start matchstart match get start position getstartposition replace edit replaceedit edit replace edit replaceedit match start matchstart f current name length fcurrentnamelength f new name fnewname text change compatibility textchangecompatibility add text edit addtextedit f manager fmanager text edit label edit text ual textual matches malformed tree exception malformedtreeexception
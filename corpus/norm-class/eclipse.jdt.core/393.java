copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ibm corporation kenneth olson contribution bug jsr jsr extend ecj dennis hendriks contribution bug jsr jsr extend ecj org eclipse jdt internal compiler tool java buffered output stream bufferedoutputstream java file java i o exception ioexception java output stream outputstream java print writer printwriter java nio charset charset java util array list arraylist java util hash map hashmap java util iterator java util locale java util map javax annotation processing processor javax tools diagnostic javax tools diagnostic listener diagnosticlistener javax tools java file manager javafilemanager javax tools java file object javafileobject javax tools standard java file manager standardjavafilemanager javax tools standard location standardlocation org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core compiler char operation charoperation org eclipse jdt core compiler compilation progress compilationprogress org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler i error handling policy ierrorhandlingpolicy org eclipse jdt internal compiler i problem factory iproblemfactory org eclipse jdt internal compiler batch classpath jsr classpathjsr org eclipse jdt internal compiler batch compilation unit compilationunit org eclipse jdt internal compiler batch file system filesystem org eclipse jdt internal compiler batch file system filesystem classpath org eclipse jdt internal compiler batch main org eclipse jdt internal compiler problem abort compilation unit abortcompilationunit org eclipse jdt internal compiler problem default problem defaultproblem org eclipse jdt internal compiler problem default problem factory defaultproblemfactory org eclipse jdt internal compiler problem problem severities problemseverities org eclipse jdt internal compiler util messages org eclipse jdt internal compiler util suffix constants suffixconstants eclipse compiler impl eclipsecompilerimpl main compilation unit compilationunit units compilation unit compilationunit hash map hashmap compilation unit compilationunit java file object javafileobject java file object map javafileobjectmap iterable java file object javafileobject compilation units compilationunits java file manager javafilemanager file manager filemanager processor processors diagnostic listener diagnosticlistener java file object javafileobject diagnostic listener diagnosticlistener eclipse compiler impl eclipsecompilerimpl print writer printwriter print writer printwriter err system exit when finished systemexitwhenfinished err system exit when finished systemexitwhenfinished options progress call proceed global problems count globalproblemscount global errors count globalerrorscount global warnings count globalwarningscount global tasks count globaltaskscount exported class files counter exportedclassfilescounter request compilation perform compilation performcompilation illegal argument exception illegalargumentexception logger log exception logexception system exit when finished systemexitwhenfinished cleanup system exit runtime exception runtimeexception internal compiler failure logger log exception logexception cleanup global errors count globalerrorscount cleanup logger flush logger close processors file manager filemanager file manager filemanager flush i o exception ioexception override compilation unit compilationunit get compilation units getcompilationunits compilation units compilationunits eclipse compiler impl eclipsecompilerimpl units array list arraylist compilation unit compilationunit units array list arraylist java file object javafileobject java file object javafileobject compilation units compilationunits java file object javafileobject get kind getkind java file object javafileobject kind source illegal argument exception illegalargumentexception string java file object javafileobject get name getname replace compilation unit compilationunit compilation unit compilationunit compilation unit compilationunit override get contents getcontents java file object javafileobject get char content getcharcontent to string tostring to char array tochararray i o exception ioexception print stack trace printstacktrace abort compilation unit abortcompilationunit units add compilation unit compilationunit java file object map javafileobjectmap compilation unit compilationunit java file object javafileobject compilation unit compilationunit result compilation unit compilationunit units size units to array toarray result result override i error handling policy ierrorhandlingpolicy get handling policy gethandlingpolicy i error handling policy ierrorhandlingpolicy override proceed on errors proceedonerrors override stop on first error stoponfirsterror override ignore all errors ignoreallerrors override i problem factory iproblemfactory get problem factory getproblemfactory default problem factory defaultproblemfactory override categorized problem categorizedproblem create problem createproblem originating file name originatingfilename problem id problemid string problem arguments problemarguments string message arguments messagearguments severity start position startposition end position endposition line number linenumber column number columnnumber diagnostic listener diagnosticlistener java file object javafileobject diag listener diaglistener eclipse compiler impl eclipsecompilerimpl diagnostic listener diagnosticlistener diag listener diaglistener diag listener diaglistener report diagnostic java file object javafileobject override string get code getcode integer to string tostring problem id problemid override get column number getcolumnnumber column number columnnumber override get end position getendposition end position endposition override kind get kind getkind severity problem severities problemseverities error diagnostic kind error severity problem severities problemseverities optional diagnostic kind warning severity problem severities problemseverities warning diagnostic kind mandatory warning diagnostic kind override get line number getlinenumber line number linenumber override string get message getmessage locale locale locale set locale setlocale locale get local ized message getlocalizedmessage problem id problemid problem arguments problemarguments override get position getposition start position startposition override java file object javafileobject get source getsource file file string originating file name originatingfilename exists eclipse file object eclipsefileobject touri java file object javafileobject kind source override get start position getstartposition start position startposition create problem createproblem originating file name originatingfilename problem id problemid problem arguments problemarguments message arguments messagearguments severity start position startposition end position endposition line number linenumber column number columnnumber override categorized problem categorizedproblem create problem createproblem originating file name originatingfilename problem id problemid string problem arguments problemarguments elaborationid string message arguments messagearguments severity start position startposition end position endposition line number linenumber column number columnnumber diagnostic listener diagnosticlistener java file object javafileobject diag listener diaglistener eclipse compiler impl eclipsecompilerimpl diagnostic listener diagnosticlistener diag listener diaglistener diag listener diaglistener report diagnostic java file object javafileobject override string get code getcode integer to string tostring problem id problemid override get column number getcolumnnumber column number columnnumber override get end position getendposition end position endposition override kind get kind getkind severity problem severities problemseverities error diagnostic kind error severity problem severities problemseverities info diagnostic kind note severity problem severities problemseverities optional diagnostic kind warning severity problem severities problemseverities warning diagnostic kind mandatory warning diagnostic kind override get line number getlinenumber line number linenumber override string get message getmessage locale locale locale set locale setlocale locale get local ized message getlocalizedmessage problem id problemid problem arguments problemarguments override get position getposition start position startposition override java file object javafileobject get source getsource file file string originating file name originatingfilename exists eclipse file object eclipsefileobject touri java file object javafileobject kind source override get start position getstartposition start position startposition create problem createproblem originating file name originatingfilename problem id problemid problem arguments problemarguments elaborationid message arguments messagearguments severity start position startposition end position endposition line number linenumber column number columnnumber override initialize print writer printwriter out writer outwriter print writer printwriter err writer errwriter system exit systemexit map string string custom default options customdefaultoptions compilation progress compilationprogress compilation progress compilationprogress initialize out writer outwriter err writer errwriter system exit systemexit custom default options customdefaultoptions compilation progress compilationprogress java file object map javafileobjectmap hash map hashmap override initialize annotation processor manager initializeannotationprocessormanager initialize annotation processor manager initializeannotationprocessormanager batch compiler batchcompiler annotation processor manager annotationprocessormanager processors batch compiler batchcompiler annotation processor manager annotationprocessormanager set processors setprocessors processors processors unsupported operation exception unsupportedoperationexception handle annotation processing override output class files outputclassfiles compilation result compilationresult unit result unitresult unit result unitresult unit result unitresult has errors haserrors proceed on error proceedonerror class file classfile class files classfiles unit result unitresult get class files getclassfiles generate classpath structure generateclasspathstructure file manager filemanager has location haslocation standard location standardlocation output string current destination path currentdestinationpath destination path destinationpath file output location outputlocation current destination path currentdestinationpath output location outputlocation file current destination path currentdestinationpath output location outputlocation mkdirs file count filecount class files classfiles length file count filecount class file classfile class file classfile class files classfiles filename class file classfile file name filename length filename length relative name relativename length system arraycopy filename relative name relativename length system arraycopy suffix constants suffixconstants suffix relative name relativename length char operation charoperation replace relative name relativename file separator char separatorchar string relative string name relativestringname string relative name relativename compiler options compileroptions verbose eclipse compiler impl eclipsecompilerimpl println messages bind messages compilation write string string value of valueof exported class files counter exportedclassfilescounter relative string name relativestringname java file object javafileobject java file for output javafileforoutput file manager filemanager get java file for output getjavafileforoutput standard location standardlocation output string filename java file object javafileobject kind java file object map javafileobjectmap unit result unitresult compilation unit compilationunit generate classpath structure generateclasspathstructure current destination path currentdestinationpath char operation charoperation last index of lastindexof file separator char separatorchar relative name relativename file current folder currentfolder file current destination path currentdestinationpath relative string name relativestringname substring current folder currentfolder mkdirs string path java file for output javafileforoutput to uri touri get path getpath path last index of lastindexof file file file path substring file mkdirs output stream outputstream open output stream openoutputstream java file for output javafileforoutput open output stream openoutputstream buffered output stream bufferedoutputstream buf fered output stream bufferedoutputstream buffered output stream bufferedoutputstream open output stream openoutputstream buf fered output stream bufferedoutputstream write class file classfile header class file classfile header offset headeroffset buf fered output stream bufferedoutputstream write class file classfile contents class file classfile contents offset contentsoffset buf fered output stream bufferedoutputstream flush i o exception ioexception logger log no class file created lognoclassfilecreated current destination path currentdestinationpath relative string name relativestringname logger log class file logclassfile generate classpath structure generateclasspathstructure current destination path currentdestinationpath relative string name relativestringname exported class files counter exportedclassfilescounter batch compiler batchcompiler lookup environment lookupenvironment release class files releaseclassfiles class files classfiles override set paths setpaths array list arraylist bootclasspaths string source path classpath arg sourcepathclasspatharg array list arraylist source path class paths sourcepathclasspaths array list arraylist class paths classpaths array list arraylist ext dirs class paths extdirsclasspaths array list arraylist end orsed dir class paths endorseddirclasspaths string custom encoding customencoding array list arraylist file system filesystem classpath file system class paths filesystemclasspaths array list arraylist eclipse file manager eclipsefilemanager eclipse java file manager eclipsejavafilemanager standard java file manager standardjavafilemanager standard java file manager standardjavafilemanager java file manager javafilemanager java file manager javafilemanager have platform paths haveplatformpaths have class paths haveclasspaths file manager filemanager eclipse file manager eclipsefilemanager eclipse java file manager eclipsejavafilemanager eclipse file manager eclipsefilemanager file manager filemanager file manager filemanager standard java file manager standardjavafilemanager standard java file manager standardjavafilemanager standard java file manager standardjavafilemanager file manager filemanager java file manager javafilemanager file manager filemanager eclipse java file manager eclipsejavafilemanager eclipse java file manager eclipsejavafilemanager flags eclipse file manager eclipsefilemanager end orsed endorsed dirs eclipse java file manager eclipsejavafilemanager flags eclipse file manager eclipsefilemanager bootclasspath file system class paths filesystemclasspaths add all addall handle endorsed dirs handleendorseddirs iterable file location standard java file manager standardjavafilemanager location standard java file manager standardjavafilemanager get location getlocation standard location standardlocation platform path location file file location classpath classpath file system filesystem get classpath getclasspath file get absolute path getabsolutepath options classpath file system class paths filesystemclasspaths add classpath have platform paths haveplatformpaths java file manager javafilemanager classpath classpath classpath jsr classpathjsr file manager filemanager standard location standardlocation platform path file system class paths filesystemclasspaths add classpath have platform paths haveplatformpaths eclipse java file manager eclipsejavafilemanager eclipse java file manager eclipsejavafilemanager flags eclipse file manager eclipsefilemanager ext dirs eclipse java file manager eclipsejavafilemanager flags eclipse file manager eclipsefilemanager bootclasspath file system class paths filesystemclasspaths add all addall handle ext dirs handleextdirs standard java file manager standardjavafilemanager location standard java file manager standardjavafilemanager get location getlocation standard location standardlocation source path location file file location classpath classpath file system filesystem get classpath getclasspath file get absolute path getabsolutepath options classpath file system class paths filesystemclasspaths add classpath location standard java file manager standardjavafilemanager get location getlocation standard location standardlocation path location file file location classpath classpath file system filesystem get classpath getclasspath file get absolute path getabsolutepath options classpath file system class paths filesystemclasspaths add classpath have class paths haveclasspaths java file manager javafilemanager classpath classpath file manager filemanager has location haslocation standard location standardlocation source path classpath classpath jsr classpathjsr file manager filemanager standard location standardlocation source path file system class paths filesystemclasspaths add classpath classpath classpath jsr classpathjsr file manager filemanager standard location standardlocation path file system class paths filesystemclasspaths add classpath have class paths haveclasspaths checked class paths checkedclasspaths have platform paths haveplatformpaths file system class paths filesystemclasspaths add all addall handle boot classpath handlebootclasspath have class paths haveclasspaths file system class paths filesystemclasspaths add all addall handle classpath handleclasspath file system class paths filesystemclasspaths file system filesystem classpath normalizer classpathnormalizer normalize file system class paths filesystemclasspaths size file system class paths filesystemclasspaths size size checked class paths checkedclasspaths file system filesystem classpath size file system filesystem classpath classpath file system class paths filesystemclasspaths checked class paths checkedclasspaths classpath override logging extra problems loggingextraproblems logging extra problems loggingextraproblems suppress warnings suppresswarnings rawtypes iterator iterator extra problems extraproblems iterator iterator has next hasnext categorized problem categorizedproblem problem categorized problem categorizedproblem iterator diagnostic listener diagnosticlistener diagnostic listener diagnosticlistener report diagnostic java file object javafileobject override string get code getcode override get column number getcolumnnumber problem default problem defaultproblem default problem defaultproblem problem column diagnostic nopos override get end position getendposition problem default problem defaultproblem default problem defaultproblem problem get source end getsourceend diagnostic nopos override kind get kind getkind problem is error iserror diagnostic kind error problem is warning iswarning diagnostic kind warning problem default problem defaultproblem default problem defaultproblem problem is info isinfo diagnostic kind note diagnostic kind override get line number getlinenumber problem default problem defaultproblem default problem defaultproblem problem get source line number getsourcelinenumber diagnostic nopos override string get message getmessage locale locale problem get message getmessage override get position getposition problem default problem defaultproblem default problem defaultproblem problem get source start getsourcestart diagnostic nopos override java file object javafileobject get source getsource problem default problem defaultproblem file file string default problem defaultproblem problem get originating file name getoriginatingfilename exists charset charset eclipse compiler impl eclipsecompilerimpl file manager filemanager eclipse file manager eclipsefilemanager eclipse file manager eclipsefilemanager eclipse compiler impl eclipsecompilerimpl file manager filemanager charset charset default charset defaultcharset eclipse file object eclipsefileobject touri java file object javafileobject kind source charset override get start position getstartposition get position getposition
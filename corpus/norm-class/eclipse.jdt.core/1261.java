copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug increment decrement operators mark local variables read bug npe code stream codestream invoke org eclipse jdt internal eval org eclipse jdt internal compiler ast assignment org eclipse jdt internal compiler ast compound assignment compoundassignment org eclipse jdt internal compiler ast expression org eclipse jdt internal compiler ast field reference fieldreference org eclipse jdt internal compiler ast int literal intliteral org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler codegen opcodes org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup field binding fieldbinding org eclipse jdt internal compiler lookup problem field binding problemfieldbinding org eclipse jdt internal compiler lookup problem reasons problemreasons org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type ids typeids code snippet field reference codesnippetfieldreference field reference fieldreference problem reasons problemreasons evaluation constants evaluationconstants evaluation context evaluationcontext evaluation context evaluationcontext field binding fieldbinding delegate this delegatethis code snippet field reference codesnippetfieldreference constructor comment param source param pos code snippet field reference codesnippetfieldreference source pos evaluation context evaluationcontext evaluation context evaluationcontext source pos evaluation context evaluationcontext evaluation context evaluationcontext generate assignment generateassignment block scope blockscope current scope currentscope code stream codestream code stream codestream assignment assignment value required valuerequired field binding fieldbinding codegen binding codegenbinding binding original codegen binding codegenbinding can be seen by canbeseenby actual receiver type actualreceivertype current scope currentscope receiver generate code generatecode current scope currentscope code stream codestream codegen binding codegenbinding is static isstatic assignment expression generate code generatecode current scope currentscope code stream codestream field store fieldstore current scope currentscope code stream codestream codegen binding codegenbinding actual receiver type actualreceivertype receiver is implicit this isimplicitthis value required valuerequired code stream codestream generate emulation for field generateemulationforfield codegen binding codegenbinding receiver generate code generatecode current scope currentscope code stream codestream codegen binding codegenbinding is static isstatic receiver codegen binding codegenbinding is static isstatic code stream codestream aconst assignment expression generate code generatecode current scope currentscope code stream codestream value required valuerequired codegen binding codegenbinding type type ids typeids type ids typeids code stream codestream dup code stream codestream dup code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield codegen binding codegenbinding value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion field reference code generation param current scope currentscope org eclipse jdt internal compiler lookup block scope blockscope param code stream codestream org eclipse jdt internal compiler codegen code stream codestream param value required valuerequired generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired code stream codestream position constant constant notaconstant value required valuerequired code stream codestream generate constant generateconstant constant implicit conversion implicitconversion field binding fieldbinding codegen binding codegenbinding binding original is static isstatic codegen binding codegenbinding is static isstatic receiver generate code generatecode current scope currentscope code stream codestream is static isstatic value required valuerequired constant field constant fieldconstant codegen binding codegenbinding constant field constant fieldconstant constant notaconstant array length codegen binding codegenbinding declaring class declaringclass code stream codestream array length arraylength codegen binding codegenbinding can be seen by canbeseenby actual receiver type actualreceivertype current scope currentscope type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope codegen binding codegenbinding actual receiver type actualreceivertype receiver is implicit this isimplicitthis is static isstatic code stream codestream field access fieldaccess opcodes opc get static getstatic codegen binding codegenbinding constant pool declaring class constantpooldeclaringclass code stream codestream field access fieldaccess opcodes opc get field getfield codegen binding codegenbinding constant pool declaring class constantpooldeclaringclass is static isstatic stack reflect emulation code stream codestream aconst code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen binding codegenbinding code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion is static isstatic perform check code stream codestream invoke object get class invokeobjectgetclass code stream codestream pop code stream codestream generate constant generateconstant field constant fieldconstant implicit conversion implicitconversion is static isstatic perform check code stream codestream invoke object get class invokeobjectgetclass code stream codestream pop code stream codestream record positions from recordpositionsfrom source start sourcestart generate compound assignment generatecompoundassignment block scope blockscope current scope currentscope code stream codestream code stream codestream expression expression assignment implicit conversion assignmentimplicitconversion value required valuerequired is static isstatic field binding fieldbinding codegen binding codegenbinding binding original codegen binding codegenbinding can be seen by canbeseenby actual receiver type actualreceivertype current scope currentscope receiver generate code generatecode current scope currentscope code stream codestream is static isstatic codegen binding codegenbinding is static isstatic type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope codegen binding codegenbinding actual receiver type actualreceivertype receiver is implicit this isimplicitthis is static isstatic code stream codestream field access fieldaccess opcodes opc get static getstatic codegen binding codegenbinding constant pool declaring class constantpooldeclaringclass code stream codestream dup code stream codestream field access fieldaccess opcodes opc get field getfield codegen binding codegenbinding constant pool declaring class constantpooldeclaringclass operation type d operationtypeid operation type d operationtypeid implicit conversion implicitconversion implicit conversion mask java lang string javalangstring java lang object javalangobject undefined code stream codestream generate string concatenation append generatestringconcatenationappend current scope currentscope expression promote array reference suitable operation type code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion generate increment promoted operation prefix operation expression int literal intliteral code stream codestream generate constant generateconstant expression constant implicit conversion implicitconversion expression generate code generatecode current scope currentscope code stream codestream perform operation code stream codestream send operator sendoperator operation type d operationtypeid array reference type code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion assignmentimplicitconversion field store fieldstore current scope currentscope code stream codestream codegen binding codegenbinding actual receiver type actualreceivertype receiver is implicit this isimplicitthis value required valuerequired receiver generate code generatecode current scope currentscope code stream codestream is static isstatic codegen binding codegenbinding is static isstatic is static isstatic store code stream codestream generate emulation for field generateemulationforfield codegen binding codegenbinding code stream codestream aconst retrieve actual code stream codestream aconst code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen binding codegenbinding store code stream codestream generate emulation for field generateemulationforfield binding receiver generate code generatecode current scope currentscope code stream codestream is static isstatic retrieve actual code stream codestream dup code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen binding codegenbinding operation type d operationtypeid operation type d operationtypeid implicit conversion implicitconversion implicit conversion mask java lang string javalangstring code stream codestream generate string concatenation append generatestringconcatenationappend current scope currentscope expression promote array reference suitable operation type code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion generate increment promoted operation prefix operation expression int literal intliteral code stream codestream generate constant generateconstant expression constant implicit conversion implicitconversion expression generate code generatecode current scope currentscope code stream codestream perform operation code stream codestream send operator sendoperator operation type d operationtypeid array reference type code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion assignmentimplicitconversion field receiver value required valuerequired type binding typebinding equals equals equalsequals codegen binding codegenbinding type type binding typebinding type binding typebinding equals equals equalsequals codegen binding codegenbinding type type binding typebinding code stream codestream dup code stream codestream dup current stack field receiver code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield codegen binding codegenbinding generate post increment generatepostincrement block scope blockscope current scope currentscope code stream codestream code stream codestream compound assignment compoundassignment post increment postincrement value required valuerequired is static isstatic field binding fieldbinding codegen binding codegenbinding binding original codegen binding codegenbinding can be seen by canbeseenby actual receiver type actualreceivertype current scope currentscope generate post increment generatepostincrement current scope currentscope code stream codestream post increment postincrement value required valuerequired receiver generate code generatecode current scope currentscope code stream codestream is static isstatic codegen binding codegenbinding is static isstatic is static isstatic code stream codestream aconst actual stack receiver code stream codestream dup actual stack receiver receiver code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen binding codegenbinding actual stack receiver receiver receiver dup dup required receiver dup dup receiver pop pop receiver field generate emulation for field generateemulationforfield field receiver swap field receiver field receiver dup dup field receiver pop field receiver new value newvalue generate constant store typeid typeid codegen binding codegenbinding type type ids typeids type ids typeids value required valuerequired code stream codestream dup code stream codestream dup code stream codestream pop value required valuerequired code stream codestream dup code stream codestream dup code stream codestream pop code stream codestream generate emulation for field generateemulationforfield codegen binding codegenbinding code stream codestream swap typeid type ids typeids type ids typeids code stream codestream dup code stream codestream dup code stream codestream pop code stream codestream generate constant generateconstant post increment postincrement expression constant implicit conversion implicitconversion code stream codestream send operator sendoperator post increment postincrement codegen binding codegenbinding type code stream codestream generate implicit conversion generateimplicitconversion post increment postincrement pre assign implicit conversion preassignimplicitconversion code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield codegen binding codegenbinding emulate access fields impl icitly implicitly accessed manage synthetic access if necessary managesyntheticaccessifnecessary block scope blockscope current scope currentscope flow info flowinfo flow info flowinfo is read access isreadaccess flow info flowinfo tag bits tagbits flow info flowinfo unreachable dead type binding typebinding resolve type resolvetype block scope blockscope scope answer signature type field constants prop age d propaged field initialized compile time constant regular receiver reference actual receiver type actualreceivertype receiver resolve type resolvetype scope actual receiver type actualreceivertype constant constant notaconstant receiver type receivertype is array type isarraytype token length handled scope api binding scope get field getfield actual receiver type actualreceivertype token field binding fieldbinding first attempt firstattempt binding is not visible isnotvisible binding is valid binding isvalidbinding binding problem field binding problemfieldbinding problem field binding problemfieldbinding binding problem id problemid not visible notvisible is not visible isnotvisible evaluation context evaluationcontext declaring type name declaringtypename delegate this delegatethis scope get field getfield scope enclosing source type enclosingsourcetype delegate internal error field delegate this delegatethis constant constant notaconstant scope problem reporter problemreporter invalid field invalidfield actual receiver type actualreceivertype actual receiver type actualreceivertype delegate this delegatethis type constant constant notaconstant scope problem reporter problemreporter invalid field invalidfield actual receiver type actualreceivertype code snippet scope codesnippetscope local scope localscope code snippet scope codesnippetscope scope binding local scope localscope get field for code snippet getfieldforcodesnippet delegate this delegatethis type token binding is valid binding isvalidbinding constant constant notaconstant is not visible isnotvisible binding first attempt firstattempt scope problem reporter problemreporter invalid field invalidfield actual receiver type actualreceivertype is field use deprecated isfieldusedeprecated binding scope bits scope problem reporter problemreporter deprecated field deprecatedfield binding check resolution receiver constant receiver is implicit this isimplicitthis binding constant scope constant notaconstant todo check should n shouldn is implicit this isimplicitthis check removed receiver is this isthis constant constant notaconstant resolved type resolvedtype binding type
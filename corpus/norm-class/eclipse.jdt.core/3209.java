copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler apt dispatch java util array list arraylist java util iterator java util list java util service configuration error serviceconfigurationerror java util service loader serviceloader javax annotation processing processor javax tools standard location standardlocation org eclipse jdt internal compiler batch main org eclipse jdt internal compiler problem abort compilation abortcompilation java annotation processor manager compiling command javax tools java compiler javacompiler org eclipse jdt internal apt pluggable core dispatch ide annotation processor manager ideannotationprocessormanager batch annotation processor manager batchannotationprocessormanager base annotation processor manager baseannotationprocessormanager processors calling compilation task compilationtask set processors setprocessors list processor set processors setprocessors iterator processor set processor iter setprocessoriter processors named processor option command list string command line processors commandlineprocessors iterator string command line processor iter commandlineprocessoriter service loader serviceloader processor service loader serviceloader iterator processor service loader iter serviceloaderiter class loader classloader proc loader procloader order trace processor discovery xprint processor info xprintprocessorinfo verbose processor discovery print processor discovery printprocessordiscovery arg constructor object easily created ref lection reflection batch annotation processor manager batchannotationprocessormanager link configure object string method called batch annotation processor manager batchannotationprocessormanager override configure object batch compiler batchcompiler string command line arguments commandlinearguments processing env processingenv illegal state exception illegalstateexception calling configure annotation processor manager annotationprocessormanager supported batch processing env impl batchprocessingenvimpl processing env processingenv batch processing env impl batchprocessingenvimpl main batch compiler batchcompiler command line arguments commandlinearguments processing env processingenv processing env processingenv proc loader procloader processing env processingenv get file manager getfilemanager get class loader getclassloader standard location standardlocation annotation processor path parse command line parsecommandline command line arguments commandlinearguments processor option command arguments parse list qualified class names classnames param command line arguments commandlinearguments string space delimited token command parse command line parsecommandline string command line arguments commandlinearguments list string command line processors commandlineprocessors command line arguments commandlinearguments length string option command line arguments commandlinearguments nls xprint processor info xprintprocessorinfo equals option print processor info printprocessorinfo print processor discovery printprocessordiscovery verbose processor discovery nls xprint rounds xprintrounds equals option print rounds printrounds nls processor equals option command line processors commandlineprocessors array list arraylist string pro cs procs command line arguments commandlinearguments nls string proc nls pro cs procs split command line processors commandlineprocessors add proc command line processors commandlineprocessors command line processors commandlineprocessors command line processors commandlineprocessors command line processor iter commandlineprocessoriter command line processors commandlineprocessors iterator override processor info processorinfo discover next processor discovernextprocessor set processors setprocessors set processors setprocessors called list empty set processor iter setprocessoriter has next hasnext processor set processor iter setprocessoriter init processing env processingenv processor info processorinfo processor info processorinfo processors add print processor discovery printprocessordiscovery println nls api processor nls command line processors commandlineprocessors creating initial izing initializing processors names command line processor iter commandlineprocessoriter has next hasnext string proc command line processor iter commandlineprocessoriter clazz proc loader procloader load class loadclass proc object clazz new instance newinstance processor processor init processing env processingenv processor info processorinfo processor info processorinfo processors add print processor discovery printprocessordiscovery println command processor exception abort compilation abortcompilation command search processor path service loader serviceloader service loader serviceloader service loader serviceloader service loader serviceloader load processor proc loader procloader service loader iter serviceloaderiter service loader serviceloader iterator service loader iter serviceloaderiter has next hasnext processor service loader iter serviceloaderiter init processing env processingenv processor info processorinfo processor info processorinfo processors add print processor discovery printprocessordiscovery string builder stringbuilder string builder stringbuilder append discovered processor service append append supporting append get supported annotation types as string getsupportedannotationtypesasstring nls append nls append get processor location getprocessorlocation println to string tostring service configuration error serviceconfigurationerror abort compilation abortcompilation debug ging debugging purposes generates output file jar temp jar files jarfiles my jar myjar jar surely code exists places location processor loaded string get processor location getprocessorlocation processor class name classname form passed class loader classloader get resource getresource is member ismember outer class outerclass get class getclass string builder stringbuilder inner name innername string builder stringbuilder outer class outerclass is member class ismemberclass inner name innername insert outer class outerclass get simple name getsimplename inner name innername insert is member ismember outer class outerclass outer class outerclass get enclosing class getenclosingclass string path outer class outerclass get name getname path path replace is member ismember path path inner name innername nls path path find url resource str ip strip resource string location proc loader procloader get resource getresource path to string tostring location ends with endswith path location location substring location length path length location override report processor exception reportprocessorexception processor exception todo verbose report processor abort compilation abortcompilation override set processors setprocessors object processors is first round isfirstround nls illegal state exception illegalstateexception set processors setprocessors called processing begun processors failing don call init processor needed set processors setprocessors array list arraylist processors length object processors processor processor set processors setprocessors add set processor iter setprocessoriter set processors setprocessors iterator processors precedence command command line processors commandlineprocessors command line processor iter commandlineprocessoriter
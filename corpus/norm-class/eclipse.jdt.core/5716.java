copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite describing java util list junit framework test org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core dom org eclipse jdt core dom rewrite ast rewrite astrewrite suppress warnings suppresswarnings rawtypes ast rewriting type annotations test astrewritingtypeannotationstest ast rewriting test astrewritingtest ast rewriting type annotations test astrewritingtypeannotationstest string ast rewriting type annotations test astrewritingtypeannotationstest string api level apilevel api level apilevel test suite create suite createsuite ast rewriting type annotations test astrewritingtypeannotationstest ast jls test cast annotations testcastannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java lang annotation element type elementtype buf append buf append string my object myobject foo buf append foo buf append string my string mystring annot string my object myobject buf append string my string mystring annot annot string my object myobject buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list statements method declaration methoddeclaration get body getbody statements add annotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments cast expression castexpression cast expression castexpression cast expression castexpression variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype simple type simpletype cast expression castexpression get type gettype marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments cast expression castexpression cast expression castexpression cast expression castexpression variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype simple type simpletype cast expression castexpression get type gettype list annotations simple type simpletype annotations remove annotation rewrite remove ast node astnode annotations replace annotation marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace ast node astnode annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append java lang annotation element type elementtype buf append buf append string my object myobject foo buf append foo buf append string my string mystring annot annot string my object myobject buf append string my string mystring annot string my object myobject buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test wildcard type argument annotations testwildcardtypeargumentannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java lang annotation element type elementtype buf append buf append helper buf append buf append base buf append buf append unbounded wildcard unboundedwildcard helper annot buf append buf append unbounded wildcard unboundedwildcard helper annot annot buf append buf append bounded wildcard boundedwildcard helper annot base buf append buf append bounded wildcard boundedwildcard helper annot annot base buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot add annotation method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type unbounded wildcard unboundedwildcard list parameters method declaration methoddeclaration parameters single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration parameters parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype single variable declaration singlevariabledeclaration get type gettype wildcard type wildcardtype wildcard type wildcardtype wildcard type wildcardtype parameterized type parameterizedtype type arguments typearguments marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite wildcard type wildcardtype wildcard type wildcardtype annotations property insert last insertlast marker annotation markerannotation method declaration methoddeclaration find method declaration findmethoddeclaration type bounded wildcard boundedwildcard parameters method declaration methoddeclaration parameters single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration parameters parameterized type parameterizedtype parameterized type parameterizedtype single variable declaration singlevariabledeclaration get type gettype wildcard type wildcardtype wildcard type wildcardtype parameterized type parameterizedtype type arguments typearguments marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite wildcard type wildcardtype wildcard type wildcardtype annotations property insert last insertlast marker annotation markerannotation method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type unbounded wildcard unboundedwildcard list parameters method declaration methoddeclaration parameters single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration parameters parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype single variable declaration singlevariabledeclaration get type gettype wildcard type wildcardtype wildcard type wildcardtype wildcard type wildcardtype parameterized type parameterizedtype type arguments typearguments method declaration methoddeclaration find method declaration findmethoddeclaration type bounded wildcard boundedwildcard parameters method declaration methoddeclaration parameters single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration parameters parameterized type parameterizedtype parameterized type parameterizedtype single variable declaration singlevariabledeclaration get type gettype wildcard type wildcardtype wildcard type wildcardtype wildcard type wildcardtype parameterized type parameterizedtype type arguments typearguments remove annotation rewrite remove marker annotation markerannotation wildcard type wildcardtype annotations rewrite remove marker annotation markerannotation wildcard type wildcardtype annotations marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot replace annotation rewrite replace marker annotation markerannotation wildcard type wildcardtype annotations marker annotation markerannotation rewrite replace marker annotation markerannotation wildcard type wildcardtype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append java lang annotation element type elementtype buf append buf append helper buf append buf append base buf append buf append unbounded wildcard unboundedwildcard helper annot annot buf append buf append unbounded wildcard unboundedwildcard helper annot buf append buf append bounded wildcard boundedwildcard helper annot annot base buf append buf append bounded wildcard boundedwildcard helper annot base buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test wildcard boud annotation testwildcardboudannotation exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append buf append helper buf append buf append base buf append buf append foo helper annot base buf append buf append foo helper annot annot base buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list parameters method declaration methoddeclaration parameters single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration parameters parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype single variable declaration singlevariabledeclaration get type gettype wildcard type wildcardtype wildcard type wildcardtype wildcard type wildcardtype parameterized type parameterizedtype type arguments typearguments simple type simpletype simple type simpletype simple type simpletype wildcard type wildcardtype get bound getbound marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list parameters method declaration methoddeclaration parameters single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration parameters parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype single variable declaration singlevariabledeclaration get type gettype wildcard type wildcardtype wildcard type wildcardtype wildcard type wildcardtype parameterized type parameterizedtype type arguments typearguments simple type simpletype simple type simpletype simple type simpletype wildcard type wildcardtype get bound getbound remove annotation rewrite remove marker annotation markerannotation simple type simpletype annotations replace annotation marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append buf append helper buf append buf append base buf append buf append foo helper annot annot base buf append buf append foo helper annot base buf append buf append assert equal string assertequalstring preview buf to string tostring test type parameter bound annotations testtypeparameterboundannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append base buf append buf append annot base foo buf append buf append annot annot base foo buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot add annotation method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo type parameter typeparameter type parameter typeparameter type parameter typeparameter method declaration methoddeclaration type parameters typeparameters simple type simpletype simple type simpletype simple type simpletype type parameter typeparameter type bounds typebounds marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo type parameter typeparameter type parameter typeparameter type parameter typeparameter method declaration methoddeclaration type parameters typeparameters simple type simpletype simple type simpletype simple type simpletype type parameter typeparameter type bounds typebounds remove annotation rewrite remove marker annotation markerannotation simple type simpletype annotations replace annotation marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append base buf append buf append annot annot base foo buf append buf append annot base foo buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test type arguments parameterized classes annotations testtypeargumentsparameterizedclassesannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo buf append helper annot string annot annot string buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list statements method declaration methoddeclaration get body getbody statements variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype variable declaration statement variabledeclarationstatement get type gettype add annotation simple type simpletype simple type simpletype simple type simpletype parameterized type parameterizedtype type arguments typearguments marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation replace annotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace ast node astnode simple type simpletype annotations marker annotation markerannotation simple type simpletype simple type simpletype simple type simpletype parameterized type parameterizedtype type arguments typearguments remove annotation rewrite remove ast node astnode simple type simpletype annotations empty annotations list rewrite remove ast node astnode simple type simpletype annotations string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo buf append helper annot annot string string buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test type arguments method invocation testtypeargumentsmethodinvocation exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append bar buf append buf append buf append helper buf append foo buf append buf append buf append buf append zoo buf append helper helper buf append annot bar foo buf append annot annot bar foo buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type zoo list state m list statemlist method declaration methoddeclaration get body getbody statements add annotation expression statement expressionstatement expression expression statement expressionstatement state m list statemlist method invocation methodinvocation method invocation methodinvocation method invocation methodinvocation expression get expression getexpression simple type simpletype simple type simpletype simple type simpletype method invocation methodinvocation type arguments typearguments marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation expression statement expressionstatement expression expression statement expressionstatement state m list statemlist method invocation methodinvocation method invocation methodinvocation method invocation methodinvocation expression get expression getexpression simple type simpletype simple type simpletype simple type simpletype method invocation methodinvocation type arguments typearguments rewrite remove marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append bar buf append buf append buf append helper buf append foo buf append buf append buf append buf append zoo buf append helper helper buf append annot annot bar foo buf append annot bar foo buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test class inheritence annotations testclassinheritenceannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo annot helper buf append buf append foo annot annot helper buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot add annotation type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration type body declarations bodydeclarations parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype type declaration typedeclaration super interface types superinterfacetypes simple type simpletype simple type simpletype simple type simpletype parameterized type parameterizedtype get type gettype marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration type body declarations bodydeclarations parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype type declaration typedeclaration super interface types superinterfacetypes simple type simpletype simple type simpletype simple type simpletype parameterized type parameterizedtype get type gettype remove annotation rewrite remove marker annotation markerannotation simple type simpletype annotations replace annotation marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo annot annot helper buf append buf append foo annot helper buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test type tests testtypetests exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append buf append foo buf append helper annot helper buf append buf append annot helper buf append annot annot helper buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo add annotation expression statement expressionstatement expression statement expressionstatement expression statement expressionstatement method declaration methoddeclaration get body getbody statements assignment assignment assignment expression statement expressionstatement get expression getexpression instanceof expression instanceofexpression instanceof expression instanceofexpression instanceof expression instanceofexpression assignment get right hand side getrighthandside simple type simpletype simple type simpletype simple type simpletype instanceof expression instanceofexpression get right operand getrightoperand marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation expression statement expressionstatement expression statement expressionstatement expression statement expressionstatement method declaration methoddeclaration get body getbody statements assignment assignment assignment expression statement expressionstatement get expression getexpression instanceof expression instanceofexpression instanceof expression instanceofexpression instanceof expression instanceofexpression assignment get right hand side getrighthandside simple type simpletype simple type simpletype simple type simpletype instanceof expression instanceofexpression get right operand getrightoperand remove annotation rewrite remove marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot replace annotation rewrite replace marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append buf append foo buf append helper annot helper buf append buf append annot annot helper buf append annot helper buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test constructor invocation testconstructorinvocation exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo buf append helper obj annot helper buf append obj annot annot helper buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list statements method declaration methoddeclaration get body getbody statements add annotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments class instance creation classinstancecreation class instance creation classinstancecreation class instance creation classinstancecreation variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype simple type simpletype class instance creation classinstancecreation get type gettype marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation expression statement expressionstatement expression statement expressionstatement expression statement expressionstatement method declaration methoddeclaration get body getbody statements assignment assignment assignment expression statement expressionstatement get expression getexpression class instance creation classinstancecreation class instance creation classinstancecreation class instance creation classinstancecreation assignment get right hand side getrighthandside simple type simpletype simple type simpletype simple type simpletype class instance creation classinstancecreation get type gettype remove annotation rewrite remove marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot replace annotation rewrite replace marker annotation markerannotation simple type simpletype annotations marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo buf append helper obj annot annot helper buf append obj annot helper buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test constructor declaration testconstructordeclaration exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append annot buf append buf append annot annot buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot add annotation method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration type body declarations bodydeclarations marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite method declaration methoddeclaration method declaration methoddeclaration modifiers property insert last insertlast marker annotation markerannotation remove annotation method declaration methoddeclaration method declaration methoddeclaration method declaration methoddeclaration type body declarations bodydeclarations rewrite remove marker annotation markerannotation method declaration methoddeclaration modifiers replace annotation marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite replace marker annotation markerannotation method declaration methoddeclaration modifiers marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append annot buf append annot buf append buf append annot buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring testrewriteinsertapiannotation exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo buf append helper annot annot string buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list statements method declaration methoddeclaration get body getbody statements variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype variable declaration statement variabledeclarationstatement get type gettype simple type simpletype simple type simpletype simple type simpletype parameterized type parameterizedtype type arguments typearguments insert marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert first insertfirst marker annotation markerannotation insert at insertat marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert at insertat marker annotation markerannotation insert marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert after insertafter marker annotation markerannotation marker annotation markerannotation simple type simpletype annotations insert marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert before insertbefore marker annotation markerannotation marker annotation markerannotation simple type simpletype annotations string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append java lang annotation element type elementtype buf append buf append buf append helper buf append buf append foo buf append helper annot annot annot annot annot annot string buf append buf append buf append buf append java lang annotation target element type elementtype type buf append annot buf append buf append java lang annotation target element type elementtype type buf append annot assert equal string assertequalstring preview buf to string tostring test empty list insert annotation testemptylistinsertannotation exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append string my object myobject foo buf append foo buf append string my string mystring string my object myobject buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type foo list statements method declaration methoddeclaration get body getbody statements add annotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments cast expression castexpression cast expression castexpression cast expression castexpression variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype simple type simpletype cast expression castexpression get type gettype marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename annot rewrite get list rewrite getlistrewrite simple type simpletype simple type simpletype annotations property insert last insertlast marker annotation markerannotation string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append buf append string my object myobject foo buf append foo buf append string my string mystring annot string my object myobject buf append buf append assert equal string assertequalstring preview buf to string tostring ast rewriter tests astrewritertests name qualified type namequalifiedtype exception https bugs eclipse org bugs bug cgi test name qualified type annotations testnamequalifiedtypeannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug string contents test bug java lang annotation target element type elementtype type retention retention policy retentionpolicy runtime documented non null nonnull param arg test bug non null nonnull io exception ioexception foo test bug non null nonnull file not found exception filenotfoundexception arg test bug non null nonnull eof exception eofexception test bug non null nonnull io error ioerror test bug io error ioerror test bug non null nonnull io error ioerror test bug non null nonnull non null nonnull f inner finner java lang annotation target java lang annotation element type elementtype type marker deeper io exception ioexception exception serialversionuid file not found exception filenotfoundexception exception serialversionuid eof exception eofexception exception serialversionuid io error ioerror exception serialversionuid string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast resolve ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type declaration typedeclaration foo replace annotation name qualified type namequalifiedtype name qualified type namequalifiedtype name qualified type namequalifiedtype method declaration methoddeclaration get return type getreturntype marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename marker rewrite replace ast node astnode name qualified type namequalifiedtype annotations marker annotation markerannotation remove annotation single variable declaration singlevariabledeclaration param single variable declaration singlevariabledeclaration method declaration methoddeclaration parameters name qualified type namequalifiedtype name qualified type namequalifiedtype param get type gettype rewrite remove ast node astnode name qualified type namequalifiedtype annotations insert annotation existing annotation name qualified type namequalifiedtype name qualified type namequalifiedtype method declaration methoddeclaration thrown exception types thrownexceptiontypes marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename marker rewrite get list rewrite getlistrewrite name qualified type namequalifiedtype name qualified type namequalifiedtype annotations property insert last insertlast marker annotation markerannotation insert annotation type converted name qualified type namequalifiedtype involve creation name qualified type namequalifiedtype fields existing type try statement trystatement try statement trystatement try statement trystatement method declaration methoddeclaration get body getbody statements variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement try statement trystatement get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments class instance creation classinstancecreation class instance creation classinstancecreation class instance creation classinstancecreation variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype simple type simpletype class instance creation classinstancecreation get type gettype qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname simple type simpletype get name getname simple name simplename simple name simplename ast new simple name newsimplename qualified name qualifiedname get name getname get identifier getidentifier qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname get qualifier getqualifier qualified name qualifiedname ast new qualified name newqualifiedname ast new name newname qualified name qualifiedname get qualifier getqualifier to string tostring ast new simple name newsimplename qualified name qualifiedname get name getname to string tostring name qualified type namequalifiedtype ast new name qualified type newnamequalifiedtype qualified name qualifiedname simple name simplename marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename marker rewrite get list rewrite getlistrewrite name qualified type namequalifiedtype name qualified type namequalifiedtype annotations property insert last insertlast marker annotation markerannotation rewrite replace class instance creation classinstancecreation get type gettype name qualified type namequalifiedtype string preview evaluate rewrite evaluaterewrite rewrite string contents modified contentsmodified test bug java lang annotation target element type elementtype type retention retention policy retentionpolicy runtime documented non null nonnull param arg test bug marker io exception ioexception foo test bug file not found exception filenotfoundexception arg test bug non null nonnull marker eof exception eofexception test bug non null nonnull io error ioerror test bug marker io error ioerror test bug non null nonnull io error ioerror test bug non null nonnull non null nonnull f inner finner java lang annotation target java lang annotation element type elementtype type marker deeper io exception ioexception exception serialversionuid file not found exception filenotfoundexception exception serialversionuid eof exception eofexception exception serialversionuid io error ioerror exception serialversionuid assert equal string assertequalstring preview contents modified contentsmodified ast rewriter tests astrewritertests qualified type qualifiedtype exception https bugs eclipse org bugs bug cgi test qualified type annotations testqualifiedtypeannotations exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug string contents test java lang annotation target main string args marker marker marker deeper deeper deeper deeper deeper deeper deeper target java lang annotation element type elementtype type marker target java lang annotation element type elementtype type marker target java lang annotation element type elementtype type marker string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast resolve ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method declaration methoddeclaration find method declaration findmethoddeclaration type declaration typedeclaration main list statements method declaration methoddeclaration get body getbody statements s count scount replace annotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements s count scount name qualified type namequalifiedtype name qualified type namequalifiedtype name qualified type namequalifiedtype variable declaration statement variabledeclarationstatement get type gettype marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename new marker newmarker rewrite replace ast node astnode name qualified type namequalifiedtype annotations marker annotation markerannotation remove annotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements s count scount name qualified type namequalifiedtype name qualified type namequalifiedtype variable declaration statement variabledeclarationstatement get type gettype rewrite remove ast node astnode name qualified type namequalifiedtype annotations insert annotation existing annotation variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements s count scount name qualified type namequalifiedtype name qualified type namequalifiedtype variable declaration statement variabledeclarationstatement get type gettype marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename new marker newmarker rewrite get list rewrite getlistrewrite name qualified type namequalifiedtype name qualified type namequalifiedtype annotations property insert last insertlast marker annotation markerannotation insert annotation type converted qualified type qualifiedtype involve creation qualified type qualifiedtype fields existing type variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement statements s count scount simple type simpletype simple type simpletype simple type simpletype variable declaration statement variabledeclarationstatement get type gettype qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname simple type simpletype get name getname simple name simplename simple name simplename ast new simple name newsimplename qualified name qualifiedname get name getname get identifier getidentifier qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname get qualifier getqualifier qualified name qualifiedname ast new qualified name newqualifiedname ast new name newname qualified name qualifiedname get qualifier getqualifier to string tostring ast new simple name newsimplename qualified name qualifiedname get name getname to string tostring name qualified type namequalifiedtype ast new name qualified type newnamequalifiedtype qualified name qualifiedname simple name simplename marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename new marker newmarker rewrite get list rewrite getlistrewrite name qualified type namequalifiedtype name qualified type namequalifiedtype annotations property insert last insertlast marker annotation markerannotation rewrite replace variable declaration statement variabledeclarationstatement get type gettype name qualified type namequalifiedtype string preview evaluate rewrite evaluaterewrite rewrite string contents modified contentsmodified test java lang annotation target main string args new marker newmarker marker new marker newmarker deeper deeper deeper new marker newmarker deeper deeper deeper deeper target java lang annotation element type elementtype type marker target java lang annotation element type elementtype type marker target java lang annotation element type elementtype type marker assert equal string assertequalstring preview contents modified contentsmodified
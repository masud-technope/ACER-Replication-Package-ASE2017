copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation ibm corporation org eclipse jdt compiler tool tests java byte array output stream bytearrayoutputstream java file java io exception ioexception java input stream inputstream java output stream outputstream java print stream printstream java print writer printwriter java reader java writer java util array list arraylist java util arrays java util iterator java util list java util properties java util java util logging log record logrecord javax tools file object fileobject javax tools for warding java file object forwardingjavafileobject javax tools java file object javafileobject javax tools standard java file manager standardjavafilemanager javax tools standard location standardlocation javax tools java compiler javacompiler compilation task compilationtask javax tools java file object javafileobject kind junit framework test org eclipse jdt internal compiler batch main org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception compiler invocation tests compilerinvocationtests abstract compiler tool test abstractcompilertooltest tests names string test source path sourcepath destination tests numbers tests range compiler invocation tests compilerinvocationtests string test suite build unique compliance test suite builduniquecompliancetestsuite compiler invocation tests compilerinvocationtests class file constants classfileconstants jdk compiler invocation tests compilerinvocationtests test class testclass compiler invocation tests compilerinvocationtests check class files checkclassfiles string file names filenames file names filenames length class file reader classfilereader reader reader class file reader classfilereader read file output dir file names filenames class format exception classformatexception fail format exception file file names filenames io exception ioexception fail exception file file names filenames assert not null assertnotnull read file names filenames reader assert equals assertequals wrong java version file names filenames class file constants classfileconstants jdk reader get version getversion run test runtest should compile k shouldcompileok string source files sourcefiles standard java file manager standardjavafilemanager standard java file manager standardjavafilemanager list string options string compile file names compilefilenames string expected out output string expectedoutoutputstring string expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames run test runtest should compile k shouldcompileok source files sourcefiles compiler invocation tests arguments compilerinvocationtestsarguments standard java file manager standardjavafilemanager options compile file names compilefilenames expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory progress todo max ime maxime int roduce introduce stderr comparison based specific diagnostic listener class file names classfilenames check class files checkclassfiles class file names classfilenames get location detector getlocationdetector for warding standard java file manager forwardingstandardjavafilemanager standard java file manager standardjavafilemanager location match match found matchfound get location detector getlocationdetector standard java file manager standardjavafilemanager java file manager javafilemanager location location java file manager javafilemanager match location override iterable file get location getlocation location location location match match found matchfound get location getlocation location match found matchfound match found matchfound get java file detector getjavafiledetector for warding standard java file manager forwardingstandardjavafilemanager standard java file manager standardjavafilemanager match found matchfound string discriminating suffix discriminatingsuffix get java file detector getjavafiledetector standard java file manager standardjavafilemanager java file manager javafilemanager java file manager javafilemanager get java file detector getjavafiledetector standard java file manager standardjavafilemanager java file manager javafilemanager string discriminating suffix discriminatingsuffix java file manager javafilemanager discriminating suffix discriminatingsuffix discriminating suffix discriminatingsuffix java file object javafileobject detector java file object javafileobject original override iterable java file object javafileobject get java file objects getjavafileobjects file files get java file objects from files getjavafileobjectsfromfiles arrays as list aslist files override iterable java file object javafileobject get java file objects getjavafileobjects string names get java file objects from strings getjavafileobjectsfromstrings arrays as list aslist names override iterable java file object javafileobject get java file objects from files getjavafileobjectsfromfiles iterable file files array list arraylist java file object javafileobject result array list arraylist java file object javafileobject java file object javafileobject file get java file objects from files getjavafileobjectsfromfiles files result add detector file result override iterable java file object javafileobject get java file objects from strings getjavafileobjectsfromstrings iterable string names array list arraylist java file object javafileobject result array list arraylist java file object javafileobject java file object javafileobject file get java file objects from strings getjavafileobjectsfromstrings names result add detector file result override iterable java file object javafileobject list location location string package name packagename kind kinds recurse io exception ioexception array list arraylist java file object javafileobject result array list arraylist java file object javafileobject java file object javafileobject file list location package name packagename kinds recurse result add detector file result get java file for input detector getjavafileforinputdetector get java file detector getjavafiledetector kind discriminating kind discriminatingkind get java file for input detector getjavafileforinputdetector standard java file manager standardjavafilemanager java file manager javafilemanager java file manager javafilemanager discriminating kind discriminatingkind kind source get java file for input detector getjavafileforinputdetector standard java file manager standardjavafilemanager java file manager javafilemanager string discriminating suffix discriminatingsuffix kind discriminating kind discriminatingkind java file manager javafilemanager discriminating suffix discriminatingsuffix discriminating kind discriminatingkind discriminating kind discriminatingkind java file input detector javafileinputdetector for warding java file object forwardingjavafileobject java file object javafileobject java file input detector javafileinputdetector java file object javafileobject file object fileobject file object fileobject override char sequence charsequence get char content getcharcontent ignore encoding errors ignoreencodingerrors io exception ioexception match found matchfound get char content getcharcontent ignore encoding errors ignoreencodingerrors override input stream inputstream open input stream openinputstream io exception ioexception match found matchfound open input stream openinputstream override reader open reader openreader ignore encoding errors ignoreencodingerrors io exception ioexception match found matchfound open reader openreader ignore encoding errors ignoreencodingerrors java file object javafileobject detector java file object javafileobject original original original get kind getkind discriminating kind discriminatingkind discriminating suffix discriminatingsuffix original get name getname ends with endswith discriminating suffix discriminatingsuffix java file input detector javafileinputdetector original original override file object fileobject get file for input getfileforinput location location string package name packagename string relative name relativename io exception ioexception file object fileobject result get file for input getfileforinput location package name packagename relative name relativename result java file object javafileobject detector java file object javafileobject result result override java file object javafileobject get java file for input getjavafileforinput location location string class name classname kind kind io exception ioexception detector get java file for input getjavafileforinput location class name classname kind get java file for output detector getjavafileforoutputdetector get java file detector getjavafiledetector get java file for output detector getjavafileforoutputdetector standard java file manager standardjavafilemanager java file manager javafilemanager java file manager javafilemanager get java file for output detector getjavafileforoutputdetector standard java file manager standardjavafilemanager java file manager javafilemanager string discriminating suffix discriminatingsuffix java file manager javafilemanager discriminating suffix discriminatingsuffix java file output detector javafileoutputdetector for warding java file object forwardingjavafileobject java file object javafileobject java file output detector javafileoutputdetector java file object javafileobject file object fileobject file object fileobject override output stream outputstream open output stream openoutputstream io exception ioexception match found matchfound open output stream openoutputstream override writer open writer openwriter io exception ioexception match found matchfound open writer openwriter java file object javafileobject detector java file object javafileobject original original original get kind getkind kind discriminating suffix discriminatingsuffix original get name getname ends with endswith discriminating suffix discriminatingsuffix java file output detector javafileoutputdetector original original override file object fileobject get file for output getfileforoutput location location string package name packagename string relative name relativename file object fileobject sibling io exception ioexception file object fileobject result get file for output getfileforoutput location package name packagename relative name relativename sibling result java file object javafileobject detector java file object javafileobject result result override java file object javafileobject get java file for output getjavafileforoutput location location string class name classname kind kind file object fileobject sibling io exception ioexception detector get java file for output getjavafileforoutput location class name classname kind sibling set location detector setlocationdetector for warding standard java file manager forwardingstandardjavafilemanager standard java file manager standardjavafilemanager location match match found matchfound set location detector setlocationdetector standard java file manager standardjavafilemanager java file manager javafilemanager location location java file manager javafilemanager match location override set location setlocation location location iterable file path io exception ioexception location match match found matchfound set location setlocation location path match found matchfound match found matchfound sub string detector substringdetector java util logging logger string match match found matchfound sub string detector substringdetector string match sub string detector substringdetector match match override log log record logrecord record match found matchfound record get message getmessage index of indexof match match found matchfound match found matchfound match found matchfound compare file locations comparefilelocations string expected iterator file actual actual has next hasnext expected length assert equals assertequals path mismatch expected actual to string tostring assert equals assertequals inc orret incorret files path expected length assert false assertfalse incorrect files path actual has next hasnext basic test test basic run test runtest should compile k shouldcompileok string source files sourcefiles java standard java file manager standardjavafilemanager arrays as list aslist output dir options string compile file names compilefilenames java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames exploring file manager filemanager int eraction interaction output location test dash option javac compiler system println system java compiler pick defaults standard java file manager standardjavafilemanager javac standard java file manager javacstandardjavafilemanager javac compiler get standard file manager getstandardfilemanager run test runtest should compile k shouldcompileok string source files sourcefiles java javac standard java file manager javacstandardjavafilemanager standard java file manager standardjavafilemanager arrays as list aslist output dir options string compile file names compilefilenames java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames compare file locations comparefilelocations string output dir javac standard java file manager javacstandardjavafilemanager get location getlocation standard location standardlocation output iterator exploring file manager filemanager int eraction interaction output location output dir sub directory subdirectory test dash option javac compiler system println system java compiler pick defaults standard java file manager standardjavafilemanager javac standard java file manager javacstandardjavafilemanager javac compiler get standard file manager getstandardfilemanager string output dir outputdir output dir file separator bin run test runtest should compile k shouldcompileok string source files sourcefiles src java javac standard java file manager javacstandardjavafilemanager standard java file manager standardjavafilemanager arrays as list aslist output dir outputdir options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin compare file locations comparefilelocations string output dir outputdir javac standard java file manager javacstandardjavafilemanager get location getlocation standard location standardlocation output iterator exploring file manager filemanager int eraction interaction ecj output location javac standard java file manager test dash option io exception ioexception javac compiler system println system java compiler file bin directory bindirectory file output dir file separator bin bin directory bindirectory mkdirs pick defaults standard java file manager standardjavafilemanager javac standard java file manager javacstandardjavafilemanager javac compiler get standard file manager getstandardfilemanager javac standard java file manager javacstandardjavafilemanager set location setlocation standard location standardlocation output arrays as list aslist bin directory bindirectory run test runtest should compile k shouldcompileok string source files sourcefiles src java javac standard java file manager javacstandardjavafilemanager options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin exploring file manager filemanager int eraction interaction ecj call set location setlocation standard java file managers handle option handleoption javac test dash option custom file manager javac compiler system println system java compiler standard java file manager standardjavafilemanager javac java file manager javacjavafilemanager javac compiler get standard file manager getstandardfilemanager set location detector setlocationdetector custom java file manager customjavafilemanager set location detector setlocationdetector javac java file manager javacjavafilemanager standard location standardlocation output run test runtest should compile k shouldcompileok string source files sourcefiles java custom java file manager customjavafilemanager standard java file manager standardjavafilemanager arrays as list aslist output dir options string compile file names compilefilenames java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames compare file locations comparefilelocations string output dir custom java file manager customjavafilemanager get location getlocation standard location standardlocation output iterator assert false assertfalse custom java file manager customjavafilemanager match found matchfound javac javac compiler custom java file manager customjavafilemanager set location detector setlocationdetector javac java file manager javacjavafilemanager standard location standardlocation output assert true asserttrue javac compiler get task gettask custom java file manager customjavafilemanager arrays as list aslist output dir custom java file manager customjavafilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator java call assert false assertfalse custom java file manager customjavafilemanager match found matchfound exploring file manager filemanager int eraction interaction ecj calls get location getlocation javac standard java file manager test dash option custom file manager io exception ioexception javac compiler system println system java compiler file bin directory bindirectory file output dir file separator bin bin directory bindirectory mkdirs get location detector getlocationdetector custom java file manager customjavafilemanager get location detector getlocationdetector javac compiler get standard file manager getstandardfilemanager standard location standardlocation output custom java file manager customjavafilemanager set location setlocation standard location standardlocation output arrays as list aslist bin directory bindirectory run test runtest should compile k shouldcompileok string source files sourcefiles src java custom java file manager customjavafilemanager options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin failure get location getlocation called output location assert true asserttrue custom java file manager customjavafilemanager match found matchfound https bugs eclipse org bugs bug cgi options consumption compare javac ensure consumption mechanism behaves option supported compilers test options consumption io exception ioexception list string remaining as list remainingaslist arrays as list aslist output remainder standard java file manager standardjavafilemanager ecj standard java file manager ecjstandardjavafilemanager compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset iterator string remaining remaining as list remainingaslist iterator assert true asserttrue support option ecj standard java file manager ecjstandardjavafilemanager handle option handleoption remaining assert equals assertequals unexpected consumption rate remainder remaining javac javac compiler standard java file manager standardjavafilemanager javac standard java file manager javacstandardjavafilemanager pick defaults javac compiler get standard file manager getstandardfilemanager remaining remaining as list remainingaslist iterator assert true asserttrue support option javac standard java file manager javacstandardjavafilemanager handle option handleoption remaining assert equals assertequals unexpected consumption rate remainder remaining javac standard java file manager javacstandardjavafilemanager close ecj standard java file manager ecjstandardjavafilemanager close https bugs eclipse org bugs bug cgi options consumption check consumption rate supported args options test options consumption io exception ioexception string remainder remainder list string remaining as list remainingaslist arrays as list aslist output remainder standard java file manager standardjavafilemanager ecj standard java file manager ecjstandardjavafilemanager compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset string option compiler tool tests compilertooltests arg options options compiler support supported file manager ecj standard java file manager ecjstandardjavafilemanager is supported option issupportedoption option iterator string remaining remaining as list remainingaslist iterator assert true asserttrue support option option ecj standard java file manager ecjstandardjavafilemanager handle option handleoption option remaining assert equals assertequals unexpected consumption rate remainder remaining string option compiler tool tests compilertooltests fake arg options ecj standard java file manager ecjstandardjavafilemanager is supported option issupportedoption option iterator string remaining remaining as list remainingaslist iterator assert true asserttrue support option option ecj standard java file manager ecjstandardjavafilemanager handle option handleoption option remaining assert equals assertequals unexpected consumption rate remainder remaining ecj standard java file manager ecjstandardjavafilemanager close https bugs eclipse org bugs bug cgi options consumption check consumption rate supported arg options test options consumption io exception ioexception string remainder remainder list string remaining as list remainingaslist arrays as list aslist utf remainder standard java file manager standardjavafilemanager ecj standard java file manager ecjstandardjavafilemanager compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset string option compiler tool tests compilertooltests arg options options compiler support supported file manager ecj standard java file manager ecjstandardjavafilemanager is supported option issupportedoption option iterator string remaining remaining as list remainingaslist iterator assert true asserttrue support option option ecj standard java file manager ecjstandardjavafilemanager handle option handleoption option remaining assert equals assertequals unexpected consumption rate remainder remaining ecj standard java file manager ecjstandardjavafilemanager close tests ecj runtime exception runtimeexception enc ountering encountering wrong encoding parameters compiler swallows silently based behavior command javac level expect error raised fashion tests fail javac test inappropriate encoding diagnosis io exception ioexception list string bug gy encoding buggyencoding arrays as list aslist dummy passed passed compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset handle option handleoption encoding bug gy encoding buggyencoding iterator runtime exception runtimeexception passed assert false assertfalse inappropriate encoding option passed javac javac compiler fails deemed test behavior observed inappropriate passed passed javac compiler get standard file manager getstandardfilemanager handle option handleoption encoding bug gy encoding buggyencoding iterator throwable passed assert false assertfalse inappropriate encoding option passed test inappropriate encoding diagnosis list string options arrays as list aslist output dir encoding dummy passed run test runtest should compile k shouldcompileok string source files sourcefiles java standard java file manager standardjavafilemanager options options string compile file names compilefilenames java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory class file names classfilenames runtime exception runtimeexception passed assert false assertfalse inappropriate encoding option passed javac javac compiler compared command javac bug passed passed javac compiler get task gettask options javac compiler get standard file manager getstandardfilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator java call throwable passed assert false assertfalse inappropriate encoding option passed https bugs eclipse org bugs bug cgi files access happen user file manager simplest source read test files access read io exception ioexception javac compiler system println system java compiler get java file for input detector getjavafileforinputdetector custom java file manager customjavafilemanager get java file for input detector getjavafileforinputdetector javac compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset run test runtest should compile k shouldcompileok string source files sourcefiles java custom java file manager customjavafilemanager standard java file manager standardjavafilemanager arrays as list aslist output dir options string compile file names compilefilenames java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames assert true asserttrue custom java file manager customjavafilemanager match found matchfound javac javac compiler custom java file manager customjavafilemanager match found matchfound assert true asserttrue javac compiler get task gettask custom java file manager customjavafilemanager arrays as list aslist output dir custom java file manager customjavafilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator java call assert true asserttrue custom java file manager customjavafilemanager match found matchfound https bugs eclipse org bugs bug cgi files access happen user file manager source file accessed source path sourcepath test files access read io exception ioexception javac compiler system println system java compiler get java file for input detector getjavafileforinputdetector custom java file manager customjavafilemanager get java file for input detector getjavafileforinputdetector compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset java kind source list string options arrays as list aslist output dir source path sourcepath output dir file separator src run test runtest should compile k shouldcompileok string source files sourcefiles src java src java custom java file manager customjavafilemanager standard java file manager standardjavafilemanager options options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames assert true asserttrue custom java file manager customjavafilemanager match found matchfound javac javac compiler custom java file manager customjavafilemanager match found matchfound assert true asserttrue javac compiler get task gettask custom java file manager customjavafilemanager options custom java file manager customjavafilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator src java call assert true asserttrue custom java file manager customjavafilemanager match found matchfound https bugs eclipse org bugs bug cgi files access happen user file manager file accessed read classpath test files access read io exception ioexception get java file for input detector getjavafileforinputdetector custom java file manager customjavafilemanager get java file for input detector getjavafileforinputdetector compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset kind list string options arrays as list aslist output dir classpath output dir run test runtest should compile k shouldcompileok string source files sourcefiles src java custom java file manager customjavafilemanager options options compile file names compilefilenames string src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory class file names classfilenames string run test runtest should compile k shouldcompileok string source files sourcefiles src java custom java file manager customjavafilemanager standard java file manager standardjavafilemanager options options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames assert true asserttrue custom java file manager customjavafilemanager match found matchfound javac javac compiler javac exception bug side custom java file manager customjavafilemanager match found matchfound assert true asserttrue javac compiler get task gettask custom java file manager customjavafilemanager options custom java file manager customjavafilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator src java call assert true asserttrue custom java file manager customjavafilemanager match found matchfound https bugs eclipse org bugs bug cgi files access happen user file manager file accessed write test files access write io exception ioexception get java file for output detector getjavafileforoutputdetector custom java file manager customjavafilemanager get java file for output detector getjavafileforoutputdetector compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset list string options arrays as list aslist output dir run test runtest should compile k shouldcompileok string source files sourcefiles src java custom java file manager customjavafilemanager standard java file manager standardjavafilemanager options options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames assert true asserttrue custom java file manager customjavafilemanager match found matchfound javac javac compiler custom java file manager customjavafilemanager match found matchfound assert true asserttrue javac compiler get task gettask custom java file manager customjavafilemanager options custom java file manager customjavafilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator src java call assert true asserttrue custom java file manager customjavafilemanager match found matchfound https bugs eclipse org bugs bug cgi files access happen user file manager file accessed write test files access write io exception ioexception get java file for output detector getjavafileforoutputdetector custom java file manager customjavafilemanager get java file for output detector getjavafileforoutputdetector compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset list string options arrays as list aslist source path sourcepath output dir file separator src run test runtest should compile k shouldcompileok string source files sourcefiles src java src java custom java file manager customjavafilemanager standard java file manager standardjavafilemanager options options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames src assert true asserttrue custom java file manager customjavafilemanager match found matchfound javac javac compiler custom java file manager customjavafilemanager match found matchfound assert true asserttrue javac compiler get task gettask custom java file manager customjavafilemanager options custom java file manager customjavafilemanager get java file objects from files getjavafileobjectsfromfiles arrays as list aslist file output dir file separator src java call assert true asserttrue custom java file manager customjavafilemanager match found matchfound https bugs eclipse org bugs bug cgi test source path sourcepath destination io exception ioexception run test runtest should compile k shouldcompileok string source files sourcefiles src java src java standard java file manager standardjavafilemanager arrays as list aslist output dir options bin source path sourcepath output dir src string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin bin https bugs eclipse org bugs bug cgi batch compiler test batchcompilertest option works jsr ecj test source path sourcepath destination io exception ioexception run test runtest should compile k shouldcompileok string source files sourcefiles src java src java standard java file manager standardjavafilemanager arrays as list aslist output dir options bin source path sourcepath output dir src output dir bin string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin bin https bugs eclipse org bugs bug cgi test source path sourcepath destination io exception ioexception string source directory name sourcedirectoryname output dir src file source folder sourcefolder file source directory name sourcedirectoryname source folder sourcefolder exists source folder sourcefolder mkdirs source folder built standard java file manager standardjavafilemanager ecj standard java file manager ecjstandardjavafilemanager compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset assert true asserttrue ecj standard java file manager ecjstandardjavafilemanager handle option handleoption source path sourcepath arrays as list aslist output dir src iterator run test runtest should compile k shouldcompileok string source files sourcefiles src java src java ecj standard java file manager ecjstandardjavafilemanager standard java file manager standardjavafilemanager arrays as list aslist output dir bin options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin bin https bugs eclipse org bugs bug cgi test source path sourcepath destination io exception ioexception standard java file manager standardjavafilemanager ecj standard java file manager ecjstandardjavafilemanager compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset assert true asserttrue ecj standard java file manager ecjstandardjavafilemanager handle option handleoption source path sourcepath arrays as list aslist output dir src output dir bin iterator run test runtest should compile k shouldcompileok string source files sourcefiles src java src java ecj standard java file manager ecjstandardjavafilemanager standard java file manager standardjavafilemanager arrays as list aslist output dir bin options string compile file names compilefilenames src java expected out output string expectedoutoutputstring expected err output string expectederroutputstring should flush output directory shouldflushoutputdirectory string class file names classfilenames bin bin basic output test test output str eams streams io exception ioexception byte array output stream bytearrayoutputstream out buffer outbuffer byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream compilation task compilationtask task compiler get task gettask print writer printwriter out buffer outbuffer compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset compiler invocation diagnostic listener compilerinvocationdiagnosticlistener print writer printwriter err buffer errbuffer arrays as list aslist assert true asserttrue task call properties properties properties input stream inputstream resource as stream resourceasstream resource as stream resourceasstream main get resource as stream getresourceasstream messages properties properties load resource as stream resourceasstream resource as stream resourceasstream resource as stream resourceasstream close assert true asserttrue out buffer outbuffer to string tostring starts with startswith properties get property getproperty compiler assert true asserttrue err buffer errbuffer to string tostring is empty isempty https bugs eclipse org bugs bug cgi test output str eams streams io exception ioexception byte array output stream bytearrayoutputstream out buffer outbuffer byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream print stream printstream system out systemout system system err systemerr system err system set out setout print stream printstream out buffer outbuffer system set err seterr print stream printstream err buffer errbuffer compilation task compilationtask task compiler get task gettask compiler get standard file manager getstandardfilemanager diagnostic listener diagnosticlistener locale charset compiler invocation diagnostic listener compilerinvocationdiagnosticlistener print writer printwriter err buffer errbuffer arrays as list aslist assert true asserttrue task call assert true asserttrue out buffer outbuffer to string tostring is empty isempty assert true asserttrue err buffer errbuffer to string tostring starts with startswith eclipse compiler java system set out setout system out systemout system set err seterr system err systemerr https bugs eclipse org bugs bug cgi java compiler javacompiler get task gettask receive sup plementary supplementary compiler output errors fun neled funneled diagnostic listener test output str eams streams io exception ioexception run test runtest should compile k shouldcompileok string source files sourcefiles java standard java file manager standardjavafilemanager arrays as list aslist output dir options string compile file names compilefilenames java expected out output string expectedoutoutputstring expected err output string expectederroutputstring error java type defined file problem error should flush output directory shouldflushoutputdirectory class file names classfilenames
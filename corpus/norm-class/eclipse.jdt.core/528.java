copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation philippe marschall net cetera netcetera regression test ibm corporation org eclipse jdt compiler apt tests java file java io exception ioexception java util array list arraylist java util list javax tools java compiler javacompiler javax tools tool provider toolprovider junit framework test case testcase test implementation file r filer detail batch dispatch tests batchdispatchtests file r tests filertests test case testcase string type utilsproc typeutilsproc org eclipse jdt compiler apt tests processors file r filer file r proc filerproc validate test element testelement test javac compiler io exception ioexception test element with system compiler testelementwithsystemcompiler io exception ioexception java compiler javacompiler compiler tool provider toolprovider get system java compiler getsystemjavacompiler compiler system println system java compiler internal test create resource internaltestcreateresource compiler attempt read elements element hierarchy io exception ioexception test element with eclipse compiler testelementwitheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test create resource internaltestcreateresource compiler test create resource createresource processing resources targets file r filer file r target filertarget java verifying existence content files io exception ioexception internal test create resource internaltestcreateresource java compiler javacompiler compiler is system commpiler issystemcommpiler io exception ioexception file target folder targetfolder test utils testutils concat path concatpath batch test utils batchtestutils get src folder name getsrcfoldername targets file r filer file input file inputfile batch test utils batchtestutils copy resource copyresource targets file r filer file r target filertarget java target folder targetfolder assert not null assertnotnull input file input file inputfile list string options array list arraylist string batch test utils batchtestutils compile one class compileoneclass compiler options input file inputfile check resource files generated file gen text file gentextfile test utils testutils concat path concatpath batch test utils batchtestutils get gen folder name getgenfoldername resources txt text txt assert true asserttrue generated text file exist gen text file gentextfile exists file gen binary file genbinaryfile test utils testutils concat path concatpath batch test utils batchtestutils get gen folder name getgenfoldername resources dat binary dat assert true asserttrue generated binary file exist gen binary file genbinaryfile exists file class file classfile test utils testutils concat path concatpath batch test utils batchtestutils get bin folder name getbinfoldername targets file r filer file r target filertarget assert true asserttrue ordinary src file compiled class file classfile exists test data file r target filertarget java assert true asserttrue batch test utils batchtestutils file contents equal text filecontentsequaltext gen text file gentextfile generated string assert true asserttrue batch test utils batchtestutils file contents equal text filecontentsequaltext gen binary file genbinaryfile string is system commpiler issystemcommpiler assert equals assertequals succeeded system get property getproperty type utilsproc typeutilsproc javadoc junit framework test case testcase set up setup set up setup exception set up setup batch test utils batchtestutils init javadoc junit framework test case testcase tear down teardown tear down teardown exception tear down teardown
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug inference capture binding capturebinding safe bug hovering javadoc header parameter wrong annotation based analysis org eclipse jdt internal core util java util array list arraylist org eclipse jdt core signature org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler compiler org eclipse jdt internal compiler ast abstract method declaration abstractmethoddeclaration org eclipse jdt internal compiler ast array reference arrayreference org eclipse jdt internal compiler ast assignment org eclipse jdt internal compiler ast cast expression castexpression org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org eclipse jdt internal compiler ast conditional expression conditionalexpression org eclipse jdt internal compiler ast field reference fieldreference org eclipse jdt internal compiler ast message send messagesend org eclipse jdt internal compiler ast qualified name reference qualifiednamereference org eclipse jdt internal compiler ast single name reference singlenamereference org eclipse jdt internal compiler ast type declaration typedeclaration org eclipse jdt internal compiler ast wildcard org eclipse jdt internal compiler lookup annotation binding annotationbinding org eclipse jdt internal compiler lookup array binding arraybinding org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup capture binding capturebinding org eclipse jdt internal compiler lookup capture binding capturebinding org eclipse jdt internal compiler lookup field binding fieldbinding org eclipse jdt internal compiler lookup local type binding localtypebinding org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup lookup environment lookupenvironment org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup package binding packagebinding org eclipse jdt internal compiler lookup parameterized type binding parameterizedtypebinding org eclipse jdt internal compiler lookup polymorphic method binding polymorphicmethodbinding org eclipse jdt internal compiler lookup raw type binding rawtypebinding org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup source type binding sourcetypebinding org eclipse jdt internal compiler lookup tag bits tagbits org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type variable binding typevariablebinding org eclipse jdt internal compiler lookup variable binding variablebinding org eclipse jdt internal compiler lookup wildcard binding wildcardbinding org eclipse jdt internal compiler util hashtable of object hashtableofobject suppress warnings suppresswarnings rawtypes unchecked binding key resolver bindingkeyresolver binding key parser bindingkeyparser synthetic bindings local variables method arguments res tored restored binding key synthetic local variable binding syntheticlocalvariablebinding local variable binding localvariablebinding method binding methodbinding enclosing method enclosingmethod param position paramposition key synthetic local variable binding syntheticlocalvariablebinding type binding typebinding type method binding methodbinding enclosing method enclosingmethod param position paramposition type enclosing method enclosingmethod enclosing method enclosingmethod param position paramposition param position paramposition override compute unique key computeuniquekey key scope find enclosing method captured method string builder stringbuilder buf string builder stringbuilder append enclosing method enclosingmethod compute unique key computeuniquekey buf append buf append nls buf append nls buf append param position paramposition length buf length key length buf get chars getchars length key key override method binding methodbinding get enclosing method getenclosingmethod enclosing method enclosingmethod override hash code hashcode char operation charoperation hash code hashcode compute unique key computeuniquekey equals object obj obj synthetic local variable binding syntheticlocalvariablebinding char operation charoperation equals compute unique key computeuniquekey synthetic local variable binding syntheticlocalvariablebinding obj compute unique key computeuniquekey compiler compiler binding compiler binding compilerbinding compound name compoundname dimension lookup environment lookupenvironment environment reference binding referencebinding generic type generictype method binding methodbinding method binding methodbinding annotation binding annotationbinding annotation binding annotationbinding secondary simple name secondarysimplename compilation unit declaration compilationunitdeclaration parsed unit parsedunit block scope blockscope scope type binding typebinding type binding typebinding type declaration typedeclaration type declaration typedeclaration array list arraylist types array list arraylist wildcard rank wildcardrank compilation unit declaration compilationunitdeclaration outer most parsed unit outermostparsedunit hash file names resolved units hashtable of object hashtableofobject resolved units resolvedunits binding key resolver bindingkeyresolver binding key parser bindingkeyparser parser compiler compiler lookup environment lookupenvironment environment compilation unit declaration compilationunitdeclaration outer most parsed unit outermostparsedunit hashtable of object hashtableofobject parsed units parsedunits parser compiler compiler environment environment outer most parsed unit outermostparsedunit outer most parsed unit outermostparsedunit resolved units resolvedunits parsed units parsedunits binding key resolver bindingkeyresolver string key compiler compiler lookup environment lookupenvironment environment key compiler compiler environment environment resolved units resolvedunits hashtable of object hashtableofobject cached comp utes computes cache compound pkg top level key returns key pkg key returns empty array malformed key scanner pos itioned positioned type token compound name compoundname compound name compoundname consume annotation consumeannotation size types size size binding annotation type annotationtype binding key resolver bindingkeyresolver types size compiler binding compilerbinding annotation binding annotationbinding annotation bindings annotationbindings compiler binding compilerbinding type binding typebinding reference binding referencebinding annotation bindings annotationbindings reference binding referencebinding type binding typebinding get annotations getannotations compiler binding compilerbinding method binding methodbinding annotation bindings annotationbindings method binding methodbinding compiler binding compilerbinding get annotations getannotations compiler binding compilerbinding variable binding variablebinding annotation bindings annotationbindings variable binding variablebinding compiler binding compilerbinding get annotations getannotations length annotation bindings annotationbindings length length annotation binding annotationbinding binding annotation bindings annotationbindings binding get annotation type getannotationtype annotation type annotationtype annotation binding annotationbinding binding consume array dimension consumearraydimension brakets dimension brakets length consume base type consumebasetype base type sig basetypesig compound name compoundname get key getkey to char array tochararray type binding typebinding base type binding basetypebinding get base type binding getbasetypebinding base type sig basetypesig base type binding basetypebinding type binding typebinding base type binding basetypebinding consume capture consumecapture position consume any capture consumeanycapture position consume capture consumecapture position consume any capture consumeanycapture position consume any capture consumeanycapture capture position compilation unit declaration compilationunitdeclaration outer parsed unit outerparsedunit outer most parsed unit outermostparsedunit parsed unit parsedunit outer most parsed unit outermostparsedunit outer parsed unit outerparsedunit binding wildcard binding wildcardbinding happen capture binding capturebinding types size binding key resolver bindingkeyresolver types compiler binding compilerbinding capture finder capturefinder ast visitor astvisitor capture binding capturebinding capture check type checktype type binding typebinding binding binding binding kind binding parameterized type type binding typebinding arguments parameterized type binding parameterizedtypebinding binding arguments arguments length arguments length length check type checktype arguments binding wildcard type check type checktype wildcard binding wildcardbinding binding bound binding intersection type check type checktype wildcard binding wildcardbinding binding bound type binding typebinding other bounds otherbounds wildcard binding wildcardbinding binding other bounds otherbounds construction other bounds otherbounds length other bounds otherbounds length length check type checktype other bounds otherbounds binding array type check type checktype array binding arraybinding binding leaf component type leafcomponenttype binding type parameter binding is capture iscapture capture binding capturebinding capture binding capturebinding capture binding capturebinding binding capture binding capturebinding position capture binding capturebinding wildcard wildcard binding wildcardbinding capture binding capturebinding capture binding capturebinding capture binding capturebinding capture binding capturebinding captureid capture capture capture binding capturebinding visit single name reference singlenamereference single name reference singlenamereference block scope blockscope block scope blockscope check type checktype single name reference singlenamereference resolved type resolvedtype visit single name reference singlenamereference block scope blockscope visit qualified name reference qualifiednamereference qualified name reference qualifiednamereference block scope blockscope block scope blockscope check type checktype qualified name reference qualifiednamereference resolved type resolvedtype visit qualified name reference qualifiednamereference block scope blockscope visit message send messagesend message send messagesend block scope blockscope block scope blockscope check type checktype message send messagesend resolved type resolvedtype visit message send messagesend block scope blockscope visit field reference fieldreference field reference fieldreference block scope blockscope block scope blockscope check type checktype field reference fieldreference resolved type resolvedtype visit field reference fieldreference block scope blockscope visit conditional expression conditionalexpression conditional expression conditionalexpression block scope blockscope block scope blockscope check type checktype conditional expression conditionalexpression resolved type resolvedtype visit conditional expression conditionalexpression block scope blockscope visit cast expression castexpression cast expression castexpression block scope blockscope block scope blockscope check type checktype cast expression castexpression resolved type resolvedtype visit cast expression castexpression block scope blockscope visit assignment assignment block scope blockscope block scope blockscope check type checktype assignment resolved type resolvedtype visit assignment block scope blockscope visit array reference arrayreference array reference arrayreference block scope blockscope block scope blockscope check type checktype array reference arrayreference resolved type resolvedtype visit array reference arrayreference block scope blockscope capture finder capturefinder capture finder capturefinder capture finder capturefinder outer parsed unit outerparsedunit traverse capture finder capturefinder outer parsed unit outerparsedunit scope type binding typebinding capture finder capturefinder capture consume exception consumeexception types array list arraylist consume field consumefield field name fieldname type binding typebinding res ilience resilience field binding fieldbinding fields reference binding referencebinding type binding typebinding available fields availablefields length fields length length field binding fieldbinding field fields char operation charoperation equals field name fieldname field type binding typebinding compiler binding compilerbinding field consume parameterized generic method consumeparameterizedgenericmethod method binding methodbinding type binding typebinding arguments get type binding arguments gettypebindingarguments arguments method binding methodbinding compiler binding compilerbinding arguments length method binding methodbinding type variables typevariables length method binding methodbinding environment create parameterized generic method createparameterizedgenericmethod method binding methodbinding raw type binding rawtypebinding method binding methodbinding environment create parameterized generic method createparameterizedgenericmethod method binding methodbinding arguments compiler binding compilerbinding method binding methodbinding consume local type consumelocaltype unique key uniquekey parsed unit parsedunit type binding typebinding local type binding localtypebinding local type bindings localtypebindings parsed unit parsedunit local types localtypes parsed unit parsedunit local type count localtypecount char operation charoperation equals unique key uniquekey local type bindings localtypebindings compute unique key computeuniquekey leaf type binding typebinding local type bindings localtypebindings consume local var consumelocalvar var name varname occurrence count occurrencecount argument position argumentposition scope method binding methodbinding abstract method declaration abstractmethoddeclaration source method sourcemethod method binding methodbinding source method sourcemethod source method sourcemethod scope source method sourcemethod scope parameter names parameternames method binding methodbinding parameter names parameternames param position paramposition parameter names parameternames length param position paramposition argument position argumentposition parameter names parameternames length char operation charoperation equals parameter names parameternames var name varname param position paramposition param position paramposition don compiler binding argument craft compiler binding compilerbinding synthetic local variable binding syntheticlocalvariablebinding var name varname method binding methodbinding parameters param position paramposition method binding methodbinding param position paramposition method binding methodbinding scope scope local index localindex local variable binding localvariablebinding local scope locals char operation charoperation equals local var name varname occurrence count occurrencecount method binding methodbinding compiler binding compilerbinding local consume method consumemethod selector signature type binding typebinding res ilience resilience method binding methodbinding methods reference binding referencebinding type binding typebinding available methods availablemethods method length methodlength methods length method length methodlength method binding methodbinding method methods char operation charoperation equals selector method selector selector length method is constructor isconstructor method signature methodsignature method generic signature genericsignature method signature methodsignature method signature methodsignature method signature char operation charoperation equals signature method signature methodsignature type binding typebinding method binding methodbinding method compiler binding compilerbinding method binding methodbinding method tag bits tagbits tag bits tagbits annotation polymorphic signature annotationpolymorphicsignature type binding typebinding type parameters typeparameters signature get parameter types getparametertypes signature length type parameters typeparameters length type binding typebinding parameter types parametertypes type binding typebinding length length parameter types parametertypes get type gettype type parameters typeparameters polymorphic method binding polymorphicmethodbinding polymorphic method polymorphicmethod environment create polymorphic method createpolymorphicmethod method parameter types parametertypes method binding methodbinding polymorphic method polymorphicmethod method binding methodbinding environment update polymorphic method return type updatepolymorphicmethodreturntype polymorphic method polymorphicmethod get type gettype signature get return type getreturntype signature compiler binding compilerbinding method binding methodbinding type binding typebinding get type gettype type type binding typebinding binding length type length length type binding type binding typebinding binding type binding typebinding binding type binding typebinding binding type binding typebinding binding type binding typebinding binding type binding typebinding binding type binding typebinding binding type binding typebinding binding type binding typebinding dimensions start type start start dimensions binding environment get type gettype char operation charoperation split on spliton type start length dimensions binding environment create array type createarraytype binding dimensions binding consume member type consumemembertype simple type name simpletypename type binding typebinding get type binding gettypebinding simple type name simpletypename consume package consumepackage pkg name pkgname compound name compoundname char operation charoperation split on spliton pkg name pkgname compiler binding compilerbinding package binding packagebinding compound name compoundname environment consume parameterized type consumeparameterizedtype simple type name simpletypename is raw israw type binding typebinding type binding typebinding arguments get type binding arguments gettypebindingarguments arguments type binding typebinding generic type generictype simple type name simpletypename generic type generictype parameterized member type raw enclosing type generic type generictype reference binding referencebinding type binding typebinding get member type getmembertype simple type name simpletypename parameterized member type parameterized enclosing type generic type generictype generic type generictype get member type getmembertype simple type name simpletypename is raw israw type binding typebinding environment create parameterized type createparameterizedtype generic type generictype arguments reference binding referencebinding type binding typebinding raw type type binding typebinding environment create raw type createrawtype generic type generictype reference binding referencebinding type binding typebinding parameterized top level type parameterized member type raw enclosing type generic type generictype reference binding referencebinding type binding typebinding reference binding referencebinding enclosing generic type generictype enclosing type enclosingtype enclosing enclosing reference binding referencebinding environment convert to raw type converttorawtype enclosing force conversion enclosing types type binding typebinding environment create parameterized type createparameterizedtype generic type generictype arguments enclosing consume parser consumeparser binding key parser bindingkeyparser parser types add parser consume scope consumescope scope number scopenumber scope method binding methodbinding scope method binding methodbinding source method sourcemethod scope scope number scopenumber scope sub scope count subscopecount malformed key scope block scope blockscope scope sub scopes subscopes scope number scopenumber consume raw type consumerawtype type binding typebinding type binding typebinding environment convert to raw type converttorawtype type binding typebinding force conversion enclosing types consume secondary type consumesecondarytype simple type name simpletypename secondary simple name secondarysimplename simple type name simpletypename consume fully qualified name consumefullyqualifiedname fully qualified name fullyqualifiedname compound name compoundname char operation charoperation split on spliton fully qualified name fullyqualifiedname consume top level type consumetopleveltype file name filename parsed unit parsedunit get compilation unit declaration getcompilationunitdeclaration parsed unit parsedunit compiler resolved units resolvedunits contains key containskey file name filename parsed unit parsedunit get file name getfilename unit resolved resolved units resolvedunits protection compiler process parsed unit parsedunit compiler total units totalunits resolved units resolvedunits file name filename file name filename parsed unit parsedunit type binding typebinding get binary binding getbinarybinding type name typename secondary simple name secondarysimplename compound name compoundname compound name compoundname length secondary simple name secondarysimplename type binding typebinding get type binding gettypebinding type name typename consume key consumekey type binding typebinding type binding typebinding get array binding getarraybinding dimension type binding typebinding compiler binding compilerbinding type binding typebinding consume type variable consumetypevariable position type variable name typevariablename position length type binding typebinding pos integer parse int parseint string position res ilience resilience method binding methodbinding methods reference binding referencebinding type binding typebinding available methods availablemethods methods pos methods length method binding methodbinding methods pos type variable binding typevariablebinding type variable bindings typevariablebindings method binding methodbinding type variable bindings typevariablebindings method binding methodbinding type variables typevariables type binding typebinding type variable bindings typevariablebindings type binding typebinding type variables typevariables length type variable bindings typevariablebindings length length type variable binding typevariablebinding type variable binding typevariablebinding type variable bindings typevariablebindings char operation charoperation equals type variable name typevariablename type variable binding typevariablebinding source name sourcename type binding typebinding type variable binding typevariablebinding consume type with capture consumetypewithcapture binding key resolver bindingkeyresolver resolver binding key resolver bindingkeyresolver types type binding typebinding type binding typebinding resolver compiler binding compilerbinding consume wildcard rank consumewildcardrank a rank arank wildcard rank wildcardrank a rank arank consume wild card consumewildcard kind kind wildcard wildcard binding key resolver bindingkeyresolver bound resolver boundresolver binding key resolver bindingkeyresolver types https bugs eclipse org bugs bug cgi creation int ernally internally inconsistent wildcards form binding bound binding boundbinding bound resolver boundresolver compiler binding compilerbinding bound binding boundbinding type binding typebinding type binding typebinding environment create wildcard createwildcard reference binding referencebinding type binding typebinding wildcard rank wildcardrank type binding typebinding bound binding boundbinding extra bound kind type binding typebinding wildcard unbound type binding typebinding environment create wildcard createwildcard reference binding referencebinding type binding typebinding wildcard rank wildcardrank bound extra bound kind annotation binding annotationbinding get annotation binding getannotationbinding annotation binding annotationbinding dimension greater returns array binding type binding type binding returns type binding type binding typebinding get array binding getarraybinding dim type binding typebinding binding binding dim binding environment create array type createarraytype binding dim type binding typebinding get base type binding getbasetypebinding signature signature type binding typebinding type binding typebinding type binding typebinding type binding typebinding type binding typebinding type binding typebinding type binding typebinding type binding typebinding type binding typebinding type binding typebinding returns binary binding corresonding key compound returns type binding typebinding get binary binding getbinarybinding compound name compoundname length environment get type gettype compound name compoundname finds compilation unit declaration key lookup environment returns compilation unit declaration key scanner pos itioned positioned token compilation unit declaration compilationunitdeclaration get compilation unit declaration getcompilationunitdeclaration compound name compoundname length environment reference binding referencebinding binding environment get type gettype binding source type binding sourcetypebinding secondary simple name secondarysimplename secondary type primary type https bugs eclipse org bugs bug cgi length length system arraycopy length length length secondary simple name secondarysimplename binding environment get type gettype binding source type binding sourcetypebinding source type binding sourcetypebinding source type binding sourcetypebinding source type binding sourcetypebinding binding source type binding sourcetypebinding scope source type binding sourcetypebinding scope compilation unit scope compilationunitscope reference context referencecontext returns compiler binding key returns malformed key scanner pos itioned positioned token binding get compiler binding getcompilerbinding parse compiler binding compilerbinding runtime exception runtimeexception util log create binding binding key get key getkey type binding typebinding get type binding gettypebinding simple type name simpletypename type binding typebinding reference binding referencebinding reference binding referencebinding type binding typebinding get member type getmembertype simple type name simpletypename type declaration typedeclaration type declarations typedeclarations type declaration typedeclaration parsed unit parsedunit parsed unit parsedunit types type declaration typedeclaration member types membertypes type declarations typedeclarations length type declarations typedeclarations length length type declaration typedeclaration declaration type declarations typedeclarations char operation charoperation equals simple type name simpletypename declaration type declaration typedeclaration declaration declaration binding type binding typebinding get type binding arguments gettypebindingarguments size types size type binding typebinding arguments type binding typebinding size size binding key resolver bindingkeyresolver resolver binding key resolver bindingkeyresolver types type binding typebinding compiler binding compilerbinding type binding typebinding resolver compiler binding compilerbinding compiler binding compilerbinding types array list arraylist arguments compiler binding compilerbinding types array list arraylist arguments malformed key malformedkey compound name compoundname char operation charoperation binding key parser bindingkeyparser new parser newparser binding key resolver bindingkeyresolver compiler environment outer most parsed unit outermostparsedunit parsed unit parsedunit outer most parsed unit outermostparsedunit resolved units resolvedunits string to string tostring get key getkey
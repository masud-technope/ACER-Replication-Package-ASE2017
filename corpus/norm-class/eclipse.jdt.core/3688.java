copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation jesper moller contributions bug compiler implement semantic analysis lambda expressions reference expression bug wildcard type arguments rejected lambda reference expressions bug compiler incompatible class change incompatibleclasschange error edit stephan herrmann contribution bug compiler analysis reference expressions bug compiler detect illegal reference indirect redundant syntax bug compiler apply annotation types analysis bug ensure runjdtcoretests cope annotations enabled bug compiler inference infrastructure evolve meet jls jsr spec bug implement functional param eterization parameterization inference bug compiler aioob reference expression referenceexpression resolve type resolvetype method reference files walk bug compiler event ual eventual resolution reference expression referenceexpression happening bug compiler method call method reference argument fails resolve properly bug compiler compiler error method reference overloaded method bug compiler npe org eclipse jdt internal compiler ast conditional expression conditionalexpression generate code generatecode conditional expression conditionalexpression java bug method reference problems wrong inference result npe bug compiler detect semantically invalid type annotations bug inference eclipse compiler thinks compatible raw type involved bug non null by default nonnullbydefault illegally affect bug inference type inference occur ring occurring lambda expression method reference bug bogus warning type safety method type bug compiler inference type inference picked method reference bug inference method nested parameterized type argument fails method reference bug null pointer exception nullpointerexception inference context inferencecontext check expression checkexpression java generics primitives over loading overloading bug compiler type correctly inferred lambda expression bug ensure don infer types violate constraints type parameter bound bug compiler nullness special methods my enum myenum value of valueof bug annotations null pointer exception nullpointerexception nullable type param bug null pointer exception nullpointerexception reference expression referenceexpression is potentially compatible with ispotentiallycompatiblewith andy clement go pivotal gopivotal aclement gopivotal contribution bug compiler revive code generation support type annotations olivier work org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast expression context expressioncontext invocation context java util hash map hashmap org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler i error handling policy ierrorhandlingpolicy org eclipse jdt internal compiler ast type reference typereference annotation position annotationposition org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler codegen constant pool constantpool org eclipse jdt internal compiler env i compilation unit icompilationunit org eclipse jdt internal compiler flow field inits faking flow context fieldinitsfakingflowcontext org eclipse jdt internal compiler flow flow context flowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler flow unconditional flow info unconditionalflowinfo org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup annotation binding annotationbinding org eclipse jdt internal compiler lookup array binding arraybinding org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup extra compiler modifiers extracompilermodifiers org eclipse jdt internal compiler lookup implicit null annotation verifier implicitnullannotationverifier org eclipse jdt internal compiler lookup inference context inferencecontext org eclipse jdt internal compiler lookup invocation site invocationsite org eclipse jdt internal compiler lookup local type binding localtypebinding org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup parameterized generic method binding parameterizedgenericmethodbinding org eclipse jdt internal compiler lookup parameterized method binding parameterizedmethodbinding org eclipse jdt internal compiler lookup parameterized type binding parameterizedtypebinding org eclipse jdt internal compiler lookup poly type binding polytypebinding org eclipse jdt internal compiler lookup problem reasons problemreasons org eclipse jdt internal compiler lookup problem reference binding problemreferencebinding org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup scope org eclipse jdt internal compiler lookup source type binding sourcetypebinding org eclipse jdt internal compiler lookup synthetic argument binding syntheticargumentbinding org eclipse jdt internal compiler lookup synthetic method binding syntheticmethodbinding org eclipse jdt internal compiler lookup tag bits tagbits org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type constants typeconstants org eclipse jdt internal compiler lookup type ids typeids org eclipse jdt internal compiler parser parser reference expression referenceexpression functional expression functionalexpression i poly expression ipolyexpression invocation site invocationsite secret variable nls string secret receiver variable name secretreceivervariablename rec nls implicit arg name implicitargname arg to char array tochararray secret variable codegen local variable binding localvariablebinding receiver variable receivervariable expression lhs type reference typereference type arguments typearguments selector name source start namesourcestart type binding typebinding receiver type receivertype have receiver havereceiver type binding typebinding resolved type arguments resolvedtypearguments type arguments have errors typeargumentshaveerrors synthetic accessor emulation method binding methodbinding synthetic accessor syntheticaccessor depth exact method reference method binding methodbinding exact method binding exactmethodbinding receiver precedes parameters receiverprecedesparameters descriptor parameters method lookup include receiver type binding typebinding free parameters freeparameters checking potential compatibility checkingpotentialcompatibility method binding methodbinding potential methods potentialmethods binding methods reference expression referenceexpression original hash map hashmap type binding typebinding reference expression referenceexpression copies per target type copiespertargettype source representation expression text hash map hashmap parameterized generic method binding parameterizedgenericmethodbinding inference context inferencecontext inference contexts inferencecontexts reference expression referenceexpression original initialize compilation result compilationresult result expression expression type reference typereference optional type arguments optionaltypearguments identifier or new identifierornew source end position sourceendposition set compilation result setcompilationresult result lhs expression type arguments typearguments optional type arguments optionaltypearguments selector identifier or new identifierornew source start sourcestart expression source start sourcestart source end sourceend source end position sourceendposition reference expression referenceexpression copy parser parser parser enclosing scope enclosingscope problem reporter problemreporter i compilation unit icompilationunit compilation unit compilationunit compilation result compilationresult get compilation unit getcompilationunit source compilation unit compilationunit compilation unit compilationunit get contents getcontents text reference expression referenceexpression copy reference expression referenceexpression parser parse expression parseexpression source compilation unit compilationunit source start sourcestart source end sourceend source start sourcestart enclosing scope enclosingscope reference compilation unit referencecompilationunit copy original copy source start sourcestart source start sourcestart copy source end sourceend source end sourceend copy should generate secret receiver variable shouldgeneratesecretreceivervariable is method reference ismethodreference have receiver havereceiver lhs invocation ast visitor astvisitor access esnon final outer locals accessesnonfinalouterlocals visit single name reference singlenamereference block scope blockscope skope binding local skope get binding getbinding get name getname reference expression referenceexpression local local variable binding localvariablebinding local variable binding localvariablebinding local binding localbinding local variable binding localvariablebinding local local binding localbinding is final isfinal local binding localbinding is effectively final iseffectivelyfinal access esnon final outer locals accessesnonfinalouterlocals access esnon final outer locals accessesnonfinalouterlocals reference expression referenceexpression lhs traverse reference expression referenceexpression enclosing scope enclosingscope access esnon final outer locals accessesnonfinalouterlocals access esnon final outer locals accessesnonfinalouterlocals generate implicit lambda generateimplicitlambda block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired reference expression referenceexpression copy copy arg c argc descriptor parameters length lambda expression lambdaexpression implicit lambda implicitlambda lambda expression lambdaexpression compilation result compilationresult binding modifiers extra compiler modifiers extracompilermodifiers acc generic signature accgenericsignature argument arguments argument arg c argc arg c argc arguments argument char operation charoperation append implicit arg name implicitargname integer to string tostring to char array tochararray implicit lambda implicitlambda set arguments setarguments arguments implicit lambda implicitlambda set expression context setexpressioncontext expression context expressioncontext implicit lambda implicitlambda set expected type setexpectedtype expected type expectedtype parameter shift parametershift receiver precedes parameters receiverprecedesparameters expression argv single name reference singlenamereference arg c argc parameter shift parametershift length argv length length char operation charoperation append implicit arg name implicitargname integer to string tostring parameter shift parametershift to char array tochararray argv single name reference singlenamereference generate secret receiver variable generatesecretreceivervariable should generate secret receiver variable shouldgeneratesecretreceivervariable is method reference ismethodreference generate secret receiver variable generatesecretreceivervariable lhs generate code generatecode current scope currentscope code stream codestream code stream codestream store receiver variable receivervariable code stream codestream add variable addvariable receiver variable receivervariable message send messagesend message message send messagesend message selector selector expression receiver generate secret receiver variable generatesecretreceivervariable single name reference singlenamereference receiver variable receivervariable copy lhs message receiver receiver precedes parameters receiverprecedesparameters single name reference singlenamereference char operation charoperation append implicit arg name implicitargname integer to string tostring to char array tochararray receiver message type arguments typearguments copy type arguments typearguments message arguments argv implicit lambda implicitlambda set body setbody message is array constructor reference isarrayconstructorreference don care annotations source positions immaterial drop array allocation expression arrayallocationexpression array allocation expression arrayallocationexpression array allocation expression arrayallocationexpression array allocation expression arrayallocationexpression dimensions expression argv lhs array type reference arraytypereference array type reference arraytypereference array type reference arraytypereference array type reference arraytypereference lhs array allocation expression arrayallocationexpression type array type reference arraytypereference dimensions single type reference singletypereference array type reference arraytypereference token array type reference arraytypereference array type reference arraytypereference token array type reference arraytypereference dimensions array qualified type reference arrayqualifiedtypereference array qualified type reference arrayqualifiedtypereference array qualified type reference arrayqualifiedtypereference lhs array allocation expression arrayallocationexpression type array qualified type reference arrayqualifiedtypereference dimensions qualified type reference qualifiedtypereference array qualified type reference arrayqualifiedtypereference tokens array qualified type reference arrayqualifiedtypereference source positions sourcepositions array qualified type reference arrayqualifiedtypereference array qualified type reference arrayqualifiedtypereference tokens array qualified type reference arrayqualifiedtypereference dimensions array qualified type reference arrayqualifiedtypereference source positions sourcepositions implicit lambda implicitlambda set body setbody array allocation expression arrayallocationexpression allocation expression allocationexpression allocation allocation expression allocationexpression lhs type reference typereference allocation type type reference typereference lhs lhs single name reference singlenamereference allocation type single type reference singletypereference single name reference singlenamereference lhs token lhs qualified name reference qualifiednamereference allocation type qualified type reference qualifiedtypereference qualified name reference qualifiednamereference lhs tokens qualified name reference qualifiednamereference lhs tokens length nls illegal state exception illegalstateexception nls unexpected node type allocation type arguments typearguments copy type arguments typearguments allocation arguments argv implicit lambda implicitlambda set body setbody allocation process lambda care report diagnostics don expect resolve code generation surface flow analysis implicit lambda implicitlambda resolve current scope currentscope i error handling policy ierrorhandlingpolicy old policy oldpolicy current scope currentscope problem reporter problemreporter switch error handling policy switcherrorhandlingpolicy silent error handling policy silenterrorhandlingpolicy implicit lambda implicitlambda analyse code analysecode current scope currentscope field inits faking flow context fieldinitsfakingflowcontext binding exceptions current scope currentscope flow info flowinfo dead unconditional flow info unconditionalflowinfo fake initialized flow info fakeinitializedflowinfo current scope currentscope outer most method scope outermostmethodscope analysis index analysisindex current scope currentscope reference type referencetype max field count maxfieldcount current scope currentscope problem reporter problemreporter switch error handling policy switcherrorhandlingpolicy old policy oldpolicy synthetic argument binding syntheticargumentbinding outer locals outerlocals receiver type receivertype synthetic outer local variables syntheticouterlocalvariables length outer locals outerlocals outer locals outerlocals length length implicit lambda implicitlambda add synthetic argument addsyntheticargument outer locals outerlocals actual outer local variable actualouterlocalvariable implicit lambda implicitlambda generate code generatecode current scope currentscope code stream codestream value required valuerequired generate secret receiver variable generatesecretreceivervariable code stream codestream remove variable removevariable receiver variable receivervariable receiver variable receivervariable should generate implicit lambda shouldgenerateimplicitlambda block scope blockscope current scope currentscope cases comp licated complicated impossible handle result code dup lication duplication binding is varargs isvarargs is constructor reference isconstructorreference receiver type receivertype synthetic outer local variables syntheticouterlocalvariables should capture instance shouldcaptureinstance bridges requires bridges requiresbridges opt direct code generation generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired grab synthetics play actual method binding actualmethodbinding binding handle special cases front transform implicit lambdas should generate implicit lambda shouldgenerateimplicitlambda current scope currentscope generate implicit lambda generateimplicitlambda current scope currentscope code stream codestream value required valuerequired source type binding sourcetypebinding source type sourcetype current scope currentscope enclosing source type enclosingsourcetype receiver type receivertype is array type isarraytype is constructor reference isconstructorreference actual method binding actualmethodbinding binding source type sourcetype add synthetic array method addsyntheticarraymethod array binding arraybinding receiver type receivertype synthetic method binding syntheticmethodbinding array constructor arrayconstructor char operation charoperation equals selector type constants typeconstants clone actual method binding actualmethodbinding binding source type sourcetype add synthetic array method addsyntheticarraymethod array binding arraybinding receiver type receivertype synthetic method binding syntheticmethodbinding array clone arrayclone synthetic accessor syntheticaccessor lhs is super issuper is method reference ismethodreference binding synthetic accessor syntheticaccessor message send messagesend generate code generatecode call code stream codestream get constant pool declaring class getconstantpooldeclaringclass extracted relevant port ions portions sans side binding is method reference ismethodreference type binding typebinding not equals notequals binding declaring class declaringclass lhs resolved type resolvedtype erasure binding declaring class declaringclass can be seen by canbeseenby current scope currentscope binding method binding methodbinding binding reference binding referencebinding lhs resolved type resolvedtype erasure code stream codestream position string buffer stringbuffer buffer string buffer stringbuffer arguments size argumentssize buffer append have receiver havereceiver lhs generate code generatecode current scope currentscope code stream codestream lhs is super issuper actual method binding actualmethodbinding is private isprivate lhs qualified super reference qualifiedsuperreference qualified super reference qualifiedsuperreference qualified super reference qualifiedsuperreference qualified super reference qualifiedsuperreference lhs type reference typereference qualification qualified super reference qualifiedsuperreference qualification qualification resolved type resolvedtype is interface isinterface buffer append source type sourcetype signature buffer append qualified super reference qualifiedsuperreference lhs current compatible type currentcompatibletype signature buffer append source type sourcetype signature buffer append receiver type receivertype signature arguments size argumentssize is constructor reference isconstructorreference reference binding referencebinding enclosing instances enclosinginstances binding uninitialized reference types receiver type receivertype is nested type isnestedtype reference binding referencebinding nested type nestedtype reference binding referencebinding receiver type receivertype enclosing instances enclosinginstances nested type nestedtype synthetic enclosing instance types syntheticenclosinginstancetypes length enclosing instances enclosinginstances length arguments size argumentssize length length reference binding referencebinding synthetic argument type syntheticargumenttype enclosing instances enclosinginstances buffer append synthetic argument type syntheticargumenttype signature object emulation path emulationpath current scope currentscope get emulation path getemulationpath synthetic argument type syntheticargumenttype compatible match disallow instance reference explicit constructor call code stream codestream generate outer access generateouteraccess emulation path emulationpath synthetic argument type syntheticargumenttype current scope currentscope enclosing instances enclosinginstances binding reference types synthetic accessor syntheticaccessor binding source type sourcetype add synthetic factory method addsyntheticfactorymethod binding synthetic accessor syntheticaccessor enclosing instances enclosinginstances add synthetic accessor syntheticaccessor add buffer append buffer append buffer append resolved type resolvedtype constant pool name constantpoolname buffer append is serializable isserializable source type sourcetype add synthetic method addsyntheticmethod invoke dynamic number invokedynamicnumber code stream codestream class file classfile record bootstrap method recordbootstrapmethod code stream codestream invoke dynamic invokedynamic invoke dynamic number invokedynamicnumber arguments size argumentssize descriptor selector buffer to string tostring to char array tochararray is constructor reference isconstructorreference lhs type reference typereference type reference typereference lhs type arguments typearguments value required valuerequired code stream codestream pop code stream codestream record positions from recordpositionsfrom source start sourcestart manage synthetic access if necessary managesyntheticaccessifnecessary block scope blockscope current scope currentscope flow info flowinfo flow info flowinfo flow info flowinfo tag bits tagbits flow info flowinfo unreachable dead binding binding is valid binding isvalidbinding method binding methodbinding codegen binding codegenbinding binding original codegen binding codegenbinding is varargs isvarargs completely managed transforming implicit lambda expression source type binding sourcetypebinding enclosing source type enclosingsourcetype current scope currentscope enclosing source type enclosingsourcetype is constructor reference isconstructorreference reference binding referencebinding all ocated type allocatedtype codegen binding codegenbinding declaring class declaringclass codegen binding codegenbinding is private isprivate type binding typebinding not equals notequals enclosing source type enclosingsourcetype all ocated type allocatedtype codegen binding codegenbinding declaring class declaringclass all ocated type allocatedtype tag bits tagbits tag bits tagbits is local type islocaltype codegen binding codegenbinding tag bits tagbits tag bits tagbits clear private modifier clearprivatemodifier synthetic accessor syntheticaccessor source type binding sourcetypebinding all ocated type allocatedtype add synthetic method addsyntheticmethod codegen binding codegenbinding current scope currentscope problem reporter problemreporter need to emulate method access needtoemulatemethodaccess codegen binding codegenbinding method references binding is private isprivate type binding typebinding not equals notequals enclosing source type enclosingsourcetype codegen binding codegenbinding declaring class declaringclass synthetic accessor syntheticaccessor source type binding sourcetypebinding codegen binding codegenbinding declaring class declaringclass add synthetic method addsyntheticmethod codegen binding codegenbinding access current scope currentscope problem reporter problemreporter need to emulate method access needtoemulatemethodaccess codegen binding codegenbinding lhs is super issuper source type binding sourcetypebinding destination type destinationtype enclosing source type enclosingsourcetype qualified lhs qualified super reference qualifiedsuperreference qualified super reference qualifiedsuperreference qualified super reference qualifiedsuperreference qualified super reference qualifiedsuperreference lhs type reference typereference qualification qualified super reference qualifiedsuperreference qualification drop bridge source type qualification resolved type resolvedtype is interface isinterface destination type destinationtype source type binding sourcetypebinding qualified super reference qualifiedsuperreference current compatible type currentcompatibletype synthetic accessor syntheticaccessor destination type destinationtype add synthetic method addsyntheticmethod codegen binding codegenbinding current scope currentscope problem reporter problemreporter need to emulate method access needtoemulatemethodaccess codegen binding codegenbinding binding is protected isprotected bits ast node astnode depthmask codegen binding codegenbinding declaring class declaringclass get package getpackage enclosing source type enclosingsourcetype get package getpackage source type binding sourcetypebinding current compatible type currentcompatibletype source type binding sourcetypebinding enclosing source type enclosingsourcetype enclosing type at enclosingtypeat bits ast node astnode depthmask ast node astnode depthshift synthetic accessor syntheticaccessor current compatible type currentcompatibletype add synthetic method addsyntheticmethod codegen binding codegenbinding is super access issuperaccess current scope currentscope problem reporter problemreporter need to emulate method access needtoemulatemethodaccess codegen binding codegenbinding flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo methods receiver have receiver havereceiver lhs checknpe current scope currentscope flow context flowcontext flow info flowinfo lhs analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo is constructor reference isconstructorreference type binding typebinding type receiver type receivertype leaf component type leafcomponenttype type is nested type isnestedtype type reference binding referencebinding reference binding referencebinding type is static isstatic current scope currentscope tag as acc essing enclosing instance state of tagasaccessingenclosinginstancestateof reference binding referencebinding type should capture instance shouldcaptureinstance reference binding referencebinding all ocated type erasure allocatedtypeerasure reference binding referencebinding type erasure all ocated type erasure allocatedtypeerasure is local type islocaltype local type binding localtypebinding all ocated type erasure allocatedtypeerasure add inner emulation dependent addinneremulationdependent current scope currentscope request cascade accesses manage synthetic access if necessary managesyntheticaccessifnecessary current scope currentscope flow info flowinfo flow info flowinfo override checking potential compatibility checkingpotentialcompatibility checking potential compatibility checkingpotentialcompatibility override accept potentially compatible methods acceptpotentiallycompatiblemethods method binding methodbinding methods checking potential compatibility checkingpotentialcompatibility potential methods potentialmethods methods type binding typebinding resolve type resolvetype block scope blockscope scope compiler options compileroptions compiler options compileroptions scope compiler options compileroptions type binding typebinding lhs type lhstype constant constant notaconstant constant constant notaconstant enclosing scope enclosingscope scope original record functional type recordfunctionaltype scope lhs bits ast node astnode ignore raw type check ignorerawtypecheck lhs type lhstype lhs resolve type resolvetype scope lhs compute conversion computeconversion scope lhs type lhstype lhs type lhstype type arguments typearguments length type arguments typearguments length type arguments have errors typeargumentshaveerrors compiler options compileroptions source level sourcelevel class file constants classfileconstants jdk resolved type arguments resolvedtypearguments type binding typebinding length length type reference typereference type reference typereference type arguments typearguments resolved type arguments resolvedtypearguments type reference typereference resolve type resolvetype scope check bounds type arguments have errors typeargumentshaveerrors resolve type resolvetype wildcard resolve type argument resolvetypeargument real work horse workhorse type arguments have errors typeargumentshaveerrors type reference typereference wildcard scope problem reporter problemreporter illegal usage of wildcard illegalusageofwildcard type reference typereference type arguments have errors typeargumentshaveerrors lhs type lhstype resolved type resolvedtype is constructor reference isconstructorreference lhs type lhstype is raw type israwtype scope problem reporter problemreporter raw constructor reference not with explicit type arguments rawconstructorreferencenotwithexplicittypearguments type arguments typearguments resolved type resolvedtype type arguments have errors typeargumentshaveerrors lhs type lhstype resolved type resolvedtype lhs type lhstype problem id problemid problem reasons problemreasons attempt to bypass direct super attempttobypassdirectsuper improve resolving exp erience experience lhs type lhstype lhs type lhstype closest match closestmatch lhs type lhstype lhs type lhstype is valid binding isvalidbinding nop e nope type resolved type resolvedtype receiver type receivertype lhs type lhstype have receiver havereceiver lhs name reference namereference lhs bits ast node astnode restrictiveflagmask binding type have receiver havereceiver is constructor reference isconstructorreference scope problem reporter problemreporter invalid type invalidtype lhs problem reference binding problemreferencebinding name reference namereference lhs get name getname problem reasons problemreasons not found notfound resolved type resolvedtype lhs type reference typereference have receiver havereceiver have receiver havereceiver lhs is super issuper is array constructor reference isarrayconstructorreference receiver type receivertype lhs type lhstype capture scope source start sourcestart source end sourceend raw type rawtype raw type rawtype exact method references lhs type lhstype is raw type israwtype binding exact method binding exactmethodbinding is method reference ismethodreference scope get exact method getexactmethod lhs type lhstype selector scope get exact constructor getexactconstructor lhs type lhstype is constructor reference isconstructorreference lhs type lhstype can be instantiate d canbeinstantiated scope problem reporter problemreporter cannot instantiate cannotinstantiate lhs lhs type lhstype resolved type resolvedtype lhs type reference typereference type reference typereference lhs has null type annotation hasnulltypeannotation annotation position annotationposition scope problem reporter problemreporter null annotation unsupported location nullannotationunsupportedlocation type reference typereference lhs is constructor reference isconstructorreference lhs type lhstype is array type isarraytype type binding typebinding leaf component type leafcomponenttype lhs type lhstype leaf component type leafcomponenttype leaf component type leafcomponenttype is reifiable isreifiable scope problem reporter problemreporter illegal generic array illegalgenericarray leaf component type leafcomponenttype resolved type resolvedtype type arguments typearguments scope problem reporter problemreporter invalid type arguments invalidtypearguments type arguments typearguments resolved type resolvedtype binding exact method binding exactmethodbinding scope get exact constructor getexactconstructor lhs type lhstype is method reference ismethodreference have receiver havereceiver original receiver variable receivervariable local variable binding localvariablebinding secret receiver variable name secretreceivervariablename name source start namesourcestart to char array tochararray lhs resolved type resolvedtype class file constants classfileconstants acc default accdefault scope add local variable addlocalvariable receiver variable receivervariable inlinable receiver variable receivervariable set constant setconstant constant notaconstant receiver variable receivervariable use flag useflag local variable binding localvariablebinding expected type expectedtype expression context expressioncontext invocation context poly type binding polytypebinding lhs type lhstype lhs resolved type resolvedtype type arguments have errors typeargumentshaveerrors lhs type lhstype resolved type resolvedtype resolve type resolvetype scope reference expressions call sites receiver type lhs empty lhs resolved type actual receiver type code valid descriptor descriptor descriptor is valid binding isvalidbinding resolved type resolvedtype convert parameters argument expressions type binding typebinding descriptor parameters descriptorparameters descriptor parameters as argument expressions descriptorparametersasargumentexpressions lhs type lhstype is base type isbasetype scope problem reporter problemreporter error no method for errornomethodfor lhs lhs type lhstype selector descriptor parameters descriptorparameters resolved type resolvedtype method reference expression form type arguments typearguments identifier type name typename type arguments typearguments identifier compile time error expression occurs context nop primary res olves resolves complain automatically enclosing instance instance constructor reference lex ically lexically enclosing instance implement check code generation emulation path computation fail suitable enclosing instance pulled leaving code generation consistent java mod us modus operand i operandi handle special array construction parameters length parameterslength descriptor parameters descriptorparameters length is constructor reference isconstructorreference lhs type lhstype is array type isarraytype parameters length parameterslength scope parameter compatibility level parametercompatibilitylevel descriptor parameters descriptorparameters type binding typebinding scope compatible scope problem reporter problemreporter invalid array constructor reference invalidarrayconstructorreference lhs type lhstype descriptor parameters descriptorparameters resolved type resolvedtype descriptor return type returntype is proper type ispropertype lhs type lhstype is compatible with iscompatiblewith descriptor return type returntype descriptor return type returntype type ids typeids scope problem reporter problemreporter constructed array incompatible constructedarrayincompatible lhs type lhstype descriptor return type returntype resolved type resolvedtype check null annotations checknullannotations scope resolved type resolvedtype is method reference ismethodreference is method reference ismethodreference depth free parameters freeparameters descriptor parameters descriptorparameters method binding methodbinding some method somemethod is method reference ismethodreference some method somemethod scope get method getmethod receiver type receivertype selector descriptor parameters descriptorparameters arguments type elided argumentstypeelided receiver type receivertype is raw type israwtype inferred return type inferredreturntype some method somemethod allocation expression allocationexpression infer diamond constructor inferdiamondconstructor scope receiver type receivertype descriptor parameters inferred return type inferredreturntype some method somemethod some method somemethod scope get constructor getconstructor reference binding referencebinding receiver type receivertype descriptor parameters descriptorparameters some method depth somemethoddepth depth another method depth anothermethoddepth some method somemethod some method somemethod is valid binding isvalidbinding some method somemethod is static isstatic have receiver havereceiver receiver type receivertype is parameterized type with actual arguments isparameterizedtypewithactualarguments scope problem reporter problemreporter method must be accessed static ally methodmustbeaccessedstatically some method somemethod resolved type resolvedtype lhs is super issuper lhs resolved type resolvedtype is interface isinterface scope check app ropriate method against supers checkappropriatemethodagainstsupers selector some method somemethod descriptor parameters method binding methodbinding another method anothermethod receiver precedes parameters receiverprecedesparameters have receiver havereceiver is method reference ismethodreference parameters length parameterslength type binding typebinding potential receiver potentialreceiver descriptor parameters descriptorparameters potential receiver potentialreceiver is compatible with iscompatiblewith receiver type receivertype scope type binding typebinding type to search typetosearch receiver type receivertype receiver type receivertype is raw type israwtype type binding typebinding super type supertype potential receiver potentialreceiver find super type originating from findsupertypeoriginatingfrom receiver type receivertype super type supertype type to search typetosearch super type supertype capture scope source start sourcestart source end sourceend type binding typebinding parameters binding parameters parameters length parameterslength parameters type binding typebinding parameters length parameterslength system arraycopy descriptor parameters descriptorparameters parameters parameters length parameterslength depth free parameters freeparameters parameters another method anothermethod scope get method getmethod type to search typetosearch selector parameters another method depth anothermethoddepth depth depth some method somemethod some method somemethod is valid binding isvalidbinding some method somemethod is static isstatic another method anothermethod another method anothermethod is valid binding isvalidbinding another method anothermethod is static isstatic scope problem reporter problemreporter method reference swings both ways methodreferenceswingsbothways another method anothermethod some method somemethod resolved type resolvedtype some method somemethod some method somemethod is valid binding isvalidbinding another method anothermethod another method anothermethod is valid binding isvalidbinding another method anothermethod is static isstatic binding some method somemethod bits ast node astnode depthmask some method depth somemethoddepth bits some method depth somemethoddepth xff ast node astnode depthshift have receiver havereceiver some method somemethod is static isstatic some method somemethod is constructor isconstructor scope problem reporter problemreporter method must be accessed with instance methodmustbeaccessedwithinstance some method somemethod resolved type resolvedtype another method anothermethod another method anothermethod is valid binding isvalidbinding some method somemethod some method somemethod is valid binding isvalidbinding some method somemethod is static isstatic binding another method anothermethod receiver real parameters start receiver precedes parameters receiverprecedesparameters bits ast node astnode depthmask another method depth anothermethoddepth bits another method depth anothermethoddepth xff ast node astnode depthshift another method anothermethod is static isstatic scope problem reporter problemreporter method must be accessed static ally methodmustbeaccessedstatically another method anothermethod resolved type resolvedtype binding bits ast node astnode depthmask binding visible name visiblename is constructor reference isconstructorreference receiver type receivertype source name sourcename selector scope problem reporter problemreporter dangling reference danglingreference receiver type receivertype visible name visiblename descriptor parameters descriptorparameters resolved type resolvedtype binding is abstract isabstract lhs is super issuper scope problem reporter problemreporter cannot dir ecly invoke abstract method cannotdireclyinvokeabstractmethod binding binding is static isstatic type binding typebinding not equals notequals binding declaring class declaringclass receiver type receivertype scope problem reporter problemreporter indirect access to static method indirectaccesstostaticmethod binding abstract method declaration abstractmethoddeclaration src method srcmethod binding source method sourcemethod src method srcmethod src method srcmethod is method ismethod src method srcmethod bits ast node astnode can be static canbestatic is method use deprecated ismethodusedeprecated binding scope scope problem reporter problemreporter deprecated method deprecatedmethod binding type arguments typearguments binding original type variables typevariables binding type variables scope problem reporter problemreporter unnecessary type arguments for method invocation unnecessarytypeargumentsformethodinvocation binding resolved type arguments resolvedtypearguments type arguments typearguments binding tag bits tagbits tag bits tagbits has missing type hasmissingtype scope problem reporter problemreporter missing type in method missingtypeinmethod binding compile time declaration passes muster type binding typebinding method exceptions methodexceptions binding thrown exceptions thrownexceptions type binding typebinding kosher exceptions kosherexceptions descriptor thrown exceptions thrownexceptions i max imax method exceptions methodexceptions length i max imax method exceptions methodexceptions is unchecked exception isuncheckedexception j max jmax kosher exceptions kosherexceptions length j max jmax method exceptions methodexceptions is compatible with iscompatiblewith kosher exceptions kosherexceptions scope scope problem reporter problemreporter unhandled exception unhandledexception method exceptions methodexceptions check null annotations checknullannotations scope method lookup free parameters freeparameters check invocation arguments checkinvocationarguments scope receiver type receivertype binding descriptor parameters descriptorparameters bits ast node astnode unchecked descriptor return type returntype type ids typeids type binding typebinding return type returntype binding is constructor isconstructor return type returntype receiver type receivertype bits ast node astnode unchecked resolved type arguments resolvedtypearguments return type returntype binding return type returntype return type returntype return type returntype scope environment convert to raw type converttorawtype return type returntype erasure return type returntype binding return type returntype return type returntype return type returntype return type returntype capture scope source start sourcestart source end sourceend check compatibility descriptor return type returntype is proper type ispropertype return type returntype is compatible with iscompatiblewith descriptor return type returntype scope is boxing compatible isboxingcompatible return type returntype descriptor return type returntype scope scope problem reporter problemreporter incompatible return type incompatiblereturntype binding descriptor return type returntype binding resolved type resolvedtype phew resolved type resolvedtype check null annotations checknullannotations block scope blockscope scope compiler options compileroptions compiler options compileroptions scope compiler options compileroptions compiler options compileroptions is annotation based null analysis enabled isannotationbasednullanalysisenabled assume reported expected type expectedtype null annotation matching nullannotationmatching has contradictions hascontradictions expected type expectedtype binding tag bits tagbits tag bits tagbits is nullness known isnullnessknown int erested interested reporting problems binding implicit null annotation verifier implicitnullannotationverifier scope environment compiler options compileroptions inherit null annotations inheritnullannotations check implicit null annotations checkimplicitnullannotations src method srcmethod binding scope todo simplify free parameters freeparameters len expected len expectedlen binding parameters length provided len providedlen descriptor parameters length receiver precedes parameters receiverprecedesparameters parameter consumed receiver provided len providedlen is var args isvarargs binding is varargs isvarargs is var args isvarargs provided len providedlen expected len expectedlen descriptor parameters expected len expectedlen is compatible with iscompatiblewith binding parameters expected len expectedlen binding parameters padded inference context inferencecontext get parameter getparameter len provided len providedlen len math min expected len expectedlen provided len providedlen len type binding typebinding descriptor parameter descriptorparameter descriptor parameters receiver precedes parameters receiverprecedesparameters type binding typebinding binding parameter bindingparameter inference context inferencecontext get parameter getparameter binding parameters is var args isvarargs null annotation matching nullannotationmatching annotation status annotationstatus null annotation matching nullannotationmatching analyse binding parameter bindingparameter descriptor parameter descriptorparameter flow info flowinfo unknown annotation status annotationstatus is any mismatch isanymismatch reporting scope problem reporter problemreporter reference expression argument nullity mismatch referenceexpressionargumentnullitymismatch binding parameter bindingparameter descriptor parameter descriptorparameter descriptor annotation status annotationstatus type binding typebinding return type returntype binding return type returntype binding is constructor isconstructor return type returntype scope environment create annotated type createannotatedtype receiver type receivertype annotation binding annotationbinding scope environment get non null annotation getnonnullannotation null annotation matching nullannotationmatching annotation status annotationstatus null annotation matching nullannotationmatching analyse descriptor return type returntype return type returntype flow info flowinfo unknown annotation status annotationstatus is any mismatch isanymismatch scope problem reporter problemreporter illegal return redefinition illegalreturnredefinition descriptor annotation status annotationstatus is unchecked isunchecked return type returntype type binding typebinding descriptor parameters as argument expressions descriptorparametersasargumentexpressions descriptor descriptor parameters descriptor parameters length binding parameters method reference treated invocation argument expressions types impl ies implies requires wildcard capture creates int eresting interesting comp lications complications descriptor parameters apply captures single wildcard type fanned prop agated propagated multiple locations type variable substitutions creating distinct captures def eating defeating idea capture capture fan https bugs eclipse org bugs bug cgi expected type expectedtype is parameterized type isparameterizedtype parameterized type binding parameterizedtypebinding type parameterized type binding parameterizedtypebinding expected type expectedtype method binding methodbinding method type get single abstract method getsingleabstractmethod enclosing scope enclosingscope source start sourcestart source end sourceend method parameters descriptor parameters cache resolved copies target types repeat over load overload resolution type inference avoided reference expression referenceexpression cached resolved copy cachedresolvedcopy type binding typebinding target type targettype reference expression referenceexpression copy copies per target type copiespertargettype copies per target type copiespertargettype target type targettype copy copy i error handling policy ierrorhandlingpolicy old policy oldpolicy enclosing scope enclosingscope problem reporter problemreporter switch error handling policy switcherrorhandlingpolicy silent error handling policy silenterrorhandlingpolicy copy copy happen code assist copy copy set expression context setexpressioncontext expression context expressioncontext copy set expected type setexpectedtype target type targettype copy resolve type resolvetype enclosing scope enclosingscope copies per target type copiespertargettype copies per target type copiespertargettype hash map hashmap type binding typebinding reference expression referenceexpression copies per target type copiespertargettype target type targettype copy copy enclosing scope enclosingscope problem reporter problemreporter switch error handling policy switcherrorhandlingpolicy old policy oldpolicy register inference context registerinferencecontext parameterized generic method binding parameterizedgenericmethodbinding method inference context inferencecontext context inference contexts inferencecontexts inference contexts inferencecontexts hash map hashmap parameterized generic method binding parameterizedgenericmethodbinding inference context inferencecontext inference contexts inferencecontexts method context inference context inferencecontext get inference context getinferencecontext parameterized method binding parameterizedmethodbinding method inference contexts inferencecontexts inference contexts inferencecontexts method reference expression referenceexpression resolve expression expecting resolveexpressionexpecting type binding typebinding target type targettype scope scope inference context inferencecontext inference context inferencecontext inference variables target type exact method binding exactmethodbinding method binding methodbinding function type functiontype target type targettype get single abstract method getsingleabstractmethod scope function type functiontype function type functiontype problem id problemid problem reasons problemreasons no such single abstract method nosuchsingleabstractmethod function type functiontype parameters length exact method binding exactmethodbinding parameters length have receiver havereceiver is method reference ismethodreference exact method binding exactmethodbinding is static isstatic descriptors parameters free inference variables reference expression referenceexpression copy cached resolved copy cachedresolvedcopy target type targettype copy copy resolved type resolvedtype copy resolved type resolvedtype is valid binding isvalidbinding copy binding copy binding is valid binding isvalidbinding copy is constructor reference isconstructorreference char operation charoperation equals selector constant pool constantpool init is exact method reference isexactmethodreference exact method binding exactmethodbinding method binding methodbinding get exact method getexactmethod exact method binding exactmethodbinding is method reference ismethodreference char operation charoperation equals selector constant pool constantpool init is per tinent to applicability ispertinenttoapplicability type binding typebinding target type targettype method binding methodbinding method is exact method reference isexactmethodreference is per tinent to applicability ispertinenttoapplicability target type targettype method type binding typebinding generic type arguments generictypearguments resolved type arguments resolvedtypearguments inference context inferencecontext fresh inference context freshinferencecontext scope scope expression context expressioncontext expression context expressioncontext vanilla context expression arguments create pseudo expressions createpseudoexpressions free parameters freeparameters inference context inferencecontext scope arguments should n shouldn happen is super access issuperaccess lhs is super issuper is type access istypeaccess have receiver havereceiver set actual receiver type setactualreceivertype reference binding referencebinding receiver type receivertype set depth setdepth depth depth depth set field index setfieldindex depth string buffer stringbuffer print expression printexpression tab string buffer stringbuffer output lhs print output nls output append type arguments typearguments output append max type arguments typearguments length max type arguments typearguments print output nls output append nls type arguments typearguments max print output output append is constructor reference isconstructorreference nls output append output append selector output traverse ast visitor astvisitor visitor block scope blockscope block scope blockscope visitor visit block scope blockscope lhs traverse visitor block scope blockscope length type arguments typearguments type arguments typearguments length length type arguments typearguments traverse visitor block scope blockscope visitor end visit endvisit block scope blockscope expression create pseudo expressions createpseudoexpressions type binding typebinding reference treated invocation argument expressions types reference treated invocation argument expressions types sets types passed resolve type resolvetype scope get method getmethod some method somemethod another method anothermethod expression expressions expression length pos source start sourcestart source end sourceend length nls expressions single name reference singlenamereference fake arg fakearg to char array tochararray pos expressions resolved type resolvedtype expressions override is potentially compatible with ispotentiallycompatiblewith type binding typebinding target type targettype scope scope is constructor ref isconstructorref is constructor reference isconstructorreference is constructor ref isconstructorref receiver type receivertype receiver type receivertype is array type isarraytype type binding typebinding leaf component type leafcomponenttype receiver type receivertype leaf component type leafcomponenttype leaf component type leafcomponenttype is reifiable isreifiable reference expression per tinent pertinent app licability applicability is per tinent to applicability ispertinenttoapplicability target type targettype method binding methodbinding sam target type targettype get single abstract method getsingleabstractmethod enclosing scope enclosingscope sam sam is valid binding isvalidbinding type arguments have errors typeargumentshaveerrors receiver type receivertype receiver type receivertype is valid binding isvalidbinding parameters length parameterslength sam parameters length type binding typebinding descriptor parameters descriptorparameters type binding typebinding parameters length parameterslength parameters length parameterslength descriptor parameters descriptorparameters reference binding referencebinding compound name compoundname char operation charoperation is compatible with iscompatiblewith type binding typebinding other type othertype scope capture scope capturescope type binding typebinding find super type originating from findsupertypeoriginatingfrom type binding typebinding other type othertype other type othertype string to string tostring nls wildcard free parameters freeparameters descriptor parameters descriptorparameters checking potential compatibility checkingpotentialcompatibility method binding methodbinding compile time declaration compiletimedeclaration get compile time declaration getcompiletimedeclaration scope is constructor ref isconstructorref descriptor parameters descriptorparameters msmb compile time declaration compiletimedeclaration compile time declaration compiletimedeclaration is valid binding isvalidbinding potential methods potentialmethods method binding methodbinding compile time declaration compiletimedeclaration potential methods input scope msmb captured potential methods potentialmethods compatible compile time declaration length potential methods potentialmethods length length potential methods potentialmethods is static isstatic potential methods potentialmethods is constructor isconstructor form reference type referencetype type arguments typearguments identifier have receiver havereceiver form have receiver havereceiver have receiver havereceiver parameters length parameterslength system arraycopy descriptor parameters descriptorparameters descriptor parameters descriptorparameters type binding typebinding parameters length parameterslength parameters length parameterslength free parameters freeparameters descriptor parameters descriptorparameters compile time declaration compiletimedeclaration get compile time declaration getcompiletimedeclaration scope descriptor parameters descriptorparameters msmb compile time declaration compiletimedeclaration compile time declaration compiletimedeclaration is valid binding isvalidbinding potential methods potentialmethods method binding methodbinding compile time declaration compiletimedeclaration potential methods input scope msmb captured potential methods potentialmethods compatible compile time declaration length potential methods potentialmethods length length potential methods potentialmethods is static isstatic checking potential compatibility checkingpotentialcompatibility potential methods potentialmethods binding methods method lookup free parameters freeparameters method binding methodbinding get compile time declaration getcompiletimedeclaration scope scope is constructor ref isconstructorref type binding typebinding parameters exact method binding exactmethodbinding exact method binding exactmethodbinding receiver type receivertype is array type isarraytype scope find method for array findmethodforarray array binding arraybinding receiver type receivertype selector binding parameters is constructor ref isconstructorref scope get constructor getconstructor reference binding referencebinding receiver type receivertype parameters scope get method getmethod receiver type receivertype selector parameters is compatible with iscompatiblewith type binding typebinding target type targettype scope scope reference expression referenceexpression copy cached resolved copy cachedresolvedcopy target type targettype copy copy resolved type resolvedtype copy resolved type resolvedtype is valid binding isvalidbinding copy binding copy binding is valid binding isvalidbinding s is more specific sismorespecific type binding typebinding type binding typebinding scope scope s is more specific sismorespecific scope exact method binding exactmethodbinding find super type originating from findsupertypeoriginatingfrom capture enclosing scope enclosingscope source start sourcestart source end sourceend method binding methodbinding s sam ssam get single abstract method getsingleabstractmethod enclosing scope enclosingscope s sam ssam s sam ssam is valid binding isvalidbinding type binding typebinding s sam ssam return type returntype method binding methodbinding t sam tsam get single abstract method getsingleabstractmethod enclosing scope enclosingscope t sam tsam t sam tsam is valid binding isvalidbinding type binding typebinding t sam tsam return type returntype type binding typebinding s params sparams s sam ssam parameters type binding typebinding t params tparams t sam tsam parameters number parameters s params sparams length type binding typebinding not equals notequals s params sparams t params tparams type ids typeids type ids typeids is compatible with iscompatiblewith scope is base type isbasetype is base type isbasetype is base type isbasetype exact method binding exactmethodbinding return type returntype is base type isbasetype org eclipse jdt internal compiler lookup method binding methodbinding get method binding getmethodbinding array clone real binding actual method binding actualmethodbinding actual method binding actualmethodbinding binding actual method binding actualmethodbinding is array constructor reference isarrayconstructorreference is constructor reference isconstructorreference lhs resolved type resolvedtype lhs resolved type resolvedtype is array type isarraytype
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug compiler compiler misidentifies variable org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler flow flow context flowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type ids typeids combined binary expression combinedbinaryexpression implementation binary expression binaryexpression attempts mit igate mitigate issues raised expressions deep left most leftmost branch main taining maintaining table direct references sub expressions subexpressions implementing recursive var iants variants recursive algorithms ancestors sub expressions subexpressions table holds int ermediate intermediate binary expressions role provide reverse d reversed navigation left relationship binary expression binaryexpression expression cope deep left branches instance combined binary expression combinedbinaryexpression created variable thr esholds thresholds held link arity max aritymax specific top most topmost node binary expressions deeper combined binary expression combinedbinaryexpression references table notes combined binary expression combinedbinaryexpression meant behave ways binary expression binaryexpression observable resp ect respect visit ors visitors implement traversal binary expressions advantage combined binary expressions face ris k risk stack overflow error stackoverflowerror deep instances call ers callers change rebuild expression scr atch scratch amend references table needed cope separated expressions combined binary expression combinedbinaryexpression binary expression binaryexpression number consecutive binary expressions left branch bea r bear notes presence combined binary expression combinedbinaryexpression instance res ets resets arity compatible property main tained maintained parser arity threshold trigger creation full fledged combined binary expression combinedbinaryexpression field main tained maintained top most topmost binary expression enables variable policy scales large expressions arity max aritymax upper limit link arity max aritymax arity max max limit link arity max aritymax arity max min term series link arity max aritymax values changing exp erimentation experimentation meant changed parse operation default arity max starting value defaultaritymaxstartingvalue arity max min table references binary expressions left branch instances combined binary expression combinedbinaryexpression repeated left sub expression subexpression references table referencestable combined binary expression cares tracking expression arity binary expression binaryexpression references table referencestable combined binary expression combinedbinaryexpression arity str ictly strictly greater references table built initialized reverse relationship defined link binary expression binaryexpression left arity left compatible arity consecutive compatible binary expressions left most leftmost branch left top most topmost left left expression param left left branch expression param branch expression param binary expression param arity number binary expressions compatible exist left most leftmost branch left including left str ictly strictly greater combined binary expression combinedbinaryexpression expression left expression arity left init arity initarity left arity combined binary expression combinedbinaryexpression combined binary expression combinedbinaryexpression expression expression init arity initarity expression left expression arity flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo implementation sync binary expression binaryexpression analyse code analysecode references table referencestable analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo binary expression binaryexpression cursor cursor references table referencestable resolved type resolvedtype type ids typeids java lang string javalangstring cursor left checknpe current scope currentscope flow context flowcontext flow info flowinfo flow info flowinfo cursor left analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo unconditional inits unconditionalinits arity cursor references table referencestable resolved type resolvedtype type ids typeids java lang string javalangstring cursor checknpe current scope currentscope flow context flowcontext flow info flowinfo flow info flowinfo cursor analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo unconditional inits unconditionalinits resolved type resolvedtype type ids typeids java lang string javalangstring checknpe current scope currentscope flow context flowcontext flow info flowinfo analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo unconditional inits unconditionalinits account exception thrown arithmetics flow context flowcontext record abrupt exit recordabruptexit generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope block scope blockscope code stream codestream code stream codestream typeid generate optimized string concatenation generateoptimizedstringconcatenation references table referencestable generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream typeid bits ast node astnode operatormask ast node astnode operatorshift operator ids operatorids bits ast node astnode returntypeidmask type ids typeids java lang string javalangstring constant constant notaconstant code stream codestream generate constant generateconstant constant implicit conversion implicitconversion code stream codestream invoke string concatenation append for type invokestringconcatenationappendfortype implicit conversion implicitconversion type ids typeids compile type mask binary expression binaryexpression cursor references table referencestable restart cursor type d cursortypeid code stream codestream position restart arity restart restart cursor references table referencestable restart constant constant notaconstant code stream codestream generate constant generateconstant cursor constant cursor implicit conversion implicitconversion code stream codestream invoke string concatenation append for type invokestringconcatenationappendfortype cursor implicit conversion implicitconversion type ids typeids compile type mask rec onsider reconsider decide cover string concatenation cursor references table referencestable restart bits ast node astnode operatormask ast node astnode operatorshift operator ids operatorids cursor type d cursortypeid cursor bits ast node astnode returntypeidmask type ids typeids java lang string javalangstring cursor type d cursortypeid java lang string javalangstring cursor constant constant notaconstant cursor constant string value stringvalue length optimize str cursor generate code generatecode block scope blockscope code stream codestream code stream codestream invoke string concatenation append for type invokestringconcatenationappendfortype cursor type d cursortypeid restart reached left most leftmost expression restart cursor left generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream cursor left implicit conversion implicitconversion type ids typeids compile type mask pc aux pcaux restart arity code stream codestream record positions from recordpositionsfrom cursor references table referencestable left source start sourcestart pc aux pcaux code stream codestream position cursor generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream cursor implicit conversion implicitconversion type ids typeids compile type mask code stream codestream record positions from recordpositionsfrom pc aux pcaux cursor source start sourcestart code stream codestream record positions from recordpositionsfrom left source start sourcestart code stream codestream position generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream implicit conversion implicitconversion type ids typeids compile type mask code stream codestream record positions from recordpositionsfrom source start sourcestart generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream typeid generate optimized string concatenation creation generateoptimizedstringconcatenationcreation block scope blockscope block scope blockscope code stream codestream code stream codestream typeid generate optimized string concatenation creation generateoptimizedstringconcatenationcreation references table referencestable generate optimized string concatenation creation generateoptimizedstringconcatenationcreation block scope blockscope code stream codestream typeid bits ast node astnode operatormask ast node astnode operatorshift operator ids operatorids bits ast node astnode returntypeidmask type ids typeids java lang string javalangstring constant constant notaconstant code stream codestream position binary expression binaryexpression cursor references table referencestable arity silence warnings restart restart arity restart restart cursor references table referencestable restart bits ast node astnode operatormask ast node astnode operatorshift operator ids operatorids cursor bits ast node astnode returntypeidmask type ids typeids java lang string javalangstring cursor constant constant notaconstant java lang string buffer stringbuffer code stream codestream new string contatenation newstringcontatenation code stream codestream dup code stream codestream ldc cursor constant string value stringvalue code stream codestream invoke string concatenation string constructor invokestringconcatenationstringconstructor invokespecial java lang string buffer stringbuffer init ljava lang string cursor generate optimized string concatenation creation generateoptimizedstringconcatenationcreation block scope blockscope code stream codestream cursor implicit conversion implicitconversion type ids typeids compile type mask restart reached left most leftmost expression restart cursor left generate optimized string concatenation creation generateoptimizedstringconcatenationcreation block scope blockscope code stream codestream cursor left implicit conversion implicitconversion type ids typeids compile type mask pc aux pcaux restart arity code stream codestream record positions from recordpositionsfrom cursor references table referencestable left source start sourcestart pc aux pcaux code stream codestream position cursor generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream cursor implicit conversion implicitconversion type ids typeids compile type mask code stream codestream record positions from recordpositionsfrom pc aux pcaux cursor source start sourcestart code stream codestream record positions from recordpositionsfrom left source start sourcestart code stream codestream position generate optimized string concatenation generateoptimizedstringconcatenation block scope blockscope code stream codestream implicit conversion implicitconversion type ids typeids compile type mask code stream codestream record positions from recordpositionsfrom source start sourcestart generate optimized string concatenation creation generateoptimizedstringconcatenationcreation block scope blockscope code stream codestream typeid init arity initarity expression expression arity references table referencestable binary expression binaryexpression references table referencestable binary expression binaryexpression expression references table referencestable binary expression binaryexpression references table referencestable left arity max aritymax default arity max starting value defaultaritymaxstartingvalue string buffer stringbuffer print expression no parent hesis printexpressionnoparenthesis indent string buffer stringbuffer output operator expression operatorexpression print expression printexpression references table referencestable print expression no parent hesis printexpressionnoparenthesis indent output string operator string operatorstring operator t o string operatortostring arity output append output references table referencestable left print expression printexpression indent output arity output append append operator string operatorstring append output references table referencestable print expression printexpression output output append output append append operator string operatorstring append print expression printexpression output type binding typebinding resolve type resolvetype block scope blockscope scope implementation sync binary expression binaryexpression resolve type resolvetype references table referencestable resolve type resolvetype scope binary expression binaryexpression cursor cursor references table referencestable left cast expression castexpression cursor left bits ast node astnode disable unnecessary cast check disableunnecessarycastcheck check cursor left resolve type resolvetype scope arity references table referencestable non recursive resolve type upwards nonrecursiveresolvetypeupwards scope non recursive resolve type upwards nonrecursiveresolvetypeupwards scope resolved type resolvedtype traverse ast visitor astvisitor visitor block scope blockscope scope references table referencestable traverse visitor scope visitor visit scope restart restart arity restart restart visitor visit references table referencestable restart scope visitor end visit endvisit references table referencestable restart scope restart visit returned restart references table referencestable left traverse visitor scope restart arity references table referencestable traverse visitor scope visitor end visit endvisit references table referencestable scope traverse visitor scope visitor end visit endvisit scope change link arity max aritymax needed current policy arity max aritymax time method called reaches link arity max max policies inc rementing incrementing agressively call assigned link left sophisticate increment policies leverage left most leftmost expression hold indication number arity max aritymax row tune arity max tunearitymax arity max aritymax arity max max arity max aritymax
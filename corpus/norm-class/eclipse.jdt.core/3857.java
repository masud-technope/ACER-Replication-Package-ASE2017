copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core java util array list arraylist java util collections java util hash map hashmap java util list java util map org eclipse jdt core i java element ijavaelement org eclipse jdt core i region iregion region i region iregion node map i java element ijavaelement node children collections empty map emptymap node clear children clearchildren children collections empty map emptymap node create child for createchildfor i java element ijavaelement element children is empty isempty children hash map hashmap node child children element child child node children element child child node find child for findchildfor i java element ijavaelement element children element count leaf nodes countleafnodes is empty isempty result node children values result count leaf nodes countleafnodes result is empty isempty children is empty isempty gather leaves gatherleaves i java element ijavaelement result map entry i java element ijavaelement node children entry set entryset node next node nextnode get value getvalue next node nextnode is empty isempty result get key getkey next node nextnode gather leaves gatherleaves result remove child removechild i java element ijavaelement current element currentelement children remove current element currentelement node root node override add i java element ijavaelement element element node node create node for createnodefor element node clear children clearchildren node create node for createnodefor i java element ijavaelement element element root node parent node parentnode create node for createnodefor get parent getparent element parent node parentnode create child for createchildfor element override i java element ijavaelement element node existing node existingnode find most specific node for findmostspecificnodefor element existing node existingnode root existing node existingnode is empty isempty node find most specific node for findmostspecificnodefor i java element ijavaelement element element root node parent node parentnode find most specific node for findmostspecificnodefor get parent getparent element node child parent node parentnode find child for findchildfor element child parent node parentnode child override i java element ijavaelement get elements getelements leaves count leaf nodes countleafnodes i java element ijavaelement result i java element ijavaelement leaves insert ions insertions root gather leaves gatherleaves result insert ions insertions leaves result count leaf nodes countleafnodes root is empty isempty root count leaf nodes countleafnodes node find exact node findexactnode i java element ijavaelement element element root node parent node parentnode find exact node findexactnode get parent getparent element parent node parentnode parent node parentnode find child for findchildfor element override remove i java element ijavaelement element node node find exact node findexactnode element node node clear children clearchildren return value returnvalue node is empty isempty list node ancestors array list arraylist find path findpath ancestors element i java element ijavaelement current element currentelement element idx ancestors size idx current element currentelement node current ancestors idx node parent ancestors idx current is empty isempty parent remove child removechild current element currentelement current element currentelement get parent getparent current element currentelement return value returnvalue i java element ijavaelement get parent getparent i java element ijavaelement element element get parent getparent find path findpath list node ancestors i java element ijavaelement element element ancestors add root find path findpath ancestors get parent getparent element node ancestors ancestors size node find child for findchildfor element ancestors add
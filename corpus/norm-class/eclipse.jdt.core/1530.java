copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests model java file org eclipse core resources org eclipse core runtime core exception coreexception org eclipse core runtime path org eclipse jdt core org eclipse jdt core tests util util org eclipse jdt internal core java element javaelement org eclipse jdt internal core local variable localvariable junit framework test memento tests mementotests modifying resource tests modifyingresourcetests memento tests mementotests string tests belong skipped tests prefix test array testarray tests names string test package fragment root memento testpackagefragmentrootmemento tests numbers tests range test suite build model test suite buildmodeltestsuite memento tests mementotests assert memento assertmemento string expected i java element ijavaelement element string actual element get handle identifier gethandleidentifier expected equals actual string escapedexternaljcl getescapedexternaljclpath start actual index of indexof escapedexternaljcl start string first part firstpart actual substring start system print util display string displaystring first part firstpart system print getescapedexternaljclpath string second part secondpart actual substring start escapedexternaljcl length system print util display string displaystring second part secondpart system print util display string displaystring actual system println assert equals assertequals unexpected memento element expected actual i java element ijavaelement restored java core javacore create actual assert equals assertequals unexpected restored element element restored string restored handle identifier restoredhandleidentifier restored get handle identifier gethandleidentifier assert equals assertequals unexpected memento restored element restored expected restored handle identifier restoredhandleidentifier string getescapedexternaljclpath get escaped path getescapedpath getexternaljclpath to string tostring string get escaped path getescapedpath string path string buffer stringbuffer buffer string buffer stringbuffer path length character path char at charat character buffer append buffer append character buffer to string tostring set up suite setupsuite exception set up suite setupsuite util create class folder createclassfolder string java get external resource path getexternalresourcepath my lib mylib create java project createjavaproject string src string getexternaljclpathstring lib lib my lib mylib jar other proj otherproj lib other proj otherproj lib my lib mylib jar get external resource path getexternalresourcepath my lib mylib bin tear down suite teardownsuite exception delete project deleteproject delete external resource deleteexternalresource my lib mylib tear down suite teardownsuite test annotation testannotation i annotation iannotation annotation get compilation unit getcompilationunit src java get type gettype get annotation getannotation my annot myannot assert memento assertmemento src java my annot myannot annotation test annotation testannotation i annotation iannotation annotation get compilation unit getcompilationunit src java get type gettype get method getmethod foo string get annotation getannotation my annot myannot assert memento assertmemento src java foo my annot myannot annotation test annotation testannotation i annotation iannotation annotation get compilation unit getcompilationunit src java get type gettype get field getfield field get annotation getannotation my annot myannot assert memento assertmemento src java field my annot myannot annotation test anonymous type memento testanonymoustypememento i type itype type get compilation unit getcompilationunit src java get type gettype i type itype anonymous type get initializer getinitializer get type gettype assert memento assertmemento src java anonymous anonymous type get initializer getinitializer get type gettype assert memento assertmemento src java anonymous test anonymous type memento testanonymoustypememento i type itype type get compilation unit getcompilationunit src java get type gettype i type itype anonymous type get field getfield get type gettype assert memento assertmemento src java anonymous anonymous type get field getfield get type gettype assert memento assertmemento src java anonymous test anonymous type memento testanonymoustypememento i type itype type get compilation unit getcompilationunit src java get type gettype i type itype anonymous type get method getmethod foo string get type gettype assert memento assertmemento src java foo anonymous anonymous type get method getmethod foo string get type gettype assert memento assertmemento src java foo anonymous test binary field memento testbinaryfieldmemento java model exception javamodelexception i field ifield field get class file getclassfile lib get type gettype get field getfield field assert memento assertmemento lib field field test binary inner type memento testbinaryinnertypememento java model exception javamodelexception i type itype type get class file getclassfile lib get type gettype assert memento assertmemento lib type i field ifield inner field innerfield type get field getfield field assert memento assertmemento lib field inner field innerfield i method imethod inner method innermethod type get method getmethod foo string ljava lang string assert memento assertmemento lib foo ljava lang string inner method innermethod test binary method memento testbinarymethodmemento java model exception javamodelexception i type itype type get class file getclassfile lib get type gettype i method imethod method type get method getmethod foo string ljava lang string assert memento assertmemento lib foo ljava lang string method test binary method memento testbinarymethodmemento java model exception javamodelexception i type itype type get class file getclassfile lib get type gettype i method imethod method type get method getmethod bar string assert memento assertmemento lib bar method test binary method memento testbinarymethodmemento java model exception javamodelexception i type itype type get class file getclassfile lib get type gettype i method imethod method type get method getmethod fred string assert memento assertmemento lib fred method test binary method memento testbinarymethodmemento java model exception javamodelexception i type itype type get class file getclassfile lib get type gettype i method imethod method type get method getmethod foo string ljava util collection assert memento assertmemento lib foo ljava util collection method test binary type memento testbinarytypememento java model exception javamodelexception i type itype type get class file getclassfile lib get type gettype assert memento assertmemento lib type test class file memento testclassfilememento i class file iclassfile get class file getclassfile lib assert memento assertmemento lib get class file getclassfile lib assert memento assertmemento lib test compilation unit memento testcompilationunitmemento i compilation unit icompilationunit get compilation unit getcompilationunit src java assert memento assertmemento src java get compilation unit getcompilationunit src java assert memento assertmemento src java bugs eclipse org bugs bug cgi test compilation unit memento testcompilationunitmemento exception i compilation unit icompilationunit get compilation unit getcompilationunit src java string handle identifier handleidentifier get handle identifier gethandleidentifier i compilation unit icompilationunit java core javacore create handle identifier handleidentifier npe assert equals assertequals tests binary field external jar persisted restored memento test external jar binary field memento testexternaljarbinaryfieldmemento java model exception javamodelexception i type itype type get class file getclassfile getexternaljclpathstring get type gettype i field ifield field type get field getfield field assert memento assertmemento getescapedexternaljclpath field field tests binary type field external jar persisted restored memento test external jar binary inner type memento testexternaljarbinaryinnertypememento java model exception javamodelexception i type itype type get class file getclassfile getexternaljclpathstring get type gettype assert memento assertmemento getescapedexternaljclpath type tests binary method external jar persisted restored memento test external jar binary method memento testexternaljarbinarymethodmemento java model exception javamodelexception i type itype type get class file getclassfile getexternaljclpathstring get type gettype i method imethod method type get method getmethod foo string ljava lang string assert memento assertmemento getescapedexternaljclpath foo ljava lang string method tests binary type external jar persisted restored memento test external jar binary type memento testexternaljarbinarytypememento java model exception javamodelexception i type itype type get class file getclassfile getexternaljclpathstring get type gettype assert memento assertmemento getescapedexternaljclpath type tests file external jar root file system persisted restored memento test external jar class file memento testexternaljarclassfilememento java model exception javamodelexception separator file separator char separatorchar string dev ice device separator i class file iclassfile class file classfile get class file getclassfile dev ice device separator lib jar assert memento assertmemento dev ice device lib jar class file classfile ensures file external library folder persisted restored memento test external library folder class file memento testexternallibraryfolderclassfilememento java model exception javamodelexception i class file iclassfile class file classfile get class file getclassfile get external resource path getexternalresourcepath my lib mylib assert memento assertmemento get escaped path getescapedpath path get external resource path getexternalresourcepath my lib mylib to string tostring class file classfile tests declaration persisted restored memento test import container memento testimportcontainermemento i import container iimportcontainer import container importcontainer get compilation unit getcompilationunit src java get import container getimportcontainer assert memento assertmemento src java import container importcontainer tests declaration persisted restored memento test import declaration memento testimportdeclarationmemento i import declaration iimportdeclaration import decl importdecl get compilation unit getcompilationunit src java get import getimport java serializable assert memento assertmemento src java java serializable import decl importdecl import decl importdecl get compilation unit getcompilationunit src java get import getimport java util assert memento assertmemento src java java util import decl importdecl ensures java element returned invalid memento regression test bug model aioob breakpoints view test invalid memento testinvalidmemento i java element ijavaelement element java core javacore create src assert element equals assertelementequals unexpected element src element tests initializer persisted restored memento test initializer memento testinitializermemento i type itype type get compilation unit getcompilationunit src java get type gettype i initializer iinitializer initializer type get initializer getinitializer assert memento assertmemento src java initializer initializer type get initializer getinitializer assert memento assertmemento src java initializer tests binary field internal jar persisted restored memento test internal jar binary field memento testinternaljarbinaryfieldmemento java model exception javamodelexception i type itype type get package fragment root getpackagefragmentroot lib my lib mylib jar get package fragment getpackagefragment get class file getclassfile get type gettype i field ifield field type get field getfield field assert memento assertmemento lib my lib mylib jar field field tests binary type field internal jar persisted restored memento test internal jar binary inner type memento testinternaljarbinaryinnertypememento java model exception javamodelexception i type itype type get package fragment root getpackagefragmentroot lib my lib mylib jar get package fragment getpackagefragment get class file getclassfile get type gettype assert memento assertmemento lib my lib mylib jar type tests binary method internal jar persisted restored memento test internal jar binary method memento testinternaljarbinarymethodmemento java model exception javamodelexception i type itype type get package fragment root getpackagefragmentroot lib my lib mylib jar get package fragment getpackagefragment get class file getclassfile get type gettype i method imethod method type get method getmethod foo string ljava lang string assert memento assertmemento lib my lib mylib jar foo ljava lang string method tests binary type internal jar persisted restored memento test internal jar binary type memento testinternaljarbinarytypememento java model exception javamodelexception i type itype type get package fragment root getpackagefragmentroot lib my lib mylib jar get package fragment getpackagefragment get class file getclassfile get type gettype assert memento assertmemento lib my lib mylib jar type tests local type persisted restored memento test local type memento testlocaltypememento i type itype type get compilation unit getcompilationunit src java get type gettype i type itype anonymous type get initializer getinitializer get type gettype assert memento assertmemento src java anonymous anonymous type get initializer getinitializer get type gettype assert memento assertmemento src java anonymous tests local type persisted restored memento test local type memento testlocaltypememento i type itype type get compilation unit getcompilationunit src java get type gettype i type itype anonymous type get method getmethod foo string get type gettype assert memento assertmemento src java foo anonymous anonymous type get method getmethod foo string get type gettype assert memento assertmemento src java foo anonymous tests local variable persisted restored memento test local variable memento testlocalvariablememento i type itype type get compilation unit getcompilationunit src java get type gettype i method imethod method type get method getmethod foo string i local variable ilocalvariable local var localvar local variable localvariable java element javaelement method assert memento assertmemento src java foo local var localvar tests local variable persisted restored memento test local variable memento testlocalvariablememento java model exception javamodelexception i type itype type get class file getclassfile src get type gettype i method imethod method type get method getmethod foo string i local variable ilocalvariable local var localvar local variable localvariable java element javaelement method assert memento assertmemento src foo local var localvar tests local variable persisted restored memento test local variable memento testlocalvariablememento i type itype type get compilation unit getcompilationunit src java get type gettype i initializer iinitializer initializer type get initializer getinitializer i local variable ilocalvariable local var localvar local variable localvariable java element javaelement initializer assert memento assertmemento src java local var localvar tests local variable persisted restored memento regression test https bugs eclipse org bugs bug cgi test local variable memento testlocalvariablememento exception create java project createjavaproject string src string getexternaljclpathstring bin create file createfile src java foo string i local variable ilocalvariable local var localvar get local variable getlocalvariable get compilation unit getcompilationunit src java string memento local var localvar get handle identifier gethandleidentifier i java element ijavaelement restored java core javacore create memento string restored memento restoredmemento restored get handle identifier gethandleidentifier assert equals assertequals unexpected restored memento memento restored memento restoredmemento delete project deleteproject tests declaration persisted restored memento test package declaration memento testpackagedeclarationmemento i package declaration ipackagedeclaration declaration get compilation unit getcompilationunit src java get package declaration getpackagedeclaration assert memento assertmemento src java declaration declaration get compilation unit getcompilationunit src java get package declaration getpackagedeclaration assert memento assertmemento src java declaration tests fragment persisted restored memento test package fragment memento testpackagefragmentmemento i package fragment ipackagefragment pkg get package getpackage src assert memento assertmemento src pkg pkg get package getpackage src assert memento assertmemento src pkg pkg get package getpackage src assert memento assertmemento src pkg tests fragment root persisted restored memento test package fragment memento testpackagefragmentmemento core exception coreexception create java project createjavaproject string i package fragment ipackagefragment pkg get package getpackage assert memento assertmemento pkg delete project deleteproject tests source folder fragment root persisted restored memento test package fragment root memento testpackagefragmentrootmemento i java project ijavaproject project get java project getjavaproject i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot project get project getproject get folder getfolder src assert memento assertmemento src root tests source folder fragment root project persisted restored memento test package fragment root memento testpackagefragmentrootmemento core exception coreexception i java project ijavaproject project create java project createjavaproject string i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot project get project getproject assert memento assertmemento root delete project deleteproject tests library folder fragment root project persisted restored memento test package fragment root memento testpackagefragmentrootmemento i java project ijavaproject project get java project getjavaproject i folder ifolder lib folder libfolder project get project getproject get folder getfolder lib i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot lib folder libfolder assert memento assertmemento lib root tests library folder fragment root project persisted restored memento test package fragment root memento testpackagefragmentrootmemento i java project ijavaproject project get java project getjavaproject i folder ifolder other lib folder otherlibfolder get folder getfolder other proj otherproj lib i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot other lib folder otherlibfolder assert memento assertmemento other proj otherproj lib root tests jar fragment root project persisted restored memento test package fragment root memento testpackagefragmentrootmemento i java project ijavaproject project get java project getjavaproject i file ifile jar get file getfile lib my lib mylib jar i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot jar assert memento assertmemento lib my lib mylib jar root tests jar fragment root project persisted restored memento test package fragment root memento testpackagefragmentrootmemento i java project ijavaproject project get java project getjavaproject i file ifile jar get file getfile other proj otherproj lib my lib mylib jar i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot jar assert memento assertmemento other proj otherproj lib my lib mylib jar root tests external jar fragment root persisted restored memento test package fragment root memento testpackagefragmentrootmemento core exception coreexception i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot getexternaljclpathstring assert memento assertmemento getescapedexternaljclpath root tests library folder fragment root project persisted restored memento regression test bug error popup breakpoint tomcat project test package fragment root memento testpackagefragmentrootmemento i java project ijavaproject project get java project getjavaproject i project iproject other lib folder otherlibfolder get project getproject other proj otherproj i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot other lib folder otherlibfolder assert memento assertmemento other proj otherproj root tests project persisted restored memento test project memento testprojectmemento i java project ijavaproject project get java project getjavaproject assert memento assertmemento project tests project special char arcters chararcters persisted restored memento regression test bug refactoring doesn work project names refactoring test project memento testprojectmemento i java project ijavaproject project get java project getjavaproject abc assert memento assertmemento abc project tests project persisted restored memento regression test bug unable inherit methods jar red jarred test project memento testprojectmemento i java project ijavaproject project get java project getjavaproject assert memento assertmemento project tests bogus memento restored test restore bogus memento testrestorebogusmemento i java element ijavaelement restored java core javacore create bogus assert equals assertequals restore bogus memento restored tests source field persisted restored memento test source field memento testsourcefieldmemento i field ifield field get compilation unit getcompilationunit src java get type gettype get field getfield field assert memento assertmemento src java field field tests source type field method persisted restored mem entos mementos test source inner type memento testsourceinnertypememento i type itype inner type innertype get compilation unit getcompilationunit src java get type gettype get type gettype assert memento assertmemento src java inner type innertype tests source method persisted restored memento test source method memento testsourcemethodmemento i type itype type get compilation unit getcompilationunit src java get type gettype i method imethod method type get method getmethod foo string ljava lang string assert memento assertmemento src java foo ljava lang string method tests source method persisted restored memento test source method memento testsourcemethodmemento i type itype type get compilation unit getcompilationunit src java get type gettype i method imethod method type get method getmethod bar string assert memento assertmemento src java bar method tests source method persisted restored memento test source method memento testsourcemethodmemento i type itype type get compilation unit getcompilationunit src java get type gettype i method imethod method type get method getmethod fred string assert memento assertmemento src java fred method tests source type persisted restored memento test source type memento testsourcetypememento i type itype type get compilation unit getcompilationunit src java get type gettype assert memento assertmemento src java type tests type parameter persisted restored memento test type parameter testtypeparameter i type parameter itypeparameter type parameter typeparameter get compilation unit getcompilationunit src java get type gettype get type parameter gettypeparameter assert memento assertmemento src java type parameter typeparameter tests type parameter persisted restored memento test type parameter testtypeparameter i type parameter itypeparameter type parameter typeparameter get compilation unit getcompilationunit src java get type gettype get method getmethod foo string get type parameter gettypeparameter assert memento assertmemento src java foo type parameter typeparameter test fragment root starting rec onstructed reconstructed handle identifier https bugs eclipse org bugs bug cgi test bug testbug java model exception javamodelexception i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot string handle identifier handleidentifier root get handle identifier gethandleidentifier i package fragment root ipackagefragmentroot new root newroot i package fragment root ipackagefragmentroot java core javacore create handle identifier handleidentifier assert equals assertequals root new root newroot
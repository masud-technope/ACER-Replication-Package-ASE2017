copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug cce ast node astnode resolve annotations resolveannotations ast node astnode java bug compiler syntax recovery presence methods org eclipse jdt internal compiler parser java util hash set hashset java util org eclipse jdt internal compiler ast abstract method declaration abstractmethoddeclaration org eclipse jdt internal compiler ast ast node astnode org eclipse jdt internal compiler ast abstract variable declaration abstractvariabledeclaration org eclipse jdt internal compiler ast annotation org eclipse jdt internal compiler ast block org eclipse jdt internal compiler ast field declaration fielddeclaration org eclipse jdt internal compiler ast initializer org eclipse jdt internal compiler ast qualified allocation expression qualifiedallocationexpression org eclipse jdt internal compiler ast statement org eclipse jdt internal compiler ast type declaration typedeclaration org eclipse jdt internal compiler ast type parameter typeparameter org eclipse jdt internal compiler ast type reference typereference org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants suppress warnings suppresswarnings rawtypes unchecked recovered type recoveredtype recovered statement recoveredstatement terminal tokens terminaltokens max type depth type declaration typedeclaration type declaration typedeclaration recovered annotation recoveredannotation annotations annotation count annotationcount modifiers modifiers start modifiersstart recovered type recoveredtype member types membertypes member type count membertypecount recovered field recoveredfield fields field count fieldcount recovered method recoveredmethod methods method count methodcount anonymous types preserve content preservecontent body end bodyend inside enum constant part insideenumconstantpart type parameter typeparameter pending type parameters pendingtypeparameters pending type parameters start pendingtypeparametersstart pending modifiers pendingmodifiers pending modifers source start pendingmodiferssourcestart recovered annotation recoveredannotation pending annotations pendingannotations pending annotation count pendingannotationcount recovered type recoveredtype type declaration typedeclaration type declaration typedeclaration recovered element recoveredelement parent bracket balance bracketbalance type declaration typedeclaration parent bracket balance bracketbalance type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration allocation type declaration typedeclaration allocation type enum constant body exist opening brace found opening brace foundopeningbrace found opening brace foundopeningbrace body starts at header end bodystartsatheaderend inside enum constant part insideenumconstantpart type declaration typedeclaration kind type declaration typedeclaration modifiers type declaration typedeclaration enum decl found opening brace foundopeningbrace bracket balance bracketbalance preserve content preservecontent parser method recovery activated methodrecoveryactivated parser statement recovery activated statementrecoveryactivated recovered element recoveredelement add abstract method declaration abstractmethoddeclaration method declaration methoddeclaration bracket balance value bracketbalancevalue method starting passed type belonging enclosing type type declaration typedeclaration declaration source end declarationsourceend method declaration methoddeclaration declaration source start declarationsourcestart type declaration typedeclaration declaration source end declarationsourceend pending type parameters pendingtypeparameters reset pending modifiers resetpendingmodifiers parent add method declaration methoddeclaration bracket balance value bracketbalancevalue methods methods recovered method recoveredmethod method count methodcount method count methodcount methods length system arraycopy methods methods recovered method recoveredmethod method count methodcount method count methodcount recovered method recoveredmethod element recovered method recoveredmethod method declaration methoddeclaration bracket balance value bracketbalancevalue recovering parser recoveringparser methods method count methodcount element pending type parameters pendingtypeparameters element attach pending type parameters pendingtypeparameters pending type parameters start pendingtypeparametersstart pending type parameters pendingtypeparameters pending annotation count pendingannotationcount pending modifiers pendingmodifiers element attach pending annotations pendingannotations pending annotation count pendingannotationcount pending modifiers pendingmodifiers pending modifers source start pendingmodiferssourcestart reset pending modifiers resetpendingmodifiers inside enum constant part insideenumconstantpart opening brace found opening brace foundopeningbrace found opening brace foundopeningbrace bracket balance bracketbalance method finished method current method declaration methoddeclaration declaration source end declarationsourceend element recovered element recoveredelement add block nested block declaration nestedblockdeclaration bracket balance value bracketbalancevalue pending type parameters pendingtypeparameters reset pending modifiers resetpendingmodifiers mods class file constants classfileconstants acc default accdefault parser recovered static initializer start recoveredstaticinitializerstart mods class file constants classfileconstants acc static accstatic add initializer nested block declaration nestedblockdeclaration mods bracket balance value bracketbalancevalue recovered element recoveredelement add field declaration fielddeclaration field declaration fielddeclaration bracket balance value bracketbalancevalue pending type parameters pendingtypeparameters field starting passed type belonging enclosing type type declaration typedeclaration declaration source end declarationsourceend field declaration fielddeclaration declaration source start declarationsourcestart type declaration typedeclaration declaration source end declarationsourceend reset pending modifiers resetpendingmodifiers parent add field declaration fielddeclaration bracket balance value bracketbalancevalue fields fields recovered field recoveredfield field count fieldcount field count fieldcount fields length system arraycopy fields fields recovered field recoveredfield field count fieldcount field count fieldcount recovered field recoveredfield element field declaration fielddeclaration get kind getkind abstract variable declaration abstractvariabledeclaration field abstract variable declaration abstractvariabledeclaration enum constant element recovered field recoveredfield field declaration fielddeclaration bracket balance value bracketbalancevalue abstract variable declaration abstractvariabledeclaration initializer element recovered initializer recoveredinitializer field declaration fielddeclaration bracket balance value bracketbalancevalue field identified fields field count fieldcount element pending annotation count pendingannotationcount element attach pending annotations pendingannotations pending annotation count pendingannotationcount pending modifiers pendingmodifiers pending modifers source start pendingmodiferssourcestart reset pending modifiers resetpendingmodifiers opening brace found opening brace foundopeningbrace found opening brace foundopeningbrace bracket balance bracketbalance field finished field current field declaration fielddeclaration declaration source end declarationsourceend element recovered element recoveredelement add type declaration typedeclaration member type declaration membertypedeclaration bracket balance value bracketbalancevalue pending type parameters pendingtypeparameters type starting passed type belonging enclosing type type declaration typedeclaration declaration source end declarationsourceend member type declaration membertypedeclaration declaration source start declarationsourcestart type declaration typedeclaration declaration source end declarationsourceend reset pending modifiers resetpendingmodifiers parent add member type declaration membertypedeclaration bracket balance value bracketbalancevalue inside enum constant part insideenumconstantpart member type declaration membertypedeclaration bits ast node astnode is anonymous type isanonymoustype method count methodcount add method body recovered method recoveredmethod last method lastmethod methods method count methodcount reopen method last method lastmethod method declaration methoddeclaration body end bodyend reopen method last method lastmethod method declaration methoddeclaration declaration source end declarationsourceend expect closing brace last method lastmethod bracket balance bracketbalance reset pending modifiers resetpendingmodifiers last method lastmethod add member type declaration membertypedeclaration bracket balance value bracketbalancevalue ignore member types membertypes member types membertypes recovered type recoveredtype member type count membertypecount member type count membertypecount member types membertypes length system arraycopy member types membertypes member types membertypes recovered type recoveredtype member type count membertypecount member type count membertypecount recovered type recoveredtype element recovered type recoveredtype member type declaration membertypedeclaration bracket balance value bracketbalancevalue member types membertypes member type count membertypecount element pending annotation count pendingannotationcount element attach pending annotations pendingannotations pending annotation count pendingannotationcount pending modifiers pendingmodifiers pending modifers source start pendingmodiferssourcestart reset pending modifiers resetpendingmodifiers opening brace found opening brace foundopeningbrace found opening brace foundopeningbrace bracket balance bracketbalance member type finished member type current member type declaration membertypedeclaration declaration source end declarationsourceend element add type parameter typeparameter parameters start pos startpos pending type parameters pendingtypeparameters parameters pending type parameters start pendingtypeparametersstart start pos startpos recovered element recoveredelement add annotation name addannotationname identifier ptr identifierptr identifier length ptr identifierlengthptr annotation start annotationstart bracket balance value bracketbalancevalue pending annotations pendingannotations pending annotations pendingannotations recovered annotation recoveredannotation pending annotation count pendingannotationcount pending annotation count pendingannotationcount pending annotations pendingannotations length system arraycopy pending annotations pendingannotations pending annotations pendingannotations recovered annotation recoveredannotation pending annotation count pendingannotationcount pending annotation count pendingannotationcount recovered annotation recoveredannotation element recovered annotation recoveredannotation identifier ptr identifierptr identifier length ptr identifierlengthptr annotation start annotationstart bracket balance value bracketbalancevalue pending annotations pendingannotations pending annotation count pendingannotationcount element element add modifier addmodifier flag modifiers source start modifierssourcestart pending modifiers pendingmodifiers flag pending modifers source start pendingmodiferssourcestart pending modifers source start pendingmodiferssourcestart modifiers source start modifierssourcestart attach recovered annotation recoveredannotation annots annot count annotcount mods mods source start modssourcestart annot count annotcount annotation existing annotations existingannotations type declaration typedeclaration annotations existing annotations existingannotations annotations recovered annotation recoveredannotation annot count annotcount annotation count annotationcount annot count annotcount existing annotations existingannotations length annots annotation existing annotations existingannotations annotations annotation count annotationcount annots annotations annots annotation count annotationcount annot count annotcount mods modifiers mods modifiers start modifiersstart mods source start modssourcestart answer body parse node body end bodyend body end bodyend type declaration typedeclaration declaration source end declarationsourceend body end bodyend body starts at header end bodystartsatheaderend type declaration typedeclaration super interfaces superinterfaces type declaration typedeclaration superclass type declaration typedeclaration type parameters typeparameters type declaration typedeclaration body start bodystart type declaration typedeclaration source end sourceend type declaration typedeclaration body start bodystart type declaration typedeclaration type parameters typeparameters type declaration typedeclaration type parameters typeparameters length source end sourceend type declaration typedeclaration body start bodystart type declaration typedeclaration superclass source end sourceend type declaration typedeclaration body start bodystart type declaration typedeclaration super interfaces superinterfaces type declaration typedeclaration super interfaces superinterfaces length source end sourceend answer enclosing type node recovered type recoveredtype enclosing type enclosingtype recovered element recoveredelement current parent current current recovered type recoveredtype recovered type recoveredtype current current current parent last member end lastmemberend last member end lastmemberend type declaration typedeclaration body start bodystart field count fieldcount field declaration fielddeclaration last field lastfield fields field count fieldcount field declaration fielddeclaration last member end lastmemberend last field lastfield declaration source end declarationsourceend last field lastfield declaration source end declarationsourceend last member end lastmemberend last field lastfield declaration source end declarationsourceend method count methodcount abstract method declaration abstractmethoddeclaration last method lastmethod methods method count methodcount method declaration methoddeclaration last member end lastmemberend last method lastmethod declaration source end declarationsourceend last method lastmethod declaration source end declarationsourceend last member end lastmemberend last method lastmethod declaration source end declarationsourceend member type count membertypecount type declaration typedeclaration last type lasttype member types membertypes member type count membertypecount type declaration typedeclaration last member end lastmemberend last type lasttype declaration source end declarationsourceend last type lasttype declaration source end declarationsourceend last member end lastmemberend last type lasttype declaration source end declarationsourceend last member end lastmemberend type declaration typedeclaration answer parsed structure ast node astnode parse tree parsetree type declaration typedeclaration reset pending modifiers resetpendingmodifiers pending annotations pendingannotations pending annotation count pendingannotationcount pending modifiers pendingmodifiers pending modifers source start pendingmodiferssourcestart answer source parse node source end sourceend type declaration typedeclaration declaration source end declarationsourceend string to string tostring tab string buffer stringbuffer result string buffer stringbuffer tab string tabstring tab nls result append recovered type type declaration typedeclaration bits ast node astnode is anonymous type isanonymoustype result append tab string tabstring tab nls result append type declaration typedeclaration print tab result annotations annotation count annotationcount nls result append result append annotations to string tostring tab member types membertypes member type count membertypecount nls result append result append member types membertypes to string tostring tab fields field count fieldcount nls result append result append fields to string tostring tab methods method count methodcount nls result append result append methods to string tostring tab result to string tostring update body start bodystart parse node update body start updatebodystart body start bodystart found opening brace foundopeningbrace type declaration typedeclaration body start bodystart body start bodystart statement updated statement updatedstatement depth known types knowntypes ignore closed anonymous type type declaration typedeclaration bits ast node astnode is anonymous type isanonymoustype preserve content preservecontent type declaration typedeclaration updated type updatedtype updated type declaration updatedtypedeclaration depth known types knowntypes updated type updatedtype updated type updatedtype bits ast node astnode is anonymous type isanonymoustype presence anonymous type full allocation expression qualified allocation expression qualifiedallocationexpression allocation updated type updatedtype allocation allocation statement end statementend allocation statement end statementend updated type updatedtype declaration source end declarationsourceend allocation updated type updatedtype type declaration typedeclaration updated type declaration updatedtypedeclaration depth type declaration typedeclaration known types knowntypes depth max type depth known types knowntypes type declaration typedeclaration known types knowntypes add type declaration typedeclaration last end lastend type declaration typedeclaration body start bodystart update annotations modifiers type declaration typedeclaration modifiers modifiers modifiers start modifiersstart type declaration typedeclaration declaration source start declarationsourcestart type declaration typedeclaration declaration source start declarationsourcestart modifiers start modifiersstart update annotations annotation count annotationcount existing count existingcount type declaration typedeclaration annotations type declaration typedeclaration annotations length annotation annotation references annotationreferences annotation existing count existingcount annotation count annotationcount existing count existingcount system arraycopy type declaration typedeclaration annotations annotation references annotationreferences annotation count annotationcount existing count existingcount annotation count annotationcount annotation references annotationreferences annotations updated annotation reference updatedannotationreference type declaration typedeclaration annotations annotation references annotationreferences start annotations annotation source start sourcestart start type declaration typedeclaration declaration source start declarationsourcestart type declaration typedeclaration declaration source start declarationsourcestart start update member types member type count membertypecount existing count existingcount type declaration typedeclaration member types membertypes type declaration typedeclaration member types membertypes length type declaration typedeclaration member type declarations membertypedeclarations type declaration typedeclaration existing count existingcount member type count membertypecount existing count existingcount system arraycopy type declaration typedeclaration member types membertypes member type declarations membertypedeclarations existing count existingcount update declaration source end declarationsourceend type member types membertypes member type count membertypecount type declaration typedeclaration declaration source end declarationsourceend body end value bodyendvalue body end bodyend member types membertypes member type count membertypecount type declaration typedeclaration declaration source end declarationsourceend body end value bodyendvalue member types membertypes member type count membertypecount type declaration typedeclaration body end bodyend body end value bodyendvalue updated count updatedcount member type count membertypecount type declaration typedeclaration updated type declaration updatedtypedeclaration member types membertypes updated type declaration updatedtypedeclaration depth known types knowntypes updated type declaration updatedtypedeclaration member type declarations membertypedeclarations existing count existingcount updated count updatedcount updated type declaration updatedtypedeclaration updated count updatedcount member type count membertypecount length existing count existingcount updated count updatedcount system arraycopy member type declarations membertypedeclarations member type declarations membertypedeclarations type declaration typedeclaration length length member type declarations membertypedeclarations length type declaration typedeclaration member types membertypes member type declarations membertypedeclarations member type declarations membertypedeclarations member type declarations membertypedeclarations length declaration source end declarationsourceend last end lastend last end lastend member type declarations membertypedeclarations member type declarations membertypedeclarations length declaration source end declarationsourceend update fields field count fieldcount existing count existingcount type declaration typedeclaration fields type declaration typedeclaration fields length field declaration fielddeclaration field declarations fielddeclarations field declaration fielddeclaration existing count existingcount field count fieldcount existing count existingcount system arraycopy type declaration typedeclaration fields field declarations fielddeclarations existing count existingcount update declaration source end declarationsourceend field fields field count fieldcount field declaration fielddeclaration declaration source end declarationsourceend temp body end bodyend field declaration fielddeclaration field declaration fielddeclaration fields field count fieldcount field declaration fielddeclaration temp field declaration fielddeclaration source end sourceend temp field declaration fielddeclaration source end sourceend last end lastend temp last end lastend temp field declaration fielddeclaration declaration source end declarationsourceend temp field declaration fielddeclaration declaration end declarationend temp field count fieldcount field declarations fielddeclarations existing count existingcount fields updated field declaration updatedfielddeclaration depth known types knowntypes field count fieldcount field declarations fielddeclarations existing count existingcount declaration source start declarationsourcestart field declarations fielddeclarations existing count existingcount declaration source start declarationsourcestart field declarations fielddeclarations existing count existingcount declaration source end declarationsourceend field declarations fielddeclarations existing count existingcount declaration source end declarationsourceend field declarations fielddeclarations existing count existingcount declaration end declarationend field declarations fielddeclarations existing count existingcount declaration end declarationend type declaration typedeclaration fields field declarations fielddeclarations field declarations fielddeclarations field declarations fielddeclarations length declaration source end declarationsourceend last end lastend last end lastend field declarations fielddeclarations field declarations fielddeclarations length declaration source end declarationsourceend update methods existing count existingcount type declaration typedeclaration methods type declaration typedeclaration methods length has constructor hasconstructor has recovered constructor hasrecoveredconstructor has abstract methods hasabstractmethods default constructor index defaultconstructorindex method count methodcount abstract method declaration abstractmethoddeclaration method declarations methoddeclarations abstract method declaration abstractmethoddeclaration existing count existingcount method count methodcount existing count existingcount abstract method declaration abstractmethoddeclaration type declaration typedeclaration methods is default constructor isdefaultconstructor default constructor index defaultconstructorindex is abstract isabstract has abstract methods hasabstractmethods method declarations methoddeclarations update declaration source end declarationsourceend method methods method count methodcount method declaration methoddeclaration declaration source end declarationsourceend body end value bodyendvalue body end bodyend methods method count methodcount method declaration methoddeclaration declaration source end declarationsourceend body end value bodyendvalue methods method count methodcount method declaration methoddeclaration body end bodyend body end value bodyendvalue total methods totalmethods existing count existingcount method count methodcount existing count existingcount method declarations methoddeclarations methods method declaration methoddeclaration abstract method declaration abstractmethoddeclaration updated method updatedmethod methods updated method declaration updatedmethoddeclaration depth known types knowntypes updated method updatedmethod is constructor isconstructor has recovered constructor hasrecoveredconstructor updated method updatedmethod is abstract isabstract has abstract methods hasabstractmethods method declarations methoddeclarations total methods totalmethods updated method updatedmethod total methods totalmethods method declarations methoddeclarations length system arraycopy method declarations methoddeclarations method declarations methoddeclarations abstract method declaration abstractmethoddeclaration total methods totalmethods total methods totalmethods type declaration typedeclaration methods method declarations methoddeclarations method declarations methoddeclarations method declarations methoddeclarations length declaration source end declarationsourceend last end lastend last end lastend method declarations methoddeclarations method declarations methoddeclarations length declaration source end declarationsourceend has abstract methods hasabstractmethods type declaration typedeclaration bits ast node astnode has abstract methods hasabstractmethods has constructor hasconstructor type declaration typedeclaration check constructors checkconstructors parser existing count existingcount type declaration typedeclaration methods is constructor isconstructor has constructor hasconstructor add clinit type declaration typedeclaration need class init method needclassinitmethod already has clinit alreadyhasclinit existing count existingcount type declaration typedeclaration methods is clinit isclinit already has clinit alreadyhasclinit already has clinit alreadyhasclinit type declaration typedeclaration add clinit addclinit add constructor default constructor index defaultconstructorindex has recovered constructor hasrecoveredconstructor discard previous constr utor construtor abstract method declaration abstractmethoddeclaration method declarations methoddeclarations abstract method declaration abstractmethoddeclaration type declaration typedeclaration methods length default constructor index defaultconstructorindex system arraycopy type declaration typedeclaration methods method declarations methoddeclarations default constructor index defaultconstructorindex default constructor index defaultconstructorindex type declaration typedeclaration methods length system arraycopy type declaration typedeclaration methods default constructor index defaultconstructorindex method declarations methoddeclarations default constructor index defaultconstructorindex type declaration typedeclaration methods length default constructor index defaultconstructorindex type declaration typedeclaration methods method declarations methoddeclarations kind type declaration typedeclaration kind type declaration typedeclaration modifiers has constructor hasconstructor kind type declaration typedeclaration decl kind type declaration typedeclaration annotation type decl reduced constructor type declaration typedeclaration allocation inside field initializer insidefieldinitializer recovered element recoveredelement parent element parentelement parent parent element parentelement parent element parentelement recovered field recoveredfield inside field initializer insidefieldinitializer parent element parentelement parent element parentelement parent type declaration typedeclaration create default constructor createdefaultconstructor parser diet inside field initializer insidefieldinitializer parent recovered type recoveredtype type declaration typedeclaration bits ast node astnode is member type ismembertype parent recovered method recoveredmethod type declaration typedeclaration bits ast node astnode is local type islocaltype type declaration typedeclaration declaration source end declarationsourceend type declaration typedeclaration declaration source end declarationsourceend last end lastend type declaration typedeclaration body end bodyend last end lastend type declaration typedeclaration update parse node parser disappear rest arting restarting recovery update from parser state updatefromparserstate any mous anymous type enum constant doesn updated body starts at header end bodystartsatheaderend type declaration typedeclaration allocation parser parser parser protection bugs awaiting type references parser list length listlength parser ast length ptr astlengthptr length parser ast length stack astlengthstack parser ast length ptr astlengthptr ast ptr astptr parser ast ptr astptr length can consume canconsume ast ptr astptr can consume canconsume parser ast stack aststack ast ptr astptr type declaration typedeclaration can consume canconsume max length max parser ast stack aststack ast ptr astptr type reference typereference can consume canconsume can consume canconsume parser consume class header implements consumeclassheaderimplements reset type list length typelistlength check performed error check errorcheck parser list type parameter length listtypeparameterlength length parser list type parameter length listtypeparameterlength generics ptr genericsptr parser generics ptr genericsptr can consume canconsume generics ptr genericsptr length parser ast ptr astptr can consume canconsume parser ast stack aststack parser ast ptr astptr type declaration typedeclaration can consume canconsume generics ptr genericsptr length parser generics stack genericsstack generics ptr genericsptr type parameter typeparameter generics ptr genericsptr length parser generics stack genericsstack generics ptr genericsptr type parameter typeparameter can consume canconsume can consume canconsume type declaration typedeclaration type decl typedecl type declaration typedeclaration parser ast stack aststack parser ast ptr astptr system arraycopy parser generics stack genericsstack generics ptr genericsptr length type decl typedecl type parameters typeparameters type parameter typeparameter length length type decl typedecl body start bodystart type decl typedecl type parameters typeparameters length declaration source end declarationsourceend parser list type parameter length listtypeparameterlength parser last check point lastcheckpoint type decl typedecl body start bodystart closing brace consumed closed current element current element currentelement exited recovered element recoveredelement update on closing brace updateonclosingbrace brace start bracestart brace end braceend bracket balance bracketbalance parent update source end if necessary updatesourceendifnecessary brace start bracestart brace end braceend body end bodyend brace start bracestart parent opening brace consumed expected opening current element body start bodystart updated recovered element recoveredelement update on opening brace updateonopeningbrace brace start bracestart brace end braceend opening brace close signature ignore bracket balance bracketbalance parser scanner search line number searchlinenumber type declaration typedeclaration source end sourceend parser scanner search line number searchlinenumber brace end braceend parser parser parser parser last ignored token lastignoredtoken token name extends tokennameextends token name implements tokennameimplements tokennamegreater tokennameright shift tokennameunsigned shift parser recovered static initializer start recoveredstaticinitializerstart fall found opening brace foundopeningbrace pretend brace bracket balance bracketbalance initializer bracket balance bracketbalance block block block parser parser parser block source start sourcestart parser scanner start position startposition initializer init parser recovered static initializer start recoveredstaticinitializerstart init initializer block class file constants classfileconstants acc default accdefault init initializer block class file constants classfileconstants acc static accstatic init declaration source start declarationsourcestart parser recovered static initializer start recoveredstaticinitializerstart init body start bodystart parser scanner current position currentposition add init update on opening brace updateonopeningbrace brace start bracestart brace end braceend update parse tree updateparsetree updated type declaration updatedtypedeclaration hash set hashset update declaration source end declarationsourceend parse node update source end if necessary updatesourceendifnecessary start type declaration typedeclaration declaration source end declarationsourceend body end bodyend type declaration typedeclaration declaration source end declarationsourceend type declaration typedeclaration body end bodyend annotations consume d annotationsconsumed annotation consumed annotations consumedannotations recovered annotation recoveredannotation recovered annotation recoveredannotation pending annotation count pendingannotationcount num keep numkeep pending count pendingcount pending annotation count pendingannotationcount consumed length consumedlength consumed annotations consumedannotations length outer loop outerloop pending count pendingcount annotation pendingannotationast pending annotations pendingannotations annotation consumed length consumedlength consumed annotations consumedannotations pendingannotationast outer loop outerloop num keep numkeep pending annotations pendingannotations num keep numkeep pending annotation count pendingannotationcount pending annotations pendingannotations pending annotation count pendingannotationcount num keep numkeep
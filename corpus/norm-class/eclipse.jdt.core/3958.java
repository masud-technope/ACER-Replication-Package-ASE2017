copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests formatter java buffered output stream bufferedoutputstream java buffered reader bufferedreader java buffered writer bufferedwriter java file java file filter filefilter java file input stream fileinputstream java file not found exception filenotfoundexception java file output stream fileoutputstream java file writer filewriter java io exception ioexception java input stream reader inputstreamreader java print stream printstream java net url java text number format numberformat java text simple date format simpledateformat java util array list arraylist java util java util hash map hashmap java util list java util map java util string tokenizer stringtokenizer junit framework assertion failed error assertionfailederror junit framework comparison failure comparisonfailure junit framework test junit framework test suite testsuite org eclipse core runtime core exception coreexception org eclipse core runtime file locator filelocator org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core runtime platform org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core formatter code formatter codeformatter org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt core tests model model tests util modeltestsutil org eclipse jdt core tests util util org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler problem default problem defaultproblem org eclipse jdt internal core util code snippet parsing util codesnippetparsingutil org eclipse jdt internal formatter default code formatter defaultcodeformatter org eclipse jdt internal formatter default code formatter options defaultcodeformatteroptions org eclipse text edits text edit textedit comment formatter test suite massive tests location test suite test running test suite test created compilation unit traversing directory code input dir inputdir code system property code dinput dir dinputdir eclipse work spaces workspaces formatter inputs full src code test form ats formats compilation unit compare result previous for matting formatting stored location root directory code output dir outputdir code system property code output dir outputdir code code doutput dir doutputdir eclipse work spaces workspaces formatter out puts outputs code compilation unit code inputs full src test java code compared stored output code out puts outputs full src test java code store out puts outputs specific input directory specific version load jdt core version workspace test suite arguments pre dinput dir dinputdir eclipse work spaces workspaces formatter inputs full src doutput dir doutputdir eclipse work spaces workspaces formatter out puts outputs clean pre note code clean code arguments output dir outputdir system property sig nify signify formatter out puts outputs cleaned stored code log dir logdir code system property suite write console output file located directory comparison version pat ches patches easier eclipse file comparison process massive tests patch full description process massive tests patch test suite compilation units jdt core performance full source zip file input directory test suite sources massively test formatter easy root directory compilation units traversing tree directory massive tests extract content full source zip file located org eclipse jdt core tests performance plugin local disk tmp formatter inputs full src directory create output reference reference patch output compared running massive test created launch config code formatter massive regression tests formattermassiveregressiontests code test suite create launch config named formatter massive regression tests formattermassiveregressiontests eclipse clean arguments pre xmx dinput dir dinputdir tmp formatter inputs full src doutput dir doutputdir tmp formatter out puts outputs clean dlog dir dlogdir tmp formatter log pre load version jdt core plugins code code launch config console content pre files tmp formatter inputs full src deleting files tmp formatter out puts outputs full src version profiles test input dir tmp formatter inputs full src java files format output dir tmp formatter out puts outputs full src cleaned pre output directory folders tree input create log reference test suite log problems occur for matting formatting unit file compilation errors prev enting preventing formatter proceed output for matting formatting output for matting formatting output for matting formatting leading whitespaces output for matting formatting whitespaces version formatter problems happen tested compilation unit existing issues formatter version code code launch config massive tests loaded jdt core version copy previous launch config rename formatter massive regression tests formattermassiveregressiontests eclipse change arguments not e note code clean code removed code output dir outputdir code system property pre xmx dinput dir dinputdir tmp formatter inputs full src doutput dir doutputdir tmp formatter out puts outputs dlog dir dlogdir tmp formatter log pre launch config log file console output complete list units problems observed jdt core version considered reference version note observed problems code code version running massive tests eclipse performance workspace units file compilation errors prevent formatter proceed files output ref ormatting reformatting files output ref ormatting reformatting leading whitespaces files output ref ormatting reformatting whitespaces massive tests patch setup massive tests test patch applied reference version code code patch applied build notes buildnotes jdt core html modified patch vxx bug xxx xxx xxxxxx tested code patch vxx bug xxx xxx xxxxxx code drop build notes buildnotes jdt core html file pre drop patch bug pre launch formatter massive regression tests formattermassiveregressiontests eclipse config previous written log file complete list units problems observed comp aring comparing log file reference patch impl ies implies behavior formatter suppress warnings suppresswarnings rawtypes unchecked formatter massive regression tests formattermassiveregressiontests formatter regression tests formatterregressiontests file file i path ipath path default code formatter options defaultcodeformatteroptions preferences dir ectories directories file input dir file system get property getproperty input dir inputdir file input dir inputdir min imize minimize data consumption file output dir file write dir files string files filter system get property getproperty files filter filesfilter files filter kind filter kind files filter length files filter length idxqm files filter index of indexof idx s idxs files filter index of indexof idxqm idx s idxs pure pattern match kind idxqm idxqm length files filter char at charat idxqm idxqm idxqm length starts length kind pure pattern match kind idx s idxs idx s idxs length files filter char at charat idxqm idx s idxs idx s idxs length starts kind pure pattern match kind equals kind files filter kind kind log file log file print stream printstream log stream main tenance maintenance maintenance comparison clean compare can compare cancompare test index testindex cleaning list map max files hash map hashmap formatting behavior format repeat integer parse int parseint system get property getproperty repeat comments system get property getproperty comments equals string join lines system get property getproperty join lines string braces system get property getproperty braces preserved lines string str system get property getproperty preserved lines str integer parse int parseint str number format exception numberformatexception nfe preserved lines profiles profile join lines profile join lines comments profile join lines code profile join lines mask profile comments profile braces profile braces wrap profile braces shifted profile braces mask profile preserved lines mask time measuring time measuring timemeasuring for matting formatting format repeat occurences format repeat output format repeat time measuring timemeasuring time measures minute hour failures management failure index failureindex unexpected failure output failure compilation errors failure file failure comparison failure reformatting failure reformatting expected failure reformatting leading failure reformatting whitespaces failure formatting failure formattingfailure string msg kind list failures array list arraylist formatting failure formattingfailure kind kind kind formatting failure formattingfailure kind string msg kind msg msg size failures size string to string tostring kind unexpected failure unexpected failure for matting formatting output failure output for matting formatting compilation errors failure compilation errors prevent formatter proceed file failure for matted formatted output compare comparison failure output comparing previous version output msg formatting failure formattingfailure failures max failures string comparison max failures integer parse int parseint system get property getproperty max failures maxfailures equals strings max failures string eclipse version string eclipse milestone string jdt core version string patch bug patch version string temp output jdt core head i path ipath expected failures input dir get path getpath index of indexof i path ipath path org eclipse jdt internal compiler ast qualified name reference qualifiednamereference java path org eclipse jdt internal eval code snippet single name reference codesnippetsinglenamereference java path org eclipse jdt internal core delta processor deltaprocessor java path org eclipse jdt internal core java project javaproject java path org eclipse jdt internal core search indexing index manager indexmanager java path org eclipse team internal ccvs annotate view annotateview java path org eclipse team internal ccvs history view historyview java path org eclipse team internal ccvs wizards update wizard updatewizard java i path ipath eclipse path org eclipse equinox internal dir ector director new dependency exp ander newdependencyexpander java path org eclipse jdt core java core javacore java path org eclipse jdt internal code assist codeassist completion engine completionengine java path org eclipse jdt internal code assist codeassist selection engine selectionengine java path org eclipse jdt internal compiler ast expression java path org eclipse jdt internal compiler ast qualified name reference qualifiednamereference java path org eclipse jdt internal compiler ast single name reference singlenamereference java path org eclipse jdt internal eval code snippet single name reference codesnippetsinglenamereference java path org eclipse jdt internal compiler lookup wildcard binding wildcardbinding java path org eclipse jdt internal compiler batch main java path org eclipse jdt internal compiler lookup parameterized method binding parameterizedmethodbinding java path org eclipse jdt internal core compilation unit compilationunit java path org eclipse jdt internal core external java project externaljavaproject java path org eclipse jdt internal core hierarchy hierarchy resolver hierarchyresolver java path org eclipse jdt internal core hierarchy type hierarchy typehierarchy java path org eclipse jdt internal core search indexing index all project indexallproject java path org eclipse jdt internal core search java search scope javasearchscope java path org eclipse jdt internal eval evaluation context evaluationcontext java path org eclipse jdt internal text javadoc javadoc content access javadoccontentaccess java path org eclipse jdt internal apt pluggable core file r filer ide java source output stream idejavasourceoutputstream java path org eclipse team internal ccvs mappings workspace subs criber context workspacesubscribercontext java ganymede path ibm icu text collator java path org apache lucene analysis iso latin isolatin accent filter accentfilter java test suite suite file system get property getproperty input dir inputdir build profile string buildprofilestring hash map hashmap test suite file input dir inputdir string profile map directories string formatter massive regression tests formattermassiveregressiontests input dir inputdir get name getname profile profile length profile test suite testsuite suite suite init version init version initversion init profiles profiles init profiles initprofiles profile init directories init dir ectories initdirectories input dir inputdir profiles files input dir file filter filefilter filter file filter filefilter accept file path name pathname string path path name pathname get path getpath path name pathname is directory isdirectory string dir name dirname path substring path last index of lastindexof file separator char separatorchar dir name dirname equals bin path ends with endswith java files filter kind string file name filename path substring path last index of lastindexof file separator char separatorchar files filter kind equals file name filename equals files filter starts file name filename starts with startswith files filter starts length file name filename starts with startswith files filter file name filename length files filter length pattern file name filename matches files filter file all files allfiles file directories input dir inputdir file list file listfile file input dir inputdir get parent file getparentfile input dir inputdir get name getname lst buffered writer bufferedwriter list file writer listfilewriter all files allfiles system print files list list file listfile exists files list system print input dir inputdir all files allfiles model tests util modeltestsutil get all files getallfiles input dir inputdir filter delete files list list file listfile exists list file listfile delete initialize files list writer list file writer listfilewriter buffered writer bufferedwriter file writer filewriter list file listfile list file writer listfilewriter write integer to string tostring all files allfiles length list file writer listfilewriter new line newline system print stored list list file listfile get path getpath buffered reader bufferedreader list file reader listfilereader buffered reader bufferedreader input stream reader inputstreamreader file input stream fileinputstream list file listfile get absolute path getabsolutepath number files string list file reader listfilereader read line readline max files maxfiles integer parse int parseint lines files path all files allfiles file max files maxfiles max files maxfiles all files allfiles file input dir inputdir list file reader listfilereader read line readline all files allfiles exists io exception ioexception find file all files allfiles number format exception numberformatexception nfe nfe print stack trace printstacktrace io exception ioexception ioe ioe print stack trace printstacktrace list file reader listfilereader close directories input dir inputdir all files allfiles system println max files maxfiles max files maxfiles all files allfiles length max files maxfiles math log max files maxfiles math log max files input dir inputdir max files maxfiles add test file input dir path length inputdirpathlength input dir inputdir get path getpath length max files maxfiles clean suite add test addtest formatter massive regression tests formattermassiveregressiontests input dir inputdir all files allfiles compare cleaning profiles suite add test addtest formatter massive regression tests formattermassiveregressiontests input dir inputdir all files allfiles profiles compare list file writer listfilewriter list file writer listfilewriter write all files allfiles get path getpath substring input dir path length inputdirpathlength list file writer listfilewriter new line newline list file writer listfilewriter list file writer listfilewriter close exception print stack trace printstacktrace suite string build profile string buildprofilestring has profile hasprofile comments preserved lines join lines join lines equals join lines equals comments join lines equals code has profile hasprofile braces braces equals default code formatter constants defaultcodeformatterconstants braces equals default code formatter constants defaultcodeformatterconstants wrap braces equals default code formatter constants defaultcodeformatterconstants shifted has profile hasprofile string built profile builtprofile has profile hasprofile string buffer stringbuffer buffer string buffer stringbuffer string separator join lines buffer append join lines join lines separator comments buffer append separator comments separator braces buffer append separator braces braces separator preserved lines buffer append separator preserved lines preserved lines separator built profile builtprofile buffer to string tostring built profile string built profile builtprofile init profiles initprofiles string profile profile profile length string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer profile profiles tokenizer has more tokens hasmoretokens string token tokenizer next token nexttoken idx token index of indexof idx system err println profile valid profile string profile name profilename token substring idx profile name profilename equals join lines string join lines joinlines token substring idx join lines joinlines equals profiles profile join lines join lines joinlines equals comments profiles profile join lines comments join lines joinlines equals code profiles profile join lines code profile name profilename equals comments string no comments nocomments token substring idx no comments nocomments equals default code formatter constants defaultcodeformatterconstants profiles profile comments profile name profilename equals braces string braces token substring idx braces equals default code formatter constants defaultcodeformatterconstants profiles profile braces braces equals default code formatter constants defaultcodeformatterconstants wrap profiles profile braces wrap braces equals default code formatter constants defaultcodeformatterconstants shifted profiles profile braces shifted profile name profilename equals preserved lines string lines token substring idx integer parse int parseint lines profiles number format exception numberformatexception nfe profiles init dir ectories initdirectories file input dir inputdir profiles verify verify input directory input dir inputdir exists input dir inputdir is directory isdirectory system err println input dir inputdir exist directory system exit output dir clean nls string dir system get property getproperty output dir outputdir dir string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer dir string output dir outputdir tokenizer next token nexttoken tokenizer has more tokens hasmoretokens string token tokenizer next token nexttoken token equals clean clean token equals main tenance maintenance maintenance token equals list list temp output token set output dir setoutputdir input dir inputdir output dir outputdir profiles clean patch bug jdt core head temp output system err println reference updated version closed build notes buildnotes jdt core html system exit output dir exists system err println warning output directory output dir exist system err println comparison compare thread sleep interrupted exception interruptedexception log dir set log dir setlogdir input dir inputdir profiles verify core exception coreexception print stack trace printstacktrace write dir nls string wdir system get property getproperty write dir writedir wdir write dir file wdir write dir exists util delete write dir write dir mkdirs set log dir setlogdir file input dir inputdir profiles verify core exception coreexception compute log dir file root log dir rootlogdir file system get property getproperty log dir logdir root log dir rootlogdir exists root log dir rootlogdir mkdirs system err println create log directory root log dir rootlogdir compute log directories depending version root log dir rootlogdir file root log dir rootlogdir eclipse version string sub root dir subrootdir patch bug root log dir rootlogdir file root log dir rootlogdir tests root log dir rootlogdir file root log dir rootlogdir patch bug sub root dir subrootdir patch version jdt core head sub root dir subrootdir head root log dir rootlogdir file root log dir rootlogdir eclipse milestone sub root dir subrootdir jdt core version compute log directories depending profiles list sub dirs subdirs array list arraylist profiles sub dirs subdirs add profiles set profiles dir setprofilesdir profiles sub dirs subdirs files filter kind sub dirs subdirs add filter sub dirs subdirs add files filter replace replace create log stream file log dir logdir create dir createdir file root log dir rootlogdir sub root dir subrootdir sub dirs subdirs string file prefix fileprefix input dir inputdir get name getname replace all replaceall string log file name logfilename file prefix fileprefix txt log file file log dir logdir log file name logfilename verify log file exists file save dir savedir file file root log dir rootlogdir save sub root dir subrootdir save dir savedir mkdirs string dir n dirn integer to string tostring dir n dirn dir n dirn save dir savedir file save dir savedir dir n dirn log dir logdir create dir createdir save dir savedir sub dirs subdirs file renamed file renamedfile file log dir logdir log file name logfilename log file rename to renameto renamed file renamedfile log resource folder get file getfile log file name logfilename log stream print stream printstream buffered output stream bufferedoutputstream file output stream fileoutputstream log file log stream flush file not found exception filenotfoundexception fnfe system err println create log file log file log resource exists util delete log resource log buffer string buffer stringbuffer file create dir createdir file root dir rootdir list sub dirs subdirs file dir root dir rootdir sub dirs subdirs size dir file dir string sub dirs subdirs dir mkdirs dir file set profiles dir setprofilesdir profiles file dir list sub dirs subdirs array list arraylist set profiles dir setprofilesdir profiles sub dirs subdirs create dir createdir dir sub dirs subdirs set profiles dir setprofilesdir profiles list sub dirs subdirs string join lines joinlines profiles profile join lines mask profile join lines join lines joinlines profile join lines comments join lines joinlines comments profile join lines code join lines joinlines code join lines joinlines sub dirs subdirs add join lines sub dirs subdirs add join lines joinlines profiles profile comments sub dirs subdirs add comments string braces profiles profile braces mask profile braces braces default code formatter constants defaultcodeformatterconstants profile braces wrap braces default code formatter constants defaultcodeformatterconstants wrap profile braces shifted braces default code formatter constants defaultcodeformatterconstants shifted braces sub dirs subdirs add braces sub dirs subdirs add braces profiles profile preserved lines mask lines profiles profile preserved lines mask sub dirs subdirs add preserved lines sub dirs subdirs add integer to string tostring lines append profiles appendprofiles profiles string buffer stringbuffer buffer string join lines joinlines profiles profile join lines mask profile join lines join lines joinlines profile join lines comments join lines joinlines comments profile join lines code join lines joinlines code join lines joinlines buffer append join lines buffer append join lines joinlines profiles profile comments buffer append buffer append comments string braces profiles profile braces mask profile braces braces default code formatter constants defaultcodeformatterconstants profile braces wrap braces default code formatter constants defaultcodeformatterconstants wrap profile braces shifted braces default code formatter constants defaultcodeformatterconstants shifted braces buffer append buffer append braces buffer append braces profiles profile preserved lines mask lines profiles profile preserved lines mask buffer append buffer append preserved lines buffer append lines buffer append set output dir setoutputdir file input dir inputdir string dir profiles find root output directory output dir file dir output dir get name getname equals input dir inputdir get name getname output dir output dir get parent file getparentfile output dir get name getname equals eclipse version output dir output dir get parent file getparentfile add temporary output temp output string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer temp output tokenizer has more tokens hasmoretokens output dir file output dir tokenizer next token nexttoken compute output directories depending profiles profiles output dir file output dir profiles output dir set profiles dir setprofilesdir profiles output dir compute output dir file parent file output dir eclipse version maintenance version integer parse int parseint eclipse version substring file main tenance maintenance file output dir version main tenance maintenance exists parent main tenance maintenance number format exception numberformatexception nfe output dir file parent input dir inputdir get name getname init failures initfailures failures formatting failure formattingfailure reformatting whitespaces failure unexpected failure comparison failure failures formatting failure formattingfailure failures reformatting failure formatting failure formattingfailure reformatting failure ref ormatting reformatting failures reformatting leading failure formatting failure formattingfailure reformatting leading failure ref ormatting reformatting leading whitespaces failures reformatting whitespaces failure formatting failure formattingfailure reformatting whitespaces failure ref ormatting reformatting whitespaces failures reformatting expected failure formatting failure formattingfailure reformatting expected failure ref ormatting reformatting expected read jdt core build notes file version running init version initversion jdt core version buffered reader bufferedreader build notes reader buildnotesreader url platformurl platform get bundle getbundle org eclipse jdt core get entry getentry string path file file locator filelocator tofileurl platformurl get file getfile build notes buildnotes jdt core html get absolute path getabsolutepath build notes reader buildnotesreader buffered reader bufferedreader input stream reader inputstreamreader file input stream fileinputstream path io exception ioexception ioe ioe print stack trace printstacktrace string jdt core head build notes reader buildnotesreader read line readline starts with startswith jdt core version jdt core version substring index of indexof last index of lastindexof starts with startswith eclipse sdk string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer eclipse tokenizer next token nexttoken sdk tokenizer next token nexttoken string milestone tokenizer next token nexttoken eclipse version milestone char at charat milestone char at charat eclipse milestone milestone substring tokenizer next token nexttoken jdt core head tokenizer next token nexttoken equals starts with startswith build notes reader buildnotesreader read line readline starts with startswith patch string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer patch tokenizer next token nexttoken patch version tokenizer next token nexttoken tokenizer has more tokens hasmoretokens patch bug tokenizer next token nexttoken integer parse int parseint patch bug number format exception numberformatexception nfe string tokenizer stringtokenizer bug tokenizer bugtokenizer string tokenizer stringtokenizer patch bug bug tokenizer bugtokenizer has more tokens hasmoretokens integer parse int parseint bug tokenizer bugtokenizer next token nexttoken number format exception numberformatexception nfe system err println invalid patch bug number notice d noticed jdt core build notes buildnotes patch bug jdt core head exception build notes reader buildnotesreader close io exception ioexception ioe ioe print stack trace printstacktrace constructor clean output directory formatter massive regression tests formattermassiveregressiontests profiles test delete output dir testdeleteoutputdir can compare cancompare file input dir inputdir output dir test index testindex profiles profiles path path output dir get path getpath constructor dump references output directory formatter massive regression tests formattermassiveregressiontests file files test make references testmakereferences assert not null assertnotnull test files proceed files can compare cancompare file input files inputfiles files test index testindex path path output dir get path getpath contructor compare out puts outputs formatter massive regression tests formattermassiveregressiontests file input dir inputdir file file profiles compare clean test reference testreference test compare testcompare can compare cancompare compare file file input dir inputdir input dir inputdir test index testindex profiles profiles path path file get path getpath substring input dir inputdir get path getpath length javadoc junit framework test case testcase get name getname string get name getname string buffer stringbuffer string buffer stringbuffer get name getname test index testindex test index testindex math log test index testindex math log max max files input dir inputdir max append append test index testindex profiles append append profiles append append path to string tostring javadoc org eclipse jdt core tests formatter formatter regression tests formatterregressiontests set up suite setupsuite set up setup exception set up setup setup preferences preferences default code formatter options defaultcodeformatteroptions get eclipse default settings geteclipsedefaultsettings setup comments profile profiles profile comments preferences comment format javadoc comment preferences comment format block comment preferences comment format comment setup join lines profile string join lines joinlines profiles profile join lines mask profile join lines join lines joinlines profile join lines comments join lines joinlines comments profile join lines code join lines joinlines code join lines joinlines join lines joinlines equals comments preferences join lines comments join lines joinlines equals code preferences join wrapped lines setup braces profile string braces profiles profile braces mask profile braces braces default code formatter constants defaultcodeformatterconstants profile braces wrap braces default code formatter constants defaultcodeformatterconstants wrap profile braces shifted braces default code formatter constants defaultcodeformatterconstants shifted braces preferences brace position annotation type declaration braces preferences brace position anonymous type declaration braces preferences brace position array initializer braces preferences brace position block braces preferences brace position block braces preferences brace position constructor declaration braces preferences brace position enum constant braces preferences brace position enum declaration braces preferences brace position method declaration braces preferences brace position braces preferences brace position type declaration braces setup preserved lines profile profiles profile preserved lines mask lines profiles profile preserved lines mask preferences number empty lines preserve lines javadoc org eclipse jdt core tests formatter formatter regression tests formatterregressiontests set up suite setupsuite set up suite setupsuite exception init directories init dir ectories initdirectories input dir inputdir profiles delete output dir compute reference clean system print deleting files output dir util delete output dir system println init failure can compare cancompare init failures initfailures dump version clean file version file versionfile path output dir get path getpath append version txt to file tofile output dir mkdirs string version jdt core version temp output version temp output patch bug version patch version patch bug util write to file writetofile version version file versionfile get absolute path getabsolutepath init time measuring time measures time measuring timemeasuring print print print string buffer stringbuffer buffer string buffer stringbuffer log version info buffer append version patch bug buffer append patch buffer append patch version buffer append bug buffer append patch bug buffer append applied jdt core head buffer append head top buffer append jdt core version buffer append separator profiles buffer append profiles append profiles appendprofiles profiles buffer buffer append separator log test start system current time millis currenttimemillis simple date format simpledateformat format simple date format simpledateformat start buffer append test buffer append format format buffer append separator input dir buffer append input dir buffer append input dir inputdir buffer append separator files buffer append max files maxfiles max files input dir inputdir buffer append max files maxfiles buffer append java files format flush console startup string first buffer firstbuffer buffer to string tostring system println first buffer firstbuffer output dir buffer set length setlength buffer append output dir buffer append output dir buffer append separator clean buffer append cleaned buffer append separator log dir log file buffer append log file buffer append log file buffer append separator write dir write dir buffer append write dir buffer append write dir buffer append separator comparison compare clean buffer append compare file version file versionfile file output dir version txt version file versionfile exists string file content filecontent util file content filecontent version file versionfile get absolute path getabsolutepath temp output buffer append temp output buffer append top buffer append file content filecontent buffer append buffer append compare buffer append separator write logs system println buffer to string tostring log stream log stream println first buffer firstbuffer log stream println buffer to string tostring log stream flush javadoc org eclipse jdt core tests formatter formatter regression tests formatterregressiontests tear down teardown tear down teardown exception verify max failures reached equals strings failures equals strings failures comparison failure size max failures javadoc org eclipse jdt core tests formatter formatter regression tests formatterregressiontests tear down suite teardownsuite tear down suite teardownsuite exception display time measures string buffer stringbuffer buffer string buffer stringbuffer clean buffer append separator buffer append time measures buffer append separator format repeat buffer append counter to string countertostring append format append separator buffer append elapsed time string timestring time measures for matting formatting append separator buffer append occurrences time measures occurences append separator buffer append output time measures output append separator buffer append separator display stored failures max failures length max list failures failures failures size failures size size buffer append size buffer append file size buffer append buffer append buffer append failures buffer append buffer append separator buffer append separator string buffer stringbuffer buffer string buffer stringbuffer separator max list failures failures failures size failures size size buffer append list file buffer append failures buffer append buffer append separator size buffer append buffer append failures buffer append separator log failures system println buffer to string tostring log stream system println buffer to string tostring log stream print buffer to string tostring log stream print buffer to string tostring log stream close log buffer append buffer to string tostring log buffer append buffer to string tostring input stream inputstream stream input stream inputstream reader reader string reader stringreader log buffer to string tostring read io exception ioexception reader read log resource exists log resource set contents setcontents stream i resource iresource force i resource iresource history log resource create stream i resource iresource force asserts actual source coming file content equal expected note expected assumed separator separators actual converted comparison assert source equals assertsourceequals string message string expected string actual expected assert null assertnull message actual actual assert equals assertequals message expected expected util convert to independant line delimiter converttoindependantlinedelimiter expected actual util convert to independant line delimiter converttoindependantlinedelimiter actual equals strings assert equals assertequals message expected actual assert true asserttrue message actual equals expected default code formatter defaultcodeformatter code formatter codeformatter default code formatter defaultcodeformatter code formatter codeformatter default code formatter defaultcodeformatter preferences get default compiler options getdefaultcompileroptions code formatter codeformatter compare for matted source compareformattedsource io exception ioexception exception string source string org eclipse jdt internal compiler util util get file char content getfilecharcontent file string actual result actualresult format source actual result actualresult run formatter runformatter code formatter codeformatter source code formatter codeformatter compilation unit code formatter codeformatter include comments source length output compare file output file outputfile path output dir get path getpath append path to file tofile actual result actualresult failures can compare cancompare string expected result expectedresult string org eclipse jdt internal compiler util util get file char content getfilecharcontent output file outputfile assert source equals assertsourceequals unexpected format output expected result expectedresult actual result actualresult file not found exception filenotfoundexception fnfe failure index failureindex file failure failures file failure failures add path comparison failure comparisonfailure failure index failureindex comparison failure assertion failed error assertionfailederror afe failure index failureindex comparison failure afe exception write file actual result actualresult write dir file written file writtenfile path write dir get path getpath append path to file tofile written file writtenfile get parent file getparentfile mkdirs util write to file writetofile actual result actualresult written file writtenfile get absolute path getabsolutepath string counter to string countertostring count reminder count string buffer stringbuffer buffer string buffer stringbuffer buffer append count reminder buffer append buffer append buffer append buffer append buffer to string tostring map get default compiler options getdefaultcompileroptions map options map optionsmap hash map hashmap options map optionsmap compiler options compileroptions option local variable attribute localvariableattribute compiler options compileroptions generate options map optionsmap compiler options compileroptions option line number attribute linenumberattribute compiler options compileroptions generate options map optionsmap compiler options compileroptions option source file attribute sourcefileattribute compiler options compileroptions generate options map optionsmap compiler options compileroptions option preserve unused local preserveunusedlocal compiler options compileroptions preserve options map optionsmap compiler options compileroptions option doc comment support doccommentsupport compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report method with constructor name reportmethodwithconstructorname compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report overriding package default method reportoverridingpackagedefaultmethod compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report overriding method without super invocation reportoverridingmethodwithoutsuperinvocation compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report deprecation reportdeprecation compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report deprecation in deprecated code reportdeprecationindeprecatedcode compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report deprecation when overriding deprecated method reportdeprecationwhenoverridingdeprecatedmethod compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report hidden catch block reporthiddencatchblock compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unused local reportunusedlocal compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unused parameter reportunusedparameter compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unused import reportunusedimport compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report synthetic access emulation reportsyntheticaccessemulation compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report no effect assignment reportnoeffectassignment compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report non externalized string literal reportnonexternalizedstringliteral compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report no implicit string conversion reportnoimplicitstringconversion compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report non static access to static reportnonstaticaccesstostatic compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report indirect static access reportindirectstaticaccess compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report incompatible non inherited interface method reportincompatiblenoninheritedinterfacemethod compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unused private member reportunusedprivatemember compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report local variable hiding reportlocalvariablehiding compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report field hiding reportfieldhiding compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report possible acc ide ntal boolean assignment reportpossibleaccidentalbooleanassignment compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report empty statement reportemptystatement compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report assert identifier reportassertidentifier compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report enum identifier reportenumidentifier compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report undo cumented empty block reportundocumentedemptyblock compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unnecessary type check reportunnecessarytypecheck compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report invalid javadoc reportinvalidjavadoc compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report invalid javadoc tags visibility reportinvalidjavadoctagsvisibility compiler options compileroptions options map optionsmap compiler options compileroptions option report invalid javadoc tags reportinvalidjavadoctags compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report missing javadoc tag description reportmissingjavadoctagdescription compiler options compileroptions tag options map optionsmap compiler options compileroptions option report invalid javadoc tags deprecated ref reportinvalidjavadoctagsdeprecatedref compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report invalid javadoc tags not visible ref reportinvalidjavadoctagsnotvisibleref compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report missing javadoc tags reportmissingjavadoctags compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report missing javadoc tags visibility reportmissingjavadoctagsvisibility compiler options compileroptions options map optionsmap compiler options compileroptions option report missing javadoc tags overriding reportmissingjavadoctagsoverriding compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report missing javadoc comments reportmissingjavadoccomments compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report missing javadoc comments visibility reportmissingjavadoccommentsvisibility compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report missing javadoc comments overriding reportmissingjavadoccommentsoverriding compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report finally block not comp leting normally reportfinallyblocknotcompletingnormally compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unused declared thrown exception reportunuseddeclaredthrownexception compiler options compileroptions ignore options map optionsmap compiler options compileroptions option report unused declared thrown exception when overriding reportunuseddeclaredthrownexceptionwhenoverriding compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report unqualified field access reportunqualifiedfieldaccess compiler options compileroptions ignore options map optionsmap compiler options compileroptions option compliance compiler options compileroptions version options map optionsmap compiler options compileroptions option target platform targetplatform compiler options compileroptions version nls options map optionsmap compiler options compileroptions option task tags tasktags nls options map optionsmap compiler options compileroptions option task priorities taskpriorities options map optionsmap compiler options compileroptions option task case sensitive taskcasesensitive compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report unused parameter when impl ementing abstract reportunusedparameterwhenimplementingabstract compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report unused parameter when overriding concrete reportunusedparameterwhenoverridingconcrete compiler options compileroptions disabled options map optionsmap compiler options compileroptions option report special parameter hiding field reportspecialparameterhidingfield compiler options compileroptions disabled options map optionsmap compiler options compileroptions option max problem per unit maxproblemperunit string value of valueof options map optionsmap compiler options compileroptions option inline jsr inlinejsr compiler options compileroptions disabled options map optionsmap compiler options compileroptions option source compiler options compileroptions version options map optionsmap is expected failure isexpectedfailure length expected failures length length i path ipath expected failure expectedfailure expected failures path to string tostring index of indexof expected failure expectedfailure to string tostring failure index failureindex reformatting expected failure failures reformatting expected failure failures add path run formatter without comments runformatterwithoutcomments code formatter codeformatter code formatter codeformatter string source kind indentation level indentationlevel offset length string line separator lineseparator default code formatter options defaultcodeformatteroptions preferences without comment preferenceswithoutcomment default code formatter options defaultcodeformatteroptions get eclipse default settings geteclipsedefaultsettings preferences without comment preferenceswithoutcomment comment format comment preferences without comment preferenceswithoutcomment comment format block comment preferences without comment preferenceswithoutcomment comment format javadoc comment default code formatter defaultcodeformatter code formatter without comment codeformatterwithoutcomment default code formatter defaultcodeformatter preferences without comment preferenceswithoutcomment text edit textedit edit code formatter without comment codeformatterwithoutcomment format kind source offset length indentation level indentationlevel line separator lineseparator nls edit string initial result initialresult org eclipse jdt internal core util util edited string editedstring source edit count string result initial result initialresult string previous result previousresult result count format repeat edit code formatter without comment codeformatterwithoutcomment format kind result result length indentation level indentationlevel line separator lineseparator nls edit previous result previousresult result result org eclipse jdt internal core util util edited string editedstring result edit previous result previousresult equals result source has compilation errors sourcehascompilationerrors string source code snippet parsing util codesnippetparsingutil code snippet parsing util codesnippetparsingutil code snippet parsing util codesnippetparsingutil code snippet parsing util codesnippetparsingutil parse compilation unit parsecompilationunit source to char array tochararray get default compiler options getdefaultcompileroptions code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation categorized problem categorizedproblem problems code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation problems length problems problems length length default problem defaultproblem problems is error iserror string run formatter runformatter code formatter codeformatter code formatter codeformatter string source kind indentation level indentationlevel offset length string line separator lineseparator repeat time start timestart system current time millis currenttimemillis text edit textedit edit code formatter codeformatter format kind source offset length indentation level indentationlevel line separator lineseparator comparison started failures time measures for matting formatting system current time millis currenttimemillis time start timestart time measures occurences edit time measures output edit source has compilation errors sourcehascompilationerrors source failure index failureindex compilation errors failure failures compilation errors failure failures add path failure index failureindex output failure assertion failed error assertionfailederror for matted formatted source string initial result initialresult org eclipse jdt internal core util util edited string editedstring source edit count string result initial result initialresult string previous result previousresult result count format repeat time start timestart system current time millis currenttimemillis edit code formatter codeformatter format kind result result length indentation level indentationlevel line separator lineseparator comparison started failures time measures for matting formatting count system current time millis currenttimemillis time start timestart time measures occurences count edit time measures output count edit previous result previousresult result result org eclipse jdt internal core util util edited string editedstring result edit previous result previousresult equals result failures compare leading spaces string trimmed expected trimmedexpected model tests util modeltestsutil trim lines leading whitespaces trimlinesleadingwhitespaces previous result previousresult string trimmed actual trimmedactual model tests util modeltestsutil trim lines leading whitespaces trimlinesleadingwhitespaces result trimmed expected trimmedexpected equals trimmed actual trimmedactual failure index failureindex reformatting leading failure failures reformatting leading failure failures add path initial result initialresult compare spaces model tests util modeltestsutil remove white space removewhitespace previous result previousresult equals model tests util modeltestsutil remove white space removewhitespace result failure index failureindex reformatting whitespaces failure failures reformatting whitespaces failure failures add path initial result initialresult for matting formatting fails comments run formatter without comments runformatterwithoutcomments source kind indentation level indentationlevel offset length line separator lineseparator initial result initialresult format comments problem comment for matting formatting string counter string counterstring counter to string countertostring count assert source equals assertsourceequals counter string counterstring for matting formatting previous result previousresult result is expected failure isexpectedfailure string counter string counterstring counter to string countertostring count assert source equals assertsourceequals counter string counterstring for matting formatting previous result previousresult result comparison failure comparisonfailure failure index failureindex reformatting failure assertion failed error assertionfailederror afe failure index failureindex reformatting failure afe initial result initialresult returns string display time duration for matted formatted x x x ms xxxms duration yy s yys duration duration x x mn xxmn x x s xxs duration x x h xxh x x mn xxmn x x s xxs duration param time time format for matted formatted string string time string timestring time number format numberformat format number format numberformat get instance getinstance format set maximum fraction digits setmaximumfractiondigits string buffer stringbuffer buffer string buffer stringbuffer time print time hour nls buffer append append remaining time hour remaining minute nls buffer append append remaining remaining minute remaining buffer append remaining buffer append format format remaining nls buffer append buffer to string tostring test delete output directory test delete output dir testdeleteoutputdir io exception ioexception exception util delete input dir inputdir test fill output directory reference test reference testreference io exception ioexception exception dump version test index testindex file version file versionfile path output dir get path getpath append version txt to file tofile output dir mkdirs util write to file writetofile jdt core version version file versionfile get absolute path getabsolutepath source file string source string org eclipse jdt internal compiler util util get file char content getfilecharcontent file format source text edit textedit edit code formatter codeformatter format code formatter codeformatter compilation unit code formatter codeformatter include comments source source length write result edit string format result formatresult org eclipse jdt internal core util util edited string editedstring source edit string input path inputpath file get path getpath substring input dir inputdir get path getpath length file written file writtenfile path output dir get path getpath append input path inputpath to file tofile written file writtenfile get parent file getparentfile mkdirs util write to file writetofile format result formatresult written file writtenfile get absolute path getabsolutepath exception test compare formatter output existing file test compare testcompare io exception ioexception exception compare for matted source compareformattedsource comparison failure comparisonfailure failure index failureindex failures unexpected failure failures add path failures failure index failureindex failures add path assertion failed error assertionfailederror afe failure index failureindex failures unexpected failure failures add path failures failure index failureindex failures add path afe exception failures unexpected failure failures add path
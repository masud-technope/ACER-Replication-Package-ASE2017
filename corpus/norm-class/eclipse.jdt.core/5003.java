copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt compiler apt tests processors elements java io exception ioexception java input stream inputstream java output stream outputstream java lang annotation annotation java lang reflect invocation target exception invocationtargetexception java lang reflect method java util hash set hashset java util list java util map java util javax annotation processing file r filer javax annotation processing round environment roundenvironment javax annotation processing supported annotation types supportedannotationtypes javax annotation processing supported source version supportedsourceversion javax lang model annotated construct annotatedconstruct javax lang model source version sourceversion javax lang model element annotation mirror annotationmirror javax lang model element annotation value annotationvalue javax lang model element element javax lang model element element kind elementkind javax lang model element executable element executableelement javax lang model element modifier javax lang model element package element packageelement javax lang model element type element typeelement javax lang model element type parameter element typeparameterelement javax lang model element variable element variableelement javax lang model type array type arraytype javax lang model type declared type declaredtype javax lang model type executable type executabletype javax lang model type type kind typekind javax lang model type type mirror typemirror javax lang model util element filter elementfilter org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo container foocontainer org eclipse jdt compiler apt tests annotations foo non container foononcontainer org eclipse jdt compiler apt tests annotations goo org eclipse jdt compiler apt tests annotations goo non container goononcontainer org eclipse jdt compiler apt tests annotations i foo ifoo org eclipse jdt compiler apt tests annotations i foo container ifoocontainer org eclipse jdt compiler apt tests annotations t foo tfoo org eclipse jdt compiler apt tests annotations t foo container tfoocontainer org eclipse jdt compiler apt tests annotations type org eclipse jdt compiler apt tests annotations type org eclipse jdt compiler apt tests processors base base processor baseprocessor processor exp lores explores java specific elements valid ates validates lambda type annotated elements enable processor add aorg eclipse jdt compiler apt tests processors elements java element processor elementprocessor command supported annotation types supportedannotationtypes targets model type annot typeannot org eclipse jdt compiler apt tests annotations type org eclipse jdt compiler apt tests annotations type org eclipse jdt compiler apt tests annotations type org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo container foocontainer org eclipse jdt compiler apt tests annotations i foo ifoo org eclipse jdt compiler apt tests annotations i foo container ifoocontainer org eclipse jdt compiler apt tests annotations goo org eclipse jdt compiler apt tests annotations goo non container goononcontainer org eclipse jdt compiler apt tests annotations foo non container foononcontainer targets file r filer package annot packageannot supported source version supportedsourceversion source version sourceversion release java element processor elementprocessor base processor baseprocessor string element names string targets model kkk vvv string type param elements string string type param elements string kkk vvv string simple name simplename file r filer string package name packagename targets file r filer round no roundno report success already reportsuccessalready round environment roundenvironment round env roundenv processor supports sig nify signify success failure override process type element typeelement annotations round environment roundenvironment round env roundenv round env roundenv processing over processingover round env roundenv round env roundenv map string string options processing env processingenv get options getoptions options contains key containskey get class getclass get name getname disable processor int entionally intentionally performing test invoke test methods invoketestmethods options test all testall report success already reportsuccessalready report success reportsuccess assertion failed error assertionfailederror report error reporterror get exception stack trace getexceptionstacktrace throwable print stack trace printstacktrace invoke test methods invoketestmethods map string string options throwable method test method testmethod string options key set keyset tests found testsfound string option option starts with startswith test test method testmethod get class getclass get declared method getdeclaredmethod option test method testmethod tests found testsfound test method testmethod invoke object invocation target exception invocationtargetexception get cause getcause exception report error reporterror get exception stack trace getexceptionstacktrace tests found testsfound test all testall assertion failed error assertionfailederror testse specifics test lambda specifics testlambdaspecifics test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test type annotations testtypeannotations test repeated annotations testrepeatedannotations test repeated annotations testrepeatedannotations test repeated annotations testrepeatedannotations test repeated annotations testrepeatedannotations test repeated annotations testrepeatedannotations test repeated annotations testrepeatedannotations test type annotations testtypeannotations test repeated annotations testrepeatedannotations test repeated annotations testrepeatedannotations test type annotations testtypeannotations test type annotations testtypeannotations test package annotations testpackageannotations test lambda specifics testlambdaspecifics type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model lambda test lambdatest assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics type element lambda test lambdatest annotated type annotatedtype assert false assertfalse java element processor elementprocessor examine lambda specifics examinelambdaspecifics type lambda test lambdatest functional element utils elementutils is functional interface isfunctionalinterface annotated type annotatedtype list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method executable element executableelement member element filter elementfilter methods in methodsin members foo equals member get simple name getsimplename to string tostring method member assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics element method foo method assert false assertfalse java element processor elementprocessor examine lambda specifics examinelambdaspecifics method foo method method is default isdefault modifier modifiers method get modifiers getmodifiers assert modifiers assertmodifiers modifiers string annotated type annotatedtype element utils elementutils get type element gettypeelement targets model default interface defaultinterface assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics type element default interface defaultinterface annotated type annotatedtype assert false assertfalse java element processor elementprocessor examine lambda specifics examinelambdaspecifics type default interface defaultinterface functional element utils elementutils is functional interface isfunctionalinterface annotated type annotatedtype method members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement member element filter elementfilter methods in methodsin members default method defaultmethod equals member get simple name getsimplename to string tostring method member assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics element method default method defaultmethod method assert true asserttrue java element processor elementprocessor examine lambda specifics examinelambdaspecifics method default method defaultmethod method method is default isdefault modifiers method get modifiers getmodifiers assert modifiers assertmodifiers modifiers string method members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement member element filter elementfilter methods in methodsin members another default anotherdefault equals member get simple name getsimplename to string tostring method member assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics element method another default anotherdefault method assert true asserttrue java element processor elementprocessor examine lambda specifics examinelambdaspecifics method another default anotherdefault method method is default isdefault modifiers method get modifiers getmodifiers assert modifiers assertmodifiers modifiers string method executable element executableelement member element filter elementfilter methods in methodsin members static method staticmethod equals member get simple name getsimplename to string tostring method member assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics element method static method staticmethod method assert false assertfalse java element processor elementprocessor examine lambda specifics examinelambdaspecifics method static method staticmethod shoule method method is default isdefault modifiers method get modifiers getmodifiers assert modifiers assertmodifiers modifiers string annotated type annotatedtype element utils elementutils get type element gettypeelement targets model functional interface functionalinterface assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics type element functional interface functionalinterface annotated type annotatedtype assert true asserttrue java element processor elementprocessor examine lambda specifics examinelambdaspecifics type functional interface functionalinterface functional element utils elementutils is functional interface isfunctionalinterface annotated type annotatedtype method members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement member element filter elementfilter methods in methodsin members abstract method abstractmethod equals member get simple name getsimplename to string tostring method member assert not null assertnotnull java element processor elementprocessor examine lambda specifics examinelambdaspecifics element method abstract method abstractmethod method assert false assertfalse java element processor elementprocessor examine lambda specifics examinelambdaspecifics method abstract method abstractmethod method method is default isdefault testse specifics type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model examinese annotation methods annotationmethods java element processor elementprocessor examinese specifics annotated type annotatedtype list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method variable element variableelement field field field executable element executableelement method element member members foo equals member get simple name getsimplename to string tostring method executable element executableelement member field equals member get simple name getsimplename to string tostring field variable element variableelement member no annotation here noannotationhere equals member get simple name getsimplename to string tostring method executable element executableelement member field equals member get simple name getsimplename to string tostring field variable element variableelement member field equals member get simple name getsimplename to string tostring field variable element variableelement member assert not null assertnotnull method method type mirror typemirror type mirror typemirror method get return type getreturntype assert not null assertnotnull java element processor elementprocessor examinese specifics element method foo type mirror typemirror examinese annotation methods annotationmethods java element processor elementprocessor examinese specifics type mirror typemirror list annotation mirror annotationmirror list type mirror typemirror get annotation mirrors getannotationmirrors assert equals assertequals java element processor elementprocessor examinese specifics incorrect annotation mirrors list size assert not null assertnotnull java element processor elementprocessor examinese specifics element field field field type mirror typemirror field as type astype examinese annotation methods annotationmethods java element processor elementprocessor examinese specifics type mirror typemirror type mirror typemirror type mirror typemirror type mirror typemirror field as type astype assert false assertfalse type type utils typeutils is same type issametype type mirror typemirror verify annotations verifyannotations type mirror typemirror string type field as type astype assert true asserttrue type type utils typeutils is same type issametype type mirror typemirror type mirror typemirror method get return type getreturntype assert not null assertnotnull java element processor elementprocessor examinese specifics element method no annotation here noannotationhere type mirror typemirror type annot type mirror typemirror get annotation getannotation type assert null assertnull annotation annot type annots type mirror typemirror get annotations by type getannotationsbytype type assert equals assertequals annotation empty list annots length test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model type mirror typemirror super type supertype annotated type annotatedtype get superclass getsuperclass assert not null assertnotnull java element processor elementprocessor examinese specifics type super type supertype verify annotations verifyannotations super type supertype string type list type mirror typemirror interfaces annotated type annotatedtype get interfaces getinterfaces assert not null assertnotnull java element processor elementprocessor examinese specifics interfaces list interfaces assert equals assertequals java element processor elementprocessor examinese specifics incorrect interfaces interfaces size super type supertype interfaces verify annotations verifyannotations super type supertype string type super type supertype interfaces verify annotations verifyannotations super type supertype string type test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method element member members bar equals member get simple name getsimplename to string tostring method executable element executableelement member list variable element variableelement params method get parameters getparameters assert equals assertequals incorrect params method bar params size variable element variableelement param variable element variableelement params type mirror typemirror type mirror typemirror param as type astype verify annotations verifyannotations type mirror typemirror string type param variable element variableelement params type mirror typemirror param as type astype verify annotations verifyannotations type mirror typemirror string type test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype variable element variableelement field variable element variableelement field element member members field equals member get simple name getsimplename to string tostring field variable element variableelement member field equals member get simple name getsimplename to string tostring field variable element variableelement member type string type type field type field type assert not null assertnotnull java element processor elementprocessor examinese specifics element field field field type mirror typemirror type mirror typemirror field as type astype assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type assert not null assertnotnull java element processor elementprocessor examinese specifics element field field field type mirror typemirror field as type astype field binding doesn annotations investigated verify annotations verifyannotations type mirror typemirror string type type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method element member members foo equals member get simple name getsimplename to string tostring method executable element executableelement member type string type foo type type assert not null assertnotnull method method type mirror typemirror type mirror typemirror method get return type getreturntype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type test type annotations testtypeannotations bar type string type type type type type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method element member members bar equals member get simple name getsimplename to string tostring method executable element executableelement member assert not null assertnotnull method method list variable element variableelement params method get parameters getparameters assert equals assertequals incorrect params method bar params size variable element variableelement param variable element variableelement params type mirror typemirror type mirror typemirror param as type astype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type param variable element variableelement params type mirror typemirror param as type astype verify annotations verifyannotations type mirror typemirror string assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type test type annotations testtypeannotations foo type null pointer exception nullpointerexception type array index out of bounds exception arrayindexoutofboundsexception type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method element member members foo equals member get simple name getsimplename to string tostring method executable element executableelement member list type mirror typemirror exceptions method get thrown types getthrowntypes assert equals assertequals incorrect thrown exceptions exceptions size type mirror typemirror type mirror typemirror exceptions verify annotations verifyannotations type mirror typemirror string type type mirror typemirror exceptions verify annotations verifyannotations type mirror typemirror string type test type annotations testtypeannotations bar type string type type args type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method element member members bar equals member get simple name getsimplename to string tostring method executable element executableelement member list variable element variableelement params method get parameters getparameters assert equals assertequals incorrect parameters params size type mirror typemirror type mirror typemirror params as type astype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type assert equals assertequals array type type kind typekind array type mirror typemirror get kind getkind type mirror typemirror array type arraytype type mirror typemirror get component type getcomponenttype verify annotations verifyannotations type mirror typemirror string type test type annotations testtypeannotations type type type element typeelement type z typez element utils elementutils get type element gettypeelement targets model type mirror typemirror type mirror typemirror type z typez as type astype list type parameter element typeparameterelement type params typeparams type z typez get type parameters gettypeparameters assert equals assertequals incorrect type params type params typeparams size type parameter element typeparameterelement type param typeparam type params typeparams verify annotations verifyannotations type param typeparam string type type mirror typemirror type param typeparam as type astype verify annotations verifyannotations type mirror typemirror string type type param typeparam type params typeparams type mirror typemirror type param typeparam as type astype verify annotations verifyannotations type param typeparam string type verify annotations verifyannotations type mirror typemirror string type type list element members element utils elementutils get all members getallmembers type z typez executable element executableelement method element filter elementfilter constructors in constructorsin members executable type executabletype executable type executabletype executable type executabletype method as type astype list type mirror typemirror list executable type executabletype get parameter types getparametertypes list variable element variableelement list method get parameters getparameters list size variable element variableelement variable element variableelement list method get simple name getsimplename to string tostring equals init assert equals assertequals trouble list variable element variableelement as type astype test type annotations testtypeannotations type element typeelement type z typez element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers type z typez executable element executableelement method variable element variableelement field element member members foo equals member get simple name getsimplename to string tostring method executable element executableelement member equals member get simple name getsimplename to string tostring field variable element variableelement member type type foo list type parameter element typeparameterelement type params typeparams method get type parameters gettypeparameters assert equals assertequals incorrect type params type params typeparams size type parameter element typeparameterelement type param typeparam type params typeparams verify annotations verifyannotations type param typeparam string type verify annotations verifyannotations type param typeparam as type astype string type type param typeparam type params typeparams verify annotations verifyannotations type param typeparam string type verify annotations verifyannotations type param typeparam as type astype string type type string type object api s apis don expose type arguments type mirror typemirror type mirror typemirror type mirror typemirror field as type astype verify annotations verifyannotations type mirror typemirror string test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype variable element variableelement field variable element variableelement member element filter elementfilter fields in fieldsin members field equals member get simple name getsimplename to string tostring field variable element variableelement member type mirror typemirror type mirror typemirror field as type astype type annot type mirror typemirror get annotation getannotation type assert not null assertnotnull annotation annot type annot type mirror typemirror get annotation getannotation type assert not null assertnotnull annotation annot test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype variable element variableelement field element member members field equals member get simple name getsimplename to string tostring field variable element variableelement member verify annotations verifyannotations annotated type annotatedtype string type verify annotations verifyannotations annotated type annotatedtype as type astype string verify annotations verifyannotations field string verify annotations verifyannotations field as type astype string test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype variable element variableelement element member members equals member get simple name getsimplename to string tostring variable element variableelement member verify annotations verifyannotations string verify annotations verifyannotations as type astype string type string expected element names expectedelementnames hash set hashset string element names length string element names expected element names expectedelementnames add element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith type assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments element actual elments actualelments type element typeelement string type element typeelement get qualified name getqualifiedname to string tostring expected element names expectedelementnames remove report error reporterror missing root element type parameter element typeparameterelement string type parameter element typeparameterelement get simple name getsimplename to string tostring expected element names expectedelementnames remove report error reporterror missing root element assert true asserttrue unexpected extra elements expected element names expectedelementnames is empty isempty test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement bar executable element executableelement constr executable element executableelement constr element member members bar equals member get simple name getsimplename to string tostring bar executable element executableelement member init equals member get simple name getsimplename to string tostring executable element executableelement member get parameters getparameters is empty isempty constr executable element executableelement member constr executable element executableelement member type mirror typemirror type mirror typemirror bar get receiver type getreceivertype verify annotations verifyannotations type mirror typemirror string type receiver executable type executabletype type executable type executabletype bar as type astype verify annotations verifyannotations type get receiver type getreceivertype string type receiver verify annotations verifyannotations constr string type executable type executabletype constr as type astype verify annotations verifyannotations type string verify annotations verifyannotations constr string type constr type executable type executabletype constr as type astype verify annotations verifyannotations type string test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype variable element variableelement field variable element variableelement member element filter elementfilter fields in fieldsin members equals member get simple name getsimplename to string tostring field variable element variableelement member type mirror typemirror type mirror typemirror field as type astype verify annotations verifyannotations type mirror typemirror string test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement main executable element executableelement constr type element typeelement element member members main equals member get simple name getsimplename to string tostring main executable element executableelement member init equals member get simple name getsimplename to string tostring constr executable element executableelement member equals member get simple name getsimplename to string tostring type element typeelement member type mirror typemirror type mirror typemirror main get receiver type getreceivertype assert not null assertnotnull type mirror typemirror type mirror typemirror assert same assertsame type type kind typekind type mirror typemirror get kind getkind executable type executabletype type executable type executabletype main as type astype type mirror typemirror type get receiver type getreceivertype assert not null assertnotnull type mirror typemirror type mirror typemirror assert same assertsame type type kind typekind type mirror typemirror get kind getkind type mirror typemirror constr get receiver type getreceivertype assert not null assertnotnull type mirror typemirror type mirror typemirror assert same assertsame type type kind typekind type mirror typemirror get kind getkind type annotations type mirror typemirror get annotations by type getannotationsbytype type assert equals assertequals annotations arrays empty annotations length type executable type executabletype constr as type astype type mirror typemirror type get receiver type getreceivertype assert not null assertnotnull type mirror typemirror type mirror typemirror assert same assertsame type type kind typekind type mirror typemirror get kind getkind members element utils elementutils get all members getallmembers element member members init equals member get simple name getsimplename to string tostring constr executable element executableelement member type mirror typemirror constr get receiver type getreceivertype assert not null assertnotnull type mirror typemirror type mirror typemirror assert not same assertnotsame type type kind typekind type mirror typemirror get kind getkind verify annotations verifyannotations type mirror typemirror string type receiver type executable type executabletype constr as type astype type mirror typemirror type get receiver type getreceivertype assert not null assertnotnull type mirror typemirror type mirror typemirror verify annotations verifyannotations type mirror typemirror string type receiver assert not same assertnotsame type type kind typekind type mirror typemirror get kind getkind test type annotations testtypeannotations string expected element names expectedelementnames hash set hashset string type param elements length string type param elements expected element names expectedelementnames add element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith type assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments element actual elments actualelments type parameter element typeparameterelement string type parameter element typeparameterelement get simple name getsimplename to string tostring expected element names expectedelementnames remove report error reporterror missing root element assert true asserttrue unexpected extra elements expected element names expectedelementnames is empty isempty test type annotations testtypeannotations string expected element names expectedelementnames hash set hashset string type param elements length string type param elements expected element names expectedelementnames add element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith type assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments element actual elments actualelments type parameter element typeparameterelement string type parameter element typeparameterelement get simple name getsimplename to string tostring expected element names expectedelementnames remove report error reporterror missing root element assert true asserttrue unexpected extra elements expected element names expectedelementnames is empty isempty test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo container foocontainer assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments verify annotations verifyannotations string foo container foocontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo string foo container foocontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annotation annot get annotation getannotation foo assert null assertnull repeating annotation api annot annot get annotation getannotation foo container foocontainer assert not null assertnotnull container missing annot annotation annots get annotations by type getannotationsbytype foo container foocontainer assert true asserttrue empty annots length annots get annotations by type getannotationsbytype foo assert true asserttrue annots length assert equals assertequals foo missing org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annots to string tostring assert equals assertequals foo missing org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annots to string tostring test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo container foocontainer assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments verify annotations verifyannotations string foo container foocontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo string foo container foocontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annotation annot get annotation getannotation foo assert null assertnull repeating annotation api annot annot get annotation getannotation foo container foocontainer assert not null assertnotnull container missing annot annotation annots get annotations by type getannotationsbytype foo container foocontainer assert true asserttrue empty annots length annots get annotations by type getannotationsbytype foo assert true asserttrue annots length assert equals assertequals foo missing org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annots to string tostring assert equals assertequals foo missing org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annots to string tostring goo wrapped goo non container goononcontainer goo repeatable test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith goo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith goo non container goononcontainer assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments verify annotations verifyannotations string goo non container goononcontainer org eclipse jdt compiler apt tests annotations goo org eclipse jdt compiler apt tests annotations goo string goo non container goononcontainer org eclipse jdt compiler apt tests annotations goo org eclipse jdt compiler apt tests annotations goo annotation annot get annotation getannotation goo assert null assertnull repeating annotation api annot annot get annotation getannotation goo non container goononcontainer assert not null assertnotnull container missing annot annotation annots get annotations by type getannotationsbytype goo non container goononcontainer assert true asserttrue empty annots length goo unwrapped container goo repeatable annotation annots get annotations by type getannotationsbytype goo assert true asserttrue annots length foo foo container foocontainer occur test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo container foocontainer assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments verify annotations verifyannotations string foo container foocontainer org eclipse jdt compiler apt tests annotations foo foo string foo container foocontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annotation annot get annotation getannotation foo assert not null assertnotnull foo wrapped api annot annot get annotation getannotation foo container foocontainer assert not null assertnotnull container missing annot annotation annots get annotations by type getannotationsbytype foo container foocontainer assert true asserttrue empty annots length annots get annotations by type getannotationsbytype foo assert true asserttrue annots length foo wrapped declared container test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo non container foononcontainer assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments verify annotations verifyannotations string foo non container foononcontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo string foo non container foononcontainer org eclipse jdt compiler apt tests annotations foo org eclipse jdt compiler apt tests annotations foo annotation annot get annotation getannotation foo assert null assertnull foo api annot annot get annotation getannotation foo non container foononcontainer assert not null assertnotnull container missing annot annotation annots get annotations by type getannotationsbytype foo non container foononcontainer assert true asserttrue empty annots length annots get annotations by type getannotationsbytype foo assert true asserttrue annots length repeating type annotations test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith foo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments variable element variableelement variable element variableelement field variable element variableelement type mirror typemirror mirror field as type astype verify annotations verifyannotations mirror string t foo container tfoocontainer org eclipse jdt compiler apt tests annotations t foo tfoo org eclipse jdt compiler apt tests annotations t foo tfoo string t foo container tfoocontainer org eclipse jdt compiler apt tests annotations t foo tfoo org eclipse jdt compiler apt tests annotations t foo tfoo annotation annot mirror get annotation getannotation t foo tfoo assert null assertnull t foo tfoo api annot annot mirror get annotation getannotation t foo container tfoocontainer assert not null assertnotnull container missing annot annotation annots mirror get annotations by type getannotationsbytype t foo container tfoocontainer assert true asserttrue empty annots length annots mirror get annotations by type getannotationsbytype t foo tfoo assert true asserttrue annots length test type annotations testtypeannotations element all elements allelements round env roundenv get root elements getrootelements element element all elements allelements list annotation mirror annotationmirror list element utils elementutils get all annotation mirrors getallannotationmirrors element list annotation mirror annotationmirror list element get annotation mirrors getannotationmirrors assert true asserttrue annotations mirrors returned get all annotation mirrors getallannotationmirrors declared annotation mirrors list contains all containsall list test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith i foo ifoo assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size element actual elments actualelments sub class subclass equals get simple name getsimplename to string tostring i foo ifoo annotation get annotation getannotation i foo ifoo assert true asserttrue wrong annotation annotation i foo container ifoocontainer container get annotation getannotation i foo container ifoocontainer assert true asserttrue wrong annotation container i foo ifoo annotations get annotations by type getannotationsbytype i foo ifoo assert true asserttrue wrong count annotations length assert true asserttrue wrong annotation annotations i foo container ifoocontainer containers get annotations by type getannotationsbytype i foo container ifoocontainer assert true asserttrue wrong count containers length assert true asserttrue wrong annotation containers sub class subclass equals get simple name getsimplename to string tostring i foo ifoo annotation get annotation getannotation i foo ifoo assert true asserttrue wrong annotation annotation i foo container ifoocontainer container get annotation getannotation i foo container ifoocontainer assert true asserttrue messed container length assert true asserttrue wrong annotation container assert true asserttrue wrong annotation container i foo ifoo annotations get annotations by type getannotationsbytype i foo ifoo assert true asserttrue wrong count annotations length assert true asserttrue wrong annotation annotations assert true asserttrue wrong annotation annotations i foo container ifoocontainer containers get annotations by type getannotationsbytype i foo container ifoocontainer assert true asserttrue wrong count containers length assert true asserttrue wrong annotation containers assert true asserttrue wrong annotation containers jep equals get simple name getsimplename to string tostring i foo ifoo annotation get annotation getannotation i foo ifoo assert true asserttrue wrong annotation annotation i foo container ifoocontainer container get annotation getannotation i foo container ifoocontainer assert true asserttrue messed container length assert true asserttrue wrong annotation container i foo ifoo annotations get annotations by type getannotationsbytype i foo ifoo assert true asserttrue wrong count annotations length assert true asserttrue wrong annotation annotations assert true asserttrue wrong annotation annotations i foo container ifoocontainer containers get annotations by type getannotationsbytype i foo container ifoocontainer assert true asserttrue wrong count containers length assert true asserttrue wrong annotation containers test repeated annotations testrepeatedannotations discovery terms container element actual elments actualelments round env roundenv get elements annotated with getelementsannotatedwith i foo container ifoocontainer assert not null assertnotnull round environment roundenvironment get elements annotated with getelementsannotatedwith returned actual elments actualelments assert true asserttrue unexpected elements actual elments actualelments size i foo container ifoocontainer annotation on sub class annotationonsubclass annotation on jep annotationonjep element actual elments actualelments sub class subclass equals get simple name getsimplename to string tostring annotation on sub class annotationonsubclass get annotation getannotation i foo container ifoocontainer jep equals get simple name getsimplename to string tostring annotation on jep annotationonjep get annotation getannotation i foo container ifoocontainer assert true asserttrue equals annotation on jep annotationonjep equals annotation on sub class annotationonsubclass test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model iface list element members element utils elementutils get all members getallmembers annotated type annotatedtype executable element executableelement method element member members foo equals member get simple name getsimplename to string tostring method executable element executableelement member list variable element variableelement list method get parameters getparameters variable element variableelement param list verify annotations verifyannotations param string test type annotations testtypeannotations type element typeelement annotated type annotatedtype element utils elementutils get type element gettypeelement targets model test list element members element utils elementutils get all members getallmembers annotated type annotatedtype element member members foo equals member get simple name getsimplename to string tostring executable element executableelement method executable element executableelement member list type parameter element typeparameterelement list method get type parameters gettypeparameters type parameter element typeparameterelement t param tparam list verify annotations verifyannotations t param tparam string marker container markercontainer targets model marker targets model marker test package annotations testpackageannotations round no roundno report success already reportsuccessalready create package binary createpackagebinary io exception ioexception print stack trace printstacktrace system set property setproperty get class getclass get name getname processor fully job report success already reportsuccessalready package element packageelement package el packageel element element round env roundenv get root elements getrootelements element get kind getkind element kind elementkind package el packageel package element packageelement element assert not null assertnotnull element package el packageel assert equals assertequals incorrect simple name simplename package el packageel get simple name getsimplename to string tostring assert equals assertequals incorrect package name packagename package el packageel get qualified name getqualifiedname to string tostring assert false assertfalse unnamed package el packageel is unnamed isunnamed create package binary createpackagebinary io exception ioexception string path package name packagename replace class loader classloader loader get class getclass get class loader getclassloader input stream inputstream loader get resource as stream getresourceasstream path info file r filer file r filer processing env processingenv get file r getfiler output stream outputstream file r filer create class file createclassfile package name packagename info open output stream openoutputstream read write read close close string get exception stack trace getexceptionstacktrace throwable string buffer stringbuffer buf string buffer stringbuffer get message getmessage stack trace element stacktraceelement traces get stack trace getstacktrace traces length stack trace element stacktraceelement trace traces buf append tat trace don dump stacks buf to string tostring verify annotations verifyannotations annotated construct annotatedconstruct construct string annots list annotation mirror annotationmirror annotations construct get annotation mirrors getannotationmirrors assert equals assertequals incorrect annotations annots length annotations size length annots length length annotation mirror annotationmirror mirror annotations assert equals assertequals invalid annotation annots get annotation string getannotationstring mirror verify annotations verifyannotations annotated construct annotatedconstruct construct string annots string alternate anno ts alternateannots list annotation mirror annotationmirror annotations construct get annotation mirrors getannotationmirrors assert equals assertequals incorrect annotations annots length annotations size length annots length length annotation mirror annotationmirror mirror annotations assert equals assertequals invalid annotation annots alternate anno ts alternateannots get annotation string getannotationstring mirror string get annotation string getannotationstring annotation mirror annotationmirror annot declared type declaredtype annot type annottype annot get annotation type getannotationtype type element typeelement type type element typeelement annot type annottype as element aselement string buffer stringbuffer buf string buffer stringbuffer type get simple name getsimplename map executable element executableelement annotation value annotationvalue values annot get element values getelementvalues executable element executableelement values key set keyset buf append marker executable element executableelement executable element executableelement marker buf append executable element executableelement get simple name getsimplename buf append annotation value annotationvalue values executable element executableelement buf append get value getvalue buf append buf to string tostring annotation examinese annotation methods annotationmethods string msg annotated construct annotatedconstruct construct string type annot construct get annotation getannotation type assert not null assertnotnull msg annotation element construct to string tostring annot assert same assertsame msg invalid annotation type type annot annotation type annotationtype assert equals assertequals msg invalid annotation annot type annots construct get annotations by type getannotationsbytype type assert equals assertequals msg incorrect annotations annots length annot type annots assert same assertsame msg invalid annotation type type annots annotation type annotationtype assert equals assertequals msg invalid annotation annot report error reporterror string msg assertion failed error assertionfailederror msg assert modifiers assertmodifiers modifier modifiers string expected assert equals assertequals incorrect modifiers modifiers size expected length string actual hash set hashset string expected length modifier modifier modifiers actual add modifier to string tostring length expected length length result actual remove expected result report error reporterror modifier expected actual is empty isempty report error reporterror unexpected modifiers actual to string tostring assert true asserttrue string msg report error reporterror msg assert false assertfalse string msg report error reporterror msg assert same assertsame string msg object obj object obj obj obj report error reporterror msg obj to string tostring obj to string tostring assert not same assertnotsame string msg object obj object obj obj obj report error reporterror msg obj to string tostring obj to string tostring assert not null assertnotnull string msg object obj obj report error reporterror msg assert null assertnull string msg object obj obj report error reporterror msg assert equals assertequals string message object expected object actual equals reg arding null equalsregardingnull expected actual report error reporterror message expected expected to string tostring actual to string tostring assert equals assertequals string message object expected object alternate expected alternateexpected object actual equals reg arding null equalsregardingnull expected actual equals reg arding null equalsregardingnull alternate expected alternateexpected actual report error reporterror message expected expected to string tostring actual to string tostring equals reg arding null equalsregardingnull object expected object actual expected actual expected equals actual assert equals assertequals string msg expected actual expected actual string buffer stringbuffer buf string buffer stringbuffer buf append msg buf append expected expected actual report error reporterror buf to string tostring assert equals assertequals object expected object actual expected actual assertion failed error assertionfailederror error serialversionuid assertion failed error assertionfailederror string msg msg
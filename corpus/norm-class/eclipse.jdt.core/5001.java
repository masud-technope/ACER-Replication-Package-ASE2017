copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug i class file iclassfile get working copy getworkingcopy lead npe become working copy operation becomeworkingcopyoperation org eclipse jdt core dom java print writer printwriter java string writer stringwriter java util array list arraylist java util hash map hashmap java util list java util map org eclipse core runtime i progress monitor iprogressmonitor org eclipse jdt core i class file iclassfile org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i type root ityperoot org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org eclipse jdt internal compiler ast constructor declaration constructordeclaration org eclipse jdt internal compiler ast explicit constructor call explicitconstructorcall org eclipse jdt internal compiler batch main org eclipse jdt internal compiler env i binary type ibinarytype org eclipse jdt internal compiler parser recovery scanner recoveryscanner org eclipse jdt internal compiler parser recovery scanner data recoveryscannerdata org eclipse jdt internal compiler parser scanner org eclipse jdt internal compiler util suffix constants suffixconstants org eclipse jdt internal core org eclipse jdt internal core util code snippet parsing util codesnippetparsingutil org eclipse jdt internal core util recorded parsing information recordedparsinginformation org eclipse jdt internal core util util java language parser creating syntax trees as ts asts create basic ast source string pre source ast parser astparser parser ast parser astparser new parser newparser ast jls handles jdk parser set source setsource source order parse code compiler options map options java core javacore get options getoptions java core javacore set compliance options setcomplianceoptions java core javacore version options parser set compiler options setcompileroptions options compilation unit compilationunit result compilation unit compilationunit parser createast pre configured parser instance create ast settings automatically reset defaults ready parser instance reused number config urable configurable features source string link set source setsource link set source setsource i compilation unit icompilationunit i compilation unit icompilationunit link set source setsource i class file iclassfile i class file iclassfile limited linkplain set source range setsourcerange subrange linkplain set resolve bindings setresolvebindings bindings created linkplain set working copy owner setworkingcopyowner working copy owner workingcopyowner working copy owner resolving bindings hypothetical linkplain set unit name setunitname string compilation unit file linkplain set project setproject i java project ijavaproject java project loc ating locating raw source string java model resolving bindings linkplain set compiler options setcompileroptions map compiler options parsing scanning source code requires version workspace workspace defaults create ast source code constructs parse linkplain set kind setkind expression statements body declarations entire compilation unit linkplain set focal position setfocalposition abridged ast focused declaration source position noinstantiate intended instantiated clients suppress warnings suppresswarnings rawtypes ast parser astparser kind constant request source parsed single expression expression kind constant request source parsed sequence statements statements kind constant request source parsed sequence body declarations body declarations kind constant request source parsed compilation unit compilation unit creates object creating java syntax tree ast api rules param level api level code jls code level constants declared link ast ast parser astparser instance ast parser astparser new parser newparser level ast parser astparser level level ast api desired api level apilevel kind parse requested defaults entire compilation unit ast kind astkind compiler options defaults java core javacore get options getoptions map string string compiler options compileroptions focal point partial ast request code partial code code code focal point position focalpointposition source string raw source rawsource java model file compilation unit sup plying supplying source i type root ityperoot type root typeroot character based offset source string parsing defaults source offset sourceoffset character based length limit unlimited characters source string code offset code code offset length code inclusive parsed defaults source string source length sourcelength working copy owner defaults primary owner working copy owner workingcopyowner working copy owner workingcopyowner default working copy owner defaultworkingcopyowner primary java project resolve names code code defaults i java project ijavaproject project compilation unit resolving bindings code code defaults string unit name unitname classpath entries resolve bindings java project string class paths classpaths source path sourcepath entries resolve bindings java project string source paths sourcepaths encoding source paths sourcepaths entries string source paths encodings sourcepathsencodings bits values compilation unit resolver compilationunitresolver values bits creates ast parser api level constructor param level api level code jls code level constants declared link ast ast parser astparser level level ast jls internal ast jls internal ast jls internal ast jls illegal argument exception illegalargumentexception api level apilevel level initialize defaults initializedefaults list get classpath getclasspath illegal state exception illegalstateexception main main main print writer printwriter system print writer printwriter system err system exit systemexit options progress array list arraylist all class paths allclasspaths array list arraylist bits compilation unit resolver compilationunitresolver include running bootclasspath org eclipse jdt internal compiler util util collectrunningvmbootclasspath all class paths allclasspaths source paths sourcepaths max source paths sourcepaths length max string encoding source paths encodings sourcepathsencodings source paths encodings sourcepathsencodings main process path entries processpathentries main size classpath all class paths allclasspaths source paths sourcepaths encoding class paths classpaths max class paths classpaths length max main process path entries processpathentries main size classpath all class paths allclasspaths class paths classpaths array list arraylist pending errors pendingerrors main pending errors pendingerrors pending errors pendingerrors pending errors pendingerrors size nls illegal state exception illegalstateexception nls invalid environment settings illegal argument exception illegalargumentexception illegal state exception illegalstateexception invalid environment settings all class paths allclasspaths sets setting values initialize defaults initializedefaults ast kind astkind compilation unit raw source rawsource type root typeroot bits source length sourcelength source offset sourceoffset working copy owner workingcopyowner default working copy owner defaultworkingcopyowner primary unit name unitname project class paths classpaths source paths sourcepaths source paths encodings sourcepathsencodings map string string options java core javacore get options getoptions parse task tags options remove java core javacore compiler task tags compiler options compileroptions options requests compiler perform bindings recovery bindings recovery enabled compiler returns incomplete bindings code code bindings resolved binding resolution param enabled code code incomplete bindings expected code code complete bindings expected i binding ibinding is recovered isrecovered set bindings recovery setbindingsrecovery enabled enabled bits compilation unit resolver compilationunitresolver binding recovery bits compilation unit resolver compilationunitresolver binding recovery sets environment link i java project ijavaproject user required types included classpath source paths paths binary types included code classpath entries classpathentries code paths source types included code source path entries sourcepathentries code paths code classpath entries classpathentries code code source path entries sourcepathentries code absolute paths source paths units specific encoding platform encoding code encodings code code encodings code code code length match length code source path entries sourcepathentries code illegal argument exception illegalargumentexception thrown code encodings code code code code source path entries sourcepathentries code code code param classpath entries classpathentries classpath entries resolve bindings param source path entries sourcepathentries source path sourcepath entries resolve bindings param encodings encodings source path sourcepath entries code code platform encoding param includerunningvmbootclasspath code code bootclasspath running prepended classpath code code bootclasspath running illegal argument exception illegalargumentexception size encodings equals size code source path entries sourcepathentries code set environment setenvironment string classpath entries classpathentries string source path entries sourcepathentries string encodings includerunningvmbootclasspath class paths classpaths classpath entries classpathentries source paths sourcepaths source path entries sourcepathentries source paths encodings sourcepathsencodings encodings encodings source path entries sourcepathentries source path entries sourcepathentries length encodings length illegal argument exception illegalargumentexception includerunningvmbootclasspath bits compilation unit resolver compilationunitresolver include running bootclasspath sets compiler options parsing note link set source setsource i class file iclassfile link set source setsource i compilation unit icompilationunit link set project setproject i java project ijavaproject reset compiler options based java project cases compiler options link java core javacore get options getoptions caller care fully carefully weight consequences allowing compiler options def aulted defaulted opposed explicitly link ast parser astparser instance instance compiler option called source compatibility mode determines jdk level source code expected meet treated keyword disallowed identifier allowed identifier setting major bea ring bearing considered syntactically legal explicitly setting client control parser works hand allowing settings parsing behaves jdt tools param options table options key type code string code type code string code code code set compiler options setcompileroptions map string string options options options java core javacore get options getoptions copy client options side options hash map hashmap options parse task tags options remove java core javacore compiler task tags compiler options compileroptions options requests compiler provide binding ast nodes creates defaults code code bindings link set resolve bindings setresolvebindings set resolve bindings setresolvebindings names types app earing appearing ast resolved bindings calling code resolve binding resolvebinding code methods bindings draw connections parts program gen erally generally afford powerful vantage point clients analyze program structure deeply bindings consider able considerable cost time space requested frivolously additional space rec laimed reclaimed ast nodes bindings garbage retain objects longer abs olutely absolutely bindings resolved time ast created sub sequent subsequent modifications ast affect bindings returned code resolve binding resolvebinding code methods methods binding ast modified including modifications rearrange sub trees subtrees rep are nting reparenting nodes link set resolve bindings setresolvebindings set resolve bindings setresolvebindings analysis parsing building tree code resolve binding resolvebinding code methods code code out set outset bindings requested compilation units disk supply code working copy owner workingcopyowner code working copies owned owner precedence underlying compilation units names drawing connections note working copy own ers owners code org eclipse jdt core code bundle initialized binding java model compilation unit located relative java model automatically source code link set source setsource i compilation unit icompilationunit set source setsource i compilation unit icompilationunit link set source setsource i class file iclassfile set source setsource i class file iclassfile source supplied link set source setsource set source setsource location established explicitly setting environment link set project setproject i java project ijavaproject link set environment setenvironment string string string unit link set unit name setunitname string note compiler options affect doc comment checking affect bindings resolved nodes doc comments param enabled code code bindings wanted code code bindings int erest interest set resolve bindings setresolvebindings enabled enabled bits compilation unit resolver compilationunitresolver resolve binding bits compilation unit resolver compilationunitresolver resolve binding requests abridged syntax tree complete as ts asts returned code position code valid position source code compilation unit ast nodes entire compilation unit ast fleshed node include source position kind limited ast sufficient purposes totally unsuitable places limited ast off ers offers advantage smaller faster construct ast include nodes compilation unit top level type declarations nodes body declarations top level types body declarations member types body declarations abridged statements ordinarily body method declaration node included block empty source position falls source range method declaration node initializer declarations statements ordinarily body initializer node included source position falls source range initializer declaration node field declarations abridged note ast body unabridged method initializer complete statements including local anonymous type declarations embedded code position code located source range body declaration top level type ast returned skeleton includes nodes major declarations kind ast constructs int roduce introduce names visible compilation unit focal position ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param position position body declaration set focal position setfocalposition position bits compilation unit resolver compilationunitresolver partial focal point position focalpointposition position sets kind constructs parsed source defaults entire compilation unit parse successful result returned includes as ts asts requested source link compilation unit compilation unit result node link compilation unit compilationunit link body declarations body declarations result node link type declaration typedeclaration link type declaration typedeclaration body declarations bodydeclarations body declarations bodydeclarations trees aspects type declaration unspecified link statements statements result node link block block link block statements statements trees aspects block unspecified link expression expression result node subclass link expression expression aspects expression unspecified ast node rooted contrived link compilation unit compilationunit compilation unit compilationunit node client retrieve pieces linkplain compilation unit compilationunit get line number getlinenumber number map numbers start cover subrange scanned code source offset code code source offset length code linkplain compilation unit compilationunit get messages getmessages compiler messages linkplain compilation unit compilationunit get problems getproblems detailed problem reports character positions relative start code source code positions subrange scanned linkplain compilation unit compilationunit get comment list getcommentlist comment list subrange scanned contrived nodes source positions aspects link compilation unit compilationunit compilation unit compilationunit node unspecified including exact arr angement arrangement int ervening intervening nodes lexical syntax errors detected parsing result result node marked link ast node astnode malformed malformed severe failure cases parser unable recognize input method returns link compilation unit compilationunit compilation unit compilationunit node compiler messages node subtree contrived nodes carries source range rel ating relating positions source source remembered ast source range character token node leading whitespace comments included source range character token node trailing whitespace comments included handful exceptions including body declarations specification node type spells details source ranges nest properly source range child source range parent source ranges sibling nodes over lap overlap binding computed code kind code link compilation unit kind ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param kind kind construct parse link compilation unit link body declarations link expression link statements set kind setkind kind kind compilation unit kind body declarations kind expression kind statements illegal argument exception illegalargumentexception ast kind astkind kind sets source code parsed source ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor method user compiler options explicitly link set compiler options setcompileroptions map code properly parsed setting values compiler options link java core javacore compiler source link java core javacore compiler codegen target platform link java core javacore compiler compliance values compiler options parse source param source source string parsed code code java core javacore set compliance options setcomplianceoptions string map set source setsource source raw source rawsource source clear type root type root typeroot sets source code parsed method automatically sets project compiler options based compilation unit manner equivalent link set project setproject i java project ijavaproject set project setproject source get java project getjavaproject source ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param source java model compilation unit source code parsed code code set source setsource i compilation unit icompilationunit source set source setsource i type root ityperoot source sets source code parsed method automatically sets project compiler options based compilation unit manner equivalent link set project setproject i java project ijavaproject set project setproject source get java project getjavaproject file source attachment creation ast fail link illegal state exception illegalstateexception source ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param source java model file source code parsed code code set source setsource i class file iclassfile source set source setsource i type root ityperoot source sets source code parsed method automatically sets project compiler options based compilation unit file manner equivalent link set project setproject i java project ijavaproject set project setproject source get java project getjavaproject source file source attachment creation ast fail link illegal state exception illegalstateexception source ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param source java model compilation unit file source code parsed code code set source setsource i type root ityperoot source type root typeroot source clear raw source raw source rawsource source project source get java project getjavaproject map string string options project get options getoptions parse task tags options remove java core javacore compiler task tags compiler options compileroptions options sets subrange source code parsed entire source string parsed code offset code code length code range ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param offset character parse param length number characters parse remainder source string parsed set source range setsourcerange offset length offset length illegal argument exception illegalargumentexception source offset sourceoffset offset source length sourcelength length requests compiler perform statements recovery statements recovery enabled compiler create statement nodes code syntax errors code code param enabled code code statements syntax errors wanted code code statements wanted set statements recovery setstatementsrecovery enabled enabled bits compilation unit resolver compilationunitresolver statement recovery bits compilation unit resolver compilationunitresolver statement recovery requests syntax tree method bodies ignore method bodies enabled method bodies discarded impact binding resolution setting kind link set kind setkind link expression link statements set ignore method bodies setignoremethodbodies enabled enabled bits compilation unit resolver compilationunitresolver ignore method bodies bits compilation unit resolver compilationunitresolver ignore method bodies sets working copy owner resolving bindings code code primary owner defaults primary owner param owner owner working copies precedence underlying compilation units code code primary owner set working copy owner setworkingcopyowner working copy owner workingcopyowner owner owner working copy owner workingcopyowner default working copy owner defaultworkingcopyowner primary working copy owner workingcopyowner owner sets compilation unit hypothetically source string conjunction link set source setsource link set project setproject i java project ijavaproject locate compilation unit relative java project defaults code code compilation unit supplied resolving bindings suffixed dot link java core javacore get java like extensions getjavalikeextensions java extensions match main declared source represent full path unit project source declares named foo project source folder project compilation unit foo java source declares bar project source folder src compilation unit src bar java unit ast built link createasts i compilation unit icompilationunit string ast requestor astrequestor i progress monitor iprogressmonitor param unit name unitname compilation unit source string code code set unit name setunitname string unit name unitname unit name unitname unit name unitname sets java project resolving bindings method automatically sets compiler options based project pre set compiler options setcompileroptions project get options getoptions pre link set compiler options setcompileroptions map discussion pros cons options compiler options explicitly setting conjunction link set source setsource purposes resolving bindings types declared source string hide types classpath project defaults code code param project java project resolve names code code set project setproject i java project ijavaproject project project project project map string string options project get options getoptions parse task tags options remove java core javacore compiler task tags compiler options compileroptions options creates syntax tree successful call method returns settings values object ready reused param monitor progress monitor report progress request can cellation cancellation code code ast node type depends kind parse requested fallback code compilation unit compilationunit code severe parsing errors exception illegal state exception illegalstateexception settings insufficient contradictory unsupported ast node astnode createast i progress monitor iprogressmonitor monitor ast node astnode result nls monitor monitor begin task begintask raw source rawsource type root typeroot nls illegal state exception illegalstateexception nls source result internalcreateast monitor reset defaults reuse avoid leaking initialize defaults initializedefaults monitor monitor result creates as ts asts batch compilation units bindings resolved processing batch compilation units efficient work involved resolving bindings shared bindings resolved compilation units java project link set project setproject i java project ijavaproject set project setproject compilation units processed time order compilation units turn link createast i progress monitor iprogressmonitor ast parser astparser createast called parse create ast calls link createast i progress monitor iprogressmonitor ast parser astparser createast employ settings link ast requestor astrequestor acceptast i compilation unit icompilationunit compilation unit compilationunit ast requestor astrequestor acceptast called passing compilation unit ast code requestor code note as ts asts compilation units reported requestor additional compilation units required resolve original as ts asts reported requestor note parser parameters linkplain set kind setkind parser kind code compilation unit code linkplain set source range setsourcerange source range code code linkplain set focal position setfocalposition focal position code binding keys bindingkeys code parameter specifies bindings link i binding ibinding get key getkey looked elements compilation units processed bindings resolved bindings code code passed link ast requestor astrequestor accept binding acceptbinding string i binding ibinding ast requestor astrequestor accept binding acceptbinding note binding elements compilation units processed looked link ast requestor astrequestor acceptast i compilation unit icompilationunit compilation unit compilationunit ast requestor astrequestor acceptast call backs callbacks binding elements compilation units processed looked reported link ast requestor astrequestor acceptast i compilation unit icompilationunit compilation unit compilationunit ast requestor astrequestor acceptast callback link ast requestor astrequestor accept binding acceptbinding string i binding ibinding ast requestor astrequestor accept binding acceptbinding call backs callbacks bindings resolved successful call method returns settings values object ready reused param compilation units compilationunits compilation units create as ts asts param binding keys bindingkeys binding create bindings param requestor ast requestor collects syntax trees bindings param monitor progress monitor report progress request can cellation cancellation code code exception illegal state exception illegalstateexception settings insufficient contradictory unsupported createasts i compilation unit icompilationunit compilation units compilationunits string binding keys bindingkeys ast requestor astrequestor requestor i progress monitor iprogressmonitor monitor flags bits compilation unit resolver compilationunitresolver statement recovery flags i compilation unit icompilationunit enable statements recovery bits compilation unit resolver compilationunitresolver ignore method bodies flags i compilation unit icompilationunit ignore method bodies bits compilation unit resolver compilationunitresolver resolve binding project illegal state exception illegalstateexception project bits compilation unit resolver compilationunitresolver binding recovery flags i compilation unit icompilationunit enable bindings recovery compilation unit resolver compilationunitresolver resolve compilation units compilationunits binding keys bindingkeys requestor api level apilevel compiler options compileroptions project working copy owner workingcopyowner flags monitor compilation unit resolver compilationunitresolver parse compilation units compilationunits requestor api level apilevel compiler options compileroptions flags monitor reset defaults reuse avoid leaking initialize defaults initializedefaults creates as ts asts batch compilation units bindings resolved processing batch compilation units efficient work involved resolving bindings shared bindings resolved compilation units resolved environment link set environment setenvironment string string string set environment setenvironment compilation units processed time order compilation units turn link ast parser astparser createast i progress monitor iprogressmonitor ast parser astparser createast called parse create ast calls link ast parser astparser createast i progress monitor iprogressmonitor ast parser astparser createast employ settings link fileastrequestor acceptast string compilation unit compilationunit fileastrequestor acceptast called passing compilation unit path ast code requestor code compilation unit path path passed code source file paths sourcefilepaths code parameter note as ts asts compilation units reported requestor additional compilation units required resolve original as ts asts reported requestor note parser parameters linkplain set kind setkind parser kind code compilation unit code linkplain set source range setsourcerange source range code code linkplain set focal position setfocalposition focal position code binding keys bindingkeys code parameter specifies bindings link i binding ibinding get key getkey looked elements compilation units processed bindings resolved bindings code code passed link fileastrequestor accept binding acceptbinding string i binding ibinding fileastrequestor accept binding acceptbinding note binding elements compilation units processed looked link fileastrequestor acceptast string compilation unit compilationunit ast requestor astrequestor acceptast call backs callbacks binding elements compilation units processed looked reported link fileastrequestor acceptast string compilation unit compilationunit fileastrequestor acceptast callback link fileastrequestor accept binding acceptbinding string i binding ibinding fileastrequestor accept binding acceptbinding call backs callbacks bindings resolved successful call method returns settings values object ready reused code encodings code properly parse source units platform encoding sufficient encodings code code param source file paths sourcefilepaths compilation units create as ts asts param encodings encoding source units param binding keys bindingkeys binding create bindings param requestor ast requestor collects syntax trees bindings param monitor progress monitor report progress request can cellation cancellation code code exception illegal state exception illegalstateexception settings insufficient contradictory unsupported createasts string source file paths sourcefilepaths string encodings string binding keys bindingkeys fileastrequestor requestor i progress monitor iprogressmonitor monitor flags bits compilation unit resolver compilationunitresolver statement recovery flags i compilation unit icompilationunit enable statements recovery bits compilation unit resolver compilationunitresolver ignore method bodies flags i compilation unit icompilationunit ignore method bodies bits compilation unit resolver compilationunitresolver resolve binding class paths classpaths source paths sourcepaths bits compilation unit resolver compilationunitresolver include running bootclasspath illegal state exception illegalstateexception environment bits compilation unit resolver compilationunitresolver binding recovery flags i compilation unit icompilationunit enable bindings recovery compilation unit resolver compilationunitresolver resolve source file paths sourcefilepaths encodings binding keys bindingkeys requestor api level apilevel compiler options compileroptions get classpath getclasspath flags monitor compilation unit resolver compilationunitresolver parse source file paths sourcefilepaths encodings requestor api level apilevel compiler options compileroptions flags monitor reset defaults reuse avoid leaking initialize defaults initializedefaults creates bindings batch java elements elements enclosed link i compilation unit icompilationunit i compilation units icompilationunits link i class file iclassfile i class files iclassfiles enclosing compilation units files java project link set project setproject i java project ijavaproject set project setproject elements exist doesn exist link illegal state exception illegalstateexception thrown returned array size elements array position binding java element code code binding created note parser parameters linkplain set resolve bindings setresolvebindings binding resolution flag code code linkplain set kind setkind parser kind code compilation unit code linkplain set source range setsourcerange source range code code linkplain set focal position setfocalposition focal position successful call method returns settings values object ready reused param elements java elements create bindings bindings java elements code code bindings created exception illegal state exception illegalstateexception settings insufficient contradictory unsupported i binding ibinding create bindings createbindings i java element ijavaelement elements i progress monitor iprogressmonitor monitor project nls illegal state exception illegalstateexception nls project classpath flags bits compilation unit resolver compilationunitresolver statement recovery flags i compilation unit icompilationunit enable statements recovery bits compilation unit resolver compilationunitresolver binding recovery flags i compilation unit icompilationunit enable bindings recovery bits compilation unit resolver compilationunitresolver ignore method bodies flags i compilation unit icompilationunit ignore method bodies compilation unit resolver compilationunitresolver resolve elements api level apilevel compiler options compileroptions project working copy owner workingcopyowner flags monitor reset defaults reuse avoid leaking initialize defaults initializedefaults ast node astnode internalcreateast i progress monitor iprogressmonitor monitor need to resolve bindings needtoresolvebindings bits compilation unit resolver compilationunitresolver resolve binding ast kind astkind body declarations expression statements raw source rawsource type root typeroot source type root type root typeroot i compilation unit icompilationunit org eclipse jdt internal compiler env i compilation unit icompilationunit source unit sourceunit org eclipse jdt internal compiler env i compilation unit icompilationunit type root typeroot raw source rawsource source unit sourceunit get contents getcontents type root typeroot i class file iclassfile string source string sourcestring type root typeroot get source getsource source string sourcestring raw source rawsource source string sourcestring to char array tochararray java model exception javamodelexception string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter writer writer print writer printwriter string writer stringwriter print stack trace printstacktrace writer writer writer close illegal state exception illegalstateexception string value of valueof string writer stringwriter get buffer getbuffer raw source rawsource source offset sourceoffset source length sourcelength raw source rawsource length illegal state exception illegalstateexception internalcreateastforkind compilation unit compilation unit declaration compilationunitdeclaration compilation unit declaration compilationunitdeclaration node searcher nodesearcher searcher org eclipse jdt internal compiler env i compilation unit icompilationunit source unit sourceunit working copy owner workingcopyowner wc owner wcowner working copy owner workingcopyowner type root typeroot class file working copy classfileworkingcopy special file mimics compilation unit wrong file unwrap type root typeroot class file working copy classfileworkingcopy type root typeroot class file classfile type root typeroot i compilation unit icompilationunit compilation unit source compilationunitsource instance org eclipse jdt internal core compilation unit compilationunit org eclipse jdt core i compilation unit icompilationunit org eclipse jdt internal compiler env i compilation unit icompilationunit source unit sourceunit org eclipse jdt internal compiler env i compilation unit icompilationunit type root typeroot basic compilation basiccompilation caches source compilation unit source compilationunitsource working copy source change parse ast convert ion convertion https bugs eclipse org bugs bug cgi source unit sourceunit basic compilation unit basiccompilationunit source unit sourceunit get contents getcontents source unit sourceunit get package name getpackagename string source unit sourceunit get file name getfilename project wc owner wcowner i compilation unit icompilationunit type root typeroot get owner getowner type root typeroot i class file iclassfile string source string sourcestring type root typeroot get source getsource source string sourcestring illegal state exception illegalstateexception package fragment packagefragment package fragment packagefragment package fragment packagefragment type root typeroot get parent getparent binary type binarytype type binary type binarytype type root typeroot find primary type findprimarytype i binary type ibinarytype binary type binarytype i binary type ibinarytype type get element info getelementinfo file recreate java element top level toplevel file file name filename binary type binarytype get file name getfilename first dollar firstdollar char operation charoperation index of indexof file name filename first dollar firstdollar suffix suffix constants suffixconstants suffix suffix length suffixlength suffix length new file name newfilename first dollar firstdollar suffix length suffixlength system arraycopy file name filename new file name newfilename first dollar firstdollar system arraycopy suffix new file name newfilename first dollar firstdollar suffix length suffixlength file name filename new file name newfilename source unit sourceunit basic compilation unit basiccompilationunit source string sourcestring to char array tochararray util to char arrays tochararrays package fragment packagefragment names string file name filename project java model exception javamodelexception string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter writer writer print writer printwriter string writer stringwriter print stack trace printstacktrace writer writer writer close illegal state exception illegalstateexception string value of valueof string writer stringwriter get buffer getbuffer raw source rawsource need to resolve bindings needtoresolvebindings bits compilation unit resolver compilationunitresolver resolve binding unit name unitname project class paths classpaths source paths sourcepaths bits compilation unit resolver compilationunitresolver include running bootclasspath compiler options compileroptions source unit sourceunit nls basic compilation unit basiccompilationunit nls raw source rawsource nls nls unit name unitname unit name unitname nls project illegal state exception illegalstateexception bits compilation unit resolver compilationunitresolver partial searcher node searcher nodesearcher focal point position focalpointposition flags bits compilation unit resolver compilationunitresolver statement recovery flags i compilation unit icompilationunit enable statements recovery searcher bits compilation unit resolver compilationunitresolver ignore method bodies flags i compilation unit icompilationunit ignore method bodies need to resolve bindings needtoresolvebindings bits compilation unit resolver compilationunitresolver binding recovery flags i compilation unit icompilationunit enable bindings recovery parse resolve compilation unit declaration compilationunitdeclaration compilation unit resolver compilationunitresolver resolve source unit sourceunit project get classpath getclasspath searcher compiler options compileroptions working copy owner workingcopyowner flags monitor java model exception javamodelexception flags i compilation unit icompilationunit enable bindings recovery compilation unit declaration compilationunitdeclaration compilation unit resolver compilationunitresolver parse source unit sourceunit searcher compiler options compileroptions flags need to resolve bindings needtoresolvebindings compilation unit declaration compilationunitdeclaration compilation unit resolver compilationunitresolver parse source unit sourceunit searcher compiler options compileroptions flags need to resolve bindings needtoresolvebindings compilation unit compilationunit result compilation unit resolver compilationunitresolver convert compilation unit declaration compilationunitdeclaration source unit sourceunit get contents getcontents api level apilevel compiler options compileroptions need to resolve bindings needtoresolvebindings wc owner wcowner need to resolve bindings needtoresolvebindings default binding resolver defaultbindingresolver binding tables bindingtables flags monitor project result set type root settyperoot type root typeroot result compilation unit declaration compilationunitdeclaration bits compilation unit resolver compilationunitresolver resolve binding compilation unit declaration compilationunitdeclaration clean up cleanup illegal state exception illegalstateexception parses source bounds offset inclusive length creates returns syntax tree parse successful result returned includes as ts asts requested source link body declarations body declarations result node link type declaration typedeclaration type declaration typedeclaration link type declaration typedeclaration body declarations bodydeclarations body declarations bodydeclarations trees aspects type declaration unspecified link statements statements result node link block block link block statements statements trees aspects block unspecified link expression expression result node subclass link expression expression aspects expression unspecified ast node rooted contrived link compilation unit compilationunit compilation unit compilationunit node client retrieve pieces linkplain compilation unit compilationunit get line number getlinenumber number map numbers start cover subrange scanned code source offset code code source offset length code linkplain compilation unit compilationunit get messages getmessages compiler messages linkplain compilation unit compilationunit get problems getproblems detailed problem reports character positions relative start code source code positions subrange scanned linkplain compilation unit compilationunit get comment list getcommentlist comment list subrange scanned contrived nodes source positions aspects link compilation unit compilationunit compilation unit compilationunit node unspecified including exact arr angment arrangment int ervening intervening nodes lexical syntax errors detected parsing result result node marked link ast node astnode malformed malformed severe failure cases parser unable recognize input method returns link compilation unit compilationunit compilation unit compilationunit node compiler messages node subtree contrived nodes carries source range rel ating relating positions source source remembered ast source range character token node leading whitespace comments included source range character token node trailing whitespace comments included handful exceptions including body declarations specification node type spells details source ranges nest properly source range child source range parent source ranges sibling nodes over lap overlap method compute binding code resolve binding resolvebinding code methods applied nodes ast code code ast node type depends kind parse requested fallback code compilation unit compilationunit code severe parsing errors ast node astnode get start position getstartposition ast node astnode get length getlength ast node astnode internalcreateastforkind ast converter astconverter converter ast converter astconverter compiler options compileroptions converter compilation unit source compilationunitsource raw source rawsource converter compilation unit source length compilationunitsourcelength raw source rawsource length converter scanner set source setsource raw source rawsource ast ast ast newast api level apilevel ast set default node flag setdefaultnodeflag ast node astnode original ast set binding resolver setbindingresolver binding resolver bindingresolver bits compilation unit resolver compilationunitresolver statement recovery ast set flag setflag i compilation unit icompilationunit enable statements recovery converter setast ast code snippet parsing util codesnippetparsingutil code snippet parsing util codesnippetparsingutil code snippet parsing util codesnippetparsingutil bits compilation unit resolver compilationunitresolver ignore method bodies compilation unit compilationunit compilation unit compilationunit ast new compilation unit newcompilationunit source length sourcelength source length sourcelength raw source rawsource length ast kind astkind statements constructor declaration constructordeclaration constructor declaration constructordeclaration code snippet parsing util codesnippetparsingutil parse statements parsestatements raw source rawsource source offset sourceoffset source length sourcelength compiler options compileroptions bits compilation unit resolver compilationunitresolver statement recovery recovery scanner data recoveryscannerdata data constructor declaration constructordeclaration compilation result compilationresult recovery scanner data recoveryscannerdata data scanner scanner converter scanner converter scanner recovery scanner recoveryscanner scanner data remove unused removeunused converter doc parser docparser scanner converter scanner converter scanner set source setsource scanner source compilation unit compilationunit set statements recovery data setstatementsrecoverydata data recorded parsing information recordedparsinginformation recorded parsing information recordedparsinginformation code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation comments recorded parsing information recordedparsinginformation comment positions commentpositions comments converter build comments table buildcommentstable compilation unit compilationunit comments compilation unit compilationunit set line end table setlineendtable recorded parsing information recordedparsinginformation line ends lineends block block ast new block newblock block set source range setsourcerange source offset sourceoffset source offset sourceoffset source length sourcelength explicit constructor call explicitconstructorcall constructor call constructorcall constructor declaration constructordeclaration constructor call constructorcall constructor call constructorcall constructor call constructorcall access mode accessmode org eclipse jdt internal compiler ast explicit constructor call explicitconstructorcall implicit super implicitsuper block statements add converter convert constructor call constructorcall org eclipse jdt internal compiler ast statement statements constructor declaration constructordeclaration statements statements statements length statementslength statements length statements length statementslength statements org eclipse jdt internal compiler ast local declaration localdeclaration converter check and add multiple local declaration checkandaddmultiplelocaldeclaration statements block statements statement statement converter convert statements statement block statements add statement root node to compilation unit rootnodetocompilationunit ast compilation unit compilationunit block recorded parsing information recordedparsinginformation data ast set default node flag setdefaultnodeflag ast set original modification count setoriginalmodificationcount ast modification count modificationcount block expression org eclipse jdt internal compiler ast expression expression code snippet parsing util codesnippetparsingutil parse expression parseexpression raw source rawsource source offset sourceoffset source length sourcelength compiler options compileroptions recorded parsing information recordedparsinginformation code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation comments recorded parsing information recordedparsinginformation comment positions commentpositions comments converter build comments table buildcommentstable compilation unit compilationunit comments compilation unit compilationunit set line end table setlineendtable recorded parsing information recordedparsinginformation line ends lineends expression expression expression converter convert expression root node to compilation unit rootnodetocompilationunit expression getast compilation unit compilationunit expression code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation ast set default node flag setdefaultnodeflag ast set original modification count setoriginalmodificationcount ast modification count modificationcount expression categorized problem categorizedproblem problems recorded parsing information recordedparsinginformation problems problems compilation unit compilationunit set problems setproblems problems ast set default node flag setdefaultnodeflag ast set original modification count setoriginalmodificationcount ast modification count modificationcount compilation unit compilationunit body declarations org eclipse jdt internal compiler ast ast node astnode nodes code snippet parsing util codesnippetparsingutil parse class body declarations parseclassbodydeclarations raw source rawsource source offset sourceoffset source length sourcelength compiler options compileroptions bits compilation unit resolver compilationunitresolver statement recovery recorded parsing information recordedparsinginformation code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation comments recorded parsing information recordedparsinginformation comment positions commentpositions comments converter build comments table buildcommentstable compilation unit compilationunit comments compilation unit compilationunit set line end table setlineendtable recorded parsing information recordedparsinginformation line ends lineends nodes source syntax error statement recovery enabled type declaration typedeclaration type declaration typedeclaration converter convert nodes type declaration typedeclaration set source range setsourcerange source offset sourceoffset source offset sourceoffset source length sourcelength root node to compilation unit rootnodetocompilationunit type declaration typedeclaration getast compilation unit compilationunit type declaration typedeclaration code snippet parsing util codesnippetparsingutil recorded parsing information recordedparsinginformation ast set default node flag setdefaultnodeflag ast set original modification count setoriginalmodificationcount ast modification count modificationcount type declaration typedeclaration source syntax error statement recovery disabled categorized problem categorizedproblem problems recorded parsing information recordedparsinginformation problems problems compilation unit compilationunit set problems setproblems problems ast set default node flag setdefaultnodeflag ast set original modification count setoriginalmodificationcount ast modification count modificationcount compilation unit compilationunit illegal state exception illegalstateexception propagate errors propagateerrors ast node astnode ast node astnode categorized problem categorizedproblem problems recovery scanner data recoveryscannerdata data ast node astnode accept ast syntax error prop agator astsyntaxerrorpropagator problems data ast node astnode accept ast recovery prop agator astrecoverypropagator problems data root node to compilation unit rootnodetocompilationunit ast ast compilation unit compilationunit compilation unit compilationunit ast node astnode node recorded parsing information recordedparsinginformation recorded parsing information recordedparsinginformation recovery scanner data recoveryscannerdata data problems count problemscount recorded parsing information recordedparsinginformation problems count problemscount node get node type getnodetype ast node astnode block block block block node problems count problemscount propagate record problems categorized problem categorizedproblem problems recorded parsing information recordedparsinginformation problems propagate errors propagateerrors block problems data compilation unit compilationunit set problems setproblems problems type declaration typedeclaration type declaration typedeclaration ast new type declaration newtypedeclaration initializer initializer ast new initializer newinitializer initializer set body setbody block type declaration typedeclaration body declarations bodydeclarations add initializer compilation unit compilationunit types add type declaration typedeclaration ast node astnode type declaration type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration node problems count problemscount propagate record problems categorized problem categorizedproblem problems recorded parsing information recordedparsinginformation problems propagate errors propagateerrors type declaration typedeclaration problems data compilation unit compilationunit set problems setproblems problems compilation unit compilationunit types add type declaration typedeclaration node expression expression expression expression node problems count problemscount propagate record problems categorized problem categorizedproblem problems recorded parsing information recordedparsinginformation problems propagate errors propagateerrors expression problems data compilation unit compilationunit set problems setproblems problems expression statement expressionstatement expression statement expressionstatement ast new expression statement newexpressionstatement expression block block ast new block newblock block statements add expression statement expressionstatement initializer initializer ast new initializer newinitializer initializer set body setbody block type declaration typedeclaration type declaration typedeclaration ast new type declaration newtypedeclaration type declaration typedeclaration body declarations bodydeclarations add initializer compilation unit compilationunit types add type declaration typedeclaration
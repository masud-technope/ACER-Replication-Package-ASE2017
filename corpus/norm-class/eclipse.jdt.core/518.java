copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler impl org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler lookup if statement ifstatement statement represents statement branches expression condition statement then statement thenstatement statement else statement elsestatement then exit thenexit local variables table attributes then init state index theninitstateindex else init state index elseinitstateindex merged init state index mergedinitstateindex if statement ifstatement expression condition statement then statement thenstatement source start sourcestart source end sourceend condition condition then statement thenstatement then statement thenstatement remember empty statement then statement thenstatement empty statement emptystatement then statement thenstatement bits is useful empty statement k isusefulemptystatementmask source start sourcestart source start sourcestart source end sourceend source end sourceend if statement ifstatement expression condition statement then statement thenstatement statement else statement elsestatement source start sourcestart source end sourceend condition condition then statement thenstatement then statement thenstatement remember empty statement then statement thenstatement empty statement emptystatement then statement thenstatement bits is useful empty statement k isusefulemptystatementmask else statement elsestatement else statement elsestatement else statement elsestatement if statement ifstatement else statement elsestatement bits is else if statement iselseifstatement source start sourcestart source start sourcestart source end sourceend source end sourceend flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo process condition flow info flowinfo condition analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo constant cst condition optimized boolean constant optimizedbooleanconstant is condition optimized true isconditionoptimizedtrue cst notaconstant cst boolean value booleanvalue is condition optimized false isconditionoptimizedfalse cst notaconstant cst boolean value booleanvalue process flow info flowinfo then flow info thenflowinfo flow info flowinfo inits when true initswhentrue copy is condition optimized false isconditionoptimizedfalse then flow info thenflowinfo set reach mode setreachmode flow info flowinfo unreachable then statement thenstatement save info code gen then init state index theninitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates then flow info thenflowinfo then statement thenstatement complain if unreachable complainifunreachable then flow info thenflowinfo current scope currentscope then flow info thenflowinfo then statement thenstatement analyse code analysecode current scope currentscope flow context flowcontext then flow info thenflowinfo code gen opt imizing optimizing jump then exit thenexit then flow info thenflowinfo is reachable isreachable process flow info flowinfo else flow info elseflowinfo flow info flowinfo inits when false initswhenfalse copy is condition optimized true isconditionoptimizedtrue else flow info elseflowinfo set reach mode setreachmode flow info flowinfo unreachable else statement elsestatement signal clause unnecessarily nested tolerate code pattern then flow info thenflowinfo flow info flowinfo dead bits is else if statement iselseifstatement else statement elsestatement if statement ifstatement current scope currentscope problem reporter problemreporter unnecessary else unnecessaryelse else statement elsestatement save info code gen else init state index elseinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates else flow info elseflowinfo else statement elsestatement complain if unreachable complainifunreachable else flow info elseflowinfo current scope currentscope else flow info elseflowinfo else statement elsestatement analyse code analysecode current scope currentscope flow context flowcontext else flow info elseflowinfo merge initial izations initializations flow info flowinfo merged info mergedinfo flow info flowinfo merged optimized branches mergedoptimizedbranches then flow info thenflowinfo is condition optimized true isconditionoptimizedtrue else flow info elseflowinfo is condition optimized false isconditionoptimizedfalse fake reachable merged init state index mergedinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates merged info mergedinfo merged info mergedinfo code generation param current scope currentscope org eclipse jdt internal compiler lookup block scope blockscope param code stream codestream org eclipse jdt internal compiler codegen code stream codestream generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream bits isreachablemask code stream codestream position label end if label endiflabel label code stream codestream opt imizing optimizing code gen constant cst has then part hasthenpart cst condition optimized boolean constant optimizedbooleanconstant notaconstant cst boolean value booleanvalue then statement thenstatement then statement thenstatement is empty block isemptyblock has else part haselsepart cst notaconstant cst boolean value booleanvalue else statement elsestatement else statement elsestatement is empty block isemptyblock has then part hasthenpart label false label falselabel generate condition condition generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream false label falselabel label code stream codestream loose local variable initial izations initializations local variable attributes then init state index theninitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope then init state index theninitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope then init state index theninitstateindex generate statement then statement thenstatement generate code generatecode current scope currentscope code stream codestream jump statement has else part haselsepart then exit thenexit then statement thenstatement branch chain to branchchainto end if label endiflabel position code stream codestream position code stream codestream end if label endiflabel code stream codestream update last recorded end c updatelastrecordedendpc position tag ged tagged then action thenaction block false label falselabel place has else part haselsepart generate condition condition generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream end if label endiflabel generate condition side effects condition generate code generatecode current scope currentscope code stream codestream code stream codestream record positions from recordpositionsfrom source start sourcestart generate statement has else part haselsepart loose local variable initial izations initializations local variable attributes else init state index elseinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope else init state index elseinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope else init state index elseinitstateindex else statement elsestatement generate code generatecode current scope currentscope code stream codestream end if label endiflabel place loose local variable initial izations initializations local variable attributes merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream record positions from recordpositionsfrom source start sourcestart string buffer stringbuffer print statement printstatement indent string buffer stringbuffer output nls print indent printindent indent output append nls condition print expression printexpression output append then statement thenstatement print statement printstatement indent output else statement elsestatement output append print indent printindent indent output nls output append else statement elsestatement print statement printstatement indent output output resolve block scope blockscope scope type binding typebinding type condition resolve type expecting resolvetypeexpecting scope boolean binding booleanbinding condition compute conversion computeconversion scope type type then statement thenstatement then statement thenstatement resolve scope else statement elsestatement else statement elsestatement resolve scope traverse ast visitor astvisitor visitor block scope blockscope block scope blockscope visitor visit block scope blockscope condition traverse visitor block scope blockscope then statement thenstatement then statement thenstatement traverse visitor block scope blockscope else statement elsestatement else statement elsestatement traverse visitor block scope blockscope visitor end visit endvisit block scope blockscope
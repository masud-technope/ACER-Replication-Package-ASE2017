copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jgarms bea initial api implementation org eclipse jdt apt core internal env java buffered input stream bufferedinputstream java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java io exception ioexception java input stream inputstream java util collections org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core runtime core exception coreexception org eclipse jdt apt core internal apt plugin aptplugin org eclipse jdt apt core internal util file system util filesystemutil wrap output operations caching memory writing content disk binary file output stream binaryfileoutputstream byte array output stream bytearrayoutputstream i file ifile file build env buildenv env binary file output stream binaryfileoutputstream i file ifile file build env buildenv env file file env env override close io exception ioexception close input stream inputstream contents byte array input stream bytearrayinputstream to byte array tobytearray contents changed contentschanged file exists save to disk savetodisk contents input stream inputstream input stream inputstream old data olddata write contents data byte array input stream bytearrayinputstream to byte array tobytearray old data olddata buffered input stream bufferedinputstream file get contents getcontents file system util filesystemutil compare streams comparestreams old data olddata contents changed contentschanged core exception coreexception contents changed contentschanged close input stream closeinputstream close input stream closeinputstream old data olddata contents changed contentschanged contents reset save to disk savetodisk contents close input stream closeinputstream contents i file ifile parent file parentfile env get file getfile parent file parentfile env get apt project getaptproject get generated file manager getgeneratedfilemanager add generated file dependency addgeneratedfiledependency collections singleton parent file parentfile file env add generated non source file addgeneratednonsourcefile file close input stream closeinputstream input stream inputstream stream stream stream close io exception ioexception ioe save to disk savetodisk input stream inputstream to save tosave create io exception ioexception file system util filesystemutil make derived parent folders makederivedparentfolders file get parent getparent create file create to save tosave i resource iresource force i resource iresource derived file set contents setcontents to save tosave core exception coreexception file exists apt plugin aptplugin log create generated file io exception ioexception get message getmessage
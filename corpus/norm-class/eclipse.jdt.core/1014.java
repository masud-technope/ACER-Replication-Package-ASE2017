copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation org eclipse jdt compiler apt tests processors visit ors visitors java util enum set enumset java util list java util map java util javax annotation processing processing environment processingenvironment javax annotation processing round environment roundenvironment javax annotation processing supported annotation types supportedannotationtypes javax annotation processing supported source version supportedsourceversion javax lang model source version sourceversion javax lang model element annotation mirror annotationmirror javax lang model element annotation value annotationvalue javax lang model element element javax lang model element element kind elementkind javax lang model element executable element executableelement javax lang model element package element packageelement javax lang model element type element typeelement javax lang model element type parameter element typeparameterelement javax lang model element variable element variableelement javax lang model type type mirror typemirror javax lang model util abstract annotation value visitor abstractannotationvaluevisitor javax lang model util element scanner elementscanner org eclipse jdt compiler apt tests processors base base processor baseprocessor processor tests var iety variety visit ors visitors supported annotation types supportedannotationtypes supported source version supportedsourceversion source version sourceversion release visitor proc visitorproc base processor baseprocessor visitor invoked top level types resources targets model expect visit x visitx methods hit result element visitor tester elementvisitortester element scanner elementscanner enum visited type executable variable type param typeparam unknown enum set enumset visited visited enum set enumset none of noneof visited check visits checkvisits as expected asexpected as expected asexpected visited visited type as expected asexpected visited visited executable as expected asexpected visited visited variable as expected asexpected visited visited as expected asexpected check visit types tests passed override visit type visittype type element typeelement visited add visited type scan type subtypes fields methods visit type visittype check visit methods override visit executable visitexecutable executable element executableelement visited add visited executable scan method parameters visit executable visitexecutable check visit variables override visit variable visitvariable variable element variableelement visited add visited variable variables enclose elements call check visit type parameters override visit type parameter visittypeparameter type parameter element typeparameterelement visited add visited type param typeparam type parameters enclose elements call check visit packages override visit package visitpackage package element packageelement visited add visited don scan types don call encountered override visit unknown visitunknown element visited add visited unknown specific values checked visitor correspond values targets model type d annos typedannos java annotation visitor tester annotationvisitortester abstract annotation value visitor abstractannotationvaluevisitor enum visited annotation array enum constant enumconstant string type enum set enumset visited visited enum set enumset none of noneof visited check visits checkvisits as expected asexpected as expected asexpected visited visited annotation as expected asexpected visited visited array as expected asexpected visited visited as expected asexpected visited visited as expected asexpected visited visited as expected asexpected visited visited as expected asexpected visited visited enum constant enumconstant as expected asexpected visited visited as expected asexpected visited visited as expected asexpected visited visited as expected asexpected visited visited as expected asexpected visited visited string as expected asexpected visited visited type as expected asexpected override visit annotation visitannotation annotation mirror annotationmirror get element values getelementvalues visited add visited annotation scan values nested annotation doesn test override visit array visitarray list annotation value annotationvalue vals vals vals size vals iterator get value getvalue type mirror typemirror visited add visited array scan array values doesn test override visit boolean visitboolean visited add visited override visit byte visitbyte visited add visited override visit char visitchar visited add visited override visit double visitdouble visited add visited override visit enum constant visitenumconstant variable element variableelement get kind getkind element kind elementkind enum constant equals get simple name getsimplename to string tostring visited add visited enum constant enumconstant override visit float visitfloat visited add visited override visit int visitint visited add visited override visit long visitlong visited add visited override visit short visitshort visited add visited override visit string visitstring string foo equals visited add visited string override visit type visittype type mirror typemirror java lang exception equals to string tostring visited add visited type override init processing environment processingenvironment processing env processingenv init processing env processingenv override process type element typeelement annotations round environment roundenvironment round env roundenv round env roundenv processing over processingover map string string options processing env processingenv get options getoptions options contains key containskey get class getclass get name getname disable processor int entionally intentionally performing test element visitor tester elementvisitortester element visitor elementvisitor element visitor tester elementvisitortester element visitor elementvisitor scan round env roundenv get root elements getrootelements element visitor elementvisitor check visits checkvisits report error reporterror element visitor visited expected annotation visitor tester annotationvisitortester anno val visitor annovalvisitor annotation visitor tester annotationvisitortester type element typeelement type d annos decl typedannosdecl element utils elementutils get type element gettypeelement org eclipse jdt compiler apt tests annotations type d annos typedannos type d annos decl typedannosdecl report error reporterror could n couldn find targets model annotated with many types annotatedwithmanytypes type element typeelement anno annotations type d annos decl typedannosdecl equals anno get enclosing element getenclosingelement element elem round env roundenv get elements annotated with getelementsannotatedwith anno annotation mirror annotationmirror anno mirror annomirror elem get annotation mirrors getannotationmirrors anno equals anno mirror annomirror get annotation type getannotationtype as element aselement map executable element executableelement annotation value annotationvalue values anno mirror annomirror get element values getelementvalues annotation value annotationvalue val values values val accept anno val visitor annovalvisitor anno val visitor annovalvisitor check visits checkvisits report error reporterror annotation visitor visited expected report success reportsuccess
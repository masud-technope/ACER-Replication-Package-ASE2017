copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug class cast exception classcastexception org eclipse jdt internal compiler lookup source type binding sourcetypebinding org eclipse jdt internal compiler lookup array binding arraybinding bug compiler apply annotation types analysis bug follow type annotations bug bug compiler invalid assignment rejected compiler bug evaluate default location defaultlocation attribute non null by default nonnullbydefault bug incorrect analysis error reporting type parameters bug non null by default nonnullbydefault illegally affect bug unexpected rhs poly type binding polytypebinding code snippet bug annotations null pointer exception nullpointerexception nullable type param andy clement contributions bug compiler revive code generation support type annotations olivier work org eclipse jdt internal compiler ast org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup syntactic representation reference type note dimension parameterized qualified type reference parameterizedqualifiedtypereference array qualified type reference arrayqualifiedtypereference type reference typereference type arguments typearguments reference binding referencebinding types per token typespertoken param tokens param dim param positions parameterized qualified type reference parameterizedqualifiedtypereference tokens type reference typereference type arguments typearguments dim positions tokens dim positions type arguments typearguments type arguments typearguments annotation search annotationsearch max type arguments typearguments length max type reference typereference type arguments on type component typeargumentsontypecomponent type arguments typearguments type arguments on type component typeargumentsontypecomponent max type arguments on type component typeargumentsontypecomponent length max type arguments on type component typeargumentsontypecomponent bits ast node astnode has type annotations hastypeannotations bits ast node astnode has type annotations hastypeannotations annotation search annotationsearch parameterized qualified type reference parameterizedqualifiedtypereference tokens type reference typereference type arguments typearguments dim annotation annotations on dimensions annotationsondimensions positions tokens type arguments typearguments dim positions set annotations on dimensions setannotationsondimensions annotations on dimensions annotationsondimensions annotations on dimensions annotationsondimensions bits ast node astnode has type annotations hastypeannotations check bounds checkbounds scope scope resolved type resolvedtype resolved type resolvedtype is valid binding isvalidbinding check bounds checkbounds reference binding referencebinding resolved type resolvedtype leaf component type leafcomponenttype scope type arguments typearguments length check bounds checkbounds reference binding referencebinding type scope scope recurse enclosing type assuming exp lictly explictly reference reference binding referencebinding enclosing type enclosingtype types per token typespertoken enclosing type enclosingtype check bounds checkbounds enclosing type enclosingtype scope type is parameterized type with actual arguments isparameterizedtypewithactualarguments parameterized type binding parameterizedtypebinding parameterized type parameterizedtype parameterized type binding parameterizedtypebinding type reference binding referencebinding current type currenttype parameterized type parameterizedtype generic type generictype type variable binding typevariablebinding type variables typevariables current type currenttype type variables typevariables arg types argtypes error cases type variables typevariables parameterized type parameterizedtype bound check boundcheck scope type arguments typearguments type reference typereference augment type with additional dimensions augmenttypewithadditionaldimensions additional dimensions additionaldimensions annotation additional annotations additionalannotations is varargs isvarargs total dimensions totaldimensions dimensions additional dimensions additionaldimensions annotation all annotations allannotations get merged annotations on dimensions getmergedannotationsondimensions additional dimensions additionaldimensions additional annotations additionalannotations parameterized qualified type reference parameterizedqualifiedtypereference pqtr parameterized qualified type reference parameterizedqualifiedtypereference tokens type arguments typearguments total dimensions totaldimensions all annotations allannotations source positions sourcepositions pqtr annotations annotations pqtr bits bits ast node astnode has type annotations hastypeannotations is varargs isvarargs pqtr extended dimensions extendeddimensions additional dimensions additionaldimensions pqtr is parameterized type reference isparameterizedtypereference override has null type annotation hasnulltypeannotation annotation position annotationposition position has null type annotation hasnulltypeannotation position position annotation position annotationposition resolved type resolvedtype resolved type resolvedtype has null type annotations hasnulltypeannotations short cut shortcut type arguments typearguments type arguments typearguments length type reference typereference arguments type arguments typearguments arguments arguments length arguments has null type annotation hasnulltypeannotation position get parameterized type name getparameterizedtypename length tokens length q param name qparamname length length type reference typereference arguments type arguments typearguments arguments q param name qparamname tokens string buffer stringbuffer buffer string buffer stringbuffer buffer append tokens buffer append arg length arglength arguments length arg length arglength buffer append buffer append char operation charoperation concat with concatwith arguments get parameterized type name getparameterizedtypename buffer append name length namelength buffer length q param name qparamname name length namelength buffer get chars getchars name length namelength q param name qparamname dim dimensions dim dim chars dimchars dim dim dim chars dimchars dim chars dimchars q param name qparamname length char operation charoperation concat q param name qparamname length dim chars dimchars q param name qparamname type reference typereference get type arguments gettypearguments type arguments typearguments javadoc org eclipse jdt internal compiler ast array qualified type reference arrayqualifiedtypereference get type binding gettypebinding org eclipse jdt internal compiler lookup scope type binding typebinding get type binding gettypebinding scope scope supported combined resolve type resolvetype check reference raw type construction type binding typebinding internal resolve type internalresolvetype scope scope check bounds checkbounds location handle error constant constant notaconstant shared type reference resolved bits ast node astnode did resolve didresolve shared type reference resolved resolved type resolvedtype resolved type resolvedtype is valid binding isvalidbinding resolved type resolvedtype resolved type resolvedtype problem id problemid problem reasons problemreasons not found notfound problem reasons problemreasons not visible notvisible problem reasons problemreasons inherited name hides enclosing name inheritednamehidesenclosingname type binding typebinding type resolved type resolvedtype closest match closestmatch type bits ast node astnode did resolve didresolve type binding typebinding type internal resolve leaf type internalresolveleaftype scope check bounds checkbounds create array type createarraytype scope resolve annotations resolveannotations scope location type arguments typearguments relevant annotations type check illegal null annotations checkillegalnullannotations scope type arguments typearguments type arguments typearguments length type type resolved type resolvedtype type binding typebinding internal resolve leaf type internalresolveleaftype scope scope check bounds checkbounds is class scope isclassscope scope kind scope scope binding binding scope get package getpackage tokens binding binding is valid binding isvalidbinding resolved type resolvedtype reference binding referencebinding binding report invalid type reportinvalidtype scope res ilient resilient attempt resolving arguments max tokens length max type reference typereference args type arguments typearguments args arg length arglength args length arg length arglength type reference typereference type argument typeargument args is class scope isclassscope type argument typeargument resolve type resolvetype class scope classscope scope type argument typeargument resolve type resolvetype block scope blockscope scope check bounds checkbounds package binding packagebinding package binding packagebinding binding package binding packagebinding binding reject annotations on package qualif iers rejectannotationsonpackagequalifiers scope package binding packagebinding type is consistent typeisconsistent reference binding referencebinding qualifying type qualifyingtype max tokens length types per token typespertoken reference binding referencebinding max package binding packagebinding package binding packagebinding compound name compoundname length max find next type binding findnexttypebinding scope package binding packagebinding resolved type resolvedtype is valid binding isvalidbinding report invalid type reportinvalidtype scope res ilient resilient attempt resolving arguments max type reference typereference args type arguments typearguments args arg length arglength args length arg length arglength type reference typereference type argument typeargument args is class scope isclassscope type argument typeargument resolve type resolvetype class scope classscope scope type argument typeargument resolve type resolvetype block scope blockscope scope reference binding referencebinding current type currenttype reference binding referencebinding resolved type resolvedtype qualifying type qualifyingtype member type qualifying type qualifyingtype current type currenttype enclosing type enclosingtype qualifying type qualifyingtype current type currenttype is static isstatic qualifying type qualifyingtype scope environment convert to parameterized type converttoparameterizedtype qualifying type qualifyingtype annotations reject annotations on static member qualif ifer rejectannotationsonstaticmemberqualififer scope current type currenttype annotations type is consistent typeisconsistent current type currenttype is static isstatic qualifying type qualifyingtype is parameterized type with actual arguments isparameterizedtypewithactualarguments qualifying type qualifyingtype is generic type isgenerictype scope problem reporter problemreporter static member of parameterized type staticmemberofparameterizedtype current type currenttype qualifying type qualifyingtype type is consistent typeisconsistent avoid raw parameterized enclosing member qualifying type qualifyingtype qualifying type qualifyingtype actual type actualtype reference binding referencebinding enclosing type enclosingtype current type currenttype enclosing type enclosingtype qualifier declaring enclosing enclosing type enclosingtype type binding typebinding not equals notequals enclosing type enclosingtype erasure qualifying type qualifyingtype erasure inherited member type leave enclosing subtype qualifying type qualifyingtype enclosing type enclosingtype check arity type reference typereference args type arguments typearguments args type reference typereference is class scope isclassscope class scope classscope scope super type reference supertypereference class scope classscope scope super type reference supertypereference arg length arglength args length is diamond isdiamond arg length arglength max bits ast node astnode is diamond isdiamond type binding typebinding arg types argtypes type binding typebinding arg length arglength arg has error arghaserror reference binding referencebinding current original currentoriginal reference binding referencebinding current type currenttype original arg length arglength type reference typereference arg args type binding typebinding arg type argtype is class scope isclassscope arg resolve type argument resolvetypeargument class scope classscope scope current original currentoriginal arg resolve type argument resolvetypeargument block scope blockscope scope current original currentoriginal arg type argtype arg has error arghaserror arg types argtypes arg type argtype arg has error arghaserror is class scope isclassscope class scope classscope scope super type reference supertypereference class scope classscope scope detect hierarchy cycle detecthierarchycycle current original currentoriginal type variable binding typevariablebinding type variables typevariables current original currentoriginal type variables typevariables check type variables typevariables binding type variables reported syntax error scope compiler options compileroptions original source level originalsourcelevel class file constants classfileconstants jdk scope problem reporter problemreporter non generic type cannot be parameterized nongenerictypecannotbeparameterized current type currenttype arg types argtypes resolved type resolvedtype qualifying type qualifyingtype qualifying type qualifyingtype is parameterized type isparameterizedtype scope environment create parameterized type createparameterizedtype current original currentoriginal qualifying type qualifyingtype current type currenttype resolved type resolvedtype arg length arglength type variables typevariables length check arity is diamond isdiamond scope problem reporter problemreporter incorrect arity for parameterized type incorrectarityforparameterizedtype current type currenttype arg types argtypes check parameter izing parameterizing member type raw type type is consistent typeisconsistent current type currenttype is static isstatic qualifying type qualifyingtype qualifying type qualifyingtype is raw type israwtype revert raw ification rawification enclosing generics inaccessible types per token typespertoken qualifying type qualifyingtype qualifying type qualifyingtype actual type actualtype reference binding referencebinding actual enclosing actualenclosing current type currenttype enclosing type enclosingtype actual enclosing actualenclosing actual enclosing actualenclosing is raw type israwtype scope problem reporter problemreporter raw member type cannot be parameterized rawmembertypecannotbeparameterized scope environment create raw type createrawtype current original currentoriginal actual enclosing actualenclosing arg types argtypes type is consistent typeisconsistent parameterized type binding parameterizedtypebinding parameterized type parameterizedtype scope environment create parameterized type createparameterizedtype current original currentoriginal arg types argtypes qualifying type qualifyingtype check argument type compatibility cases bounds check scr eam scream foul needed inference is diamond isdiamond scope connect type variables connecttypevariables method resolution check bounds checkbounds parameterized type parameterizedtype bound check boundcheck scope args scope defer bound check deferboundcheck parameterized type parameterizedtype arguments parameterized single type reference parameterizedsingletypereference diamond type arguments qualifying type qualifyingtype parameterized type parameterizedtype reference binding referencebinding current original currentoriginal reference binding referencebinding current type currenttype original is class scope isclassscope class scope classscope scope detect hierarchy cycle detecthierarchycycle current original currentoriginal current original currentoriginal is generic type isgenerictype type is consistent typeisconsistent qualifying type qualifyingtype qualifying type qualifyingtype is parameterized type isparameterizedtype current original currentoriginal is static isstatic scope problem reporter problemreporter parameterized member type missing arguments parameterizedmembertypemissingarguments scope environment create parameterized type createparameterizedtype current original currentoriginal qualifying type qualifyingtype type is consistent typeisconsistent raw type qualifying type qualifyingtype scope environment create raw type createrawtype current original currentoriginal qualifying type qualifyingtype qualifying type qualifyingtype scope environment may be create parameterized type maybecreateparameterizedtype current original currentoriginal qualifying type qualifyingtype is type use deprecated istypeusedeprecated qualifying type qualifyingtype scope report deprecated type reportdeprecatedtype qualifying type qualifyingtype scope resolved type resolvedtype qualifying type qualifyingtype types per token typespertoken qualifying type qualifyingtype record resolution recordresolution scope environment resolved type resolvedtype resolved type resolvedtype create array type createarraytype scope scope dimensions dimensions scope problem reporter problemreporter too many dimensions toomanydimensions resolved type resolvedtype scope create array type createarraytype resolved type resolvedtype dimensions string buffer stringbuffer print expression printexpression indent string buffer stringbuffer output length tokens length length annotations annotations print annotations printannotations annotations output output append output append tokens type reference typereference type argument typeargument type arguments typearguments type argument typeargument output append type argument length typeargumentlength type argument typeargument length type argument length typeargumentlength max type argument length typeargumentlength max type argument typeargument print output nls output append type argument typeargument max print output output append output append annotations annotations length nls output append print annotations printannotations annotations length output output append output append tokens length type reference typereference type argument typeargument type arguments typearguments length type argument typeargument output append type argument length typeargumentlength type argument typeargument length type argument length typeargumentlength max type argument length typeargumentlength max type argument typeargument print output nls output append nls type argument typeargument max print output output append annotation annotations on dimensions annotationsondimensions get annotations on dimensions getannotationsondimensions bits is var args isvarargs dimensions annotations on dimensions annotationsondimensions annotations on dimensions annotationsondimensions nls output append nls print annotations printannotations annotations on dimensions annotationsondimensions output nls output append nls nls output append nls annotations on dimensions annotationsondimensions annotations on dimensions annotationsondimensions dimensions nls output append nls print annotations printannotations annotations on dimensions annotationsondimensions dimensions output nls output append nls nls output append dimensions annotations on dimensions annotationsondimensions annotations on dimensions annotationsondimensions nls output append nls print annotations printannotations annotations on dimensions annotationsondimensions output nls output append nls nls output append nls output type binding typebinding resolve type resolvetype block scope blockscope scope check bounds checkbounds location internal resolve type internalresolvetype scope check bounds checkbounds location type binding typebinding resolve type resolvetype class scope classscope scope location internal resolve type internalresolvetype scope location traverse ast visitor astvisitor visitor block scope blockscope scope visitor visit scope annotations annotations levels annotationslevels annotations length annotations levels annotationslevels annotations length annotationslength annotations annotations length annotations length annotationslength annotations traverse visitor scope annotation annotations on dimensions annotationsondimensions get annotations on dimensions getannotationsondimensions annotations on dimensions annotationsondimensions max annotations on dimensions annotationsondimensions length max annotation annotations annotations on dimensions annotationsondimensions max annotations annotations length max annotation annotation annotations annotation traverse visitor scope max type arguments typearguments length max type arguments typearguments max type arguments typearguments length max type arguments typearguments traverse visitor scope visitor end visit endvisit scope traverse ast visitor astvisitor visitor class scope classscope scope visitor visit scope annotations annotations levels annotationslevels annotations length annotations levels annotationslevels annotations length annotationslength annotations annotations length annotations length annotationslength annotations traverse visitor scope annotation annotations on dimensions annotationsondimensions get annotations on dimensions getannotationsondimensions annotations on dimensions annotationsondimensions max annotations on dimensions annotationsondimensions length max annotation annotations annotations on dimensions annotationsondimensions max annotations annotations length max annotation annotation annotations annotation traverse visitor scope max type arguments typearguments length max type arguments typearguments max type arguments typearguments length max type arguments typearguments traverse visitor scope visitor end visit endvisit scope
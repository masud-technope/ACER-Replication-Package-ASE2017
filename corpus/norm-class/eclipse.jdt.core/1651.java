copyright software rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors stephan herrmann initial api implementation lars vogel lars vogel vogella contributions bug org eclipse jdt internal compiler lookup java util array list arraylist java util list org eclipse jdt internal compiler ast invocation org eclipse jdt internal compiler ast wildcard implementation jls cases compatible subtype equality type argument containment constraint type formula constrainttypeformula constraint formula constraintformula type binding typebinding left flag contributes work around workaround control led controlled inference context inferencecontext argument const raints constraints soft is soft issoft constraint type formula constrainttypeformula create type binding typebinding expr type exprtype type binding typebinding relation expr type exprtype constraint type formula constrainttypeformula expr type exprtype relation constraint type formula constrainttypeformula create type binding typebinding expr type exprtype type binding typebinding relation is soft issoft expr type exprtype constraint type formula constrainttypeformula expr type exprtype relation is soft issoft don factory methods constraint type formula constrainttypeformula type binding typebinding expr type exprtype type binding typebinding relation is soft issoft left expr type exprtype relation relation is soft issoft is soft issoft constants constraint type formula constrainttypeformula reduction result reductionresult constraint formula constraintformula object reduce inference context inferencecontext inference context inferencecontext relation compatible left is proper type ispropertype is proper type ispropertype left is compatible with iscompatiblewith inference context inferencecontext scope left is boxing compatible with isboxingcompatiblewith inference context inferencecontext scope left is primitive type isprimitivetype type binding typebinding s prime sprime inference context inferencecontext environment compute boxing type computeboxingtype left constraint type formula constrainttypeformula create s prime sprime compatible is soft issoft is primitive type isprimitivetype type binding typebinding t prime tprime inference context inferencecontext environment compute boxing type computeboxingtype constraint type formula constrainttypeformula create left t prime tprime is soft issoft kind binding array type leaf component type leafcomponenttype kind binding parameterized type fall array parameterized handled binding parameterized type type binding typebinding left find super type originating from findsupertypeoriginatingfrom leaf component type leafcomponenttype is raw type israwtype inference context inferencecontext record unchecked conversion recorduncheckedconversion constraint type formula constrainttypeformula create left subtype is soft issoft subtype reduce sub type reducesubtype inference context inferencecontext scope left supertype reduce sub type reducesubtype inference context inferencecontext scope left inference context inferencecontext environment global options globaloptions is annotation based null analysis enabled isannotationbasednullanalysisenabled checkivfreetvmatch left checkivfreetvmatch left reduce type equality reducetypeequality inference context inferencecontext object type argument contained type alt ernatives alternatives require wildcard kind binding wildcard type left kind binding wildcard type constraint type formula constrainttypeformula create left is soft issoft wildcard binding wildcardbinding wildcard binding wildcardbinding bound kind boundkind wildcard unbound bound kind boundkind wildcard left kind binding wildcard type constraint type formula constrainttypeformula create left bound subtype is soft issoft wildcard binding wildcardbinding wildcard binding wildcardbinding left bound kind boundkind wildcard unbound constraint type formula constrainttypeformula create inference context inferencecontext object bound subtype is soft issoft wildcard constraint type formula constrainttypeformula create bound bound subtype is soft issoft wildcard constraint type formula constrainttypeformula create inference context inferencecontext object bound is soft issoft illegal argument exception illegalargumentexception unexpected bound kind boundkind bound kind boundkind left kind binding wildcard type constraint type formula constrainttypeformula create bound left subtype is soft issoft wildcard binding wildcardbinding wildcard binding wildcardbinding left bound kind boundkind wildcard constraint type formula constrainttypeformula create bound bound subtype is soft issoft nls illegal state exception illegalstateexception unexpected relation kind relation detect equating inference variable free type variable checkivfreetvmatch type binding typebinding type binding typebinding inference variable inferencevariable is type variable istypevariable tag bits tagbits tag bits tagbits annotationnullmask match avoid infer ring inferring annotation marking contradiction inference variable inferencevariable null h ints nullhints tag bits tagbits annotationnullmask object reduce type equality reducetypeequality type binding typebinding object left kind binding wildcard type kind binding wildcard type left wildcards type arguments wildcard binding wildcardbinding leftwc wildcard binding wildcardbinding left wildcard binding wildcardbinding rightwc wildcard binding wildcardbinding leftwc bound kind boundkind wildcard unbound rightwc bound kind boundkind wildcard unbound leftwc bound kind boundkind wildcard unbound rightwc bound kind boundkind wildcard constraint type formula constrainttypeformula create object rightwc bound is soft issoft leftwc bound kind boundkind wildcard rightwc bound kind boundkind wildcard unbound constraint type formula constrainttypeformula create leftwc bound object is soft issoft leftwc bound kind boundkind wildcard rightwc bound kind boundkind wildcard leftwc bound kind boundkind wildcard rightwc bound kind boundkind wildcard constraint type formula constrainttypeformula create leftwc bound rightwc bound is soft issoft kind binding wildcard type left types wildcards left is proper type ispropertype is proper type ispropertype type binding typebinding equals equals equalsequals left left type ids typeids type ids typeids left inference variable inferencevariable is primitive type isprimitivetype type bound typebound inference variable inferencevariable left is soft issoft inference variable inferencevariable left is primitive type isprimitivetype type bound typebound inference variable inferencevariable left is soft issoft left is class isclass left is interface isinterface is class isclass is interface isinterface type binding typebinding equals equals equalsequals left erasure erasure type binding typebinding left params leftparams left type arguments typearguments type binding typebinding right params rightparams type arguments typearguments left params leftparams right params rightparams left params leftparams right params rightparams left params leftparams length right params rightparams length len left params leftparams length constraint formula constraintformula constraints constraint formula constraintformula len len constraints constraint type formula constrainttypeformula create left params leftparams right params rightparams is soft issoft constraints left is array type isarraytype is array type isarraytype left dimensions dimensions checking dimensions optimization reducing dim time constraint type formula constrainttypeformula create left leaf component type leafcomponenttype leaf component type leafcomponenttype is soft issoft object reduce sub type reducesubtype scope scope type binding typebinding sub candidate subcandidate type binding typebinding super candidate supercandidate sub typing subtyping constraints sub candidate subcandidate is proper type ispropertype super candidate supercandidate is proper type ispropertype sub candidate subcandidate is compatible with iscompatiblewith super candidate supercandidate scope sub candidate subcandidate type ids typeids super candidate supercandidate type ids typeids sub candidate subcandidate inference variable inferencevariable type bound typebound inference variable inferencevariable sub candidate subcandidate super candidate supercandidate subtype is soft issoft super candidate supercandidate inference variable inferencevariable normalize variable lhs type bound typebound inference variable inferencevariable super candidate supercandidate sub candidate subcandidate supertype is soft issoft super candidate supercandidate kind binding type binding type binding raw type sub candidate subcandidate is sub type of issubtypeof super candidate supercandidate binding parameterized type list constraint formula constraintformula constraints array list arraylist super candidate supercandidate super candidate supercandidate kind binding parameterized type sub candidate subcandidate add constraints from type parameters addconstraintsfromtypeparameters sub candidate subcandidate parameterized type binding parameterizedtypebinding super candidate supercandidate constraints tra vel travel enclosing types check type parameters super candidate supercandidate super candidate supercandidate enclosing type enclosingtype sub candidate subcandidate sub candidate subcandidate enclosing type enclosingtype constraints size constraints constraints to array toarray constraint formula constraintformula constraints size binding array type type binding typebinding t prime tprime array binding arraybinding super candidate supercandidate elements type elementstype specific array type supertype array binding arraybinding s prime array sprimearray sub candidate subcandidate kind binding intersection type wildcard binding wildcardbinding int ersection intersection wildcard binding wildcardbinding sub candidate subcandidate s prime array sprimearray find most specific super array findmostspecificsuperarray int ersection intersection bound int ersection intersection other bounds otherbounds int ersection intersection binding array type s prime array sprimearray array binding arraybinding sub candidate subcandidate binding type parameter type variable binding typevariablebinding subtvb type variable binding typevariablebinding sub candidate subcandidate s prime array sprimearray find most specific super array findmostspecificsuperarray subtvb first bound firstbound subtvb other upper bounds otherupperbounds subtvb s prime array sprimearray type binding typebinding s prime sprime s prime array sprimearray elements type elementstype t prime tprime is primitive type isprimitivetype s prime sprime is primitive type isprimitivetype constraint type formula constrainttypeformula create s prime sprime t prime tprime subtype is soft issoft primitive type type binding typebinding equals equals equalsequals t prime tprime s prime sprime type variable implementations jdt binding wildcard type sub candidate subcandidate kind binding intersection type reference binding referencebinding int ersecting types intersectingtypes sub candidate subcandidate get int ersecting types getintersectingtypes int ersecting types intersectingtypes int ersecting types intersectingtypes length type binding typebinding equals equals equalsequals int ersecting types intersectingtypes super candidate supercandidate wildcard binding wildcardbinding variable wildcard binding wildcardbinding super candidate supercandidate variable bound kind boundkind wildcard constraint type formula constrainttypeformula create sub candidate subcandidate variable bound subtype is soft issoft binding type parameter wildcard queries bound sub candidate subcandidate kind binding intersection type reference binding referencebinding int ersecting types intersectingtypes sub candidate subcandidate get int ersecting types getintersectingtypes int ersecting types intersectingtypes int ersecting types intersectingtypes length type binding typebinding equals equals equalsequals int ersecting types intersectingtypes super candidate supercandidate super candidate supercandidate capture binding capturebinding capture binding capturebinding capture capture binding capturebinding super candidate supercandidate capture lower bound lowerbound capture first bound firstbound capture first bound firstbound type ids typeids java lang object javalangobject constraint type formula constrainttypeformula create sub candidate subcandidate capture lower bound lowerbound subtype is soft issoft binding intersection type super candidate supercandidate wildcard binding wildcardbinding super candidate supercandidate all bounds allbounds fall binding intersection type type binding typebinding int ersecting types intersectingtypes int ersection type binding intersectiontypebinding super candidate supercandidate int ersecting types intersectingtypes constraint formula constraintformula result constraint formula constraintformula int ersecting types intersectingtypes length int ersecting types intersectingtypes length result constraint type formula constrainttypeformula create sub candidate subcandidate int ersecting types intersectingtypes subtype is soft issoft result binding poly type poly type binding polytypebinding poly poly type binding polytypebinding super candidate supercandidate invocation invocation invocation poly expression method binding methodbinding binding invocation binding binding binding is valid binding isvalidbinding type binding typebinding return type returntype binding is constructor isconstructor binding declaring class declaringclass binding return type returntype reduce sub type reducesubtype scope sub candidate subcandidate return type returntype capture scope invocation source start sourcestart invocation source end sourceend nls illegal state exception illegalstateexception unexpected rhs super candidate supercandidate array binding arraybinding find most specific super array findmostspecificsuperarray type binding typebinding first bound firstbound type binding typebinding other upper bounds otherupperbounds type binding typebinding the type thetype num array bounds numarraybounds array binding arraybinding result first bound firstbound first bound firstbound is array type isarraytype result array binding arraybinding first bound firstbound num array bounds numarraybounds other upper bounds otherupperbounds length other upper bounds otherupperbounds is array type isarraytype result array binding arraybinding other upper bounds otherupperbounds num array bounds numarraybounds num array bounds numarraybounds num array bounds numarraybounds result nls inference context inferencecontext missing implementation missingimplementation extra cting extracting array int ersection intersection defined add constraints from type parameters addconstraintsfromtypeparameters type binding typebinding sub candidate subcandidate parameterized type binding parameterizedtypebinding list constraint formula constraintformula constraints type binding typebinding arguments arguments check type binding typebinding sub candidate subcandidate find super type originating from findsupertypeoriginatingfrom failed inc l incl raw raw type binding typebinding equals equals equalsequals parameterized type binding parameterizedtypebinding parameterized type variables constraints created fail is parameterized with own variables isparameterizedwithownvariables type binding typebinding parameterized type binding parameterizedtypebinding arguments is raw type israwtype length conform spec is soft issoft inference context inferencecontext simulate bug jdk length constraints add constraint type formula constrainttypeformula create type argument contained is soft issoft equals equals equalsequals constraint type formula constrainttypeformula relation relation is soft issoft is soft issoft type binding typebinding equals equals equalsequals left left type binding typebinding equals equals equalsequals apply substitution applysubstitution bound set boundset solution set solutionset inference variable inferencevariable variables apply substitution applysubstitution solution set solutionset variables variables length inference variable inferencevariable variable variables type binding typebinding instantiation solution set solutionset get instantiation getinstantiation variables instantiation left left substitute inference variable substituteinferencevariable variable instantiation debug ging debugging string to string tostring nls string buffer stringbuffer buf string buffer stringbuffer type constraint buf append append left angle bracket append type name appendtypename buf left buf append relation to string relationtostring relation append type name appendtypename buf buf append angle bracket buf to string tostring
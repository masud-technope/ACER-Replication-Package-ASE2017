copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug compiler batch improve command option external annotations org eclipse jdt internal compiler batch java file java io exception ioexception java util array list arraylist java util hash set hashset java util iterator java util list java util map java util java util zip zip file zipfile org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler env access rule set accessruleset org eclipse jdt internal compiler env i name environment inameenvironment org eclipse jdt internal compiler env name environment answer nameenvironmentanswer org eclipse jdt internal compiler util suffix constants suffixconstants org eclipse jdt internal compiler util util suppress warnings suppresswarnings rawtypes unchecked file system filesystem i name environment inameenvironment suffix constants suffixconstants classpath find type names findtypenames string qualified package name qualifiedpackagename name environment answer nameenvironmentanswer find class findclass type name typename string qualified package name qualifiedpackagename string qualified binary file name qualifiedbinaryfilename name environment answer nameenvironmentanswer find class findclass type name typename string qualified package name qualifiedpackagename string qualified binary file name qualifiedbinaryfilename as binary only asbinaryonly is package ispackage string qualified package name qualifiedpackagename list jar file names defined path jar file manifest classpath jar classpathjar extending classes instances result param problem reporter problemreporter problem reporter potential misconfiguration issues raised list jar file names defined path jar file manifest list fetch linked jars fetchlinkedjars classpath section problem reporter classpathsectionproblemreporter problem reporter problemreporter method res ets resets environment equivalent environment creating object reset normalized path file based classpath entries absolute path file separators transformed platform agnostic directories absolute path file separators transformed platform agnostic dep rived deprived jar resp zip extension jar resp zip files normalized path file based classpath entries normalized path normalizedpath path file based classpath entries absolute path file separator directories absolute path including jar resp zip extension jar resp zip files path file based classpath entries string get path getpath initialize entry initialize io exception ioexception current location provide external annotation file type param qualified type name qualifiedtypename type qualified separated notation has annotation file for hasannotationfilefor string qualified type name qualifiedtypename classpath section problem reporter classpathsectionproblemreporter invalid classpath section invalidclasspathsection string jar file path jarfilepath multiple classpath sections multipleclasspathsections string jar file path jarfilepath defined normalize classpath entries removes duplicate entries classpath normalizer classpathnormalizer returns normalized classpath entries duplicate classpath entries file system filesystem classpath check get path getpath order find duplicate entries param class paths classpaths classpath entries normalized classpath entries array list arraylist normalize array list arraylist class paths classpaths array list arraylist normalized classpath normalizedclasspath array list arraylist hash set hashset cache hash set hashset iterator iterator class paths classpaths iterator iterator has next hasnext file system filesystem classpath classpath file system filesystem classpath iterator cache classpath normalized classpath normalizedclasspath add classpath cache add classpath normalized classpath normalizedclasspath classpath class paths classpaths known file names knownfilenames annotation files read classpath explicit separate path annotations from classpath annotationsfromclasspath class path names classpathnames collection strings representing full path path initial file names initialfilenames collection strings trailing java removed file system filesystem string classpath names classpathnames string initial file names initialfilenames string encoding classpath size classpathsize classpath names classpathnames length class paths classpaths classpath classpath size classpathsize counter classpath size classpathsize classpath classpath get classpath getclasspath classpath names classpathnames encoding classpath initialize class paths classpaths counter classpath io exception ioexception counter classpath size classpathsize system arraycopy class paths classpaths class paths classpaths classpath counter counter initialize known file names initializeknownfilenames initial file names initialfilenames file system filesystem classpath paths string initial file names initialfilenames annotations from classpath annotationsfromclasspath length paths length counter class paths classpaths file system filesystem classpath length length classpath classpath paths classpath initialize class paths classpaths counter classpath io exception ioexception exception counter length happen system arraycopy class paths classpaths class paths classpaths file system filesystem classpath counter counter initialize known file names initializeknownfilenames initial file names initialfilenames annotations from classpath annotationsfromclasspath annotations from classpath annotationsfromclasspath classpath get classpath getclasspath string classpath name classpathname string encoding access rule set accessruleset access rule set accessruleset get classpath getclasspath classpath name classpathname encoding access rule set accessruleset classpath get classpath getclasspath string classpath name classpathname string encoding access rule set accessruleset access rule set accessruleset map options get classpath getclasspath classpath name classpathname encoding access rule set accessruleset options classpath get classpath getclasspath string classpath name classpathname string encoding is source only issourceonly access rule set accessruleset access rule set accessruleset string destination path destinationpath map options classpath result file file file convert path separators convertpathseparators classpath name classpathname file is directory isdirectory file exists result classpath directory classpathdirectory file encoding is source only issourceonly classpath location classpathlocation source classpath location classpathlocation source classpath location classpathlocation binary access rule set accessruleset destination path destinationpath destination path destinationpath main comparison valid destination path destinationpath convert path separators convertpathseparators destination path destinationpath options util is potential zip archive ispotentialziparchive classpath name classpathname is source only issourceonly source mode result classpath source jar classpathsourcejar file access rule set accessruleset encoding destination path destinationpath destination path destinationpath main comparison valid destination path destinationpath convert path separators convertpathseparators destination path destinationpath destination path destinationpath file mode result classpath jar classpathjar file access rule set accessruleset result initialize known file names initializeknownfilenames string initial file names initialfilenames initial file names initialfilenames known file names knownfilenames hash set hashset known file names knownfilenames hash set hashset initial file names initialfilenames length initial file names initialfilenames length file compilation unit file compilationunitfile file initial file names initialfilenames file name filename file name filename compilation unit file compilationunitfile get canonical path getcanonicalpath to char array tochararray io exception ioexception matching path name matchingpathname last index of lastindexof char operation charoperation last index of lastindexof file name filename last index of lastindexof file name filename char operation charoperation subarray file name filename last index of lastindexof char operation charoperation replace file name filename global path matches globalpathmatches max class paths classpaths length max match candidate matchcandidate class paths classpaths normalized path normalizedpath current path match currentpathmatch class paths classpaths classpath directory classpathdirectory char operation charoperation prefix equals prefixequals match candidate matchcandidate file name filename current path match currentpathmatch matching path name matchingpathname matching path name matchingpathname match candidate matchcandidate current path match currentpathmatch match candidate matchcandidate length matching path name matchingpathname length matching path name matchingpathname match candidate matchcandidate global path matches globalpathmatches match candidate matchcandidate length matching path name matchingpathname length matching path name matchingpathname match candidate matchcandidate current path match currentpathmatch global path matches globalpathmatches matching path name matchingpathname known file names knownfilenames add string file name filename known file names knownfilenames add string char operation charoperation subarray file name filename matching path name matchingpathname length file name filename length matching path name matchingpathname cleanup max class paths classpaths length max class paths classpaths reset string convert path separators convertpathseparators string path file separator char separatorchar path replace path replace name environment answer nameenvironmentanswer find class findclass string qualified type name qualifiedtypename type name typename as binary only asbinaryonly name environment answer nameenvironmentanswer answer internal find class internalfindclass qualified type name qualifiedtypename type name typename as binary only asbinaryonly annotations from classpath annotationsfromclasspath answer answer get binary type getbinarytype class file reader classfilereader length class paths classpaths length length classpath classpath entry classpathentry class paths classpaths classpath entry classpathentry has annotation file for hasannotationfilefor qualified type name qualifiedtypename zip file zipfile zip classpath entry classpathentry classpath jar classpathjar classpath jar classpathjar classpath entry classpathentry zip file zipfile class file reader classfilereader answer get binary type getbinarytype set external annotation provider setexternalannotationprovider classpath entry classpathentry get path getpath qualified type name qualifiedtypename zip io exception ioexception answer name environment answer nameenvironmentanswer internal find class internalfindclass string qualified type name qualifiedtypename type name typename as binary only asbinaryonly known file names knownfilenames qualified type name qualifiedtypename string qualified binary file name qualifiedbinaryfilename qualified type name qualifiedtypename suffix string string qualified package name qualifiedpackagename qualified type name qualifiedtypename length type name typename length util empty string qualified binary file name qualifiedbinaryfilename substring qualified type name qualifiedtypename length type name typename length string file separator char separatorchar qualified package name qualifiedpackagename qualified package name qualifiedpackagename replace file separator char separatorchar name environment answer nameenvironmentanswer suggested answer suggestedanswer qualified package name qualifiedpackagename length class paths classpaths length length name environment answer nameenvironmentanswer answer class paths classpaths find class findclass type name typename qualified package name qualifiedpackagename qualified binary file name qualifiedbinaryfilename as binary only asbinaryonly answer answer ignore if better ignoreifbetter answer is better isbetter suggested answer suggestedanswer answer answer is better isbetter suggested answer suggestedanswer suggested answer suggestedanswer answer string qualified binary file name qualifiedbinaryfilename replace file separator char separatorchar length class paths classpaths length length classpath class paths classpaths name environment answer nameenvironmentanswer answer classpath jar classpathjar find class findclass type name typename qualified package name qualifiedpackagename qualified binary file name qualifiedbinaryfilename as binary only asbinaryonly find class findclass type name typename as binary only asbinaryonly answer answer ignore if better ignoreifbetter answer is better isbetter suggested answer suggestedanswer answer answer is better isbetter suggested answer suggestedanswer suggested answer suggestedanswer answer suggested answer suggestedanswer suggested answer suggestedanswer name environment answer nameenvironmentanswer find type findtype compound name compoundname compound name compoundname find class findclass string char operation charoperation concat with concatwith compound name compoundname compound name compoundname compound name compoundname length find type names findtypenames package name packagename result package name packagename string qualified package name qualifiedpackagename string char operation charoperation concat with concatwith package name packagename string qualified package name qualifiedpackagename file separator char separatorchar qualified package name qualifiedpackagename qualified package name qualifiedpackagename replace file separator char separatorchar qualified package name qualifiedpackagename qualified package name qualifiedpackagename length class paths classpaths length length answers class paths classpaths find type names findtypenames qualified package name qualifiedpackagename answers result result answers result length resultlength result length answers length answerslength answers length system arraycopy result result answers length answerslength result length resultlength result length resultlength system arraycopy answers result result length resultlength answers length answerslength length class paths classpaths length length classpath class paths classpaths answers classpath jar classpathjar find type names findtypenames qualified package name qualifiedpackagename find type names findtypenames qualified package name qualifiedpackagename answers result result answers result length resultlength result length answers length answerslength answers length system arraycopy result result answers length answerslength result length resultlength result length resultlength system arraycopy answers result result length resultlength answers length answerslength result name environment answer nameenvironmentanswer find type findtype compound name compoundname as binary only asbinaryonly compound name compoundname find class findclass string char operation charoperation concat with concatwith compound name compoundname compound name compoundname compound name compoundname length as binary only asbinaryonly name environment answer nameenvironmentanswer find type findtype type name typename package name packagename type name typename find class findclass string char operation charoperation concat with concatwith package name packagename type name typename type name typename is package ispackage compound name compoundname package name packagename string qualified package name qualifiedpackagename string char operation charoperation concat with concatwith compound name compoundname package name packagename string file separator char separatorchar qualified package name qualifiedpackagename qualified package name qualifiedpackagename replace file separator char separatorchar qualified package name qualifiedpackagename length class paths classpaths length length class paths classpaths is package ispackage qualified package name qualifiedpackagename length class paths classpaths length length classpath class paths classpaths classpath jar classpathjar is package ispackage qualified package name qualifiedpackagename is package ispackage
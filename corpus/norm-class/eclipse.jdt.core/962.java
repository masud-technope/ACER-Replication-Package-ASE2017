copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley initial api implementation org eclipse jdt apt tests external annotations loader test loadertest java io exception ioexception java print writer printwriter sun mirror apt annotation processor annotationprocessor sun mirror apt annotation processor environment annotationprocessorenvironment sun mirror apt file r filer test loading annotation processor jar file loader test annotation processor loadertestannotationprocessor annotation processor annotationprocessor string get class name getclassname nls get package name getpackagename get type name gettypename annotation processor environment annotationprocessorenvironment env instance constructed implemented answer depend sharing class loader classloader is loaded isloaded nls loaded equals system get property getproperty get class name getclassname clear is loaded isloaded setting is loaded isloaded time instance constructed clear loaded clearloaded system clear property clearproperty get class name getclassname loader test annotation processor loadertestannotationprocessor annotation processor environment annotationprocessorenvironment env nls system set property setproperty get class name getclassname loaded env env process file r filer get environment getenvironment get file r getfiler print writer printwriter create source file createsourcefile get class name getclassname print get code getcode close io exception ioexception ioe ioe print stack trace printstacktrace annotation processor environment annotationprocessorenvironment get environment getenvironment env string get code getcode code string get package name getpackagename nls generated file package generatedfilepackage string get type name gettypename nls load factory from jar test loadfactoryfromjartest string code get package name getpackagename get type name gettypename hello world helloworld system println generated file
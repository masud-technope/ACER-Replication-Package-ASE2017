copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann stephan berlin contributions bug type convert ers typeconverters don enclosing type enclosingtype bug type convert ers converters include annotations org eclipse jdt internal compiler parser org eclipse jdt core i annot atable iannotatable org eclipse jdt core i annotation iannotation org eclipse jdt core i import declaration iimportdeclaration org eclipse jdt core i java element ijavaelement org eclipse jdt core i local variable ilocalvariable org eclipse jdt core i source range isourcerange org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast annotation org eclipse jdt internal compiler ast initializer org eclipse jdt internal compiler ast type parameter typeparameter org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler env org eclipse jdt internal compiler lookup extra compiler modifiers extracompilermodifiers org eclipse jdt internal compiler problem problem reporter problemreporter org eclipse jdt internal core org eclipse jdt internal core util util source type converter sourcetypeconverter type converter typeconverter exception thrown converting anonymous type member type parse source enclosing instance recreated model anonymous member found anonymousmemberfound runtime exception runtimeexception serialversionuid field constructor method member type field initialization field method field constructor method local type flags compilation unit declaration compilationunitdeclaration unit parser parser i compilation unit icompilationunit source source type converter sourcetypeconverter flags problem reporter problemreporter problem reporter problemreporter problem reporter problemreporter signature dot flags flags convert source element types parsed compilation unit declaration argument types grouped unit argument types type option ally optionally ignore fields methods member types field initialization compilation unit declaration compilationunitdeclaration build compilation unit buildcompilationunit i source type isourcetype source types sourcetypes flags problem reporter problemreporter problem reporter problemreporter compilation result compilationresult compilation result compilationresult start system current time millis currenttimemillis source type converter sourcetypeconverter converter source type converter sourcetypeconverter flags problem reporter problemreporter converter convert source types sourcetypes compilation result compilationresult java model exception javamodelexception convert source element types parsed compilation unit declaration argument types grouped unit argument types type compilation unit declaration compilationunitdeclaration convert i source type isourcetype source types sourcetypes compilation result compilationresult compilation result compilationresult java model exception javamodelexception unit compilation unit declaration compilationunitdeclaration problem reporter problemreporter compilation result compilationresult source types sourcetypes length unit source type element info sourcetypeelementinfo top level type info topleveltypeinfo source type element info sourcetypeelementinfo source types sourcetypes org eclipse jdt core i compilation unit icompilationunit cu handle cuhandle top level type info topleveltypeinfo get handle gethandle get compilation unit getcompilationunit i compilation unit icompilationunit cu handle cuhandle compilation unit element info compilationunitelementinfo compilation unit element info compilationunitelementinfo compilation unit element info compilationunitelementinfo java element javaelement get element info getelementinfo compliance compilation unit element info compilationunitelementinfo annotation number annotationnumber compilation unit element info compilationunitelementinfo annotation threshold diet parse compilation unit element info compilationunitelementinfo has functional types hasfunctionaltypes flags local type bug https bugs eclipse org bugs bug cgi flags local type parser problem reporter problemreporter diet parse dietparse compilation result compilationresult parser problem reporter problemreporter parse compilation result compilationresult positions start top level type info topleveltypeinfo get name source start getnamesourcestart top level type info topleveltypeinfo get name source end getnamesourceend convert imports string package name packagename package fragment packagefragment cu handle cuhandle get parent getparent names package name packagename length defined unit current package currentpackage create import reference createimportreference package name packagename start class file constants classfileconstants acc default accdefault i import declaration iimportdeclaration import declarations importdeclarations top level type info topleveltypeinfo get handle gethandle get compilation unit getcompilationunit get imports getimports import count importcount import declarations importdeclarations length unit imports import reference importreference import count importcount import count importcount import declaration importdeclaration import declaration importdeclaration import declaration importdeclaration import declarations importdeclarations i source import isourceimport source import sourceimport i source import isourceimport import declaration importdeclaration get element info getelementinfo string name without star namewithoutstar import declaration importdeclaration get name without star getnamewithoutstar unit imports create import reference createimportreference util split on spliton name without star namewithoutstar name without star namewithoutstar length source import sourceimport get declaration source start getdeclarationsourcestart source import sourceimport get declaration source end getdeclarationsourceend import declaration importdeclaration is on demand isondemand source import sourceimport get modifiers getmodifiers convert type type count typecount source types sourcetypes length type declaration typedeclaration types type declaration typedeclaration type count typecount temporary types collection prevent unit types call convert source syntactically incorrect parser flushing unit types https bugs eclipse org bugs bug cgi type count typecount source type element info sourcetypeelementinfo type info typeinfo source type element info sourcetypeelementinfo source types sourcetypes types convert source type sourcetype type info typeinfo get handle gethandle compilation result compilationresult unit types types unit anonymous member found anonymousmemberfound parser problem reporter problemreporter parse compilation result compilationresult convert initializer info initializerinfo parsed initializer declaration initializer convert initializer element info initializerelementinfo initializer info initializerinfo compilation result compilationresult compilation result compilationresult java model exception javamodelexception block block block initializer initializer initializer block class file constants classfileconstants acc default accdefault start initializer info initializerinfo get declaration source start getdeclarationsourcestart initializer info initializerinfo get declaration source end getdeclarationsourceend initializer source start sourcestart initializer declaration source start declarationsourcestart start initializer source end sourceend initializer declaration source end declarationsourceend initializer modifiers initializer info initializerinfo get modifiers getmodifiers convert local anonymous types i java element ijavaelement children initializer info initializerinfo get children getchildren types length typeslength children length types length typeslength statement statements statement types length typeslength types length typeslength source type sourcetype type source type sourcetype children type declaration typedeclaration local type localtype convert type compilation result compilationresult local type localtype bits ast node astnode is anonymous type isanonymoustype qualified allocation expression qualifiedallocationexpression expression qualified allocation expression qualifiedallocationexpression local type localtype expression type local type localtype superclass local type localtype superclass local type localtype super interfaces superinterfaces local type localtype allocation expression statements expression statements local type localtype block statements statements initializer convert field source element parsed field declaration field declaration fielddeclaration convert source field sourcefield field handle fieldhandle type declaration typedeclaration type compilation result compilationresult compilation result compilationresult java model exception javamodelexception source field element info sourcefieldelementinfo field info fieldinfo source field element info sourcefieldelementinfo field handle fieldhandle get element info getelementinfo field declaration fielddeclaration field field declaration fielddeclaration start field info fieldinfo get name source start getnamesourcestart field info fieldinfo get name source end getnamesourceend field field handle fieldhandle get element name getelementname to char array tochararray field source start sourcestart start field source end sourceend field declaration source start declarationsourcestart field info fieldinfo get declaration source start getdeclarationsourcestart field declaration source end declarationsourceend field info fieldinfo get declaration source end getdeclarationsourceend modifiers field info fieldinfo get modifiers getmodifiers is enum constant isenumconstant modifiers class file constants classfileconstants acc enum accenum is enum constant isenumconstant clear acc enum accenum bit ast binding add field modifiers modifiers class file constants classfileconstants acc enum accenum field modifiers modifiers field type create type reference createtypereference field info fieldinfo get type name gettypename start convert specific constructs compliance compliance convert annotations field annotations convert annotations convertannotations field handle fieldhandle conversion field constant flags field initialization initialization source initializationsource field info fieldinfo get initialization source getinitializationsource initialization source initializationsource parser parser parser problem reporter problemreporter parser parse field type unit initialization source initializationsource conversion local anonymous types flags local type i java element ijavaelement children field info fieldinfo get children getchildren children length childrenlength children length children length childrenlength field initialization convert children is enum constant isenumconstant field compilation result compilationresult children length childrenlength array initializer arrayinitializer initializer array initializer arrayinitializer field initialization initializer expression expressions expression children length childrenlength initializer expressions expressions children length childrenlength expressions convert children is enum constant isenumconstant field compilation result compilationresult field qualified allocation expression qualifiedallocationexpression convert i java element ijavaelement local type localtype field declaration fielddeclaration enum constant enumconstant compilation result compilationresult compilation result compilationresult java model exception javamodelexception type declaration typedeclaration anonymous local type declaration anonymouslocaltypedeclaration convert source type sourcetype local type localtype compilation result compilationresult qualified allocation expression qualifiedallocationexpression expression qualified allocation expression qualifiedallocationexpression anonymous local type declaration anonymouslocaltypedeclaration expression type anonymous local type declaration anonymouslocaltypedeclaration superclass anonymous local type declaration anonymouslocaltypedeclaration superclass anonymous local type declaration anonymouslocaltypedeclaration super interfaces superinterfaces anonymous local type declaration anonymouslocaltypedeclaration allocation expression enum constant enumconstant anonymous local type declaration anonymouslocaltypedeclaration modifiers class file constants classfileconstants acc enum accenum expression enum constant enumconstant enum constant enumconstant expression type expression convert method source element parsed method constructor declaration abstract method declaration abstractmethoddeclaration convert source method sourcemethod method handle methodhandle source method element info sourcemethodelementinfo method info methodinfo compilation result compilationresult compilation result compilationresult java model exception javamodelexception abstract method declaration abstractmethoddeclaration method source positions start method info methodinfo get name source start getnamesourcestart method info methodinfo get name source end getnamesourceend https bugs eclipse org bugs bug cgi type constructed behalf project int ernalize internalize type variables properly order recognize usages method signature apply substitutions detect overriding presence generics simply drop method signature ref ers refers type parameter won bound type parameter perform incorrect lookup mistakenly missing types type parameter typeparameter type params typeparams type parameter names typeparameternames method info methodinfo get type parameter names gettypeparameternames type parameter names typeparameternames parameter count parametercount type parameter names typeparameternames length method type parameters type parameter parameter count parametercount type parameter bounds typeparameterbounds method info methodinfo get type parameter bounds gettypeparameterbounds type params typeparams type parameter typeparameter parameter count parametercount parameter count parametercount type params typeparams create type parameter createtypeparameter type parameter names typeparameternames type parameter bounds typeparameterbounds start modifiers method info methodinfo get modifiers getmodifiers method info methodinfo is constructor isconstructor constructor declaration constructordeclaration decl constructor declaration constructordeclaration compilation result compilationresult decl bits ast node astnode is default constructor isdefaultconstructor method decl decl type parameters typeparameters type params typeparams method declaration methoddeclaration decl method info methodinfo is annotation method isannotationmethod annotation method declaration annotationmethoddeclaration annotation method declaration annotationmethoddeclaration annotation method declaration annotationmethoddeclaration compilation result compilationresult conversion source annotation method info sourceannotationmethodinfo annotation method info annotationmethodinfo source annotation method info sourceannotationmethodinfo method info methodinfo has default value hasdefaultvalue annotation method info annotationmethodinfo default value start defaultvaluestart annotation method info annotationmethodinfo default value end defaultvalueend flags field initialization has default value hasdefaultvalue default value source defaultvaluesource char operation charoperation subarray get source getsource annotation method info annotationmethodinfo default value start defaultvaluestart annotation method info annotationmethodinfo default value end defaultvalueend default value source defaultvaluesource expression expression parse member value parsemembervalue default value source defaultvaluesource expression annotation method declaration annotationmethoddeclaration default value defaultvalue expression retrieve has default value hasdefaultvalue has default value hasdefaultvalue modifiers class file constants classfileconstants acc annotation default accannotationdefault decl annotation method declaration annotationmethoddeclaration decl method declaration methoddeclaration compilation result compilationresult convert type decl return type returntype create type reference createtypereference method info methodinfo get return type name getreturntypename start type parameters decl type parameters typeparameters type params typeparams method decl method selector method handle methodhandle get element name getelementname to char array tochararray is varargs isvarargs modifiers class file constants classfileconstants acc varargs accvarargs method modifiers modifiers class file constants classfileconstants acc varargs accvarargs method source start sourcestart start method source end sourceend method declaration source start declarationsourcestart method info methodinfo get declaration source start getdeclarationsourcestart method declaration source end declarationsourceend method info methodinfo get declaration source end getdeclarationsourceend convert specific constructs compliance compliance convert annotations method annotations convert annotations convertannotations method handle methodhandle convert arguments string argument type signatures argumenttypesignatures method handle methodhandle get parameter types getparametertypes argument names argumentnames method info methodinfo get argument names getargumentnames argument count argumentcount argument type signatures argumenttypesignatures argument type signatures argumenttypesignatures length argument count argumentcount i local variable ilocalvariable parameters method handle methodhandle get parameters getparameters position start method arguments argument argument count argumentcount argument count argumentcount type reference typereference type reference typereference create type reference createtypereference argument type signatures argumenttypesignatures start is varargs isvarargs argument count argumentcount type reference typereference bits ast node astnode is var args isvarargs method arguments argument argument names argumentnames position type reference typereference class file constants classfileconstants acc default accdefault convert specific constructs compliance compliance convert annotations method arguments annotations convert annotations convertannotations parameters convert thrown exceptions exception type names exceptiontypenames method info methodinfo get exception type names getexceptiontypenames exception count exceptioncount exception type names exceptiontypenames exception type names exceptiontypenames length exception count exceptioncount method thrown exceptions thrownexceptions type reference typereference exception count exceptioncount exception count exceptioncount method thrown exceptions thrownexceptions create type reference createtypereference exception type names exceptiontypenames start convert local anonymous types flags local type i java element ijavaelement children method info methodinfo get children getchildren types length typeslength children length types length typeslength statement statements statement types length typeslength types length typeslength source type sourcetype type source type sourcetype children type declaration typedeclaration local type localtype convert type compilation result compilationresult local type localtype bits ast node astnode is anonymous type isanonymoustype qualified allocation expression qualifiedallocationexpression expression qualified allocation expression qualifiedallocationexpression local type localtype expression type local type localtype superclass local type localtype superclass local type localtype super interfaces superinterfaces local type localtype allocation expression statements expression statements local type localtype method statements statements method convert source element type parsed type declaration type declaration typedeclaration convert source type sourcetype type handle typehandle compilation result compilationresult compilation result compilationresult java model exception javamodelexception source type element info sourcetypeelementinfo type info typeinfo source type element info sourcetypeelementinfo type handle typehandle get element info getelementinfo type info typeinfo is anonymous member isanonymousmember anonymous member found anonymousmemberfound create type declaration member type type declaration typedeclaration type type declaration typedeclaration compilation result compilationresult type info typeinfo get enclosing type getenclosingtype type handle typehandle is anonymous isanonymous type char operation charoperation type bits ast node astnode is anonymous type isanonymoustype ast node astnode is local type islocaltype type handle typehandle is local islocal type bits ast node astnode is local type islocaltype type bits ast node astnode is member type ismembertype type bits ast node astnode is anonymous type isanonymoustype type type info typeinfo get name getname type type info typeinfo get name getname positions start type source start sourcestart start type info typeinfo get name source start getnamesourcestart type source end sourceend type info typeinfo get name source end getnamesourceend type modifiers type info typeinfo get modifiers getmodifiers type declaration source start declarationsourcestart type info typeinfo get declaration source start getdeclarationsourcestart type declaration source end declarationsourceend type info typeinfo get declaration source end getdeclarationsourceend type body end bodyend type declaration source end declarationsourceend convert specific constructs compliance compliance convert annotations type annotations convert annotations convertannotations type handle typehandle https bugs eclipse org bugs bug cgi project int ernalize internalize type variables observe param eterization parameterization interfaces order detect overriding presence generics type parameter names typeparameternames type info typeinfo get type parameter names gettypeparameternames type parameter names typeparameternames length parameter count parametercount type parameter names typeparameternames length type parameter bounds typeparameterbounds type info typeinfo get type parameter bounds gettypeparameterbounds type type parameters typeparameters type parameter typeparameter parameter count parametercount parameter count parametercount type type parameters typeparameters create type parameter createtypeparameter type parameter names typeparameternames type parameter bounds typeparameterbounds start superclass super interfaces superinterfaces type info typeinfo get superclass name getsuperclassname type superclass create type reference createtypereference type info typeinfo get superclass name getsuperclassname start include generics type superclass bits ast node astnode is super type issupertype interface names interfacenames type info typeinfo get interface names getinterfacenames interface count interfacecount interface names interfacenames interface names interfacenames length interface count interfacecount type super interfaces superinterfaces type reference typereference interface count interfacecount interface count interfacecount type super interfaces superinterfaces create type reference createtypereference interface names interfacenames start include generics type super interfaces superinterfaces bits ast node astnode is super type issupertype convert member types flags member type source type sourcetype source member types sourcemembertypes type info typeinfo get member type handles getmembertypehandles source member type count sourcemembertypecount source member types sourcemembertypes length type member types membertypes type declaration typedeclaration source member type count sourcemembertypecount source member type count sourcemembertypecount type member types membertypes convert source member types sourcemembertypes compilation result compilationresult type member types membertypes enclosing type enclosingtype type convert int ializers intializers fields initializer element info initializerelementinfo initializers initializer count initializercount flags local type initializers type info typeinfo get initializers getinitializers initializer count initializercount initializers length source field sourcefield source fields sourcefields source field count sourcefieldcount flags field source fields sourcefields type info typeinfo get field handles getfieldhandles source field count sourcefieldcount source fields sourcefields length length initializer count initializercount source field count sourcefieldcount length type fields field declaration fielddeclaration length initializer count initializercount type fields convert initializers compilation result compilationresult initializer count initializercount length type fields convert source fields sourcefields type compilation result compilationresult convert methods add constructor need constructor needconstructor flags constructor need method needmethod flags method need constructor needconstructor need method needmethod source method sourcemethod source methods sourcemethods type info typeinfo get method handles getmethodhandles source method count sourcemethodcount source methods sourcemethods length source type constructor assume needed extra constructor extraconstructor method count methodcount kind type declaration typedeclaration kind type modifiers is abstract isabstract kind type declaration typedeclaration decl kind type declaration typedeclaration annotation type decl is abstract isabstract extra constructor extraconstructor need constructor needconstructor source method count sourcemethodcount source methods sourcemethods is constructor isconstructor need constructor needconstructor extra constructor constructor exists extra constructor extraconstructor method count methodcount need method needmethod method count methodcount method count methodcount need method needmethod source method count sourcemethodcount type methods abstract method declaration abstractmethoddeclaration method count methodcount extra constructor extraconstructor add constructor position extra constructor extraconstructor type methods type create default constructor createdefaultconstructor has abstract methods hasabstractmethods source method count sourcemethodcount source method sourcemethod source method sourcemethod source methods sourcemethods source method element info sourcemethodelementinfo method info methodinfo source method element info sourcemethodelementinfo source method sourcemethod get element info getelementinfo is constructor isconstructor method info methodinfo is constructor isconstructor method info methodinfo get modifiers getmodifiers class file constants classfileconstants acc abstract accabstract has abstract methods hasabstractmethods is constructor isconstructor need constructor needconstructor is constructor isconstructor need method needmethod abstract method declaration abstractmethoddeclaration method convert source method sourcemethod method info methodinfo compilation result compilationresult is abstract isabstract flag method is abstract isabstract method modifiers extra compiler modifiers extracompilermodifiers acc semicolon body accsemicolonbody type methods extra constructor extraconstructor method has abstract methods hasabstractmethods type bits ast node astnode has abstract methods hasabstractmethods type annotation convert annotations convertannotations i annot atable iannotatable element java model exception javamodelexception i annotation iannotation annotations element get annotations getannotations length annotations length annotation ast annotations astannotations annotation length length cu source cusource get source getsource recorded annotations recordedannotations length i source range isourcerange positions annotations get source range getsourcerange start positions get offset getoffset start positions get length getlength annotation source annotationsource char operation charoperation subarray cu source cusource start annotation source annotationsource expression expression parse member value parsemembervalue annotation source annotationsource expression annotation source changed moment annotation source positions retrieved moment parsing occurred https bugs eclipse org bugs bug cgi expression annotation ast annotations astannotations recorded annotations recordedannotations annotation expression length recorded annotations recordedannotations resize remove annotations system arraycopy ast annotations astannotations ast annotations astannotations annotation recorded annotations recordedannotations recorded annotations recordedannotations ast annotations astannotations get source getsource source source get contents getcontents source expression parse member value parsemembervalue member value membervalue member value membervalue parser parser parser problem reporter problemreporter parser parse member value parsemembervalue member value membervalue member value membervalue length unit
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug compiler annotations checking bug compiler detect assigning nonnull argument bug edit orial editorial cleanup bug bug bug compiler investigate alternative str ategy strategy int ernally internally encoding nullness defaults bug compiler implementation property modifiers accepted methods bug compiler apply annotation types analysis bug compiler inheritance annotations option bug analysis support lambda methods bug compiler apply annotation types analysis bug compiler detect semantically invalid type annotations bug type reference typereference capture type annotations capturetypeannotations treats type annotations type argument annotations bug massage type annotated analysis gel deep encoded type bindings bug compiler detect semantically invalid type annotations bug non null by default nonnullbydefault illegally affect bug compiler java compiler recognize declaration style annotations bug annotations null pointer exception nullpointerexception nullable type param org eclipse jdt internal compiler ast java util list org eclipse jdt core compiler org eclipse jdt internal compiler org eclipse jdt internal compiler ast type reference typereference annotation position annotationposition org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen org eclipse jdt internal compiler lookup org eclipse jdt internal compiler problem org eclipse jdt internal compiler parser org eclipse jdt internal compiler util util suppress warnings suppresswarnings rawtypes abstract method declaration abstractmethoddeclaration ast node astnode problem severities problemseverities reference context referencecontext method scope methodscope scope rel event relevent constructor helps constructor parsing extra work fill selector declaration source start declarationsourcestart declaration source end declarationsourceend modifiers modifiers source start modifierssourcestart annotation annotations jsr receiver receiver argument arguments type reference typereference thrown exceptions thrownexceptions statement statements explicit declarations explicitdeclarations method binding methodbinding binding ignore further investigation ignorefurtherinvestigation javadoc javadoc body start bodystart body end bodyend compilation result compilationresult compilation result compilationresult abstract method declaration abstractmethoddeclaration compilation result compilationresult compilation result compilationresult compilation result compilationresult compilation result compilationresult compilation task abort extent abort abort level abortlevel categorized problem categorizedproblem problem abort level abortlevel abort compilation abortcompilation abort compilation abortcompilation compilation result compilationresult problem abort compilation unit abortcompilationunit abort compilation unit abortcompilationunit compilation result compilationresult problem abort type aborttype abort type aborttype compilation result compilationresult problem abort method abortmethod compilation result compilationresult problem method accessed source type binding sourcetypebinding resolve types for resolvetypesfor method binding methodbinding create argument binding resolve annotations order compute annotation tag bits tagbits create argument bindings createargumentbindings create argument bindings createargumentbindings arguments binding scope version invocation lambda expression lambdaexpression create argument bindings createargumentbindings argument arguments method binding methodbinding binding method scope methodscope scope use type annotations usetypeannotations scope environment uses null type annotations usesnulltypeannotations arguments binding length arguments length length argument argument arguments binding parameters argument create binding createbinding scope binding parameters use type annotations usetypeannotations business annotations create binding createbinding resolved annotations transfer nullness info argument method arg type tag bits argtypetagbits argument binding tag bits tagbits tag bits tagbits annotationnullmask arg type tag bits argtypetagbits binding parameter non nullness parameternonnullness binding parameter non nullness parameternonnullness arguments length binding tag bits tagbits tag bits tagbits is nullness known isnullnessknown binding parameter non nullness parameternonnullness value of valueof arg type tag bits argtypetagbits tag bits tagbits annotation non null annotationnonnull bind add argument binding scope method bind arguments bindarguments arguments arguments methods considered comp laint complaint expected binding length arguments length length arguments bind scope binding is abstract isabstract binding is native isnative annotation binding annotationbinding param annotations paramannotations length arguments length length argument argument arguments binding parameters argument bind scope binding parameters argument annotations param annotations paramannotations param annotations paramannotations annotation binding annotationbinding length param annotations paramannotations binding annotations param annotations paramannotations argument binding get annotations getannotations param annotations paramannotations param annotations paramannotations binding annotations param annotations paramannotations binding set parameter annotations setparameterannotations param annotations paramannotations record thrown exception type bindings type references bind thrown exceptions bindthrownexceptions thrown exceptions thrownexceptions binding binding thrown exceptions thrownexceptions thrown exception length thrownexceptionlength thrown exceptions thrownexceptions length length binding thrown exceptions thrownexceptions length length thrown exception length thrownexceptionlength length thrown exceptions thrownexceptions resolved type resolvedtype binding thrown exceptions thrownexceptions binding index bindingindex thrown exception length thrownexceptionlength binding index bindingindex length type reference typereference thrown exception thrownexception thrown exceptions thrownexceptions reference binding referencebinding thrown exception binding thrownexceptionbinding binding thrown exceptions thrownexceptions binding index bindingindex binding compound name bindingcompoundname thrown exception binding thrownexceptionbinding compound name compoundname skip problem binding compound name bindingcompoundname thrown exception thrownexception single type reference singletypereference single type reference length name lengthname binding compound name bindingcompoundname length thrown exception type name thrownexceptiontypename thrown exception thrownexception get type name gettypename char operation charoperation equals thrown exception type name thrownexceptiontypename binding compound name bindingcompoundname length name lengthname thrown exception thrownexception resolved type resolvedtype thrown exception binding thrownexceptionbinding binding index bindingindex qualified type reference char operation charoperation equals thrown exception thrownexception get type name gettypename binding compound name bindingcompoundname thrown exception thrownexception resolved type resolvedtype thrown exception binding thrownexceptionbinding binding index bindingindex feed argument annotations analysis mark arguments assigned analyse arguments analysearguments lookup environment lookupenvironment environment flow info flowinfo flow info flowinfo argument method arguments methodarguments method binding methodbinding method binding methodbinding method arguments methodarguments uses null type annotations usesnulltypeannotations environment uses null type annotations usesnulltypeannotations length math min method binding methodbinding parameters length method arguments methodarguments length length uses null type annotations usesnulltypeannotations leverage type annotations tag bits tagbits method binding methodbinding parameters tag bits tagbits tag bits tagbits annotationnullmask tag bits tagbits tag bits tagbits annotation non null annotationnonnull flow info flowinfo mark as definitely non null markasdefinitelynonnull method arguments methodarguments binding tag bits tagbits tag bits tagbits annotation nullable annotationnullable flow info flowinfo mark potentially null bit markpotentiallynullbit method arguments methodarguments binding method binding methodbinding parameters is free type variable isfreetypevariable flow info flowinfo mark null status marknullstatus method arguments methodarguments binding flow info flowinfo free type variable typevariable method binding methodbinding parameter non nullness parameternonnullness leverage info parameter annotations non null ness nonnullness method binding methodbinding parameter non nullness parameternonnullness non null ness nonnullness non null ness nonnullness boolean value booleanvalue flow info flowinfo mark as definitely non null markasdefinitelynonnull method arguments methodarguments binding flow info flowinfo mark potentially null bit markpotentiallynullbit method arguments methodarguments binding tag parameters flow info flowinfo mark as definitely assigned markasdefinitelyassigned method arguments methodarguments binding compilation result compilationresult compilation result compilationresult compilation result compilationresult byte code bytecode generation method param class scope classscope param class file classfile generate code generatecode class scope classscope class scope classscope class file classfile class file classfile reset wide mode widemode class file classfile code stream codestream wide mode widemode ignore further investigation ignorefurtherinvestigation method errors dump problem method binding handle methods invalid signature duplicates problems length problemslength categorized problem categorizedproblem problems scope reference compilation unit referencecompilationunit compilation result compilationresult get problems getproblems categorized problem categorizedproblem problems copy problemscopy categorized problem categorizedproblem problems length problemslength problems length system arraycopy problems problems copy problemscopy problems length problemslength class file classfile add problem method addproblemmethod binding problems copy problemscopy problem reset c problemresetpc compilation result compilationresult unit result unitresult problem count problemcount class scope classscope type declaration typedeclaration reference context referencecontext class scope classscope reference context referencecontext reference context referencecontext unit result unitresult reference context referencecontext compilation result compilationresult problem count problemcount unit result unitresult problem count problemcount restart abort regular code generation problem reset c problemresetpc class file classfile contents offset contentsoffset generate code generatecode class file classfile restart abort method abortmethod compilation result compilationresult code stream codestream restart wide mode class file classfile contents offset contentsoffset problem reset c problemresetpc class file classfile method count methodcount class file classfile code stream codestream reset in wide mode resetinwidemode unit result unitresult unit result unitresult problem count problemcount problem count problemcount restart compilation result compilationresult code stream codestream restart code gen unused locals mode class file classfile contents offset contentsoffset problem reset c problemresetpc class file classfile method count methodcount class file classfile code stream codestream reset for code gen unused locals resetforcodegenunusedlocals unit result unitresult unit result unitresult problem count problemcount problem count problemcount restart restart abort restart produce problem method accounting fatal error abort problems length problemslength categorized problem categorizedproblem problems scope reference compilation unit referencecompilationunit compilation result compilationresult get all problems getallproblems categorized problem categorizedproblem problems copy problemscopy categorized problem categorizedproblem problems length problemslength problems length system arraycopy problems problems copy problemscopy problems length problemslength class file classfile add problem method addproblemmethod binding problems copy problemscopy problem reset c problemresetpc generate code generatecode class file classfile class file classfile class file classfile generate method info header generatemethodinfoheader binding method attribute offset methodattributeoffset class file classfile contents offset contentsoffset attribute number attributenumber class file classfile generate method info attributes generatemethodinfoattributes binding binding is native isnative binding is abstract isabstract code attribute offset codeattributeoffset class file classfile contents offset contentsoffset class file classfile generate code attribute header generatecodeattributeheader code stream codestream code stream codestream class file classfile code stream codestream code stream codestream reset class file classfile initialize local positions scope compute local variable positions computelocalvariablepositions binding is static isstatic code stream codestream arguments initialization local variable debug attributes arguments max arguments length max local variable binding localvariablebinding arg binding argbinding code stream codestream add visible local variable addvisiblelocalvariable arg binding argbinding arguments binding arg binding argbinding record initialization start c recordinitializationstartpc statements max statements length max statements generate code generatecode scope code stream codestream problem reported code gen trigger problem method creation ignore further investigation ignorefurtherinvestigation abort method abortmethod scope reference compilation unit referencecompilationunit compilation result compilationresult bits ast node astnode need free return needfreereturn code stream codestream local variable attributes code stream codestream exit user scope exituserscope scope code stream codestream record positions from recordpositionsfrom declaration source end declarationsourceend class file classfile complete code attribute completecodeattribute code attribute offset codeattributeoffset negative array size exception negativearraysizeexception abort method abortmethod scope reference compilation unit referencecompilationunit compilation result compilationresult attribute number attributenumber check arguments size checkargumentssize class file classfile complete method info completemethodinfo binding method attribute offset methodattributeoffset attribute number attributenumber get all annotation contexts getallannotationcontexts target type targettype list all annotation contexts allannotationcontexts check arguments size checkargumentssize type binding typebinding parameters binding parameters method method size max parameters length max parameters type ids typeids type ids typeids size size size xff scope problem reporter problemreporter no more available space for argument nomoreavailablespaceforargument scope locals scope locals declaration compilation unit declaration compilationunitdeclaration get compilation unit declaration getcompilationunitdeclaration scope scope compilation unit scope compilationunitscope reference context referencecontext has errors haserrors ignore further investigation ignorefurtherinvestigation is abstract isabstract binding binding is abstract isabstract modifiers class file constants classfileconstants acc abstract accabstract is annotation method isannotationmethod is clinit isclinit is constructor isconstructor is default constructor isdefaultconstructor is default method isdefaultmethod is initialization method isinitializationmethod is method ismethod is native isnative binding binding is native isnative modifiers class file constants classfileconstants acc native accnative is static isstatic binding binding is static isstatic modifiers class file constants classfileconstants acc static accstatic fill method body statement param parser param unit parse statements parsestatements parser parser compilation unit declaration compilationunitdeclaration unit string buffer stringbuffer print tab string buffer stringbuffer output javadoc javadoc print tab output print indent printindent tab output print modifiers printmodifiers modifiers output annotations print annotations printannotations annotations output output append type parameter typeparameter type params typeparams type parameters typeparameters type params typeparams output append max type params typeparams length max type params typeparams print output nls output append nls type params typeparams max print output output append print return type printreturntype output append selector append receiver receiver print output arguments arguments length receiver nls output append nls arguments print output output append thrown exceptions thrownexceptions nls output append thrown exceptions thrownexceptions length nls output append nls thrown exceptions thrownexceptions print output print body printbody tab output output string buffer stringbuffer print body printbody indent string buffer stringbuffer output is abstract isabstract modifiers extra compiler modifiers extracompilermodifiers acc semicolon body accsemicolonbody output append nls output append statements statements length output append statements print statement printstatement indent output output append print indent printindent indent indent output append output string buffer stringbuffer print return type printreturntype indent string buffer stringbuffer output output resolve class scope classscope upper scope upperscope binding ignore further investigation ignorefurtherinvestigation bind arguments bindarguments resolve receiver resolvereceiver bind thrown exceptions bindthrownexceptions resolve javadoc resolvejavadoc resolve annotations resolveannotations scope annotations binding is constructor isconstructor source level sourcelevel scope compiler options compileroptions source level sourcelevel checked argument create binding createbinding source level sourcelevel class file constants classfileconstants jdk validate null annotations validatenullannotations scope environment uses null type annotations usesnulltypeannotations resolve statements resolvestatements check deprecated annotation presence binding binding get annotation tag bits getannotationtagbits tag bits tagbits annotation deprecated annotationdeprecated binding modifiers class file constants classfileconstants acc deprecated accdeprecated source level sourcelevel class file constants classfileconstants jdk scope problem reporter problemreporter missing deprecated annotation for method missingdeprecatedannotationformethod abort method abortmethod ignore further investigation ignorefurtherinvestigation resolve receiver resolvereceiver receiver receiver modifiers scope problem reporter problemreporter illegal modifiers illegalmodifiers receiver declaration source start declarationsourcestart receiver declaration source end declarationsourceend type binding typebinding resolved receiver type resolvedreceivertype receiver type resolved type resolvedtype binding resolved receiver type resolvedreceivertype resolved receiver type resolvedreceivertype is valid binding isvalidbinding reference binding referencebinding declaring class declaringclass binding declaring class declaringclass methods methods anonymous types explicit is static isstatic declaring class declaringclass is anonymous type isanonymoustype scope problem reporter problemreporter disallowed this parameter disallowedthisparameter receiver validation reference binding referencebinding enclosing receiver enclosingreceiver scope enclosing receiver type enclosingreceivertype is constructor isconstructor member types local types declare explicit params constructors declaring class declaringclass is static isstatic declaring class declaringclass tag bits tagbits tag bits tagbits is local type islocaltype tag bits tagbits is member type ismembertype member local type scope problem reporter problemreporter disallowed this parameter disallowedthisparameter receiver validation enclosing receiver enclosingreceiver enclosing receiver enclosingreceiver enclosing type enclosingtype tokens receiver qualifying name qualifyingname receiver qualifying name qualifyingname get name getname is constructor isconstructor tokens tokens length char operation charoperation equals enclosing receiver enclosingreceiver source name sourcename tokens scope problem reporter problemreporter illegal qualifier for explicit this illegalqualifierforexplicitthis receiver enclosing receiver enclosingreceiver receiver qualifying name qualifyingname tokens tokens length scope problem reporter problemreporter illegal qualifier for explicit this illegalqualifierforexplicitthis receiver receiver qualifying name qualifyingname type binding typebinding not equals notequals enclosing receiver enclosingreceiver resolved receiver type resolvedreceivertype scope problem reporter problemreporter illegal type for explicit this illegaltypeforexplicitthis receiver enclosing receiver enclosingreceiver receiver type has null type annotation hasnulltypeannotation annotation position annotationposition scope problem reporter problemreporter null annotation unsupported location nullannotationunsupportedlocation receiver type resolve javadoc resolvejavadoc binding javadoc javadoc resolve scope binding declaring class declaringclass binding declaring class declaringclass is local type islocaltype javadoc visibility javadoc visibility javadocvisibility binding modifiers extra compiler modifiers extracompilermodifiers accvisibilitymask class scope classscope class scope classscope scope class scope classscope problem reporter problemreporter reporter scope problem reporter problemreporter severity reporter compute severity computeseverity i problem iproblem javadoc missing javadocmissing severity problem severities problemseverities ignore class scope classscope javadoc visibility javadocvisibility util compute outer most visibility computeoutermostvisibility class scope classscope reference type referencetype javadoc visibility javadocvisibility javadoc modifiers javadocmodifiers binding modifiers extra compiler modifiers extracompilermodifiers accvisibilitymask javadoc visibility javadocvisibility reporter javadoc missing javadocmissing source start sourcestart source end sourceend severity javadoc modifiers javadocmodifiers resolve statements resolvestatements statements length statements length length statements resolve scope bits undocumented empty block undocumentedemptyblock https bugs eclipse org bugs bug cgi is constructor isconstructor arguments scope problem reporter problemreporter undo cumented empty block undocumentedemptyblock body start bodystart body end bodyend tag as having errors tagashavingerrors ignore further investigation ignorefurtherinvestigation tag as having ignored mandatory errors tagashavingignoredmandatoryerrors problem id problemid context traverse ast visitor astvisitor visitor class scope classscope class scope classscope implementation subclass define type parameter typeparameter type parameters typeparameters validate null annotations validatenullannotations use type annotations usetypeannotations binding annotations parameters use type annotations usetypeannotations binding parameter non nullness parameternonnullness length binding parameters length length binding parameter non nullness parameternonnullness null annotation tag bit nullannotationtagbit binding parameter non nullness parameternonnullness boolean value booleanvalue tag bits tagbits annotation non null annotationnonnull tag bits tagbits annotation nullable annotationnullable scope validate null annotation validatenullannotation null annotation tag bit nullannotationtagbit arguments type arguments annotations binding parameter non nullness parameternonnullness length binding parameters length length scope validate null annotation validatenullannotation binding parameters tag bits tagbits arguments type arguments annotations todo stephan remove binding parameters binding parameters unannotated
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug incorrect type visible compiler error bug enable int erned interned captures analysing type annotations org eclipse jdt internal compiler lookup org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler util util annot atable type system annotatabletypesystem type system typesystem is annotation based null analysis enabled isannotationbasednullanalysisenabled annot atable type system annotatabletypesystem lookup environment lookupenvironment environment environment environment environment is annotation based null analysis enabled isannotationbasednullanalysisenabled environment global options globaloptions is annotation based null analysis enabled isannotationbasednullanalysisenabled type annotated var iants variants parameter annotated type binding typebinding get annotated types getannotatedtypes type binding typebinding type type binding typebinding derived types derivedtypes get derived types getderivedtypes type length derived types derivedtypes length type binding typebinding annotated versions annotatedversions type binding typebinding length versions length type binding typebinding derived type derivedtype derived types derivedtypes derived type derivedtype derived type derivedtype has type annotations hastypeannotations derived type derivedtype type annotated versions annotatedversions versions derived type derivedtype versions length system arraycopy annotated versions annotatedversions annotated versions annotatedversions type binding typebinding versions versions annotated versions annotatedversions method replaces version sit parameter annotations flattened sequence annotations dimension annotations sent inel sentinel leaf type annotated type array binding arraybinding swap unresolved swapunresolved special handling incoming leaf type leaftype urb resolve raw type array binding arraybinding get array type getarraytype type binding typebinding leaf type leaftype dimensions annotation binding annotationbinding annotations substitution attempts don create array arrays leaf type leaftype array binding arraybinding dimensions leaf type leaftype dimensions annotation binding annotationbinding leaf annotations leafannotations leaf type leaftype get type annotations gettypeannotations leaf type leaftype leaf type leaftype leaf component type leafcomponenttype annotation binding annotationbinding all annotations allannotations annotation binding annotationbinding leaf annotations leafannotations length annotations length system arraycopy annotations all annotations allannotations annotations length system arraycopy leaf annotations leafannotations all annotations allannotations annotations length leave leaf annotations leafannotations length annotations all annotations allannotations array binding arraybinding naked type nakedtype type binding typebinding derived types derivedtypes get derived types getderivedtypes leaf type leaftype length derived types derivedtypes length length type binding typebinding derived type derivedtype derived types derivedtypes derived type derivedtype identity comparison derived type derivedtype is array type isarraytype derived type derivedtype dimensions dimensions derived type derivedtype leaf component type leafcomponenttype leaf type leaftype util effectively equal effectivelyequal derived type derivedtype get type annotations gettypeannotations annotations array binding arraybinding derived type derivedtype derived type derivedtype has type annotations hastypeannotations naked type nakedtype array binding arraybinding derived type derivedtype naked type nakedtype naked type nakedtype get array type getarraytype leaf type leaftype dimensions have type annotations havetypeannotations leaf type leaftype annotations naked type nakedtype array binding arraybinding array type arraytype array binding arraybinding leaf type leaftype dimensions environment array type arraytype naked type nakedtype array type arraytype set type annotations settypeannotations annotations is annotation based null analysis enabled isannotationbasednullanalysisenabled array binding arraybinding cache derived type cachederivedtype leaf type leaftype naked type nakedtype array type arraytype array binding arraybinding get array type getarraytype type binding typebinding leaf t type leafttype dimensions get array type getarraytype leaf t type leafttype dimensions binding annotations reference binding referencebinding get member type getmembertype reference binding referencebinding member type membertype reference binding referencebinding enclosing type enclosingtype have type annotations havetypeannotations member type membertype enclosing type enclosingtype get member type getmembertype member type membertype enclosing type enclosingtype reference binding referencebinding get annotated type getannotatedtype member type membertype enclosing type enclosingtype member type membertype get type annotations gettypeannotations parameterized type binding parameterizedtypebinding get parameterized type getparameterizedtype reference binding referencebinding generic type generictype type binding typebinding type arguments typearguments reference binding referencebinding enclosing type enclosingtype annotation binding annotationbinding annotations non null nonnull list string non null nonnull list string generic type generictype has type annotations hastypeannotations illegal state exception illegalstateexception parameterized type binding parameterizedtypebinding parameterized type parameterizedtype parameterized types parameterizedtypes generic type generictype type arguments typearguments enclosing type enclosingtype annotations parameterized type parameterizedtype parameterized type parameterizedtype parameterized type binding parameterizedtypebinding naked type nakedtype get parameterized type getparameterizedtype generic type generictype type arguments typearguments enclosing type enclosingtype have type annotations havetypeannotations generic type generictype enclosing type enclosingtype type arguments typearguments annotations naked type nakedtype parameterized type parameterizedtype parameterized type binding parameterizedtypebinding generic type generictype type arguments typearguments enclosing type enclosingtype environment parameterized type parameterizedtype naked type nakedtype parameterized type parameterizedtype set type annotations settypeannotations annotations is annotation based null analysis enabled isannotationbasednullanalysisenabled parameterized types parameterizedtypes generic type generictype type arguments typearguments enclosing type enclosingtype parameterized type parameterizedtype parameterized type binding parameterizedtypebinding cache derived type cachederivedtype generic type generictype naked type nakedtype parameterized type parameterizedtype parameterized type binding parameterizedtypebinding get parameterized type getparameterizedtype reference binding referencebinding generic type generictype type binding typebinding type arguments typearguments reference binding referencebinding enclosing type enclosingtype get parameterized type getparameterizedtype generic type generictype type arguments typearguments enclosing type enclosingtype binding annotations raw type binding rawtypebinding get raw type getrawtype reference binding referencebinding generic type generictype reference binding referencebinding enclosing type enclosingtype annotation binding annotationbinding annotations generic type generictype has type annotations hastypeannotations illegal state exception illegalstateexception raw type binding rawtypebinding naked type nakedtype type binding typebinding derived types derivedtypes get derived types getderivedtypes generic type generictype length derived types derivedtypes length length type binding typebinding derived type derivedtype derived types derivedtypes derived type derivedtype identity comparison derived type derivedtype is raw type israwtype derived type derivedtype actual type actualtype generic type generictype derived type derivedtype enclosing type enclosingtype enclosing type enclosingtype util effectively equal effectivelyequal derived type derivedtype get type annotations gettypeannotations annotations raw type binding rawtypebinding derived type derivedtype derived type derivedtype has type annotations hastypeannotations naked type nakedtype raw type binding rawtypebinding derived type derivedtype naked type nakedtype naked type nakedtype get raw type getrawtype generic type generictype enclosing type enclosingtype have type annotations havetypeannotations generic type generictype enclosing type enclosingtype annotations naked type nakedtype raw type binding rawtypebinding raw type rawtype raw type binding rawtypebinding generic type generictype enclosing type enclosingtype environment raw type rawtype naked type nakedtype raw type rawtype set type annotations settypeannotations annotations is annotation based null analysis enabled isannotationbasednullanalysisenabled raw type binding rawtypebinding cache derived type cachederivedtype generic type generictype naked type nakedtype raw type rawtype raw type binding rawtypebinding get raw type getrawtype reference binding referencebinding generic type generictype reference binding referencebinding enclosing type enclosingtype get raw type getrawtype generic type generictype enclosing type enclosingtype binding annotations wildcard binding wildcardbinding get wildcard getwildcard reference binding referencebinding generic type generictype rank type binding typebinding bound type binding typebinding other bounds otherbounds bound kind boundkind annotation binding annotationbinding annotations pseudo wildcard denoting composite bounds lub computation generic type generictype generic type generictype reference binding referencebinding lub generic type generictype has type annotations hastypeannotations illegal state exception illegalstateexception wildcard binding wildcardbinding naked type nakedtype type binding typebinding derived types derivedtypes get derived types getderivedtypes generic type generictype length derived types derivedtypes length length type binding typebinding derived type derivedtype derived types derivedtypes derived type derivedtype identity comparison derived type derivedtype is wildcard iswildcard derived type derivedtype actual type actualtype generic type generictype derived type derivedtype rank rank identity comparison derived type derivedtype bound kind boundkind bound kind boundkind derived type derivedtype bound bound util effectively equal effectivelyequal derived type derivedtype additional bounds additionalbounds other bounds otherbounds util effectively equal effectivelyequal derived type derivedtype get type annotations gettypeannotations annotations wildcard binding wildcardbinding derived type derivedtype derived type derivedtype has type annotations hastypeannotations naked type nakedtype wildcard binding wildcardbinding derived type derivedtype naked type nakedtype naked type nakedtype get wildcard getwildcard generic type generictype rank bound other bounds otherbounds bound kind boundkind have type annotations havetypeannotations generic type generictype bound other bounds otherbounds annotations naked type nakedtype wildcard binding wildcardbinding wildcard wildcard binding wildcardbinding generic type generictype rank bound other bounds otherbounds bound kind boundkind environment wildcard naked type nakedtype wildcard set type annotations settypeannotations annotations is annotation based null analysis enabled isannotationbasednullanalysisenabled wildcard binding wildcardbinding cache derived type cachederivedtype generic type generictype naked type nakedtype wildcard wildcard binding wildcardbinding get wildcard getwildcard reference binding referencebinding generic type generictype rank type binding typebinding bound type binding typebinding other bounds otherbounds bound kind boundkind get wildcard getwildcard generic type generictype rank bound other bounds otherbounds bound kind boundkind binding annotations type apply annotations components construction type reference middle middle construct binding middle annotate parts pqtr binding type binding typebinding get annotated type getannotatedtype type binding typebinding type annotation binding annotationbinding annotations type type is valid binding isvalidbinding annotations annotations length type type binding typebinding annotated type annotatedtype type kind binding array type array binding arraybinding array binding arraybinding array binding arraybinding type annotated type annotatedtype get array type getarraytype array binding arraybinding leaf component type leafcomponenttype array binding arraybinding dimensions flattened annotations flattenedannotations annotations binding base type binding type binding type binding parameterized type binding raw type binding type parameter binding wildcard type binding intersection type binding intersection type type is unresolved type isunresolvedtype char operation charoperation index of indexof type source name sourcename resolve member types enclosing type enclosingtype type binary type binding binarytypebinding resolve type resolvetype type environment levels type depth type binding typebinding types type binding typebinding levels types levels type type binding typebinding enclosing type enclosingtype type enclosing type enclosingtype enclosing type enclosingtype types levels enclosing type enclosingtype enclosing type enclosingtype enclosing type enclosingtype enclosing type enclosingtype locate outer most outermost type annotated beware annotations length types length qualified names qtr pqtr levels annotations length types length levels levels annotations annotations length empty annotations array levels type kosher broken type flagged invalid reporting compilation error don touch type types component annotated annotations annotations enclosing type enclosingtype types levels type binding typebinding current type currenttype types handling annotations locations care drop existing annotations annotation binding annotationbinding current annotations currentannotations annotations annotations length annotations current type currenttype get type annotations gettypeannotations annotated type annotatedtype get annotated type getannotatedtype current type currenttype enclosing type enclosingtype current annotations currentannotations enclosing type enclosingtype annotated type annotatedtype illegal state exception illegalstateexception annotated type annotatedtype sub routine subroutine api s apis create annotated version type materialize annotated version general purpose method designed deal type bindings types clone incoming type special izing specializing enclosing type annotated binding bindings readonly list non null nonnull string readonly list nullable string readonly list int erned interned string type binding typebinding get annotated type getannotatedtype type binding typebinding type type binding typebinding enclosing type enclosingtype annotation binding annotationbinding annotations type kind binding parameterized type get parameterized type getparameterizedtype type actual type actualtype type type arguments typearguments reference binding referencebinding enclosing type enclosingtype annotations type binding typebinding naked type nakedtype type binding typebinding derived types derivedtypes get derived types getderivedtypes type length derived types derivedtypes length length type binding typebinding derived type derivedtype derived types derivedtypes derived type derivedtype identity comparison derived type derivedtype enclosing type enclosingtype enclosing type enclosingtype util effectively equal effectivelyequal derived type derivedtype type arguments typearguments type type arguments typearguments type kind binding array type identity comparison derived type derivedtype is array type isarraytype derived type derivedtype dimensions type dimensions derived type derivedtype leaf component type leafcomponenttype type leaf component type leafcomponenttype binding raw type identity comparison derived type derivedtype is raw type israwtype derived type derivedtype actual type actualtype type actual type actualtype binding intersection type binding wildcard type identity comparison derived type derivedtype is wildcard iswildcard derived type derivedtype actual type actualtype type actual type actualtype derived type derivedtype rank type rank derived type derivedtype bound kind boundkind type bound kind boundkind identity comparison derived type derivedtype bound type bound util effectively equal effectivelyequal derived type derivedtype additional bounds additionalbounds type additional bounds additionalbounds derived type derivedtype kind binding array type binding raw type binding wildcard type binding intersection type binding intersection type util effectively equal effectivelyequal derived type derivedtype get type annotations gettypeannotations annotations derived type derivedtype derived type derivedtype has type annotations hastypeannotations naked type nakedtype derived type derivedtype naked type nakedtype naked type nakedtype get unannotated type getunannotatedtype type have type annotations havetypeannotations type enclosing type enclosingtype annotations naked type nakedtype type binding typebinding annotated type annotatedtype type clone enclosing type enclosingtype annotated type annotatedtype naked type nakedtype annotated type annotatedtype set type annotations settypeannotations annotations is annotation based null analysis enabled isannotationbasednullanalysisenabled is annotation based null analysis enabled isannotationbasednullanalysisenabled annotated type annotatedtype tag bits tagbits tag bits tagbits annotationnullmask propagate nullness overridden annotations annotated type annotatedtype tag bits tagbits type tag bits tagbits tag bits tagbits annotationnullmask type binding typebinding key type keytype type kind binding array type key type keytype type leaf component type leafcomponenttype binding raw type binding wildcard type key type keytype type actual type actualtype key type keytype naked type nakedtype cache derived type cachederivedtype key type keytype naked type nakedtype annotated type annotatedtype have type annotations havetypeannotations type binding typebinding base type basetype type binding typebinding some type sometype type binding typebinding some types sometypes annotation binding annotationbinding annotations base type basetype base type basetype has type annotations hastypeannotations some type sometype some type sometype has type annotations hastypeannotations length annotations annotations length length annotations length some types sometypes some types sometypes length length some types sometypes has type annotations hastypeannotations have type annotations havetypeannotations type binding typebinding leaf type leaftype annotation binding annotationbinding annotations have type annotations havetypeannotations leaf type leaftype annotations have type annotations havetypeannotations type binding typebinding member type membertype type binding typebinding enclosing type enclosingtype have type annotations havetypeannotations member type membertype enclosing type enclosingtype utility method flatten annotations multidimensional arrays encode annotations flat array sep arates separates annotations dimension dimension dim enion dimenion annotation binding annotationbinding flattened annotations flattenedannotations annotation binding annotationbinding annotations annotations annotations length binding annotations levels annotations length length levels levels length annotations annotations length length binding annotations annotation binding annotationbinding series annotation binding annotationbinding length levels annotations length annotationslength annotations annotations length annotations length annotationslength system arraycopy annotations series annotations length annotationslength annotations length annotationslength series length illegal state exception illegalstateexception series is annotated type system isannotatedtypesystem
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jgarms bea initial api implementation org eclipse jdt apt tests java file java io exception ioexception java util hash map hashmap java util linked hash map linkedhashmap java util map junit framework test junit framework test suite testsuite org eclipse core resources i folder ifolder org eclipse core runtime i path ipath org eclipse jdt apt core internal apt plugin aptplugin org eclipse jdt apt core internal factory plugin manager factorypluginmanager org eclipse jdt apt core internal generated file generatedfile generated source folder manager generatedsourcefoldermanager org eclipse jdt apt core internal util factory container factorycontainer org eclipse jdt apt core internal util factory path factorypath org eclipse jdt apt core internal util factory path util factorypathutil org eclipse jdt apt core internal util factory container factorycontainer factory type factorytype org eclipse jdt apt core util apt config aptconfig org eclipse jdt apt core util apt preference constants aptpreferenceconstants org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt core java model exception javamodelexception org eclipse jdt core tests util util preferences tests preferencestests apt test base apttestbase preferences tests preferencestests string test suite test suite testsuite preferences tests preferencestests test factory path encoding and dec oding testfactorypathencodinganddecoding exception encode map factory container factorycontainer factory path factorypath attributes factories linked hash map linkedhashmap factory container factorycontainer factory path factorypath attributes nls factory container factorycontainer jar factory jarfactory factory path util factorypathutil new ext jar factory container newextjarfactorycontainer file jar path factory path factorypath attributes jarfpa factory path factorypath attributes nls factory container factorycontainer jar factory jarfactory factory path util factorypathutil new ext jar factory container newextjarfactorycontainer file jar path factory path factorypath attributes jarfpa factory path factorypath attributes nls factory container factorycontainer plugin factory pluginfactory factory plugin manager factorypluginmanager get plugin factory container getpluginfactorycontainer org eclipse jdt apt tests factory path factorypath attributes pluginfpa factory path factorypath attributes factories jar factory jarfactory jarfpa factories jar factory jarfactory jarfpa factories plugin factory pluginfactory pluginfpa string xml factory path util factorypathutil encode factory path encodefactorypath factories assert equals assertequals serialized factories serializedfactories xml decode factories factory path util factorypathutil decode factory path decodefactorypath xml assert equals assertequals factories size map entry factory container factorycontainer factory path factorypath attributes entry factories entry set entryset factory container factorycontainer container entry get key getkey jar assert equals assertequals factory type factorytype extjar container get type gettype assert true asserttrue entry get value getvalue is enabled isenabled assert false assertfalse entry get value getvalue run in batch mode runinbatchmode jar assert equals assertequals factory type factorytype extjar container get type gettype assert true asserttrue entry get value getvalue is enabled isenabled assert true asserttrue entry get value getvalue run in batch mode runinbatchmode plugin assert equals assertequals factory type factorytype plugin container get type gettype assert false assertfalse entry get value getvalue is enabled isenabled assert equals assertequals nls org eclipse jdt apt tests nls container get id getid fail factory path factorypath unexpected number entries temp files path external jars platform diff erences differences prevent hard coding string string jar path string jar path file jar file jar jar file create temp file createtempfile test jar jar file create temp file createtempfile test jar jar path jar get absolute path getabsolutepath jar path jar get absolute path getabsolutepath io exception ioexception ioe runtime exception runtimeexception create temp jar files ioe jar jar delete jar jar delete string serialized factories serializedfactories factory path factorypath factory path entry factorypathentry kind extjar jar path enabled run in batch mode runinbatchmode factory path entry factorypathentry kind extjar jar path enabled run in batch mode runinbatchmode factory path entry factorypathentry kind plugin org eclipse jdt apt tests enabled run in batch mode runinbatchmode factory path factorypath test config api settings factory path exception test simple config api testsimpleconfigapi exception i java project ijavaproject jproj env get java project getjavaproject get project name getprojectname apt enabled aptenabled apt config aptconfig set enabled setenabled jproj assert false assertfalse apt config aptconfig is enabled isenabled jproj assert false assertfalse apt config aptconfig is enabled isenabled apt config aptconfig set enabled setenabled jproj assert true asserttrue apt config aptconfig is enabled isenabled jproj assert false assertfalse apt config aptconfig is enabled isenabled processor options processoroptions map string string wksp opts wkspopts hash map hashmap string string wksp opts wkspopts b val bval wksp opts wkspopts option punctuation apt config aptconfig set processor options setprocessoroptions wksp opts wkspopts map string string retrieved wksp opts retrievedwkspopts apt config aptconfig get raw processor options getrawprocessoroptions assert true asserttrue get raw processor options getrawprocessoroptions values set processor options setprocessoroptions wksp opts wkspopts equals retrieved wksp opts retrievedwkspopts map string string proj opts projopts hash map hashmap string string proj opts projopts a val aval proj opts projopts spaces spaces proj opts projopts foo bar apt config aptconfig set processor options setprocessoroptions proj opts projopts jproj map string string retrieved proj opts retrievedprojopts apt config aptconfig get raw processor options getrawprocessoroptions jproj assert true asserttrue get raw processor options getrawprocessoroptions values set processor options setprocessoroptions proj opts projopts equals retrieved proj opts retrievedprojopts wksp opts wkspopts clear wksp opts wkspopts noodle nubble wksp opts wkspopts spoo mack wumpus apt config aptconfig set processor options setprocessoroptions wksp opts wkspopts retrieved wksp opts retrievedwkspopts apt config aptconfig get raw processor options getrawprocessoroptions assert true asserttrue get raw processor options getrawprocessoroptions values set processor options setprocessoroptions wksp opts wkspopts equals retrieved wksp opts retrievedwkspopts proj opts projopts clear proj opts projopts smurf smurfs bad proj opts projopts baz qua ck quack quux apt config aptconfig set processor options setprocessoroptions proj opts projopts jproj retrieved proj opts retrievedprojopts apt config aptconfig get raw processor options getrawprocessoroptions jproj assert true asserttrue get raw processor options getrawprocessoroptions values set processor options setprocessoroptions proj opts projopts equals retrieved proj opts retrievedprojopts apt config aptconfig add processor option addprocessoroption jproj foo bar apt config aptconfig add processor option addprocessoroption jproj space text spaces apt config aptconfig add processor option addprocessoroption jproj quux adding apt config aptconfig add processor option addprocessoroption jproj quux map string string options apt config aptconfig get processor options getprocessoroptions jproj string val options foo assert equals assertequals val bar val options quux assert null assertnull val val options space assert equals assertequals val text spaces apt config aptconfig remove processor option removeprocessoroption jproj foo options apt config aptconfig get processor options getprocessoroptions jproj assert false assertfalse options contains key containskey foo assert true asserttrue options contains key containskey quux apt config aptconfig remove processor option removeprocessoroption jproj quux apt config aptconfig remove processor option removeprocessoroption jproj an option that does n anoptionthatdoesn t exist texist apt config aptconfig add processor option addprocessoroption workspace option apt config aptconfig add processor option addprocessoroption foo apt config aptconfig remove processor option removeprocessoroption foo options apt config aptconfig get processor options getprocessoroptions assert false assertfalse options contains key containskey foo assert true asserttrue options contains key containskey workspace option apt config aptconfig remove processor option removeprocessoroption workspace option test config api automatically generated options test auto matic options testautomaticoptions exception i java project ijavaproject jproj env get java project getjavaproject get project name getprojectname map string string options apt config aptconfig get processor options getprocessoroptions jproj string classpath options classpath assert not null assertnotnull classpath assert true asserttrue classpath length string source path sourcepath options source path sourcepath assert not null assertnotnull source path sourcepath assert true asserttrue source path sourcepath length string target options target assert equals assertequals target string source options source assert equals assertequals source string bind ir bindir options assert not null assertnotnull bind ir bindir assert true asserttrue bind ir bindir length string gen src dir auto gensrcdirauto options assert not null assertnotnull gen src dir auto gensrcdirauto assert true asserttrue gen src dir auto gensrcdirauto length test gen src dir testgensrcdir exception i java project ijavaproject jproj env get java project getjavaproject get project name getprojectname string gen src dir gensrcdir apt config aptconfig get gen src dir getgensrcdir jproj assert equals assertequals apt preference constants aptpreferenceconstants generated source folder gen src dir gensrcdir string new dir newdir gen src apt config aptconfig set gen src dir setgensrcdir jproj new dir newdir gen src dir gensrcdir apt config aptconfig get gen src dir getgensrcdir jproj assert equals assertequals new dir newdir gen src dir gensrcdir test series configuration generated file manager generatedfilemanager classpath ref lecting reflecting setup configuration setting includes enabling disabling apt configure generated source folder apt enabled comments method body detail testing scenarios exception test config gen src dir testconfiggensrcdir exception string project name projectname config test proj configtestproj i path ipath project path projectpath env add project addproject project name projectname env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs i java project ijavaproject java proj javaproj env get java project getjavaproject project name projectname apt enabled apt enabled aptenabled apt config aptconfig is enabled isenabled java proj javaproj test apt disabled assert equals assertequals apt enabled aptenabled generated source folder manager generatedsourcefoldermanager gsfm apt plugin aptplugin get apt project getaptproject java proj javaproj get generated source folder manager getgeneratedsourcefoldermanager i folder ifolder src folder srcfolder gsfm get folder getfolder string folder name foldername src folder srcfolder get project relative path getprojectrelativepath toosstring test apt disabled folder exists assert equals assertequals src folder srcfolder exists test folder configured folder assert equals assertequals folder name foldername apt preference constants aptpreferenceconstants generated source folder folder apt disabled string new name newname gen src dir gensrcdir apt config aptconfig set gen src dir setgensrcdir java proj javaproj new name newname src folder srcfolder gsfm get folder getfolder folder name foldername src folder srcfolder get project relative path getprojectrelativepath toosstring test apt disabled folder changed folder disk assert equals assertequals src folder srcfolder exists test assert equals assertequals new name newname folder name foldername test source folder classpath assert equals assertequals is on classpath isonclasspath java proj javaproj src folder srcfolder get full path getfullpath enable apt apt config aptconfig set enabled setenabled java proj javaproj apt enabled aptenabled apt config aptconfig is enabled isenabled java proj javaproj test enabled called api enable assert equals assertequals apt enabled aptenabled src folder srcfolder gsfm get folder getfolder folder name foldername src folder srcfolder get project relative path getprojectrelativepath toosstring test apt enabled source folder disk assert equals assertequals src folder srcfolder exists test matches assert equals assertequals new name newname folder name foldername test apt enabled folder classpath assert equals assertequals is on classpath isonclasspath java proj javaproj src folder srcfolder get full path getfullpath disable apt apt config aptconfig set enabled setenabled java proj javaproj apt enabled aptenabled apt config aptconfig is enabled isenabled java proj javaproj test disabled assert equals assertequals apt enabled aptenabled src folder srcfolder gsfm get folder getfolder folder name foldername src folder srcfolder get project relative path getprojectrelativepath toosstring test deleted source folder disable apt assert equals assertequals src folder srcfolder exists test didn overwrite configure folder assert equals assertequals new name newname folder name foldername test cleaned classpath assert equals assertequals is on classpath isonclasspath java proj javaproj src folder srcfolder get full path getfullpath is on classpath isonclasspath i java project ijavaproject java proj javaproj i path ipath path java model exception javamodelexception i classpath entry iclasspathentry java proj javaproj get raw classpath getrawclasspath length get path getpath equals path
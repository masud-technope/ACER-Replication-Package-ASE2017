copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mkaufman bea initial api implementation ibm corporation modified split files org eclipse jdt apt core internal java util array list arraylist java util collection java util collections java util hash map hashmap java util hash set hashset java util iterator java util linked hash set linkedhashset java util list java util map java util org eclipse core resources i file ifile org eclipse core resources i workspace iworkspace org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core resources resources plugin resourcesplugin org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse jdt apt core env p has e phase org eclipse jdt apt core internal env abstract compilation env abstractcompilationenv org eclipse jdt apt core internal env build env buildenv org eclipse jdt apt core internal env eclipse round complete event eclipseroundcompleteevent org eclipse jdt apt core internal env reconcile env reconcileenv org eclipse jdt apt core internal env abstract compilation env abstractcompilationenv env callback envcallback org eclipse jdt apt core internal generated file generatedfile generated file manager generatedfilemanager org eclipse jdt apt core internal util factory path factorypath org eclipse jdt apt core util apt config aptconfig org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core compiler build context buildcontext org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core compiler reconcile context reconcilecontext sun mirror apt annotation processor annotationprocessor sun mirror apt annotation processor factory annotationprocessorfactory sun mirror apt annotation processor listener annotationprocessorlistener sun mirror apt round complete listener roundcompletelistener sun mirror declaration annotation type declaration annotationtypedeclaration apt dispatch runnable aptdispatchrunnable i workspace runnable iworkspacerunnable callback method passed reconcile env reconcileenv called ast pipeline order process type reconcile reconciles involve type time recurse multiple instances stack time reconcile env callback reconcileenvcallback env callback envcallback reconcile context reconcilecontext context generated file manager generatedfilemanager gfm reconcile env callback reconcileenvcallback reconcile context reconcilecontext context generated file manager generatedfilemanager gfm context context gfm gfm abstract compilation env abstractcompilationenv env reconcile env callback reconcileenvcallback dealing reconcile env reconcileenv reconcile env reconcileenv reconcile env reconcileenv reconcile env reconcileenv env dispatch annotation processors env track problems generated types dispatch to file based processor dispatchtofilebasedprocessor reconcile env reconcileenv throwable apt plugin aptplugin log processor failure reconcile remove types generated reconcile file exists disk remove create blank working copy workingcopy hides remove java source files arbitrary files i compilation unit icompilationunit parentwc context get working copy getworkingcopy i file ifile newly generated files newlygeneratedfiles reconcile env reconcileenv get all generated files getallgeneratedfiles gfm delete obsolete types after reconcile deleteobsoletetypesafterreconcile parentwc newly generated files newlygeneratedfiles report problems reconcile context reconcilecontext list categorized problem categorizedproblem problem list problemlist reconcile env reconcileenv get problems getproblems num problems numproblems problem list problemlist size num problems numproblems categorized problem categorizedproblem apt cat problems aptcatproblems categorized problem categorizedproblem num problems numproblems context put problems putproblems apt plugin aptplugin apt compilation problem marker problem list problemlist to array toarray apt cat problems aptcatproblems env complete calls resetast context reconcile env reconcileenv close build context buildcontext files process build context buildcontext max files iteration build context buildcontext files with annotation fileswithannotation build context buildcontext files without annotation fileswithoutannotation map i file ifile categorized problem categorizedproblem problem recorder problemrecorder apt project aptproject apt project aptproject map annotation processor factory annotationprocessorfactory factory path factorypath attributes factories batch processor dispatched previous rounds annotation processor factory annotationprocessorfactory dispatched batch factories dispatchedbatchfactories batch processor dispatched current annotation processor factory annotationprocessorfactory current dispatch batch factories currentdispatchbatchfactories collections empty set emptyset is full build isfullbuild split files nls string split files property org eclipse jdt apt core split files string setting system get property getproperty split files property nls split files setting setting equals ignore case equalsignorecase annotation processor factory annotationprocessorfactory runaptduringbuild build context buildcontext files with annotations fileswithannotations build context buildcontext files without annotations fileswithoutannotations map i file ifile categorized problem categorizedproblem problem recorder problemrecorder apt project aptproject apt project aptproject map annotation processor factory annotationprocessorfactory factory path factorypath attributes factories annotation processor factory annotationprocessorfactory dispatched batch factories dispatchedbatchfactories is full build isfullbuild files with annotations fileswithannotations files with annotations fileswithannotations files process building types generated atomic workspace operation apt dispatch runnable aptdispatchrunnable runnable apt dispatch runnable aptdispatchrunnable files with annotations fileswithannotations files without annotations fileswithoutannotations problem recorder problemrecorder apt project aptproject factories dispatched batch factories dispatchedbatchfactories is full build isfullbuild i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace workspace runnable apt project aptproject get java project getjavaproject get resource getresource i workspace iworkspace avoid update core exception coreexception apt plugin aptplugin log apt runnable current dispatch batch factories currentdispatchbatchfactories runaptduringreconcile reconcile context reconcilecontext reconcile context reconcilecontext apt project aptproject apt project aptproject map annotation processor factory annotationprocessorfactory factory path factorypath attributes factories reconciling atomic workspace operation easy loc king locking issues calls reconcile workspace lock apt dispatch runnable aptdispatchrunnable runnable apt dispatch runnable aptdispatchrunnable apt project aptproject factories runnable reconcile reconcile context reconcilecontext apt project aptproject get java project getjavaproject create runnable build apt dispatch runnable aptdispatchrunnable build context buildcontext files with annotation fileswithannotation build context buildcontext files without annotation fileswithoutannotation map i file ifile categorized problem categorizedproblem problem recorder problemrecorder apt project aptproject apt project aptproject map annotation processor factory annotationprocessorfactory factory path factorypath attributes factories annotation processor factory annotationprocessorfactory dispatched batch factories dispatchedbatchfactories is full build isfullbuild nls files with annotation fileswithannotation missing files files with annotation fileswithannotation files with annotation fileswithannotation files without annotation fileswithoutannotation files without annotation fileswithoutannotation problem recorder problemrecorder problem recorder problemrecorder apt project aptproject apt project aptproject factories factories dispatched batch factories dispatchedbatchfactories dispatched batch factories dispatchedbatchfactories is full build isfullbuild is full build isfullbuild create runnable reconcile apt dispatch runnable aptdispatchrunnable apt project aptproject apt project aptproject map annotation processor factory annotationprocessorfactory factory path factorypath attributes factories apt project aptproject apt project aptproject factories factories is full build isfullbuild apply reconcile don generate file reconcile apt rounding occur result dispatched batch factories dispatchedbatchfactories collections empty set emptyset reconcile reconcile context reconcilecontext reconcile context reconcilecontext i java project ijavaproject java project javaproject factories size apt plugin aptplugin debug trace nls apt leaving project java project javaproject get project getproject early factories todo clean generated working copies wsh construct reconcile time environment invoke dispatch callback generated file manager generatedfilemanager gfm apt project aptproject get generated file manager getgeneratedfilemanager gfm reconcile started reconcilestarted env callback envcallback callback reconcile env callback reconcileenvcallback reconcile context reconcilecontext gfm abstract compilation env abstractcompilationenv new reconcile env newreconcileenv reconcile context reconcilecontext callback i progress monitor iprogressmonitor monitor build determine files processed code code iff apt processing occur code code apt files annotations factories dispatched earlier should build shouldbuild factories factories size dispatched batch factories dispatchedbatchfactories is empty isempty total files totalfiles files with annotation fileswithannotation files with annotation fileswithannotation length doc umented documented behavior mirror spec total files totalfiles dispatched batch factories dispatchedbatchfactories is empty isempty build should build shouldbuild tracing apt plugin aptplugin debug string msg factories factories size dispatched batch factories dispatchedbatchfactories is empty isempty msg annotation proc essory factory annotationprocessoryfactory instances registered msg files dispatch trace nls leaving project apt project aptproject get java project getjavaproject get project getproject early msg cleanup all generated files cleanupallgeneratedfiles files with annotation fileswithannotation invoked build mode env callback envcallback build callback buildcallback env callback envcallback abstract compilation env abstractcompilationenv env build build env buildenv env split don split files batch processors split files has batch factory hasbatchfactory split files with annotation fileswithannotation length max files iteration split construct build environment invokes build callback order open dom ast pipeline build env buildenv new build env newbuildenv files with annotation fileswithannotation files without annotation fileswithoutannotation apt project aptproject get java project getjavaproject build callback buildcallback https bugs eclipse org bugs bug cgi files with annotation fileswithannotation length number to process numbertoprocess max files iteration files with annotation fileswithannotation length files with annotation fileswithannotation length max files iteration build context buildcontext files to process filestoprocess build context buildcontext number to process numbertoprocess system arraycopy files with annotation fileswithannotation files to process filestoprocess number to process numbertoprocess construct build environment invokes build callback order open dom ast pipeline build env buildenv new build env newbuildenv files to process filestoprocess files without annotation fileswithoutannotation apt project aptproject get java project getjavaproject build callback buildcallback number to process numbertoprocess save file dependency java processing performed java apt project aptproject get generated file manager getgeneratedfilemanager write state writestate param factories code code iff factories batch mode has batch factory hasbatchfactory factory path factorypath attributes attr factories values attr run in batch mode runinbatchmode batch processor invoked clean build param factories param processor env processorenv code code iff batch processors dispatched code code code code batch processors should dispatch to batch processor shoulddispatchtobatchprocessor abstract compilation env abstractcompilationenv processor env processorenv is full build isfullbuild processor env processorenv get p has e getphase p has e phase build has batch factory hasbatchfactory run in file based mode runaptinfilebasedmode build env buildenv processor env processorenv build context buildcontext cp results cpresults processor env processorenv get files with annotation getfileswithannotation generated file manager generatedfilemanager gfm apt project aptproject get generated file manager getgeneratedfilemanager project enables reconcile projectenablesreconcile apt config aptconfig should process during reconcile shouldprocessduringreconcile apt project aptproject get java project getjavaproject build context buildcontext cur result curresult cp results cpresults processor env processorenv begin file processing beginfileprocessing cur result curresult dispatch to file based processor dispatchtofilebasedprocessor processor env processorenv project enables reconcile projectenablesreconcile report result reportresult cur result curresult processor env processorenv get all generated files getallgeneratedfiles processor env processorenv get modified generated files getmodifiedgeneratedfiles processor env processorenv get problems getproblems processor env processorenv get type dependencies gettypedependencies gfm processor env processorenv processor env processorenv completed file processing completedfileprocessing param cur result curresult param last generated files lastgeneratedfiles files generated previous apt param generated files generatedfiles files generated current apt param modified generated files modifiedgeneratedfiles generated files files differs previous param problems problems current apt param deps param gfm param processor env processorenv report result reportresult build context buildcontext cur result curresult i file ifile java generated files generatedfiles i file ifile modified generated files modifiedgeneratedfiles list categorized problem categorizedproblem problems string deps generated file manager generatedfilemanager gfm build env buildenv processor env processorenv combine files generated java java processing phases i file ifile all generated files allgeneratedfiles i file ifile java generated files generatedfiles apt compilation participant aptcompilationparticipant get instance getinstance get java getjava generated files generatedfiles java generated files generatedfiles java generated files generatedfiles is empty isempty java generated files generatedfiles is empty isempty all generated files allgeneratedfiles collections empty set emptyset all generated files allgeneratedfiles java generated files generatedfiles java generated files generatedfiles is empty isempty all generated files allgeneratedfiles java generated files generatedfiles all generated files allgeneratedfiles hash set hashset java generated files generatedfiles all generated files allgeneratedfiles add all addall java generated files generatedfiles figure deleted list i file ifile deleted files deletedfiles array list arraylist i file ifile parent file parentfile cur result curresult get file getfile cleanup no longer generated files cleanupnolongergeneratedfiles parent file parentfile all generated files allgeneratedfiles gfm processor env processorenv deleted files deletedfiles report newly created modified generated files num new files numnewfiles modified generated files modifiedgeneratedfiles size num new files numnewfiles i file ifile new files array newfilesarray i file ifile num new files numnewfiles cur result curresult record added generated files recordaddedgeneratedfiles modified generated files modifiedgeneratedfiles to array toarray new files array newfilesarray report deleted file num deleted files numdeletedfiles deleted files deletedfiles size num deleted files numdeletedfiles i file ifile deleted files array deletedfilesarray i file ifile num deleted files numdeletedfiles cur result curresult record deleted generated files recorddeletedgeneratedfiles deleted files deletedfiles to array toarray deleted files array deletedfilesarray report problems num problems numproblems problems size num problems numproblems categorized problem categorizedproblem cat problems array catproblemsarray categorized problem categorizedproblem num problems numproblems cur result curresult record new problems recordnewproblems problems to array toarray cat problems array catproblemsarray compilation participant problems report rep rocessing reprocessing file res ubmitted resubmitted problem recorder problemrecorder cur result curresult get file getfile cat problems array catproblemsarray report dependency num deps numdeps deps size num deps numdeps string deps array depsarray string num deps numdeps cur result curresult record dependencies recorddependencies deps to array toarray deps array depsarray mixed mode batch processor file d filed based param processor env processorenv param current round dispatched batch factories currentrounddispatchedbatchfactories output parameter batch factories dispatched runaptinmixedmode build env buildenv processor env processorenv build context buildcontext cp results cpresults processor env processorenv get files with annotation getfileswithannotation map build context buildcontext annotation type declaration annotationtypedeclaration file annotation decls annotationdecls hash map hashmap cp results cpresults length map string annotation type declaration annotationtypedeclaration annotation decls annotationdecls processor env processorenv get all annotation types getallannotationtypes file annotation decls annotationdecls annotation decls annotationdecls is empty isempty dispatched batch factories dispatchedbatchfactories is empty isempty apt plugin aptplugin debug trace runapt leaving early annotation decls annotationdecls empty processor env processorenv apt plugin aptplugin debug nls trace annotations annotation decls annotationdecls key set keyset processor env processorenv file based processing factory annotations claims map annotation processor factory annotationprocessorfactory annotation type declaration annotationtypedeclaration file factory filefactory annos hash map hashmap factories size batch processing factory annotations claims map annotation processor factory annotationprocessorfactory annotation type declaration annotationtypedeclaration batch factory batchfactory annos hash map hashmap factories size map entry annotation processor factory annotationprocessorfactory factory path factorypath attributes entry factories entry set entryset annotation processor factory annotationprocessorfactory factory entry get key getkey annotation type declaration annotationtypedeclaration annotation types annotationtypes get factory supported annotations getfactorysupportedannotations factory annotation decls annotationdecls annotation types annotationtypes batch entry get value getvalue run in batch mode runinbatchmode map annotation processor factory annotationprocessorfactory annotation type declaration annotationtypedeclaration factory annos batch batch factory batchfactory annos file factory filefactory annos annotation types annotationtypes size factory cla iming claiming remaining annotations annotation types annotationtypes hash set hashset annotation decls annotationdecls values factory annos factory annotation types annotationtypes annotation decls annotationdecls clear factory annos factory annotation types annotationtypes annotation decls annotationdecls is empty isempty annotation decls annotationdecls is empty isempty todo the odora theodora log unclaimed annotations batch processors executed full clean build batch factory batchfactory annos is empty isempty dispatched batch factories dispatchedbatchfactories dispatched batch factories dispatchedbatchfactories is empty isempty processor env processorenv begin batch processing beginbatchprocessing batch factory batchfactory annos is empty isempty figure factory claims annotation order factory doesn matter order consists runs dispatch base factory order current dispatch batch factories currentdispatchbatchfactories linked hash set linkedhashset annotation processor factory annotationprocessorfactory factory factories key set keyset annotation type declaration annotationtypedeclaration annotation types annotationtypes batch factory batchfactory annos factory annotation types annotationtypes annotation processor annotationprocessor processor factory get processor for getprocessorfor annotation types annotationtypes processor env processorenv processor apt plugin aptplugin debug trace runapt invoking batch processor nls processor get class getclass get name getname processor env processorenv current dispatch batch factories currentdispatchbatchfactories add factory processor env processorenv set current processor factory setcurrentprocessorfactory factory processor process processor env processorenv set current processor factory setcurrentprocessorfactory doc umented documented apt behavior observe annotation processor factory annotationprocessorfactory prev round factory prevroundfactory dispatched batch factories dispatchedbatchfactories current dispatch batch factories currentdispatchbatchfactories prev round factory prevroundfactory annotation processor annotationprocessor processor prev round factory prevroundfactory get processor for getprocessorfor collections annotation type declaration annotationtypedeclaration empty set emptyset processor env processorenv processor apt plugin aptplugin debug trace runapt invoking batch processor nls processor get class getclass get name getname processor env processorenv processor env processorenv set current processor factory setcurrentprocessorfactory prev round factory prevroundfactory processor process processor env processorenv set current processor factory setcurrentprocessorfactory put ting putting file annotations todo correct today problems reported i markers imarkers i problem iproblem build context buildcontext api jdt parent generated file relation doesn matter build context buildcontext attach creation modification deletion generated files the odora theodora build context buildcontext first result firstresult cp results cpresults length first result firstresult cp results cpresults build context buildcontext processor env processorenv get files without annotation getfileswithoutannotation length first result firstresult nls first result firstresult don report first result firstresult generated file manager generatedfilemanager gfm apt project aptproject get generated file manager getgeneratedfilemanager report result reportresult first result firstresult processor env processorenv get all generated files getallgeneratedfiles processor env processorenv get modified generated files getmodifiedgeneratedfiles empty batch mode processor env processorenv get problems getproblems empty batch mode processor env processorenv get type dependencies gettypedependencies gfm processor env processorenv processor env processorenv completed batch processing completedbatchprocessing file based dispatch file factory filefactory annos is empty isempty project enables reconcile projectenablesreconcile apt config aptconfig should process during reconcile shouldprocessduringreconcile apt project aptproject get java project getjavaproject build context buildcontext cur result curresult cp results cpresults annotation type declaration annotationtypedeclaration annotation types in file annotationtypesinfile file annotation decls annotationdecls cur result curresult annotation types in file annotationtypesinfile annotation types in file annotationtypesinfile is empty isempty annotation processor factory annotationprocessorfactory factory factories key set keyset annotation type declaration annotationtypedeclaration annotation types for factory annotationtypesforfactory file factory filefactory annos factory annotation types for factory annotationtypesforfactory annotation types for factory annotationtypesforfactory is empty isempty annotation type declaration annotationtypedeclaration int ersect intersect set int ersect setintersect annotation types in file annotationtypesinfile annotation types for factory annotationtypesforfactory int ersect intersect int ersect intersect is empty isempty processor env processorenv begin file processing beginfileprocessing cur result curresult annotation processor annotationprocessor processor factory get processor for getprocessorfor int ersect intersect processor env processorenv processor apt plugin aptplugin debug trace runapt invoking file based processor nls processor get class getclass get name getname processor env processorenv todo factory path attributes will reconcile willreconcile project enables reconcile projectenablesreconcile abstract compilation env abstractcompilationenv does factory support reconcile doesfactorysupportreconcile factory processor env processorenv set current processor factory setcurrentprocessorfactory factory will reconcile willreconcile processor process processor env processorenv set current processor factory setcurrentprocessorfactory generated file manager generatedfilemanager gfm apt project aptproject get generated file manager getgeneratedfilemanager report result reportresult cur result curresult processor env processorenv get all generated files getallgeneratedfiles processor env processorenv get modified generated files getmodifiedgeneratedfiles processor env processorenv get problems getproblems processor env processorenv get type dependencies gettypedependencies gfm processor env processorenv processor env processorenv completed file processing completedfileprocessing param project enables reconcile projectenablesreconcile reconcile time processing enabled current project param is reconcile isreconcile call reconcile processor env processorenv reconcile env reconcileenv dispatch to file based processor dispatchtofilebasedprocessor abstract compilation env abstractcompilationenv processor env processorenv project enables reconcile projectenablesreconcile is reconcile isreconcile map string annotation type declaration annotationtypedeclaration annotation decls annotationdecls processor env processorenv get annotation types getannotationtypes map entry annotation processor factory annotationprocessorfactory factory path factorypath attributes entry factories entry set entryset entry get value getvalue run in batch mode runinbatchmode annotation processor factory annotationprocessorfactory factory entry get key getkey todo factory path attributes reconcile supported reconcilesupported project enables reconcile projectenablesreconcile abstract compilation env abstractcompilationenv does factory support reconcile doesfactorysupportreconcile factory is reconcile isreconcile reconcile supported reconcilesupported annotation type declaration annotationtypedeclaration factory decls factorydecls get factory supported annotations getfactorysupportedannotations factory annotation decls annotationdecls factory decls factorydecls factory decls factorydecls size factory decls factorydecls hash set hashset annotation decls annotationdecls values annotation decls annotationdecls clear factory decls factorydecls factory decls factorydecls size annotation processor annotationprocessor processor factory get processor for getprocessorfor factory decls factorydecls processor env processorenv processor apt plugin aptplugin debug trace nls nls runapt invoking file based processor processor get class getclass get name getname processor env processorenv get file getfile processor env processorenv processor env processorenv set current processor factory setcurrentprocessorfactory factory reconcile supported reconcilesupported processor process processor env processorenv set current processor factory setcurrentprocessorfactory annotation decls annotationdecls is empty isempty annotation decls annotationdecls is empty isempty todo the odora theodora log unclaimed annotations param processor env processorenv param files with missing type fileswithmissingtype param internal round internalround param result output parameter annotation processor factory annotationprocessorfactory build build env buildenv processor env processorenv mixed mode dispatch mixedmodedispatch should dispatch to batch processor shoulddispatchtobatchprocessor processor env processorenv mixed mode dispatch mixedmodedispatch runaptinmixedmode processor env processorenv run in file based mode runaptinfilebasedmode processor env processorenv notify processor listeners annotation processor listener annotationprocessorlistener listeners processor env processorenv get processor listeners getprocessorlisteners eclipse round complete event eclipseroundcompleteevent event annotation processor listener annotationprocessorlistener listener listeners listener round complete listener roundcompletelistener event event eclipse round complete event eclipseroundcompleteevent processor env processorenv round complete listener roundcompletelistener rc listener rclistener round complete listener roundcompletelistener listener rc listener rclistener round complete roundcomplete event files without annotation fileswithoutannotation cleanup all generated files from cleanupallgeneratedfilesfrom files without annotation fileswithoutannotation log unclaimed annotations error get class getclass get name getname starts with startswith junit framework apt plugin aptplugin log warning logwarning unexpected failure running apt file get file names for printing getfilenamesforprinting processor env processorenv throwable apt plugin aptplugin log warning logwarning unexpected failure running apt file get file names for printing getfilenamesforprinting processor env processorenv processor env processorenv close collections empty set emptyset param param int ersect intersect sets annotation type declaration annotationtypedeclaration set int ersect setintersect annotation type declaration annotationtypedeclaration annotation type declaration annotationtypedeclaration annotation type declaration annotationtypedeclaration int ersect intersect annotation type declaration annotationtypedeclaration obj obj int ersect intersect int ersect intersect hash set hashset int ersect intersect add obj int ersect intersect cleanup all generated files cleanupallgeneratedfiles cleanup all generated files from cleanupallgeneratedfilesfrom files with annotation fileswithannotation cleanup all generated files from cleanupallgeneratedfilesfrom files without annotation fileswithoutannotation cleanup all generated files from cleanupallgeneratedfilesfrom build context buildcontext cp results cpresults cp results cpresults i file ifile deleted hash set hashset generated file manager generatedfilemanager gfm apt project aptproject get generated file manager getgeneratedfilemanager i file ifile java generated files generatedfiles apt compilation participant aptcompilationparticipant get instance getinstance get java getjava generated files generatedfiles build context buildcontext cp result cpresult cp results cpresults i file ifile parent file parentfile cp result cpresult get file getfile cleanup no longer generated files cleanupnolongergeneratedfiles parent file parentfile java generated files generatedfiles gfm deleted deleted size i file ifile deleted files array deletedfilesarray i file ifile deleted size cp result cpresult record deleted generated files recorddeletedgeneratedfiles deleted to array toarray deleted files array deletedfilesarray remove files generated parent file generated build pass called build phase reconcile param parent build context buildcontext single compiled parent file param last generated files lastgeneratedfiles files generated parent previous build typically gfm prior current build param new generated files newgeneratedfiles files generated parent current build typically stored build env buildenv empty passed remove generated files parent param gfm param processor env processorenv param deleted cleanup no longer generated files cleanupnolongergeneratedfiles i file ifile parent file parentfile i file ifile new generated files newgeneratedfiles generated file manager generatedfilemanager gfm build env buildenv processor env processorenv collection i file ifile deleted deleted add all addall gfm delete obsolete files after build deleteobsoletefilesafterbuild parent file parentfile new generated files newgeneratedfiles link annotation type declaration annotationtypedeclaration link factory supports factory doesn support declarations factory supports empty returned method dest ructively destructively modify link declarations entries removed link declarations declarations returned annotation type declaration annotationtypedeclaration get factory supported annotations getfactorysupportedannotations annotation processor factory annotationprocessorfactory factory map string annotation type declaration annotationtypedeclaration declarations collection string supported types supportedtypes factory supported annotation types supportedannotationtypes supported types supportedtypes supported types supportedtypes size collections empty set emptyset annotation type declaration annotationtypedeclaration f decls fdecls hash set hashset iterator string supported types supportedtypes iterator has next hasnext string type name typename nls type name typename equals f decls fdecls add all addall declarations values declarations clear warn claimed opt imal optimal apt plugin aptplugin log warning logwarning nls processor factory factory claimed annotations prevents factories dispatched nls type name typename ends with endswith string prefix type name typename substring type name typename length iterator map entry string annotation type declaration annotationtypedeclaration entries declarations entry set entryset iterator entries has next hasnext map entry string annotation type declaration annotationtypedeclaration entry entries string key entry get key getkey key starts with startswith prefix f decls fdecls add entry get value getvalue entries remove annotation type declaration annotationtypedeclaration decl declarations type name typename decl f decls fdecls add decl declarations remove type name typename f decls fdecls is empty isempty f decls fdecls trace string abstract compilation env abstractcompilationenv processor env processorenv apt plugin aptplugin debug processor env processorenv nls nls nls phase processor env processorenv get p has e getphase file get file names for printing getfilenamesforprinting processor env processorenv apt plugin aptplugin trace string get file names for printing getfilenamesforprinting abstract compilation env abstractcompilationenv env env reconcile env reconcileenv env get file getfile get name getname get file names for printing getfilenamesforprinting build env buildenv env debug ging debugging statements names files processing string get file names for printing getfilenamesforprinting build env buildenv processor env processorenv i file ifile file processor env processorenv get file getfile file file get name getname build context buildcontext processor env processorenv get files with annotation getfileswithannotation len length len nls file get file getfile get name getname string builder stringbuilder string builder stringbuilder first item firstitem build context buildcontext cur result curresult first item firstitem first item firstitem nls append append cur result curresult get file getfile get name getname to string tostring
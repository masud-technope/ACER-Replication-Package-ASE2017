copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mkaufman bea initial api implementation ibm corporation remove deprecated warning org eclipse jdt apt tests junit framework test junit framework test suite testsuite org eclipse core resources i file ifile org eclipse core resources resources plugin resourcesplugin org eclipse core runtime preferences instance scope instancescope org eclipse jdt apt core internal apt plugin aptplugin org eclipse jdt apt core internal generated file generatedfile generated file manager generatedfilemanager org eclipse jdt apt core util apt config aptconfig org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core tests model modifying resource tests modifyingresourcetests apt reconcile tests aptreconciletests modifying resource tests modifyingresourcetests i java project ijavaproject jproject apt reconcile tests aptreconciletests string test suite test suite testsuite apt reconcile tests aptreconciletests test generated file testgeneratedfile throwable string fname test folder testfolder java errors annotation commented string code with errors codewitherrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld create file createfile fname code with errors codewitherrors problem requestor problemrequestor problem requestor problemrequestor set up working copy setupworkingcopy fname code with errors codewitherrors working copy workingcopy reconcile i compilation unit icompilationunit ast string expected problems expectedproblems error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved assert problems assertproblems unexpected problems expected problems expectedproblems errors annotations string code with out errors codewithouterrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld set working copy contents setworkingcopycontents code with out errors codewithouterrors working copy workingcopy reconcile i compilation unit icompilationunit ast assert problems assertproblems unexpected problems unexpectedproblems throwable print stack trace printstacktrace delete file deletefile fname tests annotation generates file annotation generates file error parent file todo enable test sporadically flaky find throwable test nested generated file testnestedgeneratedfile throwable string fname test folder testfolder java errors annotation commented string code with errors codewitherrors test org eclipse jdt apt tests annotations nested helloworld nestedhelloworld nested hello world annotation nestedhelloworldannotation nested hello world annotation nestedhelloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld create file createfile fname code with errors codewitherrors problem requestor problemrequestor problem requestor problemrequestor set up working copy setupworkingcopy fname code with errors codewitherrors working copy workingcopy reconcile i compilation unit icompilationunit ast string expected problems expectedproblems error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved assert problems assertproblems unexpected problems expected problems expectedproblems errors annotations string code with out errors codewithouterrors test org eclipse jdt apt tests annotations nested helloworld nestedhelloworld nested hello world annotation nestedhelloworldannotation nested hello world annotation nestedhelloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld set working copy contents setworkingcopycontents code with out errors codewithouterrors working copy workingcopy reconcile i compilation unit icompilationunit ast assert problems assertproblems unexpected problems unexpectedproblems throwable print stack trace printstacktrace delete file deletefile fname test stop gen erating file in reconciler teststopgeneratingfileinreconciler exception string fname test folder testfolder java errors annotation commented string code with errors codewitherrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld create file createfile fname code with errors codewitherrors problem requestor problemrequestor problem requestor problemrequestor set up working copy setupworkingcopy fname code with errors codewitherrors working copy workingcopy reconcile i compilation unit icompilationunit ast string expected problems expectedproblems error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved assert problems assertproblems unexpected problems expected problems expectedproblems errors annotations string code with out errors codewithouterrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld set working copy contents setworkingcopycontents code with out errors codewithouterrors working copy workingcopy reconcile i compilation unit icompilationunit ast assert problems assertproblems unexpected problems unexpectedproblems errors annotations set working copy contents setworkingcopycontents code with errors codewitherrors working copy workingcopy reconcile i compilation unit icompilationunit ast string expected problems expectedproblems error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved assert problems assertproblems unexpected problems expected problems expectedproblems exception print stack trace printstacktrace tests working copy discarded clean cached data generated file manager generatedfilemanager test discard parent working copy testdiscardparentworkingcopy throwable string fname test folder testfolder java string code with out errors codewithouterrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld create file createfile fname code with out errors codewithouterrors problem requestor problemrequestor problem requestor problemrequestor set up working copy setupworkingcopy fname code with out errors codewithouterrors problem requestor remove errors occurred set up working copy setupworkingcopy problem requestor problemrequestor problem requestor problemrequestor working copy workingcopy reconcile i compilation unit icompilationunit ast assert problems assertproblems unexpected problems unexpectedproblems i java project ijavaproject working copy workingcopy get java project getjavaproject generated file manager generatedfilemanager gfm apt plugin aptplugin get apt project getaptproject get generated file manager getgeneratedfilemanager gfm contains working copy map entries for parent containsworkingcopymapentriesforparent i file ifile working copy workingcopy get resource getresource fail expected find map entries generated file manager generatedfilemanager working copy workingcopy discard working copy discardworkingcopy gfm contains working copy map entries for parent containsworkingcopymapentriesforparent i file ifile working copy workingcopy get resource getresource fail unexpected map entries generated file manager generatedfilemanager delete file deletefile fname test basic reconcile testbasicreconcile exception string fname test folder testfolder java string code test org eclipse jdt apt tests annotations api test apitest common main string argv create file createfile fname code problem requestor problemrequestor problem requestor problemrequestor set up working copy setupworkingcopy fname code working copy workingcopy reconcile i compilation unit icompilationunit ast assert problems assertproblems unexpected problems unexpectedproblems delete file deletefile fname test no reconcile testnoreconcile throwable start disabling reconcile time processing apt config aptconfig set process during reconcile setprocessduringreconcile jproject string fname test folder testfolder java errors annotation commented string code with errors codewitherrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld create file createfile fname code with errors codewitherrors problem requestor problemrequestor problem requestor problemrequestor set up working copy setupworkingcopy fname code with errors codewitherrors working copy workingcopy reconcile i compilation unit icompilationunit ast string expected problems expectedproblems error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved assert problems assertproblems unexpected problems expected problems expectedproblems errors annotations reconcile string code with out errors codewithouterrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld set working copy contents setworkingcopycontents code with out errors codewithouterrors working copy workingcopy reconcile i compilation unit icompilationunit ast string expected problems expectedproblems error test project testproject src test java generatedfilepackage generated file test generatedfiletest hello world helloworld generatedfilepackage resolved assert problems assertproblems unexpected problems expected problems expectedproblems enable reconcile time processing errors apt config aptconfig set process during reconcile setprocessduringreconcile jproject string code with out errors codewithouterrors test org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation main string argv generatedfilepackage generated file test generatedfiletest hello world helloworld set working copy contents setworkingcopycontents code with out errors codewithouterrors working copy workingcopy reconcile i compilation unit icompilationunit ast assert problems assertproblems unexpected problems unexpectedproblems throwable print stack trace printstacktrace delete file deletefile fname set up setup exception increments project test helps sporadic thr eading threading problems w harley wharley test project num testprojectnum test project testproject test project test project num testprojectnum test folder testfolder test project testproject src test apt plugin aptplugin trace setting test project testproject set up setup disable auto build don build time type generation int erfering interfering reconcile tests string key resources plugin resourcesplugin pref auto building instance scope instancescope instance get node getnode resources plugin resourcesplugin resources put boolean putboolean key problem requestor problemrequestor problem requestor problemrequestor i java project ijavaproject project create java project createjavaproject test project testproject string src string jcl lib bin test util testutil create and add annotation jar createandaddannotationjar project apt config aptconfig set enabled setenabled project create folder createfolder test folder testfolder jproject project tear down teardown exception jproject apt plugin aptplugin trace tearing test project testproject delete project deleteproject test project testproject tear down teardown copied reconciler tests reconcilertests set working copy contents setworkingcopycontents string contents java model exception javamodelexception working copy workingcopy get buffer getbuffer set contents setcontents contents problem requestor problemrequestor initialize contents to char array tochararray suppress warnings suppresswarnings deprecation set up working copy setupworkingcopy string path string contents java model exception javamodelexception working copy workingcopy working copy workingcopy discard working copy discardworkingcopy working copy workingcopy get compilation unit getcompilationunit path get working copy getworkingcopy working copy owner workingcopyowner problem requestor problemrequestor set working copy contents setworkingcopycontents contents working copy workingcopy make consistent makeconsistent assert problems assertproblems string message string expected assert problems assertproblems message expected problem requestor problemrequestor i compilation unit icompilationunit working copy workingcopy problem requestor problemrequestor problem requestor problemrequestor string test project testproject string test folder testfolder test project num testprojectnum nls string test project apt reconcile tests aptreconciletests get name getname project
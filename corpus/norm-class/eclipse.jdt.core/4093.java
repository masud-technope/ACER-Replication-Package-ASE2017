copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors tyeung bea initial api implementation org eclipse jdt apt tests java file junit framework test junit framework test suite testsuite org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse jdt apt core internal util factory container factorycontainer org eclipse jdt apt core internal util factory path factorypath org eclipse jdt apt core internal util factory path util factorypathutil org eclipse jdt apt core util apt config aptconfig org eclipse jdt core i java project ijavaproject mixed mode testing mixedmodetesting apt test base apttestbase external annotation jar file ext jar extjar mixed mode testing mixedmodetesting string test suite test suite testsuite mixed mode testing mixedmodetesting set up setup exception set up setup i java project ijavaproject java proj javaproj env get java project getjavaproject get project name getprojectname ext jar extjar test util testutil create and add external annotation jar createandaddexternalannotationjar java proj javaproj factory path factorypath factory path factorypath apt config aptconfig get factory path getfactorypath java proj javaproj factory container factorycontainer factory path util factorypathutil new ext jar factory container newextjarfactorycontainer ext jar extjar add entry to head addentrytohead is enabled isenabled run in batch mode runinbatchmode apt config aptconfig set factory path setfactorypath java proj javaproj batch processor involved test processor environment returns correct declared types test simple batch processing testsimplebatchprocessing exception i project iproject project env get project getproject get project name getprojectname i path ipath src root srcroot get source path getsourcepath string code a codea org eclipse jdt apt tests external annotations batch batch env add class addclass src root srcroot code a codea string code b codeb deprecated env add class addclass src root srcroot code b codeb string code c codec org eclipse jdt apt tests external annotations batch batch env add class addclass src root srcroot code c codec doesn annotations string code d coded env add class addclass src root srcroot code d coded full build fullbuild project get full path getfullpath expecting no problems expectingnoproblems expecting markers expectingmarkers string completed success fully completedsuccessfully tests test internal apt rounding occurs correctly batch mode core exception coreexception test rounding in mixed mode testaptroundinginmixedmode i project iproject project env get project getproject get project name getprojectname i path ipath src root srcroot get source path getsourcepath string code x codex org eclipse jdt apt tests annotations apt rounding aptrounding gen bean genbean env add class addclass src root srcroot code x codex string code y codey org eclipse jdt apt tests annotations apt rounding aptrounding gen bean genbean test bean bean env add class addclass src root srcroot code y codey string code a codea org eclipse jdt apt tests external annotations batch batch env add class addclass src root srcroot code a codea string code b codeb deprecated env add class addclass src root srcroot code b codeb string code c codec org eclipse jdt apt tests external annotations batch batch env add class addclass src root srcroot code c codec doesn annotations string code d coded env add class addclass src root srcroot code d coded full build fullbuild project get full path getfullpath expecting markers expectingmarkers string completed success fully completedsuccessfully called times expecting no problems expectingnoproblems verify class loader classloader bounced full build fullbuild project get full path getfullpath expecting markers expectingmarkers string completed success fully completedsuccessfully called times expecting no problems expectingnoproblems test tests total rounds starts batch gen batchgen annotations creates gen type starts batch processor dispatched previous type generated creates gen type starts exact reason test rounding in mixed mode testaptroundinginmixedmode i project iproject project env get project getproject get project name getprojectname i path ipath src root srcroot get source path getsourcepath string code a codea org eclipse jdt apt tests external annotations batch gen batch gen batchgen clazz clazz env add class addclass src root srcroot code a codea drop pos sibily possibily fire incremental build string code b codeb env add class addclass src root srcroot code b codeb full build fullbuild project get full path getfullpath expecting no problems expectingnoproblems expecting markers expectingmarkers string called time
copyright google rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors john glassmyer jogl google group sorting broken https bugs eclipse org org eclipse jdt internal core dom rewrite imports java util array list arraylist java util collection java util collections java util comparator java util hash map hashmap java util hash set hashset java util list java util map java util navigable set navigableset java util tree set treeset keeping existing imports existing order ins erts inserts adjacent existing imports totally ordered sort existing imports adjacent existing order adjacent existing shares longer prefix dot separated segments order preserving import adder orderpreservingimportadder import adder importadder adjacent imports adjacentimports collection import name importname imports before importsbefore array list arraylist import name importname collection import name importname imports after importsafter array list arraylist import name importname override string to string tostring nls string format imports before importsbefore to string tostring imports after importsafter to string tostring returns number pref ixing prefixing dot separated segments shared names code count matching prefix segments countmatchingprefixsegments foo pack foo pack code count matching prefix segments countmatchingprefixsegments foo pack foo pack count matching prefix segments countmatchingprefixsegments string string is empty isempty is empty isempty matching segments matchingsegments length length at end of name atendofname segment length char at charat at end of name atendofname segment length char at charat at end of name atendofname segment at end of name atendofname segment matching segments matchingsegments at end of name atendofname segment at end of name atendofname segment char at charat char at charat matching segments matchingsegments comparator import name importname import comparator importcomparator order preserving import adder orderpreservingimportadder comparator import name importname import comparator importcomparator import comparator importcomparator import comparator importcomparator override list import name importname add imports addimports collection import name importname existing imports existingimports collection import name importname imports to add importstoadd imports to add importstoadd is empty isempty array list arraylist import name importname existing imports existingimports list import name importname sorted new imports sortednewimports array list arraylist import name importname imports to add importstoadd sorted new imports sortednewimports remove all removeall hash set hashset import name importname existing imports existingimports collections sort sorted new imports sortednewimports import comparator importcomparator existing imports existingimports is empty isempty sorted new imports sortednewimports map import name importname adjacent imports adjacentimports adjacent new imports adjacentnewimports determine adjacent new imports determineadjacentnewimports array list arraylist import name importname existing imports existingimports sorted new imports sortednewimports list import name importname imports with add itions importswithadditions array list arraylist import name importname existing imports existingimports size sorted new imports sortednewimports size import name importname existing import existingimport existing imports existingimports remove adjacent imports don inserted multiple times duplicate imports adjacent imports adjacentimports adjacent imports adjacentimports adjacent new imports adjacentnewimports remove existing import existingimport adjacent imports adjacentimports imports with add itions importswithadditions add all addall adjacent imports adjacentimports imports before importsbefore imports with add itions importswithadditions add existing import existingimport adjacent imports adjacentimports imports with add itions importswithadditions add all addall adjacent imports adjacentimports imports after importsafter imports with add itions importswithadditions determines imports place existing returns map key existing adjacent imports adjacentimports imports existing existing param existing imports existingimports existing imports param sorted new imports sortednewimports imports order sorted import comparator importcomparator map import name importname adjacent imports adjacentimports determine adjacent new imports determineadjacentnewimports collection import name importname existing imports existingimports iterable import name importname sorted new imports sortednewimports navigable set navigableset import name importname existing imports tree set existingimportstreeset tree set treeset import name importname import comparator importcomparator existing imports tree set existingimportstreeset add all addall existing imports existingimports map import name importname adjacent imports adjacentimports adjacent new imports adjacentnewimports hash map hashmap import name importname adjacent imports adjacentimports import name importname existing import existingimport existing imports existingimports adjacent new imports adjacentnewimports existing import existingimport adjacent imports adjacentimports import name importname new import newimport sorted new imports sortednewimports import name importname preceding existing import precedingexistingimport existing imports tree set existingimportstreeset new import newimport import name importname succeeding existing import succeedingexistingimport existing imports tree set existingimportstreeset higher new import newimport should group with succeeding shouldgroupwithsucceeding new import newimport preceding existing import precedingexistingimport succeeding existing import succeedingexistingimport adjacent new imports adjacentnewimports succeeding existing import succeedingexistingimport imports before importsbefore add new import newimport adjacent new imports adjacentnewimports preceding existing import precedingexistingimport imports after importsafter add new import newimport adjacent new imports adjacentnewimports returns existing succeed sorted order existing precede sorted order should group with succeeding shouldgroupwithsucceeding import name importname new import newimport import name importname preceding existing import precedingexistingimport import name importname succeeding existing import succeedingexistingimport preceding existing import precedingexistingimport succeeding existing import succeedingexistingimport string container name containername new import newimport container name containername prefix shared with preceding prefixsharedwithpreceding count matching prefix segments countmatchingprefixsegments container name containername preceding existing import precedingexistingimport container name containername prefix shared with succeeding prefixsharedwithsucceeding count matching prefix segments countmatchingprefixsegments container name containername succeeding existing import succeedingexistingimport container name containername prefix shared with succeeding prefixsharedwithsucceeding prefix shared with preceding prefixsharedwithpreceding
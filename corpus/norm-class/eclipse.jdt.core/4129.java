copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests compiler parser java buffered reader bufferedreader java file java file output stream fileoutputstream java io exception ioexception java input stream reader inputstreamreader java output stream writer outputstreamwriter java util locale org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core tests util abstract compiler test abstractcompilertest org eclipse jdt core tests util util org eclipse jdt internal code assist codeassist complete completion parser completionparser org eclipse jdt internal code assist codeassist select selection parser selectionparser org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler default error handling policies defaulterrorhandlingpolicies org eclipse jdt internal compiler document element parser documentelementparser org eclipse jdt internal compiler i document element requestor idocumentelementrequestor org eclipse jdt internal compiler i source element requestor isourceelementrequestor org eclipse jdt internal compiler source element parser sourceelementparser org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org eclipse jdt internal compiler ast expression org eclipse jdt internal compiler ast import reference importreference org eclipse jdt internal compiler batch compilation unit compilationunit org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler env i compilation unit icompilationunit org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler lookup compilation unit scope compilationunitscope org eclipse jdt internal compiler parser parser org eclipse jdt internal compiler problem default problem defaultproblem org eclipse jdt internal compiler problem default problem factory defaultproblemfactory org eclipse jdt internal compiler problem problem reporter problemreporter org eclipse jdt internal core search indexing indexing parser indexingparser org eclipse jdt internal core util comment recorder parser commentrecorderparser abstract syntax tree test abstractsyntaxtreetest abstract compiler test abstractcompilertest i document element requestor idocumentelementrequestor i source element requestor isourceelementrequestor check parser check completion parser check selection parser check document element parser check comment recorder parser check source element parser check indexing parser check javac parser check check parser check completion parser check selection parser check document element parser check comment recorder parser check source element parser check indexing parser optimize string literals optimizestringliterals string reference compiler referencecompiler string reference compiler tests scratch area referencecompilertestsscratcharea abstract syntax tree test abstractsyntaxtreetest string string reference compiler referencecompiler string reference compiler tests scratch area referencecompilertestsscratcharea reference compiler referencecompiler reference compiler referencecompiler reference compiler tests scratch area referencecompilertestsscratcharea reference compiler tests scratch area referencecompilertestsscratcharea check parse checkparse parser to check parsertocheck source string expected syntax error diagnosis expectedsyntaxerrordiagnosis string test name testname string expected unit to string expectedunittostring ast visitor astvisitor visitor io exception ioexception compiler options compileroptions options compiler options compileroptions get compiler options getcompileroptions options compliance level compliancelevel class file constants classfileconstants jdk options source level sourcelevel class file constants classfileconstants jdk options targetjdk class file constants classfileconstants jdk i compilation unit icompilationunit source unit sourceunit compilation result compilationresult compilation result compilationresult compilation unit declaration compilationunitdeclaration unit reference compiler referencecompiler parser to check parsertocheck check javac parser string java file path javafilepath reference compiler tests scratch area referencecompilertestsscratcharea xyz java file file java file path javafilepath file output stream fileoutputstream file output stream fileoutputstream output stream writer outputstreamwriter output stream writer outputstreamwriter write source close process runtime get runtime getruntime exec string reference compiler referencecompiler source path sourcepath reference compiler tests scratch area referencecompilertestsscratcharea java file path javafilepath file reference compiler tests scratch area referencecompilertestsscratcharea buffered reader bufferedreader stdout buffered reader bufferedreader input stream reader inputstreamreader get input stream getinputstream buffered reader bufferedreader stderr buffered reader bufferedreader input stream reader inputstreamreader get error stream geterrorstream string stderr read line readline system println stdout read line readline system println assert true asserttrue javac unhappy wait for waitfor interrupted exception interruptedexception system err println skipped javac behavior check int errupt interrupt parser to check parsertocheck check parser parser parser parser problem reporter problemreporter default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems options default problem factory defaultproblemfactory locale get default getdefault optimize string literals optimizestringliterals source unit sourceunit compilation unit compilationunit source test name testname compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring visitor unit traverse visitor compilation unit scope compilationunitscope parser parser to check parsertocheck check completion parser completion parser completionparser parser completion parser completionparser problem reporter problemreporter default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems options default problem factory defaultproblemfactory locale get default getdefault compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult integer max parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring parser parser to check parsertocheck check selection parser selection parser selectionparser parser selection parser selectionparser problem reporter problemreporter default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems options default problem factory defaultproblemfactory locale get default getdefault compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult integer max integer max parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring parser parser to check parsertocheck check document element parser document element parser documentelementparser parser document element parser documentelementparser default problem factory defaultproblemfactory locale get default getdefault options compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring parser parser to check parsertocheck check comment recorder parser comment recorder parser commentrecorderparser parser comment recorder parser commentrecorderparser problem reporter problemreporter default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems options default problem factory defaultproblemfactory locale get default getdefault optimize string literals optimizestringliterals compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring parser parser to check parsertocheck check source element parser source element parser sourceelementparser parser source element parser sourceelementparser default problem factory defaultproblemfactory locale get default getdefault options optimize string literals optimizestringliterals compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring parser parser to check parsertocheck check indexing parser indexing parser indexingparser parser indexing parser indexingparser default problem factory defaultproblemfactory locale get default getdefault options optimize string literals optimizestringliterals compilation result compilationresult compilation result compilationresult source unit sourceunit unit parser parse source unit sourceunit compilation result compilationresult parser get method bodies getmethodbodies unit assert dianostic equals assertdianosticequals expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname compilation result compilationresult assert parse tree equals assertparsetreeequals expected unit to string expectedunittostring unit to string tostring parser check parse checkparse parser to check parsertocheck source string expected syntax error diagnosis expectedsyntaxerrordiagnosis string test name testname string expected unit to string expectedunittostring io exception ioexception check parse checkparse parser to check parsertocheck source expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname expected unit to string expectedunittostring check parse checkparse source string expected syntax error diagnosis expectedsyntaxerrordiagnosis string test name testname string expected unit to string expectedunittostring io exception ioexception check parse checkparse check source expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname expected unit to string expectedunittostring check parse checkparse source string expected syntax error diagnosis expectedsyntaxerrordiagnosis string test name testname string expected unit to string expectedunittostring ast visitor astvisitor visitor io exception ioexception check parse checkparse check source expected syntax error diagnosis expectedsyntaxerrordiagnosis test name testname expected unit to string expectedunittostring visitor assert parse tree equals assertparsetreeequals string expected unit to string expectedunittostring string computed unit to string computedunittostring checking digest expected unit to string expectedunittostring expected unit to string expectedunittostring equals computed unit to string computedunittostring system println util display string displaystring computed unit to string computedunittostring assert equals assertequals parse tree wrong util convert to independant line delimiter converttoindependantlinedelimiter expected unit to string expectedunittostring util convert to independant line delimiter converttoindependantlinedelimiter computed unit to string computedunittostring assert dianostic equals assertdianosticequals string expected syntax error diagnosis expectedsyntaxerrordiagnosis string test name testname compilation result compilationresult compilation result compilationresult string computed syntax error diagnosis computedsyntaxerrordiagnosis get compiler messages getcompilermessages compilation result compilationresult assert equals assertequals invalid syntax error diagnosis test name testname util convert to independant line delimiter converttoindependantlinedelimiter expected syntax error diagnosis expectedsyntaxerrordiagnosis util convert to independant line delimiter converttoindependantlinedelimiter computed syntax error diagnosis computedsyntaxerrordiagnosis string get compiler messages getcompilermessages compilation result compilationresult compilation result compilationresult string buffer stringbuffer buffer string buffer stringbuffer compilation result compilationresult has problems hasproblems compilation result compilationresult has tasks hastasks categorized problem categorizedproblem problems compilation result compilationresult get all problems getallproblems count problems length problem count problemcount unit source unitsource compilation result compilationresult compilation unit compilationunit get contents getcontents count problems problem count problemcount buffer append problem count problemcount buffer append problem count problemcount problems is error iserror error warning buffer append string problems get originating file name getoriginatingfilename replace buffer append default problem defaultproblem problems error report source errorreportsource unit source unitsource buffer append buffer append problems get message getmessage buffer append exception buffer append string computed syntax error diagnosis computedsyntaxerrordiagnosis buffer to string tostring computed syntax error diagnosis computedsyntaxerrordiagnosis accept import acceptimport declaration start declarationstart declaration end declarationend java doc positions javadocpositions name start position namestartposition on demand ondemand modifiers accept initializer acceptinitializer declaration start declarationstart declaration end declarationend java doc positions javadocpositions modifiers modifiers start modifiersstart body start bodystart body end bodyend accept line separator positions acceptlineseparatorpositions positions accept package acceptpackage declaration start declarationstart declaration end declarationend java doc positions javadocpositions name start position namestartposition accept problem acceptproblem categorized problem categorizedproblem problem enter class enterclass declaration start declarationstart java doc positions javadocpositions modifiers modifiers start modifiersstart class start classstart name start namestart name end nameend superclass superclass start superclassstart superclass end superclassend super interfaces superinterfaces super interface starts superinterfacestarts super interface ends superinterfaceends body start bodystart enter compilation unit entercompilationunit enter constructor enterconstructor declaration start declarationstart java doc positions javadocpositions modifiers modifiers start modifiersstart name start namestart name end nameend parameter types parametertypes parameter type starts parametertypestarts parameter type ends parametertypeends parameter names parameternames parameter name starts parameternamestarts parameter name ends parameternameends parameters end parametersend exception types exceptiontypes exception type starts exceptiontypestarts exception type ends exceptiontypeends body start bodystart enter field enterfield declaration start declarationstart java doc positions javadocpositions modifiers modifiers start modifiersstart type type start typestart type end typeend type dimension count typedimensioncount name start namestart name end nameend extended type dimension count extendedtypedimensioncount extended type dimension end extendedtypedimensionend enter interface enterinterface declaration start declarationstart java doc positions javadocpositions modifiers modifiers start modifiersstart interface start interfacestart name start namestart name end nameend super interfaces superinterfaces super interface starts superinterfacestarts super interface ends superinterfaceends body start bodystart enter method entermethod declaration start declarationstart java doc positions javadocpositions modifiers modifiers start modifiersstart return type returntype return type start returntypestart return type end returntypeend return type dimension count returntypedimensioncount name start namestart name end nameend parameter types parametertypes parameter type starts parametertypestarts parameter type ends parametertypeends parameter names parameternames parameter name starts parameternamestarts parameter name ends parameternameends parameters end parametersend extended return type dimension count extendedreturntypedimensioncount extended return type dimension end extendedreturntypedimensionend exception types exceptiontypes exception type starts exceptiontypestarts exception type ends exceptiontypeends body start bodystart exit class exitclass body end bodyend declaration end declarationend exit compilation unit exitcompilationunit declaration end declarationend exit constructor exitconstructor body end bodyend declaration end declarationend exit field exitfield body end bodyend declaration end declarationend exit interface exitinterface body end bodyend declaration end declarationend exit method exitmethod body end bodyend declaration end declarationend accept annotation type reference acceptannotationtypereference annotation source start sourcestart source end sourceend accept annotation type reference acceptannotationtypereference annotation source position sourceposition accept constructor reference acceptconstructorreference type name typename arg count argcount source position sourceposition accept field reference acceptfieldreference field name fieldname source position sourceposition accept import acceptimport declaration start declarationstart declaration end declarationend name start namestart name end nameend tokens on demand ondemand modifiers accept method reference acceptmethodreference method name methodname arg count argcount source position sourceposition accept package acceptpackage import reference importreference import reference importreference accept type reference accepttypereference type name typename source start sourcestart source end sourceend accept type reference accepttypereference type name typename source position sourceposition accept unknown reference acceptunknownreference source start sourcestart source end sourceend accept unknown reference acceptunknownreference source position sourceposition enter constructor enterconstructor method info methodinfo method info methodinfo enter field enterfield field info fieldinfo field info fieldinfo enter initializer enterinitializer declaration start declarationstart modifiers enter method entermethod method info methodinfo method info methodinfo enter type entertype type info typeinfo type info typeinfo exit constructor exitconstructor declaration end declarationend exit field exitfield initialization start initializationstart declaration end declarationend declaration source end declarationsourceend exit initializer exitinitializer declaration end declarationend exit method exitmethod declaration end declarationend expression default value defaultvalue exit type exittype declaration end declarationend
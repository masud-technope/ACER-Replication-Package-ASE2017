copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal eval java util map org eclipse jdt core compiler org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler compiler org eclipse jdt internal compiler i compiler requestor icompilerrequestor org eclipse jdt internal compiler i problem factory iproblemfactory org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception org eclipse jdt internal compiler env i binary type ibinarytype org eclipse jdt internal compiler env i name environment inameenvironment variables eval uator evaluator comp iles compiles global variables evaluation context returns files reports problems variables variables evaluator variablesevaluator evaluator evaluation constants evaluationconstants creates global variables eval uator evaluator variables evaluator variablesevaluator evaluation context evaluationcontext context i name environment inameenvironment environment map string string options i requestor irequestor requestor i problem factory iproblemfactory problem factory problemfactory context environment options requestor problem factory problemfactory org eclipse jdt internal eval evaluator add evaluation result for compilation problem addevaluationresultforcompilationproblem map evaluation result evaluationresult results by ds resultsbyids categorized problem categorizedproblem problem cu source cusource evaluation type internal problem evaluationid cu source cusource evaluation type evaluationtype evaluation result evaluationresult internal pb line pbline problem get source line number getsourcelinenumber current line currentline check declaration package name packagename get package name getpackagename package name packagename length pb line pbline evaluation type evaluationid package name packagename evaluation type evaluationtype evaluation result evaluationresult shift number source start source problem set source line number setsourcelinenumber problem set source start setsourcestart problem set source end setsourceend evaluationid length current line currentline check imports imports context imports current line currentline pb line pbline pb line pbline current line currentline imports length evaluation type evaluationid imports pb line pbline current line currentline evaluation type evaluationtype evaluation result evaluationresult shift number source start source problem set source line number setsourcelinenumber problem set source start setsourcestart problem set source end setsourceend evaluationid length skip declaration current line currentline imports length check variable declarations var count varcount context variable count variablecount current line currentline pb line pbline pb line pbline current line currentline var count varcount global variable globalvariable context variables pb line pbline current line currentline evaluation type evaluationid get name getname evaluation type evaluationtype evaluation result evaluationresult variable shift number source start source pb start pbstart problem get source start getsourcestart declaration start declarationstart pb end pbend problem get source end getsourceend declaration start declarationstart type length typelength get type name gettypename length pb start pbstart pb end pbend type length typelength problem type variable problem set source line number setsourcelinenumber problem variable type length space pb start pbstart type length typelength type length space pb end pbend type length typelength problem set source line number setsourcelinenumber problem set source start setsourcestart pb start pbstart problem set source end setsourceend pb end pbend needed longer current line currentline check variable initializers var count varcount global variable globalvariable context variables initializer get initializer getinitializer initializer length initializerlength initializer initializer length initializer start initializerstart problem get source start getsourcestart problem get source end getsourceend initializer start initializerstart length problem variable ignore reported checking declaration init expression start initexpressionstart problem get source start getsourcestart problem get source end getsourceend init expression start initexpressionstart initializer length initializerlength evaluation type evaluationid evaluation type evaluationtype evaluation result evaluationresult variable shift number source start source problem set source line number setsourcelinenumber pb line pbline initializer line start initializerlinestart problem set source start setsourcestart problem get source start getsourcestart init expression start initexpressionstart problem set source end setsourceend problem get source end getsourceend init expression start initexpressionstart evaluation result evaluationresult result results by ds resultsbyids evaluationid result results by ds resultsbyids evaluationid evaluation result evaluationresult evaluationid evaluation type evaluationtype categorized problem categorizedproblem problem result add problem addproblem problem org eclipse jdt internal eval evaluator get class name getclassname char operation charoperation concat evaluation constants evaluationconstants global vars prefix integer to string tostring evaluation context evaluationcontext counter to char array tochararray creates returns compiler eval uator evaluator compiler get compiler getcompiler i compiler requestor icompilerrequestor compiler requestor compilerrequestor compiler compiler get compiler getcompiler compiler requestor compilerrequestor initialize compiler lookup environment compiled i binary type ibinarytype binary type binarytype context get root code snippet binary getrootcodesnippetbinary binary type binarytype compiler lookup environment lookupenvironment cache binary type cachebinarytype binary type binarytype access restriction installed global variable classes variables info variablesinfo installed vars installedvars context installed vars installedvars installed vars installedvars class file classfile class files classfiles installed vars installedvars class files classfiles class files classfiles length class file classfile class file classfile class files classfiles i binary type ibinarytype binary binary class file reader classfilereader class file classfile get bytes getbytes class format exception classformatexception print stack trace printstacktrace compiler lookup environment lookupenvironment cache binary type cachebinarytype binary access restriction compiler returns current compilation unit get package name getpackagename context package name packagename org eclipse jdt internal eval evaluator get source getsource string buffer stringbuffer buffer string buffer stringbuffer line number offset linenumberoffset declaration package name packagename get package name getpackagename package name packagename length nls buffer append buffer append package name packagename buffer append append context line separator lineseparator line number offset linenumberoffset declarations imports context imports imports length nls buffer append buffer append imports buffer append append context line separator lineseparator line number offset linenumberoffset declaration nls buffer append buffer append get class name getclassname nls buffer append buffer append nls buffer append buffer append root nls buffer append append context line separator lineseparator line number offset linenumberoffset field declarations global variable globalvariable vars context variables variables info variablesinfo installed vars installedvars context installed vars installedvars context variable count variablecount global variable globalvariable vars nls buffer append tpublic declaration start declarationstart buffer length buffer append type name typename nls buffer append var name varname buffer append var name varname buffer append append context line separator lineseparator line number offset linenumberoffset field initial izations initializations nls buffer append tstatic append context line separator lineseparator line number offset linenumberoffset context variable count variablecount global variable globalvariable vars var name varname global variable globalvariable installed var installedvar installed vars installedvars installed vars installedvars var name d varnamed var name varname installed var installedvar char operation charoperation equals installed var installedvar type name typename type name typename initialize initializer previous initializer initializer initializer nls buffer append ttry append nls context line separator lineseparator line number offset linenumberoffset initializer line start initializerlinestart line number offset linenumberoffset nls buffer append nls initializer start initializerstart buffer length buffer append var name varname nls buffer append nls init expression start initexpressionstart buffer length buffer append initializer line number offset linenumberoffset number of rs numberofcrs initializer buffer append append context line separator lineseparator nls buffer append throwable append nls context line separator lineseparator nls buffer append print stack trace printstacktrace append nls context line separator lineseparator nls buffer append append nls context line separator lineseparator line number offset linenumberoffset c rs crs initialize previous type nls buffer append buffer append var name varname nls buffer append installed package name installedpackagename installed vars installedvars package name packagename installed package name installedpackagename installed package name installedpackagename length buffer append installed package name installedpackagename nls buffer append nls buffer append installed vars installedvars class name classname nls buffer append buffer append var name varname buffer append append context line separator lineseparator line number offset linenumberoffset nls buffer append append context line separator lineseparator declaration buffer append append context line separator lineseparator result length buffer length result length buffer get chars getchars length result result returns number cariage returns included source number of rs numberofcrs source number of rs numberofcrs last was r lastwascr source length current char currentchar source current char currentchar last was r lastwascr number of rs numberofcrs merge last was r lastwascr merge number of rs numberofcrs last was r lastwascr last was r lastwascr number of rs numberofcrs
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors tyeung bea initial api implementation org eclipse jdt apt core internal env java util array list arraylist java util collection java util collections java util hash map hashmap java util hash set hashset java util list java util map java util org eclipse core resources i file ifile org eclipse core runtime core exception coreexception org eclipse core runtime i status istatus org eclipse jdt apt core env eclipse annotation processor environment eclipseannotationprocessorenvironment org eclipse jdt apt core env p has e phase org eclipse jdt apt core internal apt plugin aptplugin org eclipse jdt apt core internal declaration eclipse mirror object eclipsemirrorobject org eclipse jdt apt core internal declaration type declaration impl typedeclarationimpl org eclipse jdt apt core internal env message r impl messagerimpl severity org eclipse jdt apt core internal util factory org eclipse jdt apt core internal util visit ors visitors annotation visitor annotationvisitor org eclipse jdt apt core util apt preference constants aptpreferenceconstants org eclipse jdt apt core util eclipse message r eclipsemessager org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core java conventions javaconventions org eclipse jdt core java core javacore org eclipse jdt core compiler build context buildcontext org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core compiler reconcile context reconcilecontext org eclipse jdt core dom ast requestor astrequestor org eclipse jdt core dom annotation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i binding ibinding org eclipse jdt core dom i type binding itypebinding sun mirror apt annotation processor factory annotationprocessorfactory sun mirror apt annotation processor listener annotationprocessorlistener sun mirror apt file r filer sun mirror declaration annotation type declaration annotationtypedeclaration base environment reconcile build abstract compilation env abstractcompilationenv base processor env baseprocessorenv eclipse annotation processor environment eclipseannotationprocessorenvironment bug zilla bugzilla accept aenable type generation in editor aenabletypegenerationineditor enable type generation in editor enabletypegenerationineditor nls string rttg enabled dash option apt preference constants aptpreferenceconstants rttg enabled option nls string processing editor disabled dash option apt preference constants aptpreferenceconstants processing editor disabled option annotation processor listener annotationprocessorlistener listeners list apt problem aptproblem problems array list arraylist is closed isclosed env callback envcallback callback i file ifile all generated source files allgeneratedsourcefiles hash set hashset i file ifile modified generated source files modifiedgeneratedsourcefiles hash set hashset open dom pipeline request type bindings ast requestor astrequestor requestor processor executed processing under way underway annotation processor factory annotationprocessorfactory current processor factory currentprocessorfactory active processor called reconcile build takes account project settings factory path processor options current processor factory will reconcile currentprocessorfactorywillreconcile env callback envcallback abstract compilation env abstractcompilationenv env new reconcile env newreconcileenv reconcile context reconcilecontext reconcile context reconcilecontext env callback envcallback callback nls reconcile context reconcilecontext reconcile context reconcile env reconcileenv env reconcile env reconcileenv new env newenv reconcile context reconcilecontext env callback callback env open pipeline openpipeline new build env newbuildenv build context buildcontext files with annotations fileswithannotations build context buildcontext additional files additionalfiles i java project ijavaproject java proj javaproj env callback envcallback callback nls files with annotations fileswithannotations missing files not e note reading files build env buildenv env build env buildenv files with annotations fileswithannotations additional files additionalfiles java proj javaproj env callback callback env createasts files with annotations fileswithannotations determine processor called reconcile processors called build reconcile processor choose called reconcile reporting link apt preference constants aptpreferenceconstants processing editor disabled option supported options supportedoptions method processor reports processing editor disabled option project factory path settings does factory support reconcile doesfactorysupportreconcile annotation processor factory annotationprocessorfactory factory collection string options factory supported options supportedoptions options options apt preference constants aptpreferenceconstants processing editor disabled option options processing editor disabled dash option abstract compilation env abstractcompilationenv compilation unit compilationunit compilation unit compilationunit i file ifile file i java project ijavaproject java proj javaproj p has e phase phase compilation unit compilationunit file java proj javaproj phase override i binding ibinding get binding from key getbindingfromkey string key i compilation unit icompilationunit unit requestor create bindings createbindings string key add listener addlistener annotation processor listener annotationprocessorlistener listener check valid checkvalid listeners listeners hash set hashset listeners add listener remove listener removelistener annotation processor listener annotationprocessorlistener listener check valid checkvalid listeners listeners remove listener annotation processor listener annotationprocessorlistener get processor listeners getprocessorlisteners listeners collections empty set emptyset removes response callback hash set hashset listeners map string string get options getoptions hash map hashmap string string options hash map hashmap options nls options phase get p has e getphase to string tostring options compilation unit compilationunit getastfrom i file ifile file compilation unit compilationunit getast ast root astroot eclipse message r eclipsemessager get message r getmessager check valid checkvalid message r impl messagerimpl add message addmessage i file ifile resource start severity severity string msg string arguments list categorized problem categorizedproblem get problems getproblems check valid checkvalid problems is empty isempty env util envutil update problem length updateproblemlength problems get ast compilation unit getastcompilationunit problems apt problem aptproblem create problem createproblem i file ifile resource start severity severity string msg string arguments i problem iproblem offsets inclusive dom layer offsets exclusive apt problem aptproblem new problem newproblem apt problem aptproblem msg severity resource start arguments current processor factory will reconcile currentprocessorfactorywillreconcile new problem newproblem file r filer get file r getfiler add generated source file addgeneratedsourcefile i file ifile contents changed contentschanged nls to string tostring ends with endswith java nls illegal argument exception illegalargumentexception source files java source files java added to all addedtoall all generated source files allgeneratedsourcefiles add added to mod addedtomod contents changed contentschanged added to mod addedtomod modified generated source files modifiedgeneratedsourcefiles add apt plugin aptplugin debug compilation env apt plugin aptplugin trace nls nls add generated file env add to all addtoall added to all addedtoall add to mod addtomod nls nls added to mod addedtomod nls contents changed contentschanged nls contents changed contentschanged add generated non source file addgeneratednonsourcefile i file ifile file all generated source files allgeneratedsourcefiles add file i file ifile get all generated files getallgeneratedfiles all generated source files allgeneratedsourcefiles i file ifile get modified generated files getmodifiedgeneratedfiles modified generated source files modifiedgeneratedsourcefiles iff source files generated environment closed has generated source files hasgeneratedsourcefiles all generated source files allgeneratedsourcefiles is empty isempty annotation types current compilation unit map string annotation type declaration annotationtypedeclaration get annotation types getannotationtypes check valid checkvalid list annotation instances array list arraylist map string annotation type declaration annotationtypedeclaration decls hash map hashmap annotation visitor annotationvisitor visitor annotation visitor annotationvisitor instances ast root astroot accept visitor instance index instanceindex size instances size instance index instanceindex size instance index instanceindex annotation instance instances instance index instanceindex i type binding itypebinding anno type annotype instance resolve type binding resolvetypebinding anno type annotype type declaration impl typedeclarationimpl decl factory create reference type createreferencetype anno type annotype decl decl kind eclipse mirror object eclipsemirrorobject mirror kind mirrorkind type annotation annotation type declaration annotationtypedeclaration anno decl annodecl annotation type declaration annotationtypedeclaration decl decls anno decl annodecl get qualified name getqualifiedname anno decl annodecl decls check valid checkvalid is closed isclosed nls illegal state exception illegalstateexception environment expired call file build env buildenv begin file processing beginfileprocessing completed processing completedprocessing modified generated source files modifiedgeneratedsourcefiles clear close is closed isclosed listeners listeners clear problems type cache typecache clear package roots cache packagerootscache is closed isclosed callback requestor all generated source files allgeneratedsourcefiles modified generated source files modifiedgeneratedsourcefiles apt plugin aptplugin debug compilation env apt plugin aptplugin trace nls closed env is closed isclosed is closed isclosed check type name typename ensure doesn bogus characters param type name typename core exception coreexception validate type name validatetypename string type name typename core exception coreexception map string string options get java project getjavaproject get options getoptions string source level sourcelevel options java core javacore compiler source string compliance level compliancelevel options java core javacore compiler compliance i status istatus status java conventions javaconventions validate java type name validatejavatypename type name typename source level sourcelevel compliance level compliancelevel status matches i status istatus error core exception coreexception status annotation processor factory annotationprocessorfactory get current processor factory getcurrentprocessorfactory current processor factory currentprocessorfactory param factory processor factory processing param will reconcile willreconcile processor called reconcile build account project settings factory path processor options set current processor factory setcurrentprocessorfactory annotation processor factory annotationprocessorfactory factory will reconcile willreconcile current processor factory currentprocessorfactory factory current processor factory will reconcile currentprocessorfactorywillreconcile will reconcile willreconcile currentprocessorsupportsrttg annotation processor factory annotationprocessorfactory factory get current processor factory getcurrentprocessorfactory factory collection string options factory supported options supportedoptions options options apt preference constants aptpreferenceconstants rttg enabled option options rttg enabled dash option
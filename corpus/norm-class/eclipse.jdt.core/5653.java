copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler codegen label org eclipse jdt internal compiler flow flow context flowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler flow looping flow context loopingflowcontext org eclipse jdt internal compiler lookup array binding arraybinding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup parameterized type binding parameterizedtypebinding org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type constants typeconstants for each statement foreachstatement statement local declaration localdeclaration element variable elementvariable element variable implicit widening elementvariableimplicitwidening expression collection statement action kind for each foreach kind kinds iter ating iterating behavior array raw iterable iterable array element type d arrayelementtypeid loop labels label break label breaklabel label continue label continuelabel block scope blockscope scope secret variables codegen local variable binding localvariablebinding index variable indexvariable store collection expression local variable binding localvariablebinding collection variable collectionvariable local variable binding localvariablebinding max variable maxvariable secret variable names nls secret index variable name secretindexvariablename to char array tochararray nls secret collection variable name secretcollectionvariablename collection to char array tochararray nls secret max variable name secretmaxvariablename max to char array tochararray post collection init state index postcollectioninitstateindex merged init state index mergedinitstateindex for each statement foreachstatement local declaration localdeclaration element variable elementvariable expression collection start element variable elementvariable element variable elementvariable collection collection source start sourcestart start kind flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo initialize labels break label breaklabel label continue label continuelabel label process element variable collection flow info flowinfo element variable elementvariable analyse code analysecode scope flow context flowcontext flow info flowinfo flow info flowinfo collection analyse code analysecode scope flow context flowcontext flow info flowinfo element variable assigned iter ating iterating flow info flowinfo mark as definitely assigned markasdefinitelyassigned element variable elementvariable binding post collection init state index postcollectioninitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates flow info flowinfo process action looping flow context loopingflowcontext looping context loopingcontext looping flow context loopingflowcontext flow context flowcontext break label breaklabel continue label continuelabel scope flow info flowinfo action info actioninfo flow info flowinfo inits when true initswhentrue copy action action is empty block isemptyblock current scope currentscope environment options compliance level compliancelevel class file constants classfileconstants jdk action complain if unreachable complainifunreachable action info actioninfo scope action info actioninfo action analyse code analysecode scope looping context loopingcontext action info actioninfo code generation optimized loop action info actioninfo is reachable isreachable looping context loopingcontext inits on continue initsoncontinue is reachable isreachable continue label continuelabel action info actioninfo action info actioninfo merged with mergedwith looping context loopingcontext inits on continue initsoncontinue unconditional inits unconditionalinits looping context loopingcontext complain on final assignments in loop complainonfinalassignmentsinloop scope action info actioninfo element variable action action is empty block isemptyblock action bits is useful empty statement k isusefulemptystatementmask kind array collection variable collectionvariable use flag useflag local variable binding localvariablebinding index variable indexvariable use flag useflag local variable binding localvariablebinding max variable maxvariable use flag useflag local variable binding localvariablebinding raw iterable iterable index variable indexvariable use flag useflag local variable binding localvariablebinding loop flow info flowinfo merged info mergedinfo flow info flowinfo merged optimized branches mergedoptimizedbranches looping context loopingcontext inits on break initsonbreak flow info flowinfo inits when false initswhenfalse unreachable merged info mergedinfo statement code generation param current scope currentscope org eclipse jdt internal compiler lookup block scope blockscope param code stream codestream org eclipse jdt internal compiler codegen code stream codestream generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream bits isreachablemask code stream codestream position action action is empty block isemptyblock action bits is useful empty statement k isusefulemptystatementmask code stream codestream exit user scope exituserscope scope merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream record positions from recordpositionsfrom source start sourcestart generate initial izations initializations kind array collection generate code generatecode scope code stream codestream code stream codestream store collection variable collectionvariable code stream codestream iconst code stream codestream store index variable indexvariable code stream codestream load collection variable collectionvariable code stream codestream array length arraylength code stream codestream store max variable maxvariable raw iterable iterable collection generate code generatecode scope code stream codestream declaring class declaringclass iterator type binding typebinding collection type binding collectiontypebinding collection resolved type resolvedtype method binding methodbinding iterator method binding iteratormethodbinding method binding methodbinding acc public accpublic nls iterator to char array tochararray scope get java util iterator getjavautiliterator type constants typeconstants no parameters noparameters type constants typeconstants no exceptions noexceptions reference binding referencebinding collection type binding collectiontypebinding collection type binding collectiontypebinding is interface isinterface code stream codestream invokeinterface iterator method binding iteratormethodbinding code stream codestream invokevirtual iterator method binding iteratormethodbinding code stream codestream store index variable indexvariable label management label action label actionlabel label code stream codestream label condition label conditionlabel label code stream codestream break label breaklabel initialize code stream codestream continue label continuelabel continue label continuelabel initialize code stream codestream jump action block actionblock code stream codestream condition label conditionlabel generate loop action action label actionlabel place generate loop action element variable elementvariable binding resolved position resolvedposition kind array code stream codestream load collection variable collectionvariable code stream codestream load index variable indexvariable code stream codestream array at arrayat array element type d arrayelementtypeid element variable implicit widening elementvariableimplicitwidening code stream codestream generate implicit conversion generateimplicitconversion element variable implicit widening elementvariableimplicitwidening code stream codestream store element variable elementvariable binding raw iterable iterable code stream codestream load index variable indexvariable code stream codestream invoke java util iterator next invokejavautiliteratornext element variable elementvariable binding type java lang object javalangobject code stream codestream check cast checkcast element variable elementvariable binding type code stream codestream store element variable elementvariable binding code stream codestream add visible local variable addvisiblelocalvariable element variable elementvariable binding post collection init state index postcollectioninitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope post collection init state index postcollectioninitstateindex action generate code generatecode scope code stream codestream continuation point continuationpc code stream codestream position continue label continuelabel continue label continuelabel place generate increments iteration kind array code stream codestream iinc index variable indexvariable resolved position resolvedposition raw iterable iterable generate condition condition label conditionlabel place post collection init state index postcollectioninitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope post collection init state index postcollectioninitstateindex kind array code stream codestream load index variable indexvariable code stream codestream load max variable maxvariable code stream codestream icmplt action label actionlabel raw iterable iterable code stream codestream load index variable indexvariable code stream codestream invoke java util iterator has next invokejavautiliteratorhasnext code stream codestream ifne action label actionlabel code stream codestream record positions from recordpositionsfrom continuationpc element variable elementvariable source start sourcestart break label breaklabel place code stream codestream exit user scope exituserscope scope merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream record positions from recordpositionsfrom source start sourcestart string buffer stringbuffer print statement printstatement tab string buffer stringbuffer output nls print indent printindent tab output append element variable elementvariable print output nls output append nls collection print output append block action output append output append nls action print statement printstatement tab output output resolve block scope blockscope upper scope upperscope scope hold init declarations scope block scope blockscope upper scope upperscope collection expression item variable itemvariable element variable elementvariable resolve scope type binding typebinding element type elementtype element variable elementvariable type resolved type resolvedtype type binding typebinding collection type collectiontype collection resolve type resolvetype scope collection compute conversion computeconversion scope collection type collectiontype collection type collectiontype has error haserror element type elementtype collection type collectiontype has error haserror collection type collectiontype is array type isarraytype kind array type binding typebinding collection element type collectionelementtype array binding arraybinding collection type collectiontype elements type elementstype collection element type collectionelementtype is compatible with iscompatiblewith element type elementtype scope problem reporter problemreporter not compatible types error in for each notcompatibletypeserrorinforeach collection collection element type collectionelementtype element type elementtype conversion array element type d arrayelementtypeid collection element type collectionelementtype element type elementtype is base type isbasetype element variable implicit widening elementvariableimplicitwidening element type elementtype array element type d arrayelementtypeid collection type collectiontype reference binding referencebinding reference binding referencebinding iterable type iterabletype reference binding referencebinding collection type collectiontype find super type erasing to findsupertypeerasingto java lang iterable javalangiterable iterable iterable type iterabletype iterable iterable type iterabletype is parameterized type isparameterizedtype parameterized type binding parameterizedtypebinding parameterized type parameterizedtype parameterized type binding parameterizedtypebinding iterable type iterabletype construction parameterized type parameterizedtype arguments length kind iterable type binding typebinding collection element type collectionelementtype parameterized type parameterizedtype arguments collection element type collectionelementtype is compatible with iscompatiblewith element type elementtype scope problem reporter problemreporter not compatible types error in for each notcompatibletypeserrorinforeach collection collection element type collectionelementtype element type elementtype conversion needed reference types iterable iterable iterable type iterabletype is generic type isgenerictype iterable type iterabletype type variables typevariables length kind iterable type binding typebinding collection element type collectionelementtype iterable type iterabletype type variables typevariables collection element type collectionelementtype is compatible with iscompatiblewith element type elementtype scope problem reporter problemreporter not compatible types error in for each notcompatibletypeserrorinforeach collection collection element type collectionelementtype element type elementtype object iterable iterable type iterabletype is raw type israwtype kind raw iterable type binding typebinding collection element type collectionelementtype scope get java lang object getjavalangobject collection element type collectionelementtype is compatible with iscompatiblewith element type elementtype scope problem reporter problemreporter not compatible types error in for each notcompatibletypeserrorinforeach collection collection element type collectionelementtype element type elementtype conversion needed reference types kind array all ocate allocate secret variable type index variable indexvariable local variable binding localvariablebinding secret index variable name secretindexvariablename int binding intbinding acc default accdefault scope add local variable addlocalvariable index variable indexvariable inlinable index variable indexvariable set constant setconstant inlinable notaconstant all ocate allocate max secret variable max variable maxvariable local variable binding localvariablebinding secret max variable name secretmaxvariablename int binding intbinding acc default accdefault scope add local variable addlocalvariable max variable maxvariable inlinable max variable maxvariable set constant setconstant inlinable notaconstant add array secret variable collection type collection variable collectionvariable local variable binding localvariablebinding secret collection variable name secretcollectionvariablename collection type collectiontype acc default accdefault scope add local variable addlocalvariable collection variable collectionvariable inlinable collection variable collectionvariable set constant setconstant inlinable notaconstant raw iterable iterable all ocate allocate secret variable type iterator index variable indexvariable local variable binding localvariablebinding secret index variable name secretindexvariablename scope get java util iterator getjavautiliterator acc default accdefault scope add local variable addlocalvariable index variable indexvariable inlinable index variable indexvariable set constant setconstant inlinable notaconstant scope problem reporter problemreporter invalid type for collection invalidtypeforcollection collection action action resolve scope traverse ast visitor astvisitor visitor block scope blockscope block scope blockscope visitor visit block scope blockscope element variable elementvariable traverse visitor scope collection traverse visitor scope action action traverse visitor scope visitor end visit endvisit block scope blockscope
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug infrastructure feeding external annotations compilation bug compiler batch improve command option external annotations org eclipse jdt internal compiler batch java file java io exception ioexception java input stream inputstream java util array list arraylist java util enumeration java util hashtable java util iterator java util list java util zip zip entry zipentry java util zip zip file zipfile org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception org eclipse jdt internal compiler class fmt classfmt external annotation provider externalannotationprovider org eclipse jdt internal compiler env access rule set accessruleset org eclipse jdt internal compiler env name environment answer nameenvironmentanswer org eclipse jdt internal compiler util manifest analyzer manifestanalyzer org eclipse jdt internal compiler util suffix constants suffixconstants org eclipse jdt internal compiler util util suppress warnings suppresswarnings rawtypes unchecked classpath jar classpathjar classpath location classpathlocation file file zip file zipfile zip file zipfile zip file zipfile annotation zip file annotationzipfile close zip file at end closezipfileatend hashtable package cache packagecache list string annotation paths annotationpaths classpath jar classpathjar file file close zip file at end closezipfileatend access rule set accessruleset access rule set accessruleset string destination path destinationpath access rule set accessruleset destination path destinationpath file file close zip file at end closezipfileatend close zip file at end closezipfileatend list fetch linked jars fetchlinkedjars file system filesystem classpath section problem reporter classpathsectionproblemreporter problem reporter problemreporter expected called multiple calls desired cache input stream inputstream input stream inputstream initialize array list arraylist result array list arraylist nls zip entry zipentry manifest zip file zipfile get entry getentry meta inf manifest impl ies implies regular file manifest input stream inputstream zip file zipfile get input stream getinputstream manifest manifest analyzer manifestanalyzer analyzer manifest analyzer manifestanalyzer success analyzer analyze manifest contents analyzemanifestcontents input stream inputstream list called file names calledfilenames analyzer get called file names getcalledfilenames problem reporter problemreporter success analyzer get classpath sections count getclasspathsectionscount called file names calledfilenames problem reporter problemreporter invalid classpath section invalidclasspathsection get path getpath analyzer get classpath sections count getclasspathsectionscount problem reporter problemreporter multiple classpath sections multipleclasspathsections get path getpath called file names calledfilenames iterator called files iterator calledfilesiterator called file names calledfilenames iterator string directory path directorypath get path getpath last separator lastseparator directory path directorypath last index of lastindexof file separator char separatorchar empty bug directory path directorypath directory path directorypath substring last separator lastseparator called files iterator calledfilesiterator has next hasnext result add classpath jar classpathjar file directory path directorypath string called files iterator calledfilesiterator close zip file at end closezipfileatend access rule set accessruleset destination path destinationpath result io exception ioexception input stream inputstream input stream inputstream close io exception ioexception name environment answer nameenvironmentanswer find class findclass type name typename string qualified package name qualifiedpackagename string qualified binary file name qualifiedbinaryfilename find class findclass type name typename qualified package name qualifiedpackagename qualified binary file name qualifiedbinaryfilename name environment answer nameenvironmentanswer find class findclass type name typename string qualified package name qualifiedpackagename string qualified binary file name qualifiedbinaryfilename as binary only asbinaryonly is package ispackage qualified package name qualifiedpackagename common class file reader classfilereader reader class file reader classfilereader read zip file zipfile qualified binary file name qualifiedbinaryfilename reader annotation paths annotationpaths string qualified class name qualifiedclassname qualified binary file name qualifiedbinaryfilename substring qualified binary file name qualifiedbinaryfilename length suffix constants suffixconstants extension length string annotation path annotationpath annotation paths annotationpaths annotation zip file annotationzipfile reader set external annotation provider setexternalannotationprovider annotation path annotationpath qualified class name qualifiedclassname annotation zip file annotationzipfile reader has annotation provider hasannotationprovider io exception ioexception name environment answer nameenvironmentanswer reader fetch access restriction fetchaccessrestriction qualified binary file name qualifiedbinaryfilename class format exception classformatexception io exception ioexception override has annotation file for hasannotationfilefor string qualified type name qualifiedtypename zip file zipfile get entry getentry qualified type name qualifiedtypename external annotation provider externalannotationprovider annotation file suffix find type names findtypenames string qualified package name qualifiedpackagename is package ispackage qualified package name qualifiedpackagename common array list arraylist answers array list arraylist next entry nextentry enumeration zip file zipfile entries has more elements hasmoreelements string file name filename zip entry zipentry next element nextelement get name getname add parent packages file name filename last index of lastindexof extract string package name packagename file name filename substring qualified package name qualifiedpackagename equals package name packagename next entry nextentry index of dot indexofdot file name filename last index of lastindexof index of dot indexofdot string type name typename file name filename substring index of dot indexofdot package array packagearray package name packagename to char array tochararray answers add char operation charoperation array concat arrayconcat char operation charoperation split on spliton package array packagearray type name typename to char array tochararray size answers size size result size answers to array toarray result initialize io exception ioexception zip file zipfile zip file zipfile zip file zipfile file is package ispackage string qualified package name qualifiedpackagename package cache packagecache package cache packagecache contains key containskey qualified package name qualifiedpackagename package cache packagecache hashtable package cache packagecache util empty string util empty string next entry nextentry enumeration zip file zipfile entries has more elements hasmoreelements string file name filename zip entry zipentry next element nextelement get name getname add parent packages file name filename last index of lastindexof extract string package name packagename file name filename substring package cache packagecache contains key containskey package name packagename next entry nextentry package cache packagecache package name packagename package name packagename package name packagename last index of lastindexof package cache packagecache contains key containskey qualified package name qualifiedpackagename reset close zip file at end closezipfileatend zip file zipfile zip file zipfile close io exception ioexception zip file zipfile annotation zip file annotationzipfile annotation zip file annotationzipfile close io exception ioexception annotation zip file annotationzipfile package cache packagecache string to string tostring nls classpath jar file file get path getpath normalized path normalizedpath normalized path normalizedpath string path get path getpath raw name rawname path to char array tochararray file separator char separatorchar char operation charoperation replace raw name rawname normalized path normalizedpath char operation charoperation subarray raw name rawname char operation charoperation last index of lastindexof raw name rawname normalized path normalizedpath string get path getpath path path file get canonical path getcanonicalpath io exception ioexception path file get absolute path getabsolutepath path get mode getmode binary
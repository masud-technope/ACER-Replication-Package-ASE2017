copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors tyeung bea initial api implementation org eclipse jdt apt tests external annotations batch java util collection java util hash set hashset sun mirror apt annotation processor annotationprocessor sun mirror apt annotation processor environment annotationprocessorenvironment sun mirror apt messager sun mirror declaration annotation type declaration annotationtypedeclaration sun mirror declaration declaration sun mirror declaration type declaration typedeclaration batch processor batchprocessor annotation processor annotationprocessor store called order test class loader classloader reset ting resetting times called annotation processor environment annotationprocessorenvironment env batch processor batchprocessor annotation processor environment annotationprocessorenvironment env env env process messager msger env get messager getmessager times called collection string expected list expectedlist hash set hashset string expected list expectedlist add expected list expectedlist add expected list expectedlist add expected list expectedlist add collection type declaration typedeclaration all types alltypes env get specified type declarations getspecifiedtypedeclarations type declaration typedeclaration type all types alltypes expected list expectedlist remove type get qualified name getqualifiedname expected list expectedlist is empty isempty msger print error printerror failed find type expected list expectedlist collection string expected annotated expectedannotated hash set hashset string expected list expectedlist add expected list expectedlist add annotation type declaration annotationtypedeclaration batch anno decl batchannodecl annotation type declaration annotationtypedeclaration env get type declaration gettypedeclaration batch get name getname collection declaration decls env get declarations annotated with getdeclarationsannotatedwith batch anno decl batchannodecl declaration decl decls decl type declaration typedeclaration expected annotated expectedannotated remove type declaration typedeclaration decl get qualified name getqualifiedname expected annotated expectedannotated is empty isempty msger print error printerror failed find annotated type expected annotated expectedannotated msger print warning printwarning completed success fully completedsuccessfully msger print warning printwarning called times called times times called
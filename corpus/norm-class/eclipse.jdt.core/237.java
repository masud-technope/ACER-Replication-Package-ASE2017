copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core util java text number format numberformat java util enumeration java util hashtable code lru cache lrucache code hashtable stores finite number elements attempt add values full cache values cache discarded room values data structure based lru virtual memory paging scheme objects variable amount cache space implementing code ilru cache able ilrucacheable code implementation thread safe synchronization wrappers ensure atomic insert ions insertions deletions cache org eclipse jdt internal core util ilru cache able ilrucacheable suppress warnings suppresswarnings rawtypes unchecked lru cache lrucache cloneable type int ernally internally lru cache lrucache represent entries stored cache require pointer cache lru cache lrucache lru cache entry lrucacheentry hash table key object key hash table lru cache entry lrucacheentry object object time queue sorting timestamp cache foo tprint footprint entry space previous entry queue lru cache entry lrucacheentry previous entry queue lru cache entry lrucacheentry creates instance receiver values key space lru cache entry lrucacheentry object key object space key key space space returns string represents object string to string tostring nls nls nls lru cache entry lrucacheentry key stats counters timestamps counter index counterindex add counter counter index counterindex counters counter length counters length counter index counterindex length new length newlength counters length system arraycopy counters counters new length newlength length system arraycopy timestamps timestamps new length newlength length counters counter index counterindex counter timestamps counter index counterindex system current time millis currenttimemillis string get average age getaverageage total time totaltime number of elements numberofelements current time currenttime number of elements numberofelements nls time total time totaltime number of elements numberofelements age current time currenttime time age in seconds ageinseconds age seconds minutes hours days age in seconds ageinseconds age in min ageinmin age in seconds ageinseconds seconds age in seconds ageinseconds age in min ageinmin age in min ageinmin age in h ours ageinhours age in min ageinmin minutes age in min ageinmin age in h ours ageinhours age in h ours ageinhours age in days ageindays age in h ours ageinhours hours age in h ours ageinhours age in days ageindays days age in days ageindays hours age in h ours ageinhours minutes age in min ageinmin seconds age in seconds ageinseconds string buffer stringbuffer buffer string buffer stringbuffer days buffer append days nls buffer append nls days hours buffer append hours nls buffer append nls hours minutes buffer append minutes nls buffer append nls minutes buffer append seconds nls buffer append seconds buffer to string tostring get time stamps gettimestamps counter counter index counterindex counters counter timestamps string print stats printstats number of elements numberofelements lru cache lrucache current space currentspace number of elements numberofelements elements cache string buffer stringbuffer buffer string buffer stringbuffer nls buffer append number elements cache buffer append number of elements numberofelements number of groups numberofgroups number of elements per group numberofelementspergroup number of elements numberofelements number of groups numberofgroups nls buffer append buffer append number of groups numberofgroups nls buffer append groups buffer append number of elements per group numberofelementspergroup nls buffer append elements nls buffer append n average naverage age group number groupnumber element counter elementcounter lru cache entry lrucacheentry entry lru cache lrucache entry queue tail entryqueuetail current time currenttime system current time millis currenttimemillis accumulated time accumulatedtime entry time stamps timestamps get time stamps gettimestamps entry timestamp time stamps timestamps accumulated time accumulatedtime time stamps timestamps element counter elementcounter element counter elementcounter number of elements per group numberofelementspergroup group number groupnumber number of groups numberofgroups nls buffer append nls n group ngroup buffer append group number groupnumber group number groupnumber nls buffer append nls oldest nls buffer append nls group number groupnumber buffer append get average age getaverageage accumulated time accumulatedtime element counter elementcounter current time currenttime element counter elementcounter accumulated time accumulatedtime entry entry previous nls buffer append n group ngroup buffer append number of groups numberofgroups nls buffer append you ngest youngest buffer append get average age getaverageage accumulated time accumulatedtime element counter elementcounter current time currenttime buffer to string tostring remove count ers older than removecountersolderthan counter counter index counterindex counters counter length counter index counterindex system arraycopy counters counters length system arraycopy timestamps timestamps length counter index counterindex length object get oldest element getoldestelement lru cache lrucache get oldest element getoldestelement get oldest time stamps getoldesttimestamps get time stamps gettimestamps get oldest timestamp counter getoldesttimestampcounter snapshot remove count ers older than removecountersolderthan get oldest timestamp counter getoldesttimestampcounter add get newest timestamp counter getnewesttimestampcounter amount cache space current space currentspace maximum space allowed cache space limit spacelimit counter handing seq uential sequential timestamps timestamp counter timestampcounter hash table fast random access cache entries hashtable entry table entrytable start queue entry lru cache entry lrucacheentry entry queue entryqueue queue entry lru cache entry lrucacheentry entry queue tail entryqueuetail amount space cache space limit spacelimit creates cache size cache defined code space limit spacelimit code lru cache lrucache space limit spacelimit creates cache param size size cache lru cache lrucache size timestamp counter timestampcounter current space currentspace entry queue entryqueue entry queue tail entryqueuetail entry table entrytable hashtable size space limit spacelimit size returns cache contents copy object object clone lru cache lrucache new cache newcache new instance newinstance space limit spacelimit lru cache entry lrucacheentry q entry qentry preserve order entries copying oldest newest q entry qentry entry queue tail entryqueuetail q entry qentry new cache newcache private add privateadd q entry qentry key q entry qentry q entry qentry space q entry qentry q entry qentry previous new cache newcache filling ratio fillingratio current space currentspace space limit spacelimit flushes entries cache flush current space currentspace remember entry lru cache entry lrucacheentry entry entry queue tail entryqueuetail clear entry table entrytable hashtable entry queue entryqueue entry queue tail entryqueuetail send deletion not ifications notifications lru order entry entry entry previous flushes entry cache entry exist cache param key key object flush flush object key lru cache entry lrucacheentry entry entry lru cache entry lrucacheentry entry table entrytable key entry exist entry private remove entry privateremoveentry entry answers existing key equals key key cache returns key object get key getkey object key lru cache entry lrucacheentry entry lru cache entry lrucacheentry entry table entrytable key entry key entry key answers cache key cache returns param key hash table key object retrieve retreived object object exist object object key lru cache entry lrucacheentry entry lru cache entry lrucacheentry entry table entrytable key entry update timestamp updatetimestamp entry entry returns amount space current cache get current space getcurrentspace current space currentspace returns timestamps element cache get newest timestamp counter getnewesttimestampcounter entry queue entryqueue entry queue entryqueue timestamp returns timestamps element cache get oldest timestamp counter getoldesttimestampcounter entry queue tail entryqueuetail entry queue tail entryqueuetail timestamp returns element cache object get oldest element getoldestelement entry queue tail entryqueuetail entry queue tail entryqueuetail key returns maximum amount space cache get space limit getspacelimit space limit spacelimit returns enumeration cache enumeration entry table entrytable returns enumeration iter ates iterates values cache i cache enumeration icacheenumeration keys and values keysandvalues i cache enumeration icacheenumeration enumeration values lru cache lrucache entry table entrytable elements lru cache entry lrucacheentry entry has more elements hasmoreelements values has more elements hasmoreelements object next element nextelement entry lru cache entry lrucacheentry values next element nextelement entry key object get value getvalue entry java util no such element exception nosuchelementexception entry ensures amount free space receiver removing entries returns requested space param space amount space free make space makespace space limit limit get space limit getspacelimit space current space currentspace space limit entry big cache space limit free space removing oldest entries current space currentspace space limit entry queue tail entryqueuetail private remove entry privateremoveentry entry queue tail entryqueuetail returns lru cache lrucache instance lru cache lrucache new instance newinstance size lru cache lrucache size answers cache key cache returns function modify timestamps object peek object key lru cache entry lrucacheentry entry lru cache entry lrucacheentry entry table entrytable key entry entry adds entry key space private add privateadd object key object space lru cache entry lrucacheentry entry entry lru cache entry lrucacheentry key space private add entry privateaddentry entry adds entry receiver param shuffle shuffling queue entry table modified private add entry privateaddentry lru cache entry lrucacheentry entry shuffle shuffle entry table entrytable entry key entry current space currentspace entry space entry timestamp timestamp counter timestampcounter entry entry queue entryqueue entry previous entry queue entryqueue entry entry queue tail entryqueuetail entry entry queue entryqueue previous entry entry queue entryqueue entry removes entry entry queue param shuffle shuffling queue entry table modified private remove entry privateremoveentry lru cache entry lrucacheentry entry shuffle lru cache entry lrucacheentry previous previous entry previous entry shuffle entry table entrytable remove entry key current space currentspace entry space entry previous entry queue entryqueue previous entry entry queue tail entryqueuetail previous previous previous sets cache key returns param key key object add param object add object object key object new space newspace old space oldspace new total newtotal lru cache entry lrucacheentry entry check entry cache new space newspace space for spacefor entry lru cache entry lrucacheentry entry table entrytable key entry replace entry cache overflow cache flush entry add cache budget old space oldspace entry space new total newtotal get current space getcurrentspace old space oldspace new space newspace new total newtotal get space limit getspacelimit update timestamp updatetimestamp entry entry entry space new space newspace current space currentspace new total newtotal private remove entry privateremoveentry entry make space makespace new space newspace private add privateadd key new space newspace removes returns cache key key cache returns param key key object remove cache removed cache object remove key removekey object key lru cache entry lrucacheentry entry lru cache entry lrucacheentry entry table entrytable key entry object entry private remove entry privateremoveentry entry sets maximum amount space cache store param limit number units cache space set space limit setspacelimit limit limit space limit spacelimit make space makespace space limit spacelimit limit space limit spacelimit limit returns space space for spacefor object ilru cache able ilrucacheable ilru cache able ilrucacheable get cache foo tprint getcachefootprint returns string represents object method debug ging debugging purposes string to string tostring nls to string filling ration tostringfillingration lru cache lrucache to string contents tostringcontents returns string represents contents object method debug ging debugging purposes string to string contents tostringcontents string buffer stringbuffer result string buffer stringbuffer length entry table entrytable size object unsorted keys unsortedkeys object length string unsorted to strings unsortedtostrings string length enumeration length object key next element nextelement unsorted keys unsortedkeys key unsorted to strings unsortedtostrings key org eclipse jdt internal core java element javaelement org eclipse jdt internal core java element javaelement key get element name getelementname key to string tostring to string sorter tostringsorter sorter to string sorter tostringsorter sorter sort unsorted keys unsortedkeys unsorted to strings unsortedtostrings length string to string tostring sorter sorted strings sortedstrings object sorter sorted objects sortedobjects result append to string tostring nls result append result append nls result append result to string tostring string to string filling ration tostringfillingration string cache name cachename string buffer stringbuffer buffer string buffer stringbuffer cache name cachename buffer append buffer append get space limit getspacelimit nls buffer append buffer append number format numberformat get instance getinstance format filling ratio fillingratio nls buffer append full buffer to string tostring updates timestamp entry ensuring queue correct order entry exist update timestamp updatetimestamp lru cache entry lrucacheentry entry entry timestamp timestamp counter timestampcounter entry queue entryqueue entry private remove entry privateremoveentry entry private add entry privateaddentry entry
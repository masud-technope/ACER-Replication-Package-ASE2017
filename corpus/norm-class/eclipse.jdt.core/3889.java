copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler lookup java util hash map hashmap java util map org eclipse jdt internal compiler ast message send messagesend org eclipse jdt internal compiler ast wildcard binding denoting method type parameter substitutions performed parameterized type bindings methods substituted signature involve generics proper declaring class declaringclass methods parameterized generic method binding parameterizedgenericmethodbinding parameterized method binding parameterizedmethodbinding substitution type binding typebinding type arguments typearguments lookup environment lookupenvironment environment inferred return type inferredreturntype create method parameterized type subst ituting substituting original parameters type arguments parameterized generic method binding parameterizedgenericmethodbinding method binding methodbinding original method originalmethod type binding typebinding type arguments typearguments lookup environment lookupenvironment environment environment environment modifiers original method originalmethod modifiers selector original method originalmethod selector declaring class declaringclass original method originalmethod declaring class declaringclass type variables typevariables no type variables notypevariables type arguments typearguments type arguments typearguments original method originalmethod original method originalmethod parameters scope substitute original method originalmethod parameters thrown exceptions thrownexceptions scope substitute original method originalmethod thrown exceptions thrownexceptions return type returntype substitute original method originalmethod return type returntype create raw method raw type substitution type vars raw type arguments erasure method variables parameterized generic method binding parameterizedgenericmethodbinding method binding methodbinding original method originalmethod raw type binding rawtypebinding raw type rawtype lookup environment lookupenvironment environment type variable binding typevariablebinding original variables originalvariables original method originalmethod type variables typevariables length original variables originalvariables length type binding typebinding raw arguments rawarguments type binding typebinding length length raw arguments rawarguments original variables originalvariables erasure environment environment modifiers original method originalmethod modifiers selector original method originalmethod selector declaring class declaringclass raw type rawtype type variables typevariables no type variables notypevariables type arguments typearguments raw arguments rawarguments original method originalmethod original method originalmethod is static isstatic original method originalmethod is static isstatic parameters scope substitute is static isstatic original method originalmethod parameters scope substitute raw type rawtype original method originalmethod parameters thrown exceptions thrownexceptions scope substitute is static isstatic original method originalmethod thrown exceptions thrownexceptions scope substitute raw type rawtype original method originalmethod thrown exceptions thrownexceptions return type returntype substitute is static isstatic original method originalmethod return type returntype raw type rawtype substitute original method originalmethod return type returntype perform inference method type parameters expected type method binding methodbinding compute compatible method computecompatiblemethod method binding methodbinding original method originalmethod type binding typebinding arguments scope scope invocation site invocationsite invocation site invocationsite parameterized generic method binding parameterizedgenericmethodbinding method substitute methodsubstitute type variable binding typevariablebinding type variables typevariables original method originalmethod type variables typevariables type binding typebinding substitutes invocation site invocationsite generic type arguments generictypearguments substitutes substitutes length type variables typevariables length incompatible wrong arity problem method binding problemmethodbinding original method originalmethod original method originalmethod selector substitutes type parameter arity mismatch typeparameteraritymismatch method substitute methodsubstitute parameterized generic method binding parameterizedgenericmethodbinding original method originalmethod substitutes scope environment perform type inference based argument types expected type collect substitutes pattern matching parameters arguments arg length arglength arguments length type binding typebinding parameters original method originalmethod parameters var length varlength type variables typevariables length hash map hashmap collected substitutes collectedsubstitutes hash map hashmap var length varlength var length varlength collected substitutes collectedsubstitutes type variables typevariables type binding typebinding arg length arglength parameters collect substitutes collectsubstitutes arguments collected substitutes collectedsubstitutes substitutes type binding typebinding var length varlength need return type inference needreturntypeinference var length varlength type binding typebinding variable substitutes variablesubstitutes type binding typebinding collected substitutes collectedsubstitutes type variables typevariables type binding typebinding most specific substitute mostspecificsubstitute scope lower upper bound lowerupperbound variable substitutes variablesubstitutes type binding typebinding most specific substitute mostspecificsubstitute scope most specific common type mostspecificcommontype variable substitutes variablesubstitutes most specific substitute mostspecificsubstitute incompatible most specific substitute mostspecificsubstitute void binding voidbinding need return type inference needreturntypeinference most specific substitute mostspecificsubstitute type variables typevariables substitutes most specific substitute mostspecificsubstitute apply inferred variable substitutions method substitute methodsubstitute parameterized generic method binding parameterizedgenericmethodbinding original method originalmethod substitutes scope environment need return type inference needreturntypeinference invocation site invocationsite message send messagesend message send messagesend message message send messagesend invocation site invocationsite type binding typebinding expected type expectedtype message expected type expectedtype expected type expectedtype method substitute methodsubstitute infer from expected type inferfromexpectedtype message expected type expectedtype scope check bounds length type variables typevariables length length type variable binding typevariablebinding type variable typevariable type variables typevariables type variable typevariable bound check boundcheck method substitute methodsubstitute substitutes incompatible bound check problem method binding problemmethodbinding method substitute methodsubstitute original method originalmethod selector type binding typebinding substitutes type variables typevariables parameter bound mismatch parameterboundmismatch method substitute methodsubstitute infer from expected type inferfromexpectedtype type binding typebinding expected type expectedtype scope scope return type returntype expected type expectedtype return type returntype tag bits tagbits tag bits tagbits has type variable hastypevariable map substitutes hash map hashmap length type arguments typearguments length type variable binding typevariablebinding original variables originalvariables original type variables typevariables has unbound parameters hasunboundparameters length type arguments typearguments original variables originalvariables has unbound parameters hasunboundparameters substitutes original variables originalvariables type binding typebinding substitutes original variables originalvariables type binding typebinding type arguments typearguments has unbound parameters hasunboundparameters return type returntype collect substitutes collectsubstitutes expected type expectedtype substitutes length type binding typebinding variable substitutes variablesubstitutes type binding typebinding substitutes original variables originalvariables type binding typebinding most specific substitute mostspecificsubstitute scope lower upper bound lowerupperbound variable substitutes variablesubstitutes type binding typebinding most specific substitute mostspecificsubstitute scope most specific common type mostspecificcommontype variable substitutes variablesubstitutes most specific substitute mostspecificsubstitute todo philippe report infer type most specific substitute mostspecificsubstitute void binding voidbinding type arguments typearguments most specific substitute mostspecificsubstitute type binding typebinding old return type oldreturntype return type returntype return type returntype substitute return type returntype inferred return type inferredreturntype return type returntype old return type oldreturntype parameters scope substitute parameters thrown exceptions thrownexceptions scope substitute thrown exceptions thrownexceptions returns type original type substituted receiver parameterized method type binding typebinding substitute type binding typebinding original type originaltype original type originaltype tag bits tagbits tag bits tagbits has type variable hastypevariable original type originaltype is type variable istypevariable type variable binding typevariablebinding original variable originalvariable type variable binding typevariablebinding original type originaltype type variable binding typevariablebinding variables original method originalmethod type variables typevariables length variables length check variable substituted parameterized type original variable originalvariable rank length variables original variable originalvariable rank original variable originalvariable type arguments typearguments original variable originalvariable rank original type originaltype is parameterized type isparameterizedtype parameterized type binding parameterizedtypebinding original parameterized type originalparameterizedtype parameterized type binding parameterizedtypebinding original type originaltype type binding typebinding original arguments originalarguments original parameterized type originalparameterizedtype arguments type binding typebinding substituted arguments substitutedarguments scope substitute original arguments originalarguments substituted arguments substitutedarguments original arguments originalarguments identical variables identicalvariables substituted original variables answer type type variable binding typevariablebinding original variables originalvariables original parameterized type originalparameterizedtype type type variables typevariables length original variables originalvariables length length substituted arguments substitutedarguments original variables originalvariables identical variables identicalvariables original parameterized type originalparameterizedtype type environment create parameterized type createparameterizedtype original parameterized type originalparameterizedtype type substituted arguments substitutedarguments original parameterized type originalparameterizedtype enclosing type enclosingtype original type originaltype is array type isarraytype type binding typebinding original leaf component type originalleafcomponenttype original type originaltype leaf component type leafcomponenttype substitute array type type binding typebinding substitute substitute original leaf component type originalleafcomponenttype substitute original leaf component type originalleafcomponenttype environment create array type createarraytype substitute leaf component type leafcomponenttype substitute dimensions original type originaltype dimensions original type originaltype is wildcard iswildcard wildcard binding wildcardbinding wildcard wildcard binding wildcardbinding original type originaltype wildcard kind wildcard unbound type binding typebinding original bound originalbound wildcard bound type binding typebinding substituted bound substitutedbound substitute original bound originalbound substituted bound substitutedbound original bound originalbound environment create wildcard createwildcard wildcard generic type generictype wildcard rank substituted bound substitutedbound wildcard kind original type originaltype is generic type isgenerictype treat parameterized type variables reference binding referencebinding original generic type originalgenerictype reference binding referencebinding original type originaltype type variable binding typevariablebinding original variables originalvariables original generic type originalgenerictype type variables typevariables length original variables originalvariables length type binding typebinding original arguments originalarguments system arraycopy original variables originalvariables original arguments originalarguments type binding typebinding length length type binding typebinding substituted arguments substitutedarguments scope substitute original arguments originalarguments substituted arguments substitutedarguments original arguments originalarguments environment create parameterized type createparameterizedtype original generic type originalgenerictype substituted arguments substitutedarguments original type originaltype
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug warning unboxing single name reference singlenamereference npe bug compiler include syntactic analysis fields bug compiler fup bug consolidate int eraction interaction unboxing npe deferred checking bug compiler boxed reported test lazy disjunction org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler impl org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler lookup dedicated treatment expression binary expression binaryexpression right init state index rightinitstateindex merged init state index mergedinitstateindex expression expression left expression left flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo constant cst left optimized boolean constant optimizedbooleanconstant is left optimized true isleftoptimizedtrue cst constant notaconstant cst boolean value booleanvalue is left optimized false isleftoptimizedfalse cst constant notaconstant cst boolean value booleanvalue is left optimized true isleftoptimizedtrue careful scenario passing left info swapped flow info flowinfo merged info mergedinfo left analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo unconditional inits unconditionalinits merged info mergedinfo analyse code analysecode current scope currentscope flow context flowcontext merged info mergedinfo merged init state index mergedinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates merged info mergedinfo merged info mergedinfo flow info flowinfo left info leftinfo left analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo flow context flowcontext tag bits tagbits flow context flowcontext negation flow context flowcontext expire null checked field info expirenullcheckedfieldinfo careful scenario passing left info swapped flow info flowinfo right info rightinfo left info leftinfo inits when true initswhentrue unconditional copy unconditionalcopy right init state index rightinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates right info rightinfo previous mode previousmode right info rightinfo reach mode reachmode is left optimized false isleftoptimizedfalse right info rightinfo reach mode reachmode flow info flowinfo unreachable current scope currentscope problem reporter problemreporter fake reachable fakereachable right info rightinfo set reach mode setreachmode flow info flowinfo unreachable dead right info rightinfo analyse code analysecode current scope currentscope flow context flowcontext right info rightinfo flow context flowcontext tag bits tagbits flow context flowcontext negation flow context flowcontext expire null checked field info expirenullcheckedfieldinfo left checknpebyunboxing current scope currentscope flow context flowcontext flow info flowinfo checknpebyunboxing current scope currentscope flow context flowcontext left info leftinfo inits when true initswhentrue flow info flowinfo merged info mergedinfo flow info flowinfo conditional right info rightinfo safe inits when true safeinitswhentrue left info leftinfo inits when false initswhenfalse unconditional inits unconditionalinits merged with mergedwith right info rightinfo inits when false initswhenfalse set reach mode setreachmode previous mode previousmode unconditional inits unconditionalinits reset true merged info truemergedinfo extracted merged init state index mergedinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates merged info mergedinfo merged info mergedinfo code generation binary operation generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired code stream codestream position constant constant notaconstant inlined value required valuerequired code stream codestream generate constant generateconstant constant implicit conversion implicitconversion code stream codestream record positions from recordpositionsfrom source start sourcestart constant cst constant cst constant notaconstant expr expr cst boolean value booleanvalue left generate code generatecode current scope currentscope code stream codestream value required valuerequired expr left generate code generatecode current scope currentscope code stream codestream value required valuerequired code stream codestream iconst merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion code stream codestream record positions from recordpositionsfrom source start sourcestart branch label branchlabel false label falselabel branch label branchlabel code stream codestream end label endlabel cst left optimized boolean constant optimizedbooleanconstant left is const leftisconst cst constant notaconstant left is true leftistrue left is const leftisconst cst boolean value booleanvalue cst optimized boolean constant optimizedbooleanconstant right is const rightisconst cst constant notaconstant right is true rightistrue right is const rightisconst cst boolean value booleanvalue generate operands generateoperands left is const leftisconst left generate code generatecode current scope currentscope code stream codestream left is true leftistrue generate operand generate operands generateoperands left generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream false label falselabel should n shouldn initialize right init state index rightinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope right init state index rightinitstateindex right is const rightisconst generate code generatecode current scope currentscope code stream codestream generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream false label falselabel value required valuerequired merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex imp roving improving code gen label inlined stack value required valuerequired left is const leftisconst left is true leftistrue code stream codestream iconst right is const rightisconst right is true rightistrue code stream codestream iconst code stream codestream iconst false label falselabel for ward reference count forwardreferencecount bits is returned value isreturnedvalue code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion code stream codestream generate return byte code generatereturnbytecode false label falselabel place code stream codestream iconst code stream codestream end label endlabel branch label branchlabel code stream codestream code stream codestream decr stack size decrstacksize false label falselabel place code stream codestream iconst end label endlabel place false label falselabel place code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion code stream codestream record positions from recordpositionsfrom code stream codestream position source end sourceend false label falselabel place code generation optimized operations generate optimized boolean generateoptimizedboolean block scope blockscope current scope currentscope code stream codestream code stream codestream branch label branchlabel true label truelabel branch label branchlabel false label falselabel value required valuerequired constant constant notaconstant generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream true label truelabel false label falselabel value required valuerequired expr expr constant cst constant cst constant notaconstant cst boolean value booleanvalue code stream codestream position left generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream true label truelabel false label falselabel value required valuerequired merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream record positions from recordpositionsfrom source start sourcestart cst left optimized boolean constant optimizedbooleanconstant left is const leftisconst cst constant notaconstant left is true leftistrue left is const leftisconst cst boolean value booleanvalue cst optimized boolean constant optimizedbooleanconstant right is const rightisconst cst constant notaconstant right is true rightistrue right is const rightisconst cst boolean value booleanvalue generate operands generateoperands false label falselabel true label truelabel implicit falling branch label branchlabel internal false label internalfalselabel branch label branchlabel code stream codestream left generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream internal false label internalfalselabel left is const leftisconst should n shouldn initialize left is const leftisconst left is true leftistrue internal false label internalfalselabel place generate operand generate operands generateoperands right init state index rightinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope right init state index rightinitstateindex generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream true label truelabel value required valuerequired right is const rightisconst value required valuerequired right is const rightisconst right is true rightistrue code stream codestream true label truelabel code stream codestream record positions from recordpositionsfrom code stream codestream position source end sourceend internal false label internalfalselabel place implicit falling true label truelabel left generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream false label falselabel left is const leftisconst should n shouldn initialize code stream codestream position left is const leftisconst left is true leftistrue value required valuerequired code stream codestream false label falselabel code stream codestream record positions from recordpositionsfrom source end sourceend generate operand generate operands generateoperands right init state index rightinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope right init state index rightinitstateindex generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream false label falselabel value required valuerequired right is const rightisconst value required valuerequired right is const rightisconst right is true rightistrue code stream codestream false label falselabel code stream codestream record positions from recordpositionsfrom source end sourceend implicit fall occur merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex is comp act able operation iscompactableoperation org eclipse jdt internal compiler ast binary expression binaryexpression resolve type resolvetype org eclipse jdt internal compiler lookup block scope blockscope type binding typebinding resolve type resolvetype block scope blockscope scope type binding typebinding result resolve type resolvetype scope check comparing identical expressions binding left direct leftdirect expression get direct binding getdirectbinding left left direct leftdirect left direct leftdirect expression get direct binding getdirectbinding assignment scope problem reporter problemreporter comparing identical expressions comparingidenticalexpressions result traverse ast visitor astvisitor visitor block scope blockscope scope visitor visit scope left traverse visitor scope traverse visitor scope visitor end visit endvisit scope
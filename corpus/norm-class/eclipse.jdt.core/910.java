copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core java util hash map hashmap java util iterator java util map org eclipse core resources i resource iresource org eclipse core resources resources plugin resourcesplugin org eclipse core runtime org eclipse core runtime jobs i scheduling rule ischedulingrule org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java model status constants ijavamodelstatusconstants org eclipse jdt core i region iregion org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt internal core util messages org eclipse text edits text edit textedit operation deletes collection elements children element exist note operation deletes elements contained leaf resources elements compilation units delete compilation unit actual resource delete resources operation deleteresourcesoperation suppress warnings suppresswarnings rawtypes unchecked delete elements operation deleteelementsoperation multi operation multioperation elements operation processes grouped compilation unit process elements processelements compilation units values code i region iregion code elements processed compilation unit map children to remove childrentoremove code ast parser astparser code manipulate source code code i compilation unit icompilationunit code ast parser astparser parser executed operation delete elements elements delete code code empty contained compilation unit delete elements operation deleteelementsoperation i java element ijavaelement elements to delete elementstodelete force elements to delete elementstodelete force initastparser delete element deleteelement i java element ijavaelement element to remove elementtoremove i compilation unit icompilationunit java model exception javamodelexception ensure consistent noop consistent make consistent makeconsistent progress monitor progressmonitor parser set source setsource compilation unit compilationunit astcu compilation unit compilationunit parser createast progress monitor progressmonitor ast node astnode node java element javaelement element to remove elementtoremove find node findnode astcu node nls nls is true istrue failed locate element to remove elementtoremove get element name getelementname get element name getelementname ast ast astcu getast ast rewrite astrewrite rewriter ast rewrite astrewrite create ast rewriter remove node text edit textedit edits rewriter rewriteast apply text edit applytextedit edits initastparser parser ast parser astparser new parser newparser ast jls multi operation multioperation string get main task name getmaintaskname messages operation delete element progress deleteelementprogress i scheduling rule ischedulingrule get scheduling rule getschedulingrule elements to process elementstoprocess elements to process elementstoprocess length i resource iresource resource elements to process elementstoprocess get resource getresource resource resources plugin resourcesplugin get workspace getworkspace get rule factory getrulefactory modify rule modifyrule resource get scheduling rule getschedulingrule groups elements processed compilation unit parent child combinations children discarded parents processed removes duplicates elements processed group elements groupelements java model exception javamodelexception children to remove childrentoremove hash map hashmap uniquecus length elements to process elementstoprocess length length i java element ijavaelement elements to process elementstoprocess i compilation unit icompilationunit get compilation unit for getcompilationunitfor java model exception javamodelexception java model status javamodelstatus i java model status constants ijavamodelstatusconstants read i region iregion region i region iregion children to remove childrentoremove region region region children to remove childrentoremove region uniquecus region add elements to process elementstoprocess i java element ijavaelement uniquecus iterator iter children to remove childrentoremove key set keyset iterator iter has next hasnext elements to process elementstoprocess i java element ijavaelement iter deletes element compilation unit multi operation multioperation process element processelement i java element ijavaelement element java model exception javamodelexception i compilation unit icompilationunit i compilation unit icompilationunit element track statements removed delete container report delta number of imports numberofimports get imports getimports length java element delta javaelementdelta delta java element delta javaelementdelta i java element ijavaelement cu elements cuelements i region iregion children to remove childrentoremove get elements getelements length cu elements cuelements length length i java element ijavaelement cu elements cuelements exists delete element deleteelement delta removed get element type getelementtype i java element ijavaelement declaration number of imports numberofimports number of imports numberofimports delta removed get import container getimportcontainer delta get affected children getaffectedchildren length save get sub progress monitor getsubprogressmonitor force unit working copy save fired delta is working copy isworkingcopy add delta adddelta delta set attribute setattribute modified resource attr multi operation multioperation method group elements code i compilation unit icompilationunit code processes code i compilation unit icompilationunit code process elements processelements java model exception javamodelexception group elements groupelements process elements processelements multi operation multioperation verify i java element ijavaelement element java model exception javamodelexception i java element ijavaelement children i region iregion children to remove childrentoremove element get elements getelements children length i java element ijavaelement child children child get corresponding resource getcorrespondingresource error i java model status constants ijavamodelstatusconstants invalid element types child child is read only isreadonly error i java model status constants ijavamodelstatusconstants read child
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors bea systems initial api implementation jesper steen moller bug compiler enable ref lected reflected parameter names annotation processing org eclipse jdt apt pluggable tests java file java input stream inputstream java net url java util map org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse jdt apt core internal util factory container factorycontainer org eclipse jdt apt core internal util factory container factorycontainer factory type factorytype org eclipse jdt apt core internal util factory path factorypath org eclipse jdt apt core util apt config aptconfig org eclipse jdt core i java project ijavaproject org eclipse jdt core tests builder builder tests buildertests org eclipse jdt core tests util util junit framework test test base testbase builder tests buildertests string java compliance string java compliance string project name projectname create unique project names avoid resource deletion problems project serial projectserial test base testbase string test suite illegal state exception illegalstateexception base test suite method called exception thrown avoid running org eclipse jdt core tests builder builder tests buildertests suite extract lib annotations jar test bundle add project add annotation jar addannotationjar i java project ijavaproject jproj exception bundle string res name resname lib annotations jar destination project string lib name libname res name resname input stream inputstream url resurl apt tests plugin testsplugin the plugin theplugin get bundle getbundle get entry getentry res name resname resurl open stream openstream i path ipath proj path projpath jproj get path getpath i project iproject proj jproj get project getproject i file ifile lib file libfile proj get file getfile lib name libname env add folder addfolder proj path projpath lib lib file libfile exists lib file libfile set contents setcontents lib file libfile create env add library addlibrary proj path projpath lib file libfile get full path getfullpath create java project java libraries test annotations classpath compiler level src source folder bin output folder apt enabled param project name projectname java project current workspace exception i java project ijavaproject create java project createjavaproject string project name projectname exception i path ipath project path projectpath env add project addproject project name projectname java compliance env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin i java project ijavaproject java proj javaproj env get java project getjavaproject project path projectpath add annotation jar addannotationjar java proj javaproj java proj javaproj create java project java libraries test annotations classpath compiler level src source folder bin output folder apt enabled param project name projectname java project current workspace exception i java project ijavaproject create java createjava project string project name projectname exception note jre i path ipath project path projectpath env add project addproject project name projectname java compliance env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin i java project ijavaproject java proj javaproj env get java project getjavaproject project path projectpath java proj javaproj get project getproject get folder getfolder prebuilt create java proj javaproj get project getproject get folder getfolder prebuilt get folder getfolder create env add class folder addclassfolder project path projectpath project path projectpath append prebuilt add annotation jar addannotationjar java proj javaproj java proj javaproj ensure java processors factory path units multiply compiled mess tests expect number compil ations compilations occur param jproj project factory path edited core exception coreexception disable java disablejava factories i java project ijavaproject jproj core exception coreexception factory path factorypath factory path factorypath apt config aptconfig get factory path getfactorypath jproj map entry factory container factorycontainer factory path factorypath attributes entry get all containers getallcontainers entry set entryset entry get key getkey get type gettype factory type factorytype plugin string entry get key getkey get id getid apt tests plugin testsplugin plugin equals disable plugin disableplugin apt config aptconfig set factory path setfactorypath jproj verify expected file exists project param file name filename filename relative project root expecting file expectingfile i project iproject proj string file name filename exception i path ipath path proj get location getlocation append file name filename file file file path toosstring assert true asserttrue expected file file name filename missing project file file exists verify expected file exists project param file name filename filename relative project root expecting no file expectingnofile i project iproject proj string file name filename exception i path ipath path proj get location getlocation append file name filename file file file path toosstring exists file exists delay encountered test passing exists thread sleep exists file exists assert true asserttrue file file name filename expected exist file exists override set up setup exception set up setup env set auto building setautobuilding project name projectname string format test proj testproj project serial projectserial
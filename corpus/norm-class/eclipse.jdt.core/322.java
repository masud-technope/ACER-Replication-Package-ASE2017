copyright mateusz matela rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mateusz matela mateusz matela gmail formatter formatter format java code correctly max width https bugs eclipse org lars vogel lars vogel vogella contributions bug org eclipse jdt internal formatter line wrap linewrap org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecomment block org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecomment org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennameequal org eclipse jdt internal compiler parser terminal tokens terminaltokens token name identifier tokennameidentifier java util array list arraylist java util list org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom simple name simplename org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt internal formatter default code formatter options defaultcodeformatteroptions org eclipse jdt internal formatter token org eclipse jdt internal formatter token manager tokenmanager org eclipse jdt internal formatter token traverser tokentraverser implementation align fields columns feature field aligner fieldaligner position counter positioncounter token traverser tokentraverser stop ping index stoppingindex max position maxposition position counter positioncounter override token token token stop ping index stoppingindex get line breaks before getlinebreaksbefore counter field aligner fieldaligner get position in line getpositioninline token get align getalign counter token get align getalign counter field aligner fieldaligner get length getlength token counter is space after isspaceafter get line breaks after getlinebreaksafter counter max position maxposition math max max position maxposition counter find max position findmaxposition from index fromindex to index toindex counter field aligner fieldaligner get position in line getpositioninline from index fromindex stop ping index stoppingindex to index toindex max position maxposition field aligner fieldaligner traverse from index fromindex max position maxposition list list field declaration fielddeclaration field align groups fieldaligngroups array list arraylist default code formatter options defaultcodeformatteroptions options token manager tokenmanager field aligner fieldaligner token manager tokenmanager token manager tokenmanager default code formatter options defaultcodeformatteroptions options token manager tokenmanager options options handle align handlealign list field declaration fielddeclaration body declarations bodydeclarations options align type members columns array list arraylist field declaration fielddeclaration align group aligngroup array list arraylist body declaration bodydeclaration previous body declaration bodydeclaration declaration body declarations bodydeclarations declaration field declaration fielddeclaration is new group isnewgroup declaration previous align fields alignfields align group aligngroup align group aligngroup array list arraylist align group aligngroup add field declaration fielddeclaration declaration previous declaration align fields alignfields align group aligngroup is new group isnewgroup body declaration bodydeclaration declaration body declaration bodydeclaration previous declaration previousdeclaration previous declaration previousdeclaration field declaration fielddeclaration line breaks linebreaks last index in lastindexin previous declaration previousdeclaration first index in firstindexin declaration token previous token token line breaks linebreaks math min count line breaks between countlinebreaksbetween previous token options number empty lines preserve previous token line breaks linebreaks options align fields grouping blank lines align fields alignfields array list arraylist field declaration fielddeclaration align group aligngroup align group aligngroup size field align groups fieldaligngroups add align group aligngroup max name align maxnamealign field declaration fielddeclaration declaration align group aligngroup list variable declaration fragment variabledeclarationfragment fragments declaration fragments simple name simplename field name fieldname fragments get name getname name index nameindex first index in firstindexin field name fieldname token name identifier tokennameidentifier position in line positioninline get position in line getpositioninline name index nameindex max name align maxnamealign math max max name align maxnamealign position in line positioninline max name align maxnamealign to indent toindent max name align maxnamealign max assign align maxassignalign field declaration fielddeclaration declaration align group aligngroup list variable declaration fragment variabledeclarationfragment fragments declaration fragments variable declaration fragment variabledeclarationfragment fragment fragments name index nameindex first index in firstindexin fragment get name getname token name identifier tokennameidentifier token name token nametoken name index nameindex name token nametoken set align setalign max name align maxnamealign fragment get initializer getinitializer equal index equalindex first index after firstindexafter fragment get name getname tokennameequal position in line positioninline get position in line getpositioninline equal index equalindex max assign align maxassignalign math max max assign align maxassignalign position in line positioninline max assign align maxassignalign to indent toindent max assign align maxassignalign field declaration fielddeclaration declaration align group aligngroup list variable declaration fragment variabledeclarationfragment fragments declaration fragments variable declaration fragment variabledeclarationfragment fragment fragments fragment get initializer getinitializer assing index assingindex first index after firstindexafter fragment get name getname tokennameequal token assign token assigntoken assing index assingindex assign token assigntoken set align setalign max assign align maxassignalign align comments aligncomments field align groups fieldaligngroups is empty isempty position counter positioncounter position counter positioncounter position counter positioncounter align comments field declarations list field declaration fielddeclaration align group aligngroup field align groups fieldaligngroups max comment align maxcommentalign field declaration fielddeclaration declaration align group aligngroup type index typeindex first index in firstindexin declaration get type gettype first index in line firstindexinline find first token in line findfirsttokeninline type index typeindex last index lastindex last index in lastindexin declaration max comment align maxcommentalign math max max comment align maxcommentalign position counter positioncounter find max position findmaxposition first index in line firstindexinline last index lastindex max comment align maxcommentalign to indent toindent max comment align maxcommentalign field declaration fielddeclaration declaration align group aligngroup type index typeindex first index in firstindexin declaration get type gettype first index in line firstindexinline find first token in line findfirsttokeninline type index typeindex last index lastindex last index in lastindexin declaration last index lastindex math min last index lastindex size first index in line firstindexinline last index lastindex token token token line break linebreak token get line breaks after getlinebreaksafter get line breaks before getlinebreaksbefore line break linebreak token token type tokentype tokennamecomment block token set align setalign max comment align maxcommentalign addnlsalignindex max comment align maxcommentalign token type tokentype tokennamecomment token type tokentype tokennamecomment block last index lastindex set align setalign max comment align maxcommentalign
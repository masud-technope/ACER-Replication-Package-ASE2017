copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core dom java util hashtable java util list java util map org eclipse text edits multi text edit multitextedit org eclipse text edits text edit textedit org eclipse jface text i document idocument org eclipse jface text text utilities textutilities org eclipse jdt core java core javacore org eclipse jdt core dom simple property descriptor simplepropertydescriptor org eclipse jdt core dom structural property descriptor structuralpropertydescriptor org eclipse jdt core dom rewrite target source range computer targetsourcerangecomputer org eclipse jdt internal compiler parser recovery scanner data recoveryscannerdata org eclipse jdt internal core dom rewrite ast rewrite analyzer astrewriteanalyzer org eclipse jdt internal core dom rewrite line information lineinformation org eclipse jdt internal core dom rewrite list rewrite event listrewriteevent org eclipse jdt internal core dom rewrite node info store nodeinfostore org eclipse jdt internal core dom rewrite node rewrite event noderewriteevent org eclipse jdt internal core dom rewrite rewrite event store rewriteeventstore org eclipse jdt internal core dom rewrite rewrite event store rewriteeventstore copy source info copysourceinfo org eclipse jdt internal core dom rewrite rewrite event store rewriteeventstore property location propertylocation internal intended client ast modifications recording enabled recorded suppress warnings suppresswarnings rawtypes unchecked internalastrewrite node event handler nodeeventhandler root node rewrite nodes root accepted compilation unit compilationunit root rewrite event store rewriteeventstore event store eventstore node info store nodeinfostore node store nodestore ast node astnode clone ast node astnode original hashtable cloned nodes clonednodes clone depth clonedepth constructor param root root node recorded ast internalastrewrite compilation unit compilationunit root root root event store eventstore rewrite event store rewriteeventstore node store nodestore node info store nodeinfostore root getast cloned nodes clonednodes hashtable performs rewrite rewrite events translated text options global options link java core javacore get options getoptions java core javacore get options getoptions param document document describes code ast passed constructor document accessed read param options options illegal argument exception illegalargumentexception rewrite fails returns edit describing text text edit textedit rewriteast i document idocument document map options text edit textedit result multi text edit multitextedit compilation unit compilationunit root node rootnode get root node getrootnode root node rootnode target source range computer targetsourcerangecomputer xsr computer xsrcomputer target source range computer targetsourcerangecomputer implementation link target source range computer targetsourcerangecomputer compute source range computesourcerange ast node astnode special ized specialized work internal ast rewriting original ast modified original form trust root node compilation unit source range sourcerange compute source range computesourcerange ast node astnode node extended start position extendedstartposition root node rootnode get extended start position getextendedstartposition node extended length extendedlength root node rootnode get extended length getextendedlength node source range sourcerange extended start position extendedstartposition extended length extendedlength content document to char array tochararray line information lineinformation line info lineinfo line information lineinformation create document string line delim linedelim text utilities textutilities get default line delimiter getdefaultlinedelimiter document list comments root node rootnode get comment list getcommentlist map current options currentoptions options java core javacore get options getoptions options ast rewrite analyzer astrewriteanalyzer visitor ast rewrite analyzer astrewriteanalyzer content line info lineinfo line delim linedelim result event store eventstore node store nodestore comments current options currentoptions xsr computer xsrcomputer recovery scanner data recoveryscannerdata root node rootnode get statements recovery data getstatementsrecoverydata root node rootnode accept visitor result mark as move or copy target markasmoveorcopytarget ast node astnode node ast node astnode new child newchild clone depth clonedepth node cloned nodes clonednodes contains key containskey node modified node considered cloned copy original for matting formatting comments time modify node work around workaround https bugs eclipse org remove nodes cloned nodes clonednodes mark children cloned skip cloned nodes clonednodes ast node astnode orig ast node astnode cloned nodes clonednodes remove node orig list properties node structural properties for type structuralpropertiesfortype properties size structural property descriptor structuralpropertydescriptor property structural property descriptor structuralpropertydescriptor properties object child node get structural property getstructuralproperty property child ast node astnode mark as move or copy target markasmoveorcopytarget node ast node astnode child child list list children list child children size ast node astnode cloned child clonedchild ast node astnode children mark as move or copy target markasmoveorcopytarget node cloned child clonedchild node node get parent getparent ast node astnode source ast node astnode cloned nodes clonednodes new child newchild source clone depth clonedepth property location propertylocation property location propertylocation event store eventstore get property location getpropertylocation source rewrite event store rewriteeventstore original copy source info copysourceinfo source info sourceinfo event store eventstore mark as copy source markascopysource property location propertylocation get parent getparent property location propertylocation get property getproperty source node store nodestore mark as copy target markascopytarget new child newchild source info sourceinfo new child newchild get flags getflags ast node astnode original property location propertylocation property location propertylocation event store eventstore get property location getpropertylocation new child newchild rewrite event store rewriteeventstore original copy source info copysourceinfo source info sourceinfo event store eventstore mark as copy source markascopysource property location propertylocation get parent getparent property location propertylocation get property getproperty new child newchild node store nodestore mark as copy target markascopytarget new child newchild source info sourceinfo compilation unit compilationunit get root node getrootnode root string to string tostring string buffer stringbuffer buf string buffer stringbuffer nls buf append events buf append event store eventstore to string tostring buf to string tostring pre value change event prevaluechangeevent ast node astnode node simple property descriptor simplepropertydescriptor property force event creation get node event getnodeevent node property post value change event postvaluechangeevent ast node astnode node simple property descriptor simplepropertydescriptor property node rewrite event noderewriteevent event get node event getnodeevent node property event set new value setnewvalue node get structural property getstructuralproperty property pre add child event preaddchildevent ast node astnode node ast node astnode child structural property descriptor structuralpropertydescriptor property property is child property ischildproperty node rewrite event noderewriteevent event get node event getnodeevent node property event set new value setnewvalue child child mark as move or copy target markasmoveorcopytarget node child property is child list property ischildlistproperty force event creation get list event getlistevent node property post add child event postaddchildevent ast node astnode node ast node astnode child structural property descriptor structuralpropertydescriptor property property is child list property ischildlistproperty list rewrite event listrewriteevent event get list event getlistevent node property list list list node get structural property getstructuralproperty property list index of indexof child list size ast node astnode next node nextnode ast node astnode list event get index getindex next node nextnode list rewrite event listrewriteevent event insert child child mark as move or copy target markasmoveorcopytarget node child pre remove child event preremovechildevent ast node astnode node ast node astnode child structural property descriptor structuralpropertydescriptor property property is child property ischildproperty node rewrite event noderewriteevent event get node event getnodeevent node property event set new value setnewvalue property is child list property ischildlistproperty list rewrite event listrewriteevent event get list event getlistevent node property event get index getindex child list rewrite event listrewriteevent node rewrite event noderewriteevent node event nodeevent node rewrite event noderewriteevent event get children getchildren node event nodeevent get original value getoriginalvalue event revert change revertchange node event nodeevent node event nodeevent set new value setnewvalue pre replace child event prereplacechildevent ast node astnode node ast node astnode child ast node astnode new child newchild structural property descriptor structuralpropertydescriptor property property is child property ischildproperty node rewrite event noderewriteevent event get node event getnodeevent node property event set new value setnewvalue new child newchild new child newchild mark as move or copy target markasmoveorcopytarget node new child newchild property is child list property ischildlistproperty list rewrite event listrewriteevent event get list event getlistevent node property event get index getindex child list rewrite event listrewriteevent node rewrite event noderewriteevent node event nodeevent node rewrite event noderewriteevent event get children getchildren node event nodeevent set new value setnewvalue new child newchild new child newchild mark as move or copy target markasmoveorcopytarget node new child newchild pre clone node event preclonenodeevent ast node astnode node clone depth clonedepth post clone node event postclonenodeevent ast node astnode node ast node astnode clone node ast root ast clone ast root ast node get flags getflags ast node astnode original cloned nodes clonednodes clone node node cloned node object original cloned nodes clonednodes node original cloned nodes clonednodes clone original clone depth clonedepth node rewrite event noderewriteevent get node event getnodeevent ast node astnode node structural property descriptor structuralpropertydescriptor property event store eventstore get node event getnodeevent node property list rewrite event listrewriteevent get list event getlistevent ast node astnode node structural property descriptor structuralpropertydescriptor property event store eventstore get list event getlistevent node property
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core util java util hash map hashmap java util hash set hashset org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core resources resources plugin resourcesplugin org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse jdt core i class file iclassfile org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core compiler char operation charoperation org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast lambda expression lambdaexpression org eclipse jdt internal compiler lookup class scope classscope org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup problem method binding problemmethodbinding org eclipse jdt internal compiler lookup scope org eclipse jdt internal core org eclipse jdt internal core search abstract java search scope abstractjavasearchscope org eclipse jdt internal core util util creates java element handles suppress warnings suppresswarnings rawtypes unchecked handle factory handlefactory cache fragment root optimize speed performance string last pkg fragment root path lastpkgfragmentrootpath package fragment root packagefragmentroot last pkg fragment root lastpkgfragmentroot cache handles optimize memory hashtable of array to object hashtableofarraytoobject package handles packagehandles java model javamodel java model javamodel handle factory handlefactory java model javamodel java model manager javamodelmanager get java model manager getjavamodelmanager get java model getjavamodel creates openable handle resource path resource path path file workbench proj ibm jdt core handle factory handlefactory java path file jar file path jar file path file jar jdk jre lib jar java lang object proj jar java lang object note assumes resource path to string tostring i path ipath i path ipath separator file path entries zip file scope hint java project handles openable create openable createopenable string resource path resourcepath i java search scope ijavasearchscope scope separator index separatorindex separator index separatorindex resource path resourcepath index of indexof i java search scope ijavasearchscope jar file entry separator path file jar optimization cache fragment root handle handles root path length rootpathlength last pkg fragment root path lastpkgfragmentrootpath root path length rootpathlength last pkg fragment root path lastpkgfragmentrootpath length resource path resourcepath length resource path resourcepath region matches regionmatches last pkg fragment root path lastpkgfragmentrootpath root path length rootpathlength string jar path jarpath resource path resourcepath substring separator index separatorindex package fragment root packagefragmentroot root get jar pkg fragment root getjarpkgfragmentroot resource path resourcepath separator index separatorindex jar path jarpath scope root match classpath last pkg fragment root path lastpkgfragmentrootpath jar path jarpath last pkg fragment root lastpkgfragmentroot root package handles packagehandles hashtable of array to object hashtableofarraytoobject create handle string class file path classfilepath resource path resourcepath substring separator index separatorindex string simple names simplenames path class file path classfilepath segments string pkg name pkgname length simple names simplenames length length pkg name pkgname string length system arraycopy simple names simplenames pkg name pkgname length pkg name pkgname char operation charoperation strings i package fragment ipackagefragment pkg fragment pkgfragment i package fragment ipackagefragment package handles packagehandles pkg name pkgname pkg fragment pkgfragment pkg fragment pkgfragment last pkg fragment root lastpkgfragmentroot get package fragment getpackagefragment pkg name pkgname package handles packagehandles pkg name pkgname pkg fragment pkgfragment i class file iclassfile class file classfile pkg fragment pkgfragment get class file getclassfile simple names simplenames length openable class file classfile path file directory optimization cache fragment root handle handles root path length rootpathlength last pkg fragment root path lastpkgfragmentrootpath resource path resourcepath starts with startswith last pkg fragment root path lastpkgfragmentrootpath org eclipse jdt internal compiler util util is excluded isexcluded resource path resourcepath to char array tochararray last pkg fragment root lastpkgfragmentroot full inclusion pattern chars fullinclusionpatternchars last pkg fragment root lastpkgfragmentroot full exclusion pattern chars fullexclusionpatternchars root path length rootpathlength last pkg fragment root path lastpkgfragmentrootpath length resource path resourcepath char at charat root path length rootpathlength package fragment root packagefragmentroot root get pkg fragment root getpkgfragmentroot resource path resourcepath root match classpath last pkg fragment root lastpkgfragmentroot root last pkg fragment root path lastpkgfragmentrootpath last pkg fragment root lastpkgfragmentroot internal path internalpath to string tostring package handles packagehandles hashtable of array to object hashtableofarraytoobject create handle resource path resourcepath resource path resourcepath substring last pkg fragment root path lastpkgfragmentrootpath length string simple names simplenames path resource path resourcepath segments string pkg name pkgname length simple names simplenames length length pkg name pkgname string length system arraycopy simple names simplenames pkg name pkgname length pkg name pkgname char operation charoperation strings i package fragment ipackagefragment pkg fragment pkgfragment i package fragment ipackagefragment package handles packagehandles pkg name pkgname pkg fragment pkgfragment pkg fragment pkgfragment last pkg fragment root lastpkgfragmentroot get package fragment getpackagefragment pkg name pkgname package handles packagehandles pkg name pkgname pkg fragment pkgfragment string simple name simplename simple names simplenames length org eclipse jdt internal core util util is java like file name isjavalikefilename simple name simplename i compilation unit icompilationunit unit pkg fragment pkgfragment get compilation unit getcompilationunit simple name simplename openable unit org eclipse jdt internal compiler util util is class file name isclassfilename simple name simplename i class file iclassfile class file classfile pkg fragment pkgfragment get class file getclassfile simple name simplename openable class file classfile returns handle denoting member identified scope i java element ijavaelement create element createelement class scope classscope scope i compilation unit icompilationunit unit hash set hashset existing elements existingelements hash map hashmap known scopes knownscopes create element createelement scope scope reference context referencecontext source start sourcestart unit existing elements existingelements known scopes knownscopes returns handle denoting lambda type identified scope i java element ijavaelement create lambda type element createlambdatypeelement lambda expression lambdaexpression expression i compilation unit icompilationunit unit hash set hashset existing elements existingelements hash map hashmap known scopes knownscopes create element createelement expression scope expression source start sourcestart unit existing elements existingelements known scopes knownscopes get parent getparent create handle adding child parent recursing parent scopes i java element ijavaelement create element createelement scope scope element position elementposition i compilation unit icompilationunit unit hash set hashset existing elements existingelements hash map hashmap known scopes knownscopes i java element ijavaelement new element newelement i java element ijavaelement known scopes knownscopes scope new element newelement new element newelement scope kind scope compilation unit scope new element newelement unit scope scope i java element ijavaelement parent element parentelement create element createelement scope parent element position elementposition unit existing elements existingelements known scopes knownscopes parent element parentelement get element type getelementtype i java element ijavaelement compilation unit new element newelement i compilation unit icompilationunit parent element parentelement get type gettype string scope enclosing source type enclosingsourcetype source name sourcename i java element ijavaelement type new element newelement i type itype parent element parentelement get type gettype string scope enclosing source type enclosingsourcetype source name sourcename i java element ijavaelement field i java element ijavaelement initializer i java element ijavaelement method i member imember member i member imember parent element parentelement member is binary isbinary new element newelement member get type gettype string scope enclosing source type enclosingsourcetype source name sourcename increment occurrence count collision detected new element newelement existing elements existingelements add new element newelement source ref element sourcerefelement new element newelement occurrence count occurrencecount new element newelement known scopes knownscopes scope new element newelement scope method scope scope is lambda scope islambdascope parent element parentelement create element createelement scope parent element position elementposition unit existing elements existingelements known scopes knownscopes lambda expression lambdaexpression expression lambda expression lambdaexpression scope original reference context originalreferencecontext expression resolved type resolvedtype expression resolved type resolvedtype is valid binding isvalidbinding chain lambda element resolved properly expression descriptor problem method binding problemmethodbinding new element newelement org eclipse jdt internal core source lambda expression sourcelambdaexpression java element javaelement parent element parentelement expression get method getmethod new element newelement lambda factory lambdafactory create lambda expression createlambdaexpression java element javaelement parent element parentelement expression get method getmethod known scopes knownscopes scope new element newelement new element newelement parent element parentelement i type itype parent type parenttype i type itype create element createelement scope parent element position elementposition unit existing elements existingelements known scopes knownscopes method scope methodscope method scope methodscope method scope methodscope scope method scope methodscope is inside initializer isinsideinitializer field initializer find proper type declaration typedeclaration type method scope methodscope reference type referencetype occurence count occurencecount length type fields type fields length length field declaration fielddeclaration field type fields field declaration source start declarationsourcestart element position elementposition element position elementposition field declaration source end declarationsourceend field get kind getkind abstract variable declaration abstractvariabledeclaration field abstract variable declaration abstractvariabledeclaration enum constant new element newelement parent type parenttype get field getfield string field abstract variable declaration abstractvariabledeclaration initializer new element newelement parent type parenttype get initializer getinitializer occurence count occurencecount field get kind getkind abstract variable declaration abstractvariabledeclaration initializer occurence count occurencecount method element abstract method declaration abstractmethoddeclaration method method scope methodscope reference method referencemethod new element newelement parent type parenttype get method getmethod string method selector util type parameter signatures typeparametersignatures method new element newelement known scopes knownscopes scope new element newelement scope block scope standard block element new element newelement create element createelement scope parent element position elementposition unit existing elements existingelements known scopes knownscopes new element newelement returns fragment root corresponds jar path create openable createopenable format jar path string scope hint java project handles package fragment root packagefragmentroot get jar pkg fragment root getjarpkgfragmentroot string resource path string resourcepathstring jar separator index jarseparatorindex string jar path string jarpathstring i java search scope ijavasearchscope scope i path ipath jar path jarpath path jar path string jarpathstring object target java model javamodel get target gettarget jar path jarpath target i file ifile internal jar classpath project org eclipse swt win win swt jar classpath org eclipse swt win i file ifile jar file jarfile i file ifile target java project javaproject java project javaproject java project javaproject java model javamodel get java project getjavaproject jar file jarfile i classpath entry iclasspathentry entry java project javaproject get classpath entry for getclasspathentryfor jar path jarpath entry package fragment root packagefragmentroot java project javaproject get package fragment root getpackagefragmentroot jar file jarfile java model exception javamodelexception walk projects scope find jar path classpath i java project ijavaproject projects scope scope abstract java search scope abstractjavasearchscope package fragment root packagefragmentroot root package fragment root packagefragmentroot abstract java search scope abstractjavasearchscope scope package fragment root packagefragmentroot resource path string resourcepathstring jar separator index jarseparatorindex jar path string jarpathstring root root i path ipath enclosing projects and jars enclosingprojectsandjars scope enclosing projects and jars enclosingprojectsandjars length enclosing projects and jars enclosingprojectsandjars length projects i java project ijavaproject length length i path ipath path enclosing projects and jars enclosingprojectsandjars path segment count segmentcount projects java model javamodel get java project getjavaproject path segment length system arraycopy projects projects i java project ijavaproject package fragment root packagefragmentroot root get jar pkg fragment root getjarpkgfragmentroot jar path jarpath target projects root root scope walk projects projects java model javamodel get java projects getjavaprojects java model exception javamodelexception get jar pkg fragment root getjarpkgfragmentroot jar path jarpath target projects package fragment root packagefragmentroot get jar pkg fragment root getjarpkgfragmentroot i path ipath jar path jarpath object target i java project ijavaproject projects project count projectcount projects length project count projectcount java project javaproject java project javaproject java project javaproject projects i classpath entry iclasspathentry classpath enty classpathenty java project javaproject get classpath entry for getclasspathentryfor jar path jarpath classpath enty classpathenty target i file ifile internal jar package fragment root packagefragmentroot java project javaproject get package fragment root getpackagefragmentroot i file ifile target external jar package fragment root packagefragmentroot java project javaproject get package fragment root getpackagefragmentroot jar path jarpath java model exception javamodelexception returns fragment root resource path package fragment root packagefragmentroot get pkg fragment root getpkgfragmentroot string path string pathstring i path ipath path path path string pathstring i project iproject projects resources plugin resourcesplugin get workspace getworkspace get root getroot get projects getprojects max projects length max i project iproject project projects project is accessible isaccessible project has nature hasnature java core javacore nature i java project ijavaproject java project javaproject java model javamodel get java project getjavaproject project i package fragment root ipackagefragmentroot roots java project javaproject get package fragment roots getpackagefragmentroots root count rootcount roots length root count rootcount package fragment root packagefragmentroot root package fragment root packagefragmentroot roots root internal path internalpath is prefix of isprefixof path util is excluded isexcluded path root full inclusion pattern chars fullinclusionpatternchars root full exclusion pattern chars fullexclusionpatternchars root core exception coreexception
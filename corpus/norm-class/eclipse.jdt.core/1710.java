copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation jesper steen moeller contributions bug compiler control generation parameter names option org eclipse jdt compiler tool tests java buffered writer bufferedwriter java byte array output stream bytearrayoutputstream java file java file writer filewriter java io exception ioexception java print writer printwriter java string writer stringwriter java nio charset charset java util array list arraylist java util collections java util hash set hashset java util iterator java util list java util locale java util service loader serviceloader java util javax tools diagnostic javax tools file object fileobject javax tools for warding java file manager forwardingjavafilemanager javax tools java compiler javacompiler javax tools java compiler javacompiler compilation task compilationtask javax tools java file manager javafilemanager javax tools java file object javafileobject javax tools java file object javafileobject kind javax tools standard java file manager standardjavafilemanager javax tools standard location standardlocation javax tools tool provider toolprovider junit framework test case testcase org eclipse jdt compiler tool tests abstract compiler tool test abstractcompilertooltest compiler invocation diagnostic listener compilerinvocationdiagnosticlistener org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception org eclipse jdt internal compiler tool eclipse compiler eclipsecompiler compiler tool tests compilertooltests test case testcase debug compiler tool tests compilertooltests string java compiler javacompiler compiler string arg options classpath bootclasspath source path sourcepath ext dirs extdirs end orseddirs endorseddirs encoding source target max problems maxproblems log repeat processor path processorpath processor class names classnames string arg options deprecation nowarn warn warn lines source vars lines vars preserve all locals preservealllocals proceed on error proceedonerror proceed on error proceedonerror fatal verbose reference info referenceinfo progress time no exit noexit inlinejsr enable javadoc enablejavadoc xemacs version show version showversion xprint rounds xprintrounds xprint processor info xprintprocessorinfo proc proc parameters generics ignature genericsignature string fake arg options string pass options jignore xignore akey display location displaylocation standard java file manager standardjavafilemanager manager standard location standardlocation standard location standardlocation system println standard location standardlocation get name getname iterable file location manager get location getlocation standard location standardlocation location file location system println get absolute path getabsolutepath override set up setup exception eclipse compiler eclipsecompiler get class loader getclassloader service loader serviceloader java compiler javacompiler java compiler loader javacompilerloader service loader serviceloader load java compiler javacompiler compiler counter compilercounter java compiler javacompiler java compiler javacompiler java compiler loader javacompilerloader compiler counter compilercounter java compiler javacompiler eclipse compiler eclipsecompiler compiler java compiler javacompiler assert equals assertequals compiler compiler counter compilercounter override tear down teardown exception compiler test check options testcheckoptions assert not null assertnotnull compiler compiler string option arg options assert equals assertequals option requires argument compiler is supported option issupportedoption option string option arg options assert equals assertequals option requires argument compiler is supported option issupportedoption option string option fake arg options assert equals assertequals option requires argument compiler is supported option issupportedoption option test compiler one class with system compiler testcompileroneclasswithsystemcompiler java compiler javacompiler system compiler systemcompiler tool provider toolprovider get system java compiler getsystemjavacompiler system compiler systemcompiler system println system java compiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager system compiler systemcompiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset for warding java file manager forwardingjavafilemanager java file manager javafilemanager for warding java file manager forwardingjavafilemanager for warding java file manager forwardingjavafilemanager java file manager javafilemanager manager override file object fileobject get file for input getfileforinput location location string package name packagename string relative name relativename io exception ioexception debug system println create file input package name packagename relative name relativename location location get file for input getfileforinput location package name packagename relative name relativename override java file object javafileobject get java file for input getjavafileforinput location location string class name classname kind kind io exception ioexception debug system println create java file input class name classname location location get java file for input getjavafileforinput location class name classname kind override java file object javafileobject get java file for output getjavafileforoutput location location string class name classname kind kind file object fileobject sibling io exception ioexception debug system println create file class name classname location location sibling sibling to uri touri java file object javafileobject java file for output javafileforoutput get java file for output getjavafileforoutput location class name classname kind sibling debug system println java file for output javafileforoutput to uri touri java file for output javafileforoutput create list input file inputfile list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter print writer printwriter string writer stringwriter list string options array list arraylist string options add options add tmp folder tmpfolder compilation task compilationtask task system compiler systemcompiler get task gettask print writer printwriter for warding java file manager forwardingjavafilemanager options units assert true asserttrue location ouput for warding java file manager forwardingjavafilemanager has location haslocation standard location standardlocation output result task call result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed check file exist assert true asserttrue delete failed input file inputfile delete system compiler eclipse java file manager todo investigate jar removed platform classpath location test compiler one class with system compiler testcompileroneclasswithsystemcompiler system compiler java compiler javacompiler system compiler systemcompiler tool provider toolprovider get system java compiler getsystemjavacompiler system compiler systemcompiler system println system java compiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset for warding java file manager forwardingjavafilemanager java file manager javafilemanager for warding java file manager forwardingjavafilemanager for warding java file manager forwardingjavafilemanager java file manager javafilemanager manager override file object fileobject get file for input getfileforinput location location string package name packagename string relative name relativename io exception ioexception debug system println create file input package name packagename relative name relativename location location get file for input getfileforinput location package name packagename relative name relativename override java file object javafileobject get java file for input getjavafileforinput location location string class name classname kind kind io exception ioexception debug system println create java file input class name classname location location get java file for input getjavafileforinput location class name classname kind override java file object javafileobject get java file for output getjavafileforoutput location location string class name classname kind kind file object fileobject sibling io exception ioexception debug system println create file class name classname location location sibling sibling to uri touri java file object javafileobject java file for output javafileforoutput get java file for output getjavafileforoutput location class name classname kind sibling debug system println java file for output javafileforoutput to uri touri java file for output javafileforoutput override string infer binary name inferbinaryname location location java file object javafileobject file string binary name binaryname infer binary name inferbinaryname location file debug system println binary binary name binaryname binary name binaryname override iterable java file object javafileobject list location location string package name packagename kind kinds recurse io exception ioexception iterable java file object javafileobject list list location package name packagename kinds recurse debug system println start list java file object javafileobject file object fileobject list system println file object fileobject get name getname system println list list create list input file list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter print writer printwriter string writer stringwriter list string options array list arraylist string options add options add tmp folder tmpfolder compilation task compilationtask task system compiler systemcompiler get task gettask print writer printwriter for warding java file manager forwardingjavafilemanager options units debug system println location ouput for warding java file manager forwardingjavafilemanager has location haslocation standard location standardlocation output result task call display location displaylocation manager standard location standardlocation path display location displaylocation manager standard location standardlocation platform path result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed check file exist assert true asserttrue delete failed input file inputfile delete test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset for warding java file manager forwardingjavafilemanager standard java file manager standardjavafilemanager for warding java file manager forwardingjavafilemanager for warding java file manager forwardingjavafilemanager standard java file manager standardjavafilemanager manager override file object fileobject get file for input getfileforinput location location string package name packagename string relative name relativename io exception ioexception debug system println create file input package name packagename relative name relativename location location get file for input getfileforinput location package name packagename relative name relativename override java file object javafileobject get java file for input getjavafileforinput location location string class name classname kind kind io exception ioexception debug system println create java file input class name classname location location get java file for input getjavafileforinput location class name classname kind override java file object javafileobject get java file for output getjavafileforoutput location location string class name classname kind kind file object fileobject sibling io exception ioexception debug system println create file class name classname location location sibling sibling to uri touri java file object javafileobject java file for output javafileforoutput get java file for output getjavafileforoutput location class name classname kind sibling debug system println java file for output javafileforoutput to uri touri java file for output javafileforoutput create list input file list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter print writer printwriter string writer stringwriter list string options array list arraylist string options add options add tmp folder tmpfolder compilation task compilationtask task compiler get task gettask print writer printwriter for warding java file manager forwardingjavafilemanager options units check classpath location assert true asserttrue location ouput for warding java file manager forwardingjavafilemanager has location haslocation standard location standardlocation output result task call print writer printwriter flush print writer printwriter close result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed class file reader classfilereader reader reader class file reader classfilereader read file tmp folder tmpfolder class format exception classformatexception assert true asserttrue happen io exception ioexception assert true asserttrue happen assert not null assertnotnull reader reader assert equals assertequals wrong class file constants classfileconstants jdk reader get version getversion check file exist assert true asserttrue delete failed input file inputfile delete test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset for warding java file manager forwardingjavafilemanager standard java file manager standardjavafilemanager for warding java file manager forwardingjavafilemanager for warding java file manager forwardingjavafilemanager standard java file manager standardjavafilemanager manager override java file object javafileobject get java file for output getjavafileforoutput location location string class name classname kind kind file object fileobject sibling io exception ioexception debug system println create file class name classname location location sibling sibling to uri touri java file object javafileobject java file for output javafileforoutput get java file for output getjavafileforoutput location class name classname kind sibling debug system println java file for output javafileforoutput to uri touri java file for output javafileforoutput create list input file inputfile list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter print writer printwriter string writer stringwriter list string options array list arraylist string options add options add tmp folder tmpfolder options add compilation task compilationtask task compiler get task gettask print writer printwriter for warding java file manager forwardingjavafilemanager options units check classpath location assert true asserttrue location ouput for warding java file manager forwardingjavafilemanager has location haslocation standard location standardlocation output result task call print writer printwriter flush print writer printwriter close result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed file output file outputfile file tmp folder tmpfolder assert true asserttrue output file outputfile exists class file reader classfilereader reader reader class file reader classfilereader read output file outputfile class format exception classformatexception assert true asserttrue happen io exception ioexception assert true asserttrue happen assert not null assertnotnull reader reader assert equals assertequals file class file constants classfileconstants jdk reader get version getversion string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter string writer stringwriter task compiler get task gettask print writer printwriter for warding java file manager forwardingjavafilemanager options units check classpath location assert true asserttrue location ouput for warding java file manager forwardingjavafilemanager has location haslocation standard location standardlocation output result task call print writer printwriter flush print writer printwriter close result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed check file exist assert true asserttrue delete failed input file inputfile delete test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset suppress warnings suppresswarnings resource for warding java file manager forwardingjavafilemanager standard java file manager standardjavafilemanager for warding java file manager forwardingjavafilemanager for warding java file manager forwardingjavafilemanager standard java file manager standardjavafilemanager manager override java file object javafileobject get java file for output getjavafileforoutput location location string class name classname kind kind file object fileobject sibling io exception ioexception debug system println create file class name classname location location sibling sibling to uri touri java file object javafileobject java file for output javafileforoutput get java file for output getjavafileforoutput location class name classname kind sibling debug system println java file for output javafileforoutput to uri touri java file for output javafileforoutput create list input file inputfile list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter print writer printwriter string writer stringwriter list string options array list arraylist string options add options add tmp folder tmpfolder compilation task compilationtask task compiler get task gettask print writer printwriter manager options units check classpath location assert true asserttrue location ouput for warding java file manager forwardingjavafilemanager has location haslocation standard location standardlocation output result task call print writer printwriter flush print writer printwriter close result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed task call assert true asserttrue illegal state exception illegalstateexception check file exist assert true asserttrue delete failed input file inputfile delete test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler io exception ioexception java compiler javacompiler system compiler systemcompiler tool provider toolprovider get system java compiler getsystemjavacompiler system compiler systemcompiler system println system java compiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception create list input file inputfile list file files array list arraylist file files add input file inputfile standard java file manager standardjavafilemanager manager system compiler systemcompiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter print writer printwriter print writer printwriter string writer stringwriter list string options array list arraylist string options add options add tmp folder tmpfolder compilation task compilationtask task compiler get task gettask options units check classpath location result task call print writer printwriter flush print writer printwriter close result boolean value booleanvalue system err println compilation failed string writer stringwriter get buffer getbuffer to string tostring assert true asserttrue compilation failed check file exist assert true asserttrue delete failed input file inputfile delete manager close test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write file writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files list string options array list arraylist string options add options add tmp folder tmpfolder byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream print writer printwriter err print writer printwriter err buffer errbuffer compiler invocation diagnostic listener compilerinvocationdiagnosticlistener compiler invocation diagnostic listener compilerinvocationdiagnosticlistener compiler invocation diagnostic listener compilerinvocationdiagnosticlistener err compilation task compilationtask task compiler get task gettask manager compiler invocation diagnostic listener compilerinvocationdiagnosticlistener options units check classpath location result task call err flush err close assert false assertfalse err buffer errbuffer to string tostring is empty isempty assert true asserttrue compiler invocation diagnostic listener compilerinvocationdiagnosticlistener kind compiler invocation diagnostic listener compilerinvocationdiagnosticlistener result boolean value booleanvalue assert false assertfalse compilation fail check file exist assert true asserttrue delete failed input file inputfile delete test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler string tmp folder tmpfolder system get property getproperty java tmpdir file package folder packagefolder file tmp folder tmpfolder package folder packagefolder mkdirs file input file inputfile file package folder packagefolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write file writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files list string options array list arraylist string options add options add tmp folder tmpfolder options add source path sourcepath options add tmp folder tmpfolder byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream print writer printwriter err print writer printwriter err buffer errbuffer compiler invocation diagnostic listener compilerinvocationdiagnosticlistener compiler invocation diagnostic listener compilerinvocationdiagnosticlistener compiler invocation diagnostic listener compilerinvocationdiagnosticlistener err override report diagnostic java file object javafileobject diagnostic java file object javafileobject source diagnostic get source getsource assert not null assertnotnull source source report diagnostic compilation task compilationtask task compiler get task gettask manager compiler invocation diagnostic listener compilerinvocationdiagnosticlistener options units check classpath location result task call err flush err close assert false assertfalse err buffer errbuffer to string tostring is empty isempty assert true asserttrue compiler invocation diagnostic listener compilerinvocationdiagnosticlistener kind compiler invocation diagnostic listener compilerinvocationdiagnosticlistener result boolean value booleanvalue assert false assertfalse compilation fail check file exist assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed package folder packagefolder delete test compiler one class with eclipse compiler testcompileroneclasswitheclipsecompiler string tmp folder tmpfolder system get property getproperty java tmpdir file input file inputfile file tmp folder tmpfolder java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write file writer flush writer close io exception ioexception writer writer close io exception ioexception system compiler standard java file manager standardjavafilemanager manager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset list file files array list arraylist file files add input file inputfile iterable java file object javafileobject units manager get java file objects from files getjavafileobjectsfromfiles files list string options array list arraylist string options add options add tmp folder tmpfolder options add source path sourcepath options add tmp folder tmpfolder byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream print writer printwriter err print writer printwriter err buffer errbuffer compiler invocation diagnostic listener compilerinvocationdiagnosticlistener compiler invocation diagnostic listener compilerinvocationdiagnosticlistener compiler invocation diagnostic listener compilerinvocationdiagnosticlistener err override report diagnostic java file object javafileobject diagnostic java file object javafileobject source diagnostic get source getsource assert not null assertnotnull source source report diagnostic compilation task compilationtask task compiler get task gettask manager compiler invocation diagnostic listener compilerinvocationdiagnosticlistener options units check classpath location result task call err flush err close assert false assertfalse err buffer errbuffer to string tostring is empty isempty assert true asserttrue compiler invocation diagnostic listener compilerinvocationdiagnosticlistener kind compiler invocation diagnostic listener compilerinvocationdiagnosticlistener result boolean value booleanvalue assert false assertfalse compilation fail check file exist assert true asserttrue delete failed input file inputfile delete test java file manager javafilemanager infer binary name inferbinaryname returns invalid file test infer binary name testinferbinaryname string tmp folder tmpfolder system get property getproperty java tmpdir file dir file tmp folder tmpfolder src system current time millis currenttimemillis dir mkdirs file input file inputfile file dir test txt buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write valid java file writer flush writer close io exception ioexception writer writer close io exception ioexception standard java file manager standardjavafilemanager file manager filemanager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset list file fins array list arraylist file fins add dir java file manager javafilemanager location source loc sourceloc javax tools standard location standardlocation source path file manager filemanager set location setlocation source loc sourceloc fins java file object javafileobject kind file types filetypes hash set hashset java file object javafileobject kind file types filetypes add java file object javafileobject kind iterable java file object javafileobject compilation units compilationunits file manager filemanager list source loc sourceloc file types filetypes java file object javafileobject invalid java file object javafileobject java file object javafileobject compilation units compilationunits invalid java file object javafileobject string inferred name inferredname file manager filemanager infer binary name inferbinaryname source loc sourceloc invalid file manager filemanager close assert null assertnull invalid file inferred name inferredname io exception ioexception print stack trace printstacktrace assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed dir delete test file manager testfilemanager string tmp folder tmpfolder system get property getproperty java tmpdir file dir file tmp folder tmpfolder src system current time millis currenttimemillis dir mkdirs file input file inputfile file dir java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception java compiler javacompiler system compiler systemcompiler tool provider toolprovider get system java compiler getsystemjavacompiler standard java file manager standardjavafilemanager file manager filemanager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset list file fins array list arraylist file fins add dir java file manager javafilemanager location source loc sourceloc javax tools standard location standardlocation source path file manager filemanager set location setlocation source loc sourceloc fins java file object javafileobject kind file types filetypes hash set hashset java file object javafileobject kind file types filetypes add java file object javafileobject kind source iterable java file object javafileobject compilation units compilationunits file manager filemanager list source loc sourceloc file types filetypes iterator java file object javafileobject compilation units compilationunits iterator string builder stringbuilder builder string builder stringbuilder has next hasnext java file object javafileobject string get name getname replace last index of lastindexof last index of lastindexof builder append substring last index of lastindexof assert equals assertequals wrong contents java string value of valueof builder list file files array list arraylist file files add dir file manager filemanager get java file objects from files getjavafileobjectsfromfiles files fail illegal argument exception illegalargumentexception thrown illegal argument exception illegalargumentexception iae file manager filemanager close io exception ioexception print stack trace printstacktrace assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed dir delete test file manager testfilemanager string tmp folder tmpfolder system get property getproperty java tmpdir file dir file tmp folder tmpfolder src system current time millis currenttimemillis dir mkdirs file dir file dir src dir mkdirs file input file inputfile file dir java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception file input file inputfile file dir java writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception standard java file manager standardjavafilemanager file manager filemanager compiler get standard file manager getstandardfilemanager locale get default getdefault charset default charset defaultcharset list file fins array list arraylist file fins add dir java file manager javafilemanager location source loc sourceloc javax tools standard location standardlocation source path file manager filemanager set location setlocation source loc sourceloc fins java file object javafileobject kind file types filetypes hash set hashset java file object javafileobject kind file types filetypes add java file object javafileobject kind source iterable java file object javafileobject compilation units compilationunits file manager filemanager list source loc sourceloc file types filetypes iterator java file object javafileobject compilation units compilationunits iterator list string names array list arraylist string has next hasnext java file object javafileobject string get name getname replace last index of lastindexof last index of lastindexof names add substring last index of lastindexof collections sort names assert equals assertequals wrong contents java java names to string tostring file manager filemanager close io exception ioexception print stack trace printstacktrace assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed dir delete assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed dir delete test clean up testcleanup compiler
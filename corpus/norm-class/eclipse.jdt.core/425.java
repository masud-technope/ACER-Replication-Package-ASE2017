copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal code assist codeassist org eclipse jdt core compiler char operation charoperation org eclipse jdt internal code assist codeassist complete completion parser completionparser org eclipse jdt internal code assist codeassist complete completion scanner completionscanner org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler ast ast node astnode org eclipse jdt internal compiler ast abstract method declaration abstractmethoddeclaration org eclipse jdt internal compiler ast argument org eclipse jdt internal compiler ast block org eclipse jdt internal compiler ast constructor declaration constructordeclaration org eclipse jdt internal compiler ast field declaration fielddeclaration org eclipse jdt internal compiler ast initializer org eclipse jdt internal compiler ast local declaration localdeclaration org eclipse jdt internal compiler ast method declaration methoddeclaration org eclipse jdt internal compiler ast statement org eclipse jdt internal compiler ast type declaration typedeclaration org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup class scope classscope org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup scope org eclipse jdt internal compiler util simple set of char array simplesetofchararray org eclipse jdt internal compiler util util unresolved reference name finder unresolvedreferencenamefinder ast visitor astvisitor max count fake blocks count unresolved reference name requestor unresolvedreferencenamerequestor accept name acceptname unresolved reference name requestor unresolvedreferencenamerequestor requestor completion engine completionengine completion engine completionengine completion parser completionparser parser completion scanner completionscanner completion scanner completionscanner parents ptr parentsptr ast node astnode parents potential variable names ptr potentialvariablenamesptr potential variable names potentialvariablenames potential variable name starts potentialvariablenamestarts simple set of char array simplesetofchararray accepted names acceptednames simple set of char array simplesetofchararray unresolved reference name finder unresolvedreferencenamefinder completion engine completionengine completion engine completionengine completion engine completionengine completion engine completionengine parser completion engine completionengine parser completion scanner completionscanner completion scanner completionscanner parser scanner accept name acceptname check bug https bugs eclipse org bugs bug cgi char operation charoperation prefix equals prefixequals completion engine completionengine completion token completiontoken ignore completion engine completionengine options camel case match camelcasematch char operation charoperation camel case match camelcasematch completion engine completionengine completion token completiontoken accepted names acceptednames includes accepted names acceptednames add accept result requestor accept name acceptname find start with startwith initializer initializer class scope classscope scope discouraged names discouragednames unresolved reference name requestor unresolvedreferencenamerequestor name requestor namerequestor method declaration methoddeclaration fake method fakemethod find after findafter start with startwith scope initializer body end bodyend max count discouraged names discouragednames name requestor namerequestor fake method fakemethod fake method fakemethod traverse scope find start with startwith abstract method declaration abstractmethoddeclaration method declaration methoddeclaration discouraged names discouragednames unresolved reference name requestor unresolvedreferencenamerequestor name requestor namerequestor method declaration methoddeclaration fake method fakemethod find after findafter start with startwith method declaration methoddeclaration scope method declaration methoddeclaration body end bodyend max count discouraged names discouragednames name requestor namerequestor fake method fakemethod fake method fakemethod traverse method declaration methoddeclaration scope class scope classscope find after findafter start with startwith scope scope class scope classscope class scope classscope discouraged names discouragednames unresolved reference name requestor unresolvedreferencenamerequestor name requestor namerequestor method declaration methoddeclaration fake method fakemethod find after findafter start with startwith scope max count discouraged names discouragednames name requestor namerequestor fake method fakemethod fake method fakemethod traverse class scope classscope method declaration methoddeclaration find after findafter start with startwith scope max line count maxlinecount out side enclosing block outsideenclosingblock discouraged names discouragednames unresolved reference name requestor unresolvedreferencenamerequestor name requestor namerequestor requestor name requestor namerequestor reinitialize completion scanner usable normal scanner completion scanner completionscanner cursor location cursorlocation out side enclosing block outsideenclosingblock compute location current block completion scanner completionscanner reset to resetto completion scanner completionscanner jump over block jumpoverblock completion scanner completionscanner start position startposition max end maxend completion scanner completionscanner get line end getlineend util get line number getlinenumber completion scanner completionscanner line ends lineends completion scanner completionscanner line ptr lineptr max line count maxlinecount max end maxend max end maxend max end maxend parser start recording identifiers startrecordingidentifiers method declaration methoddeclaration fake method fakemethod parser parse some statements parsesomestatements out side enclosing block outsideenclosingblock fake blocks count compilation unit scope compilationunitscope reference context referencecontext parser stop recording identifiers stoprecordingidentifiers init potential names tables initpotentialnamestables discouraged names discouragednames parents ptr parentsptr parents ast node astnode fake method fakemethod find before findbefore start with startwith scope scope class scope classscope class scope classscope record to recordto parse to parseto discouraged names discouragednames unresolved reference name requestor unresolvedreferencenamerequestor name requestor namerequestor method declaration methoddeclaration fake method fakemethod find before findbefore start with startwith scope record to recordto parse to parseto max count discouraged names discouragednames name requestor namerequestor fake method fakemethod fake method fakemethod traverse class scope classscope method declaration methoddeclaration find before findbefore start with startwith scope record to recordto parse to parseto max line count maxlinecount discouraged names discouragednames unresolved reference name requestor unresolvedreferencenamerequestor name requestor namerequestor requestor name requestor namerequestor reinitialize completion scanner usable normal scanner completion scanner completionscanner cursor location cursorlocation min start minstart completion scanner completionscanner get line start getlinestart util get line number getlinenumber record to recordto completion scanner completionscanner line ends lineends completion scanner completionscanner line ptr lineptr max line count maxlinecount start fake blocks count fakeblockscount min start minstart start fake blocks count fakeblockscount start min start minstart fake blocks count fakeblockscount fake blocks count parser start recording identifiers startrecordingidentifiers start record to recordto method declaration methoddeclaration fake method fakemethod parser parse some statements parsesomestatements start parse to parseto fake blocks count fakeblockscount compilation unit scope compilationunitscope reference context referencecontext parser stop recording identifiers stoprecordingidentifiers init potential names tables initpotentialnamestables discouraged names discouragednames parents ptr parentsptr parents ast node astnode fake method fakemethod init potential names tables initpotentialnamestables discouraged names discouragednames pvns parser potential variable names potentialvariablenames pvnss parser potential variable name starts potentialvariablenamestarts pvns ptr pvnsptr parser potential variable names ptr potentialvariablenamesptr potential names pvns ptr pvnsptr remove discouraged names discouragednames discouraged names count discouragednamescount discouraged names discouragednames discouraged names discouragednames length pvns ptr pvnsptr temp pvns temp discouraged names count discouragednamescount char operation charoperation equals temp discouraged names discouragednames pvns pvns temp pvnss pvnss pvns ptr pvnsptr potential names pvns ptr pvnsptr potential variable names potentialvariablenames pvns potential variable name starts potentialvariablenamestarts pvnss potential variable names ptr potentialvariablenamesptr pvns ptr pvnsptr pop parent popparent parents ptr parentsptr push parent pushparent ast node astnode parent length parents length parents ptr parentsptr length system arraycopy parents parents ast node astnode length length parents parents ptr parentsptr parent ast node astnode get enclosing declaration getenclosingdeclaration parents ptr parentsptr ast node astnode parent parents parent abstract method declaration abstractmethoddeclaration parent parent initializer parent parent field declaration fielddeclaration parent parent type declaration typedeclaration parent visit block block block scope blockscope block scope blockscope ast node astnode enclosing declaration enclosingdeclaration get enclosing declaration getenclosingdeclaration remove locals removelocals block statements enclosing declaration enclosingdeclaration source start sourcestart block source end sourceend push parent pushparent block visit constructor declaration constructordeclaration constructor declaration constructordeclaration class scope classscope class scope classscope constructor declaration constructordeclaration bits ast node astnode is default constructor isdefaultconstructor constructor declaration constructordeclaration is clinit isclinit remove locals removelocals constructor declaration constructordeclaration arguments constructor declaration constructordeclaration declaration source start declarationsourcestart constructor declaration constructordeclaration declaration source end declarationsourceend remove locals removelocals constructor declaration constructordeclaration statements constructor declaration constructordeclaration declaration source start declarationsourcestart constructor declaration constructordeclaration declaration source end declarationsourceend push parent pushparent constructor declaration constructordeclaration visit field declaration fielddeclaration field declaration fielddeclaration method scope methodscope method scope methodscope push parent pushparent field declaration fielddeclaration visit initializer initializer method scope methodscope method scope methodscope push parent pushparent initializer visit method declaration methoddeclaration method declaration methoddeclaration class scope classscope class scope classscope remove locals removelocals method declaration methoddeclaration arguments method declaration methoddeclaration declaration source start declarationsourcestart method declaration methoddeclaration declaration source end declarationsourceend remove locals removelocals method declaration methoddeclaration statements method declaration methoddeclaration declaration source start declarationsourcestart method declaration methoddeclaration declaration source end declarationsourceend push parent pushparent method declaration methoddeclaration visit type declaration typedeclaration local type declaration localtypedeclaration block scope blockscope block scope blockscope remove fields removefields local type declaration localtypedeclaration push parent pushparent local type declaration localtypedeclaration visit type declaration typedeclaration member type declaration membertypedeclaration class scope classscope class scope classscope remove fields removefields member type declaration membertypedeclaration push parent pushparent member type declaration membertypedeclaration end visit endvisit block block block scope blockscope block scope blockscope pop parent popparent end visit endvisit argument argument block scope blockscope block scope blockscope end visit removed endvisitremoved argument declaration source start declarationsourcestart argument source end sourceend end visit endvisit argument argument class scope classscope class scope classscope end visit removed endvisitremoved argument declaration source start declarationsourcestart argument source end sourceend end visit endvisit constructor declaration constructordeclaration constructor declaration constructordeclaration class scope classscope class scope classscope constructor declaration constructordeclaration bits ast node astnode is default constructor isdefaultconstructor constructor declaration constructordeclaration is clinit isclinit end visit preserved endvisitpreserved constructor declaration constructordeclaration body start bodystart constructor declaration constructordeclaration body end bodyend pop parent popparent end visit endvisit field declaration fielddeclaration field declaration fielddeclaration method scope methodscope method scope methodscope end visit removed endvisitremoved field declaration fielddeclaration declaration source start declarationsourcestart field declaration fielddeclaration source end sourceend end visit preserved endvisitpreserved field declaration fielddeclaration source end sourceend field declaration fielddeclaration declaration end declarationend pop parent popparent end visit endvisit initializer initializer method scope methodscope method scope methodscope end visit preserved endvisitpreserved initializer body start bodystart initializer body end bodyend pop parent popparent end visit endvisit local declaration localdeclaration local declaration localdeclaration block scope blockscope block scope blockscope end visit removed endvisitremoved local declaration localdeclaration declaration source start declarationsourcestart local declaration localdeclaration source end sourceend end visit endvisit method declaration methoddeclaration method declaration methoddeclaration class scope classscope class scope classscope end visit preserved endvisitpreserved method declaration methoddeclaration body start bodystart method declaration methoddeclaration body end bodyend pop parent popparent end visit endvisit type declaration typedeclaration type declaration typedeclaration block scope blockscope block scope blockscope end visit removed endvisitremoved type declaration typedeclaration source start sourcestart type declaration typedeclaration declaration source end declarationsourceend pop parent popparent end visit endvisit type declaration typedeclaration type declaration typedeclaration class scope classscope class scope classscope end visit removed endvisitremoved type declaration typedeclaration source start sourcestart type declaration typedeclaration declaration source end declarationsourceend pop parent popparent index of fisrt name after indexoffisrtnameafter position left potential variable names ptr potentialvariablenamesptr left mid left left mid position midposition potential variable name starts potentialvariablenamestarts mid mid position midposition next mid nextmid index of next name indexofnextname mid next mid nextmid next mid nextmid mid mid next mid nextmid mid position midposition potential variable name starts potentialvariablenamestarts next mid nextmid mid move left mid left position leftposition potential variable name starts potentialvariablenamestarts left left empty left position left position leftposition left position leftposition position next left nextleft index of next name indexofnextname left next left nextleft left next left nextleft left left mid position midposition position left mid mid mid position midposition position mid index of next name indexofnextname next index nextindex next index nextindex potential variable names ptr potentialvariablenamesptr potential variable names potentialvariablenames next index nextindex jump index jumpindex potential variable name starts potentialvariablenamestarts next index nextindex jump index jumpindex next index nextindex jump index jumpindex next index nextindex potential variable names ptr potentialvariablenamesptr next index nextindex potential variable names ptr potentialvariablenamesptr potential variable names ptr potentialvariablenamesptr next index nextindex potential variable name starts potentialvariablenamestarts next index nextindex next index nextindex remove name at removenameat potential variable names potentialvariablenames next index nextindex index of next name indexofnextname next index nextindex potential variable name starts potentialvariablenamestarts next index nextindex potential variable names ptr potentialvariablenamesptr end visit preserved endvisitpreserved start index of fisrt name after indexoffisrtnameafter start name start namestart potential variable name starts potentialvariablenamestarts start name start namestart name start namestart accept name acceptname potential variable names potentialvariablenames remove name at removenameat name start namestart index of next name indexofnextname end visit removed endvisitremoved start index of fisrt name after indexoffisrtnameafter start name start namestart potential variable name starts potentialvariablenamestarts start name start namestart name start namestart remove name at removenameat name start namestart index of next name indexofnextname remove locals removelocals statement statements start statements statements length statements local declaration localdeclaration local declaration localdeclaration local declaration localdeclaration local declaration localdeclaration statements index of fisrt name after indexoffisrtnameafter start name start namestart potential variable name starts potentialvariablenamestarts start name start namestart name start namestart char operation charoperation equals potential variable names potentialvariablenames local declaration localdeclaration remove name at removenameat name start namestart index of next name indexofnextname remove fields removefields type declaration typedeclaration type declaration typedeclaration start type declaration typedeclaration declaration source start declarationsourcestart type declaration typedeclaration declaration source end declarationsourceend field declaration fielddeclaration field declarations fielddeclarations type declaration typedeclaration fields field declarations fielddeclarations field declarations fielddeclarations length index of fisrt name after indexoffisrtnameafter start name start namestart potential variable name starts potentialvariablenamestarts start name start namestart name start namestart char operation charoperation equals potential variable names potentialvariablenames field declarations fielddeclarations remove name at removenameat name start namestart index of next name indexofnextname
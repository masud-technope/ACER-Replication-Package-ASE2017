copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation t erry terry parker tparker google performance hit rates java model javamodel caches https bugs eclipse org org eclipse jdt internal core builder org eclipse core resources org eclipse core runtime org eclipse jdt core org eclipse jdt core compiler org eclipse jdt internal compiler util simple lookup table simplelookuptable org eclipse jdt internal core org eclipse jdt internal core util messages org eclipse jdt internal core util util java java util suppress warnings suppresswarnings rawtypes unchecked java builder javabuilder incremental project builder incrementalprojectbuilder i project iproject current project currentproject java project javaproject java project javaproject i workspace root iworkspaceroot workspace root workspaceroot compilation participant compilationparticipant participants name environment nameenvironment name environment nameenvironment maps project binary resources output folders folders zip jar files simple lookup table simplelookuptable binary locations per project binarylocationsperproject last state laststate build not ifier buildnotifier not ifier notifier extra resource file filters extraresourcefilefilters string extra resource folder filters extraresourcefolderfilters nls string source jdt debug stats list project names built list reset java model javamodel existing external files existingexternalfiles cache build cycle deleted external jars discovered array list arraylist built projects builtprojects i marker imarker get problems for getproblemsfor i resource iresource resource resource resource exists i marker imarker markers resource find markers findmarkers i java model marker ijavamodelmarker java model problem marker i resource iresource depth infinite marker types markertypes java model manager javamodelmanager get java model manager getjavamodelmanager compilation participants compilationparticipants managed marker types managedmarkertypes marker types markertypes is empty isempty markers array list arraylist marker list markerlist array list arraylist length markers length length marker list markerlist add markers iterator iterator marker types markertypes iterator iterator has next hasnext markers resource find markers findmarkers string iterator i resource iresource depth infinite length markers length length marker list markerlist add markers i marker imarker result marker list markerlist to array toarray result i marker imarker marker list markerlist size result core exception coreexception i marker imarker i marker imarker get tasks for gettasksfor i resource iresource resource resource resource exists resource find markers findmarkers i java model marker ijavamodelmarker task marker i resource iresource depth infinite core exception coreexception i marker imarker hook allowing initialize complete build iteration hook invoked pre auto build not ification notification build starting buildstarting build start hook allowing reset complete build iteration hook invoked post auto build not ification notification build finished buildfinished build not ifier buildnotifier reset problem count ers resetproblemcounters remove problems for removeproblemsfor i resource iresource resource resource resource exists resource delete markers deletemarkers i java model marker ijavamodelmarker java model problem marker i resource iresource depth infinite delete managed markers marker types markertypes java model manager javamodelmanager get java model manager getjavamodelmanager compilation participants compilationparticipants managed marker types managedmarkertypes marker types markertypes size iterator iterator marker types markertypes iterator iterator has next hasnext resource delete markers deletemarkers string iterator i resource iresource depth infinite core exception coreexception remove tasks for removetasksfor i resource iresource resource resource resource exists resource delete markers deletemarkers i java model marker ijavamodelmarker task marker i resource iresource depth infinite core exception coreexception remove problems and tasks for removeproblemsandtasksfor i resource iresource resource resource resource exists resource delete markers deletemarkers i java model marker ijavamodelmarker java model problem marker i resource iresource depth infinite resource delete markers deletemarkers i java model marker ijavamodelmarker task marker i resource iresource depth infinite delete managed markers marker types markertypes java model manager javamodelmanager get java model manager getjavamodelmanager compilation participants compilationparticipants managed marker types managedmarkertypes marker types markertypes size iterator iterator marker types markertypes iterator iterator has next hasnext resource delete markers deletemarkers string iterator i resource iresource depth infinite core exception coreexception read state readstate i project iproject project data input stream datainputstream io exception ioexception read project write state writestate object data output stream dataoutputstream io exception ioexception write i project iproject build kind map i progress monitor iprogressmonitor monitor core exception coreexception current project currentproject get project getproject current project currentproject current project currentproject is accessible isaccessible i project iproject debug system println nls n java builder njavabuilder starting build current project currentproject get name getname nls system current time millis currenttimemillis not ifier notifier build not ifier buildnotifier monitor current project currentproject not ifier notifier not ifier notifier check cancel checkcancel kind initialize builder initializebuilder kind is worth building isworthbuilding kind full build debug system println java builder javabuilder performing full build requested build all buildall last state laststate get last state getlaststate current project currentproject debug system println java builder javabuilder performing full build saved build all buildall has classpath changed hasclasspathchanged user debug system println java builder javabuilder performing full build classpath changed build all buildall name environment nameenvironment source locations sourcelocations length source compile classpath simple lookup table simplelookuptable deltas find deltas finddeltas deltas debug system println java builder javabuilder performing full build deltas missing incremental request build all buildall deltas element size elementsize build deltas builddeltas deltas debug system println java builder javabuilder build deltas empty check jar file didn replaced binary project has structural delta hasstructuraldelta debug system println java builder javabuilder performing full build structural deltas build all buildall debug system println java builder javabuilder build source folders deltas last state laststate tag as noop build tagasnoopbuild core exception coreexception util log java builder javabuilder handling core exception coreexception building current project currentproject get name getname create inconsistent build marker createinconsistentbuildmarker image builder internal exception imagebuilderinternalexception util log get throwable getthrowable java builder javabuilder handling image builder internal exception imagebuilderinternalexception building current project currentproject get name getname create inconsistent build marker createinconsistentbuildmarker core exception coreexception missing source file exception missingsourcefileexception debug system println messages bind messages build missing source file missingsourcefile missing source file missingsourcefile remove problems and tasks for removeproblemsandtasksfor current project currentproject i marker imarker marker current project currentproject create marker createmarker i java model marker ijavamodelmarker java model problem marker marker set attributes setattributes string i marker imarker message i marker imarker severity i marker imarker source object messages bind messages build missing source file missingsourcefile missing source file missingsourcefile integer value of valueof i marker imarker severity error java builder javabuilder source participants participants length participants build finished buildfinished java project javaproject build failed clear built for cing forcing full build time clear last state clearlaststate not ifier notifier cleanup i project iproject required projects requiredprojects get required projects getrequiredprojects debug system println nls java builder javabuilder finished build current project currentproject get name getname system current time millis currenttimemillis nls nls required projects requiredprojects build all buildall not ifier notifier check cancel checkcancel not ifier notifier sub task subtask messages bind messages build preparing build preparingbuild current project currentproject get name getname debug last state laststate nls system println java builder javabuilder clearing last state laststate clear last state clearlaststate batch image builder batchimagebuilder image builder imagebuilder batch image builder batchimagebuilder image builder imagebuilder build record new state recordnewstate image builder imagebuilder new state newstate build deltas builddeltas simple lookup table simplelookuptable deltas not ifier notifier check cancel checkcancel not ifier notifier sub task subtask messages bind messages build preparing build preparingbuild current project currentproject get name getname debug last state laststate nls system println java builder javabuilder clearing last state laststate clear built build fails full build occur time clear last state clearlaststate incremental image builder incrementalimagebuilder image builder imagebuilder incremental image builder incrementalimagebuilder image builder imagebuilder build deltas record new state recordnewstate image builder imagebuilder new state newstate debug nls system println java builder javabuilder performing full build incremental build failed build all buildall clean i progress monitor iprogressmonitor monitor core exception coreexception current project currentproject get project getproject current project currentproject current project currentproject is accessible isaccessible debug system println nls n java builder njavabuilder cleaning current project currentproject get name getname nls system current time millis currenttimemillis not ifier notifier build not ifier buildnotifier monitor current project currentproject not ifier notifier not ifier notifier check cancel checkcancel initialize builder initializebuilder clean build debug nls system println java builder javabuilder clearing clean last state laststate clear last state clearlaststate remove problems and tasks for removeproblemsandtasksfor current project currentproject batch image builder batchimagebuilder clean output folders cleanoutputfolders core exception coreexception util log java builder javabuilder handling core exception coreexception cleaning current project currentproject get name getname create inconsistent build marker createinconsistentbuildmarker not ifier notifier cleanup debug system println nls java builder javabuilder finished cleaning current project currentproject get name getname nls system current time millis currenttimemillis create inconsistent build marker createinconsistentbuildmarker core exception coreexception core exception coreexception core exception coreexception string message i status istatus status core exception coreexception get status getstatus status is multi status ismultistatus i status istatus children status get children getchildren children children length message children get message getmessage message message core exception coreexception get message getmessage i marker imarker marker current project currentproject create marker createmarker i java model marker ijavamodelmarker java model problem marker marker set attributes setattributes string i marker imarker message i marker imarker severity i java model marker ijavamodelmarker category i marker imarker source object messages bind messages build inconsistent project inconsistentproject message integer value of valueof i marker imarker severity error integer value of valueof categorized problem categorizedproblem cat buildpath java builder javabuilder source cleanup participants name environment nameenvironment binary locations per project binarylocationsperproject last state laststate not ifier notifier extra resource file filters extraresourcefilefilters extra resource folder filters extraresourcefolderfilters clear last state clearlaststate java model manager javamodelmanager get java model manager getjavamodelmanager set last built state setlastbuiltstate current project currentproject filter extra resource filterextraresource i resource iresource resource extra resource file filters extraresourcefilefilters resource get name getname to char array tochararray extra resource file filters extraresourcefilefilters length char operation charoperation match extra resource file filters extraresourcefilefilters extra resource folder filters extraresourcefolderfilters i path ipath path resource get project relative path getprojectrelativepath string path name pathname path to string tostring count path segment count segmentcount resource get type gettype i resource iresource file count extra resource folder filters extraresourcefolderfilters length path name pathname index of indexof extra resource folder filters extraresourcefolderfilters count extra resource folder filters extraresourcefolderfilters equals path segment simple lookup table simplelookuptable find deltas finddeltas not ifier notifier sub task subtask messages bind messages build reading delta readingdelta current project currentproject get name getname i resource delta iresourcedelta delta get delta getdelta current project currentproject simple lookup table simplelookuptable deltas simple lookup table simplelookuptable delta delta get kind getkind i resource delta iresourcedelta change debug nls system println nls java builder javabuilder source delta current project currentproject get name getname deltas current project currentproject delta debug nls system println java builder javabuilder missing delta current project currentproject get name getname nls not ifier notifier sub task subtask object key table keytable binary locations per project binarylocationsperproject key table keytable object value table valuetable binary locations per project binarylocationsperproject value table valuetable next project nextproject key table keytable length i project iproject i project iproject key table keytable current project currentproject get last state getlaststate skip delta last state laststate was str ucturally changed wasstructurallychanged was noop build wasnoopbuild project source folders skipped next project nextproject classpath location classpathlocation class folders and jars classfoldersandjars classpath location classpathlocation value table valuetable can skip canskip class folders and jars classfoldersandjars length class folders and jars classfoldersandjars is output folder isoutputfolder ignore output folder project str ucturally structurally changed class folders and jars classfoldersandjars can skip canskip project structural output folders can skip canskip next project nextproject not ifier notifier sub task subtask messages bind messages build reading delta readingdelta get name getname delta get delta getdelta delta delta get kind getkind i resource delta iresourcedelta change debug system println nls java builder javabuilder binary delta nls get name getname deltas delta debug nls system println nls java builder javabuilder missing delta get name getname nls not ifier notifier sub task subtask nls nls not ifier notifier sub task subtask deltas get last state getlaststate i project iproject project java model manager javamodelmanager get java model manager getjavamodelmanager get last built state getlastbuiltstate project not ifier notifier monitor list projects requires resource delta builder project impl icitly implicitly included build ers builders list int eresting interesting projects time carried build missing projects workspace i project iproject get required projects getrequiredprojects include binary prerequisites includebinaryprerequisites java project javaproject workspace root workspaceroot i project iproject array list arraylist projects array list arraylist external folders manager externalfoldersmanager external folders manager externalfoldersmanager java model manager javamodelmanager get external manager getexternalmanager i classpath entry iclasspathentry entries java project javaproject get expanded classpath getexpandedclasspath entries length i classpath entry iclasspathentry entry entries i path ipath path entry get path getpath i project iproject entry get entry kind getentrykind i classpath entry iclasspathentry cpe project missing projects considered workspace root workspaceroot get project getproject path last segment lastsegment entry optional classpath entry classpathentry entry is optional isoptional java project javaproject has java nature hasjavanature i classpath entry iclasspathentry cpe library include binary prerequisites includebinaryprerequisites path segment count segmentcount binary resources path projects included project references i resource iresource resource workspace root workspaceroot find member findmember path segment resource i project iproject i project iproject resource resource external folders manager externalfoldersmanager get folder getfolder path resource resource get project getproject projects projects add java model exception javamodelexception i project iproject i project iproject result i project iproject projects size projects to array toarray result result has buildpath errors hasbuildpatherrors core exception coreexception i marker imarker markers current project currentproject find markers findmarkers i java model marker ijavamodelmarker java model problem marker i resource iresource depth markers length markers get attribute getattribute i java model marker ijavamodelmarker category categorized problem categorizedproblem cat buildpath has classpath changed hasclasspathchanged classpath multi directory classpathmultidirectory new source locations newsourcelocations name environment nameenvironment source locations sourcelocations classpath multi directory classpathmultidirectory old source locations oldsourcelocations last state laststate source locations sourcelocations new length newlength new source locations newsourcelocations length old length oldlength old source locations oldsourcelocations length new length newlength old length oldlength checks source output folders new source locations newsourcelocations equals old source locations oldsourcelocations empty source folder new source locations newsourcelocations source folder sourcefolder members length last state laststate is source folder empty issourcefolderempty old source locations oldsourcelocations source folder sourcefolder core exception coreexception skip ignore debug nls nls system println java builder javabuilder location new source locations newsourcelocations location old source locations oldsourcelocations print locations printlocations new source locations newsourcelocations old source locations oldsourcelocations new length newlength empty source folder new source locations newsourcelocations source folder sourcefolder members length core exception coreexception skip ignore debug nls system println java builder javabuilder empty source folder print locations printlocations new source locations newsourcelocations old source locations oldsourcelocations old length oldlength last state laststate is source folder empty issourcefolderempty old source locations oldsourcelocations source folder sourcefolder debug nls system println java builder javabuilder removed empty source folder print locations printlocations new source locations newsourcelocations old source locations oldsourcelocations classpath location classpathlocation new binary locations newbinarylocations name environment nameenvironment binary locations binarylocations classpath location classpathlocation old binary locations oldbinarylocations last state laststate binary locations binarylocations new length newlength new binary locations newbinarylocations length old length oldlength old binary locations oldbinarylocations length new length newlength old length oldlength new binary locations newbinarylocations equals old binary locations oldbinarylocations debug nls nls system println java builder javabuilder location new binary locations newbinarylocations location old binary locations oldbinarylocations print locations printlocations new binary locations newbinarylocations old binary locations oldbinarylocations new length newlength old length oldlength debug nls system println java builder javabuilder number binary folders jar files changed print locations printlocations new binary locations newbinarylocations old binary locations oldbinarylocations has java builder hasjavabuilder i project iproject project core exception coreexception i command icommand build commands buildcommands project get description getdescription get build spec getbuildspec build commands buildcommands length build commands buildcommands get builder name getbuildername equals java core javacore builder has structural delta hasstructuraldelta handle current project currentproject file folders jar files source output folders i resource delta iresourcedelta delta get delta getdelta current project currentproject delta delta get kind getkind i resource delta iresourcedelta change classpath location classpathlocation class folders and jars classfoldersandjars classpath location classpathlocation binary locations per project binarylocationsperproject current project currentproject class folders and jars classfoldersandjars class folders and jars classfoldersandjars length file folder zip jar file classpath location classpathlocation class folder or jar classfolderorjar class folders and jars classfoldersandjars class folder or jar classfolderorjar i path ipath class folder or jar classfolderorjar get project relative path getprojectrelativepath i resource delta iresourcedelta binary delta binarydelta delta find member findmember binary delta binarydelta binary delta binarydelta get kind getkind i resource delta iresourcedelta change initialize builder initializebuilder kind for build forbuild core exception coreexception calls name environment nameenvironment initialized skip java project javaproject java project javaproject java core javacore create current project currentproject workspace root workspaceroot current project currentproject get workspace getworkspace get root getroot for build forbuild cache participants project participants java model manager javamodelmanager get java model manager getjavamodelmanager compilation participants compilationparticipants get compilation participants getcompilationparticipants java project javaproject participants participants length participants about to build abouttobuild java project javaproject compilation participant compilationparticipant full build kind full build flush existing external files cache build cycle string project name projectname current project currentproject get name getname built projects builtprojects built projects builtprojects project name projectname built projects builtprojects array list arraylist built projects builtprojects add project name projectname binary locations per project binarylocationsperproject simple lookup table simplelookuptable name environment nameenvironment name environment nameenvironment workspace root workspaceroot java project javaproject binary locations per project binarylocationsperproject not ifier notifier for build forbuild string filter sequence filtersequence java project javaproject get option getoption java core javacore core java build resource copy filter filters filter sequence filtersequence filter sequence filtersequence length char operation charoperation split and trim on splitandtrimon filter sequence filtersequence to char array tochararray filters extra resource file filters extraresourcefilefilters extra resource folder filters extraresourcefolderfilters file count filecount folder count foldercount filters length filters length length folder count foldercount file count filecount extra resource file filters extraresourcefilefilters file count filecount extra resource folder filters extraresourcefolderfilters string folder count foldercount filters length filters length length extra resource folder filters extraresourcefolderfilters folder count foldercount string length extra resource file filters extraresourcefilefilters file count filecount kind is classpath broken isclasspathbroken java project javaproject j proj jproj try repair tryrepair core exception coreexception i marker imarker markers j proj jproj get project getproject find markers findmarkers i java model marker ijavamodelmarker buildpath problem marker i resource iresource depth markers length markers get attribute getattribute i marker imarker severity i marker imarker severity error try repair tryrepair object code markers get attribute getattribute i java model marker ijavamodelmarker code integer integer code i java model status constants ijavamodelstatusconstants invalid external annotation path classpath validation classpathvalidation j proj jproj validate is classpath broken isclasspathbroken j proj jproj is worth building isworthbuilding core exception coreexception abort builds abortbuilds java core javacore abort equals java project javaproject get option getoption java core javacore core java build invalid classpath abort builds abortbuilds debug nls system println java builder javabuilder ignoring invalid classpath abort build classpath errors is classpath broken isclasspathbroken java project javaproject debug nls system println java builder javabuilder aborted build project classpath errors incomplete involved cycle remove compilation problems remove problems and tasks for removeproblemsandtasksfor current project currentproject i marker imarker marker current project currentproject create marker createmarker i java model marker ijavamodelmarker java model problem marker marker set attributes setattributes string i marker imarker message i marker imarker severity i java model marker ijavamodelmarker category i marker imarker source object messages build abort due to classpath problems abortduetoclasspathproblems integer value of valueof i marker imarker severity error integer value of valueof categorized problem categorizedproblem cat buildpath java builder javabuilder source java core javacore warning equals java project javaproject get option getoption java core javacore core incomplete classpath prereq projects valid build aborting builds projects cycles build projects involved warning cycle i project iproject required projects requiredprojects get required projects getrequiredprojects required projects requiredprojects length i project iproject required projects requiredprojects get last state getlaststate prereq project build prereq project warning cycle marker build bug java project javaproject prereq java project javaproject java core javacore create prereq has cycle marker hascyclemarker java core javacore warning equals java project javaproject get option getoption java core javacore core circular classpath debug system println nls java builder javabuilder continue d continued build prereq project nls get name getname built cycle has java builder hasjavabuilder debug system println nls java builder javabuilder continue d continued build prereq project nls get name getname built java builder javabuilder debug system println nls java builder javabuilder aborted build prereq project nls get name getname nls built problem project remove problems and tasks for removeproblemsandtasksfor current project currentproject i marker imarker marker current project currentproject create marker createmarker i java model marker ijavamodelmarker java model problem marker marker set attributes setattributes string i marker imarker message i marker imarker severity i java model marker ijavamodelmarker category i marker imarker source object is classpath broken isclasspathbroken prereq messages bind messages build prereq project has classpath problems prereqprojecthasclasspathproblems get name getname messages bind messages build prereq project must be rebuilt prereqprojectmustberebuilt get name getname integer value of valueof i marker imarker severity error integer value of valueof categorized problem categorizedproblem cat buildpath java builder javabuilder source ins truc t instruct build manager project involved cycle propagate structural projects cycle must prop agate structural changes mustpropagatestructuralchanges linked hash set linkedhashset cycle participants cycleparticipants linked hash set linkedhashset java project javaproject update cycle participants updatecycleparticipants array list arraylist cycle participants cycleparticipants workspace root workspaceroot hash set hashset i path ipath current path currentpath java project javaproject get path getpath iterator cycle participants cycleparticipants iterator has next hasnext i path ipath participant path participantpath i path ipath participant path participantpath current path currentpath i project iproject project workspace root workspaceroot get project getproject participant path participantpath segment has been built hasbeenbuilt project debug system println nls java builder javabuilder requesting build iteration cycle participant nls project get name getname structural need rebuild needrebuild print locations printlocations classpath location classpathlocation new locations newlocations classpath location classpathlocation old locations oldlocations nls system println java builder javabuilder locations length new locations newlocations length length nls system println new locations newlocations debug path string debugpathstring nls system println java builder javabuilder locations length old locations oldlocations length length nls system println old locations oldlocations debug path string debugpathstring record new state recordnewstate object key table keytable binary locations per project binarylocationsperproject key table keytable key table keytable length i project iproject prereq project prereqproject i project iproject key table keytable prereq project prereqproject prereq project prereqproject current project currentproject record structural dependency recordstructuraldependency prereq project prereqproject get last state getlaststate prereq project prereqproject debug nls system println java builder javabuilder recording dump java model manager javamodelmanager get java model manager getjavamodelmanager set last built state setlastbuiltstate current project currentproject string representation debug ging debugging purposes string to string tostring current project currentproject nls java builder javabuilder unknown project nls java builder javabuilder current project currentproject get name getname
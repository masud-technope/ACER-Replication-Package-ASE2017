copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler impl org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler lookup array allocation expression arrayallocationexpression expression type reference typereference type dimensions length number dimensions nulled expression dimensions array initializer arrayinitializer initializer array allocation expression arrayallocationexpression constructor comment array allocation expression arrayallocationexpression flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo max dimensions length max expression dim dim dimensions flow info flowinfo dim analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo initializer initializer analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo flow info flowinfo code generation array allocation expression generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired code stream codestream position initializer initializer generate code generatecode current scope currentscope code stream codestream value required valuerequired non null dimensions length nonnulldimensionslength max dimensions length max dimensions dimensions generate code generatecode current scope currentscope code stream codestream non null dimensions length nonnulldimensionslength generate sequence byte codes bytecodes array allocation resolved type resolvedtype dimensions mono dim ensional dimensional array code stream codestream new array newarray current scope currentscope array binding arraybinding resolved type resolvedtype multi dim ensional dimensional array code stream codestream multianewarray resolved type resolvedtype non null dimensions length nonnulldimensionslength value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion code stream codestream pop code stream codestream record positions from recordpositionsfrom source start sourcestart string buffer stringbuffer print expression printexpression indent string buffer stringbuffer output nls output append type print output dimensions length dimensions nls output append nls output append dimensions print expression printexpression output output append initializer initializer print expression printexpression output output type binding typebinding resolve type resolvetype block scope blockscope scope build array type reference current dimensions parser check fact dimension parser checked reduction grammar type binding typebinding reference type referencetype type resolve type resolvetype scope check dimensions checked constant constant notaconstant reference type referencetype void binding voidbinding scope problem reporter problemreporter cannot all ocate void array cannotallocatevoidarray reference type referencetype check val idity validity dimension syntax test dimensions explicit dim index explicitdimindex dimensions length dimensions explicit dim index explicitdimindex explicit dim index explicitdimindex explicit dim index explicitdimindex empty dimension empty scope problem reporter problemreporter incorrect location for empty dimension incorrectlocationforemptydimension initializer dimension initializer explicit dim index explicitdimindex scope problem reporter problemreporter must define dimensions or initializer mustdefinedimensionsorinitializer explicit dim index explicitdimindex scope problem reporter problemreporter cannot define dimensions and initializer cannotdefinedimensionsandinitializer dimensions resolution explicit dim index explicitdimindex dimensions type binding typebinding dimension type dimensiontype dimensions resolve type expecting resolvetypeexpecting scope int binding intbinding dimension type dimensiontype dimensions compute conversion computeconversion scope int binding intbinding dimension type dimensiontype building array binding reference type referencetype dimensions length scope problem reporter problemreporter too many dimensions toomanydimensions list reference type referencetype is bound parameterized type isboundparameterizedtype reference type referencetype is generic type isgenerictype reference type referencetype is type variable istypevariable scope problem reporter problemreporter illegal generic array illegalgenericarray reference type referencetype resolved type resolvedtype scope create array type createarraytype reference type referencetype dimensions length check initializer initializer initializer resolve type expecting resolvetypeexpecting scope resolved type resolvedtype initializer binding array binding arraybinding resolved type resolvedtype resolved type resolvedtype traverse ast visitor astvisitor visitor block scope blockscope scope visitor visit scope dimensions length dimensionslength dimensions length type traverse visitor scope dimensions length dimensionslength dimensions dimensions traverse visitor scope initializer initializer traverse visitor scope visitor end visit endvisit scope
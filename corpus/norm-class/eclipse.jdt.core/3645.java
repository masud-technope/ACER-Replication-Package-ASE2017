copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors tyeung bea initial api implementation org eclipse jdt apt tests annotations apt rounding aptrounding java io exception ioexception java print writer printwriter java util collection sun mirror apt annotation processor annotationprocessor sun mirror apt annotation processor environment annotationprocessorenvironment sun mirror apt file r filer sun mirror apt messager sun mirror declaration type declaration typedeclaration gen annotation processor genannotationprocessor annotation processor annotationprocessor annotation processor environment annotationprocessorenvironment env gen annotation processor genannotationprocessor annotation processor environment annotationprocessorenvironment env env env process type declaration typedeclaration bean type beantype env get type declaration gettypedeclaration test bean file r filer file r filer env get file r getfiler bean type beantype print writer printwriter writer file r filer create source file createsourcefile test bean writer print test writer print bean writer close io exception ioexception collection type declaration typedeclaration type decls typedecls env get type declarations gettypedeclarations messager msger env get messager getmessager type decls typedecls size type declaration typedeclaration type type decls typedecls iterator type get qualified name getqualifiedname equals msger print error printerror expected find type get qualified name getqualifiedname msger print error printerror expected type declaration type decls typedecls
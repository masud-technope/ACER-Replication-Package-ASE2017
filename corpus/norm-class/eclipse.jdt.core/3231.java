copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core java util array list arraylist java util enumeration java util map org eclipse core resources org eclipse core runtime org eclipse jdt core org eclipse jdt core compiler char operation charoperation org eclipse jdt internal core util memento tokenizer mementotokenizer org eclipse jdt internal core util messages org eclipse jdt internal core util util suppress warnings suppresswarnings rawtypes unchecked package fragment root packagefragmentroot openable i package fragment root ipackagefragmentroot delimiter source path root path attachment server property attachment property delimiter source attachment property nls string source attachment resource root external jar i resource iresource resource constructs fragment root root java directory hierarchy package fragment root packagefragmentroot i resource iresource resource java project javaproject project project resource resource i package fragment root ipackagefragmentroot attach source attachsource i path ipath source path sourcepath i path ipath root path rootpath i progress monitor iprogressmonitor monitor java model exception javamodelexception verify attach source verifyattachsource source path sourcepath monitor monitor begin task begintask messages element attaching source attachingsource source mapper sourcemapper old mapper oldmapper get source mapper getsourcemapper root needs to be closed rootneedstobeclosed source path sourcepath source detached root needs to be closed rootneedstobeclosed set source mapper setsourcemapper disable deltas gdtusd fire delta notify source detach ement detachement java model manager javamodelmanager manager java model manager javamodelmanager java model manager javamodelmanager get java model manager getjavamodelmanager java model javamodel model java model javamodel get java model getjavamodel java element delta javaelementdelta attached source delta attachedsourcedelta java element delta javaelementdelta model attached source delta attachedsourcedelta source detached sourcedetached package fragment root packagefragmentroot manager register resource delta registerresourcedelta attached source delta attachedsourcedelta manager fire fire change fire delta notify source attachment java model manager javamodelmanager manager java model manager javamodelmanager java model manager javamodelmanager get java model manager getjavamodelmanager java model javamodel model java model javamodel get java model getjavamodel java element delta javaelementdelta attached source delta attachedsourcedelta java element delta javaelementdelta model attached source delta attachedsourcedelta source attached sourceattached package fragment root packagefragmentroot manager register resource delta registerresourcedelta attached source delta attachedsourcedelta manager fire fire change check current attachment i path ipath stored source path storedsourcepath get source attachment path getsourceattachmentpath i path ipath stored root path storedrootpath get source attachment root path getsourceattachmentrootpath monitor monitor worked stored source path storedsourcepath stored source path storedsourcepath equals source path sourcepath root path rootpath root path rootpath equals stored root path storedrootpath stored root path storedrootpath root needs to be closed rootneedstobeclosed check source path valid object target java model javamodel get target gettarget source path sourcepath target java model exception javamodelexception java model status javamodelstatus i java model status constants ijavamodelstatusconstants invalid path source path sourcepath source mapper sourcemapper mapper create source mapper createsourcemapper source path sourcepath root path rootpath root path rootpath mapper root path rootpath side calling source mapper sourcemapper constructor root path computed root path rootpath path mapper root path rootpath set source mapper setsourcemapper mapper source path sourcepath remove property util set source attachment property setsourceattachmentproperty get path getpath property path mapped source util set source attachment property setsourceattachmentproperty get path getpath source path sourcepath to string tostring nls root path rootpath attachment property delimiter root path rootpath to string tostring root needs to be closed rootneedstobeclosed old mapper oldmapper old mapper oldmapper close buffer manager buffermanager manager buffer manager buffermanager get default buffer manager getdefaultbuffermanager enumeration open buffers openbuffers manager get open buffers getopenbuffers open buffers openbuffers has more elements hasmoreelements i buffer ibuffer buffer i buffer ibuffer open buffers openbuffers next element nextelement i openable iopenable possible member possiblemember buffer get owner getowner is ancestor of isancestorof i java element ijavaelement possible member possiblemember buffer close monitor monitor worked java model exception javamodelexception util set source attachment property setsourceattachmentproperty get path getpath monitor monitor openable build structure buildstructure openable element info openableelementinfo info i progress monitor iprogressmonitor map new elements newelements i resource iresource underlying resource underlyingresource java model exception javamodelexception package fragment root info packagefragmentrootinfo info set root kind setrootkind determine kind determinekind underlying resource underlyingresource compute children computechildren info underlying resource underlyingresource source mapper sourcemapper create source mapper createsourcemapper i path ipath source path sourcepath i path ipath root path rootpath java model exception javamodelexception i classpath entry iclasspathentry entry java project javaproject get parent getparent get classpath entry for getclasspathentryfor get path getpath string encoding entry classpath entry classpathentry entry get source attachment encoding getsourceattachmentencoding source mapper sourcemapper mapper source mapper sourcemapper source path sourcepath root path rootpath root path rootpath toosstring workspace options external jar jar workspace options options get java project getjavaproject get options getoptions encoding mapper org eclipse jdt core i package fragment root ipackagefragmentroot delete delete update resource flags updateresourceflags update model flags updatemodelflags i progress monitor iprogressmonitor monitor java model exception javamodelexception delete package fragment root operation deletepackagefragmentrootoperation delete package fragment root operation deletepackagefragmentrootoperation update resource flags updateresourceflags update model flags updatemodelflags run operation runoperation monitor compute fragment children fragment root exception java model exception javamodelexception resource fragment root exist compute children computechildren openable element info openableelementinfo info i resource iresource underlying resource underlyingresource java model exception javamodelexception opened jar fragment root jar package fragment root jarpackagefragmentroot compute children computechildren fragment root underlying resource underlyingresource get type gettype i resource iresource folder underlying resource underlyingresource get type gettype i resource iresource project array list arraylist v children vchildren array list arraylist i container icontainer root folder rootfolder i container icontainer underlying resource underlyingresource inclusion patterns inclusionpatterns full inclusion pattern chars fullinclusionpatternchars exclusion patterns exclusionpatterns full exclusion pattern chars fullexclusionpatternchars compute folder children computefolderchildren root folder rootfolder util is excluded isexcluded root folder rootfolder inclusion patterns inclusionpatterns exclusion patterns exclusionpatterns char operation charoperation strings v children vchildren inclusion patterns inclusionpatterns exclusion patterns exclusionpatterns i java element ijavaelement children i java element ijavaelement v children vchildren size v children vchildren to array toarray children info set children setchildren children java model exception javamodelexception info set children setchildren i java element ijavaelement starting folder create fragments add fragments exc lused exclused collection children exception java model exception javamodelexception resource fragment exist compute folder children computefolderchildren i container icontainer folder is included isincluded string pkg name pkgname array list arraylist v children vchildren inclusion patterns inclusionpatterns exclusion patterns exclusionpatterns java model exception javamodelexception is included isincluded i package fragment ipackagefragment pkg get package fragment getpackagefragment pkg name pkgname v children vchildren add pkg i resource iresource members folder members has included hasincluded is included isincluded length members length length fragment root ref ers refers folder i project iproject folder get project getproject get java project getjavaproject get project getproject java project options verify i java project ijavaproject other java project otherjavaproject java core javacore create folder get project getproject string source level sourcelevel other java project otherjavaproject get option getoption java core javacore compiler source string compliance level compliancelevel other java project otherjavaproject get option getoption java core javacore compiler compliance java project javaproject java project javaproject java project javaproject get java project getjavaproject java model manager javamodelmanager manager java model manager javamodelmanager get java model manager getjavamodelmanager length i resource iresource member members string member name membername member get name getname member get type gettype i resource iresource folder https bugs eclipse org bugs bug cgi util is valid folder name for package isvalidfoldernameforpackage member name membername source level sourcelevel compliance level compliancelevel eliminate binary output nested direct sub folders subfolders java project javaproject member string new names newnames util array concat arrayconcat pkg name pkgname manager int ern intern member name membername is member included ismemberincluded util is excluded isexcluded member inclusion patterns inclusionpatterns exclusion patterns exclusionpatterns compute folder children computefolderchildren i folder ifolder member is member included ismemberincluded new names newnames v children vchildren inclusion patterns inclusionpatterns exclusion patterns exclusionpatterns i resource iresource file inclusion filter include files include parent lazily has included hasincluded util is valid compilation unit name isvalidcompilationunitname member name membername source level sourcelevel compliance level compliancelevel util is excluded isexcluded member inclusion patterns inclusionpatterns exclusion patterns exclusionpatterns has included hasincluded i package fragment ipackagefragment pkg get package fragment getpackagefragment pkg name pkgname v children vchildren add pkg illegal argument exception illegalargumentexception java model exception javamodelexception i java model status constants ijavamodelstatusconstants element exist core exception coreexception java model exception javamodelexception org eclipse jdt core i package fragment root ipackagefragmentroot copy copy i path ipath destination update resource flags updateresourceflags update model flags updatemodelflags i classpath entry iclasspathentry sibling i progress monitor iprogressmonitor monitor java model exception javamodelexception copy package fragment root operation copypackagefragmentrootoperation copy package fragment root operation copypackagefragmentrootoperation destination update resource flags updateresourceflags update model flags updatemodelflags sibling run operation runoperation monitor returns element info element object create element info createelementinfo package fragment root info packagefragmentrootinfo i package fragment root ipackagefragmentroot i package fragment ipackagefragment create package fragment createpackagefragment string pkg name pkgname force i progress monitor iprogressmonitor monitor java model exception javamodelexception create package fragment operation createpackagefragmentoperation create package fragment operation createpackagefragmentoperation pkg name pkgname force run operation runoperation monitor get package fragment getpackagefragment pkg name pkgname returns root kind source binary defaults source classpath exception java model exception javamodelexception project root exist determine kind determinekind i resource iresource underlying resource underlyingresource java model exception javamodelexception i classpath entry iclasspathentry entry java project javaproject get java project getjavaproject get classpath entry for getclasspathentryfor underlying resource underlyingresource get full path getfullpath entry entry get content kind getcontentkind i package fragment root ipackagefragmentroot source comp ares compares objects equality code package fragment root packagefragmentroot code equality parent resources occurrence count equals object package fragment root packagefragmentroot package fragment root packagefragmentroot package fragment root packagefragmentroot resource equals resource parent equals parent i classpath entry iclasspathentry find source attachment recommendation findsourceattachmentrecommendation i path ipath root path rootpath get path getpath i classpath entry iclasspathentry entry enclosing project java project javaproject parent project parentproject java project javaproject get java project getjavaproject entry parent project parentproject get classpath entry for getclasspathentryfor root path rootpath entry object target java model javamodel get target gettarget entry get source attachment path getsourceattachmentpath target entry java model exception javamodelexception iter ate iterate projects i java model ijavamodel model get java model getjavamodel i java project ijavaproject j projects jprojects model get java projects getjavaprojects max j projects jprojects length max java project javaproject j project jproject java project javaproject j projects jprojects j project jproject parent project parentproject entry j project jproject get classpath entry for getclasspathentryfor root path rootpath entry object target java model javamodel get target gettarget entry get source attachment path getsourceattachmentpath target entry java model exception javamodelexception java model exception javamodelexception returns exclusion patterns classpath entry root full exclusion pattern chars fullexclusionpatternchars is open isopen get kind getkind i package fragment root ipackagefragmentroot source classpath entry classpathentry entry classpath entry classpathentry get raw classpath entry getrawclasspathentry entry entry full exclusion pattern chars fullexclusionpatternchars java model exception javamodelexception returns inclusion patterns classpath entry root full inclusion pattern chars fullinclusionpatternchars is open isopen get kind getkind i package fragment root ipackagefragmentroot source classpath entry classpathentry entry classpath entry classpathentry get raw classpath entry getrawclasspathentry entry entry full inclusion pattern chars fullinclusionpatternchars java model exception javamodelexception string get element name getelementname i resource iresource res resource res i folder ifolder i folder ifolder res get name getname nls i java element ijavaelement get element type getelementtype fragment root java element javaelement get handle memento gethandlememento get handle memento delimiter gethandlemementodelimiter java element javaelement jem package fragment root packagefragmentroot java element javaelement i java element ijavaelement get handle from memento gethandlefrommemento string token memento tokenizer mementotokenizer memento working copy owner workingcopyowner owner token char at charat jem package fragment packagefragment string pkg name pkgname memento has more tokens hasmoretokens token memento next token nexttoken first char firstchar token char at charat first char firstchar jem class file classfile first char firstchar jem compilation unit compilationunit first char firstchar jem count pkg name pkgname char operation charoperation strings pkg name pkgname util split on spliton token token length token pkg name pkgname char operation charoperation strings token java element javaelement pkg get package fragment getpackagefragment pkg name pkgname token pkg get handle from memento gethandlefrommemento memento owner pkg get handle from memento gethandlefrommemento token memento owner java element javaelement get handle memento gethandlememento string buffer stringbuffer get handle memento gethandlememento string buffer stringbuffer buf f buff i path ipath path i resource iresource underlying resource underlyingresource get resource getresource underlying resource underlyingresource internal jar regular root resource get project getproject equals get java project getjavaproject get project getproject path underlying resource underlyingresource get project relative path getprojectrelativepath path underlying resource underlyingresource get full path getfullpath external jar path get path getpath java element javaelement get parent getparent get handle memento gethandlememento buf f buff buf f buff append get handle memento delimiter gethandlemementodelimiter escape memento name escapemementoname buf f buff path to string tostring i package fragment root ipackagefragmentroot get kind getkind java model exception javamodelexception package fragment root info packagefragmentrootinfo get element info getelementinfo get root kind getrootkind version get kind getkind doesn update timestamp info java model cache speed internal kind internalkind java model exception javamodelexception java model manager javamodelmanager manager java model manager javamodelmanager get java model manager getjavamodelmanager package fragment root info packagefragmentrootinfo info package fragment root info packagefragmentrootinfo manager peek at info peekatinfo info info package fragment root info packagefragmentrootinfo open when closed openwhenclosed create element info createelementinfo info get root kind getrootkind returns array java resources contained receiver object get non java resources getnonjavaresources java model exception javamodelexception package fragment root info packagefragmentrootinfo get element info getelementinfo get non java resources getnonjavaresources get java project getjavaproject resource i package fragment root ipackagefragmentroot i package fragment ipackagefragment get package fragment getpackagefragment string package name packagename tolerate names spaces http bugs eclipse org bugs bug cgi string pkg name pkgname util get trim med simple names gettrimmedsimplenames package name packagename get package fragment getpackagefragment pkg name pkgname package fragment packagefragment get package fragment getpackagefragment string pkg name pkgname package fragment packagefragment pkg name pkgname returns folder dec endent decendent root string get package name getpackagename i folder ifolder folder i path ipath my path mypath get path getpath i path ipath pkg path pkgpath folder get full path getfullpath my segment count mysegmentcount my path mypath segment count segmentcount pkg segment count pkgsegmentcount pkg path pkgpath segment count segmentcount string buffer stringbuffer pkg name pkgname string buffer stringbuffer i package fragment ipackagefragment my segment count mysegmentcount pkg segment count pkgsegmentcount my segment count mysegmentcount pkg name pkgname append pkg name pkgname append pkg path pkgpath segment pkg name pkgname to string tostring i java element ijavaelement i path ipath get path getpath internal path internalpath i path ipath internal path internalpath resource get full path getfullpath i package fragment root ipackagefragmentroot i classpath entry iclasspathentry get raw classpath entry getrawclasspathentry java model exception javamodelexception i classpath entry iclasspathentry raw entry rawentry java project javaproject project java project javaproject get java project getjavaproject force reverse raw entry rawentry cache pop ulated populated project get resolved classpath getresolvedclasspath map root path to raw entries rootpathtorawentries project get per project info getperprojectinfo root path to raw entries rootpathtorawentries root path to raw entries rootpathtorawentries raw entry rawentry i classpath entry iclasspathentry root path to raw entries rootpathtorawentries get path getpath raw entry rawentry java model exception javamodelexception java model status javamodelstatus i java model status constants ijavamodelstatusconstants element classpath raw entry rawentry i package fragment root ipackagefragmentroot i classpath entry iclasspathentry get resolved classpath entry getresolvedclasspathentry java model exception javamodelexception i classpath entry iclasspathentry resolved entry resolvedentry java project javaproject project java project javaproject get java project getjavaproject force resolved entry cache pop ulated populated project get resolved classpath getresolvedclasspath map root path to resolved entries rootpathtoresolvedentries project get per project info getperprojectinfo root path to resolved entries rootpathtoresolvedentries root path to resolved entries rootpathtoresolvedentries resolved entry resolvedentry i classpath entry iclasspathentry root path to resolved entries rootpathtoresolvedentries get path getpath resolved entry resolvedentry java model exception javamodelexception java model status javamodelstatus i java model status constants ijavamodelstatusconstants element classpath resolved entry resolvedentry i resource iresource resource per f perf imp rovement improvement avoid message send resource resource resource resource i java element ijavaelement i resource iresource resource package fragment root packagefragmentroot root resource i package fragment root ipackagefragmentroot i path ipath get source attachment path getsourceattachmentpath java model exception javamodelexception get kind getkind binary source attachment property iff attach source attachsource called i path ipath path get path getpath string server path string serverpathstring util get source attachment property getsourceattachmentproperty path server path string serverpathstring server path string serverpathstring last index of lastindexof attachment property delimiter root path path server path string serverpathstring string server source path string serversourcepathstring server path string serverpathstring substring path server source path string serversourcepathstring classpath entry i classpath entry iclasspathentry entry java project javaproject get parent getparent get classpath entry for getclasspathentryfor path i path ipath source attachment path sourceattachmentpath entry source attachment path sourceattachmentpath entry get source attachment path getsourceattachmentpath source attachment path sourceattachmentpath rec ommendation recommendation entry find source attachment recommendation findsourceattachmentrecommendation entry source attachment path sourceattachmentpath entry get source attachment path getsourceattachmentpath source attachment path sourceattachmentpath code attach source operation attachsourceoperation code sets source mapper root set source mapper setsourcemapper source mapper sourcemapper mapper java model exception javamodelexception package fragment root info packagefragmentrootinfo get element info getelementinfo set source mapper setsourcemapper mapper i package fragment root ipackagefragmentroot i path ipath get source attachment root path getsourceattachmentrootpath java model exception javamodelexception get kind getkind binary source attachment property iff attach source attachsource called i path ipath path get path getpath string server path string serverpathstring util get source attachment property getsourceattachmentproperty path server path string serverpathstring server path string serverpathstring last index of lastindexof attachment property delimiter string server root path string serverrootpathstring i package fragment root ipackagefragmentroot package root packageroot path server path string serverpathstring length server root path string serverrootpathstring server path string serverpathstring substring path server root path string serverrootpathstring classpath entry i classpath entry iclasspathentry entry java project javaproject get parent getparent get classpath entry for getclasspathentryfor path i path ipath source attachment root path sourceattachmentrootpath entry source attachment root path sourceattachmentrootpath entry get source attachment root path getsourceattachmentrootpath source attachment root path sourceattachmentrootpath rec omendation recomendation entry find source attachment recommendation findsourceattachmentrecommendation entry source attachment root path sourceattachmentrootpath entry get source attachment root path getsourceattachmentrootpath source attachment root path sourceattachmentrootpath java element javaelement source mapper sourcemapper get source mapper getsourcemapper source mapper sourcemapper mapper package fragment root info packagefragmentrootinfo root info rootinfo package fragment root info packagefragmentrootinfo get element info getelementinfo mapper root info rootinfo get source mapper getsourcemapper mapper call method i path ipath source path sourcepath get source attachment path getsourceattachmentpath i path ipath root path rootpath get source attachment root path getsourceattachmentrootpath source path sourcepath attach root mapper create source mapper createsourcemapper get path getpath root path rootpath mapper create source mapper createsourcemapper source path sourcepath root path rootpath root info rootinfo set source mapper setsourcemapper mapper java model exception javamodelexception mapper mapper i java element ijavaelement i resource iresource get underlying resource getunderlyingresource java model exception javamodelexception exists new not present exception newnotpresentexception resource i parent iparent has children haschildren java model exception javamodelexception fragment root child hash code hashcode resource hash code hashcode ignore optional problems ignoreoptionalproblems package fragment root info packagefragmentrootinfo get element info getelementinfo ignore optional problems ignoreoptionalproblems java model exception javamodelexception i package fragment root ipackagefragmentroot is archive isarchive i package fragment root ipackagefragmentroot is external isexternal validate fragment root classpath project i status istatus validate on classpath validateonclasspath i path ipath path get path getpath check fragment root classpath project java project javaproject project java project javaproject get java project getjavaproject i classpath entry iclasspathentry entry project get classpath entry for getclasspathentryfor path entry status status java model exception javamodelexception get java model status getjavamodelstatus java model status javamodelstatus i java model status constants ijavamodelstatusconstants element classpath org eclipse jdt core i package fragment root ipackagefragmentroot move move i path ipath destination update resource flags updateresourceflags update model flags updatemodelflags i classpath entry iclasspathentry sibling i progress monitor iprogressmonitor monitor java model exception javamodelexception move package fragment root operation movepackagefragmentrootoperation move package fragment root operation movepackagefragmentrootoperation destination update resource flags updateresourceflags update model flags updatemodelflags sibling run operation runoperation monitor debug ging debugging purposes to string info tostringinfo tab string buffer stringbuffer buffer object info show resolved info showresolvedinfo buffer append tab string tabstring tab i path ipath path get path getpath is external isexternal buffer append path toosstring get java project getjavaproject get element name getelementname equals path segment path segment count segmentcount nls buffer append project root buffer append path remove first segments removefirstsegments make relative makerelative buffer append path info nls buffer append open i status istatus validate existence validateexistence i resource iresource underlying resource underlyingresource check pkg fragment root opened i status istatus status validate on classpath validateonclasspath status isok status resource exists resourceexists underlying resource underlyingresource new does not exist status newdoesnotexiststatus java model status javamodelstatus verified failures element root supplied operation exist invalid element types root kind binary relative path path supplied operation absolute path verify attach source verifyattachsource i path ipath source path sourcepath java model exception javamodelexception exists new not present exception newnotpresentexception get kind getkind binary java model exception javamodelexception java model status javamodelstatus i java model status constants ijavamodelstatusconstants invalid element types source path sourcepath source path sourcepath is absolute isabsolute java model exception javamodelexception java model status javamodelstatus i java model status constants ijavamodelstatusconstants relative path source path sourcepath
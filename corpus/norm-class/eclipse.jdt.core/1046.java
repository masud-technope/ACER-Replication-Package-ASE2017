copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation patrick wienands pwienands abit contribution bug stephan herrmann contribution bug compiler annotations fields org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler codegen branch label branchlabel org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler codegen constant pool constantpool org eclipse jdt internal compiler codegen opcodes org eclipse jdt internal compiler flow exception handling flow context exceptionhandlingflowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler flow initialization flow context initializationflowcontext org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup class scope classscope org eclipse jdt internal compiler lookup field binding fieldbinding org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup source type binding sourcetypebinding org eclipse jdt internal compiler lookup synthetic method binding syntheticmethodbinding org eclipse jdt internal compiler lookup type constants typeconstants org eclipse jdt internal compiler parser parser org eclipse jdt internal compiler problem abort method abortmethod clinit abstract method declaration abstractmethoddeclaration enum constants threshold field binding fieldbinding assert ion synthetic field binding assertionsyntheticfieldbinding field binding fieldbinding class literal synthetic field classliteralsyntheticfield clinit compilation result compilationresult compilation result compilationresult compilation result compilationresult modifiers selector type constants typeconstants clinit analyse code analysecode class scope classscope class scope classscope initialization flow context initializationflowcontext static initializer flow context staticinitializerflowcontext flow info flowinfo flow info flowinfo ignore further investigation ignorefurtherinvestigation exception handling flow context exceptionhandlingflowcontext clinit context clinitcontext exception handling flow context exceptionhandlingflowcontext static initializer flow context staticinitializerflowcontext parent binding exceptions static initializer flow context staticinitializerflowcontext scope flow info flowinfo dead check missing returning path flow info flowinfo tag bits tagbits flow info flowinfo unreachable dead bits ast node astnode need free return needfreereturn check missing blank field initial izations initializations flow info flowinfo flow info flowinfo merged with mergedwith static initializer flow context staticinitializerflowcontext inits on return initsonreturn field binding fieldbinding fields scope enclosing source type enclosingsourcetype fields count fields length count field binding fieldbinding field fields field is static isstatic flow info flowinfo is definitely assigned isdefinitelyassigned field field is final isfinal scope problem reporter problemreporter uninitialized blank final field uninitializedblankfinalfield field scope reference type referencetype declaration of declarationof field original complain field decl clinit field is non null isnonnull scope problem reporter problemreporter uninitialized non null field uninitializednonnullfield field scope reference type referencetype declaration of declarationof field original check initializers thrown exceptions static initializer flow context staticinitializerflowcontext check initializer exceptions checkinitializerexceptions scope clinit context clinitcontext flow info flowinfo abort method abortmethod ignore further investigation ignorefurtherinvestigation byte code bytecode generation clinit method param class scope classscope org eclipse jdt internal compiler lookup class scope classscope param class file classfile org eclipse jdt internal compiler codegen class file classfile generate code generatecode class scope classscope class scope classscope class file classfile class file classfile clinit offset clinitoffset ignore further investigation ignorefurtherinvestigation add clinit problem method compilation result compilationresult unit result unitresult problem count problemcount class scope classscope type declaration typedeclaration reference context referencecontext class scope classscope reference context referencecontext reference context referencecontext unit result unitresult reference context referencecontext compilation result compilationresult problem count problemcount unit result unitresult problem count problemcount restart clinit offset clinitoffset class file classfile contents offset contentsoffset generate code generatecode class scope classscope class file classfile clinit offset clinitoffset restart abort method abortmethod compilation result compilationresult code stream codestream restart wide mode class file classfile contents offset contentsoffset clinit offset clinitoffset class file classfile method count methodcount class file classfile code stream codestream reset in wide mode resetinwidemode unit result unitresult unit result unitresult problem count problemcount problem count problemcount restart compilation result compilationresult code stream codestream restart code gen unused locals mode class file classfile contents offset contentsoffset clinit offset clinitoffset class file classfile method count methodcount class file classfile code stream codestream reset for code gen unused locals resetforcodegenunusedlocals unit result unitresult unit result unitresult problem count problemcount problem count problemcount restart class file classfile contents offset contentsoffset clinit offset clinitoffset class file classfile method count methodcount restart restart byte code bytecode generation clinit method param class scope classscope org eclipse jdt internal compiler lookup class scope classscope param class file classfile org eclipse jdt internal compiler codegen class file classfile generate code generatecode class scope classscope class scope classscope class file classfile class file classfile clinit offset clinitoffset constant pool constantpool constant pool constantpool class file classfile constant pool constantpool constant pool offset constantpooloffset constant pool constantpool current offset currentoffset constant pool index constantpoolindex constant pool constantpool current index currentindex class file classfile generate method info header for clinit generatemethodinfoheaderforclinit code attribute offset codeattributeoffset class file classfile contents offset contentsoffset class file classfile generate code attribute header generatecodeattributeheader code stream codestream code stream codestream class file classfile code stream codestream resolve class scope classscope code stream codestream reset class file classfile type declaration typedeclaration declaring type declaringtype class scope classscope reference context referencecontext initialize local positions including initializer scope method scope methodscope static initializer scope staticinitializerscope declaring type declaringtype static initializer scope staticinitializerscope static initializer scope staticinitializerscope compute local variable positions computelocalvariablepositions code stream codestream initialization assert ion synthetic field binding assertionsyntheticfieldbinding generate code activation assert ion assertion code stream codestream generate class literal access for type generateclassliteralaccessfortype class scope classscope outer most class scope outermostclassscope enclosing source type enclosingsourcetype class literal synthetic field classliteralsyntheticfield code stream codestream invoke java lang class desired assertion status invokejavalangclassdesiredassertionstatus branch label branchlabel false label falselabel branch label branchlabel code stream codestream code stream codestream ifne false label falselabel code stream codestream iconst branch label branchlabel jump label jumplabel branch label branchlabel code stream codestream code stream codestream decr stack size decrstacksize code stream codestream jump label jumplabel false label falselabel place code stream codestream iconst jump label jumplabel place code stream codestream field access fieldaccess opcodes opc put static putstatic assert ion synthetic field binding assertionsyntheticfieldbinding declaring class declaringclass generate fields initializers enum constants field declaration fielddeclaration field declarations fielddeclarations declaring type declaringtype fields source position sourceposition remaining field count remainingfieldcount type declaration typedeclaration kind declaring type declaringtype modifiers type declaration typedeclaration enum decl enum count enumcount declaring type declaringtype enum constants counter enumconstantscounter enum count enumcount enum constants threshold generate synthetic methods initialize enum constants count field declarations fielddeclarations max field declarations fielddeclarations length max field declaration fielddeclaration field decl fielddecl field declarations fielddeclarations field decl fielddecl is static isstatic field decl fielddecl get kind getkind abstract variable declaration abstractvariabledeclaration enum constant count count enum constants threshold synthetic method binding syntheticmethodbinding synthetic method syntheticmethod declaring type declaringtype binding add synthetic method for enum initialization addsyntheticmethodforenuminitialization code stream codestream invoke opcodes opc invokestatic declaring class declaringclass synthetic method syntheticmethod count remaining field count remainingfieldcount count add synthetic method synthetic method binding syntheticmethodbinding synthetic method syntheticmethod declaring type declaringtype binding add synthetic method for enum initialization addsyntheticmethodforenuminitialization max code stream codestream invoke opcodes opc invokestatic declaring class declaringclass synthetic method syntheticmethod field declarations fielddeclarations max field declarations fielddeclarations length max field declaration fielddeclaration field decl fielddecl field declarations fielddeclarations field decl fielddecl is static isstatic field decl fielddecl get kind getkind abstract variable declaration abstractvariabledeclaration enum constant field decl fielddecl generate code generatecode static initializer scope staticinitializerscope code stream codestream remaining field count remainingfieldcount enum initialize values synthetic cache enum constants values enum type enumtype enum count enumcount code stream codestream generate inlined value generateinlinedvalue enum count enumcount code stream codestream anewarray declaring type declaringtype binding enum count enumcount field declarations fielddeclarations max field declarations fielddeclarations length max field declaration fielddeclaration field decl fielddecl field declarations fielddeclarations values enum constant field decl fielddecl get kind getkind abstract variable declaration abstractvariabledeclaration enum constant code stream codestream dup code stream codestream generate inlined value generateinlinedvalue field decl fielddecl binding code stream codestream field access fieldaccess opcodes opc get static getstatic declaring class declaringclass field decl fielddecl binding code stream codestream aastore code stream codestream field access fieldaccess opcodes opc put static putstatic declaring type declaringtype enum values synthetic field enumvaluessyntheticfield declaring class declaringclass remaining field count remainingfieldcount fields enum constants generated initializer field max field declarations fielddeclarations length max remaining field count remainingfieldcount field declaration fielddeclaration field decl fielddecl field declarations fielddeclarations field decl fielddecl get kind getkind abstract variable declaration abstractvariabledeclaration enum constant abstract variable declaration abstractvariabledeclaration initializer field decl fielddecl is static isstatic remaining field count remainingfieldcount source position sourceposition initializer field decl fielddecl block source end sourceend field decl fielddecl generate code generatecode static initializer scope staticinitializerscope code stream codestream abstract variable declaration abstractvariabledeclaration field field decl fielddecl binding is static isstatic remaining field count remainingfieldcount source position sourceposition field decl fielddecl declaration end declarationend field decl fielddecl generate code generatecode static initializer scope staticinitializerscope code stream codestream field declarations fielddeclarations max field declarations fielddeclarations length max field declaration fielddeclaration field decl fielddecl field declarations fielddeclarations field decl fielddecl get kind getkind abstract variable declaration abstractvariabledeclaration initializer field decl fielddecl is static isstatic source position sourceposition initializer field decl fielddecl block source end sourceend field decl fielddecl generate code generatecode static initializer scope staticinitializerscope code stream codestream abstract variable declaration abstractvariabledeclaration field field decl fielddecl binding is static isstatic source position sourceposition field decl fielddecl declaration end declarationend field decl fielddecl generate code generatecode static initializer scope staticinitializerscope code stream codestream code stream codestream position output clinit byte codes bytecodes reset offset array contents class file classfile contents offset contentsoffset clinit offset clinitoffset don add d addd method undo increment method count class file classfile method count methodcount reset constant pool clinit constant pool constantpool reset for clinit resetforclinit constant pool index constantpoolindex constant pool offset constantpooloffset bits ast node astnode need free return needfreereturn code stream codestream position code stream codestream source position sourceposition expand initializer variables include trailing code stream codestream record positions from recordpositionsfrom source position sourceposition record clinit point declaration code stream codestream record positions from recordpositionsfrom declaring type declaringtype source start sourcestart class file classfile complete code attribute for clinit completecodeattributeforclinit code attribute offset codeattributeoffset is clinit isclinit is initialization method isinitializationmethod is static isstatic parse statements parsestatements parser parser compilation unit declaration compilationunitdeclaration unit clinit filled hand string buffer stringbuffer print tab string buffer stringbuffer output nls print indent printindent tab output append clinit print body printbody tab output output resolve class scope classscope class scope classscope scope method scope methodscope class scope classscope class scope classscope reference context referencecontext traverse ast visitor astvisitor visitor class scope classscope class scope classscope visitor visit class scope classscope visitor end visit endvisit class scope classscope set assertion support setassertionsupport field binding fieldbinding assert ion synthetic field binding assertionsyntheticfieldbinding need class literal field needclassliteralfield assert ion synthetic field binding assertionsyntheticfieldbinding assert ion synthetic field binding assertionsyntheticfieldbinding add field field infos generated methods need class literal field needclassliteralfield source type binding sourcetypebinding source type sourcetype scope outer most class scope outermostclassscope enclosing source type enclosingsourcetype https bugs eclipse org bugs bug cgi source type sourcetype is interface isinterface source type sourcetype is base type isbasetype class literal synthetic field classliteralsyntheticfield source type sourcetype add synthetic field for class literal addsyntheticfieldforclassliteral source type sourcetype scope
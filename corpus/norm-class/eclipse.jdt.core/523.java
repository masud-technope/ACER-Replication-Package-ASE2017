copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests model java java util string tokenizer stringtokenizer org eclipse core resources org eclipse core runtime org eclipse jdt core org eclipse jdt core compiler batch batch compiler batchcompiler org eclipse jdt core tests util util org eclipse jdt internal core java element javaelement modifying resource tests modifyingresourcetests abstract java model tests abstractjavamodeltests modifying resource tests modifyingresourcetests string modifying resource tests modifyingresourcetests string tabs tabs assert element descendants assertelementdescendants string message string expected i java element ijavaelement element core exception coreexception string actual expand all expandall element expected equals actual system print display string displaystring actual system println assert equals assertequals message expected actual assert status assertstatus string expected i status istatus status string actual status get message getmessage expected equals actual system print util display string displaystring actual system println assert equals assertequals expected actual assert status assertstatus string message string expected i status istatus status string actual status get message getmessage expected equals actual system print util display string displaystring actual system println assert equals assertequals message expected actual code org eclipse jdt tests core modifying resource tests modifyingresourcetests generate class file generateclassfile generate class file generateclassfile string class name classname string java source javasource io exception ioexception string temp class name classname java util create file createfile java source javasource batch compiler batchcompiler compile temp classpath system get property getproperty java lib jar print writer printwriter system print writer printwriter system err file input stream fileinputstream input file input stream fileinputstream temp class name classname system println buffer read read read input read buffer read system print read system print buffer system print read system println system print input close create external folder createexternalfolder string relative path relativepath file get external path getexternalpath relative path relativepath mkdirs create external file createexternalfile string relative path relativepath string contents util write to file writetofile contents get external path getexternalpath relative path relativepath i file ifile create file createfile string path input stream inputstream content core exception coreexception i file ifile file get file getfile path file create content content close io exception ioexception print stack trace printstacktrace file i file ifile create file createfile string path content core exception coreexception create file createfile path byte array input stream bytearrayinputstream content i file ifile create file createfile string path string content core exception coreexception create file createfile path content get bytes getbytes i file ifile create file createfile string path string content string charset name charsetname core exception coreexception unsupported encoding exception unsupportedencodingexception create file createfile path content get bytes getbytes charset name charsetname file create folder createfolder file parent string file file file parent file mkdirs file i folder ifolder create folder createfolder string path core exception coreexception create folder createfolder path path delete external resource deleteexternalresource string relative path relativepath delete resource deleteresource file get external path getexternalpath relative path relativepath delete file deletefile string file path filepath core exception coreexception delete resource deleteresource get file getfile file path filepath delete folder deletefolder string folder path folderpath core exception coreexception delete folder deletefolder path folder path folderpath i file ifile edit file editfile string path string content core exception coreexception i file ifile file get file getfile path input stream inputstream input byte array input stream bytearrayinputstream content get bytes getbytes file set contents setcontents input i resource iresource force file exp ands expands open element returns to string tostring representation tree string expand all expandall i java element ijavaelement element core exception coreexception string buffer stringbuffer buffer string buffer stringbuffer expand all expandall element buffer buffer to string tostring expand all expandall i java element ijavaelement element tab string buffer stringbuffer buffer core exception coreexception i java element ijavaelement children force opening element children element i parent iparent i parent iparent parent i parent iparent element children parent get children getchildren java element javaelement element to string info tostringinfo tab buffer children length children length length buffer append expand all expandall children tab buffer rename project renameproject string project string new name newname core exception coreexception get project getproject project move path new name newname i class file iclassfile get class file getclassfile string path i class file iclassfile java core javacore create get file getfile path i folder ifolder get folder getfolder string path get folder getfolder path path i package fragment ipackagefragment get package getpackage string path path segment path index of indexof i java element ijavaelement element java core javacore create get folder getfolder path element i package fragment root ipackagefragmentroot i package fragment root ipackagefragmentroot element get package fragment getpackagefragment i package fragment ipackagefragment element i project iproject project get project getproject path java core javacore create project get package fragment root getpackagefragmentroot project get package fragment getpackagefragment i package fragment root ipackagefragmentroot get package fragment root getpackagefragmentroot string path path segment path index of indexof path ends with endswith jar i package fragment root ipackagefragmentroot java core javacore create get file getfile path i package fragment root ipackagefragmentroot java core javacore create get folder getfolder path i project iproject project get project getproject path java core javacore create project get package fragment root getpackagefragmentroot project move file movefile string source path sourcepath string dest path destpath core exception coreexception get file getfile source path sourcepath move get file getfile dest path destpath get full path getfullpath move folder movefolder string source path sourcepath string dest path destpath core exception coreexception get folder getfolder source path sourcepath move get folder getfolder dest path destpath get full path getfullpath swap files swapfiles string first path firstpath string second path secondpath core exception coreexception i file ifile get file getfile first path firstpath i file ifile get file getfile second path secondpath i workspace runnable iworkspacerunnable runnable i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception i path ipath temp path temppath get parent getparent get full path getfullpath append swap ping file swappingfile temp move temp path temppath monitor move get full path getfullpath monitor get workspace root getworkspaceroot get file getfile temp path temppath move get full path getfullpath monitor get workspace getworkspace runnable i class file iclassfile create class file createclassfile string lib path libpath string class file relative path classfilerelativepath string contents core exception coreexception i class file iclassfile class file classfile get class file getclassfile lib path libpath class file relative path classfilerelativepath class file classfile get resource getresource delete util delete class file classfile get resource getresource i java project ijavaproject java project javaproject class file classfile get java project getjavaproject i project iproject project java project javaproject get project getproject string source path sourcepath project get location getlocation toosstring file separator char separatorchar class file classfile get type gettype get element name getelementname java string libospath path lib path libpath segment count segmentcount get folder getfolder lib path libpath get location getlocation toosstring get project getproject lib path libpath get location getlocation toosstring util compile string source path sourcepath contents java project javaproject get options getoptions libospath project refresh local refreshlocal i resource iresource depth infinite class file classfile returns classpath source folders res pective respective exclusion inclusion patterns folder path absolute workspace relative path array form folder pattern pattern string src java txt tests i classpath entry iclasspathentry create classpath createclasspath string folders and patterns foldersandpatterns has inclusion patterns hasinclusionpatterns has exclusion patterns hasexclusionpatterns length folders and patterns foldersandpatterns length increment has inclusion patterns hasinclusionpatterns increment has exclusion patterns hasexclusionpatterns increment i classpath entry iclasspathentry classpath i classpath entry iclasspathentry length increment length increment string src folders and patterns foldersandpatterns i path ipath accessible files accessiblefiles i path ipath has inclusion patterns hasinclusionpatterns string patterns folders and patterns foldersandpatterns string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer patterns patterns count patternscount tokenizer count tokens counttokens accessible files accessiblefiles i path ipath patterns count patternscount patterns count patternscount accessible files accessiblefiles path tokenizer next token nexttoken i path ipath non accessible files nonaccessiblefiles i path ipath has exclusion patterns hasexclusionpatterns string patterns folders and patterns foldersandpatterns increment string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer patterns patterns count patternscount tokenizer count tokens counttokens non accessible files nonaccessiblefiles i path ipath patterns count patternscount patterns count patternscount non accessible files nonaccessiblefiles path tokenizer next token nexttoken i path ipath folder path folderpath path src classpath increment java core javacore new source entry newsourceentry folder path folderpath accessible files accessiblefiles non accessible files nonaccessiblefiles classpath returns classpath folders res pective respective accessible accessible files patterns folder path absolute workspace relative path project folder path considered project path segment project array form folder pattern pattern string src java txt tests i classpath entry iclasspathentry create classpath createclasspath string project name projectname string folders and patterns foldersandpatterns length folders and patterns foldersandpatterns length i classpath entry iclasspathentry classpath i classpath entry iclasspathentry length length string src folders and patterns foldersandpatterns string patterns folders and patterns foldersandpatterns classpath create source entry createsourceentry project name projectname src patterns classpath i classpath entry iclasspathentry create source entry createsourceentry string ref ering project name referingprojectname string src string patterns string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer patterns rule count rulecount tokenizer count tokens counttokens i access rule iaccessrule access rules accessrules i access rule iaccessrule rule count rulecount non accessible rules nonaccessiblerules rule count rulecount string rule tokenizer next token nexttoken kind ignore if better ignoreifbetter rule char at charat kind i access rule iaccessrule accessible kind i access rule iaccessrule discouraged kind i access rule iaccessrule accessible ignore if better ignoreifbetter todo max ime maxime for bidding forbidding unspecified rule start tolerates short cuts shortcuts path matching pattern kind i access rule iaccessrule accessible non accessible rules nonaccessiblerules access rules accessrules java core javacore new access rule newaccessrule path rule substring ignore if better ignoreifbetter kind i access rule iaccessrule ignore kind i path ipath folder path folderpath path src ref ering project name referingprojectname folder path folderpath segment count segmentcount ref ering project name referingprojectname equals folder path folderpath last segment lastsegment java core javacore new project entry newprojectentry folder path folderpath access rules accessrules combine access restrictions i classpath attribute iclasspathattribute i path ipath accessible files accessiblefiles i path ipath rule count rulecount non accessible rules nonaccessiblerules accessible index accessibleindex i path ipath non accessible files nonaccessiblefiles i path ipath non accessible rules nonaccessiblerules non accessible index nonaccessibleindex rule count rulecount i access rule iaccessrule access rule accessrule access rules accessrules access rule accessrule get kind getkind i access rule iaccessrule accessible accessible files accessiblefiles accessible index accessibleindex access rule accessrule get pattern getpattern non accessible files nonaccessiblefiles non accessible index nonaccessibleindex access rule accessrule get pattern getpattern java core javacore new source entry newsourceentry folder path folderpath accessible files accessiblefiles non accessible files nonaccessiblefiles delete external file deleteexternalfile string file path filepath core exception coreexception delete resource deleteresource file file path filepath
copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler impl org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler lookup switch statement switchstatement statement expression expression statement statements block scope blockscope scope explicit declarations explicitdeclarations label break label breaklabel case statement casestatement cases case statement casestatement default case defaultcase case count casecount block start blockstart local variables table attributes pre switch init state index preswitchinitstateindex merged init state index mergedinitstateindex flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo flow info flowinfo expression analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo switch flow context switchflowcontext switch context switchcontext switch flow context switchflowcontext flow context flowcontext break label breaklabel label analyse block spec ially specially statements bind entry point flow info flowinfo case inits caseinits flow info flowinfo dead statements pre switch init state index preswitchinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates flow info flowinfo case index caseindex statements did already comp lain didalreadycomplain max statements length max statement statement statements statement case index caseindex case count casecount statement cases case index caseindex record entering block scope switch case switchcase cases case index caseindex case index caseindex case inits caseinits case inits caseinits merged with mergedwith flow info flowinfo copy unconditional inits unconditionalinits reset complaint did already comp lain didalreadycomplain reset complaint statement statement default case defaultcase record entering block scope switch case switchcase default case defaultcase case inits caseinits case inits caseinits merged with mergedwith flow info flowinfo copy unconditional inits unconditionalinits reset complaint did already comp lain didalreadycomplain reset complaint statement complain if unreachable complainifunreachable case inits caseinits scope did already comp lain didalreadycomplain case inits caseinits statement analyse code analysecode scope switch context switchcontext case inits caseinits did already comp lain didalreadycomplain record jump block default case defaultcase retain potential initial izations initializations flow info flowinfo add potential initializations from addpotentialinitializationsfrom case inits caseinits merged with mergedwith switch context switchcontext inits on break initsonbreak merged init state index mergedinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates flow info flowinfo flow info flowinfo merge branches inits flow info flowinfo merged info mergedinfo case inits caseinits merged with mergedwith switch context switchcontext inits on break initsonbreak merged init state index mergedinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates merged info mergedinfo merged info mergedinfo longer block scope scope switch case switchcase code generation param current scope currentscope org eclipse jdt internal compiler lookup block scope blockscope param code stream codestream org eclipse jdt internal compiler codegen code stream codestream generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream sorted indexes sortedindexes case count casecount local keys copy localkeyscopy bits isreachablemask code stream codestream position prepare labels constants break label breaklabel initialize code stream codestream case label caselabel case labels caselabels case label caselabel case count casecount constants case count casecount need switch needswitch case count casecount case count casecount constants cases constant expression constantexpression constant int value intvalue cases target label targetlabel case labels caselabels case label caselabel code stream codestream sort generate code table switch tableswitch lookup switch lookupswitch case count casecount sorted indexes sortedindexes system arraycopy constants local keys copy localkeyscopy case count casecount case count casecount code stream codestream sort local keys copy localkeyscopy case count casecount sorted indexes sortedindexes case label caselabel default label defaultlabel case label caselabel code stream codestream default case defaultcase default case defaultcase target label targetlabel default label defaultlabel generate expression testes expression generate code generatecode current scope currentscope code stream codestream need switch needswitch generate table lookup byte code bytecode need switch needswitch max local keys copy localkeyscopy case count casecount min local keys copy localkeyscopy case count casecount max min http dev eclipse org bugs bug cgi max fff current scope currentscope environment options compliance level compliancelevel class file constants classfileconstants jdk code stream codestream lookup switch lookupswitch default label defaultlabel constants sorted indexes sortedindexes case labels caselabels code stream codestream table switch tableswitch default label defaultlabel min max constants sorted indexes sortedindexes case labels caselabels code stream codestream lookup switch lookupswitch default label defaultlabel constants sorted indexes sortedindexes case labels caselabels code stream codestream update last recorded end c updatelastrecordedendpc code stream codestream position generate block statements case index caseindex statements max cases maxcases statements length max cases maxcases statement statement statements statements case index caseindex case count casecount statement cases case index caseindex record entering block scope switch case switchcase cases case index caseindex pre switch init state index preswitchinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope pre switch init state index preswitchinitstateindex case index caseindex statements statement default case defaultcase record entering block scope switch case switchcase default case defaultcase pre switch init state index preswitchinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope pre switch init state index preswitchinitstateindex statement generate code generatecode scope code stream codestream place trailing labels break label breaklabel place default case defaultcase default label defaultlabel place loose local variable initial izations initializations local variable attributes merged init state index mergedinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex code stream codestream add definitely assigned variables adddefinitelyassignedvariables current scope currentscope merged init state index mergedinitstateindex scope current scope currentscope code stream codestream exit user scope exituserscope scope code stream codestream record positions from recordpositionsfrom source start sourcestart longer block scope scope switch case switchcase string buffer stringbuffer print statement printstatement indent string buffer stringbuffer output nls print indent printindent indent output append nls expression print expression printexpression output append statements statements length output append statements case statement casestatement statements print statement printstatement indent output statements print statement printstatement indent output nls output append print indent printindent indent output append resolve block scope blockscope upper scope upperscope type binding typebinding test type testtype expression resolve type resolvetype upper scope upperscope test type testtype expression compute conversion computeconversion upper scope upperscope test type testtype test type testtype expression is constant value of type assignable to type isconstantvalueoftypeassignabletotype test type testtype int binding intbinding test type testtype is compatible with iscompatiblewith int binding intbinding upper scope upperscope problem reporter problemreporter incorrect switch type incorrectswitchtype expression test type testtype statements scope explicit declarations explicitdeclarations upper scope upperscope block scope blockscope upper scope upperscope length collection cases big iter ate iterate case count casecount cases case statement casestatement length statements length cases values casesvalues length case statement casestatement duplicate case statements duplicatecasestatements duplicate case statements counter duplicatecasestatementscounter counter length constant constant statement statement statements constant statement resolve case resolvecase scope test type testtype check duplicate statement constant notaconstant key constant int value intvalue counter cases values casesvalues key case statement casestatement current case statement currentcasestatement case statement casestatement statement duplicate case statements duplicatecasestatements scope problem reporter problemreporter duplicate case duplicatecase cases scope problem reporter problemreporter duplicate case duplicatecase current case statement currentcasestatement duplicate case statements duplicatecasestatements case statement casestatement length duplicate case statements duplicatecasestatements duplicate case statements counter duplicatecasestatementscounter cases duplicate case statements duplicatecasestatements duplicate case statements counter duplicatecasestatementscounter current case statement currentcasestatement search reported duplicate searchreportedduplicate duplicate case statements counter duplicatecasestatementscounter duplicate case statements duplicatecasestatements statement search reported duplicate searchreportedduplicate scope problem reporter problemreporter duplicate case duplicatecase current case statement currentcasestatement duplicate case statements duplicatecasestatements duplicate case statements counter duplicatecasestatementscounter current case statement currentcasestatement cases values casesvalues counter key bits undocumentedemptyblockmask upper scope upperscope problem reporter problemreporter undo cumented empty block undocumentedemptyblock block start blockstart source end sourceend longer block scope scope switch case switchcase traverse ast visitor astvisitor visitor block scope blockscope block scope blockscope visitor visit block scope blockscope expression traverse visitor scope statements statements length statementslength statements length statements length statementslength statements traverse visitor scope visitor end visit endvisit block scope blockscope dispatch call statement branch chain to branchchainto label label point break label breaklabel break label breaklabel has for ward references hasforwardreferences label append for ward references from appendforwardreferencesfrom break label breaklabel
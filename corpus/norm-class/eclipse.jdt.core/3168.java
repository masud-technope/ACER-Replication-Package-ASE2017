copyright mateusz matela rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mateusz matela mateusz matela gmail formatter formatter format java code correctly max width https bugs eclipse org mateusz matela mateusz matela gmail formatter follow bug comments https bugs eclipse org org eclipse jdt internal formatter line wrap linewrap org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecolon org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecomma org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecomment block org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecomment javadoc org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamecomment org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamedot org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennameequal org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamelbrace org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennameless org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamelparen org eclipse jdt internal compiler parser terminal tokens terminaltokens token name r tokennameor org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamequestion org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamerbrace org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamerparen org eclipse jdt internal compiler parser terminal tokens terminaltokens tokennamesemicolon org eclipse jdt internal compiler parser terminal tokens terminaltokens token name string literal tokennamestringliteral org eclipse jdt internal compiler parser terminal tokens terminaltokens token name extends tokennameextends org eclipse jdt internal compiler parser terminal tokens terminaltokens token name implements tokennameimplements org eclipse jdt internal compiler parser terminal tokens terminaltokens token name identifier tokennameidentifier org eclipse jdt internal compiler parser terminal tokens terminaltokens token name new tokennamenew org eclipse jdt internal compiler parser terminal tokens terminaltokens token names uper tokennamesuper org eclipse jdt internal compiler parser terminal tokens terminaltokens token name this tokennamethis org eclipse jdt internal compiler parser terminal tokens terminaltokens token name throws tokennamethrows java util array list arraylist java util collections java util hash map hashmap java util list java util map org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom array initializer arrayinitializer org eclipse jdt core dom assignment org eclipse jdt core dom block org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom conditional expression conditionalexpression org eclipse jdt core dom constructor invocation constructorinvocation org eclipse jdt core dom creation reference creationreference org eclipse jdt core dom enum constant declaration enumconstantdeclaration org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom expression org eclipse jdt core dom expression method reference expressionmethodreference org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom for statement forstatement org eclipse jdt core dom if statement ifstatement org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom lambda expression lambdaexpression org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom normal annotation normalannotation org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom statement org eclipse jdt core dom super constructor invocation superconstructorinvocation org eclipse jdt core dom super field access superfieldaccess org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom super method reference supermethodreference org eclipse jdt core dom this expression thisexpression org eclipse jdt core dom try statement trystatement org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type method reference typemethodreference org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom union type uniontype org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt core formatter code formatter codeformatter org eclipse jdt internal formatter default code formatter options defaultcodeformatteroptions org eclipse jdt internal formatter default code formatter options defaultcodeformatteroptions alignment org eclipse jdt internal formatter token org eclipse jdt internal formatter token wrap mode wrapmode org eclipse jdt internal formatter token wrap policy wrappolicy org eclipse jdt internal formatter token manager tokenmanager org eclipse jdt internal formatter token traverser tokentraverser org eclipse jface text i region iregion wrap preparator wrappreparator ast visitor astvisitor helper common handling expressions treated link field access fieldaccess field access adapter fieldaccessadapter expression access expression accessexpression field access adapter fieldaccessadapter expression expression access expression accessexpression expression is field access isfieldaccess ast node astnode expr expr field access fieldaccess expr qualified name qualifiedname expr this expression thisexpression expr super field access superfieldaccess expression get expression getexpression access expression accessexpression field access fieldaccess field access fieldaccess access expression accessexpression get expression getexpression access expression accessexpression qualified name qualifiedname qualified name qualifiedname access expression accessexpression get qualifier getqualifier access expression accessexpression this expression thisexpression this expression thisexpression access expression accessexpression get qualifier getqualifier access expression accessexpression super field access superfieldaccess super field access superfieldaccess access expression accessexpression get qualifier getqualifier assertion error assertionerror get identifier index getidentifierindex token manager tokenmanager access expression accessexpression field access fieldaccess first index in firstindexin field access fieldaccess access expression accessexpression get name getname token name identifier tokennameidentifier access expression accessexpression qualified name qualifiedname first index in firstindexin qualified name qualifiedname access expression accessexpression get name getname token name identifier tokennameidentifier access expression accessexpression this expression thisexpression last index in lastindexin access expression accessexpression token name this tokennamethis access expression accessexpression super field access superfieldaccess last index in lastindexin access expression accessexpression token names uper tokennamesuper assertion error assertionerror map integer precedence hash map hashmap integer precedence hash map hashmap integer precedence times precedence divide precedence remainder precedence precedence shift comparison operators left int entionally intentionally compatibility legacy formatter wrap operators precedence precedence xor precedence precedence conditional precedence conditional ternary assignment operators relevant infix expressions precedence collections unmodifiable map unmodifiablemap precedence penalty multiplier wraps preferred pref erred preferred token manager tokenmanager default code formatter options defaultcodeformatteroptions options kind field aligner fieldaligner field aligner fieldaligner imports start importsstart imports end importsend temporary values calling link handle wrap handlewrap avoid array list arraylist initialization lists parameters list integer wrap indexes wrapindexes array list arraylist integer indexes wraps should n shouldn happen indented removed list integer secondary wrap indexes secondarywrapindexes array list arraylist integer list wrap penalties wrappenalties array list arraylist wrap parent index wrapparentindex wrap group end wrapgroupend current depth currentdepth wrap preparator wrappreparator token manager tokenmanager token manager tokenmanager default code formatter options defaultcodeformatteroptions options kind token manager tokenmanager options options kind kind field aligner fieldaligner field aligner fieldaligner options override pre visit previsit ast node astnode node current depth currentdepth wrap indexes wrapindexes is empty isempty secondary wrap indexes secondarywrapindexes is empty isempty wrap penalties wrappenalties is empty isempty wrap parent index wrapparentindex wrap group end wrapgroupend is malformed ismalformed node get flags getflags ast node astnode malformed is malformed ismalformed add disable format token pair adddisableformattokenpair first token in firsttokenin node last token in lasttokenin node is malformed ismalformed override post visit postvisit ast node astnode node current depth currentdepth override visit compilation unit compilationunit node list import declaration importdeclaration imports node imports imports is empty isempty imports start importsstart first index in firstindexin imports imports end importsend last index in lastindexin imports imports size override visit normal annotation normalannotation node handle arguments handlearguments node values options alignment arguments annotation override visit type declaration typedeclaration node type superclass type superclasstype node get superclass type getsuperclasstype superclass type superclasstype wrap parent index wrapparentindex last index in lastindexin node get name getname wrap group end wrapgroupend last index in lastindexin superclass type superclasstype wrap indexes wrapindexes add first index before firstindexbefore superclass type superclasstype token name extends tokennameextends wrap indexes wrapindexes add first index in firstindexin superclass type superclasstype handle wrap handlewrap options alignment superclass type declaration pref erred preferred list type super interface types superinterfacetypes node super interface types superinterfacetypes super interface types superinterfacetypes is empty isempty implements token implementstoken node is interface isinterface token name extends tokennameextends token name implements tokennameimplements wrap parent index wrapparentindex last index in lastindexin node get name getname wrap indexes wrapindexes add first index before firstindexbefore super interface types superinterfacetypes implements token implementstoken prepare elements list prepareelementslist super interface types superinterfacetypes tokennamecomma handle wrap handlewrap options alignment super interfaces superinterfaces type declaration pref erred preferred prepare elements list prepareelementslist node type parameters typeparameters tokennamecomma tokennameless handle wrap handlewrap options alignment type parameters field aligner fieldaligner handle align handlealign node body declarations bodydeclarations override visit annotation type declaration annotationtypedeclaration node field aligner fieldaligner handle align handlealign node body declarations bodydeclarations override visit anonymous class declaration anonymousclassdeclaration node field aligner fieldaligner handle align handlealign node body declarations bodydeclarations override visit method declaration methoddeclaration node list single variable declaration singlevariabledeclaration parameters node parameters type receiver type receivertype node get receiver type getreceivertype parameters is empty isempty receiver type receivertype receiver type receivertype wrap indexes wrapindexes add first index in firstindexin receiver type receivertype wrapping option wrappingoption node is constructor isconstructor options alignment parameters constructor declaration options alignment parameters method declaration wrap group end wrapgroupend last index in lastindexin parameters is empty isempty receiver type receivertype parameters parameters size handle arguments handlearguments parameters wrapping option wrappingoption list type exception types exceptiontypes node thrown exception types thrownexceptiontypes exception types exceptiontypes is empty isempty wrapping option wrappingoption node is constructor isconstructor options alignment clause constructor declaration options alignment clause method declaration wrapping option wrappingoption alignment indent column wrap parent index wrapparentindex first index after firstindexafter node get name getname tokennamelparen prepare elements list prepareelementslist exception types exceptiontypes tokennamecomma tokennamerparen exception type wrap token wrap indexes wrapindexes first index before firstindexbefore exception types exceptiontypes token name throws tokennamethrows handle wrap handlewrap wrapping option wrappingoption node is constructor isconstructor wrap parent index wrapparentindex find first token in line findfirsttokeninline first index in firstindexin node get name getname wrap parent index wrapparentindex is comment iscomment wrap parent index wrapparentindex list type parameter typeparameter type parameters typeparameters node type parameters typeparameters type parameters typeparameters is empty isempty wrap indexes wrapindexes add first index in firstindexin type parameters typeparameters node get return type getreturntype ret ur type index returtypeindex first index in firstindexin node get return type getreturntype ret ur type index returtypeindex wrap parent index wrapparentindex wrap indexes wrapindexes add ret ur type index returtypeindex wrap indexes wrapindexes add first index in firstindexin node get name getname wrap group end wrapgroupend last index in lastindexin node get name getname handle wrap handlewrap options alignment method declaration prepare elements list prepareelementslist node type parameters typeparameters tokennamecomma tokennameless handle wrap handlewrap options alignment type parameters override visit enum declaration enumdeclaration node list enum constant declaration enumconstantdeclaration enum constants enumconstants node enum constants enumconstants constants end constantsend enum constants enumconstants is empty isempty enum constant declaration enumconstantdeclaration constant enum constants enumconstants wrap indexes wrapindexes add first index in firstindexin constant wrap parent index wrapparentindex options alignment enum constants alignment indent column first index before firstindexbefore enum constants enumconstants tokennamelbrace first index in firstindexin node wrap group end wrapgroupend constants end constantsend last index in lastindexin enum constants enumconstants enum constants enumconstants size handle wrap handlewrap options alignment enum constants node options join wrapped lines preserve comma semicolon comma index commaindex constants end constantsend constants end constantsend first index after firstindexafter node get name getname tokennamelbrace size token is comment iscomment token type tokentype tokennamecomma comma index commaindex token type tokentype tokennamesemicolon comma index commaindex count line breaks between countlinebreaksbetween comma index commaindex set wrap policy setwrappolicy wrap policy wrappolicy wrap mode wrapmode comma index commaindex list type super interface types superinterfacetypes node super interface types superinterfacetypes super interface types superinterfacetypes is empty isempty wrap parent index wrapparentindex last index in lastindexin node get name getname wrap indexes wrapindexes add first index before firstindexbefore super interface types superinterfacetypes token name implements tokennameimplements prepare elements list prepareelementslist super interface types superinterfacetypes tokennamecomma handle wrap handlewrap options alignment super interfaces superinterfaces enum declaration pref erred preferred field aligner fieldaligner handle align handlealign node body declarations bodydeclarations override visit enum constant declaration enumconstantdeclaration node handle arguments handlearguments node arguments options alignment arguments enum constant anonymous class declaration anonymousclassdeclaration anonymous class anonymousclass node get anonymous class declaration getanonymousclassdeclaration anonymous class anonymousclass force continuous wrapping forcecontinuouswrapping anonymous class anonymousclass first index in firstindexin node get name getname override visit method invocation methodinvocation node handle arguments handlearguments node arguments options alignment arguments method invocation handle type arguments handletypearguments node type arguments typearguments is invocation chain root isinvocationchainroot node get parent getparent method invocation methodinvocation node get location in parent getlocationinparent method invocation methodinvocation expression property is invocation chain root isinvocationchainroot expression expression node method invocation methodinvocation invocation node expression method invocation methodinvocation invocation method invocation methodinvocation expression expression invocation get expression getexpression expression wrap indexes wrapindexes add first index before firstindexbefore invocation get name getname tokennamedot secondary wrap indexes secondarywrapindexes add first index in firstindexin invocation get name getname token name identifier tokennameidentifier collections reverse wrap indexes wrapindexes wrap parent index wrapparentindex expression last index in lastindexin expression last index in lastindexin invocation wrap group end wrapgroupend first index in firstindexin node get name getname handle wrap handlewrap options alignment selector method invocation override visit super method invocation supermethodinvocation node handle arguments handlearguments node arguments options alignment arguments method invocation handle type arguments handletypearguments node type arguments typearguments override visit class instance creation classinstancecreation node anonymous class declaration anonymousclassdeclaration anonymous class anonymousclass node get anonymous class declaration getanonymousclassdeclaration anonymous class anonymousclass force continuous wrapping forcecontinuouswrapping anonymous class anonymousclass first index in firstindexin node token name new tokennamenew wrapping option wrappingoption node get expression getexpression options alignment arguments qualified allocation expression options alignment arguments allocation expression handle arguments handlearguments node arguments wrapping option wrappingoption handle type arguments handletypearguments node type arguments typearguments override visit constructor invocation constructorinvocation node handle arguments handlearguments node arguments options alignment arguments explicit constructor call handle type arguments handletypearguments node type arguments typearguments override visit super constructor invocation superconstructorinvocation node handle arguments handlearguments node arguments options alignment arguments explicit constructor call handle type arguments handletypearguments node type arguments typearguments override visit field access fieldaccess node handle field access handlefieldaccess node override visit qualified name qualifiedname node handle field access handlefieldaccess node override visit this expression thisexpression node handle field access handlefieldaccess node override visit super field access superfieldaccess node handle field access handlefieldaccess node handle field access handlefieldaccess expression node is access chain root isaccesschainroot field access adapter fieldaccessadapter is field access isfieldaccess node get parent getparent is access chain root isaccesschainroot expression expression node field access adapter fieldaccessadapter access field access adapter fieldaccessadapter is field access isfieldaccess expression access field access adapter fieldaccessadapter expression name index nameindex access get identifier index getidentifierindex find dot preceding name index nameindex first index in firstindexin node token token type tokentype tokennamedot wrap indexes wrapindexes add secondary wrap indexes secondarywrapindexes add name index nameindex is comment iscomment token type tokentype token names uper tokennamesuper expression access get expression getexpression collections reverse wrap indexes wrapindexes wrap parent index wrapparentindex last index in lastindexin expression expression access access expression accessexpression is followed by invocation isfollowedbyinvocation node get parent getparent method invocation methodinvocation node get location in parent getlocationinparent method invocation methodinvocation expression property wrap group end wrapgroupend is followed by invocation isfollowedbyinvocation last index in lastindexin node get parent getparent field access adapter fieldaccessadapter node get identifier index getidentifierindex todo configuration handles breaks removed handle wrap handlewrap alignment alignment override visit infix expression infixexpression node integer operator precedence operatorprecedence precedence node get operator getoperator operator precedence operatorprecedence ast node astnode parent node get parent getparent parent infix expression infixexpression same precedence sameprecedence node infix expression infixexpression parent node handled higher ast find tokens to wrap findtokenstowrap node wrap parent index wrapparentindex wrap indexes wrapindexes remove wrap group end wrapgroupend last index in lastindexin node options alignment binary expression alignment indent column wrap parent index wrapparentindex wrap parent index wrapparentindex wrap parent index wrapparentindex is comment iscomment wrap parent index wrapparentindex handle wrap handlewrap options alignment binary expression node find tokens to wrap findtokenstowrap infix expression infixexpression node depth expression left node get left operand getleftoperand left infix expression infixexpression same precedence sameprecedence node infix expression infixexpression left find tokens to wrap findtokenstowrap infix expression infixexpression left depth add operand wrap parent wrap indexes wrapindexes is empty isempty options wrap binary wrap indexes wrapindexes add first index in firstindexin left expression node get right operand getrightoperand list expression extended node extended operands extendedoperands extended size expression operand extended operand infix expression infixexpression same precedence sameprecedence node infix expression infixexpression operand find tokens to wrap findtokenstowrap infix expression infixexpression operand depth index before indexbefore first index before firstindexbefore operand index before indexbefore is comment iscomment index before indexbefore node get operator getoperator to string tostring equals to string tostring index before indexbefore index after indexafter first index in firstindexin operand wrap indexes wrapindexes add options wrap binary index before indexbefore index after indexafter secondary wrap indexes secondarywrapindexes add options wrap binary index after indexafter index before indexbefore options join wrapped lines todo option joining wraps side options wrap binary count line breaks between countlinebreaksbetween index after indexafter index after indexafter wrap indexes wrapindexes add index after indexafter count line breaks between countlinebreaksbetween index before indexbefore index before indexbefore wrap indexes wrapindexes add index before indexbefore same precedence sameprecedence infix expression infixexpression expression infix expression infixexpression expression integer precedence precedence expression get operator getoperator integer precedence precedence expression get operator getoperator precedence precedence precedence equals precedence override visit conditional expression conditionalexpression node wrap before wrapbefore options wrap conditional list integer wrap before wrapbefore wrap indexes wrapindexes secondary wrap indexes secondarywrapindexes list integer wrap before wrapbefore secondary wrap indexes secondarywrapindexes wrap indexes wrapindexes add first index after firstindexafter node get expression getexpression tokennamequestion add first index after firstindexafter node get then expression getthenexpression tokennamecolon add first index in firstindexin node get then expression getthenexpression add first index in firstindexin node get else expression getelseexpression wrap parent index wrapparentindex last index in lastindexin node get expression getexpression wrap group end wrapgroupend last index in lastindexin node handle wrap handlewrap options alignment conditional expression override visit array initializer arrayinitializer node list expression expressions node expressions expressions is empty isempty prepare elements list prepareelementslist expressions tokennamecomma tokennamelbrace handle wrap handlewrap options alignment expressions array initializer node opening brace index openingbraceindex first index in firstindexin node tokennamelbrace token opening brace openingbrace opening brace index openingbraceindex opening brace openingbrace is next line on wrap isnextlineonwrap opening brace openingbrace get wrap policy getwrappolicy opening brace index openingbraceindex add fake wrap policy brace indentation opening brace openingbrace set wrap policy setwrappolicy wrap policy wrappolicy wrap mode wrapmode disabled opening brace index openingbraceindex options join wrapped lines options insert closing brace array initializer closing brace formatter treat valid wrap preserve closing brace index closingbraceindex last index in lastindexin node tokennamerbrace token closing brace closingbrace closing brace index closingbraceindex count line breaks between countlinebreaksbetween closing brace index closingbraceindex closing brace closingbrace closing brace closingbrace set wrap policy setwrappolicy wrap policy wrappolicy wrap mode wrapmode opening brace index openingbraceindex closing brace index closingbraceindex current depth currentdepth override visit assignment node right side index rightsideindex first index in firstindexin node get right hand side getrighthandside right side index rightsideindex get line breaks before getlinebreaksbefore array initializer brace position array initializer operator index operatorindex first index before firstindexbefore node get right hand side getrighthandside operator index operatorindex is comment iscomment operator index operatorindex node get operator getoperator to string tostring equals to string tostring operator index operatorindex wrap indexes wrapindexes add options wrap assignment operator index operatorindex right side index rightsideindex secondary wrap indexes secondarywrapindexes add options wrap assignment right side index rightsideindex operator index operatorindex wrap parent index wrapparentindex operator index operatorindex wrap group end wrapgroupend last index in lastindexin node get right hand side getrighthandside handle wrap handlewrap options alignment assignment override visit variable declaration fragment variabledeclarationfragment node node get initializer getinitializer right side index rightsideindex first index in firstindexin node get initializer getinitializer right side index rightsideindex get line breaks before getlinebreaksbefore array initializer brace position array initializer equal index equalindex first index before firstindexbefore node get initializer getinitializer tokennameequal wrap indexes wrapindexes add options wrap assignment equal index equalindex right side index rightsideindex secondary wrap indexes secondarywrapindexes add options wrap assignment right side index rightsideindex equal index equalindex wrap parent index wrapparentindex equal index equalindex wrap group end wrapgroupend last index in lastindexin node get initializer getinitializer handle wrap handlewrap options alignment assignment override visit if statement ifstatement node statement then statement thenstatement node get then statement getthenstatement statement else statement elsestatement node get else statement getelsestatement then statement thenstatement block keep then on same line keepthenonsameline options statement options simple else statement elsestatement keep then on same line keepthenonsameline wrap indexes wrapindexes add first index in firstindexin then statement thenstatement wrap parent index wrapparentindex first index after firstindexafter node get expression getexpression tokennamerparen wrap group end wrapgroupend last index in lastindexin then statement thenstatement handle wrap handlewrap options alignment compact node else statement elsestatement else statement elsestatement block else statement elsestatement if statement ifstatement options statement else index elseindex first index in firstindexin else statement elsestatement wrap indexes wrapindexes add else index elseindex wrap parent index wrapparentindex first index after firstindexafter node get expression getexpression tokennamerparen wrap group end wrapgroupend last index in lastindexin else statement elsestatement handle wrap handlewrap options alignment compact node override visit for statement forstatement node list expression initializers node initializers initializers is empty isempty wrap indexes wrapindexes add first index in firstindexin initializers node get expression getexpression wrap indexes wrapindexes add first index in firstindexin node get expression getexpression list expression update rs updaters node update rs updaters update rs updaters is empty isempty wrap indexes wrapindexes add first index in firstindexin update rs updaters wrap indexes wrapindexes is empty isempty wrap parent index wrapparentindex first index in firstindexin node tokennamelparen wrap group end wrapgroupend first index before firstindexbefore node get body getbody tokennamerparen handle wrap handlewrap options alignment expressions loop header node override visit try statement trystatement node prepare elements list prepareelementslist node resources tokennamesemicolon tokennamelparen handle wrap handlewrap options alignment resources override visit union type uniontype node list type types node types types is empty isempty options wrap multicatch type type types wrap indexes wrapindexes is empty isempty wrap indexes wrapindexes add first index in firstindexin type wrap indexes wrapindexes add first index before firstindexbefore type token name r tokennameor secondary wrap indexes secondarywrapindexes add first index in firstindexin type wrap parent index wrapparentindex first index before firstindexbefore node wrap parent index wrapparentindex is comment iscomment wrap parent index wrapparentindex wrap group end wrapgroupend last index in lastindexin types types size handle wrap handlewrap options alignment union type multicatch prepare elements list prepareelementslist types token name r tokennameor tokennamelparen handle wrap handlewrap options alignment union type multicatch override visit lambda expression lambdaexpression node node get body getbody block force continuous wrapping forcecontinuouswrapping node get body getbody first index in firstindexin node node has parentheses hasparentheses list variable declaration variabledeclaration parameters node parameters legacy formatter didn wrapping lambda parameters current depth currentdepth handle arguments handlearguments parameters options alignment parameters method declaration current depth currentdepth override visit field declaration fielddeclaration node handle variable declarations handlevariabledeclarations node fragments override visit variable declaration statement variabledeclarationstatement node handle variable declarations handlevariabledeclarations node fragments override visit parameterized type parameterizedtype node prepare elements list prepareelementslist node type arguments typearguments tokennamecomma tokennameless handle wrap handlewrap options alignment parameterized type references override visit type method reference typemethodreference node handle type arguments handletypearguments node type arguments typearguments override visit expression method reference expressionmethodreference node handle type arguments handletypearguments node type arguments typearguments override visit super method reference supermethodreference node handle type arguments handletypearguments node type arguments typearguments override visit creation reference creationreference node handle type arguments handletypearguments node type arguments typearguments handle type arguments handletypearguments list type type arguments typearguments type arguments typearguments is empty isempty prepare elements list prepareelementslist type arguments typearguments tokennamecomma tokennameless handle wrap handlewrap options alignment type arguments lines node wrap policy wrap executor indentation force continuous wrapping forcecontinuouswrapping ast node astnode node parent index parentindex parent indent parentindent parent index parentindex get indent getindent indent change indentchange parent indent parentindent line start linestart find first token in line findfirsttokeninline parent index parentindex parent index parentindex line start linestart align get align getalign align indent change indentchange parent indent parentindent align token previous first index in firstindexin node last index in lastindexin node token token token get line breaks before getlinebreaksbefore previous previous get line breaks after getlinebreaksafter token get wrap policy getwrappolicy token get wrap policy getwrappolicy wrap mode wrapmode wrap mode wrapmode force d forced extra indent extraindent token get indent getindent indent change indentchange token set wrap policy setwrappolicy wrap policy wrappolicy wrap mode wrapmode force d forced parent index parentindex extra indent extraindent token set indent setindent parent indent parentindent extra indent extraindent previous token handle variable declarations handlevariabledeclarations list variable declaration fragment variabledeclarationfragment fragments fragments size wrap parent index wrapparentindex first index in firstindexin fragments prepare elements list prepareelementslist fragments tokennamecomma wrap indexes wrapindexes remove handle wrap handlewrap options alignment multiple fields handle arguments handlearguments list ast node astnode arguments wrapping option wrappingoption wrap penalties wrappenalties add pref erred preferred prepare elements list prepareelementslist arguments tokennamecomma tokennamelparen handle wrap handlewrap wrapping option wrappingoption prepare elements list prepareelementslist list ast node astnode elements separator type separatortype wrap parent type wrapparenttype elements size ast node astnode element elements wrap indexes wrapindexes add first index in firstindexin element secondary wrap indexes secondarywrapindexes add first index before firstindexbefore element separator type separatortype wrap indexes wrapindexes filled additional values arguments empty wrap indexes wrapindexes is empty isempty token first token firsttoken wrap indexes wrapindexes wrap parent index wrapparentindex wrap parent index wrapparentindex find index findindex first token firsttoken original start originalstart wrap parent type wrapparenttype elements is empty isempty wrap group end wrapgroupend wrap group end wrapgroupend last index in lastindexin elements elements size handle wrap handlewrap wrapping option wrappingoption handle wrap handlewrap wrapping option wrappingoption handle wrap handlewrap wrapping option wrappingoption first penalty multiplier firstpenaltymultiplier wrap penalties wrappenalties add first penalty multiplier firstpenaltymultiplier handle wrap handlewrap wrapping option wrappingoption handle wrap handlewrap wrapping option wrappingoption ast node astnode parent node parentnode do handle wrap dohandlewrap wrapping option wrappingoption parent node parentnode wrap indexes wrapindexes clear secondary wrap indexes secondarywrapindexes clear wrap penalties wrappenalties clear wrap parent index wrapparentindex wrap group end wrapgroupend do handle wrap dohandlewrap wrapping option wrappingoption ast node astnode parent node parentnode wrap indexes wrapindexes is empty isempty wrap parent index wrapparentindex wrap parent index wrapparentindex wrap indexes wrapindexes wrap group end wrapgroupend wrap indexes wrapindexes wrap indexes wrapindexes size penalty wrap penalties wrappenalties is empty isempty wrap penalties wrappenalties wrap policy wrappolicy policy get wrap policy getwrappolicy wrapping option wrappingoption penalty parent node parentnode policy set token wrap policy settokenwrappolicy policy wrap preceeding comments wrappreceedingcomments parent node parentnode infix expression infixexpression options wrap binary wrap indexes wrapindexes size penalty wrap penalties wrappenalties size wrap penalties wrappenalties penalty policy penalty multiplier penaltymultiplier policy get wrap policy getwrappolicy wrapping option wrappingoption penalty parent node parentnode set token wrap policy settokenwrappolicy policy wrap preceeding comments wrappreceedingcomments force wrap forcewrap wrapping option wrappingoption alignment force force wrap forcewrap policy wrap mode wrapmode wrap mode wrapmode disabled satisfied wrap indexes wrapindexes token token token get wrap policy getwrappolicy wrap mode wrapmode wrap mode wrapmode top priority token break before breakbefore satisfied satisfied can wrap first canwrapfirst wrapping option wrappingoption alignment split alignment split can wrap first canwrapfirst wrap indexes wrapindexes break before breakbefore secondary wrap indexes secondarywrapindexes is empty isempty option n o alignment optionnoalignment wrapping option wrappingoption alignment split mask alignment alignment policy get wrap policy getwrappolicy option n o alignment optionnoalignment parent node parentnode secondary wrap indexes secondarywrapindexes token token token get wrap policy getwrappolicy token set wrap policy setwrappolicy policy set token wrap policy settokenwrappolicy wrap indexes index wrapindexesindex wrap policy wrappolicy policy wrap preceeding comments wrappreceedingcomments wrap indexes wrapindexes wrap indexes index wrapindexesindex wrap preceeding comments wrappreceedingcomments token previous previous is comment iscomment previous get line breaks after getlinebreaksafter previous get line breaks before getlinebreaksbefore previous set wrap policy setwrappolicy policy wrap indexes wrapindexes wrap indexes index wrapindexesindex token token token get wrap policy getwrappolicy wrap policy wrappolicy disable wrap token set wrap policy setwrappolicy policy options join wrapped lines token token type tokentype tokennamecomment block wrap preparator decide comment wrapped token clear line breaks before clearlinebreaksbefore wrap policy wrappolicy get wrap policy getwrappolicy wrapping option wrappingoption penalty multiplier penaltymultiplier is first isfirst ast node astnode parent node parentnode wrap parent index wrapparentindex wrap group end wrapgroupend extra indent extraindent options continuation indentation indent on column indentoncolumn wrapping option wrappingoption alignment indent column is already wrapped isalreadywrapped indent on column indentoncolumn extra indent extraindent parent node parentnode enum declaration enumdeclaration special behavior compatibility legacy formatter extra indent extraindent wrapping option wrappingoption alignment indent options indent body declarations compare enum declaration header extra indent extraindent is already wrapped isalreadywrapped is first isfirst parent node parentnode if statement ifstatement extra indent extraindent ind oent on column indoentoncolumn wrap parent index wrapparentindex first index in firstindexin parent node parentnode wrapping option wrappingoption alignment indent extra indent extraindent parent node parentnode array initializer arrayinitializer extra indent extraindent options continuation indentation array initializer wrap mode wrapmode wrap mode wrapmode wrap mode wrapmode is top priority istoppriority wrapping option wrappingoption alignment split mask alignment alignment wrap mode wrapmode wrap mode wrapmode disabled alignment compact split is top priority istoppriority is first isfirst alignment split is top priority istoppriority alignment shifted split is top priority istoppriority is first isfirst extra indent extraindent alignment split is top priority istoppriority is first isfirst is already wrapped isalreadywrapped avoid triggering top priority wrapping is top priority istoppriority is top priority istoppriority wrap mode wrapmode wrap mode wrapmode top priority extra indent extraindent options indentation size wrap policy wrappolicy wrap mode wrapmode wrap parent index wrapparentindex wrap group end wrapgroupend extra indent extraindent current depth currentdepth penalty multiplier penaltymultiplier is first isfirst indent on column indentoncolumn finish up finishup ast node astnode ast root astroot i region iregion regions preserve existing line breaks preserveexistinglinebreaks regions apply breaks out side regions applybreaksoutsideregions regions wrap executor wrapexecutor options execute wraps executewraps field aligner fieldaligner align comments aligncomments wrap comments wrapcomments fix enum constant in dents fixenumconstantindents ast root astroot preserve existing line breaks preserveexistinglinebreaks empty lines breaks file start token starting breaks startingbreaks get line breaks before getlinebreaksbefore clear line breaks before clearlinebreaksbefore put line breaks before putlinebreaksbefore starting breaks startingbreaks traverse token traverser tokentraverser default code formatter options defaultcodeformatteroptions options wrap preparator wrappreparator options override token token token is between imports isbetweenimports wrap preparator wrappreparator imports start importsstart wrap preparator wrappreparator imports end importsend line breaks linebreaks get line breaks to preserve getlinebreakstopreserve get previous getprevious token is between imports isbetweenimports line breaks linebreaks get line breaks before getlinebreaksbefore line breaks linebreaks options join wrapped lines token is wrap pable iswrappable token break before breakbefore line breaks linebreaks token put line breaks before putlinebreaksbefore line breaks linebreaks token size clear line breaks after clearlinebreaksafter ending breaks endingbreaks get line breaks to preserve getlinebreakstopreserve ending breaks endingbreaks put line breaks after putlinebreaksafter ending breaks endingbreaks kind code formatter codeformatter compilation unit options insert file missing break after breakafter get line breaks to preserve getlinebreakstopreserve token token token token is between imports isbetweenimports token list token structure token get internal structure getinternalstructure structure structure is empty isempty token structure structure size token list token structure token get internal structure getinternalstructure structure structure is empty isempty token structure line breaks linebreaks wrap preparator wrappreparator count line breaks between countlinebreaksbetween token token is between imports isbetweenimports line breaks linebreaks options blank lines groups to preserve topreserve options number empty lines preserve token token empty lines breaks file start to preserve topreserve math min line breaks linebreaks to preserve topreserve apply breaks out side regions applybreaksoutsideregions i region iregion regions string source get source getsource previous region end previousregionend i region iregion region regions find index findindex previous region end previousregionend token token count line breaks between countlinebreaksbetween source previous region end previousregionend math min token original start originalstart region get offset getoffset token break before breakbefore size token original start originalstart region get offset getoffset count line breaks between countlinebreaksbetween source token original end originalend region get offset getoffset break before breakbefore count line breaks between countlinebreaksbetween token break before breakbefore token previous region end previousregionend region get offset getoffset region get length getlength wrap comments wrapcomments comment wrap executor commentwrapexecutor comment wrapper commentwrapper comment wrap executor commentwrapexecutor options isnlstaginline size token token token get line breaks before getlinebreaksbefore token get line breaks after getlinebreaksafter isnlstaginline token hasnlstag token token type tokentype token name string literal tokennamestringliteral isnlstaginline list token structure token get internal structure getinternalstructure structure structure is empty isempty isnlstaginline start position startposition get position in line getpositioninline token token type tokentype tokennamecomment comment wrapper commentwrapper wrap line comment wraplinecomment token start position startposition token token type tokentype tokennamecomment block token token type tokentype tokennamecomment javadoc comment wrapper commentwrapper wrap multi line comment wrapmultilinecomment token start position startposition fix enum constant in dents fixenumconstantindents ast node astnode ast root astroot options tabs leading indent ations indentations enum constants indented declarations wrapped elements ast root astroot accept ast visitor astvisitor override visit enum constant declaration enumconstantdeclaration node wrap preparator wrappreparator first token in firsttokenin node set wrap policy setwrappolicy
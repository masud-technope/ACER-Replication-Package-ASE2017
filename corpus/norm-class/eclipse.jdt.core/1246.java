copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite describing java util iterator junit framework test org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core dom org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jdt internal compiler impl compiler options compileroptions suppress warnings suppresswarnings rawtypes ast rewriting reference expression test astrewritingreferenceexpressiontest ast rewriting test astrewritingtest ast rewriting reference expression test astrewritingreferenceexpressiontest string ast rewriting reference expression test astrewritingreferenceexpressiontest string api level apilevel api level apilevel test suite create suite createsuite ast rewriting reference expression test astrewritingreferenceexpressiontest tests aspects creation reference creationreference constructor method reference class type classtype lhs exception test reference expressions testreferenceexpressions test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string contents test foo system print foo system print suppress warnings suppresswarnings unused main string args integer string integer string integer string integer integer string integer string integer integer integer string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration main replace type argument variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer type parameter typeparameter type parameter typeparameter ast new type parameter newtypeparameter type parameter typeparameter set name setname ast new simple name newsimplename integer list rewrite listrewrite list rewrite listrewrite rewrite get list rewrite getlistrewrite creation reference creationreference creation reference creationreference type arguments property list rewrite listrewrite replace ast node astnode creation reference creationreference type arguments typearguments type parameter typeparameter add type argument variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype ast new simple type newsimpletype ast new simple name newsimplename integer list rewrite listrewrite rewrite get list rewrite getlistrewrite creation reference creationreference creation reference creationreference type arguments property list rewrite listrewrite insert last insertlast simple type simpletype delete type argument variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer list rewrite listrewrite rewrite get list rewrite getlistrewrite creation reference creationreference creation reference creationreference type arguments property list rewrite listrewrite remove ast node astnode creation reference creationreference type arguments typearguments change existing type arg implicit test delete type argument variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer list rewrite listrewrite rewrite get list rewrite getlistrewrite creation reference creationreference creation reference creationreference type arguments property loop general iter ates iterates iterator iter list rewrite listrewrite get original list getoriginallist iterator loop general iter ates iterates iter has next hasnext ast node astnode type argument typeargument ast node astnode iter list rewrite listrewrite remove type argument typeargument change creation reference creationreference originally type arguments implicit test insert type argument creation reference creationreference originally type arguments variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer list rewrite listrewrite rewrite get list rewrite getlistrewrite creation reference creationreference creation reference creationreference type arguments property simple type simpletype ast new simple type newsimpletype ast new simple name newsimplename string list rewrite listrewrite insert first insertfirst simple type simpletype change creation reference creationreference type method reference typemethodreference variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype ast new simple type newsimpletype ast new qualified name newqualifiedname ast new simple name newsimplename ast new simple name newsimplename rewrite replace creation reference creationreference get type gettype simple type simpletype string preview evaluate rewrite evaluaterewrite rewrite contents test foo system print foo system print suppress warnings suppresswarnings unused main string args integer integer integer string integer integer string integer string integer integer integer string buf string buffer stringbuffer contents assert equal string assertequalstring preview buf to string tostring tests aspects creation reference creationreference constructor method reference array type arraytype lhs exception test reference expressions testreferenceexpressions test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string contents test object foo suppress warnings suppresswarnings unused main string args string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration main replace primitive type lhs variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer array type arraytype array type arraytype array type arraytype creation reference creationreference get type gettype rewrite replace array type arraytype get element type getelementtype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite rewrite contents test object foo suppress warnings suppresswarnings unused main string args buf string buffer stringbuffer contents assert equal string assertequalstring preview buf to string tostring tests aspects link expression method reference expressionmethodreference exception test reference expressions testreferenceexpressions test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string contents test foo foo bar suppress warnings suppresswarnings unused main string args foo string bar string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration main replace lhs rhs variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments expression method reference expressionmethodreference expression method reference expressionmethodreference expression method reference expressionmethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype ast new simple type newsimpletype ast new simple name newsimplename string rewrite replace expression method reference expressionmethodreference get expression getexpression ast new simple name newsimplename rewrite get list rewrite getlistrewrite expression method reference expressionmethodreference expression method reference expressionmethodreference type arguments property insert first insertfirst simple type simpletype rewrite replace expression method reference expressionmethodreference get name getname ast new simple name newsimplename bar variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments expression method reference expressionmethodreference expression method reference expressionmethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer rewrite replace expression method reference expressionmethodreference get expression getexpression ast new simple name newsimplename ast node astnode type argument typeargument ast node astnode expression method reference expressionmethodreference type arguments typearguments rewrite get list rewrite getlistrewrite expression method reference expressionmethodreference expression method reference expressionmethodreference type arguments property remove type argument typeargument rewrite replace expression method reference expressionmethodreference get name getname ast new simple name newsimplename foo string preview evaluate rewrite evaluaterewrite rewrite contents test foo foo bar suppress warnings suppresswarnings unused main string args string bar foo buf string buffer stringbuffer contents assert equal string assertequalstring preview buf to string tostring tests aspects link type method reference typemethodreference exception test reference expressions testreferenceexpressions test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string contents test test foo foo bar suppress warnings suppresswarnings unused main string args marker foo marker integer bar target element type elementtype type marker string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration main replace lhs rhs variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments type method reference typemethodreference type method reference typemethodreference type method reference typemethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer simple type simpletype simple type simpletype ast new simple type newsimpletype ast new simple name newsimplename integer type new type newtype ast new simple type newsimpletype ast new simple name newsimplename rewrite replace type method reference typemethodreference get type gettype new type newtype rewrite get list rewrite getlistrewrite type method reference typemethodreference type method reference typemethodreference type arguments property insert first insertfirst simple type simpletype rewrite replace type method reference typemethodreference get name getname ast new simple name newsimplename bar variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments type method reference typemethodreference type method reference typemethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer new type newtype ast new simple type newsimpletype ast new qualified name newqualifiedname ast new simple name newsimplename ast new simple name newsimplename rewrite replace type method reference typemethodreference get type gettype new type newtype ast node astnode type argument typeargument ast node astnode type method reference typemethodreference type arguments typearguments rewrite get list rewrite getlistrewrite type method reference typemethodreference type method reference typemethodreference type arguments property remove type argument typeargument rewrite replace type method reference typemethodreference get name getname ast new simple name newsimplename foo string preview evaluate rewrite evaluaterewrite rewrite contents test test foo foo bar suppress warnings suppresswarnings unused main string args integer bar foo target element type elementtype type marker buf string buffer stringbuffer contents assert equal string assertequalstring preview buf to string tostring tests aspects super method reference supermethodreference exception test reference expressions testreferenceexpressions test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string contents test foo foo bar suppress warnings suppresswarnings unused bar integer foo bar main string args string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration bar replace lhs rhs add delete type arguments variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments super method reference supermethodreference super method reference supermethodreference super method reference supermethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer rewrite super method reference supermethodreference super method reference supermethodreference qualifier property ast new simple name newsimplename ast node astnode type argument typeargument ast node astnode super method reference supermethodreference type arguments typearguments rewrite get list rewrite getlistrewrite super method reference supermethodreference super method reference supermethodreference type arguments property remove type argument typeargument rewrite replace super method reference supermethodreference get name getname ast new simple name newsimplename bar variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments super method reference supermethodreference super method reference supermethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer rewrite remove super method reference supermethodreference get qualifier getqualifier simple type simpletype simple type simpletype ast new simple type newsimpletype ast new simple name newsimplename string rewrite get list rewrite getlistrewrite super method reference supermethodreference super method reference supermethodreference type arguments property insert first insertfirst simple type simpletype rewrite replace super method reference supermethodreference get name getname ast new simple name newsimplename foo string preview evaluate rewrite evaluaterewrite rewrite contents test foo foo bar suppress warnings suppresswarnings unused bar bar string foo main string args buf string buffer stringbuffer contents assert equal string assertequalstring preview buf to string tostring tests cross rewriting changing member reference expressions type exception test reference expressions testreferenceexpressions test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test project set option setoption compiler options compileroptions option source compiler options compileroptions version string contents test java lang annotation foo foo bar foo bar main string args suppress warnings suppresswarnings unused bar integer string marker foo foo bar target element type elementtype type marker string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration bar creation reference creationreference type method reference typemethodreference variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer type method reference typemethodreference type method reference typemethodreference ast new type method reference newtypemethodreference qualified type qualifiedtype qualified type qualifiedtype ast new qualified type newqualifiedtype ast new simple type newsimpletype ast new simple name newsimplename ast new simple name newsimplename marker annotation markerannotation marker annotation markerannotation ast new marker annotation newmarkerannotation marker annotation markerannotation set type name settypename ast new simple name newsimplename marker qualified type qualifiedtype annotations add marker annotation markerannotation type method reference typemethodreference set type settype qualified type qualifiedtype type method reference typemethodreference set name setname ast new simple name newsimplename foo rewrite replace creation reference creationreference type method reference typemethodreference creation reference creationreference super method reference supermethodreference variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments creation reference creationreference creation reference creationreference variable declaration fragment variabledeclarationfragment get initializer getinitializer super method reference supermethodreference super method reference supermethodreference ast new super method reference newsupermethodreference super method reference supermethodreference set name setname ast new simple name newsimplename foo rewrite replace creation reference creationreference super method reference supermethodreference type method reference typemethodreference super method reference supermethodreference variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments type method reference typemethodreference type method reference typemethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer super method reference supermethodreference ast new super method reference newsupermethodreference super method reference supermethodreference set name setname ast new simple name newsimplename bar super method reference supermethodreference set qualifier setqualifier ast new simple name newsimplename rewrite replace type method reference typemethodreference super method reference supermethodreference super method reference supermethodreference creation method reference creationmethodreference variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments super method reference supermethodreference super method reference supermethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer parameterized type parameterizedtype parameterized type parameterizedtype ast new parameterized type newparameterizedtype ast new simple type newsimpletype ast new simple name newsimplename parameterized type parameterizedtype type arguments typearguments add ast new simple type newsimpletype ast new simple name newsimplename integer creation reference creationreference ast new creation reference newcreationreference creation reference creationreference set type settype parameterized type parameterizedtype creation reference creationreference type arguments typearguments add ast new simple type newsimpletype ast new simple name newsimplename string rewrite replace super method reference supermethodreference creation reference creationreference super method reference supermethodreference expression method reference expressionmethodreference variable declaration statement variabledeclarationstatement variable declaration statement variabledeclarationstatement method decl methoddecl get body getbody statements variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment variable declaration statement variabledeclarationstatement fragments super method reference supermethodreference super method reference supermethodreference variable declaration fragment variabledeclarationfragment get initializer getinitializer expression method reference expressionmethodreference expression method reference expressionmethodreference ast new expression method reference newexpressionmethodreference expression method reference expressionmethodreference set expression setexpression ast new qualified name newqualifiedname ast new simple name newsimplename ast new simple name newsimplename expression method reference expressionmethodreference set name setname ast new simple name newsimplename foo rewrite replace super method reference supermethodreference expression method reference expressionmethodreference string preview evaluate rewrite evaluaterewrite rewrite contents test java lang annotation foo foo bar foo bar main string args suppress warnings suppresswarnings unused bar marker foo foo bar integer string foo target element type elementtype type marker buf string buffer stringbuffer contents assert equal string assertequalstring preview buf to string tostring
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jgarms bea initial api implementation org eclipse jdt apt core internal java byte array output stream bytearrayoutputstream java file java io exception ioexception java input stream inputstream java net url java util array list arraylist java util enumeration java util linked hash set linkedhashset java util linked list linkedlist java util list java util java util jar attributes java util jar jar file jarfile java util jar manifest java util zip zip entry zipentry class loader classloader close underlying jars projects deleted factory jars class loader classloader caches open jars closed close jars point open close class loader classloader operation jar class loader jarclassloader class loader classloader nulled class loader classloader closed list jar file jarfile jars linked hash set linkedhashset file files list jarclinputstream open streams openstreams linked list linkedlist open jar class loader jarclassloader list file jar files jarfiles class loader classloader parent parent handle manifest classpath entries files linked hash set linkedhashset jar files jarfiles file jar files jarfiles recursive get manifest jars recursivegetmanifestjars files open open create jar files jars array list arraylist files size file files jar file jarfile jar jar file jarfile jars add jar io exception ioexception ioe apt plugin aptplugin log ioe unable create jar file jarfile file close open open jarclinputstream open streams openstreams close io exception ioexception ioe apt plugin aptplugin log ioe failed close stream open streams openstreams jar file jarfile jar jars jar close io exception ioexception ioe apt plugin aptplugin log ioe failed close jar jar jars input stream inputstream open input stream openinputstream input stream inputstream jarclinputstream result jarclinputstream open streams openstreams add result close input stream closeinputstream jarclinputstream open open streams openstreams remove override find class findclass string class not found exception classnotfoundexception open nls class not found exception classnotfoundexception class loader classloader closed load class data loadclassdata nls class not found exception classnotfoundexception find clazz define class defineclass length define string pkg name pkgname get package name getpackagename pkg name pkgname pkg get package getpackage pkg name pkgname pkg define package definepackage pkg name pkgname clazz string get package name getpackagename string fully qualified name fullyqualifiedname fully qualified name fullyqualifiedname last index of lastindexof fully qualified name fullyqualifiedname substring returns load class data loadclassdata string replace nls input stream inputstream input get resource as stream getresourceasstream input byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream buf len len input read buf baos write buf len baos close baos to byte array tobytearray io exception ioexception ioe input close io exception ioexception ioe override input stream inputstream get resource as stream getresourceasstream string input stream inputstream input get parent getparent get resource as stream getresourceasstream input input open jar file jarfile jars zip entry zipentry entry get entry getentry entry input stream inputstream zip input zipinput get input stream getinputstream entry open input stream openinputstream zip input zipinput io exception ioexception ioe apt plugin aptplugin log ioe unable entry jar diff icult difficult implement close resources delaying requests entry unsupported operation exception unsupportedoperationexception class loader classloader handle override url get resource getresource string jar file jarfile jars zip entry zipentry entry get entry getentry entry nls unsupported operation exception unsupportedoperationexception nls get resource getresource implemented diff icult difficult implement close resources delaying requests override enumeration url get resources getresources string io exception ioexception nls unsupported operation exception unsupportedoperationexception get resources getresources implemented jarclinputstream input stream inputstream closed input stream inputstream input jarclinputstream input stream inputstream orig input originput input orig input originput override close io exception ioexception closed noop close input close closed close input stream closeinputstream override read io exception ioexception input read override io exception ioexception input override mark read limit readlimit input mark read limit readlimit override mark supported marksupported input mark supported marksupported override read len io exception ioexception input read len override read io exception ioexception input read override reset io exception ioexception input reset override skip io exception ioexception input skip scan manifest classpath entries jar adding jar files manifest jars recursive get manifest jars recursivegetmanifestjars file jar file jarfile file manifest jars manifestjars jar file jarfile exists jar file jarfile jar jar jar file jarfile jar file jarfile manifest jar get manifest getmanifest string classpath get main attributes getmainattributes get value getvalue attributes path classpath entries file parent jar file jarfile get parent file getparentfile nls string rg paths rgpaths classpath split string path rg paths rgpaths path length file file file parent path have n haven manifest jars manifest jars manifestjars file file exists manifest jars manifestjars add file recursive get manifest jars recursivegetmanifestjars file manifest jars manifestjars io exception ioexception ioe jar jar close io exception ioexception ioe
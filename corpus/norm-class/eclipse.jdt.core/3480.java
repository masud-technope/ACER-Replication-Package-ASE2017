copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests model junit framework test org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime qualified name qualifiedname org eclipse jdt core org eclipse jdt internal core util util copy move resources tests copymoveresourcestests copy move tests copymovetests copy move resources tests copymoveresourcestests string copies element container optional rename for cing forcing operation succeed exceptions encountered thrown i java element ijavaelement copy positive copypositive i java element ijavaelement element i java element ijavaelement container i java element ijavaelement sibling string rename force java model exception javamodelexception delta listener deltalistener listener delta listener deltalistener start deltas startdeltas listener for cing forcing ensure collision exists force i java element ijavaelement collision generate handle generatehandle element rename container assert true asserttrue collision exist collision exists copy i source manipulation isourcemanipulation element copy container sibling rename force ensure original element exists assert true asserttrue original element exist element exists generate element handle i java element ijavaelement copy generate handle generatehandle element rename container assert true asserttrue copy exist copy exists ensure correct position element get element type getelementtype i java element ijavaelement compilation unit ensure correct pos itioning ensurecorrectpositioning i parent iparent container sibling copy container get element type getelementtype i java element ijavaelement fragment root ensure correct container get element name getelementname equals decl i java element ijavaelement children i compilation unit icompilationunit copy get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue find decl i java element ijavaelement children i compilation unit icompilationunit copy get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue declaration incorrect i package declaration ipackagedeclaration children get element name getelementname equals container get element name getelementname assert true asserttrue find decl i java element delta ijavaelementdelta dest delta destdelta listener get delta for getdeltafor container assert true asserttrue destination container changed dest delta destdelta dest delta destdelta get kind getkind i java element delta ijavaelementdelta changed i java element delta ijavaelementdelta deltas force deltas dest delta destdelta get changed children getchangedchildren deltas dest delta destdelta get added children getaddedchildren fixme strong deltas length deltas get element getelement equals copy assert true asserttrue children correct element copy copy stop deltas stopdeltas listener moves elements containers optional renaming for cing forcing operation succeed exceptions encountered thrown move positive movepositive i java element ijavaelement elements i java element ijavaelement destinations i java element ijavaelement siblings string names force i progress monitor iprogressmonitor monitor java model exception javamodelexception delta listener deltalistener listener delta listener deltalistener start deltas startdeltas listener for cing forcing ensure collision exists force elements length i java element ijavaelement elements i java element ijavaelement collision names collision generate handle generatehandle destinations collision generate handle generatehandle names destinations assert true asserttrue collision exist collision exists move get java model getjavamodel move elements destinations siblings names force monitor elements length i java element ijavaelement element elements i java element ijavaelement moved names moved generate handle generatehandle element destinations moved generate handle generatehandle element names destinations ensure original element longer exists moving container moving primary working copy destinations equals element get parent getparent element get element type getelementtype i java element ijavaelement compilation unit i compilation unit icompilationunit element is working copy isworkingcopy assert true asserttrue original element exist element exists assert true asserttrue moved element exist moved exists i java element ijavaelement container destinations container get element type getelementtype i java element ijavaelement fragment container get element name getelementname equals moved get element type getelementtype i java element ijavaelement compilation unit i java element ijavaelement children i compilation unit icompilationunit moved get children getchildren children length children get element type getelementtype i java element ijavaelement declaration assert true asserttrue find decl i java element ijavaelement children i compilation unit icompilationunit moved get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue declaration incorrect i package declaration ipackagedeclaration children get element name getelementname equals container get element name getelementname assert true asserttrue find decl i java element delta ijavaelementdelta dest delta destdelta moved renamed main type is main type ismaintype element destinations names names dest delta destdelta listener get delta for getdeltafor moved get parent getparent assert true asserttrue rename d renamed compilation unit result main type dest delta destdelta dest delta destdelta get kind getkind i java element delta ijavaelementdelta i java element delta ijavaelementdelta deltas dest delta destdelta get added children getaddedchildren assert true asserttrue children correct element copy deltas get element getelement equals moved assert true asserttrue flag moved deltas get flags getflags i java element delta ijavaelementdelta moved assert true asserttrue moved handle original deltas get moved from element getmovedfromelement equals element dest delta destdelta listener get delta for getdeltafor destinations assert true asserttrue destination container changed dest delta destdelta dest delta destdelta get kind getkind i java element delta ijavaelementdelta changed i java element delta ijavaelementdelta deltas dest delta destdelta get added children getaddedchildren deltas length side packages i java element ijavaelement pkg deltas get element getelement assert true asserttrue side child fragment pkg get element type getelementtype i java element ijavaelement fragment assert true asserttrue side child enclosing element get element name getelementname starts with startswith pkg get element name getelementname i java element delta ijavaelementdelta pkg delta pkgdelta deltas deltas length assert true asserttrue children correct element copy pkg delta pkgdelta get element getelement equals moved assert true asserttrue flag moved pkg delta pkgdelta get flags getflags i java element delta ijavaelementdelta moved assert true asserttrue moved handle shoud original pkg delta pkgdelta get moved from element getmovedfromelement equals element i java element delta ijavaelementdelta source delta sourcedelta listener get delta for getdeltafor element assert true asserttrue moved handle original source delta sourcedelta get moved to element getmovedtoelement equals moved stop deltas stopdeltas listener setup test set u p setup exception set u p setup create java project createjavaproject string src src bin tests names string test copy working copy destination testcopyworkingcopydestination test suite build model test suite buildmodeltestsuite copy move resources tests copymoveresourcestests clean up cleanup previous test tear down teardown exception delete project deleteproject tear down teardown ensures copied test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest i compilation unit icompilationunit pkg dest pkgdest get compilation unit getcompilationunit java assert true asserttrue declaration updated copied get package declaration getpackagedeclaration exists operation fail copying member time supported test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy negative copynegative i java element ijavaelement cu source cusource cu source cusource get type gettype i java element ijavaelement cu source cusource get parent getparent cu source cusource string java i java model status constants ijavamodelstatusconstants invalid element types ensures copied replacing existing test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest ensures copied test copy u testcopycu core exception coreexception create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest i compilation unit icompilationunit pkg dest pkgdest get compilation unit getcompilationunit java assert true asserttrue declaration updated copied get package declaration getpackagedeclaration exists ensures copied renamed test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest java ensures read copied test copy u testcopycu core exception coreexception util is read only supported isreadonlysupported test file system support read attribute i file ifile file i file ifile file create folder createfolder src file create file createfile src java util set read only setreadonly file i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest file get file getfile src java assert true asserttrue destination read file is read only isreadonly file util set read only setreadonly file file util set read only setreadonly file delete folder deletefolder src delete folder deletefolder src ensures copied renamed overwriting existing test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest java ensures copied existing force test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy negative copynegative cu source cusource pkg dest pkgdest i java model status constants ijavamodelstatusconstants collision ensures copied invalid destination test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy negative copynegative cu source cusource cu source cusource i java model status constants ijavamodelstatusconstants invalid destination ensures copied container test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java cu source cusource copy illegal argument exception illegalargumentexception iae assert true asserttrue move container ensures copied server properties regression test test copy u testcopycu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname property cu source cusource get underlying resource getunderlyingresource set persistent property setpersistentproperty qualified name qualifiedname create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive cu source cusource pkg dest pkgdest i compilation unit icompilationunit pkg dest pkgdest get compilation unit getcompilationunit java string property value propertyvalue get underlying resource getunderlyingresource get persistent property getpersistentproperty qualified name qualifiedname assert equals assertequals server property copied property value propertyvalue ensures correct scheduling rule copying regression test https bugs eclipse org bugs bug cgi test copy u testcopycu exception create folder createfolder src create file createfile src java create folder createfolder src i workspace runnable iworkspacerunnable runnable i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src cu source cusource copy pkg dest pkgdest assert true asserttrue src java exist get compilation unit getcompilationunit src java exists get workspace getworkspace runnable get folder getfolder src i resource iresource ensures fragment copied fragment root test copy package fragment testcopypackagefragment core exception coreexception create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg source pkgsource get package getpackage src i package fragment root ipackagefragmentroot root dest rootdest get package fragment root getpackagefragmentroot src copy positive copypositive pkg source pkgsource root dest rootdest ensures fragment copied fragment root test copy read only package fragment testcopyreadonlypackagefragment core exception coreexception util is read only supported isreadonlysupported test file system support read attribute i package fragment ipackagefragment pkg source pkgsource i package fragment ipackagefragment pkg create folder createfolder src create file createfile src java util set read only setreadonly get file getfile src java pkg source pkgsource get package getpackage src util set read only setreadonly pkg source pkgsource get resource getresource pkg get package getpackage src util set read only setreadonly pkg get resource getresource i package fragment root ipackagefragmentroot root dest rootdest get package fragment root getpackagefragmentroot src copy positive copypositive pkg root dest rootdest assert true asserttrue read only readonly util is read only isreadonly get package getpackage src get resource getresource assert true asserttrue read only readonly util is read only isreadonly get package getpackage src get resource getresource assert true asserttrue read only readonly util is read only isreadonly get package getpackage src get resource getresource assert true asserttrue read only readonly util is read only isreadonly get file getfile src java i file ifile x src file xsrcfile get file getfile src java x src file xsrcfile util set read only setreadonly x src file xsrcfile pkg util set read only setreadonly pkg get resource getresource pkg source pkgsource util set read only setreadonly pkg source pkgsource get resource getresource i package fragment ipackagefragment fragment get package getpackage src fragment util set read only setreadonly fragment get resource getresource i package fragment ipackagefragment fragment get package getpackage src fragment util set read only setreadonly fragment get resource getresource i file ifile x file xfile get file getfile src java x file xfile util set read only setreadonly x file xfile delete folder deletefolder src ensures working copy workingcopy copied test copy working copy testcopyworkingcopy core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive copy pkg dest pkgdest copy copy discard working copy discardworkingcopy ensures copied existing primary working copy regression test bug declaration inserted wrong copying names collide editor opened test copy working copy destination testcopyworkingcopydestination core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java foo i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src create file createfile src java copy get compilation unit getcompilationunit src java copy become working copy becomeworkingcopy copy positive copypositive cu source cusource pkg dest pkgdest force copy copy discard working copy discardworkingcopy ensures working copy workingcopy copied replacing existing working copy workingcopy test copy working copy force testcopyworkingcopyforce core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive copy pkg dest pkgdest copy copy discard working copy discardworkingcopy ensures working copy workingcopy copied renamed test copy working copy rename testcopyworkingcopyrename core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive copy pkg dest pkgdest java copy copy discard working copy discardworkingcopy ensures working copy workingcopy copied renamed overwriting existing working copy workingcopy test copy working copy rename force testcopyworkingcopyrenameforce core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy positive copypositive copy pkg dest pkgdest java copy copy discard working copy discardworkingcopy ensures working copy workingcopy copied existing working copy workingcopy force test copy working copy with collision testcopyworkingcopywithcollision core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src copy negative copynegative copy pkg dest pkgdest i java model status constants ijavamodelstatusconstants collision copy copy discard working copy discardworkingcopy ensures working copy workingcopy copied invalid destination test copy working copy with invalid destination testcopyworkingcopywithinvaliddestination core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy copy negative copynegative copy cu source cusource i java model status constants ijavamodelstatusconstants invalid destination copy copy discard working copy discardworkingcopy ensures moved test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src move positive movepositive cu source cusource pkg dest pkgdest i compilation unit icompilationunit pkg dest pkgdest get compilation unit getcompilationunit java assert true asserttrue declaration updated copied get package declaration getpackagedeclaration exists operation fail moving member time supported test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java move negative movenegative i java element ijavaelement cu source cusource cu source cusource get type gettype i java element ijavaelement cu source cusource get parent getparent cu source cusource string java i java model status constants ijavamodelstatusconstants invalid element types ensures moved replacing existing test move u testmovecu core exception coreexception delta listener deltalistener listener delta listener deltalistener create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src start deltas startdeltas listener move positive movepositive i java element ijavaelement cu source cusource i java element ijavaelement pkg dest pkgdest assert deltas assertdeltas incorrect delta children src children children java moved java src children java content primary resource listener stop deltas stopdeltas listener ensures moved renamed test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src move positive movepositive cu source cusource pkg dest pkgdest java ensures moved renamed overwriting existing resource test move u testmovecu core exception coreexception delta listener deltalistener listener delta listener deltalistener create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src start deltas startdeltas listener move positive movepositive i java element ijavaelement cu source cusource i java element ijavaelement pkg dest pkgdest string java assert deltas assertdeltas incorrect delta children src children children java moved java src children java children fine grained primary resource moved java src listener stop deltas stopdeltas listener ensures moved replacing existing for ced forced test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src move negative movenegative cu source cusource pkg dest pkgdest i java model status constants ijavamodelstatusconstants collision ensures moved invalid destination test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java move negative movenegative cu source cusource cu source cusource i java model status constants ijavamodelstatusconstants invalid destination ensures moved container test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java cu source cusource move illegal argument exception illegalargumentexception iae assert true asserttrue move container ensures correct scheduling rule moving regression test https bugs eclipse org bugs bug cgi test move u testmovecu exception create folder createfolder src create file createfile src java create folder createfolder src i workspace runnable iworkspacerunnable runnable i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src cu source cusource move pkg dest pkgdest assert false assertfalse src java longer exist cu source cusource exists get workspace getworkspace runnable get folder getfolder src i resource iresource ensures block comment lost moving regression test https bugs eclipse org bugs bug cgi test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java comment i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src cu source cusource move pkg dest pkgdest sibling rename don replace i compilation unit icompilationunit cu dest cudest get compilation unit getcompilationunit src java assert source equals assertsourceequals unexpected source comment cu dest cudest get source getsource ensures block comments lost moving regression test https bugs eclipse org bugs bug cgi test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java comment comment i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src cu source cusource move pkg dest pkgdest sibling rename don replace i compilation unit icompilationunit cu dest cudest get compilation unit getcompilationunit src java assert source equals assertsourceequals unexpected source comment comment cu dest cudest get source getsource ensures javadoc comment lost moving regression test https bugs eclipse org bugs bug cgi test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java javadoc i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src cu source cusource move pkg dest pkgdest sibling rename don replace i compilation unit icompilationunit cu dest cudest get compilation unit getcompilationunit src java assert source equals assertsourceequals unexpected source javadoc cu dest cudest get source getsource ensures javadoc comment lost moving regression test https bugs eclipse org bugs bug cgi test move u testmovecu core exception coreexception create folder createfolder src create file createfile src java javadoc comment i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java i package fragment ipackagefragment pkg dest pkgdest get package getpackage src cu source cusource move pkg dest pkgdest sibling rename don replace i compilation unit icompilationunit cu dest cudest get compilation unit getcompilationunit src java assert source equals assertsourceequals unexpected source javadoc comment cu dest cudest get source getsource ensures fragment moved fragment root test move package fragment testmovepackagefragment core exception coreexception create folder createfolder src create file createfile src java i package fragment ipackagefragment pkg source pkgsource get package getpackage src i package fragment root ipackagefragmentroot root dest rootdest get package fragment root getpackagefragmentroot src move positive movepositive pkg source pkgsource root dest rootdest ensures fragment copied fragment root test move read only package fragment testmovereadonlypackagefragment core exception coreexception util is read only supported isreadonlysupported test file system support read attribute i package fragment ipackagefragment pkg source pkgsource i package fragment ipackagefragment pkg create folder createfolder src create file createfile src java util set read only setreadonly get file getfile src java pkg source pkgsource get package getpackage src util set read only setreadonly pkg source pkgsource get resource getresource pkg get package getpackage src util set read only setreadonly pkg get resource getresource i package fragment root ipackagefragmentroot root dest rootdest get package fragment root getpackagefragmentroot src move positive movepositive pkg root dest rootdest assert true asserttrue read only readonly util is read only isreadonly get package getpackage src get resource getresource assert true asserttrue read only readonly util is read only isreadonly get package getpackage src get resource getresource assert true asserttrue read only readonly util is read only isreadonly get package getpackage src get resource getresource assert true asserttrue read only readonly util is read only isreadonly get file getfile src java i file ifile x src file xsrcfile get file getfile src java x src file xsrcfile util set read only setreadonly x src file xsrcfile pkg util set read only setreadonly pkg get resource getresource pkg source pkgsource util set read only setreadonly pkg source pkgsource get resource getresource i package fragment ipackagefragment fragment get package getpackage src fragment util set read only setreadonly fragment get resource getresource i package fragment ipackagefragment fragment get package getpackage src fragment util set read only setreadonly fragment get resource getresource i file ifile x file xfile get file getfile src java x file xfile util set read only setreadonly x file xfile delete folder deletefolder src ensures working copy workingcopy moved test move working copy testmoveworkingcopy core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java i compilation unit icompilationunit cu source cusource get compilation unit getcompilationunit src java copy cu source cusource get working copy getworkingcopy create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src move negative movenegative copy pkg dest pkgdest i java model status constants ijavamodelstatusconstants invalid element types copy copy discard working copy discardworkingcopy ensures primary working copy moved buffer doesn unsaved changed move regression test bug dirty move refactoring test move working copy testmoveworkingcopy core exception coreexception i compilation unit icompilationunit copy create folder createfolder src create file createfile src java copy get compilation unit getcompilationunit src java copy become working copy becomeworkingcopy create folder createfolder src i package fragment ipackagefragment pkg dest pkgdest get package getpackage src move positive movepositive copy pkg dest pkgdest assert true asserttrue unsaved copy get buffer getbuffer has unsaved changes hasunsavedchanges copy copy discard working copy discardworkingcopy
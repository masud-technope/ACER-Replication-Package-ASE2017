copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation org eclipse jdt compiler apt tests processors gen class genclass java io exception ioexception java print writer printwriter java writer java util map java util javax annotation processing abstract processor abstractprocessor javax annotation processing file r filer javax annotation processing messager javax annotation processing processing environment processingenvironment javax annotation processing round environment roundenvironment javax annotation processing supported annotation types supportedannotationtypes javax annotation processing supported source version supportedsourceversion javax lang model source version sourceversion javax lang model element annotation mirror annotationmirror javax lang model element annotation value annotationvalue javax lang model element element javax lang model element executable element executableelement javax lang model element type element typeelement javax lang model util elements javax tools diagnostic javax tools java file object javafileobject supported annotation types supportedannotationtypes org eclipse jdt compiler apt tests annotations gen class genclass supported source version supportedsourceversion source version sourceversion release gen class proc genclassproc abstract processor abstractprocessor messager message r messager file r filer file r filer elements element util elementutil type element typeelement anno decl annodecl override init processing environment processingenvironment processing env processingenv init processing env processingenv file r filer processing env processingenv get file r getfiler message r messager processing env processingenv get messager getmessager element util elementutil processing env processingenv get element utils getelementutils anno decl annodecl element util elementutil get type element gettypeelement org eclipse jdt compiler apt tests annotations gen class genclass system println processor options map entry string string option processing env processingenv get options getoptions entry set entryset system println option get key getkey option get value getvalue override process type element typeelement annotations round environment roundenvironment round env roundenv annotations annotations is empty isempty sanity check annotations anno decl annodecl illegal argument exception illegalargumentexception process called unexpected annotations annotated declarations get els anno with getelsannowith form element round env roundenv get elements annotated with getelementsannotatedwith anno decl annodecl annotations declaration string clazz string method annotation mirror annotationmirror get annotation mirrors getannotationmirrors get annotation type getannotationtype as element aselement equals anno decl annodecl query annotation values map executable element executableelement annotation value annotationvalue values get element values getelementvalues find clazz msg values map entry executable element executableelement annotation value annotationvalue entry values entry set entryset system println named entry get key getkey get simple name getsimplename entry get value getvalue get value getvalue executable element executableelement key entry get key getkey annotation value annotationvalue entry get value getvalue string key name keyname key get simple name getsimplename to string tostring clazz equals key name keyname clazz string get value getvalue method equals key name keyname method string get value getvalue clazz clazz length message r messager print message printmessage diagnostic kind warning clazz clazz method method length message r messager print message printmessage diagnostic kind warning method method clazz method round env roundenv processing over processingover create source file createsourcefile clazz method create source file named contents reflect method param parent parent element param clazz fully qualified class name classname param method method create source file createsourcefile element parent string clazz string method last dot lastdot clazz last index of lastindexof last dot lastdot clazz length last dot lastdot string pkg clazz substring last dot lastdot string lname clazz substring last dot lastdot writer print writer printwriter java file object javafileobject jfo file r filer create source file createsourcefile clazz parent jfo open writer openwriter print writer printwriter println pkg println lname println tpublic string method compile error won reported proc flag println println treturn string clazz println println close close io exception ioexception print stack trace printstacktrace
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation org eclipse jdt apt tests java file junit framework test junit framework test suite testsuite org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core runtime i path ipath org eclipse jdt apt core util apt config aptconfig org eclipse jdt core i java project ijavaproject org eclipse jdt core tests util util scaling tests scalingtests apt test base apttestbase verbose scaling tests scalingtests string test suite test suite testsuite scaling tests scalingtests set up setup exception set up setup cus tomer customer reports projects files abort generation note test time test gen erating lots of files testgeneratinglotsoffiles exception total number files create files generate wait indexer creating files pause milliseconds wait indexer pause time project unique nls string proj name projname scaling tests scalingtests get name getname lots of files project lotsoffilesproject nls i path ipath project path projectpath env add project addproject proj name projname env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs nls env remove package fragment root removepackagefragmentroot project path projectpath nls env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin test util testutil create and add annotation jar createandaddannotationjar env get java project getjavaproject project path projectpath i project iproject project env get project getproject proj name projname i folder ifolder src folder srcfolder project get folder getfolder src i path ipath src root srcroot src folder srcfolder get full path getfullpath string template org eclipse jdt apt tests annotations helloworld hello world annotation helloworldannotation hello world annotation helloworldannotation generated test generated file package generatedfilepackage generated files generate string string format test string contents string format template files generate nls nls env add class addclass src root srcroot contents pause indexer pause verbose system println created files pausing indexer thread sleep pause time verbose system println creating source files project preferences i java project ijavaproject jproj env get java project getjavaproject proj name projname apt config aptconfig set enabled setenabled jproj start system current time millis currenttimemillis full build fullbuild project get full path getfullpath verbose system println build system current time millis currenttimemillis start expecting no problems expectingnoproblems i path ipath proj path projpath jproj get project getproject get location getlocation files generate check file generated string gen file name genfilename string format apt generated generated file package generatedfilepackage generated java file gen file genfile file proj path projpath append gen file name genfilename toosstring assert true asserttrue expected generated source file gen file name genfilename gen file genfile gen file genfile exists check generated file compiled string gen class name genclassname string format bin generated file package generatedfilepackage generated file gen class genclass file proj path projpath append gen class name genclassname toosstring assert true asserttrue compiled file gen class name genclassname gen class genclass gen class genclass exists verbose system println checking output util delete project
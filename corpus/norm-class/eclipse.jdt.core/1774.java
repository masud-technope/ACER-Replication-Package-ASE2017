copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contribution bug bound doesn resolve bounds properly wildcards param etrisation parametrisation bug compiler annotations fields bug compiler diagnostic bug compiler npe org eclipse jdt internal compiler ast conditional expression conditionalexpression generate code generatecode conditional expression conditionalexpression java bug mismatch type arguments reported field initializer bug compiler loop improve analysis loops bug npe code stream codestream invoke andy clement go pivotal gopivotal aclement gopivotal contributions bug compiler loose ends code generation org eclipse jdt internal compiler ast java util list org eclipse jdt internal compiler ast expression context expressioncontext assignment context org eclipse jdt core compiler i problem iproblem org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler impl org eclipse jdt internal compiler ast type reference typereference annotation collector annotationcollector org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler lookup org eclipse jdt internal compiler problem problem reporter problemreporter org eclipse jdt internal compiler problem problem severities problemseverities org eclipse jdt internal compiler util util suppress warnings suppresswarnings rawtypes field declaration fielddeclaration abstract variable declaration abstractvariabledeclaration field binding fieldbinding binding javadoc javadoc retrieve type declaration dec ribe decribe init option ally optionally dimension end part endpart position end part endpart position field declaration fielddeclaration subtypes conversion field declaration fielddeclaration source start sourcestart source end sourceend declaration source start sourcestart source end sourceend source start sourcestart source start sourcestart source end sourceend source end sourceend flow info flowinfo analyse code analysecode method scope methodscope initialization scope initializationscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo binding binding is used isused binding is or enclosed by private type isorenclosedbyprivatetype initialization scope initializationscope reference compilation unit referencecompilationunit compilation result compilationresult has syntax error hassyntaxerror initialization scope initializationscope problem reporter problemreporter unused private field unusedprivatefield define constant field nested binding binding is valid binding isvalidbinding binding is static isstatic binding constant initialization scope initializationscope constant notaconstant binding declaring class declaringclass is nested type isnestedtype binding declaring class declaringclass is static isstatic initialization scope initializationscope problem reporter problemreporter unexpected static modifier for field unexpectedstaticmodifierforfield source type binding sourcetypebinding binding declaring class declaringclass initialization flow info flowinfo initialization analyse code analysecode initialization scope initializationscope flow context flowcontext flow info flowinfo unconditional inits unconditionalinits flow info flowinfo mark as definitely assigned markasdefinitelyassigned binding initialization binding compiler options compileroptions options initialization scope initializationscope compiler options compileroptions options is annotation based null analysis enabled isannotationbasednullanalysisenabled binding is non null isnonnull options source level sourcelevel class file constants classfileconstants jdk null status nullstatus initialization null status nullstatus flow info flowinfo flow context flowcontext null annotation matching nullannotationmatching check assignment checkassignment initialization scope initializationscope flow context flowcontext binding flow info flowinfo null status nullstatus initialization initialization resolved type resolvedtype initialization checknpebyunboxing initialization scope initializationscope flow context flowcontext flow info flowinfo flow info flowinfo code generation field declaration standard assignment field param current scope currentscope org eclipse jdt internal compiler lookup block scope blockscope param code stream codestream org eclipse jdt internal compiler codegen code stream codestream generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream bits is reachable isreachable generate initialization code constant recorded field code stream codestream position is static isstatic initialization is static isstatic binding is static isstatic binding constant constant notaconstant field receiver is static isstatic code stream codestream aload generate initialization initialization generate code generatecode current scope currentscope code stream codestream store field is static isstatic code stream codestream field access fieldaccess opcodes opc put static putstatic binding declaring class declaringclass code stream codestream field access fieldaccess opcodes opc put field putfield binding declaring class declaringclass code stream codestream record positions from recordpositionsfrom source start sourcestart get all annotation contexts getallannotationcontexts target type targettype list all annotation contexts allannotationcontexts annotation collector annotationcollector collector annotation collector annotationcollector type target type targettype all annotation contexts allannotationcontexts max annotations length max annotation annotation annotations annotation traverse collector block scope blockscope org eclipse jdt internal compiler ast abstract variable declaration abstractvariabledeclaration get kind getkind get kind getkind type enum constant field is static isstatic binding binding is static isstatic modifiers class file constants classfileconstants acc static accstatic is final isfinal binding binding is final isfinal modifiers class file constants classfileconstants acc final accfinal string buffer stringbuffer print statement printstatement indent string buffer stringbuffer output javadoc javadoc print indent output print statement printstatement indent output resolve method scope methodscope initialization scope initializationscope bits ast node astnode has been resolved hasbeenresolved binding binding is valid binding isvalidbinding bits ast node astnode has been resolved hasbeenresolved check field hiding variable issue field binding inserted scope lookup sep arately separately type context class scope classscope class scope classscope initialization scope initializationscope enclosing class scope enclosingclassscope class scope classscope check hiding checkhiding source type binding sourcetypebinding declaring type declaringtype class scope classscope enclosing source type enclosingsourcetype check hiding super field checkhidingsuperfield declaring type declaringtype superclass check hiding super field checkhidingsuperfield https bugs eclipse org bugs bug cgi find field skip ping skipping visibility checks checks conditions access check members super classes superclasses field binding fieldbinding existing variable existingvariable class scope classscope find field findfield declaring type declaringtype superclass resolve hidden field visibility checks checking scenario existing variable existingvariable check hiding super field checkhidingsuperfield checking scenario existing variable existingvariable is valid binding isvalidbinding check hiding super field checkhidingsuperfield checking scenario existing variable existingvariable original binding check hiding super field checkhidingsuperfield checking scenario existing variable existingvariable can be seen by canbeseenby declaring type declaringtype initialization scope initializationscope check hiding super field checkhidingsuperfield collision supertype field initialization scope initializationscope problem reporter problemreporter field hiding fieldhiding existing variable existingvariable matching field check hiding checkhiding corner lookup field declaring type declaringtype isn detected get binding getbinding lookup starts scope sub sequent subsequent contexts detected free scope outer scope outerscope class scope classscope parent outer scope outerscope kind scope compilation unit scope check hiding checkhiding binding existing variable existingvariable outer scope outerscope get binding getbinding binding variable resolve hidden field existing variable existingvariable check hiding checkhiding existing variable existingvariable is valid binding isvalidbinding check hiding checkhiding existing variable existingvariable binding check hiding checkhiding existing variable existingvariable field binding fieldbinding field binding fieldbinding existing field existingfield field binding fieldbinding existing variable existingvariable existing field existingfield original binding check hiding checkhiding existing field existingfield is static isstatic declaring type declaringtype is static isstatic check hiding checkhiding collision field local variable initialization scope initializationscope problem reporter problemreporter field hiding fieldhiding existing variable existingvariable enum constants declared type type update binding type reference type resolved type resolvedtype binding type field binding fieldbinding previous field previousfield initialization scope initializationscope initialized field initializedfield previous field d previousfieldid initialization scope initializationscope last visible field d lastvisiblefieldid initialization scope initializationscope initialized field initializedfield binding initialization scope initializationscope last visible field d lastvisiblefieldid binding resolve annotations resolveannotations initialization scope initializationscope annotations binding check declaration type annotations bit annotations max annotations length max type binding typebinding resolved annotation type resolvedannotationtype annotations resolved type resolvedtype resolved annotation type resolvedannotationtype resolved annotation type resolvedannotationtype get annotation tag bits getannotationtagbits tag bits tagbits annotation for type use annotationfortypeuse bits ast node astnode has type annotations hastypeannotations check deprecated annotation presence binding get annotation tag bits getannotationtagbits tag bits tagbits annotation deprecated annotationdeprecated binding modifiers class file constants classfileconstants acc deprecated accdeprecated initialization scope initializationscope compiler options compileroptions source level sourcelevel class file constants classfileconstants jdk initialization scope initializationscope problem reporter problemreporter missing deprecated annotation for field missingdeprecatedannotationforfield resolution initialization has n hasn initialization binding set constant setconstant constant notaconstant dead lock cycles for cing forcing constant notaconstant binding set constant setconstant constant notaconstant type binding typebinding field type fieldtype binding type type binding typebinding initialization type initializationtype initialization set expression context setexpressioncontext assignment context needed method invocation initialization set expected type setexpectedtype field type fieldtype initialization array initializer arrayinitializer initialization type initializationtype initialization resolve type expecting resolvetypeexpecting initialization scope initializationscope field type fieldtype array initializer arrayinitializer initialization binding array binding arraybinding initialization type initializationtype initialization compute conversion computeconversion initialization scope initializationscope field type fieldtype initialization type initializationtype initialization type initializationtype initialization resolve type resolvetype initialization scope initializationscope call compute conversion computeconversion type mismatch error typemismatcherror type binding typebinding not equals notequals field type fieldtype initialization type initializationtype initialization scope initializationscope compilation unit scope compilationunitscope record type conversion recordtypeconversion field type fieldtype initialization type initializationtype initialization is constant value of type assignable to type isconstantvalueoftypeassignabletotype initialization type initializationtype field type fieldtype initialization type initializationtype is compatible with iscompatiblewith field type fieldtype class scope classscope initialization compute conversion computeconversion initialization scope initializationscope field type fieldtype initialization type initializationtype initialization type initializationtype needs unchecked conversion needsuncheckedconversion field type fieldtype initialization scope initializationscope problem reporter problemreporter unsafe type conversion unsafetypeconversion initialization initialization type initializationtype field type fieldtype initialization cast expression castexpression initialization bits ast node astnode unnecessary cast unnecessarycast cast expression castexpression check need for assigned cast checkneedforassignedcast initialization scope initializationscope field type fieldtype cast expression castexpression initialization is boxing compatible isboxingcompatible initialization type initializationtype field type fieldtype initialization initialization scope initializationscope initialization compute conversion computeconversion initialization scope initializationscope field type fieldtype initialization type initializationtype initialization cast expression castexpression initialization bits ast node astnode unnecessary cast unnecessarycast cast expression castexpression check need for assigned cast checkneedforassignedcast initialization scope initializationscope field type fieldtype cast expression castexpression initialization field type fieldtype tag bits tagbits tag bits tagbits has missing type hasmissingtype problem sig naled signaled type report secondary problem initialization scope initializationscope problem reporter problemreporter type mismatch error typemismatcherror initialization type initializationtype field type fieldtype initialization constant actual type variable type binding is final isfinal binding set constant setconstant initialization constant cast to castto binding type initialization constant typeid binding set constant setconstant constant notaconstant check assignment binding expression get direct binding getdirectbinding initialization initialization scope initializationscope problem reporter problemreporter assignment has no effect assignmenthasnoeffect resolve javadoc comment javadoc javadoc resolve initialization scope initializationscope binding binding declaring class declaringclass binding declaring class declaringclass is local type islocaltype javadoc visibility javadoc visibility javadocvisibility binding modifiers extra compiler modifiers extracompilermodifiers accvisibilitymask problem reporter problemreporter reporter initialization scope initializationscope problem reporter problemreporter severity reporter compute severity computeseverity i problem iproblem javadoc missing javadocmissing severity problem severities problemseverities ignore class scope classscope javadoc visibility javadocvisibility util compute outer most visibility computeoutermostvisibility class scope classscope reference type referencetype javadoc visibility javadocvisibility javadoc modifiers javadocmodifiers binding modifiers extra compiler modifiers extracompilermodifiers accvisibilitymask javadoc visibility javadocvisibility reporter javadoc missing javadocmissing source start sourcestart source end sourceend severity javadoc modifiers javadocmodifiers initialization scope initializationscope initialized field initializedfield previous field previousfield initialization scope initializationscope last visible field d lastvisiblefieldid previous field d previousfieldid binding constant initialization scope initializationscope binding set constant setconstant constant notaconstant traverse ast visitor astvisitor visitor method scope methodscope scope visitor visit scope javadoc javadoc traverse visitor scope annotations annotations length annotationslength annotations length annotations length annotationslength annotations traverse visitor scope type type traverse visitor scope initialization initialization traverse visitor scope visitor end visit endvisit scope
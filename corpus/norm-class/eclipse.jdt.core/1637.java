copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation org eclipse jdt compiler apt tests processors inherited java util hash set hashset java util map java util javax annotation processing round environment roundenvironment javax annotation processing supported annotation types supportedannotationtypes javax annotation processing supported options supportedoptions javax annotation processing supported source version supportedsourceversion javax lang model source version sourceversion javax lang model element element javax lang model element executable element executableelement javax lang model element type element typeelement org eclipse jdt compiler apt tests processors base base processor baseprocessor processor tests dispatch functionality presence annotations inherited enable processor add aorg eclipse jdt compiler apt tests processors inherited inherited anno proc inheritedannoproc command supported annotation types supportedannotationtypes supported source version supportedsourceversion source version sourceversion release supported options supportedoptions org eclipse jdt compiler apt tests processors inherited inherited anno proc inheritedannoproc inherited anno proc inheritedannoproc base processor baseprocessor initialized collect elements collectelements type element typeelement inherited anno inheritedanno type element typeelement not inherited anno notinheritedanno type element typeelement element a elementa type element typeelement elementachild type element typeelement element not annotated elementanotannotated type element typeelement element int f elementaintf type element typeelement elementaenum element element ai elementai element element afoo elementafoo tor param element element ainit elementainit tor param element element ainit i elementainiti method tor element element aa elementaa type element typeelement element b elementb type element typeelement elementbchild type element typeelement element not annotated elementbnotannotated element element bfoo elementbfoo element element bi elementbi processor supports sig nify signify success failure override process type element typeelement annotations round environment roundenvironment round env roundenv round env roundenv processing over processingover map string string options processing env processingenv get options getoptions options contains key containskey get class getclass get name getname disable processor int entionally intentionally performing test collect elements collectelements examine get root elements examinegetrootelements round env roundenv examine get elements annotated with examinegetelementsannotatedwith round env roundenv report success reportsuccess collect elements collectelements inherited anno inheritedanno element utils elementutils get type element gettypeelement org eclipse jdt compiler apt tests annotations inherited anno inheritedanno not inherited anno notinheritedanno element utils elementutils get type element gettypeelement not inherited anno notinheritedanno inherited anno inheritedanno not inherited anno notinheritedanno report error reporterror collect elements collectelements could n couldn load annotation type element a elementa element utils elementutils get type element gettypeelement inheritance a inheritancea element element a elementa get enclosed elements getenclosedelements string get simple name getsimplename to string tostring a child achild equals elementachild type element typeelement a not annotated anotannotated equals element not annotated elementanotannotated type element typeelement a int f aintf equals element int f elementaintf type element typeelement a enum aenum equals elementaenum type element typeelement equals element ai elementai foo equals element afoo elementafoo inheritance a inheritancea equals element aa elementaa init equals executable element executableelement get parameters getparameters is empty isempty element ainit elementainit element ainit i elementainiti element a elementa elementachild element not annotated elementanotannotated element ai elementai element afoo elementafoo element ainit i elementainiti element aa elementaa element int f elementaintf elementaenum element ainit elementainit report error reporterror collect elements collectelements could n couldn load elements inheritance a inheritancea element b elementb element utils elementutils get type element gettypeelement inheritance b inheritanceb element element b elementb get enclosed elements getenclosedelements string get simple name getsimplename to string tostring b child bchild equals elementbchild type element typeelement b not annotated bnotannotated equals element not annotated elementbnotannotated type element typeelement equals element bi elementbi foo equals element bfoo elementbfoo element b elementb elementbchild element not annotated elementbnotannotated element bi elementbi element bfoo elementbfoo report error reporterror collect elements collectelements could n couldn load elements inheritance b inheritanceb test get root elements getrootelements implementation param round env roundenv tests passed examine get root elements examinegetrootelements round environment roundenvironment round env roundenv expect elements unaffected presence inherited element expected not inherited anno notinheritedanno element a elementa element b elementb element elements hash set hashset element round env roundenv get root elements getrootelements element element expected elements remove element report error reporterror examine root elements examinerootelements root elements expected element element get simple name getsimplename elements is empty isempty report error reporterror examine root elements examinerootelements root elements contained unexpected elements elements examine get elements annotated with examinegetelementsannotatedwith round environment roundenvironment round env roundenv elements expect get elements annotated with getelementsannotatedwith inherited anno inheritedanno element expected inherited expectedinherited element a elementa elementachild element int f elementaintf elementaenum element ai elementai element afoo elementafoo element ainit elementainit element ainit i elementainiti element aa elementaa element b elementb elementbchild element actual inherited actualinherited hash set hashset element round env roundenv get elements annotated with getelementsannotatedwith inherited anno inheritedanno element element expected inherited expectedinherited actual inherited actualinherited remove element report error reporterror examine get elements annotated with examinegetelementsannotatedwith inherited anno inheritedanno expected element element get simple name getsimplename actual inherited actualinherited is empty isempty report error reporterror examine get elements annotated with examinegetelementsannotatedwith inherited anno inheritedanno contained unexpected elements actual inherited actualinherited elements expect get elements annotated with getelementsannotatedwith not inherited anno notinheritedanno element expected not inherited expectednotinherited element a elementa elementachild element int f elementaintf elementaenum element ai elementai element afoo elementafoo element ainit elementainit element ainit i elementainiti element aa elementaa element actual not inherited actualnotinherited hash set hashset element round env roundenv get elements annotated with getelementsannotatedwith not inherited anno notinheritedanno element element expected not inherited expectednotinherited actual not inherited actualnotinherited remove element report error reporterror examine get elements annotated with examinegetelementsannotatedwith not inherited anno notinheritedanno expected element element get simple name getsimplename actual not inherited actualnotinherited is empty isempty report error reporterror examine get elements annotated with examinegetelementsannotatedwith not inherited anno notinheritedanno contained unexpected elements actual not inherited actualnotinherited
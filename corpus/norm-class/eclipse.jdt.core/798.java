copyright software rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors stephan herrmann initial api implementation org eclipse jdt core tests model org eclipse core resources i file ifile org eclipse core resources i marker imarker org eclipse core resources i resource iresource org eclipse core resources incremental project builder incrementalprojectbuilder org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime platform org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java model marker ijavamodelmarker org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core compiler i problem iproblem org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom i method binding imethodbinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom node finder nodefinder org eclipse jdt core dom simple name simplename org eclipse jdt core util external annotation util externalannotationutil org eclipse jdt core util external annotation util externalannotationutil merge strategy mergestrategy org osgi framework bundle junit framework test external annotations externalannotations test external annotations externalannotations test external annotations externalannotations test string jcl lib tests belong skipped names tests testbugxxxx bugxxxx tests prefix test libs with type parameters testlibswithtypeparameters tests names string test libs with fields testlibswithfields tests numbers tests range test suite build model test suite buildmodeltestsuite external annotations externalannotations test bytecode declaration order deprecated indirectly deprecated package admin packageadmin bundle get annotation bundles getannotationbundles org eclipse jdt core tests activator get package admin getpackageadmin get bundles getbundles org eclipse jdt annotation string get source workspace path getsourceworkspacepath read individual projects folder get source workspace path base getsourceworkspacepathbase external annotations externalannotations test full build fullbuild exception setup java project setupjavaproject test project set option setoption java core javacore compiler potential reference java core javacore error add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs my map mymap java map content project get project getproject build incremental project builder incrementalprojectbuilder full build i marker imarker markers project get project getproject find markers findmarkers i java model marker ijavamodelmarker java model problem marker i resource iresource depth infinite sort markers sortmarkers markers assert markers assertmarkers unexpected markers type mismatch required non null nonnull object type mismatch required non null nonnull test potential pointer access variable location markers perform full build annotations relative variable test full build with variable fullbuildwithvariable exception setup java project setupjavaproject test project set option setoption java core javacore compiler potential reference java core javacore error java core javacore set classpath variable setclasspathvariable prj root project get project getproject get location getlocation add library with external annotations addlibrarywithexternalannotations project lib jar prj root annots string unannotated lib unannotatedlib libs my map mymap java map content project get project getproject build incremental project builder incrementalprojectbuilder full build i marker imarker markers project get project getproject find markers findmarkers i java model marker ijavamodelmarker java model problem marker i resource iresource depth infinite sort markers sortmarkers markers assert markers assertmarkers unexpected markers type mismatch required non null nonnull object type mismatch required non null nonnull test potential pointer access variable location markers java core javacore remove classpath variable removeclasspathvariable prj root test full project root projectroot exception test libs with fields testlibswithfields annotations project root my create java project mycreatejavaproject test libs testlibs add library with external annotations addlibrarywithexternalannotations project lib jar test libs testlibs string unannotated lib unannotatedlib libs lib java libs lib string string create file in project createfileinproject libs lib eea libs lib ljava lang string java lang string ljava lang string java lang string i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests i compilation unit icompilationunit unit fragment create compilation unit createcompilationunit test java tests org eclipse jdt annotation libs lib test non null nonnull string test lib non null nonnull string test lib null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor compilation unit compilationunit reconciled unit reconcile ast jls null progress monitor nullprogressmonitor i problem iproblem problems reconciled get problems getproblems assert problems assertproblems problems string type mismatch required non null nonnull string nullable reconcile individual test reconcile exception setup java project setupjavaproject test project set option setoption java core javacore compiler potential reference java core javacore error add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs my map mymap java map content i package fragment ipackagefragment fragment root get package fragment getpackagefragment test i compilation unit icompilationunit unit fragment get compilation unit getcompilationunit test java get working copy getworkingcopy null progress monitor nullprogressmonitor compilation unit compilationunit reconciled unit reconcile ast jls null progress monitor nullprogressmonitor i problem iproblem problems reconciled get problems getproblems assert problems assertproblems problems string type mismatch required non null nonnull test type mismatch required non null nonnull object potential pointer access variable location test libs with fields testlibswithfields exception my create java project mycreatejavaproject test libs testlibs add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs lib java libs lib string string create file in project createfileinproject annots libs lib eea libs lib ljava lang string java lang string ljava lang string java lang string i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests i compilation unit icompilationunit unit fragment create compilation unit createcompilationunit test java tests org eclipse jdt annotation libs lib test non null nonnull string test lib non null nonnull string test lib null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor compilation unit compilationunit reconciled unit reconcile ast jls null progress monitor nullprogressmonitor i problem iproblem problems reconciled get problems getproblems assert problems assertproblems problems string type mismatch required non null nonnull string nullable full trip detect problem annotated detect problem change test annotate field of nested testannotatefieldofnested exception my create java project mycreatejavaproject test libs testlibs add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs lib java libs lib nested string acquire source ast i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests string test content tests org eclipse jdt annotation libs lib test non null nonnull string test lib nested i compilation unit icompilationunit fragment create compilation unit createcompilationunit test java test content null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery parser set bindings recovery setbindingsrecovery compilation unit compilationunit unit compilation unit compilationunit parser createast i problem iproblem problems unit get problems getproblems assert problems assertproblems problems string type safety expression type string unchecked conversion conform non null nonnull string find type binding start test content index of indexof ast node astnode node finder nodefinder perform unit start assert true asserttrue simple get node type getnodetype ast node astnode simple i variable binding ivariablebinding field binding fieldbinding i variable binding ivariablebinding simple name simplename resolve binding resolvebinding find annotation file existing i file ifile annotation file annotationfile external annotation util externalannotationutil get annotation file getannotationfile project field binding fieldbinding get declaring class getdeclaringclass assert false assertfalse file exist annotation file annotationfile exists assert equals assertequals file path test libs testlibs annots libs lib nested eea annotation file annotationfile get full path getfullpath to string tostring annotate string original signature originalsignature external annotation util externalannotationutil extract generic type signature extractgenerictypesignature field binding fieldbinding get variable declaration getvariabledeclaration get type gettype external annotation util externalannotationutil annotate member annotatemember libs lib nested annotation file annotationfile original signature originalsignature java lang string merge strategy mergestrategy overwrite annotations assert true asserttrue file exist annotation file annotationfile exists check error compilation unit compilationunit reconciled reconcile ast jls null progress monitor nullprogressmonitor assert no problems assertnoproblems reconciled get problems getproblems test annotate field with parameterized type testannotatefieldwithparameterizedtype exception my create java project mycreatejavaproject test libs testlibs add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs lib java libs lib lib acquire source ast i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests string test content tests org eclipse jdt annotation libs lib test non null nonnull lib string test lib string string lib stringlib string lib stringlib i compilation unit icompilationunit fragment create compilation unit createcompilationunit test java test content null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery parser set bindings recovery setbindingsrecovery compilation unit compilationunit unit compilation unit compilationunit parser createast i problem iproblem problems unit get problems getproblems assert problems assertproblems problems string type safety expression type lib string unchecked conversion conform non null nonnull lib string find type binding start test content index of indexof ast node astnode node finder nodefinder perform unit start assert true asserttrue simple get node type getnodetype ast node astnode simple i variable binding ivariablebinding field binding fieldbinding i variable binding ivariablebinding simple name simplename resolve binding resolvebinding find annotation file existing i file ifile annotation file annotationfile external annotation util externalannotationutil get annotation file getannotationfile project field binding fieldbinding get declaring class getdeclaringclass assert false assertfalse file exist annotation file annotationfile exists assert equals assertequals file path test libs testlibs annots libs lib eea annotation file annotationfile get full path getfullpath to string tostring annotate string original signature originalsignature external annotation util externalannotationutil extract generic type signature extractgenerictypesignature field binding fieldbinding get variable declaration getvariabledeclaration get type gettype external annotation util externalannotationutil annotate member annotatemember libs lib annotation file annotationfile original signature originalsignature libs lib merge strategy mergestrategy overwrite annotations assert true asserttrue file exist annotation file annotationfile exists check error worse compilation unit compilationunit reconciled reconcile ast jls null progress monitor nullprogressmonitor problems reconciled get problems getproblems assert problems assertproblems problems string type mismatch required non null nonnull lib string nullable test annotate method return testannotatemethodreturn exception my create java project mycreatejavaproject test libs testlibs string lib content libs lib lib get lib getlib add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs lib java lib content type check sources i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests i compilation unit icompilationunit fragment create compilation unit createcompilationunit test java tests org eclipse jdt annotation libs lib test non null nonnull lib string test lib string string lib stringlib string lib stringlib get lib getlib null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor compilation unit compilationunit reconciled reconcile ast jls null progress monitor nullprogressmonitor i problem iproblem problems reconciled get problems getproblems assert problems assertproblems problems string type safety expression type lib string unchecked conversion conform non null nonnull lib string acquire library ast i type itype type project find type findtype libs lib i compilation unit icompilationunit lib working copy libworkingcopy type get class file getclassfile get working copy getworkingcopy wc owner wcowner ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource lib working copy libworkingcopy parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery parser set bindings recovery setbindingsrecovery compilation unit compilationunit unit compilation unit compilationunit parser createast lib working copy libworkingcopy discard working copy discardworkingcopy find method binding start lib content index of indexof get lib getlib ast node astnode node finder nodefinder perform unit start assert true asserttrue simple get node type getnodetype ast node astnode simple ast node astnode method get parent getparent i method binding imethodbinding method binding methodbinding method declaration methoddeclaration method resolve binding resolvebinding find annotation file existing i file ifile annotation file annotationfile external annotation util externalannotationutil get annotation file getannotationfile project method binding methodbinding get declaring class getdeclaringclass assert false assertfalse file exist annotation file annotationfile exists assert equals assertequals file path test libs testlibs annots libs lib eea annotation file annotationfile get full path getfullpath to string tostring annotate string original signature originalsignature external annotation util externalannotationutil extract generic signature extractgenericsignature method binding methodbinding external annotation util externalannotationutil annotate member annotatemember libs lib annotation file annotationfile get lib getlib original signature originalsignature libs lib merge strategy mergestrategy overwrite annotations assert true asserttrue file exist annotation file annotationfile exists check error reconciled reconcile ast jls null progress monitor nullprogressmonitor assert no problems assertnoproblems reconciled get problems getproblems error scenarii annotation file empty test bogus annotation file testbogusannotationfile exception log listener loglistener listener log listener loglistener platform add log listener addloglistener listener my create java project mycreatejavaproject test libs testlibs string lib content libs lib lib get lib getlib add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs lib java lib content create file in project createfileinproject annots libs lib eea type check sources i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests i compilation unit icompilationunit fragment create compilation unit createcompilationunit test java tests org eclipse jdt annotation libs lib test non null nonnull lib string test lib string string lib stringlib string lib stringlib get lib getlib null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor compilation unit compilationunit reconciled reconcile ast jls null progress monitor nullprogressmonitor i problem iproblem problems reconciled get problems getproblems assert problems assertproblems problems string type safety expression type lib string unchecked conversion conform non null nonnull lib string assert equals assertequals number log entries listener log ged status loggedstatus size throwable exception listener log ged status loggedstatus get exception getexception assert equals assertequals log ged logged message missing header annotation file exception get message getmessage platform remove log listener removeloglistener listener wrong header test bogus annotation file testbogusannotationfile exception log listener loglistener listener log listener loglistener platform add log listener addloglistener listener my create java project mycreatejavaproject test libs testlibs string lib content libs lib lib get lib getlib add library with external annotations addlibrarywithexternalannotations project lib jar annots string unannotated lib unannotatedlib libs lib java lib content create file in project createfileinproject annots libs lib eea type lib type check sources i package fragment ipackagefragment fragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment tests i compilation unit icompilationunit fragment create compilation unit createcompilationunit test java tests org eclipse jdt annotation libs lib test non null nonnull lib string test lib string string lib stringlib string lib stringlib get lib getlib null progress monitor nullprogressmonitor get working copy getworkingcopy null progress monitor nullprogressmonitor compilation unit compilationunit reconciled reconcile ast jls null progress monitor nullprogressmonitor i problem iproblem problems reconciled get problems getproblems assert problems assertproblems problems string type safety expression type lib string unchecked conversion conform non null nonnull lib string assert equals assertequals number log entries listener log ged status loggedstatus size throwable exception listener log ged status loggedstatus get exception getexception assert equals assertequals log ged logged message missing header annotation file exception get message getmessage platform remove log listener removeloglistener listener
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core eval org eclipse core runtime i progress monitor iprogressmonitor org eclipse jdt core org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception evaluation context supports eval uating evaluating code snippets code snippet pretty valid piece java code pasted body method compiled are as areas rules lib eral liberal code snippet heterogeneous types code snippet code code returned code string code considered valid code snippet pre code code pre statement expression code code keyword implied returns code code pre code code pre global variables additional feature evaluation contexts evaluation context global variables main tain maintain eval uations evaluations variables storing result evaluation subsequent eval uations evaluations evaluation context remembers code snippets user gaining access types visible evaluation context remembers list declarations user packages types code snippets refer types shorter simple names pre code i java project ijavaproject project get java project getjavaproject i evaluation context ievaluationcontext context project new evaluation context newevaluationcontext string code snippet codesnippet i code snippet requestor icodesnippetrequestor requestor context evaluate code snippet evaluatecodesnippet code snippet codesnippet requestor progress monitor progressmonitor code pre code i java project ijavaproject new evaluation context newevaluationcontext code instance i java project ijavaproject new evaluation context newevaluationcontext noimplement intended implemented clients i evaluation context ievaluationcontext returns global variables declared evaluation context variables main tained maintained order created list global variables i global variable iglobalvariable all variables allvariables performs code completion position code snippet reporting completion requestor note code completion involve evaluation param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds deprecated link code complete codecomplete string completion requestor completionrequestor code complete codecomplete string code snippet codesnippet position i completion requestor icompletionrequestor requestor java model exception javamodelexception performs code completion position code snippet reporting completion requestor considers types working copies owner owner working copies precedence original compilation units workspace note working copy empty original compilation unit deleted note code completion involve evaluation param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions param owner owner working copies precedence original compilation units exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds deprecated link code complete codecomplete string completion requestor completionrequestor working copy owner workingcopyowner code complete codecomplete string code snippet codesnippet position i completion requestor icompletionrequestor requestor working copy owner workingcopyowner owner java model exception javamodelexception performs code completion position code snippet reporting completion requestor note code completion involve evaluation param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds code complete codecomplete string code snippet codesnippet position completion requestor completionrequestor requestor java model exception javamodelexception performs code completion position code snippet reporting completion requestor note code completion involve evaluation link i progress monitor iprogressmonitor code code proposals compute proposed avoid code assist operation time link i progress monitor iprogressmonitor automatically cancel code assist operation amount time reached pre i progress monitor iprogressmonitor timeout end time endtime begin task begintask string total work totalwork f end time fendtime system current time millis currenttimemillis timeout is canceled iscanceled end time endtime system current time millis currenttimemillis pre param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions param monitor progress monitor report progress exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds code complete codecomplete string code snippet codesnippet position completion requestor completionrequestor requestor i progress monitor iprogressmonitor monitor java model exception javamodelexception performs code completion position code snippet reporting completion requestor considers types working copies owner owner working copies precedence original compilation units workspace note working copy empty original compilation unit deleted note code completion involve evaluation param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions param owner owner working copies precedence original compilation units exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds code complete codecomplete string code snippet codesnippet position completion requestor completionrequestor requestor working copy owner workingcopyowner owner java model exception javamodelexception performs code completion position code snippet reporting completion requestor considers types working copies owner owner working copies precedence original compilation units workspace note working copy empty original compilation unit deleted note code completion involve evaluation link i progress monitor iprogressmonitor code code proposals compute proposed avoid code assist operation time link i progress monitor iprogressmonitor automatically cancel code assist operation amount time reached pre i progress monitor iprogressmonitor timeout end time endtime begin task begintask string total work totalwork f end time fendtime system current time millis currenttimemillis timeout is canceled iscanceled end time endtime system current time millis currenttimemillis pre param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions param owner owner working copies precedence original compilation units param monitor progress monitor report progress exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds code complete codecomplete string code snippet codesnippet position completion requestor completionrequestor requestor working copy owner workingcopyowner owner i progress monitor iprogressmonitor monitor java model exception javamodelexception resolves returns collection java elements source code positions code snippet note code select involve evaluation problems reported param code snippet codesnippet code snippet resolve param offset position code snippet character code resolve param length length selected code resolve empty list selection java elements exception java model exception javamodelexception code resolve performed reasons include position greater snippet length bounds i java element ijavaelement code select codeselect string code snippet codesnippet offset length java model exception javamodelexception resolves returns collection java elements source code positions code snippet considers types working copies owner owner working copies precedence original compilation units workspace note working copy empty original compilation unit deleted note code select involve evaluation problems reported param code snippet codesnippet code snippet resolve param offset position code snippet character code resolve param length length selected code resolve param owner owner working copies precedence original compilation units empty list selection java elements exception java model exception javamodelexception code resolve performed reasons include position greater snippet length bounds i java element ijavaelement code select codeselect string code snippet codesnippet offset length working copy owner workingcopyowner owner java model exception javamodelexception deletes variable evaluation context variable deleted param variable global variable delete variable deletevariable i global variable iglobalvariable variable eval uates evaluates code snippet context suspended thread code snippet compiled context declaration imports global variables requestor code accept problem acceptproblem code method called compilation problem detected files handed requestor code accept class files acceptclassfiles code method deploy requestor expected send files target load starting code snippet create instance code snippet method code code code snippet retrieve values local variables retrieve returned code snippet method running progress can cellation cancellation progress monitor param code snippet codesnippet code snippet param local variable type names localvariabletypenames dot separated fully qualified names types local variables param local variable names localvariablenames names local variables declared user code param local variable modifiers localvariablemodifiers modifiers local variables modifier modifier param declaring type declaringtype type code snippet eval uated evaluated param is static isstatic code snippet eval uated evaluated member declaring type param is constructor call isconstructorcall code snippet eval uated evaluated constructor declaring type param requestor code snippet requestor param progress monitor progressmonitor progress monitor exception java model exception javamodelexception runtime problem occurred context project build evaluate code snippet evaluatecodesnippet string code snippet codesnippet string local variable type names localvariabletypenames string local variable names localvariablenames local variable modifiers localvariablemodifiers i type itype declaring type declaringtype is static isstatic is constructor call isconstructorcall i code snippet requestor icodesnippetrequestor requestor i progress monitor iprogressmonitor progress monitor progressmonitor java model exception javamodelexception eval uates evaluates code snippet code snippet compiled context declaration imports global variables requestor code accept problem acceptproblem code method called compilation problem detected files handed requestor code accept class files acceptclassfiles code method deploy requestor responsible result method running progress can cellation cancellation progress monitor param code snippet codesnippet code snippet param requestor code snippet requestor param progress monitor progressmonitor progress monitor exception java model exception javamodelexception runtime problem occurred context project build evaluate code snippet evaluatecodesnippet string code snippet codesnippet i code snippet requestor icodesnippetrequestor requestor i progress monitor iprogressmonitor progress monitor progressmonitor java model exception javamodelexception eval uates evaluates global variable operation context declaration imports declared variables verified requestor code accept problem acceptproblem code method called problem detected method running progress can cellation cancellation progress monitor param variable global variable param requestor code snippet requestor param progress monitor progressmonitor progress monitor exception java model exception javamodelexception runtime problem occurred context project build evaluate variable evaluatevariable i global variable iglobalvariable variable i code snippet requestor icodesnippetrequestor requestor i progress monitor iprogressmonitor progress monitor progressmonitor java model exception javamodelexception returns declarations evaluation context returns empty list imports imports syntax corresponds fully qualified type demand defined import declaration importdeclaration jls code java util hashtable code code java util code list names string get imports getimports returns code snippets compiled returns empty string code myapp code dot separated empty string indicating string get package name getpackagename returns java project evaluation context created java project i java project ijavaproject get project getproject creates global variable type initializer code type name typename code code initializer code int erpreted interpreted context context declarations syntax type corresponds type field declaration jls param type name typename type param global variable param initializer initializer expression code code variable initialized global variable type initializer i global variable iglobalvariable new variable newvariable string type name typename string string initializer sets declarations evaluation context empty list imports syntax corresponds fully qualified type demand defined import declaration importdeclaration jls code java util hashtable code code java util code param imports list names set imports setimports string imports sets dot separated code snippets compiled code myapp code param package name packagename dot separated empty string indicating set package name setpackagename string package name packagename valid ates validates evaluation context declarations requestor code accept problem acceptproblem code method called problem detected param requestor code snippet requestor exception java model exception javamodelexception context project build validate imports validateimports i code snippet requestor icodesnippetrequestor requestor java model exception javamodelexception performs code completion position code snippet reporting completion requestor note code completion involve evaluation param code snippet codesnippet code snippet complete param position character position code snippet complete indicating snippet param requestor code completion requestor capable accepting types completions exception java model exception javamodelexception code completion performed reasons include position greater snippet length bounds deprecated code complete codecomplete string i completion requestor icompletionrequestor code complete codecomplete string code snippet codesnippet position org eclipse jdt core i code completion requestor icodecompletionrequestor requestor java model exception javamodelexception
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html org eclipse jdt apt tests annotations read annotation type readannotationtype java io exception ioexception java print writer printwriter java util collection sun mirror apt annotation processor environment annotationprocessorenvironment sun mirror declaration declaration annotation reader annotationreader create class files for annotated declarations createclassfilesforannotateddeclarations collection declaration declarations annotation processor environment annotationprocessorenvironment env io exception ioexception declarations size declaration dec declarations print writer printwriter writer simple annotation simpleannotation annotation dec get annotation getannotation simple annotation simpleannotation string annotation annotation type annotationtype annotation annotation type annotationtype string class name classname gen writer env get file r getfiler create source file createsourcefile test class name classname writer println test writer println class name classname writer println writer writer close
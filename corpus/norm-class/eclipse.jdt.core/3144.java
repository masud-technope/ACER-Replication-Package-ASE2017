junit framework java print writer printwriter java string writer stringwriter code test failure testfailure code collects failed test caught exception test result testresult test failure testfailure object test f failed test ffailedtest throwable f thrown exception fthrownexception constructs test failure testfailure test exception test failure testfailure test failed test failedtest throwable thrown exception thrownexception f failed test ffailedtest failed test failedtest f thrown exception fthrownexception thrown exception thrownexception failed test test failed test failedtest f failed test ffailedtest thrown exception throwable thrown exception thrownexception f thrown exception fthrownexception returns description failure string to string tostring string buffer stringbuffer buffer string buffer stringbuffer buffer append f failed test ffailedtest f thrown exception fthrownexception get message getmessage buffer to string tostring string trace string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter string writer stringwriter thrown exception thrownexception print stack trace printstacktrace writer string buffer stringbuffer buffer string writer stringwriter get buffer getbuffer buffer to string tostring string exception message exceptionmessage thrown exception thrownexception get message getmessage is failure isfailure thrown exception thrownexception assertion failed error assertionfailederror
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core java net url java util java util zip zip entry zipentry java util zip zip exception zipexception java util zip zip file zipfile org eclipse core resources i resource iresource org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse jdt core org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal core util hashtable of array to object hashtableofarraytoobject org eclipse jdt internal core util util fragment root corresponds jar zip note visible entries jar zip fragment root files note jar fragment root resource org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt internal core jar package fragment root info jarpackagefragmentrootinfo suppress warnings suppresswarnings rawtypes unchecked jar package fragment root jarpackagefragmentroot package fragment root packagefragmentroot array list arraylist empty list array list arraylist path jar file workspace relative path jar internal path jar external i path ipath jar path jarpath constructs fragment root root java directory hierarchy based jar file contained code i java project ijavaproject code code i resource iresource code jar package fragment root jarpackagefragmentroot i path ipath external jar path externaljarpath java project javaproject project project jar path jarpath external jar path externaljarpath constructs fragment root root java directory hierarchy based jar file jar package fragment root jarpackagefragmentroot i resource iresource resource java project javaproject project resource project jar path jarpath resource get full path getfullpath compute fragment children fragment root directory zip entries directories implied path files contained jar fragment root compute children computechildren openable element info openableelementinfo info i resource iresource underlying resource underlyingresource java model exception javamodelexception hashtable of array to object hashtableofarraytoobject raw package info rawpackageinfo hashtable of array to object hashtableofarraytoobject i java element ijavaelement children zip file zipfile jar object file java model javamodel get target gettarget get path getpath level util get jdk level getjdklevel file string compliance compiler options compileroptions version from jdk level versionfromjdklevel level jar get jar getjar create raw package info rawpackageinfo char operation charoperation strings array list arraylist empty list empty list enumeration jar entries has more elements hasmoreelements zip entry zipentry member zip entry zipentry next element nextelement init raw package info initrawpackageinfo raw package info rawpackageinfo member get name getname member is directory isdirectory compliance loop referenced packages creating fragments cache entry names raw package info rawpackageinfo table children i java element ijavaelement raw package info rawpackageinfo size length raw package info rawpackageinfo key table keytable length length string pkg name pkgname string raw package info rawpackageinfo key table keytable pkg name pkgname children get package fragment getpackagefragment pkg name pkgname core exception coreexception get cause getcause zip exception zipexception util log i status istatus error invalid zip archive to string with ancestors tostringwithancestors children elements java model exception javamodelexception java model exception javamodelexception java model exception javamodelexception java model manager javamodelmanager get java model manager getjavamodelmanager close zip file closezipfile jar info set children setchildren children jar package fragment root info jarpackagefragmentrootinfo info raw package info rawpackageinfo raw package info rawpackageinfo returns element info element object create element info createelementinfo jar package fragment root info jarpackagefragmentrootinfo jar binary determine kind determinekind i resource iresource underlying resource underlyingresource i package fragment root ipackagefragmentroot binary returns handle represents jar handle jars equal share zip file object equals equals object jar package fragment root jarpackagefragmentroot jar package fragment root jarpackagefragmentroot jar package fragment root jarpackagefragmentroot jar path jarpath equals jar path jarpath string get element name getelementname jar path jarpath last segment lastsegment returns underlying zip file zipfile jar fragment root exception core exception coreexception error occurs accessing jar zip file zipfile get jar getjar core exception coreexception java model manager javamodelmanager get java model manager getjavamodelmanager get zip file getzipfile get path getpath i package fragment root ipackagefragmentroot get kind getkind i package fragment root ipackagefragmentroot binary internal kind internalkind java model exception javamodelexception i package fragment root ipackagefragmentroot binary returns array java resources contained receiver object get non java resources getnonjavaresources java model exception javamodelexception java resources root object default pkg resources defaultpkgresources jar package fragment jarpackagefragment get package fragment getpackagefragment char operation charoperation strings stored non java resources storednonjavaresources length default pkg resources defaultpkgresources length length default pkg resources defaultpkgresources object non java resources nonjavaresources object length length jar entry resource jarentryresource non java resource nonjavaresource jar entry resource jarentryresource default pkg resources defaultpkgresources non java resources nonjavaresources non java resource nonjavaresource clone non java resources nonjavaresources package fragment packagefragment get package fragment getpackagefragment string pkg name pkgname jar package fragment jarpackagefragment pkg name pkgname i path ipath internal path internalpath is external isexternal jar path jarpath internal path internalpath i resource iresource resource package fragment root packagefragmentroot root resource external jar resource root i java element ijavaelement i resource iresource get underlying resource getunderlyingresource java model exception javamodelexception is external isexternal exists new not present exception newnotpresentexception get underlying resource getunderlyingresource hash code hashcode jar path jarpath hash code hashcode init raw package info initrawpackageinfo hashtable of array to object hashtableofarraytoobject raw package info rawpackageinfo string entry name entryname is directory isdirectory string compliance last separator lastseparator is directory isdirectory entry name entryname length entry name entryname last index of lastindexof string pkg name pkgname util split on spliton entry name entryname last separator lastseparator string existing length pkg name pkgname length existing length existinglength length existing length existinglength existing string raw package info rawpackageinfo get key getkey pkg name pkgname existing length existinglength existing existing length existinglength java model manager javamodelmanager manager java model manager javamodelmanager get java model manager getjavamodelmanager existing length existinglength length source level sourcelevel based jar file util is valid folder name for package isvalidfoldernameforpackage pkg name pkgname compliance system arraycopy existing existing string existing manager int ern intern pkg name pkgname raw package info rawpackageinfo existing array list arraylist empty list empty list java resource folder is directory isdirectory array list arraylist children array list arraylist raw package info rawpackageinfo existing children empty list java children array list arraylist java children add entry name entryname is directory isdirectory add class file classfile info children array list arraylist children array list arraylist raw package info rawpackageinfo pkg name pkgname org eclipse jdt internal compiler util util is class file name isclassfilename entry name entryname java children empty list java children array list arraylist string name without extension namewithoutextension entry name entryname substring last separator lastseparator entry name entryname length java children add name without extension namewithoutextension java children empty list java children array list arraylist java children add entry name entryname i package fragment root ipackagefragmentroot is archive isarchive i package fragment root ipackagefragmentroot is external isexternal resource jars jar entries read is read only isreadonly returns resource file exists resource exists resourceexists i resource iresource underlying resource underlyingresource underlying resource underlyingresource java model javamodel get external target getexternaltarget don path relative external archive get path getpath check existence resource exists resourceexists underlying resource underlyingresource to string ancestors tostringancestors string buffer stringbuffer buffer is external isexternal https bugs eclipse org bugs bug cgi to string ancestors tostringancestors buffer url get index path getindexpath i classpath entry iclasspathentry entry java project javaproject get parent getparent get classpath entry for getclasspathentryfor get path getpath entry classpath entry classpathentry entry get library index location getlibraryindexlocation java model exception javamodelexception
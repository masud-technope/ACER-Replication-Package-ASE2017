copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests model org eclipse core resources i container icontainer org eclipse core resources i resource iresource org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse jdt core copy move tests copymovetests modifying resource tests modifyingresourcetests copy move tests copymovetests string attempts copy element optional for cing forcing operation fail failure code copy negative copynegative i java element ijavaelement element i java element ijavaelement destination i java element ijavaelement sibling string rename force failure code failurecode i source manipulation isourcemanipulation element copy destination sibling rename force java model exception javamodelexception jme assert true asserttrue code correct java model exception javamodelexception jme jme get status getstatus get code getcode failure code failurecode assert true asserttrue copy failed element attempts copy elements optional for cing forcing operation fail failure code copy negative copynegative i java element ijavaelement elements i java element ijavaelement destinations i java element ijavaelement siblings string renames force failure code failurecode get java model getjavamodel copy elements destinations siblings renames force java model exception javamodelexception jme assert true asserttrue code correct java model exception javamodelexception jme jme get status getstatus get code getcode failure code failurecode assert true asserttrue move failed multiple elements copies element container optional rename for cing forcing operation succeed exceptions encountered thrown i java element ijavaelement copy positive copypositive i java element ijavaelement element i java element ijavaelement container i java element ijavaelement sibling string rename force java model exception javamodelexception for cing forcing ensure collision exists force i java element ijavaelement collision generate handle generatehandle element rename container assert true asserttrue collision exist collision exists delta listener deltalistener listener delta listener deltalistener i java element ijavaelement copy start deltas startdeltas listener copy i source manipulation isourcemanipulation element copy container sibling rename force ensure original element exists assert true asserttrue original element exist element exists generate element handle copy generate handle generatehandle element rename container assert true asserttrue copy exist copy exists ensure correct position element get element type getelementtype i java element ijavaelement compilation unit ensure correct pos itioning ensurecorrectpositioning i parent iparent container sibling copy container get element type getelementtype i java element ijavaelement fragment root ensure correct container get element name getelementname equals decl i java element ijavaelement children i compilation unit icompilationunit copy get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue find decl i java element ijavaelement children i compilation unit icompilationunit copy get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue declaration incorrect i package declaration ipackagedeclaration children get element name getelementname equals container get element name getelementname assert true asserttrue find decl copy get element type getelementtype i java element ijavaelement declaration container i compilation unit icompilationunit container get import container getimportcontainer i java element delta ijavaelementdelta dest delta destdelta listener get delta for getdeltafor container assert true asserttrue destination container changed dest delta destdelta dest delta destdelta get kind getkind i java element delta ijavaelementdelta changed i java element delta ijavaelementdelta deltas dest delta destdelta get added children getaddedchildren assert true asserttrue children correct element copy deltas get element getelement equals copy stop deltas stopdeltas listener copy generates handle original element container i java element ijavaelement generate handle generatehandle i java element ijavaelement original string rename i java element ijavaelement container string original get element name getelementname rename rename container get element type getelementtype i java element ijavaelement fragment root original get element type getelementtype i java element ijavaelement fragment i package fragment root ipackagefragmentroot container get package fragment getpackagefragment assert true asserttrue illegal child type i java element ijavaelement fragment original get element type getelementtype i java element ijavaelement compilation unit i package fragment ipackagefragment container get compilation unit getcompilationunit assert true asserttrue illegal child type i java element ijavaelement compilation unit original get element type getelementtype i java element ijavaelement declaration i compilation unit icompilationunit container get import getimport i java element ijavaelement declaration i compilation unit icompilationunit container get package declaration getpackagedeclaration i java element ijavaelement type is main type ismaintype original container renamed container i package fragment ipackagefragment container get parent getparent get compilation unit getcompilationunit java i compilation unit icompilationunit container get type gettype assert true asserttrue illegal child type i java element ijavaelement type original get element type getelementtype i java element ijavaelement method equals original get parent getparent get element name getelementname method constructor i type itype container get method getmethod container get element name getelementname i method imethod original get parameter types getparametertypes i type itype container get method getmethod i method imethod original get parameter types getparametertypes i java element ijavaelement field i type itype container get field getfield i java element ijavaelement type i type itype container get type gettype i java element ijavaelement initializer hack initializer i type itype container get initializer getinitializer assert true asserttrue illegal child type assert true asserttrue unsupported container type assert true asserttrue returns element main type compilation unit is main type ismaintype i java element ijavaelement element i java element ijavaelement parent parent i compilation unit icompilationunit element i type itype i compilation unit icompilationunit i compilation unit icompilationunit parent string type name typename get element name getelementname type name typename type name typename substring type name typename length element get element name getelementname equals type name typename element get parent getparent equals attempts move element optional for cing forcing operation fail failure code move negative movenegative i java element ijavaelement element i java element ijavaelement destination i java element ijavaelement sibling string rename force failure code failurecode i source manipulation isourcemanipulation element move destination sibling rename force java model exception javamodelexception jme assert true asserttrue code correct java model exception javamodelexception jme jme get status getstatus get code getcode failure code failurecode assert true asserttrue move failed element attempts move element optional for cing forcing operation fail failure code move negative movenegative i java element ijavaelement elements i java element ijavaelement destinations i java element ijavaelement siblings string renames force failure code failurecode get java model getjavamodel move elements destinations siblings renames force java model exception javamodelexception jme assert true asserttrue code correct java model exception javamodelexception jme jme get status getstatus get code getcode failure code failurecode assert true asserttrue move failed multiple elements moves element container optional rename for cing forcing operation succeed exceptions encountered thrown move positive movepositive i java element ijavaelement element i java element ijavaelement container i java element ijavaelement sibling string rename force java model exception javamodelexception i java element ijavaelement siblings i java element ijavaelement sibling string renamings string rename sibling siblings rename renamings move positive movepositive i java element ijavaelement element i java element ijavaelement container siblings renamings force moves elements containers optional renaming for cing forcing operation succeed exceptions encountered thrown move positive movepositive i java element ijavaelement elements i java element ijavaelement destinations i java element ijavaelement siblings string names force java model exception javamodelexception move positive movepositive elements destinations siblings names force move positive movepositive i java element ijavaelement elements i java element ijavaelement destinations i java element ijavaelement siblings string names force i progress monitor iprogressmonitor monitor java model exception javamodelexception move positive movepositive elements destinations siblings names force moves elements containers optional renaming for cing forcing operation succeed exceptions encountered thrown move positive movepositive i java element ijavaelement elements i java element ijavaelement destinations i java element ijavaelement siblings string names force check delta checkdelta i progress monitor iprogressmonitor monitor java model exception javamodelexception for cing forcing ensure collision exists force elements length i java element ijavaelement elements i java element ijavaelement collision names collision generate handle generatehandle destinations collision generate handle generatehandle names destinations assert true asserttrue collision exist collision exists delta listener deltalistener listener delta listener deltalistener check delta checkdelta start deltas startdeltas listener move get java model getjavamodel move elements destinations siblings names force monitor elements length i java element ijavaelement element elements i java element ijavaelement moved names moved generate handle generatehandle element destinations moved generate handle generatehandle element names destinations ensure original element longer exists moving container destinations equals element get parent getparent element get element type getelementtype i java element ijavaelement fragment members java model i resource iresource members i container icontainer element get underlying resource getunderlyingresource members members length assert true asserttrue original element exist element exists core exception coreexception java model exception javamodelexception assert true asserttrue original element exist element exists assert true asserttrue moved element exist moved exists ensure correct position element get element type getelementtype i java element ijavaelement compilation unit siblings siblings length ensure correct pos itioning ensurecorrectpositioning i parent iparent moved get parent getparent siblings moved i java element ijavaelement container destinations container get element type getelementtype i java element ijavaelement fragment root ensure correct container get element name getelementname equals decl i java element ijavaelement children i compilation unit icompilationunit moved get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue find decl i java element ijavaelement children i compilation unit icompilationunit moved get children getchildren children length children i package declaration ipackagedeclaration assert true asserttrue declaration incorrect i package declaration ipackagedeclaration children get element name getelementname equals container get element name getelementname assert true asserttrue find decl check delta checkdelta i java element delta ijavaelementdelta dest delta destdelta moved renamed main type is main type ismaintype element destinations names names dest delta destdelta listener get delta for getdeltafor moved get parent getparent assert true asserttrue rename d renamed compilation unit result main type dest delta destdelta dest delta destdelta get kind getkind i java element delta ijavaelementdelta assert true asserttrue flag moved dest delta destdelta get flags getflags i java element delta ijavaelementdelta moved assert true asserttrue moved handle original dest delta destdelta get moved from element getmovedfromelement equals element get parent getparent dest delta destdelta listener get delta for getdeltafor destinations assert true asserttrue destination container changed dest delta destdelta dest delta destdelta get kind getkind i java element delta ijavaelementdelta changed i java element delta ijavaelementdelta deltas dest delta destdelta get added children getaddedchildren assert true asserttrue children correct element copy deltas get element getelement equals moved assert true asserttrue deltas get kind getkind i java element delta ijavaelementdelta i java element delta ijavaelementdelta source delta sourcedelta listener get delta for getdeltafor element assert true asserttrue removed source delta sourcedelta get kind getkind i java element delta ijavaelementdelta removed check delta checkdelta stop deltas stopdeltas listener
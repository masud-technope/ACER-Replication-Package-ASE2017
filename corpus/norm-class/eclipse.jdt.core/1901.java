copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests builder java file java io exception ioexception java print writer printwriter java string writer stringwriter java util arrays junit framework test org eclipse core resources i file ifile org eclipse core resources i marker imarker org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime file locator filelocator org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core runtime platform org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core tests util util suppress warnings suppresswarnings rawtypes package info test packageinfotest builder tests buildertests package info test packageinfotest string tests belong skipped tests names string test bug testbug tests numbers tests range test suite build test suite buildtestsuite package info test packageinfotest test java model exception javamodelexception nls i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin nls nls env add class addclass nls nls root nls nls pack nls nls annot nls pack nls annot incremental build incrementalbuild project path projectpath i path ipath package info path packageinfopath nls nls env add file addfile nls nls root nls nls pack info java nls annot incremental build incrementalbuild project path projectpath expecting only problems for expectingonlyproblemsfor package info path packageinfopath problem problems env get problems getproblems arrays sort problems assert not null assertnotnull problems string writer stringwriter string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter string writer stringwriter problems length problemslength problems length problems length problemslength writer print problems get message getmessage problems length problemslength writer println problems get message getmessage writer print problems problems length problemslength get message getmessage writer close string expected output expectedoutput syntax error token expected token declared match expected pack assert source equals assertsourceequals messages expected output expectedoutput string writer stringwriter to string tostring test java model exception javamodelexception nls i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin nls nls env add class addclass nls nls root nls nls test case testcase nls nls main test case testcase main main string argv exception pkg get package getpackage test case testcase system print pkg get annotation getannotation test annotation testannotation pkg for name forname test case testcase info get package getpackage system print pkg get annotation getannotation test annotation testannotation nls nls env add class addclass nls nls root nls nls test case testcase nls nls test annotation testannotation test case testcase java lang annotation element type elementtype java lang annotation retention policy retentionpolicy runtime java lang annotation retention java lang annotation target target retention runtime test annotation testannotation nls nls env add file addfile nls nls root nls nls test case testcase info java nls test annotation testannotation test case testcase incremental build incrementalbuild project path projectpath expecting no problems expectingnoproblems nls nls nls execute class executeclass project path projectpath test case testcase main test case testcase test annotation testannotation test case testcase test annotation testannotation test java model exception javamodelexception nls i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin env add package addpackage root test case testcase i path ipath package info path packageinfopath nls nls env add file addfile nls nls root nls nls test case testcase info java nls incremental build incrementalbuild project path projectpath expecting only specific problem for expectingonlyspecificproblemfor package info path packageinfopath nls nls problem test case testcase info java declared match expected test case testcase package info path packageinfopath categorized problem categorizedproblem cat internal i marker imarker severity error test bug https bugs eclipse org bugs bug cgi npe duplicate info test java model exception javamodelexception nls i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin nls i path ipath other root otherroot env add package fragment root addpackagefragmentroot project path projectpath test nls env set output folder setoutputfolder project path projectpath bin env add package addpackage root foo env add package addpackage other root otherroot foo nls nls env add file addfile nls nls root nls nls foo info java demo foo foo i path ipath other package info path otherpackageinfopath env add file addfile other root otherroot nls nls foo info java demo foo foo incremental build incrementalbuild project path projectpath expecting only specific problem for expectingonlyspecificproblemfor other package info path otherpackageinfopath nls nls problem foo info java type info defined other package info path otherpackageinfopath categorized problem categorizedproblem cat type i marker imarker severity error test bug https bugs eclipse org bugs bug cgi jme duplicate info test java model exception javamodelexception nls i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide nls env remove package fragment root removepackagefragmentroot project path projectpath nls i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin nls i path ipath other root otherroot env add package fragment root addpackagefragmentroot project path projectpath test nls env set output folder setoutputfolder project path projectpath bin env add package addpackage root foo nls nls env add file addfile nls nls root nls nls foo info java demo foo foo full build fullbuild project path projectpath env add package addpackage other root otherroot foo i path ipath other package info path otherpackageinfopath env add file addfile other root otherroot nls nls foo info java demo foo foo incremental build incrementalbuild project path projectpath expecting only specific problem for expectingonlyspecificproblemfor other package info path otherpackageinfopath nls nls problem foo info java type info defined other package info path otherpackageinfopath categorized problem categorizedproblem cat type i marker imarker severity error https bugs eclipse org bugs bug cgi npe creation deletion info java test java model exception javamodelexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin full build fullbuild project path projectpath env add file addfile root info java incremental build incrementalbuild project path projectpath expecting no problems expectingnoproblems https bugs eclipse org bugs bug cgi verify info secondary types trigger incremental build test java model exception javamodelexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath root env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin i path ipath x java path xjavapath env add file addfile root java full build fullbuild project path projectpath env add file addfile root info java incremental build incrementalbuild project path projectpath expecting no problems expectingnoproblems env add file addfile root info java incremental build incrementalbuild project path projectpath expecting only specific problem for expectingonlyspecificproblemfor x java path xjavapath problem java type subclass x java path xjavapath categorized problem categorizedproblem cat type i marker imarker severity error https bugs eclipse org bugs bug cgi test missing nullness annotation info test info annotation problem disappears test bug testbug java model exception javamodelexception io exception ioexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath src root srcroot env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin prepare project setup project for null annotations setupprojectfornullannotations project path projectpath env get java project getjavaproject project path projectpath set option setoption java core javacore compiler missing non null nonnull annotation java core javacore error env get java project getjavaproject project path projectpath set option setoption java core javacore compiler redundant annotation java core javacore error string test code test foo test bar test string test code org eclipse jdt annotation non null by default nonnullbydefault test bar string str string test code test bar string str i path ipath test path env add class addclass src root srcroot test test code env add class addclass src root srcroot test test code env add class addclass src root srcroot test test code full build fullbuild project path projectpath expecting no problems for expectingnoproblemsfor test path marker expecting problems for expectingproblemsfor src root srcroot problem nullness annotation resource project src range category severity add info java annotation string package info code packageinfocode org eclipse jdt annotation non null by default nonnullbydefault env add class addclass src root srcroot info package info code packageinfocode incremental build incrementalbuild project path projectpath expecting problems for expectingproblemsfor project path projectpath problem nullness redundant enclosing resource project src test java range category severity verify recompiled expecting unique compiled classes expectinguniquecompiledclasses string test test test test test info https bugs eclipse org bugs bug cgi test missing nullness annotation info test annotations top level types problem stays test bug testbug java model exception javamodelexception io exception ioexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath src root srcroot env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin prepare project setup project for null annotations setupprojectfornullannotations project path projectpath env get java project getjavaproject project path projectpath set option setoption java core javacore compiler missing non null nonnull annotation java core javacore error env get java project getjavaproject project path projectpath set option setoption java core javacore compiler redundant annotation java core javacore error string test code test foo test bar test string test code org eclipse jdt annotation non null by default nonnullbydefault test bar string str i path ipath test path env add class addclass src root srcroot test test code env add class addclass src root srcroot test test code full build fullbuild project path projectpath expecting no problems for expectingnoproblemsfor test path marker expecting problems for expectingproblemsfor src root srcroot problem nullness annotation resource project src range category severity add annotation test test code org eclipse jdt annotation non null by default nonnullbydefault test foo test bar test env add class addclass src root srcroot test test code incremental build incrementalbuild project path projectpath marker expecting problems for expectingproblemsfor src root srcroot problem nullness annotation resource project src range category severity verify recompiled expecting unique compiled classes expectinguniquecompiledclasses string test test test https bugs eclipse org bugs bug cgi test missing nullness annotation info test annotations top level type problem stays test bug testbug java model exception javamodelexception io exception ioexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath src root srcroot env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin prepare project setup project for null annotations setupprojectfornullannotations project path projectpath env get java project getjavaproject project path projectpath set option setoption java core javacore compiler missing non null nonnull annotation java core javacore error env get java project getjavaproject project path projectpath set option setoption java core javacore compiler redundant annotation java core javacore error string test code test foo test bar test string test code test bar string str i path ipath test path env add class addclass src root srcroot test test code env add class addclass src root srcroot test test code full build fullbuild project path projectpath expecting no problems for expectingnoproblemsfor test path marker expecting problems for expectingproblemsfor src root srcroot problem nullness annotation resource project src range category severity add annotation test test code org eclipse jdt annotation non null by default nonnullbydefault test foo test bar test env add class addclass src root srcroot test test code incremental build incrementalbuild project path projectpath marker expecting problems for expectingproblemsfor src root srcroot problem nullness annotation resource project src range category severity verify test recompiled expecting unique compiled classes expectinguniquecompiledclasses string test test test https bugs eclipse org bugs bug cgi test missing nullness annotation info test annotation removed info problem test bug testbug java model exception javamodelexception io exception ioexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath src root srcroot env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin prepare project setup project for null annotations setupprojectfornullannotations project path projectpath env get java project getjavaproject project path projectpath set option setoption java core javacore compiler missing non null nonnull annotation java core javacore error env get java project getjavaproject project path projectpath set option setoption java core javacore compiler redundant annotation java core javacore error string test code test foo test bar test string test code test bar string str add info java annotation string package info code packageinfocode org eclipse jdt annotation non null by default nonnullbydefault env add class addclass src root srcroot info package info code packageinfocode env add class addclass src root srcroot test test code env add class addclass src root srcroot test test code env add class addclass src root srcroot info package info code packageinfocode full build fullbuild project path projectpath annotation problem expecting no problems for expectingnoproblemsfor src root srcroot add info java annotation package info code packageinfocode env add class addclass src root srcroot info package info code packageinfocode incremental build incrementalbuild project path projectpath expecting problems for expectingproblemsfor project path projectpath problem nullness annotation resource project src info java range category severity verify recompiled expecting unique compiled classes expectinguniquecompiledclasses string test test test test info https bugs eclipse org bugs bug cgi test bug testbug java model exception javamodelexception nls i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs nls env remove package fragment root removepackagefragmentroot project path projectpath nls i path ipath src env add package fragment root addpackagefragmentroot project path projectpath src nls env set output folder setoutputfolder project path projectpath bin nls nls env add class addclass nls nls src nls nls nls nls nls nls i path ipath b path bpath nls nls env add class addclass nls nls src nls nls nls nls info nls full build fullbuild expecting only specific problem for expectingonlyspecificproblemfor b path bpath nls nls problem declared match expected b path bpath categorized problem categorizedproblem cat internal i marker imarker severity error https bugs eclipse org bugs bug cgi verify markers created correct resource test bug testbug java model exception javamodelexception io exception ioexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath remove fragment root names don collide env remove package fragment root removepackagefragmentroot project path projectpath i path ipath src root srcroot env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin prepare project setup project for null annotations setupprojectfornullannotations project path projectpath env get java project getjavaproject project path projectpath set option setoption java core javacore compiler missing non null nonnull annotation java core javacore error env get java project getjavaproject project path projectpath set option setoption java core javacore compiler redundant annotation java core javacore error string test code test string output list integer int egers integers output list doubles env add class addclass src root srcroot test test code full build fullbuild project path projectpath resource compile errors test expecting problems for expectingproblemsfor project path projectpath problem nullness annotation resource project src range category severity problem list resolved type resource project src test java range category severity problem list resolved type resource project src test java range category severity add info java annotation string package info code packageinfocode org eclipse jdt annotation non null by default nonnullbydefault env add class addclass src root srcroot info package info code packageinfocode incremental build incrementalbuild project path projectpath expecting problems for expectingproblemsfor project path projectpath problem list resolved type resource project src test java range category severity problem list resolved type resource project src test java range category severity verify recompiled expecting unique compiled classes expectinguniquecompiledclasses string test info test bug testbug java model exception javamodelexception io exception ioexception core exception coreexception i path ipath project path projectpath env add project addproject project env add external jars addexternaljars project path projectpath util get java class libs getjavaclasslibs full build fullbuild project path projectpath env remove package fragment root removepackagefragmentroot project path projectpath i path ipath src root srcroot env add package fragment root addpackagefragmentroot project path projectpath src env set output folder setoutputfolder project path projectpath bin prepare project setup project for null annotations setupprojectfornullannotations project path projectpath env get java project getjavaproject project path projectpath set option setoption java core javacore compiler missing non null nonnull annotation java core javacore error string test code test string output list integer int egers integers output list doubles env add class addclass src root srcroot test test code string package info code packageinfocode env add class addclass src root srcroot info package info code packageinfocode full build fullbuild project path projectpath expecting problems for expectingproblemsfor project path projectpath problem nullness annotation resource project src info java range category severity problem list resolved type resource project src test java range category severity problem list resolved type resource project src test java range category severity package info code packageinfocode org eclipse jdt annotation non null by default nonnullbydefault env add class addclass src root srcroot info package info code packageinfocode incremental build incrementalbuild project path projectpath expecting problems for expectingproblemsfor project path projectpath problem list resolved type resource project src test java range category severity problem list resolved type resource project src test java range category severity expecting unique compiled classes expectinguniquecompiledclasses string test info i project iproject project env get project getproject project path projectpath i file ifile package info packageinfo project get file getfile src info java package info packageinfo touch incremental build incrementalbuild project path projectpath expecting problems for expectingproblemsfor project path projectpath problem list resolved type resource project src test java range category severity problem list resolved type resource project src test java range category severity verify info recompiled expecting unique compiled classes expectinguniquecompiledclasses string info setup project for null annotations setupprojectfornullannotations i path ipath project path projectpath io exception ioexception java model exception javamodelexception add org eclipse jdt annotation library bin folder jar project file bundle file bundlefile file locator filelocator get bundle file getbundlefile platform get bundle getbundle org eclipse jdt annotation string annotations lib annotationslib bundle file bundlefile is directory isdirectory bundle file bundlefile get path getpath bin bundle file bundlefile get path getpath i java project ijavaproject java project javaproject env get java project getjavaproject project path projectpath i classpath entry iclasspathentry raw classpath rawclasspath java project javaproject get raw classpath getrawclasspath len raw classpath rawclasspath length system arraycopy raw classpath rawclasspath raw classpath rawclasspath i classpath entry iclasspathentry len len raw classpath rawclasspath len java core javacore new library entry newlibraryentry path annotations lib annotationslib java project javaproject set raw classpath setrawclasspath raw classpath rawclasspath java project javaproject set option setoption java core javacore compiler annotation analysis java core javacore enabled assert source equals assertsourceequals string message string expected string actual actual assert equals assertequals message expected actual org eclipse jdt core tests util util convert to independant line delimiter converttoindependantlinedelimiter actual actual equals expected system print org eclipse jdt core tests util util display string displaystring actual to string tostring assert equals assertequals message expected actual test class testclass package info test packageinfotest
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation ibm corporation fixed resource leak warning org eclipse jdt compiler apt tests java buffered writer bufferedwriter java file java file writer filewriter java io exception ioexception java nio charset charset java util array list arraylist java util hash set hashset java util iterator java util list java util locale java util javax tools java file manager javafilemanager javax tools java file object javafileobject javax tools standard java file manager standardjavafilemanager org eclipse jdt internal compiler apt util eclipse file manager eclipsefilemanager junit framework test case testcase test implementation file r filer detail batch dispatch tests batchdispatchtests file manager tests filemanagertests test case testcase javadoc junit framework test case testcase set up setup set up setup exception set up setup batch test utils batchtestutils init test file manager testfilemanager string tmp folder tmpfolder system get property getproperty java tmpdir file dir file tmp folder tmpfolder src system current time millis currenttimemillis dir mkdirs file input file inputfile file dir java buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write writer flush writer close io exception ioexception writer writer close io exception ioexception standard java file manager standardjavafilemanager file manager filemanager file manager filemanager eclipse file manager eclipsefilemanager locale get default getdefault charset default charset defaultcharset list file fins array list arraylist file fins add dir java file manager javafilemanager location source loc sourceloc javax tools standard location standardlocation source path file manager filemanager set location setlocation source loc sourceloc fins java file object javafileobject kind file types filetypes hash set hashset java file object javafileobject kind file types filetypes add java file object javafileobject kind source iterable java file object javafileobject compilation units compilationunits file manager filemanager list source loc sourceloc file types filetypes iterator java file object javafileobject compilation units compilationunits iterator string builder stringbuilder builder string builder stringbuilder has next hasnext java file object javafileobject string get name getname replace last index of lastindexof last index of lastindexof builder append substring last index of lastindexof assert equals assertequals wrong contents java string value of valueof builder list file files array list arraylist file files add dir file manager filemanager get java file objects from files getjavafileobjectsfromfiles files fail illegal argument exception illegalargumentexception thrown illegal argument exception illegalargumentexception iae io exception ioexception print stack trace printstacktrace file manager filemanager close io exception ioexception assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed dir delete test infer binary name testinferbinaryname string tmp folder tmpfolder system get property getproperty java tmpdir file dir file tmp folder tmpfolder src system current time millis currenttimemillis dir mkdirs file input file inputfile file dir test txt buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter input file inputfile writer write valid java file writer flush writer close io exception ioexception writer writer close io exception ioexception standard java file manager standardjavafilemanager file manager filemanager eclipse file manager eclipsefilemanager locale get default getdefault charset default charset defaultcharset list file fins array list arraylist file fins add dir java file manager javafilemanager location source loc sourceloc javax tools standard location standardlocation source path file manager filemanager set location setlocation source loc sourceloc fins java file object javafileobject kind file types filetypes hash set hashset java file object javafileobject kind file types filetypes add java file object javafileobject kind iterable java file object javafileobject compilation units compilationunits file manager filemanager list source loc sourceloc file types filetypes java file object javafileobject invalid java file object javafileobject java file object javafileobject compilation units compilationunits invalid java file object javafileobject string inferred name inferredname file manager filemanager infer binary name inferbinaryname source loc sourceloc invalid file manager filemanager close assert null assertnull invalid file inferred name inferredname io exception ioexception print stack trace printstacktrace assert true asserttrue delete failed input file inputfile delete assert true asserttrue delete failed dir delete test bug testbug eclipse file manager eclipsefilemanager file manager filemanager file manager filemanager eclipse file manager eclipsefilemanager locale get default getdefault charset default charset defaultcharset iterable file files file manager filemanager get location getlocation javax tools standard location standardlocation platform path iterator file iter files iterator iter has next hasnext file iter jar equals get name getname file manager filemanager close assert true asserttrue jar io exception ioexception print stack trace printstacktrace test bug testbug get resource getresource default package defaultpackage exception eclipse file manager eclipsefilemanager file manager filemanager eclipse file manager eclipsefilemanager locale get default getdefault charset default charset defaultcharset list file classpath array list arraylist classpath add file batch test utils batchtestutils get plugin directory path getplugindirectorypath resources targets file manager filemanager classes classpath add file batch test utils batchtestutils get plugin directory path getplugindirectorypath resources targets file manager filemanager dependency zip file manager filemanager set location setlocation javax tools standard location standardlocation path classpath assert not null assertnotnull file manager filemanager get file for input getfileforinput javax tools standard location standardlocation path dir resource dirresource txt assert not null assertnotnull file manager filemanager get file for input getfileforinput javax tools standard location standardlocation path jar resource jarresource txt file manager filemanager close
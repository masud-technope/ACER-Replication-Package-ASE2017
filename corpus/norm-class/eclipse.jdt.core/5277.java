copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests eval java file java lang reflect modifier java util array list arraylist java util map junit framework test junit framework test suite testsuite org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core tests junit extension stop able test case stopabletestcase org eclipse jdt core tests runtime localvmlauncher org eclipse jdt core tests runtime local virtual machine localvirtualmachine org eclipse jdt core tests runtime target exception targetexception org eclipse jdt core tests runtime target interface targetinterface org eclipse jdt core tests util org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler i problem factory iproblemfactory org eclipse jdt internal compiler batch file system filesystem org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception org eclipse jdt internal compiler env i binary field ibinaryfield org eclipse jdt internal compiler env i name environment inameenvironment org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler problem default problem defaultproblem org eclipse jdt internal compiler problem default problem factory defaultproblemfactory org eclipse jdt core compiler char operation charoperation org eclipse jdt internal eval evaluation context evaluationcontext org eclipse jdt internal eval evaluation result evaluationresult org eclipse jdt internal eval global variable globalvariable org eclipse jdt internal eval i requestor irequestor org eclipse jdt internal eval install exception installexception suppress warnings suppresswarnings unchecked rawtypes evaluation test evaluationtest abstract compiler test abstractcompilertest stop able test case stopabletestcase requestor i requestor irequestor result index resultindex evaluation result evaluationresult evaluation result evaluationresult accept class files acceptclassfiles class file classfile class files classfiles code snippet class name codesnippetclassname evaluation test evaluationtest target send classes sendclasses code snippet class name codesnippetclassname class files classfiles target exception targetexception code snippet class name codesnippetclassname target interface targetinterface result result evaluation test evaluationtest target get result getresult result display string displaystring accept result acceptresult evaluation result evaluationresult evaluation result evaluationresult code snippet accept result acceptresult evaluation result evaluationresult evaluation result evaluationresult code snippet result display string displaystring result type name typename length class files classfiles length length compound name compoundname class files classfiles get compound name getcompoundname string compound name compoundname compound name compoundname length starts with startswith global variable globalvariable i binary field ibinaryfield fields class file reader classfilereader class files classfiles get bytes getbytes get fields getfields fields fields length i binary field ibinaryfield field fields modifier is public ispublic field get modifiers getmodifiers target interface targetinterface result result evaluation test evaluationtest target get result getresult result display string displaystring accept result acceptresult evaluation result evaluationresult field get name getname evaluation result evaluationresult variable accept result acceptresult evaluation result evaluationresult field get name getname evaluation result evaluationresult variable result display string displaystring result type name typename class format exception classformatexception print stack trace printstacktrace accept problem acceptproblem categorized problem categorizedproblem problem fragment source fragmentsource fragment kind fragmentkind accept result acceptresult evaluation result evaluationresult fragment source fragmentsource fragment kind fragmentkind categorized problem categorizedproblem problem accept result acceptresult evaluation result evaluationresult result result index resultindex result array index out of bounds exception arrayindexoutofboundsexception old result length oldresultlength length system arraycopy evaluation result evaluationresult old result length oldresultlength old result length oldresultlength result index resultindex result string class path classpath evaluation context evaluationcontext context i name environment inameenvironment env local virtual machine localvirtualmachine launchedvm target interface targetinterface target creates evaluation test evaluationtest evaluation test evaluationtest string test setup suite setupsuite clazz array list arraylist test classes testclasses array list arraylist test classes testclasses add clazz build all compliances test suite buildallcompliancestestsuite clazz evaluation setup evaluationsetup test classes testclasses test suite evaluation test class evaluationtestclass test suite testsuite suite test suite testsuite evaluation test class evaluationtestclass suite asserts arrays equal assertion failed error assertionfailederror thrown param message detail message assert ion assertion param expected expected array param actual actual array assert equals assertequals string message expected actual expected actual expected actual fail not equals failnotequals message expected actual expected length actual length expected length expected actual fail not equals failnotequals message expected actual fail not equals failnotequals message expected actual build array lines build char array buildchararray string lines string buffer stringbuffer buffer string buffer stringbuffer lines length buffer append lines lines length buffer append length buffer length result length buffer get chars getchars length result result returns problems equals equals categorized problem categorizedproblem categorized problem categorizedproblem getid getid is error iserror is error iserror get source start getsourcestart get source start getsourcestart get source end getsourceend get source end getsourceend get source line number getsourcelinenumber get source line number getsourcelinenumber evaluates code snippet returns result display string evaluate with expected display string evaluatewithexpecteddisplaystring map compiler options compileroptions code snippet codesnippet display string displaystring requestor requestor requestor context evaluate code snippet codesnippet get env getenv compiler options compileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex requestor result index resultindex system println unexpected result requestor assert true asserttrue unexpected result requestor result index resultindex evaluation result evaluationresult result requestor assert true asserttrue problem result has problems hasproblems assert true asserttrue empty problem list result get problems getproblems length display string displaystring assert true asserttrue result has value hasvalue assert true asserttrue result has value hasvalue assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid assert equals assertequals display string display string displaystring result get value display string getvaluedisplaystring evaluates code snippet returns result display string evaluate with expected display string evaluatewithexpecteddisplaystring code snippet codesnippet display string displaystring requestor requestor requestor context evaluate code snippet codesnippet get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex requestor result index resultindex system println unexpected result requestor assert true asserttrue unexpected result requestor result index resultindex evaluation result evaluationresult result requestor assert true asserttrue problem result has problems hasproblems assert true asserttrue empty problem list result get problems getproblems length display string displaystring assert true asserttrue result has value hasvalue assert true asserttrue result has value hasvalue assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid assert equals assertequals display string display string displaystring result get value display string getvaluedisplaystring evaluates code snippet evaluation result problem evaluate with expected import problem evaluatewithexpectedimportproblem code snippet codesnippet import declaration importdeclaration categorized problem categorizedproblem expected evaluate with expected import problem evaluatewithexpectedimportproblem code snippet codesnippet import declaration importdeclaration get compiler options getcompileroptions expected evaluates code snippet evaluation result problem evaluate with expected import problem evaluatewithexpectedimportproblem code snippet codesnippet import declaration importdeclaration map options categorized problem categorizedproblem expected requestor requestor requestor context evaluate code snippet codesnippet get env getenv options requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex evaluation result evaluationresult result requestor assert true asserttrue result has value hasvalue assert true asserttrue problem result has problems hasproblems assert equals assertequals evaluation type evaluation result evaluationresult result get evaluation type getevaluationtype assert equals assertequals evaluation import declaration importdeclaration result get evaluation d getevaluationid categorized problem categorizedproblem problems result get problems getproblems equals expected problems assert true asserttrue expected problem evaluates code snippet evaluation result problem evaluate with expected problem evaluatewithexpectedproblem code snippet codesnippet categorized problem categorizedproblem expected requestor requestor requestor context evaluate code snippet codesnippet get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex evaluation result evaluationresult result requestor assert true asserttrue result has value hasvalue assert true asserttrue problem result has problems hasproblems assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid categorized problem categorizedproblem problems result get problems getproblems equals expected problems assert true asserttrue expected problem evaluates code snippet evaluation result problem evaluate with expected problem evaluatewithexpectedproblem code snippet codesnippet string problems string problemsstring requestor requestor requestor context evaluate code snippet codesnippet get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage assert true asserttrue result requestor result index resultindex evaluation result evaluationresult result requestor assert true asserttrue result has value hasvalue assert true asserttrue problem result has problems hasproblems assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid string buffer stringbuffer problem buffer problembuffer string buffer stringbuffer categorized problem categorizedproblem problems result get problems getproblems problems length problem buffer problembuffer append problems get message getmessage append assert equals assertequals unexpected problems problems string problemsstring problem buffer problembuffer to string tostring evaluates variable evaluation result problem evaluate with expected problem evaluatewithexpectedproblem global variable globalvariable categorized problem categorizedproblem expected requestor requestor requestor context evaluate variables evaluatevariables get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex evaluation result evaluationresult result requestor assert true asserttrue result has value hasvalue assert true asserttrue problem result has problems hasproblems assert equals assertequals evaluation type evaluation result evaluationresult variable result get evaluation type getevaluationtype assert equals assertequals evaluation get name getname result get evaluation d getevaluationid categorized problem categorizedproblem problems result get problems getproblems equals expected problems assert true asserttrue expected problem evaluates code snippet returns result type evaluate with expected type evaluatewithexpectedtype code snippet codesnippet expected type name expectedtypename requestor requestor requestor context evaluate code snippet codesnippet get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex requestor result index resultindex system println unexpected result requestor assert true asserttrue result requestor result index resultindex evaluation result evaluationresult result requestor expected type name expectedtypename assert true asserttrue result has value hasvalue assert true asserttrue result has value hasvalue assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid assert equals assertequals type expected type name expectedtypename result get value type name getvaluetypename evaluates code snippet returns result display string type evaluate with expected value evaluatewithexpectedvalue code snippet codesnippet display string displaystring type name typename requestor requestor requestor context evaluate code snippet codesnippet get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage assert true asserttrue result requestor result index resultindex evaluation result evaluationresult result requestor display string displaystring assert true asserttrue missing result has value hasvalue assert true asserttrue result has value hasvalue assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid assert equals assertequals display string display string displaystring result get value display string getvaluedisplaystring assert equals assertequals type type name typename result get value type name getvaluetypename evaluates variable returns result display string type evaluate with expected value evaluatewithexpectedvalue global variable globalvariable display string displaystring type name typename requestor requestor requestor context evaluate variable evaluatevariable get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage requestor result index resultindex requestor result index resultindex system println unexpected result requestor assert true asserttrue unexpected result requestor result index resultindex evaluation result evaluationresult result requestor display string displaystring assert true asserttrue result has value hasvalue assert true asserttrue result has value hasvalue assert equals assertequals display string display string displaystring result get value display string getvaluedisplaystring assert equals assertequals type type name typename result get value type name getvaluetypename evaluates code snippet evaluation result warning evaluation result display string evaluate with expected warning and display string evaluatewithexpectedwarninganddisplaystring code snippet codesnippet categorized problem categorizedproblem expected display string displaystring result requestor resultrequestor requestor array list arraylist collected problems collectedproblems array list arraylist got display string gotdisplaystring accept result acceptresult evaluation result evaluationresult result assert equals assertequals evaluation type evaluation result evaluationresult code snippet result get evaluation type getevaluationtype assert equals assertequals evaluation code snippet codesnippet result get evaluation d getevaluationid result has value hasvalue char operation charoperation equals result get value display string getvaluedisplaystring display string displaystring got display string gotdisplaystring assert true asserttrue problem result has problems hasproblems categorized problem categorizedproblem problems result get problems getproblems problems length collected problems collectedproblems add problems result requestor resultrequestor requestor result requestor resultrequestor context evaluate code snippet codesnippet get env getenv get compiler options getcompileroptions requestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage expected length requestor collected problems collectedproblems size expected length assert true asserttrue problem mismatch requestor collected problems collectedproblems equals expected categorized problem categorizedproblem requestor collected problems collectedproblems assert true asserttrue wrong problem count assert true asserttrue expected display string requestor got display string gotdisplaystring fail not equals failnotequals string message expected actual string for matted formatted message for matted formatted message string expected string expectedstring expected string expected string actual string actualstring actual string actual fail for matted formatted expected expected string expectedstring actual string actualstring map get compiler options getcompileroptions map default options defaultoptions get compiler options getcompileroptions default options defaultoptions compiler options compileroptions option local variable attribute localvariableattribute compiler options compileroptions generate default options defaultoptions compiler options compileroptions option line number attribute linenumberattribute compiler options compileroptions generate default options defaultoptions compiler options compileroptions option source file attribute sourcefileattribute compiler options compileroptions generate default options defaultoptions compiler options compileroptions option report unused local reportunusedlocal compiler options compileroptions warning default options defaultoptions compiler options compileroptions option report unused import reportunusedimport compiler options compileroptions ignore default options defaultoptions compiler options compileroptions option report local variable hiding reportlocalvariablehiding compiler options compileroptions warning default options defaultoptions compiler options compileroptions option report unused private member reportunusedprivatemember compiler options compileroptions ignore default options defaultoptions compiler options compileroptions option report possible acc ide ntal boolean assignment reportpossibleaccidentalbooleanassignment compiler options compileroptions warning default options defaultoptions i name environment inameenvironment get env getenv env i problem factory iproblemfactory get problem factory getproblemfactory default problem factory defaultproblemfactory java util locale get default getdefault initialize compiler test setup compilertestsetup set up setup initialize set up setup evaluation setup evaluationsetup eval set up evalsetup evaluation setup evaluationsetup set up setup context eval set up evalsetup context target eval set up evalsetup target launchedvm eval set up evalsetup launchedvm env eval set up evalsetup env installs variables check number installed variables number install variables installvariables expected number expectednumber install requestor installrequestor requestor count accept result acceptresult evaluation result evaluationresult result assert true asserttrue problems result has problems hasproblems assert true asserttrue result has value hasvalue count install requestor installrequestor install requestor installrequestor install requestor installrequestor context evaluate variables evaluatevariables get env getenv get compiler options getcompileroptions install requestor installrequestor get problem factory getproblemfactory install exception installexception assert true asserttrue target exception get message getmessage assert equals assertequals number installed variables expected number expectednumber install requestor installrequestor count isjrockitvm string vm name vmname system get property getproperty java vm name vmname vm name vmname index of indexof j rockit jrockit returns problem severity source positions number default problem defaultproblem new problem newproblem severity start pos startpos end pos endpos default problem defaultproblem severity start pos startpos end pos endpos reset env resetenv string encoding string get compiler options getcompileroptions compiler options compileroptions option encoding equals encoding encoding env file system filesystem util concat with class libs concatwithclasslibs evaluation setup evaluationsetup eval directory file separator localvmlauncher regular classpath directory string encoding target close socket resource chance free d freed target disconnect launchedvm retry launchedvm is running isrunning retry thread sleep retry interrupted exception interruptedexception launchedvm is running isrunning launchedvm shut down shutdown target exception targetexception
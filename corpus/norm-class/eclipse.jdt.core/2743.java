copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation gen ady genady beriozkin support reporting assignment stephan herrmann stephan berlin contributions bug warning unboxing single name reference singlenamereference npe bug report variable assignment bug compiler minimal hook annotation support bug warning missing resources bug compiler annotations checking bug filter practically unimportant resource leak warnings bug compiler resource restore resource leak warnings bug compiler distinguish warnings based flow analysis annotations bug compiler compiler misidentifies variable bug compiler resource incorrect potential resource leak bug compiler resource incorrect resource leak warning creating stream conditional bug bound doesn resolve bounds properly wildcards param etrisation parametrisation bug compiler annotations fields bug compiler syntactic analysis field references bug follow bug missing warning redundant check bug compiler fup bug consolidate int eraction interaction unboxing npe deferred checking bug compiler apply annotation types analysis bug compiler npe org eclipse jdt internal compiler ast conditional expression conditionalexpression generate code generatecode conditional expression conditionalexpression java bug compiler loop improve analysis loops bug compiler incorrect warning primitive type org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast expression context expressioncontext assignment context org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup assignment expression expression lhs expression expression assignment expression lhs expression expression source end sourceend lhs reference construction build expression check cast checkcast fail lhs lhs tag lhs assigned lhs bits is strictly assigned isstrictlyassigned expression expression source start sourcestart lhs source start sourcestart source end sourceend source end sourceend flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo record setting variable scenarii setting array reference field reference blank field reference field enclosing instance local variable local variable binding localvariablebinding local lhs local variable binding localvariablebinding expression checknpebyunboxing current scope currentscope flow context flowcontext flow info flowinfo flow info flowinfo pre init info preinitinfo compiler options compileroptions compiler options compileroptions current scope currentscope compiler options compileroptions should analyse resource shouldanalyseresource local flow info flowinfo reach mode reachmode flow info flowinfo reachable compiler options compileroptions analyse resource leaks analyseresourceleaks faked tracking variable fakedtrackingvariable is any closeable isanycloseable expression resolved type resolvedtype expression resolved type resolvedtype type binding typebinding should analyse resource shouldanalyseresource pre init info preinitinfo flow info flowinfo unconditional copy unconditionalcopy analysis resource leaks additional context analyzing rhs faked tracking variable fakedtrackingvariable pre connect tracker across assignment preconnecttrackeracrossassignment local expression flow info flowinfo flow info flowinfo reference lhs analyse assignment analyseassignment current scope currentscope flow context flowcontext flow info flowinfo unconditional inits unconditionalinits should analyse resource shouldanalyseresource faked tracking variable fakedtrackingvariable handle resource assignment handleresourceassignment current scope currentscope pre init info preinitinfo flow info flowinfo flow context flowcontext expression local faked tracking variable fakedtrackingvariable clean up after assignment cleanupafterassignment current scope currentscope lhs bits expression null status nullstatus expression null status nullstatus flow info flowinfo flow context flowcontext local local type tag bits tagbits tag bits tagbits is base type isbasetype null status nullstatus flow info flowinfo flow context flowcontext record using null reference recordusingnullreference current scope currentscope local lhs flow context flowcontext flow context flowcontext assignment flow info flowinfo compiler options compileroptions is annotation based null analysis enabled isannotationbasednullanalysisenabled variable binding variablebinding lhs null annotated variable binding nullannotatedvariablebinding compiler options compileroptions source level sourcelevel class file constants classfileconstants jdk null status nullstatus null annotation matching nullannotationmatching check assignment checkassignment current scope currentscope flow context flowcontext flow info flowinfo null status nullstatus expression expression resolved type resolvedtype null status nullstatus flow info flowinfo field binding fieldbinding lhs reference compiler options compileroptions enable syntactic null analysis for fields enablesyntacticnullanalysisforfields time to live timetolive bits inside expression statement insideexpressionstatement assignment statement info survives statement assignment expression expire event flow context flowcontext record null checked field reference recordnullcheckedfieldreference reference lhs time to live timetolive local local type tag bits tagbits tag bits tagbits is base type isbasetype flow info flowinfo mark null status marknullstatus local null status nullstatus flow context flowcontext mark finally null status markfinallynullstatus local null status nullstatus flow info flowinfo check assignment checkassignment block scope blockscope scope type binding typebinding lhs type lhstype type binding typebinding rhs type rhstype field binding fieldbinding left field leftfield get last field getlastfield lhs left field leftfield rhs type rhstype type binding typebinding lhs type lhstype kind binding wildcard type wildcard binding wildcardbinding lhs type lhstype bound kind boundkind wildcard scope problem reporter problemreporter wildcard assignment wildcardassignment lhs type lhstype rhs type rhstype expression left field leftfield left field leftfield is static isstatic left field leftfield declaring class declaringclass length pseudo field left field leftfield declaring class declaringclass is raw type israwtype scope problem reporter problemreporter unsafe raw field assignment unsaferawfieldassignment left field leftfield rhs type rhstype lhs rhs type rhstype needs unchecked conversion needsuncheckedconversion lhs type lhstype scope problem reporter problemreporter unsafe type conversion unsafetypeconversion expression rhs type rhstype lhs type lhstype generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired scenarii setting array reference field reference blank field reference field enclosing instance local variable code stream codestream position reference lhs generate assignment generateassignment current scope currentscope code stream codestream value required valuerequired variable optimized lhs responsible perform implicit conversion implicitconversion generation assignment optimized unused local assignment code stream codestream record positions from recordpositionsfrom source start sourcestart field binding fieldbinding get last field getlastfield expression some expression someexpression some expression someexpression single name reference singlenamereference some expression someexpression bits restrictiveflagmask binding field field binding fieldbinding single name reference singlenamereference some expression someexpression binding some expression someexpression field reference fieldreference field reference fieldreference some expression someexpression binding some expression someexpression qualified name reference qualifiednamereference qualified name reference qualifiednamereference q name qname qualified name reference qualifiednamereference some expression someexpression q name qname other bindings otherbindings some expression someexpression bits restrictiveflagmask binding field field binding fieldbinding q name qname binding q name qname other bindings otherbindings q name qname other bindings otherbindings length null status nullstatus flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext implicit conversion implicitconversion type ids typeids boxing flow info flowinfo expression null status nullstatus flow info flowinfo flow context flowcontext string buffer stringbuffer print indent string buffer stringbuffer output statement print indent printindent indent output print expression no parent hesis printexpressionnoparenthesis indent output string buffer stringbuffer print expression printexpression indent string buffer stringbuffer output subclass redefine print expression no parent hesis printexpressionnoparenthesis output append print expression no parent hesis printexpressionnoparenthesis output append string buffer stringbuffer print expression no parent hesis printexpressionnoparenthesis indent string buffer stringbuffer output nls lhs print expression printexpression indent output append expression print expression printexpression output string buffer stringbuffer print statement printstatement indent string buffer stringbuffer output statement print indent output append type binding typebinding resolve type resolvetype block scope blockscope scope syntax lhs name reference namereference field reference fieldreference array reference arrayreference constant constant notaconstant lhs reference lhs is this isthis scope problem reporter problemreporter expression should be variable expressionshouldbeavariable lhs type binding typebinding lhs type lhstype lhs resolve type resolvetype scope expression set expression context setexpressioncontext assignment context needed method invocation expression set expected type setexpectedtype lhs type lhstype lhs type lhstype unique shares source expression resolved type resolvedtype lhs type lhstype capture scope lhs source start sourcestart lhs source end sourceend local variable binding localvariablebinding local variable binding localvariablebinding lhs local variable binding localvariablebinding local variable binding localvariablebinding local variable binding localvariablebinding is catch parameter iscatchparameter local variable binding localvariablebinding is parameter isparameter assigned conclude not e note parameter compound assigned local variable binding localvariablebinding tag bits tagbits tag bits tagbits is effectively final iseffectivelyfinal type binding typebinding rhs type rhstype expression resolve type resolvetype scope lhs type lhstype rhs type rhstype check assignment binding left get direct binding getdirectbinding lhs left left is volatile isvolatile left get direct binding getdirectbinding expression scope problem reporter problemreporter assignment has no effect assignmenthasnoeffect left short readable name shortreadablename require widen rhs expression runtime call compute conversion computeconversion type mismatch error typemismatcherror type binding typebinding not equals notequals lhs type lhstype rhs type rhstype scope compilation unit scope compilationunitscope record type conversion recordtypeconversion lhs type lhstype rhs type rhstype expression is constant value of type assignable to type isconstantvalueoftypeassignabletotype rhs type rhstype lhs type lhstype rhs type rhstype is compatible with iscompatiblewith lhs type lhstype scope expression compute conversion computeconversion scope lhs type lhstype rhs type rhstype check assignment checkassignment scope lhs type lhstype rhs type rhstype expression cast expression castexpression expression bits ast node astnode unnecessary cast unnecessarycast cast expression castexpression check need for assigned cast checkneedforassignedcast scope lhs type lhstype cast expression castexpression expression resolved type resolvedtype is boxing compatible isboxingcompatible rhs type rhstype lhs type lhstype expression scope expression compute conversion computeconversion scope lhs type lhstype rhs type rhstype expression cast expression castexpression expression bits ast node astnode unnecessary cast unnecessarycast cast expression castexpression check need for assigned cast checkneedforassignedcast scope lhs type lhstype cast expression castexpression expression resolved type resolvedtype scope problem reporter problemreporter type mismatch error typemismatcherror rhs type rhstype lhs type lhstype expression lhs lhs type lhstype org eclipse jdt internal compiler ast expression resolve type expecting resolvetypeexpecting org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup type binding typebinding type binding typebinding resolve type expecting resolvetypeexpecting block scope blockscope scope type binding typebinding expected type expectedtype type binding typebinding type resolve type expecting resolvetypeexpecting scope expected type expectedtype type type binding typebinding lhs type lhstype resolved type resolvedtype type binding typebinding rhs type rhstype expression resolved type resolvedtype signal accidental assignment type binding typebinding equals equals equalsequals expected type expectedtype type binding typebinding type binding typebinding equals equals equalsequals lhs type lhstype type binding typebinding lhs bits is strictly assigned isstrictlyassigned scope problem reporter problemreporter possible acc ide ntal boolean assignment possibleaccidentalbooleanassignment check assignment checkassignment scope lhs type lhstype rhs type rhstype type traverse ast visitor astvisitor visitor block scope blockscope scope visitor visit scope lhs traverse visitor scope expression traverse visitor scope visitor end visit endvisit scope local variable binding localvariablebinding local variable binding localvariablebinding lhs local variable binding localvariablebinding statement expression statementexpression bits ast node astnode parenthesizedmask
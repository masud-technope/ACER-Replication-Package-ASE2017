copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mkaufman bea initial api implementation org eclipse jdt apt core internal java buffered reader bufferedreader java file java io exception ioexception java input stream inputstream java input stream reader inputstreamreader java util linked hash map linkedhashmap java util map java util jar jar entry jarentry java util jar jar file jarfile org eclipse jdt apt core internal util factory container factorycontainer represents jar file annotation processor factories factories listed jar meta inf services folder file named sun mirror apt annotation processor factory annotationprocessorfactory jar factory container jarfactorycontainer factory container factorycontainer java file file guaranteed exist file get jar file getjarfile override exists file jar file jarfile get jar file getjarfile jar file jarfile get jar file getjarfile exists security exception securityexception override map string string load factory names loadfactorynames io exception ioexception get service class names from jar getserviceclassnamesfromjar get jar file getjarfile jar file names annotation processor factory annotationprocessorfactory implementations off ers offers based sun href http java sun docs guide jar jar html service provider jar service provider spec jar file meta inf services directory directory text files named desired interfaces file names classes implementing service files whitespace character comment impl ied implied state d stated spec routine ignores non whitespace nonwhitespace token param jar jar file list empty fully qualified class names classnames instantiated map string string get service class names from jar getserviceclassnamesfromjar file jar io exception ioexception map string string class names classnames linked hash map linkedhashmap jar file jarfile jar file jarfile jar file jarfile jar file jarfile jar string service name servicename autoload services nls string provider name providername meta inf services service name servicename service provider def file jar jar entry jarentry provider jar file jarfile get jar entry getjarentry provider name providername provider extract class names classnames service provider def file input stream inputstream jar file jarfile get input stream getinputstream provider read service provider readserviceprovider service name servicename class names classnames jar file jarfile jar file jarfile close io exception ioexception ioe class names classnames read service class names classnames service provider definition param input stream sun style service provider definition file files named autoload services param class names classnames list classes named read service provider readserviceprovider input stream inputstream string service name servicename map string string class names classnames io exception ioexception buffered reader bufferedreader nls buffered reader bufferedreader input stream reader inputstreamreader utf string read line readline read line readline hack comments i comment icomment index of indexof i comment icomment substring i comment icomment add whitespace token list nls string tokens split tokens length class names classnames tokens service name servicename close close io exception ioexception ioe list jar file entries meta inf services auto load able autoloadable service providers string autoload services apt plugin aptplugin java factory apt plugin aptplugin java factory
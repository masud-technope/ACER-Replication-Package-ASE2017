copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mkaufman bea initial api implementation org eclipse jdt apt core internal generated file generatedfile java util collections java util hash set hashset java util org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i resource change event iresourcechangeevent org eclipse core resources i resource change listener iresourcechangelistener org eclipse core resources i resource delta iresourcedelta org eclipse core resources i resource delta visitor iresourcedeltavisitor org eclipse core runtime core exception coreexception org eclipse jdt apt core internal apt plugin aptplugin org eclipse jdt apt core internal apt project aptproject org eclipse jdt apt core util apt config aptconfig org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore jdt core pre process resource change listener manages generated resources note pre build listener post change listener bug resource change event notification platform fail send deletion not ifications notifications files pre build send post change generated resource change listener generatedresourcechangelistener i resource change listener iresourcechangelistener collection post change not ifications notifications simultaneously note pre build holds workspace lock i resource iresource deleted resources deletedresources collections synchronized set synchronizedset hash set hashset i resource iresource generated resource change listener generatedresourcechangelistener resource changed resourcechanged i resource change event iresourcechangeevent event event get type gettype i resource change event iresourcechangeevent pre close i project iproject i project iproject event get resource getresource apt plugin aptplugin debug gfm apt plugin aptplugin trace nls generated resource change listener pre close event project nls get name getname i java project ijavaproject java core javacore create apt plugin aptplugin get apt project getaptproject project closed projectclosed event get type gettype i resource change event iresourcechangeevent pre delete todo update project deleted projectdeleted delete generated src folder async thread resource tree locked i project iproject i project iproject event get resource getresource apt plugin aptplugin debug gfm apt plugin aptplugin trace nls generated resource change listener pre delete event project nls get name getname i java project ijavaproject java core javacore create apt plugin aptplugin get apt project getaptproject project deleted projectdeleted apt plugin aptplugin delete apt project deleteaptproject event get type gettype i resource change event iresourcechangeevent pre build apt plugin aptplugin debug gfm apt plugin aptplugin trace generated resource change listener pre build event pre build visitor prebuildvisitor pbv pre build visitor prebuildvisitor perform file event i resource iresource resource deleted resources deletedresources pbv handle deletion handledeletion resource event get delta getdelta accept pbv add generated src folder to addgeneratedsrcfolderto pbv get projects that need gen src folder getprojectsthatneedgensrcfolder clear deleted resources don handle deleted resources deletedresources clear core exception coreexception apt plugin aptplugin log error pre build resource change event get type gettype i resource change event iresourcechangeevent post change apt plugin aptplugin debug gfm apt plugin aptplugin trace generated resource change listener post change event post change visitor postchangevisitor pcv post change visitor postchangevisitor event get delta getdelta accept pcv core exception coreexception apt plugin aptplugin log error post change resource event add generated src folder to addgeneratedsrcfolderto i project iproject projs i project iproject proj projs i java project ijavaproject java proj javaproj java core javacore create proj java proj javaproj get project getproject is open isopen apt config aptconfig is enabled isenabled java proj javaproj generated source folder manager generatedsourcefoldermanager gsfm apt plugin aptplugin get apt project getaptproject java proj javaproj get generated source folder manager getgeneratedsourcefoldermanager gsfm ensure folder exists ensurefolderexists post change visitor bug platform resource change notification items reported post change event track handle pre build post change visitor postchangevisitor i resource delta visitor iresourcedeltavisitor visit i resource delta iresourcedelta delta core exception coreexception delta get kind getkind i resource delta iresourcedelta removed apt plugin aptplugin debug gfm apt plugin aptplugin trace generated resource post change listener adding deleted resources deletedresources delta get resource getresource get name getname deleted resources deletedresources add delta get resource getresource pre build visitor prebuildvisitor i resource delta visitor iresourcedeltavisitor projects add generated source folder i project iproject add gen folder to addgenfolderto hash set hashset projects closed deleted i project iproject removed projects removedprojects hash set hashset visit i resource delta iresourcedelta delta core exception coreexception i resource iresource delta get resource getresource i project iproject project get project getproject project delta get kind getkind i resource delta iresourcedelta removed deleted resources deletedresources handle deletion handledeletion i project iproject i project iproject proj i project iproject delta get resource getresource can update canupdate proj add gen folder to addgenfolderto add proj removed projects removedprojects add proj handle deletion handledeletion i resource iresource resource core exception coreexception apt plugin aptplugin debug gfm nls apt plugin aptplugin trace nls handle deletion handledeletion resource resource get name getname i project iproject project resource get project getproject i java project ijavaproject java proj javaproj java core javacore create project apt project aptproject apt proj aptproj apt plugin aptplugin get apt project getaptproject java proj javaproj resource i file ifile generated file manager generatedfilemanager gfm apt proj aptproj get generated file manager getgeneratedfilemanager i file ifile i file ifile resource gfm file deleted filedeleted resource i folder ifolder generated source folder manager generatedsourcefoldermanager gsfm apt proj aptproj get generated source folder manager getgeneratedsourcefoldermanager i folder ifolder i folder ifolder resource gsfm is generated source folder isgeneratedsourcefolder gsfm folder deleted folderdeleted deletion occurs add adding generated source directory removed projects removedprojects project add gen folder to addgenfolderto add project project closed process deleted ignore deletion correct classpath resource i project iproject removed projects removedprojects add i project iproject resource i project iproject get projects that need gen src folder getprojectsthatneedgensrcfolder add gen folder to addgenfolderto remove all removeall removed projects removedprojects add gen folder to addgenfolderto can update canupdate i project iproject proj core exception coreexception proj is open isopen proj exists proj has nature hasnature java core javacore nature
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests eval java file java input stream inputstream java print stream printstream org eclipse jdt core tests runtime local virtual machine localvirtualmachine org eclipse jdt core tests runtime localvmlauncher org eclipse jdt core tests runtime target exception targetexception org eclipse jdt core tests runtime target interface targetinterface org eclipse jdt core tests util compiler test setup compilertestsetup org eclipse jdt core tests util util org eclipse jdt internal compiler batch file system filesystem org eclipse jdt internal compiler env i name environment inameenvironment org eclipse jdt internal eval evaluation context evaluationcontext evaluation setup evaluationsetup compiler test setup compilertestsetup string eval directory util get output directory getoutputdirectory file separator evaluation string jre path util getjredirectory evaluation context evaluationcontext context target interface targetinterface target local virtual machine localvirtualmachine launchedvm i name environment inameenvironment env evaluation setup evaluationsetup compliance level compliancelevel compliance level compliancelevel set up setup called subclass context launch evaluation mode eval port evalport util get free port getfreeport localvmlauncher launcher localvmlauncher get launcher getlauncher launcher setvmpath jre path launcher set eval port setevalport eval port evalport launcher set eval target path setevaltargetpath eval directory launchedvm launcher launch target exception targetexception error get message getmessage thread read stout doesn block start reader startreader stdout reader launchedvm get input stream getinputstream system target exception targetexception thread read sterr doesn block start reader startreader sterr reader launchedvm get error stream geterrorstream system err target exception targetexception create context context evaluation context evaluationcontext create target target target interface targetinterface max connect https bugs eclipse org bugs bug cgi target connect localhost eval port evalport create environment env file system filesystem util get java class libs getjavaclasslibs string set up setup start reader startreader string input stream inputstream print stream printstream thread read read read read java io exception ioexception read read print read start tear down teardown context local virtual machine localvirtualmachine launchedvm target close socket resource chance free d freed target disconnect retry is running isrunning retry thread sleep retry interrupted exception interruptedexception is running isrunning shut down shutdown context target exception targetexception error get message getmessage env env cleanup
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests model java file java io exception ioexception junit framework test org eclipse core resources org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime path org eclipse jdt core type hierarchy notification tests typehierarchynotificationtests modifying resource tests modifyingresourcetests i type hierarchy changed listener itypehierarchychangedlistener received notification change change received changereceived hierarchy received change i type hierarchy itypehierarchy hierarchy number not ifications notifications not ifications notifications type hierarchy notification tests typehierarchynotificationtests string change received hierarchy assert one change assertonechange i type hierarchy itypehierarchy assert true asserttrue receive change change received changereceived assert true asserttrue change hierarchy hierarchy assert equals assertequals unexpected number not ifications notifications not ifications notifications add super addsuper i compilation unit icompilationunit unit string type name typename string new super newsuper java model exception javamodelexception i compilation unit icompilationunit copy unit get working copy getworkingcopy i type itype type copy get types gettypes string source type get source getsource super index superindex string new source newsource source substring super index superindex source index of indexof type name typename type name typename length new super newsuper source substring super index superindex type delete copy create type createtype new source newsource copy commit working copy commitworkingcopy change super changesuper i compilation unit icompilationunit unit string existing super existingsuper string new super newsuper java model exception javamodelexception i compilation unit icompilationunit copy unit get working copy getworkingcopy i type itype type copy get types gettypes string source type get source getsource super index superindex string new source newsource source substring super index superindex source index of indexof existing super existingsuper new super newsuper source substring super index superindex existing super existingsuper length type delete copy create type createtype new source newsource copy commit working copy commitworkingcopy change visibility changevisibility i compilation unit icompilationunit unit string existing modifier existingmodifier string new modifier newmodifier java model exception javamodelexception i compilation unit icompilationunit copy unit get working copy getworkingcopy i type itype type copy get types gettypes string source type get source getsource modifier index modifierindex string new source newsource source substring modifier index modifierindex source index of indexof existing modifier existingmodifier new modifier newmodifier source substring modifier index modifierindex existing modifier existingmodifier length type delete copy create type createtype new source newsource copy commit working copy commitworkingcopy reset flags watch notification reset change received changereceived hierarchy not ifications notifications set u p setup exception set u p setup reset set u p java project setupjavaproject type hierarchy notification typehierarchynotification tests names string test add extends source type testaddextendssourcetype test suite build model test suite buildmodeltestsuite type hierarchy notification tests typehierarchynotificationtests tear down teardown exception delete project deleteproject type hierarchy notification typehierarchynotification tear down teardown adding anonymous type hierarchy region not ified notified change regression test bug anonymous type missing type hierarchy editor modified test add anonymous in region testaddanonymousinregion core exception coreexception i type hierarchy itypehierarchy i compilation unit icompilationunit copy copy get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java copy become working copy becomeworkingcopy i region iregion region java core javacore new region newregion region add copy get parent getparent copy get java project getjavaproject new type hierarchy newtypehierarchy region add type hierarchy changed listener addtypehierarchychangedlistener add field initialized anonymous type string new source newsource field copy get buffer getbuffer set contents setcontents new source newsource copy reconcile i compilation unit icompilationunit ast copy commit working copy commitworkingcopy assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener copy copy discard working copy discardworkingcopy type hierarchy change types type hierarchy test add compilation unit testaddcompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener types hierarchy i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java main string args system println hello world helloworld assert creation assertcreation newcu assert true asserttrue receive change change received changereceived cleanup remove type hierarchy changed listener removetypehierarchychangedlistener type hierarchy change types type hierarchy test add compilation unit testaddcompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener top level type hierarchy i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java assert creation assertcreation newcu assert one change assertonechange refresh i type itype get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java get type gettype i type itype subtypes get subtypes getsubtypes assert true asserttrue subtype subtypes length assert equals assertequals subtype newcu get type gettype subtypes cleanup remove type hierarchy changed listener removetypehierarchychangedlistener type hierarchy change types type hierarchy test add compilation unit testaddcompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener type hierarchy i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java inner z innerz assert creation assertcreation newcu assert one change assertonechange refresh i type itype get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java get type gettype i type itype subtypes get subtypes getsubtypes assert true asserttrue subtype subtypes length assert equals assertequals subtype inner z innerz newcu get type gettype get type gettype inner z innerz subtypes cleanup remove type hierarchy changed listener removetypehierarchychangedlistener type hierarchy change types type hierarchy tests parameterized super type supertype https bugs eclipse org test add compilation unit testaddcompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i type itype collection java project javaproject find type findtype java util collection i type hierarchy itypehierarchy collection new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener top level type hierarchy i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java java util collection java lang string assert creation assertcreation newcu assert one change assertonechange refresh i type itype subtypes get subtypes getsubtypes collection assert true asserttrue subtype collection subtypes length assert equals assertequals subtype collection newcu get type gettype subtypes cleanup remove type hierarchy changed listener removetypehierarchychangedlistener type hierarchy doesn focus change types region test add compilation unit in region testaddcompilationunitinregion core exception coreexception io exception ioexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i region iregion region java core javacore new region newregion region add java project javaproject i type hierarchy itypehierarchy java project javaproject new type hierarchy newtypehierarchy region add type hierarchy changed listener addtypehierarchychangedlistener set u p java project setupjavaproject type hierarchy dependent typehierarchydependent types region i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy dependent typehierarchydependent i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java main string args system println hello world helloworld assert creation assertcreation newcu assert true asserttrue receive change change received changereceived cleanup delete resource deleteresource newcu get underlying resource getunderlyingresource reset type region subtype existing type region pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java assert creation assertcreation newcu assert one change assertonechange refresh i type itype get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java get type gettype i type itype subtypes get subtypes getsubtypes assert true asserttrue subtype subtypes length assert equals assertequals subtype newcu get type gettype subtypes cleanup delete resource deleteresource newcu get underlying resource getunderlyingresource refresh reset type region type existing type region i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java throwable assert creation assertcreation newcu assert one change assertonechange refresh i type itype throwable class throwableclass get class file getclassfile type hierarchy notification typehierarchynotification getexternaljclpathstring java lang throwable get type gettype assert equals assertequals superclass java lang throwable throwable class throwableclass get superclass getsuperclass newcu get type gettype cleanup delete resource deleteresource newcu get underlying resource getunderlyingresource refresh reset remove type hierarchy changed listener removetypehierarchychangedlistener delete project deleteproject type hierarchy dependent typehierarchydependent int ersects intersects fragments type hierarchy type hierarchy typehierarchy changed test add external compilation unit testaddexternalcompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i compilation unit icompilationunit newcu pkg create compilation unit createcompilationunit java main string args system println hello world helloworld assert creation assertcreation newcu assert true asserttrue receive change received changereceived cleanup delete resource deleteresource newcu get underlying resource getunderlyingresource remove type hierarchy changed listener removetypehierarchychangedlistener external project type hierarchy change test add external package testaddexternalpackage core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject create java project createjavaproject string src bin add type hierarchy changed listener addtypehierarchychangedlistener i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot src i package fragment ipackagefragment frag root create package fragment createpackagefragment day spain assert creation assertcreation frag assert true asserttrue receive change received changereceived cleanup frag delete reset delete project deleteproject remove type hierarchy changed listener removetypehierarchychangedlistener project path type hierarchy project type hierarchy change test add external project testaddexternalproject core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener project get java model getjavamodel get workspace getworkspace get root getroot get project getproject new project newproject create assert true asserttrue receive change change received changereceived cleanup delete project deleteproject new project newproject remove type hierarchy changed listener removetypehierarchychangedlistener test adding listener test add listener twice testaddlistenertwice core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i compilation unit icompilationunit supercu get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add listener add type hierarchy changed listener addtypehierarchychangedlistener add type hierarchy changed listener addtypehierarchychangedlistener i file ifile file i file ifile supercu get underlying resource getunderlyingresource delete resource deleteresource file assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener type hierarchy change test add package testaddpackage core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener i package fragment root ipackagefragmentroot root get package fragment root getpackagefragmentroot type hierarchy notification typehierarchynotification src i package fragment ipackagefragment frag root create package fragment createpackagefragment assert creation assertcreation frag assert one change assertonechange cleanup remove type hierarchy changed listener removetypehierarchychangedlistener fragment root type hierarchy change test add package fragment root testaddpackagefragmentroot core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener prepare classpath entry root i classpath entry iclasspathentry originalcp project get raw classpath getrawclasspath i classpath entry iclasspathentry new entry newentry java core javacore new source entry newsourceentry project get project getproject get full path getfullpath append extra i classpath entry iclasspathentry newcp i classpath entry iclasspathentry originalcp length system arraycopy originalcp newcp originalcp length newcp originalcp length new entry newentry classpath project set raw classpath setrawclasspath newcp create actual resource root populate reset project get project getproject get folder getfolder extra create i package fragment root ipackagefragmentroot new root newroot get package fragment root getpackagefragmentroot type hierarchy notification typehierarchynotification extra assert true asserttrue root visible new root newroot assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener project path type hierarchy project type hierarchy change test add project testaddproject core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener prepare classpath entry project i classpath entry iclasspathentry originalcp project get raw classpath getrawclasspath i classpath entry iclasspathentry new entry newentry java core javacore new project entry newprojectentry path new project newproject i classpath entry iclasspathentry newcp i classpath entry iclasspathentry originalcp length system arraycopy originalcp newcp originalcp length newcp originalcp length new entry newentry classpath project set raw classpath setrawclasspath newcp create actual resource root populate reset i project iproject new project newproject project get java model getjavamodel get workspace getworkspace get root getroot get project getproject new project newproject i workspace runnable iworkspacerunnable create i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception new project newproject create new project newproject open get workspace getworkspace create i project description iprojectdescription description new project newproject get description getdescription description set nature ids setnatureids string java core javacore nature new project newproject set description setdescription description assert one change assertonechange delete project deleteproject new project newproject remove type hierarchy changed listener removetypehierarchychangedlistener file removed file int ersects intersects fragments type hierarchy type hierarchy changed int roduce introduce super type supertype test add remove class file testaddremoveclassfile core exception coreexception create type hierarchy java lang link age error linkageerror minimal zip i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit unit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src my error myerror java i type itype type unit get type gettype my error myerror i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener create patch folder add classpath i folder ifolder path folder pathfolder project get project getproject get folder getfolder patch path folder pathfolder create i classpath entry iclasspathentry new entry newentry java core javacore new library entry newlibraryentry path folder pathfolder get full path getfullpath i classpath entry iclasspathentry classpath project get raw classpath getrawclasspath i classpath entry iclasspathentry new class path newclasspath i classpath entry iclasspathentry classpath length new class path newclasspath new entry newentry system arraycopy classpath new class path newclasspath classpath length classpath set classpath setclasspath project new class path newclasspath create java lang patch i package fragment ipackagefragment project get package fragment roots getpackagefragmentroots create package fragment createpackagefragment java lang refresh test add ition addition error java lang replace error jcl hierarchy reset i file ifile file get project getproject type hierarchy notification typehierarchynotification get file getfile error i folder ifolder get underlying resource getunderlyingresource get file getfile error create file get contents getcontents assert one change assertonechange refresh assert equals assertequals superclass my error myerror error patch get class file getclassfile error get type gettype get superclass getsuperclass type test removal error reset delete resource deleteresource get class file getclassfile error get underlying resource getunderlyingresource assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener ensures changing modifiers focus type working copy reports hierarchy change save regression test bug test change focus modifier testchangefocusmodifier core exception coreexception i type hierarchy itypehierarchy i compilation unit icompilationunit working copy workingcopy create java project createjavaproject create folder createfolder create file createfile java working copy workingcopy get compilation unit getcompilationunit java working copy workingcopy become working copy becomeworkingcopy progress working copy workingcopy get type gettype new type hierarchy newtypehierarchy add type hierarchy changed listener addtypehierarchychangedlistener working copy workingcopy get buffer getbuffer set contents setcontents working copy workingcopy reconcile i compilation unit icompilationunit ast detection working copy workingcopy owner prgress working copy workingcopy commit working copy commitworkingcopy don force progress assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener working copy workingcopy working copy workingcopy discard working copy discardworkingcopy delete projects deleteprojects string ensures type hierarchy notification typehierarchynotification invalid project closed test close project testcloseproject exception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener assert true asserttrue exists java project javaproject get project getproject close assert true asserttrue invalid ated invalidated exists remove type hierarchy changed listener removetypehierarchychangedlistener ensures editing working copy buffer commit ting committing reconcile triggers type hierarchy notification regression test bug i compilation unit icompilationunit commit working copy commitworkingcopy doesn send type hierarchy changed typehierarchychanged test edit buffer testeditbuffer core exception coreexception i type hierarchy itypehierarchy i compilation unit icompilationunit working copy workingcopy create java project createjavaproject create folder createfolder create file createfile java working copy workingcopy get compilation unit getcompilationunit java working copy workingcopy become working copy becomeworkingcopy progress working copy workingcopy get type gettype new type hierarchy newtypehierarchy add type hierarchy changed listener addtypehierarchychangedlistener working copy workingcopy get buffer getbuffer set contents setcontents throwable working copy workingcopy commit working copy commitworkingcopy don force progress assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener working copy workingcopy working copy workingcopy discard working copy discardworkingcopy delete project deleteproject editing clause source type hierarchy not ified notified change test edit extends source type testeditextendssourcetype core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener change superclass change super changesuper assert one change assertonechange refresh change superclass reset change super changesuper assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener test add dependent project testadddependentproject core exception coreexception i type hierarchy itypehierarchy create java project createjavaproject create folder createfolder create file createfile java get compilation unit getcompilationunit java get type gettype new type hierarchy newtypehierarchy add type hierarchy changed listener addtypehierarchychangedlistener create java project createjavaproject string string string assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener delete projects deleteprojects string adding clause source type hierarchy not ified notified change regression test bug latest build fails updating type hierarchy notification typehierarchynotification test add extends source type testaddextendssourcetype core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener add superclass add super addsuper assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener adding clause source type hierarchy region not ified notified change regression test bug hierarchy refresh region test add extends source type testaddextendssourcetype core exception coreexception i type hierarchy itypehierarchy i compilation unit icompilationunit copy copy get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java copy become working copy becomeworkingcopy i region iregion region java core javacore new region newregion region add copy get parent getparent copy get java project getjavaproject new type hierarchy newtypehierarchy region add type hierarchy changed listener addtypehierarchychangedlistener add superclass string type name typename string new super newsuper string source copy get buffer getbuffer get contents getcontents super index superindex string new source newsource source substring super index superindex source index of indexof type name typename type name typename length new super newsuper source substring super index superindex copy get buffer getbuffer set contents setcontents new source newsource copy reconcile i compilation unit icompilationunit ast copy commit working copy commitworkingcopy assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener copy copy discard working copy discardworkingcopy primary working copy adding clause qualified hierarchy not ified notified change reconcile regression test bug type hierarchy typehierarchy doesn notify listeners add ition addition fully qualified subtypes test add extends source type testaddextendssourcetype core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit copy get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type hierarchy itypehierarchy copy become working copy becomeworkingcopy get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java get type gettype new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener add superclass string type name typename string new super newsuper string source copy get buffer getbuffer get contents getcontents super index superindex string new source newsource source substring super index superindex source index of indexof type name typename type name typename length new super newsuper source substring super index superindex copy get buffer getbuffer set contents setcontents new source newsource copy reconcile i compilation unit icompilationunit ast copy commit working copy commitworkingcopy assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener copy discard working copy discardworkingcopy editing source type hierarchy receive test edit external source type testeditexternalsourcetype core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src external java i field ifield field get type gettype external get field getfield field field delete assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener editing field source type hierarchy not ified notified change test edit field source type testeditfieldsourcetype core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener remove field don notification i field ifield field type get field getfield field string source field get source getsource field delete assert true asserttrue receive change change received changereceived add field don notification type create field createfield source assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener editing imports source type hierarchy not ified notified change test edit import source type testeditimportsourcetype core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener remove declaration i import declaration iimportdeclaration import decl importdecl get import getimport import decl importdecl delete assert one change assertonechange refresh remove remaining declarations reset import decl importdecl get import getimport import decl importdecl delete assert one change assertonechange refresh add reset create import createimport assert one change assertonechange refresh add reset create import createimport assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener editing source type hierarchy multi operation multioperation not ified notified change test edit source types testeditsourcetypes core exception coreexception tbd find cu s cus i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i compilation unit icompilationunit supercu get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener change visibility type batch operation java core javacore i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor change visibility changevisibility supercu change super changesuper java model exception javamodelexception assert true asserttrue exception assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener editing source type hierarchy not ified notified change change visibility type test edit super type testeditsupertype core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i compilation unit icompilationunit supercu get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type itype super type supertype supercu get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener delete field change i field ifield super field superfield super type supertype get field getfield super field superfield delete assert true asserttrue receive change change received changereceived change visibility change change visibility changevisibility supercu assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener involved compilation unit deleted type hierarchy change test remove compilation unit testremovecompilationunit core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i compilation unit icompilationunit supercu get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener i file ifile file i file ifile supercu get underlying resource getunderlyingresource delete resource deleteresource file assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener uninvolved compilation unit deleted type hierarchy change test remove external compilation unit testremoveexternalcompilationunit core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i compilation unit icompilationunit othercu get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src external java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener i file ifile file i file ifile othercu get underlying resource getunderlyingresource delete resource deleteresource file assert true asserttrue receive change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener uninvolved deleted type hierarchy change test remove external package testremoveexternalpackage core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener i package fragment ipackagefragment pkg get package fragment getpackagefragment type hierarchy notification typehierarchynotification src i folder ifolder folder i folder ifolder pkg get underlying resource getunderlyingresource delete resource deleteresource folder assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener fragment root removed classpath impact fragments type hierarchy change test remove external package fragment root testremoveexternalpackagefragmentroot core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener add classpath entry root i classpath entry iclasspathentry originalcp project get raw classpath getrawclasspath i classpath entry iclasspathentry new entry newentry java core javacore new source entry newsourceentry project get project getproject get full path getfullpath append extra i classpath entry iclasspathentry newcp i classpath entry iclasspathentry originalcp length system arraycopy originalcp newcp originalcp length newcp originalcp length new entry newentry classpath project set raw classpath setrawclasspath newcp create actual resource root populate reset project get project getproject get folder getfolder extra create i package fragment root ipackagefragmentroot new root newroot get package fragment root getpackagefragmentroot type hierarchy notification typehierarchynotification extra assert true asserttrue root visible new root newroot assert one change assertonechange refresh remove classpath entry impact type hierarchy reset project set raw classpath setrawclasspath originalcp assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener project deleted fragments impact type hierarchy type hierarchy change test remove external project testremoveexternalproject core exception coreexception create java project createjavaproject external string string jcl lib string type hierarchy notification typehierarchynotification create folder createfolder external create file createfile external java i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy add type hierarchy changed listener addtypehierarchychangedlistener delete project deleteproject external assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener delete project deleteproject external test removing listener type hierarchy not ifying notifying listeners test remove listener testremovelistener core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i compilation unit icompilationunit supercu get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project i type hierarchy changed listener itypehierarchychangedlistener listener i type hierarchy changed listener itypehierarchychangedlistener type hierarchy changed typehierarchychanged i type hierarchy itypehierarchy type hierarchy notification tests typehierarchynotificationtests change received changereceived type hierarchy notification tests typehierarchynotificationtests hierarchy type hierarchy notification tests typehierarchynotificationtests not ifications notifications remove type hierarchy changed listener removetypehierarchychangedlistener add type hierarchy changed listener addtypehierarchychangedlistener listener change visibility type batch operation get workspace getworkspace i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor change visibility changevisibility supercu change super changesuper java model exception javamodelexception assert true asserttrue exception assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener deleted type hierarchy change test remove package testremovepackage core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener i package fragment ipackagefragment pkg type get package fragment getpackagefragment delete resource deleteresource pkg get underlying resource getunderlyingresource assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener fragment root removed classpath type hierarchy change test remove package fragment roots testremovepackagefragmentroots core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener project set raw classpath setrawclasspath assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener project deleted fragments impact type hierarchy type hierarchy change invalid test remove project testremoveproject core exception coreexception io exception ioexception i type hierarchy itypehierarchy set u p java project setupjavaproject type hierarchy dependent typehierarchydependent i java project ijavaproject project get java project getjavaproject type hierarchy dependent typehierarchydependent i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy dependent typehierarchydependent dependent java i type itype type get type gettype dependent type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener sanity check assert equals assertequals superclass dependent get superclass getsuperclass type get fully qualified name getfullyqualifiedname delete project i resource iresource folder get java project getjavaproject type hierarchy notification typehierarchynotification get underlying resource getunderlyingresource delete resource deleteresource folder assert one change assertonechange assert true asserttrue exist exists refresh i type itype super type supertype get superclass getsuperclass type assert true asserttrue superclass dependent super type supertype delete project type lives folder get java project getjavaproject type hierarchy dependent typehierarchydependent get underlying resource getunderlyingresource delete resource deleteresource folder assert true asserttrue invalid ated invalidated exists delete project deleteproject type hierarchy dependent typehierarchydependent remove type hierarchy changed listener removetypehierarchychangedlistener type create type hierarchy notification typehierarchynotification deleted hierarchy invalid test remove type testremovetype core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener type delete assert true asserttrue invalid ated invalidated exists remove type hierarchy changed listener removetypehierarchychangedlistener involved compilation unit renamed type hierarchy change test rename compilation unit testrenamecompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener rename java assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener uninvolved compilation unit renamed type hierarchy change test rename external compilation unit testrenameexternalcompilationunit core exception coreexception i java project ijavaproject java project javaproject get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy java project javaproject add type hierarchy changed listener addtypehierarchychangedlistener i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src external java rename external java assert true asserttrue receive change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener ensures primary working copy trigger type hierarchy notification concerned hierarchy https bugs eclipse org bugs bug cgi test get working copy testgetworkingcopy core exception coreexception i type hierarchy itypehierarchy i compilation unit icompilationunit super copy supercopy i compilation unit icompilationunit a working copy aworkingcopy create java project createjavaproject create folder createfolder create file createfile java create file createfile java super copy supercopy get compilation unit getcompilationunit java super copy supercopy become working copy becomeworkingcopy progress super copy supercopy get type gettype new type hierarchy newtypehierarchy add type hierarchy changed listener addtypehierarchychangedlistener a working copy aworkingcopy get compilation unit getcompilationunit java get working copy getworkingcopy assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener a working copy aworkingcopy a working copy aworkingcopy discard working copy discardworkingcopy super copy supercopy super copy supercopy discard working copy discardworkingcopy delete project deleteproject ensures working copies owner type hierarchy listener https bugs eclipse org bugs bug cgi test owner testowner core exception coreexception i type hierarchy itypehierarchy i compilation unit icompilationunit a working copy aworkingcopy i compilation unit icompilationunit another working copy anotherworkingcopy create java project createjavaproject create folder createfolder create file createfile java a working copy aworkingcopy get compilation unit getcompilationunit java get working copy getworkingcopy a working copy aworkingcopy get type gettype new type hierarchy newtypehierarchy add type hierarchy changed listener addtypehierarchychangedlistener another working copy anotherworkingcopy get compilation unit getcompilationunit java get working copy getworkingcopy another working copy anotherworkingcopy get buffer getbuffer set contents setcontents throwable another working copy anotherworkingcopy commit working copy commitworkingcopy don force progress assert true asserttrue receive change change received changereceived remove type hierarchy changed listener removetypehierarchychangedlistener a working copy aworkingcopy a working copy aworkingcopy discard working copy discardworkingcopy another working copy anotherworkingcopy another working copy anotherworkingcopy discard working copy discardworkingcopy delete project deleteproject bug i type hierarchy changed listener itypehierarchychangedlistener receive spurious call backs callbacks test java resource folder fragment root doesn result type hierarchy changed event https bugs eclipse org bugs bug cgi core exception coreexception test bug testbug core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener i path ipath file path filepath project get project getproject get full path getfullpath append src append simple file simplefile txt create file createfile file path filepath toosstring simple text file assert true asserttrue receive change change received changereceived delete file deletefile file path filepath toosstring remove type hierarchy changed listener removetypehierarchychangedlistener additional test test relevant java source resource change type hierarchy change event https bugs eclipse org bugs bug cgi core exception coreexception test bug testbug core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i compilation unit icompilationunit get compilation unit getcompilationunit type hierarchy notification typehierarchynotification src java i type itype type get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener i path ipath file path filepath project get project getproject get full path getfullpath append src append append java create file createfile file path filepath toosstring assert one change assertonechange delete file deletefile file path filepath toosstring remove type hierarchy changed listener removetypehierarchychangedlistener additional test test relevant external archive change type hierarchy change event https bugs eclipse org bugs bug cgi core exception coreexception test bug testbug core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification refresh external archives refreshexternalarchives project string externaljclpathstring getexternaljclpathstring file jar file jarfile file externaljclpathstring old timestamp oldtimestamp jar file jarfile last modified lastmodified assert true asserttrue file exist jar file jarfile exists i type itype throwable class throwableclass get class file getclassfile type hierarchy notification typehierarchynotification externaljclpathstring java lang throwable get type gettype i type hierarchy itypehierarchy throwable class throwableclass new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener reset jar file jarfile set last modified setlastmodified system current time millis currenttimemillis refresh external archives refreshexternalarchives project assert one change assertonechange jar file jarfile set last modified setlastmodified old timestamp oldtimestamp remove type hierarchy changed listener removetypehierarchychangedlistener additional test test relevant archive change type hierarchy change event https bugs eclipse org bugs bug cgi core exception coreexception test bug testbug core exception coreexception i java project ijavaproject project get java project getjavaproject type hierarchy notification typehierarchynotification i path ipath jar path jarpath project get path getpath append test jar i file ifile jar file jarfile get file getfile jar path jarpath toosstring i type itype type get class file getclassfile type hierarchy notification typehierarchynotification jar path jarpath toosstring get type gettype i type hierarchy itypehierarchy type new type hierarchy newtypehierarchy project add type hierarchy changed listener addtypehierarchychangedlistener reset jar file jarfile touch refresh project assert one change assertonechange remove type hierarchy changed listener removetypehierarchychangedlistener not e note change type hierarchy changed typehierarchychanged i type hierarchy itypehierarchy type hierarchy typehierarchy change received changereceived hierarchy type hierarchy typehierarchy not ifications notifications
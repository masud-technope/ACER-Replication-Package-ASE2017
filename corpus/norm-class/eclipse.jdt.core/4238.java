copyright google rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors john glassmyer jogl google group sorting broken https bugs eclipse org org eclipse jdt internal core dom rewrite imports java util array list arraylist java util collections java util comparator java util hash set hashset java util list java util org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i package declaration ipackagedeclaration org eclipse jdt core java model exception javamodelexception org eclipse jdt internal core java project javaproject constructor parameter import rewrite analyzer importrewriteanalyzer configure behavior starting points factory methods link builder import rewrite configuration importrewriteconfiguration enum original import handling originalimporthandling specifies discard original imports totally sort imports organize imports operation discard override should remove original imports shouldremoveoriginalimports override should fix all line delimiters shouldfixalllinedelimiters override import adder importadder create import adder createimportadder comparator import name importname import comparator importcomparator reordering import adder reorderingimportadder import comparator importcomparator specifies original imports original order placing newly adjacent original closely matches preserve order override should remove original imports shouldremoveoriginalimports override should fix all line delimiters shouldfixalllinedelimiters override import adder importadder create import adder createimportadder comparator import name importname import comparator importcomparator order preserving import adder orderpreservingimportadder import comparator importcomparator import rewrite analyzer importrewriteanalyzer initialization mark original imports removal should remove original imports shouldremoveoriginalimports delimiters standard ized standardized pair adjacent imports delimiters corrected pairs adjacent imports adjacent originally should fix all line delimiters shouldfixalllinedelimiters creates link import adder importadder combine order existing imports import adder importadder create import adder createimportadder comparator import name importname import comparator importcomparator specifies sort declarations packages types enum import container sorting importcontainersorting sorts imports types lex icographic lexicographic order assuming imports belong group pre java net socket java util map java util java util map entry pre type override comparator import name importname create container comparator createcontainercomparator java project javaproject java project javaproject package and containing type import comparator packageandcontainingtypeimportcomparator sorts imports lex icographic lexicographic order assuming imports belong group pre java net socket java util map java util map entry java util pre override comparator import name importname create container comparator createcontainercomparator java project javaproject java project javaproject package import comparator packageimportcomparator java project javaproject comparator import name importname create container comparator createcontainercomparator java project javaproject java project javaproject specifies types considered implicitly imported declaration type compilation unit needed resolve conflict demand imports type simple link import rewrite analyzer importrewriteanalyzer require explicit import requireexplicitimport implicitly imported types considered conflicts deciding types packages reduced demand imports java lang integer considered implicitly imported prevent integer reduced demand enum implicit import identification implicitimportidentification specifies types packages considered implicitly imported java lang compilation unit rewritten java lang override string determine implicit import containers determineimplicitimportcontainers i compilation unit icompilationunit compilation unit compilationunit string implicit import container names implicitimportcontainernames hash set hashset string nls implicit import container names implicitimportcontainernames add nls java lang i java element ijavaelement package fragment packagefragment compilation unit compilationunit get parent getparent string compilation unit package name compilationunitpackagename package fragment packagefragment get element name getelementname compilation unit package name compilationunitpackagename is empty isempty package fragment packagefragment exists compilation unit compilationunit exists file build path java core javacore create i file ifile creates i compilation unit icompilationunit file parent folder fragment root wrong problem atic problematic import rewrite importrewrite doesn filtered event ually eventually leads unused statements i package declaration ipackagedeclaration package declarations packagedeclarations compilation unit compilationunit get package declarations getpackagedeclarations package declarations packagedeclarations length implicit import container names implicitimportcontainernames add package declarations packagedeclarations get element name getelementname implicit import container names implicitimportcontainernames java model exception javamodelexception implicit import container names implicitimportcontainernames add compilation unit package name compilationunitpackagename implicit import container names implicitimportcontainernames specifies types considered implicitly imported override string determine implicit import containers determineimplicitimportcontainers i compilation unit icompilationunit compilation unit compilationunit collections empty set emptyset string determine implicit import containers determineimplicitimportcontainers i compilation unit icompilationunit compilation unit compilationunit builder builder discarding original imports discardingoriginalimports builder original import handling originalimporthandling discard builder preserving original imports preservingoriginalimports builder original import handling originalimporthandling preserve order original import handling originalimporthandling original import handling originalimporthandling import container sorting importcontainersorting type container sorting typecontainersorting import container sorting importcontainersorting static container sorting staticcontainersorting implicit import identification implicitimportidentification implicit import identification implicitimportidentification list string import order importorder integer type on demand threshold typeondemandthreshold integer static on demand threshold staticondemandthreshold builder original import handling originalimporthandling original import handling originalimporthandling original import handling originalimporthandling original import handling originalimporthandling type container sorting typecontainersorting import container sorting importcontainersorting static container sorting staticcontainersorting import container sorting importcontainersorting type implicit import identification implicitimportidentification implicit import identification implicitimportidentification java lang import order importorder collections empty list emptylist type on demand threshold typeondemandthreshold static on demand threshold staticondemandthreshold builder set type container sorting settypecontainersorting import container sorting importcontainersorting type container sorting typecontainersorting type container sorting typecontainersorting type container sorting typecontainersorting builder set static container sorting setstaticcontainersorting import container sorting importcontainersorting static container sorting staticcontainersorting static container sorting staticcontainersorting static container sorting staticcontainersorting builder set implicit import identification setimplicitimportidentification implicit import identification implicitimportidentification implicit import identification implicitimportidentification implicit import identification implicitimportidentification implicit import identification implicitimportidentification builder set import order setimportorder list string import order importorder import order importorder collections unmodifiable list unmodifiablelist array list arraylist string import order importorder builder set type on demand threshold settypeondemandthreshold type on demand threshold typeondemandthreshold type on demand threshold typeondemandthreshold type on demand threshold typeondemandthreshold builder set static on demand threshold setstaticondemandthreshold static on demand threshold staticondemandthreshold static on demand threshold staticondemandthreshold static on demand threshold staticondemandthreshold import rewrite configuration importrewriteconfiguration build import rewrite configuration importrewriteconfiguration original import handling originalimporthandling original import handling originalimporthandling import container sorting importcontainersorting type container sorting typecontainersorting import container sorting importcontainersorting static container sorting staticcontainersorting implicit import identification implicitimportidentification implicit import identification implicitimportidentification list string import order importorder type on demand threshold typeondemandthreshold static on demand threshold staticondemandthreshold import rewrite configuration importrewriteconfiguration builder builder original import handling originalimporthandling builder original import handling originalimporthandling type container sorting typecontainersorting builder type container sorting typecontainersorting static container sorting staticcontainersorting builder static container sorting staticcontainersorting implicit import identification implicitimportidentification builder implicit import identification implicitimportidentification import order importorder builder import order importorder type on demand threshold typeondemandthreshold builder type on demand threshold typeondemandthreshold static on demand threshold staticondemandthreshold builder static on demand threshold staticondemandthreshold
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation ibm corporation org eclipse jdt compiler apt tests java byte array output stream bytearrayoutputstream java file java io exception ioexception java print writer printwriter java util array list arraylist java util collection java util collections java util list java util javax lang model source version sourceversion javax tools diagnostic javax tools diagnostic listener diagnosticlistener javax tools java compiler javacompiler javax tools java file object javafileobject javax tools tool provider toolprovider junit framework test case testcase test cases annotation processing behavior code semantic errors negative tests negativetests test case testcase test diagnostic listener testdiagnosticlistener diagnostic listener diagnosticlistener java file object javafileobject error info warning error counter errorcounter print writer printwriter writer test diagnostic listener testdiagnosticlistener print writer printwriter writer writer writer override report diagnostic java file object javafileobject diagnostic diagnostic get kind getkind error writer print diagnostic get message getmessage error counter errorcounter usages negative model proc negativemodelproc string negativemodelprocname org eclipse jdt compiler apt tests processors negative negative model proc negativemodelproc string inherited procname org eclipse jdt compiler apt tests processors inherited args constructor processor argsconstructorprocessor string ignore javac bugs ignorejavacbugs ignore javac bugs ignorejavacbugs override set up setup exception set up setup batch test utils batchtestutils init validate test negative model testnegativemodel test javac compiler test routines executed io exception ioexception test negative model with system compiler testnegativemodelwithsystemcompiler io exception ioexception java compiler javacompiler compiler tool provider toolprovider get system java compiler getsystemjavacompiler compiler system println system java compiler source version sourceversion source versions sourceversions compiler get source versions getsourceversions source versions sourceversions size test fail jdk internal test negative model internaltestnegativemodel compiler collections singleton list singletonlist ignore javac bugs ignorejavacbugs inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler inspect model resources targets negative negative eclipse compiler io exception ioexception test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler internal test negative model internaltestnegativemodel compiler https bugs eclipse org bugs bug cgi test negative model testnegativemodel with eclipse compiler witheclipsecompiler io exception ioexception java compiler javacompiler compiler batch test utils batchtestutils get eclipse compiler geteclipsecompiler system clear property clearproperty negativemodelprocname system clear property clearproperty inherited procname file target folder targetfolder test utils testutils concat path concatpath batch test utils batchtestutils get src folder name getsrcfoldername targets inherited batch test utils batchtestutils copy resources copyresources targets inherited target folder targetfolder invoke processing compiling targets model resources byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream print writer printwriter print writer printwriter print writer printwriter err buffer errbuffer test diagnostic listener testdiagnosticlistener diagnostic listener diagnosticlistener test diagnostic listener testdiagnosticlistener print writer printwriter success batch test utils batchtestutils compile tree with errors compiletreewitherrors compiler array list arraylist string target folder targetfolder diagnostic listener diagnosticlistener assert true asserttrue compilation failed expected errors didn success assert equals assertequals errors reported diagnostic listener diagnosticlistener error counter errorcounter print writer printwriter flush print writer printwriter close string expected errors expectederrors targets inherited test generic child testgenericchild lacks constructor args java awt point targets inherited test normal child testnormalchild lacks constructor args java awt point assert equals assertequals wrong output expected errors expectederrors string value of valueof err buffer errbuffer string property system get property getproperty inherited procname assert not null assertnotnull property processing place property assert equals assertequals succeeded property https bugs eclipse org bugs bug cgi test negative model testnegativemodel with system compiler withsystemcompiler io exception ioexception java compiler javacompiler compiler tool provider toolprovider get system java compiler getsystemjavacompiler compiler system println system java compiler system clear property clearproperty negativemodelprocname system clear property clearproperty inherited procname file target folder targetfolder test utils testutils concat path concatpath batch test utils batchtestutils get src folder name getsrcfoldername targets inherited batch test utils batchtestutils copy resources copyresources targets inherited target folder targetfolder invoke processing compiling targets model resources byte array output stream bytearrayoutputstream err buffer errbuffer byte array output stream bytearrayoutputstream print writer printwriter print writer printwriter print writer printwriter err buffer errbuffer test diagnostic listener testdiagnosticlistener diagnostic listener diagnosticlistener test diagnostic listener testdiagnosticlistener print writer printwriter success batch test utils batchtestutils compile tree with errors compiletreewitherrors compiler array list arraylist string target folder targetfolder diagnostic listener diagnosticlistener assert true asserttrue compilation failed expected errors didn success assert equals assertequals errors reported diagnostic listener diagnosticlistener error counter errorcounter print writer printwriter flush print writer printwriter close string property system get property getproperty inherited procname assert not null assertnotnull property processing place property assert equals assertequals succeeded property attempt report errors elements io exception ioexception internal test negative model internaltestnegativemodel java compiler javacompiler compiler test collection string extra options extraoptions io exception ioexception system clear property clearproperty negativemodelprocname file target folder targetfolder test utils testutils concat path concatpath batch test utils batchtestutils get src folder name getsrcfoldername targets negative batch test utils batchtestutils copy resources copyresources targets negative target folder targetfolder turn negative model proc negativemodelproc list string options array list arraylist string options add negativemodelprocname test extra options extraoptions options add all addall extra options extraoptions invoke processing compiling targets model resources success batch test utils batchtestutils compile tree with errors compiletreewitherrors compiler options target folder targetfolder assert true asserttrue compilation failed expected errors didn success succeeded processor property succeeded error string property system get property getproperty negativemodelprocname assert not null assertnotnull property processing place property assert equals assertequals succeeded property todo check errors expected values ensure problems correctly reported javadoc junit framework test case testcase tear down teardown override tear down teardown exception system clear property clearproperty negativemodelprocname tear down teardown
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite modifying java util list junit framework test org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core dom suppress warnings suppresswarnings rawtypes unchecked ast rewriting modifying replace test astrewritingmodifyingreplacetest ast rewriting modifying test astrewritingmodifyingtest ast rewriting modifying replace test astrewritingmodifyingreplacetest ast rewriting modifying replace test astrewritingmodifyingreplacetest string test all tests alltests suite test suite all tests alltests test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast root astroot getast new simple name newsimplename aaa ast root astroot get package getpackage set name setname string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append aaa buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast ast root astroot getast new simple name newsimplename aaa package declaration packagedeclaration pack new package declaration newpackagedeclaration pack set name setname ast root astroot set package setpackage pack string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append aaa buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java util buf append java lang buf append java awt buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast root astroot getast new simple name newsimplename aaa list imports ast root astroot imports import declaration importdeclaration imp import declaration importdeclaration imports imp set name setname string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append aaa buf append java lang buf append java awt buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java util buf append java lang buf append java awt buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types simple name simplename ast root astroot getast new simple name newsimplename aaa type declaration typedeclaration type declaration typedeclaration types set name setname string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append java util buf append java lang buf append java awt buf append aaa buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast ast root astroot getast list types ast root astroot types type declaration typedeclaration type declaration typedeclaration new type declaration newtypedeclaration simple name simplename new simple name newsimplename aaa type declaration typedeclaration set name setname types type declaration typedeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append aaa buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast ast root astroot getast list types ast root astroot types type declaration typedeclaration type declaration typedeclaration new type declaration newtypedeclaration type declaration typedeclaration set name setname new simple name newsimplename types type declaration typedeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append list get users getusers buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration list method decl methoddecl set return type setreturntype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append get users getusers buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append list get users getusers buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration list method decl methoddecl set return type setreturntype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append get users getusers buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append list get users getusers buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration list method decl methoddecl set return type setreturntype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append get users getusers buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append get users getusers list list buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration list list parameters method decl methoddecl parameters single variable declaration singlevariabledeclaration variable declaration variabledeclaration single variable declaration singlevariabledeclaration parameters variable declaration variabledeclaration set type settype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append get users getusers list buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append get users getusers list list buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration list list parameters method decl methoddecl parameters single variable declaration singlevariabledeclaration variable declaration variabledeclaration single variable declaration singlevariabledeclaration parameters variable declaration variabledeclaration set type settype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append get users getusers list buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append get users getusers list list buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration list list parameters method decl methoddecl parameters single variable declaration singlevariabledeclaration variable declaration variabledeclaration single variable declaration singlevariabledeclaration parameters variable declaration variabledeclaration set type settype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append get users getusers list buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append list list buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu getjls ast root astroot record modifications recordmodifications ast ast ast root astroot getast list types ast root astroot types list list type declaration typedeclaration types body declarations bodydeclarations field declaration fielddeclaration field declaration fielddeclaration field declaration fielddeclaration list field declaration fielddeclaration set type settype ast new primitive type newprimitivetype primitive type primitivetype string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append list buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi comments removed replaced node removed test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append string abc buf append buf append delete buf append buf append delete buf append buf append buf append abc buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method declaration methoddeclaration type declaration typedeclaration get methods getmethods block body method declaration methoddeclaration get body getbody list statements body statements variable declaration statement variabledeclarationstatement var declaration vardeclaration variable declaration statement variabledeclarationstatement statements statements remove statements var declaration vardeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append delete buf append buf append delete buf append buf append buf append string abc buf append buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi comments removed replaced node removed test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append string abc buf append buf append delete buf append buf append delete buf append buf append buf append delete buf append abc buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method declaration methoddeclaration type declaration typedeclaration get methods getmethods block body method declaration methoddeclaration get body getbody list statements body statements variable declaration statement variabledeclarationstatement var declaration vardeclaration variable declaration statement variabledeclarationstatement statements statements remove statements var declaration vardeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append delete buf append buf append delete buf append buf append buf append string abc buf append buf append assert equal string assertequalstring preview buf to string tostring
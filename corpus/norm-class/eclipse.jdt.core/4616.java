copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann stephan berlin contribution bug increment decrement operators mark local variables read org eclipse jdt core tests compiler regression java file java util array list arraylist java util map junit framework test junit framework test suite testsuite org eclipse jdt core tests junit extension test case testcase org eclipse jdt core tests util abstract compiler test abstractcompilertest org eclipse jdt core tests util util org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler impl compiler options compileroptions suppress warnings suppresswarnings unchecked rawtypes javadoc test javadoctest abstract regression test abstractregressiontest use library uselibrary string zip file test javadoc visibility testjavadocvisibility zip string separator system get property getproperty separator array list arraylist classes string doc comment support system get property getproperty doc support javadoc execution string javadoc file path separator char pathseparatorchar javadoc javadoc exe string javadoc command line header javadoccommandlineheader classes array list arraylist classes add javadoc bugs test javadocbugstest classes add javadoc test for method javadoctestformethod classes add javadoc test mixed javadoctestmixed classes add javadoc test for class javadoctestforclass classes add javadoc test for constructor javadoctestforconstructor classes add javadoc test for field javadoctestforfield classes add javadoc test for interface javadoctestforinterface classes add javadoc test options javadoctestoptions add test addtest test suite testsuite suite test class testclass test suite testsuite inner suite innersuite test suite testsuite test class testclass suite add test addtest inner suite innersuite test suite test suite testsuite test suite testsuite test suite testsuite javadoc test javadoctest get name getname reset for got ten forgotten sub sets subsets tests test case testcase tests prefix test case testcase tests names test case testcase tests numbers test case testcase tests range test case testcase size classes size size test class testclass classes test suite build all compliances test suite buildallcompliancestestsuite test class testclass test suite testsuite add test addtest suite compliance levels compliancelevels abstract compiler test abstractcompilertest get possible compliance levels getpossiblecompliancelevels compliance levels compliancelevels abstract compiler test abstractcompilertest test suite testsuite add test addtest build unique compliance test suite builduniquecompliancetestsuite javadoc test javadoctest class file constants classfileconstants jdk compliance levels compliancelevels abstract compiler test abstractcompilertest test suite testsuite add test addtest build unique compliance test suite builduniquecompliancetestsuite javadoc test javadoctest class file constants classfileconstants jdk compliance levels compliancelevels abstract compiler test abstractcompilertest test suite testsuite add test addtest build unique compliance test suite builduniquecompliancetestsuite javadoc test javadoctest class file constants classfileconstants jdk test suite testsuite test suite for compliance level suiteforcompliancelevel level test class testclass test suite testsuite suite regression test setup regressiontestsetup level build all compliances test suite buildallcompliancestestsuite suite test class testclass suite javadoc test javadoctest string map get compiler options getcompileroptions map options get compiler options getcompileroptions options compiler options compileroptions option report field hiding reportfieldhiding compiler options compileroptions ignore options compiler options compileroptions option report synthetic access emulation reportsyntheticaccessemulation compiler options compileroptions ignore options compiler options compileroptions option doc comment support doccommentsupport compiler options compileroptions enabled bug https bugs eclipse org bugs bug cgi options compiler options compileroptions option report invalid javadoc tags visibility reportinvalidjavadoctagsvisibility compiler options compileroptions options compiler options compileroptions option report invalid javadoc tags reportinvalidjavadoctags compiler options compileroptions enabled options compiler options compileroptions option report invalid javadoc tags deprecated ref reportinvalidjavadoctagsdeprecatedref compiler options compileroptions enabled options compiler options compileroptions option report invalid javadoc tags not visible ref reportinvalidjavadoctagsnotvisibleref compiler options compileroptions enabled options compiler options compileroptions option report missing javadoc tags visibility reportmissingjavadoctagsvisibility compiler options compileroptions options compiler options compileroptions option report missing serial version reportmissingserialversion compiler options compileroptions ignore options string get default class paths getdefaultclasspaths use library uselibrary string class libs classlibs get default class paths getdefaultclasspaths length class libs classlibs length string new class paths newclasspaths string length system arraycopy class libs classlibs new class paths newclasspaths length new class paths newclasspaths length get class getclass get resource getresource zip file get path getpath new class paths newclasspaths get default class paths getdefaultclasspaths string referenced classes referencedclasses referenced classes referencedclasses string test abstract visibility abstractvisibility java test abstract visibility abstractvisibility avc private avcprivate avf avf avf avm avf avc private avcprivate avf avf avm avm avc public avcpublic avf avf avf avm avf avc private avcprivate avf avf avm avm avf avf avf avm avf avc private avcprivate avf avf avm avm test visibility java test visibility abstract visibility abstractvisibility vc private vcprivate vc private vcprivate avf avf vc public vcpublic vc private vcprivate avf avf avf avf vc private vcprivate avf avf test copy visibility package visibilitypackage java test copy visibility package visibilitypackage vp private vpprivate vp private vpprivate vp public vppublic vp private vpprivate vp private vpprivate test copy visibility public visibilitypublic java test copy visibility public visibilitypublic vp private vpprivate vp private vpprivate vp public vppublic vp private vpprivate vp private vpprivate https bugs eclipse org bugs bug cgi additional diagnostics generated arr ange arrange referenced classes referencedclasses compiled automatically include diagnostics automatically expected messages string expected diagnostics from referenced classes expecteddiagnosticsfromreferencedclasses warning test abstract visibility abstractvisibility java avf avf field abstract visibility abstractvisibility avc private avcprivate avf warning test abstract visibility abstractvisibility java avm method avm type abstract visibility abstractvisibility avc private avcprivate locally warning test visibility java field visibility vc private vcprivate warning test visibility java method type visibility vc private vcprivate locally warning test copy visibility package visibilitypackage java field visibility package visibilitypackage vp private vpprivate warning test copy visibility package visibilitypackage java method type visibility package visibilitypackage vp private vpprivate locally warning test copy visibility public visibilitypublic java field visibility public visibilitypublic vp private vpprivate warning test copy visibility public visibilitypublic java method type visibility public visibilitypublic vp private vpprivate locally javadoc junit framework test case testcase set up setup set up setup exception set up setup javac javadoc command line header javadoccommandlineheader premature replace java javac locals depends potential reuse jdk root dir path jdkrootdirpath append bin append javadoc to string tostring shift indent javadoc junit framework test case testcase tear down teardown tear down teardown exception shift indent tear down teardown run conform reference test runconformreferencetest string test files testfiles string completed files completedfiles test files testfiles use library uselibrary completed files completedfiles string test files testfiles length referenced classes referencedclasses length system arraycopy referenced classes referencedclasses completed files completedfiles referenced classes referencedclasses length system arraycopy test files testfiles completed files completedfiles referenced classes referencedclasses length test files testfiles length run conform test runconformtest completed files completedfiles run negative reference test runnegativereferencetest string test files testfiles string expected run negative reference test runnegativereferencetest test files testfiles expected javac test options javactestoptions excuse eclipse warning configured as error eclipsewarningconfiguredaserror run negative reference test runnegativereferencetest string test files testfiles string expected javac test options javactestoptions javac test options javactestoptions string completed files completedfiles test files testfiles use library uselibrary completed files completedfiles string test files testfiles length referenced classes referencedclasses length system arraycopy referenced classes referencedclasses completed files completedfiles referenced classes referencedclasses length system arraycopy test files testfiles completed files completedfiles referenced classes referencedclasses length test files testfiles length expected expected diagnostics from referenced classes expecteddiagnosticsfromreferencedclasses expected run negative test runnegativetest completed files completedfiles expected javac test options javactestoptions javadoc org eclipse jdt core tests compiler regression abstract regression test abstractregressiontest run conform test runconformtest java lang string java lang string java lang string java lang string java util map org eclipse jdt internal compiler i compiler requestor icompilerrequestor run conform test runconformtest string test files testfiles string expected success output string expectedsuccessoutputstring string class lib classlib should flush output directory shouldflushoutputdirectory string vm arguments vmarguments map custom options customoptions i compiler requestor icompilerrequestor client requestor clientrequestor tests names tests prefix tests numbers tests range write files writefiles test files testfiles run conform test runconformtest test files testfiles expected success output string expectedsuccessoutputstring class lib classlib should flush output directory shouldflushoutputdirectory vm arguments vmarguments custom options customoptions client requestor clientrequestor javadoc org eclipse jdt core tests compiler regression abstract regression test abstractregressiontest run negative test runnegativetest java lang string java lang string java lang string java util map run negative test runnegativetest string test files testfiles string expected problem log expectedproblemlog string class lib classlib should flush output directory shouldflushoutputdirectory map custom options customoptions generate output generateoutput tests names tests prefix tests numbers tests range write files writefiles test files testfiles run negative test runnegativetest test files testfiles expected problem log expectedproblemlog class lib classlib should flush output directory shouldflushoutputdirectory custom options customoptions generate output generateoutput write files writefiles string test files testfiles substring string class dir name classdirname get class getclass get name getname substring get class getclass get name getname last index of lastindexof string test name testname get name getname idx test name testname index of indexof idx test name testname test name testname substring idx file dir file usr oti tests javadoc port able portable create output test directory createoutputtestdirectory class dir name classdirname create output test directory createoutputtestdirectory character to upper case touppercase test name testname char at charat test name testname substring system println write test file output test directory outputtestdirectory get path getpath length test files testfiles length length string contents test files testfiles string file name filename test files testfiles string dir file name dirfilename output test directory outputtestdirectory get path getpath file name filename index of indexof visibility file name filename last index of lastindexof string sub dirs subdirs file name filename substring string pack name packname sub dirs subdirs replace contents pack name packname contents substring contents index of indexof file dir file dir file name dirfilename sub dirs subdirs dir exists dir mkdirs javac util write to file writetofile contents dir file name dirfilename file name filename premature duplicate file file name filename file name filename substring util write to file writetofile contents dir file name dirfilename file name filename review don created level sun compilation javadoc implementation parent details run javac runjavac string test files testfiles string expected problem log expectedproblemlog string expected success output string expectedsuccessoutputstring should flush output directory shouldflushoutputdirectory string test name testname process compile process compileprocess init test test name testname test name testname clean up cleanup javac output dir needed file javac output directory javacoutputdirectory file javac output dir should flush output directory shouldflushoutputdirectory util delete javac output directory javacoutputdirectory write files dir write files writefiles test files testfiles prepare command string buffer stringbuffer cmd line cmdline string buffer stringbuffer javadoc command line header javadoccommandlineheader compute extra classpath string classpath util concat with class libs concatwithclasslibs javac output dir string buffer stringbuffer string buffer stringbuffer classpath length classpath length length append file path separator char pathseparatorchar classpath index of indexof append classpath append classpath cmd line cmdline append add source files test files testfiles length java java java cmd line cmdline append cmd line cmdline append test files testfiles launch process compile process compileprocess runtime get runtime getruntime exec cmd line cmdline to string tostring output test directory outputtestdirectory log errors logger error logger errorlogger logger compile process compileprocess get error stream geterrorstream error log output logger output logger outputlogger logger compile process compileprocess get input stream getinputstream output start threads out puts outputs standard error error logger errorlogger start output logger outputlogger start wait process exit value exitvalue compile process compileprocess wait for waitfor output error logger errorlogger join output logger outputlogger join report raw javadoc test name testname equals javac test name javactestname javac test name javactestname test name testname javac test error flag javactesterrorflag javac full log javacfulllog println javac full log javacfulllog println current test name testname exit value exitvalue javac test error flag javactesterrorflag error logger errorlogger buffer length javac full log javacfulllog println javac err javac full log javacfulllog println error logger errorlogger buffer to string tostring output logger outputlogger buffer length javac full log javacfulllog println javac javac full log javacfulllog println output logger outputlogger buffer to string tostring compare compilation expected problem log expectedproblemlog expected problem log expectedproblemlog length eclipse error warning exit value exitvalue javac errors system println system println test name testname javadoc error eclipse expects conform result javac full log javacfulllog println javac mismatch javadoc error eclipse expects conform result system println error logger errorlogger buffer to string tostring print files printfiles test files testfiles diff counters javac error warnings error logger errorlogger buffer length system println system println test name testname javadoc warning eclipse expects conform result javac full log javacfulllog println javac mismatch javadoc warning eclipse expects conform result system println error logger errorlogger buffer to string tostring print files printfiles test files testfiles diff counters eclipse errors warnings error logger errorlogger buffer length system println system println test name testname eclipse error warning javadoc find javac full log javacfulllog println javac mismatch eclipse error warning javadoc find dual print ln dualprintln eclipse dual print ln dualprintln expected problem log expectedproblemlog print files printfiles test files testfiles diff counters expected problem log expectedproblemlog index of indexof error exit value exitvalue system println system println test name testname eclipse error javadoc warning javac full log javacfulllog println javac mismatch eclipse error javadoc warning dual print ln dualprintln eclipse dual print ln dualprintln expected problem log expectedproblemlog system println javadoc system println error logger errorlogger buffer to string tostring print files printfiles test files testfiles diff counters premature refine comparison todo frederic compare warnings result verify system println test name testname javac warnings system print error logger errorlogger buffer to string tostring system println test name testname expecting warning system println expected problem log expectedproblemlog interrupted exception interruptedexception compile process compileprocess compile process compileprocess destroy system println test name testname sun javadoc compilation aborted javac full log javacfulllog println javac warning sun javadoc compilation aborted print stack trace printstacktrace javac full log javacfulllog throwable system println test name testname launch sun javadoc compilation print stack trace printstacktrace javac full log javacfulllog println javac error launch sun javac compilation print stack trace printstacktrace javac full log javacfulllog util delete output test directory outputtestdirectory print javac results summary printjavacresultssummary javac integer count integer tests counters current count new count newcount count int value intvalue tests counters current integer value of valueof new count newcount new count newcount diff counters diff counters diff counters dual print ln dualprintln dual print ln dualprintln summary diff counters dual print ln dualprintln diff counters test javadoc errors warnings eclipse diff counters dual print ln dualprintln diff counters test eclipse errors warnings javadoc system println javac full log javacfulllog flush
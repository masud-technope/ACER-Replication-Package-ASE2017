copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation thirumala red dy reddy mutchukota thirumala google contribution bug https bugs eclipse org bugs bug cgi t erry terry parker tparker google performance hit rates java model javamodel caches https bugs eclipse org vladimir piskarev pisv building large java element deltas slow https bugs eclipse org org eclipse jdt core tests performance java byte array input stream bytearrayinputstream java file java io exception ioexception java print stream printstream java util array list arraylist junit framework test org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core resources i project description iprojectdescription org eclipse core resources i resource iresource org eclipse core resources i workspace iworkspace org eclipse core resources i workspace root iworkspaceroot org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core resources resources plugin resourcesplugin org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime path org eclipse jdt core i class file iclassfile org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i initializer iinitializer org eclipse jdt core i java element ijavaelement org eclipse jdt core i java model ijavamodel org eclipse jdt core i java project ijavaproject org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i problem requestor iproblemrequestor org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core working copy owner workingcopyowner org eclipse jdt core dom ast org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core search i java search constants ijavasearchconstants org eclipse jdt core search i java search scope ijavasearchscope org eclipse jdt core search search engine searchengine org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt core search search requestor searchrequestor org eclipse jdt core search type name requestor typenamerequestor org eclipse jdt core tests model abstract java model tests abstractjavamodeltests org eclipse jdt core tests model abstract java model tests abstractjavamodeltests problem requestor problemrequestor org eclipse jdt internal core default working copy owner defaultworkingcopyowner org eclipse jdt internal core i java element requestor ijavaelementrequestor org eclipse jdt internal core java element javaelement org eclipse jdt internal core java project javaproject org eclipse jdt internal core name lookup namelookup org eclipse test performance performance suppress warnings suppresswarnings rawtypes unchecked full source workspace model tests fullsourceworkspacemodeltests full source workspace tests fullsourceworkspacetests i java search constants ijavasearchconstants tests count ers counters tests count warmup count folders count packages count tests length internal synonym deprecated constant ast jsl all eviate alleviate deprecation warnings deprecated jls internal ast jls log file str eams streams print stream printstream log streams print stream printstream dim names length type path i path ipath big project type path i compilation unit icompilationunit working copy param full source workspace model tests fullsourceworkspacemodeltests string tests names string test perf name lookup find known secondary type testperfnamelookupfindknownsecondarytype test perf name lookup find unknown type testperfnamelookupfindunknowntype test perf reconcile testperfreconcile test perf search all type names and reconcile testperfsearchalltypenamesandreconcile tests prefix test perf reconcile testperfreconcile test suite test suite build suite buildsuite test class testclass tests length tests count suite count test cases counttestcases create print stream createprintstream test class testclass log streams tests count suite test class testclass full source workspace model tests fullsourceworkspacemodeltests set up setup exception set up setup set up big project setupbigproject set up big jars setupbigjars set up big project setupbigproject core exception coreexception io exception ioexception i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace i workspace root iworkspaceroot workspace root workspaceroot workspace get root getroot string target workspace path targetworkspacepath workspace root workspaceroot get location getlocation to file tofile get canonical path getcanonicalpath start system current time millis currenttimemillis print log project creation troubles file wksp dir wkspdir file target workspace path targetworkspacepath file project dir projectdir file wksp dir wkspdir big project project dir projectdir exists system print add existing project big project workspace root workspaceroot get location getlocation workspace i project iproject big project bigproject workspace root workspaceroot get project getproject big project big project bigproject exists env add project addproject big project bigproject env add project addproject big project big project java project javaproject env get java project getjavaproject big project big project set raw classpath setrawclasspath big project get raw classpath getrawclasspath system println create project big project workspace root workspaceroot get location getlocation setup projects source folders packages source folder system println create folders count folders packages count packages string source folders sourcefolders string folders count folders count source folders sourcefolders src string path workspace root workspaceroot get location getlocation to string tostring big project bigproject src folders count print system print folder src top system current time millis currenttimemillis packages count java file path org eclipse jdt core tests performance mkdirs print system println system current time millis currenttimemillis top system println global time system current time millis currenttimemillis start seconds add project workspace start system current time millis currenttimemillis system print add project full source workspace env add project addproject big project big project java project javaproject create java project createjavaproject big project source folders sourcefolders bin big project set raw classpath setrawclasspath big project get raw classpath getrawclasspath system println system current time millis currenttimemillis start add secondary type system print create compilation unit secondary type start system current time millis currenttimemillis big project type path path big project bigproject src folders count org eclipse jdt core tests folders count performance packages count test big project testbigproject java i file ifile file workspace root workspaceroot get file getfile big project type path file exists string content org eclipse jdt core tests folders count performance packages count test big project testbigproject level level level level level level level level level level test secondary testsecondary file create byte array input stream bytearrayinputstream content get bytes getbytes working copy i compilation unit icompilationunit java core javacore create file system println system current time millis currenttimemillis start delete project set up big jars setupbigjars exception string big project location bigprojectlocation big project get resource getresource get location getlocation toosstring size packages count file big jar bigjar file big project location bigprojectlocation big jar big jar bigjar exists string path and contents pathandcontents string size size path and contents pathandcontents java path and contents pathandcontents org eclipse jdt core tests util util create jar createjar path and contents pathandcontents big jar bigjar get path getpath big project get project getproject refresh local refreshlocal i resource iresource depth infinite file big jar bigjar file big project location bigprojectlocation big jar big jar bigjar exists string path and contents pathandcontents string size size path and contents pathandcontents java path and contents pathandcontents org eclipse jdt core tests util util create jar createjar path and contents pathandcontents big jar bigjar get path getpath big project get project getproject refresh local refreshlocal i resource iresource depth infinite javadoc junit framework test case testcase tear down teardown tear down teardown exception execution test tests count log per f perf result log dir log perf result logperfresult log streams tests count print statistics tests count system println system println model performance test statistics number format numberformat int format intformat number format numberformat get integer instance getintegerinstance system println tear down teardown simple search result collector count matches java search result collector javasearchresultcollector search requestor searchrequestor count accept search match acceptsearchmatch search match searchmatch match core exception coreexception count search string pattern string patternstring search for searchfor limit to limitto core exception coreexception match mode matchmode pattern string patternstring index of indexof pattern string patternstring index of indexof search pattern searchpattern pattern match search pattern searchpattern exact match search pattern searchpattern pattern search pattern searchpattern create pattern createpattern pattern string patternstring search for searchfor limit to limitto match mode matchmode search pattern searchpattern sensitive result collector resultcollector java search result collector javasearchresultcollector search engine searchengine search pattern search participant searchparticipant search engine searchengine get default search participant getdefaultsearchparticipant scope result collector resultcollector search all type names searchalltypenames i java search scope ijavasearchscope scope core exception coreexception type name counter typenamecounter type name requestor typenamerequestor count accept type accepttype modifiers package name packagename simple type name simpletypename enclosing type names enclosingtypenames string path count type name counter typenamecounter requestor type name counter typenamecounter search engine searchengine search all type names searchalltypenames search pattern searchpattern exact match sensitive search pattern searchpattern prefix match i java search constants ijavasearchconstants type scope requestor wait ready search assert true asserttrue type requestor count org eclipse jdt core tests model abstract java model tests abstractjavamodeltests assert element equals assertelementequals string string i java element ijavaelement assert element equals assertelementequals string message string expected i java element ijavaelement element string actual element java element javaelement element to string with ancestors tostringwithancestors expected equals actual system println get name getname actual result system println actual assert equals assertequals message expected actual org eclipse jdt core tests model abstract java model tests abstractjavamodeltests assert elements equal assertelementsequal string string i java element ijavaelement assert elements equal assertelementsequal string message string expected i java element ijavaelement elements assert elements equal assertelementsequal message expected elements org eclipse jdt core tests model abstract java model tests abstractjavamodeltests assert elements equal assertelementsequal string string i java element ijavaelement assert elements equal assertelementsequal string message string expected i java element ijavaelement elements show resolved info showresolvedinfo string buffer stringbuffer buffer string buffer stringbuffer elements length elements length length java element javaelement element java element javaelement elements element buffer append buffer append element to string with ancestors tostringwithancestors show resolved info showresolvedinfo length buffer append buffer append string actual buffer to string tostring expected equals actual system println get name getname actual result system println actual assert equals assertequals message expected actual touch files touchfiles file files files length files set last modified setlastmodified system current time millis currenttimemillis creates simple java project source folder jar classpath i java project ijavaproject create java project createjavaproject string core exception coreexception i project iproject project resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject project exists project delete project create project open i project description iprojectdescription description project get description getdescription description set nature ids setnatureids string java core javacore nature project set description setdescription description i java project ijavaproject java project javaproject java core javacore create project java project javaproject set raw classpath setrawclasspath i classpath entry iclasspathentry java core javacore new variable entry newvariableentry path jre lib java project javaproject name lookup namelookup get name lookup getnamelookup java project javaproject project java model exception javamodelexception project new name lookup newnamelookup working copy owner workingcopyowner performance tests model find type lookup wait started indexing jobs perform test perform find measure performance warm test name lookup find known type testnamelookupfindknowntype core exception coreexception wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace warmup count name lookup namelookup name lookup namelookup big project new name lookup newnamelookup default working copy owner defaultworkingcopyowner primary i type itype type name lookup namelookup find type findtype full qualified name fullqualifiedname full match name lookup namelookup accept assert not null assertnotnull find type full qualified name fullqualifiedname project big project type measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring name lookup namelookup name lookup namelookup big project new name lookup newnamelookup default working copy owner defaultworkingcopyowner primary name lookup namelookup find type findtype full qualified name fullqualifiedname full match name lookup namelookup accept stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find secondary type lookup wait started indexing jobs perform test perform find measure performance warm test name lookup find known secondary type testnamelookupfindknownsecondarytype core exception coreexception wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments remove last segments removelastsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace test secondary testsecondary warmup count name lookup namelookup name lookup namelookup big project new name lookup newnamelookup default working copy owner defaultworkingcopyowner primary i type itype type name lookup namelookup find type findtype full qualified name fullqualifiedname full match name lookup namelookup accept log version compare to compareto assert not null assertnotnull find type full qualified name fullqualifiedname project big project type measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring name lookup namelookup name lookup namelookup big project new name lookup newnamelookup default working copy owner defaultworkingcopyowner primary name lookup namelookup find type findtype full qualified name fullqualifiedname full match name lookup namelookup accept stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find unknown type lookup wait started indexing jobs perform test perform find measure performance warm test name lookup find unknown type testnamelookupfindunknowntype core exception coreexception wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments remove last segments removelastsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace unknown warmup count name lookup namelookup name lookup namelookup big project new name lookup newnamelookup default working copy owner defaultworkingcopyowner primary i type itype type name lookup namelookup find type findtype full qualified name fullqualifiedname full match name lookup namelookup accept assert null assertnull find unknown type project big project type measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring name lookup namelookup name lookup namelookup big project new name lookup newnamelookup default working copy owner defaultworkingcopyowner primary name lookup namelookup find type findtype full qualified name fullqualifiedname full match name lookup namelookup accept stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find type wait started indexing jobs perform test perform find measure performance warm test project find known type testprojectfindknowntype core exception coreexception fingerprint tag as summary tagassummary find type project wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace warmup count i type itype type big project find type findtype full qualified name fullqualifiedname assert not null assertnotnull find type full qualified name fullqualifiedname project big project type measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring big project find type findtype full qualified name fullqualifiedname stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find member type wait started indexing jobs perform test perform find measure performance warm test project find known member type testprojectfindknownmembertype core exception coreexception fingerprint tag as summary tagassummary find member type project wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace full qualified name fullqualifiedname level warmup count i type itype type big project find type findtype full qualified name fullqualifiedname assert not null assertnotnull find type full qualified name fullqualifiedname project big project type measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring big project find type findtype full qualified name fullqualifiedname stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find secondary type wait started indexing jobs perform test perform find measure performance warm test project find known secondary type testprojectfindknownsecondarytype core exception coreexception fingerprint tag as summary tagassummary find secondary type project wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments remove last segments removelastsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace test secondary testsecondary warmup count big project find type findtype full qualified name fullqualifiedname measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring big project find type findtype full qualified name fullqualifiedname stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find unknown type wait started indexing jobs perform test perform find measure performance warm test project find unknown type testprojectfindunknowntype core exception coreexception fingerprint tag as summary tagassummary find unknown type project wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments remove last segments removelastsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace unknown warmup count i type itype type big project find type findtype full qualified name fullqualifiedname assert null assertnull find unknown type project big project type measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring big project find type findtype full qualified name fullqualifiedname stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance tests model find unknown type reset ting resetting classpath regression test https bugs eclipse org bugs bug cgi test project find unknown type after set classpath testprojectfindunknowntypeaftersetclasspath core exception coreexception fingerprint tag as summary tagassummary find unknown type project reset ting resetting classpath wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready find type findtype pop ulates populates fragment roots java model cache string full qualified name fullqualifiedname big project type path remove file extension removefileextension remove first segments removefirstsegments remove last segments removelastsegments to string tostring full qualified name fullqualifiedname full qualified name fullqualifiedname replace unknown i type itype type big project find type findtype full qualified name fullqualifiedname assert null assertnull find unknown type project big project type reset classpath big project set raw classpath setrawclasspath big project get raw classpath getrawclasspath warm warmup count big project find type findtype full qualified name fullqualifiedname measures reset count ers resetcounters measures count run gc rungc start measuring startmeasuring big project find type findtype full qualified name fullqualifiedname stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance ensures reconciler source reconcile current contents test perf reconcile testperfreconcile core exception coreexception global fingerprint tag as global summary tagasglobalsummary reconcile editor change wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm i compilation unit icompilationunit working copy workingcopy problem requestor problemrequestor requestor problem requestor problemrequestor working copy owner workingcopyowner owner working copy owner workingcopyowner i problem requestor iproblemrequestor get problem requestor getproblemrequestor i compilation unit icompilationunit requestor working copy workingcopy parser working copy get working copy getworkingcopy owner warmup warmup count warmup compilation unit compilationunit unit working copy workingcopy reconcile jls internal assert not null assertnotnull compilation unit unit assert not null assertnotnull bindings resolved unit get package getpackage resolve binding resolvebinding measures reset count ers resetcounters iterations measures count run gc rungc start measuring startmeasuring iterations working copy workingcopy reconcile jls internal stop measuring stopmeasuring working copy workingcopy discard working copy discardworkingcopy commit commit measurements commitmeasurements assert performance assertperformance ensures performance reconcile big syntax errors accept able acceptable regression test bug range util rangeutil is in interval isininterval takes amount time editing test perf reconcile big file with syntax error testperfreconcilebigfilewithsyntaxerror java model exception javamodelexception fingerprint tag as summary tagassummary reconcile editor change big file syntax error build big file contents string method bar exception foo bar foo exception system println success main string args exception bar exception string buffer stringbuffer big contents bigcontents string buffer stringbuffer big contents bigcontents append bigcu foo index fooindex add methods source close foo index fooindex big contents bigcontents append foo big contents bigcontents append foo index fooindex big contents bigcontents append method don add closing def syntax error i compilation unit icompilationunit working copy workingcopy setup working copy workingcopy i compilation unit icompilationunit java core javacore create resources plugin resourcesplugin get workspace getworkspace get root getroot get file getfile path big project bigproject src org eclipse jdt core tests big cu bigcu java working copy workingcopy become working copy becomeworkingcopy warm warmup warmup count warmup working copy workingcopy get buffer getbuffer set contents setcontents big contents bigcontents append to string tostring working copy workingcopy reconcile jls internal detection owner progress measures reset count ers resetcounters measures count working copy workingcopy get buffer getbuffer set contents setcontents big contents bigcontents append to string tostring run gc rungc start measuring startmeasuring working copy workingcopy reconcile jls internal detection owner progress stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance working copy workingcopy working copy workingcopy discard working copy discardworkingcopy ensures performance reconcile lots duplicates accept able acceptable regression test bug https bugs eclipse org bugs bug cgi test reconcile duplicates testreconcileduplicates java model exception javamodelexception fingerprint tag as summary tagassummary reconcile editor change file lots duplicates build big file contents string buffer stringbuffer contents string buffer stringbuffer contents append cu with duplicates cuwithduplicates foo index fooindex add duplicate methods foo index fooindex contents append foo contents append foo index fooindex ensure ends comment edited contents append i compilation unit icompilationunit working copy workingcopy setup working copy workingcopy i compilation unit icompilationunit java core javacore create resources plugin resourcesplugin get workspace getworkspace get root getroot get file getfile path big project bigproject src cu with duplicates cuwithduplicates java working copy workingcopy become working copy becomeworkingcopy warm warmup warmup count warmup working copy workingcopy get buffer getbuffer set contents setcontents contents append to string tostring working copy workingcopy reconcile jls internal detection owner progress measures reset count ers resetcounters measures count working copy workingcopy get buffer getbuffer set contents setcontents contents append to string tostring run gc rungc start measuring startmeasuring working copy workingcopy reconcile jls internal detection owner progress stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance working copy workingcopy working copy workingcopy discard working copy discardworkingcopy ensures performance reconcile deleting lots members accept able acceptable regression test bug building large java element deltas slow test perf delete lots of members and reconcile testperfdeletelotsofmembersandreconcile java model exception javamodelexception fingerprint tag as summary tagassummary reconcile editor change deleting lots members build big file contents string buffer stringbuffer contents string buffer stringbuffer contents append lots of members lotsofmembers foo index fooindex add methods foo index fooindex contents append foo contents append foo index fooindex contents append contents append init ially initially members string old contents oldcontents contents to string tostring members string new contents newcontents lots of members lotsofmembers i compilation unit icompilationunit working copy workingcopy setup working copy workingcopy i compilation unit icompilationunit java core javacore create resources plugin resourcesplugin get workspace getworkspace get root getroot get file getfile path big project bigproject src lots of members lotsofmembers java working copy workingcopy become working copy becomeworkingcopy warm warmup warmup count warmup working copy workingcopy get buffer getbuffer set contents setcontents old contents oldcontents working copy workingcopy reconcile jls internal detection owner progress working copy workingcopy get buffer getbuffer set contents setcontents new contents newcontents working copy workingcopy reconcile jls internal detection owner progress measures reset count ers resetcounters measures count working copy workingcopy get buffer getbuffer set contents setcontents old contents oldcontents working copy workingcopy reconcile jls internal detection owner progress working copy workingcopy get buffer getbuffer set contents setcontents new contents newcontents run gc rungc start measuring startmeasuring working copy workingcopy reconcile jls internal detection owner progress stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance working copy workingcopy working copy workingcopy discard working copy discardworkingcopy ensures performance reconcile creating fragment batch operation accept able acceptable regression test bug jar package fragment root jarpackagefragmentroot compute children computechildren slow test perf batch create package and reconcile testperfbatchcreatepackageandreconcile core exception coreexception fingerprint tag as summary tagassummary reconcile editor change creating fragment batch operation i java project ijavaproject project project create java project createjavaproject i file ifile big jar bigjar big project get project getproject get file getfile big jar i file ifile big jar bigjar big project get project getproject get file getfile big jar project set raw classpath setrawclasspath i classpath entry iclasspathentry java core javacore new source entry newsourceentry project get path getpath java core javacore new library entry newlibraryentry big jar bigjar get full path getfullpath java core javacore new library entry newlibraryentry big jar bigjar get full path getfullpath i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot project get project getproject i compilation unit icompilationunit working copy workingcopy root get package fragment getpackagefragment create compilation unit createcompilationunit java working copy workingcopy become working copy becomeworkingcopy abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild warm i compilation unit icompilationunit copy working copy workingcopy i workspace runnable iworkspacerunnable runnable i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception root create package fragment createpackagefragment don force monitor copy reconcile jls internal monitor warmup warmup count warmup copy reconcile jls internal monitor java core javacore runnable root get package fragment getpackagefragment delete don force measures reset count ers resetcounters runnable i workspace runnable iworkspacerunnable i progress monitor iprogressmonitor monitor core exception coreexception root create package fragment createpackagefragment don force monitor copy reconcile jls internal monitor iterations start measuring startmeasuring iterations copy reconcile jls internal monitor stop measuring stopmeasuring measures count run gc rungc java core javacore runnable root get package fragment getpackagefragment delete don force working copy workingcopy discard working copy discardworkingcopy commit commit measurements commitmeasurements assert performance assertperformance project project get project getproject delete ensures reconciler source reconcile current contents test perf search all type names and reconcile testperfsearchalltypenamesandreconcile core exception coreexception fingerprint tag as summary tagassummary reconcile editor change complete wait indexing abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready warm i compilation unit icompilationunit working copy workingcopy problem requestor problemrequestor requestor problem requestor problemrequestor working copy owner workingcopyowner owner working copy owner workingcopyowner i problem requestor iproblemrequestor get problem requestor getproblemrequestor i compilation unit icompilationunit requestor working copy workingcopy parser working copy get working copy getworkingcopy owner i java search scope ijavasearchscope scope search engine searchengine create java search scope createjavasearchscope i java element ijavaelement jdt core project warmup warmup count warmup search all type names searchalltypenames scope compilation unit compilationunit unit working copy workingcopy reconcile jls internal assert not null assertnotnull compilation unit unit assert not null assertnotnull bindings resolved unit get package getpackage resolve binding resolvebinding measures iterations reset count ers resetcounters measures count run gc rungc start measuring startmeasuring iterations search all type names searchalltypenames scope working copy workingcopy reconcile jls internal stop measuring stopmeasuring working copy workingcopy discard working copy discardworkingcopy commit commit measurements commitmeasurements assert performance assertperformance performance test opening files big jars fill java model cache pkgs opened bug java outline eclipse lock test populate two big jars testpopulatetwobigjars core exception coreexception i java project ijavaproject project project create java project createjavaproject huge jar project hugejarproject i file ifile big jar bigjar big project get project getproject get file getfile big jar i file ifile big jar bigjar big project get project getproject get file getfile big jar project set raw classpath setrawclasspath i classpath entry iclasspathentry java core javacore new library entry newlibraryentry big jar bigjar get full path getfullpath java core javacore new library entry newlibraryentry big jar bigjar get full path getfullpath abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot big jar bigjar i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot big jar bigjar warm max warmup warmup count warmup project close max root get package fragment getpackagefragment open root get package fragment getpackagefragment open measure performance measures count project close run gc rungc start measuring startmeasuring max root get package fragment getpackagefragment open root get package fragment getpackagefragment open stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance project project get project getproject delete performance test fragments bug slow code assist display view test see k package fragments testseekpackagefragments core exception coreexception assert not null assertnotnull big project bigproject workspace big project package requestor packagerequestor i java element requestor ijavaelementrequestor array list arraylist pkgs array list arraylist accept field acceptfield i field ifield field accept initializer acceptinitializer i initializer iinitializer initializer accept member type acceptmembertype i type itype type accept method acceptmethod i method imethod method accept package fragment acceptpackagefragment i package fragment ipackagefragment package fragment packagefragment pkgs pkgs add package fragment packagefragment accept type accepttype i type itype type is canceled iscanceled pass ensure loaded ensure test works expected package requestor packagerequestor requestor package requestor packagerequestor warmup count get name lookup getnamelookup big project see k package fragments seekpackagefragments org eclipse jdt core tests performance partial match requestor size requestor pkgs size i java element ijavaelement result i java element ijavaelement size requestor pkgs to array toarray result assert elements equal assertelementsequal unexpected packages org eclipse jdt core tests performance src big project result measure performance requestor pkgs reset count ers resetcounters measures count run gc rungc start measuring startmeasuring get name lookup getnamelookup big project see k package fragments seekpackagefragments org eclipse jdt core tests performance partial match requestor stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance test close projects testcloseprojects java model exception javamodelexception fingerprint tag as summary tagassummary close workspace projects warm length projects length wmax warmup count wmax length env close project closeproject projects get path getpath length env open project openproject projects get path getpath measures measures count abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready run gc rungc start measuring startmeasuring length env close project closeproject projects get path getpath stop measuring stopmeasuring length env open project openproject projects get path getpath commit commit measurements commitmeasurements assert performance assertperformance tests performance java core javacore create i resource iresource https bugs eclipse org bugs bug cgi test create java element testcreatejavaelement core exception coreexception setup force project cache created i file ifile file i file ifile working copy get resource getresource get name lookup getnamelookup big project warm warmup warmup count iterations warmup iterations java core javacore create file measure performance measures count run gc rungc start measuring startmeasuring iterations java core javacore create file stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance testinitjdtplugin java model exception javamodelexception core exception coreexception fingerprint tag as summary tagassummary jdt core plugin initialization set comment setcomment performance explains degradation comment bug extra check source attachment missing drive causing regression warm wmax warmup count wmax simulate exit restart simulateexitrestart java core javacore initialize after load initializeafterload abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready measures measures count shut dwon shutdwon simulate exit simulateexit run gc rungc start measuring startmeasuring restart simulate restart simulaterestart java core javacore initialize after load initializeafterload abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready stop measuring stopmeasuring commit commit measurements commitmeasurements assert performance assertperformance performance test find type findtype bug jar package fragment root jarpackagefragmentroot slow initialize test find type testfindtype core exception coreexception i java model ijavamodel model java core javacore create resources plugin resourcesplugin get workspace getworkspace get root getroot i java project ijavaproject existing projects existingprojects model get java projects getjavaprojects close existing projects length existing projects existingprojects length length existing projects existingprojects get project getproject close projects max i java project ijavaproject projects i java project ijavaproject max max projects create java project createjavaproject find type findtype abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild warm warmup warmup count warmup model close max projects find type findtype java lang object measure performance measures count model close run gc rungc start measuring startmeasuring max projects find type findtype java lang object stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance max projects get project getproject delete reopen existing projects length existing projects existingprojects length length existing projects existingprojects get project getproject open performance test time source file bug jar source attached regression test https bugs eclipse org bugs bug cgi test get source big jar no attachment testgetsourcebigjarnoattachment core exception coreexception i java project ijavaproject project project create java project createjavaproject huge jar project hugejarproject i file ifile big jar bigjar big project get project getproject get file getfile big jar project set raw classpath setrawclasspath i classpath entry iclasspathentry java core javacore new library entry newlibraryentry big jar bigjar get full path getfullpath abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild i package fragment root ipackagefragmentroot root project get package fragment root getpackagefragmentroot big jar bigjar i class file iclassfile class file classfile root get package fragment getpackagefragment get class file getclassfile warm max warmup warmup count warmup max root close class file classfile get source getsource measure performance measures count run gc rungc start measuring startmeasuring max root close class file classfile get source getsource stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance project project get project getproject delete https bugs eclipse org bugs bug cgi test reopen single project testreopensingleproject core exception coreexception fingerprint tag as summary tagassummary reopen single project workspace close eclipse projects start time starttime print system print close eclipse projects start time starttime system current time millis currenttimemillis length projects length length projects get project getproject close abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild print system println system current time millis currenttimemillis start time starttime warm print system print warm up warmup test start time starttime system current time millis currenttimemillis warmup warmup count warmup big project get project getproject close abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild big project get project getproject open abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild abstract java model tests abstractjavamodeltests wait for manual refresh waitformanualrefresh print system println system current time millis currenttimemillis start time starttime measures print system println system println start measures start time starttime system current time millis currenttimemillis measures count run gc rungc big project get project getproject close abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild start measuring startmeasuring big project get project getproject open abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild abstract java model tests abstractjavamodeltests wait for manual refresh waitformanualrefresh stop measuring stopmeasuring print system println total time system current time millis currenttimemillis start time starttime commit print system println system println commit measures start time starttime system current time millis currenttimemillis commit measurements commitmeasurements assert performance assertperformance reopen eclipse projects print system print reopen eclipse projects start time starttime system current time millis currenttimemillis length projects get project getproject open abstract java model tests abstractjavamodeltests wait until indexes ready waituntilindexesready abstract java model tests abstractjavamodeltests wait for auto build waitforautobuild abstract java model tests abstractjavamodeltests wait for manual refresh waitformanualrefresh run gc rungc print system println system current time millis currenttimemillis start time starttime https bugs eclipse org bugs bug cgi test refresh external archives testrefreshexternalarchives exception jar count jarcount file files file jar count jarcount i java model ijavamodel model java core javacore create resources plugin resourcesplugin get workspace getworkspace get root getroot i classpath entry iclasspathentry old classpath oldclasspath big project get raw classpath getrawclasspath i classpath entry iclasspathentry classpath i classpath entry iclasspathentry jar count jarcount jar count jarcount string file path filepath get external resource path getexternalresourcepath lib jar org eclipse jdt core tests util util create jar createjar string string meta inf manifest manifest version file path filepath java core javacore version classpath java core javacore new library entry newlibraryentry path file path filepath files file file path filepath big project set raw classpath setrawclasspath classpath warm max warmup warmup count warmup max touch files touchfiles files model refresh external archives refreshexternalarchives i java element ijavaelement big project measure performance measures count run gc rungc start measuring startmeasuring max touch files touchfiles files model refresh external archives refreshexternalarchives i java element ijavaelement big project stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance big project set raw classpath setrawclasspath old classpath oldclasspath files length files delete https bugs eclipse org bugs bug cgi test resolve classpath testresolveclasspath exception jar count jarcount file library files libraryfiles file jar count jarcount file src attachment files srcattachmentfiles file jar count jarcount i classpath entry iclasspathentry old classpath oldclasspath big project get raw classpath getrawclasspath i classpath entry iclasspathentry classpath i classpath entry iclasspathentry jar count jarcount jar count jarcount string library file path libraryfilepath get external resource path getexternalresourcepath lib jar org eclipse jdt core tests util util create jar createjar string string meta inf manifest manifest version library file path libraryfilepath java core javacore version library files libraryfiles file library file path libraryfilepath string src attachment file path srcattachmentfilepath get external resource path getexternalresourcepath lib src jar org eclipse jdt core tests util util create jar createjar string string meta inf manifest manifest version src attachment file path srcattachmentfilepath java core javacore version src attachment files srcattachmentfiles file src attachment file path srcattachmentfilepath classpath java core javacore new library entry newlibraryentry path library file path libraryfilepath path src attachment file path srcattachmentfilepath big project set raw classpath setrawclasspath classpath warm max warmup warmup count warmup max big project resolve classpath resolveclasspath classpath measure performance measures count run gc rungc start measuring startmeasuring max big project resolve classpath resolveclasspath classpath stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance big project set raw classpath setrawclasspath old classpath oldclasspath library files libraryfiles length library files libraryfiles delete src attachment files srcattachmentfiles delete overriding get external path getexternalpath local disk nfs advantages caching file existence checks test java model manager external files cache testjavamodelmanagerexternalfilescache test string get external path getexternalpath system get property getproperty user performance test get external path getexternalpath https bugs eclipse org bugs bug cgi test get all package fragment roots testgetallpackagefragmentroots exception jar count jarcount i classpath entry iclasspathentry old classpath oldclasspath big project get raw classpath getrawclasspath i classpath entry iclasspathentry classpath i classpath entry iclasspathentry jar count jarcount jar count jarcount string file path filepath get external resource path getexternalresourcepath lib jar org eclipse jdt core tests util util create jar createjar string string meta inf manifest manifest version file path filepath java core javacore version classpath java core javacore new library entry newlibraryentry path file path filepath big project set raw classpath setrawclasspath classpath i file ifile file i file ifile working copy get resource getresource warm max warmup warmup count warmup max file touch big project get all package fragment roots getallpackagefragmentroots measure performance measures count run gc rungc start measuring startmeasuring max file touch big project get all package fragment roots getallpackagefragmentroots stop measuring stopmeasuring commit measurements commitmeasurements assert performance assertperformance big project set raw classpath setrawclasspath old classpath oldclasspath reset count ers resetcounters
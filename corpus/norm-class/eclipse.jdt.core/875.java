copyright software rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors stephan herrmann initial api implementation nikolay metchev nikolaymetchev gmail contributions bug compiler resource invalid resource leak warning ternary resource org eclipse jdt internal compiler ast java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util map entry java util org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler flow finally flow context finallyflowcontext org eclipse jdt internal compiler flow flow context flowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler impl reference context referencecontext org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup scope org eclipse jdt internal compiler lookup tag bits tagbits org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type constants typeconstants org eclipse jdt internal compiler lookup type ids typeids org eclipse jdt internal compiler problem problem reporter problemreporter org eclipse jdt internal compiler util util fake d faked local variable declaration keeping track data flows special variable events recorded changing info variable bug warning missing resources suppress warnings suppresswarnings rawtypes unchecked faked tracking variable fakedtrackingvariable local declaration localdeclaration nls unassigned closeable unassigned closeable to char array tochararray nls unassigned closeable template unassigned closeable to char array tochararray nls template argument to char array tochararray call close path close resource shared code passing arg method call obtaining method call array reference int erpret interpret responsible closing shared resource owned code owner res ponsibility responsibility close argument current method field read stored field returned result method owned close invoked nested method local type report remaining problems potential closed nested method explicit closing reported resource reported explicit close location independent potential problem reported resource reported potential leak location independent def ini tive definitive problem reported resource reported definitive leak https bugs eclipse org test bit set bitset link close link shared link owned link closed nested method link reported explicit close link reported potential leak link reported definitive leak global closing state globalclosingstate real local tracked preliminary track vars allocation expressions local variable binding localvariablebinding original binding originalbinding chained tracking variable chained wrapped resource faked tracking variable fakedtrackingvariable inner tracker innertracker inverse inner tracker innertracker faked tracking variable fakedtrackingvariable outer tracker outertracker designates method declaring variable method scope methodscope method scope methodscope init ially initially ast node astnode integer hash map hashmap recorded locations recordedlocations temporary storage analyzing res res temp orarily temporarily store assignment location error reporting ast node astnode current assignment currentassignment tracking all ocated allocated context record flow context block flow context flowcontext try context trycontext faked tracking variable fakedtrackingvariable local variable binding localvariablebinding original ast node astnode location flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext null status nullstatus original location source start sourcestart location source end sourceend type single type reference singletypereference type constants typeconstants object source start sourcestart source end sourceend method scope methodscope original declaring scope declaringscope method scope methodscope original binding originalbinding original block flow context flowcontext flow context flowcontext finally flow context finallyflowcontext connect block try context trycontext finally flow context finallyflowcontext flow context flowcontext try context trycontext flow context flowcontext flow context flowcontext parent resolve original declaring scope declaringscope null status nullstatus mark flow resource flow info flowinfo mark null status marknullstatus binding null status nullstatus create unassigned tracking variable analyzing allocation expression faked tracking variable fakedtrackingvariable block scope blockscope scope ast node astnode location flow info flowinfo flow info flowinfo null status nullstatus unassigned closeable location source start sourcestart location source end sourceend type single type reference singletypereference type constants typeconstants object source start sourcestart source end sourceend method scope methodscope scope method scope methodscope original binding originalbinding resolve scope null status nullstatus mark flow resource flow info flowinfo mark null status marknullstatus binding null status nullstatus generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream nop variable completely dummy analysis resolve block scope blockscope scope binding reference flow info flowinfo methods binding local variable binding localvariablebinding dummy reference type scope get java lang object getjavalangobject binding close tracker closetracker binding declaring scope declaringscope scope binding set constant setconstant constant notaconstant binding use flag useflag local variable binding localvariablebinding free slot assigning binding scope register tracking variable registertrackingvariable expression res olves resolves type auto closeable autocloseable answer variable tracks closing local c overs covers cases local variable reference create tracking variable needed allocation expression preliminary tracking variable param expression link faked tracking variable fakedtrackingvariable faked tracking variable fakedtrackingvariable get close tracking variable getclosetrackingvariable expression expression flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext expression cast expression castexpression expression cast expression castexpression expression expression expression assignment expression assignment expression expression expression conditional expression conditionalexpression faked tracking variable fakedtrackingvariable false tracking variable falsetrackingvariable get close tracking variable getclosetrackingvariable conditional expression conditionalexpression expression value if false valueiffalse flow info flowinfo flow context flowcontext false tracking variable falsetrackingvariable false tracking variable falsetrackingvariable get close tracking variable getclosetrackingvariable conditional expression conditionalexpression expression value if true valueiftrue flow info flowinfo flow context flowcontext expression single name reference singlenamereference single name reference singlenamereference single name reference singlenamereference expression binding local variable binding localvariablebinding local variable binding localvariablebinding local local variable binding localvariablebinding binding local close tracker closetracker local close tracker closetracker is any closeable isanycloseable expression resolved type resolvedtype local tag bits tagbits tag bits tagbits is resource isresource tracking doesn exist block analyzed block statement location local declaration local close tracker closetracker faked tracking variable fakedtrackingvariable local location flow info flowinfo flow context flowcontext flow info flowinfo unknown local is parameter isparameter local close tracker closetracker global closing state globalclosingstate owned status tracker unknown local close tracker closetracker expression allocation expression allocationexpression preliminary tracking variable analyse closeable allocation analysecloseableallocation allocation expression allocationexpression expression close tracker closetracker analyzing assignment shape code single name singlename allocation code connect tracking variable lhs allocation rhs assignment temp orarily temporarily stored tracking variable report errors assignment leaves lhs unclosed assignment error location param location assignment local declaration analyzed param local local variable assigned param rhs rhs assignment resp initialization local variable declaration strong precondition strong client checked resolved type expression closeable type pre connect tracker across assignment preconnecttrackeracrossassignment ast node astnode location local variable binding localvariablebinding local expression rhs flow info flowinfo flow info flowinfo faked tracking variable fakedtrackingvariable close tracker closetracker contains allocation containsallocation rhs close tracker closetracker local close tracker closetracker close tracker closetracker valid closeable method precondition rhs resolved type resolvedtype type binding typebinding close tracker closetracker faked tracking variable fakedtrackingvariable local location flow info flowinfo flow info flowinfo unknown local is parameter isparameter close tracker closetracker global closing state globalclosingstate owned close tracker closetracker close tracker closetracker current assignment currentassignment location pre connect tracker across assignment preconnecttrackeracrossassignment location local flow info flowinfo close tracker closetracker rhs contains allocation containsallocation ast node astnode location location allocation expression allocationexpression location conditional expression conditionalexpression conditional expression conditionalexpression conditional conditional expression conditionalexpression location contains allocation containsallocation conditional value if true valueiftrue contains allocation containsallocation conditional value if false valueiffalse location cast expression castexpression contains allocation containsallocation cast expression castexpression location expression pre connect tracker across assignment preconnecttrackeracrossassignment ast node astnode location local variable binding localvariablebinding local flow info flowinfo flow info flowinfo faked tracking variable fakedtrackingvariable close tracker closetracker expression expression expression allocation expression allocationexpression pre connect tracker across assignment preconnecttrackeracrossassignment location local flow info flowinfo allocation expression allocationexpression expression close tracker closetracker expression conditional expression conditionalexpression pre connect tracker across assignment preconnecttrackeracrossassignment location local flow info flowinfo conditional expression conditionalexpression expression close tracker closetracker expression cast expression castexpression pre connect tracker across assignment preconnecttrackeracrossassignment location local cast expression castexpression expression expression flow info flowinfo pre connect tracker across assignment preconnecttrackeracrossassignment ast node astnode location local variable binding localvariablebinding local flow info flowinfo flow info flowinfo conditional expression conditionalexpression conditional faked tracking variable fakedtrackingvariable close tracker closetracker pre connect tracker across assignment preconnecttrackeracrossassignment location local flow info flowinfo close tracker closetracker conditional value if false valueiffalse pre connect tracker across assignment preconnecttrackeracrossassignment location local flow info flowinfo close tracker closetracker conditional value if true valueiftrue pre connect tracker across assignment preconnecttrackeracrossassignment ast node astnode location local variable binding localvariablebinding local flow info flowinfo flow info flowinfo allocation expression allocationexpression allocation expression allocationexpression faked tracking variable fakedtrackingvariable close tracker closetracker allocation expression allocationexpression close tracker closetracker close tracker closetracker allocation expression allocationexpression arguments allocation expression allocationexpression arguments length push nested alloc ations allocations https bugs eclipse org pre connect tracker across assignment preconnecttrackeracrossassignment location local allocation expression allocationexpression arguments flow info flowinfo compute assign tracking variable freshly all ocated allocated closeable white lists bug filter practically unimportant resource leak warnings analyse closeable allocation analysecloseableallocation block scope blockscope scope flow info flowinfo flow info flowinfo allocation expression allocationexpression allocation client checked resolved type resolvedtype auto closeable autocloseable safe reference binding referencebinding allocation resolved type resolvedtype has type bit hastypebit type ids typeids bit resource free closeable bitresourcefreecloseable remove unnecessary attempts closeable relevant allocation close tracker closetracker allocation close tracker closetracker with draw withdraw allocation close tracker closetracker reference binding referencebinding allocation resolved type resolvedtype has type bit hastypebit type ids typeids bit wrapper closeable bitwrappercloseable is wrapper iswrapper allocation arguments allocation arguments length find wrapped resource represented tracking faked tracking variable fakedtrackingvariable inner tracker innertracker find close tracker findclosetracker scope flow info flowinfo allocation arguments inner tracker innertracker faked tracking variable fakedtrackingvariable current inner currentinner inner tracker innertracker current inner currentinner allocation close tracker closetracker wrap res res res change remove check indirect cycles https bugs eclipse org current inner currentinner current inner currentinner inner tracker innertracker current inner currentinner new status newstatus flow info flowinfo allocation close tracker closetracker local closeable unassigned allocation close tracker closetracker faked tracking variable fakedtrackingvariable scope allocation flow info flowinfo flow info flowinfo unknown scope finally info finallyinfo inject analysing block newly connected wrapper finally status finallystatus scope finally info finallyinfo null status nullstatus allocation close tracker closetracker binding finally status finallystatus flow info flowinfo unknown new status newstatus finally status finallystatus allocation close tracker closetracker inner tracker innertracker inner tracker innertracker pick more unsafe pickmoreunsafe allocation close tracker closetracker inner tracker innertracker inner tracker innertracker scope flow info flowinfo allocation close tracker closetracker inner tracker innertracker inner tracker innertracker inner tracker innertracker outer tracker outertracker allocation close tracker closetracker flow info flowinfo mark null status marknullstatus allocation close tracker closetracker binding new status newstatus new status newstatus flow info flowinfo propagate block nested resources faked tracking variable fakedtrackingvariable current tracker currenttracker inner tracker innertracker current tracker currenttracker flow info flowinfo mark null status marknullstatus current tracker currenttracker binding new status newstatus current tracker currenttracker global closing state globalclosingstate allocation close tracker closetracker global closing state globalclosingstate current tracker currenttracker current tracker currenttracker inner tracker innertracker chaining wrapper avoiding fall remove tracking var removetrackingvar is any closeable isanycloseable allocation arguments resolved type resolvedtype argument closeable is wrapper iswrapper argument is wrapper iswrapper successful wrapper detection exited failed is wrapper iswrapper remove unnecessary attempts wrapper relevant allocation close tracker closetracker allocation close tracker closetracker with draw withdraw allocation close tracker closetracker allocation provide resource argument don treat wrapper handle regular resource handleregularresource scope flow info flowinfo allocation regular resource handle regular resource handleregularresource scope flow info flowinfo allocation faked tracking variable fakedtrackingvariable pick more unsafe pickmoreunsafe faked tracking variable fakedtrackingvariable tracker faked tracking variable fakedtrackingvariable tracker block scope blockscope scope flow info flowinfo info track ers trackers str onger stronger indication leaking returned removed scope considered merged status info null status nullstatus tracker binding status info null status nullstatus tracker binding status flow info flowinfo status flow info flowinfo pick tracker tracker scope status flow info flowinfo status flow info flowinfo pick tracker tracker scope status flow info flowinfo pick tracker tracker scope status flow info flowinfo pick tracker tracker scope pick tracker tracker scope faked tracking variable fakedtrackingvariable pick faked tracking variable fakedtrackingvariable tracker faked tracking variable fakedtrackingvariable tracker block scope blockscope scope tracker with draw withdraw tracker handle regular resource handleregularresource block scope blockscope scope flow info flowinfo flow info flowinfo allocation expression allocationexpression allocation faked tracking variable fakedtrackingvariable preset tracker presettracker allocation close tracker closetracker preset tracker presettracker preset tracker presettracker original binding originalbinding current assignment for gets forgets previous resource lhs leak report handle resource assignment handleresourceassignment distinguish wrap situation close status closestatus flow info flowinfo null status nullstatus preset tracker presettracker binding resource closed close status closestatus flow info flowinfo resource flow close status closestatus flow info flowinfo unknown resource flow info flowinfo is definitely null isdefinitelynull preset tracker presettracker original binding originalbinding forget ting forgetting val local decl syntactically impossible preset tracker presettracker current assignment currentassignment local declaration localdeclaration allocation close tracker closetracker record error location recorderrorlocation preset tracker presettracker current assignment currentassignment close status closestatus local closeable unassigned allocation close tracker closetracker faked tracking variable fakedtrackingvariable scope allocation flow info flowinfo flow info flowinfo unknown flow info flowinfo mark as definitely null markasdefinitelynull allocation close tracker closetracker binding find existing tracking variable argument allocation resource wrapper faked tracking variable fakedtrackingvariable find close tracker findclosetracker block scope blockscope scope flow info flowinfo flow info flowinfo expression arg arg assignment assignment assign assignment arg local variable binding localvariablebinding inner local innerlocal assign local variable binding localvariablebinding inner local innerlocal nested assignment processed inner local innerlocal close tracker closetracker unwrap assignment fall arg assign expression arg single name reference singlenamereference allocation arg reference existing closeable local variable binding localvariablebinding local arg local variable binding localvariablebinding local local close tracker closetracker arg allocation expression allocationexpression nested allocation allocation expression allocationexpression arg close tracker closetracker tracked expression rhs assignment local declaration auto closeable type setup leak analysis create tracking variable wire initialize param scope scope assignment param upstream info upstreaminfo info analysis rhs determine status resource disconnected param flow info flowinfo info analysis rhs recording resource status passed downstream param flow context flowcontext param location report warn igs warnigs errors param rhs hand side assignment expression analyzed caller checked rhs closeable type param local local variable rhs assigned handle resource assignment handleresourceassignment block scope blockscope scope flow info flowinfo upstream info upstreaminfo flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext ast node astnode location expression rhs local variable binding localvariablebinding local lhs local tracker indicating leak resource assignment faked tracking variable fakedtrackingvariable previous tracker previoustracker faked tracking variable fakedtrackingvariable disconnected tracker disconnectedtracker local close tracker closetracker assigning variable holding auto closeable autocloseable closed previous tracker previoustracker local close tracker closetracker null status nullstatus upstream info upstreaminfo null status nullstatus local previous relevant null status nullstatus flow info flowinfo null status nullstatus flow info flowinfo unknown report error wrap assignment disconnected tracker disconnectedtracker previous tracker previoustracker rhs analyis rhsanalyis rhs resolved type resolvedtype type binding typebinding auto closeable autocloseable start tracking existing tracker faked tracking variable fakedtrackingvariable rhs track var rhstrackvar get close tracking variable getclosetrackingvariable rhs flow info flowinfo flow context flowcontext rhs track var rhstrackvar rhs tracking variable local close tracker closetracker should n shouldn occur play safe rhs track var rhstrackvar original binding originalbinding fresh lhs share local close tracker closetracker rhs track var rhstrackvar rhs track var rhstrackvar current assignment currentassignment location pre tracker lhs passed fresh resource rhs track var rhstrackvar global closing state globalclosingstate shared owned rhs allocation expression allocationexpression rhs conditional expression conditionalexpression rhs track var rhstrackvar disconnected tracker disconnectedtracker wrapper res wrap res local close tracker closetracker rhs track var rhstrackvar rhs track var rhstrackvar global closing state globalclosingstate owned assigning fresh resource pre connected all oc alloc local holding alien resource start local close tracker closetracker faked tracking variable fakedtrackingvariable local location flow info flowinfo flow context flowcontext flow info flowinfo check disconnected tracker disconnectedtracker rhs analyis rhsanalyis conflicting lhs rhs proceed record error location recorderrorlocation local close tracker closetracker rhs track var rhstrackvar close status rhs unchanged assignment previous tracker previoustracker tracking variable lhs flow context flowcontext current flow context currentflowcontext flow context flowcontext check reuse tracker checkreusetracker previous tracker previoustracker try context trycontext current flow context currentflowcontext previous tracker previoustracker try context trycontext current flow context currentflowcontext https bugs eclipse org check reuse tracker checkreusetracker current flow context currentflowcontext current flow context currentflowcontext parent assigning fresh mark closed previous tracker previoustracker global closing state globalclosingstate shared owned avoid spi lling spilling info branch doesn resource flow info flowinfo has null info for hasnullinfofor previous tracker previoustracker binding flow info flowinfo mark as definitely null markasdefinitelynull previous tracker previoustracker binding local close tracker closetracker analyse closeable expression analysecloseableexpression flow info flowinfo flow context flowcontext local location rhs previous tracker previoustracker create fresh tracking variable rhs track var rhstrackvar analyse closeable expression analysecloseableexpression flow info flowinfo flow context flowcontext local location rhs rhs track var rhstrackvar local close tracker closetracker rhs track var rhstrackvar fresh resource mark closed rhs track var rhstrackvar global closing state globalclosingstate shared owned flow info flowinfo mark as definitely null markasdefinitelynull rhs track var rhstrackvar binding todo stephan find test flow context flowcontext inits on finally initsonfinally flow context flowcontext inits on finally initsonfinally mark as definitely non null markasdefinitelynonnull tracker binding trackerbinding disconnected tracker disconnectedtracker disconnected tracker disconnectedtracker inner tracker innertracker disconnected tracker disconnectedtracker inner tracker innertracker binding declaring scope declaringscope scope discard tracker wrapper disconnected tracker disconnectedtracker inner tracker innertracker outer tracker outertracker scope prune wrapper tracking var prunewrappertrackingvar disconnected tracker disconnectedtracker upstream status upstreamstatus upstream info upstreaminfo null status nullstatus disconnected tracker disconnectedtracker binding upstream status upstreamstatus flow info flowinfo disconnected tracker disconnectedtracker record error location recorderrorlocation location upstream status upstreamstatus analyze structure closeable expression matching chained resources white lists param flow info flowinfo record close status param local local variable closeable assigned param location flag errors warnings param expression expression analyzed param previous tracker previoustracker analyzing assignment tracking variable local tracking variable local track faked tracking variable fakedtrackingvariable analyse closeable expression analysecloseableexpression flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext local variable binding localvariablebinding local ast node astnode location expression expression faked tracking variable fakedtrackingvariable previous tracker previoustracker unwrap uninteresting nodes expression assignment expression assignment expression expression expression cast expression castexpression expression cast expression castexpression expression expression is resource producer isresourceproducer expression resolved type resolvedtype reference binding referencebinding reference binding referencebinding resource type resourcetype reference binding referencebinding expression resolved type resolvedtype resource type resourcetype has type bit hastypebit type ids typeids bit resource free closeable bitresourcefreecloseable is black listed method isblacklistedmethod expression is resource producer isresourceproducer resource free closeable analyze node type expression allocation expression allocationexpression allocation expressions tracking variables analyzed analyse closeable allocation analysecloseableallocation faked tracking variable fakedtrackingvariable tracker allocation expression allocationexpression expression close tracker closetracker tracker tracker original binding originalbinding tracker original binding unassigned closeable should n shouldn reach play safe tracker expression message send messagesend expression array reference arrayreference responsible resource doubt faked tracking variable fakedtrackingvariable tracker faked tracking variable fakedtrackingvariable local location flow info flowinfo flow context flowcontext flow info flowinfo is resource producer isresourceproducer tracker global closing state globalclosingstate shared tracker expression bits restrictiveflagmask binding field expression qualified name reference qualifiednamereference qualified name reference qualifiednamereference expression is field access isfieldaccess res ponsibility responsibility resource lies higher level faked tracking variable fakedtrackingvariable tracker faked tracking variable fakedtrackingvariable local location flow info flowinfo flow context flowcontext flow info flowinfo unknown tracker global closing state globalclosingstate owned leave unknown bit owned prevent spurious warnings tracker local close tracker closetracker analyzed track local close tracker closetracker faked tracking variable fakedtrackingvariable new tracker newtracker faked tracking variable fakedtrackingvariable local location flow info flowinfo flow context flowcontext flow info flowinfo unknown local variable binding localvariablebinding rhs local rhslocal expression local variable binding localvariablebinding rhs local rhslocal rhs local rhslocal is parameter isparameter new tracker newtracker global closing state globalclosingstate owned new tracker newtracker is black listed method isblacklistedmethod expression expression expression message send messagesend method binding methodbinding method message send messagesend expression binding method method is valid binding isvalidbinding methods java nio file files resource stream closing char operation charoperation equals method declaring class declaringclass compound name compoundname type constants typeconstants java nio file files clean up after assignment cleanupafterassignment block scope blockscope current scope currentscope lhs bits lhsbits expression expression unwrap uninteresting nodes expression assignment expression assignment expression expression expression cast expression castexpression expression cast expression castexpression expression expression expression allocation expression allocationexpression faked tracking variable fakedtrackingvariable tracker allocation expression allocationexpression expression close tracker closetracker tracker tracker original binding originalbinding tracker with draw withdraw allocation expression allocationexpression expression close tracker closetracker assignment passing local field local variable binding localvariablebinding local expression local variable binding localvariablebinding local local close tracker closetracker lhs bits lhsbits binding field todo local close tracker closetracker mark passed to out side markpassedtooutside local close tracker closetracker with draw withdraw answer wither type binding subtype java lang auto closeable autocloseable is any closeable isanycloseable type binding typebinding type binding typebinding type binding typebinding reference binding referencebinding reference binding referencebinding type binding typebinding has type bit hastypebit type ids typeids bit auto closeable bitautocloseable type ids typeids bit closeable bitcloseable find most specific status findmostspecificstatus flow info flowinfo flow info flowinfo block scope blockscope current scope currentscope block scope blockscope location scope locationscope status flow info flowinfo unknown faked tracking variable fakedtrackingvariable current tracker currenttracker loop wrappers white list enc apsulating encapsulating resource current tracker currenttracker local variable binding localvariablebinding current var currentvar current tracker currenttracker binding current status currentstatus get null status aggressively getnullstatusaggressively current var currentvar flow info flowinfo check method exit points location scope locationscope current status currentstatus merge close status mergeclosestatus location scope locationscope current status currentstatus current var currentvar current scope currentscope current status currentstatus flow info flowinfo status current status currentstatus closed searching status flow info flowinfo status flow info flowinfo unknown improved safe searching status current status currentstatus current tracker currenttracker current tracker currenttracker inner tracker innertracker status status unreachable flows param local param flow info flowinfo constants flow info flowinfo get null status aggressively getnullstatusaggressively local variable binding localvariablebinding local flow info flowinfo flow info flowinfo flow info flowinfo flow info flowinfo dead flow info flowinfo unknown reach mode reachmode flow info flowinfo reach mode reachmode status unreachable flow info flowinfo shy reporting issues temp orarily temporarily for get forget reach ability reachability reach mode reachmode flow info flowinfo reachable flow info flowinfo tag bits tagbits flow info flowinfo unreachable status flow info flowinfo null status nullstatus local https bugs eclipse org test inc rease increase pro bability probability concurrency bug thread sleep interrupted exception interruptedexception nop reset flow info flowinfo tag bits tagbits reach mode reachmode point combinations flatten single bit status flow info flowinfo status flow info flowinfo flow info flowinfo doubt pot flow info flowinfo flow info flowinfo status flow info flowinfo status flow info flowinfo doubt pot flow info flowinfo flow info flowinfo status flow info flowinfo flow info flowinfo status merge close status mergeclosestatus block scope blockscope current scope currentscope status local variable binding localvariablebinding local block scope blockscope outer scope outerscope scope consult recorded finally info finallyinfo status flow info flowinfo current scope currentscope finally info finallyinfo finally status finallystatus current scope currentscope finally info finallyinfo null status nullstatus local finally status finallystatus flow info flowinfo finally status finallystatus call finally status finallystatus flow info flowinfo current scope currentscope finally info finallyinfo has null info for hasnullinfofor local status flow info flowinfo current scope currentscope outer scope outerscope current scope currentscope parent block scope blockscope merge close status mergeclosestatus block scope blockscope current scope currentscope parent status local outer scope outerscope status mark resource closed locally mark close markclose flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext faked tracking variable fakedtrackingvariable current flow info flowinfo mark as definitely non null markasdefinitelynonnull current binding current global closing state globalclosingstate close flow context flowcontext mark finally null status markfinallynullstatus current binding flow info flowinfo current current inner tracker innertracker current mark resource closed nested method local mark closed in nested method markclosedinnestedmethod global closing state globalclosingstate closed nested method mark resource passed code argument method ctor call current method considered closed param owned resource considered owned flow info flowinfo mark passed to out side markpassedtooutside block scope blockscope scope expression expression flow info flowinfo flow info flowinfo flow context flowcontext flow context flowcontext owned faked tracking variable fakedtrackingvariable track var trackvar get close tracking variable getclosetrackingvariable expression flow info flowinfo flow context flowcontext track var trackvar insert info tracked resource closed target method flow info flowinfo info resource is closed inforesourceisclosed owned flow info flowinfo flow info flowinfo copy flag owned owned shared track var trackvar global closing state globalclosingstate flag scope method scope methodscope track var trackvar method scope methodscope track var trackvar global closing state globalclosingstate closed nested method info resource is closed inforesourceisclosed mark as definitely non null markasdefinitelynonnull track var trackvar binding track var trackvar track var trackvar inner tracker innertracker owned don downstream signal problems flow info resource is closed inforesourceisclosed report potential problems flow flow info flowinfo conditional flow info flowinfo info resource is closed inforesourceisclosed flow info flowinfo iterator faked tracking variable fakedtrackingvariable dispenses elements priorities defined enum link s tag e stage resources owned enclosing scope answered analysing behalf exit iterator for reporting iteratorforreporting iterator faked tracking variable fakedtrackingvariable faked tracking variable fakedtrackingvariable var set varset scope scope at exit atexit s tag e stage stage iterator faked tracking variable fakedtrackingvariable iterator faked tracking variable fakedtrackingvariable enum s tag e stage prio top level resources resources outer less outerless prio resources processed element var set varset inner of processed innerofprocessed prio resources owned enclosing scope inner of not enclosing innerofnotenclosing prio analysing behalf exit point picked at exit atexit iterator for reporting iteratorforreporting list faked tracking variable fakedtrackingvariable variables scope scope at exit atexit var set varset hash set hashset variables scope scope at exit atexit at exit atexit set up for s tag e setupforstage s tag e stage outer less outerless override has next hasnext faked tracking variable fakedtrackingvariable tracking var trackingvar stage outer less outerless iterator has next hasnext tracking var trackingvar iterator tracking var trackingvar outer tracker outertracker tracking var trackingvar set up for s tag e setupforstage s tag e stage inner of processed innerofprocessed fall inner of processed innerofprocessed iterator has next hasnext tracking var trackingvar iterator faked tracking variable fakedtrackingvariable tracking var trackingvar outer tracker outertracker binding declaring scope declaringscope scope var set varset tracking var trackingvar set up for s tag e setupforstage s tag e stage inner of not enclosing innerofnotenclosing fall inner of not enclosing innerofnotenclosing search alien searchalien iterator has next hasnext tracking var trackingvar iterator faked tracking variable fakedtrackingvariable tracking var trackingvar outer tracker outertracker var set varset scope outer tracker scope outertrackerscope binding declaring scope declaringscope scope current scope currentscope scope current scope currentscope current scope currentscope parent block scope blockscope outer tracker scope outertrackerscope current scope currentscope search alien searchalien tracking var trackingvar set up for s tag e setupforstage s tag e stage at exit atexit fall at exit atexit at exit atexit iterator has next hasnext iterator nls illegal state exception illegalstateexception nls unexpected s tag e stage stage faked tracking variable fakedtrackingvariable tracking var trackingvar iterator remove tracking var trackingvar set up for s tag e setupforstage s tag e stage next s tag e nextstage iterator var set varset iterator stage next s tag e nextstage override faked tracking variable fakedtrackingvariable override remove unsupported operation exception unsupportedoperationexception answer resource bound variable point flow info flowinfo has definitely no resource hasdefinitelynoresource flow info flowinfo flow info flowinfo should n shouldn happen quiet original binding originalbinding flow info flowinfo is definitely null isdefinitelynull original binding originalbinding flow info flowinfo is definitely assigned isdefinitelyassigned original binding originalbinding flow info flowinfo is potentially assigned ispotentiallyassigned original binding originalbinding is closed in finally of enclosing isclosedinfinallyofenclosing block scope blockscope scope block scope blockscope current scope currentscope scope current scope currentscope finally info finallyinfo current scope currentscope finally info finallyinfo is definitely non null isdefinitelynonnull binding closed enclosing current scope currentscope parent block scope blockscope current scope currentscope block scope blockscope current scope currentscope parent current returned resource returnedresource wrapper mark reported is resource being returned isresourcebeingreturned faked tracking variable fakedtrackingvariable returned resource returnedresource faked tracking variable fakedtrackingvariable current current returned resource returnedresource global closing state globalclosingstate reported definitive leak current current inner tracker innertracker current with draw withdraw unregister declaring scope declaringscope not e note twr resources owned scope enclosing twr binding declaring scope declaringscope remove tracking var removetrackingvar record error location recorderrorlocation ast node astnode location null status nullstatus global closing state globalclosingstate owned recorded locations recordedlocations recorded locations recordedlocations hash map hashmap recorded locations recordedlocations location integer value of valueof null status nullstatus report recorded errors reportrecordederrors scope scope merged status mergedstatus at dead end atdeadend faked tracking variable fakedtrackingvariable current current global closing state globalclosingstate current current inner tracker innertracker current relevant report at dead end atdeadend never closed at locations neverclosedatlocations merged status mergedstatus flow info flowinfo merged status mergedstatus flow info flowinfo flow info flowinfo flow info flowinfo report error reporterror scope problem reporter problemreporter merged status mergedstatus has reported hasreported recorded locations recordedlocations iterator locations recorded locations recordedlocations entry set entryset iterator report flags reportflags locations has next hasnext map entry entry entry locations report flags reportflags report error reporterror scope problem reporter problemreporter ast node astnode entry get key getkey integer entry get value getvalue int value intvalue has reported hasreported report flags reportflags locations reported mark reported prevent duplicate report wrapper current current global closing state globalclosingstate report flags reportflags current current inner tracker innertracker has reported hasreported never closed at locations neverclosedatlocations recorded locations recordedlocations object recorded locations recordedlocations values equals flow info flowinfo report error reporterror problem reporter problemreporter problem reporter problemreporter ast node astnode location null status nullstatus global closing state globalclosingstate owned todo propagate flags degree problem is potential problem ispotentialproblem null status nullstatus flow info flowinfo global closing state globalclosingstate closed nested method is potential problem ispotentialproblem null status nullstatus flow info flowinfo flow info flowinfo is potential problem ispotentialproblem report is potential problem ispotentialproblem global closing state globalclosingstate reported potential leak reported definitive leak problem reporter problemreporter potentially unclosed closeable potentiallyunclosedcloseable location global closing state globalclosingstate reported definitive leak problem reporter problemreporter unclosed closeable unclosedcloseable location propagate flag inners report flag reportflag is potential problem ispotentialproblem reported potential leak reported definitive leak location flags loop locations location faked tracking variable fakedtrackingvariable current current global closing state globalclosingstate report flag reportflag current current inner tracker innertracker report flag reportflag report explicit closing reportexplicitclosing problem reporter problemreporter problem reporter problemreporter owned global closing state globalclosingstate owned reported explicit close global closing state globalclosingstate reported explicit close problem reporter problemreporter explicitly closed auto closeable explicitlyclosedautocloseable string name for reporting nameforreporting ast node astnode location reference context referencecontext reference context referencecontext unassigned closeable location reference context referencecontext compilation result compilationresult comp result compresult reference context referencecontext compilation result compilationresult comp result compresult line ends lineends comp result compresult get line separator positions getlineseparatorpositions resource line resourceline util get line number getlinenumber source start sourcestart line ends lineends line ends lineends length report line reportline util get line number getlinenumber location source start sourcestart line ends lineends line ends lineends length resource line resourceline report line reportline replacement integer to string tostring resource line resourceline to char array tochararray string value of valueof char operation charoperation replace unassigned closeable template template argument replacement string value of valueof
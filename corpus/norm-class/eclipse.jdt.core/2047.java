copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler lookup var iation variation allocation option ally optionally leading enclosing instance trailing anonymous type type arguments constructor invocation qualified allocation expression qualifiedallocationexpression allocation expression allocationexpression qualification side expression enclosing instance enclosinginstance type declaration typedeclaration anonymous type anonymoustype reference binding referencebinding super type binding supertypebinding qualified allocation expression qualifiedallocationexpression subtypes qualified allocation expression qualifiedallocationexpression type declaration typedeclaration anonymous type anonymoustype anonymous type anonymoustype anonymous type anonymoustype flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo analyse enclosing instance enclosing instance enclosinginstance flow info flowinfo enclosing instance enclosinginstance analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo check captured variables initialized current context check capture d local initialization if necessary checkcapturedlocalinitializationifnecessary super type binding supertypebinding binding declaring class declaringclass super type binding supertypebinding current scope currentscope flow info flowinfo process arguments arguments count arguments length count flow info flowinfo arguments analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo analyse anonymous nested type anonymous type anonymoustype flow info flowinfo anonymous type anonymoustype analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo record dependency exception types reference binding referencebinding thrown exceptions thrownexceptions thrown exceptions thrownexceptions binding thrown exceptions thrownexceptions length check exception handling flow context flowcontext check exception handlers checkexceptionhandlers thrown exceptions thrownexceptions flow info flowinfo current scope currentscope manage enclosing instance access if necessary manageenclosinginstanceaccessifnecessary current scope currentscope flow info flowinfo manage synthetic access if necessary managesyntheticaccessifnecessary current scope currentscope flow info flowinfo flow info flowinfo expression enclosing instance enclosinginstance enclosing instance enclosinginstance generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired code stream codestream position reference binding referencebinding all ocated type allocatedtype codegen binding codegenbinding declaring class declaringclass code stream codestream all ocated type allocatedtype value required valuerequired code stream codestream dup highlight allocation display type individually code stream codestream record positions from recordpositionsfrom type source start sourcestart handling inner class innerclass instance allocation enclosing instance arguments all ocated type allocatedtype is nested type isnestedtype code stream codestream generate synthetic enclosing instance values generatesyntheticenclosinginstancevalues current scope currentscope all ocated type allocatedtype enclosing instance enclosinginstance generate arguments constructor arguments count arguments length count arguments generate code generatecode current scope currentscope code stream codestream handling inner class innerclass instance allocation local arguments all ocated type allocatedtype is nested type isnestedtype code stream codestream generate synthetic outer argument values generatesyntheticouterargumentvalues current scope currentscope all ocated type allocatedtype invoke constructor synthetic accessor syntheticaccessor code stream codestream invokespecial codegen binding codegenbinding synthetic accessor extra arguments appended signature values max synthetic accessor syntheticaccessor parameters length codegen binding codegenbinding parameters length max code stream codestream aconst code stream codestream invokespecial synthetic accessor syntheticaccessor code stream codestream record positions from recordpositionsfrom source start sourcestart anonymous type anonymoustype anonymous type anonymoustype generate code generatecode current scope currentscope code stream codestream is super access issuperaccess lookup constructor anonymous type anonymous type anonymoustype emulation consists recording dependency link performing level prop agation propagation dependency mechanism dealing source target types time reach exact manage enclosing instance access if necessary manageenclosinginstanceaccessifnecessary block scope blockscope current scope currentscope flow info flowinfo flow info flowinfo flow info flowinfo is reachable isreachable reference binding referencebinding all ocated type allocatedtype perform emulation work local type all ocated type allocatedtype binding declaring class declaringclass is nested type isnestedtype current scope currentscope enclosing source type enclosingsourcetype is local type islocaltype all ocated type allocatedtype is local type islocaltype local type binding localtypebinding all ocated type allocatedtype add inner emulation dependent addinneremulationdependent current scope currentscope enclosing instance enclosinginstance locally propagate desired shape current scope currentscope propagate inner emulation propagateinneremulation all ocated type allocatedtype enclosing instance enclosinginstance string buffer stringbuffer print expression printexpression indent string buffer stringbuffer output enclosing instance enclosinginstance enclosing instance enclosinginstance print expression printexpression output append type arguments typearguments nls output append max type arguments typearguments length max type arguments typearguments print output nls output append nls type arguments typearguments max print output output append print expression printexpression output anonymous type anonymoustype anonymous type anonymoustype print indent output output type binding typebinding resolve type resolvetype block scope blockscope scope code assist occur normal code anonymous type anonymoustype enclosing instance enclosinginstance resolve type resolvetype scope propagate type checking arguments checks constructor defined class instance creation expression classinstancecreationexpression primary simple name simplename argument list opt argumentlistopt class body opt classbodyopt class instance creation expression classinstancecreationexpression simple name simplename argument list opt argumentlistopt class body opt classbodyopt constant notaconstant type binding typebinding enclosing instance type enclosinginstancetype type binding typebinding receiver type receivertype has error haserror enclosing instance contains cast enclosinginstancecontainscast args contain cast argscontaincast enclosing instance enclosinginstance enclosing instance enclosinginstance cast expression castexpression check enclosing instance enclosinginstance bits ignore need for cast check k ignoreneedforcastcheckmask enclosing instance contains cast enclosinginstancecontainscast enclosing instance type enclosinginstancetype enclosing instance enclosinginstance resolve type resolvetype scope has error haserror enclosing instance type enclosinginstancetype is base type isbasetype enclosing instance type enclosinginstancetype is array type isarraytype scope problem reporter problemreporter illegal primitive or array type for enclosing instance illegalprimitiveorarraytypeforenclosinginstance enclosing instance type enclosinginstancetype enclosing instance enclosinginstance has error haserror type qualified type reference qualifiedtypereference scope problem reporter problemreporter illegal usage of qualified type reference illegalusageofqualifiedtypereference qualified type reference qualifiedtypereference type has error haserror receiver type receivertype single type reference singletypereference type resolve type enclosing resolvetypeenclosing scope reference binding referencebinding enclosing instance type enclosinginstancetype receiver type receivertype enclosing instance contains cast enclosinginstancecontainscast cast expression castexpression check need for enclosing instance cast checkneedforenclosinginstancecast scope enclosing instance enclosinginstance enclosing instance type enclosinginstancetype receiver type receivertype receiver type receivertype type resolve type resolvetype scope receiver type receivertype has error haserror reference binding referencebinding receiver type receivertype is final isfinal anonymous type anonymoustype scope problem reporter problemreporter anonymous class cannot extend final class anonymousclasscannotextendfinalclass type receiver type receivertype has error haserror resolve type arguments constructor call type arguments typearguments length type arguments typearguments length generic type arguments generictypearguments type binding typebinding length length type binding typebinding arg type argtype type arguments typearguments resolve type resolvetype scope error reported arg type argtype generic type arguments generictypearguments arg type argtype check args resolved type binding typebinding argument types argumenttypes no parameters noparameters arguments length arguments length argument types argumenttypes type binding typebinding length length expression argument arguments argument cast expression castexpression check argument bits ignore need for cast check k ignoreneedforcastcheckmask args contain cast argscontaincast argument types argumenttypes argument resolve type resolvetype scope has error haserror limit fault tolerance has error haserror resolved type resolvedtype receiver type receivertype anonymous type anonymoustype qualified allocation anonymous type reference binding referencebinding allocation type allocationtype reference binding referencebinding receiver type receivertype receiver type receivertype can be instantiate d canbeinstantiated scope problem reporter problemreporter cannot instantiate cannotinstantiate type receiver type receivertype resolved type resolvedtype receiver type receivertype binding scope get constructor getconstructor allocation type allocationtype argument types argumenttypes is valid binding isvalidbinding is method use deprecated ismethodusedeprecated binding scope scope problem reporter problemreporter deprecated method deprecatedmethod binding arguments check invocation arguments checkinvocationarguments scope allocation type allocationtype binding arguments argument types argumenttypes args contain cast argscontaincast binding declaring class declaringclass binding declaring class declaringclass allocation type allocationtype scope problem reporter problemreporter invalid constructor invalidconstructor binding resolved type resolvedtype receiver type receivertype enclosing instance compatible inner most innermost enclosing type reference binding referencebinding expected type expectedtype binding declaring class declaringclass enclosing type enclosingtype enclosing instance type enclosinginstancetype is compatible with iscompatiblewith expected type expectedtype enclosing instance enclosinginstance compute conversion computeconversion scope expected type expectedtype enclosing instance type enclosinginstancetype receiver type receivertype scope problem reporter problemreporter type mismatch error typemismatcherror enclosing instance type enclosinginstancetype expected type expectedtype enclosing instance enclosinginstance resolved type resolvedtype receiver type receivertype anonymous type scenario anonymous inherits java lang object declared super type binding supertypebinding receiver type receivertype is interface isinterface scope get java lang object getjavalangobject reference binding referencebinding receiver type receivertype insert anonymous type scope scope add anonymous type addanonymoustype anonymous type anonymoustype reference binding referencebinding receiver type receivertype anonymous type anonymoustype resolve scope find anonymous constructor method binding methodbinding inherited binding inheritedbinding scope get constructor getconstructor super type binding supertypebinding argument types argumenttypes inherited binding inheritedbinding is valid binding isvalidbinding inherited binding inheritedbinding declaring class declaringclass inherited binding inheritedbinding declaring class declaringclass super type binding supertypebinding scope problem reporter problemreporter invalid constructor invalidconstructor inherited binding inheritedbinding resolved type resolvedtype anonymous type anonymoustype binding enclosing instance enclosinginstance reference binding referencebinding target enclosing targetenclosing inherited binding inheritedbinding declaring class declaringclass enclosing type enclosingtype target enclosing targetenclosing scope problem reporter problemreporter unnecessary enclosing instance specification unnecessaryenclosinginstancespecification enclosing instance enclosinginstance reference binding referencebinding receiver type receivertype resolved type resolvedtype anonymous type anonymoustype binding enclosing instance type enclosinginstancetype is compatible with iscompatiblewith target enclosing targetenclosing scope problem reporter problemreporter type mismatch error typemismatcherror enclosing instance type enclosinginstancetype target enclosing targetenclosing enclosing instance enclosinginstance resolved type resolvedtype anonymous type anonymoustype binding enclosing instance enclosinginstance compute conversion computeconversion scope target enclosing targetenclosing enclosing instance type enclosinginstancetype arguments check invocation arguments checkinvocationarguments scope super type binding supertypebinding inherited binding inheritedbinding arguments argument types argumenttypes args contain cast argscontaincast update anonymous superclass binding anonymous type anonymoustype creates internal constructor with binding createsinternalconstructorwithbinding inherited binding inheritedbinding change resolved type resolvedtype anonymous type anonymoustype binding traverse ast visitor astvisitor visitor block scope blockscope scope visitor visit scope enclosing instance enclosinginstance enclosing instance enclosinginstance traverse visitor scope type arguments typearguments type arguments length typeargumentslength type arguments typearguments length type arguments length typeargumentslength type arguments typearguments traverse visitor scope type traverse visitor scope arguments arguments length argumentslength arguments length arguments length argumentslength arguments traverse visitor scope anonymous type anonymoustype anonymous type anonymoustype traverse visitor scope visitor end visit endvisit scope
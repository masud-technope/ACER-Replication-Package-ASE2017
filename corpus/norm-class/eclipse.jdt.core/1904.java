copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core search matching java util array list arraylist org eclipse jdt core search search match searchmatch org eclipse jdt core search search pattern searchpattern org eclipse jdt internal compiler ast org eclipse jdt internal compiler util hashtable of long hashtableoflong org eclipse jdt internal compiler util simple lookup table simplelookuptable org eclipse jdt internal compiler util simple set simpleset org eclipse jdt internal core util util matches matches resolved suppress warnings suppresswarnings rawtypes unchecked matching node set matchingnodeset map matching ast nodes don resolved accuracy level node removed reported node accuracy simple lookup table simplelookuptable matching nodes matchingnodes simple lookup table simplelookuptable source range sourcerange node hashtable of long hashtableoflong matching nodes keys matchingnodeskeys hashtable of long hashtableoflong integer exact match integer value of valueof search match searchmatch accurate integer potential match integer value of valueof search match searchmatch inaccurate integer erasure match integer value of valueof search pattern searchpattern erasure match loc ators locators resolve current matching node must resolve mustresolve matching ast nodes resolved determine match search pattern simple set simpleset possible matching nodes set possiblematchingnodesset simple set simpleset hashtable of long hashtableoflong possible matching nodes keys possiblematchingnodeskeys hashtable of long hashtableoflong matching node set matchingnodeset must resolve pattern mustresolvepattern must resolve mustresolve must resolve pattern mustresolvepattern add match addmatch ast node astnode node match level matchlevel masked level maskedlevel match level matchlevel pattern locator patternlocator match level mask masked level maskedlevel pattern locator patternlocator inaccurate match match level matchlevel masked level maskedlevel add trusted match addtrustedmatch node integer value of valueof search match searchmatch inaccurate match level matchlevel pattern locator patternlocator flavors mask add trusted match addtrustedmatch node potential match pattern locator patternlocator match add possible match addpossiblematch node pattern locator patternlocator erasure match match level matchlevel masked level maskedlevel add trusted match addtrustedmatch node integer value of valueof search pattern searchpattern erasure match match level matchlevel pattern locator patternlocator flavors mask add trusted match addtrustedmatch node erasure match pattern locator patternlocator accurate match match level matchlevel masked level maskedlevel add trusted match addtrustedmatch node integer value of valueof search match searchmatch accurate match level matchlevel pattern locator patternlocator flavors mask add trusted match addtrustedmatch node exact match match level matchlevel add possible match addpossiblematch ast node astnode node remove existing node position recovery created node time http bugs eclipse org bugs bug cgi key node source start sourcestart node source end sourceend ast node astnode existing ast node astnode possible matching nodes keys possiblematchingnodeskeys key existing existing get class getclass equals node get class getclass possible matching nodes set possiblematchingnodesset remove existing add node possible matching nodes set possiblematchingnodesset add node possible matching nodes keys possiblematchingnodeskeys key node add trusted match addtrustedmatch ast node astnode node is exact isexact add trusted match addtrustedmatch node is exact isexact exact match potential match add trusted match addtrustedmatch ast node astnode node integer level remove existing node position recovery created node time http bugs eclipse org bugs bug cgi key node source start sourcestart node source end sourceend ast node astnode existing ast node astnode matching nodes keys matchingnodeskeys key existing existing get class getclass equals node get class getclass matching nodes matchingnodes remove key removekey existing map node accuracy level matching nodes matchingnodes node level matching nodes keys matchingnodeskeys key node has possible nodes haspossiblenodes start object nodes possible matching nodes set possiblematchingnodesset values nodes length ast node astnode node ast node astnode nodes node start node source start sourcestart node source end sourceend nodes matching nodes matchingnodes key table keytable nodes length ast node astnode node ast node astnode nodes node start node source start sourcestart node source end sourceend returns matching nodes range source order ast node astnode matching nodes matchingnodes start array list arraylist nodes object key table keytable matching nodes matchingnodes key table keytable key table keytable length ast node astnode node ast node astnode key table keytable node start node source start sourcestart node source end sourceend nodes nodes array list arraylist nodes add node nodes ast node astnode result ast node astnode nodes size nodes to array toarray result sort nodes source starts util comparer compare r comparer util comparer compare object object ast node astnode source start sourcestart ast node astnode source start sourcestart util sort result compare r comparer result object remove possible match removepossiblematch ast node astnode node key node source start sourcestart node source end sourceend ast node astnode existing ast node astnode possible matching nodes keys possiblematchingnodeskeys key existing possible matching nodes keys possiblematchingnodeskeys key possible matching nodes set possiblematchingnodesset remove node object remove trusted match removetrustedmatch ast node astnode node key node source start sourcestart node source end sourceend ast node astnode existing ast node astnode matching nodes keys matchingnodeskeys key existing matching nodes keys matchingnodeskeys key matching nodes matchingnodes remove key removekey node string to string tostring todo jerome tab les tables string buffer stringbuffer result string buffer stringbuffer nls result append exact matches object key table keytable matching nodes matchingnodes key table keytable object value table valuetable matching nodes matchingnodes value table valuetable key table keytable length ast node astnode node ast node astnode key table keytable node nls result append integer value table valuetable int value intvalue search match searchmatch accurate nls result append nls accurate match search match searchmatch inaccurate nls result append nls inaccurate match search pattern searchpattern erasure match nls result append nls erasure match node print result nls result append n possible npossible matches object nodes possible matching nodes set possiblematchingnodesset values nodes length ast node astnode node ast node astnode nodes node nls result append npossible match node print result result to string tostring
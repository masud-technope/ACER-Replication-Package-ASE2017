copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation tim hanson than son thanson bea patch https bugs eclipse org bugs bug cgi org eclipse jdt internal core java byte array input stream bytearrayinputstream java io exception ioexception java util array list arraylist org eclipse core resources i file ifile org eclipse core resources i resource iresource org eclipse core resources i resource status iresourcestatus org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i safe runnable isaferunnable org eclipse core runtime safe runner saferunner org eclipse core runtime content i content description icontentdescription org eclipse jdt core org eclipse jdt internal core util util suppress warnings suppresswarnings unchecked rawtypes buffer i buffer ibuffer i file ifile file flags contents array list arraylist change listeners changelisteners i openable iopenable owner gap start gapstart gap end gapend object lock object unsaved read closed creates buffer underlying resource buffer i file ifile file i openable iopenable owner read only readonly file file owner owner file set read only setreadonly read only readonly i buffer ibuffer add buffer changed listener addbufferchangedlistener i buffer changed listener ibufferchangedlistener listener change listeners changelisteners change listeners changelisteners array list arraylist change listeners changelisteners listener change listeners changelisteners add listener append code text code actual content gap moved code text code append text is read only isreadonly text text length length get length getlength lock contents move and resize gap moveandresizegap length text length system arraycopy text contents length text length gap start gapstart text length flags unsaved notify changed notifychanged buffer changed event bufferchangedevent length string text append code text code actual content gap moved code text code append string text text append text to char array tochararray i buffer ibuffer close buffer changed event bufferchangedevent event lock is closed isclosed event buffer changed event bufferchangedevent contents flags closed notify block notify changed notifychanged event ensure thread adding removing listener time https bugs eclipse org bugs bug cgi change listeners changelisteners i buffer ibuffer get char getchar position lock contents character min position gap start gapstart contents position gap length gaplength gap end gapend gap start gapstart contents position gap length gaplength i buffer ibuffer get char acters getcharacters lock contents gap start gapstart contents length contents length new contents newcontents length gap end gapend gap start gapstart system arraycopy contents new contents newcontents gap start gapstart system arraycopy contents gap end gapend new contents newcontents gap start gapstart length gap end gapend new contents newcontents i buffer ibuffer string get contents getcontents chars get char acters getcharacters chars string chars i buffer ibuffer get length getlength lock contents length gap end gapend gap start gapstart contents length length i buffer ibuffer i openable iopenable get owner getowner owner i buffer ibuffer string get text gettext offset length lock nls contents offset length gap start gapstart string contents offset length gap start gapstart offset gap length gaplength gap end gapend gap start gapstart string contents offset gap length gaplength length string buffer stringbuffer buf string buffer stringbuffer buf append contents offset gap start gapstart offset buf append contents gap end gapend offset length gap start gapstart buf to string tostring i buffer ibuffer i resource iresource get underlying resource getunderlyingresource file i buffer ibuffer has unsaved changes hasunsavedchanges flags unsaved i buffer ibuffer is closed isclosed flags closed i buffer ibuffer is read only isreadonly flags read moves gap location adjust size anti cipated anticipated change size size represents expected range gap filled gap moved gap resize d resized actual size size moved position move and resize gap moveandresizegap position size content old size oldsize gap end gapend gap start gapstart size old size oldsize content contents length old size oldsize system arraycopy contents content gap start gapstart system arraycopy contents gap end gapend content gap start gapstart content length gap start gapstart contents content gap start gapstart gap end gapend position content contents length size old size oldsize new gap start newgapstart position new gap end newgapend new gap start newgapstart size old size oldsize system arraycopy contents content new gap start newgapstart system arraycopy contents new gap start newgapstart content new gap end newgapend content length new gap end newgapend new gap start newgapstart gap start gapstart delta gap start gapstart new gap start newgapstart system arraycopy contents content new gap start newgapstart system arraycopy contents new gap start newgapstart content new gap end newgapend delta system arraycopy contents gap end gapend content new gap end newgapend delta contents length gap end gapend delta new gap start newgapstart gap start gapstart system arraycopy contents content gap start gapstart system arraycopy contents gap end gapend content gap start gapstart delta system arraycopy contents gap end gapend delta content new gap end newgapend content length new gap end newgapend contents content gap start gapstart new gap start newgapstart gap end gapend new gap end newgapend notify listeners buffer changed avoid deadlock called block notify changed notifychanged buffer changed event bufferchangedevent event array list arraylist listeners change listeners changelisteners listeners size listeners size size i buffer changed listener ibufferchangedlistener listener i buffer changed listener ibufferchangedlistener listeners safe runner saferunner i safe runnable isaferunnable handle exception handleexception throwable exception util log exception exception occurred listener buffer change not ification notification exception listener buffer changed bufferchanged event i buffer ibuffer remove buffer changed listener removebufferchangedlistener i buffer changed listener ibufferchangedlistener listener change listeners changelisteners change listeners changelisteners remove listener change listeners changelisteners size change listeners changelisteners replaces code length code characters starting code position code code text code operation gap inserted code text code replace position length text is read only isreadonly text length textlength text text length lock contents move gap move and resize gap moveandresizegap position length text length textlength length overwrite min math min text length textlength length min system arraycopy text contents position min length text length textlength enlarge gap gap start gapstart length text length textlength text length textlength length shrink gap gap start gapstart text length textlength length system arraycopy text contents position text length textlength flags unsaved string string text length textlength string string text notify changed notifychanged buffer changed event bufferchangedevent position length string replaces code length code characters starting code position code code text code operation gap inserted code text code replace position length string text replace position length text text to char array tochararray i buffer ibuffer save i progress monitor iprogressmonitor progress force java model exception javamodelexception determine saving required is read only isreadonly file has unsaved changes hasunsavedchanges platform operation update resource contents string string contents stringcontents get contents getcontents string contents stringcontents encoding string encoding encoding file get charset getcharset core exception coreexception create bytes array bytes encoding string contents stringcontents get bytes getbytes string contents stringcontents get bytes getbytes encoding bug https bugs eclipse org bugs bug cgi encoding encoding equals org eclipse jdt internal compiler util util utf i content description icontentdescription description description file get content description getcontentdescription core exception coreexception get status getstatus get code getcode i resource status iresourcestatus resource description description description get property getproperty i content description icontentdescription order mark bom length bomlength i content description icontentdescription bom utf length byteswithbom bytes length bom length bomlength system arraycopy i content description icontentdescription bom utf byteswithbom bom length bomlength system arraycopy bytes byteswithbom bom length bomlength bytes length bytes byteswithbom file contents byte array input stream bytearrayinputstream stream byte array input stream bytearrayinputstream bytes file exists file set contents setcontents stream force i resource iresource force i resource iresource history i resource iresource history file create stream force io exception ioexception java model exception javamodelexception i java model status constants ijavamodelstatusconstants exception core exception coreexception java model exception javamodelexception resource longer unsaved flags unsaved i buffer ibuffer set contents setcontents new contents newcontents creation buffer factory contents lock contents new contents newcontents flags unsaved is read only isreadonly string string new contents newcontents string string new contents newcontents lock ignore buffer closed spec contents contents new contents newcontents flags unsaved gap start gapstart gap end gapend buffer changed event bufferchangedevent event buffer changed event bufferchangedevent get length getlength string notify changed notifychanged event i buffer ibuffer set contents setcontents string new contents newcontents set contents setcontents new contents newcontents to char array tochararray sets code buffer code read set read only setreadonly read only readonly read only readonly flags read flags read string to string tostring string buffer stringbuffer buffer string buffer stringbuffer nls buffer append owner java element javaelement owner to string with ancestors tostringwithancestors nls buffer append n has nhas unsaved has unsaved changes hasunsavedchanges nls buffer append n is nis read only readonly is read only isreadonly nls buffer append n is nis closed is closed isclosed nls buffer append n contents ncontents char contents charcontents get char acters getcharacters char contents charcontents nls buffer append length char contents charcontents length length char contents charcontents nls buffer append nls length contents nls buffer append nls nls buffer append nls buffer append buffer to string tostring
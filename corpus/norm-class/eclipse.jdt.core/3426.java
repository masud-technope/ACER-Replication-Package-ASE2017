copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug increment decrement operators mark local variables read bug npe code stream codestream invoke org eclipse jdt internal eval org eclipse jdt internal compiler ast ast node astnode org eclipse jdt internal compiler ast assignment org eclipse jdt internal compiler ast compound assignment compoundassignment org eclipse jdt internal compiler ast expression org eclipse jdt internal compiler ast int literal intliteral org eclipse jdt internal compiler ast qualified name reference qualifiednamereference org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler codegen opcodes org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup field binding fieldbinding org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup problem binding problembinding org eclipse jdt internal compiler lookup problem field binding problemfieldbinding org eclipse jdt internal compiler lookup problem reasons problemreasons org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type ids typeids org eclipse jdt internal compiler lookup variable binding variablebinding code snippet qualified name reference codesnippetqualifiednamereference qualified name reference qualifiednamereference evaluation constants evaluationconstants problem reasons problemreasons evaluation context evaluationcontext evaluation context evaluationcontext field binding fieldbinding delegate this delegatethis code snippet qualified name reference codesnippetqualifiednamereference constructor comment param sources param source start sourcestart param source end sourceend code snippet qualified name reference codesnippetqualifiednamereference sources positions source start sourcestart source end sourceend evaluation context evaluationcontext evaluation context evaluationcontext sources positions source start sourcestart source end sourceend evaluation context evaluationcontext evaluation context evaluationcontext check redirect field access delegate receiver type binding typebinding check field access checkfieldaccess block scope blockscope scope field binding fieldbinding field binding fieldbinding field binding fieldbinding binding method scope methodscope method scope methodscope scope method scope methodscope type binding typebinding declaring class declaringclass field binding fieldbinding original declaring class declaringclass check references index of first field binding indexoffirstfieldbinding declaring class declaringclass is enum isenum type binding typebinding equals equals equalsequals method scope methodscope enclosing source type enclosingsourcetype declaring class declaringclass method scope methodscope last visible field d lastvisiblefieldid field binding fieldbinding method scope methodscope last visible field d lastvisiblefieldid field binding fieldbinding is static isstatic method scope methodscope is static isstatic scope problem reporter problemreporter for ward reference forwardreference index of first field binding indexoffirstfieldbinding field binding fieldbinding clear bits bits ast node astnode restrictiveflagmask bits binding field get other field bindings getotherfieldbindings scope generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired code stream codestream position type bits binding variable code stream codestream record positions from recordpositionsfrom source start sourcestart field binding fieldbinding last field binding lastfieldbinding other bindings otherbindings field binding fieldbinding binding other bindings otherbindings other bindings otherbindings length last field binding lastfieldbinding can be seen by canbeseenby get final receiver type getfinalreceivertype current scope currentscope generate code generatecode current scope currentscope code stream codestream value required valuerequired last field binding lastfieldbinding generate read sequence generatereadsequence current scope currentscope code stream codestream last field binding lastfieldbinding is static isstatic last field binding lastfieldbinding is static isstatic constant field constant fieldconstant last field binding lastfieldbinding constant field constant fieldconstant constant notaconstant is static isstatic code stream codestream invoke object get class invokeobjectgetclass code stream codestream pop inline field constant value required valuerequired code stream codestream generate constant generateconstant field constant fieldconstant implicit conversion implicitconversion is first isfirst last field binding lastfieldbinding binding index of first field binding indexoffirstfieldbinding type binding typebinding equals equals equalsequals last field binding lastfieldbinding declaring class declaringclass current scope currentscope enclosing receiver type enclosingreceivertype dup other bindings otherbindings type binding typebinding required generic cast requiredgenericcast get generic cast getgenericcast other bindings otherbindings other bindings otherbindings length value required valuerequired is first isfirst current scope currentscope compiler options compileroptions compliance level compliancelevel class file constants classfileconstants jdk implicit conversion implicitconversion type ids typeids unboxing required generic cast requiredgenericcast last field pc lastfieldpc code stream codestream position array length last field binding lastfieldbinding declaring class declaringclass code stream codestream array length arraylength value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion occur value required valuerequired compliance code stream codestream pop code stream codestream generate emulated read access for field generateemulatedreadaccessforfield last field binding lastfieldbinding required generic cast requiredgenericcast code stream codestream check cast checkcast required generic cast requiredgenericcast value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion is unboxing isunboxing implicit conversion implicitconversion type ids typeids unboxing conversion generated unboxing is unboxing isunboxing code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion is unboxing isunboxing post conversion type postconversiontype current scope currentscope last field binding lastfieldbinding type code stream codestream pop code stream codestream pop field position fieldposition source positions sourcepositions source positions sourcepositions length code stream codestream record positions from recordpositionsfrom last field pc lastfieldpc field position fieldposition is static isstatic perform check code stream codestream invoke object get class invokeobjectgetclass code stream codestream pop code stream codestream record positions from recordpositionsfrom source start sourcestart check redirect field access delegate receiver generate assignment generateassignment block scope blockscope current scope currentscope code stream codestream code stream codestream assignment assignment value required valuerequired field binding fieldbinding last field binding lastfieldbinding other bindings otherbindings field binding fieldbinding binding other bindings otherbindings other bindings otherbindings length last field binding lastfieldbinding can be seen by canbeseenby get final receiver type getfinalreceivertype current scope currentscope generate assignment generateassignment current scope currentscope code stream codestream assignment value required valuerequired last field binding lastfieldbinding generate read sequence generatereadsequence current scope currentscope code stream codestream code stream codestream generate emulation for field generateemulationforfield last field binding lastfieldbinding code stream codestream swap assignment expression generate code generatecode current scope currentscope code stream codestream value required valuerequired last field binding lastfieldbinding type type ids typeids type ids typeids code stream codestream dup code stream codestream dup code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield last field binding lastfieldbinding value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion generate compound assignment generatecompoundassignment block scope blockscope current scope currentscope code stream codestream code stream codestream expression expression assignment implicit conversion assignmentimplicitconversion value required valuerequired field binding fieldbinding last field binding lastfieldbinding other bindings otherbindings field binding fieldbinding binding other bindings otherbindings other bindings otherbindings length last field binding lastfieldbinding can be seen by canbeseenby get final receiver type getfinalreceivertype current scope currentscope generate compound assignment generatecompoundassignment current scope currentscope code stream codestream expression assignment implicit conversion assignmentimplicitconversion value required valuerequired last field binding lastfieldbinding generate read sequence generatereadsequence current scope currentscope code stream codestream last field binding lastfieldbinding is static isstatic code stream codestream generate emulation for field generateemulationforfield last field binding lastfieldbinding code stream codestream swap code stream codestream aconst code stream codestream swap code stream codestream generate emulated read access for field generateemulatedreadaccessforfield last field binding lastfieldbinding code stream codestream generate emulation for field generateemulationforfield last field binding lastfieldbinding code stream codestream swap code stream codestream dup code stream codestream generate emulated read access for field generateemulatedreadaccessforfield last field binding lastfieldbinding field access write access perform actual compound operation operation type d operationtypeid operation type d operationtypeid implicit conversion implicitconversion implicit conversion mask java lang string javalangstring code stream codestream generate string concatenation append generatestringconcatenationappend current scope currentscope expression promote array reference suitable operation type code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion generate increment promoted operation prefix operation expression int literal intliteral code stream codestream generate constant generateconstant expression constant implicit conversion implicitconversion expression generate code generatecode current scope currentscope code stream codestream perform operation code stream codestream send operator sendoperator operation type d operationtypeid array reference type code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion assignmentimplicitconversion field receiver value required valuerequired last field binding lastfieldbinding type type ids typeids type ids typeids code stream codestream dup code stream codestream dup current stack field receiver code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield last field binding lastfieldbinding generate post increment generatepostincrement block scope blockscope current scope currentscope code stream codestream code stream codestream compound assignment compoundassignment post increment postincrement value required valuerequired field binding fieldbinding last field binding lastfieldbinding other bindings otherbindings field binding fieldbinding binding other bindings otherbindings other bindings otherbindings length last field binding lastfieldbinding can be seen by canbeseenby get final receiver type getfinalreceivertype current scope currentscope generate post increment generatepostincrement current scope currentscope code stream codestream post increment postincrement value required valuerequired last field binding lastfieldbinding generate read sequence generatereadsequence current scope currentscope code stream codestream code stream codestream generate emulated read access for field generateemulatedreadaccessforfield last field binding lastfieldbinding value required valuerequired last field binding lastfieldbinding type type ids typeids type ids typeids code stream codestream dup code stream codestream dup code stream codestream generate emulation for field generateemulationforfield last field binding lastfieldbinding type binding typebinding equals equals equalsequals last field binding lastfieldbinding type type binding typebinding type binding typebinding equals equals equalsequals last field binding lastfieldbinding type type binding typebinding code stream codestream dup code stream codestream pop last field binding lastfieldbinding is static isstatic code stream codestream aconst generate read sequence generatereadsequence current scope currentscope code stream codestream code stream codestream dup code stream codestream pop code stream codestream dup code stream codestream pop last field binding lastfieldbinding is static isstatic code stream codestream aconst generate read sequence generatereadsequence current scope currentscope code stream codestream code stream codestream dup code stream codestream pop code stream codestream generate constant generateconstant post increment postincrement expression constant implicit conversion implicitconversion code stream codestream send operator sendoperator post increment postincrement last field binding lastfieldbinding type code stream codestream generate implicit conversion generateimplicitconversion post increment postincrement pre assign implicit conversion preassignimplicitconversion code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield last field binding lastfieldbinding generate code bindings local fields excluding generated code read write access field binding fieldbinding generate read sequence generatereadsequence block scope blockscope current scope currentscope code stream codestream code stream codestream determine rank actual field access other bindings count otherbindingscount other bindings otherbindings other bindings otherbindings length need value needvalue other bindings count otherbindingscount other bindings otherbindings is static isstatic field binding fieldbinding last field binding lastfieldbinding type binding typebinding last generic cast lastgenericcast type binding typebinding last receiver type lastreceivertype comply to complyto current scope currentscope compiler options compileroptions compliance level compliancelevel class file constants classfileconstants jdk bits restrictiveflagmask binding field last field binding lastfieldbinding field binding fieldbinding binding original last generic cast lastgenericcast generic cast genericcast last receiver type lastreceivertype actual receiver type actualreceivertype field constant inline last field binding lastfieldbinding constant constant notaconstant need value needvalue last field binding lastfieldbinding can be seen by canbeseenby actual receiver type actualreceivertype current scope currentscope last field binding lastfieldbinding is static isstatic bits depthmask reference binding referencebinding target type targettype current scope currentscope enclosing source type enclosingsourcetype enclosing type at enclosingtypeat bits depthmask depthshift object emulation path emulationpath current scope currentscope get emulation path getemulationpath exact match target type targettype enclosing arg code stream codestream generate outer access generateouteraccess emulation path emulationpath target type targettype current scope currentscope generate receiver generatereceiver code stream codestream last field binding lastfieldbinding is static isstatic bits depthmask internal error construction supported current scope currentscope problem reporter problemreporter need implementation needimplementation generate receiver generatereceiver code stream codestream code stream codestream aconst reading local variable binding local last field binding lastfieldbinding last generic cast lastgenericcast local variable binding localvariablebinding local binding localbinding local variable binding localvariablebinding binding last receiver type lastreceivertype local binding localbinding type needed need value needvalue regular local variable read constant local constant localconstant local binding localbinding constant local constant localconstant constant notaconstant code stream codestream generate constant generateconstant local constant localconstant implicit conversion local bits is capture d outer local iscapturedouterlocal check effective finality checkeffectivefinality local binding localbinding current scope currentscope local reached synthetic arg synthetic field variable binding variablebinding path current scope currentscope get emulation path getemulationpath local binding localbinding code stream codestream generate outer access generateouteraccess path local binding localbinding current scope currentscope code stream codestream load local binding localbinding occur int ermediate intermediate field accesses read accesses field binding write access positions length positionslength source positions sourcepositions length initial local binding field binding fieldbinding initial field binding initialfieldbinding last field binding lastfieldbinding other bindings otherbindings other bindings count otherbindingscount code stream codestream position field binding fieldbinding next field nextfield other bindings otherbindings original type binding typebinding next generic cast nextgenericcast other generic c asts othergenericcasts other generic c asts othergenericcasts last field binding lastfieldbinding need value needvalue next field nextfield is static isstatic constant field constant fieldconstant last field binding lastfieldbinding constant field constant fieldconstant constant notaconstant last field binding lastfieldbinding is static isstatic perform check code stream codestream invoke object get class invokeobjectgetclass code stream codestream pop need value needvalue code stream codestream generate constant generateconstant field constant fieldconstant need value needvalue comply to complyto last generic cast lastgenericcast last field binding lastfieldbinding can be seen by canbeseenby last receiver type lastreceivertype current scope currentscope method binding methodbinding accessor synthetic read access ors syntheticreadaccessors synthetic read access ors syntheticreadaccessors accessor type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope last field binding lastfieldbinding last receiver type lastreceivertype index of first field binding indexoffirstfieldbinding last field binding lastfieldbinding is static isstatic code stream codestream field access fieldaccess opcodes opc get static getstatic last field binding lastfieldbinding constant pool declaring class constantpooldeclaringclass code stream codestream field access fieldaccess opcodes opc get field getfield last field binding lastfieldbinding constant pool declaring class constantpooldeclaringclass code stream codestream invoke opcodes opc invokestatic declaring class declaringclass accessor code stream codestream generate emulated read access for field generateemulatedreadaccessforfield last field binding lastfieldbinding last generic cast lastgenericcast code stream codestream check cast checkcast last generic cast lastgenericcast last receiver type lastreceivertype last generic cast lastgenericcast last receiver type lastreceivertype last field binding lastfieldbinding type need value needvalue code stream codestream pop last field binding lastfieldbinding initial field binding initialfieldbinding last field binding lastfieldbinding is static isstatic value required valuerequired side effects clinit invocation field belongs type binding typebinding not equals notequals initial field binding initialfieldbinding declaring class declaringclass actual receiver type actualreceivertype erasure last field binding lastfieldbinding can be seen by canbeseenby last receiver type lastreceivertype current scope currentscope method binding methodbinding accessor synthetic read access ors syntheticreadaccessors synthetic read access ors syntheticreadaccessors accessor type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope last field binding lastfieldbinding last receiver type lastreceivertype index of first field binding indexoffirstfieldbinding code stream codestream field access fieldaccess opcodes opc get static getstatic last field binding lastfieldbinding constant pool declaring class constantpooldeclaringclass code stream codestream invoke declaring class declaringclass opcodes opc invokestatic accessor code stream codestream generate emulated read access for field generateemulatedreadaccessforfield last field binding lastfieldbinding code stream codestream pop last field binding lastfieldbinding is static isstatic perform check code stream codestream invoke object get class invokeobjectgetclass code stream codestream pop last receiver type lastreceivertype last field binding lastfieldbinding type positions length positionslength other bindings count otherbindingscount field position fieldposition source positions sourcepositions positions length positionslength other bindings count otherbindingscount code stream codestream record positions from recordpositionsfrom field position fieldposition last field binding lastfieldbinding next field nextfield last generic cast lastgenericcast next generic cast nextgenericcast last field binding lastfieldbinding last field binding lastfieldbinding can be seen by canbeseenby last receiver type lastreceivertype current scope currentscope last field binding lastfieldbinding is static isstatic code stream codestream aconst last field binding lastfieldbinding generate receiver generatereceiver code stream codestream code stream codestream code stream codestream aload delegate this delegatethis delegate d delegated field access code stream codestream field access fieldaccess opcodes opc get field getfield delegate this delegatethis declaring class declaringclass type binding typebinding get other field bindings getotherfieldbindings block scope blockscope scope point res trictive flag restrictiveflag potential field local variable binding variablebinding binding valid length tokens length bits binding field check status field binding fieldbinding binding is static isstatic index of first field binding indexoffirstfieldbinding field token qualified reference scope method scope methodscope is static isstatic scope problem reporter problemreporter static field access to non static variable staticfieldaccesstononstaticvariable field binding fieldbinding binding accessing field type receiver allowed field scope problem reporter problemreporter static field access to non static variable staticfieldaccesstononstaticvariable field binding fieldbinding binding field write access is field use deprecated isfieldusedeprecated field binding fieldbinding binding scope index of first field binding indexoffirstfieldbinding length bits scope problem reporter problemreporter deprecated field deprecatedfield field binding fieldbinding binding type binding typebinding type variable binding variablebinding binding type index of first field binding indexoffirstfieldbinding res trictive flag restrictiveflag field length constant field binding fieldbinding binding constant scope type allocation field bindings fieldbindings array res pective respective constants other bindings length otherbindingslength length other bindings otherbindings field binding fieldbinding other bindings length otherbindingslength fill constant binding constant variable binding variablebinding binding constant scope iteration field length token tokens resolve type prior point type field binding fieldbinding field scope get field getfield type token place index of first field binding indexoffirstfieldbinding other bindings otherbindings place field field is valid binding isvalidbinding retrieve field field code snippet scope codesnippetscope local scope localscope code snippet scope codesnippetscope scope delegate this delegatethis evaluation context evaluationcontext declaring type name declaringtypename delegate this delegatethis scope get field getfield scope enclosing source type enclosingsourcetype delegate internal error field delegate this delegatethis report error reporterror scope actual receiver type actualreceivertype delegate this delegatethis type don fill constants slots constant constant notaconstant scope problem reporter problemreporter invalid field invalidfield field type field local scope localscope get field for code snippet getfieldforcodesnippet delegate this delegatethis type token other bindings otherbindings place field field is valid binding isvalidbinding field write access is field use deprecated isfieldusedeprecated field scope length bits scope problem reporter problemreporter deprecated field deprecatedfield field constant prop agation propagation performed previous constant constant constant notaconstant constant field constant scope type field type don fill constants slots constant constant notaconstant scope problem reporter problemreporter invalid field invalidfield field type other bindings otherbindings other bindings length otherbindingslength type denote write access emulation manage synthetic access if necessary managesyntheticaccessifnecessary block scope blockscope current scope currentscope field binding fieldbinding field binding fieldbinding flow info flowinfo flow info flowinfo normal field binding work bind field delegate receiver type binding typebinding report error reporterror block scope blockscope scope evaluation context evaluationcontext declaring type name declaringtypename delegate this delegatethis scope get field getfield scope enclosing source type enclosingsourcetype delegate internal error field delegate this delegatethis report error reporterror scope actual receiver type actualreceivertype delegate this delegatethis type report error reporterror scope binding problem field binding problemfieldbinding problem field binding problemfieldbinding binding problem id problemid not found notfound binding problem binding problembinding problem binding problembinding binding problem id problemid not found notfound support inner class innerclass emulation delegate field binding fieldbinding field binding fieldbinding scope get field getfield delegate this delegatethis type tokens field binding fieldbinding is valid binding isvalidbinding problem field binding problemfieldbinding field binding fieldbinding problem id problemid not visible notvisible manage access field enclosing type code snippet scope codesnippetscope local scope localscope code snippet scope codesnippetscope scope binding local scope localscope get field for code snippet getfieldforcodesnippet delegate this delegatethis type tokens binding is valid binding isvalidbinding check field access checkfieldaccess scope report error reporterror scope report error reporterror scope binding field binding fieldbinding check field access checkfieldaccess scope type binding typebinding result binding problem field binding problemfieldbinding problem field binding problemfieldbinding binding problem id problemid not visible notvisible field local type look ups lookups res trictive flag restrictiveflag flag type flag local field localfield flag type local field typelocalfield code snippet scope codesnippetscope local scope localscope code snippet scope codesnippetscope scope binding local scope localscope get binding getbinding tokens bits restrictiveflagmask reference binding referencebinding delegate this delegatethis type is valid binding isvalidbinding clear bits bits restrictiveflagmask bits binding field result get other field bindings getotherfieldbindings scope report error reporterror scope result result is valid binding isvalidbinding result report error reporterror scope
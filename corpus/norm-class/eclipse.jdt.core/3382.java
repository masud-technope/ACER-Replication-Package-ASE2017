copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors tyeung bea initial api implementation org eclipse jdt apt tests annotations read annotation readannotation java util collection java util hash set hashset junit framework comparison failure comparisonfailure org eclipse jdt apt tests annotations base processor baseprocessor org eclipse jdt apt tests annotations processor test status processorteststatus org eclipse jdt apt tests annotations processor util processorutil sun mirror apt annotation processor environment annotationprocessorenvironment sun mirror declaration annotation mirror annotationmirror sun mirror declaration field declaration fielddeclaration sun mirror declaration method declaration methoddeclaration sun mirror declaration parameter declaration parameterdeclaration sun mirror declaration type declaration typedeclaration read annotation processor readannotationprocessor base processor baseprocessor string annotations string read annotation processor readannotationprocessor annotation processor environment annotationprocessorenvironment env env process processor test status processorteststatus set processor ran setprocessorran type declaration typedeclaration type decl typedecl env get type declaration gettypedeclaration question annotation test annotationtest junit framework test case testcase assert not null assertnotnull failed locate type question annotation test annotationtest type decl typedecl type decl typedecl junit framework test case testcase assert equals assertequals type mismatch question annotation test annotationtest type decl typedecl get qualified name getqualifiedname string expected pkg annos expectedpkgannos string deprecated assert annotation assertannotation expected pkg annos expectedpkgannos type decl typedecl get package getpackage get annotation mirrors getannotationmirrors assert annotation assertannotation expected pkg annos expectedpkgannos env get package getpackage question get annotation mirrors getannotationmirrors string expected no type annos expectednotypeannos string simple annotation simpleannotation foo assert annotation assertannotation expected no type annos expectednotypeannos env get package getpackage not ypes notypes get annotation mirrors getannotationmirrors string expected type annos expectedtypeannos string deprecated rt visible anno rtvisibleanno anno simple annotation simpleannotation test clazzes rt invisible anno rtinvisibleanno question assert annotation assertannotation expected type annos expectedtypeannos type decl typedecl get annotation mirrors getannotationmirrors collection field declaration fielddeclaration field decls fielddecls type decl typedecl get fields getfields counter junit framework test case testcase assert equals assertequals field decls fielddecls size field declaration fielddeclaration field decl fielddecl field decls fielddecls string field counter junit framework test case testcase assert equals assertequals field mismatch field decl fielddecl get simple name getsimplename string expected counter expected string rt visible anno rtvisibleanno foundation bool value boolvalue byte value bytevalue char value charvalue double value doublevalue float value floatvalue int value intvalue long value longvalue short value shortvalue colors red blue anno simple annotation simpleannotation core simple annos simpleannos simple annotation simpleannotation org simple annotation simpleannotation eclipse simple annotation simpleannotation jdt clazzes java lang object java lang string clazz java lang object rt invisible anno rtinvisibleanno org eclipse jdt core deprecated expected string deprecated expected string rt visible anno rtvisibleanno anno simple annotation simpleannotation field clazzes rt invisible anno rtinvisibleanno expected string rt invisible anno rtinvisibleanno expected string simple annotation simpleannotation expected annotations assert annotation assertannotation expected field decl fielddecl get annotation mirrors getannotationmirrors counter collection method declaration methoddeclaration method decls methoddecls type decl typedecl get methods getmethods counter junit framework test case testcase assert equals assertequals method decls methoddecls size method declaration methoddeclaration method decl methoddecl method decls methoddecls string method counter junit framework test case testcase assert equals assertequals method mismatch method decl methoddecl get simple name getsimplename string expected counter expected string rt visible anno rtvisibleanno anno simple annotation simpleannotation method clazzes rt invisible anno rtinvisibleanno deprecated expected string deprecated expected string rt visible anno rtvisibleanno anno simple annotation simpleannotation method clazzes rt invisible anno rtinvisibleanno expected string rt invisible anno rtinvisibleanno expected string simple annotation simpleannotation method expected annotations expected string rt visible anno rtvisibleanno special char value charvalue clazzes anno simple annotation simpleannotation expected annotations assert annotation assertannotation expected method decl methoddecl get annotation mirrors getannotationmirrors counter collection parameter declaration parameterdeclaration param decls paramdecls method decl methoddecl get parameters getparameters p counter pcounter parameter declaration parameterdeclaration param decl paramdecl param decls paramdecls string expected param annotations expectedparamannotations p counter pcounter expected param annotations expectedparamannotations string deprecated expected param annotations expectedparamannotations string rt visible anno rtvisibleanno anno simple annotation simpleannotation param clazzes rt invisible anno rtinvisibleanno expected param annotations expectedparamannotations annotations assert annotation assertannotation expected param annotations expectedparamannotations param decl paramdecl get annotation mirrors getannotationmirrors p counter pcounter counter comparison failure comparisonfailure failure processor test status processorteststatus has errors haserrors processor test status processorteststatus fail without exception failwithoutexception failure to string tostring failure junit framework assertion failed error assertionfailederror error processor test status processorteststatus has errors haserrors processor test status processorteststatus fail without exception failwithoutexception error to string tostring error assert annotation assertannotation string expected collection annotation mirror annotationmirror annotations expected len expectedlen expected length nls junit framework test case testcase assert equals assertequals annotation number mismatch expected length annotations size hash set hashset string expected set expectedset hash set hashset string expected len expectedlen expected len expectedlen expected set expectedset add expected counter annotation mirror annotationmirror mirror annotations string mirror string mirrorstring processor util processorutil anno mirror to string annomirrortostring mirror counter expected len expectedlen nls junit framework test case testcase assert equals assertequals nls nls mirror string mirrorstring expected set expectedset mirror string mirrorstring system err println unexpected mirror string mirrorstring system err println expected expected set expectedset nls junit framework test case testcase assert true asserttrue nls unexpected annotation mirror string mirrorstring nls expected set expectedset remove mirror string mirrorstring counter
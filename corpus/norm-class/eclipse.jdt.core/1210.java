copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation ibm corporation org eclipse jdt compiler apt tests processors negative java byte array output stream bytearrayoutputstream java string reader stringreader java lang reflect method java util array list arraylist java util collections java util list java util map java util javax annotation processing abstract processor abstractprocessor javax annotation processing processing environment processingenvironment javax annotation processing round environment roundenvironment javax annotation processing supported annotation types supportedannotationtypes javax annotation processing supported options supportedoptions javax annotation processing supported source version supportedsourceversion javax lang model source version sourceversion javax lang model element annotation mirror annotationmirror javax lang model element annotation value annotationvalue javax lang model element element javax lang model element element kind elementkind javax lang model element executable element executableelement javax lang model element type element typeelement javax lang model element variable element variableelement javax lang model type declared type declaredtype javax lang model type type kind typekind javax lang model type type mirror typemirror javax lang model util elements javax xml parsers document builder factory documentbuilderfactory org eclipse jdt compiler apt tests processors base xml compare r xmlcomparer org eclipse jdt compiler apt tests processors base xml converter xmlconverter org dom document org xml sax input source inputsource annotation processor investigates model produced code semantic errors missing types enable processor add aorg eclipse jdt compiler apt tests processors negative negative model proc negativemodelproc command option ally optionally enable single test adding int eger integer denoting test option key enable test negative testnegative add aorg eclipse jdt compiler apt tests processors negative negative model proc negativemodelproc command tests supported annotation types supportedannotationtypes supported source version supportedsourceversion source version sourceversion release supported options supportedoptions org eclipse jdt compiler apt tests processors negative negative model proc negativemodelproc negative model proc negativemodelproc ignore javac bugs negative model proc negativemodelproc abstract processor abstractprocessor reference model types negative test string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass annotations annotation sname annotations executable element kind constructor sname init variable element kind field sname type java lang string annotations annotation sname anno annotation values annotation member type java lang string spud annotation values annotation annotations variable element variable element kind field sname type missing annotations annotation sname annotations variable element variable element kind field sname type annotations annotation sname annotations variable element variable element kind field sname type missing missing missing annotations annotation sname annotations variable element type element model reference model types negative test string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass executable element kind constructor sname init executable element kind method sname zork raw zorkraw executable element kind method sname zork of string zorkofstring executable element kind method sname ifoo of string ifooofstring optional executable element kind method sname ibar raw ibarraw executable element kind method sname ibar of t ibaroft optional type element model reference model types negative test string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass executable element kind constructor sname init type element kind qname targets negative negative sname superclass type mirror kind error string superclass executable element kind constructor sname init type element type element kind qname targets negative negative sname superclass type mirror kind error string java lang object superclass executable element kind constructor sname init type element type element kind qname targets negative negative sname superclass type mirror kind string superclass type element type element kind qname targets negative negative sname superclass type mirror kind string superclass type element type element type element kind qname targets negative i negative inegative sname i negative inegative superclass type mirror kind string superclass type element kind qname targets negative i negative inegative sname superclass type mirror kind error string superclass executable element kind constructor sname init type element type element kind qname targets negative i negative inegative sname superclass type mirror kind error string java lang object superclass executable element kind constructor sname init type element type element kind qname targets negative i negative inegative sname superclass type mirror kind string superclass type element type element kind qname targets negative i negative inegative sname superclass type mirror kind string superclass type element type element model reference model negative string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass executable element kind method sname method annotations annotation sname annotations variable element kind parameter sname arg type annotations annotation sname annotations variable element executable element executable element kind method sname method annotations annotation sname annotations variable element kind parameter sname arg type annotations annotation sname annotations variable element executable element executable element kind method sname method variable element kind parameter sname arg type java lang string annotations annotation sname annotations variable element variable element kind parameter sname arg type java lang string annotations annotation sname annotations variable element executable element executable element kind constructor sname init annotations annotation sname annotations variable element kind parameter sname arg type annotations annotation sname annotations variable element executable element type element model reference model negative string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind string superclass executable element kind method sname method annotations annotation sname annotations variable element kind parameter sname arg type annotations annotation sname annotations variable element executable element type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass interfaces type mirror kind declared string java lang cloneable interfaces executable element kind method sname method annotations annotation sname annotations variable element kind parameter sname arg type annotations annotation sname annotations variable element executable element type element model reference model negative string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass interfaces type mirror kind error string remote negative remotenegative interfaces executable element kind constructor sname init type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass interfaces type mirror kind error string remote negative remotenegative interfaces type element type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass interfaces type mirror kind error string remote negative remotenegative interfaces executable element kind constructor sname init type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass interfaces type mirror kind error string remote negative remotenegative interfaces type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass interfaces type mirror kind error string targets negative negative interfaces type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element model reference model negative string negative model version xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass executable element kind constructor sname init type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element type element kind qname targets negative negative sname negative superclass type mirror kind declared string java lang object superclass executable element kind constructor sname init type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element model reference model types negative test string negative model xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass interfaces type mirror kind error string targets negative negative interfaces type element model reference model types negative test string negative model version xml version encoding utf standalone model type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element type element kind qname targets negative negative sname negative superclass type mirror kind string superclass type element model declare option aignore javac bugs aignorejavacbugs ignore failures cases fail java c javac bugs java c javac string ignore javac bugs ignore javac bugs ignorejavacbugs string class name classname negative model proc negativemodelproc get name getname string test method names testmethodnames check negative checknegative check negative checknegative check negative checknegative check negative checknegative check negative checknegative check negative checknegative check negative checknegative check negative checknegative check negative checknegative method test methods testmethods method test method names testmethodnames length report error test code reporting message r messager api fails param displayed test output event failure succeeded report error reporterror string uncomment processor debug ging debugging don report error succeeded system set property setproperty class name classname report success test code report success reportsuccess system set property setproperty class name classname succeeded elements element utils elementutils tests based single test one test onetest report failures tests unsupported report failing cases reportfailingcases processor options don include processor class name classname don proc processor enabled processorenabled ignore javac bugs ignorejavacbugs negative model proc negativemodelproc test method names testmethodnames length test methods testmethods negative model proc negativemodelproc get method getmethod test method names testmethodnames exception print stack trace printstacktrace illegal state exception illegalstateexception javadoc javax annotation processing abstract processor abstractprocessor init javax annotation processing processing environment processingenvironment override init processing environment processingenvironment processing env processingenv init processing env processingenv element utils elementutils processing env processingenv get element utils getelementutils parse options one test onetest map string string options processing env processingenv get options getoptions processor enabled processorenabled options contains key containskey class name classname string one test option onetestoption options class name classname one test option onetestoption one test option onetestoption length one test onetest one test onetest integer parse int parseint one test option onetestoption exception ignore javac bugs ignorejavacbugs options contains key containskey ignore javac bugs processor supports sig nify signify success failure override process type element typeelement annotations round environment roundenvironment round env roundenv processor enabled processorenabled disable processor int entionally intentionally performing test round env roundenv processing over processingover int erested interested post processing postprocessing one test onetest one test onetest test method names testmethodnames length report error reporterror invalid test method processing env processingenv get options getoptions class name classname reflect ively reflectively invoke tests one test onetest method test method testmethod test methods testmethods object success test method testmethod invoke success success object success test methods testmethods one test onetest invoke success success exception print stack trace printstacktrace report error reporterror exception thrown invoking test method report success reportsuccess check model resources targets negative negative tests passed check negative checknegative exception todo moved model tests modeltests test suite xml compare r xmlcomparer test report error reporterror xml language model comparison framework failed test test failing linux https bugs eclipse org bugs bug cgi system get property getproperty index of indexof windows root negative model type element typeelement element element utils elementutils get type element gettypeelement targets negative negative element element get kind getkind element kind elementkind report error reporterror element negative check model checkmodel collections singleton list singletonlist element negative model negative check annotations model resources targets negative negative tests passed check negative checknegative type element typeelement element n elementn element utils elementutils get type element gettypeelement targets negative negative element n elementn element n elementn get kind getkind element kind elementkind report error reporterror element negative list element enclosed elements enclosedelements element n elementn get enclosed elements getenclosedelements element element enclosed elements enclosedelements string element get simple name getsimplename to string tostring equals annotation mirror annotationmirror find annotation findannotation element anno report failing cases reportfailingcases report error reporterror couldn find annotation anno method negative equals annotation mirror annotationmirror find annotation findannotation element anno report failing cases reportfailingcases report error reporterror couldn find annotation anno method negative annotation mirror annotationmirror find annotation findannotation element fake anno fakeanno report failing cases reportfailingcases report error reporterror couldn find annotation fake anno fakeanno method negative equals annotation mirror annotationmirror find annotation findannotation element anno report failing cases reportfailingcases report error reporterror couldn find annotation anno method negative annotation mirror annotationmirror find annotation findannotation element fake anno fakeanno report failing cases reportfailingcases report error reporterror couldn find annotation fake anno fakeanno method negative equals annotation mirror annotationmirror find annotation findannotation element anno report failing cases reportfailingcases report error reporterror couldn find annotation anno method negative map executable element executableelement annotation value annotationvalue values get element values getelementvalues map entry executable element executableelement annotation value annotationvalue entry values entry set entryset equals entry get key getkey get simple name getsimplename to string tostring string entry get value getvalue get value getvalue to string tostring equals error equals report error reporterror unexpected anno negative check model resources targets negative negative tests passed check negative checknegative type element typeelement element n elementn element utils elementutils get type element gettypeelement targets negative negative element n elementn element n elementn get kind getkind element kind elementkind report error reporterror element negative list element enclosed elements enclosedelements element n elementn get enclosed elements getenclosedelements element element enclosed elements enclosedelements string element get simple name getsimplename to string tostring foo equals element kind elementkind kind element get kind getkind report failing cases reportfailingcases element kind elementkind method kind report error reporterror element foo expected method kind list variable element variableelement params executable element executableelement element get parameters getparameters report failing cases reportfailingcases params params size report error reporterror expected method negative foo param params params size variable element variableelement param params iterator type mirror typemirror param type param as type astype type kind typekind tkind param type get kind getkind report failing cases reportfailingcases type kind typekind error tkind type kind typekind declared tkind report error reporterror expected type kind typekind negative foo param error declared tkind behavior type mirror typemirror to string tostring suggested required javadoc test behave java c javac meet spec string pname param type to string tostring report failing cases reportfailingcases equals pname report error reporterror expected to string tostring type negative foo param pname check model resources targets negative negative tests passed check negative checknegative exception type element typeelement element n elementn element utils elementutils get type element gettypeelement targets negative negative element n elementn element n elementn get kind getkind element kind elementkind report error reporterror element negative check model checkmodel collections singleton list singletonlist element n elementn negative model negative check negative checknegative exception list type element typeelement root elements rootelements array list arraylist type element typeelement type element typeelement element element utils elementutils get type element gettypeelement targets negative negative element report error reporterror element negative root elements rootelements add element element element utils elementutils get type element gettypeelement targets negative i negative inegative element report error reporterror element i negative inegative root elements rootelements add element check model checkmodel root elements rootelements negative model negative check model resources targets negative negative tests passed check negative checknegative exception root negative model type element typeelement element element utils elementutils get type element gettypeelement targets negative negative element element get kind getkind element kind elementkind report error reporterror element negative check model checkmodel collections singleton list singletonlist element negative model negative check model resources targets negative negative tests passed check negative checknegative exception roots negative model list type element typeelement root elements rootelements array list arraylist type element typeelement type element typeelement element element utils elementutils get type element gettypeelement targets negative negative element report error reporterror element negative root elements rootelements add element element element utils elementutils get type element gettypeelement targets negative negative element report error reporterror element negative root elements rootelements add element check model checkmodel root elements rootelements negative model negative check model resources targets negative negative tests passed check negative checknegative exception check expected elements list type element typeelement root elements rootelements array list arraylist type element typeelement string suffixes string suffixes length type element typeelement element element utils elementutils get type element gettypeelement targets negative negative suffixes element report error reporterror element negative suffixes root elements rootelements add element processing env processingenv get source version getsourceversion source version sourceversion release check model checkmodel root elements rootelements negative model version negative check model checkmodel root elements rootelements negative model negative check model resources targets negative negative tests passed check negative checknegative exception check expected elements list type element typeelement root elements rootelements array list arraylist type element typeelement string suffixes string suffixes length type element typeelement element element utils elementutils get type element gettypeelement targets negative negative suffixes element report error reporterror element negative suffixes root elements rootelements add element processing env processingenv get source version getsourceversion source version sourceversion release check model checkmodel root elements rootelements negative model version negative check model checkmodel root elements rootelements negative model negative check specific elements suffixes string result string error message errormessage suffixes length type element typeelement element element utils elementutils get type element gettypeelement targets negative negative suffixes list type mirror typemirror interfaces element get interfaces getinterfaces interfaces is empty isempty error message errormessage element negative suffixes missing interfaces result result report error reporterror error message errormessage result compare elements reference model output error mismatch param root elements rootelements param expected string representation xml reference model serialized xml converter xmlconverter param test human readable output actual expected models equivalent exception check model checkmodel list type element typeelement root elements rootelements string expected string exception document actual model actualmodel xml converter xmlconverter convert model convertmodel root elements rootelements input source inputsource source input source inputsource string reader stringreader expected document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance document expected model expectedmodel factory new document builder newdocumentbuilder parse source byte array output stream bytearrayoutputstream byte array output stream bytearrayoutputstream string builder stringbuilder summary string builder stringbuilder summary append test append append failed console details success xml compare r xmlcomparer compare actual model actualmodel expected model expectedmodel summary ignore javac bugs ignorejavacbugs success system println test failed detailed output system print to string tostring system println cut paste system println xml converter xmlconverter xml to cut and paste string xmltocutandpastestring actual model actualmodel system println output report error reporterror summary to string tostring success find annotation element param annotated element param simple annotation mirror annotation annotation annotation mirror annotationmirror find annotation findannotation element string annotation mirror annotationmirror get annotation mirrors getannotationmirrors declared type declaredtype anno type annotype get annotation type getannotationtype anno type annotype element anno type element annotypeelement anno type annotype as element aselement anno type element annotypeelement equals anno type element annotypeelement get simple name getsimplename to string tostring
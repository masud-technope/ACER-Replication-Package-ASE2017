copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite describing junit framework test org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom primitive type primitivetype org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom rewrite ast rewrite astrewrite ast rewriting revert test astrewritingreverttest ast rewriting test astrewritingtest ast rewriting revert test astrewritingreverttest string ast rewriting revert test astrewritingreverttest string api level apilevel api level apilevel test suite create suite createsuite ast rewriting revert test astrewritingreverttest test remove inserted testremoveinserted exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast assert true asserttrue parse errors ast root astroot get flags getflags ast node astnode malformed type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type foo revert inserted node primitive type primitivetype new type newtype ast new primitive type newprimitivetype primitive type primitivetype rewrite method decl methoddecl method declaration methoddeclaration type property new type newtype rewrite remove new type newtype revert inserted list child single variable declaration singlevariabledeclaration new param newparam create new param createnewparam ast rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration parameters property insert first insertfirst new param newparam rewrite remove new param newparam string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append assert equal string assertequalstring preview buf to string tostring test replace inserted testreplaceinserted exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast assert true asserttrue parse errors ast root astroot get flags getflags ast node astnode malformed type declaration typedeclaration type find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type foo replace inserted node primitive type primitivetype new type newtype ast new primitive type newprimitivetype primitive type primitivetype rewrite method decl methoddecl method declaration methoddeclaration type property new type newtype primitive type primitivetype better type bettertype ast new primitive type newprimitivetype primitive type primitivetype rewrite replace new type newtype better type bettertype replace inserted list child single variable declaration singlevariabledeclaration new param newparam create new param createnewparam ast rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration parameters property insert first insertfirst new param newparam single variable declaration singlevariabledeclaration better param betterparam create new param createnewparam ast rewrite replace new param newparam better param betterparam string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append assert equal string assertequalstring preview buf to string tostring
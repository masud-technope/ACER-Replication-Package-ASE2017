copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite describing java util list junit framework test org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core dom org eclipse jdt core dom rewrite ast rewrite astrewrite suppress warnings suppresswarnings rawtypes ast rewriting lambda expression test astrewritinglambdaexpressiontest ast rewriting test astrewritingtest ast rewriting lambda expression test astrewritinglambdaexpressiontest string ast rewriting lambda expression test astrewritinglambdaexpressiontest string api level apilevel api level apilevel test suite create suite createsuite ast rewriting lambda expression test astrewritinglambdaexpressiontest test lambda expressions testlambdaexpressions exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append buf append foo buf append buf append buf append vlambda buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot change type method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration foo assert true asserttrue type foo method decl methoddecl get return type getreturntype type return type returntype method decl methoddecl get return type getreturntype type new return type newreturntype ast root astroot getast new primitive type newprimitivetype primitive type primitivetype rewrite replace return type returntype new return type newreturntype add parameter singleton function method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration foo list parameters method decl methoddecl parameters assert true asserttrue parameter parameters size single variable declaration singlevariabledeclaration decl ast new single variable declaration newsinglevariabledeclaration decl set type settype ast new primitive type newprimitivetype primitive type primitivetype decl set name setname ast new simple name newsimplename rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration parameters property insert last insertlast decl insert parameter type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration foo list parameters method decl methoddecl parameters assert true asserttrue parameters parameters size single variable declaration singlevariabledeclaration new param newparam ast new single variable declaration newsinglevariabledeclaration new param newparam set name setname ast new simple name newsimplename new param newparam set type settype ast new primitive type newprimitivetype primitive type primitivetype rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration parameters property insert first insertfirst new param newparam type declaration typedeclaration find type declaration findtypedeclaration ast root astroot field declaration fielddeclaration field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations variable declaration fragment variabledeclarationfragment fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments expression expression fragment get initializer getinitializer assert true asserttrue expression lambda expression lambdaexpression lambda expression lambdaexpression lambda expression lambdaexpression lambda expression lambdaexpression expression add parameter lambda expression list parameters lambda expression lambdaexpression parameters assert true asserttrue parameter parameters size ast node astnode first param firstparam ast node astnode parameters variable declaration fragment variabledeclarationfragment new param newparam ast new variable declaration fragment newvariabledeclarationfragment new param newparam set name setname ast new simple name newsimplename wlambda rewrite get list rewrite getlistrewrite lambda expression lambdaexpression lambda expression lambdaexpression parameters property insert after insertafter new param newparam first param firstparam replace block body literal expression body ast node astnode body lambda expression lambdaexpression get body getbody ast node astnode new body newbody ast new number literal newnumberliteral rewrite replace body new body newbody field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments expression fragment get initializer getinitializer assert true asserttrue expression lambda expression lambdaexpression lambda expression lambdaexpression lambda expression lambdaexpression expression add parameter lambda expression border empty list init ially initially list parameters lambda expression lambdaexpression parameters assert true asserttrue parameter parameters size variable declaration fragment variabledeclarationfragment new param newparam ast new variable declaration fragment newvariabledeclarationfragment new param newparam set name setname ast new simple name newsimplename vlambda rewrite get list rewrite getlistrewrite lambda expression lambdaexpression lambda expression lambdaexpression parameters property insert first insertfirst new param newparam string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append buf append foo buf append buf append buf append vlambda wlambda buf append vlambda buf append assert equal string assertequalstring preview buf to string tostring test lambda expressions testlambdaexpressions parentheses exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append buf append foo buf append buf append buf append foo buf append buf append buf append foo buf append buf append buf append vlambda buf append idash vlambda buf append buf append buf append kdash buf append vlambda buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createast ast rewrite astrewrite rewrite ast rewrite astrewrite create ast root astroot getast ast ast ast root astroot getast remove parameter type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot method declaration methoddeclaration method decl methoddecl find method declaration findmethoddeclaration type declaration typedeclaration foo list parameters method decl methoddecl parameters assert true asserttrue parameter parameters size ast node astnode param ast node astnode parameters rewrite get list rewrite getlistrewrite method decl methoddecl method declaration methoddeclaration parameters property remove param f count fcount type declaration typedeclaration type declaration typedeclaration find type declaration findtypedeclaration ast root astroot field declaration fielddeclaration field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations f count fcount variable declaration fragment variabledeclarationfragment fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments lambda expression lambdaexpression lambda expression lambdaexpression lambda expression lambdaexpression fragment get initializer getinitializer parent heses parentheses assert true asserttrue lambda expression parantheses lambda expression lambdaexpression has parentheses hasparentheses rewrite lambda expression lambdaexpression lambda expression lambdaexpression parentheses property field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations f count fcount fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments lambda expression lambdaexpression lambda expression lambdaexpression fragment get initializer getinitializer reset parent heses parentheses legal operation assert true asserttrue lambda expression parantheses lambda expression lambdaexpression has parentheses hasparentheses rewrite lambda expression lambdaexpression lambda expression lambdaexpression parentheses property field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations f count fcount fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments lambda expression lambdaexpression lambda expression lambdaexpression fragment get initializer getinitializer reset parent heses parentheses illegal operation assert true asserttrue lambda expression parantheses lambda expression lambdaexpression has parentheses hasparentheses rewrite lambda expression lambdaexpression lambda expression lambdaexpression parentheses property field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations f count fcount fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments lambda expression lambdaexpression lambda expression lambdaexpression fragment get initializer getinitializer reset parent heses parentheses illegal operation assert true asserttrue lambda expression parantheses lambda expression lambdaexpression has parentheses hasparentheses rewrite lambda expression lambdaexpression lambda expression lambdaexpression parentheses property change parameter svd add type info parameters list parameters lambda expression lambdaexpression parameters variable declaration variabledeclaration param variable declaration variabledeclaration parameters single variable declaration singlevariabledeclaration new param newparam ast new single variable declaration newsinglevariabledeclaration new param newparam set name setname ast new simple name newsimplename string param to string tostring new param newparam set type settype ast new primitive type newprimitivetype primitive type primitivetype rewrite get list rewrite getlistrewrite lambda expression lambdaexpression lambda expression lambdaexpression parameters property replace param new param newparam param variable declaration variabledeclaration parameters new param newparam ast new single variable declaration newsinglevariabledeclaration new param newparam set name setname ast new simple name newsimplename string param to string tostring new param newparam set type settype ast new primitive type newprimitivetype primitive type primitivetype rewrite get list rewrite getlistrewrite lambda expression lambdaexpression lambda expression lambdaexpression parameters property replace param new param newparam remove type info parameters field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations f count fcount fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments lambda expression lambdaexpression lambda expression lambdaexpression fragment get initializer getinitializer list parameters lambda expression lambdaexpression parameters parameters size single variable declaration singlevariabledeclaration param single variable declaration singlevariabledeclaration parameters variable declaration fragment variabledeclarationfragment new param newparam ast new variable declaration fragment newvariabledeclarationfragment new param newparam set name setname ast new simple name newsimplename string param get name getname to string tostring rewrite get list rewrite getlistrewrite lambda expression lambdaexpression lambda expression lambdaexpression parameters property replace param new param newparam field declaration fielddeclaration field declaration fielddeclaration type declaration typedeclaration body declarations bodydeclarations f count fcount fragment variable declaration fragment variabledeclarationfragment field declaration fielddeclaration fragments lambda expression lambdaexpression lambda expression lambdaexpression fragment get initializer getinitializer remove parameter rewriter automatically add parent heses parentheses list parameters lambda expression lambdaexpression parameters ast node astnode param ast node astnode parameters rewrite get list rewrite getlistrewrite lambda expression lambdaexpression lambda expression lambdaexpression parameters property remove param string preview evaluate rewrite evaluaterewrite rewrite buf string buffer stringbuffer buf append test buf append buf append foo buf append buf append buf append foo buf append buf append buf append foo buf append buf append buf append foo buf append buf append buf append vlambda buf append idash vlambda buf append buf append buf append kdash buf append buf append assert equal string assertequalstring preview buf to string tostring
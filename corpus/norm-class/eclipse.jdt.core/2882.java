copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests util java data input stream datainputstream java data output stream dataoutputstream java file java file input stream fileinputstream java file not found exception filenotfoundexception java io exception ioexception java input stream inputstream java lang reflect invocation target exception invocationtargetexception java lang reflect method java net server socket serversocket java net socket java util string tokenizer stringtokenizer suppress warnings suppresswarnings unchecked rawtypes verify tests verifytests port number portnumber socket socket verify class loader verifyclassloader class loader classloader scanned path string path items pathitems excluded paths string excluded constructs verify class loader verifyclassloader scans path excluded paths verify class loader verifyclassloader string class path classpath system get property getproperty java path string separator system get property getproperty path separator pass count elements string tokenizer stringtokenizer string tokenizer stringtokenizer class path classpath separator has more tokens hasmoretokens next token nexttoken pass split path items pathitems string string tokenizer stringtokenizer class path classpath separator has more tokens hasmoretokens path items pathitems next token nexttoken java net url get resource getresource string class loader classloader get system resource getsystemresource input stream inputstream get resource as stream getresourceasstream string class loader classloader get system resource as stream getsystemresourceasstream is excluded isexcluded string excluded loaded system loader starts with startswith java starts with startswith ljava exclude user defined paths excluded length starts with startswith excluded load class loadclass string resolve class not found exception classnotfoundexception find loaded class findloadedclass is excluded isexcluded find system class findsystemclass class not found exception classnotfoundexception file file locate file class not found exception classnotfoundexception data load class data loadclassdata file define class defineclass data data length resolve resolve class resolveclass load class data loadclassdata file class not found exception classnotfoundexception file input stream fileinputstream stream system println loading get path getpath stream file input stream fileinputstream stream stream read io exception ioexception class not found exception classnotfoundexception file not found exception filenotfoundexception class not found exception classnotfoundexception stream stream close io exception ioexception locate file returns file could n couldn file locate string file name filename file name filename file name filename file name filename replace file path path items pathitems length path file path items pathitems file name filename path exists path load and run loadandrun string class name classname throwable system println loading class name classname test class testclass verify class loader verifyclassloader load class loadclass class name classname system println loaded class name classname method main test class testclass get method getmethod main string system println running class name classname main invoke object string system println finished running class name classname no such method exception nosuchmethodexception invocation target exception invocationtargetexception get target exception gettargetexception main string args io exception ioexception verify tests verifytests verify verify tests verifytests verify port number portnumber integer parse int parseint args verify io exception ioexception server socket serversocket server server socket serversocket port number portnumber socket server accept socket set tcp no delay settcpnodelay server close data input stream datainputstream data input stream datainputstream socket get input stream getinputstream data output stream dataoutputstream data output stream dataoutputstream socket get output stream getoutputstream string class name classname readutf thread thread thread load and run loadandrun class name classname write boolean writeboolean system err println verify tests verifytests get name getname system println verify tests verifytests get name getname throwable print stack trace printstacktrace system err println verify tests verifytests get name getname system println verify tests verifytests get name getname write boolean writeboolean io exception ioexception print stack trace printstacktrace flush io exception ioexception print stack trace printstacktrace thread start
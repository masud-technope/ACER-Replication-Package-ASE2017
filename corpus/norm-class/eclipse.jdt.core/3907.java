copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests compiler regression java util map org eclipse jdt internal compiler impl compiler options compileroptions junit framework test regression test method handle methodhandle invoke exact invokeexact invoke generic invokegeneric invocation suppress warnings suppresswarnings unchecked rawtypes method handle test methodhandletest abstract regression test abstractregressiontest method handle test methodhandletest string test suite build minimal compliance test suite buildminimalcompliancetestsuite test class testclass test class testclass method handle test methodhandletest tests names string test test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype main string args throwable method handles methodhandles lookup lookup method handles methodhandles lookup method type methodtype method type methodtype method type methodtype string string method handle methodhandle lookup find static findstatic append string string invoke exact invokeexact follo system println method type methodtype method type methodtype object lookup find virtual findvirtual array length arraylength invoke exact invokeexact object foo system println method type methodtype method type methodtype string lookup find static findstatic invoke exact invokeexact method type methodtype method type methodtype object string lookup find virtual findvirtual foo object invoke object foo method type methodtype method type methodtype lookup find static findstatic bar invoke exact invokeexact bar system println bar object foo string system println string append string array length arraylength object array array length string system println follow foo bar test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype java lang invoke wrong method type exception wrongmethodtypeexception foo main string args method handle methodhandle handle method handles methodhandles lookup find static findstatic foo method type methodtype method type methodtype handle invoke wrong method type exception wrongmethodtypeexception system println throwable print stack trace printstacktrace throwable print stack trace printstacktrace test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype java lang invoke wrong method type exception wrongmethodtypeexception foo param main string args method handle methodhandle handle method handles methodhandles lookup find static findstatic foo method type methodtype method type methodtype object object handle invoke throwable print stack trace printstacktrace throwable print stack trace printstacktrace test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype java lang invoke wrong method type exception wrongmethodtypeexception foo param main string args method handle methodhandle handle method handles methodhandles lookup find static findstatic foo method type methodtype method type methodtype object object handle invoke object throwable print stack trace printstacktrace throwable print stack trace printstacktrace test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype java lang invoke wrong method type exception wrongmethodtypeexception foo param main string args method handle methodhandle handle method handles methodhandles lookup find static findstatic foo method type methodtype method type methodtype object object object handle invoke object throwable print stack trace printstacktrace throwable print stack trace printstacktrace test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype java lang invoke wrong method type exception wrongmethodtypeexception main string args throwable method handles methodhandles lookup lookup method handles methodhandles lookup method type methodtype method type methodtype method type methodtype string string method handle methodhandle lookup find static findstatic append string string invoke exact invokeexact follo system println method type methodtype method type methodtype method type methodtype string string method handle methodhandle lookup find static findstatic append invoke exact invokeexact follo wrong method type exception wrongmethodtypeexception system println expected exception string append string follow expected exception test run conform test runconformtest string java java lang invoke method handles methodhandles lookup java lang invoke method type methodtype method type methodtype java lang invoke method handle methodhandle main string args throwable method handle methodhandle foomh lookup find static findstatic foo method type methodtype string string string foomh invoke exact invokeexact system println foomh as type astype method type methodtype invoke exact invokeexact string foo system println foo foo foo foo foo https bugs eclipse org bugs bug cgi wrong unnecessary warning test map custom options customoptions get compiler options getcompileroptions custom options customoptions compiler options compileroptions option report unnecessary type check reportunnecessarytypecheck compiler options compileroptions error run negative test runnegativetest flush output directory test files string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype main string args throwable string str test method handle methodhandle method handles methodhandles lookup find virtual findvirtual string to string tostring method type methodtype method type methodtype string string actual string invoke str test equals actual zork libraries custom options custom options customoptions compiler expected compiler log error java zork zork resolved type javac options javac test options javactestoptions excuse eclipse warning configured as error eclipsewarningconfiguredaserror https bugs eclipse org bugs bug cgi variation test map custom options customoptions get compiler options getcompileroptions custom options customoptions compiler options compileroptions option report unnecessary type check reportunnecessarytypecheck compiler options compileroptions error run negative test runnegativetest flush output directory test files string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang invoke method type methodtype main string args throwable string str test method handle methodhandle method handles methodhandles lookup find virtual findvirtual string to string tostring method type methodtype method type methodtype string object actual object invoke str test equals actual zork libraries custom options custom options customoptions compiler error java object actual object invoke str unnecessary object object error java zork zork resolved type javac options javac test options javactestoptions excuse eclipse warning configured as error eclipsewarningconfiguredaserror https bugs eclipse org bugs bug cgi test run conform test runconformtest string java java lang invoke method handle methodhandle java lang invoke method handles methodhandles java lang reflect method test integer system println test test system println test main string args throwable method get method getmethod test integer method get method getmethod test method handle methodhandle test handle method handles methodhandles lookup unreflect method handle methodhandle test handle method handles methodhandles lookup unreflect integer arg integer arg java lang verify error verifyerror work error test handle invoke exact invokeexact integer arg java lang verify error verifyerror class cast exception classcastexception test handle invoke exact invokeexact arg integer class cast exception classcastexception system println success test success
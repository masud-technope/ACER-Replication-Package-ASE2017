copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core java util enumeration java util iterator org eclipse jdt internal core util lru cache lrucache org eclipse jdt internal core util messages code overflowinglrucache code lru cache lrucache attempts main tain maintain size equal code f space limit fspacelimit code removing elements cache remove elements close elements explicitly removed cache remove elements add elements grow code f space limit fspacelimit code attempt shink maximum space limit method code close code attempt close element element closed element removed cache element remain cache cache impl icitly implicitly attempts shrinks calls code code code set space limit setspacelimit code explicitly calling code shrink code method cache attempt shrink cache cal culates calculates space elements implement code ilru cache able ilrucacheable code elements assumed size code peek object code code disable time stamps disabletimestamps code method circumvent timestamp feature cache feature intended code close lru cache entry lrucacheentry code method cache parent closes children code close lru cache entry lrucacheentry code called careful change lru linked list causing problems calling code peek object code code object code method lru cache lrucache suppress warnings suppresswarnings rawtypes unchecked overflowinglrucache lru cache lrucache cache filled overflow time stamps timestamps updated time stamps on timestampson space reclaimed cache over flows overflows inital load factor load factor loadfactor creates overflowinglrucache param size size limit cache overflowinglrucache size size creates overflowinglrucache param size size limit cache param overflow size overflow overflowinglrucache size overflow size overflow overflow returns cache contents copy object object clone overflowinglrucache new cache newcache overflowinglrucache new instance newinstance space limit spacelimit overflow lru cache entry lrucacheentry q entry qentry preserve order entries copying oldest newest q entry qentry entry queue tail entryqueuetail q entry qentry new cache newcache private add privateadd q entry qentry key q entry qentry q entry qentry space q entry qentry q entry qentry previous new cache newcache returns element closed removed cache note triggers external remove cache closing obejct close lru cache entry lrucacheentry entry returns enum erator enumerator values cache enumeration elements entry queue entryqueue lru cache enum erator lrucacheenumerator lru cache enum erator lrucacheenumerator lru enum erator element lruenumeratorelement head lru cache enum erator lrucacheenumerator lru enum erator element lruenumeratorelement entry queue entryqueue lru cache entry lrucacheentry current entry currententry entry queue entryqueue lru cache enum erator lrucacheenumerator lru enum erator element lruenumeratorelement current element currentelement head current entry currententry current element currentelement lru cache enum erator lrucacheenumerator lru enum erator element lruenumeratorelement current entry currententry current element currentelement current element currentelement current entry currententry current entry currententry lru cache enum erator lrucacheenumerator head filling ratio fillingratio current space currentspace overflow space limit spacelimit internal testing method exposed testing purposes hashtable entries java util hashtable get entry table getentrytable entry table entrytable returns load factor cache load factor determines space reclaimed cache exceeds space limit get load factor getloadfactor load factor loadfactor space cache overflow n overflown get overflow getoverflow overflow ensures amount free space receiver removing entries returns requested space free space elements removed saved param space amount space free make space makespace space limit space limit spacelimit overflow current space currentspace space limit space free space removing oldest entries space needed spaceneeded load factor loadfactor limit space needed spaceneeded space needed spaceneeded space space needed spaceneeded space lru cache entry lrucacheentry entry entry queue tail entryqueuetail disable time stamps timestamps update making space previous links changed call object time stamps on timestampson current space currentspace space needed spaceneeded limit entry private remove entry privateremoveentry entry entry entry previous time stamps on timestampson check aquired space current space currentspace space limit overflow update f overflow foverflow overflow current space currentspace space limit returns instance rec iever reciever lru cache lrucache new instance newinstance size new overflow newoverflow testing purposes print stats printstats for ward list length forwardlistlength lru cache entry lrucacheentry entry entry queue entryqueue entry for ward list length forwardlistlength entry entry nls system println length for ward list length forwardlistlength backward list length backwardlistlength entry entry queue tail entryqueuetail entry backward list length backwardlistlength entry entry previous nls system println length backward list length backwardlistlength enumeration entry table entrytable temp clazz count temp a class aclass clazz a class aclass count string to string tostring nls nls nls clazz count entries java util hash map hashmap java util hash map hashmap has more elements hasmoreelements entry lru cache entry lrucacheentry entry table entrytable next element nextelement key entry get class getclass temp temp key key temp key count iterator iter values iterator iter has next hasnext system println iter removes entry entry queue calls code private remove entry privateremoveentry code external functionality enabled param shuffle shuffling queue entry table modified private remove entry privateremoveentry lru cache entry lrucacheentry entry shuffle private remove entry privateremoveentry entry shuffle removes entry entry queue external entry removed checking removed assumed client closed element remove close external entry closed removed point ers pointers changed param shuffle shuffling queue entry table modified private remove entry privateremoveentry lru cache entry lrucacheentry entry shuffle external shuffle external entry table entrytable remove entry key current space currentspace entry space close entry entry removed reaching point entry table entrytable entry key basic removal entry table entrytable remove entry key current space currentspace entry space lru cache entry lrucacheentry previous entry previous lru cache entry lrucacheentry entry entry previous entry queue entryqueue previous entry entry queue tail entryqueuetail previous previous previous sets cache key returns param key key object add param object add object object key object attempt rid overflow overflow shrink check entry cache new space newspace space for spacefor lru cache entry lrucacheentry entry lru cache entry lrucacheentry entry table entrytable key entry replace entry cache overflow cache flush entry add cache budget old space oldspace entry space new total newtotal current space currentspace old space oldspace new space newspace new total newtotal space limit spacelimit update timestamp updatetimestamp entry entry entry space new space newspace current space currentspace new total newtotal overflow private remove entry privateremoveentry entry attempt space make space makespace new space newspace add worring space handled make space makespace call private add privateadd key new space newspace removes returns cache key key cache returns param key key object remove cache removed cache object remove object key remove key removekey key sets load factor cache load factor determines space reclaimed cache exceeds space limit param new load factor newloadfactor illegal argument exception illegalargumentexception load factor set load factor setloadfactor new load factor newloadfactor illegal argument exception illegalargumentexception new load factor newloadfactor new load factor newloadfactor load factor loadfactor new load factor newloadfactor illegal argument exception illegalargumentexception messages cache invalid load factor invalidloadfactor sets maximum amount space cache store param limit number units cache space set space limit setspacelimit limit limit space limit spacelimit make space makespace space limit spacelimit limit space limit spacelimit limit attempts shrink cache overflow n overflown returns cache shrinks equal code f space limit fspacelimit code shrink overflow make space makespace returns string represents object method debug ging debugging purposes string to string tostring nls to string filling ratio n tostringfillingration overflowinglrucache to string contents tostringcontents updates timestamp entry ensuring queue correct order entry exist method time stamps timestamps disabled update timestamp updatetimestamp lru cache entry lrucacheentry entry time stamps on timestampson entry timestamp timestamp counter timestampcounter entry queue entryqueue entry private remove entry privateremoveentry entry private add entry privateaddentry entry
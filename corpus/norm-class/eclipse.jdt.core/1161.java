copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation jesper moller contributions bug compiler implement semantic analysis lambda expressions reference expression bug compiler effectively variables special treatment bug compiler incompatible class change incompatibleclasschange error edit stephan herrmann contribution bug analysis support lambda methods bug compiler apply annotation types analysis bug compiler detect semantically invalid type annotations bug compiler inference infrastructure evolve meet jls jsr spec bug implement functional param eterization parameterization inference bug compiler npe constraint type for mula constrainttypeformula reduce sub type reducesubtype bug wildcard incompatible types lambda expression bug infer type diamond type lambda method invocation bug compiler npe constraint type for mula constrainttypeformula reduce sub type reducesubtype bug lambda argument flagged incompatible error bug compiler method call method reference argument fails resolve properly bug aioobe method error invoked lambda expression argument bug compiler incorrect error type integer define sum object object applicable bug compiler npe org eclipse jdt internal compiler ast conditional expression conditionalexpression generate code generatecode conditional expression conditionalexpression java bug compiler type mismatch convert list object collection object bug compiler inference compute ground target type reducing lambda compatibility constraint bug simple expression lambda body doesn leverage annotation argument bug lambdas method reference infer wrong exception type generics runtime exception runtimeexception io exception ioexception bug compiler nested lambda type incorrectly inferred java c javac bug clean handling type annotations wrt type variables bug bogus warning type argument annotated non null nonnull bug compiler type correctly inferred lambda expression bug compiler loop improve analysis loops bug nonnull argument correctly inferred loop bug compiler inference ternary lambda derives wrong type andy clement go pivotal gopivotal aclement gopivotal contributions bug compiler codegen implement support serialize able serializeable lambdas org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast expression context expressioncontext invocation context java util collections java util hash map hashmap java util hash set hashset java util linked hash set linkedhashset java util org eclipse jdt core compiler categorized problem categorizedproblem org eclipse jdt core compiler char operation charoperation org eclipse jdt core compiler i problem iproblem org eclipse jdt internal compiler ast visitor astvisitor org eclipse jdt internal compiler class file classfile org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler i error handling policy ierrorhandlingpolicy org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler env i compilation unit icompilationunit org eclipse jdt internal compiler flow exception handling flow context exceptionhandlingflowcontext org eclipse jdt internal compiler flow exception inference flow context exceptioninferenceflowcontext org eclipse jdt internal compiler flow flow context flowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler flow unconditional flow info unconditionalflowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler impl reference context referencecontext org eclipse jdt internal compiler lookup annotation binding annotationbinding org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup class scope classscope org eclipse jdt internal compiler lookup extra compiler modifiers extracompilermodifiers org eclipse jdt internal compiler lookup inference context inferencecontext org eclipse jdt internal compiler lookup intersection type binding intersectiontypebinding org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup lookup environment lookupenvironment org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup parameterized type binding parameterizedtypebinding org eclipse jdt internal compiler lookup poly type binding polytypebinding org eclipse jdt internal compiler lookup problem method binding problemmethodbinding org eclipse jdt internal compiler lookup problem reasons problemreasons org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup scope org eclipse jdt internal compiler lookup source type binding sourcetypebinding org eclipse jdt internal compiler lookup synthetic argument binding syntheticargumentbinding org eclipse jdt internal compiler lookup synthetic method binding syntheticmethodbinding org eclipse jdt internal compiler lookup tag bits tagbits org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type constants typeconstants org eclipse jdt internal compiler lookup type ids typeids org eclipse jdt internal compiler lookup variable binding variablebinding org eclipse jdt internal compiler parser parser org eclipse jdt internal compiler problem abort compilation abortcompilation org eclipse jdt internal compiler problem abort compilation unit abortcompilationunit org eclipse jdt internal compiler problem abort method abortmethod org eclipse jdt internal compiler problem abort type aborttype org eclipse jdt internal compiler problem problem severities problemseverities suppress warnings suppresswarnings rawtypes unchecked lambda expression lambdaexpression functional expression functionalexpression i poly expression ipolyexpression reference context referencecontext problem severities problemseverities argument arguments type binding typebinding argument types argumenttypes arrow position arrowposition statement body has parentheses hasparentheses method scope methodscope scope void compatible voidcompatible value compatible valuecompatible returns value returnsvalue requires generic signature requiresgenericsignature returns void returnsvoid lambda expression lambdaexpression original synthetic argument binding syntheticargumentbinding outer local variables outerlocalvariables synthetic arguments outer local variables slot size outerlocalvariablesslotsize assist node assistnode has ignored mandatory errors hasignoredmandatoryerrors reference binding referencebinding class type classtype ordinal thrown exceptions thrownexceptions source representation lambda text synthetic argument binding syntheticargumentbinding synthetic arguments synthetic argument binding syntheticargumentbinding block body block hash map hashmap type binding typebinding lambda expression lambdaexpression copies per target type copiespertargettype expression result expressions resultexpressions expressions performing tentative resolve reference driving context inference context inferencecontext inference context inferencecontext lambda expression lambdaexpression compilation result compilationresult compilation result compilationresult assist node assistnode requires generic signature requiresgenericsignature compilation result compilationresult assist node assistnode assist node assistnode requires generic signature requiresgenericsignature requires generic signature requiresgenericsignature set arguments setarguments arguments set body setbody body lambda expression lambdaexpression compilation result compilationresult compilation result compilationresult assist node assistnode compilation result compilationresult assist node assistnode set arguments setarguments argument arguments arguments arguments arguments ast node astnode arguments argument types argumenttypes type binding typebinding arguments arguments length argument arguments arguments type binding typebinding argument types argumenttypes argument types argumenttypes set body setbody statement body body body body body statement body body expression result expressions resultexpressions result expressions resultexpressions set arr ow position setarrowposition arrow position arrowposition arrow position arrowposition arrow position arrowposition arrow position arrowposition arrow position arrowposition functional expression functionalexpression original original generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired should capture instance shouldcaptureinstance binding modifiers class file constants classfileconstants acc static accstatic binding modifiers class file constants classfileconstants acc static accstatic source type binding sourcetypebinding source type sourcetype current scope currentscope enclosing source type enclosingsourcetype first spi ll firstspill binding synthetic method binding syntheticmethodbinding binding source type sourcetype add synthetic method addsyntheticmethod code stream codestream position string buffer stringbuffer signature string buffer stringbuffer signature append should capture instance shouldcaptureinstance code stream codestream aload signature append source type sourcetype signature length outer local variables outerlocalvariables outer local variables outerlocalvariables length length synthetic argument binding syntheticargumentbinding synthetic argument syntheticargument outer local variables outerlocalvariables block handling extra spi lls spills avoid side should capture instance shouldcaptureinstance first spi ll firstspill synthetic argument syntheticargument resolved position resolvedposition signature append synthetic argument syntheticargument type signature local variable binding localvariablebinding captured outer local capturedouterlocal synthetic argument syntheticargument actual outer local variable actualouterlocalvariable variable binding variablebinding path current scope currentscope get emulation path getemulationpath captured outer local capturedouterlocal code stream codestream generate outer access generateouteraccess path captured outer local capturedouterlocal current scope currentscope signature append expected type expectedtype intersection type binding intersectiontypebinding signature append intersection type binding intersectiontypebinding expected type expectedtype getsamtype current scope currentscope signature signature append expected type expectedtype signature invoke dynamic number invokedynamicnumber code stream codestream class file classfile record bootstrap method recordbootstrapmethod code stream codestream invoke dynamic invokedynamic invoke dynamic number invokedynamicnumber should capture instance shouldcaptureinstance outer local variables slot size outerlocalvariablesslotsize descriptor selector signature to string tostring to char array tochararray value required valuerequired code stream codestream pop code stream codestream record positions from recordpositionsfrom source start sourcestart kosher descriptor kosherdescriptor scope current scope currentscope method binding methodbinding sam should chatter shouldchatter sam type variables typevariables binding type variables should chatter shouldchatter current scope currentscope problem reporter problemreporter lambda expression cannot implement generic method lambdaexpressioncannotimplementgenericmethod sam kosher descriptor kosherdescriptor current scope currentscope sam should chatter shouldchatter code arranged analysis avoiding fields result s lew slew spurious messages method merge r merger org eclipse jdt internal compiler lookup method scope methodscope create method createmethod abstract method declaration abstractmethoddeclaration org eclipse jdt internal compiler lookup source type binding sourcetypebinding resolve types for resolvetypesfor method binding methodbinding org eclipse jdt internal compiler ast abstract method declaration abstractmethoddeclaration resolve class scope classscope type binding typebinding resolve type resolvetype block scope blockscope block scope blockscope skip kosher check skipkoshercheck arguments type elided argumentstypeelided arguments type elided argumentstypeelided arguments length argumentslength arguments arguments length constant constant notaconstant constant constant notaconstant enclosing scope enclosingscope block scope blockscope original ordinal record functional type recordfunctionaltype block scope blockscope arguments type elided argumentstypeelided arguments length argumentslength argument types argumenttypes arguments type resolve type resolvetype check bounds block scope blockscope expected type expectedtype expression context expressioncontext invocation context poly type binding polytypebinding method scope methodscope method scope methodscope block scope blockscope method scope methodscope scope method scope methodscope block scope blockscope method scope methodscope is static isstatic method scope methodscope last visible field d lastvisiblefieldid scope is constructor call isconstructorcall method scope methodscope is constructor call isconstructorcall compute capture function descriptor resolve type resolvetype block scope blockscope skip kosher check skipkoshercheck have descriptor havedescriptor descriptor comp lained complained kosher skip kosher check skipkoshercheck have descriptor havedescriptor descriptor type variables typevariables binding type variables resolved type resolvedtype binding method binding methodbinding class file constants classfileconstants acc private accprivate class file constants classfileconstants acc synthetic accsynthetic extra compiler modifiers extracompilermodifiers acc unresolved accunresolved fixed char operation charoperation concat type constants typeconstants anonymous method integer to string tostring ordinal to char array tochararray have descriptor havedescriptor descriptor return type returntype type binding typebinding binding parameters have descriptor havedescriptor descriptor thrown exceptions thrownexceptions binding exceptions block scope blockscope enclosing source type enclosingsourcetype binding type variables typevariables binding type variables arguments have errors argumentshaveerrors have descriptor havedescriptor parameters length parameterslength descriptor parameters length parameters length parameterslength arguments length argumentslength scope problem reporter problemreporter lambda signature mismatched lambdasignaturemismatched int erest interest continuing error check copy arguments type elided argumentstypeelided original fubar bail resolved type resolvedtype type check resolved type resolvedtype arguments have errors argumentshaveerrors type binding typebinding new parameters newparameters type binding typebinding arguments length argumentslength annotation binding annotationbinding parameter annotations parameterannotations arguments length argumentslength argument argument arguments argument is var args isvarargs arguments length argumentslength binding modifiers class file constants classfileconstants acc varargs accvarargs scope problem reporter problemreporter illegal var arg in lambda illegalvararginlambda argument arguments have errors argumentshaveerrors type binding typebinding argument type argumenttype type binding typebinding expected parameter type expectedparametertype have descriptor havedescriptor descriptor parameters length descriptor parameters argument type argumenttype arguments type elided argumentstypeelided expected parameter type expectedparametertype argument types argumenttypes argument type argumenttype arguments have errors argumentshaveerrors argument type argumenttype type binding typebinding scope problem reporter problemreporter argument type cannot be void argumenttypecannotbevoid argument arguments have errors argumentshaveerrors argument type argumenttype is valid binding isvalidbinding binding tag bits tagbits tag bits tagbits has unresolved arguments hasunresolvedarguments argument type argumenttype tag bits tagbits tag bits tagbits has missing type hasmissingtype binding tag bits tagbits tag bits tagbits has missing type hasmissingtype arguments type elided argumentstypeelided arguments have errors argumentshaveerrors reference binding referencebinding ground type groundtype reference binding referencebinding expectedsamtype expected type expectedtype intersection type binding intersectiontypebinding expectedsamtype reference binding referencebinding intersection type binding intersectiontypebinding expected type expectedtype getsamtype block scope blockscope expected type expectedtype reference binding referencebinding expectedsamtype reference binding referencebinding expected type expectedtype expectedsamtype ground type groundtype find ground target type findgroundtargettype block scope blockscope expected type expectedtype expectedsamtype arguments type elided argumentstypeelided ground type groundtype descriptor ground type groundtype get single abstract method getsingleabstractmethod block scope blockscope descriptor is valid binding isvalidbinding report sam problem reportsamproblem block scope blockscope descriptor identity comparison ground type groundtype expectedsamtype ground shifted firm grounds ground type groundtype is compatible with iscompatiblewith expectedsamtype scope report deliberately block scope blame lambda block scope blockscope problem reporter problemreporter type mismatch error typemismatcherror ground type groundtype expected type expectedtype resolved type resolvedtype resolved type resolvedtype ground type groundtype generic signature needed genericsignatureneeded requires generic signature requiresgenericsignature block scope blockscope compiler options compileroptions generate generic signature for lambda expressions generategenericsignatureforlambdaexpressions arguments length argumentslength argument argument arguments type binding typebinding argument type argumenttype type binding typebinding expected parameter type expectedparametertype have descriptor havedescriptor descriptor parameters length descriptor parameters argument type argumenttype arguments type elided argumentstypeelided expected parameter type expectedparametertype argument types argumenttypes argument type argumenttype argument type argumenttype type binding typebinding have descriptor havedescriptor expected parameter type expectedparametertype argument type argumenttype is valid binding isvalidbinding type binding typebinding not equals notequals argument type argumenttype expected parameter type expectedparametertype expected parameter type expectedparametertype is proper type ispropertype scope problem reporter problemreporter lambda parameter type mismatched lambdaparametertypemismatched argument argument type expected parameter type expectedparametertype type check resolved type resolvedtype generic signature needed genericsignatureneeded type binding typebinding leaf type leaftype argument type argumenttype leaf component type leafcomponenttype leaf type leaftype reference binding referencebinding reference binding referencebinding leaf type leaftype modifiers extra compiler modifiers extracompilermodifiers acc generic signature accgenericsignature binding modifiers extra compiler modifiers extracompilermodifiers acc generic signature accgenericsignature new parameters newparameters argument bind scope argument type argumenttype argument annotations binding tag bits tagbits tag bits tagbits has parameter annotations hasparameterannotations parameter annotations parameterannotations parameter annotations parameterannotations annotation binding annotationbinding arguments length argumentslength parameter annotations parameterannotations binding annotations parameter annotations parameterannotations argument binding get annotations getannotations parameter annotations parameterannotations parameter annotations parameterannotations binding annotations assign parameters problems arguments have errors argumentshaveerrors binding parameters new parameters newparameters parameter annotations parameterannotations binding set parameter annotations setparameterannotations parameter annotations parameterannotations arguments type elided argumentstypeelided arguments have errors argumentshaveerrors binding is varargs isvarargs binding parameters binding parameters length is reifiable isreifiable scope problem reporter problemreporter possible heap poll ution from var arg possibleheappollutionfromvararg arguments arguments length reference binding referencebinding exceptions binding thrown exceptions thrownexceptions exceptions length exceptionslength exceptions length exceptions length exceptionslength reference binding referencebinding exception exceptions exception tag bits tagbits tag bits tagbits has missing type hasmissingtype binding tag bits tagbits tag bits tagbits has missing type hasmissingtype generic signature needed genericsignatureneeded binding modifiers exception modifiers extra compiler modifiers extracompilermodifiers acc generic signature accgenericsignature type binding typebinding return type returntype binding return type returntype return type returntype return type returntype tag bits tagbits tag bits tagbits has missing type hasmissingtype binding tag bits tagbits tag bits tagbits has missing type hasmissingtype generic signature needed genericsignatureneeded type binding typebinding leaf type leaftype return type returntype leaf component type leafcomponenttype leaf type leaftype reference binding referencebinding reference binding referencebinding leaf type leaftype modifiers extra compiler modifiers extracompilermodifiers acc generic signature accgenericsignature binding modifiers extra compiler modifiers extracompilermodifiers acc generic signature accgenericsignature have descriptor havedescriptor arguments have errors argumentshaveerrors block scope blockscope compiler options compileroptions is annotation based null analysis enabled isannotationbasednullanalysisenabled arguments type elided argumentstypeelided includes validation abstract method declaration abstractmethoddeclaration create argument bindings createargumentbindings arguments binding scope application ness warning redundant annotation merge parameter null annotations mergeparameternullannotations block scope blockscope binding tag bits tagbits descriptor tag bits tagbits tag bits tagbits annotationnullmask binding modifiers extra compiler modifiers extracompilermodifiers acc unresolved accunresolved body expression expression expression expression body return statement returnstatement expression expression source start sourcestart expression source end sourceend resolve scope expression resolved type resolvedtype type binding typebinding expression statement expression statementexpression scope problem reporter problemreporter invalid expression as statement invalidexpressionasstatement expression body resolve scope point shape analysis complete returns expression returnsexpression lambda expression body lambda block body statement naked returns void returnsvoid returns value returnsvalue value compatible valuecompatible body does not complete normally doesnotcompletenormally binding tag bits tagbits tag bits tagbits has missing type hasmissingtype scope problem reporter problemreporter missing type in lambda missingtypeinlambda binding should capture instance shouldcaptureinstance scope is constructor call isconstructorcall scope problem reporter problemreporter fields or this before constructor invocation fieldsorthisbeforeconstructorinvocation arguments have errors argumentshaveerrors resolved type resolvedtype resolved type resolvedtype reference binding referencebinding find ground target type findgroundtargettype block scope blockscope block scope blockscope type binding typebinding target type targettype type binding typebinding expectedsamtype argument types elided argumenttypeselided expectedsamtype intersection type binding intersectiontypebinding expectedsamtype intersection type binding intersectiontypebinding expectedsamtype getsamtype block scope blockscope expectedsamtype reference binding referencebinding expectedsamtype is valid binding isvalidbinding parameterized type binding parameterizedtypebinding with wild cards withwildcards inference context inferencecontext parameterized with wildcard parameterizedwithwildcard expectedsamtype with wild cards withwildcards argument types elided argumenttypeselided inference context inferencecontext fresh inference context freshinferencecontext inference context inferencecontext block scope blockscope fresh inference context freshinferencecontext infer functional interface param eterization inferfunctionalinterfaceparameterization block scope blockscope with wild cards withwildcards fresh inference context freshinferencecontext clean up cleanup find ground target type for elided lambda findgroundtargettypeforelidedlambda block scope blockscope with wild cards withwildcards target type targettype reference binding referencebinding reference binding referencebinding target type targettype reference binding referencebinding find ground target type for elided lambda findgroundtargettypeforelidedlambda block scope blockscope block scope blockscope parameterized type binding parameterizedtypebinding with wild cards withwildcards wildcard param eterization parameterization target type type binding typebinding types with wild cards withwildcards get non wildcard param eterization getnonwildcardparameterization block scope blockscope types reference binding referencebinding generic type generictype with wild cards withwildcards generic type generictype block scope blockscope environment create parameterized type createparameterizedtype generic type generictype types with wild cards withwildcards enclosing type enclosingtype arguments type elided argumentstypeelided arguments length arguments has elided type haselidedtype analyze exceptions analyzeexceptions exception handling flow context exceptionhandlingflowcontext ehfc body analyse code analysecode scope ehfc exception inference flow context exceptioninferenceflowcontext binding exceptions scope flow info flowinfo dead unconditional flow info unconditionalflowinfo fake initialized flow info fakeinitializedflowinfo scope outer most method scope outermostmethodscope analysis index analysisindex scope reference type referencetype max field count maxfieldcount thrown exceptions thrownexceptions ehfc extended exceptions extendedexceptions collections empty set emptyset hash set hashset type binding typebinding ehfc extended exceptions extendedexceptions exception flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo ignore further investigation ignorefurtherinvestigation flow info flowinfo vegas stays vegas flow info flowinfo lambda info lambdainfo flow info flowinfo copy exception handling flow context exceptionhandlingflowcontext method context methodcontext exception handling flow context exceptionhandlingflowcontext flow context flowcontext binding thrown exceptions thrownexceptions flow context flowcontext get initialization context getinitializationcontext scope flow info flowinfo dead nullity mark assigned method binding methodbinding method with parameter declaration methodwithparameterdeclaration arguments type elided argumentstypeelided descriptor binding abstract method declaration abstractmethoddeclaration analyse arguments analysearguments current scope currentscope environment lambda info lambdainfo arguments method with parameter declaration methodwithparameterdeclaration arguments count arguments length count bits arguments bits ast node astnode has type annotations hastypeannotations lambda info lambdainfo body analyse code analysecode scope method context methodcontext lambda info lambdainfo check missing returning path block body body block type binding typebinding return type binding returntypebinding expected result type expectedresulttype return type binding returntypebinding type binding typebinding lambda info lambdainfo tag bits tagbits flow info flowinfo unreachable dead block body statements bits ast node astnode need free return needfreereturn lambda info lambdainfo flow info flowinfo dead scope problem reporter problemreporter should return shouldreturn return type binding returntypebinding expression current scope currentscope compiler options compileroptions is annotation based null analysis enabled isannotationbasednullanalysisenabled lambda info lambdainfo reach mode reachmode flow info flowinfo reachable expression expression expression body check against null annotation checkagainstnullannotation flow context flowcontext expression flow info flowinfo expression null status nullstatus lambda info lambdainfo flow context flowcontext flow info flowinfo abstract method declaration abstractmethoddeclaration validate null annotations validatenullannotations pre argument type elided argumenttypeelided validate null annotations validatenullannotations annotations parameters binding length binding parameters length length scope validate null annotation validatenullannotation binding return type returntype tag bits tagbits arguments type arguments annotations binding return type returntype binding return type returntype without top level null annotation withouttoplevelnullannotation pre argument type elided argumenttypeelided merge annotations descriptor binding comp laining complaining inc ompatibilities incompatibilities merge parameter null annotations mergeparameternullannotations block scope blockscope current scope currentscope lookup environment lookupenvironment env current scope currentscope environment type binding typebinding our parameters ourparameters binding parameters type binding typebinding desc parameters descparameters descriptor parameters len math min our parameters ourparameters length desc parameters descparameters length len our tag bits ourtagbits our parameters ourparameters tag bits tagbits tag bits tagbits annotationnullmask desc tag bits desctagbits desc parameters descparameters tag bits tagbits tag bits tagbits annotationnullmask our tag bits ourtagbits desc tag bits desctagbits our parameters ourparameters is base type isbasetype annotation binding annotationbinding annotations desc parameters descparameters get type annotations gettypeannotations length annotations length length annotation binding annotationbinding annotation annotations annotation annotation get annotation type getannotationtype has null bit hasnullbit type ids typeids bit non null annotation bitnonnullannotation type ids typeids bit nullable annotation bitnullableannotation our parameters ourparameters env create annotated type createannotatedtype our parameters ourparameters annotation binding annotationbinding annotation our tag bits ourtagbits desc tag bits desctagbits requested non null nonnull our tag bits ourtagbits tag bits tagbits annotation non null annotationnonnull inherited annotation name inheritedannotationname desc tag bits desctagbits tag bits tagbits annotation nullable annotationnullable inherited annotation name inheritedannotationname env get nullable annotation name getnullableannotationname current scope currentscope problem reporter problemreporter illegal redefinition to non null parameter illegalredefinitiontononnullparameter arguments descriptor declaring class declaringclass inherited annotation name inheritedannotationname simplified version return statement returnstatement check against null annotation checkagainstnullannotation check against null annotation checkagainstnullannotation flow context flowcontext flow context flowcontext expression expression flow info flowinfo flow info flowinfo null status nullstatus null status nullstatus flow info flowinfo note binding type declaration inherit ness descriptor descriptor return type returntype tag bits tagbits tag bits tagbits annotation non null annotationnonnull flow context flowcontext record nullity mismatch recordnullitymismatch scope expression expression resolved type resolvedtype descriptor return type returntype flow info flowinfo null status nullstatus is pertinent to applicability ispertinenttoapplicability type binding typebinding target type targettype method binding methodbinding method not per tient to applicability notpertienttoapplicability runtime exception runtimeexception serialversionuid results analyser resultsanalyser ast visitor astvisitor visit type declaration typedeclaration type block scope blockscope skope visit type declaration typedeclaration type class scope classscope skope visit lambda expression lambdaexpression type block scope blockscope skope visit return statement returnstatement return statement returnstatement block scope blockscope skope return statement returnstatement expression return statement returnstatement expression is pertinent to applicability ispertinenttoapplicability target type targettype method not per tient to applicability notpertienttoapplicability assumed signal primary error target type targettype arguments type elided argumentstypeelided is pertinent to applicability ispertinenttoapplicability target type targettype method body expression expression body is pertinent to applicability ispertinenttoapplicability target type targettype method expression return expressions returnexpressions result expressions resultexpressions return expressions returnexpressions expressions length return expressions returnexpressions length length return expressions returnexpressions is pertinent to applicability ispertinenttoapplicability target type targettype method expressions discovered resolve type resolvetype traverse per tinent pertinent body traverse results analyser resultsanalyser scope not per tient to applicability notpertienttoapplicability npta is void compatible isvoidcompatible void compatible voidcompatible is value compatible isvaluecompatible value compatible valuecompatible string buffer stringbuffer print expression printexpression tab string buffer stringbuffer output print expression printexpression tab output string buffer stringbuffer print expression printexpression tab string buffer stringbuffer output make short makeshort parent heses count parenthesescount bits ast node astnode parenthesizedmask ast node astnode parenthesizedshift nls string suffix parent heses count parenthesescount output append suffix output append arguments arguments length nls output append nls arguments print output nls output append make short makeshort nls output append body body print body block tab output nls output append nls inc ubator incubator output append suffix type binding typebinding expected result type expectedresulttype descriptor descriptor is valid binding isvalidbinding descriptor return type returntype traverse ast visitor astvisitor visitor block scope blockscope block scope blockscope visitor visit block scope blockscope arguments arguments length argumentslength arguments length arguments length argumentslength arguments traverse visitor scope body body traverse visitor scope visitor end visit endvisit block scope blockscope method scope methodscope get scope getscope scope enclosing scopes have errors enclosingscopeshaveerrors scope skope enclosing scope enclosingscope skope reference context referencecontext context skope reference context referencecontext context context has errors haserrors skope skope parent simple min ded minded analysis code assist potential compatibility analyze shape analyzeshape shape computer shapecomputer ast visitor astvisitor visit type declaration typedeclaration type block scope blockscope skope visit type declaration typedeclaration type class scope classscope skope visit lambda expression lambdaexpression type block scope blockscope skope visit return statement returnstatement return statement returnstatement block scope blockscope skope return statement returnstatement expression lambda expression lambdaexpression value compatible valuecompatible lambda expression lambdaexpression void compatible voidcompatible lambda expression lambdaexpression returns value returnsvalue lambda expression lambdaexpression void compatible voidcompatible lambda expression lambdaexpression value compatible valuecompatible lambda expression lambdaexpression returns void returnsvoid body expression completion progress expression const itutes constitutes statement expression https bugs eclipse org bugs bug cgi void compatible voidcompatible assist node assistnode expression body statement expression statementexpression expression type determine working unresolved expressions potential compatibility value compatible valuecompatible code assist bit tolerant fuzzy code written pedantic selection completion assist node assistnode void compatible voidcompatible value compatible valuecompatible body traverse shape computer shapecomputer returns value returnsvalue returns void returnsvoid value compatible valuecompatible body does not complete normally doesnotcompletenormally override is potentially compatible with ispotentiallycompatiblewith type binding typebinding target type targettype scope skope lambda expression compatible functional type – arity target type function type arity lambda expression – target type function type lambda body statement expression compatible block – target type function type type lambda body expression compatible block is pertinent to applicability ispertinenttoapplicability target type targettype method binding methodbinding sam target type targettype get single abstract method getsingleabstractmethod skope sam sam is valid binding isvalidbinding sam parameters length arguments length analyze shape analyzeshape sam return type returntype type ids typeids void compatible voidcompatible value compatible valuecompatible is compatible with iscompatiblewith type binding typebinding target type targettype scope skope is pertinent to applicability ispertinenttoapplicability target type targettype lambda expression lambdaexpression copy argument types elided don care result expressions target valid target copy cached resolved copy cachedresolvedcopy target type targettype arguments type elided argumentstypeelided copy failure exception copyfailureexception cfe assist node assistnode is pertinent to applicability ispertinenttoapplicability target type targettype copy copy compatible target type shape fully computed compatibility determined result expressions gathered target type targettype find ground target type findgroundtargettype enclosing scope enclosingscope target type targettype target type targettype arguments type elided argumentstypeelided method binding methodbinding sam target type targettype get single abstract method getsingleabstractmethod enclosing scope enclosingscope sam sam problem id problemid problem reasons problemreasons no such single abstract method nosuchsingleabstractmethod sam return type returntype type ids typeids copy void compatible voidcompatible copy value compatible valuecompatible is pertinent to applicability ispertinenttoapplicability target type targettype check deferred skip kosher check skipkoshercheck per tinent pertinent app licability applicability kosher descriptor kosherdescriptor enclosing scope enclosingscope sam expression return expressions returnexpressions copy result expressions resultexpressions length return expressions returnexpressions length length inference variables reach nested inference sam return type returntype is proper type ispropertype enclosing scope enclosingscope parameter compatibility level parametercompatibilitylevel return expressions returnexpressions resolved type resolvedtype sam return type returntype scope compatible return expressions returnexpressions is constant value of type assignable to type isconstantvalueoftypeassignabletotype return expressions returnexpressions resolved type resolvedtype sam return type returntype sam return type returntype type ids typeids body block copy failure exception copyfailureexception runtime exception runtimeexception serialversionuid lambda expression lambdaexpression cached resolved copy cachedresolvedcopy type binding typebinding target type targettype any target ok anytargetok require exception analysis requireexceptionanalysis inference context inferencecontext context target type targettype find ground target type findgroundtargettype enclosing scope enclosingscope target type targettype target type targettype arguments type elided argumentstypeelided target type targettype method binding methodbinding sam target type targettype get single abstract method getsingleabstractmethod enclosing scope enclosingscope sam sam is valid binding isvalidbinding sam parameters length arguments length lambda expression lambdaexpression copy copies per target type copiespertargettype copy copies per target type copiespertargettype target type targettype copy any target ok anytargetok copies per target type copiespertargettype values size copy copies per target type copiespertargettype values iterator i error handling policy ierrorhandlingpolicy old policy oldpolicy enclosing scope enclosingscope problem reporter problemreporter switch error handling policy switcherrorhandlingpolicy silent error handling policy silenterrorhandlingpolicy copy copy copy copy copy failure exception copyfailureexception copy set expression context setexpressioncontext expression context expressioncontext copy set expected type setexpectedtype target type targettype copy inference context inferencecontext context type binding typebinding type copy resolve type resolvetype enclosing scope enclosingscope type type is valid binding isvalidbinding copies per target type copiespertargettype copies per target type copiespertargettype hash map hashmap type binding typebinding lambda expression lambdaexpression copies per target type copiespertargettype target type targettype copy require exception analysis requireexceptionanalysis copy copy thrown exceptions thrownexceptions copy has ignored mandatory errors hasignoredmandatoryerrors enclosing scopes have errors enclosingscopeshaveerrors copy analyze exceptions analyzeexceptions copy enclosing scope enclosingscope problem reporter problemreporter switch error handling policy switcherrorhandlingpolicy old policy oldpolicy resolved copy lambda type inference avoid spi lling spilling premature type original lambda param target type targettype target functional type inference att empted attempted valid functional type resolved copy errors encountered lambda expression lambdaexpression resolve expression expecting resolveexpressionexpecting type binding typebinding target type targettype scope skope inference context inferencecontext context lambda expression lambdaexpression copy copy cached resolved copy cachedresolvedcopy target type targettype context copy failure exception copyfailureexception cfe copy s is more specific sismorespecific type binding typebinding type binding typebinding scope skope s is more specific sismorespecific skope arguments type elided argumentstypeelided find super type originating from findsupertypeoriginatingfrom capture enclosing scope enclosingscope source start sourcestart source end sourceend method binding methodbinding s sam ssam get single abstract method getsingleabstractmethod enclosing scope enclosingscope s sam ssam s sam ssam is valid binding isvalidbinding type binding typebinding s sam ssam return type returntype method binding methodbinding t sam tsam get single abstract method getsingleabstractmethod enclosing scope enclosingscope t sam tsam t sam tsam is valid binding isvalidbinding ort test s lips slips is compatible with iscompatiblewith type binding typebinding t sam tsam return type returntype type ids typeids type ids typeids is compatible with iscompatiblewith skope expect cached copy control won reach lambda expression lambdaexpression copy cached resolved copy cachedresolvedcopy resolved copy good expression return expressions returnexpressions copy result expressions resultexpressions return expressions length returnexpressionslength return expressions returnexpressions return expressions returnexpressions length return expressions length returnexpressionslength primitive type reference type result expression standalone expression primitive type is base type isbasetype is base type isbasetype return expressions length returnexpressionslength return expressions returnexpressions is poly expression ispolyexpression return expressions returnexpressions resolved type resolvedtype is base type isbasetype return expressions length returnexpressionslength is base type isbasetype is base type isbasetype return expressions length returnexpressionslength return expressions returnexpressions resolved type resolvedtype is base type isbasetype return expressions length returnexpressionslength is functional interface isfunctionalinterface enclosing scope enclosingscope is functional interface isfunctionalinterface enclosing scope enclosingscope return expressions length returnexpressionslength expression result expression resultexpression return expressions returnexpressions result expression resultexpression s is more specific sismorespecific skope return expressions length returnexpressionslength lambda expression lambdaexpression copy parser parser parser enclosing scope enclosingscope problem reporter problemreporter i compilation unit icompilationunit compilation unit compilationunit compilation result compilationresult get compilation unit getcompilationunit source compilation unit compilationunit compilation unit compilationunit get contents getcontents text lambda expression lambdaexpression copy lambda expression lambdaexpression parser parse lambda expression parselambdaexpression source compilation unit compilationunit source start sourcestart source end sourceend source start sourcestart enclosing scope enclosingscope reference compilation unit referencecompilationunit syntax errors copy copy original copy assist node assistnode assist node assistnode copy enclosing scope enclosingscope enclosing scope enclosingscope copy returns expression returnsexpression expression expression type binding typebinding result type resulttype over load overload resolution context result expressions relevant original body expression value compatible valuecompatible result type resulttype result type resulttype type ids typeids code written completed statement void compatible voidcompatible assist node assistnode expression body statement expression statementexpression result expressions resultexpressions expression expression expression returns value returnsvalue void compatible voidcompatible value compatible valuecompatible returns void returnsvoid expression return expressions returnexpressions result expressions resultexpressions results length resultslength return expressions returnexpressions length system arraycopy return expressions returnexpressions return expressions returnexpressions expression results length resultslength results length resultslength return expressions returnexpressions results length resultslength expression result expressions resultexpressions return expressions returnexpressions returns void returnsvoid value compatible valuecompatible void compatible voidcompatible returns value returnsvalue compilation result compilationresult compilation result compilationresult compilation result compilationresult abort abort level abortlevel categorized problem categorizedproblem problem abort level abortlevel abort compilation abortcompilation abort compilation abortcompilation compilation result compilationresult problem abort compilation unit abortcompilationunit abort compilation unit abortcompilationunit compilation result compilationresult problem abort type aborttype abort type aborttype compilation result compilationresult problem abort method abortmethod compilation result compilationresult problem compilation unit declaration compilationunitdeclaration get compilation unit declaration getcompilationunitdeclaration enclosing scope enclosingscope enclosing scope enclosingscope compilation unit scope compilationunitscope reference context referencecontext has errors haserrors ignore further investigation ignorefurtherinvestigation tag as having errors tagashavingerrors ignore further investigation ignorefurtherinvestigation scope parent enclosing scope enclosingscope parent parent parent kind scope scope scope method scope reference context referencecontext parentast parent reference context referencecontext parentast parentast tag as having errors tagashavingerrors fall parent parent parent tag as having ignored mandatory errors tagashavingignoredmandatoryerrors problem id problemid problem id problemid requires exception errors influence congruence errors don abort shape analysis i problem iproblem unhandled exception on auto close unhandledexceptiononautoclose i problem iproblem unhandled exception in default constructor unhandledexceptionindefaultconstructor i problem iproblem unhandled exception unhandledexception structural problems occur target type impo s ition imposition filter distinguish inherent errors explicit lambdas decide proceed data control flow analysis discover shape inherent errors call analyze code prepared analyze broken pro grams programs i problem iproblem void method returns value voidmethodreturnsvalue i problem iproblem should return value hint missing default shouldreturnvaluehintmissingdefault i problem iproblem should return value shouldreturnvalue i problem iproblem return type mismatch returntypemismatch i problem iproblem incompatible lambda parameter type incompatiblelambdaparametertype i problem iproblem lambda parameter type mismatched lambdaparametertypemismatched i problem iproblem lambda signature mismatched lambdasignaturemismatched i problem iproblem lambda descriptor mentions unmentionable lambdadescriptormentionsunmentionable i problem iproblem target type not functional interface targettypenotafunctionalinterface i problem iproblem ill for med param eterization of functional interface illformedparameterizationoffunctionalinterface i problem iproblem no generic lambda nogenericlambda has ignored mandatory errors hasignoredmandatoryerrors method scope methodscope enclosing lambda scope enclosinglambdascope scope scope enclosing lambda scope enclosinglambdascope enclosing lambda scope enclosinglambdascope lambda expression lambdaexpression enclosing lambda enclosinglambda lambda expression lambdaexpression enclosing lambda scope enclosinglambdascope reference context referencecontext enclosing lambda enclosinglambda has ignored mandatory errors hasignoredmandatoryerrors enclosing lambda scope enclosinglambdascope enclosing lambda scope enclosinglambdascope enclosing lambda scope enclosinglambdascope type binding typebinding get thrown exceptions getthrownexceptions thrown exceptions thrownexceptions collections empty set emptyset thrown exceptions thrownexceptions generate code generatecode class scope classscope class scope classscope class file classfile class file classfile problem reset c problemresetpc class file classfile code stream codestream wide mode widemode restart problem reset c problemresetpc class file classfile contents offset contentsoffset generate code generatecode class file classfile restart abort method abortmethod compilation result compilationresult code stream codestream restart wide mode class file classfile contents offset contentsoffset problem reset c problemresetpc class file classfile method count methodcount class file classfile code stream codestream reset in wide mode resetinwidemode restart compilation result compilationresult code stream codestream restart code gen unused locals mode class file classfile contents offset contentsoffset problem reset c problemresetpc class file classfile method count methodcount class file classfile code stream codestream reset for code gen unused locals resetforcodegenunusedlocals restart abort type aborttype compilation result compilationresult problem restart generate code generatecode class file classfile class file classfile class file classfile generate method info header generatemethodinfoheader binding method attribute offset methodattributeoffset class file classfile contents offset contentsoffset attribute number attributenumber class file classfile generate method info attributes generatemethodinfoattributes binding code attribute offset codeattributeoffset class file classfile contents offset contentsoffset class file classfile generate code attribute header generatecodeattributeheader code stream codestream code stream codestream class file classfile code stream codestream code stream codestream reset class file classfile initialize local positions scope compute local variable positions computelocalvariablepositions outer local variables slot size outerlocalvariablesslotsize binding is static isstatic code stream codestream outer local variables outerlocalvariables max outer local variables outerlocalvariables length max local variable binding localvariablebinding arg binding argbinding code stream codestream add visible local variable addvisiblelocalvariable arg binding argbinding outer local variables outerlocalvariables code stream codestream record arg binding argbinding arg binding argbinding record initialization start c recordinitializationstartpc arguments initialization local variable debug attributes arguments max arguments length max local variable binding localvariablebinding arg binding argbinding code stream codestream add visible local variable addvisiblelocalvariable arg binding argbinding arguments binding arg binding argbinding record initialization start c recordinitializationstartpc body block body generate code generatecode scope code stream codestream bits ast node astnode need free return needfreereturn code stream codestream expression expression expression body expression generate code generatecode scope code stream codestream binding return type returntype type binding typebinding code stream codestream code stream codestream generate return byte code generatereturnbytecode expression local variable attributes code stream codestream exit user scope exituserscope scope declaration source end declarationsourceend code stream codestream record positions from recordpositionsfrom source end sourceend class file classfile complete code attribute completecodeattribute code attribute offset codeattributeoffset negative array size exception negativearraysizeexception abort method abortmethod scope reference compilation unit referencecompilationunit compilation result compilationresult attribute number attributenumber class file classfile complete method info completemethodinfo binding method attribute offset methodattributeoffset attribute number attributenumber add synthetic argument addsyntheticargument local variable binding localvariablebinding actual outer local variable actualouterlocalvariable original binding bother tracking locals clones created over load overload resolution synthetic argument binding syntheticargumentbinding synthetic local syntheticlocal new slot newslot outer local variables outerlocalvariables length new slot newslot outer local variables outerlocalvariables actual outer local variable actualouterlocalvariable actual outer local variable actualouterlocalvariable system arraycopy outer local variables outerlocalvariables outer local variables outerlocalvariables synthetic argument binding syntheticargumentbinding new slot newslot new slot newslot outer local variables outerlocalvariables new slot newslot synthetic local syntheticlocal synthetic argument binding syntheticargumentbinding actual outer local variable actualouterlocalvariable adjusting generate instance method lambda synthetic local syntheticlocal resolved position resolvedposition outer local variables slot size outerlocalvariablesslotsize synthetic local syntheticlocal declaring scope declaringscope scope parameter count parametercount binding parameters length type binding typebinding new parameters newparameters type binding typebinding parameter count parametercount new parameters newparameters new slot newslot actual outer local variable actualouterlocalvariable type parameter count parametercount new slot newslot new parameters newparameters binding parameters binding parameters new parameters newparameters synthetic local syntheticlocal type type ids typeids type ids typeids outer local variables slot size outerlocalvariablesslotsize outer local variables slot size outerlocalvariablesslotsize synthetic argument binding syntheticargumentbinding get synthetic argument getsyntheticargument local variable binding localvariablebinding actual outer local variable actualouterlocalvariable length outer local variables outerlocalvariables outer local variables outerlocalvariables length length outer local variables outerlocalvariables actual outer local variable actualouterlocalvariable actual outer local variable actualouterlocalvariable outer local variables outerlocalvariables actual method binding devoid synthetics method binding methodbinding get method binding getmethodbinding actual method binding actualmethodbinding binding rid synthetic arguments add synthetic argument addsyntheticargument type binding typebinding new params newparams binding synthetic method binding syntheticmethodbinding outer local variables outerlocalvariables length new params newparams type binding typebinding binding parameters length outer local variables outerlocalvariables length system arraycopy binding parameters outer local variables outerlocalvariables length new params newparams new params newparams length new params newparams binding parameters actual method binding actualmethodbinding method binding methodbinding binding modifiers binding selector binding return type returntype new params newparams binding thrown exceptions thrownexceptions binding declaring class declaringclass actual method binding actualmethodbinding tag bits tagbits binding tag bits tagbits actual method binding actualmethodbinding problem method binding problemmethodbinding char operation charoperation problem reasons problemreasons no such single abstract method nosuchsingleabstractmethod actual method binding actualmethodbinding diagnostics source end diagnosticssourceend body block arrow position arrowposition source end sourceend type binding typebinding get marker interfaces getmarkerinterfaces expected type expectedtype intersection type binding intersectiontypebinding marker bindings markerbindings linked hash set linkedhashset intersection type binding intersectiontypebinding int ersection type intersectiontype intersection type binding intersectiontypebinding expected type expectedtype type binding typebinding int ersection types intersectiontypes int ersection type intersectiontype int ersecting types intersectingtypes type binding typebinding sam type samtype int ersection type intersectiontype getsamtype enclosing scope enclosingscope max int ersection types intersectiontypes length max type binding typebinding type binding typebinding int ersection types intersectiontypes interfaces type binding typebinding is interface isinterface sam type samtype type binding typebinding equals equals equalsequals sam type samtype type binding typebinding serializable captured bit flag bitflag type binding typebinding type ids typeids java io serializable javaioserializable marker bindings markerbindings add type binding typebinding marker bindings markerbindings size type binding typebinding marker bindings markerbindings to array toarray type binding typebinding marker bindings markerbindings size reference binding referencebinding get type binding gettypebinding class type classtype resolved type resolvedtype lambda type binding lambdatypebinding reference binding referencebinding method binding methodbinding methods method binding methodbinding get method binding getmethodbinding source name sourcename type constants typeconstants lambda type reference binding referencebinding superclass lambda expression lambdaexpression scope get java lang object getjavalangobject reference binding referencebinding super interfaces superinterfaces reference binding referencebinding reference binding referencebinding lambda expression lambdaexpression resolved type resolvedtype override compute unique key computeuniquekey lambda expression lambdaexpression descriptor declaring class declaringclass compute unique key computeuniquekey string to string tostring string buffer stringbuffer output nls string buffer stringbuffer nls output append lambda expression lambdaexpression descriptor declaring class declaringclass source name sourcename output append output append lambda expression lambdaexpression descriptor to string tostring output to string tostring class type classtype lambda type binding lambdatypebinding
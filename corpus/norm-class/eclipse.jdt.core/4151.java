copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core formatter java util array list arraylist java util arrays java util map org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt internal compiler parser scanner helper scannerhelper org eclipse jdt internal compiler util util org eclipse jface text bad location exception badlocationexception org eclipse jface text default line tracker defaultlinetracker org eclipse jface text i line tracker ilinetracker org eclipse jface text i region iregion org eclipse text edits replace edit replaceedit helper provide string manipulation functions dealing indent ations indentations noinstantiate intended instantiated clients suppress warnings suppresswarnings rawtypes unchecked indent manipulation indentmanipulation indent manipulation indentmanipulation don instantiate returns code code character indentation character indentation character whitespace characters delimiter characters param character returns code code character indent character code code is indent char isindentchar scanner helper scannerhelper is whitespace iswhitespace is line delimiter char islinedelimiterchar returns code code character delimiter character param character returns code code character delimiter character code code is line delimiter char islinedelimiterchar returns indentation indentation units odd spaces counted method analyzes content code code whitespace character param string measure indent param tab width tabwidth width tab character space equivalents param indent width indentwidth width indentation unit space equivalents number indentation units indented exception illegal argument exception illegalargumentexception code indent width indentwidth code code tab width tabwidth code code code measure indent units measureindentunits char sequence charsequence tab width tabwidth indent width indentwidth indent width indentwidth tab width tabwidth illegal argument exception illegalargumentexception indent width indentwidth visual length visuallength measure indent in spaces measureindentinspaces tab width tabwidth visual length visuallength indent width indentwidth returns indentation space equivalents tab characters counted code tab width tabwidth code indent character method analyzes content code code whitespace character param string measure indent param tab width tabwidth width tab space equivalents measured indent width space equivalents exception illegal argument exception illegalargumentexception code code code tab width tabwidth code measure indent in spaces measureindentinspaces char sequence charsequence tab width tabwidth tab width tabwidth illegal argument exception illegalargumentexception length max length max char at charat length calculate space equivalents calculatespaceequivalents tab width tabwidth length is indent char isindentchar length length length returns leading indentation string note returned string equal leading whitespace odd spaces considered indentation param scan param tab width tabwidth size tab space equivalents param indent width indentwidth width indentation unit space equivalents indent code code odd spaces exception illegal argument exception illegalargumentexception code indent width indentwidth code code tab width tabwidth code code code string extract indent string extractindentstring string tab width tabwidth indent width indentwidth tab width tabwidth indent width indentwidth illegal argument exception illegalargumentexception size length space equivs spaceequivs characters size char at charat space equivs spaceequivs calculate space equivalents calculatespaceequivalents tab width tabwidth space equivs spaceequivs characters is indent char isindentchar space equivs spaceequivs characters space equivs spaceequivs indent width indentwidth characters characters indent width indentwidth space equivs spaceequivs space equivs spaceequivs space equivs spaceequivs indent width indentwidth util empty string size substring removes number indentation units indent indent units to remove indentunitstoremove indentation removed code indents to remove indentstoremove indent code returned param trim param tab width tabwidth width tab space equivalents param indent width indentwidth width indentation unit space equivalents trimmed string exception illegal argument exception illegalargumentexception code indent width indentwidth code code tab width tabwidth code code code string trim indent trimindent string indent units to remove indentunitstoremove tab width tabwidth indent width indentwidth tab width tabwidth indent width indentwidth illegal argument exception illegalargumentexception indent units to remove indentunitstoremove indent width indentwidth space equivalents to remove spaceequivalentstoremove indent units to remove indentunitstoremove indent width indentwidth start space equivalents spaceequivalents size length string prefix size char at charat space equivalents spaceequivalents calculate space equivalents calculatespaceequivalents tab width tabwidth space equivalents spaceequivalents is indent char isindentchar space equivalents spaceequivalents is true istrue requested number indents start space equivalents spaceequivalents space equivalents to remove spaceequivalentstoremove start space equivalents spaceequivalents space equivalents to remove spaceequivalentstoremove happen tab size tabsize indent size indentsize tab size tabsize indent indents to remove indentstoremove prefixed tab option remove tab start add missing spaces missing space equivalents spaceequivalents space equivalents to remove spaceequivalentstoremove arrays fill missing prefix string missing string trimmed start size trimmed util empty string trimmed substring start prefix trimmed prefix trimmed change indent multiple code string number indent units removed indent string code changed considered indent start middle param code code change indent param indent units to remove indentunitstoremove number indent units remove code param tab width tabwidth size tab space equivalents param indent width indentwidth width indentation unit space equivalents param new indent string newindentstring indent string lines param line delim linedelim delimiter returned code delimiter newly indent code delimiters exception illegal argument exception illegalargumentexception code indent width indentwidth code code tab width tabwidth code code code code code indent units to remove indentunitstoremove code code new indent string newindentstring code code line delim linedelim code string change indent changeindent string code indent units to remove indentunitstoremove tab width tabwidth indent width indentwidth string new indent string newindentstring string line delim linedelim tab width tabwidth indent width indentwidth code indent units to remove indentunitstoremove new indent string newindentstring line delim linedelim illegal argument exception illegalargumentexception i line tracker ilinetracker tracker default line tracker defaultlinetracker tracker code n lines nlines tracker get number of lines getnumberoflines n lines nlines code string buffer stringbuffer buf string buffer stringbuffer n lines nlines i region iregion region tracker get line information getlineinformation start region get offset getoffset start region get length getlength string code substring start indent contained for matted formatted string buf append buf append line delim linedelim buf append new indent string newindentstring indent width indentwidth buf append trim indent trimindent indent units to remove indentunitstoremove tab width tabwidth indent width indentwidth buf append buf to string tostring bad location exception badlocationexception code returns text edits retrieved changing indentation multi code string number indent units removed indent string code changed considered indent start middle param source code change indent param indent units to remove indentunitstoremove number indent units remove code param tab width tabwidth size tab space equivalents param indent width indentwidth width indentation unit space equivalents param new indent string newindentstring indent string lines returns text edits exception illegal argument exception illegalargumentexception code indent width indentwidth code code tab width tabwidth code code source code code indent units to remove indentunitstoremove code code new indent string newindentstring code replace edit replaceedit get change indent edits getchangeindentedits string source indent units to remove indentunitstoremove tab width tabwidth indent width indentwidth string new indent string newindentstring tab width tabwidth indent width indentwidth source indent units to remove indentunitstoremove new indent string newindentstring illegal argument exception illegalargumentexception array list arraylist result array list arraylist i line tracker ilinetracker tracker default line tracker defaultlinetracker tracker source n lines nlines tracker get number of lines getnumberoflines n lines nlines replace edit replaceedit result to array toarray replace edit replaceedit result size n lines nlines i region iregion region tracker get line information getlineinformation offset region get offset getoffset string source substring offset offset region get length getlength length index of indent indexofindent indent units to remove indentunitstoremove tab width tabwidth indent width indentwidth length result add replace edit replaceedit offset length new indent string newindentstring length measure indent units measureindentunits tab width tabwidth indent width indentwidth result add nls replace edit replaceedit nls offset nls length nls bad location exception badlocationexception cannot happen cannothappen replace edit replaceedit result to array toarray replace edit replaceedit result size returns indent size ends returns code code isn prefixed indent number indents index of indent indexofindent char sequence charsequence number of indent units numberofindentunits tab width tabwidth indent width indentwidth space equivalents spaceequivalents number of indent units numberofindentunits indent width indentwidth size length result blanks size blanks space equivalents spaceequivalents char at charat blanks calculate space equivalents calculatespaceequivalents tab width tabwidth blanks is indent char isindentchar blanks result blanks space equivalents spaceequivalents result calculates space equivalents tab calculate space equivalents calculatespaceequivalents tab width tabwidth space equivalents spaceequivalents tab width tabwidth space equivalents spaceequivalents remainder space equivalents spaceequivalents tab width tabwidth space equivalents spaceequivalents tab width tabwidth remainder space equivalents spaceequivalents returns tab width configured map link org eclipse jdt core i java project ijavaproject get options getoptions current project options param options map formatter settings tab width exception illegal argument exception illegalargumentexception code options code get tab width gettabwidth map options options illegal argument exception illegalargumentexception get int value getintvalue options default code formatter constants defaultcodeformatterconstants formatter tab size returns tab width configured map link org eclipse jdt core i java project ijavaproject get options getoptions current project options param options map formatter settings indent width exception illegal argument exception illegalargumentexception code options code get indent width getindentwidth map options options illegal argument exception illegalargumentexception tab width tabwidth get tab width gettabwidth options is mixed mode ismixedmode default code formatter constants defaultcodeformatterconstants mixed equals options default code formatter constants defaultcodeformatterconstants formatter tab is mixed mode ismixedmode get int value getintvalue options default code formatter constants defaultcodeformatterconstants formatter indentation size tab width tabwidth tab width tabwidth get int value getintvalue map options string key def integer parse int parseint string options key number format exception numberformatexception def
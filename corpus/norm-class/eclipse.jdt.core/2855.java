copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation jesper moller contributions bug compiler implement semantic analysis lambda expressions reference expression bug compiler codegen implement code generation infrastructure jsr stephan herrmann contribution bug compiler inference infrastructure evolve meet jls jsr spec bug implement functional param eterization parameterization inference bug compiler npe constraint type for mula constrainttypeformula reduce sub type reducesubtype bug wildcard incompatible types lambda expression bug lambda argument flagged incompatible error bug compiler method call method reference argument fails resolve properly bug compiler npe org eclipse jdt internal compiler ast conditional expression conditionalexpression generate code generatecode conditional expression conditionalexpression java bug compiler resolution errors don surface bug merge annotations methods andy clement go pivotal gopivotal aclement gopivotal contributions bug compiler codegen implement support serialize able serializeable lambdas org eclipse jdt internal compiler ast org eclipse jdt internal compiler ast expression context expressioncontext vanilla context org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler default error handling policies defaulterrorhandlingpolicies org eclipse jdt internal compiler i error handling policy ierrorhandlingpolicy org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler impl reference context referencecontext org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup compilation unit scope compilationunitscope org eclipse jdt internal compiler lookup implicit null annotation verifier implicitnullannotationverifier org eclipse jdt internal compiler lookup intersection type binding intersectiontypebinding org eclipse jdt internal compiler lookup lookup environment lookupenvironment org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup method scope methodscope org eclipse jdt internal compiler lookup method verifier methodverifier org eclipse jdt internal compiler lookup parameterized type binding parameterizedtypebinding org eclipse jdt internal compiler lookup problem reasons problemreasons org eclipse jdt internal compiler lookup raw type binding rawtypebinding org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup scope org eclipse jdt internal compiler lookup tag bits tagbits org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type binding visitor typebindingvisitor org eclipse jdt internal compiler lookup type ids typeids org eclipse jdt internal compiler lookup type variable binding typevariablebinding functional expression functionalexpression expression type binding typebinding expected type expectedtype method binding methodbinding descriptor code generation binding include synthetics get method binding getmethodbinding method binding methodbinding binding synthetics method binding methodbinding actual method binding actualmethodbinding ignore further investigation ignorefurtherinvestigation expression context expressioncontext expression context expressioncontext vanilla context compilation result compilationresult compilation result compilationresult block scope blockscope enclosing scope enclosingscope bootstrap method number bootstrapmethodnumber expression access instance data enclosing type should capture instance shouldcaptureinstance i error handling policy ierrorhandlingpolicy silent error handling policy silenterrorhandlingpolicy default error handling policies defaulterrorhandlingpolicies ignore all problems ignoreallproblems has reported sam problem hasreportedsamproblem is serializable isserializable functional expression functionalexpression compilation result compilationresult compilation result compilationresult compilation result compilationresult compilation result compilationresult functional expression functionalexpression is boxing compatible with isboxingcompatiblewith type binding typebinding target type targettype scope scope set compilation result setcompilationresult compilation result compilationresult compilation result compilationresult compilation result compilationresult compilation result compilationresult actual code generation method binding synthetics method binding methodbinding get method binding getmethodbinding set expected type setexpectedtype type binding typebinding expected type expectedtype expected type expectedtype expected type expectedtype set expression context setexpressioncontext expression context expressioncontext context expression context expressioncontext context expression context expressioncontext get expression context getexpressioncontext expression context expressioncontext is poly expression ispolyexpression method binding methodbinding candidate is poly expression ispolyexpression intro duction introduction jsr override is functional type isfunctionaltype is per tinent to applicability ispertinenttoapplicability type binding typebinding target type targettype method binding methodbinding method target type targettype type variable binding typevariablebinding type variable binding typevariablebinding type variable typevariable type variable binding typevariablebinding target type targettype called type inference method type variable typevariable declaring element declaringelement method method is constructor isconstructor type variable typevariable declaring element declaringelement method declaring class declaringclass internal calls type variable typevariable declaring element declaringelement method binding methodbinding type binding typebinding invocation target type invocationtargettype expected type expectedtype inference expression mimics invocation site invocationsite simulate invocation functional expression expected type expression type sam method binding methodbinding sam expected type expectedtype get single abstract method getsingleabstractmethod enclosing scope enclosingscope sam sam problem id problemid problem reasons problemreasons no such single abstract method nosuchsingleabstractmethod sam is constructor isconstructor sam declaring class declaringclass sam return type returntype type binding typebinding expected type expectedtype expected type expectedtype arguments type elided argumentstypeelided exception lambda explicit argument types notify compilation unit functional types care add copies assumed copy record functional type recordfunctionaltype scope scope scope scope kind scope method scope reference context referencecontext context method scope methodscope scope reference context referencecontext context lambda expression lambdaexpression lambda expression lambdaexpression expression lambda expression lambdaexpression context fake universe expression fake universe expression original scope compilation unit scope compilation unit declaration compilationunitdeclaration unit compilation unit scope compilationunitscope scope reference context referencecontext unit record scope scope parent reached type binding typebinding resolve type resolvetype block scope blockscope block scope blockscope resolve type resolvetype block scope blockscope type binding typebinding resolve type resolvetype block scope blockscope block scope blockscope skip kosher check skipkoshercheck constant constant notaconstant enclosing scope enclosingscope block scope blockscope method binding methodbinding sam expected type expectedtype expected type expectedtype get single abstract method getsingleabstractmethod block scope blockscope arguments type elided argumentstypeelided sam block scope blockscope problem reporter problemreporter target type is not functional interface targettypeisnotafunctionalinterface sam is valid binding isvalidbinding report sam problem reportsamproblem block scope blockscope sam descriptor sam skip kosher check skipkoshercheck kosher descriptor kosherdescriptor block scope blockscope sam expected type expectedtype intersection type binding intersectiontypebinding reference binding referencebinding int ersecting types intersectingtypes intersection type binding intersectiontypebinding expected type expectedtype int ersecting types intersectingtypes max int ersecting types intersectingtypes length max int ersecting types intersectingtypes find super type originating from findsupertypeoriginatingfrom type ids typeids java io serializable javaioserializable serializable is serializable isserializable expected type expectedtype find super type originating from findsupertypeoriginatingfrom type ids typeids java io serializable javaioserializable serializable is serializable isserializable lookup environment lookupenvironment environment block scope blockscope environment environment global options globaloptions is annotation based null analysis enabled isannotationbasednullanalysisenabled sam tag bits tagbits tag bits tagbits is nullness known isnullnessknown implicit null annotation verifier implicitnullannotationverifier environment environment global options globaloptions inherit null annotations inheritnullannotations check implicit null annotations checkimplicitnullannotations sam block scope blockscope null annotation matching nullannotationmatching check for contradictions checkforcontradictions sam block scope blockscope resolved type resolvedtype expected type expectedtype resolved type resolvedtype type binding typebinding report sam problem reportsamproblem block scope blockscope block scope blockscope method binding methodbinding sam has reported sam problem hasreportedsamproblem sam problem id problemid problem reasons problemreasons no such single abstract method nosuchsingleabstractmethod block scope blockscope problem reporter problemreporter target type is not functional interface targettypeisnotafunctionalinterface has reported sam problem hasreportedsamproblem problem reasons problemreasons not well for med parameterized type notawellformedparameterizedtype block scope blockscope problem reporter problemreporter ill for med param eterization of functional interface illformedparameterizationoffunctionalinterface has reported sam problem hasreportedsamproblem visibility ins pector visibilityinspector type binding visitor typebindingvisitor scope scope should chatter shouldchatter visible functional expression functionalexpression expression visibility ins pector visibilityinspector functional expression functionalexpression expression scope scope should chatter shouldchatter scope scope should chatter shouldchatter should chatter shouldchatter expression expression check visibility checkvisibility reference binding referencebinding reference binding referencebinding reference binding referencebinding can be seen by canbeseenby scope visible should chatter shouldchatter scope problem reporter problemreporter descriptor has invisible type descriptorhasinvisibletype expression reference binding referencebinding visit reference binding referencebinding reference binding referencebinding check visibility checkvisibility reference binding referencebinding visit parameterized type binding parameterizedtypebinding parameterized type binding parameterizedtypebinding check visibility checkvisibility parameterized type binding parameterizedtypebinding visit raw type binding rawtypebinding raw type binding rawtypebinding check visibility checkvisibility raw type binding rawtypebinding visible type binding typebinding type type binding visitor typebindingvisitor visit type visible visible type binding typebinding types type binding visitor typebindingvisitor visit types visible kosher descriptor kosherdescriptor scope scope method binding methodbinding sam should chatter shouldchatter visibility ins pector visibilityinspector inspector visibility ins pector visibilityinspector scope should chatter shouldchatter status inspector visible sam return type returntype status inspector visible sam parameters status inspector visible sam thrown exceptions thrownexceptions status inspector visible expected type expectedtype status status null status nullstatus flow info flowinfo flow info flowinfo flow info flowinfo diagnostics source end diagnosticssourceend source end sourceend method binding methodbinding get required bridges getrequiredbridges bridge collector bridgecollector method binding methodbinding bridges method binding methodbinding method selector lookup environment lookupenvironment environment scope scope bridge collector bridgecollector reference binding referencebinding functional type functionaltype method binding methodbinding method method method selector method selector environment functional expression functionalexpression enclosing scope enclosingscope environment scope functional expression functionalexpression enclosing scope enclosingscope collect bridges collectbridges reference binding referencebinding functional type functionaltype collect bridges collectbridges reference binding referencebinding interfaces length interfaces interfaces length length reference binding referencebinding super interface superinterface interfaces super interface superinterface method binding methodbinding methods super interface superinterface get methods getmethods selector count methods methods length count method binding methodbinding inherited method inheritedmethod methods descriptor declaring functional target type inherited method inheritedmethod method inherited method inheritedmethod inherited method inheritedmethod is static isstatic inherited method inheritedmethod redeclares public object method redeclarespublicobjectmethod scope inherited method inheritedmethod method verifier methodverifier compute sub stitute method computesubstitutemethod inherited method inheritedmethod method environment inherited method inheritedmethod method verifier methodverifier is sub stitute parameter sub signature issubstituteparametersubsignature method inherited method inheritedmethod environment method verifier methodverifier are return types compatible arereturntypescompatible method inherited method inheritedmethod environment method binding methodbinding original inherited originalinherited inherited method inheritedmethod original method binding methodbinding original override originaloverride method original original override originaloverride are parameter erasures equal areparametererasuresequal original inherited originalinherited type binding typebinding not equals notequals original override originaloverride return type returntype erasure original inherited originalinherited return type returntype erasure add original inherited originalinherited collect bridges collectbridges super interface superinterface super interfaces superinterfaces add method binding methodbinding inherited method inheritedmethod bridges bridges method binding methodbinding inherited method inheritedmethod length bridges length length bridges are parameter erasures equal areparametererasuresequal inherited method inheritedmethod type binding typebinding equals equals equalsequals bridges return type returntype erasure inherited method inheritedmethod return type returntype erasure system arraycopy bridges bridges method binding methodbinding length length bridges length inherited method inheritedmethod method binding methodbinding get bridges getbridges bridges reference binding referencebinding functional type functionaltype expected type expectedtype intersection type binding intersectiontypebinding functional type functionaltype reference binding referencebinding intersection type binding intersectiontypebinding expected type expectedtype getsamtype enclosing scope enclosingscope functional type functionaltype reference binding referencebinding expected type expectedtype bridge collector bridgecollector functional type functionaltype descriptor get bridges getbridges requires bridges requiresbridges get required bridges getrequiredbridges
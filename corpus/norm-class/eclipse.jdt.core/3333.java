copyright mateusz matela rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors mateusz matela mateusz matela gmail formatter formatter format java code correctly max width https bugs eclipse org org eclipse jdt internal formatter java util list helper subclassed time algorithm swi pe swipe tokens easily track previous tokens whitespace token traverser tokentraverser general purpose field subclasses count counter general purpose field subclasses store int eger integer space before spacebefore space after spaceafter line breaks before linebreaksbefore line breaks after linebreaksafter token previous current structure changed structurechanged token token token called time tokens removed list traversed cached data ref res hed refreshed structure changed structurechanged structure changed structurechanged is space before isspacebefore space before spacebefore is space after isspaceafter space after spaceafter get line breaks before getlinebreaksbefore line breaks before linebreaksbefore get line breaks after getlinebreaksafter line breaks after linebreaksafter token get previous getprevious previous token get current getcurrent current token get next getnext init traverse inittraverse list token tokens start index startindex tokens is empty isempty structure changed structurechanged previous start index startindex previous tokens start index startindex current tokens start index startindex line breaks before linebreaksbefore math max previous previous get line breaks after getlinebreaksafter current get line breaks before getlinebreaksbefore space before spacebefore current is space before isspacebefore line breaks before linebreaksbefore space before spacebefore space before spacebefore previous previous is space after isspaceafter traverse list token tokens start index startindex init traverse inittraverse tokens start index startindex start index startindex tokens size structure changed structurechanged init traverse inittraverse tokens tokens size tokens line breaks after linebreaksafter math max current get line breaks after getlinebreaksafter get line breaks before getlinebreaksbefore space after spaceafter current is space after isspaceafter line breaks after linebreaksafter space after spaceafter space after spaceafter is space before isspacebefore token current previous current current line breaks before linebreaksbefore line breaks after linebreaksafter space before spacebefore space after spaceafter line breaks before linebreaksbefore space before spacebefore current is space before isspacebefore tokens size
gov noaa ncdc public ations publications exception convert exception convertexception gov noaa ncdc public ations publications exception createpdffileexception gov noaa ncdc public ations publications exception create temp working dir exception createtempworkingdirexception gov noaa ncdc public ations publications exception ftp server exception ftpserverexception gov noaa ncdc public ations publications exception ftp server timeout exception ftpservertimeoutexception gov noaa ncdc public ations publications exception create list file exception createlistfileexception gov noaa ncdc util file utils fileutils gov noaa ncdc util registry gov noaa ncdc util wssrd file comparator wssrdfilecomparator gov noaa ncdc util ftp server ftpserver ftp server ftpserver org apache commons logging log org apache commons logging log factory logfactory java buffered writer bufferedwriter java file java file writer filewriter java io exception ioexception java print writer printwriter java util arrays code remote publication remotepublication code remote publication remotepublication pub lication publication stored tif files wssrd database pre revision othomann revision jduska merged chaged branch head revision jduska support pub lication publication retrieved wssrd cabinet wssrd docid revision jduska change ftp errors warnings revision jduska updated publication library rename file renamefile method created file utils fileutils moving copy file copyfile adding rename file renamefile methods revision jduska updated support support files command tool update properties support dynamic changing ftp library cleaned exceptions files out date outdate unneed imports revision jduska corrected bugs support publication library revision jduska bug correct temporary directory issue library web application revision jduska command version publication library revision jduska support pdf library command revision jduska updated library works windows revision jduska refactoring serial public ations serialpublications support local doc uments documents revision jduska keyword substitution change pre remote publication remotepublication publication string pdf file type filetype pdf log log log factory logfactory get log getlog remote publication remotepublication get name getname string file list filelist string file type filetype string remote publication remotepublication string string year string month string state code statecode string server directory serverdirectory string cabinet year month state code statecode server directory serverdirectory cabinet file list filelist cabinet txt get document getdocument attempt attempt max attempts maxattempts attempt log info down loading downloading local file name localfilename extention attempt attempt max attempts maxattempts get remote document getremotedocument log info success document published local file name localfilename extention convert exception convertexception log warn get remote document getremotedocument convert exception convertexception successful create temp working dir createtempworkingdir get pages getpages file type filetype pdf file type filetype create list file createlistfile createpdffile renamepdffile successful ftp server timeout exception ftpservertimeoutexception string msg convert process time d timed ret riving retriving tiff get file name getfilename log warn msg convert exception convertexception msg ftp server exception ftpserverexception string msg convert process enc ounter encounter get message getmessage log warn msg convert exception convertexception msg create temp working dir exception createtempworkingdirexception string msg error c over t covert create working directory log warn msg convert exception convertexception msg createpdffileexception string msg create pdf file get message getmessage log warn msg convert exception convertexception msg create list file exception createlistfileexception string msg create pdf list file get message getmessage convert exception convertexception msg noftpserviceexception string msg create ftp service get message getmessage log warn msg convert exception convertexception msg successful get pages getpages ftp server timeout exception ftpservertimeoutexception ftp server exception ftpserverexception noftpserviceexception setup ftp server ftp server ftpserver ftp ftp ftp server ftpserver for name forname registry getftpservice new instance newinstance ftp set server setserver registry get url geturl ftp set password setpassword registry get ftp password getftppassword ftp set user name setusername registry get ftp user name getftpusername ftp set passive setpassive registry use passive usepassive ftp set timeout settimeout registry get ftp timeout getftptimeout store working dir workingdir ftp get files getfiles get wssrd document name getwssrddocumentname working dir workingdir length ends with endswith pdf file type filetype pdf file type filetype instantiation exception instantiationexception log warn get message getmessage noftpserviceexception illegal access exception illegalaccessexception print stack trace printstacktrace class not found exception classnotfoundexception print stack trace printstacktrace createpdffile createpdffileexception string cmd line cmdline file new pdf file newpdffile file working dir workingdir file separator local file name localfilename extention registry is command line mode iscommandlinemode handle multiple doc uments handlemultipledocuments new pdf file newpdffile cmd line cmdline create c createc pdf command line pdfcommandline new pdf file newpdffile get name getname log is debug enabled isdebugenabled log debug running cmd line cmdline pdf create file wait fin ishes finishes process runtime get runtime getruntime exec cmd line cmdline wait for waitfor check worked new pdf file newpdffile exists log warn pdf file created createpdffileexception pdf file created io exception ioexception print stack trace printstacktrace createpdffileexception to string tostring interrupted exception interruptedexception print stack trace printstacktrace createpdffileexception to string tostring generates command execute pdf tool shell requires code registry get convert tool path getconverttoolpath code code registry get convert tool name getconverttoolname code valid param document name documentname document create string create c createc pdf command line pdfcommandline string document name documentname registry get convert tool path getconverttoolpath file separator registry get convert tool name getconverttoolname working dir workingdir file separator document name documentname working dir workingdir file separator file list filelist special cases wssrd pdf document river basin doc uments documents document exist lib arary libarary command mode code handle multiple doc uments handlemultipledocuments code add counter duplicate filename files document files filename filename filename param new pdf file newpdffile document making exist handle multiple doc uments handlemultipledocuments file new pdf file newpdffile document count documentcount string new file name newfilename log is debug enabled isdebugenabled log debug checking new pdf file newpdffile get name getname exists new pdf file newpdffile exists document count documentcount new file name newfilename string buffer stringbuffer working dir workingdir append file separator append local file name localfilename append document count documentcount append extention to string tostring log is debug enabled isdebugenabled log debug file exists check rename existing file document count documentcount file backup pdf file backuppdffile file new file name newfilename new pdf file newpdffile rename to renameto backup pdf file backuppdffile new pdf file newpdffile file new file name newfilename create list file createlistfile create list file exception createlistfileexception print writer printwriter tiff file list file tifffilelistfile string sort length log error internal error tiff page tiffpage create list file exception createlistfileexception document sort tiff files correct order wssrd file comparator wssrdfilecomparator file comparator filecomparator wssrd file comparator wssrdfilecomparator arrays sort file comparator filecomparator log is debug enabled isdebugenabled log debug creating list file pdf file tiff file list tifffilelist file working dir workingdir file separator file list filelist tiff file list tifffilelist exists tiff file list tifffilelist delete tiff file list file tifffilelistfile print writer printwriter buffered writer bufferedwriter file writer filewriter working dir workingdir file separator file list filelist length working dir workingdir file separator log is debug enabled isdebugenabled log debug tiff file list file tifffilelistfile println io exception ioexception print stack trace printstacktrace create list file exception createlistfileexception to string tostring tiff file list file tifffilelistfile tiff file list file tifffilelistfile close log is debug enabled isdebugenabled log debug finished creating list file pdf renamepdffile createpdffileexception string new file name newfilename working dir workingdir file separator local file name localfilename extention string old wssrd file oldwssrdfile working dir workingdir file separator file utils fileutils rename file renamefile old wssrd file oldwssrdfile new file name newfilename io exception ioexception string msg error occurred get message getmessage log warn msg createpdffileexception rename pdf file
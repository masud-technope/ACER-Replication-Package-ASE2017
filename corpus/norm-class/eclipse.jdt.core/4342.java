copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug increment decrement operators mark local variables read bug npe code stream codestream invoke org eclipse jdt internal eval org eclipse jdt internal compiler ast assignment org eclipse jdt internal compiler ast binary expression binaryexpression org eclipse jdt internal compiler ast compound assignment compoundassignment org eclipse jdt internal compiler ast expression org eclipse jdt internal compiler ast int literal intliteral org eclipse jdt internal compiler ast single name reference singlenamereference org eclipse jdt internal compiler codegen code stream codestream org eclipse jdt internal compiler codegen opcodes org eclipse jdt internal compiler flow flow context flowcontext org eclipse jdt internal compiler flow flow info flowinfo org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup binding org eclipse jdt internal compiler lookup block scope blockscope org eclipse jdt internal compiler lookup class scope classscope org eclipse jdt internal compiler lookup field binding fieldbinding org eclipse jdt internal compiler lookup local variable binding localvariablebinding org eclipse jdt internal compiler lookup method binding methodbinding org eclipse jdt internal compiler lookup parameterized field binding parameterizedfieldbinding org eclipse jdt internal compiler lookup problem binding problembinding org eclipse jdt internal compiler lookup problem field binding problemfieldbinding org eclipse jdt internal compiler lookup problem reasons problemreasons org eclipse jdt internal compiler lookup reference binding referencebinding org eclipse jdt internal compiler lookup scope org eclipse jdt internal compiler lookup tag bits tagbits org eclipse jdt internal compiler lookup type binding typebinding org eclipse jdt internal compiler lookup type ids typeids org eclipse jdt internal compiler lookup variable binding variablebinding org eclipse jdt internal compiler problem abort method abortmethod single reference code snippet denote field remote receiver object receiver context stack frame code snippet single name reference codesnippetsinglenamereference single name reference singlenamereference evaluation constants evaluationconstants problem reasons problemreasons evaluation context evaluationcontext evaluation context evaluationcontext field binding fieldbinding delegate this delegatethis code snippet single name reference codesnippetsinglenamereference source pos evaluation context evaluationcontext evaluation context evaluationcontext source pos evaluation context evaluationcontext evaluation context evaluationcontext flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo value required valuerequired bits restrictiveflagmask reading field binding field check reading blank field field binding fieldbinding field binding fieldbinding field binding fieldbinding field binding fieldbinding binding is blank final isblankfinal current scope currentscope need blank final field initialization check needblankfinalfieldinitializationcheck field binding fieldbinding flow info flowinfo field inits fieldinits flow context flowcontext get inits for final blank initialization check getinitsforfinalblankinitializationcheck field binding fieldbinding declaring class declaringclass original flow info flowinfo field inits fieldinits is definitely assigned isdefinitelyassigned field binding fieldbinding current scope currentscope problem reporter problemreporter uninitialized blank final field uninitializedblankfinalfield field binding fieldbinding reading local variable binding local local variable binding localvariablebinding local binding localbinding flow info flowinfo is definitely assigned isdefinitelyassigned local binding localbinding local variable binding localvariablebinding binding current scope currentscope problem reporter problemreporter uninitialized local variable uninitializedlocalvariable local binding localbinding flow info flowinfo tag bits tagbits flow info flowinfo unreachable local binding localbinding use flag useflag local variable binding localvariablebinding local binding localbinding use flag useflag local variable binding localvariablebinding unused local binding localbinding use flag useflag local variable binding localvariablebinding fake flow info flowinfo check redirect field access delegate receiver type binding typebinding check field access checkfieldaccess block scope blockscope scope delegate this delegatethis check field access checkfieldaccess scope field binding fieldbinding field binding fieldbinding field binding fieldbinding binding clear bits bits restrictiveflagmask bits binding field field binding fieldbinding is static isstatic check status evaluation context evaluationcontext is static isstatic scope problem reporter problemreporter static field access to non static variable staticfieldaccesstononstaticvariable field binding fieldbinding constant constant notaconstant constant field binding fieldbinding constant scope is field use deprecated isfieldusedeprecated field binding fieldbinding scope bits scope problem reporter problemreporter deprecated field deprecatedfield field binding fieldbinding field binding fieldbinding type generate assignment generateassignment block scope blockscope current scope currentscope code stream codestream code stream codestream assignment assignment value required valuerequired opt imizing optimizing assignment assignment expression is comp act able operation iscompactableoperation binary expression binaryexpression operation binary expression binaryexpression assignment expression operation bits operatormask operatorshift single name reference singlenamereference variable reference variablereference operation left single name reference singlenamereference variable reference variablereference single name reference singlenamereference operation left binding binding variable hand side correct implicit conversion variable reference variablereference generate compound assignment generatecompoundassignment current scope currentscope code stream codestream synthetic access ors syntheticaccessors synthetic access ors syntheticaccessors write operation operation implicit conversion implicitconversion value required valuerequired value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion operation single name reference singlenamereference commutative operations multiply variable reference variablereference single name reference singlenamereference operation binding binding exclude constant expressions side operation left constant constant notaconstant exclude string concatenation occur operation left implicit conversion implicitconversion implicit conversion mask java lang string javalangstring exclude string concatenation occur operation implicit conversion implicitconversion implicit conversion mask java lang string javalangstring variable hand side correct implicit conversion variable reference variablereference generate compound assignment generatecompoundassignment current scope currentscope code stream codestream synthetic access ors syntheticaccessors synthetic access ors syntheticaccessors write operation left operation implicit conversion implicitconversion value required valuerequired value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion bits restrictiveflagmask assigning field binding field field binding fieldbinding codegen field codegenfield field binding fieldbinding binding original codegen field codegenfield can be seen by canbeseenby get receiver type getreceivertype current scope currentscope current scope currentscope receiver codegen field codegenfield is static isstatic bits depthmask reference binding referencebinding target type targettype current scope currentscope enclosing source type enclosingsourcetype enclosing type at enclosingtypeat bits depthmask depthshift object emulation path emulationpath current scope currentscope get emulation path getemulationpath exact match target type targettype enclosing arg code stream codestream generate outer access generateouteraccess emulation path emulationpath target type targettype current scope currentscope generate receiver generatereceiver code stream codestream assignment expression generate code generatecode current scope currentscope code stream codestream field store fieldstore current scope currentscope code stream codestream codegen field codegenfield actual receiver type actualreceivertype delegate this delegatethis implicit value required valuerequired value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion code stream codestream generate emulation for field generateemulationforfield codegen field codegenfield receiver codegen field codegenfield is static isstatic bits depthmask internal error construction supported current scope currentscope problem reporter problemreporter need implementation needimplementation generate receiver generatereceiver code stream codestream code stream codestream aconst assignment expression generate code generatecode current scope currentscope code stream codestream value required valuerequired type binding typebinding equals equals equalsequals codegen field codegenfield type type binding typebinding type binding typebinding equals equals equalsequals codegen field codegenfield type type binding typebinding code stream codestream dup code stream codestream dup code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield codegen field codegenfield value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion assigning local variable binding local local variable binding localvariablebinding local binding localbinding local variable binding localvariablebinding binding local binding localbinding resolved position resolvedposition assignment expression generate code generatecode current scope currentscope code stream codestream assignment expression constant constant notaconstant assigning unused local constant actual assignment value required valuerequired code stream codestream generate constant generateconstant assignment expression constant assignment implicit conversion implicitconversion assignment expression generate code generatecode current scope currentscope code stream codestream required force produced discard provide behavior jdk beta value required valuerequired implicit conversion code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion type binding typebinding equals equals equalsequals local binding localbinding type type binding typebinding type binding typebinding equals equals equalsequals local binding localbinding type type binding typebinding code stream codestream pop code stream codestream pop normal local assignment store local locations code stream codestream store local binding localbinding value required valuerequired local variable debug attributes bits first assignment to local firstassignmenttolocal local binding localbinding record initialization start c recordinitializationstartpc code stream codestream position implicit conversion value required valuerequired code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion implicitconversion generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream value required valuerequired code stream codestream position constant constant notaconstant value required valuerequired code stream codestream generate constant generateconstant constant implicit conversion implicitconversion bits restrictiveflagmask reading field binding field value required valuerequired field binding fieldbinding codegen field codegenfield field binding fieldbinding binding original constant field constant fieldconstant codegen field codegenfield constant inlined constant fields field constant fieldconstant constant notaconstant codegen field codegenfield can be seen by canbeseenby get receiver type getreceivertype current scope currentscope current scope currentscope type binding typebinding some receiver type somereceivertype delegate this delegatethis delegate this delegatethis type actual receiver type actualreceivertype type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope codegen field codegenfield implicit some receiver type somereceivertype codegen field codegenfield is static isstatic code stream codestream field access fieldaccess opcodes opc get static getstatic codegen field codegenfield constant pool declaring class constantpooldeclaringclass bits depthmask reference binding referencebinding target type targettype current scope currentscope enclosing source type enclosingsourcetype enclosing type at enclosingtypeat bits depthmask depthshift object emulation path emulationpath current scope currentscope get emulation path getemulationpath exact match target type targettype enclosing arg code stream codestream generate outer access generateouteraccess emulation path emulationpath target type targettype current scope currentscope generate receiver generatereceiver code stream codestream code stream codestream field access fieldaccess opcodes opc get field getfield codegen field codegenfield constant pool declaring class constantpooldeclaringclass managing access codegen field codegenfield is static isstatic bits depthmask internal error construction supported current scope currentscope problem reporter problemreporter need implementation needimplementation generate receiver generatereceiver code stream codestream code stream codestream aconst code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen field codegenfield generic cast genericcast code stream codestream check cast checkcast generic cast genericcast code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion inlined code stream codestream generate constant generateconstant field constant fieldconstant implicit conversion implicitconversion reading local binding local local variable binding localvariablebinding local binding localbinding local variable binding localvariablebinding binding local binding localbinding resolved position resolvedposition value required valuerequired restart code gen local binding localbinding use flag useflag local variable binding localvariablebinding abort method abortmethod code stream codestream restart code gen unused locals mode code stream codestream record positions from recordpositionsfrom source start sourcestart value required valuerequired local bits is capture d outer local iscapturedouterlocal check effective finality checkeffectivefinality local binding localbinding current scope currentscope local reached synthetic arg synthetic field variable binding variablebinding path current scope currentscope get emulation path getemulationpath local binding localbinding code stream codestream generate outer access generateouteraccess path local binding localbinding current scope currentscope regular local variable read code stream codestream load local binding localbinding code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion code stream codestream record positions from recordpositionsfrom source start sourcestart ap is apis extra argument references variable optimized access optimized generate compound assignment generatecompoundassignment block scope blockscope current scope currentscope code stream codestream code stream codestream method binding methodbinding write accessor writeaccessor expression expression assignment implicit conversion assignmentimplicitconversion value required valuerequired bits restrictiveflagmask assigning field binding field field binding fieldbinding codegen field codegenfield field binding fieldbinding binding original codegen field codegenfield is static isstatic codegen field codegenfield can be seen by canbeseenby get receiver type getreceivertype current scope currentscope current scope currentscope type binding typebinding some receiver type somereceivertype delegate this delegatethis delegate this delegatethis type actual receiver type actualreceivertype type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope codegen field codegenfield some receiver type somereceivertype implicit code stream codestream field access fieldaccess opcodes opc get static getstatic codegen field codegenfield constant pool declaring class constantpooldeclaringclass store code stream codestream generate emulation for field generateemulationforfield codegen field codegenfield code stream codestream aconst retrieve actual code stream codestream aconst code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen field codegenfield codegen field codegenfield can be seen by canbeseenby get receiver type getreceivertype current scope currentscope current scope currentscope bits depthmask reference binding referencebinding target type targettype current scope currentscope enclosing source type enclosingsourcetype enclosing type at enclosingtypeat bits depthmask depthshift object emulation path emulationpath current scope currentscope get emulation path getemulationpath exact match target type targettype enclosing arg code stream codestream generate outer access generateouteraccess emulation path emulationpath target type targettype current scope currentscope generate receiver generatereceiver code stream codestream code stream codestream dup type binding typebinding some receiver type somereceivertype delegate this delegatethis delegate this delegatethis type actual receiver type actualreceivertype type binding typebinding constant pool declaring class constantpooldeclaringclass code stream codestream get constant pool declaring class getconstantpooldeclaringclass current scope currentscope codegen field codegenfield some receiver type somereceivertype implicit code stream codestream field access fieldaccess opcodes opc get field getfield codegen field codegenfield constant pool declaring class constantpooldeclaringclass bits depthmask internal error construction supported current scope currentscope problem reporter problemreporter need implementation needimplementation store code stream codestream generate emulation for field generateemulationforfield codegen field codegenfield generate receiver generatereceiver code stream codestream retrieve actual code stream codestream dup code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen field codegenfield assigning local variable assign local binding local local variable binding localvariablebinding local binding localbinding local variable binding localvariablebinding binding inc r incr byte code bytecode constant assign constant assignconstant local binding localbinding type java lang string javalangstring code stream codestream generate string concatenation append generatestringconcatenationappend current scope currentscope expression value required valuerequired code stream codestream dup code stream codestream store local binding localbinding assign constant assignconstant expression constant local binding localbinding resolved position resolvedposition value required valuerequired restart code gen constant potential side local binding localbinding use flag useflag local variable binding localvariablebinding abort method abortmethod code stream codestream restart code gen unused locals mode assign constant assignconstant constant notaconstant generate expression constant constant expression expression generate code generatecode current scope currentscope code stream codestream assign constant assignconstant constant notaconstant int egral integral types assign constant assignconstant typeid type ids typeids todo philippe test needed assign constant assignconstant typeid type ids typeids increment assign constant assignconstant int value intvalue represent able representable bits increment increment code stream codestream iinc local binding localbinding resolved position resolvedposition increment value required valuerequired code stream codestream load local binding localbinding increment assign constant assignconstant int value intvalue represent able representable bits increment increment code stream codestream iinc local binding localbinding resolved position resolvedposition increment value required valuerequired code stream codestream load local binding localbinding fall local binding localbinding resolved position resolvedposition assign constant assignconstant expression constant value required valuerequired restart code gen constant potential side local binding localbinding use flag useflag local variable binding localvariablebinding abort method abortmethod code stream codestream restart code gen unused locals mode assign constant assignconstant constant notaconstant generate expression constant constant expression expression generate code generatecode current scope currentscope code stream codestream code stream codestream load local binding localbinding perform actual compound operation operation type d operationtypeid operation type d operationtypeid implicit conversion implicitconversion implicit conversion mask java lang string javalangstring java lang object javalangobject undefined code stream codestream generate string concatenation append generatestringconcatenationappend current scope currentscope expression promote array reference suitable operation type code stream codestream generate implicit conversion generateimplicitconversion implicit conversion implicitconversion generate increment promoted operation prefix operation expression int literal intliteral code stream codestream generate constant generateconstant expression constant implicit conversion implicitconversion expression generate code generatecode current scope currentscope code stream codestream perform operation code stream codestream send operator sendoperator operation type d operationtypeid array reference type code stream codestream generate implicit conversion generateimplicitconversion assignment implicit conversion assignmentimplicitconversion store result variable bits restrictiveflagmask assigning field binding field field binding fieldbinding codegen field codegenfield field binding fieldbinding binding original codegen field codegenfield can be seen by canbeseenby get receiver type getreceivertype current scope currentscope current scope currentscope field store fieldstore current scope currentscope code stream codestream codegen field codegenfield write accessor writeaccessor actual receiver type actualreceivertype delegate this delegatethis implicit value required valuerequired field receiver value required valuerequired codegen field codegenfield type type ids typeids type ids typeids code stream codestream dup code stream codestream dup current stack field receiver code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield codegen field codegenfield assigning local variable binding local local variable binding localvariablebinding local binding localbinding local variable binding localvariablebinding binding value required valuerequired local binding localbinding type type ids typeids type ids typeids code stream codestream dup code stream codestream dup code stream codestream store local binding localbinding generate post increment generatepostincrement block scope blockscope current scope currentscope code stream codestream code stream codestream compound assignment compoundassignment post increment postincrement value required valuerequired bits restrictiveflagmask assigning field binding field field binding fieldbinding codegen field codegenfield field binding fieldbinding binding original codegen field codegenfield can be seen by canbeseenby get receiver type getreceivertype current scope currentscope current scope currentscope generate post increment generatepostincrement current scope currentscope code stream codestream post increment postincrement value required valuerequired codegen field codegenfield is static isstatic code stream codestream aconst bits depthmask internal error construction supported current scope currentscope problem reporter problemreporter need implementation needimplementation generate receiver generatereceiver code stream codestream code stream codestream generate emulated read access for field generateemulatedreadaccessforfield codegen field codegenfield value required valuerequired codegen field codegenfield type type ids typeids type ids typeids code stream codestream dup code stream codestream dup code stream codestream generate emulation for field generateemulationforfield codegen field codegenfield codegen field codegenfield type type ids typeids type ids typeids code stream codestream dup code stream codestream pop codegen field codegenfield is static isstatic code stream codestream aconst generate receiver generatereceiver code stream codestream code stream codestream dup code stream codestream pop code stream codestream dup code stream codestream pop codegen field codegenfield is static isstatic code stream codestream aconst generate receiver generatereceiver code stream codestream code stream codestream dup code stream codestream pop code stream codestream generate constant generateconstant post increment postincrement expression constant implicit conversion implicitconversion code stream codestream send operator sendoperator post increment postincrement codegen field codegenfield type code stream codestream generate implicit conversion generateimplicitconversion post increment postincrement pre assign implicit conversion preassignimplicitconversion code stream codestream generate emulated write access for field generateemulatedwriteaccessforfield codegen field codegenfield assigning local variable binding local generate post increment generatepostincrement current scope currentscope code stream codestream post increment postincrement value required valuerequired generate receiver generatereceiver code stream codestream code stream codestream code stream codestream aload delegate this delegatethis delegate field access code stream codestream field access fieldaccess opcodes opc get field getfield delegate this delegatethis declaring class declaringclass check redirect field access delegate receiver type binding typebinding get receiver type getreceivertype block scope blockscope current scope currentscope scope scope current scope currentscope parent scope kind scope scope class scope classscope scope reference context referencecontext binding scope scope parent manage synthetic access if necessary managesyntheticaccessifnecessary block scope blockscope current scope currentscope flow info flowinfo flow info flowinfo is read access isreadaccess delegate this delegatethis manage synthetic access if necessary managesyntheticaccessifnecessary current scope currentscope flow info flowinfo is read access isreadaccess flow info flowinfo tag bits tagbits flow info flowinfo unreachable dead inlinable field for get forget access emulation code gen target constant constant notaconstant field parameterized type original field codegen time binding parameterized field binding parameterizedfieldbinding parameterized field binding parameterizedfieldbinding parameterized field parameterizedfield parameterized field binding parameterizedfieldbinding binding field binding fieldbinding codegen field codegenfield parameterized field parameterizedfield original field originalfield extra needed field type type variable codegen field codegenfield type tag bits tagbits tag bits tagbits has type variable hastypevariable runtime type runtimetype base type boxing generic cast genericcast codegen field codegenfield type generic cast genericcast current scope currentscope boxing parameterized field parameterizedfield type normal field binding work bind field delegate receiver type binding typebinding report error reporterror block scope blockscope scope constant constant notaconstant binding problem field binding problemfieldbinding problem field binding problemfieldbinding binding problem id problemid not found notfound evaluation context evaluationcontext declaring type name declaringtypename delegate this delegatethis scope get field getfield scope enclosing source type enclosingsourcetype delegate internal error field delegate this delegatethis actual receiver type actualreceivertype delegate this delegatethis type support inner class innerclass emulation delegate binding scope get field getfield delegate this delegatethis type token binding is valid binding isvalidbinding report error reporterror scope check field access checkfieldaccess scope binding problem binding problembinding problem binding problembinding binding problem id problemid not found notfound evaluation context evaluationcontext declaring type name declaringtypename delegate this delegatethis scope get field getfield scope enclosing source type enclosingsourcetype delegate internal error field delegate this delegatethis actual receiver type actualreceivertype delegate this delegatethis type support inner class innerclass emulation delegate field binding fieldbinding field binding fieldbinding scope get field getfield delegate this delegatethis type token field binding fieldbinding is valid binding isvalidbinding problem field binding problemfieldbinding field binding fieldbinding problem id problemid not visible notvisible manage access field enclosing type code snippet scope codesnippetscope local scope localscope code snippet scope codesnippetscope scope binding local scope localscope get field for code snippet getfieldforcodesnippet delegate this delegatethis type token check field access checkfieldaccess scope report error reporterror scope binding field binding fieldbinding check field access checkfieldaccess scope report error reporterror scope
copyright jesper steen moeller rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors jesper steen moeller initial api implementation org eclipse jdt core tests compiler regression java file java io exception ioexception java util map junit framework test org eclipse jdt core tool factory toolfactory org eclipse jdt core tests util util org eclipse jdt core util class file bytes disassembler classfilebytesdisassembler org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler class fmt classfmt class format exception classformatexception org eclipse jdt internal compiler env i binary method ibinarymethod org eclipse jdt internal compiler impl compiler options compileroptions suppress warnings suppresswarnings unchecked rawtypes method parameters attribute test methodparametersattributetest abstract regression test abstractregressiontest method parameters attribute test methodparametersattributetest string test class testclass method parameters attribute test methodparametersattributetest tests belong skipped tests prefix test tests names string test bug testbug tests numbers tests range test suite build minimal compliance test suite buildminimalcompliancetestsuite test class testclass string original source originalsource java util concurrent callable parameter names parameternames some method somemethod simple complex callable string make inner with capture makeinnerwithcapture string final message finalmessage string mutable message mutablemessage callable string string call exception final message finalmessage local math localmath string final message finalmessage string mutable message mutablemessage captured b capturedb local field a fielda local field a fielda calculate parameter c parameterc field a fielda captured b capturedb parameter c parameterc local calculate test exception class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path get compiler tests plugin directory path getcompilertestsplugindirectorypath file separator workspace file separator parameter names parameternames class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput compiled parameter names parameternames java version bit parameter names parameternames method descriptor stack locals parameter names parameternames aload invokespecial java lang object numbers method descriptor stack locals some method somemethod simple complex numbers method parameters simple complex method descriptor ljava lang string ljava lang string ljava util concurrent callable signature ljava lang string ljava lang string ljava util concurrent callable ljava lang string stack locals java util concurrent callable make inner with capture makeinnerwithcapture java lang string final message finalmessage java lang string mutable message mutablemessage parameter names parameternames dup aload aload final message finalmessage invokespecial parameter names parameternames parameter names parameternames java lang string are turn areturn numbers method parameters final message finalmessage mutable message mutablemessage method descriptor ljava lang string ljava lang string stack locals local math localmath java lang string final message finalmessage java lang string mutable message mutablemessage bipush istore parameter names parameternames local dup aload iconst iload invokespecial parameter names parameternames local parameter names parameternames iconst invokevirtual parameter names parameternames local calculate ireturn numbers method parameters final message finalmessage mutable message mutablemessage classes info parameter names parameternames local info local access flags accessflags info parameter names parameternames info access flags accessflags assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path get compiler tests plugin directory path getcompilertestsplugindirectorypath file separator workspace file separator parameter names parameternames class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput compiled parameter names parameternames java version bit signature ljava lang object ljava util concurrent callable ljava lang string parameter names parameternames java util concurrent callable field descriptor ljava lang string synthetic java lang string val final message finalmessage field descriptor l parameter names lparameternames synthetic parameter names parameternames method descriptor l parameter names lparameternames ljava lang string stack locals parameter names parameternames parameter names parameternames java lang string val final message finalmessage aload aload put field putfield parameter names parameternames parameter names parameternames aload aload val final message finalmessage put field putfield parameter names parameternames val final message finalmessage java lang string aload invokespecial java lang object numbers method parameters mandated synthetic val final message finalmessage method descriptor ljava lang string stack locals java lang string call java lang exception aload get field getfield parameter names parameternames val final message finalmessage java lang string are turn areturn numbers method descriptor ljava lang object stack locals bridge synthetic java lang object call java lang exception aload invokevirtual parameter names parameternames call java lang string are turn areturn numbers classes info parameter names parameternames info access flags accessflags enclosing method parameter names parameternames make inner with capture makeinnerwithcapture ljava lang string ljava lang string ljava util concurrent callable assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path get compiler tests plugin directory path getcompilertestsplugindirectorypath file separator workspace file separator parameter names parameternames local class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput compiled parameter names parameternames java version bit parameter names parameternames local field descriptor field a fielda field descriptor synthetic val captured b capturedb field descriptor l parameter names lparameternames synthetic parameter names parameternames method descriptor l parameter names lparameternames signature stack locals parameter names parameternames local parameter names parameternames val captured b capturedb aload aload put field putfield parameter names parameternames local parameter names parameternames aload iload put field putfield parameter names parameternames local val captured b capturedb aload invokespecial java lang object aload iload val captured b capturedb put field putfield parameter names parameternames local field a fielda numbers method parameters mandated synthetic val captured b capturedb method descriptor stack locals calculate parameter c parameterc aload get field getfield parameter names parameternames local field a fielda aload get field getfield parameter names parameternames local val captured b capturedb iadd iload parameter c parameterc iadd ireturn numbers method parameters parameter c parameterc classes info parameter names parameternames local info local access flags accessflags enclosing method parameter names parameternames local math localmath ljava lang string ljava lang string assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test class file reader classfilereader string path get compiler tests plugin directory path getcompilertestsplugindirectorypath file separator workspace file separator parameter names parameternames org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader class file reader classfilereader read path i binary method ibinarymethod method infos methodinfos class file reader classfilereader get methods getmethods assert not null assertnotnull method infos method infos methodinfos length method infos methodinfos length assert equals assertequals methods length assert equals assertequals final message finalmessage string method infos methodinfos get argument names getargumentnames assert equals assertequals mutable message mutablemessage string method infos methodinfos get argument names getargumentnames test exception test class file reader classfilereader param ers paramers synthetic mandated string path get compiler tests plugin directory path getcompilertestsplugindirectorypath file separator workspace file separator parameter names parameternames local org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader class file reader classfilereader read path i binary method ibinarymethod method infos methodinfos class file reader classfilereader get methods getmethods assert not null assertnotnull method infos method infos methodinfos length method infos methodinfos length assert equals assertequals methods length assert equals assertequals string method infos methodinfos get argument names getargumentnames assert equals assertequals val captured b capturedb string method infos methodinfos get argument names getargumentnames test exception test code generator emit names class file reader classfilereader read run parameter name test runparameternametest java whole number wholenumber foo plug ged the holes pluggedtheholes yes it floats yesitfloats class file reader classfilereader class file reader classfilereader class file reader classfilereader read output dir file separator i binary method ibinarymethod methods class file reader classfilereader get methods getmethods assert not null assertnotnull methods methods assert equals assertequals wrong size methods length assert equals assertequals wrong init string methods get selector getselector argument names argumentnames methods get argument names getargumentnames assert equals assertequals init parameter argument names argumentnames length assert equals assertequals whole number wholenumber string argument names argumentnames assert equals assertequals wrong foo string methods get selector getselector assert equals assertequals plug ged the holes pluggedtheholes string methods get argument names getargumentnames assert equals assertequals yes it floats yesitfloats string methods get argument names getargumentnames class format exception classformatexception assert true asserttrue io exception ioexception assert true asserttrue test exception test code generator emit names disassembler read source compiled java c javac run parameter name test runparameternametest parameter names parameternames java original source originalsource class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator parameter names parameternames class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput compiled parameter names parameternames java version bit parameter names parameternames method descriptor stack locals parameter names parameternames aload invokespecial java lang object numbers method descriptor stack locals some method somemethod simple complex numbers method parameters simple complex method descriptor ljava lang string ljava lang string ljava util concurrent callable signature ljava lang string ljava lang string ljava util concurrent callable ljava lang string stack locals java util concurrent callable make inner with capture makeinnerwithcapture java lang string final message finalmessage java lang string mutable message mutablemessage parameter names parameternames dup aload aload final message finalmessage invokespecial parameter names parameternames parameter names parameternames java lang string are turn areturn numbers method parameters final message finalmessage mutable message mutablemessage method descriptor ljava lang string ljava lang string stack locals local math localmath java lang string final message finalmessage java lang string mutable message mutablemessage bipush istore parameter names parameternames local dup aload iconst iload invokespecial parameter names parameternames local parameter names parameternames iconst invokevirtual parameter names parameternames local calculate ireturn numbers method parameters final message finalmessage mutable message mutablemessage classes info parameter names parameternames info access flags accessflags info parameter names parameternames local info local access flags accessflags assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test code generator emit synthetic mandated names match java c javac closely run parameter name test runparameternametest parameter names parameternames java original source originalsource class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator parameter names parameternames class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput compiled parameter names parameternames java version bit signature ljava lang object ljava util concurrent callable ljava lang string parameter names parameternames java util concurrent callable field descriptor l parameter names lparameternames synthetic parameter names parameternames field descriptor ljava lang string synthetic java lang string val final message finalmessage method descriptor l parameter names lparameternames ljava lang string stack locals parameter names parameternames parameter names parameternames java lang string val final message finalmessage aload aload put field putfield parameter names parameternames parameter names parameternames aload aload val final message finalmessage put field putfield parameter names parameternames val final message finalmessage java lang string aload invokespecial java lang object numbers method parameters mandated synthetic val final message finalmessage method descriptor ljava lang string stack locals java lang string call java lang exception aload get field getfield parameter names parameternames val final message finalmessage java lang string are turn areturn numbers method descriptor ljava lang object stack locals bridge synthetic java lang object call java lang exception aload invokevirtual parameter names parameternames call java lang string are turn areturn numbers classes info parameter names parameternames info access flags accessflags enclosing method parameter names parameternames make inner with capture makeinnerwithcapture ljava lang string ljava lang string ljava util concurrent callable assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test code generator emit synthetic mandated names match java c javac closely run parameter name test runparameternametest fancy enum fancyenum java enum fancy enum fancyenum fancy enum fancyenum class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator fancy enum fancyenum class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput compiled fancy enum fancyenum java version bit signature ljava lang enum l fancy enum lfancyenum enum fancy enum fancyenum field descriptor l fancy enum lfancyenum enum fancy enum fancyenum field descriptor l fancy enum lfancyenum enum fancy enum fancyenum field descriptor field descriptor l fancy enum lfancyenum synthetic fancy enum fancyenum enum values method descriptor stack locals fancy enum fancyenum dup ldc string iconst iconst invokespecial fancy enum fancyenum java lang string put static putstatic fancy enum fancyenum fancy enum fancyenum fancy enum fancyenum dup ldc string iconst iconst invokespecial fancy enum fancyenum java lang string put static putstatic fancy enum fancyenum fancy enum fancyenum iconst anewarray fancy enum fancyenum dup iconst get static getstatic fancy enum fancyenum fancy enum fancyenum aastore dup iconst get static getstatic fancy enum fancyenum fancy enum fancyenum aastore put static putstatic fancy enum fancyenum enum values fancy enum fancyenum numbers method descriptor ljava lang string stack locals fancy enum fancyenum java lang string enum enum ordinal aload aload enum iload enum ordinal invokespecial java lang enum java lang string aload iload put field putfield fancy enum fancyenum numbers method parameters synthetic enum synthetic enum ordinal method descriptor l fancy enum lfancyenum stack locals fancy enum fancyenum values get static getstatic fancy enum fancyenum enum values fancy enum fancyenum dup astore iconst aload array length arraylength dup istore anewarray fancy enum fancyenum dup astore iconst iload invokestatic java lang system arraycopy java lang object java lang object aload are turn areturn numbers method descriptor ljava lang string l fancy enum lfancyenum stack locals fancy enum fancyenum value of valueof java lang string ldc fancy enum fancyenum aload invokestatic java lang enum value of valueof java lang java lang string java lang enum check cast checkcast fancy enum fancyenum are turn areturn numbers method parameters mandated assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test mandated enclosing instance parameter run parameter name test runparameternametest java class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput aload aload put field putfield aload invokespecial java lang object numbers method parameters mandated assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test mandated enclosing instance parameter run parameter name test runparameternametest java class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput aload aload put field putfield aload invokespecial java lang object numbers method parameters synthetic assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception run parameter name test runparameternametest java foo class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput aload aload put field putfield aload aload invokespecial numbers method parameters synthetic mandated assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test synth esized synthesized enum constructor arguments synthetic run parameter name test runparameternametest fancy enum fancyenum java enum fancy enum fancyenum class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator fancy enum fancyenum class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput fancy enum fancyenum java lang string enum enum ordinal aload aload enum iload enum ordinal invokespecial java lang enum java lang string numbers method parameters synthetic enum synthetic enum ordinal assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test argument enum value of valueof mandated run parameter name test runparameternametest fancy enum fancyenum java enum fancy enum fancyenum class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator fancy enum fancyenum class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput fancy enum fancyenum value of valueof java lang string ldc fancy enum fancyenum aload invokestatic java lang enum value of valueof java lang java lang string java lang enum check cast checkcast fancy enum fancyenum are turn areturn numbers method parameters mandated assert sub string assertsubstring actual output actualoutput expected output expectedoutput test exception test argument enum value of valueof mandated run parameter name test runparameternametest inner local class test innerlocalclasstest java inner local class test innerlocalclasstest test local local class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator inner local class test innerlocalclasstest class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput inner local class test innerlocalclasstest inner local class test innerlocalclasstest inner local class test innerlocalclasstest aload aload put field putfield inner local class test innerlocalclasstest inner local class test innerlocalclasstest aload aload invokespecial inner local class test innerlocalclasstest local inner local class test innerlocalclasstest numbers method parameters synthetic synthetic assert sub string assertsubstring actual output actualoutput expected output expectedoutput https bugs eclipse org bugs bug cgi test exception test argument enum value of valueof mandated run parameter name test runparameternametest foo java enum foo bar foo value of valueof int parameter intparameter bar foo value of valueof int parameter intparameter bar class file bytes disassembler classfilebytesdisassembler disassembler tool factory toolfactory create default class file bytes disassembler createdefaultclassfilebytesdisassembler string path output dir file separator foo class file bytes classfilebytes org eclipse jdt internal compiler util util get file byte content getfilebytecontent file path string actual output actualoutput disassembler disassemble class file bytes classfilebytes class file bytes disassembler classfilebytesdisassembler detailed string expected output expectedoutput stack locals foo value of valueof int parameter intparameter get static getstatic foo bar foo are turn areturn numbers method parameters int parameter intparameter method descriptor l foo lfoo stack locals foo value of valueof int parameter intparameter get static getstatic foo bar foo are turn areturn numbers method parameters int parameter intparameter assert sub string assertsubstring actual output actualoutput expected output expectedoutput test synthetic method parameter names expected output expectedoutput foo value of valueof java lang string ldc foo aload invokestatic java lang enum value of valueof java lang java lang string java lang enum check cast checkcast foo are turn areturn numbers method parameters mandated assert sub string assertsubstring actual output actualoutput expected output expectedoutput run parameter name test runparameternametest string file name filename string body map compiler options compileroptions get compiler options getcompileroptions compiler options compileroptions compiler options compileroptions option local variable attribute localvariableattribute compiler options compileroptions generate compiler options compileroptions compiler options compileroptions option method parameters attribute methodparametersattribute compiler options compileroptions generate run conform test runconformtest string file name filename body compiler options compileroptions assert sub string assertsubstring string actual output actualoutput string expected output expectedoutput actual output actualoutput index of indexof expected output expectedoutput expected output expectedoutput length system println util display string displaystring actual output actualoutput assert equals assertequals wrong contents expected output expectedoutput actual output actualoutput
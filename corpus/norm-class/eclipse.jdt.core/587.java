copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite describing java io exception ioexception junit framework test org eclipse core runtime core exception coreexception org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt core dom ast org eclipse jdt core dom ast parser astparser org eclipse jdt core dom annotation org eclipse jdt core dom assignment org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom i variable binding ivariablebinding org eclipse jdt core dom marker annotation markerannotation org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom normal annotation normalannotation org eclipse jdt core dom single member annotation singlememberannotation org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom variable declaration variabledeclaration org eclipse jdt core dom rewrite import rewrite importrewrite org eclipse jdt core formatter default code formatter constants defaultcodeformatterconstants org eclipse jdt core tests model abstract java model tests abstractjavamodeltests org eclipse jface text bad location exception badlocationexception org eclipse jface text document org eclipse text edits malformed tree exception malformedtreeexception org eclipse text edits text edit textedit org osgi service prefs backing store exception backingstoreexception suppress warnings suppresswarnings rawtypes import rewrite importrewrite test abstract java model tests abstractjavamodeltests import rewrite importrewrite test string project import rewrite importrewrite test project testproject i package fragment root ipackagefragmentroot source folder sourcefolder import rewrite importrewrite test string test all tests alltests suite test suite all tests alltests set up setup exception set up setup i java project ijavaproject proj create java project createjavaproject project string src string jcl lib bin proj set option setoption default code formatter constants defaultcodeformatterconstants formatter tab java core javacore space proj set option setoption default code formatter constants defaultcodeformatterconstants formatter tab size proj set option setoption java core javacore compiler compliance java core javacore version proj set option setoption java core javacore compiler identifier java core javacore error proj set option setoption java core javacore compiler source java core javacore version proj set option setoption java core javacore compiler codegen target platform java core javacore version proj set option setoption default code formatter constants defaultcodeformatterconstants formatter number empty lines preserve string value of valueof proj set option setoption default code formatter constants defaultcodeformatterconstants formatter blank lines groups string value of valueof source folder sourcefolder get package fragment root getpackagefragmentroot project src wait until indexes ready waituntilindexesready tear down teardown exception delete project deleteproject project tear down teardown test bug testbug exception string contents pack foo pack pack marker arg java lang annotation target java lang annotation element type elementtype type marker create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack pack create folder createfolder project src pack create folder createfolder project src pack pack create file createfile project src pack pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource get compilation unit getcompilationunit project src pack java parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding binding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding binding get type gettype import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string get compilation unit getcompilationunit project src pack java rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast assert equals assertequals marker actual type actualtype to string tostring assert true asserttrue actual type actualtype is simple type issimpletype apply rewrite string contents a contentsa pack pack pack assert equal string ignore delim assertequalstringignoredelim get source getsource contents a contentsa test bug testbug exception string contents pack foo pack pack marker arg java lang annotation target java lang annotation element type elementtype type marker create folder createfolder project src pack create file createfile project src pack java contents contents pack pack pack foo arg create file createfile project src pack java contents contents pack pack create folder createfolder project src pack create folder createfolder project src pack pack create file createfile project src pack pack java contents contents pack pack create folder createfolder project src pack create folder createfolder project src pack pack create file createfile project src pack pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource get compilation unit getcompilationunit project src pack java parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding binding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding binding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast assert equals assertequals pack pack marker actual type actualtype to string tostring assert true asserttrue actual type actualtype is name qualified type isnamequalifiedtype apply rewrite string contents a contentsa pack pack pack foo arg assert equal string ignore delim assertequalstringignoredelim get source getsource contents a contentsa test bug testbug exception string contents pack foo pack pack marker marker arg java lang annotation target java lang annotation element type elementtype type marker create folder createfolder project src pack create file createfile project src pack java contents contents pack pack pack foo arg create file createfile project src pack java contents contents pack pack create folder createfolder project src pack create folder createfolder project src pack pack create file createfile project src pack pack java contents contents pack pack create folder createfolder project src pack create folder createfolder project src pack pack create file createfile project src pack pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource get compilation unit getcompilationunit project src pack java parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding binding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding binding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast assert equals assertequals pack pack marker marker actual type actualtype to string tostring assert true asserttrue actual type actualtype is array type isarraytype apply rewrite string contents a contentsa pack pack pack foo arg assert equal string ignore delim assertequalstringignoredelim get source getsource contents a contentsa type run test runtest can d get type candgettype exception string contents pack bug c test input ctestinput java lang annotation target java lang annotation element type elementtype type marker java lang annotation target java lang annotation element type elementtype type marker java lang annotation target java lang annotation element type elementtype type annot create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type declaration typedeclaration get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding variable binding variablebinding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding variable binding variablebinding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast apply rewrite string contents a contentsa pack bug c test input ctestinput get compilation unit getcompilationunit project src pack java assert equal string ignore delim assertequalstringignoredelim get source getsource contents a contentsa actual type actualtype string bug c test input ctestinput foo pack marker marker marker arg pack marker marker marker foo pack marker marker marker arg pack marker marker marker foo pack marker arg marker pack marker foo pack marker arg pack marker foo pack annot arg pack annot foo pack annot arg pack annot foo pack arg pack type bug run i runi exception type actual type actualtype run test runtest can d get type candgettype assert equals assertequals bug c test input ctestinput actual type actualtype to string tostring actual type actualtype test bug testbug exception type type bug run i runi assert true asserttrue type is qualified type isqualifiedtype test bug testbug exception type type bug run i runi assert true asserttrue type is qualified type isqualifiedtype test bug testbug exception type type bug run i runi assert true asserttrue type is qualified type isqualifiedtype test bug testbug exception type type bug run i runi assert true asserttrue type is simple type issimpletype test bug testbug exception type type bug run i runi assert true asserttrue type is simple type issimpletype test bug testbug exception type type bug run i runi assert true asserttrue type is simple type issimpletype test bug testbug exception type type bug run i runi assert true asserttrue type is simple type issimpletype test bug testbug exception string contents pack foo pack pack pack pack arg create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type declaration typedeclaration get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding variable binding variablebinding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding variable binding variablebinding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast apply rewrite string contents a contentsa pack pack pack pack get compilation unit getcompilationunit project src pack java assert equal string ignore delim assertequalstringignoredelim get source getsource contents a contentsa assert equals assertequals actual type actualtype to string tostring assert true asserttrue actual type actualtype is parameterized type isparameterizedtype test bug testbug exception string contents pack foo pack pack pack arg create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type declaration typedeclaration get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding variable binding variablebinding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding variable binding variablebinding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast apply rewrite string contents a contentsa pack pack pack get compilation unit getcompilationunit project src pack java assert equal string ignore delim assertequalstringignoredelim get source getsource contents a contentsa assert equals assertequals actual type actualtype to string tostring assert true asserttrue actual type actualtype is parameterized type isparameterizedtype test bug testbug exception string contents pack pack foo annot arg java lang annotation target java lang annotation element type elementtype type annot create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type declaration typedeclaration get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding variable binding variablebinding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding variable binding variablebinding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast assert true asserttrue actual type actualtype is parameterized type isparameterizedtype type run test runtest and get type andgettype exception string contents pack bug test input testinput java lang annotation target java lang annotation element type elementtype type marker java lang annotation target java lang annotation element type elementtype type marker java lang annotation target java lang annotation element type elementtype type marker java lang annotation target java lang annotation element type elementtype type marker java lang annotation target java lang annotation element type elementtype type annot java lang annotation target java lang annotation element type elementtype type annot create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack create folder createfolder project src pack create file createfile project src pack java contents ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type declaration typedeclaration get methods getmethods method declaration methoddeclaration method methods variable declaration variabledeclaration variable variable declaration variabledeclaration method parameters i variable binding ivariablebinding variable binding variablebinding variable resolve binding resolvebinding i type binding itypebinding type binding typebinding variable binding variablebinding get type gettype get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string type actual type actualtype rewrite add import addimport type binding typebinding ast root astroot getast actual type actualtype string bug test input testinput foo pack marker marker arg marker marker foo pack marker marker arg marker marker foo pack marker marker marker marker marker arg marker marker marker marker marker foo pack marker marker marker annot annot arg marker marker marker annot annot foo pack marker marker marker annot annot arg marker marker marker annot annot foo pack marker arg marker foo pack marker arg marker foo pack marker marker marker marker arg marker marker marker marker foo pack marker marker annot annot arg marker marker annot annot foo pack marker marker annot annot arg marker marker annot annot foo pack arg type bug run i runi exception type actual type actualtype run test runtest and get type andgettype assert equals assertequals bug test input testinput actual type actualtype to string tostring actual type actualtype test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception bug run i runi test bug testbug exception string contents pack foo pack marker object arg foo pack annot object arg foo pack annot object arg create folder createfolder project src pack create file createfile project src pack java contents contents pack create file createfile project src pack java contents contents pack java lang annotation target element type elementtype type marker create folder createfolder project src pack create file createfile project src pack marker java contents contents pack java lang annotation target element type elementtype type annot create file createfile project src pack annot java contents contents pack java lang annotation target element type elementtype type annot create file createfile project src pack annot java contents ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type declaration typedeclaration get methods getmethods method count methodcount method declaration methoddeclaration method methods method count methodcount get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string single variable declaration singlevariabledeclaration variable single variable declaration singlevariabledeclaration method parameters marker annotation markerannotation marker annotation markerannotation marker annotation markerannotation variable modifiers annotation annotation rewrite add annotation addannotation marker annotation markerannotation resolve annotation binding resolveannotationbinding ast root astroot getast assert true asserttrue annotation is marker annotation ismarkerannotation assert equals assertequals marker annotation to string tostring apply rewrite contents pack pack marker get compilation unit getcompilationunit project src pack java assert equal string ignore delim assertequalstringignoredelim get source getsource contents method declaration methoddeclaration method methods method count methodcount get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string single variable declaration singlevariabledeclaration variable single variable declaration singlevariabledeclaration method parameters single member annotation singlememberannotation single member annotation singlememberannotation single member annotation singlememberannotation variable modifiers annotation annotation rewrite add annotation addannotation single member annotation singlememberannotation resolve annotation binding resolveannotationbinding ast root astroot getast assert true asserttrue annotation is single member annotation issinglememberannotation assert equals assertequals annot annotation to string tostring apply rewrite contents pack pack annot get compilation unit getcompilationunit project src pack java assert equal string ignore delim assertequalstringignoredelim get source getsource contents method declaration methoddeclaration method methods method count methodcount get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string single variable declaration singlevariabledeclaration variable single variable declaration singlevariabledeclaration method parameters normal annotation normalannotation normal annotation normalannotation normal annotation normalannotation variable modifiers annotation annotation rewrite add annotation addannotation normal annotation normalannotation resolve annotation binding resolveannotationbinding ast root astroot getast assert true asserttrue annotation is normal annotation isnormalannotation assert equals assertequals annot annotation to string tostring apply rewrite contents pack pack annot get compilation unit getcompilationunit project src pack java assert equal string ignore delim assertequalstringignoredelim get source getsource contents test bug testbug exception string contents pack java util comparator comparator compare comparable comparator natural order naturalorder comparator m comparator mcomparator comparator m comparator mcomparator p obj pobj p obj pobj m comparator mcomparator compare p obj pobj p obj pobj m comparator mcomparator comparator natural order naturalorder create folder createfolder project src pack create file createfile project src pack java contents i compilation unit icompilationunit get compilation unit getcompilationunit project src pack java ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource parser set resolve bindings setresolvebindings parser set statements recovery setstatementsrecovery compilation unit compilationunit ast root astroot compilation unit compilationunit parser createast type declaration typedeclaration type type declaration typedeclaration ast root astroot types method declaration methoddeclaration methods type get methods getmethods method declaration methoddeclaration method methods expression statement expressionstatement stmt expression statement expressionstatement method get body getbody statements assignment assignment assignment stmt get expression getexpression method invocation methodinvocation invocation method invocation methodinvocation assignment get right hand side getrighthandside i type binding itypebinding type binding typebinding invocation resolve type binding resolvetypebinding type binding typebinding type binding typebinding get declared methods getdeclaredmethods get parameter types getparametertypes contents pack create folder createfolder project src pack create file createfile project src pack java contents get compilation unit getcompilationunit project src pack java import rewrite importrewrite rewrite new imports rewrite newimportsrewrite string rewrite add import addimport type binding typebinding ast root astroot getast assert equal string ignore delim assertequalstringignoredelim string actual string expected io exception ioexception string asserts stringasserts assert equal string ignore delim assertequalstringignoredelim actual expected import rewrite importrewrite new imports rewrite newimportsrewrite i compilation unit icompilationunit string order normal threshold normalthreshold static threshold staticthreshold restore existing imports restoreexistingimports core exception coreexception backing store exception backingstoreexception import rewrite importrewrite rewrite import rewrite importrewrite create restore existing imports restoreexistingimports rewrite set import order setimportorder order rewrite set on demand import threshold setondemandimportthreshold normal threshold normalthreshold rewrite set static on demand import threshold setstaticondemandimportthreshold static threshold staticthreshold rewrite import rewrite importrewrite new imports rewrite newimportsrewrite compilation unit compilationunit string order normal threshold normalthreshold static threshold staticthreshold restore existing imports restoreexistingimports import rewrite importrewrite rewrite import rewrite importrewrite create restore existing imports restoreexistingimports rewrite set import order setimportorder order rewrite set on demand import threshold setondemandimportthreshold normal threshold normalthreshold rewrite set static on demand import threshold setstaticondemandimportthreshold static threshold staticthreshold rewrite apply import rewrite importrewrite rewrite core exception coreexception malformed tree exception malformedtreeexception bad location exception badlocationexception text edit textedit edit rewrite rewrite imports rewriteimports efficient i compilation unit icompilationunit compilation unit compilationunit rewrite get compilation unit getcompilationunit document document document compilation unit compilationunit get source getsource edit apply document compilation unit compilationunit get buffer getbuffer set contents setcontents document
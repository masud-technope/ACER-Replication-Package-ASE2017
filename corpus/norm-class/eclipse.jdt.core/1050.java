copyright go pivotal gopivotal rights reserved rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors andy clement go pivotal gopivotal aclement gopivotal contributions bug binary access support type annotations org eclipse jdt core tests compiler regression junit framework test org eclipse jdt core compiler char operation charoperation org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader org eclipse jdt internal compiler codegen annotation target type constants annotationtargettypeconstants org eclipse jdt internal compiler env i binary annotation ibinaryannotation org eclipse jdt internal compiler env i binary element value pair ibinaryelementvaluepair org eclipse jdt internal compiler env i binary field ibinaryfield org eclipse jdt internal compiler env i binary method ibinarymethod org eclipse jdt internal compiler env i binary type annotation ibinarytypeannotation suppress warnings suppresswarnings rawtypes class file reader test classfilereadertest abstract regression test abstractregressiontest test suite build minimal compliance test suite buildminimalcompliancetestsuite test class testclass test class testclass class file reader test classfilereadertest class file reader test classfilereadertest string needed tests individually j unit junit set up setup exception set up setup compliance level compliancelevel class file constants classfileconstants jdk test class type parameter classtypeparameter exception string source java lang annotation foo bar iii retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar iii org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader get internal class file getinternalclassfile source i binary type annotation ibinarytypeannotation type annotations typeannotations class file reader classfilereader get type annotations gettypeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo type parameter type parameter print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar iii type parameter type parameter print type annotation printtypeannotation type annotations typeannotations test class type parameter diff ering ret entions classtypeparameterdifferingretentions exception string source java lang annotation foo bar iii retention retention policy retentionpolicy runtime target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar iii org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader get internal class file getinternalclassfile source i binary type annotation ibinarytypeannotation type annotations typeannotations class file reader classfilereader get type annotations gettypeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l bar lbar iii type parameter type parameter print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l foo lfoo type parameter type parameter print type annotation printtypeannotation type annotations typeannotations test method type parameter methodtypeparameter exception string source java lang annotation foo bar foo retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary method ibinarymethod method get method getmethod cfr foo assert not null assertnotnull method i binary type annotation ibinarytypeannotation type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo method type parameter type parameter print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar method type parameter type parameter print type annotation printtypeannotation type annotations typeannotations test class extends classextends exception compliance level compliancelevel class file constants classfileconstants jdk string source java lang annotation foo bar iii object java bar iii serializable retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar iii org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader get internal class file getinternalclassfile source i binary type annotation ibinarytypeannotation type annotations typeannotations class file reader classfilereader get type annotations gettypeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo type print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar iii type print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar iii type print type annotation printtypeannotation type annotations typeannotations test class extends classextends exception string source java lang annotation foo string bar integer foo string retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar iii org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader get internal class file getinternalclassfile source i binary type annotation ibinarytypeannotation type annotations typeannotations class file reader classfilereader get type annotations gettypeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo type location type argument print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar type location type argument print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l foo lfoo type location type argument print type annotation printtypeannotation type annotations typeannotations test class type parameter bound classtypeparameterbound exception string source java lang annotation foo string bar bar bar cloneable retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader class file reader classfilereader get internal class file getinternalclassfile source i binary type annotation ibinarytypeannotation type annotations typeannotations class file reader classfilereader get type annotations gettypeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo type parameter bound type parameter bound location type argument array array array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar type parameter bound type parameter bound location type argument print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar type parameter bound type parameter bound location type argument array array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar type parameter bound type parameter bound print type annotation printtypeannotation type annotations typeannotations test method type parameter bound methodtypeparameterbound exception string source java lang annotation foo bar bar bar cloneable foo retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary method ibinarymethod method get method getmethod cfr foo assert not null assertnotnull method i binary type annotation ibinarytypeannotation type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo method type parameter bound type parameter bound location type argument array array array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar method type parameter bound type parameter bound location type argument print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar method type parameter bound type parameter bound location type argument array array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar method type parameter bound type parameter bound print type annotation printtypeannotation type annotations typeannotations test field exception string source java lang annotation java util map foo map bar string bar string bar bar bar field retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary field ibinaryfield field get field getfield cfr field assert not null assertnotnull field i binary type annotation ibinarytypeannotation type annotations typeannotations field get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo field print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar field location type argument print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar field location type argument array array array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar field location type argument print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar field location type argument array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar field location type argument array array print type annotation printtypeannotation type annotations typeannotations test method return methodreturn exception string source java lang annotation java util map bar foo foo bar foo foo retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary method ibinarymethod method get method getmethod cfr foo assert not null assertnotnull method i binary type annotation ibinarytypeannotation type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l bar lbar method print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l foo lfoo method print type annotation printtypeannotation type annotations typeannotations method get method getmethod cfr foo assert not null assertnotnull method type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l bar lbar method location array print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l foo lfoo method print type annotation printtypeannotation type annotations typeannotations test method receiver methodreceiver exception string source java lang annotation java util map foo bar retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary method ibinarymethod method get method getmethod cfr foo assert not null assertnotnull method i binary type annotation ibinarytypeannotation type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l bar lbar method receiver print type annotation printtypeannotation type annotations typeannotations test method for mal parameter methodformalparameter exception string source java lang annotation java util map foo bar string foo retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary method ibinarymethod method get method getmethod cfr foo assert not null assertnotnull method i binary type annotation ibinarytypeannotation type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l bar lbar method formal parameter method for mal formal parameter print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l foo lfoo method formal parameter method for mal formal parameter print type annotation printtypeannotation type annotations typeannotations test exception string source java lang annotation java util map foo foo exception bar throwable retention retention policy retentionpolicy target element type elementtype type foo retention retention policy retentionpolicy target element type elementtype type bar org eclipse jdt internal compiler class fmt classfmt class file reader classfilereader cfr get internal class file getinternalclassfile source i binary method ibinarymethod method get method getmethod cfr foo assert not null assertnotnull method i binary type annotation ibinarytypeannotation type annotations typeannotations method get type annotations gettypeannotations assert not null assertnotnull type annotations typeannotations assert equals assertequals type annotations typeannotations length assert equals assertequals l foo lfoo type print type annotation printtypeannotation type annotations typeannotations assert equals assertequals l bar lbar type print type annotation printtypeannotation type annotations typeannotations produce nicely for matted formatted type annotation testing exercises api type annotations output examples foo type location array type type argument string print type annotation printtypeannotation i binary type annotation ibinarytypeannotation type annotation typeannotation string buffer stringbuffer string buffer stringbuffer annotation i binary annotation ibinaryannotation annotation type annotation typeannotation get annotation getannotation append append annotation get type name gettypename i binary element value pair ibinaryelementvaluepair pairs annotation get element value pairs getelementvaluepairs pairs length append pairs length append append pairs get name getname append append pairs get value getvalue append append target type target type targettype type annotation typeannotation get target type gettargettype target type targettype annotation target type constants annotationtargettypeconstants type parameter append type parameter type parameter append type annotation typeannotation get type parameter index gettypeparameterindex append annotation target type constants annotationtargettypeconstants method type parameter append method type parameter type parameter append type annotation typeannotation get type parameter index gettypeparameterindex append annotation target type constants annotationtargettypeconstants append type append type annotation typeannotation get supertype index getsupertypeindex append annotation target type constants annotationtargettypeconstants type parameter bound append type parameter bound type parameter append type annotation typeannotation get type parameter index gettypeparameterindex append bound append type annotation typeannotation get bound index getboundindex append annotation target type constants annotationtargettypeconstants method type parameter bound append method type parameter bound type parameter append type annotation typeannotation get type parameter index gettypeparameterindex append bound append type annotation typeannotation get bound index getboundindex append annotation target type constants annotationtargettypeconstants field append field annotation target type constants annotationtargettypeconstants method append method annotation target type constants annotationtargettypeconstants method receiver append method receiver annotation target type constants annotationtargettypeconstants method formal parameter append method formal parameter method for mal formal parameter append type annotation typeannotation get method for mal parameter index getmethodformalparameterindex append annotation target type constants annotationtargettypeconstants append type append type annotation typeannotation get throws type index getthrowstypeindex append illegal state exception illegalstateexception nyi target type targettype location type path typepath type annotation typeannotation get type path gettypepath type path typepath i binary type annotation ibinarytypeannotation type path nls append location max type path typepath length max nls append type path typepath nls append array nls append nls type nls append wildcard nls append type argument append type path typepath append nls append to string tostring i binary method ibinarymethod get method getmethod class file reader classfilereader cfr string method name methodname i binary method ibinarymethod methods cfr get methods getmethods methods method name as char array methodnameaschararray method name methodname to char array tochararray max methods length max char operation charoperation equals methods get selector getselector method name as char array methodnameaschararray methods i binary field ibinaryfield get field getfield class file reader classfilereader cfr string field name fieldname i binary field ibinaryfield fields cfr get fields getfields fields field name as char array fieldnameaschararray field name fieldname to char array tochararray max fields length max char operation charoperation equals fields get name getname field name as char array fieldnameaschararray fields
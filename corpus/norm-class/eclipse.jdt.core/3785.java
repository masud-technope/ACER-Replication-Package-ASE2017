copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests rewrite modifying java util list junit framework test org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core dom ast org eclipse jdt core dom block org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom if statement ifstatement org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom prefix expression prefixexpression org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement suppress warnings suppresswarnings rawtypes unchecked ast rewriting modifying remove test astrewritingmodifyingremovetest ast rewriting modifying test astrewritingmodifyingtest ast rewriting modifying remove test astrewritingmodifyingremovetest ast rewriting modifying remove test astrewritingmodifyingremovetest string test all tests alltests suite test suite all tests alltests test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast root astroot set package setpackage string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append java util buf append java lang buf append java awt buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list imports ast root astroot imports imports remove string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append java lang buf append java awt buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types types remove string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications ast ast root astroot getast list types ast root astroot types type declaration typedeclaration type declaration typedeclaration new type declaration newtypedeclaration type declaration typedeclaration set name setname new simple name newsimplename types add type declaration typedeclaration types remove string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot parse compilation unit parsecompilationunit ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types type declaration typedeclaration set javadoc setjavadoc string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append foo buf append bar buf append buf append comment buf append bar comment buf append comment buf append bar buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method declaration methoddeclaration type declaration typedeclaration get methods getmethods block body method declaration methoddeclaration get body getbody list statements body statements statements remove string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append foo buf append bar buf append buf append comment buf append bar buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append object buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot parse compilation unit parsecompilationunit ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types type declaration typedeclaration type declaration typedeclaration get types gettypes javadoc javadoc type declaration typedeclaration get javadoc getjavadoc list tags javadoc tags tags remove string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append object buf append buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack f source folder fsourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append object buf append buf append buf append buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot parse compilation unit parsecompilationunit ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types type declaration typedeclaration type declaration typedeclaration get types gettypes javadoc javadoc type declaration typedeclaration get javadoc getjavadoc list tags javadoc tags tags remove string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append buf append buf append buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append comment buf append comment buf append foo buf append buf append comment buf append foo buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method declaration methoddeclaration type declaration typedeclaration get methods getmethods type declaration typedeclaration body declarations bodydeclarations remove method declaration methoddeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append comment buf append foo buf append buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append comment buf append comment buf append foo buf append buf append comment buf append buf append comment buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method declaration methoddeclaration type declaration typedeclaration get methods getmethods type declaration typedeclaration body declarations bodydeclarations remove method declaration methoddeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append buf append buf append comment buf append assert equal string assertequalstring preview buf to string tostring test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append comment buf append foo buf append buf append buf append buf append buf append buf append foo buf append buf append buf append foo buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method declaration methoddeclaration type declaration typedeclaration get methods getmethods type declaration typedeclaration body declarations bodydeclarations remove method declaration methoddeclaration string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append buf append buf append foo buf append buf append buf append foo buf append buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test types removed comments extended source range removed left untouched test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append buf append buf append comment buf append buf append buf append comment buf append comment buf append buf append buf append buf append comment buf append buf append buf append comment buf append comment buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types type declaration typedeclaration members type declaration typedeclaration get types gettypes type declaration typedeclaration body declarations bodydeclarations remove members type declaration typedeclaration body declarations bodydeclarations remove members string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append buf append buf append comment buf append buf append buf append buf append buf append comment buf append comment buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test types removed comments extended source range removed left untouched test cases type removed file leading comments extended source range test exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test string buffer stringbuffer buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append buf append buf append comment buf append buf append i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types type declaration typedeclaration members type declaration typedeclaration get types gettypes type declaration typedeclaration body declarations bodydeclarations remove members string preview evaluate rewrite evaluaterewrite ast root astroot buf string buffer stringbuffer buf append test buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append buf append buf append comment buf append buf append buf append comment buf append buf append buf append buf append buf append comment buf append buf append assert equal string assertequalstring preview buf to string tostring https bugs eclipse org bugs bug cgi test bug testbug exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug testbug string contents test bug testbug main string args bug comment string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method method declaration methoddeclaration type declaration typedeclaration body declarations bodydeclarations variable declaration statement variabledeclarationstatement statement variable declaration statement variabledeclarationstatement method get body getbody statements variable declaration fragment variabledeclarationfragment fragment variable declaration fragment variabledeclarationfragment statement fragments class instance creation classinstancecreation instance class instance creation classinstancecreation fragment get initializer getinitializer instance arguments remove string preview evaluate rewrite evaluaterewrite ast root astroot string expected test bug testbug main string args bug comment assert equal string assertequalstring preview expected https bugs eclipse org bugs bug cgi test bug testbug exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug testbug string contents test bug testbug foo foo comment string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration type declaration typedeclaration body declarations bodydeclarations list statements method decl methoddecl get body getbody statements if statement ifstatement if statement ifstatement if statement ifstatement statements block then block thenblock block if statement ifstatement get then statement getthenstatement then block thenblock statements remove string preview evaluate rewrite evaluaterewrite ast root astroot string expected test bug testbug foo foo comment assert equal string assertequalstring preview expected https bugs eclipse org bugs bug cgi test bug testbug exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug testbug string contents test bug testbug foo foo comment string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration type declaration typedeclaration body declarations bodydeclarations list statements method decl methoddecl get body getbody statements if statement ifstatement if statement ifstatement if statement ifstatement statements block then block thenblock block if statement ifstatement get then statement getthenstatement then block thenblock statements remove string preview evaluate rewrite evaluaterewrite ast root astroot string expected test bug testbug foo foo comment assert equal string assertequalstring preview expected https bugs eclipse org bugs bug cgi test bug testbug exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug testbug string contents test bug testbug foo foo comment string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration type declaration typedeclaration body declarations bodydeclarations list statements method decl methoddecl get body getbody statements if statement ifstatement if statement ifstatement if statement ifstatement statements block then block thenblock block if statement ifstatement get then statement getthenstatement then block thenblock statements remove then block thenblock statements remove string preview evaluate rewrite evaluaterewrite ast root astroot string expected test bug testbug foo foo comment assert equal string assertequalstring preview expected https bugs eclipse org bugs bug cgi test bug testbug exception i package fragment ipackagefragment pack source folder sourcefolder create package fragment createpackagefragment test bug testbug string contents test bug testbug foo foo comment string buffer stringbuffer buf string buffer stringbuffer contents i compilation unit icompilationunit pack create compilation unit createcompilationunit java buf to string tostring compilation unit compilationunit ast root astroot createcu ast root astroot record modifications recordmodifications list types ast root astroot types type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration types method declaration methoddeclaration method decl methoddecl method declaration methoddeclaration type declaration typedeclaration body declarations bodydeclarations list statements method decl methoddecl get body getbody statements if statement ifstatement if statement ifstatement if statement ifstatement statements block then block thenblock block if statement ifstatement get then statement getthenstatement then block thenblock statements remove ast ast ast root astroot getast prefix expression prefixexpression expression ast new prefix expression newprefixexpression expression set operand setoperand ast new simple name newsimplename expression set operator setoperator prefix expression prefixexpression decrement expression statement expressionstatement new statement newstatement ast new expression statement newexpressionstatement expression then block thenblock statements add new statement newstatement string preview evaluate rewrite evaluaterewrite ast root astroot string expected test bug testbug foo foo comment assert equal string assertequalstring preview expected
test prefs returns code code code i structure creator istructurecreator code rewrite diff tree order fold combinations add itons additons deletions note method internal clients call method code code foo
copyright go pivotal gopivotal rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors andy clement go pivotal gopivotal aclement gopivotal contributions bug compiler codegen implement support serialize able serializeable lambdas bug compiler lambda deserializing lambda fails illegal argument exception illegalargumentexception invalid lambda deserialization bug deserialize lambda deserializelambda missing cases nested lambdas bug deserialize lambda deserializelambda error deserializing captured arguments lambda capture bug compiler invalid lambda deserialization anonymous olivier tar dieu tardieu tar dieu tardieu ibm contributions bug deserialize lambda deserializelambda missing cases nested lambdas bug deserialize lambda deserializelambda error deserializing captured arguments lambda capture ibm corporation additional tests org eclipse jdt core tests compiler regression java file java lang reflect modifier java util map org eclipse jdt core tool factory toolfactory org eclipse jdt core util class file bytes disassembler classfilebytesdisassembler org eclipse jdt core util i bootstrap methods entry ibootstrapmethodsentry org eclipse jdt core util i class file attribute iclassfileattribute org eclipse jdt core util i class file reader iclassfilereader org eclipse jdt core util i constant pool iconstantpool org eclipse jdt core util i constant pool constant iconstantpoolconstant org eclipse jdt core util i constant pool entry iconstantpoolentry org eclipse jdt core util i constant pool entry iconstantpoolentry org eclipse jdt core util i method info imethodinfo org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal core util bootstrap methods attribute bootstrapmethodsattribute junit framework test suppress warnings suppresswarnings unchecked rawtypes serializable lambda test serializablelambdatest abstract regression test abstractregressiontest tests numbers tests names string test type variable testtypevariable test class testclass serializable lambda test serializablelambdatest test suite build minimal compliance test suite buildminimalcompliancetestsuite test class testclass serializable lambda test serializablelambdatest string test name testname test name testname enables tests individually map get compiler options getcompileroptions map default options defaultoptions get compiler options getcompileroptions default options defaultoptions compiler options compileroptions option compliance compiler options compileroptions version default options defaultoptions compiler options compileroptions option source compiler options compileroptions version default options defaultoptions compiler options compileroptions option target platform targetplatform compiler options compileroptions version default options defaultoptions string runner main string args foo main args string helper util java helper print object system err println data write object write write object data data byte array output stream bytearrayoutputstream baos byte array output stream bytearrayoutputstream object output stream objectoutputstream oos object output stream objectoutputstream baos oos write object writeobject oos flush oos close data baos to byte array tobytearray exception object read read object read byte array input stream bytearrayinputstream bais byte array input stream bytearrayinputstream data object input stream objectinputstream ois object input stream objectinputstream bais object ois read object readobject ois close exception verifies deserializing usable bootstrap methods attribute alt metafactory altmetafactory test simple exception run conform test runconformtest string java java foo serializable main string args foo util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data sanity test serializable bootstrap methods attribute reference metafactory test simple non serializable simplenonserializable exception run conform test runconformtest string java java foo main string args foo system println helper java helper string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory metafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang invoke method type methodtype ljava lang invoke method handle methodhandle ljava lang invoke method type methodtype ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data basic test deserialize lambda deserializelambda cope lambda expressions test two serialized lambdas twoserializedlambdas exception run conform test runconformtest string java java foo serializable main string args foo util helper write util helper write foo util helper read foo util helper read system println system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test lambda with parameter in package lambdawithparameterinpackage exception run conform test runconformtest string java main string args foo main args java foo java foo serializable main string args foo util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic foo lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data test capturing variable lambda with parameter in package capturingvariablelambdawithparameterinpackage exception run conform test runconformtest string java main string args foo main args java foo java foo serializable main string args foo multiplier multiplier util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic foo lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data diff ering differing types test capturing variable lambda with parameter in package capturingvariablelambdawithparameterinpackage exception run conform test runconformtest string java main string args foo main args java foo java foo serializable string main string args foo multiplier integer value of valueof multiplier util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments ljava lang string invokestatic foo lambda i ljava iljava lang string ljava lang string string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data fails java c javac npe xtest capturing field lambda with parameter in package capturingfieldlambdawithparameterinpackage exception run conform test runconformtest string java main string args foo main args java foo java multiplier foo serializable main string args foo multiplier util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic foo lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data test capturing two variable lambda with parameter in package capturingtwovariablelambdawithparameterinpackage exception run conform test runconformtest string java main string args foo main args java foo java foo serializable main string args foo util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic foo lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data test capturing two slot variables lambda with parameter in package capturingtwoslotvariableslambdawithparameterinpackage exception run conform test runconformtest string java runner java foo java foo serializable main string args foo util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic foo lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data test varargs lambda expression varargslambdaexpression exception run conform test runconformtest string java runner java foo java foo serializable string string main string args foo strings strings strings util helper write foo util helper read system println abc def helper java helper abc def abcdef force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments ljava lang string ljava lang string invokestatic foo lambda ljava lang string ljava lang string ljava lang string ljava lang string string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data fails java c javac npe xtest cap turing instance capturinginstance exception run conform test runconformtest string java runner java foo java foo serializable string string field value fieldvalue main string args foo field value fieldvalue util helper write foo util helper read system println helper java helper abc def abcdef force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments ljava lang string ljava lang string invokestatic foo lambda ljava lang string ljava lang string ljava lang string ljava lang string string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator file separator foo file separator check expected checkexpected expected output expectedoutput data test int ersection cast intersectioncast exception run conform test runconformtest string java java foo serializable marker main string args foo foo marker system println is marker ismarker marker util helper write foo util helper read system println system println is marker ismarker marker helper java helper is marker ismarker nis marker nismarker force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda bit flags bitflags flag serializable flag marker marker count marker string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test int ersection cast intersectioncast exception run conform test runconformtest string java java goo foo serializable marker main string args foo foo goo serializable marker system println is marker ismarker marker system println is goo isgoo goo system println is serializable isserializable serializable util helper write foo util helper read system println system println is marker ismarker marker system println is goo isgoo goo system println is serializable isserializable serializable helper java helper is marker ismarker nis goo nisgoo nis serializable nisserializable nis marker nismarker nis goo nisgoo nis serializable nisserializable force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda bit flags bitflags flag serializable flag marker marker count goo marker string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test int ersection cast and not serializable intersectioncastandnotserializable exception run conform test runconformtest string java java goo foo marker main string args foo foo goo marker system println is marker ismarker marker system println is goo isgoo goo system println is serializable isserializable serializable system println helper java helper is marker ismarker nis goo nisgoo nis serializable nisserializable force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda bit flags bitflags flag marker marker count goo marker string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test serializable via int ersection cast serializableviaintersectioncast exception run conform test runconformtest string java java goo foo marker main string args foo foo goo serializable marker system println is marker ismarker marker system println is goo isgoo goo system println is serializable isserializable serializable util helper write foo util helper read system println system println is marker ismarker marker system println is goo isgoo goo system println is serializable isserializable serializable helper java helper is marker ismarker nis goo nisgoo nis serializable nisserializable nis marker nismarker nis goo nisgoo nis serializable nisserializable force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda bit flags bitflags flag serializable flag marker marker count goo marker string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data sam type int ersection intersection test bug exception run conform test runconformtest string java java serializable main string argv exception auto closeable autocloseable serializable auto closeable autocloseable close force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data sam type test bug exception run conform test runconformtest string java java serializable main string argv exception auto closeable autocloseable auto closeable autocloseable serializable close force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data serializable regular marker test bug exception run conform test runconformtest string java java serializable marker main string argv exception auto closeable autocloseable marker auto closeable autocloseable close force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda marker string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data sam type serialization occur ring occurring test bug exception run conform test runconformtest string java java serializable sam main string argv exception sam serializable sam system println util helper write sam util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test lambda names lambdanames exception run conform test runconformtest string java java serializable foo foo n foon serializable main string argv exception auto closeable autocloseable close foo system println foo n foon system println force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput synthetic lambda java lang exception check disassembled class file checkdisassembledclassfile output dir file separator expected output expectedoutput class file bytes disassembler classfilebytesdisassembler system expected output expectedoutput synthetic lambda check disassembled class file checkdisassembledclassfile output dir file separator expected output expectedoutput class file bytes disassembler classfilebytesdisassembler system test lambda names var iants lambdanamesvariants exception run conform test runconformtest string java java serializable foo foo ser fooser serializable foo i fooi foo ser i fooseri serializable foo instance field instancefield foo ser fooser instance field ser instancefieldser foo static field staticfield foo ser fooser static field ser staticfieldser foo i fooi instance field i instancefieldi foo ser i fooseri instance field ser i instancefieldseri main string argv exception foo foo ser fooser foo i fooi foo ser i fooseri foo foo ser fooser foo i fooi foo ser i fooseri force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput lambda lambda lambda lambda lambda lambda lambda lambda lambda lambda lambda lambda lambda lambda string actual output actualoutput print lambda methods printlambdamethods output dir file separator actual output actualoutput equals expected output expectedoutput print i t printit actual output actualoutput assert equals assertequals expected output expectedoutput actual output actualoutput test nested lambdas nestedlambdas exception run conform test runconformtest string java java serializable foo serializable main string argv exception foo foo system println util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test lambdas in other places lambdasinotherplaces field exception run conform test runconformtest string java java serializable foo serializable foo main string argv exception system println util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test lambdas in other places lambdasinotherplaces method parameter methodparameter exception run conform test runconformtest string java java serializable foo serializable main string argv exception foo system println util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test lambdas with generic infer encing lambdaswithgenericinferencing exception run conform test runconformtest string java java serializable java util function main string argv exception int function intfunction integer times int function intfunction integer serializable triple triple system println times apply util helper write times times int function intfunction integer util helper read system println times apply helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments ljava lang object invokestatic lambda ljava lang integer ljava lang integer string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data test lambdas in other places lambdasinotherplaces clinit exception run conform test runconformtest string java java serializable foo serializable foo main string argv exception foo system println util helper write foo util helper read system println helper java helper force reused passing dummy argument generated program aborts midway execution string ddummy string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic lambda string data print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator check expected checkexpected expected output expectedoutput data https bugs eclipse org bugs bug cgi compiler invalid lambda deserialization anonymous test exception run conform test runconformtest string test class testclass java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java object input stream objectinputstream java object output stream objectoutputstream java serializable test class testclass serializable string msg hey other class otherclass test class testclass string builder stringbuilder other class otherclass other class otherclass runnable serializable length system println msg main string args exception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream buffer write object writeobject test class testclass string builder stringbuilder object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray test class testclass test class testclass read object readobject other class otherclass serializable other class otherclass other class otherclass serializable runnable runnable other class otherclass runnable runnable runnable runnable hey force reused passing dummy argument generated program aborts midway execution string ddummy test exception run conform test runconformtest string foo test class testclass java foo java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java object input stream objectinputstream java object output stream objectoutputstream java serializable test class testclass serializable string msg hey other class otherclass test class testclass string builder stringbuilder other class otherclass other class otherclass runnable serializable length system println msg main string args exception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream buffer write object writeobject test class testclass string builder stringbuilder object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray test class testclass test class testclass read object readobject other class otherclass serializable other class otherclass other class otherclass serializable runnable runnable other class otherclass runnable runnable runnable runnable hey force reused passing dummy argument generated program aborts midway execution string ddummy https bugs eclipse org bugs bug cgi compiler codegen serialization work method references test exception run conform test runconformtest string java java serializable string convert main string args i o exception ioexception to string tostring util helper write util helper read system println convert string to string tostring x i t is xitis helper java helper x i t is xitis force reused passing dummy argument generated program aborts midway execution string ddummy https bugs eclipse org bugs bug cgi test exception run conform test runconformtest string quick serialized lambda test quickserializedlambdatest java java java util function int consumer intconsumer quick serialized lambda test quickserializedlambdatest int consumer intconsumer serializable main string args i o exception ioexception class not found exception classnotfoundexception system exit method reference byte array output stream bytearrayoutputstream debug byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray read object readobject accept exit assertion error assertionerror reach point helper java helper string to string tostring java lang invoke serialized lambda serializedlambda to string tostring force reused passing dummy argument generated program aborts midway execution string ddummy test exception run conform test runconformtest string helper java helper string to string tostring java lang invoke serialized lambda serializedlambda to string tostring main string argv exception foo quick serialized lambda test quickserializedlambdatest main argv quick serialized lambda test quickserializedlambdatest java foo java java util function int consumer intconsumer quick serialized lambda test quickserializedlambdatest int consumer intconsumer serializable main string args i o exception ioexception class not found exception classnotfoundexception system println lambda expression system exit method reference byte array output stream bytearrayoutputstream debug byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject write object writeobject object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray read object readobject accept print read object readobject accept exit assertion error assertionerror reach point force reused passing dummy argument generated program aborts midway execution string ddummy https bugs eclipse org bugs bug cgi compiler exception compiling serializable array constructor reference test exception run conform test runconformtest string java java java util function int function intfunction int function intfunction object serializable main string args i o exception ioexception class not found exception classnotfoundexception factory string object factory apply byte array output stream bytearrayoutputstream debug byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject factory object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray read object readobject object apply system println get class getclass string string system println length ljava lang string force reused passing dummy argument generated program aborts midway execution string ddummy https bugs eclipse org bugs bug cgi compiler lambda deserializing lambda fails illegal argument exception illegalargumentexception invalid lambda deserialization test exception run conform test runconformtest string serialization test serializationtest java java serialization test serializationtest serializable serializable runnable serializablerunnable runnable serializable serializable runnable serializablerunnable runnable serialization test serializationtest serialization test serializationtest runnable do something dosomething method handle invokespecial serialization test serializationtest lambda runnable do something dosomething do something dosomething system println main string args exception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream buffer write object writeobject serialization test serializationtest object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray serialization test serializationtest serialization test serializationtest read object readobject do something dosomething force reused passing dummy argument generated program aborts midway execution string ddummy test exception run conform test runconformtest string serialization test serializationtest java java serialization test serializationtest serializable serializable runnable serializablerunnable runnable serializable serializable runnable serializablerunnable runnable serialization test serializationtest serialization test serializationtest method handle invokestatic serialization test serializationtest lambda l serialization test lserializationtest runnable do something dosomething runnable do something dosomething do something dosomething system println main string args exception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream buffer write object writeobject serialization test serializationtest object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray serialization test serializationtest serialization test serializationtest read object readobject do something dosomething force reused passing dummy argument generated program aborts midway execution string ddummy test nested lambdas testnestedlambdas exception run conform test runconformtest string foo java java foo to ser toser object byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream buffer write object writeobject buffer to byte array tobytearray exception print stack trace printstacktrace object from ser fromser object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream object read object readobject exception print stack trace printstacktrace main string args exception runnable nested nested runnable lambda java serializable runnable runnable lambda java serializable runnable runnable lambda java serializable runnable system println to ser toser lambda runnable runnable from ser fromser to ser toser lambda runnable runnable from ser fromser to ser toser lambda runnable runnable from ser fromser force reused passing dummy argument generated program aborts midway execution string ddummy test binding this testbindingthis exception run conform test runconformtest string foo java java foo serializable to ser toser object byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream buffer write object writeobject buffer to byte array tobytearray exception print stack trace printstacktrace object from ser fromser object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream object read object readobject exception print stack trace printstacktrace system println runnable lambda java serializable runnable to ser toser lambda runnable runnable from ser fromser main string args exception foo force reused passing dummy argument generated program aborts midway execution string ddummy test bug testbug run conform test runconformtest string test bed testbed java java object stream class objectstreamclass java serializable java lang invoke serialized lambda serializedlambda java lang reflect method java util function int function intfunction java util stream stream test bed testbed main string args system println get method getmethod test bed testbed foo equals get method getmethod test bed testbed foo foo method ref methodref runnable serializable method get method getmethod method ref methodref method ref methodref method invoke write replace method invokewritereplacemethod object stream class objectstreamclass get declared method getdeclaredmethod invoke write replace invokewritereplace object invoke write replace method invokewritereplacemethod set accessible setaccessible serialized lambda serializedlambda serialized lambda serializedlambda invoke write replace method invokewritereplacemethod invoke object stream class objectstreamclass lookup any lookupany method ref methodref get class getclass method ref methodref system println get impl class getimplclass get impl method name getimplmethodname method methods stream for name forname get impl class getimplclass get declared methods getdeclaredmethods filter get name getname equals get impl method name getimplmethodname to array toarray method methods length assertion error assertionerror todo check signature methods exception runtime exception runtimeexception test bed testbed foo test bed testbed foo string ddummy string bootstrap entries bootstrapentries print bootstrap methods attribute printbootstrapmethodsattribute output dir file separator test bed testbed string expected output expectedoutput invokestatic java lang invoke lambda metafactory lambdametafactory alt metafactory altmetafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang object ljava lang invoke call site callsite method arguments invokestatic test bed testbed foo invokestatic java lang invoke lambda metafactory lambdametafactory metafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang invoke method type methodtype ljava lang invoke method handle methodhandle ljava lang invoke method type methodtype ljava lang invoke call site callsite method arguments ljava lang object invokestatic test bed testbed lambda ljava lang invoke serialized lambda serializedlambda ljava lang reflect method ljava lang reflect method invokestatic java lang invoke lambda metafactory lambdametafactory metafactory ljava lang invoke method handles methodhandles lookup ljava lang string ljava lang invoke method type methodtype ljava lang invoke method type methodtype ljava lang invoke method handle methodhandle ljava lang invoke method type methodtype ljava lang invoke call site callsite method arguments ljava lang object invokestatic test bed testbed lambda ljava lang reflect method ljava lang reflect method check expected checkexpected expected output expectedoutput bootstrap entries bootstrapentries test bug testbug run conform test runconformtest string test bed testbed java java object stream class objectstreamclass java serializable java lang invoke serialized lambda serializedlambda java lang reflect constructor java lang reflect executable java lang reflect method java util function int function intfunction java util stream stream test bed testbed main string args system println get method getmethod test bed testbed foo equals get method getmethod test bed testbed foo system println get method getmethod foo method equals get method getmethod bar method system println get method getmethod method ref impl methodrefimpl equals get method getmethod method ref impl methodrefimpl method ref impl methodrefimpl method ref methodref override base method foo base bar base foo method ref methodref runnable serializable executable get method getmethod method ref methodref method ref methodref method invoke write replace method invokewritereplacemethod object stream class objectstreamclass get declared method getdeclaredmethod invoke write replace invokewritereplace object invoke write replace method invokewritereplacemethod set accessible setaccessible serialized lambda serializedlambda serialized lambda serializedlambda invoke write replace method invokewritereplacemethod invoke object stream class objectstreamclass lookup any lookupany method ref methodref get class getclass method ref methodref system println get impl class getimplclass get impl method name getimplmethodname is constructor isconstructor get impl method name getimplmethodname index of indexof init executable methods stream is constructor isconstructor for name forname get impl class getimplclass get declared constructors getdeclaredconstructors for name forname get impl class getimplclass get declared methods getdeclaredmethods filter get name getname equals is constructor isconstructor get impl class getimplclass get impl method name getimplmethodname to array toarray is constructor isconstructor constructor method methods length assertion error assertionerror todo check signature methods exception runtime exception runtimeexception test bed testbed foo test bed testbed foo test bed testbed base method test bed testbed base method test bed testbed method ref impl methodrefimpl init test bed testbed method ref impl methodrefimpl init string ddummy serializable reference expressions share test bug testbug run conform test runconformtest string java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java i o exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java serializable consumer serializable accept foo method system println foo bar method system println bar main string args i o exception ioexception class not found exception classnotfoundexception consumer foo foo foo method consumer bar bar bar method consumer foo baz method byte array output stream bytearrayoutputstream debug byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject bar object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray consumer bar consumer read object readobject accept bar debug reset object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject foo object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray consumer foo consumer read object readobject accept foo bar foo string ddummy test bug testbug comment run conform test runconformtest string test bed testbed java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java i o exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java serializable serializable test bed testbed args serializable test bed testbed serializable string test bed testbed string str str test i o exception ioexception class not found exception classnotfoundexception accept test bed testbed foo accept foo foo system println accept accept main string args class not found exception classnotfoundexception i o exception ioexception test bed testbed test bed testbed test bed testbed test bed testbed foo test bed testbed foo byte array output stream bytearrayoutputstream debug byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray read object readobject accept debug byte array output stream bytearrayoutputstream object output stream objectoutputstream object output stream objectoutputstream debug write object writeobject object input stream objectinputstream object input stream objectinputstream byte array input stream bytearrayinputstream debug to byte array tobytearray read object readobject accept string ddummy test bug testbug run conform test runconformtest string test java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java object input stream objectinputstream java object output stream objectoutputstream java serializable func serializable impl serializable val val val test impl impl impl func integer func func integer cloneable impl test throwable bytes write func func integer func read bytes system println func main string args throwable test test suppress warnings suppresswarnings unchecked func integer read bytes exception byte array input stream bytearrayinputstream bis byte array input stream bytearrayinputstream bytes object input stream objectinputstream ois object input stream objectinputstream bis func integer ois read object readobject write func integer func exception byte array output stream bytearrayoutputstream bos byte array output stream bytearrayoutputstream system println func object output stream objectoutputstream oos object output stream objectoutputstream bos oos write object writeobject func bos to byte array tobytearray string ddummy test bug testbug map options get compiler options getcompileroptions options compiler options compileroptions option local variable attribute localvariableattribute compiler options compileroptions generate run conform test runconformtest string test java java i o exception ioexception java serializable test an exception anexception exception asd asd string asd data asd string data override string to string tostring data test serializable test i o exception ioexception test test an exception anexception test test test test test i o exception ioexception print stack trace printstacktrace test test test test test an exception anexception system println lambdas test system println test test system println test test system println test test system println test print char sequence charsequence string system println system println system println filler system println file close r closer bytes boundary filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler filler print system current time millis currenttimemillis print system current time millis currenttimemillis print system current time millis currenttimemillis print system current time millis currenttimemillis print system current time millis currenttimemillis print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print system current time millis currenttimemillis filler print to string tostring to string tostring system current time millis currenttimemillis filler print to string tostring to string tostring system current time millis currenttimemillis filler print system get env getenv asd system current time millis currenttimemillis filler print system line separator lineseparator system current time millis currenttimemillis filler print system current time millis currenttimemillis asd asd asd asd asd asd asd asd options test bug testbug run conform test runconformtest string lambda serialization test lambdaserializationtest java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java i o exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java serializable java util array list arraylist java util list java util function supplier lambda serialization test lambdaserializationtest serializable supplier serializablesupplier supplier serializable constructor reference serialization constructorreferenceserialization i o exception ioexception class not found exception classnotfoundexception serializable supplier serializablesupplier list function array list arraylist collections empty list emptylist object result serialize deserialize serializedeserialize function infs result get class getclass get interfaces getinterfaces infs length system println infs object serialize deserialize serializedeserialize object obj i o exception ioexception class not found exception classnotfoundexception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream output object output stream objectoutputstream buffer output write object writeobject obj object input stream objectinputstream input object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray input read object readobject main string args lambda serialization test lambdaserializationtest constructor reference serialization constructorreferenceserialization class not found exception classnotfoundexception i o exception ioexception todo auto generated block print stack trace printstacktrace lambda serialization test lambdaserializationtest serializable supplier serializablesupplier string ddummy test bug testbug run conform test runconformtest string lambda serialization test lambdaserializationtest java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java i o exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java serializable java util array list arraylist java util list java util function supplier lambda serialization test lambdaserializationtest serializable supplier serializablesupplier supplier serializable junk junk constructor reference serialization constructorreferenceserialization i o exception ioexception class not found exception classnotfoundexception serializable supplier serializablesupplier junk function junk object result serialize deserialize serializedeserialize function infs result get class getclass get interfaces getinterfaces infs length system println infs object serialize deserialize serializedeserialize object obj i o exception ioexception class not found exception classnotfoundexception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream output object output stream objectoutputstream buffer output write object writeobject obj object input stream objectinputstream input object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray input read object readobject main string args lambda serialization test lambdaserializationtest constructor reference serialization constructorreferenceserialization class not found exception classnotfoundexception i o exception ioexception todo auto generated block print stack trace printstacktrace lambda serialization test lambdaserializationtest serializable supplier serializablesupplier string ddummy test bug testbug run conform test runconformtest string lambda serialization test lambdaserializationtest java java byte array input stream bytearrayinputstream java byte array output stream bytearrayoutputstream java i o exception ioexception java object input stream objectinputstream java object output stream objectoutputstream java serializable java util array list arraylist java util list java util function supplier lambda serialization test lambdaserializationtest serializable supplier serializablesupplier serializable count constructor reference serialization constructorreferenceserialization i o exception ioexception class not found exception classnotfoundexception serializable supplier serializablesupplier list function array list arraylist object result serialize deserialize serializedeserialize function infs result get class getclass get interfaces getinterfaces infs length system println infs object serialize deserialize serializedeserialize object obj i o exception ioexception class not found exception classnotfoundexception byte array output stream bytearrayoutputstream buffer byte array output stream bytearrayoutputstream object output stream objectoutputstream output object output stream objectoutputstream buffer output write object writeobject obj object input stream objectinputstream input object input stream objectinputstream byte array input stream bytearrayinputstream buffer to byte array tobytearray input read object readobject main string args lambda serialization test lambdaserializationtest constructor reference serialization constructorreferenceserialization class not found exception classnotfoundexception i o exception ioexception todo auto generated block print stack trace printstacktrace lambda serialization test lambdaserializationtest serializable supplier serializablesupplier string ddummy check expected checkexpected string expected string actual expected equals actual print i t printit actual assert equals assertequals expected actual print piece text extra quotes new lines newlines cut pasted test source file print i t printit string text string quoted text quotedtext text quoted text quotedtext starts with startswith quoted text quotedtext quoted text quotedtext replace all replaceall quoted text quotedtext quoted text quotedtext substring quoted text quotedtext length system println quoted text quotedtext print bootstrap methods attribute fashion java p javap checking java p javap constant pool indexes included test fragile string print bootstrap methods attribute printbootstrapmethodsattribute string file path filepath i class file reader iclassfilereader cfr tool factory toolfactory create default class file reader createdefaultclassfilereader file path filepath i class file reader iclassfilereader class file classfile attributes bootstrap methods attribute bootstrapmethodsattribute bootstrap methods attribute bootstrapmethodsattribute i class file attribute iclassfileattribute attrs cfr get attributes getattributes max attrs length max string attrs get attribute name getattributename equals bootstrap methods bootstrapmethods bootstrap methods attribute bootstrapmethodsattribute bootstrap methods attribute bootstrapmethodsattribute attrs bootstrap methods attribute bootstrapmethodsattribute i constant pool iconstantpool cfr get constant pool getconstantpool string buffer stringbuffer string buffer stringbuffer bma length bmalength bootstrap methods attribute bootstrapmethodsattribute get bootstrap methods length getbootstrapmethodslength bma length bmalength i bootstrap methods entry ibootstrapmethodsentry entry bootstrap methods attribute bootstrapmethodsattribute get bootstrap methods getbootstrapmethods entry get bootstrap method reference getbootstrapmethodreference i constant pool entry iconstantpoolentry icpe i constant pool entry iconstantpoolentry cfr get constant pool getconstantpool decode entry decodeentry append append append format reference kind formatreferencekind icpe get reference kind getreferencekind append append format icpe get reference index getreferenceindex append args entry get bootstrap arguments getbootstraparguments append method arguments args length append append format args append to string tostring string print lambda methods printlambdamethods string file path filepath i class file reader iclassfilereader cfr tool factory toolfactory create default class file reader createdefaultclassfilereader file path filepath i class file reader iclassfilereader method inf os infos i method info imethodinfo method infos methodinfos cfr get method infos getmethodinfos string buffer stringbuffer buf string buffer stringbuffer max method infos methodinfos length max i method info imethodinfo method info methodinfo method infos methodinfos string method info methodinfo get name getname starts with startswith lambda access flags accessflags method info methodinfo get access flags getaccessflags modifier is static isstatic access flags accessflags buf append buf append method info methodinfo get name getname buf append method info methodinfo get descriptor getdescriptor buf append buf to string tostring string format reference kind formatreferencekind kind kind i constant pool constant iconstantpoolconstant method type invoke static invokestatic invokestatic illegal state exception illegalstateexception nyi kind string format i constant pool iconstantpool entry number entrynumber i constant pool entry iconstantpoolentry entry decode entry decodeentry entry number entrynumber entry entry get kind getkind i constant pool constant iconstantpoolconstant constant integer integer to string tostring entry get integer value getintegervalue i constant pool constant iconstantpoolconstant constant utf string entry get utf getutf i constant pool constant iconstantpoolconstant constant method ref methodref string entry get class name getclassname string entry get method name getmethodname string entry get method descriptor getmethoddescriptor i constant pool constant iconstantpoolconstant constant method handle methodhandle i constant pool entry iconstantpoolentry entry i constant pool entry iconstantpoolentry entry format reference kind formatreferencekind entry get reference kind getreferencekind format entry get reference index getreferenceindex i constant pool constant iconstantpoolconstant constant method type methodtype format i constant pool entry iconstantpoolentry entry get descriptor index getdescriptorindex i constant pool constant iconstantpoolconstant constant string entry get class info name getclassinfoname illegal state exception illegalstateexception nyi entry get kind getkind
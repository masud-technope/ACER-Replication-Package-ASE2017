copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt core tests compiler parser java util locale org eclipse jdt core compiler char operation charoperation org eclipse jdt internal code assist codeassist select selection parser selectionparser org eclipse jdt internal code assist codeassist select selection scanner selectionscanner org eclipse jdt internal compiler compilation result compilationresult org eclipse jdt internal compiler default error handling policies defaulterrorhandlingpolicies org eclipse jdt internal compiler ast abstract method declaration abstractmethoddeclaration org eclipse jdt internal compiler ast ast node astnode org eclipse jdt internal compiler ast compilation unit declaration compilationunitdeclaration org eclipse jdt internal compiler ast field declaration fielddeclaration org eclipse jdt internal compiler ast initializer org eclipse jdt internal compiler ast type declaration typedeclaration org eclipse jdt internal compiler batch compilation unit compilationunit org eclipse jdt internal compiler env i compilation unit icompilationunit org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler problem default problem factory defaultproblemfactory org eclipse jdt internal compiler problem problem reporter problemreporter selection test selectiontest abstract selection test abstractselectiontest selection test selectiontest string test name testname test name testname there was an e therewasannpe special selection parser specialselectionparser selection parser selectionparser special selection parser specialselectionparser problem reporter problemreporter problem reporter problemreporter problem reporter problemreporter donpeinparser stack special selection parser specialselectionparser create parser createparser compiler options compileroptions options compiler options compileroptions get compiler options getcompileroptions special selection parser specialselectionparser parser special selection parser specialselectionparser problem reporter problemreporter default error handling policies defaulterrorhandlingpolicies proceed with all problems proceedwithallproblems options default problem factory defaultproblemfactory locale get default getdefault parser check method parse checkmethodparse selection parser selectionparser parser source selection start selectionstart selection end selectionend string expected selection expectedselection string expected unit to string expectedunittostring string expected selection identifier expectedselectionidentifier string expected selected source expectedselectedsource string test name testname i compilation unit icompilationunit source unit sourceunit compilation unit compilationunit source test name testname compilation result compilationresult compilation result compilationresult compilation result compilationresult source unit sourceunit compilation unit declaration compilationunitdeclaration unit parser diet parse dietparse source unit sourceunit compilation result compilationresult selection start selectionstart selection end selectionend ast node astnode found method foundmethod unit types unit types length type declaration typedeclaration type unit types ast node astnode method find method findmethod type selection start selectionstart method found method foundmethod method assert true asserttrue method cursor location found method foundmethod found method foundmethod abstract method declaration abstractmethoddeclaration parser parse block statements parseblockstatements abstract method declaration abstractmethoddeclaration found method foundmethod unit type declaration typedeclaration type type declaration typedeclaration found method foundmethod type fields type fields length field declaration fielddeclaration field type fields field initializer field source start sourcestart selection start selectionstart selection start selectionstart field source end sourceend parser parse block statements parseblockstatements initializer field type unit string computed unit to string computedunittostring unit to string tostring system println computed unit to string computedunittostring system println util display string displaystring computed unit to string computedunittostring system println expected unit to string expectedunittostring string computed completion computedcompletion parser assist node assistnode parser assist node assistnode to string tostring assert equals assertequals invalid selection node test name testname expected selection expectedselection computed completion computedcompletion assert equals assertequals invalid selection location test name testname expected unit to string expectedunittostring computed unit to string computedunittostring expected selection identifier expectedselectionidentifier chars selection scanner selectionscanner parser scanner selection identifier selectionidentifier string computed selection identifier computedselectionidentifier chars string chars assert equals assertequals invalid selection identifier test name testname expected selection identifier expectedselectionidentifier computed selection identifier computedselectionidentifier expected selected source expectedselectedsource chars parser assist node assistnode chars char operation charoperation subarray parser scanner source parser assist node assistnode source start sourcestart parser assist node assistnode source end sourceend parser assist identifier assistidentifier selection scanner selectionscanner parser scanner selection end selectionend selection scanner selectionscanner parser scanner selection start selectionstart chars char operation charoperation subarray parser scanner source selection scanner selectionscanner parser scanner selection start selectionstart selection scanner selectionscanner parser scanner selection end selectionend string computed replaced source computedreplacedsource chars string chars assert equals assertequals invalid replaced source test name testname expected selected source expectedselectedsource computed replaced source computedreplacedsource http dev eclipse org bugs bug cgi test bug testbug special selection parser specialselectionparser parser create parser createparser thread query thread runnable string str foo string selection string expected completion node to string expectedcompletionnodetostring select on name selectonname string completion identifier completionidentifier string expected unit display string expectedunitdisplaystring foo select on name selectonname string expected replaced source expectedreplacedsource string test name testname ini finite inifinite loop test selection start selectionstart str last index of lastindexof selection selection end selectionend str last index of lastindexof selection selection length selection test selectiontest check method parse checkmethodparse parser str to char array tochararray selection start selectionstart selection end selectionend expected completion node to string expectedcompletionnodetostring expected unit display string expectedunitdisplaystring completion identifier completionidentifier expected replaced source expectedreplacedsource test name testname null pointer exception nullpointerexception selection test selectiontest there was an e therewasannpe query start thread sleep interrupted exception interruptedexception force parser parser donpeinparser thread sleep interrupted exception interruptedexception assert true asserttrue infinite loop there was an e therewasannpe
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal core java org eclipse jdt core compiler char operation charoperation org eclipse jdt core search org eclipse jdt internal core util org eclipse jdt internal compiler util hashtable of int values hashtableofintvalues org eclipse jdt internal compiler util hashtable of object hashtableofobject org eclipse jdt internal compiler util simple lookup table simplelookuptable org eclipse jdt internal compiler util simple set simpleset org eclipse jdt internal compiler util simple set of char array simplesetofchararray disk index diskindex index location indexlocation index location indexlocation header info offset headerinfooffset number of chunks numberofchunks size of last chunk sizeoflastchunk chunk offsets chunkoffsets bytes depends document names document reference size documentreferencesize start of category tables startofcategorytables hashtable of int values hashtableofintvalues category offsets categoryoffsets category ends categoryends cache user count cacheusercount decompressed chunks document names string cached chunks cachedchunks category hashtable of object hashtableofobject document offset read hashtable of object hashtableofobject category tables categorytables cached category name cachedcategoryname buffer size buffer read size buffer size buffer write size buffer size stream buffer streambuffer reading file stream buffer streambuffer buffer index bufferindex buffer end bufferend writing data stream buffer streambuffer file stream end streamend separator separator nls string signature version signature chars signature to char array tochararray debug indexed deleted chunk size simple set of char array simplesetofchararray int erned interned category names simple set of char array simplesetofchararray nls string tmp ext tmp int list intlist size elements int list intlist elements elements elements size elements length add new element newelement size elements length new size newsize size new size newsize new size newsize system arraycopy elements elements new size newsize size elements size new element newelement as array asarray result size system arraycopy elements result size result disk index diskindex header info offset headerinfooffset number of chunks numberofchunks size of last chunk sizeoflastchunk chunk offsets chunkoffsets document reference size documentreferencesize cache user count cacheusercount cached chunks cachedchunks category tables categorytables cached category name cachedcategoryname category offsets categoryoffsets category ends categoryends disk index diskindex index location indexlocation location io exception ioexception location illegal argument exception illegalargumentexception index location indexlocation location simple set simpleset add document names adddocumentnames string substring memory index memoryindex memory index memoryindex io exception ioexception skip documents changed deleted memory string doc names docnames read all document names readalldocumentnames simple set simpleset simple set simpleset doc names docnames length substring memory index memoryindex doc names docnames length add doc names docnames simple lookup table simplelookuptable docs to refs docstorefs memory index memoryindex docs to references docstoreferences doc names docnames length string doc name docname doc names docnames docs to refs docstorefs contains key containskey doc name docname add doc name docname memory index memoryindex doc names docnames length doc names docnames starts with startswith substring add doc names docnames simple lookup table simplelookuptable docs to refs docstorefs memory index memoryindex docs to references docstoreferences doc names docnames length string doc name docname doc names docnames doc name docname starts with startswith substring docs to refs docstorefs contains key containskey doc name docname add doc name docname hashtable of object hashtableofobject add query result addqueryresult hashtable of object hashtableofobject word object docs memory index memoryindex memory index memoryindex prev results prevresults io exception ioexception skip documents changed deleted memory hashtable of object hashtableofobject entry result entryresult result prev results prevresults entry result entryresult word memory index memoryindex result put unsafely putunsafely word entry result entryresult word docs result add document table adddocumenttable docs simple lookup table simplelookuptable docs to refs docstorefs memory index memoryindex docs to references docstoreferences result result entry result entryresult word doc numbers docnumbers read document numbers readdocumentnumbers docs doc numbers docnumbers length string doc name docname read document name readdocumentname doc numbers docnumbers docs to refs docstorefs contains key containskey doc name docname result add document name adddocumentname doc name docname result is empty isempty word result hashtable of object hashtableofobject add query results addqueryresults categories key match rule matchrule memory index memoryindex memory index memoryindex io exception ioexception file empty category offsets categoryoffsets initialized needed hashtable of object hashtableofobject check table duplicates processing category table category tab les tables doesn prev results prevresults key categories length cache key definite match hashtable of object hashtableofobject words to doc numbers wordstodocnumbers read category table readcategorytable categories words to doc numbers wordstodocnumbers words to doc numbers wordstodocnumbers key table keytable object values words to doc numbers wordstodocnumbers value table valuetable hashtable of object hashtableofobject words to doc numbers wordstodocnumbers element size elementsize length add query result addqueryresult values memory index memoryindex prev results prevresults prev results prevresults cached chunks cachedchunks cache document names cachedocumentnames match rule matchrule search pattern searchpattern exact match search pattern searchpattern sensitive categories length hashtable of object hashtableofobject words to doc numbers wordstodocnumbers read category table readcategorytable categories object words to doc numbers wordstodocnumbers words to doc numbers wordstodocnumbers key add query result addqueryresult key memory index memoryindex prev results prevresults prev results prevresults search pattern searchpattern prefix match search pattern searchpattern sensitive categories length hashtable of object hashtableofobject words to doc numbers wordstodocnumbers read category table readcategorytable categories words to doc numbers wordstodocnumbers words to doc numbers wordstodocnumbers key table keytable object values words to doc numbers wordstodocnumbers value table valuetable length word word key word char operation charoperation prefix equals prefixequals key word add query result addqueryresult word values memory index memoryindex prev results prevresults prev results prevresults categories length hashtable of object hashtableofobject words to doc numbers wordstodocnumbers read category table readcategorytable categories words to doc numbers wordstodocnumbers words to doc numbers wordstodocnumbers key table keytable object values words to doc numbers wordstodocnumbers value table valuetable length word word is match ismatch key word match rule matchrule add query result addqueryresult word values memory index memoryindex prev results prevresults prev results prevresults cache document names cachedocumentnames io exception ioexception document names cached chunks cachedchunks string number of chunks numberofchunks input stream inputstream stream index location indexlocation get input stream getinputstream number of chunks numberofchunks buffer read size offset chunk offsets chunkoffsets stream skip offset stream buffer streambuffer buffer read size buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer stream buffer streambuffer length number of chunks numberofchunks size number of chunks numberofchunks size of last chunk sizeoflastchunk chunk size read chunk readchunk cached chunks cachedchunks string size stream size io exception ioexception cached chunks cachedchunks stream close index location indexlocation close stream buffer streambuffer buffer read size buffer size string compute document names computedocumentnames string on disk names ondisknames positions simple lookup table simplelookuptable indexed documents indexeddocuments memory index memoryindex memory index memoryindex on disk length ondisklength on disk names ondisknames length object doc names docnames memory index memoryindex docs to references docstoreferences key table keytable object reference tables referencetables memory index memoryindex docs to references docstoreferences value table valuetable on disk length ondisklength disk empty add indexed document reference tables referencetables length reference tables referencetables remember document indexed documents indexeddocuments doc names docnames string new doc names newdocnames string indexed documents indexeddocuments element size elementsize count object indexed documents indexeddocuments key table keytable length new doc names newdocnames count string util sort new doc names newdocnames new doc names newdocnames length indexed documents indexeddocuments new doc names newdocnames integer value of valueof new doc names newdocnames initialize positions document remain position on disk length ondisklength positions find memory deleted documents names positions num deleted doc names numdeleteddocnames next path nextpath doc names docnames length string doc name docname string doc names docnames doc name docname on disk length ondisklength doc name docname equals on disk names ondisknames reference tables referencetables positions deleted num deleted doc names numdeleteddocnames positions indexed next path nextpath reference tables referencetables remember document skip deleted documents saved indexed documents indexeddocuments doc name docname string new doc names newdocnames on disk names ondisknames num deleted doc names numdeleteddocnames indexed documents indexeddocuments element size elementsize documents deleted new doc names newdocnames string on disk length ondisklength indexed documents indexeddocuments element size elementsize num deleted doc names numdeleteddocnames count on disk length ondisklength positions indexed unchanged document new doc names newdocnames count on disk names ondisknames object indexed documents indexeddocuments key table keytable length add document new doc names newdocnames count string util sort new doc names newdocnames new doc names newdocnames length indexed documents indexeddocuments contains key containskey new doc names newdocnames remember position document indexed documents indexeddocuments new doc names newdocnames integer value of valueof position map position position deleted for got ton forgotton position reindexed for gotten forgotten position needed map references count on disk length ondisklength positions deleted skip deleted references for gotten forgotten indexed string new name newname new doc names newdocnames count new name newname equals on disk names ondisknames reindexed doc name docname position position count indexed documents indexeddocuments new name newname integer value of valueof count new doc names newdocnames count equals on disk names ondisknames unchanged doc name docname position position count positions count new doc names newdocnames copy query results copyqueryresults hashtable of object hashtableofobject category to words categorytowords new position newposition category names categorynames category to words categorytowords key table keytable object word sets wordsets category to words categorytowords value table valuetable category names categorynames length category name categoryname category names categorynames category name categoryname simple word set simplewordset word set wordset simple word set simplewordset word sets wordsets hashtable of object hashtableofobject words to docs wordstodocs hashtable of object hashtableofobject category tables categorytables category name categoryname words to docs wordstodocs category tables categorytables category name categoryname words to docs wordstodocs hashtable of object hashtableofobject word set wordset element size elementsize word set wordset length word word object words to docs wordstodocs word words to docs wordstodocs put unsafely putunsafely word new position newposition int list intlist int list intlist add new position newposition int list intlist list int list intlist list add new position newposition words to docs wordstodocs word list initialize reuse existing file reuseexistingfile io exception ioexception index location indexlocation exists reuse existing file reuseexistingfile input stream inputstream stream index location indexlocation get input stream getinputstream stream nls io exception ioexception nls failed file stream buffer streambuffer buffer read size buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer signature read stream chars readstreamchars stream char operation charoperation equals signature signature chars io exception ioexception messages exception wrong format wrongformat header info offset headerinfooffset read stream int readstreamint stream file empty header info offset headerinfooffset assume header info offset current buffer stream skip header info offset headerinfooffset buffer end bufferend buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer stream buffer streambuffer length read header info readheaderinfo stream stream close index location indexlocation close index location indexlocation delete debug nls system println nls initialize failed delete index location indexlocation nls io exception ioexception failed delete index location indexlocation index location indexlocation create new file createnewfile file output stream fileoutputstream stream file output stream fileoutputstream index location indexlocation get index file getindexfile stream buffer streambuffer buffer read size buffer index bufferindex write stream chars writestreamchars stream signature chars file empty write stream int writestreamint stream write buffer stream buffer index bufferindex stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex stream close debug nls system println initialize failed create index location indexlocation nls io exception ioexception failed create index location indexlocation initialize from initializefrom disk index diskindex disk index diskindex file new index file newindexfile io exception ioexception delete temporary file new index file newindexfile exists new index file newindexfile delete debug nls system println initialize from initializefrom failed delete temp index location indexlocation new index file newindexfile create new file createnewfile debug nls system println initialize from initializefrom failed create temp index location indexlocation nls io exception ioexception failed create temp index location indexlocation size disk index diskindex category offsets categoryoffsets disk index diskindex category offsets categoryoffsets element size elementsize category offsets categoryoffsets hashtable of int values hashtableofintvalues size category ends categoryends hashtable of int values hashtableofintvalues size category tables categorytables hashtable of object hashtableofobject size separator disk index diskindex separator merge categories mergecategories disk index diskindex on disk ondisk positions file output stream fileoutputstream stream io exception ioexception point category tables categorytables names words to docs wordstodocs copy query results copyqueryresults old names oldnames on disk ondisk category offsets categoryoffsets key table keytable old names oldnames length old name oldname old names oldnames old name oldname category tables categorytables contains key containskey old name oldname category tables categorytables old name oldname category names categorynames category tables categorytables key table keytable category names categorynames length category names categorynames merge category mergecategory category names categorynames on disk ondisk positions stream category tables categorytables merge category mergecategory category name categoryname disk index diskindex on disk ondisk positions file output stream fileoutputstream stream io exception ioexception hashtable of object hashtableofobject words to docs wordstodocs hashtable of object hashtableofobject category tables categorytables category name categoryname words to docs wordstodocs words to docs wordstodocs hashtable of object hashtableofobject hashtable of object hashtableofobject old words to docs oldwordstodocs on disk ondisk read category table readcategorytable category name categoryname old words to docs oldwordstodocs old words oldwords old words to docs oldwordstodocs key table keytable object old array offsets oldarrayoffsets old words to docs oldwordstodocs value table valuetable next word nextword old words oldwords length old word oldword old words oldwords old word oldword old doc numbers olddocnumbers old array offsets oldarrayoffsets length old doc numbers olddocnumbers length mapped numbers mappednumbers length count length pos positions old doc numbers olddocnumbers for get forget reference document deleted indexed pos indexed mapped numbers mappednumbers count pos count length skip longer references count next word nextword system arraycopy mapped numbers mappednumbers mapped numbers mappednumbers count count object words to docs wordstodocs old word oldword words to docs wordstodocs put unsafely putunsafely old word oldword mapped numbers mappednumbers int list intlist list int list intlist list int list intlist list int list intlist words to docs wordstodocs old word oldword list count list add mapped numbers mappednumbers flush cached table on disk ondisk category tables categorytables category name categoryname write category table writecategorytable category name categoryname words to docs wordstodocs stream disk index diskindex merge with mergewith memory index memoryindex memory index memoryindex io exception ioexception compute write doc names docnames index location indexlocation nls io exception ioexception pre built file write able writeable string doc names docnames read all document names readalldocumentnames previous length previouslength doc names docnames length track position document sorted doc names docnames positions previous length previouslength changed document memory index memoryindex simple lookup table simplelookuptable indexed documents indexeddocuments simple lookup table simplelookuptable doc names docnames compute document names computedocumentnames doc names docnames positions indexed documents indexeddocuments memory index memoryindex doc names docnames length memory contained deleted documents saved previous length previouslength empty saved documents removed disk index diskindex new disk index newdiskindex disk index diskindex index location indexlocation new disk index newdiskindex initialize new disk index newdiskindex using tmp usingtmp file old index file oldindexfile index location indexlocation get index file getindexfile string index file path indexfilepath old index file oldindexfile get path getpath tmp file renamed time index file path indexfilepath ends with endswith tmp ext index file path indexfilepath index file path indexfilepath substring index file path indexfilepath length tmp ext length using tmp usingtmp index file path indexfilepath tmp ext disk index diskindex new disk index newdiskindex disk index diskindex file index location fileindexlocation file index file path indexfilepath file new index file newindexfile new disk index newdiskindex index location indexlocation get index file getindexfile new disk index newdiskindex initialize from initializefrom new index file newindexfile file output stream fileoutputstream stream file output stream fileoutputstream new index file newindexfile offset to header offsettoheader new disk index newdiskindex write all document names writealldocumentnames doc names docnames stream free space doc names docnames add changed doc empty category tab les tables position indexed documents indexeddocuments element size elementsize object names indexed documents indexeddocuments key table keytable object int eger positions integerpositions indexed documents indexeddocuments value table valuetable names length names new disk index newdiskindex copy query results copyqueryresults hashtable of object hashtableofobject memory index memoryindex docs to references docstoreferences names integer int eger positions integerpositions int value intvalue free space indexed documents indexeddocuments merge category table write previous length previouslength new disk index newdiskindex write categories writecategories stream new disk index newdiskindex merge categories mergecategories positions stream offset to header offsettoheader new disk index newdiskindex stream end streamend new disk index newdiskindex write header info writeheaderinfo stream free space positions stream close stream buffer streambuffer new disk index newdiskindex write offset to header writeoffsettoheader offset to header offsettoheader rename file deleting previous file renaming temp old index file oldindexfile exists old index file oldindexfile delete debug nls system println nls merge with mergewith failed delete index location indexlocation nls io exception ioexception failed delete file index location indexlocation using tmp usingtmp new index file newindexfile rename to renameto old index file oldindexfile waiting milli secs thread sleep interrupted exception interruptedexception new index file newindexfile rename to renameto old index file oldindexfile debug system println merge with mergewith failed rename nls index location indexlocation using tmp usingtmp io exception ioexception new index file newindexfile exists new index file newindexfile delete debug system println merge with mergewith failed delete temp new disk index newdiskindex index location indexlocation rename file using tmp usingtmp new disk index newdiskindex index location indexlocation index location indexlocation new disk index newdiskindex string read all document names readalldocumentnames io exception ioexception number of chunks numberofchunks char operation charoperation strings input stream inputstream stream index location indexlocation get input stream getinputstream offset chunk offsets chunkoffsets stream skip offset stream buffer streambuffer buffer read size buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer stream buffer streambuffer length last index lastindex number of chunks numberofchunks string doc names docnames string last index lastindex chunk size size of last chunk sizeoflastchunk number of chunks numberofchunks read chunk readchunk doc names docnames stream chunk size last index lastindex chunk size size of last chunk sizeoflastchunk doc names docnames stream close index location indexlocation close stream buffer streambuffer hashtable of object hashtableofobject read category table readcategorytable category name categoryname read doc numbers readdocnumbers io exception ioexception result category name categoryname unknown offset category offsets categoryoffsets category name categoryname offset hashtable of int values hashtableofintvalues category tables categorytables category tables categorytables hashtable of object hashtableofobject hashtable of object hashtableofobject cached table cachedtable hashtable of object hashtableofobject category tables categorytables category name categoryname cached table cachedtable cache remaining document number arrays read doc numbers readdocnumbers object array offsets arrayoffsets cached table cachedtable value table valuetable array offsets arrayoffsets length array offsets arrayoffsets integer array offsets arrayoffsets read document numbers readdocumentnumbers array offsets arrayoffsets cached table cachedtable input stream inputstream stream index location indexlocation get input stream getinputstream hashtable of object hashtableofobject category table categorytable matching words matchingwords count first offset firstoffset stream buffer streambuffer buffer read size stream skip offset buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer stream buffer streambuffer length size read stream int readstreamint stream debug size nls system err println nls debug nls system err println nls file index location indexlocation nls system err println nls offset offset nls system err println nls size size nls system err println nls category table categorytable hashtable of object hashtableofobject size out of memory error outofmemoryerror oom oom print stack trace printstacktrace system err println debug system err println file index location indexlocation system err println offset offset system err println size size system err println oom large array size largearraysize size word read stream chars readstreamchars stream array offset arrayoffset read stream int readstreamint stream array size offset array written prior table array offset arrayoffset store element array negating document number documentnumber category table categorytable put unsafely putunsafely word array offset arrayoffset array offset arrayoffset large array size largearraysize read line d lined array providing size category table categorytable put unsafely putunsafely word read stream document array readstreamdocumentarray stream array offset arrayoffset read actual offset array offset arrayoffset read stream int readstreamint stream read doc numbers readdocnumbers matching words matchingwords matching words matchingwords size count first offset firstoffset array offset arrayoffset matching words matchingwords count word offset array file category table categorytable put unsafely putunsafely word integer value of valueof array offset arrayoffset category tables categorytables int erned interned category names category name categoryname category table categorytable cache table big practice tab les tables greater elements cached category name cachedcategoryname category table categorytable element size elementsize category name categoryname io exception ioexception ioe stream buffer streambuffer ioe stream close index location indexlocation close matching words matchingwords count stream index location indexlocation get input stream getinputstream stream skip first offset firstoffset buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer stream buffer streambuffer length array previous array previous count array previous category table categorytable matching words matchingwords read stream document array readstreamdocumentarray stream read stream int readstreamint stream io exception ioexception ioe stream buffer streambuffer ioe stream close index location indexlocation close stream buffer streambuffer category table categorytable read chunk readchunk string doc names docnames input stream inputstream stream size io exception ioexception string current string read stream chars readstreamchars stream doc names docnames current size stream buffer index bufferindex buffer end bufferend read stream buffer readstreambuffer stream start stream buffer streambuffer buffer index bufferindex xff stream buffer streambuffer buffer index bufferindex xff string string read stream chars readstreamchars stream start length current length current substring start current substring length length current substring start length current length current substring length length doc names docnames current string read document name readdocumentname doc number docnumber io exception ioexception cached chunks cachedchunks cached chunks cachedchunks string number of chunks numberofchunks chunk number chunknumber doc number docnumber chunk size string chunk cached chunks cachedchunks chunk number chunknumber chunk is last chunk islastchunk chunk number chunknumber number of chunks numberofchunks start chunk offsets chunkoffsets chunk number chunknumber number of bytes numberofbytes is last chunk islastchunk start of category tables startofcategorytables chunk offsets chunkoffsets chunk number chunknumber start number of bytes numberofbytes illegal argument exception illegalargumentexception stream buffer streambuffer number of bytes numberofbytes buffer index bufferindex input stream inputstream file index location indexlocation get input stream getinputstream file skip start file read stream buffer streambuffer number of bytes numberofbytes number of bytes numberofbytes io exception ioexception io exception ioexception ioe stream buffer streambuffer ioe file close index location indexlocation close number of names numberofnames is last chunk islastchunk size of last chunk sizeoflastchunk chunk size chunk string number of names numberofnames read chunk readchunk chunk number of names numberofnames io exception ioexception ioe stream buffer streambuffer ioe cached chunks cachedchunks chunk number chunknumber chunk stream buffer streambuffer chunk doc number docnumber chunk number chunknumber chunk size read document numbers readdocumentnumbers object array offset arrayoffset io exception ioexception array offset arrayoffset cached array doc numbers docnumbers integer offset file array offset arrayoffset array offset arrayoffset input stream inputstream stream index location indexlocation get input stream getinputstream offset integer array offset arrayoffset int value intvalue stream skip offset stream buffer streambuffer buffer read size buffer index bufferindex buffer end bufferend stream read stream buffer streambuffer stream buffer streambuffer length read stream document array readstreamdocumentarray stream read stream int readstreamint stream stream close index location indexlocation close stream buffer streambuffer read header info readheaderinfo input stream inputstream stream io exception ioexception order write header info writeheaderinfo number of chunks numberofchunks read stream int readstreamint stream size of last chunk sizeoflastchunk stream buffer streambuffer buffer index bufferindex xff document reference size documentreferencesize stream buffer streambuffer buffer index bufferindex xff separator stream buffer streambuffer buffer index bufferindex xff length index location indexlocation length length number of chunks numberofchunks length accurate check good https bugs eclipse org bugs bug cgi debug nls system println file corrupted index location indexlocation nls io exception ioexception file corrupted index location indexlocation chunk offsets chunkoffsets number of chunks numberofchunks number of chunks numberofchunks chunk offsets chunkoffsets read stream int readstreamint stream start of category tables startofcategorytables read stream int readstreamint stream size read stream int readstreamint stream category offsets categoryoffsets hashtable of int values hashtableofintvalues size category ends categoryends hashtable of int values hashtableofintvalues size length size length accurate check good https bugs eclipse org bugs bug cgi debug nls system println file corrupted index location indexlocation nls io exception ioexception file corrupted index location indexlocation previous category previouscategory offset size category name categoryname int erned interned category names read stream chars readstreamchars stream offset read stream int readstreamint stream cache offset category table category offsets categoryoffsets category name categoryname offset previous category previouscategory cache category table category ends categoryends previous category previouscategory offset previous category previouscategory category name categoryname previous category previouscategory cache category table category ends categoryends previous category previouscategory header info offset headerinfooffset category tables categorytables hashtable of object hashtableofobject start query startquery cache user count cacheusercount stop query stopquery cache user count cacheusercount clear cached items cache user count cacheusercount cached chunks cachedchunks category tables categorytables cached category name cachedcategoryname category tables categorytables category tables categorytables element size elementsize hashtable of object hashtableofobject new tables newtables hashtable of object hashtableofobject new tables newtables cached category name cachedcategoryname category tables categorytables cached category name cachedcategoryname category tables categorytables new tables newtables read stream buffer readstreambuffer input stream inputstream stream io exception ioexception shift remaining bytes read fill buffer stream buffer end bufferend stream buffer streambuffer length stream stream left read bytes in buffer bytesinbuffer buffer end bufferend buffer index bufferindex bytes in buffer bytesinbuffer system arraycopy stream buffer streambuffer buffer index bufferindex stream buffer streambuffer bytes in buffer bytesinbuffer buffer end bufferend bytes in buffer bytesinbuffer stream read stream buffer streambuffer bytes in buffer bytesinbuffer buffer index bufferindex buffer index bufferindex reads string data input stream string encoded modified utf format bytes read unsigned number bytes encoded string length string bytes int erpreted interpreted bytes encoding characters utf format converted characters method blocks bytes read stream detected exception thrown param stream data input stream utf decoded string array exception eof exception eofexception data input reached reading exception io exception ioexception error occurs reading data input exception utf data format exception utfdataformatexception bytes represent valid utf encoding unicode string read stream chars readstreamchars input stream inputstream stream io exception ioexception read chars array length stream buffer index bufferindex buffer end bufferend read stream buffer readstreambuffer stream length stream buffer streambuffer buffer index bufferindex xff length stream buffer streambuffer buffer index bufferindex xff fill chars bytes buffer word length length characters decoded ref illing refilling buffer chars in buffer charsinbuffer buffer end bufferend buffer index bufferindex characters buffer stream chars in buffer charsinbuffer length stream buffer end bufferend stream buffer streambuffer length stream chars in buffer charsinbuffer length chars in buffer charsinbuffer stream buffer streambuffer buffer index bufferindex word stream buffer streambuffer buffer index bufferindex utf data format exception utfdataformatexception word stream buffer streambuffer buffer index bufferindex stream buffer streambuffer buffer index bufferindex utf data format exception utfdataformatexception word utf data format exception utfdataformatexception length stream read stream buffer readstreambuffer stream word read stream document array readstreamdocumentarray input stream inputstream stream array size arraysize io exception ioexception indexes array size arraysize array size arraysize indexes document reference size documentreferencesize array size arraysize bytes ref illing refilling buffer bytes in buffer bytesinbuffer buffer end bufferend buffer index bufferindex bytes in buffer bytesinbuffer array size arraysize bytes in buffer bytesinbuffer array size arraysize bytes in buffer bytesinbuffer indexes stream buffer streambuffer buffer index bufferindex xff array size arraysize stream read stream buffer readstreambuffer stream array size arraysize shorts ref illing refilling buffer shorts in buffer shortsinbuffer buffer end bufferend buffer index bufferindex shorts in buffer shortsinbuffer array size arraysize shorts in buffer shortsinbuffer array size arraysize shorts in buffer shortsinbuffer val stream buffer streambuffer buffer index bufferindex xff indexes val stream buffer streambuffer buffer index bufferindex xff array size arraysize stream read stream buffer readstreambuffer stream array size arraysize indexes read stream int readstreamint stream indexes read stream int readstreamint input stream inputstream stream io exception ioexception buffer index bufferindex buffer end bufferend read stream buffer readstreambuffer stream val stream buffer streambuffer buffer index bufferindex xff val stream buffer streambuffer buffer index bufferindex xff val stream buffer streambuffer buffer index bufferindex xff val stream buffer streambuffer buffer index bufferindex xff write all document names writealldocumentnames string sorted doc names sorteddocnames file output stream fileoutputstream stream io exception ioexception sorted doc names sorteddocnames length illegal argument exception illegalargumentexception assume file created initialize from initializefrom stream buffer streambuffer buffer write size buffer index bufferindex stream end streamend order write signature header info offset headerinfooffset place holder comp res sed compressed chunk document names write stream chars writestreamchars stream signature chars header info offset headerinfooffset stream end streamend overwrite correct write stream int writestreamint stream size sorted doc names sorteddocnames length number of chunks numberofchunks size chunk size size of last chunk sizeoflastchunk size chunk size size of last chunk sizeoflastchunk number of chunks numberofchunks size of last chunk sizeoflastchunk chunk size number bytes encode reference document reference size documentreferencesize size size fff chunk offsets chunkoffsets number of chunks numberofchunks last index lastindex number of chunks numberofchunks number of chunks numberofchunks chunk offsets chunkoffsets stream end streamend chunk size chunksize last index lastindex size of last chunk sizeoflastchunk chunk size chunk index chunkindex chunk size string current sorted doc names sorteddocnames chunk index chunkindex write stream chars writestreamchars stream current to char array tochararray chunk size chunksize string sorted doc names sorteddocnames chunk index chunkindex len current length len length max len len len len number identical characters character start current char at charat start char at charat start start current abba abbab max start start start number identical characters current char at charat len char at charat len current abbba abba len start current x abc xabc x yabc xyabc len buffer index bufferindex buffer write size stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex stream buffer streambuffer buffer index bufferindex start stream buffer streambuffer buffer index bufferindex stream end streamend length write stream chars writestreamchars stream start char operation charoperation subarray to char array tochararray start char operation charoperation current start of category tables startofcategorytables stream end streamend write categories writecategories file output stream fileoutputstream stream io exception ioexception category names categorynames category tables categorytables key table keytable object tab les tables category tables categorytables value table valuetable category names categorynames length category names categorynames write category table writecategorytable category names categorynames hashtable of object hashtableofobject tab les tables stream category tables categorytables write category table writecategorytable category name categoryname hashtable of object hashtableofobject words to docs wordstodocs file output stream fileoutputstream stream io exception ioexception format category table document number arrays elements written table offset array remembered number word pairs table written word pair word written array size size array document array array size offset array written prior table large array size largearraysize object values words to docs wordstodocs value table valuetable values length object values int list intlist values int list intlist values as array asarray document numbers documentnumbers document numbers documentnumbers length large array size largearraysize values integer value of valueof stream end streamend write document numbers writedocumentnumbers document numbers documentnumbers stream remember offset start table category offsets categoryoffsets category name categoryname stream end streamend flush cached table category tables categorytables category name categoryname write stream int writestreamint stream words to docs wordstodocs element size elementsize words to docs wordstodocs key table keytable length object values write stream chars writestreamchars stream document numbers documentnumbers document numbers documentnumbers length store array element negating document number documentnumber write stream int writestreamint stream document numbers documentnumbers write document numbers writedocumentnumbers document numbers documentnumbers stream mark identify offset write stream int writestreamint stream large array size largearraysize offset file array document numbers write stream int writestreamint stream integer int value intvalue write document numbers writedocumentnumbers document numbers documentnumbers file output stream fileoutputstream stream io exception ioexception store length positive detect line d lined array element length document numbers documentnumbers length write stream int writestreamint stream length util sort document numbers documentnumbers start document reference size documentreferencesize buffer index bufferindex length start buffer write size document numbers documentnumbers large write buffer write size parts fall write bytes left bytesleft buffer write size buffer index bufferindex bytes left bytesleft stream buffer streambuffer buffer index bufferindex document numbers documentnumbers start stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex start length stream buffer streambuffer buffer index bufferindex document numbers documentnumbers start stream end streamend length buffer index bufferindex length start buffer write size document numbers documentnumbers large write buffer write size parts fall write shorts left shortsleft buffer write size buffer index bufferindex shorts left shortsleft stream buffer streambuffer buffer index bufferindex document numbers documentnumbers start stream buffer streambuffer buffer index bufferindex document numbers documentnumbers start stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex start length stream buffer streambuffer buffer index bufferindex document numbers documentnumbers start stream buffer streambuffer buffer index bufferindex document numbers documentnumbers start stream end streamend length start length write stream int writestreamint stream document numbers documentnumbers start write header info writeheaderinfo file output stream fileoutputstream stream io exception ioexception write stream int writestreamint stream number of chunks numberofchunks buffer index bufferindex buffer write size stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex stream buffer streambuffer buffer index bufferindex size of last chunk sizeoflastchunk stream buffer streambuffer buffer index bufferindex document reference size documentreferencesize stream buffer streambuffer buffer index bufferindex separator stream end streamend apend file chunk offsets number of chunks numberofchunks write stream int writestreamint stream chunk offsets chunkoffsets write stream int writestreamint stream start of category tables startofcategorytables append file category offsets offset pairs offset word doc table write stream int writestreamint stream category offsets categoryoffsets element size elementsize category names categorynames category offsets categoryoffsets key table keytable offsets category offsets categoryoffsets value table valuetable category names categorynames length category names categorynames write stream chars writestreamchars stream category names categorynames write stream int writestreamint stream offsets ensure buffer written stream buffer index bufferindex stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex write offset to header writeoffsettoheader offset to header offsettoheader io exception ioexception offset to header offsettoheader nls random access file randomaccessfile file random access file randomaccessfile index location indexlocation get index file getindexfile offset position header file see k seek header info offset headerinfooffset file write int writeint offset to header offsettoheader update reflect correct offset header info offset headerinfooffset offset to header offsettoheader file close writes string output stream utf encoding machine independent manner bytes array number bytes follow number bytes written length string length character string bytes array sequence utf encoding character entire array written output stream link output stream outputstream write method param array array written exception io exception ioexception error occurs writting bytes array stream write stream chars writestreamchars file output stream fileoutputstream stream array io exception ioexception buffer index bufferindex buffer write size stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex length array length store chars array length bytes stream buffer streambuffer buffer index bufferindex length xff read faster stream buffer streambuffer buffer index bufferindex length xff stream end streamend assuming large flush buffer total bytes needed totalbytesneeded length total bytes needed totalbytesneeded buffer write size buffer index bufferindex total bytes needed totalbytesneeded buffer write size flush buffer room array stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex write stream chars writestreamchars stream array length chars per write charsperwrite buffer write size start start length stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex chars left to write charslefttowrite length start start chars per write charsperwrite chars left to write charslefttowrite chars per write charsperwrite chars left to write charslefttowrite write stream chars writestreamchars stream array start start write stream chars writestreamchars file output stream fileoutputstream stream array start io exception ioexception start checked room start bytes buffer old index oldindex buffer index bufferindex start array start stream buffer streambuffer buffer index bufferindex bits stored stream buffer streambuffer buffer index bufferindex bits stored stream buffer streambuffer buffer index bufferindex bits stored stream buffer streambuffer buffer index bufferindex bits stored stream buffer streambuffer buffer index bufferindex bits stored stream buffer streambuffer buffer index bufferindex stream end streamend buffer index bufferindex old index oldindex write stream int writestreamint file output stream fileoutputstream stream val io exception ioexception buffer index bufferindex buffer write size stream write stream buffer streambuffer buffer index bufferindex buffer index bufferindex stream buffer streambuffer buffer index bufferindex val stream buffer streambuffer buffer index bufferindex val stream buffer streambuffer buffer index bufferindex val stream buffer streambuffer buffer index bufferindex val stream end streamend
copyright bea systems rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors wharley bea initial api implementation org eclipse jdt apt pluggable tests processors filer tester filertester java input stream inputstream java input stream reader inputstreamreader java print writer printwriter java reader java lang reflect invocation target exception invocationtargetexception java lang reflect method java net uri java util arrays java util javax annotation processing abstract processor abstractprocessor javax annotation processing file r filer javax annotation processing processing environment processingenvironment javax annotation processing round environment roundenvironment javax annotation processing supported annotation types supportedannotationtypes javax annotation processing supported options supportedoptions javax annotation processing supported source version supportedsourceversion javax lang model source version sourceversion javax lang model element element javax lang model element type element typeelement javax tools file object fileobject javax tools java file object javafileobject javax tools standard location standardlocation org eclipse jdt apt pluggable tests processor test status processorteststatus org eclipse jdt apt pluggable tests annotations file r test trigger filertesttrigger testing annotation processors j unit junit ide complex test requires processor processors coexist plugin registry processor limited communication ide processor tests j unit junit tests test passing file r test filertest annotation test failures reported message r messager supported annotation types supportedannotationtypes org eclipse jdt apt pluggable tests annotations file r test trigger filertesttrigger supported source version supportedsourceversion source version sourceversion release supported options supportedoptions file r tester proc filertesterproc abstract processor abstractprocessor processing environment processingenvironment processing env processingenv file r filer file r filer string resource file contents filecontents test string resource apt generated test java string resource file contents filecontents test text string resource bin test txt string hello str hellostr string java str javastr nclass string representing large java string large java class largejavaclass string buffer stringbuffer string buffer stringbuffer append append test append string big string bigstring append quick brown dog jumped lazy fox peculiar reversal append append append file big append size append length append append to string tostring javadoc javax annotation processing abstract processor abstractprocessor init javax annotation processing processing environment processingenvironment override init processing environment processingenvironment processing env processingenv init processing env processingenv processing env processingenv processing env processingenv file r filer processing env processingenv get file r getfiler javadoc javax annotation processing abstract processor abstractprocessor process java util javax annotation processing round environment roundenvironment override process type element typeelement annotations round environment roundenvironment round env roundenv processor test status processorteststatus set processor ran setprocessorran round env roundenv processing over processingover annotations is empty isempty annotations round env roundenv perform processing annotation instance determine test method specifies invoke method passing annotated element type element typeelement annotations round environment roundenvironment round env roundenv type element typeelement file r tester anno filertesteranno annotations iterator element annotated els annotatedels round env roundenv get elements annotated with getelementsannotatedwith file r tester anno filertesteranno element annotated el annotatedel annotated els annotatedels file r test trigger filertesttrigger file r tester mirror filertestermirror annotated el annotatedel get annotation getannotation file r test trigger filertesttrigger string test method name testmethodname file r tester mirror filertestermirror test string arg file r tester mirror filertestermirror arg string arg file r tester mirror filertestermirror arg test method name testmethodname test method name testmethodname length method test method testmethod file r tester proc filertesterproc get method getmethod test method name testmethodname element string string test method testmethod invoke annotated el annotatedel arg arg exception throwable invocation target exception invocationtargetexception get cause getcause print stack trace printstacktrace string msg illegal state exception illegalstateexception get message getmessage get class getclass get simple name getsimplename invoking test method test method name testmethodname console details processor test status processorteststatus fail msg attempt existing resource source output test get resource testgetresource element string arg string arg exception file object fileobject resource file r filer get resource getresource standard location standardlocation source output arg arg check resource contents checkresourcecontents resource resource resource file contents filecontents attempt existing resource output test get resource testgetresource element string arg string arg exception file object fileobject resource file r filer get resource getresource standard location standardlocation output arg arg check resource contents checkresourcecontents resource resource resource file contents filecontents attempt create resource source output test create non source file testcreatenonsourcefile element string pkg string rel name relname exception file object fileobject file r filer create resource createresource standard location standardlocation source output pkg rel name relname print writer printwriter print writer printwriter open writer openwriter println close string get name getname to string tostring expect include relative rel name relname processor test status processorteststatus fail file object get name getname returned expected rel name relname attempt create resources parent age parentage href http bugs eclipse org bug test null parents testnullparents element string pkg string rel name relname exception file object fileobject file r filer create resource createresource standard location standardlocation source output pkg rel name relname txt element print writer printwriter print writer printwriter open writer openwriter println close java file object javafileobject jfo file r filer create source file createsourcefile pkg rel name relname element print writer printwriter jfo open writer openwriter println pkg npublic rel name relname close test to uri touri method file objects testuri element string pkg string rel name relname exception generated source file file object fileobject fo gen non src fogennonsrc file r filer create resource createresource standard location standardlocation source output pkg rel name relname check gen uri checkgenuri fo gen non src fogennonsrc rel name relname hello str hellostr generated source file generated source file file object fileobject fo gen src fogensrc file r filer create source file createsourcefile check gen uri checkgenuri fo gen src fogensrc java str javastr generated source file check gen uri checkgenuri file object fileobject string string content string category exception print writer printwriter print writer printwriter open writer openwriter print content close uri uri to uri touri uri to string tostring processor test status processorteststatus fail to uri touri category returned uri to string tostring expected buf reader len input stream reader inputstreamreader uri tourl open stream openstream len read buf close buf arrays copy of copyof buf len arrays equals buf content to char array tochararray processor test status processorteststatus fail to uri touri category returned uri to string tostring reading uri produced string buf expected content attempt existing resource source output test get char content l arg e testgetcharcontentlarge element string arg string arg exception file object fileobject resource file r filer get resource getresource standard location standardlocation source output arg arg char sequence charsequence actual char content actualcharcontent resource get char content getcharcontent string expected contents expectedcontents large java class largejavaclass expected contents expectedcontents equals actual char content actualcharcontent to string tostring system println expected get char content getcharcontent expected contents expectedcontents system println actual get char content getcharcontent returned actual char content actualcharcontent processor test status processorteststatus fail get char content getcharcontent expected contents check resource opened examine d examined contents match link check resource contents checkresourcecontents file object fileobject get resource getresource file contents filecontents check resource contents checkresourcecontents file object fileobject resource string expected name expectedname string expected contents expectedcontents exception mod time modtime resource get last modified getlastmodified mod time modtime processor test status processorteststatus fail resource unexpected mod time mod time modtime string actual name actualname resource get name getname expected name expectedname equals actual name actualname system println resource unexpected expected expected name expectedname actual actual name actualname processor test status processorteststatus fail resource unexpected input stream inputstream stream resource open input stream openinputstream stream processor test status processorteststatus fail stream contained data actual bytes actualbytes length stream read actual bytes actualbytes string actual string contents actualstringcontents string actual bytes actualbytes length expected contents expectedcontents equals actual string contents actualstringcontents system println expected stream contents expected contents expectedcontents system println actual contents actual string contents actualstringcontents processor test status processorteststatus fail stream expected contents stream close actual chars actualchars reader reader resource open reader openreader length reader read actual chars actualchars actual chars actualchars length actual string contents actualstringcontents string actual chars actualchars length expected contents expectedcontents equals actual string contents actualstringcontents system println expected reader contents expected contents expectedcontents system println actual contents actual string contents actualstringcontents processor test status processorteststatus fail reader expected contents reader close char sequence charsequence actual char content actualcharcontent resource get char content getcharcontent expected contents expectedcontents equals actual char content actualcharcontent to string tostring system println expected get char content getcharcontent expected contents expectedcontents system println actual get char content getcharcontent returned actual char content actualcharcontent processor test status processorteststatus fail get char content getcharcontent expected contents
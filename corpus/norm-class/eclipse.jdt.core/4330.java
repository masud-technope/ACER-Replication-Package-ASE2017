copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation stephan herrmann contributions bug warning unboxing single name reference singlenamereference npe bug compiler compiler misidentifies variable bug compiler include syntactic analysis fields bug compiler fup bug consolidate int eraction interaction unboxing npe deferred checking org eclipse jdt internal compiler ast org eclipse jdt internal compiler class fmt classfmt class file constants classfileconstants org eclipse jdt internal compiler codegen org eclipse jdt internal compiler flow org eclipse jdt internal compiler impl compiler options compileroptions org eclipse jdt internal compiler impl constant org eclipse jdt internal compiler lookup org eclipse jdt internal compiler ast visitor astvisitor assert statement assertstatement statement expression assert expression assertexpression exception argument exceptionargument local variable attribute pre assert init state index preassertinitstateindex field binding fieldbinding assert ion synthetic field binding assertionsyntheticfieldbinding assert statement assertstatement expression exception argument exceptionargument expression assert expression assertexpression start position startposition assert expression assertexpression assert expression assertexpression exception argument exceptionargument exception argument exceptionargument source start sourcestart start position startposition source end sourceend exception argument exceptionargument source end sourceend assert statement assertstatement expression assert expression assertexpression start position startposition assert expression assertexpression assert expression assertexpression source start sourcestart start position startposition source end sourceend assert expression assertexpression source end sourceend flow info flowinfo analyse code analysecode block scope blockscope current scope currentscope flow context flowcontext flow context flowcontext flow info flowinfo flow info flowinfo pre assert init state index preassertinitstateindex current scope currentscope method scope methodscope record initialization states recordinitializationstates flow info flowinfo constant cst assert expression assertexpression optimized boolean constant optimizedbooleanconstant assert expression assertexpression checknpebyunboxing current scope currentscope flow context flowcontext flow info flowinfo is optimized true assertion isoptimizedtrueassertion cst constant notaconstant cst boolean value booleanvalue is optimized false assertion isoptimizedfalseassertion cst constant notaconstant cst boolean value booleanvalue flow context flowcontext tag bits tagbits flow context flowcontext hide comparison warning flow info flowinfo condition flow info conditionflowinfo assert expression assertexpression analyse code analysecode current scope currentscope flow context flowcontext flow info flowinfo copy survive statement flow context flowcontext extend time to live for null checked field extendtimetolivefornullcheckedfield flow context flowcontext tag bits tagbits flow context flowcontext hide comparison warning unconditional flow info unconditionalflowinfo assert when true info assertwhentrueinfo condition flow info conditionflowinfo inits when true initswhentrue unconditional inits unconditionalinits flow info flowinfo assert info assertinfo condition flow info conditionflowinfo inits when false initswhenfalse is optimized true assertion isoptimizedtrueassertion assert info assertinfo set reach mode setreachmode flow info flowinfo unreachable dead exception argument exceptionargument eval uated evaluated escaping account flow info flowinfo exception info exceptioninfo exception argument exceptionargument analyse code analysecode current scope currentscope flow context flowcontext assert info assertinfo copy is optimized true assertion isoptimizedtrueassertion current scope currentscope problem reporter problemreporter fake reachable fakereachable exception argument exceptionargument flow context flowcontext check exception handlers checkexceptionhandlers current scope currentscope get java lang assertion error getjavalangassertionerror exception info exceptioninfo current scope currentscope is optimized true assertion isoptimizedtrueassertion add support clinit manage synthetic access if necessary managesyntheticaccessifnecessary current scope currentscope flow info flowinfo account potential assertion error assertionerror flow context flowcontext record abrupt exit recordabruptexit is optimized false assertion isoptimizedfalseassertion assert ions assertions enabled code unreachable flow info flowinfo change carry analysis expression downstream compiler options compileroptions compiler options compileroptions current scope currentscope compiler options compileroptions compiler options compileroptions include null info from asserts includenullinfofromasserts empty info assert info assertinfo doesn t doesnt change flow info flowinfo info flow info flowinfo null info less unconditional copy nullinfolessunconditionalcopy merged with mergedwith assert info assertinfo null info less unconditional copy nullinfolessunconditionalcopy add null info from addnullinfofrom flow info flowinfo flow info flowinfo merged with mergedwith assert info assertinfo null info less unconditional copy nullinfolessunconditionalcopy add initializations from addinitializationsfrom assert when true info assertwhentrueinfo discard initialization info discardinitializationinfo merge initial code definite assignment analysis tweak influence nulls downstream generate code generatecode block scope blockscope current scope currentscope code stream codestream code stream codestream bits is reachable isreachable code stream codestream position assert ion synthetic field binding assertionsyntheticfieldbinding branch label branchlabel assert ion activation label assertionactivationlabel branch label branchlabel code stream codestream code stream codestream field access fieldaccess opcodes opc get static getstatic assert ion synthetic field binding assertionsyntheticfieldbinding declaring class declaringclass code stream codestream ifne assert ion activation label assertionactivationlabel branch label branchlabel false label falselabel assert expression assertexpression generate optimized boolean generateoptimizedboolean current scope currentscope code stream codestream false label falselabel branch label branchlabel code stream codestream code stream codestream new java lang assertion error newjavalangassertionerror code stream codestream dup exception argument exceptionargument exception argument exceptionargument generate code generatecode current scope currentscope code stream codestream code stream codestream invoke java lang assertion error constructor invokejavalangassertionerrorconstructor exception argument exceptionargument implicit conversion implicitconversion code stream codestream invoke java lang assertion error default constructor invokejavalangassertionerrordefaultconstructor code stream codestream athrow loose local variable initial izations initializations local variable attributes pre assert init state index preassertinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope pre assert init state index preassertinitstateindex false label falselabel place assert ion activation label assertionactivationlabel place loose local variable initial izations initializations local variable attributes pre assert init state index preassertinitstateindex code stream codestream remove not definitely assigned variables removenotdefinitelyassignedvariables current scope currentscope pre assert init state index preassertinitstateindex code stream codestream record positions from recordpositionsfrom source start sourcestart resolve block scope blockscope scope assert expression assertexpression resolve type expecting resolvetypeexpecting scope type binding typebinding exception argument exceptionargument type binding typebinding exception argument type exceptionargumenttype exception argument exceptionargument resolve type resolvetype scope exception argument type exceptionargumenttype exception argument type exceptionargumenttype scope problem reporter problemreporter illegal void expression illegalvoidexpression exception argument exceptionargument fall java lang object javalangobject fall java lang string javalangstring exception argument exceptionargument implicit conversion implicitconversion traverse ast visitor astvisitor visitor block scope blockscope scope visitor visit scope assert expression assertexpression traverse visitor scope exception argument exceptionargument exception argument exceptionargument traverse visitor scope visitor end visit endvisit scope manage synthetic access if necessary managesyntheticaccessifnecessary block scope blockscope current scope currentscope flow info flowinfo flow info flowinfo flow info flowinfo tag bits tagbits flow info flowinfo unreachable dead assert ion assertion flag assert ions disabled assertionsdisabled source clas member outer most outermost member bug source type binding sourcetypebinding outer most class outermostclass current scope currentscope enclosing source type enclosingsourcetype outer most class outermostclass is local type islocaltype reference binding referencebinding enclosing outer most class outermostclass enclosing type enclosingtype enclosing enclosing is interface isinterface outer most class outermostclass source type binding sourcetypebinding enclosing assert ion synthetic field binding assertionsyntheticfieldbinding outer most class outermostclass add synthetic field for assert addsyntheticfieldforassert current scope currentscope find clinit enable assert ion assertion support type declaration typedeclaration type declaration typedeclaration outer most class outermostclass scope reference type referencetype abstract method declaration abstractmethoddeclaration methods type declaration typedeclaration methods max methods length max abstract method declaration abstractmethoddeclaration method methods method is clinit isclinit clinit method set assertion support setassertionsupport assert ion synthetic field binding assertionsyntheticfieldbinding current scope currentscope compiler options compileroptions source level sourcelevel class file constants classfileconstants jdk string buffer stringbuffer print statement printstatement tab string buffer stringbuffer output print indent printindent tab output nls output append assert expression assertexpression print expression printexpression output exception argument exceptionargument nls output append exception argument exceptionargument print expression printexpression output output append
copyright ibm corporation rights reserved program accompanying materials terms common license accompanies distribution http eclipse org legal cpl html contributors ibm corporation initial api implementation org eclipse jdt internal compiler parser internal field structure parsing recovery org eclipse jdt internal compiler ast array type reference arraytypereference org eclipse jdt internal compiler ast ast node astnode org eclipse jdt internal compiler ast expression org eclipse jdt internal compiler ast field declaration fielddeclaration org eclipse jdt internal compiler ast statement org eclipse jdt internal compiler ast type declaration typedeclaration recovered field recoveredfield recovered element recoveredelement field declaration fielddeclaration field declaration fielddeclaration already completed field initialization alreadycompletedfieldinitialization recovered type recoveredtype anonymous types anonymoustypes anonymous type count anonymoustypecount recovered field recoveredfield field declaration fielddeclaration field declaration fielddeclaration recovered element recoveredelement parent bracket balance bracketbalance field declaration fielddeclaration parent bracket balance bracketbalance recovered field recoveredfield field declaration fielddeclaration field declaration fielddeclaration recovered element recoveredelement parent bracket balance bracketbalance parser parser parent bracket balance bracketbalance parser field declaration fielddeclaration field declaration fielddeclaration already completed field initialization alreadycompletedfieldinitialization field declaration fielddeclaration initialization record expression statement field expecting initialization expression completion field initializers recovered element recoveredelement add statement statement bracket balance value bracketbalancevalue already completed field initialization alreadycompletedfieldinitialization statement expression add statement bracket balance value bracketbalancevalue already completed field initialization alreadycompletedfieldinitialization field declaration fielddeclaration initialization expression statement field declaration fielddeclaration declaration source end declarationsourceend statement source end sourceend field declaration fielddeclaration declaration end declarationend statement source end sourceend record type declaration field expecting initialization expression type anonymous type completion field initializers recovered element recoveredelement add type declaration typedeclaration type declaration typedeclaration bracket balance value bracketbalancevalue already completed field initialization alreadycompletedfieldinitialization type declaration typedeclaration bits ast node astnode isanonymoustypemask field declaration fielddeclaration declaration source end declarationsourceend type declaration typedeclaration source start sourcestart field declaration fielddeclaration declaration source end declarationsourceend add type declaration typedeclaration bracket balance value bracketbalancevalue prepare anonymous type list anonymous types anonymoustypes anonymous types anonymoustypes recovered type recoveredtype anonymous type count anonymoustypecount anonymous type count anonymoustypecount anonymous types anonymoustypes length system arraycopy anonymous types anonymoustypes anonymous types anonymoustypes recovered type recoveredtype anonymous type count anonymoustypecount anonymous type count anonymoustypecount store type declaration anonymous type recovered type recoveredtype element recovered type recoveredtype type declaration typedeclaration bracket balance value bracketbalancevalue anonymous types anonymoustypes anonymous type count anonymoustypecount element element answer parsed structure ast node astnode parse tree parsetree field declaration fielddeclaration answer source parse node source end sourceend field declaration fielddeclaration declaration source end declarationsourceend string to string tostring tab string buffer stringbuffer buffer string buffer stringbuffer tab string tabstring tab nls buffer append recovered field field declaration fielddeclaration print tab buffer anonymous types anonymoustypes anonymous type count anonymoustypecount nls buffer append buffer append anonymous types anonymoustypes to string tostring tab buffer to string tostring field declaration fielddeclaration updated field declaration updatedfielddeclaration anonymous types anonymoustypes field declaration fielddeclaration initialization anonymous type count anonymoustypecount anonymous types anonymoustypes preserve content preservecontent field declaration fielddeclaration initialization anonymous types anonymoustypes updated type declaration updatedtypedeclaration allocation anonymous type count anonymoustypecount field declaration fielddeclaration bits ast node astnode haslocaltypemask field declaration fielddeclaration closing brace consumed closed current element current element currentelement exited fields braces matches update parent recovered element recoveredelement update on closing brace updateonclosingbrace brace start bracestart brace end braceend array initializer bracket balance bracketbalance bracket balance bracketbalance bracket balance bracketbalance already completed field initialization alreadycompletedfieldinitialization bracket balance bracketbalance already completed field initialization alreadycompletedfieldinitialization update source end if necessary updatesourceendifnecessary brace end braceend parent parent update on closing brace updateonclosingbrace brace start bracestart brace end braceend opening brace consumed expected opening current element body start bodystart updated recovered element recoveredelement update on opening brace updateonopeningbrace brace start bracestart brace end braceend field declaration fielddeclaration declaration source end declarationsourceend field declaration fielddeclaration type array type reference arraytypereference already completed field initialization alreadycompletedfieldinitialization bracket balance bracketbalance update array initializer array initializer update source end if necessary updatesourceendifnecessary brace start bracestart brace end braceend parent update on opening brace updateonopeningbrace brace start bracestart brace end braceend update parse tree updateparsetree updated field declaration updatedfielddeclaration update declaration source end declarationsourceend parse node update source end if necessary updatesourceendifnecessary body start bodystart body end bodyend field declaration fielddeclaration declaration source end declarationsourceend field declaration fielddeclaration declaration source end declarationsourceend body end bodyend field declaration fielddeclaration declaration end declarationend body end bodyend
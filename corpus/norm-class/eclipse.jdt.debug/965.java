copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation jesper steen moller bug org eclipse jdt internal debug eval ast engine java util collection java util collections java util hash map hashmap java util iterator java util list java util map java util stack org eclipse jdt core flags org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core source range sourcerange org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom abstract type declaration abstracttypedeclaration org eclipse jdt core dom annotation type declaration annotationtypedeclaration org eclipse jdt core dom annotation type member declaration annotationtypememberdeclaration org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom array access arrayaccess org eclipse jdt core dom array creation arraycreation org eclipse jdt core dom array initializer arrayinitializer org eclipse jdt core dom array type arraytype org eclipse jdt core dom assert statement assertstatement org eclipse jdt core dom assignment org eclipse jdt core dom block org eclipse jdt core dom block comment blockcomment org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom boolean literal booleanliteral org eclipse jdt core dom break statement breakstatement org eclipse jdt core dom cast expression castexpression org eclipse jdt core dom catch clause catchclause org eclipse jdt core dom character literal characterliteral org eclipse jdt core dom class instance creation classinstancecreation org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom conditional expression conditionalexpression org eclipse jdt core dom constructor invocation constructorinvocation org eclipse jdt core dom continue statement continuestatement org eclipse jdt core dom do statement dostatement org eclipse jdt core dom empty statement emptystatement org eclipse jdt core dom enhanced for statement enhancedforstatement org eclipse jdt core dom enum constant declaration enumconstantdeclaration org eclipse jdt core dom enum declaration enumdeclaration org eclipse jdt core dom expression statement expressionstatement org eclipse jdt core dom field access fieldaccess org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom for statement forstatement org eclipse jdt core dom if statement ifstatement org eclipse jdt core dom import declaration importdeclaration org eclipse jdt core dom infix expression infixexpression org eclipse jdt core dom initializer org eclipse jdt core dom instanceof expression instanceofexpression org eclipse jdt core dom javadoc org eclipse jdt core dom labeled statement labeledstatement org eclipse jdt core dom line comment linecomment org eclipse jdt core dom marker annotation markerannotation org eclipse jdt core dom member ref memberref org eclipse jdt core dom member value pair membervaluepair org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom method invocation methodinvocation org eclipse jdt core dom method ref methodref org eclipse jdt core dom method ref parameter methodrefparameter org eclipse jdt core dom modifier org eclipse jdt core dom org eclipse jdt core dom normal annotation normalannotation org eclipse jdt core dom null literal nullliteral org eclipse jdt core dom number literal numberliteral org eclipse jdt core dom package declaration packagedeclaration org eclipse jdt core dom parameterized type parameterizedtype org eclipse jdt core dom parenthesized expression parenthesizedexpression org eclipse jdt core dom postfix expression postfixexpression org eclipse jdt core dom prefix expression prefixexpression org eclipse jdt core dom primitive type primitivetype org eclipse jdt core dom qualified name qualifiedname org eclipse jdt core dom qualified type qualifiedtype org eclipse jdt core dom return statement returnstatement org eclipse jdt core dom simple name simplename org eclipse jdt core dom simple type simpletype org eclipse jdt core dom single member annotation singlememberannotation org eclipse jdt core dom single variable declaration singlevariabledeclaration org eclipse jdt core dom string literal stringliteral org eclipse jdt core dom super constructor invocation superconstructorinvocation org eclipse jdt core dom super field access superfieldaccess org eclipse jdt core dom super method invocation supermethodinvocation org eclipse jdt core dom switch case switchcase org eclipse jdt core dom switch statement switchstatement org eclipse jdt core dom synchronized statement synchronizedstatement org eclipse jdt core dom tag element tagelement org eclipse jdt core dom text element textelement org eclipse jdt core dom this expression thisexpression org eclipse jdt core dom throw statement throwstatement org eclipse jdt core dom try statement trystatement org eclipse jdt core dom type org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom type declaration statement typedeclarationstatement org eclipse jdt core dom type literal typeliteral org eclipse jdt core dom type parameter typeparameter org eclipse jdt core dom union type uniontype org eclipse jdt core dom variable declaration expression variabledeclarationexpression org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom variable declaration statement variabledeclarationstatement org eclipse jdt core dom while statement whilestatement org eclipse jdt core dom wildcard type wildcardtype org eclipse jdt internal debug core jdi debug plugin jdidebugplugin source based source generator sourcebasedsourcegenerator ast visitor astvisitor nls string method nls string eval method eval nls string eval field field string f local variable type names flocalvariabletypenames string f local variable names flocalvariablenames string f code snippet fcodesnippet f right type found frighttypefound f create in static method fcreateinastaticmethod f evaluate next end type declaration fevaluatenextendtypedeclaration string f error ferror i type itype f type ftype f line fline string buffer stringbuffer f source fsource string f last type name flasttypename string f compilation unit name fcompilationunitname f snippet start position fsnippetstartposition f run method start offset frunmethodstartoffset f run method length frunmethodlength level source code generate major minor f source major level fsourcemajorlevel f source minor level fsourceminorlevel stack map string string f type parameter stack ftypeparameterstack stack map string string map string string f matching type parameters fmatchingtypeparameters compilation unit compilationunit f compilation unit fcompilationunit f type parameter stack ftypeparameterstack push collections string string empty map emptymap code create in an instance method createinaninstancemethod code flag method created code snippet method code position code method param type root link i type itype param source position sourceposition reference position type source param create in static method createinastaticmethod source generated param local types names localtypesnames array local type names param local variables localvariables listing local variable names param code snippet codesnippet code snippet param source level sourcelevel desired source level source based source generator sourcebasedsourcegenerator i type itype type create in static method createinastaticmethod string local types names localtypesnames string local variables localvariables string code snippet codesnippet string source level sourcelevel f right type found frighttypefound f type ftype type f line fline f local variable type names flocalvariabletypenames local types names localtypesnames f local variable names flocalvariablenames local variables localvariables f code snippet fcodesnippet code snippet codesnippet f create in static method fcreateinastaticmethod create in static method createinastaticmethod source level sourcelevel index of indexof string num source level sourcelevel substring f source major level fsourcemajorlevel integer value of valueof num int value intvalue num source level sourcelevel substring f source minor level fsourceminorlevel integer value of valueof num int value intvalue returns generated source code code source generated returns backing source generator string get source getsource f source fsource f source fsource to string tostring string get compilation unit name getcompilationunitname f compilation unit name fcompilationunitname get snippet start getsnippetstart f snippet start position fsnippetstartposition get run method start getrunmethodstart f snippet start position fsnippetstartposition f run method start offset frunmethodstartoffset get run method length getrunmethodlength f run method length frunmethodlength right type found righttypefound f right type found frighttypefound set right type found setrighttypefound f right type found frighttypefound has error haserror f error ferror set error seterror string error desc errordesc f error ferror error desc errordesc string get error geterror f error ferror string buffer stringbuffer build run method buildrunmethod list body declaration bodydeclaration body declarations bodydeclarations string buffer stringbuffer buffer string buffer stringbuffer f create in static method fcreateinastaticmethod nls buffer append add d type parameters adddtypeparameters buffer nls buffer append buffer append get unique method name getuniquemethodname method body declarations bodydeclarations buffer append length f local variable names flocalvariablenames length length buffer append get dot name getdotname f local variable type names flocalvariabletypenames buffer append buffer append f local variable names flocalvariablenames length nls buffer append nls nls buffer append throwable buffer append f snippet start position fsnippetstartposition buffer length f run method start offset frunmethodstartoffset f snippet start position fsnippetstartposition string code snippet codesnippet string f code snippet fcodesnippet trim buffer append code snippet codesnippet buffer append buffer append append f run method length frunmethodlength buffer length buffer string get dot name getdotname string type name typename type name typename replace adds type parameters needed buffer param buffer add d type parameters adddtypeparameters string buffer stringbuffer buffer is source level greater or equal issourcelevelgreaterorequal collection string active type parameters activetypeparameters f matching type parameters fmatchingtypeparameters f matching type parameters fmatchingtypeparameters f type parameter stack ftypeparameterstack peek values active type parameters activetypeparameters is empty isempty iterator string iterator active type parameters activetypeparameters iterator buffer append signature start iterator has next hasnext string iterator buffer append iterator has next hasnext nls buffer append buffer append signature buffer append returns link ast node astnode correct parent type match current type context param node link ast node astnode check source ranges parent type node matches current type context is right type isrighttype ast node astnode node node get node type getnodetype ast node astnode annotation type declaration ast node astnode enum declaration ast node astnode type declaration abstract type declaration abstracttypedeclaration decl abstract type declaration abstracttypedeclaration node simple name simplename decl get name getname i source range isourcerange range source range sourcerange get start position getstartposition get length getlength f type ftype get name range getnamerange equals range ast node astnode anonymous declaration is right type isrighttype node get parent getparent ast node astnode instance creation class instance creation classinstancecreation decl class instance creation classinstancecreation node type type decl get type gettype i source range isourcerange f type ftype get name range getnamerange get offset getoffset type get start position getstartposition get offset getoffset get length getlength type get start position getstartposition type get length getlength java model exception javamodelexception jme jdi debug plugin jdidebugplugin log jme string buffer stringbuffer build type body buildtypebody string buffer stringbuffer buffer list body declaration bodydeclaration list string buffer stringbuffer source string buffer stringbuffer source append append buffer f snippet start position fsnippetstartposition source length source append build body buildbody buffer list source append append source string buffer stringbuffer build enum body buildenumbody string buffer stringbuffer buffer list enum constant declaration enumconstantdeclaration constant declarations constantdeclarations list body declaration bodydeclaration body declarations bodydeclarations string buffer stringbuffer source string buffer stringbuffer source append append constant declarations constantdeclarations is empty isempty source append append iterator enum constant declaration enumconstantdeclaration iter constant declarations constantdeclarations iterator iter has next hasnext source append iter get name getname get identifier getidentifier iter has next hasnext source append source append source append buffer f snippet start position fsnippetstartposition source length source append build body buildbody buffer body declarations bodydeclarations source append append source builds buffer source link body declaration bodydeclaration list param buffer buffer clone append param list list link body declaration bodydeclaration source buffer string buffer stringbuffer build body buildbody string buffer stringbuffer buffer list body declaration bodydeclaration list string buffer stringbuffer source string buffer stringbuffer buffer f snippet start position fsnippetstartposition source length source append buffer to string tostring iterator body declaration bodydeclaration iterator list iterator iterator has next hasnext body declaration bodydeclaration body declaration bodydeclaration iterator body declaration bodydeclaration field declaration fielddeclaration source append build field declaration buildfielddeclaration field declaration fielddeclaration body declaration bodydeclaration body declaration bodydeclaration method declaration methoddeclaration source append build method declaration buildmethoddeclaration method declaration methoddeclaration body declaration bodydeclaration body declaration bodydeclaration type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration body declaration bodydeclaration type declaration typedeclaration get name getname get identifier getidentifier equals f last type name flasttypename source append build type declaration buildtypedeclaration type declaration typedeclaration body declaration bodydeclaration enum declaration enumdeclaration enum declaration enumdeclaration enum declaration enumdeclaration enum declaration enumdeclaration body declaration bodydeclaration enum declaration enumdeclaration get name getname get identifier getidentifier equals f last type name flasttypename source append build enum declaration buildenumdeclaration enum declaration enumdeclaration source string buffer stringbuffer build field declaration buildfielddeclaration field declaration fielddeclaration field declaration fielddeclaration string buffer stringbuffer source string buffer stringbuffer source append flags to string tostring field declaration fielddeclaration get modifiers getmodifiers source append source append get dot name getdotname get type name gettypename field declaration fielddeclaration get type gettype source append iterator variable declaration fragment variabledeclarationfragment iterator field declaration fielddeclaration fragments iterator iterator has next hasnext variable declaration fragment variabledeclarationfragment variable declaration fragment variabledeclarationfragment iterator source append source append variable declaration fragment variabledeclarationfragment get name getname get identifier getidentifier dim variable declaration fragment variabledeclarationfragment get extra dimensions getextradimensions dim source append append source append append source string buffer stringbuffer build method declaration buildmethoddeclaration method declaration methoddeclaration method declaration methoddeclaration string buffer stringbuffer source string buffer stringbuffer modifiers method declaration methoddeclaration get modifiers getmodifiers source append flags to string tostring modifiers source append append type parameters appendtypeparameters source method declaration methoddeclaration type parameters typeparameters is constructor isconstructor method declaration methoddeclaration is constructor isconstructor is constructor isconstructor source append get dot name getdotname get type name gettypename method declaration methoddeclaration get return type getreturntype source append source append method declaration methoddeclaration get name getname get identifier getidentifier source append append iterator single variable declaration singlevariabledeclaration iterator method declaration methoddeclaration parameters iterator iterator has next hasnext single variable declaration singlevariabledeclaration single variable declaration singlevariabledeclaration iterator source append source append get dot name getdotname get type name gettypename single variable declaration singlevariabledeclaration get type gettype single variable declaration singlevariabledeclaration is varargs isvarargs nls source append nls source append source append single variable declaration singlevariabledeclaration get name getname get identifier getidentifier append extra dimensions appendextradimensions source single variable declaration singlevariabledeclaration get extra dimensions getextradimensions source append append extra dimensions appendextradimensions source method declaration methoddeclaration get extra dimensions getextradimensions iterator iterator method declaration methoddeclaration thrown exceptions thrownexceptions iterator iterator has next hasnext iterator nls source append nls source append source append get qualified identifier getqualifiedidentifier flags is abstract isabstract modifiers flags is native isnative modifiers body methods nls source append source append append is constructor isconstructor source append get return expression getreturnexpression method declaration methoddeclaration get return type getreturntype source append append source append extra dimensions appendextradimensions string buffer stringbuffer source extra dimension extradimension extra dimension extradimension source append extra dimension extradimension nls source append nls string buffer stringbuffer build enum declaration buildenumdeclaration string buffer stringbuffer buffer enum declaration enumdeclaration enum declaration enumdeclaration string buffer stringbuffer source string buffer stringbuffer source append flags to string tostring enum declaration enumdeclaration get modifiers getmodifiers nls source append enum source append enum declaration enumdeclaration get name getname get identifier getidentifier iterator type iterator enum declaration enumdeclaration super interface types superinterfacetypes iterator iterator has next hasnext nls source append source append get type name gettypename iterator iterator has next hasnext source append source append get type name gettypename iterator buffer f snippet start position fsnippetstartposition source length source append build enum body buildenumbody buffer enum declaration enumdeclaration enum constants enumconstants enum declaration enumdeclaration body declarations bodydeclarations source string buffer stringbuffer build type declaration buildtypedeclaration string buffer stringbuffer buffer type declaration typedeclaration type declaration typedeclaration string buffer stringbuffer source string buffer stringbuffer source append flags to string tostring type declaration typedeclaration get modifiers getmodifiers type declaration typedeclaration is interface isinterface nls source append nls source append source append type declaration typedeclaration get name getname get identifier getidentifier list type parameter typeparameter type parameters typeparameters type declaration typedeclaration type parameters typeparameters type parameters typeparameters is empty isempty is source level greater or equal issourcelevelgreaterorequal source append iterator type parameter typeparameter iter type parameters typeparameters iterator type parameter typeparameter type parameter typeparameter iter source append type parameter typeparameter get name getname get identifier getidentifier list type type bounds typebounds type parameter typeparameter type bounds typebounds type bounds typebounds is empty isempty nls source append nls iterator type iter type bounds typebounds iterator source append get type name gettypename iter iter has next hasnext source append source append get type name gettypename iter iter has next hasnext source append type parameter typeparameter iter source append type parameter typeparameter get name getname get identifier getidentifier type bounds typebounds type parameter typeparameter type bounds typebounds type bounds typebounds is empty isempty nls source append nls iterator type iter type bounds typebounds iterator source append get type name gettypename iter iter has next hasnext source append source append get type name gettypename iter source append type super class superclass type declaration typedeclaration get superclass type getsuperclasstype super class superclass nls source append source append get type name gettypename super class superclass iterator type iter type declaration typedeclaration super interface types superinterfacetypes iterator iter has next hasnext type declaration typedeclaration is interface isinterface nls source append nls nls source append nls source append get type name gettypename iter iter has next hasnext source append source append get type name gettypename iter buffer f snippet start position fsnippetstartposition source length source append build type body buildtypebody buffer type declaration typedeclaration body declarations bodydeclarations source string buffer stringbuffer build compilation unit buildcompilationunit string buffer stringbuffer buffer compilation unit compilationunit compilation unit compilationunit string buffer stringbuffer source string buffer stringbuffer package declaration packagedeclaration package declaration packagedeclaration compilation unit compilationunit get package getpackage package declaration packagedeclaration nls source append source append get qualified identifier getqualifiedidentifier package declaration packagedeclaration get name getname nls source append iterator import declaration importdeclaration iterator compilation unit compilationunit imports iterator iterator has next hasnext import declaration importdeclaration import declaration importdeclaration iterator nls source append import declaration importdeclaration is static isstatic nls source append nls source append get qualified identifier getqualifiedidentifier import declaration importdeclaration get name getname import declaration importdeclaration is on demand isondemand nls source append nls nls source append f snippet start position fsnippetstartposition source length source append buffer iterator type declaration typedeclaration iterator compilation unit compilationunit types iterator iterator has next hasnext abstract type declaration abstracttypedeclaration type declaration typedeclaration iterator flags is public ispublic type declaration typedeclaration get modifiers getmodifiers f compilation unit name fcompilationunitname type declaration typedeclaration get name getname get identifier getidentifier f last type name flasttypename equals type declaration typedeclaration get name getname get identifier getidentifier type declaration typedeclaration type declaration typedeclaration source append build type declaration buildtypedeclaration type declaration typedeclaration type declaration typedeclaration type declaration typedeclaration enum declaration enumdeclaration source append build enum declaration buildenumdeclaration enum declaration enumdeclaration type declaration typedeclaration f compilation unit name fcompilationunitname compilation unit doesn matter nls f compilation unit name fcompilationunitname eval source returns method unique generated source generated base name basename characters duplicate existing method param method name methodname method param body declarations bodydeclarations listing link body declaration bodydeclaration search unique method string get unique method name getuniquemethodname string method name methodname list body declaration bodydeclaration body declarations bodydeclarations iterator body declaration bodydeclaration iter body declarations bodydeclarations iterator body declaration bodydeclaration body declaration bodydeclaration method declaration methoddeclaration method string found name foundname iter has next hasnext body declaration bodydeclaration iter body declaration bodydeclaration method declaration methoddeclaration method method declaration methoddeclaration body declaration bodydeclaration found name foundname method get name getname get identifier getidentifier found name foundname starts with startswith method name methodname method name methodname found name foundname method name methodname returns field unique generated source generated base name basename characters duplicate existing method param field name fieldname field param body declarations bodydeclarations list link body declaration bodydeclaration search unique field string get unique field name getuniquefieldname string field name fieldname list body declaration bodydeclaration body declarations bodydeclarations iterator body declaration bodydeclaration iter body declarations bodydeclarations iterator body declaration bodydeclaration body declaration bodydeclaration field declaration fielddeclaration field declaration fielddeclaration string found name foundname iter has next hasnext body declaration bodydeclaration iter body declaration bodydeclaration field declaration fielddeclaration field declaration fielddeclaration field declaration fielddeclaration body declaration bodydeclaration iterator variable declaration fragment variabledeclarationfragment iterator field declaration fielddeclaration fragments iterator iterator has next hasnext found name foundname iterator get name getname get identifier getidentifier found name foundname starts with startswith field name fieldname field name fieldname found name foundname field name fieldname string get qualified identifier getqualifiedidentifier nls string type name typename is qualified name isqualifiedname qualified name qualifiedname qualified name qualifiedname qualified name qualifiedname nls type name typename qualified name qualifiedname get name getname get identifier getidentifier type name typename qualified name qualifiedname get qualifier getqualifier is simple name issimplename type name typename simple name simplename get identifier getidentifier type name typename type name typename string get type name gettypename type type type is simple type issimpletype string get qualified identifier getqualifiedidentifier simple type simpletype type get name getname is source level greater or equal issourcelevelgreaterorequal f type parameter stack ftypeparameterstack peek contains key containskey nls object type is array type isarraytype nls get type name gettypename array type arraytype type get component type getcomponenttype type is primitive type isprimitivetype primitive type primitivetype type get primitive type code getprimitivetypecode to string tostring type is qualified type isqualifiedtype qualified type qualifiedtype qualified type qualifiedtype qualified type qualifiedtype type get type name gettypename qualified type qualifiedtype get qualifier getqualifier qualified type qualifiedtype get name getname get identifier getidentifier type is parameterized type isparameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype parameterized type parameterizedtype type string buffer stringbuffer buf f buff string buffer stringbuffer get type name gettypename parameterized type parameterizedtype get type gettype iterator type iter parameterized type parameterizedtype type arguments typearguments iterator iter has next hasnext is source level greater or equal issourcelevelgreaterorequal buf f buff append buf f buff append get type name gettypename iter iter has next hasnext buf f buff append buf f buff append get type name gettypename iter buf f buff append buf f buff to string tostring type is wildcard type iswildcardtype wildcard type wildcardtype wildcard type wildcardtype wildcard type wildcardtype type nls string buffer stringbuffer buf f buff string buffer stringbuffer type bound wildcard type wildcardtype get bound getbound bound nls nls buf f buff append wildcard type wildcardtype is upper bound isupperbound buf f buff append get type name gettypename bound buf f buff to string tostring string get return expression getreturnexpression type type type is simple type issimpletype type is array type isarraytype type is qualified type isqualifiedtype type is wildcard type iswildcardtype type is parameterized type isparameterizedtype nls type is primitive type isprimitivetype string type name typename primitive type primitivetype type get primitive type code getprimitivetypecode to string tostring type name typename char at charat nls type name typename char at charat nls ast visitor astvisitor end visit endvisit class instance creation classinstancecreation override end visit endvisit class instance creation classinstancecreation node has error haserror anonymous class declaration anonymousclassdeclaration anonymous class declaration anonymousclassdeclaration node get anonymous class declaration getanonymousclassdeclaration anonymous class declaration anonymousclassdeclaration right type found righttypefound is right type isrighttype node set right type found setrighttypefound f source fsource build run method buildrunmethod anonymous class declaration anonymousclassdeclaration body declarations bodydeclarations f evaluate next end type declaration fevaluatenextendtypedeclaration right type found righttypefound list body declaration bodydeclaration body declarations bodydeclarations anonymous class declaration anonymousclassdeclaration body declarations bodydeclarations string buffer stringbuffer source build type body buildtypebody f source fsource body declarations bodydeclarations ast node astnode parent node get parent getparent parent method declaration methoddeclaration parent field declaration fielddeclaration parent initializer parent parent parent get parent getparent f source fsource string buffer stringbuffer parent initializer build anonymous eval method buildanonymousevalmethod body declarations bodydeclarations get type name gettypename node get type gettype source parent method declaration methoddeclaration method declaration methoddeclaration enclosing method declaration enclosingmethoddeclaration method declaration methoddeclaration parent build anonymous eval method buildanonymousevalmethod flags is static isstatic enclosing method declaration enclosingmethoddeclaration get modifiers getmodifiers body declarations bodydeclarations get type name gettypename node get type gettype source parent field declaration fielddeclaration field declaration fielddeclaration enclosing field declaration enclosingfielddeclaration field declaration fielddeclaration parent flags is static isstatic enclosing field declaration enclosingfielddeclaration get modifiers getmodifiers nls f source fsource append nls type type get parent type getparenttype enclosing field declaration enclosingfielddeclaration get type gettype f source fsource append get qualified identifier getqualifiedidentifier simple type simpletype type get name getname f source fsource append f source fsource append get unique field name getuniquefieldname eval field body declarations bodydeclarations nls f source fsource append nls f source fsource append get type name gettypename node get type gettype nls f source fsource append nls f snippet start position fsnippetstartposition f source fsource length f source fsource append source nls f source fsource append nls nls f last type name flasttypename nls create code eval code method link body declaration bodydeclaration type existing body source anonymous link class instance creation classinstancecreation visited method adds code eval code method source root link f source fsource variable param is static isstatic keyword code code method source param body decls bodydecls existing listing link body declaration bodydeclaration creating code eval code method param typename raw type type instantiate code eval code method param body existing body source append remainder method build anonymous eval method buildanonymousevalmethod is static isstatic list body declaration bodydeclaration body decls bodydecls string typename string buffer stringbuffer body is static isstatic nls f source fsource append add d type parameters adddtypeparameters f source fsource nls f source fsource append f source fsource append get unique method name getuniquemethodname eval method body decls bodydecls nls f source fsource append nls f source fsource append f source fsource append typename nls f source fsource append f snippet start position fsnippetstartposition f source fsource length f source fsource append body nls f source fsource append recursively finds parent link type type cases type link array type arraytype link parameterized type parameterizedtype param type link type parent link type type get parent type getparenttype type type type array type arraytype get parent type getparenttype array type arraytype type get component type getcomponenttype type parameterized type parameterizedtype get parent type getparenttype parameterized type parameterizedtype type get type gettype type ast visitor astvisitor end visit endvisit compilation unit compilationunit override end visit endvisit compilation unit compilationunit node has error haserror type has n hasn right type found righttypefound f source fsource f source fsource build compilation unit buildcompilationunit f source fsource node javadoc org eclipse jdt core dom ast visitor astvisitor end visit endvisit org eclipse jdt core dom enum declaration enumdeclaration override end visit endvisit enum declaration enumdeclaration node has error haserror right type found righttypefound is right type isrighttype node set right type found setrighttypefound f source fsource build run method buildrunmethod node body declarations bodydeclarations f evaluate next end type declaration fevaluatenextendtypedeclaration f evaluate next end type declaration fevaluatenextendtypedeclaration f evaluate next end type declaration fevaluatenextendtypedeclaration right type found righttypefound string buffer stringbuffer source build enum declaration buildenumdeclaration f source fsource node node is local type declaration islocaltypedeclaration enclose method ast node astnode parent node get parent getparent parent method declaration methoddeclaration parent parent get parent getparent method declaration methoddeclaration enclosing method declaration enclosingmethoddeclaration method declaration methoddeclaration parent f source fsource string buffer stringbuffer flags is static isstatic enclosing method declaration enclosingmethoddeclaration get modifiers getmodifiers nls f source fsource append nls nls f source fsource append nls eval f snippet start position fsnippetstartposition f source fsource length f source fsource append source nls f source fsource append nls nls f last type name flasttypename nls f source fsource source f last type name flasttypename node get name getname get identifier getidentifier javadoc org eclipse jdt core dom ast visitor astvisitor end visit endvisit org eclipse jdt core dom method declaration methoddeclaration override end visit endvisit method declaration methoddeclaration node f type parameter stack ftypeparameterstack pop ast visitor astvisitor end visit endvisit type declaration typedeclaration override end visit endvisit type declaration typedeclaration node has error haserror f type parameter stack ftypeparameterstack pop right type found righttypefound is right type isrighttype node set right type found setrighttypefound f source fsource build run method buildrunmethod node body declarations bodydeclarations f evaluate next end type declaration fevaluatenextendtypedeclaration f evaluate next end type declaration fevaluatenextendtypedeclaration f evaluate next end type declaration fevaluatenextendtypedeclaration f type parameter stack ftypeparameterstack pop right type found righttypefound string buffer stringbuffer source build type declaration buildtypedeclaration f source fsource node node is local type declaration islocaltypedeclaration enclose method nessecary ast node astnode parent node get parent getparent parent method declaration methoddeclaration parent parent get parent getparent method declaration methoddeclaration enclosing method declaration enclosingmethoddeclaration method declaration methoddeclaration parent f source fsource string buffer stringbuffer flags is static isstatic enclosing method declaration enclosingmethoddeclaration get modifiers getmodifiers nls f source fsource append nls nls f source fsource append nls eval f snippet start position fsnippetstartposition f source fsource length f source fsource append source nls f source fsource append nls nls f last type name flasttypename nls f source fsource source f last type name flasttypename node get name getname get identifier getidentifier f type parameter stack ftypeparameterstack pop javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom annotation type declaration annotationtypedeclaration override visit annotation type declaration annotationtypedeclaration node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom annotation type member declaration annotationtypememberdeclaration override visit annotation type member declaration annotationtypememberdeclaration node ast visitor astvisitor visit anonymous class declaration anonymousclassdeclaration override visit anonymous class declaration anonymousclassdeclaration node right type found righttypefound ast visitor astvisitor visit array access arrayaccess override visit array access arrayaccess node right type found righttypefound ast visitor astvisitor visit array creation arraycreation override visit array creation arraycreation node right type found righttypefound ast visitor astvisitor visit array initializer arrayinitializer override visit array initializer arrayinitializer node right type found righttypefound ast visitor astvisitor visit array type arraytype override visit array type arraytype node right type found righttypefound ast visitor astvisitor visit assert statement assertstatement override visit assert statement assertstatement node right type found righttypefound ast visitor astvisitor visit assignment override visit assignment node right type found righttypefound ast visitor astvisitor visit block override visit block node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom block comment blockcomment override visit block comment blockcomment node ast visitor astvisitor visit boolean literal booleanliteral override visit boolean literal booleanliteral node right type found righttypefound ast visitor astvisitor visit break statement breakstatement override visit break statement breakstatement node right type found righttypefound ast visitor astvisitor visit cast expression castexpression override visit cast expression castexpression node right type found righttypefound ast visitor astvisitor visit catch clause catchclause override visit catch clause catchclause node right type found righttypefound ast visitor astvisitor visit character literal characterliteral override visit character literal characterliteral node right type found righttypefound ast visitor astvisitor visit class instance creation classinstancecreation override visit class instance creation classinstancecreation node right type found righttypefound ast visitor astvisitor visit compilation unit compilationunit override visit compilation unit compilationunit node f compilation unit fcompilationunit node right type found righttypefound ast visitor astvisitor visit conditional expression conditionalexpression override visit conditional expression conditionalexpression node right type found righttypefound ast visitor astvisitor visit constructor invocation constructorinvocation override visit constructor invocation constructorinvocation node right type found righttypefound ast visitor astvisitor visit continue statement continuestatement override visit continue statement continuestatement node right type found righttypefound ast visitor astvisitor visit do statement dostatement override visit do statement dostatement node right type found righttypefound ast visitor astvisitor visit empty statement emptystatement override visit empty statement emptystatement node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom enhanced for statement enhancedforstatement override visit enhanced for statement enhancedforstatement node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom enum constant declaration enumconstantdeclaration override visit enum constant declaration enumconstantdeclaration node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom enum declaration enumdeclaration override visit enum declaration enumdeclaration node right type found righttypefound f evaluate next end type declaration fevaluatenextendtypedeclaration ast visitor astvisitor visit expression statement expressionstatement override visit expression statement expressionstatement node right type found righttypefound ast visitor astvisitor visit field access fieldaccess override visit field access fieldaccess node right type found righttypefound ast visitor astvisitor visit field declaration fielddeclaration override visit field declaration fielddeclaration node right type found righttypefound ast visitor astvisitor visit for statement forstatement override visit for statement forstatement node right type found righttypefound ast visitor astvisitor visit if statement ifstatement override visit if statement ifstatement node right type found righttypefound ast visitor astvisitor visit import declaration importdeclaration override visit import declaration importdeclaration node right type found righttypefound ast visitor astvisitor visit infix expression infixexpression override visit infix expression infixexpression node right type found righttypefound ast visitor astvisitor visit initializer override visit initializer node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom instanceof expression instanceofexpression override visit instanceof expression instanceofexpression node right type found righttypefound ast visitor astvisitor visit javadoc override visit javadoc node right type found righttypefound ast visitor astvisitor visit labeled statement labeledstatement override visit labeled statement labeledstatement node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom line comment linecomment override visit line comment linecomment node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom marker annotation markerannotation override visit marker annotation markerannotation node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom member ref memberref override visit member ref memberref node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom member value pair membervaluepair override visit member value pair membervaluepair node ast visitor astvisitor visit method declaration methoddeclaration override visit method declaration methoddeclaration node first line firstline f compilation unit fcompilationunit get line number getlinenumber node get start position getstartposition last line lastline f compilation unit fcompilationunit get line number getlinenumber node get start position getstartposition node get length getlength list type parameter typeparameter type parameters typeparameters node type parameters typeparameters push type parameters pushtypeparameters type parameters typeparameters is right type isrighttype node get parent getparent first line firstline f line fline f line fline last line lastline f matching type parameters fmatchingtypeparameters f type parameter stack ftypeparameterstack peek right type found righttypefound push type parameters pushtypeparameters list type parameter typeparameter type parameters typeparameters type parameters typeparameters is empty isempty hash map hashmap string string new type parameters newtypeparameters hash map hashmap string string f type parameter stack ftypeparameterstack peek iterator type parameter typeparameter iterator type parameters typeparameters iterator iterator has next hasnext type parameter typeparameter type parameter typeparameter iterator string bound name boundname type parameter typeparameter get name getname get identifier getidentifier new type parameters newtypeparameters bound name boundname type parameter typeparameter to string tostring push scope f type parameter stack ftypeparameterstack push new type parameters newtypeparameters push f type parameter stack ftypeparameterstack push f type parameter stack ftypeparameterstack peek ast visitor astvisitor visit method invocation methodinvocation override visit method invocation methodinvocation node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom method ref methodref override visit method ref methodref node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom method ref parameter methodrefparameter override visit method ref parameter methodrefparameter node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom modifier override visit modifier node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom normal annotation normalannotation override visit normal annotation normalannotation node ast visitor astvisitor visit null literal nullliteral override visit null literal nullliteral node right type found righttypefound ast visitor astvisitor visit number literal numberliteral override visit number literal numberliteral node right type found righttypefound ast visitor astvisitor visit package declaration packagedeclaration override visit package declaration packagedeclaration node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom parameterized type parameterizedtype override visit parameterized type parameterizedtype node right type found righttypefound ast visitor astvisitor visit parenthesized expression parenthesizedexpression override visit parenthesized expression parenthesizedexpression node right type found righttypefound ast visitor astvisitor visit postfix expression postfixexpression override visit postfix expression postfixexpression node right type found righttypefound ast visitor astvisitor visit prefix expression prefixexpression override visit prefix expression prefixexpression node right type found righttypefound ast visitor astvisitor visit primitive type primitivetype override visit primitive type primitivetype node right type found righttypefound ast visitor astvisitor visit qualified name qualifiedname override visit qualified name qualifiedname node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom qualified type qualifiedtype override visit qualified type qualifiedtype node ast visitor astvisitor visit return statement returnstatement override visit return statement returnstatement node right type found righttypefound ast visitor astvisitor visit simple name simplename override visit simple name simplename node right type found righttypefound ast visitor astvisitor visit simple type simpletype override visit simple type simpletype node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom single member annotation singlememberannotation override visit single member annotation singlememberannotation node ast visitor astvisitor visit single variable declaration singlevariabledeclaration override visit single variable declaration singlevariabledeclaration node right type found righttypefound ast visitor astvisitor visit string literal stringliteral override visit string literal stringliteral node right type found righttypefound ast visitor astvisitor visit super constructor invocation superconstructorinvocation override visit super constructor invocation superconstructorinvocation node right type found righttypefound ast visitor astvisitor visit super field access superfieldaccess override visit super field access superfieldaccess node right type found righttypefound ast visitor astvisitor visit super method invocation supermethodinvocation override visit super method invocation supermethodinvocation node right type found righttypefound ast visitor astvisitor visit switch case switchcase override visit switch case switchcase node right type found righttypefound ast visitor astvisitor visit switch statement switchstatement override visit switch statement switchstatement node right type found righttypefound ast visitor astvisitor visit synchronized statement synchronizedstatement override visit synchronized statement synchronizedstatement node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom tag element tagelement override visit tag element tagelement node javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom text element textelement override visit text element textelement node ast visitor astvisitor visit this expression thisexpression override visit this expression thisexpression node right type found righttypefound ast visitor astvisitor visit throw statement throwstatement override visit throw statement throwstatement node right type found righttypefound ast visitor astvisitor visit try statement trystatement override visit try statement trystatement node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom union type uniontype override visit union type uniontype node right type found righttypefound ast visitor astvisitor visit type declaration typedeclaration override visit type declaration typedeclaration node list type parameter typeparameter type parameters typeparameters node type parameters typeparameters push type parameters pushtypeparameters type parameters typeparameters right type found righttypefound f evaluate next end type declaration fevaluatenextendtypedeclaration ast visitor astvisitor visit type declaration statement typedeclarationstatement override visit type declaration statement typedeclarationstatement node right type found righttypefound ast visitor astvisitor visit type literal typeliteral override visit type literal typeliteral node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom type parameter typeparameter override visit type parameter typeparameter node ast visitor astvisitor visit variable declaration expression variabledeclarationexpression override visit variable declaration expression variabledeclarationexpression node right type found righttypefound ast visitor astvisitor visit variable declaration fragment variabledeclarationfragment override visit variable declaration fragment variabledeclarationfragment node right type found righttypefound ast visitor astvisitor visit variable declaration statement variabledeclarationstatement override visit variable declaration statement variabledeclarationstatement node right type found righttypefound ast visitor astvisitor visit while statement whilestatement override visit while statement whilestatement node right type found righttypefound javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom wildcard type wildcardtype override visit wildcard type wildcardtype node returns source generated greater equal source level param major major level param minor minor level code code major minor version equal backing source level is source level greater or equal issourcelevelgreaterorequal major minor f source major level fsourcemajorlevel major f source major level fsourcemajorlevel major f source minor level fsourceminorlevel minor appends type parameters source param source current buffer source append param type parameters typeparameters list link type parameter typeparameter add append type parameters appendtypeparameters string buffer stringbuffer source list type parameter typeparameter type parameters typeparameters type parameters typeparameters is empty isempty is source level greater or equal issourcelevelgreaterorequal source append iterator type parameter typeparameter iter type parameters typeparameters iterator type parameter typeparameter type parameter typeparameter iter source append type parameter typeparameter get name getname get identifier getidentifier list type type bounds typebounds type parameter typeparameter type bounds typebounds type bounds typebounds is empty isempty nls source append nls iterator type iter type bounds typebounds iterator source append get type name gettypename iter iter has next hasnext source append source append get type name gettypename iter iter has next hasnext source append type parameter typeparameter iter source append type parameter typeparameter get name getname get identifier getidentifier type bounds typebounds type parameter typeparameter type bounds typebounds type bounds typebounds is empty isempty nls source append nls iterator type iter type bounds typebounds iterator source append get type name gettypename iter iter has next hasnext source append source append get type name gettypename iter source append source append
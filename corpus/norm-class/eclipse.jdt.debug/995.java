copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation michael all man allman bug bug standard supported macos thomas schindl bug standardvmtype contribute source javadoc locations ext libraries mikhail kalkov bug systems large ram evaluate system properties evaluatesystemproperties generate library info generatelibraryinfo fail bit jre s jres org eclipse jdt internal launching java file java file name filter filenamefilter java io exception ioexception java net malformedurlexception java net url java util array list arraylist java util arrays java util comparator java util hash map hashmap java util hash set hashset java util iterator java util list java util list iterator listiterator java util map java util map entry org eclipse core runtime core exception coreexception org eclipse core runtime i configuration element iconfigurationelement org eclipse core runtime i extension point iextensionpoint org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime path org eclipse core runtime platform org eclipse core runtime status org eclipse debug core debug plugin debugplugin org eclipse debug core i launch manager ilaunchmanager org eclipse debug core launch org eclipse debug core model i process iprocess org eclipse debug core model i streams proxy istreamsproxy org eclipse jdt core java core javacore org eclipse jdt launching abstractvminstalltype org eclipse jdt launching i library location resolver ilibrarylocationresolver org eclipse jdt launching ivm install ivminstall org eclipse jdt launching java runtime javaruntime org eclipse jdt launching library location librarylocation org eclipse osgi util nls install type vm s vms conform standard jdk installation layout standardvmtype abstractvminstalltype constants common link string nls string jar jar nls string src src nls string src zip src zip nls string src jar src jar nls string jre jre nls string lib lib nls string bar nls string standard type org eclipse jdt internal debug launcher standardvmtype minimal xmx size launching jvm note standard xvm note xmx j rock it jrockit href https bugs eclipse org bugs bug cgi bug nls string min size xmx filter files jar zip file name filter filenamefilter fg archive filter fgarchivefilter file name filter filenamefilter override accept file arg string arg nls nls arg ends with endswith zip arg ends with endswith jar root path attached source nls string f default root path fdefaultrootpath map install path unable generate library info session map string library info libraryinfo fg failed install path fgfailedinstallpath hash map hashmap string library info libraryinfo cache library locations link get default library locations getdefaultlibrarylocations file map link string link library location librarylocation map string list library location librarylocation fg default lib locs fgdefaultliblocs hash map hashmap string list library location librarylocation list locations java executable candidate install locations relative install location nls nls nls nls nls nls nls nls string fg candidate java files fgcandidatejavafiles java w javaw java w javaw exe java java exe exe exe nls nls string fg candidate java locations fgcandidatejavalocations bin file separator char separatorchar jre file separator char separatorchar bin file separator char separatorchar i library location resolver ilibrarylocationresolver fg library location resolve rs fglibrarylocationresolvers starting install location attempt find java executable file code file code object code code param vm install location vminstalllocation link file location link file java executable code code file find java executable findjavaexecutable file vm install location vminstalllocation fg candidate java locations fgcandidatejavalocations fg candidate java files fgcandidatejavafiles fg candidate java files fgcandidatejavafiles length fg candidate java locations fgcandidatejavalocations length file java file javafile file vm install location vminstalllocation fg candidate java locations fgcandidatejavalocations fg candidate java files fgcandidatejavafiles java file javafile is file isfile java file javafile returns listing link i library location resolver ilibrarylocationresolver list link i library location resolver ilibrarylocationresolver i library location resolver ilibrarylocationresolver get library location resolve rs getlibrarylocationresolvers fg library location resolve rs fglibrarylocationresolvers i extension point iextensionpoint extension point extensionpoint platform get extension registry getextensionregistry get extension point getextensionpoint launching plugin launchingplugin plugin java runtime javaruntime extension point library location resolve rs resolvers i configuration element iconfigurationelement configs extension point extensionpoint get configuration elements getconfigurationelements library location resolve rs librarylocationresolvers extension point doesn conflict resolution sorting namespace order predictable arrays sort configs comparator i configuration element iconfigurationelement override compare i configuration element iconfigurationelement i configuration element iconfigurationelement get name space identifier getnamespaceidentifier compare to compareto get name space identifier getnamespaceidentifier list i library location resolver ilibrarylocationresolver resolve rs resolvers array list arraylist i library location resolver ilibrarylocationresolver configs length configs length i configuration element iconfigurationelement configs resolve rs resolvers add i library location resolver ilibrarylocationresolver nls create executable extension createexecutableextension nls core exception coreexception launching plugin launchingplugin log get status getstatus fg library location resolve rs fglibrarylocationresolvers resolve rs resolvers to array toarray i library location resolver ilibrarylocationresolver fg library location resolve rs fglibrarylocationresolvers javadoc org eclipse jdt launching ivm install type ivminstalltype get name getname override string get name getname launching messages launchingmessages standardvmtype standard javadoc org eclipse jdt launching abstractvminstalltype docreatevminstall java lang string override ivm install ivminstall docreatevminstall string standardvm library install location exist create java executable param java home javahome java folder param java executable javaexecutable java executable file link library info libraryinfo executable path empty object code code library info libraryinfo get library info getlibraryinfo file java home javahome file java executable javaexecutable string install path installpath java home javahome get absolute path getabsolutepath library info libraryinfo info launching plugin launchingplugin get library info getlibraryinfo install path installpath info launching plugin launchingplugin time stamp changed timestampchanged install path installpath info fg failed install path fgfailedinstallpath install path installpath info info generate library info generatelibraryinfo java home javahome java executable javaexecutable info info get default library info getdefaultlibraryinfo java home javahome fg failed install path fgfailedinstallpath install path installpath info persist generate bug launching plugin launchingplugin set library info setlibraryinfo install path installpath info info code code system libraries java executable code code param java home javahome java folder param java executable javaexecutable java executable file code code system libraries detected install location code code can detect default system libraries candetectdefaultsystemlibraries file java home javahome file java executable javaexecutable library location librarylocation locations get default library locations getdefaultlibrarylocations java home javahome string version getvmversion java home javahome java executable javaexecutable nls locations length version starts with startswith returns version location executable param java home javahome java folder param java executable javaexecutable java executable file string string getvmversion file java home javahome file java executable javaexecutable library info libraryinfo info get library info getlibraryinfo java home javahome java executable javaexecutable info get version getversion javadoc org eclipse jdt launching ivm install type ivminstalltype detect install location detectinstalllocation override file detect install location detectinstalllocation mac osx install don process install location type platform macosx equals platform getos get java home location getjavahomelocation returns install location code java code system property code code install location type based code java code system property code code file get java home location getjavahomelocation retrieve java system property directory doesn exist file java home javahome nls java home javahome file system get property getproperty java get canonical file getcanonicalfile io exception ioexception launching plugin launchingplugin log java home javahome exists find java executable file java directory file java executable javaexecutable find java executable findjavaexecutable java home javahome java executable javaexecutable reported java directory terminates jre parent directory required libraries found libraries foundlibraries java home javahome get name getname equals ignore case equalsignorecase jre file parent file java home javahome get parent getparent can detect default system libraries candetectdefaultsystemlibraries parent java executable javaexecutable java home javahome parent found libraries foundlibraries have n haven libraries reported java dir found libraries foundlibraries can detect default system libraries candetectdefaultsystemlibraries java home javahome java executable javaexecutable java home javahome code i path ipath code single library file standard java classes vm s vms version param java home javahome java folder link i path ipath code jar code file i path ipath get default system library getdefaultsystemlibrary file java home javahome i path ipath jre lib path jrelibpath path java home javahome get path getpath append lib append jar jre lib path jrelibpath to file tofile is file isfile jre lib path jrelibpath path java home javahome get path getpath append jre append lib append jar returns path source attachment library empty path param lib location liblocation link file location library find source path source attachment library empty path i path ipath get default system library source getdefaultsystemlibrarysource file lib location liblocation file parent lib location liblocation get parent file getparentfile parent file parent src parentsrc file parent src jar parent src parentsrc is file isfile set default root path setdefaultrootpath src path parent src parentsrc get path getpath parent src parentsrc file parent src zip parent src parentsrc is file isfile set default root path setdefaultrootpath nls path parent src parentsrc get path getpath parent parent get parent file getparentfile didn find normal source files source i path ipath result check for j checkforj library source librarysource lib location liblocation result result check lib src jar pattern i path ipath lib name libname path lib location liblocation get name getname string extension lib name libname get file extension getfileextension string prefix lib name libname remove file extension removefileextension last segment lastsegment extension i path ipath src path srcpath path lib location liblocation get path getpath src path srcpath src path srcpath remove last segments removelastsegments string buffer stringbuffer buf string buffer stringbuffer buf append prefix nls buf append src buf append extension src path srcpath src path srcpath append buf to string tostring src path srcpath to file tofile exists src path srcpath nls set default root path setdefaultrootpath path empty fixed structure libraries source locations source lib i path ipath check for j checkforj library source librarysource file lib location liblocation file parent lib location liblocation get parent file getparentfile string lib location liblocation get name getname nls equals ignore case equalsignorecase classes zip nls file source file parent source source zip source is file isfile path source get path getpath path empty nls equals ignore case equalsignorecase locale zip nls file source file parent source locale src zip source is file isfile path source get path getpath path empty nls equals ignore case equalsignorecase char conv charconv zip nls file source file parent char conv charconv src zip source is file isfile path source get path getpath path empty returns root path root path i path ipath get default package root path getdefaultpackagerootpath path get default root path getdefaultrootpath javadoc org eclipse jdt launching ivm install type ivminstalltype get default library locations getdefaultlibrarylocations java file override library location librarylocation get default library locations getdefaultlibrarylocations file install location installlocation note add libraries end orsed endorsed directory explicitly bootpath entries exist determine java executable corresponds install location generate library java executable standard libraries returned list library location librarylocation all libs alllibs fg default lib locs fgdefaultliblocs install location installlocation get absolute path getabsolutepath all libs alllibs file java executable javaexecutable find java executable findjavaexecutable install location installlocation library info libraryinfo lib info libinfo java executable javaexecutable lib info libinfo get default library info getdefaultlibraryinfo install location installlocation lib info libinfo get library info getlibraryinfo install location installlocation java executable javaexecutable add end orsed endorsed libraries replace all libs alllibs array list arraylist library location librarylocation gather all libraries gatheralllibraries lib info libinfo get end orsed dirs getendorseddirs boot path libraries string bootpath lib info libinfo get bootpath getbootpath list library location librarylocation boot array list arraylist library location librarylocation bootpath length url url get default javadoc location getdefaultjavadoclocation install location installlocation bootpath length i path ipath path path bootpath file lib path to file tofile lib exists lib is file isfile library location librarylocation library location librarylocation library location librarylocation path get default system library source getdefaultsystemlibrarysource lib get default package root path getdefaultpackagerootpath url boot add library location librarylocation all libs alllibs add all addall boot add extension libraries all libs alllibs add all addall gather all libraries gatheralllibraries lib info libinfo get extension dirs getextensiondirs remove duplicates hash set hashset string hash set hashset string library location librarylocation lib list iterator listiterator library location librarylocation liter all libs alllibs list iterator listiterator liter has next hasnext lib liter i path ipath system library path systemlibrarypath lib get system library path getsystemlibrarypath string dev ice device system library path systemlibrarypath get device getdevice dev ice device bug installed jre wizard creates duplicate system libraries drive letter system library path systemlibrarypath system library path systemlibrarypath set device setdevice dev ice device to upper case touppercase add system library path systemlibrarypath toosstring add duplicate liter remove fg default lib locs fgdefaultliblocs install location installlocation get absolute path getabsolutepath all libs alllibs all libs alllibs to array toarray library location librarylocation all libs alllibs size returns library install location param install location installlocation install location library info libraryinfo library info libraryinfo get default library info getdefaultlibraryinfo file install location installlocation i path ipath rtjar get default system library getdefaultsystemlibrary install location installlocation file ext dir extdir get default extension directory getdefaultextensiondirectory install location installlocation file end dir enddir get default end orsed directory getdefaultendorseddirectory install location installlocation string dirs ext dir extdir dirs string dirs string ext dir extdir get absolute path getabsolutepath string end dirs enddirs end dir enddir end dirs enddirs string end dirs enddirs string end dir enddir get absolute path getabsolutepath nls library info libraryinfo string rtjar toosstring dirs end dirs enddirs returns list zip jars contained directories param dir paths dirpaths list absolute paths directories search list zip jars list library location librarylocation gather all libraries gatheralllibraries string dir paths dirpaths list library location librarylocation libraries array list arraylist library location librarylocation dir paths dirpaths length file ext dir extdir file dir paths dirpaths ext dir extdir is directory isdirectory string names ext dir extdir list fg archive filter fgarchivefilter names names length file jar file ext dir extdir names jar is file isfile i path ipath lib path libpath path jar get canonical path getcanonicalpath i path ipath source path sourcepath path empty i path ipath package root packageroot path empty url javadoc location javadoclocation url index location indexlocation i library location resolver ilibrarylocationresolver resolver get library location resolve rs getlibrarylocationresolvers source path sourcepath resolver get source path getsourcepath lib path libpath package root packageroot resolver get package root getpackageroot lib path libpath javadoc location javadoclocation resolver get javadoc location getjavadoclocation lib path libpath index location indexlocation resolver get index location getindexlocation lib path libpath source path sourcepath path empty package root packageroot path empty javadoc location javadoclocation index location indexlocation exception launching plugin launchingplugin log library location librarylocation library library location librarylocation lib path libpath source path sourcepath package root packageroot javadoc location javadoclocation index location indexlocation libraries add library io exception ioexception launching plugin launchingplugin log libraries returns location extension directory based install location file exist code code extension directory supported param install location installlocation install location extension directory code code file get default extension directory getdefaultextensiondirectory file install location installlocation file jre install location installlocation get name getname equals ignore case equalsignorecase jre jre install location installlocation jre file install location installlocation jre file lib file jre lib nls file ext file lib ext ext returns location end orsed endorsed directory based install location file exist code code end orsed endorsed directory supported param install location installlocation install location end orsed endorsed directory code code file get default end orsed directory getdefaultendorseddirectory file install location installlocation file lib file install location installlocation lib nls file ext file lib end orsed endorsed ext string get default root path getdefaultrootpath f default root path fdefaultrootpath set default root path setdefaultrootpath string default root path defaultrootpath f default root path fdefaultrootpath default root path defaultrootpath javadoc org eclipse jdt launching ivm install type ivminstalltype validate install location validateinstalllocation java file override i status istatus validate install location validateinstalllocation file java home javahome i status istatus status file java executable javaexecutable find java executable findjavaexecutable java home javahome java executable javaexecutable status status i status istatus error launching plugin launchingplugin get unique identifier getuniqueidentifier launching messages launchingmessages standardvmtype jdk root java executable can detect default system libraries candetectdefaultsystemlibraries java home javahome java executable javaexecutable status status i status istatus launching plugin launchingplugin get unique identifier getuniqueidentifier launching messages launchingmessages standardvmtype status status i status istatus error launching plugin launchingplugin get unique identifier getuniqueidentifier launching messages launchingmessages standardvmtype jdk root system library status generates library java executable main program code org eclipse jdt internal launching support library detector librarydetector code dumps system properties bootpath extension directories output parsed cached reference param java home javahome java folder param java executable javaexecutable java executable file library info code code library info libraryinfo generate library info generatelibraryinfo file java home javahome file java executable javaexecutable library info libraryinfo info properties exist nls i path ipath classes zip classeszip path java home javahome get absolute path getabsolutepath append lib append classes zip classes zip classeszip to file tofile exists nls library info libraryinfo string classes zip classeszip toosstring string string locate launching support jar main program nls file file launching plugin launchingplugin get file in plugin getfileinplugin path lib launching support launchingsupport jar file file exists string java executable path javaexecutablepath java executable javaexecutable get absolute path getabsolutepath string cmd line cmdline string java executable path javaexecutablepath min size classpath file get absolute path getabsolutepath nls nls org eclipse jdt internal launching support library detector librarydetector process string env p envp platform macosx equals platform getos map string string map debug plugin debugplugin get default getdefault get launch manager getlaunchmanager get native environment case preserve d getnativeenvironmentcasepreserved map remove standardvmdebugger java jvm version env p envp string map size iterator entry string string iterator map entry set entryset iterator iterator has next hasnext entry string string entry iterator env p envp nls entry get key getkey nls entry get value getvalue debug plugin debugplugin exec cmd line cmdline env p envp i process iprocess process nls debug plugin debugplugin new process newprocess nls launch i launch manager ilaunchmanager mode nls nls library detection wait seconds milliseconds process is terminated isterminated thread sleep interrupted exception interruptedexception info parse library info parselibraryinfo process core exception coreexception ioe launching plugin launchingplugin log ioe destroy info log error unable generate library bug nls launching plugin launchingplugin log nls bind failed retrieve libraries string java home javahome get absolute path getabsolutepath info parses output library detector librarydetector param process backing link i process iprocess link library info libraryinfo object code code library info libraryinfo parse library info parselibraryinfo i process iprocess process i streams proxy istreamsproxy str eams proxy streamsproxy process get streams proxy getstreamsproxy string text str eams proxy streamsproxy text str eams proxy streamsproxy get output stream monitor getoutputstreammonitor get contents getcontents text text length text index of indexof bar string version text substring text text substring text index of indexof bar string boot paths bootpaths text substring string boot path bootpath parse paths parsepaths boot paths bootpaths text text substring text index of indexof bar string ext dir paths extdirpaths text substring string end orsed dirs path endorseddirspath text substring string ext dirs extdirs parse paths parsepaths ext dir paths extdirpaths string end dirs enddirs parse paths parsepaths end orsed dirs path endorseddirspath library info libraryinfo version boot path bootpath ext dirs extdirs end dirs enddirs string parse paths parsepaths string paths list string list array list arraylist string pos paths index of indexof file path separator char pathseparatorchar pos string path paths substring pos list add path pos paths index of indexof file path separator char pathseparatorchar pos string path paths substring pos nls path equals list add path list to array toarray string list size javadoc org eclipse jdt launching ivm install type ivminstalltype disposevminstall java lang string override disposevminstall string ivm install ivminstall findvminstall string path get install location getinstalllocation get absolute path getabsolutepath launching plugin launchingplugin set library info setlibraryinfo path fg failed install path fgfailedinstallpath remove path fg default lib locs fgdefaultliblocs remove path disposevminstall javadoc org eclipse jdt launching abstractvminstalltype get default javadoc location getdefaultjavadoclocation java file override url get default javadoc location getdefaultjavadoclocation file install location installlocation file java executable javaexecutable find java executable findjavaexecutable install location installlocation java executable javaexecutable library info libraryinfo lib info libinfo get library info getlibraryinfo install location installlocation java executable javaexecutable lib info libinfo string version lib info libinfo get version getversion get default javadoc location getdefaultjavadoclocation version returns javadoc location language version code code param version language version url javadoc location code code url get default javadoc location getdefaultjavadoclocation string version version starts with startswith java core javacore version nls url nls https docs oracle java se javase docs api version starts with startswith java core javacore version nls url nls https docs oracle java se javase docs api version starts with startswith java core javacore version nls url nls https docs oracle java se javase docs api version starts with startswith java core javacore version nls url nls https docs oracle java se javase docs api version starts with startswith java core javacore version archive d archived http download oracle java se javase docs api nls url nls https docs oracle java se javase docs api version starts with startswith java core javacore version archive d archived http download oracle java se javase docs api nls url nls https docs oracle java se javase docs api malformedurlexception
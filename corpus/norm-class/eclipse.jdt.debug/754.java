copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html implementation early draft specification dev eloped developed java community process jcp testing evaluation purposes code compatible specification jcp contributors ibm corporation initial api implementation jesper mã¸ller bug enable debug evaluation support methods org eclipse jdt debug test plugin testplugin java file java file input stream fileinputstream java io exception ioexception java input stream inputstream java lang reflect invocation target exception invocationtargetexception java util array list arraylist java util iterator java util list java util map java util zip zip file zipfile org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i project description iprojectdescription org eclipse core resources i resource iresource org eclipse core resources i workspace root iworkspaceroot org eclipse core resources resources plugin resourcesplugin org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime path org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt internal core classpath entry classpathentry org eclipse dialogs i overwrite query ioverwritequery org eclipse wizards data transfer datatransfer file system structure provider filesystemstructureprovider org eclipse wizards data transfer datatransfer i import structure provider iimportstructureprovider org eclipse wizards data transfer datatransfer import operation importoperation org eclipse wizards data transfer datatransfer zip file structure provider zipfilestructureprovider helper methods i java project ijavaproject java project helper javaprojecthelper string src dir src string bin dir bin string string string java javase string java javase string java javase path test src test pro grams testprograms i path ipath test src dir path test pro grams testprograms path test source i path ipath test src dir path tests our ce testsource path test source i path ipath test src dir path java path test source i path ipath test src dir path java path compiler error java file i path ipath test compile error path test resources testresources compilation error compilationerror java string jre container org eclipse jdt launching jre container returns running version compatible java code code java greater running code code is java isjava compatible is compatible iscompatible returns running version compatible java code code java greater running code code is java isjava compatible is compatible iscompatible returns running version compatible java code code java greater running code code is java isjava compatible is compatible iscompatible returns running version compatible java code code java greater running code code is java isjava compatible is compatible iscompatible returns current running system compatible java minor version param ver version test code code compatible code code is compatible iscompatible ver string version system get property getproperty java specification version version string nums version split nums length major integer parse int parseint nums minor integer parse int parseint nums major minor ver number format exception numberformatexception creates link i project iproject project exists exists project ref res hed refreshed opened closed param pname desired project link i project iproject handle core exception coreexception i project iproject create project createproject string pname core exception coreexception i workspace root iworkspaceroot root resources plugin resourcesplugin get workspace getworkspace get root getroot i project iproject project root get project getproject pname project exists project create project refresh local refreshlocal i resource iresource depth infinite project is open isopen project open project creates java project output folder param project name projectname param bin folder name binfoldername java project core exception coreexception i java project ijavaproject create java project createjavaproject string project name projectname string bin folder name binfoldername core exception coreexception i project iproject project create project createproject project name projectname i path ipath output location outputlocation bin folder name binfoldername bin folder name binfoldername length i folder ifolder bin folder binfolder project get folder getfolder bin folder name binfoldername bin folder binfolder exists bin folder binfolder create output location outputlocation bin folder binfolder get full path getfullpath output location outputlocation project get full path getfullpath project has nature hasnature java core javacore nature add nature to project addnaturetoproject project java core javacore nature i java project ijavaproject jproject java core javacore create project jproject set output location setoutputlocation output location outputlocation jproject set raw classpath setrawclasspath i classpath entry iclasspathentry jproject creates java project param project name projectname java project core exception coreexception i java project ijavaproject create java project createjavaproject string project name projectname core exception coreexception i project iproject project create project createproject project name projectname project has nature hasnature java core javacore nature add nature to project addnaturetoproject project java core javacore nature i java project ijavaproject jproject java core javacore create project jproject set raw classpath setrawclasspath i classpath entry iclasspathentry jproject deletes java project param jproject core exception coreexception delete i java project ijavaproject jproject core exception coreexception jproject set raw classpath setrawclasspath classpath entry classpathentry jproject get project getproject get full path getfullpath jproject get project getproject delete adds source container container source path project param jproject param container name containername fragment root container core exception coreexception i package fragment root ipackagefragmentroot add source container addsourcecontainer i java project ijavaproject jproject string container name containername core exception coreexception i project iproject project jproject get project getproject i container icontainer container container name containername container name containername length container project i folder ifolder folder project get folder getfolder container name containername folder exists folder create container folder i package fragment root ipackagefragmentroot root jproject get package fragment root getpackagefragmentroot container i classpath entry iclasspathentry cpe java core javacore new source entry newsourceentry root get path getpath add to classpath addtoclasspath jproject cpe root adds source container i java project ijavaproject param jproject param container name containername param output name outputname fragment root source container core exception coreexception i package fragment root ipackagefragmentroot add source container addsourcecontainer i java project ijavaproject jproject string container name containername string output name outputname core exception coreexception i project iproject project jproject get project getproject i container icontainer container container name containername container name containername length container project i folder ifolder folder project get folder getfolder container name containername folder exists folder create container folder i package fragment root ipackagefragmentroot root jproject get package fragment root getpackagefragmentroot container i folder ifolder output output name outputname output project get folder getfolder output name outputname output exists output create i classpath entry iclasspathentry cpe java core javacore new source entry newsourceentry root get path getpath i path ipath output get full path getfullpath add to classpath addtoclasspath jproject cpe root adds source container i java project ijavaproject imports files contained zip file param jproject param container name containername param zip file zipfile fragment root source container invocation target exception invocationtargetexception core exception coreexception i package fragment root ipackagefragmentroot add source container with import addsourcecontainerwithimport i java project ijavaproject jproject string container name containername zip file zipfile zip file zipfile invocation target exception invocationtargetexception core exception coreexception i package fragment root ipackagefragmentroot root add source container addsourcecontainer jproject container name containername import files from zip importfilesfromzip zip file zipfile root get path getpath root removes source folder i java project ijavaproject param jproject param container name containername core exception coreexception remove source container removesourcecontainer i java project ijavaproject jproject string container name containername core exception coreexception i folder ifolder folder jproject get project getproject get folder getfolder container name containername remove from classpath removefromclasspath jproject folder get full path getfullpath folder delete adds library entry i java project ijavaproject param jproject param path fragment root library java model exception javamodelexception i package fragment root ipackagefragmentroot add library addlibrary i java project ijavaproject jproject i path ipath path java model exception javamodelexception add library addlibrary jproject path adds library entry source att chment attchment i java project ijavaproject param jproject param path param source attach path sourceattachpath param source attach root sourceattachroot fragment root library java model exception javamodelexception i package fragment root ipackagefragmentroot add library addlibrary i java project ijavaproject jproject i path ipath path i path ipath source attach path sourceattachpath i path ipath source attach root sourceattachroot java model exception javamodelexception i classpath entry iclasspathentry cpe java core javacore new library entry newlibraryentry path source attach path sourceattachpath source attach root sourceattachroot add to classpath addtoclasspath jproject cpe jproject get package fragment root getpackagefragmentroot path to string tostring copies library project adds library entry param jproject param jar path jarpath param source attach path sourceattachpath param source attach root sourceattachroot fragment root library io exception ioexception core exception coreexception i package fragment root ipackagefragmentroot add library with import addlibrarywithimport i java project ijavaproject jproject i path ipath jar path jarpath i path ipath source attach path sourceattachpath i path ipath source attach root sourceattachroot io exception ioexception core exception coreexception i project iproject project jproject get project getproject i file ifile new file newfile project get file getfile jar path jarpath last segment lastsegment input stream inputstream input stream inputstream file input stream fileinputstream jar path jarpath to file tofile new file newfile create input stream inputstream add library addlibrary jproject new file newfile get full path getfullpath source attach path sourceattachpath source attach root sourceattachroot adds variable entry source attachment i java project ijavaproject variable resolved param jproject param path param source attach path sourceattachpath param source attach root sourceattachroot fragment root variable entry java model exception javamodelexception i package fragment root ipackagefragmentroot add variable entry addvariableentry i java project ijavaproject jproject i path ipath path i path ipath source attach path sourceattachpath i path ipath source attach root sourceattachroot java model exception javamodelexception i classpath entry iclasspathentry cpe java core javacore new variable entry newvariableentry path source attach path sourceattachpath source attach root sourceattachroot add to classpath addtoclasspath jproject cpe i path ipath resolved path resolvedpath java core javacore get resolved variable path getresolvedvariablepath path resolved path resolvedpath jproject get package fragment root getpackagefragmentroot resolved path resolvedpath to string tostring adds container entry java project param project param container java model exception javamodelexception add container entry addcontainerentry i java project ijavaproject project i path ipath container java model exception javamodelexception i classpath entry iclasspathentry cpe java core javacore new container entry newcontainerentry container add to classpath addtoclasspath project cpe sets compiler compliance link i java project ijavaproject link java core javacore version link java core javacore version link java core javacore version link java core javacore version link java core javacore version accepted comp liances compliances param project param compliance set compliance setcompliance i java project ijavaproject project string compliance map string string map java core javacore get options getoptions map java core javacore compiler compliance compliance map java core javacore compiler source compliance map java core javacore compiler codegen target platform compliance project set options setoptions map updates compiler compliance project setting project match compliance compiler source level param project param update compliance updatecompliance i java project ijavaproject project string equals set compliance setcompliance project java core javacore version equals set compliance setcompliance project java core javacore version java equals set compliance setcompliance project java core javacore version java equals set compliance setcompliance project java core javacore version adds required project entry param jproject param required java model exception javamodelexception add required project addrequiredproject i java project ijavaproject jproject i java project ijavaproject required java model exception javamodelexception i classpath entry iclasspathentry cpe java core javacore new project entry newprojectentry required get project getproject get full path getfullpath add to classpath addtoclasspath jproject cpe removes path form java project param jproject param path java model exception javamodelexception remove from classpath removefromclasspath i java project ijavaproject jproject i path ipath path java model exception javamodelexception i classpath entry iclasspathentry old entries oldentries jproject get raw classpath getrawclasspath n entries nentries old entries oldentries length array list arraylist i classpath entry iclasspathentry list array list arraylist i classpath entry iclasspathentry n entries nentries n entries nentries i classpath entry iclasspathentry curr old entries oldentries path equals curr get path getpath list add curr i classpath entry iclasspathentry new entries newentries list to array toarray i classpath entry iclasspathentry list size jproject set raw classpath setrawclasspath new entries newentries adds classpath entry java project param jproject param cpe java model exception javamodelexception add to classpath addtoclasspath i java project ijavaproject jproject i classpath entry iclasspathentry cpe java model exception javamodelexception i classpath entry iclasspathentry old entries oldentries jproject get raw classpath getrawclasspath array list arraylist i classpath entry iclasspathentry entries array list arraylist i classpath entry iclasspathentry old entries oldentries length old entries oldentries length old entries oldentries equals cpe i path ipath old path oldpath old entries oldentries get path getpath jre container equals old path oldpath segment jre container equals cpe get path getpath segment entries add old entries oldentries entries add cpe jproject set raw classpath setrawclasspath entries to array toarray i classpath entry iclasspathentry entries size adds nature project param proj param nature id natureid param monitor core exception coreexception add nature to project addnaturetoproject i project iproject proj string nature id natureid i progress monitor iprogressmonitor monitor core exception coreexception i project description iprojectdescription description proj get description getdescription string prev natures prevnatures description get nature ids getnatureids string new natures newnatures string prev natures prevnatures length system arraycopy prev natures prevnatures new natures newnatures prev natures prevnatures length new natures newnatures prev natures prevnatures length nature id natureid description set nature ids setnatureids new natures newnatures proj set description setdescription description monitor imports files zip destination param src zip file srczipfile param dest path destpath param monitor invocation target exception invocationtargetexception import files from zip importfilesfromzip zip file zipfile src zip file srczipfile i path ipath dest path destpath i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception zip file structure provider zipfilestructureprovider structure provider structureprovider zip file structure provider zipfilestructureprovider src zip file srczipfile import operation importoperation import operation importoperation dest path destpath structure provider structureprovider get root getroot structure provider structureprovider import overwrite query importoverwritequery monitor interrupted exception interruptedexception imports files root dir path param root dir rootdir param dest path destpath param monitor invocation target exception invocationtargetexception io exception ioexception import files from directory importfilesfromdirectory file root dir rootdir i path ipath dest path destpath i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception io exception ioexception i import structure provider iimportstructureprovider structure provider structureprovider file system structure provider filesystemstructureprovider instance list file files array list arraylist file add java files addjavafiles root dir rootdir files import operation importoperation import operation importoperation dest path destpath root dir rootdir structure provider structureprovider import overwrite query importoverwritequery files set create container structure setcreatecontainerstructure monitor interrupted exception interruptedexception imports file path param file param dest path destpath param monitor invocation target exception invocationtargetexception import file importfile file file i path ipath dest path destpath i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception i import structure provider iimportstructureprovider structure provider structureprovider file system structure provider filesystemstructureprovider instance list file files array list arraylist file files add file import operation importoperation import operation importoperation dest path destpath file get parent file getparentfile structure provider structureprovider import overwrite query importoverwritequery files set create container structure setcreatecontainerstructure monitor interrupted exception interruptedexception recursively adds files dir list param dir param collection io exception ioexception add java files addjavafiles file dir list file collection io exception ioexception file files dir list files listfiles files list file sub dirs subdirs array list arraylist file files length files is file isfile collection add files files is directory isdirectory files get name getname index of indexof cvs sub dirs subdirs add files iterator file iter sub dirs subdirs iterator iter has next hasnext file sub dir subdir iter add java files addjavafiles sub dir subdir collection code i overwrite query ioverwritequery code implementation import overwrite query importoverwritequery i overwrite query ioverwritequery org eclipse dialogs i overwrite query ioverwritequery query overwrite queryoverwrite java lang string override string query overwrite queryoverwrite string file
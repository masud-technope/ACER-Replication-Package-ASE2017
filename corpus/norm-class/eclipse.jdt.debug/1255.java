copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt debug tests core java file java i o exception ioexception java net malformedurlexception java net url org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core runtime platform org eclipse jdt core i classpath attribute iclasspathattribute org eclipse jdt core i classpath container iclasspathcontainer org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core java indexer javaindexer org eclipse jdt debug test plugin testplugin java test plugin javatestplugin org eclipse jdt debug tests abstract debug test abstractdebugtest org eclipse jdt internal launching jre container jrecontainer org eclipse jdt internal launching jre container initializer jrecontainerinitializer org eclipse jdt internal launching jre runtime classpath entry resolver jreruntimeclasspathentryresolver org eclipse jdt launching i vm install ivminstall org eclipse jdt launching java runtime javaruntime org eclipse jdt launching library location librarylocation org eclipse jdt launching vm standin vmstandin tests jre classpath container classpath container tests classpathcontainertests abstract debug test abstractdebugtest fake container fakecontainer i classpath container iclasspathcontainer i classpath entry iclasspathentry entries i classpath entry iclasspathentry org eclipse jdt core i classpath container iclasspathcontainer get classpath entries getclasspathentries override i classpath entry iclasspathentry get classpath entries getclasspathentries entries org eclipse jdt core i classpath container iclasspathcontainer get description getdescription override string get description getdescription fake org eclipse jdt core i classpath container iclasspathcontainer get kind getkind override get kind getkind i classpath container iclasspathcontainer system org eclipse jdt core i classpath container iclasspathcontainer get path getpath override i path ipath get path getpath path java runtime javaruntime jre container param cpe set entries setentries i classpath entry iclasspathentry cpe entries cpe param classpath container tests classpathcontainertests string tests container accept update core exception coreexception test can update testcanupdate core exception coreexception create install mirrors current install i vm install ivminstall def java runtime javaruntime getdefaultvminstall string vm id vmid def get id getid system current time millis currenttimemillis vm standin vmstandin standin vm standin vmstandin def getvminstalltype vm id vmid string vm name vmname alternate jre i path ipath container path containerpath path java runtime javaruntime jre container container path containerpath container path containerpath append path def getvminstalltype get id getid container path containerpath container path containerpath append path vm name vmname standin set name setname vm name vmname standin set install location setinstalllocation def get install location getinstalllocation standin set javadoc location setjavadoclocation def get javadoc location getjavadoclocation standin set library locations setlibrarylocations java runtime javaruntime get library locations getlibrarylocations def standin convert to real m converttorealvm ensure exists i vm install ivminstall newvm def getvminstalltype findvminstall vm id vmid assert not null assertnotnull failed create newvm jre container jrecontainer container jre container jrecontainer newvm container path containerpath project jre container initializer jrecontainerinitializer initializer jre container initializer jrecontainerinitializer store current library settings library location librarylocation original libs originallibs java runtime javaruntime get library locations getlibrarylocations newvm assert true asserttrue libraries empty original libs originallibs length i classpath entry iclasspathentry original entries originalentries container get classpath entries getclasspathentries assert equals assertequals libraries size classpath entries original libs originallibs length original entries originalentries length ensure update assert true asserttrue initializer accept update initializer can update classpath container canupdateclasspathcontainer container path containerpath project update empty libraries fake container fakecontainer fake container fakecontainer fake container fakecontainer initializer request classpath container update requestclasspathcontainerupdate container path containerpath project fake container fakecontainer ensure library locations empty library location librarylocation new libs newlibs java runtime javaruntime get library locations getlibrarylocations newvm assert equals assertequals libraries empty new libs newlibs length original libraries fake container fakecontainer set entries setentries original entries originalentries initializer request classpath container update requestclasspathcontainerupdate container path containerpath project fake container fakecontainer ensure libraries restored new libs newlibs java runtime javaruntime get library locations getlibrarylocations newvm assert equals assertequals libraries restored original libs originallibs length new libs newlibs length new libs newlibs length library location librarylocation location new libs newlibs library location librarylocation orig i origi original libs originallibs assert equals assertequals library equal orig i origi get system library path getsystemlibrarypath to file tofile location get system library path getsystemlibrarypath to file tofile tests library comparison sensitivity core exception coreexception test library case sensitivity testlibrarycasesensitivity i vm install ivminstall def java runtime javaruntime getdefaultvminstall library location librarylocation libs java runtime javaruntime get library locations getlibrarylocations def case sensitive casesensitive platform getos equals platform win library location librarylocation library location librarylocation libs length library location librarylocation library location librarylocation libs length libs length library location librarylocation lib libs string lib get system library path getsystemlibrarypath toosstring i path ipath path string to upper case touppercase i path ipath path library location librarylocation library location librarylocation equal jre runtime classpath entry resolver jreruntimeclasspathentryresolver is same archives issamearchives case sensitive casesensitive assert false assertfalse libraries equal sensitive platform equal assert true asserttrue libraries equal sensitive platform equal tests link library location librarylocation https bugs eclipse org bugs bug cgi testjrecontainerindex exception current i vm install ivminstall def java runtime javaruntime getdefaultvminstall library location librarylocation libs java runtime javaruntime get library locations getlibrarylocations def generate library location save time libraries url indexurl get index for library getindexforlibrary libs clone current add library indexed vm standin vmstandin newvmstandin vm standin vmstandin def getvminstalltype jre newvmstandin set name setname jre pre built newvmstandin set install location setinstalllocation def get install location getinstalllocation library location librarylocation new libs newlibs library location librarylocation new libs newlibs library location librarylocation libs get system library path getsystemlibrarypath libs get system library source path getsystemlibrarysourcepath libs get package root path getpackagerootpath libs get javadoc location getjavadoclocation indexurl newvmstandin set library locations setlibrarylocations new libs newlibs i vm install ivminstall newvm newvmstandin convert to real m converttorealvm url correct assert equals assertequals indexurl newvm get library locations getlibrarylocations get index location getindexlocation create jre container i path ipath container path containerpath path java runtime javaruntime jre container jre container jrecontainer container jre container jrecontainer newvm container path containerpath project i classpath entry iclasspathentry original entries originalentries container get classpath entries getclasspathentries classpath entry library assert equals assertequals original entries originalentries length i classpath attribute iclasspathattribute cp attributes cpattributes original entries originalentries get extra attributes getextraattributes string index loc indexloc cp attributes cpattributes length i classpath attribute iclasspathattribute location attribute equals cp attributes cpattributes get name getname index loc indexloc cp attributes cpattributes get value getvalue assert not null assertnotnull location classpath attrib ue attribue index loc indexloc original indexurl string form assert equals assertequals indexurl to string tostring index loc indexloc tests link library location librarylocation successive calls link java runtime javaruntime get library locations getlibrarylocations i vm install ivminstall erase infos https bugs eclipse org bugs bug cgi testjrecontainerindex exception current i vm install ivminstall def java runtime javaruntime getdefaultvminstall library location librarylocation libs java runtime javaruntime get library locations getlibrarylocations def generate library location save time libraries url indexurl get index for library getindexforlibrary libs clone current add library indexed vm standin vmstandin newvmstandin vm standin vmstandin def getvminstalltype jre newvmstandin set name setname jre pre built newvmstandin set install location setinstalllocation def get install location getinstalllocation library location librarylocation new libs newlibs library location librarylocation new libs newlibs library location librarylocation libs get system library path getsystemlibrarypath libs get system library source path getsystemlibrarysourcepath libs get package root path getpackagerootpath libs get javadoc location getjavadoclocation indexurl newvmstandin set library locations setlibrarylocations new libs newlibs i vm install ivminstall newvm newvmstandin convert to real m converttorealvm libs java runtime javaruntime get library locations getlibrarylocations newvm assert not null assertnotnull file libs get system library path getsystemlibrarypath libs get index location getindexlocation generates returns link url file link library location librarylocation location url get index for library getindexforlibrary library location librarylocation library i o exception ioexception malformedurlexception construct path file file library file libraryfile library get system library path getsystemlibrarypath to file tofile string index name indexname library file libraryfile get name getname i path ipath index path indexpath java test plugin javatestplugin get default getdefault get state location getstatelocation append index name indexname generate jdt core api java indexer javaindexer generate index for jar generateindexforjar library file libraryfile get absolute path getabsolutepath index path indexpath toosstring url url indexurl index path indexpath to file tofile touri tourl indexurl
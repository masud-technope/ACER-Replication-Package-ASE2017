copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal launching java byte array input stream bytearrayinputstream java file java input stream inputstream java util array list arraylist java util list java util map org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime status org eclipse core runtime sub monitor submonitor org eclipse debug core debug plugin debugplugin org eclipse debug core i launch manager ilaunchmanager org eclipse debug core launch org eclipse debug core model i process iprocess org eclipse debug core model i streams proxy istreamsproxy org eclipse jdt launching abstractvminstalltype org eclipse jdt launching ivm install type ivminstalltype org eclipse jdt launching java runtime javaruntime org eclipse jdt launching vm standin vmstandin org eclipse osgi util nls searches installed jr es jres mac macinstalledjres executable java nls string java plist usr lib exec libexec java plist attribute describing jre directory nls string plist jvm path jvm home path jvmhomepath plist attribute describing jre nls string plist jvm jvm name jvmname plist attribute describing jre version nls string plist jvm version jvm version jvmversion plist attribute describing bundle nls string plist jvm bundle jvm bundle d jvmbundleid vm standin vmstandin vms vm standin vmstandin custom stand provide version macvmstandin vm standin vmstandin string version macvmstandin ivm install type ivminstalltype type file location string string version string type set install location setinstalllocation location set name setname version version override string get java version getjavaversion version parses xml output produced java bug collection descriptions jre install ations installations param monitor link i progress monitor iprogressmonitor code code array link vm standin vmstandin installed exception core exception coreexception unable parse output executable exist vm standin vmstandin getinstalledjres i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor smonitor sub monitor submonitor convert monitor locate java executable file java file java plist java exists nls core exception coreexception nls status i status istatus warning launching plugin launchingplugin get unique identifier getuniqueidentifier java executable exist nls string cmd line cmdline string java plist process debug plugin debugplugin exec cmd line cmdline i process iprocess process nls debug plugin debugplugin new process newprocess nls launch i launch manager ilaunchmanager mode nls nls jre install detection wait seconds milliseconds process is terminated isterminated thread sleep interrupted exception interruptedexception parsejreinfo process monitor destroy smonitor is canceled iscanceled smonitor parses output java param process process output java param link i progress monitor iprogressmonitor code code array jre descriptions installed exception core exception coreexception unable parse output vm standin vmstandin parsejreinfo i process iprocess process i progress monitor iprogressmonitor monitor core exception coreexception i streams proxy istreamsproxy str eams proxy streamsproxy process get streams proxy getstreamsproxy string text str eams proxy streamsproxy text str eams proxy streamsproxy get output stream monitor getoutputstreammonitor get contents getcontents text text length byte array input stream bytearrayinputstream stream byte array input stream bytearrayinputstream text get bytes getbytes parsejreinfo stream monitor vms parse link jre descriptor jredescriptor input stream stream expected xml properties format param monitor link i progress monitor iprogressmonitor code code param stream array link vm standin vmstandin empty array code code vm standin vmstandin parsejreinfo input stream inputstream stream i progress monitor iprogressmonitor monitor sub monitor submonitor smonitor sub monitor submonitor convert monitor launching messages launchingmessages macinstalledjres object result p list parser plistparser parse stream result object object maps object result smonitor set work remaining setworkremaining maps length list vm standin vmstandin jres array list arraylist vm standin vmstandin abstractvminstalltype mactype abstractvminstalltype nls java runtime javaruntime getvminstalltype nls org eclipse jdt internal launching macosx macosxtype mactype maps length smonitor is canceled iscanceled processing jres to array toarray vm standin vmstandin jres size object object maps object map map map map object object map plist jvm path object map plist jvm object version map plist jvm version string string version string smonitor set task name settaskname nls bind launching messages launchingmessages macinstalledjres string string string version string ver string version file loc file string augment version easier distinguish string buffer stringbuffer name buff namebuff string buffer stringbuffer to string tostring nls nls name buff namebuff append append ver append nls nls macvmstandin macvmstandin mactype loc name buff namebuff to string tostring ver compute id computeid map ver set javadoc location setjavadoclocation mactype get default javadoc location getdefaultjavadoclocation loc set library locations setlibrarylocations mactype get default library locations getdefaultlibrarylocations loc setvmargs mactype getdefaultvmarguments loc remove duplicates jres jres add smonitor worked jres to array toarray vm standin vmstandin jres size core exception coreexception launching plugin launchingplugin log smonitor vms compute descriptor link plist jvm bundle defined fall version param map map bundle version param version current version fall bundle defined link jre descriptor jredescriptor string compute id computeid map map string version object map plist jvm bundle string string version
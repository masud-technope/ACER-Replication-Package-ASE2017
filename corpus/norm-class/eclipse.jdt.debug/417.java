copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt debug tests java util hash set hashset java util iterator java util org eclipse debug core debug exception debugexception org eclipse debug core debug plugin debugplugin org eclipse debug core i launch ilaunch org eclipse debug core model i thread ithread org eclipse debug internal core i internal debug core constants iinternaldebugcoreconstants org eclipse debug internal debuguiplugin org eclipse debug internal instruction pointer annotation instructionpointerannotation org eclipse debug internal instruction pointer manager instructionpointermanager org eclipse debug internal viewers model internal tree model viewer internaltreemodelviewer org eclipse debug idebuguiconstants org eclipse debug i debug view idebugview org eclipse jdt debug core i java debug target ijavadebugtarget org eclipse jdt debug core i java line breakpoint ijavalinebreakpoint org eclipse jdt debug core i java stack frame ijavastackframe org eclipse jdt debug core i java thread ijavathread org eclipse jdt debug tests abstract debug test abstractdebugtest org eclipse jface text source annotation org eclipse jface text source annotation model event annotationmodelevent org eclipse jface text source i annotation model iannotationmodel org eclipse jface text source i annotation model listener iannotationmodellistener org eclipse jface text source i annotation model listener extension iannotationmodellistenerextension org eclipse jface viewers tree path treepath org eclipse jface viewers tree selection treeselection org eclipse i editor input ieditorinput org eclipse i editor part ieditorpart org eclipse i editor reference ieditorreference org eclipse i part listener ipartlistener org eclipse i perspective descriptor iperspectivedescriptor org eclipse i perspective listener iperspectivelistener org eclipse i workbench page iworkbenchpage org eclipse i workbench part reference iworkbenchpartreference org eclipse i workbench window iworkbenchwindow org eclipse platformui org eclipse texteditor i document provider idocumentprovider org eclipse texteditor i text editor itexteditor tests functionality instruction pointer manager instructionpointermanager tests auto mated automated suite produce failures tracked instruction pointer manager instructionpointermanager instruction pointer manager tests instructionpointermanagertests abstract debug test abstractdebugtest object f lock flock object annotation f added annotation faddedannotation annotation f removed annotation fremovedannotation my perspective listener myperspectivelistener f perspective listener fperspectivelistener my annotation listener myannotationlistener f annotation listener fannotationlistener i part listener ipartlistener f part listener fpartlistener i annotation model iannotationmodel f annotation models with listeners fannotationmodelswithlisteners hash set hashset i annotation model iannotationmodel string type thread stack typethreadstack org eclipse debug tests targets thread stack threadstack string type class one typeclassone org eclipse debug tests targets class one classone string type class two typeclasstwo org eclipse debug tests targets class two classtwo i java debug target ijavadebugtarget target i java debug target ijavadebugtarget target i java thread ijavathread thread i java thread ijavathread thread i java thread ijavathread thread i java thread ijavathread thread instruction pointer manager tests instructionpointermanagertests string test manager with editor reuse testmanagerwitheditorreuse exception restore debuguiplugin get default getdefault get preference store getpreferencestore get boolean getboolean idebuguiconstants pref reuse editor debuguiplugin get default getdefault get preference store getpreferencestore set value setvalue idebuguiconstants pref reuse editor add and remove annotations addandremoveannotations system println clean up cleanup target terminate and remove terminateandremove target target terminate and remove terminateandremove target iterator i annotation model iannotationmodel ann models annmodels f annotation models with listeners fannotationmodelswithlisteners iterator ann models annmodels has next hasnext i annotation model iannotationmodel current model currentmodel ann models annmodels current model currentmodel remove annotation model listener removeannotationmodellistener get annotation listener getannotationlistener remove all breakpoints removeallbreakpoints debuguiplugin get default getdefault get preference store getpreferencestore set value setvalue idebuguiconstants pref reuse editor restore runnable cleanup runnable override i workbench window iworkbenchwindow active workbench window activeworkbenchwindow platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow active workbench window activeworkbenchwindow remove perspective listener removeperspectivelistener get perspective listener getperspectivelistener debuguiplugin get standard display getstandarddisplay async exec asyncexec cleanup test manager with no editor reuse testmanagerwithnoeditorreuse exception restore debuguiplugin get default getdefault get preference store getpreferencestore get boolean getboolean idebuguiconstants pref reuse editor debuguiplugin get default getdefault get preference store getpreferencestore set value setvalue idebuguiconstants pref reuse editor add and remove annotations addandremoveannotations system println clean up cleanup target terminate and remove terminateandremove target target terminate and remove terminateandremove target iterator i annotation model iannotationmodel ann models annmodels f annotation models with listeners fannotationmodelswithlisteners iterator ann models annmodels has next hasnext i annotation model iannotationmodel current model currentmodel ann models annmodels current model currentmodel remove annotation model listener removeannotationmodellistener get annotation listener getannotationlistener remove all breakpoints removeallbreakpoints debuguiplugin get default getdefault get preference store getpreferencestore set value setvalue idebuguiconstants pref reuse editor restore runnable cleanup runnable override i workbench window iworkbenchwindow active workbench window activeworkbenchwindow platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow active workbench window activeworkbenchwindow remove perspective listener removeperspectivelistener get perspective listener getperspectivelistener debuguiplugin get standard display getstandarddisplay async exec asyncexec cleanup tests ability manager update mapping annotations removed editors closed manager checked ensure ipc s ipcs annotations created numbers brackets correspond expected ipc mapping counts checked pre target thread ipc class one classone editor thread ipc class one classone editor ipc thread stack threadstack editor target thread ipc thread stack threadstack editor thread ipc class two classtwo editor pre removed numbers brackets correspond expected ipc mapping counts checked target terminated thread res umed resumed editor closed editors closed closing editor ipc s ipcs exist param expectedipccounts array expected values ipc count step marked length param expected mapping counts expectedmappingcounts array expected values editor mapping count step marked length exception add and remove annotations addandremoveannotations expectedipccounts expected mapping counts expectedmappingcounts exception assert equals assertequals incorrect number expected counts expectedipccounts length assert equals assertequals incorrect number expected counts expected mapping counts expectedmappingcounts length close editors runnable close all closeall runnable override i workbench window iworkbenchwindow active workbench window activeworkbenchwindow platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow active workbench window activeworkbenchwindow get active page getactivepage close all editors closealleditors active workbench window activeworkbenchwindow add perspective listener addperspectivelistener get perspective listener getperspectivelistener debuguiplugin get standard display getstandarddisplay sync exec syncexec close all closeall assert equals assertequals instruction pointer count incorrect instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount add annotations launch target creating threads suspend class one classone automatically selected i java line breakpoint ijavalinebreakpoint breakpoint create line breakpoint createlinebreakpoint type class one typeclassone f added annotation faddedannotation get perspective listener getperspectivelistener set title settitle type class one typeclassone thread launch and suspend launchandsuspend type thread stack typethreadstack target i java debug target ijavadebugtarget thread get debug target getdebugtarget assert not null assertnotnull target launched target assert not null assertnotnull target launched thread wait for annotation to be added waitforannotationtobeadded assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount find select top stack frame thread runnable open parent openparent runnable override i debug view idebugview debug view debugview i debug view idebugview platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow get active page getactivepage find view findview org eclipse debug debug view debugview object new segments newsegments object new segments newsegments target get launch getlaunch new segments newsegments target i thread ithread threads i java debug target ijavadebugtarget new segments newsegments get threads getthreads threads length threads is suspended issuspended threads equals thread thread i java thread ijavathread threads new segments newsegments threads new segments newsegments threads get top stack frame gettopstackframe internal tree model viewer internaltreemodelviewer debug view debugview get viewer getviewer set selection setselection tree selection treeselection tree path treepath new segments newsegments debug exception debugexception fail exception get message getmessage f added annotation faddedannotation get perspective listener getperspectivelistener set title settitle type class one typeclassone debuguiplugin get standard display getstandarddisplay sync exec syncexec open parent openparent wait for annotation to be added waitforannotationtobeadded assert not null assertnotnull thread selected thread assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount select stack frame ipc count doesn change runnable select same stack frame selectsamestackframe runnable override i debug view idebugview debug view debugview i debug view idebugview platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow get active page getactivepage find view findview org eclipse debug debug view debugview object new segments newsegments object new segments newsegments target get launch getlaunch new segments newsegments target new segments newsegments thread new segments newsegments thread get top stack frame gettopstackframe debug exception debugexception fail exception get message getmessage internal tree model viewer internaltreemodelviewer debug view debugview get viewer getviewer set selection setselection tree selection treeselection tree path treepath new segments newsegments f added annotation faddedannotation get perspective listener getperspectivelistener set title settitle type class one typeclassone debuguiplugin get standard display getstandarddisplay sync exec syncexec select same stack frame selectsamestackframe wait for annotation to be added waitforannotationtobeadded assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount select stack frame thread runnable select second stack frame selectsecondstackframe runnable override i debug view idebugview debug view debugview i debug view idebugview platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow get active page getactivepage find view findview org eclipse debug debug view debugview object new segments newsegments object new segments newsegments target get launch getlaunch new segments newsegments target new segments newsegments thread select stack frame new segments newsegments thread get stack frames getstackframes debug exception debugexception fail exception get message getmessage internal tree model viewer internaltreemodelviewer debug view debugview get viewer getviewer set selection setselection tree selection treeselection tree path treepath new segments newsegments f added annotation faddedannotation get perspective listener getperspectivelistener set title settitle type thread stack typethreadstack debuguiplugin get standard display getstandarddisplay sync exec syncexec select second stack frame selectsecondstackframe wait for annotation to be added waitforannotationtobeadded failure reuse expected reuse expected assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount remove breakpoint create start target breakpoint delete create line breakpoint createlinebreakpoint type thread stack typethreadstack create line breakpoint createlinebreakpoint type class two typeclasstwo target i java debug target ijavadebugtarget launch and suspend launchandsuspend type thread stack typethreadstack get debug target getdebugtarget assert not null assertnotnull target launched target assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount select stack frame debug target displaying thread stack threadstack runnable open other debug target openotherdebugtarget runnable override i debug view idebugview debug view debugview i debug view idebugview platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow get active page getactivepage find view findview org eclipse debug debug view debugview i launch ilaunch launches debug plugin debugplugin get default getdefault get launch manager getlaunchmanager get launches getlaunches object new segments newsegments object launches length target equals launches get debug target getdebugtarget new segments newsegments launches new segments newsegments target i thread ithread threads target get threads getthreads threads length threads is suspended issuspended type thread stack typethreadstack equals i java stack frame ijavastackframe threads get top stack frame gettopstackframe get declaring type name getdeclaringtypename thread i java thread ijavathread threads new segments newsegments threads new segments newsegments threads get top stack frame gettopstackframe debug exception debugexception fail exception get message getmessage internal tree model viewer internaltreemodelviewer debug view debugview get viewer getviewer set selection setselection tree selection treeselection tree path treepath new segments newsegments f added annotation faddedannotation get perspective listener getperspectivelistener set title settitle type thread stack typethreadstack debuguiplugin get standard display getstandarddisplay sync exec syncexec open other debug target openotherdebugtarget assert not null assertnotnull thread selected thread wait for annotation to be added waitforannotationtobeadded assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount select thread target displaying class two classtwo runnable open other thread openotherthread runnable override i debug view idebugview debug view debugview i debug view idebugview platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow get active page getactivepage find view findview org eclipse debug debug view debugview object new segments newsegments object new segments newsegments target get launch getlaunch new segments newsegments target i thread ithread threads target get threads getthreads threads length threads is suspended issuspended threads equals thread thread i java thread ijavathread threads new segments newsegments threads new segments newsegments threads get top stack frame gettopstackframe internal tree model viewer internaltreemodelviewer debug view debugview get viewer getviewer set selection setselection tree selection treeselection tree path treepath new segments newsegments debug exception debugexception fail exception get message getmessage f added annotation faddedannotation get perspective listener getperspectivelistener set title settitle type class two typeclasstwo debuguiplugin get standard display getstandarddisplay sync exec syncexec open other thread openotherthread assert not null assertnotnull thread selected thread wait for annotation to be added waitforannotationtobeadded assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount remove annotations remove target f removed annotation fremovedannotation target terminate wait for annotation to be removed waitforannotationtoberemoved assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount todo selection target occur automatically functionality change test resume thread f removed annotation fremovedannotation thread resume wait for annotation to be removed waitforannotationtoberemoved assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount close editor displaying thread stack threadstack java open runnable close editor closeeditor runnable override i workbench window iworkbenchwindow active workbench window activeworkbenchwindow platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow i editor reference ieditorreference editors active workbench window activeworkbenchwindow get active page getactivepage get editor references geteditorreferences editors length editors get title gettitle equals thread stack threadstack java active workbench window activeworkbenchwindow get active page getactivepage close editors closeeditors i editor reference ieditorreference editors clear removed annotation test waits annotation removed f removed annotation fremovedannotation f removed annotation fremovedannotation check editor closed annotation object reset causing wait occur editor closed f removed annotation fremovedannotation annotation debuguiplugin get standard display getstandarddisplay sync exec syncexec close editor closeeditor wait for annotation to be removed waitforannotationtoberemoved assert equals assertequals instruction pointer count incorrect expectedipccounts instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect expected mapping counts expectedmappingcounts instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount close editors runnable close all editors closealleditors runnable override i workbench window iworkbenchwindow active workbench window activeworkbenchwindow platformui get workbench getworkbench get active workbench window getactiveworkbenchwindow active workbench window activeworkbenchwindow get active page getactivepage close all editors closealleditors f removed annotation fremovedannotation debuguiplugin get standard display getstandarddisplay sync exec syncexec close all editors closealleditors wait for annotation to be removed waitforannotationtoberemoved assert equals assertequals instruction pointer count incorrect instruction pointer manager instructionpointermanager get default getdefault get instruction pointer count getinstructionpointercount assert equals assertequals editor mapping count incorrect instruction pointer manager instructionpointermanager get default getdefault get editor mapping count geteditormappingcount my perspective listener myperspectivelistener get perspective listener getperspectivelistener f perspective listener fperspectivelistener f perspective listener fperspectivelistener my perspective listener myperspectivelistener f perspective listener fperspectivelistener f perspective listener fperspectivelistener my annotation listener myannotationlistener get annotation listener getannotationlistener f annotation listener fannotationlistener f annotation listener fannotationlistener my annotation listener myannotationlistener f annotation listener fannotationlistener f annotation listener fannotationlistener i part listener ipartlistener get part listener getpartlistener f part listener fpartlistener f part listener fpartlistener my part listener mypartlistener f part listener fpartlistener f part listener fpartlistener wait for annotation to be added waitforannotationtobeadded exception f lock flock f added annotation faddedannotation f lock flock wait assert not null assertnotnull annotation properly synchronize thread annotations finished runnable runner runnable override waiting thread finish annotations debuguiplugin get standard display getstandarddisplay sync exec syncexec runner wait for annotation to be removed waitforannotationtoberemoved exception f lock flock f removed annotation fremovedannotation f lock flock wait assert not null assertnotnull annotation removed properly synchronize thread annotations finished runnable runner runnable override waiting thread finish annotations debuguiplugin get standard display getstandarddisplay sync exec syncexec runner my perspective listener myperspectivelistener i perspective listener iperspectivelistener string f type name ftypename i internal debug core constants iinternaldebugcoreconstants empty string string f title ftitle i internal debug core constants iinternaldebugcoreconstants empty string override perspective activated perspectiveactivated i workbench page iworkbenchpage i perspective descriptor iperspectivedescriptor perspective override perspective changed perspectivechanged i workbench page iworkbenchpage i perspective descriptor iperspectivedescriptor perspective string change id changeid javadoc org eclipse i perspective listener iperspectivelistener perspective changed perspectivechanged org eclipse i workbench page iworkbenchpage org eclipse i perspective descriptor iperspectivedescriptor org eclipse i workbench part reference iworkbenchpartreference java lang string override perspective changed perspectivechanged i workbench page iworkbenchpage i perspective descriptor iperspectivedescriptor perspective i workbench part reference iworkbenchpartreference part ref partref string change id changeid part ref partref get title gettitle equals f title ftitle change id changeid i workbench page iworkbenchpage change editor open i editor part ieditorpart editor i editor part ieditorpart part ref partref get part getpart editor i text editor itexteditor i document provider idocumentprovider doc provider docprovider i text editor itexteditor editor get document provider getdocumentprovider i editor input ieditorinput editor input editorinput editor get editor input geteditorinput annotation model i annotation model iannotationmodel ann model annmodel doc provider docprovider get annotation model getannotationmodel editor input editorinput ann model annmodel fail annotation model ann model annmodel add annotation model listener addannotationmodellistener get annotation listener getannotationlistener f annotation models with listeners fannotationmodelswithlisteners add ann model annmodel fail editor text editor part ref partref get page getpage add part listener addpartlistener get part listener getpartlistener change id changeid i workbench page iworkbenchpage change editor close part ref partref get page getpage get editor references geteditorreferences length part ref partref get page getpage remove part listener removepartlistener get part listener getpartlistener set title settitle string type name typename f type name ftypename type name typename type name typename last index of lastindexof f title ftitle type name typename substring java f title ftitle type name typename java string get type name gettypename f type name ftypename my part listener mypartlistener i part listener ipartlistener override part activated partactivated i workbench part reference iworkbenchpartreference part ref partref override part deactivated partdeactivated i workbench part reference iworkbenchpartreference part ref partref override part hidden parthidden i workbench part reference iworkbenchpartreference part ref partref override part opened partopened i workbench part reference iworkbenchpartreference part ref partref override part visible partvisible i workbench part reference iworkbenchpartreference part ref partref override part brought to top partbroughttotop i workbench part reference iworkbenchpartreference part ref partref override part closed partclosed i workbench part reference iworkbenchpartreference part ref partref javadoc org eclipse i part listener ipartlistener part input changed partinputchanged org eclipse i workbench part reference iworkbenchpartreference override part input changed partinputchanged i workbench part reference iworkbenchpartreference part ref partref i editor part ieditorpart editor i editor part ieditorpart part ref partref get part getpart editor i text editor itexteditor i document provider idocumentprovider doc provider docprovider i text editor itexteditor editor get document provider getdocumentprovider i editor input ieditorinput editor input editorinput editor get editor input geteditorinput annotation model i annotation model iannotationmodel ann model annmodel doc provider docprovider get annotation model getannotationmodel editor input editorinput ann model annmodel fail annotation model ann model annmodel add annotation model listener addannotationmodellistener get annotation listener getannotationlistener f annotation models with listeners fannotationmodelswithlisteners add ann model annmodel fail editor text editor my annotation listener myannotationlistener i annotation model listener iannotationmodellistener i annotation model listener extension iannotationmodellistenerextension override model changed modelchanged annotation model event annotationmodelevent event annotation annotations event get added annotations getaddedannotations annotations length annotations instruction pointer annotation instructionpointerannotation f lock flock f added annotation faddedannotation annotations f lock flock notify all notifyall system println annotation editor f added annotation faddedannotation event get annotation model getannotationmodel annotations event get removed annotations getremovedannotations annotations length annotations instruction pointer annotation instructionpointerannotation f lock flock f removed annotation fremovedannotation annotations f lock flock notify all notifyall override model changed modelchanged i annotation model iannotationmodel model
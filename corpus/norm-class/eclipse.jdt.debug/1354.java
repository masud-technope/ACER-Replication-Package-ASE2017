copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt debug tests refactoring java util array list arraylist java util hash set hashset java util org eclipse core resources i project iproject org eclipse core resources resources plugin resourcesplugin org eclipse debug internal core i internal debug core constants iinternaldebugcoreconstants org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i member imember org eclipse jdt core i method imethod org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt internal core source method sourcemethod org eclipse jdt internal core source type sourcetype methods find i member imember path sub divide d subdivided character syntax type inner type innertype method name and signature methodnameandsignature anonymous type declaration number anonymoustypedeclarationnumber field name fieldname code foo a method amethod object anon object an int field anintfield string anon type method anontypemethod code syntax an int field anintfield foo a method amethod an int field anintfield syntax anonymous to string tostring foo a method amethod anon type method anontypemethod q string qstring local types listed syntax count count name countname code my type mytype code member parser memberparser param type qualified name typequalifiedname array list arraylist string create type list createtypelist string type qualified name typequalifiedname string new name newname type qualified name typequalifiedname ensure proper format new name newname new name newname replace nls string parsed new name newname split list types find array list arraylist string type list typelist array list arraylist string split num splitnum split num splitnum parsed length split num splitnum type list typelist add parsed split num splitnum type list typelist param fragments scope compilation units handle compilation units contained fragments java model exception javamodelexception i compilation unit icompilationunit get all compilation units getallcompilationunits i package fragment ipackagefragment fragments java model exception javamodelexception fragments i compilation unit icompilationunit hash set hashset i compilation unit icompilationunit fragment num fragmentnum fragment num fragmentnum fragments length fragment num fragmentnum fragments fragment num fragmentnum contains java resources containsjavaresources i compilation unit icompilationunit cunits fragments fragment num fragmentnum get compilation units getcompilationunits cunit num cunitnum cunit num cunitnum cunits length cunit num cunitnum add cunits cunit num cunitnum is empty isempty to array toarray i compilation unit icompilationunit size param projects scope compilation units handle compilation units contained projects java model exception javamodelexception i compilation unit icompilationunit get all compilation units getallcompilationunits i project iproject projects java model exception javamodelexception get all compilation units getallcompilationunits get all package fragments getallpackagefragments projects i compilation unit icompilationunit get all compilation units getallcompilationunits string package name packagename i project iproject projects java model exception javamodelexception get all compilation units getallcompilationunits get all package fragments getallpackagefragments package name packagename projects param types array declared methods types java model exception javamodelexception i method imethod get all methods getallmethods i type itype types java model exception javamodelexception types i method imethod hash set hashset i method imethod type num typenum type num typenum types length type num typenum i method imethod methods types type num typenum get methods getmethods method num methodnum method num methodnum methods length method num methodnum add methods method num methodnum is empty isempty to array toarray source method sourcemethod size param projects scope fragments scope java model exception javamodelexception i package fragment ipackagefragment get all package fragments getallpackagefragments i project iproject projects java model exception javamodelexception i package fragment ipackagefragment hash set hashset i package fragment ipackagefragment project num projectnum project num projectnum projects length project num projectnum i java project ijavaproject java proj javaproj java core javacore create projects project num projectnum java proj javaproj java proj javaproj exists java proj javaproj has children haschildren i package fragment ipackagefragment fragments java proj javaproj get package fragments getpackagefragments fragment num fragmentnum fragment num fragmentnum fragments length fragment num fragmentnum add fragments fragment num fragmentnum is empty isempty to array toarray i package fragment ipackagefragment size projects workspace i project iproject get all projects getallprojects resources plugin resourcesplugin get workspace getworkspace get root getroot get projects getprojects param cunits scope search types scope java model exception javamodelexception i type itype get all types getalltypes i compilation unit icompilationunit cunits java model exception javamodelexception cunits i type itype hash set hashset i type itype cunit num cunitnum cunit num cunitnum cunits length cunit num cunitnum top level toplevel types i type itype types cunits cunit num cunitnum get types gettypes type num typenum type num typenum types length type num typenum add types type num typenum is empty isempty to array toarray i type itype size param methods scope search array types declared methods java model exception javamodelexception i type itype get all types getalltypes i method imethod methods java model exception javamodelexception methods i java element ijavaelement hash set hashset i java element ijavaelement method num methodnum method num methodnum methods length method num methodnum i java element ijavaelement children methods method num methodnum get children getchildren child num childnum child num childnum children length child num childnum children child num childnum i type itype add children child num childnum is empty isempty to array toarray source type sourcetype size search type children including methods anonymous types types param types scope search types scope java model exception javamodelexception i type itype get all types getalltypes i type itype types java model exception javamodelexception types i type itype new types newtypes types i type itype hash set hashset i type itype obvious type declarations main type num maintypenum main type num maintypenum new types newtypes length main type num maintypenum i type itype declared types declaredtypes new types newtypes main type num maintypenum get types gettypes declared type num declaredtypenum declared type num declaredtypenum declared types declaredtypes length declared type num declaredtypenum add declared types declaredtypes declared type num declaredtypenum type method type declarations new types newtypes get all types getalltypes get all methods getallmethods new types newtypes method types methodtypes method types methodtypes new types newtypes length method types methodtypes add new types newtypes method types methodtypes is empty isempty change i type itype to array toarray source type sourcetype size returns java project param project java project i java project ijavaproject get java project getjavaproject i project iproject project resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject java core javacore create project param package name packagename param projects search instance package name packagename java model exception javamodelexception i package fragment ipackagefragment get all package fragments getallpackagefragments string package name packagename i project iproject projects java model exception javamodelexception i package fragment ipackagefragment hash set hashset i package fragment ipackagefragment project num projectnum project num projectnum projects length project num projectnum i java project ijavaproject java proj javaproj java core javacore create projects project num projectnum java proj javaproj java proj javaproj exists java proj javaproj has children haschildren i package fragment ipackagefragment fragments java proj javaproj get package fragments getpackagefragments fragment num fragmentnum fragment num fragmentnum fragments length fragment num fragmentnum fragments fragment num fragmentnum get element name getelementname equals ignore case equalsignorecase package name packagename add fragments fragment num fragmentnum is empty isempty to array toarray i package fragment ipackagefragment size i project iproject get project getproject string project name projectname resources plugin resourcesplugin get workspace getworkspace get root getroot get project getproject project name projectname i type itype get type gettype array list arraylist string type list typelist i compilation unit icompilationunit cunits java model exception javamodelexception i type itype types get all types getalltypes cunits letter number anonymous target is anonymous targetisanonymous character is digit isdigit type list typelist to string tostring char at charat target found targetfound separator search types desired target int ernally internally check types type num typenum search current list types type num typenum types length ensure format target is anonymous targetisanonymous string name of current type nameofcurrenttype types type num typenum get type qualified name gettypequalifiedname separator name of current type nameofcurrenttype name of current type nameofcurrenttype substring name of current type nameofcurrenttype last index of lastindexof separator target found targetfound name of current type nameofcurrenttype equals ignore case equalsignorecase type list typelist to string tostring target found targetfound types type num typenum get element name getelementname equals ignore case equalsignorecase type list typelist to string tostring yay target found targetfound type list typelist remove type list typelist is empty isempty destination types type num typenum type subtypes types get all types getalltypes level i type itype level types type num typenum check format type target is anonymous targetisanonymous character is digit isdigit type list typelist to string tostring char at charat start type num typenum check type type num typenum top level types check methods types get all types getalltypes get all methods getallmethods types types could n couldn find search workspace requested type faster search param type name typename type qualifiers a type atype inner type innertype type in anonymous type typeinanonymoustype type in anonymous type typeinanonymoustype inner type innertype type in anonymous type typeinanonymoustype param package name packagename elem ental elemental type param project name projectname elem ental elemental project type i type itype handle requested type java model exception javamodelexception i type itype get type gettype string type name typename string package name packagename string project name projectname java model exception javamodelexception type name typename list types find order array list arraylist string type list typelist create type list createtypelist type name typename proper project i project iproject projects project name projectname project name projectname length projects i project iproject get project getproject project name projectname projects get all projects getallprojects comp units projects i compilation unit icompilationunit cunits package name packagename package name packagename length cunits get all compilation units getallcompilationunits package name packagename projects cunits get all compilation units getallcompilationunits projects get type gettype type list typelist cunits param compilation unit compilationunit top level toplevel type param target i member imember target listed full syntax member parser memberparser enclosing type enclosingtype inner type innertype lowest level type input i member imember get deepest getdeepest i compilation unit icompilationunit string target target length target char at charat enclosing type enclosingtype inner type innertype more inner moreinner string tail target substring i type itype enclosure get type gettype target substring enclosure exists get deepest getdeepest enclosure tail type get type gettype target helper method get lowest type getlowesttype i compilation unit icompilationunit string input param top enclosing type param tail typename including type separated enclosing type enclosingtype inner type innertype designated type type i member imember get deepest getdeepest i member imember top string tail string new tail newtail tail new tail newtail new tail newtail length top top exists check nested elements string head new tail newtail length nested item new tail newtail char at charat enclosing more inner moreinner head new tail newtail substring new tail newtail new tail newtail substring item item parse head swap members head new tail newtail new tail newtail top i type itype get next from type getnextfromtype top head new tail newtail top i method imethod get next from method getnextfrommethod top head new tail newtail top i field ifield get next from field getnextfromfield top head new tail newtail problem get deepest getdeepest top new tail newtail param head string parse type format occurance type head type string get local type name getlocaltypename string head head length character is digit isdigit head char at charat head substring entire number i internal debug core constants iinternaldebugcoreconstants empty string param head string parse occurrence type format occurance type head type get local type occurrence getlocaltypeoccurrence string head head length character is digit isdigit head char at charat integer parse int parseint head substring entire number integer parse int parseint head param head method signature simply method format method name signature methodnamesignature head some method somemethod string get name getname string head head length nested item head char at charat head substring param top field search param head member find param tail remaining members find member contained field i member imember get next from field getnextfromfield i member imember top string head string tail i field ifield current i field ifield top i type itype type current get type gettype get local type name getlocaltypename head get local type occurrence getlocaltypeoccurrence head type exists get deepest getdeepest type tail failed param top member search param head member find param tail remaining members find member contained method i member imember get next from method getnextfrommethod i member imember top string head string tail local anonymous type i method imethod current i method imethod top type i type itype type current get type gettype get local type name getlocaltypename head get local type occurrence getlocaltypeoccurrence head type exists get deepest getdeepest type tail param top member search param head member find param tail remaining members find member contained type i member imember get next from type getnextfromtype i member imember top string head string tail i type itype current i type itype top type i member imember current get type gettype head exists get deepest getdeepest tail field current get field getfield head exists get deepest getdeepest tail method current get method getmethod get name getname head get signature getsignature head exists get deepest getdeepest tail failed param head method signature simply parameter type signature parametertypesignature format method name signature methodnamesignature head some method somemethod string get signature getsignature string head head length nested item head char at charat signature get parameter types getparametertypes head substring
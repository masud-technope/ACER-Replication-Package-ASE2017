copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse jdt internal launching java file java io exception ioexception java util array list arraylist java util arrays java util java util iterator java util list java util map java util map entry org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime platform org eclipse core runtime sub progress monitor subprogressmonitor org eclipse debug core debug plugin debugplugin org eclipse debug core i launch ilaunch org eclipse debug core i launch configuration ilaunchconfiguration org eclipse debug core launch org eclipse debug core model i process iprocess org eclipse jdt launching abstractvmrunner org eclipse jdt launching i java launch configuration constants ijavalaunchconfigurationconstants org eclipse jdt launching ivm install ivminstall org eclipse jdt launching ivm install ivminstall org eclipse jdt launching vm runner configuration vmrunnerconfiguration org eclipse osgi util nls ibm icu text date format dateformat launcher running java main classes standardvmrunner abstractvmrunner constant representing code x start on first thread xstartonfirstthread code argument nls string xstart thread x start on first thread xstartonfirstthread install instance ivm install ivminstall fvminstance constructor param vm instance vminstance standardvmrunner ivm install ivminstall vm instance vminstance fvminstance vm instance vminstance returns rendered current target param class to run classtorun param host host current target string render debug target renderdebugtarget string class to run classtorun host string format launching messages launchingmessages standardvmrunner localhost nls bind format string class to run classtorun string value of valueof host returns rendered command param command line commandline command param timestamp time process process string render process label renderprocesslabel string command line commandline string timestamp string format launching messages launchingmessages standardvmrunner nls bind format string command line commandline timestamp p rep ares prepares command array strings param command line commandline command command label string render command line rendercommandline string command line commandline debug plugin debugplugin render arguments renderarguments command line commandline adds array link string link list param args strings param list add arguments addarguments string args list string args args length add args method consume rs consumers command start runner prior launching method returns array commands start runner code code existing command method returns code code indicating existing command launch param configuration backing link i launch configuration ilaunchconfiguration param cmd line cmdline existing command command launch code code existing string validate command line validatecommandline i launch configuration ilaunchconfiguration configuration string cmd line cmdline wrap configuration cmd line cmdline core exception coreexception launching plugin launchingplugin log cmd line cmdline adds special command arguments swt code code directive param config backing link i launch configuration ilaunchconfiguration param cmd line cmdline original arguments modified command launch core exception coreexception string wrap i launch configuration ilaunchconfiguration config string cmd line cmdline core exception coreexception config platform macosx equals platform getos cmd line cmdline length nls nls nls equals cmd line cmdline cmd line cmdline index of indexof swt jar cmd line cmdline index of indexof org eclipse swt createswtlauncher cmd line cmdline cmd line cmdline config get attribute getattribute i java launch configuration constants ijavalaunchconfigurationconstants attr start thread cmd line cmdline returns path executable param cmd line cmdline command param vm version vmversion version param start onfirstthread startonfirstthread command string createswtlauncher string cmd line cmdline string vm version vmversion start onfirstthread startonfirstthread property defined eclipse started java swt nls string java swt system get property getproperty org eclipse swt launcher swtlauncher java swt started java swt require supports x start on first thread xstartonfirstthread option array list arraylist string args array list arraylist string cmd line cmdline length xstart thread equals cmd line cmdline args add cmd line cmdline https bugs eclipse org bugs bug cgi start onfirstthread startonfirstthread add argument args add xstart thread args to array toarray string args size copy java swt tmp order app nls nls process process runtime get runtime getruntime exec string bin java swt tmp process wait for waitfor nls java swt tmp java swt io exception ioexception interrupted exception interruptedexception string new cmd line newcmdline string cmd line cmdline length arg count argcount new cmd line newcmdline arg count argcount java swt nls new cmd line newcmdline arg count argcount xx vm xxvm vm version vmversion cmd line cmdline length new cmd line newcmdline arg count argcount cmd line cmdline new cmd line newcmdline returns working directory launched code code working directory inherited current process param config configuration working directory exception core exception coreexception working directory configuration exist directory file get working dir getworkingdir vm runner configuration vmrunnerconfiguration config core exception coreexception string path config get working directory getworkingdirectory path file dir file path dir is directory isdirectory abort nls bind launching messages launchingmessages standardvmrunner working directory exist directory string path i java launch configuration constants ijavalaunchconfigurationconstants err working directory exist dir javadoc org eclipse jdt launching abstractvmrunner get plugin identifier getpluginidentifier override string get plugin identifier getpluginidentifier launching plugin launchingplugin get unique identifier getuniqueidentifier construct string full path java executable command java java w javaw exe configuration specifies explicit executable param config runner configuration full path java executable exception core exception coreexception unable locate executable string construct program string constructprogramstring vm runner configuration vmrunnerconfiguration config core exception coreexception user java executable command string command map string object map config get specific attributes map getvmspecificattributesmap map command string map i java launch configuration constants ijavalaunchconfigurationconstants attr java command java command executable command file exe fvminstance standardvm exe standardvm fvminstance get java executable getjavaexecutable exe standardvmtype find java executable findjavaexecutable fvminstance get install location getinstalllocation exe abort nls bind launching messages launchingmessages standardvmrunner unable locate executable string fvminstance get name getname i java launch configuration constants ijavalaunchconfigurationconstants err internal error exe get absolute path getabsolutepath build path java executable bin doesn exist jre bin string install location installlocation fvminstance get install location getinstalllocation get absolute path getabsolutepath file separator char separatorchar nls file exe file install location installlocation bin file separator char separatorchar command file exists fileexists exe exe get absolute path getabsolutepath nls exe file exe get absolute path getabsolutepath exe file exists fileexists exe exe get absolute path getabsolutepath nls nls exe file install location installlocation jre file separator char separatorchar bin file separator char separatorchar command file exists fileexists exe exe get absolute path getabsolutepath nls exe file exe get absolute path getabsolutepath exe file exists fileexists exe exe get absolute path getabsolutepath abort nls bind launching messages launchingmessages standardvmrunner executable exist string command fvminstance get name getname i java launch configuration constants ijavalaunchconfigurationconstants err internal error note exception thrown returned convenience method determine file exists param file file check file exists file exists fileexists file file file exists file is file isfile string convert class path convertclasspath string path count pathcount string buffer stringbuffer buf string buffer stringbuffer length nls length path count pathcount buf append file path separator pathseparator buf append path count pathcount buf to string tostring method ensure jvm file encoding matches console preference file encoding user explicitly declares file encoding launch configuration file encoding param launch link launch param vmargs original listing jvm arguments listing jvm arguments including file encoding string ensure encoding ensureencoding i launch ilaunch launch string vmargs found encoding foundencoding vmargs length nls vmargs starts with startswith dfile encoding found encoding foundencoding found encoding foundencoding string encoding launch get attribute getattribute debug plugin debugplugin attr console encoding encoding vmargs string new args newargs string vmargs length system arraycopy vmargs new args newargs vmargs length nls new args newargs new args newargs length dfile encoding encoding new args newargs vmargs javadoc org eclipse jdt launching ivm runner ivmrunner org eclipse jdt launching vm runner configuration vmrunnerconfiguration org eclipse debug core i launch ilaunch org eclipse core runtime i progress monitor iprogressmonitor override vm runner configuration vmrunnerconfiguration config i launch ilaunch launch i progress monitor iprogressmonitor monitor core exception coreexception monitor monitor null progress monitor nullprogressmonitor i progress monitor iprogressmonitor sub monitor submonitor sub progress monitor subprogressmonitor monitor sub monitor submonitor begin task begintask launching messages launchingmessages standardvmrunner launching sub monitor submonitor sub task subtask launching messages launchingmessages standardvmrunner const ructing constructing command string program construct program string constructprogramstring config list string arguments array list arraylist string arguments add program args java program users options client server required option string allvmargs combine vm args combinevmargs config fvminstance add arguments addarguments ensure encoding ensureencoding launch allvmargs arguments add boot class path arguments addbootclasspatharguments arguments config string config get class path getclasspath cpidx length cpidx arguments size nls arguments add classpath arguments add convert class path convertclasspath arguments add config get class to launch getclasstolaunch string program args programargs config get program arguments getprogramarguments add arguments addarguments program args programargs arguments string env p envp prependjrepath config get environment getenvironment string new envp newenvp check classpath checkclasspath arguments env p envp new envp newenvp env p envp new envp newenvp arguments remove cpidx arguments remove cpidx string cmd line cmdline string arguments size arguments to array toarray cmd line cmdline sub monitor submonitor worked check can cellation cancellation monitor is canceled iscanceled sub monitor submonitor sub task subtask launching messages launchingmessages standardvmrunner starting virtual machine process file working dir workingdir get working dir getworkingdir config string new cmd line newcmdline validate command line validatecommandline launch get launch configuration getlaunchconfiguration cmd line cmdline new cmd line newcmdline cmd line cmdline new cmd line newcmdline exec cmd line cmdline working dir workingdir env p envp check can cellation cancellation monitor is canceled iscanceled destroy string timestamp date format dateformat get date time instance getdatetimeinstance date format dateformat medium date format dateformat medium format system current time millis currenttimemillis i process iprocess process new process newprocess launch render process label renderprocesslabel cmd line cmdline timestamp get default process map getdefaultprocessmap process set attribute setattribute debug plugin debugplugin attr path cmd line cmdline process set attribute setattribute i process iprocess attr cmdline render command line rendercommandline cmd line cmdline string ltime launch get attribute getattribute debug plugin debugplugin attr launch timestamp process set attribute setattribute debug plugin debugplugin attr launch timestamp ltime ltime timestamp working dir workingdir process set attribute setattribute debug plugin debugplugin attr working directory working dir workingdir get absolute path getabsolutepath env p envp arrays sort env p envp string buffer stringbuffer buf f buff string buffer stringbuffer env p envp length buf f buff append env p envp env p envp length buf f buff append process set attribute setattribute debug plugin debugplugin attr environment buf f buff to string tostring sub monitor submonitor worked sub monitor submonitor returns array classpath variable param env environment array code code classpath variable getcpindex string env env env length nls env region matches regionmatches classpath checks command classpath short ened shortened windows returns modified environment code code needed param args raw arguments runner param raw classpath runner configuration param env current environment modified environment code code sine string check classpath checkclasspath list string args string string env platform getos equals platform win count complete command length size string arg args arg size arg length http msdn microsoft library windows desktop aspx size string buffer stringbuffer new cp newcp nls string buffer stringbuffer nls classpath length new cp newcp append new cp newcp append file path separator char pathseparatorchar string new envp newenvp env map string string nenv debug plugin debugplugin get default getdefault get launch manager getlaunchmanager get native environment getnativeenvironment entry string string entry new envp newenvp string nenv size idx iterator entry string string nenv entry set entryset iterator has next hasnext entry string entry get value getvalue nls string key entry get key getkey nls key equals ignore case equalsignorecase nls classpath idx new envp newenvp idx key idx new envp newenvp env getcpindex new envp newenvp string new env newenv string new envp newenvp length system arraycopy new envp newenvp new env newenv new envp newenvp length new env newenv new envp newenvp length new cp newcp to string tostring new env newenv new envp newenvp new cp newcp to string tostring new envp newenvp p rep ends prepends correct java version variable environment path mac vm s vms param env current array environment variables path segments string prependjrepath string env platform macosx equals platform getos fvminstance ivm install ivminstall ivm install ivminstall ivm install ivminstall fvminstance string java version javaversion get java version getjavaversion java version javaversion env map string string map debug plugin debugplugin get default getdefault get launch manager getlaunchmanager get native environment case preserve d getnativeenvironmentcasepreserved map contains key containskey standardvmdebugger java jvm version string env string map size iterator entry string string iterator map entry set entryset iterator iterator has next hasnext entry string string entry iterator string key entry get key getkey standardvmdebugger java jvm version equals key nls env key java version javaversion nls env nls key entry get value getvalue env env env length string string env string starts with startswith standardvmdebugger java jvm version env nls standardvmdebugger java jvm version java version javaversion env adds arguments bootpath param arguments arguments param config config add boot class path arguments addbootclasspatharguments list string arguments vm runner configuration vmrunnerconfiguration config string prepend boot p prependbootcp string bootcp string append boot p appendbootcp map string object map config get specific attributes map getvmspecificattributesmap map prepend boot p prependbootcp string map i java launch configuration constants ijavalaunchconfigurationconstants attr bootpath prepend bootcp string map i java launch configuration constants ijavalaunchconfigurationconstants attr bootpath append boot p appendbootcp string map i java launch configuration constants ijavalaunchconfigurationconstants attr bootpath append prepend boot p prependbootcp bootcp append boot p appendbootcp single attribute attributes bootcp config get boot class path getbootclasspath prepend boot p prependbootcp nls arguments add xbootclasspath convert class path convertclasspath prepend boot p prependbootcp bootcp bootcp length nls arguments add nls xbootclasspath convert class path convertclasspath bootcp append boot p appendbootcp nls arguments add xbootclasspath convert class path convertclasspath append boot p appendbootcp
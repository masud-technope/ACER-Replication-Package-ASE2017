copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation alex smirnoff bug org eclipse jdt internal launching java file java io exception ioexception java interruptedioexception java util array list arraylist java util arrays java util java util iterator java util list java util map org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse core runtime platform org eclipse core runtime status org eclipse core runtime sub progress monitor subprogressmonitor org eclipse debug core debug plugin debugplugin org eclipse debug core i launch ilaunch org eclipse debug core i status handler istatushandler org eclipse debug core model i debug target idebugtarget org eclipse debug core model i process iprocess org eclipse debug core model i streams proxy istreamsproxy org eclipse jdi bootstrap org eclipse jdt debug core jdi debug model jdidebugmodel org eclipse jdt launching i java launch configuration constants ijavalaunchconfigurationconstants org eclipse jdt launching ivm install ivminstall org eclipse jdt launching ivm install ivminstall org eclipse jdt launching java runtime javaruntime org eclipse jdt launching socket util socketutil org eclipse jdt launching vm runner configuration vmrunnerconfiguration ibm icu text date format dateformat sun jdi virtual machine virtualmachine sun jdi connect connector sun jdi connect illegal connector arguments exception illegalconnectorargumentsexception sun jdi connect list ening connector listeningconnector launcher debug ging debugging java main classes jdi launch debug mode standardvmdebugger standardvmrunner osx environment variable jre nls string java jvm version java jvm version jre path segment descriptor string equals word code jre code nls string jre jre bin path segment descriptor string equals word code bin code nls string bin bin attach separate thread can cellation cancellation detect system process died connect occurred connect runnable connectrunnable runnable virtual machine virtualmachine f virtual machine fvirtualmachine list ening connector listeningconnector f connector fconnector map string connector argument f connection map fconnectionmap exception f exception fexception constructs runnable connect connector connection arguments param connector connector param map argument map connect runnable connectrunnable list ening connector listeningconnector connector map string connector argument map f connector fconnector connector f connection map fconnectionmap map override f virtual machine fvirtualmachine f connector fconnector accept f connection map fconnectionmap io exception ioexception f exception fexception illegal connector arguments exception illegalconnectorargumentsexception f exception fexception returns attached code code attached code code virtual machine virtualmachine get virtual machine getvirtualmachine f virtual machine fvirtualmachine returns exception occurred attaching code code io exception ioexception illegal connector arguments exception illegalconnectorargumentsexception exception get exception getexception f exception fexception creates launcher param vm instance vminstance backing link ivm install ivminstall launch standardvmdebugger ivm install ivminstall vm instance vminstance vm instance vminstance javadoc org eclipse jdt launching ivm runner ivmrunner org eclipse jdt launching vm runner configuration vmrunnerconfiguration org eclipse debug core i launch ilaunch org eclipse core runtime i progress monitor iprogressmonitor override vm runner configuration vmrunnerconfiguration config i launch ilaunch launch i progress monitor iprogressmonitor monitor core exception coreexception monitor monitor null progress monitor nullprogressmonitor i progress monitor iprogressmonitor sub monitor submonitor sub progress monitor subprogressmonitor monitor sub monitor submonitor begin task begintask launching messages launchingmessages standardvmdebugger launching sub monitor submonitor sub task subtask launching messages launchingmessages standardvmdebugger finding free socket port socket util socketutil find free port findfreeport port abort launching messages launchingmessages standardvmdebugger find free socket debug ger debugger i java launch configuration constants ijavalaunchconfigurationconstants err socket sub monitor submonitor worked check can cellation cancellation monitor is canceled iscanceled sub monitor submonitor sub task subtask launching messages launchingmessages standardvmdebugger const ructing constructing command string program construct program string constructprogramstring config list string arguments array list arraylist string arguments add program fvminstance standardvm standardvm fvminstance get debug args getdebugargs nls nls string debug arg string debugargstring standardvm fvminstance get debug args getdebugargs replace all replaceall standardvm port integer to string tostring port string debug args debugargs debug plugin debugplugin parse arguments parsearguments debug arg string debugargstring debug args debugargs length arguments add debug args debugargs arguments java program users options client server required options version get java version getjavaversion version nls arguments add nls xdebug nls arguments add nls xnoagent check java greater version nls arguments add nls djava compiler version nls arguments add nls xrunjdwp transport socket suspend add ress address localhost port nls arguments add nls agent lib agentlib jdwp transport socket suspend add ress address localhost port string allvmargs combine vm args combinevmargs config fvminstance add arguments addarguments ensure encoding ensureencoding launch allvmargs arguments add boot class path arguments addbootclasspatharguments arguments config string config get class path getclasspath cpidx length cpidx arguments size nls arguments add classpath arguments add convert class path convertclasspath arguments add config get class to launch getclasstolaunch add arguments addarguments config get program arguments getprogramarguments arguments newer vm s vms compatibility prepend current env path runtime corrected path points location load debug dlls location standard jdk installation format jdk path jre bin string env p envp prependjrepath config get environment getenvironment path program string new env p newenvp check classpath checkclasspath arguments env p envp new env p newenvp env p envp new env p newenvp arguments remove cpidx arguments remove cpidx string cmd line cmdline string arguments size arguments to array toarray cmd line cmdline check can cellation cancellation monitor is canceled iscanceled sub monitor submonitor worked sub monitor submonitor sub task subtask launching messages launchingmessages standardvmdebugger starting virtual machine list ening connector listeningconnector connector get connector getconnector connector abort launching messages launchingmessages standardvmdebugger couldn find debug connector i java launch configuration constants ijavalaunchconfigurationconstants err connector map string connector argument map connector default arguments defaultarguments specify arguments specifyarguments map port process check can cellation cancellation monitor is canceled iscanceled connector start list ening startlistening map file working dir workingdir get working dir getworkingdir config string new cmd line newcmdline validate command line validatecommandline launch get launch configuration getlaunchconfiguration cmd line cmdline new cmd line newcmdline cmd line cmdline new cmd line newcmdline exec cmd line cmdline working dir workingdir env p envp check can cellation cancellation monitor is canceled iscanceled destroy string timestamp date format dateformat get date time instance getdatetimeinstance date format dateformat medium date format dateformat medium format system current time millis currenttimemillis i process iprocess process new process newprocess launch render process label renderprocesslabel cmd line cmdline timestamp get default process map getdefaultprocessmap process set attribute setattribute debug plugin debugplugin attr path cmd line cmdline process set attribute setattribute i process iprocess attr cmdline render command line rendercommandline cmd line cmdline string ltime launch get attribute getattribute debug plugin debugplugin attr launch timestamp process set attribute setattribute debug plugin debugplugin attr launch timestamp ltime ltime timestamp working dir workingdir process set attribute setattribute debug plugin debugplugin attr working directory working dir workingdir get absolute path getabsolutepath env p envp arrays sort env p envp string buffer stringbuffer buf f buff string buffer stringbuffer env p envp length buf f buff append env p envp env p envp length buf f buff append process set attribute setattribute debug plugin debugplugin attr environment buf f buff to string tostring sub monitor submonitor worked sub monitor submonitor sub task subtask launching messages launchingmessages standardvmdebugger establishing debug connection retry connect runnable connectrunnable runnable connect runnable connectrunnable connector map thread connect thread connectthread thread runnable list ening listening connector connect thread connectthread set daemon setdaemon connect thread connectthread start connect thread connectthread is alive isalive monitor is canceled iscanceled connector stop list ening stoplistening map io exception ioexception ioe destroy exit value exitvalue process terminated waiting connection connector stop list ening stoplistening map io exception ioexception check error message checkerrormessage process illegal thread state exception illegalthreadstateexception thread sleep interrupted exception interruptedexception exception runnable get exception getexception illegal connector arguments exception illegalconnectorargumentsexception illegal connector arguments exception illegalconnectorargumentsexception interruptedioexception interruptedioexception io exception ioexception io exception ioexception virtual machine virtualmachine runnable get virtual machine getvirtualmachine create debug target createdebugtarget config launch port process sub monitor submonitor worked sub monitor submonitor interruptedioexception check error message checkerrormessage process i status istatus status status i status istatus error launching plugin launchingplugin get unique identifier getuniqueidentifier i java launch configuration constants ijavalaunchconfigurationconstants err connect timeout i status handler istatushandler handler debug plugin debugplugin get default getdefault get status handler getstatushandler status retry handler core exception coreexception status object result handler handle status handlestatus status result retry result boolean value booleanvalue retry connector stop list ening stoplistening map io exception ioexception abort launching messages launchingmessages standardvmdebugger couldn connect i java launch configuration constants ijavalaunchconfigurationconstants err connection failed illegal connector arguments exception illegalconnectorargumentsexception abort launching messages launchingmessages standardvmdebugger couldn connect i java launch configuration constants ijavalaunchconfigurationconstants err connection failed destroy method performs platform specific operations modify runtime path jre s jres prior launching written original system path windows prepends location jre bin directory jdk path path variable windows method assumes jre located jdk install directory code jdk install dir jre bin code jre located code jdk install dir bin code jdk located mac searches sets correct java version environment variable ensure matches chosen launch config param env current array environment variables param jdk path jdkpath path executable java w javaw altered jre path string prependjrepath string env i path ipath jdk path jdkpath platform win equals platform getos i path ipath jrepath jdk path jdkpath remove last segments removelastsegments jrepath last segment lastsegment equals bin count jrepath segment count segmentcount count jrepath segment count equals ignore case equalsignorecase jre jrepath jrepath remove last segments removelastsegments append jre append bin jrepath jrepath append jre append bin jrepath to file tofile exists string jrestr jrepath toosstring env map string string map debug plugin debugplugin get default getdefault get launch manager getlaunchmanager get native environment getnativeenvironment env string map size string iterator string iter map key set keyset iterator iter has next hasnext iter string map nls nls equals ignore case equalsignorecase nls path index of indexof jrestr jrestr nls env nls string esign env length esign env index of indexof esign env substring esign nls equals ignore case equalsignorecase nls path env index of indexof jrestr env jrestr nls nls esign env length nls nls nls nls env substring esign prependjrepath env creates debug target virtual machine system process connected port launch param config configuration launch param launch launch add target param port port connected param process system process param jdi virtual machine link i debug target idebugtarget i debug target idebugtarget create debug target createdebugtarget vm runner configuration vmrunnerconfiguration config i launch ilaunch launch port i process iprocess process virtual machine virtualmachine jdi debug model jdidebugmodel new debug target newdebugtarget launch render debug target renderdebugtarget config get class to launch getclasstolaunch port process config is resume on startup isresumeonstartup returns version current version get java version getjavaversion string version fvminstance ivm install ivminstall version ivm install ivminstall fvminstance get java version getjavaversion library info libraryinfo lib info libinfo launching plugin launchingplugin get library info getlibraryinfo fvminstance get install location getinstalllocation get absolute path getabsolutepath lib info libinfo version lib info libinfo get version getversion version unknown version nls version index of indexof nls next index nextindex version index of indexof next index nextindex parse double parsedouble version substring next index nextindex parse double parsedouble version number format exception numberformatexception checks for wards forwards error process param process process error message core exception coreexception problem occurs check error message checkerrormessage i process iprocess process core exception coreexception i streams proxy istreamsproxy str eams proxy streamsproxy process get streams proxy getstreamsproxy str eams proxy streamsproxy string error message errormessage str eams proxy streamsproxy get error stream monitor geterrorstreammonitor get contents getcontents error message errormessage length error message errormessage str eams proxy streamsproxy get output stream monitor getoutputstreammonitor get contents getcontents error message errormessage length abort error message errormessage i java launch configuration constants ijavalaunchconfigurationconstants err launch error arguments param map argument map param port number portnumber port number specify arguments specifyarguments map string connector argument map port number portnumber xxx revisit quote classpath nls connector integer argument integerargument port connector integer argument integerargument map port port set value setvalue port number portnumber nls connector integer argument integerargument timeout arg timeoutarg connector integer argument integerargument map timeout timeout arg timeoutarg timeout platform get preferences service getpreferencesservice get int getint launching plugin launchingplugin plugin java runtime javaruntime pref connect timeout java runtime javaruntime def connect timeout timeout arg timeoutarg set value setvalue timeout returns sun jdi socket listen socketlisten connector link list ening connector listeningconnector suppress warnings suppresswarnings nls list ening connector listeningconnector get connector getconnector list list ening connector listeningconnector connectors bootstrap virtual machine manager virtualmachinemanager list ening connectors listeningconnectors connectors size list ening connector listeningconnector connectors sun jdi socket listen socketlisten equals
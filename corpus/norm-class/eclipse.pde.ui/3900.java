copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation johannes ahlers johannes ahlers gmx bug org eclipse pde internal search dependencies java util org eclipse core resources org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse jdt core org eclipse jdt core util org eclipse osgi util manifest element manifestelement org eclipse pde internal core ibundle i bundle ibundle org eclipse pde internal core ibundle i bundle plugin model base ibundlepluginmodelbase org eclipse pde internal pde ui messages pdeuimessages org osgi framework bundle exception bundleexception org osgi framework constants package finder packagefinder string find packages in class files findpackagesinclassfiles i class file iclassfile files i progress monitor iprogressmonitor monitor string packages hash set hashset monitor begin task begintask pde ui messages pdeuimessages package finder packagefinder task name taskname files length files length i class file reader iclassfilereader reader tool factory toolfactory create default class file reader createdefaultclassfilereader files i class file reader iclassfilereader reader compute referenced types computereferencedtypes reader packages monitor worked packages compute referenced types computereferencedtypes i class file reader iclassfilereader cfr string packages interfaces cfr get interface names getinterfacenames interfaces interfaces length not e note convert names ljava lang object java lang object packages add get package getpackage string interfaces replace scn cfr get superclass name getsuperclassname scn packages add get package getpackage string scn replace i field info ifieldinfo field info fieldinfo cfr get field infos getfieldinfos field info fieldinfo length string field name fieldname string field info fieldinfo get descriptor getdescriptor is primitive type signature isprimitivetypesignature field name fieldname string field descriptor fielddescriptor extract fully qualified top level type extractfullyqualifiedtopleveltype field name fieldname packages add get package getpackage string field descriptor fielddescriptor i method info imethodinfo method info methodinfo cfr get method infos getmethodinfos method info methodinfo length i exception attribute iexceptionattribute exception attribute exceptionattribute method info methodinfo get exception attribute getexceptionattribute exception attribute exceptionattribute exception names exceptionnames exception attribute exceptionattribute get exception names getexceptionnames exception names exceptionnames length packages add get package getpackage string exception names exceptionnames replace string descriptor string method info methodinfo get descriptor getdescriptor add parameter types string parameter types parametertypes signature get parameter types getparametertypes descriptor parameter types parametertypes length parse convert ljava lang string java lang string is primitive type signature isprimitivetypesignature parameter types parametertypes packages add get package getpackage string extract fully qualified top level type extractfullyqualifiedtopleveltype parameter types parametertypes add type string return type returntype signature get return type getreturntype descriptor is primitive type signature isprimitivetypesignature return type returntype return type returntype extract fully qualified top level type extractfullyqualifiedtopleveltype return type returntype packages add get package getpackage return type returntype extract constant pool i constant pool entry iconstantpoolentry entry i constant pool iconstantpool pool cfr get constant pool getconstantpool length pool get constant pool count getconstantpoolcount length pool get entry kind getentrykind i constant pool constant iconstantpoolconstant constant add reference entry pool decode entry decodeentry not e note convert names ljava lang object java lang object string class name classname string entry get class info name getclassinfoname replace class name classname class name classname index of indexof extract fully qualified top level type extractfullyqualifiedtopleveltype class name classname class name classname packages add get package getpackage class name classname i constant pool constant iconstantpoolconstant constant name and type nameandtype add reference type entry pool decode entry decodeentry desc index descindex entry get name and type info descriptor index getnameandtypeinfodescriptorindex pool get entry kind getentrykind desc index descindex i constant pool constant iconstantpoolconstant constant utf entry pool decode entry decodeentry desc index descindex type entry get utf getutf type method signature add parameter types string descriptor string type string parameter types parametertypes signature get parameter types getparametertypes descriptor parameter types parametertypes length is primitive type signature isprimitivetypesignature parameter types parametertypes packages add get package getpackage extract fully qualified top level type extractfullyqualifiedtopleveltype parameter types parametertypes add type string return type returntype signature get return type getreturntype descriptor is primitive type signature isprimitivetypesignature return type returntype return type returntype extract fully qualified top level type extractfullyqualifiedtopleveltype return type returntype packages add get package getpackage return type returntype field type string type string typestring string type is primitive type signature isprimitivetypesignature type string typestring packages add get package getpackage extract fully qualified top level type extractfullyqualifiedtopleveltype type string typestring removes exists nls packages remove is primitive type signature isprimitivetypesignature string type sig typesig nls type sig typesig length type sig typesig starts with startswith is primitive type signature isprimitivetypesignature type sig typesig substring type sig typesig length check primitives type sig typesig length type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig type sig typesig equals signature sig string extract fully qualified top level type extractfullyqualifiedtopleveltype string type name typename convert type name typename type name typename replace rid anonymous classes bug relevant packages inner class indicator innerclassindicator type name typename index of indexof nls type name typename inner class indicator innerclassindicator type name typename substring inner class indicator innerclassindicator concat type name typename create signature type name typename signature to string tostring type name typename remove array indicator nls type name typename type name typename ends with endswith type name typename substring type name typename length type name typename type name typename string get package getpackage string class type classtype period class type classtype last index of lastindexof period package name packagename nls period class type classtype substring period i class file iclassfile get class files getclassfiles i project iproject project i bundle plugin model base ibundlepluginmodelbase base array list arraylist i class file iclassfile class files classfiles array list arraylist i bundle ibundle bundle base get bundle model getbundlemodel get bundle getbundle string bundle get header getheader constants bundle classpath nls manifest element manifestelement elems elems manifest element manifestelement parse header parseheader constants bundle classpath bundle exception bundleexception i class file iclassfile elems length string lib elems get value getvalue i resource iresource res project find member findmember lib res add class files from resource addclassfilesfromresource res class files classfiles class files classfiles to array toarray i class file iclassfile class files classfiles size add class files from resource addclassfilesfromresource i resource iresource res list i class file iclassfile class files classfiles res stack i resource iresource stack stack res i container icontainer stack push res stack is empty isempty i resource iresource children i container icontainer stack pop members children length children i file ifile equals nls children get file extension getfileextension class files classfiles add java core javacore create class file from createclassfilefrom i file ifile children children i container icontainer stack push children core exception coreexception res i file ifile nls nls res get file extension getfileextension equals jar res get file extension getfileextension equals zip i package fragment root ipackagefragmentroot root java core javacore create res get project getproject get package fragment root getpackagefragmentroot res root i java element ijavaelement children root get children getchildren children length children i package fragment ipackagefragment i package fragment ipackagefragment frag i package fragment ipackagefragment children i class file iclassfile files frag get class files getclassfiles files length class files classfiles add files java model exception javamodelexception nls res get file extension getfileextension equals java core javacore create class file from createclassfilefrom i file ifile res
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation joe rn joern dinkla dev null devnull dinkla bug bar tosz bartosz michalik bar tosz bartosz michalik gmail bug eclipse source eclipsesource corporation ongoing enhancements johannes ahlers johannes ahlers gmx bug org eclipse pde internal wizards imports java util java util list java util regex pattern org eclipse core resources i project iproject org eclipse core runtime org eclipse jface dialogs dialog org eclipse jface dialogs i dialog settings idialogsettings org eclipse jface viewers org eclipse osgi util nls org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde internal core pde core pdecore org eclipse pde internal core workspace model manager workspacemodelmanager org eclipse pde internal core plugin abstract plugin model base abstractpluginmodelbase org eclipse pde internal core util pattern constructor patternconstructor org eclipse pde internal org eclipse pde internal elements default content provider defaultcontentprovider org eclipse pde internal util swt util swtutil org eclipse pde internal util source plugin filter sourcepluginfilter org eclipse pde internal wizards list util listutil org eclipse swt swt org eclipse swt custom scrolled composite scrolledcomposite org eclipse swt events org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets org eclipse platformui org eclipse progress workbench job workbenchjob org osgi framework version plugin import wizard detailed page pluginimportwizarddetailedpage base import wizard second page baseimportwizardsecondpage content provider contentprovider default content provider defaultcontentprovider i structured content provider istructuredcontentprovider override object get elements getelements object element f models fmodels label f count label fcountlabel f count total fcounttotal table viewer tableviewer f available list viewer favailablelistviewer text f filter text ffiltertext version filter versionfilter f version filter fversionfilter available filter availablefilter f available filter favailablefilter source plugin filter sourcepluginfilter f source filter fsourcefilter viewer filter viewerfilter f repository filter frepositoryfilter f selected fselected track selection hash efficiently filter selected items item list object f selected fselected job delay full filter refresh milliseconds user typing workbench job workbenchjob f filter job ffilterjob button f add button faddbutton button f add all button faddallbutton button f remove button fremovebutton button f remove all button fremoveallbutton button f add required button faddrequiredbutton button f filter old version button ffilteroldversionbutton nls string settings latest show latest plugins only showlatestpluginsonly repository filter repositoryfilter viewer filter viewerfilter override select viewer viewer object parent element parentelement object element f page fpage get import type getimporttype plugin import operation pluginimportoperation repository f page fpage repository models repositorymodels element available filter availablefilter viewer filter viewerfilter pattern f pattern fpattern available filter availablefilter nls set pattern setpattern override select viewer viewer object parent element parentelement object element full refresh list f selected fselected element element abstract plugin model base abstractpluginmodelbase string itemid abstract plugin model base abstractpluginmodelbase element get plugin base getpluginbase get id getid f pattern fpattern matcher itemid matches set pattern setpattern string new pattern newpattern nls new pattern newpattern ends with endswith nls new pattern newpattern nls nls new pattern newpattern starts with startswith new pattern newpattern nls nls new pattern newpattern f pattern fpattern string old pattern oldpattern f pattern fpattern pattern new pattern newpattern equals old pattern oldpattern f pattern fpattern pattern constructor patternconstructor create pattern createpattern new pattern newpattern filter remove older plug ins view version filter versionfilter viewer filter viewerfilter hash map hashmap string version versions hash map hashmap set model setmodel i plugin model base ipluginmodelbase plugins plugins plugins length versions clear plugins length string plugins get bundle description getbundledescription get symbolic name getsymbolicname version version plugins get bundle description getbundledescription get version getversion version old version oldversion versions old version oldversion old version oldversion compare to compareto version versions version override select viewer viewer object parent element parentelement object element i plugin model base ipluginmodelbase plugin i plugin model base ipluginmodelbase element version h version hversion versions plugin get bundle description getbundledescription get symbolic name getsymbolicname h version hversion h version hversion equals plugin get bundle description getbundledescription get version getversion plugin import wizard detailed page pluginimportwizarddetailedpage string page name pagename plugin import wizard first page pluginimportwizardfirstpage first page firstpage page name pagename first page firstpage set title settitle pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage title set message setmessage pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage desc f selected fselected hash set hashset override create control createcontrol composite parent composite container composite parent swt grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns layout make columns equal width makecolumnsequalwidth layout horizontal spacing horizontalspacing layout vertical spacing verticalspacing container set layout setlayout layout create scroll area createscrollarea container create available list createavailablelist container set layout data setlayoutdata grid data griddata grid data griddata fill create button area createbuttonarea container create import list createimportlist container set layout data setlayoutdata grid data griddata grid data griddata fill update count updatecount create container buttons composite option comp optioncomp swt factory swtfactory create composite createcomposite container grid data griddata fill horizontal create comp utations option createcomputationsoption option comp optioncomp create filter options createfilteroptions option comp optioncomp add viewer listeners addviewerlisteners initialize add filters addfilters set control setcontrol container dialog apply dialog font applydialogfont container platformui get workbench getworkbench get help system gethelpsystem set help sethelp container i help context ids ihelpcontextids plugin create filter options createfilteroptions composite container f filter old version button ffilteroldversionbutton swt factory swtfactory create check button createcheckbutton container pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage filter desc filterdesc get dialog settings getdialogsettings settings latest f filter old version button ffilteroldversionbutton set selection setselection get dialog settings getdialogsettings get boolean getboolean settings latest f filter old version button ffilteroldversionbutton set selection setselection f filter old version button ffilteroldversionbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f filter old version button ffilteroldversionbutton get selection getselection f available list viewer favailablelistviewer add filter addfilter f version filter fversionfilter f available list viewer favailablelistviewer remove filter removefilter f version filter fversionfilter update count updatecount add filters addfilters f version filter fversionfilter version filter versionfilter f version filter fversionfilter set model setmodel f models fmodels f source filter fsourcefilter source plugin filter sourcepluginfilter f page fpage get state getstate f available filter favailablefilter available filter availablefilter f available list viewer favailablelistviewer add filter addfilter f available filter favailablefilter f filter old version button ffilteroldversionbutton get selection getselection f available list viewer favailablelistviewer add filter addfilter f version filter fversionfilter f available list viewer favailablelistviewer add filter addfilter f source filter fsourcefilter f repository filter frepositoryfilter repository filter repositoryfilter f available list viewer favailablelistviewer add filter addfilter f repository filter frepositoryfilter f filter job ffilterjob nls workbench job workbenchjob nls filter job filterjob override i status istatus run i n thread runinuithread i progress monitor iprogressmonitor monitor handle filter handlefilter status status f filter job ffilterjob set system setsystem initialize update button enablement updatebuttonenablement set page complete setpagecomplete add viewer listeners addviewerlisteners f available list viewer favailablelistviewer add double click listener adddoubleclicklistener i double click listener idoubleclicklistener override double click doubleclick double click event doubleclickevent event handle add handleadd f import list viewer fimportlistviewer add double click listener adddoubleclicklistener i double click listener idoubleclicklistener override double click doubleclick double click event doubleclickevent event handle remove handleremove f available list viewer favailablelistviewer add selection changed listener addselectionchangedlistener i selection changed listener iselectionchangedlistener override selection changed selectionchanged selection changed event selectionchangedevent event update selection based enablement updateselectionbasedenablement event get selection getselection f import list viewer fimportlistviewer add selection changed listener addselectionchangedlistener i selection changed listener iselectionchangedlistener override selection changed selectionchanged selection changed event selectionchangedevent event update selection based enablement updateselectionbasedenablement event get selection getselection f filter text ffiltertext add modify listener addmodifylistener modify listener modifylistener override modify text modifytext modify event modifyevent f filter job ffilterjob cancel f filter job ffilterjob schedule composite create available list createavailablelist composite parent composite container composite parent swt grid layout gridlayout layout grid layout gridlayout layout margin width marginwidth layout margin height marginheight container set layout setlayout layout container set layout data setlayoutdata grid data griddata label label label container swt label set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage available list availablelist table table table container swt border swt multi swt scroll grid data griddata grid data griddata grid data griddata fill height hint heighthint width hint widthhint table set layout data setlayoutdata f available list viewer favailablelistviewer table viewer tableviewer table f available list viewer favailablelistviewer set label provider setlabelprovider plugin import label provider pluginimportlabelprovider f available list viewer favailablelistviewer set content provider setcontentprovider content provider contentprovider f available list viewer favailablelistviewer set input setinput pde core pdecore get default getdefault get model manager getmodelmanager f available list viewer favailablelistviewer set comparator setcomparator list util listutil plugin comparator container composite create button area createbuttonarea composite parent scrolled composite scrolledcomposite comp scrolled composite scrolledcomposite parent swt scroll swt scroll grid layout gridlayout layout grid layout gridlayout layout margin width marginwidth layout margin height marginheight comp set layout data setlayoutdata grid data griddata grid data griddata fill vertical composite container composite comp swt layout grid layout gridlayout layout margin width marginwidth container set layout setlayout layout grid data griddata grid data griddata grid data griddata fill vertical vertical indent verticalindent container set layout data setlayoutdata button button button container swt push button set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage existing button set layout data setlayoutdata grid data griddata grid data griddata fill horizontal button add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle existing projects handleexistingprojects swt util swtutil set button dimension hint setbuttondimensionhint button button button container swt push button set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage existing unshared existingunshared button set layout data setlayoutdata grid data griddata grid data griddata fill horizontal button add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle existing unshared handleexistingunshared swt util swtutil set button dimension hint setbuttondimensionhint button f add button faddbutton button container swt push f add button faddbutton set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage add f add button faddbutton set layout data setlayoutdata grid data griddata grid data griddata fill horizontal f add button faddbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle add handleadd swt util swtutil set button dimension hint setbuttondimensionhint f add button faddbutton f add all button faddallbutton button container swt push f add all button faddallbutton set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage add all addall f add all button faddallbutton set layout data setlayoutdata grid data griddata grid data griddata fill horizontal f add all button faddallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle add all handleaddall swt util swtutil set button dimension hint setbuttondimensionhint f add all button faddallbutton f remove button fremovebutton button container swt push f remove button fremovebutton set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage remove f remove button fremovebutton set layout data setlayoutdata grid data griddata grid data griddata fill horizontal f remove button fremovebutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle remove handleremove swt util swtutil set button dimension hint setbuttondimensionhint f remove button fremovebutton f remove all button fremoveallbutton button container swt push f remove all button fremoveallbutton set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage remove all removeall f remove all button fremoveallbutton set layout data setlayoutdata grid data griddata grid data griddata fill horizontal f remove all button fremoveallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle remove all handleremoveall swt util swtutil set button dimension hint setbuttondimensionhint f remove all button fremoveallbutton button button container swt push button set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage swap button set layout data setlayoutdata grid data griddata grid data griddata fill horizontal button add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle swap handleswap swt util swtutil set button dimension hint setbuttondimensionhint button f add required button faddrequiredbutton button container swt push f add required button faddrequiredbutton set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage add required addrequired f add required button faddrequiredbutton set layout data setlayoutdata grid data griddata grid data griddata fill horizontal f add required button faddrequiredbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent handle add required plugins handleaddrequiredplugins swt util swtutil set button dimension hint setbuttondimensionhint f add required button faddrequiredbutton f count label fcountlabel label container swt f count label fcountlabel set layout data setlayoutdata grid data griddata grid data griddata horizontal align center comp set content setcontent container comp set min height setminheight comp set expand horizontal setexpandhorizontal comp set expand vertical setexpandvertical container composite create scroll area createscrollarea composite parent group container group parent swt grid layout gridlayout layout grid layout gridlayout layout margin width marginwidth layout margin height marginheight container set layout setlayout layout grid data griddata grid data griddata grid data griddata fill horizontal horizontal span horizontalspan container set layout data setlayoutdata container set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage filter label filter label filterlabel label container swt filter label filterlabel set text settext pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage search f filter text ffiltertext text container swt border nls f filter text ffiltertext set text settext grid data griddata grid data griddata fill horizontal f filter text ffiltertext set layout data setlayoutdata container override set visible setvisible visible set visible setvisible visible visible f filter text ffiltertext set focus setfocus set page complete setpagecomplete f import list viewer fimportlistviewer get table gettable get item count getitemcount override refresh page refreshpage f available list viewer favailablelistviewer add filter addfilter f source filter fsourcefilter f import list viewer fimportlistviewer get table gettable remove all removeall f selected fselected clear nls f available filter favailablefilter set pattern setpattern f source filter fsourcefilter set state setstate f page fpage get state getstate f version filter fversionfilter set model setmodel f models fmodels f available list viewer favailablelistviewer refresh page changed pagechanged page changed pagechanged page changed pagechanged page changed pagechanged do add enablement doaddenablement do remove enablement doremoveenablement update button enablement updatebuttonenablement do add enablement doaddenablement do remove enablement doremoveenablement set page complete setpagecomplete f import list viewer fimportlistviewer get table gettable get item count getitemcount set message setmessage pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage desc update count updatecount f count total fcounttotal filter list plug ins total differ model count f count total fcounttotal f available list viewer favailablelistviewer get table gettable get item count getitemcount f count label fcountlabel set text settext nls bind pde ui messages pdeuimessages import wizard importwizard detailed page detailedpage count string integer to string tostring f import list viewer fimportlistviewer get table gettable get item count getitemcount integer to string tostring f count total fcounttotal f count label fcountlabel get parent getparent layout update button enablement updatebuttonenablement do add enablement doaddenablement do remove enablement doremoveenablement update count updatecount available count availablecount f available list viewer favailablelistviewer get table gettable get item count getitemcount import count importcount f import list viewer fimportlistviewer get table gettable get item count getitemcount do add enablement doaddenablement update selection based enablement updateselectionbasedenablement f available list viewer favailablelistviewer get selection getselection do remove enablement doremoveenablement update selection based enablement updateselectionbasedenablement f import list viewer fimportlistviewer get selection getselection f add all button faddallbutton set enabled setenabled available count availablecount f remove all button fremoveallbutton set enabled setenabled import count importcount f add required button faddrequiredbutton set enabled setenabled import count importcount update selection based enablement updateselectionbasedenablement i selection iselection the selection theselection f add button faddbutton set enabled setenabled the selection theselection is empty isempty f remove button fremovebutton set enabled setenabled the selection theselection is empty isempty handle add handleadd i structured selection istructuredselection ssel i structured selection istructuredselection f available list viewer favailablelistviewer get selection getselection ssel size table table f available list viewer favailablelistviewer get table gettable table get selection indices getselectionindices do add doadd ssel to list tolist table set selection setselection table get item count getitemcount table get item count getitemcount page changed pagechanged handle add all handleaddall table item tableitem items f available list viewer favailablelistviewer get table gettable get items getitems array list arraylist object data array list arraylist items length data add items get data getdata data size do add doadd data page changed pagechanged handle filter handlefilter changed string new filter newfilter f filter text ffiltertext new filter newfilter f filter text ffiltertext get text gettext trim length nls new filter newfilter changed f available filter favailablefilter set pattern setpattern new filter newfilter changed f available list viewer favailablelistviewer refresh update button enablement updatebuttonenablement handle remove handleremove i structured selection istructuredselection ssel i structured selection istructuredselection f import list viewer fimportlistviewer get selection getselection ssel size table table f import list viewer fimportlistviewer get table gettable table get selection indices getselectionindices do remove doremove ssel to list tolist table set selection setselection table get item count getitemcount table get item count getitemcount page changed pagechanged do add doadd list object items f import list viewer fimportlistviewer add items to array toarray f available list viewer favailablelistviewer remove items to array toarray f selected fselected add all addall items do remove doremove list object items f selected fselected remove all removeall items f import list viewer fimportlistviewer remove items to array toarray f available list viewer favailablelistviewer add items to array toarray handle remove all handleremoveall table item tableitem items f import list viewer fimportlistviewer get table gettable get items getitems array list arraylist object data array list arraylist items length data add items get data getdata data size do remove doremove data page changed pagechanged handle set import selection handlesetimportselection array list arraylist object new selection list newselectionlist new selection list newselectionlist size handle remove all handleremoveall page changed pagechanged table item tableitem items f import list viewer fimportlistviewer get table gettable get items getitems object old selection oldselection object items length items length old selection oldselection items get data getdata remove items selection list object items to remove itemstoremove array list arraylist old selection oldselection length new selection list newselectionlist old selection oldselection new selection list newselectionlist remove old selection oldselection items to remove itemstoremove add old selection oldselection do remove doremove items to remove itemstoremove add items selection do add doadd new selection list newselectionlist page changed pagechanged handle swap handleswap table item tableitem a items aitems f available list viewer favailablelistviewer get table gettable get items getitems table item tableitem i items iitems f import list viewer fimportlistviewer get table gettable get items getitems array list arraylist object data array list arraylist i items iitems length data add i items iitems get data getdata data size do remove doremove data data clear a items aitems length data add a items aitems get data getdata data size do add doadd data page changed pagechanged handle existing projects handleexistingprojects array list arraylist object result array list arraylist f models fmodels length string f models fmodels get plugin base getpluginbase get id getid i project iproject project i project iproject pde plugin pdeplugin get workspace getworkspace get root getroot find member findmember project project is open isopen workspace model manager workspacemodelmanager is plugin project ispluginproject project result add f models fmodels handle set import selection handlesetimportselection result handle existing unshared handleexistingunshared array list arraylist object result array list arraylist f models fmodels length string f models fmodels get plugin base getpluginbase get id getid i project iproject project i project iproject pde plugin pdeplugin get workspace getworkspace get root getroot find member findmember project workspace model manager workspacemodelmanager is unshared project isunsharedproject project workspace model manager workspacemodelmanager is plugin project ispluginproject project result add f models fmodels handle set import selection handlesetimportselection result handle add required plugins handleaddrequiredplugins table item tableitem items f import list viewer fimportlistviewer get table gettable get items getitems items length items length i plugin model base ipluginmodelbase model i plugin model base ipluginmodelbase items get data getdata nls model get plugin base getpluginbase get id getid equals org eclipse core boot array list arraylist i plugin model base ipluginmodelbase result array list arraylist items length add plugin and dependencies addpluginanddependencies i plugin model base ipluginmodelbase items get data getdata result f add fragments button faddfragmentsbutton get selection getselection array list arraylist object result object resultobject array list arraylist result size result object resultobject add all addall result handle set import selection handlesetimportselection result object resultobject override dispose f filter job ffilterjob cancel override store settings storesettings i dialog settings idialogsettings settings get dialog settings getdialogsettings settings settings latest f filter old version button ffilteroldversionbutton get selection getselection store settings storesettings
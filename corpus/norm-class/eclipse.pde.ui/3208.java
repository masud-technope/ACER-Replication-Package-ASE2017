copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation lars vogel lars vogel vogella bug org eclipse pde internal core exports java java lang reflect invocation target exception invocationtargetexception java net malformedurlexception java net url java util org eclipse core resources i resource iresource org eclipse core runtime org eclipse osgi service resolver bundle description bundledescription org eclipse osgi util nls org eclipse pde core plugin org eclipse pde internal build org eclipse pde internal core org eclipse pde internal core ifeature i feature ifeature org eclipse pde internal core ifeature i feature model ifeaturemodel org eclipse pde internal core iproduct ijre info ijreinfo org eclipse pde internal core iproduct i launcher info ilauncherinfo org eclipse pde internal core iproduct i product iproduct org eclipse pde internal core util core utility coreutility org dom element product export operation productexportoperation feature export operation featureexportoperation nls string status message message nls string status entry entry nls string status subentry subentry nls string eclipse app macos eclipse app contents macos nls string eclipse app contents eclipse app contents nls string mac java framework system library frame works frameworks javavm framework string f feature location ffeaturelocation string f root froot i product iproduct f product fproduct string error message errormessage set error message seterrormessage string message error message errormessage message string get error message geterrormessage error message errormessage i status istatus parse error message parseerrormessage core exception coreexception error message errormessage multi status multistatus status nls string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer error message errormessage tokenizer has more tokens hasmoretokens string tokenizer next token nexttoken trim starts with startswith status entry tokenizer has more elements hasmoreelements string tokenizer next token nexttoken starts with startswith status message status multi status multistatus pde core pdecore plugin substring starts with startswith status subentry tokenizer has more elements hasmoreelements status string tokenizer next token nexttoken starts with startswith status message status add status i status istatus error pde core pdecore plugin substring status status parsing didn work message multi status multistatus pde core pdecore plugin i status istatus get status getstatus error message errormessage product export operation productexportoperation feature export info featureexportinfo info string i product iproduct product string root info f product fproduct product f root froot root override i status istatus i progress monitor iprogressmonitor monitor string configurations f info finfo targets configurations configurations string target platform targetplatform getos target platform targetplatform getws target platform targetplatform getosarch target platform targetplatform getnl cleanup build repo cleanupbuildrepo error message errormessage sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor create feature wrap plug ins features nls string featureid org eclipse pde container feature f feature location ffeaturelocation f build temp location fbuildtemplocation file separator featureid create feature createfeature featureid f feature location ffeaturelocation configurations f product fproduct include launch ers includelaunchers create build properties file createbuildpropertiesfile f feature location ffeaturelocation configurations do export doexport featureid f feature location ffeaturelocation configurations sub monitor submonitor split io exception ioexception pde core pdecore log invocation target exception invocationtargetexception status i status istatus error pde core pdecore plugin pde core messages pdecoremessages feature based export operation featurebasedexportoperation problem during export problemduringexport get target exception gettargetexception core exception coreexception error message errormessage parse error message parseerrormessage get status getstatus clean generated files f info finfo items length delete build files deletebuildfiles f info finfo items core exception coreexception pde core pdecore log cleanup sub monitor submonitor split has ant errors hasanterrors status i status istatus warning pde core pdecore plugin nls bind pde core messages pdecoremessages feature export operation featureexportoperation compilation errors compilationerrors f info finfo destination directory destinationdirectory error message errormessage status status override grouped configurations groupedconfigurations group product exports cleanup build repo cleanupbuildrepo file metadata temp metadatatemp file f build temp metadata location fbuildtempmetadatalocation metadata temp metadatatemp exists build metadata repo clean delete dir deletedir metadata temp metadatatemp override string get paths getpaths string paths get paths getpaths string string paths length f feature location ffeaturelocation file separator i core constants icoreconstants feature filename descriptor system arraycopy paths paths length create build properties file createbuildpropertiesfile string feature location featurelocation string configurations file file file feature location featurelocation file exists file is directory isdirectory file mkdirs has launch ers haslaunchers pde core pdecore get default getdefault get feature model manager getfeaturemodelmanager get delta pack feature getdeltapackfeature properties properties properties f product fproduct include launch ers includelaunchers has launch ers haslaunchers configurations length nls nls string root prefix rootprefix i build properties constants ibuildpropertiesconstants root prefix configurations configurations configurations properties root prefix rootprefix get root file locations getrootfilelocations has launch ers haslaunchers nls target platform targetplatform getos equals macosx string plist create mac info list createmacinfoplist plist nls nls properties root prefix rootprefix folder eclipse app contents absolute file plist nls properties nls root prefix rootprefix folder eclipse app macos nls get launcher locations getlauncherlocations has launch ers haslaunchers nls nls properties root prefix rootprefix permissions contents macos get launcher name getlaunchername copy folder properties root prefix rootprefix get launcher locations getlauncherlocations has launch ers haslaunchers nls properties nls root prefix rootprefix permissions nls get launcher name getlaunchername nls nls target platform targetplatform getws equals motif target platform targetplatform getos equals linux nls nls properties root prefix rootprefix permissions lib xm libxm ijre info ijreinfo jre info jreinfo f product fproduct getjreinfo jre info jreinfo configurations length string config configurations include jre product config jre info jreinfo includejrewithproduct config file jre info jreinfo getjvmlocation config config equals macosx get path getpath starts with startswith mac java framework nls string root prefix rootprefix nls i build properties constants ibuildpropertiesconstants root prefix config nls config nls config nls nls properties root prefix rootprefix folder jre absolute get absolute path getabsolutepath string per ms perms string properties root prefix rootprefix permissions per ms perms string buffer stringbuffer buffer string buffer stringbuffer per ms perms nls buffer append nls buffer append nls jre bin java nls properties nls root prefix rootprefix permissions nls buffer to string tostring f info finfo export source exportsource f info finfo export source bundle exportsourcebundle nls properties i build properties constants ibuildpropertiesconstants property individual source list i plugin model base ipluginmodelbase workspace plugins workspaceplugins arrays as list aslist plugin registry pluginregistry get workspace models getworkspacemodels f info finfo items length f info finfo items i feature model ifeaturemodel i feature ifeature feature i feature model ifeaturemodel f info finfo items get feature getfeature nls nls properties generate feature feature get id getid trim source feature get id getid bundle description bundledescription bundle f info finfo items i plugin model base ipluginmodelbase bundle i plugin model base ipluginmodelbase f info finfo items get bundle description getbundledescription bundle f info finfo items bundle description bundledescription bundle bundle description bundledescription f info finfo items bundle doesn matter generate extra properties platforms exporting workspace plugins workspaceplugins plugin registry pluginregistry find model findmodel bundle nls nls properties generate plugin bundle get symbolic name getsymbolicname trim source bundle get symbolic name getsymbolicname nls save file file i core constants icoreconstants build filename descriptor properties build configuration override publishing p publishingp metadata f info finfo export metadata exportmetadata string get launcher locations getlauncherlocations has launch ers haslaunchers launch ers launchers eclipse install string buffer stringbuffer buffer string buffer stringbuffer has launch ers haslaunchers file home dir homedir file target platform targetplatform get location getlocation home dir homedir exists home dir homedir is directory isdirectory retrieve exact eclipse launcher path bug file file nls system get properties getproperties eclipse launcher string launcher path launcherpath nls system get properties getproperties eclipse launcher to string tostring file file launcher path launcherpath file file exists file is directory isdirectory append absolute path appendabsolutepath buffer file nls target platform targetplatform getos equals macosx append eclipse path appendeclipsepath buffer nls file nls home dir homedir nls macos append eclipse path appendeclipsepath buffer home dir homedir buffer to string tostring string get root file locations getrootfilelocations has launch ers haslaunchers files root eclipse install excluding launcher string buffer stringbuffer buffer string buffer stringbuffer has launch ers haslaunchers file home dir homedir file target platform targetplatform get location getlocation home dir homedir exists home dir homedir is directory isdirectory file file nls file nls home dir homedir nls startup jar file exists append absolute path appendabsolutepath buffer file file nls file nls home dir homedir nls lib xm libxm file exists append absolute path appendabsolutepath buffer file buffer to string tostring append eclipse path appendeclipsepath string buffer stringbuffer buffer file home dir homedir file file nls file file home dir homedir eclipse file exists append absolute path appendabsolutepath buffer file nls file file home dir homedir eclipse exe file exists append absolute path appendabsolutepath buffer file append absolute path appendabsolutepath string buffer stringbuffer buffer file file buffer length nls buffer append nls buffer append absolute file buffer append file get absolute path getabsolutepath override hash map hashmap string string create ant build properties createantbuildproperties string configs hash map hashmap string string properties create ant build properties createantbuildproperties configs properties ixml constants ixmlconstants property launcher get launcher name getlaunchername i launcher info ilauncherinfo info f product fproduct get launcher info getlauncherinfo info nls string icons configs length string images nls configs equals win images get win getwin images info nls configs equals solaris images get solaris images getsolarisimages info nls configs equals linux images get expanded path getexpandedpath info get icon path geticonpath i launcher info ilauncherinfo linux icon nls configs equals macosx images get expanded path getexpandedpath info get icon path geticonpath i launcher info ilauncherinfo macosx icon images icons length nls icons icons images icons length properties ixml constants ixmlconstants property launcher icons icons f ant build properties fantbuildproperties ixml constants ixmlconstants property collecting folder f root froot f ant build properties fantbuildproperties ixml constants ixmlconstants property archive prefix f root froot properties override set p setp meta data properties metadataproperties map string string map f info finfo export metadata exportmetadata pde core pdecore get default getdefault get feature model manager getfeaturemodelmanager get delta pack feature getdeltapackfeature nls map nls ixml constants ixmlconstants property launcher provider nls org eclipse pde container feature map ixml constants ixmlconstants target metadata i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property flavor utils flavor map i build properties constants ibuildpropertiesconstants property publish artifacts i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property compress i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property gathering to string tostring publishing p publishingp metadata map i build properties constants ibuildpropertiesconstants property build repo file f build temp metadata location fbuildtempmetadatalocation tourl to string tostring nls map nls i build properties constants ibuildpropertiesconstants property metadata repo nls file f info finfo destination directory destinationdirectory repository tourl to string tostring nls map nls i build properties constants ibuildpropertiesconstants property artifact repo nls file f info finfo destination directory destinationdirectory repository tourl to string tostring map i build properties constants ibuildpropertiesconstants property metadata repo nls bind pde core messages pdecoremessages product export operation productexportoperation f product fproduct get product id getproductid map i build properties constants ibuildpropertiesconstants property artifact repo nls bind pde core messages pdecoremessages product export operation productexportoperation f product fproduct get product id getproductid malformedurlexception pde core pdecore log string get launcher name getlaunchername i launcher info ilauncherinfo info f product fproduct get launcher info getlauncherinfo info string info get launcher name getlaunchername length trim nls ends with endswith nls exe substring length nls eclipse string get win getwin images i launcher info ilauncherinfo info string buffer stringbuffer buffer string buffer stringbuffer info uses win ico file useswinicofile append buffer info get icon path geticonpath i launcher info ilauncherinfo ico path append buffer info get icon path geticonpath i launcher info ilauncherinfo win append buffer info get icon path geticonpath i launcher info ilauncherinfo win high append buffer info get icon path geticonpath i launcher info ilauncherinfo win high append buffer info get icon path geticonpath i launcher info ilauncherinfo win append buffer info get icon path geticonpath i launcher info ilauncherinfo win high append buffer info get icon path geticonpath i launcher info ilauncherinfo win append buffer info get icon path geticonpath i launcher info ilauncherinfo win high buffer length buffer to string tostring string get solaris images getsolarisimages i launcher info ilauncherinfo info string buffer stringbuffer buffer string buffer stringbuffer append buffer info get icon path geticonpath i launcher info ilauncherinfo solaris large append buffer info get icon path geticonpath i launcher info ilauncherinfo solaris medium append buffer info get icon path geticonpath i launcher info ilauncherinfo solaris small append buffer info get icon path geticonpath i launcher info ilauncherinfo solaris tiny buffer length buffer to string tostring append string buffer stringbuffer buffer string path path get expanded path getexpandedpath path path buffer length nls buffer append nls buffer append path string get expanded path getexpandedpath string path path path length i resource iresource resource pde core pdecore get workspace getworkspace get root getroot find member findmember path path resource i path ipath full path fullpath resource get location getlocation full path fullpath full path fullpath toosstring override setup generator setupgenerator build script generator buildscriptgenerator generator string featureid string version id versionid string configs string feature location featurelocation core exception coreexception setup generator setupgenerator generator featureid version id versionid configs feature location featurelocation generator set generate versions list setgenerateversionslist f product fproduct generator set product setproduct f product fproduct get model getmodel get install location getinstalllocation string create mac info list createmacinfoplist string entry name entryname nls target platform helper targetplatformhelper get target version gettargetversion nls macosx info plist macosx info plist url url pde core pdecore get default getdefault get bundle getbundle get entry getentry entry name entryname url file plist input stream inputstream string location f feature location ffeaturelocation url open stream openstream file dir file location eclipse app contents dir mkdirs nls plist file dir info plist core utility coreutility read file readfile plist plist get absolute path getabsolutepath io exception ioexception close io exception ioexception override set additional attributes setadditionalattributes element plugin bundle description bundledescription bundle nls plugin set attribute setattribute unpack to string tostring core utility coreutility guess unpack guessunpack bundle
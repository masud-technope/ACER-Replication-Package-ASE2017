copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal builder java buffered input stream bufferedinputstream java buffered output stream bufferedoutputstream java data input stream datainputstream java data output stream dataoutputstream java file java file input stream fileinputstream java file output stream fileoutputstream java io exception ioexception java util array list arraylist java util collection java util collections java util hash map hashmap java util hash set hashset java util iterator java util map java util map entry java util java util zip crc org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime platform org eclipse core runtime status org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core i java project ijavaproject org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse osgi util nls org eclipse pde api tools internal comparator delta org eclipse pde api tools internal model project component projectcomponent org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional comparator i delta idelta org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal util util org eclipse pde core build i build entry ibuildentry org eclipse pde core build i build model ibuildmodel api tools build build state buildstate i delta idelta empty deltas i delta idelta string reexported components string version map string i delta idelta compatible changes compatiblechanges map string i delta idelta breaking changes breakingchanges map saved manifest file map string string manifest changes manifestchanges map saved build properties file map string string build prop changes buildpropchanges string reexported components reexportedcomponents string api tooling dependent projects apitoolingdependentprojects buildpathcrc constructor build state buildstate compatible changes compatiblechanges hash map hashmap breaking changes breakingchanges hash map hashmap manifest changes manifestchanges hash map hashmap build prop changes buildpropchanges hash map hashmap reads build input stream param link build state buildstate input stream io exception ioexception build state buildstate read data input stream datainputstream io exception ioexception string pluginid readutf pluginid equals api plugin apiplugin plugin io exception ioexception builder messages buildermessages build wrong file format wrongfileformat string kind readutf nls kind equals io exception ioexception builder messages buildermessages build wrong file format wrongfileformat read int readint version build full build required read boolean readboolean read build state buildstate build state buildstate buildpathcrc read long readlong count read int readint read compatible deltas count add compatible change addcompatiblechange read delta readdelta count read int readint read breaking deltas count add breaking change addbreakingchange read delta readdelta count read int readint read exported component names string components string count count components readutf reexported components reexportedcomponents components count read int readint count add api tooling dependent project addapitoolingdependentproject readutf count read int readint count read saved headers hash map hashmap string string map hash map hashmap count count string key readutf string readutf map key set manifest state setmanifeststate map count read int readint count read saved headers hash map hashmap string string map hash map hashmap count count string key readutf string readutf map key set build properties state setbuildpropertiesstate map writes link build state buildstate output stream param param io exception ioexception write build state buildstate data output stream dataoutputstream io exception ioexception writeutf api plugin apiplugin plugin nls writeutf write int writeint version write boolean writeboolean write long writelong buildpathcrc i delta idelta compatible changes deltas compatiblechangesdeltas get compatible changes getcompatiblechanges length compatible changes deltas compatiblechangesdeltas length write int writeint length length write delta writedelta compatible changes deltas compatiblechangesdeltas i delta idelta breaking changes deltas breakingchangesdeltas get breaking changes getbreakingchanges length breaking changes deltas breakingchangesdeltas length write int writeint length length write delta writedelta breaking changes deltas breakingchangesdeltas string reexported components reexportedcomponents get reexported components getreexportedcomponents length reexported components reexportedcomponents length write int writeint length length writeutf reexported components reexportedcomponents string api tooling dependents projects apitoolingdependentsprojects get api tooling dependent projects getapitoolingdependentprojects length api tooling dependents projects apitoolingdependentsprojects size write int writeint length iterator string iterator api tooling dependents projects apitoolingdependentsprojects iterator iterator has next hasnext writeutf iterator map string string map get manifest state getmanifeststate write int writeint map size entry string string entry iterator entry string string map entry set entryset iterator has next hasnext entry writeutf entry get key getkey writeutf entry get value getvalue map get build properties state getbuildpropertiesstate write int writeint map size entry iterator entry string string map entry set entryset iterator has next hasnext entry writeutf entry get key getkey writeutf entry get value getvalue read link i delta idelta build input stream param input stream read link i delta idelta rec onstructed reconstructed link i delta idelta build io exception ioexception i delta idelta read delta readdelta data input stream datainputstream io exception ioexception decode delta build has component d hascomponentid read boolean readboolean string componentid has component d hascomponentid delta get component d getcomponentid readutf delta get element type getelementtype element type elementtype read int readint delta get kind getkind kind read int readint delta get flags getflags flags read int readint delta get restrictions getrestrictions restrictions read int readint delta get modifiers getmodifiers modifiers read int readint delta get type name gettypename string type name typename readutf delta get key getkey string key readutf arguments length length read int readint string datas length array list arraylist string arguments array list arraylist length arguments add readutf datas string length arguments to array toarray datas datas string datas type name typename replace old modifiers oldmodifiers modifiers delta modifiers mask new modifiers newmodifiers modifiers delta modifiers offset previous restrictions previousrestrictions restrictions delta previous restrictions offset current restrictions currentrestrictions restrictions delta restrictions mask delta componentid element type elementtype kind flags current restrictions currentrestrictions previous restrictions previousrestrictions old modifiers oldmodifiers new modifiers newmodifiers type name typename key datas writes link i delta idelta build output stream param delta delta write param stream write io exception ioexception write delta writedelta i delta idelta delta data output stream dataoutputstream io exception ioexception encode delta build element type elementtype kind flags restrictions modifiers string type name typename string key object data string api component d apicomponentid delta get component version id getcomponentversionid has component d hascomponentid api component d apicomponentid write boolean writeboolean has component d hascomponentid has component d hascomponentid writeutf api component d apicomponentid write int writeint delta get element type getelementtype write int writeint delta get kind getkind write int writeint delta get flags getflags write int writeint delta get current restrictions getcurrentrestrictions modifiers delta get new modifiers getnewmodifiers delta modifiers offset delta get old modifiers getoldmodifiers write int writeint modifiers writeutf delta get type name gettypename writeutf delta get key getkey string arguments delta get arguments getarguments length arguments length write int writeint length length writeutf arguments adds link i delta idelta compatible compatibility change current param delta link i delta idelta add add compatible change addcompatiblechange i delta idelta delta string type name typename delta get type name gettypename i delta idelta object compatible changes compatiblechanges type name typename object i delta idelta hash set hashset add delta compatible changes compatiblechanges type name typename object add delta add link i delta idelta incompatible compatibility change current param delta link i delta idelta add add breaking change addbreakingchange i delta idelta delta string type name typename delta get type name gettypename i delta idelta object breaking changes breakingchanges type name typename object i delta idelta hash set hashset add delta breaking changes breakingchanges type name typename object add delta complete list recorded breaking duplicates removed empty array code code i delta idelta get breaking changes getbreakingchanges breaking changes breakingchanges breaking changes breakingchanges size empty deltas hash set hashset i delta idelta collector hash set hashset collection i delta idelta values breaking changes breakingchanges values iterator i delta idelta iterator values iterator iterator has next hasnext collector add all addall iterator collector to array toarray i delta idelta collector size complete list recorded compatible duplicates removed empty array code code i delta idelta get compatible changes getcompatiblechanges compatible changes compatiblechanges compatible changes compatiblechanges size empty deltas hash set hashset i delta idelta collector hash set hashset collection i delta idelta values compatible changes compatiblechanges values iterator i delta idelta iterator values iterator iterator has next hasnext collector add all addall iterator collector to array toarray i delta idelta collector size complete list exported link i api component iapicomponent string get reexported components getreexportedcomponents reexported components reexportedcomponents reexported components reexported components reexportedcomponents remove entries type param type name typename type cleanup string type name typename breaking changes breakingchanges remove type name typename compatible changes compatiblechanges remove type name typename reexported components reexportedcomponents sets current list exported link i api component iapicomponent build param components set reexported components setreexportedcomponents i api component iapicomponent components components reexported components reexportedcomponents length components length string result string length length result components get symbolic name getsymbolicname reexported components reexportedcomponents result adds dependent project listing dependent projects param project name projectname add api tooling dependent project addapitoolingdependentproject string project name projectname api tooling dependent projects apitoolingdependentprojects api tooling dependent projects apitoolingdependentprojects hash set hashset api tooling dependent projects apitoolingdependentprojects add project name projectname complete listing dependent projects string get api tooling dependent projects getapitoolingdependentprojects api tooling dependent projects apitoolingdependentprojects collections empty api tooling dependent projects apitoolingdependentprojects built manifest saved method perform compact ion compaction manifest removing headers care param built manifest set manifest state setmanifeststate map string string map string string compact hash map hashmap iterator string api analysis builder apianalysisbuilder headers iterator has next hasnext string key string val key val compact key val manifest changes manifestchanges compact manifest changes manifestchanges clear returns saved manifest empty link map code code built manifest empty link map code code map string string get manifest state getmanifeststate manifest changes manifestchanges built build properties file saved method save entries care entire build properties file snap shot retained entries names match code custom code names start link i build entry ibuildentry jar prefix names start code extra code param model link i build model ibuildmodel save set build properties state setbuildpropertiesstate i build model ibuildmodel model model i build entry ibuildentry entries model get build getbuild get build entries getbuildentries string entries length entries get name getname project component projectcomponent entry custom equals build prop changes buildpropchanges project component projectcomponent entry custom util deep to string deeptostring entries get tokens gettokens starts with startswith i build entry ibuildentry jar prefix build prop changes buildpropchanges util deep to string deeptostring entries get tokens gettokens starts with startswith project component projectcomponent extra prefix build prop changes buildpropchanges util deep to string deeptostring entries get tokens gettokens build prop changes buildpropchanges clear map reset map passing code code clears current mapping param map map set build properties state setbuildpropertiesstate map string string map map build prop changes buildpropchanges map build prop changes buildpropchanges clear returns built build properties file empty link map code code built build properties file empty link map code code map string string get build properties state getbuildpropertiesstate build prop changes buildpropchanges returns crc code project build path unknown crc code project build path get build path c getbuildpathcrc buildpathcrc sets build path crc project resolved build path param crc crc code set build path c setbuildpathcrc crc buildpathcrc crc built project build state buildstate get last built state getlastbuiltstate i project iproject project core exception coreexception util is api project isapiproject project requested java projects read state readstate project reads build relevant project current link build state buildstate project code code build state buildstate read state readstate i project iproject project core exception coreexception file file get serialization file getserializationfile project file file exists data input stream datainputstream data input stream datainputstream buffered input stream bufferedinputstream file input stream fileinputstream file read api plugin apiplugin debug builder system println nls api analysis builder apianalysisbuilder saved thinks build failed nls project get name getname close exception print stack trace printstacktrace core exception coreexception status i status istatus error java core javacore plugin platform plugin error error reading build project project get name getname api plugin apiplugin debug builder file nls system println nls api analysis builder apianalysisbuilder project exist project nls nls system println api analysis builder apianalysisbuilder build file file get path getpath exist sets built project reset param project project param link build state buildstate set last built state setlastbuiltstate i project iproject project build state buildstate core exception coreexception util is api project isapiproject project requested java projects save built state savebuiltstate project file file get serialization file getserializationfile project file file exists file delete security exception securityexception returns link file saving res toring restoring built project param project saved file project link file saving res toring restoring built project file get serialization file getserializationfile i project iproject project project exists i path ipath working location workinglocation project get working location getworkinglocation api plugin apiplugin plugin nls working location workinglocation append dat to file tofile saves current build param project param core exception coreexception save built state savebuiltstate i project iproject project build state buildstate core exception coreexception api plugin apiplugin debug builder nls system println api analysis builder apianalysisbuilder saving build project project get name getname file file build state buildstate get serialization file getserializationfile project file api plugin apiplugin debug builder system current time millis currenttimemillis data output stream dataoutputstream data output stream dataoutputstream buffered output stream bufferedoutputstream file output stream fileoutputstream file write close runtime exception runtimeexception file delete security exception securityexception core exception coreexception status i status istatus error api plugin apiplugin plugin platform plugin error nls bind builder messages buildermessages build cannot save state cannotsavestate project get name getname io exception ioexception file delete security exception securityexception core exception coreexception status i status istatus error api plugin apiplugin plugin platform plugin error nls bind builder messages buildermessages build cannot save state cannotsavestate project get name getname api plugin apiplugin debug builder system current time millis currenttimemillis system println nls bind builder messages buildermessages build save state complete savestatecomplete string value of valueof computes returns crc projects resolved build path unknown param project project build path crc compute build path c computebuildpathcrc i project iproject project i java project ijavaproject java core javacore create project i classpath entry iclasspathentry classpath get resolved classpath getresolvedclasspath crc crc crc classpath length i classpath entry iclasspathentry entry classpath crc update entry get path getpath to portable string toportablestring get bytes getbytes crc get value getvalue java model exception javamodelexception
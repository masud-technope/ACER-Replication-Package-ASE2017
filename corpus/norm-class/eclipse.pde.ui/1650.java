copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal search java buffered writer bufferedwriter java file java file not found exception filenotfoundexception java file output stream fileoutputstream java io exception ioexception java output stream writer outputstreamwriter java util array list arraylist java util hash set hashset java util list javax xml parsers document builder documentbuilder javax xml parsers document builder factory documentbuilderfactory javax xml parsers factory configuration error factoryconfigurationerror javax xml parsers parser configuration exception parserconfigurationexception org eclipse core runtime core exception coreexception org eclipse pde api tools internal ant filter store antfilterstore org eclipse pde api tools internal i api core constants iapicoreconstants org eclipse pde api tools internal i api xml constants iapixmlconstants org eclipse pde api tools internal builder reference org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional visibility modifiers visibilitymodifiers org eclipse pde api tools internal provisional builder i reference ireference org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api element iapielement org eclipse pde api tools internal provisional search i api search reporter iapisearchreporter org eclipse pde api tools internal provisional search i metadata imetadata org eclipse pde api tools internal util util org dom document org dom element org xml sax helpers default handler defaulthandler search reporter out puts outputs xml file xml search reporter xmlsearchreporter i api search reporter iapisearchreporter string f location flocation document builder documentbuilder parser debug reference count referencecount illegal count illegalcount internal count internalcount constructor param location absolute path local file system folder write reports param debug debug ging debugging infos written console xml search reporter xmlsearchreporter string location debug f location flocation location debug debug parser document builder factory documentbuilderfactory new instance newinstance new document builder newdocumentbuilder parser set error handler seterrorhandler default handler defaulthandler factory configuration error factoryconfigurationerror fce api plugin apiplugin log fce parser configuration exception parserconfigurationexception pce api plugin apiplugin log pce override report results reportresults i api element iapielement element i reference ireference references references length references hash set hashset counting remove duplicate references writer remove hash set hashset i reference descriptor ireferencedescriptor written references writtenreferences hash set hashset xml reference descriptor writer xmlreferencedescriptorwriter writer xml reference descriptor writer xmlreferencedescriptorwriter f location flocation list i reference descriptor ireferencedescriptor descriptors array list arraylist references length references length reference reference reference references i reference descriptor ireferencedescriptor descriptor reference get reference descriptor getreferencedescriptor descriptors add descriptor update count ers counters written references writtenreferences descriptor reference count referencecount references get reference flags getreferenceflags i reference ireference illegal illegal count illegalcount visibility equality descriptor get visibility getvisibility visibility modifiers visibilitymodifiers internal count internalcount written references writtenreferences add descriptor core exception coreexception api plugin apiplugin log get status getstatus writer write references writereferences descriptors to array toarray i reference descriptor ireferencedescriptor descriptors size resolves component mapping param component component mapping includes version core exception coreexception string get id getid i api component iapicomponent component core exception coreexception string buffer stringbuffer buffer string buffer stringbuffer nls buffer append component get symbolic name getsymbolicname append append append component get version getversion append buffer to string tostring org eclipse pde api tools internal provisional search i api search reporter iapisearchreporter report not searched reportnotsearched org eclipse pde api tools internal provisional model i api element iapielement override report not searched reportnotsearched i api element iapielement elements elements buffered writer bufferedwriter writer debug nls system println nls writing file projects searched file root file rootfile file f location flocation root file rootfile exists root file rootfile mkdirs nls file file file root file rootfile searched xml file exists file create new file createnewfile document doc util new document newdocument element root doc create element createelement i api xml constants iapixmlconstants element components doc append child appendchild root element comp skipped component skippedcomponent component elements length component skipped component skippedcomponent elements comp doc create element createelement i api xml constants iapixmlconstants element component comp set attribute setattribute i api xml constants iapixmlconstants attr component get component id getcomponentid comp set attribute setattribute i api xml constants iapixmlconstants attr version component get version getversion comp set attribute setattribute i api xml constants iapixmlconstants skipped details component get error details geterrordetails root append child appendchild comp writer buffered writer bufferedwriter output stream writer outputstreamwriter file output stream fileoutputstream file i api core constants iapicoreconstants utf writer write util serialize document serializedocument doc writer flush file not found exception filenotfoundexception fnfe io exception ioexception ioe core exception coreexception writer writer close io exception ioexception override report metadata reportmetadata i metadata imetadata data data debug nls system println nls writing file projects searched file root file rootfile file f location flocation root file rootfile exists root file rootfile mkdirs nls file file file root file rootfile meta xml file exists file create new file createnewfile data serialize to file serializetofile file file not found exception filenotfoundexception fnfe api plugin apiplugin log fnfe io exception ioexception ioe api plugin apiplugin log ioe core exception coreexception api plugin apiplugin log override report counts reportcounts buffered writer bufferedwriter writer debug nls system println nls writing file counting total references file root file rootfile file f location flocation root file rootfile exists root file rootfile mkdirs nls file file file root file rootfile counts xml file exists file create new file createnewfile document doc util new document newdocument element root doc create element createelement i api xml constants iapixmlconstants element reported count doc append child appendchild root root set attribute setattribute i api xml constants iapixmlconstants attr total integer to string tostring reference count referencecount root set attribute setattribute i api xml constants iapixmlconstants attr count illegal integer to string tostring illegal count illegalcount root set attribute setattribute i api xml constants iapixmlconstants attr count internal integer to string tostring internal count internalcount root set attribute setattribute i api xml constants iapixmlconstants attr count filtered integer to string tostring ant filter store antfilterstore filteredapiproblems size writer buffered writer bufferedwriter output stream writer outputstreamwriter file output stream fileoutputstream file i api core constants iapicoreconstants utf writer write util serialize document serializedocument doc writer flush file not found exception filenotfoundexception fnfe io exception ioexception ioe core exception coreexception writer writer close io exception ioexception
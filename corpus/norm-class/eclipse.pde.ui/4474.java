copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal tasks java file java print writer printwriter java string writer stringwriter java util calendar java util hash set hashset java util java util tree set treeset java util regex pattern org apache tools ant build exception buildexception org eclipse core runtime core exception coreexception org eclipse osgi service resolver resolver error resolvererror org eclipse osgi util nls org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional model i api baseline iapibaseline org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api element iapielement org eclipse pde api tools internal provisional search api search engine apisearchengine org eclipse pde api tools internal provisional search i api search reporter iapisearchreporter org eclipse pde api tools internal provisional search i api search requestor iapisearchrequestor org eclipse pde api tools internal search api description modifier apidescriptionmodifier org eclipse pde api tools internal search skipped component skippedcomponent org eclipse pde api tools internal search use metadata usemetadata org eclipse pde api tools internal search use search requestor usesearchrequestor org eclipse pde api tools internal search xml search reporter xmlsearchreporter org eclipse pde api tools internal util filtered elements filteredelements org eclipse pde api tools internal util util ibm icu text date format dateformat ant task performing api analysis eclipse sdk api use task apiusetask common utils task commonutilstask api references considered search considerapi internal references considered search considerinternal illegal api reported search considerillegaluse project names searched tree set treeset skipped component skippedcomponent not searched notsearched regex pattern compose scope string scope pattern scopepattern regex pattern compose reference component ids string reference pattern referencepattern handle baseline install dir delete scan comp letes completes file baseline dir baselinedir patterns regular expressions api code code string api patterns apipatterns patterns regular expressions internal code code string internal patterns internalpatterns archive patterns scan analysis form ulation formulation pre bundle path jar pre string archive patterns archivepatterns list elements excluded scope filtered elements filteredelements excluded elements excludedelements list elements explicitly limiting scope filtered elements filteredelements included elements includedelements root directory api filters files apply string filters location current product search zip jar tgz tar file directory corresponds eclipse installation folder directory find eclipse executable param location location baseline analyze set location setlocation string location current baseline location currentbaselinelocation location regular expression pattern build scope elements search references product location pattern for matted formatted regular expression defined http java sun docs api java util regex pattern html param scope pattern scopepattern set scope pattern setscopepattern string scope pattern scopepattern scope pattern scopepattern scope pattern scopepattern regular expression pattern build scope elements search references product location pattern for matted formatted regular expression defined http java sun docs api java util regex pattern html param reference pattern referencepattern set reference pattern setreferencepattern string reference pattern referencepattern reference pattern referencepattern reference pattern referencepattern output location reports generated task completed reports directory structure filter root folder created component problems reported folder file called report xml special folder called all non api bundles allnonapibundles created folder xml file called report xml file lists bundles api tools nature param baseline location baselinelocation location reference baseline analyze set report setreport string report location reportlocation report location reportlocation report location reportlocation debug values code code code code code code param debug value debugvalue debug set debug setdebug string debug value debugvalue debug to string tostring equals debug value debugvalue sets references api types considered search values code code code code code code param considerapi setconsiderapi string considerapi considerapi to string tostring equals considerapi sets illegal api considered search values code code code code code code param considerillegaluse set consider illegal use setconsiderillegaluse string considerillegaluse considerillegaluse to string tostring equals considerillegaluse sets patterns api packages param patterns comma separated list regular expressions code code set api patterns setapipatterns string patterns api patterns apipatterns parse patterns parsepatterns patterns sets references internal types considered search values code code code code code code param considerapi set consider internal setconsiderinternal string considerinternal considerinternal to string tostring equals considerinternal sets patterns internal packages param patterns comma separated list regular expressions code code set internal patterns setinternalpatterns string patterns internal patterns internalpatterns parse patterns parsepatterns patterns sets archive patterns scan analysis param patterns set archive patterns setarchivepatterns string patterns archive patterns archivepatterns parse patterns parsepatterns patterns org eclipse pde api tools internal tasks use task usetask assert parameters assertparameters assert parameters assertparameters build exception buildexception report location reportlocation string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter writer println nls bind messages api use task apiusetask missing report location string report location reportlocation writer flush writer close build exception buildexception string value of valueof get buffer getbuffer current baseline location currentbaselinelocation string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter writer println nls bind messages api use task apiusetask missing baseline argument string current baseline location currentbaselinelocation writer flush writer close build exception buildexception string value of valueof get buffer getbuffer don considerapi considerinternal considerillegaluse build exception buildexception messages use task usetask scan types searched override execute build exception buildexception assert parameters assertparameters write debug header writedebugheader clean report location cleanreportlocation use metadata usemetadata data use metadata usemetadata get search flags getsearchflags scope pattern scopepattern reference pattern referencepattern current baseline location currentbaselinelocation report location reportlocation api patterns apipatterns internal patterns internalpatterns archive patterns archivepatterns date format dateformat get date time instance getdatetimeinstance format calendar get instance getinstance get time gettime get description getdescription i api baseline iapibaseline baseline get baseline getbaseline current baseline current baseline location currentbaselinelocation i api search reporter iapisearchreporter reporter xml search reporter xmlsearchreporter report location reportlocation debug string ids hash set hashset tree set treeset i api component iapicomponent scope tree set treeset util components orter componentsorter get context getcontext baseline ids scope api search engine apisearchengine engine api search engine apisearchengine use search requestor usesearchrequestor requestor use search requestor usesearchrequestor ids scope to array toarray i api element iapielement scope size get search flags getsearchflags requestor set jar patterns setjarpatterns archive patterns archivepatterns requestor set filter root setfilterroot filters override api descriptions required api patterns apipatterns internal patterns internalpatterns modify api descriptions api description modifier apidescriptionmodifier visitor api description modifier apidescriptionmodifier internal patterns internalpatterns api patterns apipatterns i api component iapicomponent components baseline get api components getapicomponents components length i api component iapicomponent component components component is system component issystemcomponent component is source component issourcecomponent visitor set api description setapidescription component get api description getapidescription component get api description getapidescription accept visitor api plugin apiplugin debug search engine debug engine search baseline requestor reporter core exception coreexception build exception buildexception messages api use task apiusetask search engine problem baseline baseline dispose delete baseline deletebaseline current baseline location currentbaselinelocation baseline dir baselinedir reporter report not searched reportnotsearched not searched notsearched to array toarray i api element iapielement not searched notsearched size reporter report metadata reportmetadata data reporter report counts reportcounts returns add component search scope param component param pattern param allow resolve allowresolve component considered core exception coreexception accept component acceptcomponent i api component iapicomponent component pattern pattern allow resolve allowresolve core exception coreexception allow resolve allowresolve resolver error resolvererror errors component get errors geterrors errors not searched notsearched add skipped component skippedcomponent component get symbolic name getsymbolicname component get version getversion errors component is system component issystemcomponent pattern pattern matcher component get symbolic name getsymbolicname matches collects scope elements reference ids pass param baseline baseline check components param ids live reference ids param scope live elements scope core exception coreexception get context getcontext i api baseline iapibaseline baseline string ids i api component iapicomponent scope core exception coreexception excluded elements excludedelements common utils task commonutilstask initialize filtered elements initializefilteredelements exclude list location excludelistlocation baseline debug debug nls system println nls system println excluded elements list system println excluded elements excludedelements included elements includedelements common utils task commonutilstask initialize filtered elements initializefilteredelements include list location includelistlocation baseline debug debug nls system println nls system println included elements list system println included elements includedelements i api component iapicomponent components baseline get api components getapicomponents not searched notsearched tree set treeset util components orter componentsorter pattern ref pattern refpattern scope pattern scopepattern reference pattern referencepattern ref pattern refpattern pattern compile reference pattern referencepattern scope pattern scopepattern scope pattern scopepattern pattern compile scope pattern scopepattern components length string symbolic name symbolicname components get symbolic name getsymbolicname skip included elements includedelements is empty isempty included elements includedelements contains exact match containsexactmatch symbolic name symbolicname included elements includedelements contains partial match containspartialmatch symbolic name symbolicname skip skip excluded elements excludedelements contains exact match containsexactmatch symbolic name symbolicname excluded elements excludedelements contains partial match containspartialmatch symbolic name symbolicname skip skip accept component acceptcomponent components ref pattern refpattern ids add symbolic name symbolicname accept component acceptcomponent components scope pattern scopepattern scope add components not searched notsearched add skipped component skippedcomponent symbolic name symbolicname components get version getversion components get errors geterrors returns search flags link i api search requestor iapisearchrequestor flags get search flags getsearchflags flags considerapi i api search requestor iapisearchrequestor include api flags considerinternal i api search requestor iapisearchrequestor include internal flags considerillegaluse i api search requestor iapisearchrequestor include illegal flags prepares creates baseline location returned link i api baseline iapibaseline checked resolution errors consistency code code passed location code code returned param baseline param location location baseline prepared code code passed code code returned link i api baseline iapibaseline location code code location code code i api baseline iapibaseline get baseline getbaseline string string location location extract baseline examine time debug time system current time millis currenttimemillis nls nls system println preparing baseline installation file install dir installdir extractsdk location debug nls nls system println system current time millis currenttimemillis time time system current time millis currenttimemillis create baseline examine debug time system current time millis currenttimemillis nls nls system println creating baseline i api baseline iapibaseline baseline create baseline createbaseline install dir installdir get absolute path getabsolutepath ee file location eefilelocation debug nls nls system println system current time millis currenttimemillis time baseline dir baselinedir install dir installdir baseline cleans report location parameter link common utils task commonutilstask report location reportlocation clean report location cleanreportlocation report location reportlocation time debug time system current time millis currenttimemillis nls system println cleaning report location file file file report location reportlocation file exists util delete file debug nls nls system println system current time millis currenttimemillis time writes general header debug iff debug flag write debug header writedebugheader debug nls system println product location search current baseline location currentbaselinelocation nls system println report location report location reportlocation nls system println searching api references considerapi nls system println searching internal references considerinternal nls system println searching illegal api considerillegaluse exclude list location excludelistlocation nls system println nls exclude list location exclude list location excludelistlocation nls system println nls exclude list location include list location includelistlocation nls system println nls include list location include list location includelistlocation nls system println nls include list location filters nls system println nls api filter location filters nls system println nls api filter location scope pattern scopepattern nls system println nls scope pattern defined searching bundles nls system println nls scope pattern scope pattern scopepattern reference pattern referencepattern nls system println nls baseline pattern defined reporting references bundles nls system println nls baseline pattern reference pattern referencepattern nls system println exclude list location exclude list bundles excluded xml report generated task execution lines starting excluded elements format exclude list file pre doc bundles org eclipse jdt doc isv org eclipse jdt doc user org eclipse pde doc user org eclipse platform doc isv org eclipse platform doc user eclipse bundles ibm icu jcr aft jcraft jsch javax servlet javax servlet jsp pre location absolute path param exclude list location excludelistlocation location excluded list file set exclude list setexcludelist string exclude list location excludelistlocation exclude list location excludelistlocation exclude list location excludelistlocation include list location include list bundles included xml report generated task execution lines starting included elements format include list file pre doc bundles org eclipse jdt doc isv org eclipse jdt doc user org eclipse pde doc user org eclipse platform doc isv org eclipse platform doc user eclipse bundles ibm icu jcr aft jcraft jsch javax servlet javax servlet jsp pre location absolute path param include list location includelistlocation location included list file set include list setincludelist string include list location includelistlocation include list location includelistlocation include list location includelistlocation root directory api filters scan argument root directory api filters files filter references api filters files specific problems ignore api analysis scan problem filters filter scan api filters file component sets filters applied root absolute path root structure pre root component org eclipse jface api filters pre param filters root api filters files set filters setfilters string filters filters filters
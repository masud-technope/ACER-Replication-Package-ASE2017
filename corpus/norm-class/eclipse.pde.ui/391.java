copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal java file java file input stream fileinputstream java io exception ioexception java input stream inputstream java util array list arraylist java util hash set hashset java util iterator java util list java util map java util java util stack java util zip zip entry zipentry java util zip zip file zipfile org eclipse core file buf fers filebuffers file buffers filebuffers org eclipse core file buf fers filebuffers i text file buffer itextfilebuffer org eclipse core file buf fers filebuffers i text file buffer manager itextfilebuffermanager org eclipse core file buf fers filebuffers location kind locationkind org eclipse core resources i file ifile org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime multi status multistatus org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse core runtime status org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java project ijavaproject org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast parser astparser org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom body declaration bodydeclaration org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom tag element tagelement org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse jdt core dom rewrite ast rewrite astrewrite org eclipse jdt core dom rewrite list rewrite listrewrite org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse pde api tools internal provisional api description visitor apidescriptionvisitor org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional factory org eclipse pde api tools internal provisional i api annotations iapiannotations org eclipse pde api tools internal provisional i api description iapidescription org eclipse pde api tools internal provisional i api javadoc tag iapijavadoctag org eclipse pde api tools internal provisional restriction modifiers restrictionmodifiers org eclipse pde api tools internal provisional visibility modifiers visibilitymodifiers org eclipse pde api tools internal provisional descriptors i element descriptor ielementdescriptor org eclipse pde api tools internal provisional descriptors i field descriptor ifielddescriptor org eclipse pde api tools internal provisional descriptors i method descriptor imethoddescriptor org eclipse pde api tools internal provisional descriptors i package descriptor ipackagedescriptor org eclipse pde api tools internal provisional descriptors i reference type descriptor ireferencetypedescriptor org eclipse pde api tools internal provisional scanner scanner messages scannermessages org eclipse pde api tools internal util signatures org eclipse pde api tools internal util util org eclipse text edits text edit textedit org dom element org dom node list nodelist tools scanning loading parsing component xml files api description processor apidescriptionprocessor visits type collecting members processing type description visitor descriptionvisitor api description visitor apidescriptionvisitor api description project i api description iapidescription api description apidescription java project resolve types i java project ijavaproject project list collect text edits map i file ifile text edit textedit f collector fcollector members collected current type list i element descriptor ielementdescriptor members array list arraylist list exception stat uses statuses occurred code code list i status istatus exceptions constructs visitor collect tag updates java project param project update param project api description param collector collection place text edits description visitor descriptionvisitor i java project ijavaproject i api description iapidescription map i file ifile text edit textedit collector project api description apidescription f collector fcollector collector override visit element visitelement i element descriptor ielementdescriptor element i api annotations iapiannotations description element get element type getelementtype i element descriptor ielementdescriptor i element descriptor ielementdescriptor type members clear members add element members add element override end visit element endvisitelement i element descriptor ielementdescriptor element i api annotations iapiannotations description element get element type getelementtype i element descriptor ielementdescriptor type i reference type descriptor ireferencetypedescriptor ref type reftype i reference type descriptor ireferencetypedescriptor element i reference type descriptor ireferencetypedescriptor top level type topleveltype ref type reftype get enclosing type getenclosingtype top level type topleveltype ref type reftype top level type topleveltype top level type topleveltype ref type reftype get enclosing type getenclosingtype i type itype type project find type findtype ref type reftype get qualified name getqualifiedname null progress monitor nullprogressmonitor type process tag updates processtagupdates type ref type reftype api description apidescription members f collector fcollector core exception coreexception add status addstatus get status getstatus bad location exception badlocationexception add status addstatus status i status istatus error api plugin apiplugin plugin scanner messages scannermessages componentxmlscanner element to string tostring members clear adds status current listing messages param status add status addstatus i status istatus status exceptions exceptions array list arraylist exceptions add status returns status processing project status errors occurred status i status istatus get status getstatus exceptions status status multi status multistatus api plugin apiplugin plugin exceptions to array toarray i status istatus exceptions size scanner messages scannermessages componentxmlscanner visitor finding nodes update javadoc tags needed ast tag visitor asttagvisitor ast visitor astvisitor list i element descriptor ielementdescriptor apis i api description iapidescription description ast rewrite astrewrite rewrite stack integer type stack typestack constructor param api s apis listing link i element descriptor ielementdescriptor care visit ast tag visitor asttagvisitor list i element descriptor ielementdescriptor apis i api description iapidescription description ast rewrite astrewrite rewrite apis apis description description rewrite rewrite type stack typestack stack override visit type declaration typedeclaration node type i api javadoc tag iapijavadoctag type node is interface isinterface type i api javadoc tag iapijavadoctag type type stack typestack push integer type update doc node updatedocnode find descriptor by name finddescriptorbyname node get name getname get fully qualified name getfullyqualifiedname node get type gettype i api javadoc tag iapijavadoctag member override end visit endvisit type declaration typedeclaration node type stack typestack pop returns kind type visited code type code code type code get type gettype type stack typestack peek int value intvalue override visit field declaration fielddeclaration node list variable declaration fragment variabledeclarationfragment fields node fragments variable declaration fragment variabledeclarationfragment fragment iterator variable declaration fragment variabledeclarationfragment iter fields iterator iter has next hasnext fragment iter update doc node updatedocnode find descriptor by name finddescriptorbyname fragment get name getname get fully qualified name getfullyqualifiedname node get type gettype i api javadoc tag iapijavadoctag member field override visit method declaration methoddeclaration node string signature signatures get method signature from node getmethodsignaturefromnode node signature update doc node updatedocnode find descriptor by name finddescriptorbyname node get name getname get fully qualified name getfullyqualifiedname signature node get type gettype i api javadoc tag iapijavadoctag member method updates javadoc node needed creates doc node param element element api param docnode doc node update param type code code code code param member code method code code field code code code update doc node updatedocnode i element descriptor ielementdescriptor element body declaration bodydeclaration body type member element check missing tags work i api annotations iapiannotations api description resolve annotations resolveannotations element api javadoc docnode body get javadoc getjavadoc ast ast body getast new node newnode docnode docnode docnode ast new javadoc newjavadoc string missing tags missingtags collect missing tags collectmissingtags api docnode tags type member missing tags missingtags length new node newnode create empty javadoc node ast missing tags rewrite body body get javadoc property getjavadocproperty docnode list rewrite listrewrite lrewrite rewrite get list rewrite getlistrewrite docnode javadoc tags property tag element tagelement new tag newtag missing tags missingtags length new tag newtag create new tag element createnewtagelement ast missing tags missingtags lrewrite insert last insertlast new tag newtag creates link tag element tagelement link ast returns param ast link ast create link tag element tagelement param tag name tagname tag link tag element tagelement tag element tagelement create new tag element createnewtagelement ast ast string tag name tagname tag element tagelement new tag newtag ast new tag element newtagelement new tag newtag set tag name settagname tag name tagname new tag newtag collects missing javadoc tags based listing link tag element tagelement param api param tags param type code code code code param member code method code code field code code code array missing link tag element tagelement empty array code code string collect missing tags collectmissingtags i api annotations iapiannotations api list tag element tagelement tags type member res api get restrictions getrestrictions array list arraylist string missing array list arraylist javadoc tag manager javadoctagmanager jtm api plugin apiplugin get javadoc tag manager getjavadoctagmanager member i api javadoc tag iapijavadoctag member field restriction modifiers restrictionmodifiers is reference restriction isreferencerestriction res contains restriction tag containsrestrictiontag nls tags nls noreference i api javadoc tag iapijavadoctag tag jtm get tag gettag i api javadoc tag iapijavadoctag reference tag missing add tag get complete tag getcompletetag type member i api javadoc tag iapijavadoctag member method restriction modifiers restrictionmodifiers is reference restriction isreferencerestriction res contains restriction tag containsrestrictiontag nls tags nls noreference i api javadoc tag iapijavadoctag tag jtm get tag gettag i api javadoc tag iapijavadoctag reference tag missing add tag get complete tag getcompletetag type member restriction modifiers restrictionmodifiers is override restriction isoverriderestriction res contains restriction tag containsrestrictiontag nls tags nls nooverride i api javadoc tag iapijavadoctag tag jtm get tag gettag i api javadoc tag iapijavadoctag override tag missing add tag get complete tag getcompletetag type member i api javadoc tag iapijavadoctag member restriction modifiers restrictionmodifiers is implement restriction isimplementrestriction res contains restriction tag containsrestrictiontag nls tags nls noimplement i api javadoc tag iapijavadoctag tag jtm get tag gettag i api javadoc tag iapijavadoctag implement tag missing add tag get complete tag getcompletetag type member restriction modifiers restrictionmodifiers is instantiate restriction isinstantiaterestriction res contains restriction tag containsrestrictiontag nls tags nls noinstantiate i api javadoc tag iapijavadoctag tag jtm get tag gettag i api javadoc tag iapijavadoctag instantiate tag missing add tag get complete tag getcompletetag type member restriction modifiers restrictionmodifiers is extend restriction isextendrestriction res contains restriction tag containsrestrictiontag nls tags nls noextend i api javadoc tag iapijavadoctag tag jtm get tag gettag i api javadoc tag iapijavadoctag extend tag missing add tag get complete tag getcompletetag type member missing to array toarray string missing size determines tag appears link tag element tagelement listing param tags param tag listing link tag element tagelement tag contains restriction tag containsrestrictiontag list tag element tagelement tags string tag tag element tagelement tag element tagelement tags size tag element tagelement tags tag equals tag element tagelement get tag name gettagname finds link i element descriptor ielementdescriptor matches signature param param signature matching link i element descriptor ielementdescriptor code code i element descriptor ielementdescriptor find descriptor by name finddescriptorbyname string string signature i element descriptor ielementdescriptor desc apis size desc apis desc get element type getelementtype i element descriptor ielementdescriptor type i reference type descriptor ireferencetypedescriptor desc get name getname equals desc i element descriptor ielementdescriptor method i method descriptor imethoddescriptor method i method descriptor imethoddescriptor desc method get name getname equals method get signature getsignature equals signature desc i element descriptor ielementdescriptor field i field descriptor ifielddescriptor desc get name getname equals desc constructor instantiated api description processor apidescriptionprocessor parses component xml string location jar directory component xml file component xml file param location root location component xml file component xml file component xml string code code io exception ioexception unable parse string serialize component xml serializecomponentxml file location location exists zip file zipfile jar file jarfile input stream inputstream stream string extension path location get name getname get file extension getfileextension nls extension extension equals jar location is file isfile jar file jarfile zip file zipfile location zip file zipfile open read zip entry zipentry manifest entry manifestentry jar file jarfile get entry getentry i api core constants iapicoreconstants component xml manifest entry manifestentry stream jar file jarfile get input stream getinputstream manifest entry manifestentry location is directory isdirectory file file file location i api core constants iapicoreconstants component xml file exists stream file input stream fileinputstream file location is file isfile location get name getname equals i api core constants iapicoreconstants component xml stream file input stream fileinputstream location stream string util get input stream as char array getinputstreamaschararray stream i api core constants iapicoreconstants utf io exception ioexception api plugin apiplugin log stream stream close io exception ioexception api plugin apiplugin log jar file jarfile jar file jarfile close io exception ioexception api plugin apiplugin log method updates javadoc members java source files retrieved component xml file param project java project update param component xml componentxml component xml file update param collector core exception coreexception io exception ioexception collect tag updates collecttagupdates i java project ijavaproject project file component xml componentxml map i file ifile text edit textedit collector core exception coreexception io exception ioexception i api description iapidescription description api description apidescription annotate api settings annotateapisettings project description serialize component xml serializecomponentxml component xml componentxml visit types description visitor descriptionvisitor visitor description visitor descriptionvisitor project description collector description accept visitor i status istatus status visitor get status getstatus status isok core exception coreexception status type parent type descriptor annotated description update javadoc comments type members type description param type param desc param description param members members api annotations param collector core exception coreexception bad location exception badlocationexception process tag updates processtagupdates i type itype type i reference type descriptor ireferencetypedescriptor desc i api description iapidescription description list i element descriptor ielementdescriptor members map i file ifile text edit textedit collector core exception coreexception bad location exception badlocationexception ast parser astparser parser ast parser astparser new parser newparser ast jls i compilation unit icompilationunit cunit type get compilation unit getcompilationunit cunit parser set source setsource cunit map string string options cunit get java project getjavaproject get options getoptions options java core javacore compiler doc comment support java core javacore enabled parser set compiler options setcompileroptions options compilation unit compilationunit compilation unit compilationunit parser createast null progress monitor nullprogressmonitor record modifications recordmodifications ast rewrite astrewrite rewrite ast rewrite astrewrite create getast ast tag visitor asttagvisitor visitor ast tag visitor asttagvisitor members description rewrite accept visitor i text file buffer manager itextfilebuffermanager file buffers filebuffers get text file buffer manager gettextfilebuffermanager i path ipath path get java element getjavaelement get path getpath connect path location kind locationkind ifile i text file buffer itextfilebuffer tfb get text file buffer gettextfilebuffer path location kind locationkind ifile i document idocument document tfb get document getdocument text edit textedit edit rewrite rewriteast document edit get children size getchildrensize edit get length getlength i file ifile file i file ifile cunit get underlying resource getunderlyingresource text edit textedit edits collector file edits edits hash set hashset collector file edits edits add edit disconnect path location kind locationkind ifile exception message underlying exception param message error message param exception underlying exception code code core exception coreexception abort string message throwable exception core exception coreexception i status istatus status status i status istatus error api plugin apiplugin plugin message exception core exception coreexception status parses xml document string format annot ates annotates link i api description iapidescription link i package descriptor ipackagedescriptor link i reference type descriptor ireferencetypedescriptor link i method descriptor imethoddescriptor link i field descriptor ifielddescriptor param settings api settings annotate param xml xml generate settings core exception coreexception annotate api settings annotateapisettings i java project ijavaproject project i api description iapidescription settings string xml core exception coreexception element root root util parse document parsedocument xml core exception coreexception abort failed parse api description xml file root get node name getnodename equals i api xml constants iapixmlconstants element component abort scanner messages scannermessages componentxmlscanner string version root get attribute getattribute i api xml constants iapixmlconstants attr version api description apidescription desc api description apidescription settings desc set embedded version setembeddedversion version todo comp ares compares change denotes noextend change current version nls earlierversion desc compare embedded version t o compareembeddedversionto node list nodelist packages root get elements by tag name getelementsbytagname i api xml constants iapixmlconstants element node list nodelist types i package descriptor ipackagedescriptor pack desc packdesc element type packages get length getlength element pkg element packages item visibility manifest string pkg name pkgname pkg get attribute getattribute i api xml constants iapixmlconstants attr pack desc packdesc factory package descriptor packagedescriptor pkg name pkgname types pkg get elements by tag name getelementsbytagname i api xml constants iapixmlconstants element type types get length getlength type element types item string type get attribute getattribute i api xml constants iapixmlconstants attr length abort nls missing type nls i reference type descriptor ireferencetypedescriptor type desc typedesc pack desc packdesc get type gettype annotate descriptor annotatedescriptor project settings type desc typedesc type earlierversion annotate method settings annotatemethodsettings project settings type desc typedesc type earlierversion annotate field settings annotatefieldsettings project settings type desc typedesc type earlierversion annot ates annotates backing link i api description iapidescription link element adding visibility restriction attributes link i element descriptor ielementdescriptor param settings settings annotate param descriptor current descriptor context param element current element annotate param earlierversion version read xml older current tooling version annotate descriptor annotatedescriptor i java project ijavaproject project i api description iapidescription settings i element descriptor ielementdescriptor descriptor element element earlierversion type vis typevis get visibility getvisibility element type vis typevis settings set visibility setvisibility descriptor type vis typevis settings set restrictions setrestrictions descriptor get restrictions getrestrictions project element descriptor earlierversion returns restriction settings element param project link i java project ijavaproject context param element xml element param descriptor link i element descriptor ielementdescriptor restrictions param earlierversion version read xml older current tooling version restriction settings get restrictions getrestrictions i java project ijavaproject project element element i element descriptor ielementdescriptor descriptor earlierversion res restriction modifiers restrictionmodifiers restrictions element has attribute hasattribute i api xml constants iapixmlconstants attr restrictions res integer parse int parseint element get attribute getattribute i api xml constants iapixmlconstants attr restrictions descriptor get element type getelementtype i element descriptor ielementdescriptor field res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr reference restriction modifiers restrictionmodifiers reference res i element descriptor ielementdescriptor method i method descriptor imethoddescriptor method i method descriptor imethoddescriptor descriptor res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr reference restriction modifiers restrictionmodifiers reference res method is constructor isconstructor res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr override restriction modifiers restrictionmodifiers override res i element descriptor ielementdescriptor type i reference type descriptor ireferencetypedescriptor rtype i reference type descriptor ireferencetypedescriptor descriptor res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr implement restriction modifiers restrictionmodifiers implement res earlierversion restriction modifiers restrictionmodifiers is implement restriction isimplementrestriction res res restriction modifiers restrictionmodifiers extend res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr extend restriction modifiers restrictionmodifiers extend res restriction modifiers restrictionmodifiers is extend restriction isextendrestriction res res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr sub class subclass restriction modifiers restrictionmodifiers extend res res annotate restriction annotaterestriction element i api xml constants iapixmlconstants attr instantiate restriction modifiers restrictionmodifiers instantiate res i type itype type project type project find type findtype rtype get qualified name getqualifiedname type flags is interface isinterface type get flags getflags res restriction modifiers restrictionmodifiers instantiate res restriction modifiers restrictionmodifiers implement flags is final isfinal type get flags getflags res restriction modifiers restrictionmodifiers extend flags is abstract isabstract type get flags getflags res restriction modifiers restrictionmodifiers instantiate java model exception javamodelexception res tests restriction exists element returns updated restrictions flag param element xml element param attribute test param flag bit mask attribute param res flag combine updated flags annotate restriction annotaterestriction element element string flag res string element get attribute getattribute lres res length value of valueof boolean value booleanvalue lres res flag lres returns visibility settings element param element xml element visibility settings get visibility getvisibility element element string attribute element get attribute getattribute i api xml constants iapixmlconstants attr visibility integer parse int parseint attribute number format exception numberformatexception nfe api equals attribute visibility modifiers visibilitymodifiers api equals attribute visibility modifiers visibilitymodifiers per missable permissable equals attribute visibility modifiers visibilitymodifiers per missible permissible spi equals attribute visibility modifiers visibilitymodifiers spi annot ates annotates supplied link i api description iapidescription field elements direct children link element link i field descriptor ifielddescriptor created needed children link i reference type descriptor ireferencetypedescriptor param settings link i api description iapidescription add link i field descriptor ifielddescriptor param type desc typedesc type descriptor field param type parent link element param earlierversion version read xml older current tooling version core exception coreexception annotate field settings annotatefieldsettings i java project ijavaproject project i api description iapidescription settings i reference type descriptor ireferencetypedescriptor type desc typedesc element type earlierversion core exception coreexception node list nodelist fields type get elements by tag name getelementsbytagname i api xml constants iapixmlconstants element field element field i field descriptor ifielddescriptor field desc fielddesc string fields get length getlength field element fields item field get attribute getattribute i api xml constants iapixmlconstants attr abort scanner messages scannermessages componentxmlscanner field desc fielddesc type desc typedesc get field getfield annotate descriptor annotatedescriptor project settings field desc fielddesc field earlierversion annot ates annotates supplied link i api description iapidescription method elements direct children link element link i method descriptor imethoddescriptor created needed children link i reference type descriptor ireferencetypedescriptor param settings link i api description iapidescription add link i method descriptor imethoddescriptor param type desc typedesc type descriptor method param type parent link element param earlierversion version read xml older current tooling version core exception coreexception annotate method settings annotatemethodsettings i java project ijavaproject project i api description iapidescription settings i reference type descriptor ireferencetypedescriptor type desc typedesc element type earlierversion core exception coreexception node list nodelist methods type get elements by tag name getelementsbytagname i api xml constants iapixmlconstants element method element method i method descriptor imethoddescriptor method desc methoddesc string signature methods get length getlength method element methods item method get attribute getattribute i api xml constants iapixmlconstants attr abort scanner messages scannermessages componentxmlscanner signature method get attribute getattribute i api xml constants iapixmlconstants attr signature signature abort scanner messages scannermessages componentxmlscanner files signature signature replace method desc methoddesc type desc typedesc get method getmethod signature annotate descriptor annotatedescriptor project settings method desc methoddesc method earlierversion
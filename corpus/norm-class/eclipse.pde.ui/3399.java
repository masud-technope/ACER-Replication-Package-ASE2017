copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal builder java util collections java util iterator java util linked list linkedlist java util list java util java util string tokenizer stringtokenizer org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse jdt core flags org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i field ifield org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i method imethod org eclipse jdt core i source range isourcerange org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt core signature org eclipse jdt core dom ast org eclipse jdt core dom ast node astnode org eclipse jdt core dom ast parser astparser org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom anonymous class declaration anonymousclassdeclaration org eclipse jdt core dom i type binding itypebinding org eclipse jdt core dom type declaration typedeclaration org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse jface text i region iregion org eclipse jface text position org eclipse pde api tools internal model api type apitype org eclipse pde api tools internal model project component projectcomponent org eclipse pde api tools internal problems api problem factory apiproblemfactory org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional i api marker constants iapimarkerconstants org eclipse pde api tools internal provisional builder i api problem detector iapiproblemdetector org eclipse pde api tools internal provisional builder i reference ireference org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api element iapielement org eclipse pde api tools internal provisional model i api field iapifield org eclipse pde api tools internal provisional model i api member iapimember org eclipse pde api tools internal provisional model i api method iapimethod org eclipse pde api tools internal provisional model i api type iapitype org eclipse pde api tools internal provisional problems i api problem iapiproblem org eclipse pde api tools internal util signatures org eclipse pde api tools internal util util abstract problem detector abstractproblemdetector i api problem detector iapiproblemdetector nls string method reference nls string constructor enclosing method link i api type iapitype enclosing method infos pre java files method finder methodfinder ast visitor astvisitor i method imethod method i type itype jtype api type apitype type method finder methodfinder api type apitype type i type itype jtype type type jtype jtype override visit anonymous class declaration anonymousclassdeclaration node method i type binding itypebinding binding node resolve binding resolvebinding string binary name binaryname binding get binary name getbinaryname type get name getname ends with endswith binary name binaryname i java element ijavaelement element jtype get compilation unit getcompilationunit get element at getelementat node get start position getstartposition element i java element ijavaelement ancestor element get ancestor getancestor i java element ijavaelement method ancestor method i method imethod ancestor java model exception javamodelexception jme override visit type declaration typedeclaration node method node is local type declaration islocaltypedeclaration i type binding itypebinding binding node resolve binding resolvebinding string binary name binaryname binding get binary name getbinaryname type get name getname ends with endswith binary name binaryname i java element ijavaelement element jtype get compilation unit getcompilationunit get element at getelementat node get start position getstartposition element get element type getelementtype i java element ijavaelement type i type itype ltype i type itype element i java element ijavaelement parent ltype get parent getparent parent get element type getelementtype i java element ijavaelement method method i method imethod parent java model exception javamodelexception jme list potential link i reference ireference problems list i reference ireference f potential problems fpotentialproblems linked list linkedlist retains reference analysis param reference reference retain reference retainreference i reference ireference reference f potential problems fpotentialproblems add reference list retained references references list i reference ireference get retained references getretainedreferences f potential problems fpotentialproblems override consider reference considerreference i reference ireference reference reference reference get reference kind getreferencekind get reference kinds getreferencekinds creates problem specific reference workspace param reference reference param java project reference source location problem code code exception core exception coreexception wrong i api problem iapiproblem create problem createproblem i reference ireference reference i java project ijavaproject java project javaproject i project iproject project java project javaproject get project getproject api plugin apiplugin get default getdefault get severity level getseveritylevel get severity key getseveritykey project api plugin apiplugin severity ignore i api member iapimember member reference get member getmember string lookup name lookupname get type name gettypename member replace i type itype type java project javaproject find type findtype lookup name lookupname null progress monitor nullprogressmonitor type i compilation unit icompilationunit compilation unit compilationunit type get compilation unit getcompilationunit compilation unit compilationunit i resource iresource resource util get resource getresource project type resource char start charstart char end charend line number linenumber reference get line number getlinenumber i java element ijavaelement element compilation unit compilationunit util is manifest ismanifest resource get project relative path getprojectrelativepath type is binary isbinary i document idocument document util get document getdocument compilation unit compilationunit line number linenumber reference number based api problem number based converted based marker creation time line number linenumber retrieve number start reference get reference kind getreferencekind i reference ireference override i reference ireference i reference ireference i reference ireference parameter i reference ireference returntype i reference ireference i api type iapitype enclosing type enclosingtype member get enclosing type getenclosingtype line number linenumber enclosing type enclosingtype enclosing type enclosingtype is anonymous isanonymous string superclass enclosing type enclosingtype get superclass name getsuperclassname string nls java lang object equals nls superclass check interfaces string super interfaces superinterfaces enclosing type enclosingtype get super interface names getsuperinterfacenames super interfaces superinterfaces string super interface superinterface super interfaces superinterfaces super interface superinterface substring super interface superinterface last index of lastindexof anonymous object superclass substring superclass last index of lastindexof superclass superclass substring superclass last index of lastindexof i region iregion line information lineinformation document get line information getlineinformation line number linenumber string line contents linecontents document line information lineinformation get offset getoffset line information lineinformation get length getlength char start charstart line information lineinformation get offset getoffset line contents linecontents index of indexof char end charend char start charstart length bad location exception badlocationexception api plugin apiplugin log char start charstart source range problem position pos get source range getsourcerange type document reference pos char start charstart pos get offset getoffset char start charstart char end charend char start charstart pos get length getlength line number linenumber document get line of offset getlineofoffset char start charstart core exception coreexception api plugin apiplugin log bad location exception badlocationexception api plugin apiplugin log char start charstart element compilation unit compilationunit get element at getelementat char start charstart api problem factory apiproblemfactory new api usage problem newapiusageproblem resource get project relative path getprojectrelativepath to portable string toportablestring type get fully qualified name getfullyqualifiedname get message args getmessageargs reference string i api marker constants iapimarkerconstants marker attr handle i api marker constants iapimarkerconstants api marker attr object element compilation unit compilationunit get handle identifier gethandleidentifier element get handle identifier gethandleidentifier based integer i api marker constants iapimarkerconstants api usage marker based line number linenumber char start charstart char end charend get element type getelementtype reference get problem kind getproblemkind get problem flags getproblemflags reference core exception coreexception api plugin apiplugin log returns source range include problem code code valid source range computed param type resolved type reference occurs param doc source document type param reference reference source range position position get source range getsourcerange i type itype type i document idocument doc i reference ireference reference core exception coreexception bad location exception badlocationexception returns element type problem reported get element type getelementtype i reference ireference reference returns problem flags param reference problem flags get problem flags getproblemflags i reference ireference reference returns problem message arguments message arguments string get message args getmessageargs i reference ireference reference core exception coreexception returns problem message arguments head less headless build message arguments string get qualified message args getqualifiedmessageargs i reference ireference reference core exception coreexception returns kind problem create problem kind get problem kind getproblemkind returns key lookup problem severity problem severity key string get severity key getseveritykey returns fully qualified type member param member fully qualified type string get type name gettypename i api member iapimember member core exception coreexception member get type gettype i api element iapielement type i api type iapitype type i api type iapitype member type is anonymous isanonymous get type name gettypename member get enclosing type getenclosingtype type is local islocal get type name gettypename member get enclosing type getenclosingtype member get name getname get type name gettypename member get enclosing type getenclosingtype returns qualified type display method delegates link signatures build display signatures param member fully qualified display signature link i api type iapitype enclosing type member type core exception coreexception string get qualified type name getqualifiedtypename i api member iapimember member core exception coreexception member get type gettype i api element iapielement type i api type iapitype type i api type iapitype member type is anonymous isanonymous get qualified type name getqualifiedtypename member get enclosing type getenclosingtype type is local islocal string get type name gettypename member get enclosing type getenclosingtype idx index of indexof idx substring idx signatures get qualified type signature getqualifiedtypesignature i api type iapitype member get qualified type name getqualifiedtypename member get enclosing type getenclosingtype returns unqualified type member param member unqualified type string get simple type name getsimpletypename i api member iapimember member core exception coreexception member get type gettype i api element iapielement type i api type iapitype type i api type iapitype member type is anonymous isanonymous get simple type name getsimpletypename type get enclosing type getenclosingtype type is local islocal string get simple type name getsimpletypename member get enclosing type getenclosingtype idx index of indexof idx substring idx signatures get type name gettypename signatures get type signature gettypesignature type get simple type name getsimpletypename member get enclosing type getenclosingtype str ategy strategy source position computed creates link position link i type itype returns code code event link i type itype code code range computed type param type type param reference reference core exception coreexception returns link position range link i type itype position default source position defaultsourceposition i type itype type i reference ireference reference core exception coreexception type i source range isourcerange range type get name range getnamerange range position range get offset getoffset range get length getlength finds method select code starting method recurse find method clash type pre my type mytype type my type mytype pre find constructor method call collision occurrence my type mytype selected determined method character excluding spaces param name part namepart param param method find method name start findmethodnamestart string name part namepart string name part namepart starts with startswith method reference method walk find token offset char at charat offset character is java identifier part isjavaidentifierpart offset char at charat offset character is java identifier part isjavaidentifierpart offset char at charat offset enc ounter encounter opening bound skip char at charat offset offset offset start index of indexof name part namepart start offset start name part namepart length char at charat offset offset char at charat offset start assumes method method reference start method reference constructor char at charat offset constructor start find method name start findmethodnamestart name part namepart offset override list i api problem iapiproblem create problems createproblems list i reference ireference references get retained references getretainedreferences references is empty isempty collections empty list list i api problem iapiproblem problems linked list linkedlist iterator i reference ireference iterator references iterator iterator has next hasnext i reference ireference reference iterator reference get resolved reference getresolvedreference unresolved reference ignore is problem isproblem reference i api problem iapiproblem problem i api component iapicomponent component reference get member getmember get api component getapicomponent component project component projectcomponent project component projectcomponent ppac project component projectcomponent component i java project ijavaproject project ppac get java project getjavaproject problem create problem createproblem reference project problem create problem createproblem reference problem problems add problem core exception coreexception api plugin apiplugin log get status getstatus problems returns resolved reference real problem param reference problem is problem isproblem i reference ireference reference fragment host references problems https bugs eclipse org bugs bug cgi i api member iapimember member reference get resolved reference getresolvedreference member i api member iapimember local reference get member getmember i api component iapicomponent lcomp local get api component getapicomponent lcomp lcomp is fragment isfragment lcomp get host gethost equals member get api component getapicomponent core exception coreexception api plugin apiplugin log is reference from component isreferencefromcomponent i reference ireference reference string component id componentid component id componentid i api component iapicomponent api component apicomponent reference get resolved reference getresolvedreference get api component getapicomponent fragment api component apicomponent get symbolic name getsymbolicname equals component id componentid i api component iapicomponent host api component apicomponent get host gethost host host get symbolic name getsymbolicname equals component id componentid core exception coreexception api plugin apiplugin log find link i api method iapimethod link i type itype matching method code code returned param type type top link i api method iapimethod param method link i api method iapimethod link i method imethod link i type itype matches link i api method iapimethod code code matching method java model exception javamodelexception core exception coreexception i method imethod find method in type findmethodintype i type itype type i api method iapimethod method java model exception javamodelexception core exception coreexception string parameter types parametertypes signature get parameter types getparametertypes method get signature getsignature parameter types parametertypes length parameter types parametertypes parameter types parametertypes replace string method name methodname method get name getname method is constructor isconstructor i api type iapitype enclosing type enclosingtype method get enclosing type getenclosingtype enclosing type enclosingtype is member type ismembertype flags is static isstatic enclosing type enclosingtype get modifiers getmodifiers remove synthetic argument corresponds enclosing type length parameter types parametertypes length system arraycopy parameter types parametertypes parameter types parametertypes string length length method name methodname enclosing type enclosingtype get simple name getsimplename i method imethod qmethod type get method getmethod method name methodname parameter types parametertypes i method imethod methods type get methods getmethods i method imethod match methods length i method imethod methods is similar issimilar qmethod match match find link i api field iapifield link i type itype field code code returned param type param field link i field ifield matching link i api field iapifield code code java model exception javamodelexception i field ifield find field in type findfieldintype i type itype type i api field iapifield field java model exception javamodelexception i field ifield match match type get field getfield field get name getname match exists i field ifield fields type get fields getfields opt imistically optimistically find match fields length fields get element name getelementname equals field get name getname match fields match find link i api type iapitype link i type itype match code code returned param type param api type apitype param reference param doc matching link i type itype code code core exception coreexception java model exception javamodelexception i type itype find type in type findtypeintype i type itype type i api type iapitype api type apitype i reference ireference reference i document idocument doc core exception coreexception java model exception javamodelexception api type apitype is local islocal string api type apitype get simple name getsimplename i compilation unit icompilationunit cunit type get compilation unit getcompilationunit cunit is working copy isworkingcopy cunit reconcile ast jls i method imethod method get enclosing method getenclosingmethod type reference doc method method get type gettype string tname type get element name getelementname tname equals api type apitype get name getname tname equals api type apitype get simple name getsimplename type i type itype match i type itype types type get types gettypes types length types get element name getelementname equals api type apitype get name getname match types match returns enclosing link i method imethod type code code computed param type param jtype param reference param document link i method imethod enclosing type code code core exception coreexception i method imethod get enclosing method getenclosingmethod i type itype jtype i reference ireference reference i document idocument document core exception coreexception i api member iapimember member reference get member getmember member get type gettype i api element iapielement type api type apitype type api type apitype member i api method iapimethod api method apimethod type get enclosing method getenclosingmethod api method apimethod string signature signatures process method signature processmethodsignature api method apimethod string method name methodname signatures get method name getmethodname api method apimethod i method imethod method jtype get method getmethod method name methodname signature get parameter types getparametertypes signature method exists method i method imethod method reference get line number getlinenumber offset document get line offset getlineoffset reference get line number getlinenumber method quick lookup quicklookup jtype document reference offset bad location exception badlocationexception ble method hard i source range isourcerange range jtype get compilation unit getcompilationunit get source range getsourcerange ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource jtype get compilation unit getcompilationunit parser set source range setsourcerange range get offset getoffset range get length getlength parser set resolve bindings setresolvebindings ast node astnode ptype parser createast method finder methodfinder finder method finder methodfinder type jtype ptype accept finder method finder method method method exists api type apitype etype api type apitype type get enclosing type getenclosingtype i api method iapimethod methods etype get methods getmethods string msig methods length msig methods get signature getsignature signatures get method name getmethodname methods equals method get element name getelementname signatures matches signatures matchessignatures msig replace method get signature getsignature type set enclosing method info setenclosingmethodinfo methods get name getname msig method performs quick offset link i compilation unit icompilationunit param jtype param document param reference param offset java model exception javamodelexception i method imethod quick lookup quicklookup i type itype jtype i document idocument document i reference ireference reference offset java model exception javamodelexception offset i java element ijavaelement element jtype get compilation unit getcompilationunit get element at getelementat offset element i java element ijavaelement ancestor element get ancestor getancestor i java element ijavaelement method ancestor i method imethod ancestor returns source range link i api method iapimethod link i type itype param type type method param reference reference method param method link i api method iapimethod source range link i source range isourcerange link i type itype enclosing link i api method iapimethod core exception coreexception java model exception javamodelexception position get source range for method getsourcerangeformethod i type itype type i reference ireference reference i api method iapimethod method core exception coreexception java model exception javamodelexception i method imethod match find method in type findmethodintype type method position pos match i source range isourcerange range match get name range getnamerange range pos position range get offset getoffset range get length getlength pos default source position defaultsourceposition type reference pos returns source range field link i type itype param type type link i api field iapifield param reference reference field involved param field field find range link i source range isourcerange link i type itype encloses link i api field iapifield java model exception javamodelexception core exception coreexception position get source range for field getsourcerangeforfield i type itype type i reference ireference reference i api field iapifield field java model exception javamodelexception core exception coreexception i field ifield java field javafield type get field getfield field get name getname position pos java field javafield exists i source range isourcerange range java field javafield get name range getnamerange range pos position range get offset getoffset range get length getlength pos default source position defaultsourceposition type reference pos returns range link i api field iapifield select creating link i api problem iapiproblem source ranges computed order type qualified variable variable variable pattern variable select entire opt imistically optimistically param field field find range param document document param reference reference field range text select code code computed bad location exception badlocationexception core exception coreexception position get field name range getfieldnamerange i api field iapifield field i document idocument document i reference ireference reference bad location exception badlocationexception core exception coreexception get field name range getfieldnamerange field get enclosing type getenclosingtype get name getname field get name getname document reference position get field name range getfieldnamerange string type name typename string field name fieldname i document idocument document i reference ireference reference bad location exception badlocationexception line number linenumber reference get line number getlinenumber line number linenumber number based reference based document line number linenumber line number linenumber offset document get line offset getlineoffset line number linenumber string document offset document get line length getlinelength line number linenumber nls string qname type name typename field name fieldname index of indexof qname qname nls nls field name fieldname index of indexof qname qname nls nls field name fieldname index of indexof qname pattern field field constant enum constant idx index of indexof field name fieldname idx char at charat idx idx qname field name fieldname idx index of indexof field name fieldname idx position pos pos position offset qname length opt imistically optimistically select find correct variable select occurrence pos position offset length pos searches method number reference param method param document document search param reference number method range core exception coreexception position get method name range getmethodnamerange is contructor iscontructor string i document idocument document i reference ireference reference core exception coreexception bad location exception badlocationexception line number linenumber reference get line number getlinenumber line number linenumber number based reference based document line number linenumber string method name methodname idx method name methodname index of indexof idx method name methodname method name methodname substring idx idx method name methodname index of indexof signatures getlt idx method name methodname method name methodname substring idx offset document get line offset getlineoffset line number linenumber string document offset document get line length getlinelength line number linenumber start index of indexof start is contructor iscontructor keyword checked method constructor space start index of indexof method reference constructor start index of indexof constructor start start find method name start findmethodnamestart method reference constructor start position offset start start char at charat char at charat start char at charat start char at charat char at charat char at charat start find method name start findmethodnamestart method name methodname start method reference constructor is contructor iscontructor string after reference afterreference substring index of indexof method reference method name methodname after reference afterreference substring after reference afterreference index of indexof method reference after reference afterreference index of indexof constructor nls method name methodname find method name start findmethodnamestart method name methodname start idx index of indexof method reference idx is contructor iscontructor method add start method length position offset idx method name methodname length position offset method name methodname length returns signature enclosed elements type names param signature signature element param type names typenames link string type names code code type encloses signature code code is enclosed by isenclosedby string signature string type names typenames signature type names typenames type names typenames signature nls string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer signature tokenizer has more tokens hasmoretokens type names typenames tokenizer next token nexttoken param reference core exception coreexception i api problem iapiproblem create problem createproblem i reference ireference reference core exception coreexception line number linenumber reference get line number getlinenumber line number linenumber line number linenumber string ltypename get type name gettypename reference get member getmember api problem factory apiproblemfactory new api usage problem newapiusageproblem ltypename get qualified message args getqualifiedmessageargs reference string i api marker constants iapimarkerconstants api marker attr object integer i api marker constants iapimarkerconstants api usage marker line number linenumber i api problem iapiproblem char range charrange i api problem iapiproblem char range charrange get element type getelementtype reference get problem kind getproblemkind get problem flags getproblemflags reference param reference api problem problem core exception coreexception i api problem iapiproblem check and create problem checkandcreateproblem i reference ireference reference core exception coreexception is problem isproblem reference create problem createproblem reference
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal tasks java buffered writer bufferedwriter java file java file writer filewriter java io exception ioexception java print writer printwriter java string writer stringwriter java util hash map hashmap java util map org apache tools ant build exception buildexception org eclipse core runtime core exception coreexception org eclipse osgi service resolver resolver error resolvererror org eclipse osgi util nls org eclipse pde api tools internal i api xml constants iapixmlconstants org eclipse pde api tools internal model stub api component stubapicomponent org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional visibility modifiers visibilitymodifiers org eclipse pde api tools internal provisional comparator api comparator apicomparator org eclipse pde api tools internal provisional comparator api scope apiscope org eclipse pde api tools internal provisional comparator i delta idelta org eclipse pde api tools internal provisional model i api baseline iapibaseline org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api scope iapiscope org eclipse pde api tools internal util filtered elements filteredelements org dom document org dom element org dom node org dom node list nodelist ant task api freeze check eclipse build api free ze task apifreezetask common utils task commonutilstask debug string ee file location eefilelocation string exclude list location excludelistlocation string include list location includelistlocation code code components resolver errors included comparison list bundles resolver errors included output xml code code process unresolved bundles processunresolvedbundles link continue on resolver error continueonresolvererror code code map store resolver errors components maps string component id s ids array resolver errors resolvererrors map string resolver error resolvererror resolver errors resolvererrors hash map hashmap override execute build exception buildexception reference baseline location referencebaselinelocation current baseline location currentbaselinelocation report location reportlocation string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter writer println nls bind messages print arguments printarguments string reference baseline location referencebaselinelocation current baseline location currentbaselinelocation report location reportlocation writer flush writer close build exception buildexception string value of valueof get buffer getbuffer debug nls system println reference reference baseline location referencebaselinelocation nls system println baseline compare current baseline location currentbaselinelocation nls system println report location report location reportlocation exclude list location excludelistlocation nls system println nls exclude list location exclude list location excludelistlocation nls system println nls exclude list location include list location includelistlocation nls system println nls include list location include list location includelistlocation nls system println nls include list location file output file outputfile file report location reportlocation output file outputfile exists output file outputfile is directory isdirectory output file directory build exception buildexception nls bind messages report location has to be file reportlocationhastobeafile output file outputfile get absolute path getabsolutepath file output dir outputdir output file outputfile get parent file getparentfile output dir outputdir exists output dir outputdir mkdirs build exception buildexception nls bind messages error creating parent report file errorcreatingparentreportfile output dir outputdir get absolute path getabsolutepath report location reportlocation last index of lastindexof nls report location reportlocation substring to lower case tolowercase equals xml build exception buildexception messages delta report task deltareporttask xml file location should have an extension xmlfilelocationshouldhaveanxmlextension unzip reference time debug time system current time millis currenttimemillis file reference install dir referenceinstalldir extractsdk reference reference baseline location referencebaselinelocation file baseline install dir baselineinstalldir extractsdk current current baseline location currentbaselinelocation debug nls nls system println extract ion extraction archives system current time millis currenttimemillis time time system current time millis currenttimemillis comparison create baseline reference i api baseline iapibaseline reference baseline referencebaseline create baseline createbaseline reference baseline reference install dir referenceinstalldir get absolute path getabsolutepath ee file location eefilelocation i api baseline iapibaseline current baseline currentbaseline create baseline createbaseline current baseline baseline install dir baselineinstalldir get absolute path getabsolutepath ee file location eefilelocation filtered elements filteredelements excluded elements excludedelements common utils task commonutilstask initialize filtered elements initializefilteredelements exclude list location excludelistlocation current baseline currentbaseline debug debug nls system println nls system println excluded elements list system println excluded elements excludedelements filtered elements filteredelements included elements includedelements common utils task commonutilstask initialize filtered elements initializefilteredelements include list location includelistlocation current baseline currentbaseline debug debug nls system println nls system println included elements list system println included elements includedelements i delta idelta delta debug nls nls system println creation base lines baselines system current time millis currenttimemillis time time system current time millis currenttimemillis delta api comparator apicomparator compare get scope getscope current baseline currentbaseline reference baseline referencebaseline visibility modifiers visibilitymodifiers api process unresolved bundles processunresolvedbundles core exception coreexception debug nls nls system println api freeze check system current time millis currenttimemillis time time system current time millis currenttimemillis reference baseline referencebaseline dispose current baseline currentbaseline dispose stub api component stubapicomponent dispose all caches disposeallcaches delete baseline deletebaseline reference baseline location referencebaselinelocation reference install dir referenceinstalldir delete baseline deletebaseline current baseline location currentbaselinelocation baseline install dir baselineinstalldir debug nls nls system println clean up cleanup system current time millis currenttimemillis time time system current time millis currenttimemillis delta error occurred comparison build exception buildexception messages error in comparison errorincomparison delta api comparator apicomparator delta dump report folder buffered writer bufferedwriter writer writer buffered writer bufferedwriter file writer filewriter output file outputfile filter list delta visitor filterlistdeltavisitor visitor filter list delta visitor filterlistdeltavisitor excluded elements excludedelements included elements includedelements filter list delta visitor filterlistdeltavisitor check delta accept visitor document doc visitor get document getdocument process unresolved bundles processunresolvedbundles store components resolver errors xml add warnings html add resolver errors addresolvererrors doc string serialized xml serializedxml org eclipse pde api tools internal util util serialize document serializedocument doc writer write serialized xml serializedxml writer flush debug string potential exclude list potentialexcludelist visitor get potential exclude list getpotentialexcludelist potential exclude list potentialexcludelist length system println potential exclude list system println potential exclude list potentialexcludelist io exception ioexception api plugin apiplugin log core exception coreexception api plugin apiplugin log writer writer close io exception ioexception debug nls nls system println report generation system current time millis currenttimemillis time debug nls nls system println api freeze task complete problems report system current time millis currenttimemillis time i api scope iapiscope get scope getscope i api baseline iapibaseline current baseline currentbaseline i api component iapicomponent api components apicomponents current baseline currentbaseline get api components getapicomponents api scope apiscope scope api scope apiscope max api components apicomponents length max i api component iapicomponent api component apicomponent api components apicomponents resolver error resolvererror errors api component apicomponent get errors geterrors errors debug system println resolver errors component nls api component apicomponent get symbolic name getsymbolicname max errors length max system println errors add list component errors process unresolved bundles processunresolvedbundles resolver errors resolvererrors api component apicomponent get symbolic name getsymbolicname errors scope add element addelement api component apicomponent core exception coreexception scope debug values code code code code code code param debug value debugvalue debug set debug setdebug string debug value debugvalue debug to string tostring equals debug value debugvalue execution environment file execution environment file javase execution environment file absolute path optional param ee file location eefilelocation execution environment file seteefile string ee file location eefilelocation ee file location eefilelocation ee file location eefilelocation exclude list location exclude list bundles members excluded xml report generated task execution lines starting excluded element format exclude file pre org eclipse jface databinding org eclipse jface databinding viewers observable list content provider observablelistcontentprovider dispose org eclipse jface databinding org eclipse jface databinding viewers observable list content provider observablelistcontentprovider get elements getelements ljava lang object ljava lang object org eclipse jface databinding org eclipse jface databinding viewers observable list content provider observablelistcontentprovider input changed inputchanged lorg eclipse jface viewers viewer ljava lang object ljava lang object org eclipse jface databinding org eclipse jface databinding viewers observable list tree content provider observablelisttreecontentprovider dispose org eclipse jface databinding org eclipse jface databinding viewers observable list tree content provider observablelisttreecontentprovider get children getchildren ljava lang object ljava lang object pre param exclude list location excludelistlocation location excluded list file set exclude list setexcludelist string exclude list location excludelistlocation exclude list location excludelistlocation exclude list location excludelistlocation include list location include list bundles members included xml report generated task execution lines starting included element format include file pre org eclipse jface databinding org eclipse jface databinding viewers observable list content provider observablelistcontentprovider dispose org eclipse jface databinding org eclipse jface databinding viewers observable list content provider observablelistcontentprovider get elements getelements ljava lang object ljava lang object org eclipse jface databinding org eclipse jface databinding viewers observable list content provider observablelistcontentprovider input changed inputchanged lorg eclipse jface viewers viewer ljava lang object ljava lang object org eclipse jface databinding org eclipse jface databinding viewers observable list tree content provider observablelisttreecontentprovider dispose org eclipse jface databinding org eclipse jface databinding viewers observable list tree content provider observablelisttreecontentprovider get children getchildren ljava lang object ljava lang object pre param include list location includelistlocation location included list file set include list setincludelist string include list location includelistlocation include list location includelistlocation include list location includelistlocation location current product baseline compare reference baseline zip jar tgz tar file directory corresponds eclipse installation folder directory find eclipse executable param baseline location baselinelocation location baseline analyze set profile setprofile string baseline location baselinelocation current baseline location currentbaselinelocation baseline location baselinelocation location reference baseline zip jar tgz tar file directory corresponds eclipse installation folder directory find eclipse executable param baseline location baselinelocation location reference baseline analyze set baseline setbaseline string baseline location baselinelocation reference baseline location referencebaselinelocation baseline location baselinelocation report file generated param report location reportlocation report file generated set report setreport string report location reportlocation report location reportlocation report location reportlocation comparing api component bundle resolver errors missing dependencies comparison accurate list bundles resolver errors included xml output inc orporated incorporated html output report conversion task defaults code code param process unresolved bundles processunresolvedbundles processing bundle resolver errors set process unresolved bundles setprocessunresolvedbundles process unresolved bundles processunresolvedbundles process unresolved bundles processunresolvedbundles process unresolved bundles processunresolvedbundles modifies doc add element root element lists components resolver errors affect comparison param document xml document modify add resolver errors addresolvererrors document document resolver errors resolvererrors resolver errors resolvererrors is empty isempty element error element errorelement document create element createelement i api xml constants iapixmlconstants element resolver errors create xml elements component resolver errors map entry string resolver error resolvererror entry resolver errors resolvererrors entry set entryset string componentid entry get key getkey format output analysis task element report document create element createelement i api xml constants iapixmlconstants element api tool report report set attribute setattribute i api xml constants iapixmlconstants attr version i api xml constants iapixmlconstants api report current version report set attribute setattribute i api xml constants iapixmlconstants attr component componentid error element errorelement append child appendchild report resolver error resolvererror errors entry get value getvalue errors length element error document create element createelement i api xml constants iapixmlconstants element resolver error error set attribute setattribute i api xml constants iapixmlconstants attr message errors to string tostring report append child appendchild error append resolver errors element root node node list nodelist root nodes rootnodes document get child nodes getchildnodes root nodes rootnodes get length getlength node node root nodes rootnodes item node get node type getnodetype node element node root element node node append child appendchild error element errorelement
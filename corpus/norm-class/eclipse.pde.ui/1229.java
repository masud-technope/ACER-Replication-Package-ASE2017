copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools builder tests performance java file java lang reflect invocation target exception invocationtargetexception java lang reflect method java util jar jar file jarfile junit framework test junit framework test suite testsuite org eclipse core resources i project iproject org eclipse core resources i workspace iworkspace org eclipse core resources incremental project builder incrementalprojectbuilder org eclipse core resources resources plugin resourcesplugin org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse core runtime preferences i eclipse preferences ieclipsepreferences org eclipse core runtime preferences instance scope instancescope org eclipse jdt core tests junit extension test case testcase org eclipse jdt core tests util util org eclipse pde api tools builder tests api builder test apibuildertest org eclipse pde api tools builder tests api problem apiproblem org eclipse pde api tools internal model api model factory apimodelfactory org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional i api baseline manager iapibaselinemanager org eclipse pde api tools internal provisional model i api baseline iapibaseline org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools model tests test suite helper testsuitehelper org eclipse pde api tools tests api tests plugin apitestsplugin base performance tests performance test performancetest api builder test apibuildertest constructor param performance test performancetest string javadoc org eclipse pde api tools builder tests api builder tests apibuildertests get test source path gettestsourcepath override i path ipath get test source path gettestsourcepath nls test suite helper testsuitehelper get plugin directory path getplugindirectorypath append test source root append per f perf javadoc org eclipse pde api tools builder tests api builder tests apibuildertests set builder options setbuilderoptions override set builder options setbuilderoptions enable unsupported tag options enableunsupportedtagoptions enable unsupported annotation options enableunsupportedannotationoptions enable baseline options enablebaselineoptions enable compatibility options enablecompatibilityoptions enable leak options enableleakoptions enable since tag options enablesincetagoptions enable usage options enableusageoptions enable version number options enableversionnumberoptions child test classes get all test classes getalltestclasses classes full source build tests fullsourcebuildtests api description tests apidescriptiontests incremental build tests incrementalbuildtests external dependency perf tests externaldependencyperftests classes collects tests get all test classes getalltestclasses method suite param suite collect tests collecttests test suite testsuite suite hack load classes computing suite test cases reset test cases sub sets subsets running builder tests classes get all test classes getalltestclasses reset for got ten forgotten sub sets subsets tests test case testcase tests prefix test case testcase tests names test case testcase tests numbers test case testcase tests range test case testcase tests length classes length length clazz classes method suite method suitemethod suite method suitemethod nls clazz get declared method getdeclaredmethod nls suite nls no such method exception nosuchmethodexception print stack trace printstacktrace object test test suite method suitemethod invoke object illegal access exception illegalaccessexception print stack trace printstacktrace invocation target exception invocationtargetexception print stack trace printstacktrace suite add test addtest test test javadoc org eclipse pde api tools builder tests api builder test apibuildertest get default problem id getdefaultproblemid override get default problem id getdefaultproblemid javadoc org eclipse pde api tools builder tests api builder tests apibuildertests get testing project name gettestingprojectname override string get testing project name gettestingprojectname nls dummy javadoc ensure baseline created compare org eclipse pde api tools builder tests api builder test apibuildertest set up setup override set up setup exception set up setup populate workspace initial plug ins projects create initial workspace createinitialworkspace create baseline createbaseline performs clean full build projects workspace computed ordering core exception coreexception ordered build orderedbuild i project iproject projects core exception coreexception projects length projects build incremental project builder incrementalprojectbuilder clean build projects build incremental project builder incrementalprojectbuilder full build creates api baseline test exception create baseline createbaseline exception string zip path zippath get baseline location getbaselinelocation zip path zippath i api baseline manager iapibaselinemanager manager api plugin apiplugin get default getdefault get api baseline manager getapibaselinemanager i path ipath path path zip path zippath string path last segment lastsegment i api baseline iapibaseline perfline manager get api baseline getapibaseline perfline create api baseline i path ipath baseline location baselinelocation api tests plugin apitestsplugin get default getdefault get state location getstatelocation append start system current time millis currenttimemillis nls system println nls unzipping baseline zip path zippath nls nls system print baseline location baselinelocation toosstring util unzip zip path zippath baseline location baselinelocation toosstring nls nls system println system current time millis currenttimemillis start perfline api model factory apimodelfactory new api baseline newapibaseline file files baseline location baselinelocation to file tofile list files listfiles i api component iapicomponent components i api component iapicomponent files length files length i path ipath location baseline location baselinelocation append files get name getname components api model factory apimodelfactory new api component newapicomponent perfline location toosstring perfline add api components addapicomponents components manager add api baseline addapibaseline perfline nls system println nls setting baseline perfline get name getname manager set default api baseline setdefaultapibaseline perfline get name getname i api baseline iapibaseline baseline manager get default api baseline getdefaultapibaseline baseline perfline manager set default api baseline setdefaultapibaseline perfline get name getname creates workspace importing projects source zip initial workspace exception create initial workspace createinitialworkspace exception workspace info i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace modify resources workspace preferences avoid disturbing tests running i eclipse preferences ieclipsepreferences resources preferences resourcespreferences instance scope instancescope instance get node getnode resources plugin resourcesplugin resources nls resources preferences resourcespreferences resources plugin resourcesplugin pref auto ref resh refresh dialog build fails lock workspace nls i eclipse preferences ieclipsepreferences ant uiprefs antuiprefs instance scope instancescope instance get node getnode org eclipse ant nls nls ant uiprefs antuiprefs error dialog errordialog workspace get description getdescription set snapshot interval setsnapshotinterval max workspace get description getdescription set auto building setautobuilding projects directories start system current time millis currenttimemillis string full source zip path fullsourcezippath get workspace location getworkspacelocation i path ipath path path full source zip path fullsourcezippath string dir name dirname path last segment lastsegment string file extension fileextension path get file extension getfileextension dir name dirname dir name dirname substring dir name dirname length file extension fileextension length i path ipath location api tests plugin apitestsplugin get default getdefault get state location getstatelocation append dir name dirname file dir location to file tofile dir exists delete dir deletedir dir dir mkdirs string target workspace path targetworkspacepath location toosstring nls system println unzipping full source zip path fullsourcezippath nls nls system print target workspace path targetworkspacepath util unzip full source zip path fullsourcezippath target workspace path targetworkspacepath nls nls system println system current time millis currenttimemillis start start system current time millis currenttimemillis nls system println importing projects file root dir file projects root list files listfiles projects length nls system println projects get name getname create existing project createexistingproject projects nls nls system println system current time millis currenttimemillis start recursively deletes directories files param dir delete dir deletedir file dir file list files listfiles dir list files listfiles list files listfiles length file file list files listfiles file is directory isdirectory delete dir deletedir file file delete returns string absolute path local file system archive api baseline test code code subclasses override baseline absolute path local file system archive api baseline test code code string get baseline location getbaselinelocation returns string absolute path local file system archive source workspace test code code subclasses override populate workspace absolute path local file system archive source workspace test code code string get workspace location getworkspacelocation tests test suite test suite testsuite suite test suite testsuite performance test performancetest get name getname collect tests collecttests suite suite performs compatibility test workspace file full workspace path location updated file test data build performed problems compared expected problems resource param workspace file workspacefile file update param incremental perform incremental code code full code code build exception perform compatibility test performcompatibilitytest i path ipath workspace file workspacefile incremental exception update workspace file updateworkspacefile workspace file workspacefile get update file path getupdatefilepath workspace file workspacefile last segment lastsegment incremental incremental build incrementalbuild full build fullbuild api problem apiproblem problems get env getenv get problems for getproblemsfor workspace file workspacefile assert problems assertproblems problems performs compatibility test workspace file full workspace path location updated file test data build performed problems compared expected problems resource param workspace file workspacefile file update param incremental perform incremental code code full code code build exception perform version test performversiontest i path ipath workspace file workspacefile incremental exception update workspace file updateworkspacefile workspace file workspacefile get update file path getupdatefilepath workspace file workspacefile last segment lastsegment incremental incremental build incrementalbuild full build fullbuild api problem apiproblem problems get env getenv get problems for getproblemsfor path workspace file workspacefile segment append jar file jarfile manifest assert problems assertproblems problems performs compatibility test workspace file full workspace path location deleted build performed problems compared expected problems resource param workspace file workspacefile file update param incremental perform incremental code code full code code build exception perform deletion compatibility test performdeletioncompatibilitytest i path ipath workspace file workspacefile incremental exception delete workspace file deleteworkspacefile workspace file workspacefile incremental incremental build incrementalbuild full build fullbuild api problem apiproblem problems get env getenv get problems getproblems assert problems assertproblems problems performs compatibility test workspace file full workspace path location created build performed problems compared expected problems resource param workspace file workspacefile file update param incremental perform incremental code code full code code build exception perform creation compatibility test performcreationcompatibilitytest i path ipath workspace file workspacefile incremental exception create workspace file createworkspacefile workspace file workspacefile get update file path getupdatefilepath workspace file workspacefile last segment lastsegment incremental incremental build incrementalbuild full build fullbuild api problem apiproblem problems get env getenv get problems getproblems assert problems assertproblems problems
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal java io exception ioexception java input stream inputstream java util array list arraylist java util collections java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util map entry java util org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core resources i resource change event iresourcechangeevent org eclipse core resources i resource change listener iresourcechangelistener org eclipse core resources i resource delta iresourcedelta org eclipse core resources incremental project builder incrementalprojectbuilder org eclipse core resources project scope projectscope org eclipse core resources resources plugin resourcesplugin org eclipse core resources workspace job workspacejob org eclipse core runtime org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime i status istatus org eclipse core runtime path org eclipse core runtime platform org eclipse core runtime status org eclipse core runtime sub monitor submonitor org eclipse core runtime jobs job org eclipse core runtime preferences i scope context iscopecontext org eclipse core runtime preferences instance scope instancescope org eclipse jdt core i java project ijavaproject org eclipse pde api tools internal problems api problem filter apiproblemfilter org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional problems i api problem iapiproblem org eclipse pde api tools internal provisional problems i api problem filter iapiproblemfilter org eclipse pde api tools internal util util org dom document org dom element implementation link org eclipse pde api tools internal provisional i api filter store iapifilterstore workspace projects filters removed persisted api filters xml file api filter store apifilterstore filter store filterstore i resource change listener iresourcechangelistener map collect unused link i api problem filter iapiproblemfilter hash map hashmap i resource iresource i api problem filter iapiproblemfilter f unused filters funusedfilters backing link i java project ijavaproject i java project ijavaproject f project fproject f needs saving fneedssaving f triggered change ftriggeredchange hash map hashmap i resource iresource map string i api problem filter iapiproblemfilter f filter map ffiltermap constructor param owning component owningcomponent component owns filter store api filter store apifilterstore i java project ijavaproject project is not null isnotnull project f project fproject project resources plugin resourcesplugin get workspace getworkspace add resource change listener addresourcechangelistener saves api filters file component io exception ioexception persist api filters persistapifilters f needs saving fneedssaving hash map hashmap i resource iresource map string i api problem filter iapiproblemfilter filters hash map hashmap f filter map ffiltermap workspace job workspacejob job workspace job workspacejob util empty string override i status istatus run in workspace runinworkspace i progress monitor iprogressmonitor monitor core exception coreexception api plugin apiplugin debug filter store nls nls system println per sisting persisting api filters plugin project component f project fproject get element name getelementname sub monitor submonitor local monitor localmonitor sub monitor submonitor convert monitor i project iproject project f project fproject get project getproject project is accessible isaccessible api plugin apiplugin debug filter store nls nls system println project f project fproject get element name getelementname accessible saving terminated status cancel status string xml get store as xml getstoreasxml filters i file ifile file project get file getfile get filter file path getfilterfilepath xml api plugin apiplugin debug filter store nls nls system println xml persist plugin project component f project fproject get element name getelementname filters delete file exists file is accessible isaccessible i folder ifolder folder i folder ifolder file get parent getparent file delete local monitor localmonitor folder members length folder is accessible isaccessible folder delete local monitor localmonitor f triggered change ftriggeredchange status status string line delimiter linedelimiter get line delimiter preference getlinedelimiterpreference file string line separator lineseparator nls system get property getproperty nls separator line delimiter linedelimiter line delimiter linedelimiter equals line separator lineseparator xml xml replace all replaceall line separator lineseparator line delimiter linedelimiter input stream inputstream xstream util get input stream from string getinputstreamfromstring xml xstream status cancel status file get project getproject is accessible isaccessible file exists i folder ifolder folder i folder ifolder file get parent getparent folder exists folder create local monitor localmonitor file create xstream local monitor localmonitor file set contents setcontents xstream local monitor localmonitor xstream close f triggered change ftriggeredchange f needs saving fneedssaving core exception coreexception api plugin apiplugin log io exception ioexception ioe api plugin apiplugin log ioe status status job set system setsystem job set priority setpriority job int eractive interactive job schedule override add filters addfilters i api problem filter iapiproblemfilter filters filters api plugin apiplugin debug filter store nls system println nls filters array adding filters initialize api filters initializeapifilters filters length i api problem iapiproblem problem filters get underlying problem getunderlyingproblem string resource path resourcepath problem get resource path getresourcepath resource path resourcepath i resource iresource resource f project fproject get project getproject find member findmember path resource path resourcepath resource map string i api problem filter iapiproblemfilter p type names ptypenames f filter map ffiltermap resource string type name typename problem get type name gettypename type name typename type name typename global i api problem filter iapiproblemfilter pfilters p type names ptypenames p type names ptypenames hash map hashmap pfilters hash set hashset p type names ptypenames type name typename pfilters f filter map ffiltermap resource p type names ptypenames pfilters p type names ptypenames type name typename pfilters pfilters hash set hashset p type names ptypenames type name typename pfilters f needs saving fneedssaving pfilters add filters persist api filters persistapifilters override add filters for addfiltersfor i api problem iapiproblem problems problems api plugin apiplugin debug filter store nls system println nls problems array add ding addding filters problems length api plugin apiplugin debug filter store nls system println nls empty problem array add ding addding filters initialize api filters initializeapifilters internal add filters internaladdfilters problems persist api filters persistapifilters override i api problem filter iapiproblemfilter get filters getfilters i resource iresource resource initialize api filters initializeapifilters map string i api problem filter iapiproblemfilter p type names ptypenames f filter map ffiltermap resource p type names ptypenames filter store filterstore filters list i api problem filter iapiproblemfilter all filters allfilters array list arraylist iterator i api problem filter iapiproblemfilter iterator p type names ptypenames values iterator iterator has next hasnext i api problem filter iapiproblemfilter values iterator all filters allfilters add all addall values all filters allfilters to array toarray i api problem filter iapiproblemfilter all filters allfilters size override is filtered isfiltered i api problem iapiproblem problem initialize api filters initializeapifilters string resource path resourcepath problem get resource path getresourcepath resource path resourcepath i resource iresource resource f project fproject get project getproject find member findmember path resource path resourcepath resource api plugin apiplugin debug filter store nls nls system println resource exists resource path resourcepath i api problem filter iapiproblemfilter filters get filters getfilters resource filters api plugin apiplugin debug filter store nls nls system println filters defined resource path resourcepath filtered i api problem filter iapiproblemfilter filter max filters length max filter filters problems match problemsmatch filter get underlying problem getunderlyingproblem problem api plugin apiplugin debug filter store nls nls system println recording filter filter to string tostring record filter used recordfilterused resource filter api plugin apiplugin debug filter store nls nls system println filter defined problem problem to string tostring override dispose store disposed pending save async hronously asynchronously https bugs eclipse org bugs bug cgi persist api filters persistapifilters clear filters clearfilters f unused filters funusedfilters f unused filters funusedfilters clear f unused filters funusedfilters resources plugin resourcesplugin get workspace getworkspace remove resource change listener removeresourcechangelistener override i resource iresource get resources getresources initialize api filters initializeapifilters i resource iresource resources f filter map ffiltermap key set keyset resources to array toarray i resource iresource resources size override remove filters removefilters i api problem filter iapiproblemfilter filters filters api plugin apiplugin debug filter store nls system println nls filters array removing f filter map ffiltermap api plugin apiplugin debug filter store nls system println nls filter map removing success filters length i api problem iapiproblem underlying problem underlyingproblem filters get underlying problem getunderlyingproblem string resource path resourcepath underlying problem underlyingproblem get resource path getresourcepath resource path resourcepath i resource iresource resource f project fproject get project getproject find member findmember path resource path resourcepath resource resource f project fproject get project getproject get file getfile resource path resourcepath map string i api problem filter iapiproblemfilter p type names ptypenames f filter map ffiltermap resource p type names ptypenames string type name typename underlying problem underlyingproblem get type name gettypename type name typename type name typename global i api problem filter iapiproblemfilter pfilters p type names ptypenames type name typename pfilters pfilters remove filters api plugin apiplugin debug filter store nls nls system println removed filter filters f needs saving fneedssaving success pfilters is empty isempty p type names ptypenames remove type name typename p type names ptypenames is empty isempty success f filter map ffiltermap remove resource success persist api filters persistapifilters success converts contained map xml string param filter map filtermap mapping filters convert xml xml string representation mapping filters core exception coreexception string get store as xml getstoreasxml map i resource iresource map string i api problem filter iapiproblemfilter filter map filtermap core exception coreexception filter map filtermap api plugin apiplugin debug filter store nls nls system println filter map returning xml project f project fproject get element name getelementname filter map filtermap is empty isempty api plugin apiplugin debug filter store nls nls system println empty filter map returning xml project f project fproject get element name getelementname document document util new document newdocument element root document create element createelement i api xml constants iapixmlconstants element component document append child appendchild root root set attribute setattribute i api xml constants iapixmlconstants attr f project fproject get element name getelementname root set attribute setattribute i api xml constants iapixmlconstants attr version i api xml constants iapixmlconstants api filter store current version entry i resource iresource map string i api problem filter iapiproblemfilter all filters entry set allfiltersentryset filter map filtermap entry set entryset list entry i resource iresource map string i api problem filter iapiproblemfilter all filters entries allfiltersentries array list arraylist all filters entry set allfiltersentryset size all filters entries allfiltersentries add all addall all filters entry set allfiltersentryset collections sort all filters entries allfiltersentries entry i resource iresource map string i api problem filter iapiproblemfilter entry entry i resource iresource map string i api problem filter iapiproblemfilter entry string path entry get key getkey get full path getfullpath toosstring string path entry get key getkey get full path getfullpath toosstring path compare to compareto path entry i resource iresource map string i api problem filter iapiproblemfilter all filters entry allfiltersentry all filters entries allfiltersentries i resource iresource resource all filters entry allfiltersentry get key getkey map string i api problem filter iapiproblemfilter p type names ptypenames all filters entry allfiltersentry get value getvalue p type names ptypenames entry string i api problem filter iapiproblemfilter all type names entries set alltypenamesentriesset p type names ptypenames entry set entryset list entry string i api problem filter iapiproblemfilter all type names entries alltypenamesentries array list arraylist all type names entries set alltypenamesentriesset size all type names entries alltypenamesentries add all addall all type names entries set alltypenamesentriesset collections sort all type names entries alltypenamesentries entry string i api problem filter iapiproblemfilter entry entry string i api problem filter iapiproblemfilter entry string type name typename entry get key getkey string type name typename entry get key getkey type name typename compare to compareto type name typename entry string i api problem filter iapiproblemfilter entry all type names entries alltypenamesentries string type name typename entry get key getkey i api problem filter iapiproblemfilter filters entry get value getvalue filters is empty isempty element relement document create element createelement i api xml constants iapixmlconstants element resource relement set attribute setattribute i api xml constants iapixmlconstants attr path resource get project relative path getprojectrelativepath to portable string toportablestring type name is initialized typenameisinitialized type name typename global relement set attribute setattribute i api xml constants iapixmlconstants attr type type name typename type name is initialized typenameisinitialized root append child appendchild relement type name typename list i api problem filter iapiproblemfilter filters list filterslist array list arraylist filters size filters list filterslist add all addall filters collections sort filters list filterslist i api problem iapiproblem get underlying problem getunderlyingproblem i api problem iapiproblem get underlying problem getunderlyingproblem problem get id getid problem get id getid ids problem problem ids identifiers sort message arguments https bugs eclipse org bugs bug cgi string args get message arguments getmessagearguments string args get message arguments getmessagearguments length args length args length args length args length length args args compare to compareto args args equal args args length args length ids i api problem filter iapiproblemfilter filter filters list filterslist i api problem iapiproblem problem filter get underlying problem getunderlyingproblem type name typename problem get type name gettypename element filter element filterelement document create element createelement i api xml constants iapixmlconstants element filter filter element filterelement set attribute setattribute i api xml constants iapixmlconstants attr integer to string tostring problem get id getid string comment filter get comment getcomment comment filter element filterelement set attribute setattribute i api xml constants iapixmlconstants attr comment comment string message arguments messagearguments problem get message arguments getmessagearguments length message arguments messagearguments length length element message arguments element messageargumentselement document create element createelement i api xml constants iapixmlconstants element problem message arguments length element message argument element messageargumentelement document create element createelement i api xml constants iapixmlconstants element problem message argument message argument element messageargumentelement set attribute setattribute i api xml constants iapixmlconstants attr string value of valueof message arguments messagearguments message arguments element messageargumentselement append child appendchild message argument element messageargumentelement filter element filterelement append child appendchild message arguments element messageargumentselement relement append child appendchild filter element filterelement type name typename type name is initialized typenameisinitialized type name typename length relement set attribute setattribute i api xml constants iapixmlconstants attr type type name typename util serialize document serializedocument document override initialize api filters initializeapifilters f filter map ffiltermap api plugin apiplugin debug filter store nls nls system println initial izing initializing api filter map project f project fproject get element name getelementname f filter map ffiltermap hash map hashmap i path ipath file path filepath get filter file path getfilterfilepath i resource iresource file resources plugin resourcesplugin get workspace getworkspace get root getroot find member findmember file path filepath file api plugin apiplugin debug filter store nls nls system println api filter file initialization project f project fproject get element name getelementname input stream inputstream contents i file ifile filter file filterfile i file ifile file filter file filterfile exists contents filter file filterfile get contents getcontents read filter file readfilterfile contents core exception coreexception api plugin apiplugin log io exception ioexception api plugin apiplugin log contents contents close io exception ioexception reset flag initialization persist filters https bugs eclipse org bugs bug cgi f needs saving fneedssaving override internal add filters internaladdfilters i api problem iapiproblem problems string comments i api problem filter iapiproblemfilter filters problems length i api problem iapiproblem problem problems i api problem filter iapiproblemfilter filter api problem filter apiproblemfilter f project fproject get element name getelementname problem comments comments string resource path resourcepath problem get resource path getresourcepath resource path resourcepath i resource iresource resource f project fproject get project getproject find member findmember path resource path resourcepath resource map string i api problem filter iapiproblemfilter p type names ptypenames f filter map ffiltermap resource string type name typename problem get type name gettypename type name typename type name typename global p type names ptypenames filters hash set hashset p type names ptypenames hash map hashmap p type names ptypenames type name typename filters f filter map ffiltermap resource p type names ptypenames filters p type names ptypenames type name typename filters filters hash set hashset p type names ptypenames type name typename filters f needs saving fneedssaving filters add filter callback hook filter store saved cycle needs saving needssaving f needs saving fneedssaving link i path ipath filters file i path ipath get filter file path getfilterfilepath include project includeproject include project includeproject i path ipath path f project fproject get path getpath path append filter store filterstore settings folder append i api core constants iapicoreconstants api filters xml path filter store filterstore settings folder append i api core constants iapicoreconstants api filters xml string get line delimiter preference getlinedelimiterpreference i file ifile file i scope context iscopecontext scope context scopecontext file file get project getproject project preference scope context scopecontext i scope context iscopecontext project scope projectscope file get project getproject string line delimiter linedelimiter platform get preferences service getpreferencesservice get string getstring platform runtime platform pref separator scope context scopecontext line delimiter linedelimiter line delimiter linedelimiter workspace preference scope context scopecontext i scope context iscopecontext instance scope instancescope instance platform get preferences service getpreferencesservice get string getstring platform runtime platform pref separator scope context scopecontext start recording filter usage store record filter usage recordfilterusage initialize api filters initializeapifilters f unused filters funusedfilters hash map hashmap map string i api problem filter iapiproblemfilter types i api problem filter iapiproblemfilter values i resource iresource resource f filter map ffiltermap key set keyset types f filter map ffiltermap resource values hash set hashset f unused filters funusedfilters resource values entry string i api problem filter iapiproblemfilter entry types entry set entryset values add all addall entry get value getvalue records filter param resource param filter record filter used recordfilterused i resource iresource resource i api problem filter iapiproblemfilter filter f unused filters funusedfilters i api problem filter iapiproblemfilter unused f unused filters funusedfilters resource unused unused remove filter unused is empty isempty f unused filters funusedfilters remove resource returns unused filters store moment time method called param resource filter applies param type name typename type filter appears param categories collection link i api problem iapiproblem categories ignore link i api problem iapiproblem get category getcategory listing unused filters empty list code code i api problem filter iapiproblemfilter get unused filters getunusedfilters i resource iresource resource string type name typename categories f unused filters funusedfilters i api problem filter iapiproblemfilter unused hash set hashset i api problem filter iapiproblemfilter resource add unused filters resource f unused filters funusedfilters resource collect filter for collectfilterfor type name typename unused categories util is manifest ismanifest resource get project relative path getprojectrelativepath add filters cached resources longer exist deleted types deleted types passed manifest i resource iresource res entry i resource iresource i api problem filter iapiproblemfilter entry f unused filters funusedfilters entry set entryset res entry get key getkey res res exists res get project getproject equals resource get project getproject f unused filters funusedfilters res collect filter for collectfilterfor type name typename unused categories entry i resource iresource i api problem filter iapiproblemfilter entry f unused filters funusedfilters entry set entryset entry get value getvalue unused add all addall size unused size size filter store filterstore filters unused to array toarray i api problem filter iapiproblemfilter size filter store filterstore filters collects complete problem filters underlying problem categories match array type matches underlying problem type param filters param typename param collector param categories collect filter for collectfilterfor i api problem filter iapiproblemfilter filters string typename i api problem filter iapiproblemfilter collector categories i api problem filter iapiproblemfilter filter filters i api problem iapiproblem underlying problem underlyingproblem filter get underlying problem getunderlyingproblem underlying problem underlyingproblem matches category matchescategory underlying problem underlyingproblem categories string underlying type name underlyingtypename underlying problem underlyingproblem get type name gettypename underlying type name underlyingtypename typename underlying type name underlyingtypename equals typename collector add filter returns category problem matches categories collection collection categories code code problem match param problem param categories collection problems category matches category matchescategory i api problem iapiproblem problem categories categories cat problem get category getcategory categories length cat categories override string to string tostring nls api filter store component f project fproject get element name getelementname override resource changed resourcechanged i resource change event iresourcechangeevent event f triggered change ftriggeredchange eat event deletion add ition addition change occurred persisted file persist api filters persistapifilters method https bugs eclipse org bugs bug cgi f triggered change ftriggeredchange api plugin apiplugin debug filter store nls system println nls ignoring triggered change event get type gettype i resource change event iresourcechangeevent post change i path ipath path get filter file path getfilterfilepath i resource delta iresourcedelta leafdelta event get delta getdelta find member findmember path leafdelta needs build needsbuild leafdelta get kind getkind i resource delta iresourcedelta removed api plugin apiplugin debug filter store system println processed removed delta f filter map ffiltermap f filter map ffiltermap clear needs build needsbuild f project fproject get project getproject is accessible isaccessible leafdelta get kind getkind i resource delta iresourcedelta leafdelta get flags getflags i resource delta iresourcedelta content leafdelta get flags getflags i resource delta iresourcedelta replaced api plugin apiplugin debug filter store system println processing content replaced i resource iresource resource leafdelta get resource getresource resource resource get type gettype i resource iresource file api plugin apiplugin debug filter store nls nls system println processed file delta resource get name getname i file ifile file i file ifile resource file is accessible isaccessible clear filters clearfilters initialize api filters initializeapifilters needs build needsbuild f project fproject get project getproject is accessible isaccessible needs build needsbuild resources plugin resourcesplugin get workspace getworkspace is auto building isautobuilding util get build job getbuildjob i project iproject f project fproject get project getproject incremental project builder incrementalprojectbuilder incremental build schedule clears filter map clear filters clearfilters f filter map ffiltermap f filter map ffiltermap clear f filter map ffiltermap
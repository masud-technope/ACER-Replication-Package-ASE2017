copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal correction java java util org eclipse core resources i project iproject org eclipse core resources i resource iresource org eclipse core runtime org eclipse jdt core org eclipse jdt core search org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse osgi service resolver org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde core plugin plugin registry pluginregistry org eclipse pde internal core pde core pdecore operation find res olutions resolutions unresolved reference plug project pass export package descriptions exportpackagedescriptions provide abstract class resolution collector abstractclassresolutioncollector abstract class resolution collector abstractclassresolutioncollector responsible creating res olutions resolutions find class resolutions operation findclassresolutionsoperation i runnable with progress irunnablewithprogress string f class name fclassname i project iproject f project fproject abstract class resolution collector abstractclassresolutioncollector f collector fcollector meant classed find class resolutions operation findclassresolutionsoperation subclass responsible creating proposals java resolution factory javaresolutionfactory java resolution factory javaresolutionfactory abstract class resolution collector abstractclassresolutioncollector method meant classed subclass decide wishes create proposals require bundle proposals created java resolution factory javaresolutionfactory add resolution modification addresolutionmodification i project iproject project export package description exportpackagedescription desc adds export proposal subclasses implement actual adding collection object add export package resolution modification addexportpackageresolutionmodification i package fragment ipackagefragment a package apackage a package apackage exists i resource iresource package resource packageresource a package apackage get resource getresource package resource packageresource java resolution factory javaresolutionfactory create export package proposal createexportpackageproposal package resource packageresource get project getproject a package apackage java resolution factory javaresolutionfactory type java completion adds require bundle proposal subclasses implement actual adding collection object add require bundle modification addrequirebundlemodification i project iproject project export package description exportpackagedescription desc relevance java resolution factory javaresolutionfactory create require bundle proposal createrequirebundleproposal project desc java resolution factory javaresolutionfactory type java completion relevance adds search repositories proposal subclasses implement actual adding collection object add search repositories modification addsearchrepositoriesmodification string package name packagename java resolution factory javaresolutionfactory create search repositories proposal createsearchrepositoriesproposal package name packagename optimization users int erested interested quit dependency is done isdone find res olutions resolutions unresolved java classes require bundle resolve export package description exportpackagedescription bundle passed abstract class res oltuion collector abstractclassresoltuioncollector collector responsible creating res olutions resolutions java resolution factory javaresolutionfactory param project project unresolved param class name classname unresolved param collector subclass abstract class resolution collector abstractclassresolutioncollector collect handle res olutions resolutions find class resolutions operation findclassresolutionsoperation i project iproject project string class name classname abstract class resolution collector abstractclassresolutioncollector collector f project fproject project f class name fclassname class name classname f collector fcollector collector override i progress monitor iprogressmonitor monitor idx f class name fclassname last index of lastindexof string package name packagename idx f class name fclassname substring idx string type name typename f class name fclassname substring idx type name typename length type name typename char at charat type name typename i package fragment ipackagefragment packages to export packagestoexport hash set hashset collection export package description exportpackagedescription valid packages validpackages get valid packages getvalidpackages type name typename package name packagename packages to export packagestoexport monitor valid packages validpackages valid packages validpackages is empty isempty iterator i package fragment ipackagefragment packages to export packagestoexport iterator has next hasnext i package fragment ipackagefragment package fragment packagefragment f collector fcollector add export package resolution modification addexportpackageresolutionmodification package fragment packagefragment iterator export package description exportpackagedescription valid packages iter validpackagesiter valid packages validpackages iterator export package description exportpackagedescription visible pkgs visiblepkgs allow multiple fixes allowmultiplefixes package name packagename valid packages iter validpackagesiter has next hasnext allow multiple fixes allowmultiplefixes f collector fcollector is done isdone visible packages efficient cache result visible pkgs visiblepkgs visible pkgs visiblepkgs get visible packages getvisiblepackages export package description exportpackagedescription current package currentpackage valid packages iter validpackagesiter visible skip visible pkgs visiblepkgs current package currentpackage current package currentpackage resolve valid pass collector f collector fcollector add resolution modification addresolutionmodification f project fproject current package currentpackage addition ally additionally add require bundle proposals string bundle names bundlenames get current bundle names getcurrentbundlenames valid packages iter validpackagesiter valid packages validpackages iterator valid packages iter validpackagesiter has next hasnext export package description exportpackagedescription current package currentpackage valid packages iter validpackagesiter bundle description bundledescription desc current package currentpackage get exporter getexporter ignore required bundles duplicate proposals version constraints desc bundle names bundlenames desc get name getname f collector fcollector add require bundle modification addrequirebundlemodification f project fproject current package currentpackage bundle names bundlenames add desc get name getname collection export package description exportpackagedescription get valid packages getvalidpackages string type name typename string package name packagename i package fragment ipackagefragment packages to export packagestoexport i progress monitor iprogressmonitor monitor sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor collection export package description exportpackagedescription valid packages validpackages import package specification importpackagespecification import pkgs importpkgs i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel f project fproject model model get bundle description getbundledescription import pkgs importpkgs model get bundle description getbundledescription get import packages getimportpackages sub monitor submonitor worked import pkgs importpkgs package name packagename is imported package isimportedpackage package name packagename import pkgs importpkgs valid packages validpackages get valid packages getvalidpackages package name packagename sub monitor submonitor worked find types global packages valid packages validpackages find valid packages containing simple type findvalidpackagescontainingsimpletype type name typename import pkgs importpkgs packages to export packagestoexport sub monitor submonitor split valid packages validpackages finds exported packages simple type a type name atypename packages filtered packages imported system packages exported left packages to export packagestoexport filled packages returned exported param a type name atypename simple type search param import pkgs importpkgs packages imported param packages to export packagestoexport parameter filled packages export valid param monitor packages collection export package description exportpackagedescription find valid packages containing simple type findvalidpackagescontainingsimpletype string a type name atypename import package specification importpackagespecification import pkgs importpkgs i package fragment ipackagefragment packages to export packagestoexport i progress monitor iprogressmonitor monitor sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor i plugin model base ipluginmodelbase active models activemodels plugin registry pluginregistry get active models getactivemodels i java project ijavaproject java projects javaprojects hash set hashset active models activemodels length active models activemodels length i resource iresource resource active models activemodels get underlying resource getunderlyingresource resource resource is accessible isaccessible i java project ijavaproject java project javaproject java core javacore create resource get project getproject java project javaproject exists java projects javaprojects add java project javaproject i java project ijavaproject current java project currentjavaproject java core javacore create f project fproject search current project java projects javaprojects remove current java project currentjavaproject i java search scope ijavasearchscope search scope searchscope search engine searchengine create java search scope createjavasearchscope java projects javaprojects to array toarray i java element ijavaelement java projects javaprojects size map string i package fragment ipackagefragment packages hash map hashmap search requestor searchrequestor requestor search requestor searchrequestor override accept search match acceptsearchmatch search match searchmatch a match amatch core exception coreexception object element a match amatch get element getelement element i type itype i type itype type i type itype element types access bug flags is public ispublic type get flags getflags current java project currentjavaproject equals type get java project getjavaproject i package fragment ipackagefragment package fragment packagefragment type get package fragment getpackagefragment package fragment packagefragment exists packages package fragment packagefragment get element name getelementname package fragment packagefragment search pattern searchpattern type pattern typepattern search pattern searchpattern create pattern createpattern a type name atypename i java search constants ijavasearchconstants type i java search constants ijavasearchconstants declarations search pattern searchpattern exact match search pattern searchpattern sensitive search engine searchengine search type pattern typepattern search participant searchparticipant search engine searchengine get default search participant getdefaultsearchparticipant search scope searchscope requestor sub monitor submonitor split packages is empty isempty transform export package descriptions exportpackagedescriptions map string export package description exportpackagedescription export descriptions exportdescriptions hash map hashmap packages size remove system packages happen included adding system won resolve jre export package description exportpackagedescription system packages systempackages pde core pdecore get default getdefault get model manager getmodelmanager get state getstate get state getstate get system packages getsystempackages system packages systempackages length packages remove system packages systempackages get name getname remove packages imported import pkgs importpkgs length packages remove import pkgs importpkgs get name getname create list export package descriptions exportpackagedescriptions export package description exportpackagedescription known packages knownpackages pde core pdecore get default getdefault get model manager getmodelmanager get state getstate get state getstate get exported packages getexportedpackages known packages knownpackages length packages contains key containskey known packages knownpackages get name getname export descriptions exportdescriptions known packages knownpackages get name getname known packages knownpackages export descriptions exportdescriptions is empty isempty packages packages export packages to export packagestoexport add all addall packages values export descriptions exportdescriptions values collections empty set emptyset core exception coreexception collections empty set emptyset is imported package isimportedpackage string package name packagename import package specification importpackagespecification import pkgs importpkgs import pkgs importpkgs length import pkgs importpkgs get name getname equals package name packagename collection export package description exportpackagedescription get valid packages getvalidpackages string pkg name pkgname export package description exportpackagedescription known packages knownpackages pde core pdecore get default getdefault get model manager getmodelmanager get state getstate get state getstate get exported packages getexportedpackages map string export package description exportpackagedescription valid packages validpackages hash map hashmap known packages knownpackages length known packages knownpackages get name getname equals pkg name pkgname valid packages validpackages known packages knownpackages get name getname known packages knownpackages remove system packages happen included adding system won resolve jre valid packages validpackages is empty isempty known packages knownpackages pde core pdecore get default getdefault get model manager getmodelmanager get state getstate get state getstate get system packages getsystempackages known packages knownpackages length valid packages validpackages remove known packages knownpackages get name getname valid packages validpackages values export package description exportpackagedescription get visible packages getvisiblepackages i plugin model base ipluginmodelbase base plugin registry pluginregistry find model findmodel f project fproject base bundle description bundledescription desc base get bundle description getbundledescription state helper statehelper helper platform get platform admin getplatformadmin get state helper getstatehelper export package description exportpackagedescription visible pkgs visiblepkgs helper get visible packages getvisiblepackages desc hash set hashset export package description exportpackagedescription hash set hashset visible pkgs visiblepkgs length add visible pkgs visiblepkgs collections empty set emptyset returns string bundle names project list required bundles required bundle names empty string get current bundle names getcurrentbundlenames i plugin model base ipluginmodelbase base plugin registry pluginregistry find model findmodel f project fproject base string bundle names bundlenames hash set hashset bundle specification bundlespecification req bundles reqbundles base get bundle description getbundledescription get required bundles getrequiredbundles req bundles reqbundles length bundle names bundlenames add req bundles reqbundles get name getname bundle names bundlenames collections empty set emptyset
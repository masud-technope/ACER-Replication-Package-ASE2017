copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal wizards feature java lang reflect invocation target exception invocationtargetexception org eclipse core resources org eclipse core runtime org eclipse jdt core org eclipse jdt launching java runtime javaruntime org eclipse jface dialogs message dialog messagedialog org eclipse jface viewers i selection iselection org eclipse jface viewers structured selection structuredselection org eclipse pde core build i build entry ibuildentry org eclipse pde internal build i build properties constants ibuildpropertiesconstants org eclipse pde internal core i core constants icoreconstants org eclipse pde internal core build workspace build model workspacebuildmodel org eclipse pde internal core feature workspace feature model workspacefeaturemodel org eclipse pde internal core ifeature org eclipse pde internal core natures pde org eclipse pde internal core project pde project pdeproject org eclipse pde internal core util core utility coreutility org eclipse pde internal org eclipse swt widgets shell org eclipse org eclipse actions workspace modify operation workspacemodifyoperation org eclipse ide ide org eclipse file editor input fileeditorinput org eclipse i set selection target isetselectiontarget abstract create feature operation abstractcreatefeatureoperation workspace modify operation workspacemodifyoperation i project iproject f project fproject i path ipath f location flocation feature data featuredata f feature data ffeaturedata shell f shell fshell abstract create feature operation abstractcreatefeatureoperation i project iproject project i path ipath location feature data featuredata feature data featuredata shell shell f project fproject project f location flocation location f feature data ffeaturedata feature data featuredata f shell fshell shell override execute i progress monitor iprogressmonitor monitor core exception coreexception invocation target exception invocationtargetexception interrupted exception interruptedexception create feature createfeature monitor core exception coreexception pde plugin pdeplugin log exception logexception monitor create feature createfeature i progress monitor iprogressmonitor monitor core exception coreexception monitor begin task begintask pde ui messages pdeuimessages new feature wizard newfeaturewizard creating project creatingproject i file ifile file should overwrite feature shouldoverwritefeature create project createproject monitor monitor worked create build properties createbuildproperties monitor worked create feature xml monitor sub task subtask pde ui messages pdeuimessages new feature wizard newfeaturewizard creating manifest creatingmanifest file create feature createfeature monitor worked f project fproject create monitor f project fproject open monitor file pde project pdeproject get feature xml getfeaturexml f project fproject monitor worked file exists open feature editor openfeatureeditor file create project createproject i progress monitor iprogressmonitor monitor core exception coreexception core utility coreutility create project createproject f project fproject f location flocation monitor f project fproject open monitor i project description iprojectdescription desc f project fproject get workspace getworkspace new project description newprojectdescription f project fproject get name getname desc set location setlocation f location flocation f project fproject has nature hasnature pde feature nature core utility coreutility add nature to project addnaturetoproject f project fproject pde feature nature monitor f feature data ffeaturedata has custom handler hascustomhandler f project fproject has nature hasnature java core javacore nature core utility coreutility add nature to project addnaturetoproject f project fproject java core javacore nature monitor f feature data ffeaturedata get source folder name getsourcefoldername f feature data ffeaturedata get source folder name getsourcefoldername trim length i folder ifolder folder f project fproject get folder getfolder f feature data ffeaturedata get source folder name getsourcefoldername folder exists core utility coreutility create folder createfolder folder i java project ijavaproject jproject java core javacore create f project fproject jproject set output location setoutputlocation f project fproject get full path getfullpath append f feature data ffeaturedata get java build folder name getjavabuildfoldername monitor jproject set raw classpath setrawclasspath i classpath entry iclasspathentry java core javacore new source entry newsourceentry f project fproject get full path getfullpath append f feature data ffeaturedata get source folder name getsourcefoldername java core javacore new container entry newcontainerentry path java runtime javaruntime jre container monitor create build properties createbuildproperties core exception coreexception i file ifile file pde project pdeproject get build properties getbuildproperties f project fproject file exists workspace build model workspacebuildmodel model workspace build model workspacebuildmodel file nls i build entry ibuildentry ientry model get factory getfactory create entry createentry bin includes ientry add token addtoken i core constants icoreconstants feature filename descriptor string library f feature data ffeaturedata library library string source f feature data ffeaturedata get source folder name getsourcefoldername source i build entry ibuildentry entry model get factory getfactory create entry createentry i build entry ibuildentry jar prefix library nls source ends with endswith nls nls source entry add token addtoken source ientry add token addtoken library model get build getbuild add entry string output f feature data ffeaturedata get java build folder name getjavabuildfoldername output i build entry ibuildentry entry model get factory getfactory create entry createentry i build properties constants ibuildpropertiesconstants property output prefix library nls output ends with endswith nls nls output entry add token addtoken output model get build getbuild add entry model get build getbuild add ientry model save ide set default editor setdefaulteditor file ipdeui constants ipdeuiconstants build editor i file ifile create feature createfeature core exception coreexception i file ifile file pde project pdeproject get feature xml getfeaturexml f project fproject workspace feature model workspacefeaturemodel model workspace feature model workspacefeaturemodel model set file setfile file i feature ifeature feature model get feature getfeature feature set label setlabel f feature data ffeaturedata feature set id setid f feature data ffeaturedata feature set version setversion f feature data ffeaturedata version feature set provider name setprovidername f feature data ffeaturedata provider f feature data ffeaturedata has custom handler hascustomhandler feature set install handler setinstallhandler model get factory getfactory create install handler createinstallhandler configure feature configurefeature feature model i feature install handler ifeatureinstallhandler handler feature get install handler getinstallhandler handler handler set library setlibrary f feature data ffeaturedata library i feature info ifeatureinfo info model get factory getfactory create info createinfo i feature ifeature info copyright feature set feature info setfeatureinfo info i feature ifeature info copyright nls info seturl http copyright info set description setdescription pde ui messages pdeuimessages new feature wizard newfeaturewizard sample copyright desc samplecopyrightdesc info model get factory getfactory create info createinfo i feature ifeature info license feature set feature info setfeatureinfo info i feature ifeature info license nls info seturl http license info set description setdescription pde ui messages pdeuimessages new feature wizard newfeaturewizard sample license desc samplelicensedesc info model get factory getfactory create info createinfo i feature ifeature info description feature set feature info setfeatureinfo info i feature ifeature info description nls info seturl http description info set description setdescription pde ui messages pdeuimessages new feature wizard newfeaturewizard sample description desc sampledescriptiondesc save model model save model dispose ide set default editor setdefaulteditor file ipdeui constants ipdeuiconstants feature editor file configure feature configurefeature i feature ifeature feature workspace feature model workspacefeaturemodel model core exception coreexception open feature editor openfeatureeditor i file ifile manifest file manifestfile i workbench page iworkbenchpage pde plugin pdeplugin get active page getactivepage reveal file i selection iselection selection structured selection structuredselection manifest file manifestfile i workbench part iworkbenchpart active part activepart get active part getactivepart active part activepart i set selection target isetselectiontarget f shell fshell get display getdisplay async exec asyncexec runnable override i set selection target isetselectiontarget active part activepart select reveal selectreveal selection open editor open editor openeditor file editor input fileeditorinput manifest file manifestfile ipdeui constants ipdeuiconstants feature editor part init exception partinitexception pde plugin pdeplugin log exception logexception should overwrite feature shouldoverwritefeature f location flocation append f project fproject get name getname to file tofile exists message dialog messagedialog open question openquestion pde plugin pdeplugin get active workbench shell getactiveworkbenchshell create feature patch operation createfeaturepatchoperation pde ui messages pdeuimessages feature patch featurepatch wtitle pde ui messages pdeuimessages new feature wizard newfeaturewizard wtitle pde ui messages pdeuimessages new feature wizard newfeaturewizard overwrite feature overwritefeature
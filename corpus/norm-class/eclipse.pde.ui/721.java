copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal editor plugin java util org eclipse jface text org eclipse pde core plugin org eclipse pde internal core text i document element node idocumentelementnode org eclipse pde internal core text i editing model ieditingmodel org eclipse pde internal editor abstract folding structure provider abstractfoldingstructureprovider org eclipse pde internal editor pde source page pdesourcepage plugin folding structure provider pluginfoldingstructureprovider abstract folding structure provider abstractfoldingstructureprovider map position i document element node idocumentelementnode f position to element fpositiontoelement hash map hashmap plugin folding structure provider pluginfoldingstructureprovider pde source page pdesourcepage editor i editing model ieditingmodel model editor model override add folding regions addfoldingregions position current regions currentregions i editing model ieditingmodel model bad location exception badlocationexception i extensions iextensions extensions i plugin model base ipluginmodelbase model get extensions getextensions i plugin extension ipluginextension plugin extensions pluginextensions extensions get extensions getextensions add folding regions addfoldingregions current regions currentregions plugin extensions pluginextensions model get document getdocument add folding regions addfoldingregions position regions i plugin extension ipluginextension nodes i document idocument document bad location exception badlocationexception nodes length i document element node idocumentelementnode element i document element node idocumentelementnode nodes start line startline document get line of offset getlineofoffset element get offset getoffset end line endline document get line of offset getlineofoffset element get offset getoffset element get length getlength start line startline end line endline start document get line offset getlineoffset start line startline document get line offset getlineoffset end line endline document get line length getlinelength end line endline position position position start start regions add position f position to element fpositiontoelement position element i document element node idocumentelementnode children element get child nodes getchildnodes children add folding regions addfoldingregions regions children document add folding regions addfoldingregions position regions i document element node idocumentelementnode nodes i document idocument document bad location exception badlocationexception nodes length i document element node idocumentelementnode element nodes start line startline document get line of offset getlineofoffset element get offset getoffset end line endline document get line of offset getlineofoffset element get offset getoffset element get length getlength start line startline end line endline start document get line offset getlineoffset start line startline document get line offset getlineoffset end line endline document get line length getlinelength end line endline position position position start start regions add position f position to element fpositiontoelement position element i document element node idocumentelementnode children element get child nodes getchildnodes children add folding regions addfoldingregions regions children document
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation benjamin cabe benjamin cabe any ware anyware tech bug org eclipse pde internal refactoring java util array list arraylist org eclipse core file buf fers filebuffers org eclipse core resources i file ifile org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse jdt core org eclipse jface text bad location exception badlocationexception org eclipse jface text i document idocument org eclipse ltk core refactoring change org eclipse ltk core refactoring text file change textfilechange org eclipse osgi util manifest element manifestelement org eclipse pde internal core i core constants icoreconstants org eclipse pde internal core bundle bundle plugin base bundlepluginbase org eclipse pde internal core ibundle i bundle ibundle org eclipse pde internal core ibundle i manifest header imanifestheader org eclipse pde internal core text bundle org eclipse pde internal util locale util localeutil org eclipse pde internal util pde model utility pdemodelutility org eclipse text edits org osgi framework constants bundle manifest change bundlemanifestchange change create move to package change createmovetopackagechange i file ifile file move from change movefromchange change i progress monitor iprogressmonitor monitor core exception coreexception bundle bundle get bundle getbundle file monitor bundle bundle model bundlemodel model bundle model bundlemodel bundle get model getmodel bundle text change listener bundletextchangelistener listener bundle text change listener bundletextchangelistener model get document getdocument bundle get model getmodel add model changed listener addmodelchangedlistener listener add package addpackage bundle change create change createchange listener file core exception coreexception malformed tree exception malformedtreeexception bad location exception badlocationexception file buffers filebuffers get text file buffer manager gettextfilebuffermanager disconnect file get full path getfullpath location kind locationkind normalize monitor move from change movefromchange create move package change createmovepackagechange i file ifile file object elements i progress monitor iprogressmonitor monitor core exception coreexception bundle bundle get bundle getbundle file monitor bundle bundle model bundlemodel model bundle model bundlemodel bundle get model getmodel bundle text change listener bundletextchangelistener listener bundle text change listener bundletextchangelistener model get document getdocument bundle get model getmodel add model changed listener addmodelchangedlistener listener array list arraylist pde manifest element pdemanifestelement list array list arraylist elements length elements i java element ijavaelement string package name packagename i java element ijavaelement elements get element name getelementname pde manifest element pdemanifestelement export remove package removepackage bundle get manifest header getmanifestheader constants export package name packagename export list add export text edit textedit operations listener get text operations gettextoperations operations length move from change movefromchange change nls move from change movefromchange nls nls file multi text edit multitextedit edit multi text edit multitextedit edit add children addchildren operations change set edit setedit edit pde model utility pdemodelutility set change text type setchangetexttype change file list size change set moved elements setmovedelements list to array toarray pde manifest element pdemanifestelement list size change core exception coreexception malformed tree exception malformedtreeexception bad location exception badlocationexception file buffers filebuffers get text file buffer manager gettextfilebuffermanager disconnect file get full path getfullpath location kind locationkind normalize monitor change create rename change createrenamechange i file ifile file object elements string new t exts newtexts i progress monitor iprogressmonitor monitor core exception coreexception bundle bundle get bundle getbundle file monitor bundle bundle model bundlemodel model bundle model bundlemodel bundle get model getmodel bundle text change listener bundletextchangelistener listener bundle text change listener bundletextchangelistener model get document getdocument bundle get model getmodel add model changed listener addmodelchangedlistener listener localization rename d localizationrenamed elements length object element elements string new text newtext new t exts newtexts element i file ifile string file name filename i file ifile element get project relative path getprojectrelativepath to string tostring localization rename d localizationrenamed nls file name filename ends with endswith nls properties string old text oldtext file name filename substring nls file name filename last index of lastindexof nls string old localization oldlocalization bundle get localization getlocalization locale util localeutil trim localization trimlocalization old text oldtext equals old localization oldlocalization rename localization renamelocalization bundle old text oldtext new text newtext localization rename d localizationrenamed element i type itype string old text oldtext i type itype element get fully qualified name getfullyqualifiedname reset header value resetheadervalue bundle get manifest header getmanifestheader constants bundle activator old text oldtext new text newtext reset header value resetheadervalue bundle get manifest header getmanifestheader i core constants icoreconstants plugin old text oldtext new text newtext element i package fragment ipackagefragment string old text oldtext i package fragment ipackagefragment element get element name getelementname reset header value resetheadervalue bundle get manifest header getmanifestheader constants bundle activator old text oldtext new text newtext reset header value resetheadervalue bundle get manifest header getmanifestheader i core constants icoreconstants plugin old text oldtext new text newtext rename package renamepackage bundle get manifest header getmanifestheader constants export old text oldtext new text newtext rename package renamepackage bundle get manifest header getmanifestheader i core constants icoreconstants provide old text oldtext new text newtext rename package renamepackage bundle get manifest header getmanifestheader constants old text oldtext new text newtext create change createchange listener file core exception coreexception malformed tree exception malformedtreeexception bad location exception badlocationexception file buffers filebuffers get text file buffer manager gettextfilebuffermanager disconnect file get full path getfullpath location kind locationkind normalize monitor change create change createchange bundle text change listener bundletextchangelistener listener i file ifile file text edit textedit operations listener get text operations gettextoperations operations length nls text file change textfilechange change text file change textfilechange file multi text edit multitextedit edit multi text edit multitextedit edit add children addchildren operations change set edit setedit edit pde model utility pdemodelutility set change text type setchangetexttype change file change rename localization renamelocalization bundle bundle string old text oldtext string new text newtext nls new text newtext ends with endswith properties bundle set header setheader constants bundle localization locale util localeutil trim localization trimlocalization new text newtext bundle set header setheader constants bundle localization reset header value resetheadervalue i manifest header imanifestheader header is package ispackage string old text oldtext string new text newtext header string header get value getvalue old text oldtext equals is good match isgoodmatch old text oldtext is package ispackage string buffer stringbuffer buffer string buffer stringbuffer new text newtext buffer append substring old text oldtext length header set value setvalue buffer to string tostring is good match isgoodmatch string string old name oldname is package ispackage length old name oldname length good length match goodlengthmatch is package ispackage last index of lastindexof old name oldname length char at charat old name oldname length starts with startswith old name oldname good length match goodlengthmatch rename package renamepackage i manifest header imanifestheader header string old name oldname string new name newname header base package header basepackageheader base package header basepackageheader b header bheader base package header basepackageheader header b header bheader rename package renamepackage old name oldname new name newname pde manifest element pdemanifestelement remove package removepackage i manifest header imanifestheader header string pde manifest element pdemanifestelement result header base package header basepackageheader base package header basepackageheader b header bheader base package header basepackageheader header result package object packageobject b header bheader remove package removepackage result add package addpackage bundle bundle move from change movefromchange change string header name headername get exported package header getexportedpackageheader bundle export package header exportpackageheader header export package header exportpackageheader bundle get manifest header getmanifestheader header name headername manifest element manifestelement elements change get moved elements getmovedelements elements length header header has package haspackage change get package name getpackagename header add package addpackage export package object exportpackageobject header elements get version attribute getversionattribute header get bundle getbundle bundle set header setheader header name headername change get moved text getmovedtext header export package header exportpackageheader bundle get manifest header getmanifestheader header name headername string get version attribute getversionattribute i bundle ibundle bundle manifest version manifestversion bundle plugin base bundlepluginbase get bundle manifest version getbundlemanifestversion bundle manifest version manifestversion i core constants icoreconstants specification version constants version attribute string get exported package header getexportedpackageheader i bundle ibundle bundle manifest version manifestversion bundle plugin base bundlepluginbase get bundle manifest version getbundlemanifestversion bundle manifest version manifestversion i core constants icoreconstants provide constants export param file param monitor bundle link i file ifile core exception coreexception malformed tree exception malformedtreeexception bad location exception badlocationexception bundle get bundle getbundle i file ifile file i progress monitor iprogressmonitor monitor core exception coreexception malformed tree exception malformedtreeexception bad location exception badlocationexception i text file buffer manager itextfilebuffermanager manager file buffers filebuffers get text file buffer manager gettextfilebuffermanager manager connect file get full path getfullpath location kind locationkind normalize monitor i document idocument document manager get text file buffer gettextfilebuffer file get full path getfullpath location kind locationkind normalize get document getdocument bundle model bundlemodel model bundle model bundlemodel document model load model is loaded isloaded bundle model get bundle getbundle
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal java buffered input stream bufferedinputstream java file java file input stream fileinputstream java io exception ioexception java util array list arraylist java util hash map hashmap java util iterator java util list java util map java util map entry java util jar jar file jarfile org eclipse core resources i save context isavecontext org eclipse core resources i save participant isaveparticipant org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime i status istatus org eclipse core runtime status org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse osgi service resolver bundle description bundledescription org eclipse pde api tools internal api description apidescription manifest node manifestnode org eclipse pde api tools internal project api description projectapidescription type node typenode org eclipse pde api tools internal model api model cache apimodelcache org eclipse pde api tools internal model project component projectcomponent org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional factory org eclipse pde api tools internal provisional i api description iapidescription org eclipse pde api tools internal provisional descriptors i element descriptor ielementdescriptor org eclipse pde api tools internal provisional descriptors i reference type descriptor ireferencetypedescriptor org eclipse pde api tools internal provisional model i api element iapielement org eclipse pde api tools internal provisional scanner scanner messages scannermessages org eclipse pde api tools internal util util org dom element org dom node org dom node list nodelist ibm icu text message format messageformat manages cache api descriptions java projects descriptions api components project api description manager apidescriptionmanager i save participant isaveparticipant singleton api description manager apidescriptionmanager fg default fgdefault maps java projects api descriptions map i java project ijavaproject i api description iapidescription f descriptions fdescriptions hash map hashmap path local directory api descriptions cached project i path ipath api desc riptions descriptions container path api plugin apiplugin get default getdefault get state location getstatelocation constructs api description manager api description manager apidescriptionmanager api plugin apiplugin get default getdefault add save participant addsaveparticipant cleans java element listener shutdown fg default fgdefault api plugin apiplugin get default getdefault remove save participant removesaveparticipant fg default fgdefault returns singleton api description manager api description manager api description manager apidescriptionmanager get manager getmanager fg default fgdefault fg default fgdefault api description manager apidescriptionmanager fg default fgdefault returns api description project component connect bundle description param project java project param bundle api description i api description iapidescription get api description getapidescription project component projectcomponent component bundle description bundledescription bundle i java project ijavaproject project component get java project getjavaproject project api description projectapidescription description project api description projectapidescription f descriptions fdescriptions project description util is api project isapiproject project description project api description projectapidescription project description non api project description nonapiprojectdescription project restore description restoredescription project description core exception coreexception api plugin apiplugin log get status getstatus description project api description projectapidescription project f descriptions fdescriptions project description description cleans api description project param project param delete delete file disk param remove remove cached api description clean i java project ijavaproject project delete remove project api description projectapidescription desc remove desc project api description projectapidescription f descriptions fdescriptions remove project desc project api description projectapidescription f descriptions fdescriptions project desc desc clean delete file file api desc riptions descriptions container path append project get element name getelementname append i api core constants iapicoreconstants api description xml to file tofile file exists file delete file api desc riptions descriptions container path append project get element name getelementname to file tofile file exists file is directory isdirectory file delete not ifies notifies api description underlying project changed param project project changed projectchanged i java project ijavaproject project project api description projectapidescription desc project api description projectapidescription f descriptions fdescriptions project desc desc project changed projectchanged not ifies notifies api description underlying project classpath changed param project project classpath changed projectclasspathchanged i java project ijavaproject project project api description projectapidescription desc project api description projectapidescription f descriptions fdescriptions project desc desc project classpath changed projectclasspathchanged flushes changed element model cache param element flush element cache flushelementcache i java element ijavaelement element element get element type getelementtype i java element ijavaelement compilation unit i compilation unit icompilationunit unit i compilation unit icompilationunit element i type itype type unit find primary type findprimarytype type api model cache apimodelcache get cache getcache remove element info removeelementinfo api baseline manager apibaselinemanager workspace api baseline element get java project getjavaproject get element name getelementname type get fully qualified name getfullyqualifiedname i api element iapielement type i java element ijavaelement java project api model cache apimodelcache get cache getcache remove element info removeelementinfo api baseline manager apibaselinemanager workspace api baseline element get element name getelementname i api element iapielement component override done saving donesaving i save context isavecontext context override prepare to save preparetosave i save context isavecontext context core exception coreexception override rollback i save context isavecontext context override saving i save context isavecontext context core exception coreexception context get kind getkind i save context isavecontext project save util is java project isjavaproject context get project getproject iterator entry i java project ijavaproject i api description iapidescription entries f descriptions fdescriptions entry set entryset iterator entries has next hasnext entry i java project ijavaproject i api description iapidescription entry entries i java project ijavaproject project entry get key getkey project api description projectapidescription desc project api description projectapidescription entry get value getvalue desc is modified ismodified file dir api desc riptions descriptions container path append project get element name getelementname to file tofile dir mkdirs string xml desc getxml util save file savefile file dir i api core constants iapicoreconstants api description xml xml desc set modified setmodified io exception ioexception abort message format messageformat format scanner messages scannermessages api description manager apidescriptionmanager project get element name getelementname restores api description saved file returns successful param project param description restore succeeded core exception coreexception restore description restoredescription i java project ijavaproject project project api description projectapidescription description core exception coreexception file file api desc riptions descriptions container path append project get element name getelementname append i api core constants iapicoreconstants api description xml to file tofile file exists buffered input stream bufferedinputstream stream stream buffered input stream bufferedinputstream file input stream fileinputstream file string xml string util get input stream as char array getinputstreamaschararray stream i api core constants iapicoreconstants utf element root util parse document parsedocument xml root get node name getnodename equals i api xml constants iapixmlconstants element component abort scanner messages scannermessages componentxmlscanner timestamp get long getlong root i api xml constants iapixmlconstants attr modification stamp string version root get attribute getattribute i api xml constants iapixmlconstants attr version description set embedded version setembeddedversion version i api xml constants iapixmlconstants api description current version equals version description f package time stamp fpackagetimestamp timestamp description f manifest file fmanifestfile project get project getproject get file getfile jar file jarfile manifest restore children restorechildren description root description f package map fpackagemap io exception ioexception abort message format messageformat format scanner messages scannermessages api description manager apidescriptionmanager project get element name getelementname stream stream close io exception ioexception restore children restorechildren project api description projectapidescription api desc apidesc element element manifest node manifestnode parent node parentnode map i element descriptor ielementdescriptor manifest node manifestnode children map childrenmap core exception coreexception node list nodelist children element get child nodes getchildnodes children get length getlength node child children item child get node type getnodetype node element node restore node restorenode api desc apidesc element child parent node parentnode children map childrenmap restore node restorenode project api description projectapidescription api desc apidesc element element manifest node manifestnode parent node parentnode map i element descriptor ielementdescriptor manifest node manifestnode children map childrenmap core exception coreexception manifest node manifestnode node i element descriptor ielementdescriptor element desc elementdesc element get tag name gettagname equals i api xml constants iapixmlconstants element vis get int getint element i api xml constants iapixmlconstants attr visibility res get int getint element i api xml constants iapixmlconstants attr restrictions collect fragments list i java element ijavaelement fragments array list arraylist node list nodelist child nodes childnodes element get child nodes getchildnodes string pkg name pkgname child nodes childnodes get length getlength node child child nodes childnodes item child get node type getnodetype node element node element child get tag name gettagname equals i api xml constants iapixmlconstants element fragment element fragment element child string handle fragment get attribute getattribute i api xml constants iapixmlconstants attr handle i java element ijavaelement java core javacore create handle get element type getelementtype i java element ijavaelement fragment abort scanner messages scannermessages api description manager apidescriptionmanager handle pkg name pkgname get element name getelementname fragments add fragments is empty isempty element desc elementdesc factory package descriptor packagedescriptor pkg name pkgname node api desc apidesc new package node newpackagenode fragments to array toarray i package fragment ipackagefragment fragments size parent node parentnode element desc elementdesc vis res abort scanner messages scannermessages api description manager apidescriptionmanager element get tag name gettagname equals i api xml constants iapixmlconstants element fragment element get tag name gettagname equals i api xml constants iapixmlconstants element type string handle element get attribute getattribute i api xml constants iapixmlconstants attr handle vis get int getint element i api xml constants iapixmlconstants attr visibility res get int getint element i api xml constants iapixmlconstants attr restrictions i java element ijavaelement java core javacore create handle get element type getelementtype i java element ijavaelement type abort scanner messages scannermessages api description manager apidescriptionmanager handle i type itype type i type itype element desc elementdesc factory type descriptor typedescriptor type get fully qualified name getfullyqualifiedname type node typenode api desc apidesc new type node newtypenode type parent node parentnode element desc elementdesc vis res node f time stamp ftimestamp get long getlong element i api xml constants iapixmlconstants attr modification stamp element get tag name gettagname equals i api xml constants iapixmlconstants element field parent node parentnode element i reference type descriptor ireferencetypedescriptor i reference type descriptor ireferencetypedescriptor type i reference type descriptor ireferencetypedescriptor parent node parentnode element vis get int getint element i api xml constants iapixmlconstants attr visibility res get int getint element i api xml constants iapixmlconstants attr restrictions string element get attribute getattribute i api xml constants iapixmlconstants attr element desc elementdesc type get field getfield node api desc apidesc new node newnode parent node parentnode element desc elementdesc vis res element get tag name gettagname equals i api xml constants iapixmlconstants element method parent node parentnode element i reference type descriptor ireferencetypedescriptor i reference type descriptor ireferencetypedescriptor type i reference type descriptor ireferencetypedescriptor parent node parentnode element vis get int getint element i api xml constants iapixmlconstants attr visibility res get int getint element i api xml constants iapixmlconstants attr restrictions string element get attribute getattribute i api xml constants iapixmlconstants attr string sig element get attribute getattribute i api xml constants iapixmlconstants attr signature sig index of indexof files sig sig replace element desc elementdesc type get method getmethod sig node api desc apidesc new node newnode parent node parentnode element desc elementdesc vis res node children map childrenmap element desc elementdesc node restore children restorechildren api desc apidesc element node node children abort scanner messages scannermessages api description manager apidescriptionmanager returns int eger integer attribute param element element int eger integer param attr attribute attribute int eger integer get int getint element element string attr string attribute element get attribute getattribute attr integer parse int parseint attribute number format exception numberformatexception returns attribute param element element param attr attribute attribute get long getlong element element string attr string attribute element get attribute getattribute attr attribute parse long parselong attribute number format exception numberformatexception exception message underlying exception param message error message param exception underlying exception code code core exception coreexception abort string message throwable exception core exception coreexception i status istatus status status i status istatus error api plugin apiplugin plugin message exception core exception coreexception status
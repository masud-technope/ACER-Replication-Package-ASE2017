copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal editor context java lang reflect invocation target exception invocationtargetexception java util array list arraylist org eclipse core file buf fers filebuffers i document setup participant idocumentsetupparticipant org eclipse core resources org eclipse core runtime org eclipse jface dialogs error dialog errordialog org eclipse jface dialogs i message provider imessageprovider org eclipse jface text org eclipse jface text source i annotation model iannotationmodel org eclipse jface window window org eclipse osgi util nls org eclipse pde core org eclipse pde internal core text i editing model ieditingmodel org eclipse pde internal core util properties util propertiesutil org eclipse pde internal pde plugin pdeplugin org eclipse pde internal pde ui messages pdeuimessages org eclipse pde internal editor pde form editor pdeformeditor org eclipse pde internal editor pde storage document provider pdestoragedocumentprovider org eclipse swt widgets shell org eclipse text edits org eclipse org eclipse actions workspace modify operation workspacemodifyoperation org eclipse dialogs save as dialog saveasdialog org eclipse editors text for warding document provider forwardingdocumentprovider org eclipse file editor input fileeditorinput org eclipse texteditor i document provider idocumentprovider org eclipse texteditor i element state listener ielementstatelistener main tains maintains objects single editor input input context inputcontext pde form editor pdeformeditor f editor feditor i editor input ieditorinput f editor input feditorinput i base model ibasemodel f model fmodel i model changed listener imodelchangedlistener f model listener fmodellistener i document provider idocumentprovider f document provider fdocumentprovider i element state listener ielementstatelistener f element listener felementlistener array list arraylist text edit textedit f edit operations feditoperations array list arraylist f valid ated fvalidated f primary fprimary f is source mode fissourcemode f must synchronize fmustsynchronize element listener elementlistener i element state listener ielementstatelistener override element content about to be replaced elementcontentabouttobereplaced object element override element content replaced elementcontentreplaced object element element element equals f editor input feditorinput do revert dorevert override element deleted elementdeleted object element element element equals f editor input feditorinput dispose override element dirty state changed elementdirtystatechanged object element is dirty isdirty element element equals f editor input feditorinput f must synchronize fmustsynchronize override element moved elementmoved object original element originalelement object moved element movedelement original element originalelement original element originalelement equals f editor input feditorinput dispose f editor feditor close input context inputcontext pde form editor pdeformeditor editor i editor input ieditorinput input primary f editor feditor editor f editor input feditorinput input set primary setprimary primary string get id getid i editor input ieditorinput get input getinput f editor input feditorinput pde form editor pdeformeditor get editor geteditor f editor feditor i base model ibasemodel get model getmodel f model fmodel i document provider idocumentprovider get document provider getdocumentprovider f document provider fdocumentprovider i document provider idocumentprovider create document provider createdocumentprovider i editor input ieditorinput input input i file editor input ifileeditorinput for warding document provider forwardingdocumentprovider get partition name getpartitionname get document setup participant getdocumentsetupparticipant pde plugin pdeplugin get default getdefault get text file document provider gettextfiledocumentprovider pde storage document provider pdestoragedocumentprovider get document setup participant getdocumentsetupparticipant i document setup participant idocumentsetupparticipant get document setup participant getdocumentsetupparticipant i document setup participant idocumentsetupparticipant override setup i document idocument document string get partition name getpartitionname string get default charset getdefaultcharset i base model ibasemodel create model createmodel i editor input ieditorinput input core exception coreexception create f document provider fdocumentprovider create document provider createdocumentprovider f editor input feditorinput f document provider fdocumentprovider connect f editor input feditorinput f model fmodel create model createmodel f editor input feditorinput f model fmodel i model change provider imodelchangeprovider f model listener fmodellistener i model changed listener imodelchangedlistener override model changed modelchanged i model changed event imodelchangedevent get change type getchangetype i model changed event imodelchangedevent changed f editor feditor get last dirty state getlastdirtystate f editor feditor fire save needed firesaveneeded f editor input feditorinput i model change provider imodelchangeprovider provider get change provider getchangeprovider provider i editing model ieditingmodel text edit operation f alsely falsely requested i editing model ieditingmodel provider is dirty isdirty add text edit operation addtexteditoperation f edit operations feditoperations i model change provider imodelchangeprovider f model fmodel add model changed listener addmodelchangedlistener f model listener fmodellistener i annotation model iannotationmodel amodel f document provider fdocumentprovider get annotation model getannotationmodel f editor input feditorinput amodel amodel connect f document provider fdocumentprovider get document getdocument f editor input feditorinput f element listener felementlistener element listener elementlistener f document provider fdocumentprovider add element state listener addelementstatelistener f element listener felementlistener core exception coreexception pde plugin pdeplugin log exception logexception validate edit validateedit f valid ated fvalidated f editor input feditorinput i file editor input ifileeditorinput i file ifile file i file editor input ifileeditorinput f editor input feditorinput get file getfile file is read only isreadonly shell shell f editor feditor get editor site geteditorsite get shell getshell i status istatus validate status validatestatus pde plugin pdeplugin get workspace getworkspace validate edit validateedit i file ifile file shell prevent loops f valid ated fvalidated validate status validatestatus get severity getseverity i status istatus error dialog errordialog open error openerror shell f editor feditor get title gettitle validate status validatestatus validate status validatestatus get severity getseverity i status istatus do save dosave i progress monitor iprogressmonitor monitor i document idocument doc f document provider fdocumentprovider get document getdocument f editor input feditorinput f document provider fdocumentprovider about to change abouttochange f editor input feditorinput flush model flushmodel doc f document provider fdocumentprovider save document savedocument monitor f editor input feditorinput doc f document provider fdocumentprovider changed f editor input feditorinput f valid ated fvalidated core exception coreexception pde plugin pdeplugin log exception logexception add text edit operation addtexteditoperation array list arraylist text edit textedit ops i model changed event imodelchangedevent event flush editor input flusheditorinput f edit operations feditoperations size i document idocument doc f document provider fdocumentprovider get document getdocument f editor input feditorinput f document provider fdocumentprovider about to change abouttochange f editor input feditorinput flush model flushmodel doc f document provider fdocumentprovider changed f editor input feditorinput f valid ated fvalidated f model fmodel i editable ieditable i editable ieditable f model fmodel is dirty isdirty text edit operations cancel editor undirtied extensions move element move position bug i editable ieditable f model fmodel set dirty setdirty flush model flushmodel i document idocument doc flushed f edit operations feditoperations size multi text edit multitextedit edit multi text edit multitextedit is new line needed isnewlineneeded doc insert edit insert edit insertedit doc get length getlength text utilities textutilities get default line delimiter getdefaultlinedelimiter doc f edit operations feditoperations size insert edit f edit operations feditoperations f model fmodel i editing model ieditingmodel i editing model ieditingmodel f model fmodel set stale setstale edit apply doc f edit operations feditoperations clear malformed tree exception malformedtreeexception pde plugin pdeplugin log exception logexception flushed bad location exception badlocationexception pde plugin pdeplugin log exception logexception flushed updated editor undirtied flushed f model fmodel i editable ieditable i editable ieditable f model fmodel set dirty setdirty is new line needed isnewlineneeded i document idocument doc bad location exception badlocationexception properties util propertiesutil is new line needed isnewlineneeded doc insert text edit textedit parent text edit textedit edit parent has children haschildren parent add child addchild edit edit move source edit movesourceedit parent add child addchild move source edit movesourceedit edit get target edit gettargetedit text edit textedit children parent get children getchildren div e dive find parent children length text edit textedit child children covers child edit insert child edit moved edit covering children length text edit textedit child children covers edit child parent remove child removechild edit add child addchild child parent add child addchild edit edit move source edit movesourceedit parent add child addchild move source edit movesourceedit edit get target edit gettargetedit covers text edit textedit this edit thisedit text edit textedit other edit otheredit insertion point cover this edit thisedit get length getlength this offset thisoffset this edit thisedit get offset getoffset this end thisend this edit thisedit get exclusive end getexclusiveend other edit otheredit get length getlength other offset otheroffset other edit otheredit get offset getoffset this offset thisoffset other offset otheroffset other offset otheroffset this end thisend other offset otheroffset other edit otheredit get offset getoffset other end otherend other edit otheredit get exclusive end getexclusiveend this offset thisoffset other offset otheroffset other end otherend this end thisend must save mustsave f is source mode fissourcemode f model fmodel i editable ieditable i editable ieditable f model fmodel is dirty isdirty f edit operations feditoperations size f document provider fdocumentprovider can save document cansavedocument f editor input feditorinput dispose i annotation model iannotationmodel amodel f document provider fdocumentprovider get annotation model getannotationmodel f editor input feditorinput amodel amodel disconnect f document provider fdocumentprovider get document getdocument f editor input feditorinput f document provider fdocumentprovider remove element state listener removeelementstatelistener f element listener felementlistener f document provider fdocumentprovider disconnect f editor input feditorinput f model listener fmodellistener f model fmodel i model change provider imodelchangeprovider i model change provider imodelchangeprovider f model fmodel remove model changed listener removemodelchangedlistener f model listener fmodellistener undo manager undomanager undo manager undomanager disconnect i model change provider imodelchangeprovider model f model fmodel f model fmodel dispose returns primary is primary isprimary f primary fprimary param primary primary set primary setprimary primary f primary fprimary primary set source editing mode setsourceeditingmode source mode sourcemode f is source mode fissourcemode source mode sourcemode source mode sourcemode entered source editing mode mode context document edited source editor model caused reconciliation fired flush model flushmodel f document provider fdocumentprovider get document getdocument f editor input feditorinput f must synchronize fmustsynchronize model listeners stale synchronize model if needed synchronizemodelifneeded synchronize model if needed synchronizemodelifneeded f must synchronize fmustsynchronize result synchronize model synchronizemodel f document provider fdocumentprovider get document getdocument f editor input feditorinput f must synchronize fmustsynchronize result do revert dorevert f must synchronize fmustsynchronize synchronize model if needed synchronizemodelifneeded model i editable ieditable i editable ieditable model set dirty setdirty is in source mode isinsourcemode f is source mode fissourcemode is model correct ismodelcorrect synchronize model if needed synchronizemodelifneeded f model fmodel f model fmodel is valid isvalid synchronize model synchronizemodel i document idocument doc matches i resource iresource resource f editor input feditorinput i file editor input ifileeditorinput i file editor input ifileeditorinput fin put finput i file editor input ifileeditorinput f editor input feditorinput i file ifile file fin put finput get file getfile file equals resource returns validated is valid ated isvalidated f valid ated fvalidated param validated validated set valid ated setvalidated validated f valid ated fvalidated validated string get line delimiter getlinedelimiter f document provider fdocumentprovider i document idocument document f document provider fdocumentprovider get document getdocument f editor input feditorinput document text utilities textutilities get default line delimiter getdefaultlinedelimiter document nls system get property getproperty separator param input core exception coreexception update input updateinput i editor input ieditorinput new input newinput core exception coreexception deinitialize document provider deinitializedocumentprovider f editor input feditorinput new input newinput initialize document provider initializedocumentprovider deinitialize document provider deinitializedocumentprovider i annotation model iannotationmodel amodel f document provider fdocumentprovider get annotation model getannotationmodel f editor input feditorinput amodel amodel disconnect f document provider fdocumentprovider get document getdocument f editor input feditorinput f document provider fdocumentprovider remove element state listener removeelementstatelistener f element listener felementlistener f document provider fdocumentprovider disconnect f editor input feditorinput core exception coreexception initialize document provider initializedocumentprovider core exception coreexception f document provider fdocumentprovider connect f editor input feditorinput i annotation model iannotationmodel amodel f document provider fdocumentprovider get annotation model getannotationmodel f editor input feditorinput amodel amodel connect f document provider fdocumentprovider get document getdocument f editor input feditorinput f document provider fdocumentprovider add element state listener addelementstatelistener f element listener felementlistener param monitor do save as dosaveas i progress monitor iprogressmonitor monitor exception editor shell shell shell get editor geteditor get site getsite get shell getshell create save dialog save as dialog saveasdialog dialog save as dialog saveasdialog shell initial file original file i file ifile file f editor input feditorinput i file editor input ifileeditorinput file i file editor input ifileeditorinput f editor input feditorinput get file getfile dialog set original file setoriginalfile file create dialog dialog create warn user underlying file exist f document provider fdocumentprovider is deleted isdeleted f editor input feditorinput file string message nls bind pde ui messages pdeuimessages input context inputcontext error message file does not exist errormessagefiledoesnotexist file get name getname dialog set error message seterrormessage dialog set message setmessage message i message provider imessageprovider warning open dialog dialog open window path file stored i path ipath path dialog get result getresult handle save as handlesaveas monitor path param monitor param path exception core exception coreexception interrupted exception interruptedexception invocation target exception invocationtargetexception handle save as handlesaveas i progress monitor iprogressmonitor monitor i path ipath path exception core exception coreexception interrupted exception interruptedexception invocation target exception invocationtargetexception ensure location selected path monitor set canceled setcanceled exception pde ui messages pdeuimessages input context inputcontext error message location not set errormessagelocationnotset resolve file location i workspace iworkspace workspace resources plugin resourcesplugin get workspace getworkspace i file ifile new file newfile workspace get root getroot get file getfile path create editor input i editor input ieditorinput new input newinput file editor input fileeditorinput new file newfile send not ice notice editor input f document provider fdocumentprovider about to change abouttochange new input newinput flush unsaved flush model flushmodel f document provider fdocumentprovider get document getdocument f editor input feditorinput execute workspace modification separate thread platformui get workbench getworkbench get progress service getprogressservice busy cursor while busycursorwhile create workspace modify operation createworkspacemodifyoperation new input newinput monitor set canceled setcanceled store editor input context update input updateinput new input newinput interrupted exception interruptedexception monitor set canceled setcanceled invocation target exception invocationtargetexception monitor set canceled setcanceled f document provider fdocumentprovider changed new input newinput workspace modify operation workspacemodifyoperation create workspace modify operation createworkspacemodifyoperation i editor input ieditorinput new input newinput workspace modify operation workspacemodifyoperation operation workspace modify operation workspacemodifyoperation override execute i progress monitor iprogressmonitor monitor core exception coreexception save editor input content editor input location f document provider fdocumentprovider save document savedocument monitor editor input location new input newinput editor input content f document provider fdocumentprovider get document getdocument f editor input feditorinput operation
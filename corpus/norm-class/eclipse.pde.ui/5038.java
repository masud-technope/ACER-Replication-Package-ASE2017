copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation lars vogel lars vogel vogella bug org eclipse pde internal core exports java java lang reflect invocation target exception invocationtargetexception java net java util javax xml parsers org eclipse ant core org eclipse core resources i file ifile org eclipse core runtime org eclipse core runtime jobs job org eclipse core runtime preferences org eclipse jdt core java core javacore org eclipse jdt launching java runtime javaruntime org eclipse jdt launching environments i execution environment iexecutionenvironment org eclipse jdt launching environments i execution environments manager iexecutionenvironmentsmanager org eclipse osgi service resolver bundle description bundledescription org eclipse osgi service resolver org eclipse osgi util nls org eclipse pde core i model imodel org eclipse pde core build org eclipse pde core plugin org eclipse pde internal build org eclipse pde internal build site qualifier replace r qualifierreplacer org eclipse pde internal core org eclipse pde internal core build workspace build model workspacebuildmodel org eclipse pde internal core feature external feature model externalfeaturemodel org eclipse pde internal core feature feature child featurechild org eclipse pde internal core ifeature org eclipse pde internal core project pde project pdeproject org eclipse pde internal core target target metadata collector targetmetadatacollector org eclipse pde internal core util core utility coreutility org osgi framework invalid syntax exception invalidsyntaxexception org dom feature export operation featureexportoperation job location build takes place string f build temp location fbuildtemplocation string f build temp metadata location fbuildtempmetadatalocation string f dev properties fdevproperties f has errors fhaserrors hash map hashmap string string f ant build properties fantbuildproperties workspace export helper workspaceexporthelper f workspace export helper fworkspaceexporthelper f state copy fstatecopy nls string feature post processing features post processing steps postprocessingsteps properties nls string plugin post processing plugins post processing steps postprocessingsteps properties nls nls nls nls string config string feature export info featureexportinfo f info finfo feature export operation featureexportoperation feature export info featureexportinfo info string f info finfo info string qualifier info qualifier qualifier qualifier qualifier replace r qualifierreplacer get date qualifier getdatequalifier qualifier replace r qualifierreplacer set global qualifier setglobalqualifier qualifier nls f build temp location fbuildtemplocation pde core pdecore get default getdefault get state location getstatelocation append temp to string tostring nls f build temp metadata location fbuildtempmetadatalocation pde core pdecore get default getdefault get state location getstatelocation append temp p tempp metadata to string tostring override i status istatus i progress monitor iprogressmonitor monitor create destination createdestination string configurations f info finfo targets configurations configurations string nls sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor exporting f info finfo items length i status istatus status test build workspace before export testbuildworkspacebeforeexport sub monitor submonitor split f info finfo export source exportsource f info finfo export source bundle exportsourcebundle create feature plug ins features depth string featureid org eclipse pde container feature string f feature location ffeaturelocation f build temp location fbuildtemplocation file separator featureid create feature createfeature featureid f feature location ffeaturelocation f info finfo items external feature model externalfeaturemodel model external feature model externalfeaturemodel model set install location setinstalllocation f feature location ffeaturelocation input stream inputstream stream stream buffered input stream bufferedinputstream file input stream fileinputstream file f feature location ffeaturelocation file separator i core constants icoreconstants feature filename descriptor model load stream stream close do export doexport model sub monitor submonitor split f info finfo items length monitor is canceled iscanceled status cancel status do export doexport i feature model ifeaturemodel f info finfo items configurations sub monitor submonitor split core exception coreexception get status getstatus cleanup sub monitor submonitor split status invocation target exception invocationtargetexception status i status istatus error pde core pdecore plugin pde core messages pdecoremessages feature based export operation featurebasedexportoperation problem during export problemduringexport get cause getcause get cause getcause core exception coreexception status i status istatus error pde core pdecore plugin pde core messages pdecoremessages feature based export operation featurebasedexportoperation problem during export problemduringexport get cause getcause get cause getcause i o exception ioexception status i status istatus error pde core pdecore plugin pde core messages pdecoremessages feature based export operation featurebasedexportoperation problem during export problemduringexport save file file properties properties string header file output stream fileoutputstream stream file output stream fileoutputstream file properties store stream header stream flush stream close i o exception ioexception pde core pdecore log exception logexception takes generated metadata adds destination zip method called exporting archive file metadata generated f build metadata location fbuildmetadatalocation param monitor progress monitor append metadata to archive appendmetadatatoarchive string configuration i progress monitor iprogressmonitor monitor string filename f info finfo zip file name zipfilename configuration filename last index of lastindexof filename filename substring configuration configuration configuration filename substring string archive f info finfo destination directory destinationdirectory file separator filename file script file scriptfile sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor nls script file scriptfile create script file createscriptfile append xml document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance document doc factory new document builder newdocumentbuilder new document newdocument nls element root doc create element createelement project nls nls root set attribute setattribute temp nls nls root set attribute setattribute append nls nls root set attribute setattribute based ir basedir doc append child appendchild root nls element target doc create element createelement target nls nls target set attribute setattribute clean nls element child doc create element createelement delete nls child set attribute setattribute dir f build temp metadata location fbuildtempmetadatalocation target append child appendchild child root append child appendchild target nls target doc create element createelement target nls nls target set attribute setattribute append nls child doc create element createelement zip nls child set attribute setattribute zip file zipfile archive nls child set attribute setattribute based ir basedir f build temp metadata location fbuildtempmetadatalocation nls nls child set attribute setattribute update target append child appendchild child root append child appendchild target xml print handler xmlprinthandler write file writefile doc script file scriptfile nls nls string targets string append clean ant runner antrunner runner ant runner antrunner runner set build file location setbuildfilelocation script file scriptfile get absolute path getabsolutepath runner set execution targets setexecutiontargets targets runner sub monitor submonitor split factory configuration error factoryconfigurationerror parser configuration exception parserconfigurationexception core exception coreexception i o exception ioexception script file scriptfile script file scriptfile exists script file scriptfile delete create destination createdestination string string string arch invocation target exception invocationtargetexception f info finfo to directory todirectory grouped configurations groupedconfigurations file file file f info finfo destination directory destinationdirectory arch file exists file is directory isdirectory file mkdirs invocation target exception invocationtargetexception exception pde core messages pdecoremessages export wizard exportwizard bad directory baddirectory do export doexport i feature model ifeaturemodel model string configs i progress monitor iprogressmonitor monitor core exception coreexception invocation target exception invocationtargetexception i feature ifeature feature model get feature getfeature configs configs length configs configs string getos feature getws feature getosarch feature configs length create destination createdestination configs configs configs string location model get install location getinstalllocation f info finfo use jar format usejarformat create post processing file createpostprocessingfile file location feature post processing create post processing file createpostprocessingfile file location plugin post processing do export doexport feature get id getid feature get version getversion location configs monitor delete build files deletebuildfiles model create post processing file createpostprocessingfile file file file output stream fileoutputstream stream stream file output stream fileoutputstream file properties prop properties nls nls prop update jar updatejar nls prop store stream stream flush i o exception ioexception stream stream close i o exception ioexception do export doexport string featureid string version string feature location featurelocation string configs i progress monitor iprogressmonitor monitor core exception coreexception invocation target exception invocationtargetexception f has errors fhaserrors sub task length subtasklength configs length publishing p publishingp metadata sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor sub task length subtasklength sub monitor submonitor set task name settaskname pde core messages pdecoremessages feature export job featureexportjob task name taskname hash map hashmap string string properties create ant build properties createantbuildproperties configs build script generator buildscriptgenerator generator build script generator buildscriptgenerator setup generator setupgenerator generator featureid version configs feature location featurelocation generator generate sub monitor submonitor worked sub monitor submonitor set task name settaskname pde core messages pdecoremessages feature export operation featureexportoperation running build script runningbuildscript compile classes nls nls nls run script runscript feature location featurelocation i path ipath separator compile featureid xml string main properties sub monitor submonitor split grab source needed f info finfo export source exportsource f info finfo export source bundle exportsourcebundle nls run script runscript get build script name getbuildscriptname feature location featurelocation string build sources properties sub monitor submonitor split publishing p publishingp metadata sub monitor submonitor set task name settaskname pde core messages pdecoremessages feature export operation featureexportoperation publishing metadata publishingmetadata nls run script runscript get assemble p getassemblep script name scriptname featureid feature location featurelocation string main properties sub monitor submonitor split metadata impl ies implies groups exporting products grouped configurations groupedconfigurations nls nls nls configs string group group group sub monitor submonitor set task name settaskname pde core messages pdecoremessages feature export operation featureexportoperation running assembly script runningassemblyscript configs length set archive location setarchivelocation properties configs configs configs run script runscript nls get assembly script name getassemblyscriptname featureid configs configs configs feature location featurelocation nls string main properties sub monitor submonitor split sub monitor submonitor set task name settaskname pde core messages pdecoremessages feature export operation featureexportoperation running package r script runningpackagerscript configs length set archive location setarchivelocation properties configs configs configs run script runscript get package r script name getpackagerscriptname featureid configs configs configs feature location featurelocation properties sub monitor submonitor split nls nls properties destination temp folder f build temp location fbuildtemplocation pde logs nls run script runscript get build script name getbuildscriptname feature location featurelocation string gather logs properties sub monitor submonitor split grouped configurations groupedconfigurations feature export metadata grouped repo publishing p publishingp metadata set archive location setarchivelocation map string string ant properties antproperties string string string arch f info finfo to directory todirectory string filename f info finfo zip file name zipfilename f info finfo targets grouped configurations groupedconfigurations filename last index of lastindexof filename filename substring arch filename substring ant properties antproperties i xml constants ixmlconstants property archive full path fullpath f info finfo destination directory destinationdirectory file separator filename string dir f info finfo destination directory destinationdirectory f info finfo targets grouped configurations groupedconfigurations dir file separator char separatorchar arch ant properties antproperties i xml constants ixmlconstants property assembly tmp dir delete build files deletebuildfiles object object core exception coreexception i model imodel model object bundle description bundledescription model plugin registry pluginregistry find model findmodel bundle description bundledescription object object i model imodel model i model imodel object model model get underlying resource getunderlyingresource is custom build iscustombuild model string directory model i feature model ifeaturemodel i feature model ifeaturemodel model get install location getinstalllocation i plugin model base ipluginmodelbase model get install location getinstalllocation file dir file directory file children dir list files listfiles children children length children is directory isdirectory string filename children get name getname nls filename equals nls build xml nls nls filename starts with startswith java compiler javacompiler nls nls filename ends with endswith args nls nls filename starts with startswith assemble nls nls filename ends with endswith xml nls nls filename starts with startswith nls nls filename ends with endswith xml nls nls filename starts with startswith compile nls nls filename ends with endswith xml filename equals feature post processing filename equals plugin post processing children delete nls children get name getname equals nls temp folder core utility coreutility delete content deletecontent children model i feature model ifeaturemodel i feature ifeature feature i feature model ifeaturemodel model get feature getfeature i feature child ifeaturechild children feature get included features getincludedfeatures children length i feature ifeature feature child featurechild children get reference d feature getreferencedfeature delete build files deletebuildfiles get model getmodel i feature plugin ifeatureplugin plugins feature get plugins getplugins plugins length i plugin model base ipluginmodelbase plugin plugin registry pluginregistry find model findmodel plugins get id getid plugin delete build files deletebuildfiles plugin string get build script name getbuildscriptname string feature location featurelocation nls feature location featurelocation i path ipath separator build xml string get assembly script name getassemblyscriptname string featureid string string string arch string feature location featurelocation nls feature location featurelocation i path ipath separator assemble featureid nls nls nls nls arch nls xml string get assemble p getassemblep script name scriptname string featureid string feature location featurelocation nls nls feature location featurelocation i path ipath separator assemble featureid xml execute script location param location script param targets targets script code code param properties map user properties param monitor progress monitor invocation target exception invocationtargetexception core exception coreexception run script runscript string location string targets map string string properties i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception core exception coreexception ant runner antrunner runner ant runner antrunner runner add user properties adduserproperties properties runner set ant home setanthome location runner set build file location setbuildfilelocation location nls runner add build listener addbuildlistener org eclipse pde internal core ant export build listener exportbuildlistener runner set execution targets setexecutiontargets targets f info finfo signing info signinginfo ant core preferences antcorepreferences preferences ant core plugin antcoreplugin get plugin getplugin get preferences getpreferences i ant classpath entry iantclasspathentry entry preferences get tools jar entry gettoolsjarentry entry i ant classpath entry iantclasspathentry classpath preferences get ant home classpath entries getanthomeclasspathentries url urls url classpath length classpath length urls classpath getentryurl i path ipath path path entry getentryurl to string tostring remove last segments removelastsegments path nls path append nls bin urls classpath length url path to string tostring malformedurlexception urls classpath length entry getentryurl urls classpath length entry getentryurl runner set custom classpath setcustomclasspath urls runner monitor string get package r script name getpackagerscriptname string featureid string string string arch string feature location featurelocation nls feature location featurelocation i path ipath separator featureid nls nls nls nls arch nls xml hash map hashmap string string create ant build properties createantbuildproperties string configs f ant build properties fantbuildproperties f ant build properties fantbuildproperties hash map hashmap string string list default properties defaultproperties ant core plugin antcoreplugin get plugin getplugin get preferences getpreferences get properties getproperties list iterator listiterator default properties defaultproperties list iterator listiterator has next hasnext property prop property f ant build properties fantbuildproperties prop get name getname prop get value getvalue f info finfo signing info signinginfo f ant build properties fantbuildproperties i xml constants ixmlconstants property sign alias f info finfo signing info signinginfo f ant build properties fantbuildproperties i xml constants ixmlconstants property sign key store keystore f info finfo signing info signinginfo f ant build properties fantbuildproperties i xml constants ixmlconstants property sign store pass storepass f info finfo signing info signinginfo f ant build properties fantbuildproperties i xml constants ixmlconstants property sign key pass keypass f info finfo signing info signinginfo f info finfo jnlp info jnlpinfo f ant build properties fantbuildproperties i xml constants ixmlconstants property jnlp code base codebase f info finfo jnlp info jnlpinfo f ant build properties fantbuildproperties i xml constants ixmlconstants property jnlp f info finfo jnlp info jnlpinfo nls f ant build properties fantbuildproperties i xml constants ixmlconstants property build temp f build temp location fbuildtemplocation destination nls f ant build properties fantbuildproperties i xml constants ixmlconstants property feature temp folder f build temp location fbuildtemplocation destination nls f ant build properties fantbuildproperties i xml constants ixmlconstants property include children nls nls f ant build properties fantbuildproperties eclipse running nls f ant build properties fantbuildproperties i xml constants ixmlconstants property generate api description f ant build properties fantbuildproperties i xml constants ixmlconstants property base target platform targetplatform getos f ant build properties fantbuildproperties i xml constants ixmlconstants property base target platform targetplatform getws f ant build properties fantbuildproperties i xml constants ixmlconstants property base arch target platform targetplatform getosarch f ant build properties fantbuildproperties i xml constants ixmlconstants property base target platform targetplatform getnl f ant build properties fantbuildproperties i xml constants ixmlconstants property bootclasspath build utilities buildutilities get boot classpath getbootclasspath i execution environments manager iexecutionenvironmentsmanager manager java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager i execution environment iexecutionenvironment envs manager get execution environments getexecutionenvironments envs length string envs get id getid f ant build properties fantbuildproperties build utilities buildutilities get boot classpath getbootclasspath nls f ant build properties fantbuildproperties i xml constants ixmlconstants property javac fail error nls f ant build properties fantbuildproperties i xml constants ixmlconstants property javac debug info nls f ant build properties fantbuildproperties i xml constants ixmlconstants property javac verbose i eclipse preferences ieclipsepreferences prefs instance scope instancescope instance get node getnode java core javacore plugin i eclipse preferences ieclipsepreferences def default scope defaultscope instance get node getnode java core javacore plugin string source prefs java core javacore compiler source source source def java core javacore compiler source source f ant build properties fantbuildproperties i xml constants ixmlconstants property javac source source string target prefs java core javacore compiler codegen target platform target target def java core javacore compiler codegen target platform target f ant build properties fantbuildproperties i xml constants ixmlconstants property javac target target assemble r assembler nls f ant build properties fantbuildproperties i xml constants ixmlconstants property build directory f build temp location fbuildtemplocation ass embly location assemblylocation nls f ant build properties fantbuildproperties i xml constants ixmlconstants property build label nls f ant build properties fantbuildproperties i xml constants ixmlconstants property collecting folder nls nls nls string prefix platform getos equals macosx f ant build properties fantbuildproperties i xml constants ixmlconstants property archive prefix prefix nls f ant build properties fantbuildproperties i xml constants ixmlconstants property tar args nls f ant build properties fantbuildproperties i xml constants ixmlconstants property package r packager set p setp meta data properties metadataproperties f ant build properties fantbuildproperties f ant build properties fantbuildproperties metadata publishing generation publishing p publishingp metadata f info finfo use jar format usejarformat f info finfo export metadata exportmetadata returns list uri metadata repository locations metadata target platform repositories metadata plugins target method returns code code target repositories list uri representing metadata repositories code code uri get metadata context from target platform getmetadatacontextfromtargetplatform uri context target metadata collector targetmetadatacollector get metadata repositories getmetadatarepositories context length context core exception coreexception location category definition file string get category definition getcategorydefinition f info finfo category definition categorydefinition adds properties invoke metadata generator method called creating ant build properties map param map map add generator properties set p setp meta data properties metadataproperties map string string map f info finfo use jar format usejarformat f info finfo export metadata exportmetadata map i xml constants ixmlconstants target metadata i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property flavor utils flavor map i build properties constants ibuildpropertiesconstants property publish artifacts i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property mode override i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property compress i build properties constants ibuildpropertiesconstants map i build properties constants ibuildpropertiesconstants property gathering to string tostring publishing p publishingp metadata get category definition getcategorydefinition map i build properties constants ibuildpropertiesconstants property category definition get category definition getcategorydefinition string nls destination nls publishing p publishingp metadata destination file f build temp metadata location fbuildtempmetadatalocation tourl to string tostring map i build properties constants ibuildpropertiesconstants property build repo destination f info finfo to directory todirectory destination file f info finfo destination directory destinationdirectory tourl to string tostring destination file f build temp metadata location fbuildtempmetadatalocation touri tourl to string tostring map i build properties constants ibuildpropertiesconstants property metadata repo destination map i build properties constants ibuildpropertiesconstants property artifact repo destination map i build properties constants ibuildpropertiesconstants property metadata repo pde core messages pdecoremessages feature export operation featureexportoperation map i build properties constants ibuildpropertiesconstants property artifact repo pde core messages pdecoremessages feature export operation featureexportoperation malformedurlexception pde core pdecore log string getos i feature ifeature feature string feature getos nls trim length index of indexof equals target platform targetplatform getos string getws i feature ifeature feature string feature getws nls trim length index of indexof equals target platform targetplatform getws string getosarch i feature ifeature feature string arch feature get arch getarch nls arch arch trim length arch index of indexof arch equals target platform targetplatform getosarch arch create destination createdestination invocation target exception invocationtargetexception file file file f info finfo destination directory destinationdirectory file exists file is directory isdirectory file mkdirs invocation target exception invocationtargetexception exception pde core messages pdecoremessages export wizard exportwizard bad directory baddirectory file metadata temp metadatatemp file f build temp metadata location fbuildtempmetadatalocation metadata temp metadatatemp exists build metadata repo clean delete dir deletedir metadata temp metadatatemp delete dir deletedir file dir dir exists dir is directory isdirectory file children dir list files listfiles children children length delete dir deletedir children dir delete string get config info getconfiginfo string configs string buffer stringbuffer buffer string buffer stringbuffer configs length buffer append buffer append configs buffer append buffer append configs buffer append buffer append configs buffer to string tostring string get archives format getarchivesformat string configs string buffer stringbuffer buffer string buffer stringbuffer configs length buffer append buffer append configs buffer append buffer append configs buffer append buffer append configs buffer append buffer append f info finfo to directory todirectory i xml constants ixmlconstants format folder i xml constants ixmlconstants format antzip grouped configurations groupedconfigurations buffer append nls buffer append group group group buffer append f info finfo to directory todirectory i xml constants ixmlconstants format folder i xml constants ixmlconstants format antzip buffer to string tostring setup generator setupgenerator build script generator buildscriptgenerator generator string featureid string version id versionid string configs string feature location featurelocation core exception coreexception generator set children setchildren generator set working directory setworkingdirectory feature location featurelocation generator set dev entries setdeventries get dev properties getdevproperties nls nls nls generator set elements setelements string feature featureid version id versionid version id versionid generator set plugin path setpluginpath get paths getpaths generator set report resolution errors setreportresolutionerrors generator set ignore missing properties file setignoremissingpropertiesfile generator set sign jars setsignjars f info finfo signing info signinginfo generator set generate jnlp setgeneratejnlp f info finfo jnlp info jnlpinfo generator set flat ten dependencies setflattendependencies format abstract script generator abstractscriptgenerator set config info setconfiginfo get config info getconfiginfo configs generator set archives format setarchivesformat get archives format getarchivesformat configs generator setpdestate get build state getbuildstate generator set next id setnextid target platform helper targetplatformhelper getpdestate get next id getnextid f info finfo use workspace compiled classes useworkspacecompiledclasses generator set use workspace binaries setuseworkspacebinaries generator set state extra data setstateextradata target platform helper targetplatformhelper get bundle class paths getbundleclasspaths target platform helper targetplatformhelper getpdestate target platform helper targetplatformhelper get patch map getpatchmap target platform helper targetplatformhelper getpdestate get workspace export helper getworkspaceexporthelper get workspace output folders getworkspaceoutputfolders f info finfo items generator set state extra data setstateextradata target platform helper targetplatformhelper get bundle class paths getbundleclasspaths target platform helper targetplatformhelper getpdestate target platform helper targetplatformhelper get patch map getpatchmap target platform helper targetplatformhelper getpdestate abstract script generator abstractscriptgenerator set force update jar setforceupdatejar abstract script generator abstractscriptgenerator set embedded source setembeddedsource f info finfo export source exportsource f info finfo export source bundle exportsourcebundle binary cycles properties properties properties properties i build properties constants ibuildpropertiesconstants property binary cycles to string tostring f info finfo allow binary cycles allowbinarycycles properties i build properties constants ibuildpropertiesconstants property gathering to string tostring publishing p publishingp metadata todo duplicate create ant build properties createantbuildproperties i execution environments manager iexecutionenvironmentsmanager manager java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager i execution environment iexecutionenvironment envs manager get execution environments getexecutionenvironments envs length string envs get id getid properties build utilities buildutilities get boot classpath getbootclasspath generator set immutable ant properties setimmutableantproperties properties custom execution environments string extra locations extralocations execution environment profile manager executionenvironmentprofilemanager get custom profile locations getcustomprofilelocations extra locations extralocations generator seteesources extra locations extralocations exporting metadata provide context repositories target option turned publishing p publishingp metadata uri contexts get metadata context from target platform getmetadatacontextfromtargetplatform contexts generator set context metadata repositories setcontextmetadatarepositories contexts get state getstate string string string arch main target platform helper targetplatformhelper get state getstate equals target platform targetplatform getos equals target platform targetplatform getws arch equals target platform targetplatform getosarch main f state copy fstatecopy copy state copystate main dictionary string string dictionaries f state copy fstatecopy get platform properties getplatformproperties dictionaries length dictionary string string properties dictionaries nls properties osgi nls properties osgi nls properties osgi arch arch f state copy fstatecopy resolve f state copy fstatecopy get build state getbuildstate main target platform helper targetplatformhelper get state getstate f state copy fstatecopy copy state copystate main todo main get platform properties getplatformproperties passed pde build f state copy fstatecopy copy state copystate f state copy fstatecopy get factory getfactory create state createstate f state copy fstatecopy set resolver setresolver platform get platform admin getplatformadmin create resolver createresolver f state copy fstatecopy set platform properties setplatformproperties get platform properties getplatformproperties string get dev properties getdevproperties f dev properties fdevproperties nls f dev properties fdevproperties classpath helper classpathhelper get dev entries properties getdeventriesproperties f build temp location fbuildtemplocation dev properties f dev properties fdevproperties is custom build iscustombuild i model imodel model core exception coreexception i build model ibuildmodel build model buildmodel i file ifile build file buildfile pde project pdeproject get build properties getbuildproperties model get underlying resource getunderlyingresource get project getproject build file buildfile exists build model buildmodel workspace build model workspacebuildmodel build file buildfile build model buildmodel load build model buildmodel i build ibuild build build model buildmodel get build getbuild build nls i build entry ibuildentry entry build get entry getentry custom entry string tokens entry get tokens gettokens tokens length nls tokens equals nls string get paths getpaths merge workspace external features workspace external map string string map hash map hashmap string string feature model manager featuremodelmanager f mm fmm pde core pdecore get default getdefault get feature model manager getfeaturemodelmanager i feature model ifeaturemodel models f mm fmm get external models getexternalmodels models length map models get feature getfeature get id getid models get install location getinstalllocation remove workspace models models f mm fmm get workspace models getworkspacemodels string locations string models length models length map remove models get feature getfeature get id getid locations models get install location getinstalllocation add workspace models string paths string map size models length paths map values to array toarray paths system arraycopy locations paths map size models length paths cleanup string config i progress monitor iprogressmonitor monitor sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor clear cached values depend configuration built f dev properties fdevproperties f ant build properties fantbuildproperties file script file scriptfile nls script file scriptfile create script file createscriptfile zip xml document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance document doc factory new document builder newdocumentbuilder new document newdocument nls element root doc create element createelement project nls nls root set attribute setattribute temp nls nls root set attribute setattribute clean nls nls root set attribute setattribute based ir basedir doc append child appendchild root nls element target doc create element createelement target nls nls target set attribute setattribute clean nls element child doc create element createelement delete nls child set attribute setattribute dir f build temp location fbuildtemplocation target append child appendchild child root append child appendchild target has ant errors hasanterrors target nls doc create element createelement nls target nls nls target set attribute setattribute zip logs child nls doc create element createelement nls zip nls child set attribute setattribute nls zip file zipfile nls f info finfo destination directory destinationdirectory log name logname config nls nls child set attribute setattribute based ir basedir f build temp location fbuildtemplocation pde logs target append child appendchild child root append child appendchild target xml print handler xmlprinthandler write file writefile doc script file scriptfile string targets nls nls has ant errors hasanterrors nls nls string zip logs clean nls string nls clean ant runner antrunner runner ant runner antrunner runner set build file location setbuildfilelocation script file scriptfile get absolute path getabsolutepath runner set execution targets setexecutiontargets targets runner sub monitor submonitor split factory configuration error factoryconfigurationerror parser configuration exception parserconfigurationexception core exception coreexception i o exception ioexception script file scriptfile script file scriptfile exists script file scriptfile delete file create script file createscriptfile string filename i o exception ioexception string path pde core pdecore get default getdefault get state location getstatelocation toosstring file zip file path filename zip exists zip delete zip create new file createnewfile zip string log name logname string config config nls logs zip nls nls logs config config config zip method rec urses recurses feature list creates feature xml build properties param featureid param feature location featurelocation param features exported featuresexported param doc param root param prop i o exception ioexception create feature createfeature string featureid string feature location featurelocation object features exported featuresexported document doc element root properties prop i o exception ioexception doc document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance doc factory new document builder newdocumentbuilder new document newdocument root nls doc create element createelement nls feature nls root set attribute setattribute nls nls featureid nls nls root set attribute setattribute version doc append child appendchild root prop properties nls nls prop pde marker nls nls prop individual source bundles individualsourcebundles return after loop returnafterloop features exported featuresexported length features exported featuresexported i feature model ifeaturemodel i feature ifeature feature i feature model ifeaturemodel features exported featuresexported get feature getfeature feature get included features getincludedfeatures length create feature createfeature featureid feature location featurelocation feature get included features getincludedfeatures doc root prop element includes nls doc create element createelement nls includes nls nls includes set attribute setattribute feature get id getid source includes set attribute setattribute version nls feature get version getversion root append child appendchild includes nls nls prop generate feature feature get id getid source feature get id getid includes nls doc create element createelement nls includes nls includes set attribute setattribute nls nls feature get id getid includes set attribute setattribute version nls feature get version getversion root append child appendchild includes features exported featuresexported i feature child ifeaturechild return after loop returnafterloop i feature ifeature feature feature child featurechild features exported featuresexported get reference d feature getreferencedfeature feature feature get included features getincludedfeatures length create feature createfeature featureid feature location featurelocation feature get included features getincludedfeatures doc root prop element includes nls doc create element createelement nls includes nls nls includes set attribute setattribute feature get id getid source nls includes set attribute setattribute nls version nls feature get version getversion root append child appendchild includes nls nls prop generate feature feature get id getid source feature get id getid return after loop returnafterloop file file file feature location featurelocation file exists file is directory isdirectory file mkdirs nls save file file i core constants icoreconstants build filename descriptor prop marker file xml print handler xmlprinthandler write file writefile doc file file i core constants icoreconstants feature filename descriptor dom exception domexception factory configuration error factoryconfigurationerror parser configuration exception parserconfigurationexception dictionary string string get environment getenvironment string config dictionary string string environment hashtable string string nls environment osgi config nls environment osgi config nls environment osgi arch config nls environment osgi config environment set filter attributes setfilterattributes element plugin string config config config nls plugin set attribute setattribute config nls plugin set attribute setattribute config nls plugin set attribute setattribute arch config bundle description bundledescription get matching launcher getmatchinglauncher string configuration bundle description bundledescription fragments launcher fragment matches configuration dictionary string string environment get environment getenvironment configuration fragments length isnlfragment fragments should add plugin shouldaddplugin fragments environment fragments isnlfragment bundle description bundledescription fragment assumes org eclipse equinox launcher arch string symbolic name symbolicname fragment get symbolic name getsymbolicname idx symbolic name symbolicname last index of lastindexof nls idx symbolic name symbolicname region matches regionmatches idx create feature createfeature string featureid string feature location featurelocation string configurations include launcher includelauncher i o exception ioexception file file file feature location featurelocation file exists file is directory isdirectory file mkdirs document builder factory documentbuilderfactory factory document builder factory documentbuilderfactory new instance newinstance document doc factory new document builder newdocumentbuilder new document newdocument nls element root doc create element createelement feature nls root set attribute setattribute featureid nls nls root set attribute setattribute version doc append child appendchild root include launcher includelauncher i feature model ifeaturemodel model pde core pdecore get default getdefault get feature model manager getfeaturemodelmanager get delta pack feature getdeltapackfeature model i feature ifeature feature model get feature getfeature element includes nls doc create element createelement nls includes nls includes set attribute setattribute nls nls feature get id getid includes set attribute setattribute version nls feature get version getversion root append child appendchild includes i plugin model base ipluginmodelbase launcher plugin launcherplugin plugin registry pluginregistry find model findmodel i pde build constants ipdebuildconstants bundle equinox launcher launcher plugin launcherplugin bundle description bundledescription bundle launcher plugin launcherplugin get bundle description getbundledescription bundle element plugin nls doc create element createelement nls plugin nls plugin set attribute setattribute nls nls bundle get symbolic name getsymbolicname plugin set attribute setattribute version nls bundle get version getversion to string tostring nls nls plugin set attribute setattribute unpack root append child appendchild plugin bundle description bundledescription fragments bundle get fragments getfragments configurations length bundle description bundledescription launcher fragment launcherfragment get matching launcher getmatchinglauncher configurations fragments launcher fragment launcherfragment element nls fragment nls doc create element createelement plugin fragment set attribute setattribute launcher fragment launcherfragment nls get symbolic name getsymbolicname fragment set attribute setattribute version nls launcher fragment launcherfragment get version getversion to string tostring nls nls fragment set attribute setattribute nls nls fragment nls nls set filter attributes setfilterattributes fragment configurations root append child appendchild fragment list i plugin model base ipluginmodelbase workspace plugins workspaceplugins arrays as list aslist plugin registry pluginregistry get workspace models getworkspacemodels f info finfo items length f info finfo items i feature model ifeaturemodel i feature ifeature feature i feature model ifeaturemodel f info finfo items get feature getfeature element includes nls doc create element createelement nls includes nls includes set attribute setattribute nls nls feature get id getid includes set attribute setattribute version nls feature get version getversion root append child appendchild includes f info finfo export source exportsource f info finfo export source bundle exportsourcebundle includes nls doc create element createelement nls includes nls nls includes set attribute setattribute feature get id getid source nls includes set attribute setattribute nls version nls feature get version getversion root append child appendchild includes bundle description bundledescription bundle f info finfo items i plugin model base ipluginmodelbase bundle i plugin model base ipluginmodelbase f info finfo items get bundle description getbundledescription bundle f info finfo items bundle description bundledescription bundle bundle description bundledescription f info finfo items bundle list string configs array list arraylist string configurations length configs add config configs add all addall arrays as list aslist configurations check bundle platfrom filter config iterator string iterator configs iterator iterator has next hasnext string current config currentconfig iterator dictionary string string environment get environment getenvironment current config currentconfig should add plugin shouldaddplugin bundle environment element plugin nls doc create element createelement nls plugin nls plugin set attribute setattribute nls nls bundle get symbolic name getsymbolicname plugin set attribute setattribute version nls bundle get version getversion to string tostring set filter attributes setfilterattributes plugin current config currentconfig set additional attributes setadditionalattributes plugin bundle root append child appendchild plugin f info finfo export source exportsource f info finfo export source bundle exportsourcebundle workspace plugin workspace plugins workspaceplugins plugin registry pluginregistry find model findmodel bundle nls plugin nls doc create element createelement plugin plugin set attribute setattribute nls nls bundle get symbolic name getsymbolicname nls nls source nls plugin set attribute setattribute nls version nls bundle get version getversion to string tostring set filter attributes setfilterattributes plugin current config currentconfig set additional attributes setadditionalattributes plugin bundle root append child appendchild plugin include source plugin i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel nls bundle get symbolic name getsymbolicname source model bundle model get bundle description getbundledescription nls plugin doc create element createelement plugin nls plugin set attribute setattribute nls nls bundle get symbolic name getsymbolicname nls plugin set attribute setattribute nls version nls bundle get version getversion to string tostring set filter attributes setfilterattributes plugin current config currentconfig set additional attributes setadditionalattributes plugin bundle root append child appendchild plugin current config currentconfig config configs xml print handler xmlprinthandler write file writefile doc file file i core constants icoreconstants feature filename descriptor dom exception domexception factory configuration error factoryconfigurationerror parser configuration exception parserconfigurationexception set additional attributes setadditionalattributes element plugin bundle description bundledescription bundle error found errorfound f has errors fhaserrors has ant errors hasanterrors f has errors fhaserrors should add plugin shouldaddplugin bundle description bundledescription bundle dictionary string string environment string filter spec filterspec bundle get platform filter getplatformfilter filter spec filterspec pde core pdecore get default getdefault get bundle context getbundlecontext create filter createfilter filter spec filterspec match environment invalid syntax exception invalidsyntaxexception exporting compiled classes workspace method start incremental build test build errors returns status exp laining explaining errors status status param monitor progress monitor status exp laining explaining build errors status core exception coreexception i status istatus test build workspace before export testbuildworkspacebeforeexport i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor f info finfo use workspace compiled classes useworkspacecompiledclasses get workspace export helper getworkspaceexporthelper build before export buildbeforeexport f info finfo items sub monitor submonitor split errors get workspace export helper getworkspaceexporthelper check for errors checkforerrors f info finfo items sub monitor submonitor worked errors is empty isempty status i status istatus error pde core pdecore plugin nls bind pde core messages pdecoremessages feature export operation featureexportoperation workspace build errors found during export workspacebuilderrorsfoundduringexport errors to string tostring status status instance workspace export helper workspaceexporthelper exports files built workspace workspace export helper workspaceexporthelper get workspace export helper getworkspaceexporthelper f workspace export helper fworkspaceexporthelper f workspace export helper fworkspaceexporthelper workspace export helper workspaceexporthelper f workspace export helper fworkspaceexporthelper
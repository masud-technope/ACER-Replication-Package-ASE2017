copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal launching launcher java java net url java util org eclipse core runtime org eclipse core variables i string variable manager istringvariablemanager org eclipse core variables variables plugin variablesplugin org eclipse debug core i launch configuration ilaunchconfiguration org eclipse jdt launching i java launch configuration constants ijavalaunchconfigurationconstants org eclipse osgi service resolver bundle description bundledescription org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde core plugin target platform targetplatform org eclipse pde internal build ipde build constants ipdebuildconstants org eclipse pde internal core org eclipse pde internal launching ipde constants ipdeconstants org eclipse pde internal launching pde launching plugin pdelaunchingplugin org eclipse pde launching ipde launcher constants ipdelauncherconstants helper methods launching eclipse runtime workbench launch configuration helper launchconfigurationhelper nls string prop osgi framework osgi framework nls string prop osgi extensions osgi framework extensions nls string prop osgi bundles osgi bundles nls string prop data area eclipse data area nls string prop product eclipse product nls string prop application eclipse application nls string profile self hosting profile selfhostingprofile data area directory configuration folder nls string directory synchronize manifests synchronizemanifests i launch configuration ilaunchconfiguration config file config dir configdir nls string program args programargs config get attribute getattribute i java launch configuration constants ijavalaunchconfigurationconstants attr program arguments nls program args programargs index of indexof clean core exception coreexception nls file dir file config dir configdir org eclipse osgi manifests dir exists dir is directory isdirectory pde core pdecore get default getdefault get java element change listener getjavaelementchangelistener synchronize manifests synchronizemanifests dir file get configuration area getconfigurationarea i launch configuration ilaunchconfiguration config file dir get configuration location getconfigurationlocation config dir exists dir mkdirs dir file get configuration location getconfigurationlocation i launch configuration ilaunchconfiguration config bug change config location config string config name configname config get name getname config name configname config name configname replace file dir file pde core pdecore get default getdefault get state location getstatelocation toosstring config name configname config get attribute getattribute ipde launcher constants ipdelauncherconstants config area string user path userpath config get attribute getattribute ipde launcher constants ipdelauncherconstants config location string user path userpath user path userpath get sub stituted string getsubstitutedstring user path userpath dir file user path userpath get absolute file getabsolutefile core exception coreexception dir string get sub stituted string getsubstitutedstring string text core exception coreexception text nls i string variable manager istringvariablemanager mgr variables plugin variablesplugin get default getdefault get string variable manager getstringvariablemanager mgr perform string substitution performstringsubstitution text writes config ini configuration files based bundles launched includes writing bundles info simple configurator platform xml update configurator param configuration launch configuration param productid product launched code code param bundles map bundle plug model bundles launched param bundles with start levels bundleswithstartlevels map plug model string start level param configuration directory configurationdirectory config directory created files properties object properties written config ini core exception coreexception properties create config ini file createconfiginifile i launch configuration ilaunchconfiguration configuration string productid map string i plugin model base ipluginmodelbase bundles map i plugin model base ipluginmodelbase string bundles with start levels bundleswithstartlevels file configuration directory configurationdirectory core exception coreexception properties properties generate config ini start values target platform config ini bug configuration get attribute getattribute ipde launcher constants ipdelauncherconstants config generate string appid configuration get attribute getattribute ipde launcher constants ipdelauncherconstants application string properties target platform helper targetplatformhelper get config ini properties getconfiginiproperties target config ini exist fill values properties properties properties clear properties launching product app bug bug productid productid equals properties prop product appid appid equals properties prop application properties clear target config ini osgi bundles header parse compute proper osgi bundles string bundle list bundlelist properties get property getproperty prop osgi bundles bundle list bundlelist properties set property setproperty prop osgi bundles computeosgibundles target platform helper targetplatformhelper str ip path information strippathinformation bundle list bundlelist bundles bundles with start levels bundleswithstartlevels string template loc templateloc configuration get attribute getattribute ipde launcher constants ipdelauncherconstants config template location string template loc templateloc properties load from template loadfromtemplate get sub stituted string getsubstitutedstring template loc templateloc template osgi bundles str ip strip path compute string osgi bundles osgibundles properties get property getproperty prop osgi bundles osgi bundles osgibundles properties set property setproperty prop osgi bundles target platform helper targetplatformhelper str ip path information strippathinformation osgi bundles osgibundles create config ini read template add required properties bug properties add required properties addrequiredproperties properties productid bundles bundles with start levels bundleswithstartlevels properties properties configuration directory configurationdirectory exists configuration directory configurationdirectory mkdirs string osgi bundles osgibundles properties get property getproperty prop osgi bundles start configuration get attribute getattribute ipde launcher constants ipdelauncherconstants start level nls properties osgi bundles default start level defaultstartlevel integer to string tostring start autostart configuration get attribute getattribute ipde launcher constants ipdelauncherconstants auto start special processing launching simple configurator osgi bundles osgibundles osgi bundles osgibundles index of indexof ipde build constants ipdebuildconstants bundle simple configurator bundles contains key containskey ipde build constants ipdebuildconstants bundle simple configurator update configurator start level override simple update config urators configurators auto started autostarted i plugin model base ipluginmodelbase update configurator bundle updateconfiguratorbundle bundles ipde build constants ipdebuildconstants bundle update configurator update configurator bundle updateconfiguratorbundle string start level startlevel bundles with start levels bundleswithstartlevels update configurator bundle updateconfiguratorbundle start level startlevel start level startlevel equals bundle launcher helper bundlelauncherhelper update configurator start level nls bundles with start levels bundleswithstartlevels nls update configurator bundle updateconfiguratorbundle nls write files bundles txt url bundles txt bundlestxt used efault usedefault configuration get attribute getattribute ipde launcher constants ipdelauncherconstants used efault usedefault bundles txt bundlestxt utils write bundles txt writebundlestxt bundles with start levels bundleswithstartlevels start autostart configuration directory configurationdirectory osgi bundles osgibundles bundles txt bundlestxt utils write bundles txt writebundlestxt bundles with start levels bundleswithstartlevels start autostart configuration directory configurationdirectory add bundles txt config data bundles txt bundlestxt nls properties set property setproperty nls org eclipse equinox simple configurator simpleconfigurator config url configurl nls bundles txt bundlestxt to string tostring simple configurator update configurator ensure update doesn reconcile bundles ipde build constants ipdebuildconstants bundle update configurator nls nls properties set property setproperty org eclipse update reconcile data area configuration area sibling configuration area root pde core shared metadata area bug nls properties set property setproperty prop data area config dir concat directory generate profile launch profile configuration get attribute getattribute ipde launcher constants ipdelauncherconstants generate profile string profileid profile file data area dataarea file configuration directory configurationdirectory directory rest arting restarting existing profile generate overwrite profile configuration get attribute getattribute ipde constants ipdeconstants restart utils profile exists profileexists profileid data area dataarea utils create profile createprofile profileid data area dataarea bundles values nls properties set property setproperty nls eclipse profile nls profileid special processing update manager update configurator string branding id brandingid launch configuration helper launchconfigurationhelper get contributing plugin getcontributingplugin productid create platform xml target platform targetplatform create platform configuration createplatformconfiguration configuration directory configurationdirectory bundles values to array toarray i plugin model base ipluginmodelbase bundles size branding id brandingid i plugin model base ipluginmodelbase bundles branding id brandingid set bundle locations setbundlelocations bundles properties autostart nls save file configuration directory configurationdirectory config ini properties properties add required properties addrequiredproperties properties properties string productid map string i plugin model base ipluginmodelbase bundles map i plugin model base ipluginmodelbase string bundles with start levels bundleswithstartlevels nls properties contains key containskey osgi install area nls nls properties set property setproperty osgi install area file target platform targetplatform get location getlocation nls properties contains key containskey osgi configuration cascaded nls nls properties set property setproperty osgi configuration cascaded properties contains key containskey prop osgi framework properties set property setproperty prop osgi framework ipde build constants ipdebuildconstants bundle osgi nls properties contains key containskey osgi splash path splashpath productid add splash location addsplashlocation properties productid bundles osgi splash path splashpath resolve relative paths absolute paths nls properties contains key containskey osgi splash path splashpath nls resolve location path resolvelocationpath properties get property getproperty osgi splash path splashpath properties bundles properties contains key containskey prop osgi bundles properties set property setproperty prop osgi bundles computeosgibundles target platform targetplatform get bundle list getbundlelist bundles bundles with start levels bundleswithstartlevels nls properties contains key containskey osgi bundles default start level defaultstartlevel nls nls properties set property setproperty osgi bundles default start level defaultstartlevel computes list osgi bundles osgi bundles property based bundles target platform config ini map bundles launching list bundles path removed param bundle list bundlelist list bundles path param bundles map bundle bundle model bundles launched param bundles with start levels bundleswithstartlevels map bundles start level string list osgi bundles string computeosgibundles string bundle list bundlelist map string i plugin model base ipluginmodelbase bundles map i plugin model base ipluginmodelbase string bundles with start levels bundleswithstartlevels simple configurator bundles txt written simple configurator config ini bundles ipde build constants ipdebuildconstants bundle simple configurator nls org eclipse equinox simple configurator simpleconfigurator start string buffer stringbuffer buffer string buffer stringbuffer string initial bundle set initialbundleset hash set hashset string nls string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer bundle list bundlelist tokenizer has more tokens hasmoretokens string token tokenizer next token nexttoken token index of indexof string token substring token bundles contains key containskey buffer length buffer append buffer append token length buffer append token substring initial bundle set initialbundleset add org eclipse update configurator included basic rcp application write bundles osgi bundles bug initial bundle set initialbundleset ipde build constants ipdebuildconstants bundle update configurator initial bundle set initialbundleset add ipde build constants ipdebuildconstants bundle osgi iterator i plugin model base ipluginmodelbase iter bundles with start levels bundleswithstartlevels key set keyset iterator iter has next hasnext i plugin model base ipluginmodelbase model iter string model get plugin base getpluginbase get id getid initial bundle set initialbundleset buffer length buffer append string slinfo bundles with start levels bundleswithstartlevels model buffer append buffer append buffer append slinfo buffer to string tostring properties load from template loadfromtemplate string template loc templateloc core exception coreexception properties properties properties file template file templatefile file template loc templateloc template file templatefile exists template file templatefile is file isfile file input stream fileinputstream stream stream file input stream fileinputstream template file templatefile properties load stream exception string message get message getmessage message core exception coreexception status i status istatus error pde launching plugin pdelaunchingplugin get plugin id getpluginid i status istatus error message stream stream close io exception ioexception properties add splash location addsplashlocation properties properties string productid map string i plugin model base ipluginmodelbase map properties target config targetconfig target platform helper targetplatformhelper get config ini properties getconfiginiproperties nls string target product targetproduct target config targetconfig target config targetconfig get property getproperty eclipse product nls string target splash targetsplash target config targetconfig target config targetconfig get property getproperty osgi splash path splashpath productid equals target product targetproduct target splash targetsplash array list arraylist string locations array list arraylist string string plugin get contributing plugin getcontributingplugin productid locations add plugin i plugin model base ipluginmodelbase model map plugin model bundle description bundledescription desc model get bundle description getbundledescription desc bundle description bundledescription fragments desc get fragments getfragments fragments length locations add fragments get symbolic name getsymbolicname resolve location path resolvelocationpath locations properties map resolve location path resolvelocationpath target splash targetsplash properties map resolve location path resolvelocationpath string splash path splashpath properties properties map string i plugin model base ipluginmodelbase map array list arraylist string locations array list arraylist string nls string tokenizer stringtokenizer tok string tokenizer stringtokenizer splash path splashpath tok has more tokens hasmoretokens locations add tok next token nexttoken resolve location path resolvelocationpath locations properties map resolve location path resolvelocationpath array list arraylist string locations properties properties map string i plugin model base ipluginmodelbase map string buffer stringbuffer buffer string buffer stringbuffer locations size string location locations nls location starts with startswith platform base plugins nls nls location location replace first replacefirst platform base plugins string url getbundleurl location map url buffer length nls buffer append nls buffer append url buffer length nls properties set property setproperty osgi splash path splashpath buffer to string tostring returns string url representing install location bundle model model map param bundle param plugin map pluginmap mapping bundle ids bundle models param include reference includereference prefix url reference string url bundle location string getbundleurl string map string i plugin model base ipluginmodelbase plugin map pluginmap include reference includereference i plugin model base ipluginmodelbase model plugin map pluginmap trim getbundleurl model include reference includereference returns string url representing install location bundle model param model model create url param include reference includereference prefix url reference string url bundle location string getbundleurl i plugin model base ipluginmodelbase model include reference includereference model model get install location getinstalllocation string buffer stringbuffer buf string buffer stringbuffer include reference includereference buf append target platform helper targetplatformhelper reference prefix buf append target platform helper targetplatformhelper file url prefix buf append path model get install location getinstalllocation remove trailing separator removetrailingseparator to string tostring buf to string tostring map bundles launching update osgi framework osgi bundles properties correct info param map map bundles launched mapped model param properties properties config ini set bundle locations setbundlelocations map string i plugin model base ipluginmodelbase map properties properties default auto defaultauto string framework properties get property getproperty prop osgi framework framework framework target platform helper targetplatformhelper str ip path information strippathinformation framework string url getbundleurl framework map url properties set property setproperty prop osgi framework url relative locations framework extensions bug string extensions properties get property getproperty prop osgi extensions extensions string buffer stringbuffer buffer string buffer stringbuffer nls string extensions array extensionsarray extensions split extensions array extensionsarray length string bundle target platform helper targetplatformhelper str ip path information strippathinformation extensions array extensionsarray string url getbundleurl bundle map url buffer length buffer append buffer append url buffer length properties set property setproperty prop osgi extensions buffer to string tostring string bundles properties get property getproperty prop osgi bundles bundles string buffer stringbuffer buffer string buffer stringbuffer nls string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer bundles tokenizer has more tokens hasmoretokens string token tokenizer next token nexttoken trim string url getbundleurl token map url token index of indexof url getbundleurl token substring map url token index of indexof url getbundleurl token substring map url buffer length buffer append buffer append url string slinfo token substring buffer append get start data getstartdata slinfo default auto defaultauto properties set property setproperty prop osgi bundles buffer to string tostring convenience method parses start data startdata start level startlevel auto start autostart convert format expected os gi osgi bundles property append string buffer stringbuffer param start data startdata data parse start level startlevel auto start autostart param default auto defaultauto auto start setting string get start data getstartdata string start data startdata default auto defaultauto string buffer stringbuffer buffer string buffer stringbuffer start data startdata index of indexof nls string level start data startdata substring string auto start data startdata nls start data startdata equals start nls auto start data startdata length start data startdata substring nls equals auto auto to string tostring default auto defaultauto nls nls nls level equals equals auto start equals auto nls buffer append nls level equals buffer append level nls nls start equals auto equals auto nls buffer append nls nls nls start equals auto equals auto nls buffer append start buffer to string tostring save file file properties properties file output stream fileoutputstream stream file output stream fileoutputstream file nls properties store stream configuration file stream flush stream close io exception ioexception pde core pdecore log exception logexception string get contributing plugin getcontributingplugin string productid productid productid last index of lastindexof productid productid substring string get product d getproductid i launch configuration ilaunchconfiguration configuration core exception coreexception configuration get attribute getattribute ipde launcher constants ipdelauncherconstants product configuration get attribute getattribute ipde launcher constants ipdelauncherconstants product string find product application contributing plug string appid configuration get attribute getattribute ipde launcher constants ipdelauncherconstants application target platform targetplatform get default application getdefaultapplication nls i extension iextension extensions pde core pdecore get default getdefault get extensions registry getextensionsregistry find extensions findextensions org eclipse core runtime products extensions length string extensions get unique identifier getuniqueidentifier i configuration element iconfigurationelement children extensions get configuration elements getconfigurationelements children length nls product equals children get name getname nls appid equals children get attribute getattribute application
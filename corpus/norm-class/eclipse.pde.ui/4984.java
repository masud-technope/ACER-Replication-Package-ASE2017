copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core util java util java util regex matcher java util regex pattern pde text helper pdetexthelper nls string dots string truncate and trail off text truncateandtrailofftext string text limit string trimmed text trim dots length dotslength dots length trimmed length trimmedlength trimmed length limit with dots limitwithdots limit dots length dotslength limit trimmed length trimmedlength trimmed limit trimmed length trimmedlength limit dots length dotslength nls dots length dotslength limit trimmed length trimmedlength trimmed substring limit with dots limitwithdots dots is defined isdefined string text text text length is defined after trim isdefinedaftertrim string text text string trimmed text trimmedtext text trim trimmed text trimmedtext length str ips strips str ips strips leading spaces trailing spaces duplicate spaces param text string translate read text translatereadtext string text ensure text nls nls string result rid leading trailing whitespace string input text inputtext text trim length input text inputtext length previous char previouschar string buffer stringbuffer buffer string buffer stringbuffer length visit character text length current char currentchar input text inputtext char at charat current char currentchar current char currentchar current char currentchar convert new lines newlines carriage returns tabs spaces current char currentchar current char currentchar skip multiple spaces previous char previouschar buffer append current char currentchar previous char previouschar current char currentchar buffer append current char currentchar previous char previouschar current char currentchar result buffer to string tostring pde html helper pdehtmlhelper is all whitespace isallwhitespace result nls result string translate write text translatewritetext string text hash map hashmap substitute chars substitutechars translate write text translatewritetext text substitute chars substitutechars string translate write text translatewritetext string text hash set hashset tag exceptions tagexceptions hash map hashmap substitute chars substitutechars ensure text nls process tag exceptions process tag exceptions processtagexceptions scan limit scanlimit tag exceptions tagexceptions tag exceptions tagexceptions is empty isempty process tag exceptions processtagexceptions big gest biggest entry limit scan limit scanlimit determine max length determinemaxlength tag exceptions tagexceptions process substitute characters process substitute chars processsubstitutechars substitute chars substitutechars substitute chars substitutechars is empty isempty process substitute chars processsubstitutechars translated buffer string buffer stringbuffer buffer string buffer stringbuffer text length visit character text integer pointer integerpointer integer pointer integerpointer get integer getinteger text length increment process current character current char currentchar text char at charat get integer getinteger processed processed process tag exceptions processtagexceptions processed process tag exceptions processtagexceptions current char currentchar substitute chars substitutechars tag exceptions tagexceptions buffer scan limit scanlimit text processed process substitute chars processsubstitutechars processed process substitute chars processsubstitutechars current char currentchar substitute chars substitutechars buffer buffer processed buffer append current char currentchar translated buffer buffer to string tostring process substitute chars processsubstitutechars current char currentchar hash map hashmap substitute chars substitutechars string buffer stringbuffer buffer character character character current char currentchar substitute chars substitutechars contains key containskey character string string substitute chars substitutechars character is defined isdefined append defined buffer append defined str ip strip character process tag exceptions processtagexceptions current char currentchar hash map hashmap substitute chars substitutechars hash set hashset tag exceptions tagexceptions string buffer stringbuffer buffer scan limit scanlimit string text integer pointer integerpointer valid tag exception current char currentchar determine bracket tag valid tag exception res pect respect character array bound aries boundaries adjust limit text length scan buffer string buffer stringbuffer parsed text parsedtext string buffer stringbuffer scan text parse element tag get integer getinteger limit future char futurechar text char at charat future char futurechar bracket element tag determine element tag valid tag exception string future buffer futurebuffer parsed text parsedtext to string tostring is valid tag exception isvalidtagexception tag exceptions tagexceptions future buffer futurebuffer element tag valid tag exception process tag exception characters process tag exception char acters processtagexceptioncharacters substitute chars substitutechars buffer future buffer futurebuffer fast current scanned skip set integer setinteger acc umulate accumulate element tag parsed text parsedtext append future char futurechar process tag exception char acters processtagexceptioncharacters hash map hashmap substitute chars substitutechars string buffer stringbuffer buffer string text tag string tag name tagname get tag name gettagname text determine trailing slash nls trailing slash trailingslash text ends with endswith extract attribute list element tag content trailing spaces trailing string attribute list attributelist text substring tag name tagname length attribute list valid discard attribute list is valid tag attribute list isvalidtagattributelist attribute list attributelist buffer append buffer append tag name tagname replace trailing slash trailing slash trailingslash buffer append buffer append attribute list attributelist length tag attribute list tag trailing slash including tag buffer append buffer append tag name tagname buffer append in quote inquote append opening element bracket buffer append quotes text length processed current char currentchar text char at charat on quote onquote current char currentchar determine processing quote character on quote onquote in quote inquote quote encountered quote in quote inquote quote encountered quote in quote inquote quote character translate character in quote inquote on quote onquote processed process substitute chars processsubstitutechars current char currentchar substitute chars substitutechars buffer processed buffer append current char currentchar append closing element bracket buffer append is valid tag exception isvalidtagexception hash set hashset tag exceptions tagexceptions string buffer sample buffer format tag name tagname att att parse tag ignore attributes string tag name tagname get tag name gettagname buffer check tag tag exception tag exceptions tagexceptions tag name tagname is valid tag attribute list isvalidtagattributelist string text determine attribute list for matted formatted valid xml format sample form ats formats att att att att att space attribute name attributename space space attribute value attributevalue space nls string pattern string patternstring pattern pattern pattern compile pattern string patternstring matcher matcher pattern matcher text determine attribute list matches pattern matcher find string get tag name gettagname string buffer sample buffer format tag name tagname att att string buffer stringbuffer tag name tagname string buffer stringbuffer whitespace character encountered buffer length character buffer char at charat character is whitespace iswhitespace character tag name tagname append character tag name tagname to string tostring determine max length determinemaxlength hash set hashset iterator iterator iterator max length maxlength iterator has next hasnext string string object string iterator object length max length maxlength max length maxlength object length max length maxlength integer pointer integerpointer f integer finteger integer pointer integerpointer int eger integer f integer finteger int eger integer get integer getinteger f integer finteger set integer setinteger int eger integer f integer finteger int eger integer increment f integer finteger
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal search java buffered writer bufferedwriter java file java file not found exception filenotfoundexception java file output stream fileoutputstream java io exception ioexception java output stream writer outputstreamwriter java util array list arraylist java util list org eclipse core runtime core exception coreexception org eclipse pde api tools internal i api core constants iapicoreconstants org eclipse pde api tools internal i api xml constants iapixmlconstants org eclipse pde api tools internal builder reference org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional factory org eclipse pde api tools internal provisional descriptors i component descriptor icomponentdescriptor org eclipse pde api tools internal provisional descriptors i element descriptor ielementdescriptor org eclipse pde api tools internal provisional descriptors i member descriptor imemberdescriptor org eclipse pde api tools internal provisional descriptors i method descriptor imethoddescriptor org eclipse pde api tools internal provisional descriptors i reference type descriptor ireferencetypedescriptor org eclipse pde api tools internal provisional model i api baseline iapibaseline org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api member iapimember org eclipse pde api tools internal provisional model i api type iapitype org eclipse pde api tools internal provisional model i api type root iapityperoot org eclipse pde api tools internal util filtered elements filteredelements org eclipse pde api tools internal util util org dom document org dom element resolves references api scan alternate baseline reference exists baseline detect potential migration issues reference lookup visitor referencelookupvisitor use scan visitor usescanvisitor i api baseline iapibaseline baseline i component descriptor icomponentdescriptor target component targetcomponent i component descriptor icomponentdescriptor referencing component referencingcomponent i api component iapicomponent curr component currcomponent skipped i member descriptor imemberdescriptor target member targetmember i reference type descriptor ireferencetypedescriptor target type targettype i api type iapitype curr type currtype list i component descriptor icomponentdescriptor missing components missingcomponents array list arraylist list i component descriptor icomponentdescriptor skipped components skippedcomponents array list arraylist string location list i reference descriptor ireferencedescriptor unresolved string analysis scope analysisscope string target scope targetscope filtered elements filteredelements excluded elements excludedelements filtered elements filteredelements included elements includedelements creates visitor resolve references baseline param base baseline param location create xml report reference lookup visitor referencelookupvisitor i api baseline iapibaseline base string xml location xmllocation baseline base location xml location xmllocation override visit component visitcomponent i component descriptor icomponentdescriptor target unresolved array list arraylist target component targetcomponent target skipped string target component targetcomponent get id getid included elements includedelements included elements includedelements is empty isempty included elements includedelements contains exact match containsexactmatch included elements includedelements contains partial match containspartialmatch skipped excluded elements excludedelements excluded elements excludedelements contains exact match containsexactmatch excluded elements excludedelements contains partial match containspartialmatch skipped target scope targetscope matches target scope targetscope analyze matches scope curr component currcomponent baseline get api component getapicomponent skipped override visit ref erencing component visitreferencingcomponent i component descriptor icomponentdescriptor component referencing component referencingcomponent component curr component currcomponent analysis scope analysisscope component get id getid matches analysis scope analysisscope scope override visit member visitmember i member descriptor imemberdescriptor referenced member referencedmember target member targetmember referenced member referencedmember target member targetmember get element type getelementtype i element descriptor ielementdescriptor type target type targettype i reference type descriptor ireferencetypedescriptor target member targetmember i element descriptor ielementdescriptor method i element descriptor ielementdescriptor field target type targettype target member targetmember get enclosing type getenclosingtype curr type currtype i api type root iapityperoot type root typeroot i api component iapicomponent comps curr component currcomponent get baseline getbaseline resolve package resolvepackage curr component currcomponent target type targettype get package getpackage get name getname comps length type root typeroot comps find type root findtyperoot target type targettype get qualified name getqualifiedname type root typeroot type root typeroot curr type currtype type root typeroot get structure getstructure core exception coreexception api plugin apiplugin log get status getstatus override visit reference visitreference i reference descriptor ireferencedescriptor reference reference i api member iapimember resolved ref kind refkind reference get reference kind getreferencekind line number linenumber reference get line number getlinenumber i member descriptor imemberdescriptor origin reference get member getmember curr type currtype target member targetmember get element type getelementtype i element descriptor ielementdescriptor type reference type reference typereference curr type currtype target type targettype get qualified name getqualifiedname ref kind refkind i element descriptor ielementdescriptor method reference method reference methodreference curr type currtype target type targettype get qualified name getqualifiedname target member targetmember get name getname i method descriptor imethoddescriptor target member targetmember get signature getsignature ref kind refkind i element descriptor ielementdescriptor field reference field reference fieldreference curr type currtype target type targettype get qualified name getqualifiedname target member targetmember get name getname ref kind refkind resolve resolved get resolved reference getresolvedreference core exception coreexception api plugin apiplugin log get status getstatus resolved error failed resolve add error adderror factory reference descriptor referencedescriptor referencing component referencingcomponent origin line number linenumber target component targetcomponent target member targetmember ref kind refkind reference get reference flags getreferenceflags reference get visibility getvisibility add error adderror i reference descriptor ireferencedescriptor error unresolved add error override end visit component endvisitcomponent i component descriptor icomponentdescriptor target skipped skipped components skippedcomponents add target curr component currcomponent missing components missingcomponents add target unresolved is empty isempty xml reference descriptor writer xmlreferencedescriptorwriter writer xml reference descriptor writer xmlreferencedescriptorwriter location writer set alternate setalternate i component descriptor icomponentdescriptor curr component currcomponent get handle gethandle writer write references writereferences unresolved to array toarray i reference descriptor ireferencedescriptor unresolved size override end visit scan endvisitscan buffered writer bufferedwriter writer generate missing bundles file root file rootfile file location root file rootfile exists root file rootfile mkdirs nls file file file root file rootfile searched xml file exists file create new file createnewfile document doc util new document newdocument element root doc create element createelement i api xml constants iapixmlconstants element components doc append child appendchild root add missing components addmissingcomponents missing components missingcomponents search messages searchmessages reference lookup visitor referencelookupvisitor doc root add missing components addmissingcomponents skipped components skippedcomponents search messages searchmessages skipped component skippedcomponent component excluded doc root writer buffered writer bufferedwriter output stream writer outputstreamwriter file output stream fileoutputstream file i api core constants iapicoreconstants utf writer write util serialize document serializedocument doc writer flush file not found exception filenotfoundexception fnfe io exception ioexception ioe core exception coreexception writer writer close io exception ioexception add missing components addmissingcomponents list i component descriptor icomponentdescriptor missing string details document doc element root i component descriptor icomponentdescriptor component missing element comp doc create element createelement i api xml constants iapixmlconstants element component comp set attribute setattribute i api xml constants iapixmlconstants attr component get id getid comp set attribute setattribute i api xml constants iapixmlconstants attr version component get version getversion comp set attribute setattribute i api xml constants iapixmlconstants skipped details details root append child appendchild comp limits scope bundles references regular expression param regex regular expression code code set analysis scope setanalysisscope string regex analysis scope analysisscope regex limits bundles analyzing references regular expression param regex regular expression code code set target scope settargetscope string regex target scope targetscope regex param excluded elements excludedelements list elements excluded scope set excluded elements setexcludedelements filtered elements filteredelements excluded elements excludedelements excluded elements excludedelements excluded elements excludedelements param included elements includedelements sets list elements explicitly limiting scope set included elements setincludedelements filtered elements filteredelements included elements includedelements included elements includedelements included elements includedelements
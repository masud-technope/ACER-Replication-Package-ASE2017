copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core build ers builders java nio byte buffer bytebuffer java nio charset charset java util hash map hashmap java util map org eclipse core resources i file ifile org eclipse core resources i marker imarker org eclipse core runtime org eclipse jface text org eclipse osgi util manifest element manifestelement org eclipse osgi util nls org eclipse pde internal core pde core pdecore org eclipse pde internal core pde core messages pdecoremessages jar manifest error reporter jarmanifesterrorreporter error reporter errorreporter map i header iheader map string jar manifest header jarmanifestheader f headers fheaders i document idocument f text document ftextdocument jar manifest error reporter jarmanifesterrorreporter i file ifile file file f text document ftextdocument create document createdocument file string get header name getheadername string length char at charat substring get package line getpackageline i header iheader header manifest element manifestelement element string package name packagename element get value getvalue element get directive keys getdirectivekeys element get keys getkeys nls get line getline header package name packagename check exact i region iregion line region lineregion f text document ftextdocument get line information getlineinformation header get line number getlinenumber header get lines span getlinesspan string line str linestr f text document ftextdocument line region lineregion get offset getoffset line region lineregion get length getlength line str linestr ends with endswith package name packagename header get line number getlinenumber header get lines span getlinesspan bad location exception badlocationexception ble pde core pdecore log exception logexception ble nls get line getline header package name packagename get line getline i header iheader header string value sub string valuesubstring header get line number getlinenumber header get line number getlinenumber header get lines span getlinesspan i region iregion line region lineregion f text document ftextdocument get line information getlineinformation string line str linestr f text document ftextdocument line region lineregion get offset getoffset line region lineregion get length getlength line str linestr index of indexof value sub string valuesubstring bad location exception badlocationexception ble pde core pdecore log exception logexception ble span mutliple lines longer algorithm i region iregion line region lineregion f text document ftextdocument get line information getlineinformation header get line number getlinenumber string line str linestr f text document ftextdocument line region lineregion get offset getoffset line region lineregion get length getlength header get line number getlinenumber header get line number getlinenumber header get lines span getlinesspan line region lineregion f text document ftextdocument get line information getlineinformation line str linestr f text document ftextdocument line region lineregion get offset getoffset space line region lineregion get length getlength line str linestr index of indexof value sub string valuesubstring bad location exception badlocationexception ble pde core pdecore log exception logexception ble header get line number getlinenumber param document parse manifest parsemanifest i document idocument document i progress monitor iprogressmonitor monitor f headers fheaders hash map hashmap string jar manifest header jarmanifestheader jar manifest header jarmanifestheader header document get number of lines getnumberoflines check canceled checkcanceled monitor i region iregion line info lineinfo document get line information getlineinformation string document line info lineinfo get offset getoffset line info lineinfo get length getlength test lines length charset charset nls charset for name forname nls utf string line delimiter linedelimiter document get line delimiter getlinedelimiter line delimiter linedelimiter nls line delimiter linedelimiter nls byte buffer bytebuffer byte buf bytebuf charset encode byte buf bytebuf limit line delimiter linedelimiter length report pde core messages pdecoremessages bundle error reporter bundleerrorreporter line too long linetoolong compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal parse length empty report pde core messages pdecoremessages bundle error reporter bundleerrorreporter no main section nomainsection compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal flush header f headers fheaders header get name getname to lower case tolowercase header header processing main attributes char at charat previous report pde core messages pdecoremessages bundle error reporter bundleerrorreporter no main section nomainsection compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal header header append substring expecting header header f headers fheaders header get name getname to lower case tolowercase header header colon index of indexof colon colon report pde core messages pdecoremessages bundle error reporter bundleerrorreporter no colon nocolon compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal string header name headername get header name getheadername header name headername report pde core messages pdecoremessages bundle error reporter bundleerrorreporter invalid header name invalidheadername compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal length colon char at charat colon report pde core messages pdecoremessages bundle error reporter bundleerrorreporter no space value nospacevalue compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal nls equals header name headername report pde core messages pdecoremessages bundle error reporter bundleerrorreporter name header in main nameheaderinmain compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal header jar manifest header jarmanifestheader header name headername substring colon f headers fheaders contains key containskey header get name getname to lower case tolowercase report pde core messages pdecoremessages bundle error reporter bundleerrorreporter duplicate header duplicateheader compiler flags compilerflags warning pde marker factory pdemarkerfactory cat header lingering header terminated i marker imarker marker report pde core messages pdecoremessages bundle error reporter bundleerrorreporter no line termination nolinetermination compiler flags compilerflags error pde marker factory pdemarkerfactory termination pde marker factory pdemarkerfactory cat fatal marker check purely whitespace add marker i region iregion line info lineinfo document get line information getlineinformation document get number of lines getnumberoflines string document line info lineinfo get offset getoffset line info lineinfo get length getlength marker set attribute setattribute pde marker factory pdemarkerfactory attr content nls matches core exception coreexception empty lines mistake report document get number of lines getnumberoflines i region iregion line info lineinfo document get line information getlineinformation string document line info lineinfo get offset getoffset line info lineinfo get length getlength length nls starts with startswith report pde core messages pdecoremessages bundle error reporter bundleerrorreporter no name header nonameheader compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal bad location exception badlocationexception ble pde core pdecore log exception logexception ble report illegal attribute value reportillegalattributevalue i header iheader header string key string string msg nls bind pde core messages pdecoremessages bundle error reporter bundleerrorreporter att string key report nls msg nls get line getline header key nls compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal report illegal value reportillegalvalue i header iheader header string string msg nls bind pde core messages pdecoremessages bundle error reporter bundleerrorreporter illegal report msg get line getline header compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal report illegal directive value reportillegaldirectivevalue i header iheader header string key string string msg nls bind pde core messages pdecoremessages bundle error reporter bundleerrorreporter dir string key nls report msg get line getline header key compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal validate attribute value validateattributevalue i header iheader header manifest element manifestelement element string key string allowed values allowedvalues string element get attribute getattribute key allowed values allowedvalues length allowed values allowedvalues equals report illegal attribute value reportillegalattributevalue header key validate boolean attribute value validatebooleanattributevalue i header iheader header manifest element manifestelement element string key validate attribute value validateattributevalue header element key values validate boolean directive value validatebooleandirectivevalue i header iheader header manifest element manifestelement element string key validate directive value validatedirectivevalue header element key values validate boolean value validatebooleanvalue i header iheader header validate header value validateheadervalue header values override validate i progress monitor iprogressmonitor monitor f text document ftextdocument parse manifest parsemanifest f text document ftextdocument monitor validate directive value validatedirectivevalue i header iheader header manifest element manifestelement element string key string allowed values allowedvalues string element get directive getdirective key allowed values allowedvalues length allowed values allowedvalues equals report illegal directive value reportillegaldirectivevalue header key validate header value validateheadervalue i header iheader header string allowed values allowedvalues manifest element manifestelement elements header get elements getelements elements length allowed values allowedvalues length allowed values allowedvalues equals elements get value getvalue report illegal value reportillegalvalue header elements get value getvalue i header iheader validate required header validaterequiredheader string i header iheader header f headers fheaders to lower case tolowercase header report nls bind pde core messages pdecoremessages bundle error reporter bundleerrorreporter header missing headermissing compiler flags compilerflags error pde marker factory pdemarkerfactory cat fatal header i header iheader get header getheader string key f headers fheaders key to lower case tolowercase check canceled checkcanceled i progress monitor iprogressmonitor monitor operation canceled exception operationcanceledexception monitor is canceled iscanceled operation canceled exception operationcanceledexception
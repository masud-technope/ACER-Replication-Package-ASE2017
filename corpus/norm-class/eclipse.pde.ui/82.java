copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core java org dom xml print handler xmlprinthandler print xml file nls string xml comment tag nls string xml comment tag nls string xml head xml version encoding nls string xml head tag nls string xml dbl quotes nls string xml space nls string xml tag nls string xml tag nls string xml equal nls string xml slash nls string xml indent string generate indent generateindent level string buffer stringbuffer buffer string buffer stringbuffer level buffer append xml indent buffer to string tostring print begin element printbeginelement writer xml writer xmlwriter string element string elementstring string indent terminate io exception ioexception string buffer stringbuffer temp string buffer stringbuffer indent temp append xml tag temp append element string elementstring terminate temp append xml slash temp append xml tag nls temp append xml writer xmlwriter write temp to string tostring print end element printendelement writer xml writer xmlwriter string element string elementstring string indent io exception ioexception string buffer stringbuffer temp string buffer stringbuffer indent temp append xml tag nls temp append xml slash append element string elementstring append xml tag append xml writer xmlwriter write temp to string tostring print text printtext writer xml writer xmlwriter string text string indent io exception ioexception string buffer stringbuffer temp string buffer stringbuffer indent temp append encode text to string tostring nls temp append xml writer xmlwriter write temp to string tostring print comment printcomment writer xml writer xmlwriter string comment string indent io exception ioexception nls string buffer stringbuffer temp string buffer stringbuffer temp append indent temp append xml comment tag nls temp append encode comment to string tostring append xml comment tag append xml writer xmlwriter write temp to string tostring print head printhead writer xml writer xmlwriter string encoding io exception ioexception string buffer stringbuffer temp string buffer stringbuffer xml head nls temp append encoding append xml dbl quotes append xml head tag append xml writer xmlwriter write temp to string tostring string wrap attribute for print wrapattributeforprint string attribute string string buffer stringbuffer temp string buffer stringbuffer xml space temp append attribute append xml equal append xml dbl quotes append encode to string tostring append xml dbl quotes temp to string tostring string wrap attribute wrapattribute string attribute string string buffer stringbuffer buffer string buffer stringbuffer xml space buffer append attribute buffer append xml equal buffer append xml dbl quotes buffer append buffer append xml dbl quotes buffer to string tostring print node printnode writer xml writer xmlwriter node node string encoding string indent io exception ioexception node node get node type getnodetype node document node print head printhead xml writer xmlwriter encoding print node printnode xml writer xmlwriter document node get document element getdocumentelement encoding indent node element node attribute list node string buffer stringbuffer temp element string tempelementstring string buffer stringbuffer node get node name getnodename name d node map namednodemap attribute list attributelist node get attributes getattributes attribute list attributelist attribute list attributelist get length getlength node attribute attribute list attributelist item temp element string tempelementstring append wrap attribute for print wrapattributeforprint attribute get node name getnodename attribute get node value getnodevalue recursively child nodes node list nodelist child nodes childnodes node get child nodes getchildnodes length child nodes childnodes get length getlength print begin element printbeginelement xml writer xmlwriter temp element string tempelementstring to string tostring indent length length print node printnode nls xml writer xmlwriter nls child nodes childnodes item nls encoding nls indent length print end element printendelement xml writer xmlwriter node get node name getnodename indent node text node xml writer xmlwriter write encode node get node value getnodevalue to string tostring nls unsupported operation exception unsupportedoperationexception nls unsupported xml node type string buffer stringbuffer encode string string buffer stringbuffer buf string buffer stringbuffer length char at charat nls buf append nls amp nls buf append nls nls buf append nls nls buf append nls apos nls buf append nls quot buf append buf write file writefile document doc file file io exception ioexception writer writer output stream outputstream file output stream fileoutputstream file nls writer output stream writer outputstreamwriter utf nls nls xml print handler xmlprinthandler print node printnode writer doc utf writer writer close io exception ioexception close io exception ioexception
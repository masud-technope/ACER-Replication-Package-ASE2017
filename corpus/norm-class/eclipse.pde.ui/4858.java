copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal editor toc java print writer printwriter java string writer stringwriter java util array list arraylist java util iterator org eclipse jface viewers i structured selection istructuredselection org eclipse pde internal core toc text toc object tocobject org eclipse pde internal editor model data transfer modeldatatransfer org eclipse swt dnd dnd org eclipse swt dnd drag source event dragsourceevent org eclipse swt dnd drag source listener dragsourcelistener org eclipse swt dnd text transfer texttransfer toc drag adapter tocdragadapter drag behaviour toc tree toc drag adapter tocdragadapter drag source listener dragsourcelistener toc tree dragged toc tree section toctreesection f section fsection dragged items array list arraylist f dragged items fdraggeditems constructs drag adapter selection provider toc tree section toctreesection param provider provider dragged items param handle removal toc drag adapter tocdragadapter toc tree section toctreesection f section fsection javadoc org eclipse swt dnd drag source listener dragsourcelistener drag start dragstart org eclipse swt dnd drag source event dragsourceevent drag start dragstart drag source event dragsourceevent event event enabled selection drag event doit event doit f section fsection get selection getselection is empty isempty javadoc org eclipse swt dnd drag source listener dragsourcelistener drag set data dragsetdata org eclipse swt dnd drag source event dragsourceevent drag set data dragsetdata drag source event dragsourceevent event check drag enabled event doit i structured selection istructuredselection sel i structured selection istructuredselection f section fsection get selection getselection expected data text write selection text transfer texttransfer get instance getinstance is supported type issupportedtype event data type datatype xml representation string writer stringwriter string writer stringwriter print writer printwriter writer print writer printwriter write xml representation selected object iterator iter sel iterator iter has next hasnext object obj iter obj toc object tocobject nls toc object tocobject obj write nls nls writer event drag object string event data to string tostring array dragged items drag ging dragging string f dragged items fdraggeditems model data transfer modeldatatransfer get instance getinstance is supported type issupportedtype event data type datatype drag ging dragging items model f dragged items fdraggeditems get selected objects getselectedobjects sel toc object tocobject selected objects selectedobjects toc object tocobject f dragged items fdraggeditems to array toarray toc object tocobject f dragged items fdraggeditems size disable drag items selected selected objects selectedobjects length event doit event drag object selection event data selected objects selectedobjects param selection selection place array list arraylist array list arraylist removable toc objects tocobjects selection array list arraylist get selected objects getselectedobjects i structured selection istructuredselection selection array list arraylist objects array list arraylist iterator iter selection iterator iter has next hasnext object obj iter object removable toc object tocobject add obj toc object tocobject toc object tocobject obj can be removed canberemoved objects add obj object removable toc object tocobject don per mit permit drag empty list array list arraylist objects javadoc org eclipse swt dnd drag source listener dragsourcelistener drag finished dragfinished org eclipse swt dnd drag source event dragsourceevent drag finished dragfinished drag source event dragsourceevent event event detail dnd drop move f dragged items fdraggeditems f section fsection handle drag handledrag f dragged items fdraggeditems f dragged items fdraggeditems array list arraylist get dragged elements getdraggedelements f dragged items fdraggeditems
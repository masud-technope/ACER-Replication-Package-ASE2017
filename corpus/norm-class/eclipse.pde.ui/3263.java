copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core build ers builders java util hash map hashmap java util hash set hashset org eclipse pde internal core ischema org dom xml element proposal computer xmlelementproposalcomputer element occurence checker elementoccurencechecker param s element selement param element elements level children code element code violate max occurence rules defined code s element selement code hash set hashset element occurrence result elementoccurrenceresult find max occurence violations findmaxoccurenceviolations i schema element ischemaelement s element selement element element calculate number occurrences xml tag node direct children hash map hashmap string integer tag name map tagnamemap count children by tag name countxmlchildrenbytagname element process children max processchildrenmax s element selement tag name map tagnamemap element param s element selement param element elements level children code element code violate min occurence rules defined code s element selement code hash set hashset element occurrence result elementoccurrenceresult find min occurence violations findminoccurenceviolations i schema element ischemaelement s element selement element element calculate number occurrences xml tag node direct children hash map hashmap string integer tag name map tagnamemap count children by tag name countxmlchildrenbytagname element process children min processchildrenmin s element selement tag name map tagnamemap param element hash singleton entries node children mapped number occurrences key children xml tag number occurrences siblings hash map hashmap string integer count children by tag name countxmlchildrenbytagname element element node list nodelist children element get child nodes getchildnodes hash map hashmap string integer tag name map tagnamemap hash map hashmap string integer children get length getlength node child children item child get node type getnodetype node element node string key child get node name getnodename tag name map tagnamemap contains key containskey key tag name map tagnamemap key int value intvalue tag name map tagnamemap key integer tag name map tagnamemap key integer tag name map tagnamemap hash set hashset element occurrence result elementoccurrenceresult process children max processchildrenmax i schema element ischemaelement s element selement hash map hashmap string integer tag name map tagnamemap element element hash set hashset element occurrence result elementoccurrenceresult element set elementset hash set hashset element occurrence result elementoccurrenceresult element compositor i schema compositor ischemacompositor compositor i schema complex type ischemacomplextype s element selement get type gettype get compositor getcompositor track multiplicity multiplicity tracker multiplicitytracker process compositor process compositor max processcompositormax compositor element set elementset tag name map tagnamemap multiplicity tracker multiplicitytracker element element set elementset hash set hashset element occurrence result elementoccurrenceresult process children min processchildrenmin i schema element ischemaelement s element selement hash map hashmap string integer tag name map tagnamemap hash set hashset element occurrence result elementoccurrenceresult element set elementset hash set hashset element occurrence result elementoccurrenceresult element compositor i schema compositor ischemacompositor compositor i schema complex type ischemacomplextype s element selement get type gettype get compositor getcompositor track multiplicity multiplicity tracker multiplicitytracker process compositor process compositor min processcompositormin compositor element set elementset tag name map tagnamemap multiplicity tracker multiplicitytracker element set elementset process compositor min processcompositormin i schema compositor ischemacompositor compositor hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker supported compositor compositor get kind getkind i schema compositor ischemacompositor choice process choice min processchoicemin compositor element set elementset siblings multiplicity tracker multiplicitytracker compositor get kind getkind i schema compositor ischemacompositor sequence process sequence min processsequencemin compositor element set elementset siblings multiplicity tracker multiplicitytracker process compositor max processcompositormax i schema compositor ischemacompositor compositor hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker element element supported compositor compositor get kind getkind i schema compositor ischemacompositor choice process choice max processchoicemax compositor element set elementset siblings multiplicity tracker multiplicitytracker element compositor get kind getkind i schema compositor ischemacompositor sequence process sequence max processsequencemax compositor element set elementset siblings multiplicity tracker multiplicitytracker element process sequence min processsequencemin i schema compositor ischemacompositor compositor hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker i schema object ischemaobject schema object schemaobject compositor get children getchildren unbounded min occurs represented maximum int eger integer multiplicity tracker multiplicitytracker integer max multiply min occurs amount multiplicity multiplicity tracker multiplicitytracker compositor get min occurs getminoccurs multiplicity tracker multiplicitytracker process compositors children compositor get child count getchildcount process object min processobjectmin schema object schemaobject element set elementset siblings multiplicity tracker multiplicitytracker process sequence max processsequencemax i schema compositor ischemacompositor compositor hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker element element i schema object ischemaobject schema object schemaobject compositor get children getchildren unbounded max occurs represented maximum int eger integer multiplicity tracker multiplicitytracker integer max multiply max occurs amount multiplicity multiplicity tracker multiplicitytracker compositor get max occurs getmaxoccurs multiplicity tracker multiplicitytracker process compositors children compositor get child count getchildcount process object max processobjectmax schema object schemaobject element set elementset siblings multiplicity tracker multiplicitytracker element process choice min processchoicemin i schema compositor ischemacompositor compositor hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker unbounded min occurs represented maximum int eger integer multiplicity tracker multiplicitytracker integer max multiply min occurs amount multiplicity multiplicity tracker multiplicitytracker compositor get min occurs getminoccurs multiplicity tracker multiplicitytracker adjust choice min siblings adjustchoiceminsiblings compositor siblings i schema object ischemaobject schema object schemaobject compositor get children getchildren process compositors children compositor get child count getchildcount process object min processobjectmin schema object schemaobject element set elementset siblings multiplicity tracker multiplicitytracker process choice max processchoicemax i schema compositor ischemacompositor compositor hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker element element unbounded max occurs represented maximum int eger integer multiplicity tracker multiplicitytracker integer max multiply max occurs amount multiplicity multiplicity tracker multiplicitytracker compositor get max occurs getmaxoccurs multiplicity tracker multiplicitytracker adjust choice max siblings adjustchoicemaxsiblings compositor siblings i schema object ischemaobject schema object schemaobject compositor get children getchildren process compositors children compositor get child count getchildcount process object max processobjectmax schema object schemaobject element set elementset siblings multiplicity tracker multiplicitytracker element adjust choice max siblings adjustchoicemaxsiblings i schema compositor ischemacompositor compositor hash map hashmap string integer siblings is simple choice issimplechoice compositor supported update child element occurrences choice compositor number occurrences choice occurrence counts occurrence child elements choice child element count childelementcount count choice element children countchoiceelementchildren compositor siblings update choice element children updatechoiceelementchildren compositor siblings child element count childelementcount supported child choice element sequence choice supported recursively calculate time benefit worth remove elements nested compositors validation check setting occurrences int eger integer min update choice element children updatechoiceelementchildren compositor siblings integer min is simple choice issimplechoice i schema compositor ischemacompositor compositor i schema object ischemaobject schema object schemaobject compositor get children getchildren compositors children compositor get child count getchildcount schema object schemaobject i schema compositor ischemacompositor adjust choice min siblings adjustchoiceminsiblings i schema compositor ischemacompositor compositor hash map hashmap string integer siblings is simple choice issimplechoice compositor supported update child element occurrences choice compositor number occurrences choice occurrence counts occurrence child elements choice child element count childelementcount count choice element children countchoiceelementchildren compositor siblings update choice element children updatechoiceelementchildren compositor siblings child element count childelementcount supported child choice element sequence choice supported recursively caculate time benefit worth remove elements nested compositors validation check setting occurrences int eger integer max update choice element children updatechoiceelementchildren compositor siblings integer max count choice element children countchoiceelementchildren i schema compositor ischemacompositor compositor hash map hashmap string integer siblings i schema object ischemaobject schema object schemaobject compositor get children getchildren count number child element occurrences choice compositor child element count childelementcount compositor get child count getchildcount schema object schemaobject i schema element ischemaelement string schema object schemaobject get name getname siblings contains key containskey occurences siblings int value intvalue child element count childelementcount integer max child element count childelementcount child element count childelementcount occurences child element count childelementcount update choice element children updatechoiceelementchildren i schema compositor ischemacompositor compositor hash map hashmap string integer siblings child element count childelementcount i schema object ischemaobject schema object schemaobject compositor get children getchildren compositor get child count getchildcount schema object schemaobject i schema element ischemaelement string schema object schemaobject get name getname siblings integer child element count childelementcount schema object schemaobject i schema compositor ischemacompositor update choice element children updatechoiceelementchildren i schema compositor ischemacompositor schema object schemaobject siblings child element count childelementcount process object max processobjectmax i schema object ischemaobject schema object schemaobject hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker element element schema object schemaobject i schema element ischemaelement i schema element ischemaelement schema element schemaelement i schema element ischemaelement schema object schemaobject element child element childelement find child element findchildelement element schema element schemaelement get name getname child element childelement process element max processelementmax schema element schemaelement element set elementset siblings multiplicity tracker multiplicitytracker child element childelement schema object schemaobject i schema compositor ischemacompositor i schema compositor ischemacompositor s compositor scompositor i schema compositor ischemacompositor schema object schemaobject process compositor max processcompositormax s compositor scompositor element set elementset siblings multiplicity tracker multiplicitytracker element process object min processobjectmin i schema object ischemaobject schema object schemaobject hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker schema object schemaobject i schema element ischemaelement i schema element ischemaelement schema element schemaelement i schema element ischemaelement schema object schemaobject process element min processelementmin schema element schemaelement element set elementset siblings multiplicity tracker multiplicitytracker schema object schemaobject i schema compositor ischemacompositor i schema compositor ischemacompositor s compositor scompositor i schema compositor ischemacompositor schema object schemaobject process compositor min processcompositormin s compositor scompositor element set elementset siblings multiplicity tracker multiplicitytracker process element max processelementmax i schema element ischemaelement schema element schemaelement hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker element element occurrences string schema element schemaelement get name getname determine number occurrences element siblings contains key containskey occurrences siblings schema element schemaelement get name getname int value intvalue determine elements max occurrences resp ected respected multiplicity tracker multiplicitytracker integer max multiplicity tracker multiplicitytracker schema element schemaelement get max occurs getmaxoccurs multiplicity tracker multiplicitytracker simple occurrences multiplicity tracker multiplicitytracker element set elementset add element occurrence result elementoccurrenceresult element schema element schemaelement occurrences multiplicity tracker multiplicitytracker process element min processelementmin i schema element ischemaelement schema element schemaelement hash set hashset element occurrence result elementoccurrenceresult element set elementset hash map hashmap string integer siblings multiplicity tracker multiplicitytracker occurrences string schema element schemaelement get name getname determine number occurrences element siblings contains key containskey occurrences siblings schema element schemaelement get name getname int value intvalue determine elements min occurrences resp ected respected multiplicity tracker multiplicitytracker integer max multiplicity tracker multiplicitytracker schema element schemaelement get min occurs getminoccurs multiplicity tracker multiplicitytracker simple occurrences multiplicity tracker multiplicitytracker element set elementset add element occurrence result elementoccurrenceresult schema element schemaelement occurrences multiplicity tracker multiplicitytracker element find child element findchildelement element element string node list nodelist children element get child nodes getchildnodes element match children get length getlength node child children item child get node type getnodetype node element node string key child get node name getnodename key equals matching element occurrence exp ense expense performance order flag element exc eeding exceeding allowed maximum occurrence match element child match
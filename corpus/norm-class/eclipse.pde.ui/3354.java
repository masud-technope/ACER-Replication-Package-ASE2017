copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation johannes ahlers johannes ahlers gmx bug org eclipse pde internal wizards imports java file java i o exception ioexception java util java util list java util map entry java util zip zip exception zipexception java util zip zip file zipfile org eclipse core resources org eclipse core runtime org eclipse core runtime jobs job org eclipse jdt core org eclipse jface dialogs i dialog constants idialogconstants org eclipse jface dialogs message dialog messagedialog org eclipse jface window window org eclipse osgi service resolver bundle description bundledescription org eclipse osgi util manifest element manifestelement org eclipse osgi util nls org eclipse pde core build i build ibuild org eclipse pde core build i build entry ibuildentry org eclipse pde core plugin org eclipse pde internal core org eclipse pde internal core build workspace build model workspacebuildmodel org eclipse pde internal core bundle workspace bundle model workspacebundlemodel org eclipse pde internal core ibundle i bundle ibundle org eclipse pde internal core natures pde org eclipse pde internal core project pde project pdeproject org eclipse pde internal core util core utility coreutility org eclipse pde internal pde plugin pdeplugin org eclipse pde internal pde ui messages pdeuimessages org eclipse swt swt org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets org eclipse team core org eclipse team core importing provisional i bundle importer ibundleimporter org eclipse org eclipse progress ui job uijob org eclipse wizards data transfer datatransfer org osgi framework bundle exception bundleexception imports plug ins workspace ways plugin binary binary linked source source suppress warnings suppresswarnings restriction plugin import operation pluginimportoperation i bundle importer ibundleimporter api provisional workspace job workspacejob binary binary links source repository nls string source dir src nls string library i plugin model base ipluginmodelbase f models fmodels f import type fimporttype hashtable i project iproject i classpath entry iclasspathentry f project class paths fprojectclasspaths hashtable maps project ids list i working sets iworkingsets map filled determining projects delete map string list i working set iworkingset f project working sets fprojectworkingsets hash map hashmap f force auto build fforceautobuild importing repository map i bundle importer ibundleimporter scm url import description scmurlimportdescription f import descriptions fimportdescriptions find source locations locations code code source location manager sourcelocationmanager f alternate source falternatesource f plugins are in use fpluginsareinuse constructor param models models plug ins param import type importtype types constants binary binary links source param replace query replacequery defines project exists workspace param execution query executionquery defines project requires unsupported execution environment param force auto build forceautobuild force build plugin import operation pluginimportoperation i plugin model base ipluginmodelbase models import type importtype force auto build forceautobuild pde ui messages pdeuimessages import wizard importwizard title f models fmodels models f import type fimporttype import type importtype f force auto build fforceautobuild force auto build forceautobuild sets plug ins imported launched eclipse instance setting force additional check deleting plug param plugins in use pluginsinuse set plugins in use setpluginsinuse plugins in use pluginsinuse f plugins are in use fpluginsareinuse plugins in use pluginsinuse sets source location manager find source attachments importing plug ins active target platform source attachments param alternate source location manager set alternate source setalternatesource source location manager sourcelocationmanager alternate f alternate source falternatesource alternate custom message box warning user projects imported bug removed bug fixed not imported projects warning dialog notimportedprojectswarningdialog message dialog messagedialog list projects imported list string f names of not imported projects fnamesofnotimportedprojects creates warning message dialog message area scroll able scrollable text box list projects supplied param warning message warningmessage warning message dialog param names of not imported projects namesofnotimportedprojects list project names imported not imported projects warning dialog notimportedprojectswarningdialog string warning message warningmessage list string names of not imported projects namesofnotimportedprojects platformui get workbench getworkbench get modal dialog shell provider getmodaldialogshellprovider get shell getshell pde ui messages pdeuimessages import wizard importwizard title warning message warningmessage message dialog messagedialog warning string i dialog constants idialogconstants label f names of not imported projects fnamesofnotimportedprojects names of not imported projects namesofnotimportedprojects override control create custom area createcustomarea composite parent composite composite composite parent swt grid layout gridlayout layout grid layout gridlayout layout num columns numcolumns composite set layout setlayout layout composite set layout data setlayoutdata grid data griddata grid data griddata fill text project text projecttext text parent swt scroll swt scroll swt read swt border project text projecttext set background setbackground parent get display getdisplay get system color getsystemcolor swt color widget background grid data griddata grid data griddata grid data griddata fill horizontal width hint widthhint convert width in chars to pixels convertwidthincharstopixels height hint heighthint convert height in chars to pixels convertheightincharstopixels project text projecttext set layout data setlayoutdata string buffer stringbuffer project list buffer projectlistbuffer string buffer stringbuffer iterator string iterator f names of not imported projects fnamesofnotimportedprojects iterator iterator has next hasnext string project iterator project list buffer projectlistbuffer append project append project text projecttext set text settext project list buffer projectlistbuffer to string tostring composite override i status istatus run in workspace runinworkspace i progress monitor iprogressmonitor monitor core exception coreexception ticks f import type fimporttype repository f import descriptions fimportdescriptions size f models fmodels length sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor ticks multi status multistatus multi status multistatus multi status multistatus pde plugin pdeplugin get plugin id getpluginid i status istatus pde ui messages pdeuimessages import wizard importwizard operation multi problem multiproblem delete conflicting projects deleteconflictingprojects multi status multistatus sub monitor submonitor split sub monitor submonitor is canceled iscanceled status cancel status f import type fimporttype repository list string names of not imported projects namesofnotimportedprojects array list arraylist iterator entry i bundle importer ibundleimporter scm url import description scmurlimportdescription iterator f import descriptions fimportdescriptions entry set entryset iterator iterator has next hasnext entry i bundle importer ibundleimporter scm url import description scmurlimportdescription entry iterator i bundle importer ibundleimporter importer entry get key getkey scm url import description scmurlimportdescription descriptions entry get value getvalue descriptions length i project iproject imported projects importedprojects importer perform import performimport descriptions sub monitor submonitor split imported projects importedprojects imported projects importedprojects length descriptions length array list arraylist string names of imported projects namesofimportedprojects array list arraylist imported projects importedprojects length imported projects importedprojects length names of imported projects namesofimportedprojects add imported projects importedprojects get name getname descriptions length string project name projectname descriptions get project getproject names of imported projects namesofimportedprojects project name projectname names of not imported projects namesofnotimportedprojects add project name projectname names of not imported projects namesofnotimportedprojects size ui job uijob job ui job uijob pde ui messages pdeuimessages plugin import operation pluginimportoperation warning dialog job warningdialogjob override i status istatus runinuithread i progress monitor iprogressmonitor monitor string dialog message dialogmessage names of not imported projects namesofnotimportedprojects size pde ui messages pdeuimessages plugin import operation pluginimportoperation warning dialog message singular warningdialogmessagesingular pde ui messages pdeuimessages plugin import operation pluginimportoperation warning dialog message plural warningdialogmessageplural not imported projects warning dialog notimportedprojectswarningdialog dialog not imported projects warning dialog notimportedprojectswarningdialog dialog message dialogmessage names of not imported projects namesofnotimportedprojects dialog open status status job schedule job join interrupted exception interruptedexception f models fmodels length sub monitor submonitor set task name settaskname nls bind pde ui messages pdeuimessages plugin import operation pluginimportoperation importing plugin f models fmodels get plugin base getpluginbase get id getid import plugin importplugin f models fmodels f import type fimporttype sub monitor submonitor split core exception coreexception multi status multistatus merge get status getstatus sub monitor submonitor is canceled iscanceled set class paths setclasspaths sub monitor submonitor split java model exception javamodelexception status cancel status sub monitor submonitor set task name settaskname pde ui messages pdeuimessages plugin import operation pluginimportoperation class paths classpaths set class paths setclasspaths sub monitor submonitor split java model exception javamodelexception multi status multistatus merge get status getstatus resources plugin resourcesplugin get workspace getworkspace is auto building isautobuilding f force auto build fforceautobuild run build job runbuildjob multi status multistatus existing projects workspace symbolic open dialog user delete projects projects deleted continues individual imports simple search allowed plug param status multi status report problems param monitor progress monitor code code delete conflicting projects deleteconflictingprojects multi status multistatus status i progress monitor iprogressmonitor monitor nls monitor begin task begintask i plugin model base ipluginmodelbase workspace plugins workspaceplugins plugin registry pluginregistry get workspace models getworkspacemodels hash map hashmap string array list arraylist i plugin model base ipluginmodelbase workspace plugin map workspacepluginmap hash map hashmap workspace plugins workspaceplugins length i plugin model base ipluginmodelbase plugin workspace plugins workspaceplugins plugin get bundle description getbundledescription string symbolic name symbolicname plugin get bundle description getbundledescription get symbolic name getsymbolicname array list arraylist i plugin model base ipluginmodelbase plugins with same symbolic name pluginswithsamesymbolicname workspace plugin map workspacepluginmap symbolic name symbolicname plugins with same symbolic name pluginswithsamesymbolicname plugins with same symbolic name pluginswithsamesymbolicname array list arraylist workspace plugin map workspacepluginmap symbolic name symbolicname plugins with same symbolic name pluginswithsamesymbolicname plugins with same symbolic name pluginswithsamesymbolicname add plugin monitor worked array list arraylist i plugin model base ipluginmodelbase conflicting plugins conflictingplugins array list arraylist f models fmodels length f models fmodels get bundle description getbundledescription string symbolic name symbolicname f models fmodels get bundle description getbundledescription get symbolic name getsymbolicname array list arraylist i plugin model base ipluginmodelbase plugins workspace plugin map workspacepluginmap symbolic name symbolicname plugins plugins size conflicting plugins conflictingplugins contains all containsall plugins conflicting plugins conflictingplugins add all addall plugins monitor worked array list arraylist object overwrite project list overwriteprojectlist array list arraylist conflicting plugins conflictingplugins size ui job uijob job ui job uijob pde ui messages pdeuimessages plugin import operation pluginimportoperation overwrite plugin projects overwritepluginprojects override i status istatus runinuithread i progress monitor iprogressmonitor monitor overwrite projects selection dialog overwriteprojectsselectiondialog dialog overwrite projects selection dialog overwriteprojectsselectiondialog get display getdisplay get active shell getactiveshell conflicting plugins conflictingplugins dialog set block on open setblockonopen dialog open window overwrite project list overwriteprojectlist add all addall arrays as list aslist dialog get result getresult status status status cancel status job schedule job join interrupted exception interruptedexception job get result getresult job get result getresult isok monitor set canceled setcanceled monitor worked collect working i working set manager iworkingsetmanager ws manager wsmanager platformui get workbench getworkbench get working set manager getworkingsetmanager i working set iworkingset sets ws manager wsmanager get all working sets getallworkingsets sets length i adaptable iadaptable contents sets get elements getelements contents length i resource iresource resource contents get adapter getadapter i resource iresource resource i project iproject todo list map string i project iproject resource get name getname list i working set iworkingset working sets workingsets f project working sets fprojectworkingsets working sets workingsets working sets workingsets array list arraylist f project working sets fprojectworkingsets working sets workingsets working sets workingsets add sets delete selected projects overwrite project list overwriteprojectlist size i plugin model base ipluginmodelbase plugin i plugin model base ipluginmodelbase overwrite project list overwriteprojectlist monitor set task name settaskname nls bind pde ui messages pdeuimessages plugin import operation pluginimportoperation importing plugin plugin get plugin base getpluginbase get id getid i project iproject project plugin get underlying resource getunderlyingresource get project getproject repository provider repositoryprovider is shared isshared project repository provider repositoryprovider unmap project safe delete check safedeletecheck project monitor status add status i status istatus error pde plugin pdeplugin get plugin id getpluginid nls bind pde ui messages pdeuimessages plugin import operation pluginimportoperation delete project project get name getname delete content deletecontent project get workspace getworkspace get root getroot get location getlocation equals project get location getlocation remove last segments removelastsegments project delete delete content deletecontent monitor core exception coreexception status add status i status istatus error pde plugin pdeplugin get plugin id getpluginid i status istatus nls bind pde ui messages pdeuimessages plugin import operation pluginimportoperation delete project project get name getname monitor worked monitor worked sets raw classpath projects updated param monitor java model exception javamodelexception classpath set class paths setclasspaths i progress monitor iprogressmonitor monitor java model exception javamodelexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor f project class paths fprojectclasspaths size enumeration i project iproject f project class paths fprojectclasspaths has more elements hasmoreelements i project iproject project next element nextelement i classpath entry iclasspathentry classpath f project class paths fprojectclasspaths project sub monitor submonitor sub task subtask project get name getname java core javacore create project set raw classpath setrawclasspath classpath sub monitor submonitor split method starts specific plugin checks execution environment supported checks project exists replaced param model model representing plugin param instructions instructions repository param monitor progress monitor core exception coreexception problem occurs importing plugin import plugin importplugin i plugin model base ipluginmodelbase model import type importtype i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor create project overwrite project exists i project iproject project create project createproject model sub monitor submonitor split project bin bug platform in development mode indevelopmentmode file location file model get install location getinstalllocation location is directory isdirectory file classpath file classpathfile nls file nls location nls classpath file project file projectfile nls file nls location nls project classpath file classpathfile exists classpath file classpathfile is file isfile project file projectfile exists project file projectfile is file isfile plugin import helper pluginimporthelper import content importcontent location project get full path getfullpath file system structure provider filesystemstructureprovider instance sub monitor submonitor split perform map string i path ipath source map sourcemap import type importtype binary import type importtype source can find source canfindsource model source map sourcemap import as binary importasbinary project model sub monitor submonitor split import type importtype binary links source map sourcemap import as binary with links importasbinarywithlinks project model sub monitor submonitor split import type importtype source import as source importassource project model sub monitor submonitor split set project natures setprojectnatures project model classpath nls project has nature hasnature java core javacore nature project find member findmember classpath f project class paths fprojectclasspaths project classpath computer classpathcomputer get classpath getclasspath project model source map sourcemap imports contents plugin imports source files binary files compiled param project destination project param model model representing plugin param monitor progress monitor mapping libraries source locations classpath core exception coreexception problem comp leting completing map string i path ipath import as binary importasbinary i project iproject project i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor plug content file src file srcfile file model get install location getinstalllocation isjard model plugin import helper pluginimporthelper copy archive copyarchive src file srcfile project get file getfile src file srcfile get name getname sub monitor submonitor split plugin import helper pluginimporthelper import content importcontent file model get install location getinstalllocation project get full path getfullpath file system structure provider filesystemstructureprovider instance sub monitor submonitor split source source locations map string i path ipath source map sourcemap import source archives importsourcearchives project model binary sub monitor submonitor split additional source files schema files easy access bug import additional source files importadditionalsourcefiles project model sub monitor submonitor split extract required bundle files modify imported manifest correct classpath import required plugin files importrequiredpluginfiles project model sub monitor submonitor split modify bundle classpath header modifybundleclasspathheader project model mark project binary repository provider repositoryprovider map project pde core pdecore binary repository provider project set persistent property setpersistentproperty pde core pdecore external project property pde core pdecore binary project source map sourcemap creates links remote plugin source locations sets project param project destination project param model model representing plugin param monitor progress monitor mapping library path source library relative project core exception coreexception problem comp leting completing map string i path ipath import as binary with links importasbinarywithlinks i project iproject project i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor link plug content file src file srcfile file model get install location getinstalllocation src file srcfile is file isfile i file ifile dst file dstfile project get file getfile path src file srcfile get name getname dst file dstfile create link createlink src file srcfile touri i resource iresource sub monitor submonitor split i folder ifolder dst file dstfile project get folder getfolder path src file srcfile get name getname dst file dstfile create link createlink src file srcfile touri i resource iresource sub monitor submonitor split link source source locations map string i path ipath source map sourcemap import source archives importsourcearchives project model binary links sub monitor submonitor split additional source files schema files easy access bug import additional source files importadditionalsourcefiles project model sub monitor submonitor split extract required bundle files modify imported manifest correct classpath import required plugin files importrequiredpluginfiles project model sub monitor submonitor split modify bundle classpath header modifybundleclasspathheader project model mark project binary repository provider repositoryprovider map project pde core pdecore binary repository provider project set persistent property setpersistentproperty pde core pdecore external project property pde core pdecore binary project source map sourcemap imports contents plugin imports source files source folders compiled param project destination project param model model representing plugin param monitor progress monitor core exception coreexception problem comp leting completing import as source importassource i project iproject project i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor extract source track build entries locations workspace build model workspacebuildmodel build model buildmodel workspace build model workspacebuildmodel pde project pdeproject get build properties getbuildproperties project maps path src folder map i path ipath i path ipath package locations packagelocations hash map hashmap source found sourcefound extract source folders extractsourcefolders project model build model buildmodel package locations packagelocations sub monitor submonitor split source check source folder src binary plug source found sourcefound source found sourcefound handle internal source handleinternalsource model build model buildmodel package locations packagelocations extract additional java files source bundles import additional source files importadditionalsourcefiles project model sub monitor submonitor split locations map files belong directory structure proper source directory isjard model sub monitor submonitor iteration monitor iterationmonitor sub monitor submonitor split zip file zipfile zip zip zip file zipfile file model get install location getinstalllocation zip file structure provider zipfilestructureprovider provider zip file structure provider zipfilestructureprovider zip map i path ipath list object collected hash map hashmap plugin import helper pluginimporthelper collect binary files collectbinaryfiles provider provider get root getroot package locations packagelocations collected iteration monitor iterationmonitor set work remaining setworkremaining collected size iterator i path ipath iterator collected key set keyset iterator iterator has next hasnext i path ipath current destination currentdestination iterator i path ipath destination project get full path getfullpath destination destination append current destination currentdestination plugin import helper pluginimporthelper import content importcontent provider get root getroot destination provider collected current destination currentdestination iteration monitor iterationmonitor split zip zip close sub monitor submonitor iteration monitor iterationmonitor sub monitor submonitor split map i path ipath list object collected hash map hashmap file src file srcfile file model get install location getinstalllocation plugin import helper pluginimporthelper collect binary files collectbinaryfiles file system structure provider filesystemstructureprovider instance src file srcfile package locations packagelocations collected iteration monitor iterationmonitor set work remaining setworkremaining collected size iterator i path ipath iterator collected key set keyset iterator iterator has next hasnext i path ipath current destination currentdestination iterator i path ipath destination project get full path getfullpath destination destination append current destination currentdestination plugin import helper pluginimporthelper import content importcontent src file srcfile destination file system structure provider filesystemstructureprovider instance collected current destination currentdestination iteration monitor iterationmonitor split source bundle pre configured build properties file overwrite generated file bug pde project pdeproject get build properties getbuildproperties project exists configure bin includes configurebinincludes build model buildmodel model project build model buildmodel save sub monitor submonitor worked zip exception zipexception i status istatus status status i status istatus error pde plugin pdeplugin get plugin id getpluginid i status istatus error get message getmessage core exception coreexception status i o exception ioexception i status istatus status status i status istatus error pde plugin pdeplugin get plugin id getpluginid i status istatus error get message getmessage core exception coreexception status creates project add workspace project exists workspace user overwrite code code project created user chooses overwrite param model plug imported param monitor progress monitor project code code project created overwritten team exception teamexception existing project shared error occurs disconnecting core exception coreexception error occurs working project i project iproject create project createproject i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor team exception teamexception core exception coreexception nls monitor begin task begintask i project iproject project find project findproject model get plugin base getpluginbase get id getid project exists file project get parent getparent get location getlocation to file tofile project get name getname exists project pde plugin pdeplugin get workspace getworkspace get root getroot get project getproject model get plugin base getpluginbase get id getid project exists file install location installlocation file model get install location getinstalllocation string project name projectname install location installlocation get name getname jar index jarindex nls project name projectname to lower case tolowercase last index of lastindexof nls jar jar index jarindex project name projectname project name projectname substring jar index jarindex project pde plugin pdeplugin get workspace getworkspace get root getroot get project getproject project name projectname project exists project pde plugin pdeplugin get workspace getworkspace get root getroot get project getproject project name projectname project create monitor project is open isopen project open monitor previous project belonged working sets add project list i working set iworkingset working sets workingsets f project working sets fprojectworkingsets project get name getname working sets workingsets iterator i working set iworkingset iterator working sets workingsets iterator iterator has next hasnext i working set iworkingset iterator i adaptable iadaptable new element newelement project i adaptable iadaptable project adaptables projectadaptables adapt elements adaptelements i adaptable iadaptable project project adaptables projectadaptables length new element newelement project adaptables projectadaptables i adaptable iadaptable current elements currentelements get elements getelements i adaptable iadaptable new elements newelements i adaptable iadaptable current elements currentelements length system arraycopy current elements currentelements new elements newelements current elements currentelements length new elements newelements current elements currentelements length new element newelement set elements setelements new elements newelements monitor worked project i project iproject find project findproject string i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel model i resource iresource resource model get underlying resource getunderlyingresource resource resource exists resource get project getproject pde plugin pdeplugin get workspace getworkspace get root getroot get project getproject returns safe delete project safe delete libraries locked running launch configuration param project project test param monitor progress monitor safe delete project safe delete check safedeletecheck i project iproject project i progress monitor iprogressmonitor monitor f plugins are in use fpluginsareinuse i plugin model base ipluginmodelbase base plugin registry pluginregistry find model findmodel project base i plugin library ipluginlibrary libraries base get plugin base getpluginbase get libraries getlibraries libraries length i resource iresource res project find member findmember libraries get name getname res resources plugin resourcesplugin get workspace getworkspace delete i resource iresource res monitor isok core exception coreexception checks source location model param model model lookup source source library can find source canfindsource i plugin model base ipluginmodelbase model check manager source get source manager getsourcemanager model check source binary plug zip file zipfile zip i import structure provider iimportstructureprovider provider object root isjard model zip zip file zipfile file model get install location getinstalllocation provider zip file structure provider zipfilestructureprovider zip root zip file structure provider zipfilestructureprovider provider get root getroot provider file system structure provider filesystemstructureprovider instance root file model get install location getinstalllocation list children provider get children getchildren root iterator iterator children iterator iterator has next hasnext string label provider get label getlabel iterator label equals source dir i o exception ioexception zip zip close i o exception ioexception pde plugin pdeplugin get source location manager getsourcelocationmanager checks alternate source manager source plug alternate source manager importing location active target platform source location method returns code code sep erate seperate source feature bundle source stored int ernally internally plug relevant source manager source plug code code separate source source location manager sourcelocationmanager get source manager getsourcemanager i plugin model base ipluginmodelbase model check alternate source manager f alternate source falternatesource check source bundle f alternate source falternatesource has bundle manifest location hasbundlemanifestlocation model get plugin base getpluginbase f alternate source falternatesource check style source plug string libraries get library names getlibrarynames model libraries length string zip name zipname classpath util core classpathutilcore get source zip name getsourcezipname libraries i path ipath src path srcpath f alternate source falternatesource find source path findsourcepath model get plugin base getpluginbase path zip name zipname src path srcpath f alternate source falternatesource check pde source manager source location manager sourcelocationmanager manager pde core pdecore get default getdefault get source location manager getsourcelocationmanager check source bundle manager has bundle manifest location hasbundlemanifestlocation model get plugin base getpluginbase manager check style source plug string libraries get library names getlibrarynames model libraries length string zip name zipname classpath util core classpathutilcore get source zip name getsourcezipname libraries i path ipath src path srcpath manager find source path findsourcepath model get plugin base getpluginbase path zip name zipname src path srcpath manager starts job build workspace run build job runbuildjob job build job buildjob job pde ui messages pdeuimessages comp ilers configuration block compilersconfigurationblock building override belongs to belongsto object family resources plugin resourcesplugin family auto build family override i status istatus i progress monitor iprogressmonitor monitor pde plugin pdeplugin get workspace getworkspace build incremental project builder incrementalprojectbuilder incremental build monitor core exception coreexception status status build job buildjob set rule setrule resources plugin resourcesplugin get workspace getworkspace get rule factory getrulefactory build rule buildrule build job buildjob schedule imports source archives required project copying linking based mode constant passed method binary binary links param project project destination param model model importing param mode binary copies source mport binary links links source param monitor progress monitor mapping library source location core exception coreexception problems importing archive map string i path ipath import source archives importsourcearchives i project iproject project i plugin model base ipluginmodelbase model mode i progress monitor iprogressmonitor monitor core exception coreexception string libraries get library names getlibrarynames model sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor pde ui messages pdeuimessages import wizard importwizard operation importing source importingsource libraries length map string i path ipath source map sourcemap hash map hashmap libraries length source location manager sourcelocationmanager manager get source manager getsourcemanager model manager libraries length sub monitor submonitor set work remaining setworkremaining libraries length string zip name zipname classpath util core classpathutilcore get source zip name getsourcezipname libraries i plugin base ipluginbase plugin base pluginbase model get plugin base getpluginbase check locations i path ipath src path srcpath manager find source path findsourcepath plugin base pluginbase path zip name zipname src path srcpath zip name zipname src path srcpath last segment lastsegment i path ipath dst path dstpath path zip name zipname source map sourcemap libraries dst path dstpath project find member findmember dst path dstpath mode binary plugin import helper pluginimporthelper copy archive copyarchive file src path srcpath toosstring project get file getfile dst path dstpath sub monitor submonitor split mode binary links i file ifile dst file dstfile project get file getfile dst path dstpath dst file dstfile create link createlink src path srcpath i resource iresource sub monitor submonitor split source map sourcemap source locations plug imports source library source root extracted source folder project build model source entries returned param project destination project param model plug imported param build model buildmodel workspace build model entries created source folder param package locations packagelocations map updated locations path source fold e r folder param monitor progress monitor source location core exception coreexception problem extra cting extracting source creating build entry extract source folders extractsourcefolders i project iproject project i plugin model base ipluginmodelbase model workspace build model workspacebuildmodel build model buildmodel map i path ipath i path ipath package locations packagelocations i progress monitor iprogressmonitor monitor core exception coreexception string libraries get library names getlibrarynames model sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor pde ui messages pdeuimessages import wizard importwizard operation importing source importingsource libraries length source location manager sourcelocationmanager manager get source manager getsourcemanager model manager check style individual source bundles manager has bundle manifest location hasbundlemanifestlocation model get plugin base getpluginbase file src file srcfile manager find source plugin findsourceplugin model get plugin base getpluginbase string source roots sourceroots manager find source roots findsourceroots model get plugin base getpluginbase libraries length libraries equals library pull java source source root i resource iresource destination project get folder getfolder source dir destination exists list i path ipath exclude folders excludefolders array list arraylist source roots sourceroots size iterator string iterator source roots sourceroots iterator iterator has next hasnext string root iterator root equals library exclude folders excludefolders add path root i path ipath collected packages collectedpackages hash set hashset plugin import helper pluginimporthelper extract java source from archive extractjavasourcefromarchive src file srcfile exclude folders excludefolders destination get full path getfullpath collected packages collectedpackages sub monitor submonitor split nls nls add build entry addbuildentry build model buildmodel source library source dir add package entries addpackageentries collected packages collectedpackages path source dir package locations packagelocations source roots sourceroots get source dir name getsourcedirname libraries i path ipath source dir sourcedir path get source dir name getsourcedirname libraries project get folder getfolder source dir sourcedir exists i path ipath collected packages collectedpackages hash set hashset plugin import helper pluginimporthelper extract folder from archive extractfolderfromarchive src file srcfile source dir sourcedir project get full path getfullpath collected packages collectedpackages sub monitor submonitor split add build entry addbuildentry nls build model buildmodel nls source libraries nls source dir sourcedir to string tostring add package entries addpackageentries collected packages collectedpackages source dir sourcedir package locations packagelocations style zips folders determine source zip location extract project source found sourcefound libraries length string zip name zipname classpath util core classpathutilcore get source zip name getsourcezipname libraries i path ipath src path srcpath manager find source path findsourcepath model get plugin base getpluginbase path zip name zipname src path srcpath source found sourcefound i path ipath dst path dstpath path get source dir name getsourcedirname libraries i resource iresource destination project get folder getfolder dst path dstpath destination exists i path ipath collected packages collectedpackages hash set hashset plugin import helper pluginimporthelper extract archive extractarchive file src path srcpath toosstring destination get full path getfullpath collected packages collectedpackages sub monitor submonitor split add build entry addbuildentry nls build model buildmodel nls source libraries nls dst path dstpath to string tostring add package entries addpackageentries collected packages collectedpackages dst path dstpath package locations packagelocations source found sourcefound binary plug source package d packaged src directory build model locations updated method source handled binary plug extracted param model plug model imported param build model buildmodel build model update source param package locations packagelocations location map path destination update source source binary plug core exception coreexception zip exception zipexception i o exception ioexception handle internal source handleinternalsource i plugin model base ipluginmodelbase model workspace build model workspacebuildmodel build model buildmodel map i path ipath i path ipath package locations packagelocations core exception coreexception zip exception zipexception i o exception ioexception i import structure provider iimportstructureprovider provider object root i path ipath prefix path prefixpath i path ipath default source path defaultsourcepath path source dir zip file zipfile zip isjard model zip zip file zipfile file model get install location getinstalllocation provider zip file structure provider zipfilestructureprovider zip root zip file structure provider zipfilestructureprovider provider get root getroot prefix path prefixpath default source path defaultsourcepath provider file system structure provider filesystemstructureprovider instance file root file rootfile file model get install location getinstalllocation root root file rootfile prefix path prefixpath path root file rootfile get path getpath append default source path defaultsourcepath array list arraylist object collected array list arraylist plugin import helper pluginimporthelper collect resources from folder collectresourcesfromfolder provider root default source path defaultsourcepath collected collected size i path ipath packages hash set hashset plugin import helper pluginimporthelper collect java packages collectjavapackages provider collected prefix path prefixpath packages add package entries addpackageentries packages default source path defaultsourcepath package locations packagelocations nls nls add build entry addbuildentry build model buildmodel source library source dir zip zip close adds packages location map entry map pointing destination additional parent fragments entries map pointing destination path param packages packages add map param destination destination directory packages belong param package locations packagelocations map add entries add package entries addpackageentries i path ipath packages i path ipath destination map i path ipath i path ipath package locations packagelocations iterator i path ipath iterator packages iterator iterator has next hasnext i path ipath current package currentpackage iterator package locations packagelocations current package currentpackage destination add fragment locations current package currentpackage segment count segmentcount current package currentpackage current package currentpackage remove last segments removelastsegments package locations packagelocations contains key containskey current package currentpackage don overwrite existing entries assume parent entry parents entry package locations packagelocations current package currentpackage destination extra cts extracts additional files folders exist source location param project destination project param model plugin imported param monitor progress monitor core exception coreexception problem importing files import additional source files importadditionalsourcefiles i project iproject project i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor core exception coreexception source location manager sourcelocationmanager manager get source manager getsourcemanager model manager file source location sourcelocation manager find source plugin findsourceplugin model get plugin base getpluginbase source location sourcelocation source location sourcelocation is file isfile zip file zipfile zip zip zip file zipfile source location sourcelocation zip file structure provider zipfilestructureprovider provider zip file structure provider zipfilestructureprovider zip array list arraylist object collected array list arraylist plugin import helper pluginimporthelper collect non java non build files collectnonjavanonbuildfiles provider provider get root getroot collected plugin import helper pluginimporthelper import content importcontent provider get root getroot project get full path getfullpath provider collected monitor i o exception ioexception i status istatus status status i status istatus error pde plugin pdeplugin get plugin id getpluginid i status istatus error get message getmessage core exception coreexception status zip zip close i o exception ioexception array list arraylist object collected array list arraylist plugin import helper pluginimporthelper collect non java non build files collectnonjavanonbuildfiles file system structure provider filesystemstructureprovider instance source location sourcelocation collected plugin import helper pluginimporthelper import content importcontent source location sourcelocation project get full path getfullpath file system structure provider filesystemstructureprovider instance collected monitor imports files plug created project plug project manifest file extracted param project param model param monitor core exception coreexception problem importing content import required plugin files importrequiredpluginfiles i project iproject project i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor core exception coreexception isjard model zip file zipfile zip zip zip file zipfile file model get install location getinstalllocation zip file structure provider zipfilestructureprovider provider zip file structure provider zipfilestructureprovider zip array list arraylist object collected array list arraylist plugin import helper pluginimporthelper collect required bundle files collectrequiredbundlefiles provider provider get root getroot collected plugin import helper pluginimporthelper import content importcontent provider get root getroot project get full path getfullpath provider collected monitor i o exception ioexception i status istatus status status i status istatus error pde plugin pdeplugin get plugin id getpluginid i status istatus error get message getmessage core exception coreexception status zip zip close i o exception ioexception array list arraylist object collected array list arraylist file file file model get install location getinstalllocation plugin import helper pluginimporthelper collect required bundle files collectrequiredbundlefiles file system structure provider filesystemstructureprovider instance file collected plugin import helper pluginimporthelper import content importcontent file project get full path getfullpath file system structure provider filesystemstructureprovider instance collected monitor string add build entry addbuildentry workspace build model workspacebuildmodel model string key string core exception coreexception i build ibuild build model get build getbuild i build entry ibuildentry entry build get entry getentry key entry entry model get factory getfactory create entry createentry key entry add token addtoken build add entry string tokens entry get tokens gettokens nls tokens length tokens src configure bin includes configurebinincludes workspace build model workspacebuildmodel build model buildmodel i plugin model base ipluginmodelbase model i project iproject project core exception coreexception i build ibuild build build model buildmodel get build getbuild nls i build entry ibuildentry entry build get entry getentry bin includes hash map hashmap string string library dirs librarydirs get source dir ectories getsourcedirectories build entry nls entry build model buildmodel get factory getfactory create entry createentry bin includes file location file model get install location getinstalllocation location is directory isdirectory file files location list files listfiles files length string token files get name getname project find member findmember token build get entry getentry i build entry ibuildentry jar prefix token files is directory isdirectory nls token token library dirs librarydirs contains key containskey token token library dirs librarydirs token to string tostring entry add token addtoken token string tokens plugin import helper pluginimporthelper get top level resources gettoplevelresources location tokens length i resource iresource res project find member findmember tokens res build get entry getentry i build entry ibuildentry jar prefix tokens res i folder ifolder library dirs librarydirs contains key containskey tokens entry add token addtoken tokens build model buildmodel get build getbuild add entry hash map hashmap string string get source dir ectories getsourcedirectories i build ibuild build hash map hashmap string string hash map hashmap i build entry ibuildentry entries build get build entries getbuildentries entries length string entries get name getname starts with startswith i build entry ibuildentry jar prefix substring string tokens entries get tokens gettokens tokens length tokens creates model existing manifest file replacing classpath entry location referenced library removes extra entries sig ning signing headers param project param base modify bundle classpath header modifybundleclasspathheader i project iproject project i plugin model base ipluginmodelbase base i file ifile file pde project pdeproject get manifest getmanifest project file exists workspace bundle model workspacebundlemodel bmodel workspace bundle model workspacebundlemodel file i bundle ibundle bundle bmodel get bundle getbundle string classpath bundle get header getheader org osgi framework constants bundle classpath classpath bundle set header setheader org osgi framework constants bundle classpath classpath util core classpathutilcore get file name getfilename base manifest element manifestelement elements manifest element manifestelement parse header parseheader org osgi framework constants bundle classpath classpath string buffer stringbuffer buffer string buffer stringbuffer elements length buffer length nls buffer append buffer append nls system get property getproperty nls separator nls buffer append nls elements get value getvalue equals nls buffer append classpath util core classpathutilcore get file name getfilename base buffer append elements get value getvalue bundle set header setheader org osgi framework constants bundle classpath buffer to string tostring bundle exception bundleexception bmodel save needs java nature needsjavanature i project iproject project i plugin model base ipluginmodelbase model libraries java nature model get plugin base getpluginbase get libraries getlibraries length plug exports packages requires execution environment java code bundle description bundledescription desc model get bundle description getbundledescription desc desc get execution environments getexecutionenvironments length desc get export packages getexportpackages length build properties file source folder java nature i file ifile build properties buildproperties pde project pdeproject get build properties getbuildproperties project build properties buildproperties exists workspace build model workspacebuildmodel build model buildmodel workspace build model workspacebuildmodel build properties buildproperties build model buildmodel load i build ibuild build build model buildmodel get build getbuild build i build entry ibuildentry build entry buildentry nls build get entry getentry nls source build entry buildentry set project natures setprojectnatures i project iproject project i plugin model base ipluginmodelbase model core exception coreexception i project description iprojectdescription desc project get description getdescription desc has nature hasnature pde plugin nature core utility coreutility add nature to project addnaturetoproject project pde plugin nature desc has nature hasnature java core javacore nature needs java nature needsjavanature project model core utility coreutility add nature to project addnaturetoproject project java core javacore nature list libraries model returns array expanded names add library libraries dev mode target workbench plug host workspace library names replaced bin bug param model list library names string get library names getlibrarynames i plugin model base ipluginmodelbase model i plugin library ipluginlibrary libraries model get plugin base getpluginbase get libraries getlibraries array list arraylist string list array list arraylist libraries length list add classpath util core classpathutilcore expand library name expandlibraryname libraries get name getname libraries length isjard model list add library list to array toarray string list size returns standard source directory library source root library standard destination param library name libraryname source dir string get source dir name getsourcedirname string library name libraryname dot library name libraryname last index of lastindexof dot library name libraryname substring dot source dir library name libraryname returns install location plug jar file folder param model install location jar folder isjard i plugin model base ipluginmodelbase model file model get install location getinstalllocation is file isfile sets descriptions importing repository param descriptions map link i bundle importer ibundleimporter arrays link bundle import description bundleimportdescription set import descriptions setimportdescriptions map i bundle importer ibundleimporter scm url import description scmurlimportdescription descriptions f import descriptions fimportdescriptions descriptions
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal shared target java java util array list arraylist java util list org eclipse core runtime org eclipse core variables variables plugin variablesplugin org eclipse jface viewers org eclipse osgi util nls org eclipse pde core target i target location itargetlocation org eclipse pde internal core i core constants icoreconstants org eclipse pde internal core feature external feature model externalfeaturemodel org eclipse pde internal core ifeature i feature model ifeaturemodel org eclipse pde internal org eclipse swt swt org eclipse swt events selection adapter selectionadapter org eclipse swt events selection event selectionevent org eclipse swt layout grid data griddata org eclipse swt widgets button org eclipse swt widgets composite org eclipse platformui wizard creating feature bundle containers add bundle container wizard addbundlecontainerwizard add bundle container selection page addbundlecontainerselectionpage i target location itargetlocation add feature containers page addfeaturecontainerspage edit directory container page editdirectorycontainerpage button f select all button fselectallbutton button f deselect all button fdeselectallbutton button f include version button fincludeversionbutton checkbox table viewer checkboxtableviewer f feature table ffeaturetable add feature containers page addfeaturecontainerspage nls add feature containers addfeaturecontainers override string get default title getdefaulttitle messages add feature container page addfeaturecontainerpage override string get default message getdefaultmessage messages add feature container page addfeaturecontainerpage override create location area createlocationarea composite parent create location area createlocationarea parent create table area createtablearea parent platformui get workbench getworkbench get help system gethelpsystem set help sethelp parent i help context ids ihelpcontextids location add feature wizard create table area createtablearea composite parent composite table comp tablecomp swt factory swtfactory create composite createcomposite parent grid data griddata fill swt factory swtfactory create label createlabel table comp tablecomp messages add feature containers page addfeaturecontainerspage f feature table ffeaturetable checkbox table viewer checkboxtableviewer new check list newchecklist table comp tablecomp swt border connect label provider pde plugin pdeplugin get default getdefault get label provider getlabelprovider connect f feature table ffeaturetable set label provider setlabelprovider pde plugin pdeplugin get default getdefault get label provider getlabelprovider f feature table ffeaturetable set content provider setcontentprovider array content provider arraycontentprovider f feature table ffeaturetable set sorter setsorter viewer sorter viewersorter grid data griddata data grid data griddata swt fill swt fill data height hint heighthint f feature table ffeaturetable get control getcontrol set layout data setlayoutdata data f feature table ffeaturetable get control getcontrol set font setfont table comp tablecomp get font getfont f feature table ffeaturetable add check state listener addcheckstatelistener i check state listener icheckstatelistener override check state changed checkstatechanged check state changed event checkstatechangedevent event add feature containers page addfeaturecontainerspage check state changed checkstatechanged f feature table ffeaturetable add double click listener adddoubleclicklistener i double click listener idoubleclicklistener override double click doubleclick double click event doubleclickevent event event get selection getselection is empty isempty object selection i structured selection istructuredselection event get selection getselection get first element getfirstelement f feature table ffeaturetable set checked setchecked selection f feature table ffeaturetable get checked getchecked selection check state changed checkstatechanged composite button comp buttoncomp swt factory swtfactory create composite createcomposite table comp tablecomp grid data griddata fill vertical f select all button fselectallbutton swt factory swtfactory create push button createpushbutton button comp buttoncomp messages add feature containers page addfeaturecontainerspage f select all button fselectallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f feature table ffeaturetable set all checked setallchecked check state changed checkstatechanged f deselect all button fdeselectallbutton swt factory swtfactory create push button createpushbutton button comp buttoncomp messages add feature containers page addfeaturecontainerspage f deselect all button fdeselectallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f feature table ffeaturetable set all checked setallchecked check state changed checkstatechanged f include version button fincludeversionbutton swt factory swtfactory create check button createcheckbutton table comp tablecomp messages add feature container page addfeaturecontainerpage updates buttons messages based checked table check state changed checkstatechanged f feature table ffeaturetable get control getcontrol is enabled isenabled count f feature table ffeaturetable get checked elements getcheckedelements length total object f feature table ffeaturetable get input getinput length f select all button fselectallbutton set enabled setenabled count total f deselect all button fdeselectallbutton set enabled setenabled count set page complete setpagecomplete count set error message seterrormessage count messages add feature container page addfeaturecontainerpage f select all button fselectallbutton set enabled setenabled f deselect all button fdeselectallbutton set enabled setenabled set page complete setpagecomplete override container changed containerchanged delay f install location finstalllocation get text gettext trim length resolve variables string location string locationstring variables plugin variablesplugin get default getdefault get string variable manager getstringvariablemanager perform string substitution performstringsubstitution f install location finstalllocation get text gettext trim file location file location string locationstring check directory exists location is directory isdirectory f feature table ffeaturetable set input setinput string messages add feature container page addfeaturecontainerpage set error message seterrormessage messages add directory container page adddirectorycontainerpage bundle container directory feature folder accept input location get name getname equals ignore case equalsignorecase i core constants icoreconstants feature folder file feature dir featuredir file location i core constants icoreconstants feature folder feature dir featuredir is directory isdirectory location feature dir featuredir list external feature model externalfeaturemodel result array list arraylist multi status multistatus errors do load features doloadfeatures result location errors errors get children getchildren length set error message seterrormessage errors get children getchildren get message getmessage set error message seterrormessage result size f feature table ffeaturetable set input setinput result to array toarray i feature model ifeaturemodel result size f feature table ffeaturetable get control getcontrol set enabled setenabled check state changed checkstatechanged set error message seterrormessage store settings storesettings f feature table ffeaturetable set input setinput string messages add feature container page addfeaturecontainerpage f feature table ffeaturetable get control getcontrol set enabled setenabled check state changed checkstatechanged core exception coreexception pde plugin pdeplugin log f feature table ffeaturetable set input setinput string messages add feature container page addfeaturecontainerpage f feature table ffeaturetable get control getcontrol set enabled setenabled check state changed checkstatechanged set error message seterrormessage get message getmessage f feature table ffeaturetable set input setinput string messages add feature container page addfeaturecontainerpage f feature table ffeaturetable get control getcontrol set enabled setenabled check state changed checkstatechanged set page complete setpagecomplete override dispose disconnect label provider disposed pde plugin pdeplugin get default getdefault get label provider getlabelprovider disconnect dispose wizard returning multiple containers link get target location gettargetlocation array containers created wizard core exception coreexception problem acquiring target service i target location itargetlocation get bundle containers getbundlecontainers core exception coreexception object elements f feature table ffeaturetable get checked elements getcheckedelements list i target location itargetlocation containers array list arraylist elements length elements length elements i feature model ifeaturemodel string version f include version button fincludeversionbutton get selection getselection version i feature model ifeaturemodel elements get feature getfeature get version getversion file location file f install location finstalllocation get text gettext bundle container directory feature folder accept input location get name getname equals ignore case equalsignorecase i core constants icoreconstants feature folder location location get parent file getparentfile containers add get target platform service gettargetplatformservice new feature location newfeaturelocation location get path getpath i feature model ifeaturemodel elements get feature getfeature get i d getid version containers size containers to array toarray i target location itargetlocation containers size loads features directory param result list generated i feature model ifeaturemodel objects param path location search features multi status problems occurred multi status multistatus do load features doloadfeatures list external feature model externalfeaturemodel result file path path file dirs path list files listfiles dirs array list arraylist i status istatus result status resultstatus array list arraylist dirs length file dir dirs dir is directory isdirectory file manifest file dir i core constants icoreconstants feature filename descriptor manifest exists i status istatus status do load feature doloadfeature dir manifest result status result status resultstatus add status multi status multistatus i pde ui constants ipdeuiconstants plugin i status istatus result status resultstatus to array toarray i status istatus result status resultstatus size messages feature import wizard featureimportwizard detailed page detailedpage problems loading problemsloading creates i feature model ifeaturemodel representing feature directory adds result list param dir dir ecotry direcotry feature res ides resides param manifest manifest file feature param result list add result status object problem code code i status istatus do load feature doloadfeature file dir file manifest list external feature model externalfeaturemodel result external feature model externalfeaturemodel model external feature model externalfeaturemodel model set install location setinstalllocation dir get absolute path getabsolutepath i status istatus status input stream inputstream stream stream buffered input stream bufferedinputstream file input stream fileinputstream manifest model load stream model is valid isvalid status status i status istatus warning i pde ui constants ipdeuiconstants plugin i status istatus nls bind messages feature import wizard page featureimportwizardpage import has invalid importhasinvalid dir exception status status i status istatus error i pde ui constants ipdeuiconstants plugin i status istatus get message getmessage stream stream close i o exception ioexception status result add model status
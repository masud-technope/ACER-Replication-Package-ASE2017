copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core java util java util map entry org eclipse core resources org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse jdt core org eclipse jdt launching java runtime javaruntime org eclipse jdt launching environments i execution environment iexecutionenvironment org eclipse jdt launching environments i execution environments manager iexecutionenvironmentsmanager org eclipse osgi service resolver bundle description bundledescription org eclipse pde core build org eclipse pde core plugin i plugin library ipluginlibrary org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde internal core build workspace build model workspacebuildmodel org eclipse pde internal core project pde project pdeproject org eclipse pde internal core util core utility coreutility org eclipse team core repository provider repositoryprovider classpath computer classpathcomputer map string integer f severity table fseveritytable severity error severity warning severity ignore set classpath setclasspath i project iproject project i plugin model base ipluginmodelbase model core exception coreexception i classpath entry iclasspathentry entries get classpath getclasspath project model java core javacore create project set raw classpath setrawclasspath entries i classpath entry iclasspathentry get classpath getclasspath i project iproject project i plugin model base ipluginmodelbase model map source library map sourcelibrarymap clear override compliance overridecompliance core exception coreexception i java project ijavaproject java project javaproject java core javacore create project array list arraylist i classpath entry iclasspathentry result array list arraylist i classpath entry iclasspathentry i build ibuild build get build getbuild project add jre compliance options string get execution environment getexecutionenvironment model get bundle description getbundledescription result add create entry using previous entry createentryusingpreviousentry java project javaproject pde core pdecore jre container path set compliance options setcomplianceoptions java core javacore create project override compliance overridecompliance add pde container result add create entry using previous entry createentryusingpreviousentry java project javaproject pde core pdecore required plugins container path add libraries source add source and libraries addsourceandlibraries project model build clear source library map sourcelibrarymap result i classpath entry iclasspathentry entries result to array toarray i classpath entry iclasspathentry result size i java model status ijavamodelstatus validation java conventions javaconventions validate classpath validateclasspath java project javaproject entries java project javaproject get output location getoutputlocation validation isok pde core pdecore log error message logerrormessage validation get message getmessage core exception coreexception validation result to array toarray i classpath entry iclasspathentry result size add source and libraries addsourceandlibraries i project iproject project i plugin model base ipluginmodelbase model i build ibuild build clear map source library map sourcelibrarymap array list arraylist i classpath entry iclasspathentry result core exception coreexception hash set hashset i path ipath paths hash set hashset i path ipath existing source folders clear i classpath entry iclasspathentry entries java core javacore create project get raw classpath getrawclasspath entries length i classpath entry iclasspathentry entry entries entry get entry kind getentrykind i classpath entry iclasspathentry cpe source paths add entry get path getpath result add entry i classpath attribute iclasspathattribute attrs get classpath attributes getclasspathattributes project model i plugin library ipluginlibrary libraries model get plugin base getpluginbase get libraries getlibraries libraries length nls i build entry ibuildentry build entry buildentry build build get entry getentry source libraries get name getname build entry buildentry add source folder addsourcefolder build entry buildentry project paths result i path ipath source attachment sourceattachment source library map sourcelibrarymap i path ipath source library map sourcelibrarymap libraries get name getname nls libraries get name getname equals nls addjardplugin project classpath util core classpathutilcore get file name getfilename model source attachment sourceattachment attrs result add library entry addlibraryentry project libraries source attachment sourceattachment attrs result libraries length build i build entry ibuildentry build entry buildentry nls build get entry getentry nls source build entry buildentry add source folder addsourcefolder build entry buildentry project paths result classpath util core classpathutilcore has bundle structure hasbundlestructure model i path ipath source attachment sourceattachment nls source library map sourcelibrarymap nls i path ipath source library map sourcelibrarymap nls addjardplugin project classpath util core classpathutilcore get file name getfilename model source attachment sourceattachment attrs result i classpath attribute iclasspathattribute get classpath attributes getclasspathattributes i project iproject project i plugin model base ipluginmodelbase model i classpath attribute iclasspathattribute attributes i classpath attribute iclasspathattribute repository provider repositoryprovider is shared isshared project javadoc location manager javadoclocationmanager manager pde core pdecore get default getdefault get javadoc location manager getjavadoclocationmanager string javadoc manager get javadoc location getjavadoclocation model javadoc attributes i classpath attribute iclasspathattribute java core javacore new classpath attribute newclasspathattribute i classpath attribute iclasspathattribute javadoc location attribute javadoc attributes add source folder addsourcefolder i build entry ibuildentry build entry buildentry i project iproject project hash set hashset i path ipath paths array list arraylist i classpath entry iclasspathentry result core exception coreexception string folders build entry buildentry get tokens gettokens folders length string folder folders i path ipath path project get full path getfullpath append folder paths add path project find member findmember folder core utility coreutility create folder createfolder project get folder getfolder folder i package fragment root ipackagefragmentroot root java core javacore create project get package fragment root getpackagefragmentroot path to string tostring root exists root get kind getkind i package fragment root ipackagefragmentroot binary result add root get raw classpath entry getrawclasspathentry result add java core javacore new source entry newsourceentry path i build ibuild get build getbuild i project iproject project core exception coreexception i file ifile build file buildfile pde project pdeproject get build properties getbuildproperties project i build model ibuildmodel build model buildmodel build file buildfile exists build model buildmodel workspace build model workspacebuildmodel build file buildfile build model buildmodel load build model buildmodel build model buildmodel get build getbuild add library entry addlibraryentry i project iproject project i plugin library ipluginlibrary library i path ipath source attachment sourceattachment i classpath attribute iclasspathattribute attrs array list arraylist i classpath entry iclasspathentry result java model exception javamodelexception string classpath util core classpathutilcore expand library name expandlibraryname library get name getname i resource iresource jar file jarfile project find member findmember jar file jarfile i package fragment root ipackagefragmentroot root java core javacore create project get package fragment root getpackagefragmentroot jar file jarfile root exists root get kind getkind i package fragment root ipackagefragmentroot binary i classpath entry iclasspathentry old entry oldentry root get raw classpath entry getrawclasspathentry binary root source recreate entry source attachment sourceattachment old entry oldentry get source attachment path getsourceattachmentpath source attachment sourceattachment source attachment sourceattachment equals old entry oldentry get source attachment path getsourceattachmentpath result old entry oldentry result add old entry oldentry i classpath entry iclasspathentry entry create classpath entry createclasspathentry project jar file jarfile source attachment sourceattachment attrs library is exported isexported result entry result add entry addjardplugin i project iproject project string filename i path ipath source attachment sourceattachment i classpath attribute iclasspathattribute attrs array list arraylist i classpath entry iclasspathentry result string classpath util core classpathutilcore expand library name expandlibraryname filename i resource iresource jar file jarfile project find member findmember jar file jarfile i classpath entry iclasspathentry entry create classpath entry createclasspathentry project jar file jarfile filename source attachment sourceattachment attrs result entry result add entry i classpath entry iclasspathentry create classpath entry createclasspathentry i project iproject project i resource iresource library string file name filename i path ipath source attachment sourceattachment i classpath attribute iclasspathattribute attrs is exported isexported i resource iresource resource source attachment sourceattachment project find member findmember source attachment sourceattachment project find member findmember classpath util core classpathutilcore get source zip name getsourcezipname file name filename java core javacore new library entry newlibraryentry library get full path getfullpath resource resource get full path getfullpath i access rule iaccessrule attrs is exported isexported string get execution environment getexecutionenvironment bundle description bundledescription bundle description bundledescription bundle description bundledescription string envs bundle description bundledescription get execution environments getexecutionenvironments envs length envs sets compiler compliance options project match compliance settings execution environment overrides existing settings param project project compiler compliance options param ee id eeid execution environment identifier code code set compliance options setcomplianceoptions i java project ijavaproject project string ee id eeid set compliance options setcomplianceoptions project ee id eeid sets compiler compliance options project match compliance settings execution environment sets options explicit setting based override flag execution environment code code override code code compliance options removed options map app lying applying project param project project compiler compliance options param ee id eeid execution environment identifier code code param override existing overrideexisting override setting set compliance options setcomplianceoptions i java project ijavaproject project string ee id eeid override existing overrideexisting map string string project map projectmap project get options getoptions i execution environment iexecutionenvironment map options ee id eeid java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager get environment getenvironment ee id eeid options get compliance options getcomplianceoptions options override existing overrideexisting project map projectmap size project map projectmap remove java core javacore compiler compliance project map projectmap remove java core javacore compiler source project map projectmap remove java core javacore compiler codegen target platform project map projectmap remove java core javacore compiler identifier project map projectmap remove java core javacore compiler enum identifier string compliance string options java core javacore compiler compliance iterator iterator options entry set entryset iterator iterator has next hasnext entry entry entry iterator string option string entry get key getkey string string entry get value getvalue java core javacore version equals compliance java core javacore version equals compliance java core javacore compiler identifier equals option java core javacore compiler enum identifier equals option projects override existing setting setting greater severity existing setting set minimum compliance setminimumcompliance project map projectmap option override existing overrideexisting set compliance setcompliance project map projectmap option override existing overrideexisting set compliance setcompliance project map projectmap option override existing overrideexisting project set options setoptions project map projectmap puts key pair map map overridden map doesn key code code existing remains param map map param key key param map code code param override existing map entries replaced set compliance setcompliance map string string map string key string override override map contains key containskey key map key checks current stored map severe minimum minimum higher map updated minimum minimum code code existing remains param map map check param key key current map param minimum value minimumvalue minimum allowed code code param override existing map replaced set minimum compliance setminimumcompliance map string string map string key string minimum value minimumvalue override minimum value minimumvalue override map contains key containskey key f severity table fseveritytable f severity table fseveritytable hash map hashmap string integer f severity table fseveritytable java core javacore ignore integer severity ignore f severity table fseveritytable java core javacore warning integer severity warning f severity table fseveritytable java core javacore error integer severity error string current value currentvalue map key current current value currentvalue f severity table fseveritytable contains key containskey current value currentvalue f severity table fseveritytable current value currentvalue int value intvalue minimum f severity table fseveritytable contains key containskey minimum value minimumvalue f severity table fseveritytable minimum value minimumvalue int value intvalue current minimum map key minimum value minimumvalue returns classpath container entry execution environment java project existing jre classpath entry access rules extra attributes is exported isexported settings existing entry execution entry param java project javaproject project check existing classpath entries param execution environment create entry param path container create entry classpath container entry core exception coreexception problem accessing classpath entries project i classpath entry iclasspathentry create entry using previous entry createentryusingpreviousentry i java project ijavaproject java project javaproject string i path ipath path core exception coreexception i classpath entry iclasspathentry entries java project javaproject get raw classpath getrawclasspath entries length entries get path getpath equals path path equals pde core pdecore jre container path java core javacore new container entry newcontainerentry geteepath entries get access rules getaccessrules entries get extra attributes getextraattributes entries is exported isexported java core javacore new container entry newcontainerentry path entries get access rules getaccessrules entries get extra attributes getextraattributes entries is exported isexported path equals pde core pdecore jre container path createjreentry java core javacore new container entry newcontainerentry path returns classpath container entry execution environment param execution environment code code classpath container entry i classpath entry iclasspathentry createjreentry string java core javacore new container entry newcontainerentry geteepath returns jre container path execution environment param execution environment code code jre container path execution environment i path ipath geteepath string i path ipath path i execution environments manager iexecutionenvironmentsmanager manager java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager i execution environment iexecutionenvironment env manager get environment getenvironment env path java runtime javaruntime newjrecontainerpath env path path java runtime javaruntime newdefaultjrecontainerpath path classpath container entry required plugin container i classpath entry iclasspathentry create container entry createcontainerentry java core javacore new container entry newcontainerentry pde core pdecore required plugins container path
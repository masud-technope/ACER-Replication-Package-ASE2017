copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation peter friese peter f riese friese item is itemis bug olivier prouvost olivier pro uvost prouvost opcoach bug org eclipse pde internal wizards plugin java java util array list arraylist org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core runtime org eclipse pde core plugin i plugin reference ipluginreference org eclipse pde internal build ipde build constants ipdebuildconstants org eclipse pde internal core util core utility coreutility org eclipse pde templates plugin reference pluginreference plugin class code generator pluginclasscodegenerator plugin field data pluginfielddata f plugin data fplugindata i project iproject f project fproject string f qualified class name fqualifiedclassname f generate template fgeneratetemplate plugin class code generator pluginclasscodegenerator i project iproject project string qualified class name qualifiedclassname plugin field data pluginfielddata data generate template generatetemplate f project fproject project f qualified class name fqualifiedclassname qualified class name qualifiedclassname f plugin data fplugindata data f generate template fgeneratetemplate generate template generatetemplate i file ifile generate i progress monitor iprogressmonitor monitor core exception coreexception name loc nameloc f qualified class name fqualifiedclassname last index of lastindexof nls string package name packagename name loc nameloc f qualified class name fqualifiedclassname substring name loc nameloc string class name classname f qualified class name fqualifiedclassname substring name loc nameloc i path ipath path path package name packagename replace f plugin data fplugindata get source folder name getsourcefoldername trim length path path f plugin data fplugindata get source folder name getsourcefoldername append path core utility coreutility create folder createfolder f project fproject get folder getfolder path nls i file ifile file f project fproject get file getfile path append class name classname java string writer stringwriter swriter string writer stringwriter print writer printwriter writer print writer printwriter swriter generate extend plug classes plug f plugin data fplugindata getosgiframework f plugin data fplugindata isuiplugin f plugin data fplugindata is e ise plugin generate activator class generateactivatorclass package name packagename class name classname writer generate plugin class generatepluginclass package name packagename class name classname writer writer flush swriter close byte array input stream bytearrayinputstream stream byte array input stream bytearrayinputstream swriter to string tostring get bytes getbytes f project fproject get default charset getdefaultcharset file exists file set contents setcontents stream monitor file create stream monitor stream close io exception ioexception file generate plugin class generatepluginclass string package name packagename string class name classname print writer printwriter writer nls package name packagename equals nls nls writer println package name packagename writer println f plugin data fplugindata isuiplugin f generate template fgeneratetemplate nls writer println nls org eclipse jface resource image descriptor imagedescriptor nls writer println org eclipse plugin abstractuiplugin nls writer println org eclipse core runtime plugin nls writer println org osgi framework bundle context bundlecontext writer println nls writer println nls writer println activator controls plug life cycle nls writer println f plugin data fplugindata isuiplugin nls nls writer println class name classname abstractuiplugin nls nls writer println class name classname plugin writer println nls writer println plug nls nls writer println tpublic string plugin f plugin data fplugindata get id getid nls writer println nls writer println shared instance nls nls writer println tprivate class name classname plugin nls writer println nls writer println nls writer println constructor nls writer println nls nls writer println tpublic class name classname nls writer println writer println nls writer println nls writer println javadoc f plugin data fplugindata isuiplugin nls writer println org eclipse plugin abstractuiplugin start org osgi framework bundle context bundlecontext nls writer println org eclipse core runtime plugins start org osgi framework bundle context bundlecontext nls writer println nls writer println tpublic start bundle context bundlecontext context exception nls writer println tsuper start context nls writer println tplugin nls writer println writer println nls writer println nls writer println javadoc f plugin data fplugindata isuiplugin nls writer println org eclipse plugin abstractuiplugin org osgi framework bundle context bundlecontext nls writer println org eclipse core runtime plugin org osgi framework bundle context bundlecontext nls writer println nls writer println tpublic bundle context bundlecontext context exception nls writer println tplugin nls writer println tsuper context nls writer println writer println nls writer println nls writer println returns shared instance nls writer println nls writer println shared instance nls writer println nls nls writer println tpublic class name classname get default getdefault nls writer println treturn plugin nls writer println writer println f plugin data fplugindata isuiplugin f generate template fgeneratetemplate nls writer println nls writer println returns image descriptor image file nls writer println plug relative path nls writer println nls writer println param path path nls writer println image descriptor nls writer println nls writer println tpublic image descriptor imagedescriptor get image descriptor getimagedescriptor string path nls writer println treturn image descriptor from plugin imagedescriptorfromplugin plugin path nls writer println nls writer println generate activator class generateactivatorclass string package name packagename string class name classname print writer printwriter writer nls package name packagename equals nls nls writer println package name packagename writer println nls writer println org osgi framework bundle activator bundleactivator nls writer println org osgi framework bundle context bundlecontext writer println nls nls writer println class name classname bundle activator bundleactivator writer println nls writer println tprivate bundle context bundlecontext context writer println nls writer println tstatic bundle context bundlecontext get context getcontext nls writer println treturn context nls writer println writer println nls writer println nls writer println javadoc nls writer println org osgi framework bundle activator bundleactivator start org osgi framework bundle context bundlecontext nls writer println nls writer println tpublic start bundle context bundlecontext bundle context bundlecontext exception nls nls writer println class name classname context bundle context bundlecontext nls writer println writer println nls writer println nls writer println javadoc nls writer println org osgi framework bundle activator bundleactivator org osgi framework bundle context bundlecontext nls writer println nls writer println tpublic bundle context bundlecontext bundle context bundlecontext exception nls nls writer println class name classname context nls writer println writer println nls writer println i plugin reference ipluginreference get dependencies getdependencies array list arraylist plugin reference pluginreference result array list arraylist f plugin data fplugindata isuiplugin nls result add plugin reference pluginreference org eclipse f plugin data fplugindata is legacy islegacy f plugin data fplugindata getosgiframework result add plugin reference pluginreference ipde build constants ipdebuildconstants bundle core runtime result to array toarray i plugin reference ipluginreference result size string get import packages getimportpackages nls f plugin data fplugindata getosgiframework nls string org osgi framework version string
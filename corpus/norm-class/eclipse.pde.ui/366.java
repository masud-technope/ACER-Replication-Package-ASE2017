copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation les j ones jones lesojones gmail bug org eclipse pde templates java util zip zip entry zipentry java java net malformedurlexception java net url java util java util zip org eclipse core resources org eclipse core runtime org eclipse jdt core org eclipse jface wizard wizard org eclipse pde core plugin org eclipse pde internal core target platform helper targetplatformhelper org eclipse pde internal core ibundle org eclipse pde internal pde plugin pdeplugin org eclipse pde internal pde ui messages pdeuimessages org eclipse pde internal wizards templates control stack controlstack abstract template section abstracttemplatesection i template section itemplatesection i variable provider ivariableprovider project handle i project iproject project plug model i plugin model base ipluginmodelbase model key main plug plug template plugin class pluginclass fully qualified nls string key plugin plugin class pluginclass key simple bundle activator activator nls string key activator simple activator key plug plug template plugin id pluginid nls string key plugin plugin id pluginid key plug plug template plugin name pluginname nls string key plugin plugin name pluginname key created template package name packagename nls string key package name packagename pages added pagesadded implementation method values samp plugin class pluginclass samp samp plugin id pluginid samp samp plugin name pluginname samp i template section itemplatesection get replacement string getreplacementstring string string override string get replacement string getreplacementstring string file name filename string key string result get key value getkeyvalue key result result key i variable provider ivariableprovider get value getvalue string override object get value getvalue string key get key value getkeyvalue key string get key value getkeyvalue string key model key equals key plugin model i plugin model ipluginmodel i plugin iplugin plugin i plugin iplugin model get plugin base getpluginbase plugin get class name getclassname key equals key activator simple model i plugin model ipluginmodel i plugin iplugin plugin i plugin iplugin model get plugin base getpluginbase string qualified plugin get class name getclassname qualified last dot lastdot qualified last index of lastindexof last dot lastdot last dot lastdot qualified length qualified substring last dot lastdot qualified key equals key plugin i plugin base ipluginbase plugin model get plugin base getpluginbase plugin get id getid key equals key plugin i plugin base ipluginbase plugin model get plugin base getpluginbase plugin get translated name gettranslatedname key equals key model i plugin model ipluginmodel i plugin iplugin plugin i plugin iplugin model get plugin base getpluginbase string qualified plugin get class name getclassname qualified last dot lastdot qualified last index of lastindexof last dot lastdot qualified substring last dot lastdot qualified i template section itemplatesection get template location gettemplatelocation override url get template location gettemplatelocation i template section itemplatesection get description getdescription override string get description getdescription nls returns translated version resource string represented key param key key required resource string translated version required resource string get plugin resource bundle getpluginresourcebundle string get plugin resource string getpluginresourcestring string key resource bundle resourcebundle bundle get plugin resource bundle getpluginresourcebundle bundle key bundle get string getstring key missing resource exception missingresourceexception key method returns resource bundle corresponds match samp plugin properties samp file current locale fragments file samp fragment properties samp resource bundle plug properties file samp samp resource bundle resourcebundle get plugin resource bundle getpluginresourcebundle override add pages addpages wizard wizard tests wizard template code code wizard code code override get pages added getpagesadded pages added pagesadded marks wizard template call method add pages addpages add pages addpages wizard mark pages added markpagesadded pages added pagesadded implementation method returned i template section itemplatesection get number of work units getnumberofworkunits override get number of work units getnumberofworkunits override i plugin reference ipluginreference get dependencies getdependencies string schema version schemaversion i plugin reference ipluginreference nls plugin reference pluginreference nls org eclipse returns folder java files target project implementation source folders classpath target folders picks encountered subclasses override behaviour param monitor progress monitor source folder generate java files samp samp i folder ifolder get source folder getsourcefolder i progress monitor iprogressmonitor monitor i folder ifolder source folder sourcefolder i java project ijavaproject java project javaproject java core javacore create project i classpath entry iclasspathentry classpath java project javaproject get raw classpath getrawclasspath classpath length i classpath entry iclasspathentry entry classpath entry get entry kind getentrykind i classpath entry iclasspathentry cpe source i path ipath path entry get path getpath remove first segments removefirstsegments path segment count segmentcount source folder sourcefolder project get folder getfolder path java model exception javamodelexception pde plugin pdeplugin log exception logexception source folder sourcefolder generates files template execution implementation template location root file templates link generate files generatefiles i progress monitor iprogressmonitor monitor url location url locationurl location processed param monitor progress monitor generation progress generate files generatefiles i progress monitor iprogressmonitor monitor core exception coreexception generate files generatefiles monitor get template location gettemplatelocation generates files template execution files location processed files folders directory samp bin samp copied target project modification files directory samp java samp copied java source folder creating folder structure corresponds variable samp package name packagename samp java files subject conditional generation variable replacement files folders copied target folder conditional generation variable replacement files variable replacement includes file names param monitor progress monitor generation progress param location url locationurl url pointing file directory copied template generate files generatefiles i progress monitor iprogressmonitor monitor url location url locationurl core exception coreexception monitor set task name settaskname pde ui messages pdeuimessages abstract template section abstracttemplatesection generating location url locationurl location url locationurl file locator filelocator resolve location url locationurl location url locationurl file locator filelocator tofileurl location url locationurl io exception ioexception nls file equals location url locationurl get protocol getprotocol file template directory templatedirectory file location url locationurl get file getfile template directory templatedirectory exists generate files generatefiles template directory templatedirectory project monitor nls jar equals location url locationurl get protocol getprotocol string file location url locationurl get file getfile exclamation file index of indexof exclamation url file url fileurl file url fileurl url file substring exclamation malformedurlexception mue file plugin jar pluginjar file file url fileurl get file getfile plugin jar pluginjar exists path string template directory templatedirectory file substring exclamation i path ipath path path template directory templatedirectory zip file zipfile zip file zipfile zip file zipfile zip file zipfile plugin jar pluginjar generate files generatefiles zip file zipfile path project monitor zip exception zipexception io exception ioexception ioe zip file zipfile zip file zipfile close io exception ioexception nls monitor sub task subtask monitor worked tests folder template location created target project subclasses method condition ally conditionally block creation entire directories subject user choices param source folder sourcefolder folder tested code code folder created workspace code code values substitution variables is ok to create folder isoktocreatefolder file source folder sourcefolder tests file template location created target project subclasses method condition ally conditionally block creation file subject user choices param source file sourcefile file template location created samp samp file created project samp samp skip implementation samp samp is ok to create file isoktocreatefile file source file sourcefile sub class subclass implement method add required entries plug model param monitor progress monitor update model updatemodel i progress monitor iprogressmonitor monitor core exception coreexception implementation method generate required files template location call samp update model updatemodel samp add required manifest entires i template section itemplatesection execute i project iproject i plugin model base ipluginmodelbase i progress monitor iprogressmonitor override execute i project iproject project i plugin model base ipluginmodelbase model i progress monitor iprogressmonitor monitor core exception coreexception project project model model generate files generatefiles monitor update model updatemodel monitor utility method create extension object plug model extension point param point id pointid identifier target extension point param reuse extension object created extension exist existing extension exists samp reuse samp samp samp extension object i plugin extension ipluginextension create extension createextension string point id pointid reuse core exception coreexception reuse i plugin extension ipluginextension extensions model get plugin base getpluginbase get extensions getextensions extensions length i plugin extension ipluginextension extension extensions extension get point getpoint equals ignore case equalsignorecase point id pointid extension i plugin extension ipluginextension extension model get factory getfactory create extension createextension extension set point setpoint point id pointid extension generate files generatefiles file src i container icontainer dst first level firstlevel binary i progress monitor iprogressmonitor monitor core exception coreexception file members src list files listfiles members length file member members member is directory isdirectory i container icontainer dst container dstcontainer first level firstlevel binary is ok to create folder isoktocreatefolder member nls member get name getname equals nls java i folder ifolder source folder sourcefolder get source folder getsourcefolder monitor dst container dstcontainer generate java source folder generatejavasourcefolder source folder sourcefolder monitor nls member get name getname equals nls bin binary dst container dstcontainer dst dst container dstcontainer is ok to create folder isoktocreatefolder member string folder name foldername get processed string getprocessedstring member get name getname member get name getname dst container dstcontainer dst get folder getfolder path folder name foldername dst container dstcontainer i folder ifolder dst container dstcontainer exists i folder ifolder dst container dstcontainer create monitor generate files generatefiles member dst container dstcontainer binary monitor is ok to create file isoktocreatefile member first level firstlevel binary input stream inputstream file input stream fileinputstream member copy file copyfile member get name getname dst binary monitor io exception ioexception ioe close io exception ioexception ioe generate files generatefiles zip file zipfile zip file zipfile i path ipath path i container icontainer dst first level firstlevel binary i progress monitor iprogressmonitor monitor core exception coreexception path length pathlength path segment count segmentcount immidiate children dir dir file java map string zip entry zipentry child zip entries childzipentries hash map hashmap enumeration zip entries zipentries zip file zipfile entries zip entries zipentries has more elements hasmoreelements zip entry zipentry zip entry zipentry zip entry zipentry zip entries zipentries next element nextelement i path ipath entry path entrypath path zip entry zipentry get name getname entry path entrypath segment count segmentcount path length pathlength ancestor current directory path is prefix of isprefixof entry path entrypath descendant entry path entrypath segment count segmentcount path length pathlength child zip entries childzipentries zip entry zipentry get name getname zip entry zipentry string entry path entrypath upto segment uptosegment path length pathlength add trailing separator addtrailingseparator to string tostring child zip entries childzipentries contains key containskey zip entry zipentry dir entry direntry zip entry zipentry child zip entries childzipentries dir entry direntry iterator zip entry zipentry child zip entries childzipentries values iterator has next hasnext zip entry zipentry zip enry zipenry string path zip enry zipenry get name getname last segment lastsegment to string tostring zip enry zipenry is directory isdirectory i container icontainer dst container dstcontainer first level firstlevel binary nls equals nls java i folder ifolder source folder sourcefolder get source folder getsourcefolder monitor dst container dstcontainer generate java source folder generatejavasourcefolder source folder sourcefolder monitor nls equals nls bin binary dst container dstcontainer dst dst container dstcontainer is ok to create folder isoktocreatefolder file path to file tofile string folder name foldername get processed string getprocessedstring dst container dstcontainer dst get folder getfolder path folder name foldername dst container dstcontainer i folder ifolder dst container dstcontainer exists i folder ifolder dst container dstcontainer create monitor generate files generatefiles zip file zipfile path append dst container dstcontainer binary monitor is ok to create file isoktocreatefile file path to file tofile first level firstlevel binary input stream inputstream zip file zipfile get input stream getinputstream zip enry zipenry copy file copyfile dst binary monitor io exception ioexception ioe close io exception ioexception ioe i folder ifolder generate java source folder generatejavasourcefolder i folder ifolder source folder sourcefolder i progress monitor iprogressmonitor monitor core exception coreexception object package value packagevalue get value getvalue key string package name packagename package value packagevalue package value packagevalue to string tostring package name packagename package name packagename model get plugin base getpluginbase get id getid i path ipath path path package name packagename replace file separator char separatorchar source folder sourcefolder path source folder sourcefolder get project relative path getprojectrelativepath append path path segment count segmentcount i path ipath sub path subpath path upto segment uptosegment i folder ifolder sub folder subfolder project get folder getfolder sub path subpath sub folder subfolder exists sub folder subfolder create monitor project get folder getfolder path copy file copyfile string file name filename input stream inputstream input i container icontainer dst binary i progress monitor iprogressmonitor monitor core exception coreexception string target file name targetfilename get processed string getprocessedstring file name filename file name filename monitor sub task subtask target file name targetfilename i file ifile dst file dstfile dst get file getfile path target file name targetfilename input stream inputstream stream get processed stream getprocessedstream file name filename input binary dst file dstfile exists dst file dstfile set contents setcontents stream monitor dst file dstfile create stream monitor stream close io exception ioexception string get processed string getprocessedstring string file name filename string source source index of indexof source loc string buffer stringbuffer buffer string buffer stringbuffer replacement mode replacementmode source length source char at charat replacement mode replacementmode string key source substring loc string nls key length nls get replacement string getreplacementstring file name filename key buffer append replacement mode replacementmode replacement mode replacementmode loc replacement mode replacementmode buffer append buffer to string tostring input stream inputstream get processed stream getprocessedstream string file name filename input stream inputstream stream binary io exception ioexception core exception coreexception binary stream input stream reader inputstreamreader reader input stream reader inputstreamreader stream buf size bufsize cbuffer buf size bufsize read string buffer stringbuffer key buffer keybuffer string buffer stringbuffer string buffer stringbuffer out buffer outbuffer string buffer stringbuffer string buffer stringbuffer pre buffer prebuffer string buffer stringbuffer new line newline control stack controlstack pre stack prestack control stack controlstack pre stack prestack set value provider setvalueprovider replacement mode replacementmode preprocessor mode preprocessormode escape read read reader read cbuffer read cbuffer escape string buffer stringbuffer buf preprocessor mode preprocessormode pre buffer prebuffer out buffer outbuffer buf append escape new line newline preprocessor preprocessor mode preprocessormode pre buffer prebuffer delete pre buffer prebuffer length preprocessor mode preprocessormode escape preprocessor mode preprocessormode new line newline string pre buffer prebuffer to string tostring trim pre stack prestack process line processline pre buffer prebuffer append pre stack prestack get current state getcurrentstate replacement mode replacementmode replacement mode replacementmode string key key buffer keybuffer to string tostring string key length get replacement string getreplacementstring file name filename key out buffer outbuffer append key buffer keybuffer delete key buffer keybuffer length replacement mode replacementmode replacement mode replacementmode key buffer keybuffer append out buffer outbuffer append new line newline new line newline byte array input stream bytearrayinputstream out buffer outbuffer to string tostring get bytes getbytes project get default charset getdefaultcharset get target version gettargetversion i plugin base ipluginbase plugin model get plugin base getpluginbase plugin i bundle plugin base ibundlepluginbase parse double parsedouble i bundle plugin base ibundlepluginbase plugin get target version gettargetversion number format exception numberformatexception target platform helper targetplatformhelper get target version gettargetversion set manifest header setmanifestheader string string i bundle ibundle bundle get bundle from model getbundlefrommodel bundle bundle set header setheader string get manifest header getmanifestheader string i bundle ibundle bundle get bundle from model getbundlefrommodel bundle bundle get header getheader has bundle manifest hasbundlemanifest i bundle ibundle bundle get bundle from model getbundlefrommodel bundle i bundle ibundle get bundle from model getbundlefrommodel early exit checks model model i bundle plugin model base ibundlepluginmodelbase i bundle plugin model base ibundlepluginmodelbase bundlepmodel i bundle plugin model base ibundlepluginmodelbase model i bundle model ibundlemodel bundle model bundlemodel bundlepmodel get bundle model getbundlemodel bundle model bundlemodel bundle model bundlemodel get bundle getbundle
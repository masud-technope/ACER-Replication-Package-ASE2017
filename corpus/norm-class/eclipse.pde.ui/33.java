copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation johannes ahlers johannes ahlers gmx bug org eclipse pde internal search dependencies java lang reflect invocation target exception invocationtargetexception java util org eclipse core resources i project iproject org eclipse core runtime org eclipse jdt core org eclipse osgi util nls org eclipse pde internal core ibundle org eclipse pde internal core text bundle export package header exportpackageheader org eclipse pde internal core text bundle export package object exportpackageobject org eclipse pde internal core util pde java helper pdejavahelper org eclipse pde internal pde ui messages pdeuimessages org eclipse actions workspace modify operation workspacemodifyoperation org osgi framework constants calculate uses operation calculateusesoperation workspace modify operation workspacemodifyoperation i project iproject f project fproject i bundle plugin model base ibundlepluginmodelbase f model fmodel calculate uses operation calculateusesoperation i project iproject project i bundle plugin model base ibundlepluginmodelbase model f project fproject project f model fmodel model override execute i progress monitor iprogressmonitor monitor core exception coreexception invocation target exception invocationtargetexception interrupted exception interruptedexception collection string packages get public exported packages getpublicexportedpackages packages is empty isempty map string hash set hashset string pkgs and uses pkgsanduses find package references findpackagereferences packages monitor monitor is canceled iscanceled handle set uses dir ectives handlesetusesdirectives pkgs and uses pkgsanduses monitor collection string get public exported packages getpublicexportedpackages i bundle ibundle bundle f model fmodel get bundle model getbundlemodel get bundle getbundle i manifest header imanifestheader header bundle get manifest header getmanifestheader constants export header collections empty set emptyset array list arraylist string list array list arraylist export package object exportpackageobject pkgs export package header exportpackageheader header get packages getpackages pkgs length don calculate directive packages pkgs is internal isinternal list add pkgs get name getname list map string hash set hashset string find package references findpackagereferences collection string packages i progress monitor iprogressmonitor monitor i java project ijavaproject java core javacore create f project fproject hash map hashmap string hash set hashset string pkgs and uses pkgsanduses hash map hashmap i package fragment ipackagefragment frags pde java helper pdejavahelper get package fragments getpackagefragments collections empty sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor frags length frags length sub monitor submonitor iteration monitor iterationmonitor sub monitor submonitor split iteration monitor iterationmonitor is canceled iscanceled pkgs and uses pkgsanduses iteration monitor iterationmonitor sub task subtask nls bind pde ui messages pdeuimessages calculate uses operation calculateusesoperation calculating directive calculatingdirective frags get element name getelementname packages frags get element name getelementname hash set hashset string pkgs hash set hashset pkgs and uses pkgsanduses frags get element name getelementname pkgs find references findreferences frags get compilation units getcompilationunits pkgs iteration monitor iterationmonitor split find references findreferences frags get class files getclassfiles pkgs iteration monitor iterationmonitor split java model exception javamodelexception pkgs and uses pkgsanduses find references findreferences i type root ityperoot roots string pkgs i progress monitor iprogressmonitor monitor binary java model exception javamodelexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor roots length roots length find references findreferences roots find primary type findprimarytype pkgs binary sub monitor submonitor worked find references findreferences i type itype type string pkgs binary java model exception javamodelexception type ignore classes flags is private isprivate type get flags getflags i method imethod methods type get methods getmethods methods length flags is private isprivate methods get flags getflags string method signature methodsignature methods get signature getsignature add packages addpackages signature get thrown exception types getthrownexceptiontypes method signature methodsignature pkgs type binary add packages addpackages signature get parameter types getparametertypes method signature methodsignature pkgs type binary add package addpackage signature get return type getreturntype method signature methodsignature pkgs type binary i field ifield fields type get fields getfields fields length flags is private isprivate fields get flags getflags add package addpackage fields get type signature gettypesignature pkgs type binary add package addpackage type get superclass type signature getsuperclasstypesignature pkgs type binary add packages addpackages type get super interface type signatures getsuperinterfacetypesignatures pkgs type binary check classes defined i type itype sub types subtypes type get types gettypes sub types subtypes length find references findreferences sub types subtypes pkgs binary add package addpackage string type signature typesignature string pkgs i type itype type binary java model exception javamodelexception type signature typesignature binary type signature typesignature type signature typesignature replace type signature typesignature test sub class subclass assume fully qualified type signature typesignature index of indexof string temp type resolve type resolvetype string signature to char array tochararray type signature typesignature to char array tochararray temp pkgs add temp illegal argument exception illegalargumentexception string pkg signature get signature qualifier getsignaturequalifier type signature typesignature pkg length pkgs add pkg type signature typesignature assume statement resolve type object string type name typename signature get signature simple name getsignaturesimplename type signature typesignature string result type resolve type resolvetype type name typename result pkgs add result add packages addpackages string type signatures typesignatures string pkgs i type itype type binary java model exception javamodelexception type signatures typesignatures length add package addpackage type signatures typesignatures pkgs type binary handle set uses dir ectives handlesetusesdirectives map string hash set hashset string pkgs and uses pkgsanduses pkgs and uses pkgsanduses is empty isempty set uses dir ectives setusesdirectives pkgs and uses pkgsanduses set uses dir ectives setusesdirectives map string hash set hashset string pkgs and uses pkgsanduses i bundle ibundle bundle f model fmodel get bundle model getbundlemodel get bundle getbundle i manifest header imanifestheader header bundle get manifest header getmanifestheader constants export header equal exported packages returned earlier export package object exportpackageobject pkgs export package header exportpackageheader header get packages getpackages pkgs length pkgs and uses pkgsanduses contains key containskey pkgs get name getname string get directive value getdirectivevalue pkgs get name getname pkgs and uses pkgsanduses pkgs set uses directive setusesdirective string get directive value getdirectivevalue string pkg name pkgname map string hash set hashset string pkgs and uses pkgsanduses string uses pkgs usespkgs pkgs and uses pkgsanduses pkg name pkgname uses pkgs usespkgs remove pkg name pkgname string buffer stringbuffer buffer iterator uses pkgs usespkgs iterator has next hasnext string used pkg name usedpkgname string nls used pkg name usedpkgname starts with startswith java include java packages bug remove buffer buffer string buffer stringbuffer buffer append buffer append used pkg name usedpkgname remove uses pkgs usespkgs is empty isempty pkgs and uses pkgsanduses remove pkg name pkgname buffer buffer to string tostring
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools search tests java file java file filter filefilter java util hash map hashmap java util hash set hashset org eclipse core runtime i path ipath org eclipse pde api tools internal provisional builder i reference ireference org eclipse pde api tools internal provisional search api search engine apisearchengine org eclipse pde api tools internal provisional search i api search reporter iapisearchreporter org eclipse pde api tools internal provisional search i api search requestor iapisearchrequestor org eclipse pde api tools internal search xml search reporter xmlsearchreporter org eclipse pde api tools model tests test suite helper testsuitehelper tests api specific implementations link i api search reporter iapisearchreporter link i api search requestor iapisearchrequestor use search tests usesearchtests search test searchtest nls i path ipath tmp path test suite helper testsuitehelper get user directory path getuserdirectorypath append search tests nls i path ipath xml path tmp path append xml nls i path ipath html path tmp path append html hash map hashmap string hash set hashset string used projects usedprojects hash map hashmap string hash set hashset string javadoc org eclipse pde api tools search tests search test searchtest tear down teardown override tear down teardown exception scr ub report location scrubreportlocation tmp path to file tofile tear down teardown asserts report created correct folder structure param report root reportroot assertxmlreport i path ipath report root reportroot file root report root reportroot to file tofile nls assert true asserttrue report root exist root exists file files root list files listfiles file filter filefilter override accept file path name pathname path name pathname is directory isdirectory flength files length epsize used projects usedprojects size nls assert true asserttrue project roots expecting flength epsize nls assert false assertfalse files list greater expected projects flength epsize nls assert false assertfalse files list expected projects flength epsize hash set hashset string names file projects files length names used projects usedprojects files get name getname nls assert not null assertnotnull exp eced expeced project names exist names projects files list files listfiles nls nls assert true asserttrue files folders projects files get name getname projects length names size projects length projects is directory isdirectory nls nls report failure reportfailure unexpected folder entry projects get name getname names remove projects get name getname nls nls report failure reportfailure unexpected folder entry report location projects get name getname nls assert true asserttrue projects detected names size cleans location exists param file scr ub report location scrubreportlocation file file file exists file is directory isdirectory file files file list files listfiles files length files is directory isdirectory scr ub report location scrubreportlocation files files delete file delete sets projects expecting project param project projects param projects project expecting project set projects used by setprojectsusedby string project string projects projects project used projects usedprojects clear hash set hashset string names projects length names hash set hashset string projects length projects length names add projects used projects usedprojects project names returns composite search reporter link test reporter testreporter link xml api search reporter xmlapisearchreporter param path param debug composite search reporter i api search reporter iapisearchreporter get composite reporter getcompositereporter string path debug i api search reporter iapisearchreporter report ers reporters i api search reporter iapisearchreporter report ers reporters test reporter report ers reporters xml search reporter xmlsearchreporter xml path toosstring debug test composite search reporter testcompositesearchreporter report ers reporters tests xml reporter generating xm l xml files correct location components excluded search test search xml reporter no exclusions testsearchxmlreporternoexclusions api search engine apisearchengine engine api search engine apisearchengine test requestor set scope baseline setscopebaseline get test baseline gettestbaseline test requestor set search mask setsearchmask i api search requestor iapisearchrequestor include api i api search requestor iapisearchrequestor include internal test reporter set expected references setexpectedreferences string i reference ireference fielddecl i reference ireference fielddecl i reference ireference fielddecl i reference ireference fielddecl i reference ireference fielddecl test reporter set expected not searched setexpectednotsearched engine search get test baseline gettestbaseline test requestor get composite reporter getcompositereporter xml path toosstring set projects used by setprojectsusedby string get project id getprojectid version get project id getprojectid version string get project id getprojectid version get project id getprojectid version get project id getprojectid version assertxmlreport xml path exception fail search engine exception to string tostring tests xml reporter generating xm l xml files correct location components excluded search test search xml reporter no exclusions with debug testsearchxmlreporternoexclusionswithdebug api search engine apisearchengine engine api search engine apisearchengine test requestor set scope baseline setscopebaseline get test baseline gettestbaseline test requestor set search mask setsearchmask i api search requestor iapisearchrequestor include api i api search requestor iapisearchrequestor include internal test reporter set expected references setexpectedreferences string i reference ireference fielddecl i reference ireference fielddecl i reference ireference fielddecl i reference ireference fielddecl i reference ireference fielddecl test reporter set expected not searched setexpectednotsearched engine search get test baseline gettestbaseline test requestor get composite reporter getcompositereporter xml path toosstring set projects used by setprojectsusedby string get project id getprojectid version get project id getprojectid version string get project id getprojectid version get project id getprojectid version get project id getprojectid version assertxmlreport xml path exception fail search engine exception to string tostring string get project id getprojectid string project string version string buffer stringbuffer buffer string buffer stringbuffer nls buffer append project append append append version append buffer to string tostring
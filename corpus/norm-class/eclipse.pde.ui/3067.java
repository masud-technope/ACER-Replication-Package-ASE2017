copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation lars vogel lars vogel vogella bug org eclipse pde internal core java java util org eclipse core resources org eclipse core runtime org eclipse jdt core org eclipse jdt launching java runtime javaruntime org eclipse osgi util nls org eclipse pde core plugin org eclipse pde internal core util core utility coreutility manages ability external plug ins model manager java search manages proxy java projects external plug java search adds java libraries external jar s jars proxy project libraries visible java model java searches search able plugins manager searchablepluginsmanager i file adapter factory ifileadapterfactory i plugin model listener ipluginmodellistener nls string proxy file search able searchable nls string proxy project external plug libraries nls string key search able plugins searchableplugins listener f element listener felementlistener string f plugin id set fpluginidset array list arraylist i plugin model listener ipluginmodellistener f listeners flisteners listener i element changed listener ielementchangedlistener override element changed elementchanged element changed event elementchangedevent get type gettype element changed event elementchangedevent post change handle delta handledelta get delta getdelta handle delta handledelta i java element delta ijavaelementdelta delta object element delta get element getelement element i java model ijavamodel i java element delta ijavaelementdelta project deltas projectdeltas delta get affected children getaffectedchildren project deltas projectdeltas length handle delta handledelta project deltas projectdeltas delta get element getelement i java project ijavaproject i java project ijavaproject project i java project ijavaproject delta get element getelement project get element name getelementname equals proxy project delta get kind getkind i java element delta ijavaelementdelta removed f plugin id set fpluginidset clear delta get kind getkind i java element delta ijavaelementdelta queue d queued delta manager initialized ignore don data f plugin id set fpluginidset f plugin id set fpluginidset size manager created project check search able searchable file load f plugin id set fpluginidset load states loadstates search able plugins manager searchablepluginsmanager f plugin id set fpluginidset load states loadstates f element listener felementlistener listener java core javacore add element changed listener addelementchangedlistener f element listener felementlistener pde core pdecore get default getdefault get model manager getmodelmanager add plugin model listener addpluginmodellistener string load states loadstates string tree set treeset string i workspace root iworkspaceroot root pde core pdecore get workspace getworkspace get root getroot i project iproject project root get project getproject proxy project project exists project is open isopen i file ifile proxy file proxyfile project get file getfile proxy file proxy file proxyfile exists properties properties properties input stream inputstream stream proxy file proxyfile get contents getcontents properties load stream stream close string properties get property getproperty key string tokenizer stringtokenizer stok nls string tokenizer stringtokenizer nls nls stok has more tokens hasmoretokens add stok next token nexttoken io exception ioexception core exception coreexception i java project ijavaproject get proxy project getproxyproject i workspace root iworkspaceroot root pde core pdecore get workspace getworkspace get root getroot i project iproject project root get project getproject proxy project project exists project is open isopen project has nature hasnature java core javacore nature java core javacore create project core exception coreexception shutdown remove listener java core javacore remove element changed listener removeelementchangedlistener f element listener felementlistener pde core pdecore get default getdefault get model manager getmodelmanager remove plugin model listener removepluginmodellistener f listeners flisteners f listeners flisteners clear i classpath entry iclasspathentry compute container classpath entries computecontainerclasspathentries core exception coreexception array list arraylist i classpath entry iclasspathentry result array list arraylist i classpath entry iclasspathentry i plugin model base ipluginmodelbase w models wmodels plugin registry pluginregistry get workspace models getworkspacemodels w models wmodels length i project iproject project w models wmodels get underlying resource getunderlyingresource get project getproject project has nature hasnature java core javacore nature result add java core javacore new project entry newprojectentry project get full path getfullpath iterator string iter f plugin id set fpluginidset iterator iter has next hasnext model entry modelentry entry plugin registry pluginregistry find entry findentry iter to string tostring entry add model addmodel w models wmodels entry get workspace models getworkspacemodels w models wmodels length i project iproject project w models wmodels get underlying resource getunderlyingresource get project getproject project has nature hasnature java core javacore nature add model addmodel add model addmodel i plugin model base ipluginmodelbase models entry get external models getexternalmodels models length models is enabled isenabled classpath util core classpathutilcore add libraries addlibraries models result result size sort map string i classpath entry iclasspathentry map tree map treemap string i classpath entry iclasspathentry result size i classpath entry iclasspathentry entry result string key entry get path getpath last segment lastsegment to string tostring map contains key containskey key key system current time millis currenttimemillis map key entry map values to array toarray i classpath entry iclasspathentry map size result to array toarray i classpath entry iclasspathentry result size override object create adapter child createadapterchild file adapter fileadapter parent file file file is directory isdirectory file is file isfile i package fragment root ipackagefragmentroot root find package fragment root findpackagefragmentroot path file get absolute path getabsolutepath root root file adapter fileadapter parent file i package fragment root ipackagefragmentroot find package fragment root findpackagefragmentroot i path ipath jar path jarpath i java project ijavaproject j project jproject get proxy project getproxyproject j project jproject i package fragment root ipackagefragmentroot roots j project jproject get all package fragment roots getallpackagefragmentroots roots length i package fragment root ipackagefragmentroot root roots i path ipath path root get path getpath path equals jar path jarpath root java model exception javamodelexception find plug fragments projects dependencies i plugin model base ipluginmodelbase plugin models pluginmodels plugin registry pluginregistry get workspace models getworkspacemodels plugin models pluginmodels length i project iproject project plugin models pluginmodels get underlying resource getunderlyingresource get project getproject i java project ijavaproject java project javaproject java core javacore create project i package fragment root ipackagefragmentroot roots java project javaproject get all package fragment roots getallpackagefragmentroots roots length i package fragment root ipackagefragmentroot root roots i path ipath path root get path getpath path equals jar path jarpath root java model exception javamodelexception check for proxy project checkforproxyproject i workspace root iworkspaceroot root pde core pdecore get workspace getworkspace get root getroot i project iproject project root get project getproject search able plugins manager searchablepluginsmanager proxy project project exists create proxy project createproxyproject null progress monitor nullprogressmonitor core exception coreexception add to java search addtojavasearch i plugin model base ipluginmodelbase models check for proxy project checkforproxyproject plugin model delta pluginmodeldelta delta plugin model delta pluginmodeldelta size f plugin id set fpluginidset size models length string models get plugin base getpluginbase get id getid f plugin id set fpluginidset add model entry modelentry entry plugin registry pluginregistry find entry findentry entry delta add entry addentry entry plugin model delta pluginmodeldelta changed f plugin id set fpluginidset size size reset container resetcontainer fire delta firedelta delta remove from java search removefromjavasearch i plugin model base ipluginmodelbase models plugin model delta pluginmodeldelta delta plugin model delta pluginmodeldelta size f plugin id set fpluginidset size models length string models get plugin base getpluginbase get id getid f plugin id set fpluginidset remove model entry modelentry entry plugin registry pluginregistry find entry findentry entry delta add entry addentry entry plugin model delta pluginmodeldelta changed f plugin id set fpluginidset size size reset container resetcontainer fire delta firedelta delta remove all from java search removeallfromjavasearch f plugin id set fpluginidset size plugin model delta pluginmodeldelta delta plugin model delta pluginmodeldelta iterator string iterator f plugin id set fpluginidset iterator iterator has next hasnext string iterator model entry modelentry entry plugin registry pluginregistry find entry findentry entry delta add entry addentry entry plugin model delta pluginmodeldelta changed f plugin id set fpluginidset clear reset container resetcontainer fire delta firedelta delta is in java search isinjavasearch string symbolic name symbolicname f plugin id set fpluginidset symbolic name symbolicname reset container resetcontainer i java project ijavaproject j project jproject get proxy project getproxyproject j project jproject java core javacore set classpath container setclasspathcontainer pde core pdecore java search container path i java project ijavaproject j project jproject i classpath container iclasspathcontainer external java search classpath container externaljavasearchclasspathcontainer save states savestates java model exception javamodelexception override models changed modelschanged plugin model delta pluginmodeldelta delta model entry modelentry entries delta get removed entries getremovedentries entries length f plugin id set fpluginidset entries get id getid f plugin id set fpluginidset remove entries get id getid reset container resetcontainer fire delta firedelta plugin model delta pluginmodeldelta delta f listeners flisteners f listeners flisteners size f listeners flisteners models changed modelschanged delta add plugin model listener addpluginmodellistener i plugin model listener ipluginmodellistener listener f listeners flisteners f listeners flisteners array list arraylist i plugin model listener ipluginmodellistener f listeners flisteners listener f listeners flisteners add listener remove plugin model listener removepluginmodellistener i plugin model listener ipluginmodellistener listener f listeners flisteners f listeners flisteners remove listener save states savestates persist i workspace root iworkspaceroot root pde core pdecore get workspace getworkspace get root getroot i project iproject project root get project getproject proxy project project exists project is open isopen modify search able searchable file change load states loadstates equals f plugin id set fpluginidset i file ifile file project get file getfile proxy file properties properties properties string buffer stringbuffer buffer string buffer stringbuffer iterator string iter f plugin id set fpluginidset iterator iter has next hasnext buffer length nls buffer append nls buffer append iter to string tostring properties set property setproperty key buffer to string tostring byte array output stream bytearrayoutputstream out stream outstream byte array output stream bytearrayoutputstream nls properties store nls out stream outstream nls out stream outstream flush out stream outstream close byte array input stream bytearrayinputstream in stream instream byte array input stream bytearrayinputstream out stream outstream to byte array tobytearray file exists file set contents setcontents in stream instream null progress monitor nullprogressmonitor file create in stream instream null progress monitor nullprogressmonitor in stream instream close io exception ioexception pde core pdecore log core exception coreexception pde core pdecore log i project iproject create proxy project createproxyproject i progress monitor iprogressmonitor monitor core exception coreexception i workspace root iworkspaceroot root pde core pdecore get workspace getworkspace get root getroot i project iproject project root get project getproject search able plugins manager searchablepluginsmanager proxy project project exists project is open isopen project open monitor project sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor nls bind pde core messages pdecoremessages search able plugins manager searchablepluginsmanager create project task name createprojecttaskname search able plugins manager searchablepluginsmanager proxy project project create sub monitor submonitor split project open sub monitor submonitor split core utility coreutility add nature to project addnaturetoproject project java core javacore nature sub monitor submonitor split i java project ijavaproject j project jproject java core javacore create project j project jproject set output location setoutputlocation project get full path getfullpath sub monitor submonitor split compute classpath computeclasspath j project jproject sub monitor submonitor split project compute classpath computeclasspath i java project ijavaproject project i progress monitor iprogressmonitor monitor i classpath entry iclasspathentry classpath i classpath entry iclasspathentry classpath java core javacore new container entry newcontainerentry java runtime javaruntime newdefaultjrecontainerpath classpath java core javacore new container entry newcontainerentry pde core pdecore java search container path project set raw classpath setrawclasspath classpath monitor java model exception javamodelexception
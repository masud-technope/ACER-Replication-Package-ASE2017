copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal editor build java util org eclipse core resources org eclipse core runtime org eclipse jface action org eclipse jface viewers org eclipse pde core i model changed event imodelchangedevent org eclipse pde core build org eclipse pde internal build i build properties constants ibuildpropertiesconstants org eclipse pde internal core project pde project pdeproject org eclipse pde internal pde plugin pdeplugin org eclipse pde internal editor org eclipse pde internal editor context input context inputcontext org eclipse pde internal elements default content provider defaultcontentprovider org eclipse swt swt org eclipse swt custom busy indicator busyindicator org eclipse swt layout grid data griddata org eclipse swt widgets org eclipse forms widgets form toolkit formtoolkit org eclipse forms widgets org eclipse model workbench label provider workbenchlabelprovider build contents section buildcontentssection table section tablesection i resource change listener iresourcechangelistener i resource delta visitor iresourcedeltavisitor checkbox tree viewer checkboxtreeviewer f tree viewer ftreeviewer f do refresh fdorefresh i container icontainer f bundle root fbundleroot i build model ibuildmodel f build model fbuildmodel i resource iresource f original resource foriginalresource f parent resource fparentresource is checked ischecked tree content provider treecontentprovider default content provider defaultcontentprovider i tree content provider itreecontentprovider override object get elements getelements object parent parent i container icontainer i container icontainer parent members core exception coreexception pde plugin pdeplugin log exception logexception object org eclipse jface viewers i tree content provider itreecontentprovider get children getchildren java lang object override object get children getchildren object parent parent i folder ifolder i folder ifolder parent members core exception coreexception pde plugin pdeplugin log exception logexception object object get folder children getfolderchildren object parent i resource iresource members parent i folder ifolder object members i folder ifolder parent members array list arraylist i resource iresource array list arraylist members length members get type gettype i resource iresource folder add members to array toarray core exception coreexception pde plugin pdeplugin log exception logexception object org eclipse jface viewers i tree content provider itreecontentprovider get parent getparent java lang object override object get parent getparent object element element element i resource iresource i resource iresource element get parent getparent org eclipse jface viewers i tree content provider itreecontentprovider has children haschildren java lang object override has children haschildren object element element i folder ifolder get children getchildren element length override create viewer part control createviewerpartcontrol composite parent style span form toolkit formtoolkit toolkit menu manager menumanager popup menu manager popupmenumanager menu manager menumanager i menu listener imenulistener listener i menu listener imenulistener override menu about to show menuabouttoshow i menu manager imenumanager mng fill context menu fillcontextmenu mng popup menu manager popupmenumanager add menu listener addmenulistener listener popup menu manager popupmenumanager set remove all when shown setremoveallwhenshown control control f tree viewer ftreeviewer get control getcontrol menu menu popup menu manager popupmenumanager create context menu createcontextmenu control control set menu setmenu menu override fill context menu fillcontextmenu i menu manager imenumanager manager manager add get page getpage getpdeeditor get contributor getcontributor get revert action getrevertaction get page getpage getpdeeditor get contributor getcontributor context menu about to show contextmenuabouttoshow manager i build model ibuildmodel get build model getbuildmodel input context inputcontext context get page getpage getpdeeditor get context manager getcontextmanager find context findcontext build input context buildinputcontext context i build model ibuildmodel context get model getmodel build contents section buildcontentssection pde form page pdeformpage composite parent parent description string pde plugin pdeplugin get workspace getworkspace add resource change listener addresourcechangelistener override create client createclient form toolkit formtoolkit toolkit composite container create client container createclientcontainer toolkit f build model fbuildmodel get build model getbuildmodel f build model fbuildmodel get underlying resource getunderlyingresource f bundle root fbundleroot pde project pdeproject get bundle root getbundleroot f build model fbuildmodel get underlying resource getunderlyingresource get project getproject f tree viewer ftreeviewer checkbox tree viewer checkboxtreeviewer toolkit create tree createtree container swt check f tree viewer ftreeviewer set content provider setcontentprovider tree content provider treecontentprovider f tree viewer ftreeviewer set label provider setlabelprovider workbench label provider workbenchlabelprovider f tree viewer ftreeviewer set auto expand level setautoexpandlevel f tree viewer ftreeviewer add check state listener addcheckstatelistener i check state listener icheckstatelistener override check state changed checkstatechanged check state changed event checkstatechangedevent event object element event get element getelement busy indicator busyindicator show while showwhile get display getdisplay runnable override element i file ifile i file ifile file i file ifile event get element getelement handle check state changed handlecheckstatechanged file event get checked getchecked element i folder ifolder i folder ifolder folder i folder ifolder event get element getelement handle check state changed handlecheckstatechanged folder event get checked getchecked grid data griddata grid data griddata grid data griddata fill height hint heighthint width hint widthhint f tree viewer ftreeviewer get tree gettree set layout data setlayoutdata initialize toolkit paint b orders for paintbordersfor container create viewer part control createviewerpartcontrol container swt full selection toolkit set layout setlayout form layout factory formlayoutfactory create clear grid layout createcleargridlayout set layout data setlayoutdata grid data griddata grid data griddata fill horizontal set client setclient container enable section enablesection enable f tree viewer ftreeviewer get tree gettree set enabled setenabled enable handle check state changed handlecheckstatechanged i resource iresource resource checked f original resource foriginalresource resource is checked ischecked checked was top parent checked wastopparentchecked f tree viewer ftreeviewer get checked getchecked f original resource foriginalresource get parent getparent is checked ischecked resource handle all unselected handleallunselected resource resource get name getname f parent resource fparentresource resource handle build check state change handlebuildcheckstatechange was top parent checked wastopparentchecked i resource iresource handle all unselected handleallunselected i resource iresource resource string i resource iresource parent resource get parent getparent parent equals f bundle root fbundleroot resource uncheck i resource iresource members i folder ifolder parent members members length f tree viewer ftreeviewer get checked getchecked members members get name getname equals uncheck uncheck handle all unselected handleallunselected parent parent get name getname resource core exception coreexception pde plugin pdeplugin log exception logexception set children grayed setchildrengrayed i resource iresource folder is gray isgray f tree viewer ftreeviewer set grayed setgrayed folder is gray isgray tree content provider treecontentprovider f tree viewer ftreeviewer get content provider getcontentprovider has children haschildren folder object members tree content provider treecontentprovider f tree viewer ftreeviewer get content provider getcontentprovider get folder children getfolderchildren folder members length set children grayed setchildrengrayed i folder ifolder members is gray isgray set parents checked setparentschecked i resource iresource resource resource get parent getparent resource get project getproject f tree viewer ftreeviewer set checked setchecked resource get parent getparent set parents checked setparentschecked resource get parent getparent removes child resources folder build entries param folder current folder modified tree not e note remove folder delete folder children from entries deletefolderchildrenfromentries i folder ifolder folder initialize check state initializecheckstate uncheck all uncheckall initialize check state initializecheckstate i build entry ibuildentry includes i build entry ibuildentry excludes f tree viewer ftreeviewer get tree gettree get display getdisplay async exec asyncexec runnable override slight improve ments improvements display get current getcurrent f tree viewer ftreeviewer get tree gettree get display getdisplay busy indicator busyindicator show while showwhile display get current getcurrent runnable override f tree viewer ftreeviewer get tree gettree is disposed isdisposed vector string file ext fileext vector string inc l tokens incltokens exc l tokens excltokens string f bundle root fbundleroot includes inc l tokens incltokens includes get tokens gettokens excludes exc l tokens excltokens excludes get tokens gettokens string temp tree set treeset inc l tokens incltokens length temp add inc l tokens incltokens exc l tokens excltokens length temp add exc l tokens excltokens iterator string iter temp iterator iter has next hasnext string resource iter to string tostring is included isincluded includes resource resource is empty isempty ignore empty resource equals resource equals resource equals resource last index of lastindexof i path ipath separator resource length i folder ifolder folder f bundle root fbundleroot get folder getfolder path resource folder exists f tree viewer ftreeviewer set subtree checked setsubtreechecked folder is included isincluded f tree viewer ftreeviewer set parents grayed setparentsgrayed folder is included isincluded set parents checked setparentschecked folder f tree viewer ftreeviewer set grayed setgrayed folder resource starts with startswith is included isincluded file ext fileext add resource substring i file ifile file f bundle root fbundleroot get file getfile path resource file exists f tree viewer ftreeviewer set checked setchecked file is included isincluded f tree viewer ftreeviewer set parents grayed setparentsgrayed file is included isincluded f tree viewer ftreeviewer set grayed setgrayed file set parents checked setparentschecked file file ext fileext size i resource iresource members f bundle root fbundleroot members members length members i folder ifolder file ext fileext members get file extension getfileextension f tree viewer ftreeviewer set checked setchecked members includes members get file extension getfileextension core exception coreexception pde plugin pdeplugin log exception logexception handle build check state change handlebuildcheckstatechange was top parent checked wastopparentchecked handle check handlecheck i build entry ibuildentry includes i build entry ibuildentry excludes string resource name resourcename i resource iresource resource was top parent checked wastopparentchecked string property includes includes includes f build model fbuildmodel get factory getfactory create entry createentry property includes i build ibuild build f build model fbuildmodel get build getbuild build add includes was top parent checked wastopparentchecked includes resource name resourcename is valid include entry isvalidincludeentry includes excludes resource resource name resourcename includes add token addtoken resource name resourcename excludes excludes resource name resourcename excludes remove token removetoken resource name resourcename core exception coreexception pde plugin pdeplugin log exception logexception is valid include entry isvalidincludeentry i build entry ibuildentry includes i build entry ibuildentry excludes i resource iresource resource string resource name resourcename excludes i path ipath res path respath resource get project relative path getprojectrelativepath res path respath segment count segmentcount res path respath res path respath remove last segments removelastsegments includes res path respath to string tostring i path ipath separator excludes res path respath to string tostring i path ipath separator excludes resource name resourcename handle uncheck handleuncheck i build entry ibuildentry includes i build entry ibuildentry excludes string resource name resourcename i resource iresource resource string property excludes f tree viewer ftreeviewer get checked getchecked resource get parent getparent excludes excludes f build model fbuildmodel get factory getfactory create entry createentry property excludes i build ibuild build f build model fbuildmodel get build getbuild build add excludes excludes resource name resourcename includes includes resource name resourcename excludes add token addtoken resource name resourcename includes includes resource name resourcename includes remove token removetoken resource name resourcename includes resource get file extension getfileextension i resource iresource members f bundle root fbundleroot members members length members i folder ifolder members get name getname equals resource get name getname resource get file extension getfileextension equals members get file extension getfileextension includes add token addtoken members get name getname i build entry ibuildentry libraries build util buildutil get build libraries getbuildlibraries f build model fbuildmodel get build getbuild get build entries getbuildentries resource get file extension getfileextension equals jar libraries length libraries length string lib name libname libraries get name getname substring i path ipath path f bundle root fbundleroot get file getfile path lib name libname get project relative path getprojectrelativepath make relative to makerelativeto f bundle root fbundleroot get project relative path getprojectrelativepath path segment count segmentcount includes lib name libname lib name libname equals resource get name getname includes add token addtoken lib name libname includes remove token removetoken resource get file extension getfileextension core exception coreexception pde plugin pdeplugin log exception logexception string get resource folder name getresourcefoldername string resource name resourcename resource name resourcename i path ipath separator string handle resource folder handleresourcefolder i resource iresource resource string resource name resourcename resource i folder ifolder delete folder children from entries deletefolderchildrenfromentries i folder ifolder resource get resource folder name getresourcefoldername resource name resourcename resource name resourcename initialize f tree viewer ftreeviewer get input getinput f tree viewer ftreeviewer set use hash lookup setusehashlookup f tree viewer ftreeviewer set input setinput f bundle root fbundleroot f build model fbuildmodel add model changed listener addmodelchangedlistener override dispose f build model fbuildmodel remove model changed listener removemodelchangedlistener pde plugin pdeplugin get workspace getworkspace remove resource change listener removeresourcechangelistener dispose delete empty entries deleteemptyentries i build ibuild build f build model fbuildmodel get build getbuild i build entry ibuildentry entries build get entry getentry i build properties constants ibuildpropertiesconstants property bin excludes build get entry getentry i build properties constants ibuildpropertiesconstants property bin includes build get entry getentry i build properties constants ibuildpropertiesconstants property src excludes build get entry getentry i build properties constants ibuildpropertiesconstants property src includes entries length entries entries get tokens gettokens length build remove entries core exception coreexception pde plugin pdeplugin log exception logexception checkbox tree viewer checkboxtreeviewer get tree viewer gettreeviewer f tree viewer ftreeviewer override i selection iselection get viewer selection getviewerselection get tree viewer gettreeviewer get selection getselection override refresh initialize check state initializecheckstate refresh uncheck all uncheckall f tree viewer ftreeviewer set checked elements setcheckedelements object remove children removechildren i build entry ibuildentry entry string parent folder parentfolder entry string tokens entry get tokens gettokens tokens length tokens index of indexof i path ipath separator tokens starts with startswith parent folder parentfolder tokens equals parent folder parentfolder entry remove token removetoken tokens core exception coreexception pde plugin pdeplugin log exception logexception override resource changed resourcechanged i resource change event iresourcechangeevent event f tree viewer ftreeviewer get control getcontrol is disposed isdisposed f do refresh fdorefresh i resource delta iresourcedelta delta event get delta getdelta delta delta accept f do refresh fdorefresh async refresh asyncrefresh f do refresh fdorefresh core exception coreexception override visit i resource delta iresourcedelta delta core exception coreexception i resource iresource resource delta get resource getresource i project iproject project f build model fbuildmodel get underlying resource getunderlyingresource get project getproject resource i file ifile resource i folder ifolder resource get project getproject equals project delta get kind getkind i resource delta iresourcedelta delta get kind getkind i resource delta iresourcedelta removed f do refresh fdorefresh resource i project iproject i project iproject resource equals project delta get kind getkind i resource delta iresourcedelta removed async refresh asyncrefresh control control f tree viewer ftreeviewer get control getcontrol control is disposed isdisposed control get display getdisplay async exec asyncexec runnable override f tree viewer ftreeviewer get control getcontrol is disposed isdisposed f tree viewer ftreeviewer refresh initialize check state initializecheckstate override selection changed selectionchanged i structured selection istructuredselection selection get page getpage getpdeeditor set selection setselection selection override model changed modelchanged i model changed event imodelchangedevent event event get change type getchangetype i model changed event imodelchangedevent changed mark stale markstale object change object changeobject event get changed objects getchangedobjects change object changeobject i build entry ibuildentry i build entry ibuildentry change object changeobject get name getname equals i build properties constants ibuildpropertiesconstants property bin excludes i build entry ibuildentry change object changeobject get name getname equals i build properties constants ibuildpropertiesconstants property bin includes i build entry ibuildentry change object changeobject get name getname equals i build properties constants ibuildpropertiesconstants property src excludes i build entry ibuildentry change object changeobject get name getname equals i build properties constants ibuildpropertiesconstants property src includes f parent resource fparentresource f original resource foriginalresource f original resource foriginalresource f parent resource fparentresource initialize check state initializecheckstate f parent resource fparentresource f original resource foriginalresource event get changed property getchangedproperty event get changed property getchangedproperty equals i build properties constants ibuildpropertiesconstants property bin includes f tree viewer ftreeviewer set checked setchecked f parent resource fparentresource is checked ischecked f tree viewer ftreeviewer set grayed setgrayed f original resource foriginalresource f tree viewer ftreeviewer set parents grayed setparentsgrayed f parent resource fparentresource set parents checked setparentschecked f parent resource fparentresource f tree viewer ftreeviewer set grayed setgrayed f parent resource fparentresource f parent resource fparentresource i folder ifolder f tree viewer ftreeviewer set subtree checked setsubtreechecked f parent resource fparentresource is checked ischecked set children grayed setchildrengrayed f parent resource fparentresource f original resource foriginalresource equals f parent resource fparentresource f tree viewer ftreeviewer set checked setchecked f original resource foriginalresource is checked ischecked f original resource foriginalresource f original resource foriginalresource get parent getparent f parent resource fparentresource f original resource foriginalresource
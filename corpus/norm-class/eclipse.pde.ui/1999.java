copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools util tests java file java io exception ioexception java util hash map hashmap java util iterator java util list java util org eclipse core resources i file ifile org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime null progress monitor nullprogressmonitor org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core java model exception javamodelexception org eclipse jdt core dom ast org eclipse jdt core dom ast parser astparser org eclipse jdt core dom ast visitor astvisitor org eclipse jdt core dom compilation unit compilationunit org eclipse jdt core dom field declaration fielddeclaration org eclipse jdt core dom javadoc org eclipse jdt core dom method declaration methoddeclaration org eclipse jdt core dom tag element tagelement org eclipse jdt core dom type declaration typedeclaration org eclipse jdt core dom variable declaration fragment variabledeclarationfragment org eclipse ltk core refactoring composite change compositechange org eclipse ltk core refactoring text file change textfilechange org eclipse pde api tools internal api description processor apidescriptionprocessor org eclipse pde api tools internal util signatures org eclipse pde api tools model tests test suite helper testsuitehelper org eclipse pde api tools tests abstract api test abstractapitest org eclipse pde api tools tests util file utils fileutils org eclipse pde api tools tests util project utils projectutils org eclipse pde api tools internal apiuiplugin org eclipse pde api tools internal wizards api tooling setup refactoring apitoolingsetuprefactoring org eclipse pde api tools internal wizards wizard messages wizardmessages org eclipse text edits multi text edit multitextedit org eclipse text edits text edit textedit ibm icu text message format messageformat tests link api description processor apidescriptionprocessor api description processor tests apidescriptionprocessortests abstract api test abstractapitest source directory javadoc updating test source string javadoc src dir nls nls javadoc src dir test suite helper testsuitehelper get plugin directory path getplugindirectorypath append test source append javadoc toosstring visitor inspect files tags ensure tags component xml file change visitor changevisitor ast visitor astvisitor string type membername signature inner typename innertypename string expected tags expectedtags processed constructor param type param membername param signature change visitor changevisitor string type string inner typename innertypename string membername string signature string expected tags expectedtags type type membername membername signature signature expected tags expectedtags expected tags expectedtags inner typename innertypename inner typename innertypename javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom field declaration fielddeclaration override visit field declaration fielddeclaration node signature method list variable declaration fragment variabledeclarationfragment fields node fragments variable declaration fragment variabledeclarationfragment fragment iterator variable declaration fragment variabledeclarationfragment iter fields iterator iter has next hasnext fragment iter fragment get name getname get fully qualified name getfullyqualifiedname equals membername javadoc docnode node get javadoc getjavadoc nls nls assert not null assertnotnull field membername javadoc node docnode nls nls assert true asserttrue field membername tags get string value getstringvalue expected tags expectedtags contains all tags containsalltags docnode tags processed javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom method declaration methoddeclaration override visit method declaration methoddeclaration node node get name getname get fully qualified name getfullyqualifiedname equals membername string sig signatures get method signature from node getmethodsignaturefromnode node signature equals sig javadoc docnode node get javadoc getjavadoc nls nls nls assert not null assertnotnull method membername signature javadoc node docnode nls nls nls assert true asserttrue method membername signature tags get string value getstringvalue expected tags expectedtags contains all tags containsalltags docnode tags processed javadoc org eclipse jdt core dom ast visitor astvisitor visit org eclipse jdt core dom type declaration typedeclaration override visit type declaration typedeclaration node membername signature string node get name getname get fully qualified name getfullyqualifiedname inner typename innertypename equals type equals inner typename innertypename javadoc docnode node get javadoc getjavadoc nls nls assert not null assertnotnull type javadoc node docnode nls nls assert true asserttrue type tags get string value getstringvalue expected tags expectedtags contains all tags containsalltags docnode tags processed membername inner typename innertypename determines listing doc tags declaration expected tags param tags tag list expected tags contains all tags containsalltags list tag element tagelement tags all found allfound tag element tagelement element expected tags expectedtags length contained tags size element tags expected tags expectedtags equals element get tag name gettagname contained all found allfound contained all found allfound string get string value getstringvalue string tags string buffer stringbuffer buffer string buffer stringbuffer max tags length max buffer append buffer append tags string value of valueof buffer nls nls i path ipath root path test suite helper testsuitehelper get plugin directory path getplugindirectorypath append test source append javadoc nls file component xml componentxml file root path append component xml toosstring javadoc junit framework test case testcase set up setup override set up setup exception set up setup create project createproject testing project i java project ijavaproject project get testing java project gettestingjavaproject testing project nls assert not null assertnotnull java project created project i package fragment root ipackagefragmentroot src root srcroot project utils projectutils add source container addsourcecontainer project project utils projectutils src folder nls assert not null assertnotnull src root created src root srcroot file src file javadoc src dir nls assert true asserttrue source dir exist src exists nls assert true asserttrue source dir directory src is directory isdirectory nls assert not null assertnotnull src root srcroot test java project src root srcroot nls file utils fileutils import files from directory importfilesfromdirectory src src root srcroot get path getpath append javadoc null progress monitor nullprogressmonitor api tooling setup refactoring apitoolingsetuprefactoring refactoring api tooling setup refactoring apitoolingsetuprefactoring nls composite change compositechange change composite change compositechange test create tag changes createtagchanges change project component xml componentxml refactoring add change addchange change perform refactoring performrefactoring refactoring javadoc junit framework test case testcase tear down teardown override tear down teardown exception tear down teardown delete project deleteproject testing project tests component xml file parsed doc forms directory component xml file component xml file jar file component xml file test serialize component xml testserializecomponentxml string xml api description processor apidescriptionprocessor serialize component xml serializecomponentxml file root path toosstring nls assert not null assertnotnull component xml file exist parsable root directory xml xml api description processor apidescriptionprocessor serialize component xml serializecomponentxml component xml componentxml nls assert not null assertnotnull component xml file exist parsable component xml file xml nls xml api description processor apidescriptionprocessor serialize component xml serializecomponentxml file root path append component jar toosstring nls assert not null assertnotnull component xml file exist parsable jar file xml creates text edit collected processor collected edits arranged multi edits file belong param project change projectchange param project param cxml create tag changes createtagchanges composite change compositechange project change projectchange i java project ijavaproject project file cxml hash map hashmap i file ifile text edit textedit map hash map hashmap i file ifile text edit textedit api description processor apidescriptionprocessor collect tag updates collecttagupdates project cxml map i file ifile file text file change textfilechange change multi text edit multitextedit multiedit text edit textedit all edits alledits text edit textedit edit iterator i file ifile iter map key set keyset iterator iter has next hasnext file iter change text file change textfilechange message format messageformat format wizard messages wizardmessages javadoc tag refactoring javadoctagrefactoring object file get name getname file multiedit multi text edit multitextedit change set edit setedit multiedit all edits alledits map file all edits alledits iterator text edit textedit iter all edits alledits iterator iter has next hasnext edit iter multiedit add child addchild edit change project change projectchange add change core exception coreexception apiuiplugin log io exception ioexception apiuiplugin log processes change original updated param typename type query param membername member param signature signature member param tags expect process updated item processupdateditem string typename string inner typename innertypename string membername string signature string expected tags expectedtags exception i java project ijavaproject project get testing java project gettestingjavaproject testing project nls i type itype type project find type findtype javadoc typename nls nls assert not null assertnotnull type javadoc typename exist type ast parser astparser parser ast parser astparser new parser newparser ast jls parser set source setsource type get compilation unit getcompilationunit compilation unit compilationunit cunit compilation unit compilationunit parser createast null progress monitor nullprogressmonitor change visitor changevisitor visitor change visitor changevisitor typename inner typename innertypename membername signature expected tags expectedtags cunit accept visitor nls assert true asserttrue node processed visitor processed java model exception javamodelexception jme fail test javadoc typename problems loading tests add ition addition javadoc tag code javadoc test class javadoctestclass code test process class add ition testprocessclassaddition exception nls nls process updated item processupdateditem javadoc test class javadoctestclass string noinstantiate tests add ition addition javadoc tag javadoc code javadoc test class javadoctestclass code test process class add ition no doc element testprocessclassadditionnodocelement exception process updated item processupdateditem javadoc test class javadoctestclass nls string noextend nls nls noinstantiate tests add ition addition javadoc tag method javadoc code javadoc test class javadoctestclass code test process method add ition no doc element testprocessmethodadditionnodocelement exception nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string nooverride tests add ition addition javadoc tag field javadoc code javadoc test class javadoctestclass code test process field add ition no doc element testprocessfieldadditionnodocelement exception nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference tests add ition addition javadoc tag code javadoc test class javadoctestclass code test process inner class add ition testprocessinnerclassaddition exception nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noinstantiate tests add ition addition javadoc tags methods code javadoc test class javadoctestclass code test process method add ition testprocessmethodaddition exception nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string nooverride nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference tests add ition addition javadoc tags fields code javadoc test class javadoctestclass code test process field add ition testprocessfieldaddition exception nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference tests add ition addition javadoc tags methods classes code javadoc test class javadoctestclass code test process inner method add ition testprocessinnermethodaddition exception nls nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string nooverride nls nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference tests add ition addition javadoc tags fields classes code javadoc test class javadoctestclass code test process inner field add ition testprocessinnerfieldaddition exception nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference nls nls nls nls process updated item processupdateditem javadoc test class javadoctestclass string noreference tests subclass attribute correctly resolved noextend restriction tag updating tests bug https bugs eclipse org bugs bug cgi code javadoc test class javadoctestclass code test process sub class attribute testprocesssubclassattribute exception nls nls process updated item processupdateditem javadoc test class javadoctestclass string noextend
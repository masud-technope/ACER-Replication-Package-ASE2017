copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal editor java util org eclipse jface text org eclipse jface text source annotation org eclipse jface text source project ion projection project ion annotation projectionannotation org eclipse jface text source project ion projection project ion annotation model projectionannotationmodel org eclipse pde core i model changed event imodelchangedevent org eclipse pde core i model changed listener imodelchangedlistener org eclipse pde internal core text i editing model ieditingmodel abstract folding structure provider abstractfoldingstructureprovider i folding structure provider ifoldingstructureprovider i model changed listener imodelchangedlistener pde source page pdesourcepage f editor feditor i editing model ieditingmodel f model fmodel abstract folding structure provider abstractfoldingstructureprovider pde source page pdesourcepage editor i editing model ieditingmodel model f editor feditor editor f model fmodel model update project ion annotation model projectionannotationmodel annotation model annotationmodel project ion annotation model projectionannotationmodel f editor feditor get adapter getadapter project ion annotation model projectionannotationmodel annotation model annotationmodel position current regions currentregions hash set hashset add folding regions addfoldingregions current regions currentregions f model fmodel update folding regions updatefoldingregions annotation model annotationmodel current regions currentregions bad location exception badlocationexception update folding regions updatefoldingregions project ion annotation model projectionannotationmodel model current regions currentregions annotation deletions compute differences computedifferences model current regions currentregions map project ion annotation projectionannotation object add itions map additionsmap hash map hashmap iterator iter current regions currentregions iterator iter has next hasnext object position iter add itions map additionsmap project ion annotation projectionannotation position deletions length add itions map additionsmap size model modify annotations modifyannotations deletions add itions map additionsmap annotation annotation compute differences computedifferences project ion annotation model projectionannotationmodel model add itions additions list object deletions array list arraylist iterator iter model get annotation iterator getannotationiterator iter has next hasnext object annotation iter annotation project ion annotation projectionannotation position position model get position getposition annotation annotation add itions additions position add itions additions remove position deletions add annotation deletions to array toarray annotation deletions size override initialize update override model changed modelchanged i model changed event imodelchangedevent event update override reconciled i document idocument document update
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools util tests java file org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime null progress monitor nullprogressmonitor org eclipse core runtime path org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools model tests test suite helper testsuitehelper org eclipse pde api tools tests abstract api test abstractapitest org eclipse pde api tools tests util file utils fileutils org eclipse pde api tools tests util project utils projectutils org eclipse pde core project i package export description ipackageexportdescription org eclipse pde internal core i core constants icoreconstants org eclipse pde internal core natures pde creates link i java project ijavaproject testing target workspace project creation tests projectcreationtests abstract api test abstractapitest source directory javadoc updating test source string javadoc src dir source directory javadoc reading test source string javadoc read src dir nls javadoc src dir get source directory getsourcedirectory javadoc nls nls nls javadoc read src dir get source directory getsourcedirectory path append append javadoc junit framework test case testcase set up setup override set up setup exception set up setup create project createproject testing project i java project ijavaproject project get testing java project gettestingjavaproject testing project nls assert not null assertnotnull java project created project javadoc junit framework test case testcase tear down teardown override tear down teardown exception tear down teardown delete project deleteproject testing project tests importing java source javadoc tag update tests test import javadoc test source testimportjavadoctestsource file dest file javadoc src dir nls assert true asserttrue source dir exist dest exists nls assert true asserttrue source dir directory dest is directory isdirectory i java project ijavaproject project get testing java project gettestingjavaproject testing project i package fragment root ipackagefragmentroot src root srcroot project get package fragment root getpackagefragmentroot project utils projectutils src folder nls assert not null assertnotnull src root srcroot test java project src root srcroot nls file utils fileutils import files from directory importfilesfromdirectory dest project get path getpath append src root srcroot get path getpath append javadoc null progress monitor nullprogressmonitor file test worked nls i type itype type project find type findtype javadoc javadoc test class javadoctestclass null progress monitor nullprogressmonitor nls assert not null assertnotnull javadoc test class javadoctestclass type exist javadoc type exception fail get message getmessage tests importing java source javadoc tag reading tests test import classes test source testimportclassestestsource file dest file javadoc read src dir nls assert true asserttrue source dir exist dest exists nls assert true asserttrue source dir directory dest is directory isdirectory i java project ijavaproject project get testing java project gettestingjavaproject testing project i package fragment root ipackagefragmentroot src root srcroot project get package fragment root getpackagefragmentroot project utils projectutils src folder nls assert not null assertnotnull src root srcroot test java project src root srcroot nls nls nls file utils fileutils import files from directory importfilesfromdirectory dest project get path getpath append src root srcroot get path getpath append append append null progress monitor nullprogressmonitor exception fail get message getmessage tests creation plugin project test create plugin project testcreatepluginproject i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject nls assert true asserttrue project pde nature project has nature hasnature pde plugin nature nls assert true asserttrue project java nature project has nature hasnature java core javacore nature nls assert true asserttrue project additional nature api tools project has nature hasnature api plugin apiplugin nature nls i file ifile file project get file getfile build properties nls assert true asserttrue build properties file exist file exists file project get file getfile i core constants icoreconstants bundle filename descriptor nls assert true asserttrue manifest file exist file exists exception fail get message getmessage finds export param exports export descriptions search param package name packagename search export description code code i package export description ipackageexportdescription get export getexport i package export description ipackageexportdescription exports string package name packagename exports exports length i package export description ipackageexportdescription export exports export get name getname equals package name packagename export asserts common values exported object param export description test param internal state internalstate desired internal directive param friendcount desired friend count assert exported package assertexportedpackage i package export description ipackageexportdescription export internal state internalstate friendcount string package name packagename export get name getname nls nls assert true asserttrue package name packagename internal export is api isapi internal state internalstate friendcount nls assert null assertnull friends export get friends getfriends nls nls assert equals assertequals package name packagename friends friendcount export get friends getfriends length tests adding exported plugin project test add raw exported package testaddrawexportedpackage core exception coreexception nls string package name packagename org eclipse apitools test i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject project utils projectutils add exported package addexportedpackage project package name packagename i package export description ipackageexportdescription exports project utils projectutils get exported packages getexportedpackages project assert exported package assertexportedpackage get export getexport exports package name packagename tests adding exported internal directive test add internal exported package testaddinternalexportedpackage core exception coreexception nls string package name packagename org eclipse apitools test internal i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject project utils projectutils add exported package addexportedpackage project package name packagename i package export description ipackageexportdescription exports project utils projectutils get exported packages getexportedpackages project assert exported package assertexportedpackage get export getexport exports package name packagename tests adding exported friends friends directive test add external package with friends testaddexternalpackagewithfriends core exception coreexception nls string package name packagename org eclipse apitools test friends i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject project utils projectutils add exported package addexportedpackage project package name packagename string nls nls nls nls i package export description ipackageexportdescription exports project utils projectutils get exported packages getexportedpackages project assert exported package assertexportedpackage get export getexport exports package name packagename tests adding exported test add multiple exported packages testaddmultipleexportedpackages core exception coreexception i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject nls nls nls nls nls project utils projectutils add exported package addexportedpackage project org eclipse apitools test multi friends string nls project utils projectutils add exported package addexportedpackage project org eclipse apitools test multi internal i package export description ipackageexportdescription exports project utils projectutils get exported packages getexportedpackages project nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test multi friends nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test multi internal tests removing exported test remove existing exported package testremoveexistingexportedpackage core exception coreexception i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject nls nls project utils projectutils add exported package addexportedpackage project org eclipse apitools test remove string nls project utils projectutils add exported package addexportedpackage project org eclipse apitools test remove i package export description ipackageexportdescription exports project utils projectutils get exported packages getexportedpackages project nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test remove nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test remove nls project utils projectutils remove exported package removeexportedpackage project org eclipse apitools test remove exports project utils projectutils get exported packages getexportedpackages project nls nls assert null assertnull removed header get export getexport exports org eclipse apitools test remove nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test remove tests remove exist header test remove non existing exported package testremovenonexistingexportedpackage core exception coreexception i java project ijavaproject jproject get testing java project gettestingjavaproject testing project i project iproject project jproject get project getproject nls nls project utils projectutils add exported package addexportedpackage project org eclipse apitools test remove a removea string i package export description ipackageexportdescription exports project utils projectutils get exported packages getexportedpackages project nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test remove a removea nls project utils projectutils remove exported package removeexportedpackage project org eclipse apitools test don t dont exist nls assert exported package assertexportedpackage get export getexport exports org eclipse apitools test remove a removea returns source path load test source files testing project param dir name dirname directory source contained complete path source directory string get source directory getsourcedirectory i path ipath dir name dirname nls test suite helper testsuitehelper get plugin directory path getplugindirectorypath append test source append dir name dirname toosstring returns source path load test source files testing project param dir name dirname directory source contained complete path source directory string get source directory getsourcedirectory string dir name dirname nls test suite helper testsuitehelper get plugin directory path getplugindirectorypath append test source append dir name dirname toosstring
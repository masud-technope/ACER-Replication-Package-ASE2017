copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation benjamin cabe benjamin cabe any ware anyware tech bug org eclipse pde internal editor contentassist java util hash set hashset java util stack org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse jface internal text html browser information control browserinformationcontrol org eclipse jface internal text html html printer htmlprinter org eclipse jface resource j fac e resources jfaceresources org eclipse jface text org eclipse jface text contentassist org eclipse pde core i base model ibasemodel org eclipse pde core plugin org eclipse pde internal core ischema org eclipse pde internal core text org eclipse pde internal core text plugin plugin attribute pluginattribute org eclipse pde internal pde plugin pdeplugin org eclipse pde internal pde ui messages pdeuimessages org eclipse pde internal editor pde source page pdesourcepage org eclipse pde internal editor text xml util xmlutil org eclipse pde internal util text util textutil org eclipse swt graphics image org eclipse swt graphics point org eclipse swt widgets shell xml completion proposal xmlcompletionproposal i completion proposal icompletionproposal i completion proposal extension icompletionproposalextension i completion proposal extension icompletionproposalextension i completion proposal extension icompletionproposalextension nls string def attr indent i schema object ischemaobject f schema object fschemaobject i document range idocumentrange f range frange f offset foffset f len flen f sel offset fseloffset f sel len fsellen xml content assist processor xmlcontentassistprocessor f processor fprocessor string f add info faddinfo i information control creator iinformationcontrolcreator f creator fcreator i plugin parent ipluginparent f plugin parent fpluginparent i schema element ischemaelement f schema element fschemaelement xml completion proposal xmlcompletionproposal i document range idocumentrange node i schema object ischemaobject object offset xml content assist processor xmlcontentassistprocessor processor f len flen f sel offset fseloffset f sel len fsellen f range frange node f schema object fschemaobject object f offset foffset offset f processor fprocessor processor override apply i document idocument document i text selection itextselection sel f processor fprocessor get current selection getcurrentselection sel f len flen sel get length getlength sel get offset getoffset f offset foffset f len flen cursor moved popup opened f len flen negative bug f len flen string delim text utilities textutilities get default line delimiter getdefaultlinedelimiter document string buffer stringbuffer document insert buffer documentinsertbuffer string buffer stringbuffer do internal work dointernalwork generate text apply depending proposal type f schema object fschemaobject i schema attribute ischemaattribute apply attribute applyattribute document insert buffer documentinsertbuffer f schema object fschemaobject i schema element ischemaelement apply element applyelement get indent getindent document f offset foffset delim document insert buffer documentinsertbuffer do internal work dointernalwork f schema object fschemaobject virtual schema object virtualschemaobject do internal work dointernalwork apply virtual applyvirtual document sel delim document insert buffer documentinsertbuffer do internal work dointernalwork check apply document insert buffer documentinsertbuffer length apply proposal document document replace f offset foffset f len flen document insert buffer documentinsertbuffer to string tostring bad location exception badlocationexception pde plugin pdeplugin log update model do internal work dointernalwork modify model modifymodel document param document param sel param delim param document insert buffer documentinsertbuffer param do internal work dointernalwork apply virtual applyvirtual i document idocument document i text selection itextselection sel string delim string buffer stringbuffer document insert buffer documentinsertbuffer do internal work dointernalwork type virtual schema object virtualschemaobject f schema object fschemaobject getvtype type xml content assist processor xmlcontentassistprocessor attribute apply attribute applyattribute document insert buffer documentinsertbuffer xml content assist processor xmlcontentassistprocessor close tag f offset foffset sel get offset getoffset f len flen nls document insert buffer documentinsertbuffer append nls xml content assist processor xmlcontentassistprocessor extension apply extension applyextension document delim document insert buffer documentinsertbuffer xml content assist processor xmlcontentassistprocessor extension point apply extension point applyextensionpoint document insert buffer documentinsertbuffer xml content assist processor xmlcontentassistprocessor extension point add required child nodes attributes do internal work dointernalwork apply extension full point applyextensionfullpoint document delim document insert buffer documentinsertbuffer xml content assist processor xmlcontentassistprocessor extension attribute point add required child nodes attributes do internal work dointernalwork xml content assist processor xmlcontentassistprocessor attribute xml content assist processor xmlcontentassistprocessor attribute xml content assist processor xmlcontentassistprocessor attribute apply attribute value applyattributevalue document document insert buffer documentinsertbuffer do internal work dointernalwork param document param document insert buffer documentinsertbuffer apply attribute value applyattributevalue i document idocument document string buffer stringbuffer document insert buffer documentinsertbuffer f range frange i document attribute node idocumentattributenode f offset foffset i document attribute node idocumentattributenode f range frange get value offset getvalueoffset string f schema object fschemaobject get name getname add indentation f offset foffset doc len doclen document get length getlength f len flen doc len doclen document get char getchar f len flen bad location exception badlocationexception document insert buffer documentinsertbuffer append f sel offset fseloffset f offset foffset length param document insert buffer documentinsertbuffer apply extension point applyextensionpoint string buffer stringbuffer document insert buffer documentinsertbuffer nls string nls document insert buffer documentinsertbuffer append extension point f sel offset fseloffset f offset foffset document insert buffer documentinsertbuffer length f sel len fsellen length document insert buffer documentinsertbuffer append nls document insert buffer documentinsertbuffer append param document param delim param document insert buffer documentinsertbuffer apply extension applyextension i document idocument document string delim string buffer stringbuffer document insert buffer documentinsertbuffer nls document insert buffer documentinsertbuffer append extension document insert buffer documentinsertbuffer append delim string indent get indent getindent document f offset foffset document insert buffer documentinsertbuffer append indent document insert buffer documentinsertbuffer append def attr indent nls document insert buffer documentinsertbuffer append point position rigth point attribute f sel offset fseloffset f offset foffset document insert buffer documentinsertbuffer length document insert buffer documentinsertbuffer append delim document insert buffer documentinsertbuffer append indent nls document insert buffer documentinsertbuffer append extension param document param delim param document insert buffer documentinsertbuffer apply extension full point applyextensionfullpoint i document idocument document string delim string buffer stringbuffer document insert buffer documentinsertbuffer string pointid f schema object fschemaobject get name getname string indent get indent getindent document f offset foffset add extension mark buffer point attribute document insert buffer documentinsertbuffer append nls document insert buffer documentinsertbuffer append extension document insert buffer documentinsertbuffer append delim document insert buffer documentinsertbuffer append indent document insert buffer documentinsertbuffer append def attr indent nls document insert buffer documentinsertbuffer append point document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append calculate offset start selection select point attribute quotes f offset foffset point content assist invoked f sel offset fseloffset f offset foffset document insert buffer documentinsertbuffer length calculate selection length f sel len fsellen pointid length add extension mark buffer including point attribute document insert buffer documentinsertbuffer append pointid document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append delim document insert buffer documentinsertbuffer append indent document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append nls document insert buffer documentinsertbuffer append extension document insert buffer documentinsertbuffer append param document param delim param apply element applyelement string indent string delim string buffer stringbuffer document insert buffer documentinsertbuffer document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append i schema element ischemaelement f schema object fschemaobject get name getname document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append delim document insert buffer documentinsertbuffer append indent document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append document insert buffer documentinsertbuffer append i schema element ischemaelement f schema object fschemaobject get name getname document insert buffer documentinsertbuffer append param apply attribute applyattribute string buffer stringbuffer document insert buffer documentinsertbuffer f range frange model broken manually adjust offsets f len flen f offset foffset string att name attname f schema object fschemaobject get name getname document insert buffer documentinsertbuffer append att name attname nls document insert buffer documentinsertbuffer append f sel offset fseloffset f offset foffset document insert buffer documentinsertbuffer length string att name attname f schema object fschemaobject i schema attribute ischemaattribute xml insertion computer xmlinsertioncomputer generate attribute value generateattributevalue i schema attribute ischemaattribute f schema object fschemaobject f processor fprocessor get model getmodel att name attname document insert buffer documentinsertbuffer append f sel len fsellen length document insert buffer documentinsertbuffer append modify model modifymodel i document idocument document todo requires refactoring grouping cases statements i base model ibasemodel model f processor fprocessor get model getmodel model i reconciling participant ireconcilingparticipant i reconciling participant ireconcilingparticipant model reconciled document model i plugin model base ipluginmodelbase i plugin base ipluginbase base i plugin model base ipluginmodelbase model get plugin base getpluginbase f plugin parent fpluginparent f schema element fschemaelement f schema object fschemaobject virtual schema object virtualschemaobject virtual schema object virtualschemaobject f schema object fschemaobject getvtype xml content assist processor xmlcontentassistprocessor extension attribute point f range frange i document attribute node idocumentattributenode offset i document attribute node idocumentattributenode f range frange get enclosing element getenclosingelement get offset getoffset i plugin extension ipluginextension extensions base get extensions getextensions extensions length i document element node idocumentelementnode extensions get offset getoffset offset extensions get child count getchildcount don modify existing extensions f plugin parent fpluginparent extensions f schema element fschemaelement xml util xmlutil get schema element getschemaelement i document element node idocumentelementnode extensions extensions get point getpoint xml content assist processor xmlcontentassistprocessor extension point find extension virtual point value findextensionvirtualpointvalue base f range frange i document element node idocumentelementnode base i document element node idocumentelementnode stack i document element node idocumentelementnode stack i document element node idocumentelementnode node i document element node idocumentelementnode f range frange i document element node idocumentelementnode new search newsearch i document element node idocumentelementnode base traverse model pushing nodes stack node node i plugin base ipluginbase push node node node get parent node getparentnode traverse model find node stack guideline is empty isempty node pop node index nodeindex node node get previous sibling getprevioussibling node index nodeindex new search newsearch new search newsearch get child at getchildat node index nodeindex new search newsearch i document element node idocumentelementnode children new search newsearch get child nodes getchildnodes children length children get offset getoffset f offset foffset children i plugin element ipluginelement f plugin parent fpluginparent i plugin element ipluginelement children f schema element fschemaelement i schema element ischemaelement f schema object fschemaobject f plugin parent fpluginparent f schema element fschemaelement xml insertion computer xmlinsertioncomputer compute insertion computeinsertion f schema element fschemaelement f plugin parent fpluginparent f processor fprocessor flush document flushdocument model abstract editing model abstracteditingmodel abstract editing model abstracteditingmodel model adjust offsets adjustoffsets document core exception coreexception set selection offsets setselectionoffsets document f schema element fschemaelement f plugin parent fpluginparent assumption model reconciled caller param base find extension virtual point value findextensionvirtualpointvalue i plugin base ipluginbase base i document range idocumentrange range pde source page pdesourcepage f processor fprocessor get source page getsourcepage ensure defined inserted extension element extension point attribute selected point find range order add child elements proper extension range get range element getrangeelement f offset foffset ensure range attribute range range i document element node idocumentelementnode offset extension element target offset targetoffset i document element node idocumentelementnode range get offset getoffset search plug ins extensions proper i plugin extension ipluginextension extensions base get extensions getextensions extensions length offset current extension extension offset extensionoffset i document element node idocumentelementnode extensions get offset getoffset note extension element children extension offset extensionoffset target offset targetoffset extensions get child count getchildcount f plugin parent fpluginparent extensions schema element f schema element fschemaelement xml util xmlutil get schema element getschemaelement i document element node idocumentelementnode extensions extensions get point getpoint set selection offsets setselectionoffsets i document idocument document i schema element ischemaelement schema element schemaelement i plugin parent ipluginparent plugin parent pluginparent plugin parent pluginparent i plugin extension ipluginextension string point i plugin extension ipluginextension plugin parent pluginparent get point getpoint i plugin object ipluginobject children i plugin extension ipluginextension plugin parent pluginparent get children getchildren children children length children i plugin parent ipluginparent plugin parent pluginparent i plugin parent ipluginparent children schema element schemaelement xml util xmlutil get schema element getschemaelement i document element node idocumentelementnode plugin parent pluginparent point plugin parent pluginparent i plugin element ipluginelement offset i document element node idocumentelementnode plugin parent pluginparent get offset getoffset len i document element node idocumentelementnode plugin parent pluginparent get length getlength string document offset len bad location exception badlocationexception i plugin element ipluginelement plugin parent pluginparent get attribute count getattributecount select required attribute i plugin attribute ipluginattribute att i plugin element ipluginelement plugin parent pluginparent get attributes getattributes att plugin attribute pluginattribute f sel offset fseloffset plugin attribute pluginattribute att get value offset getvalueoffset f sel len fsellen plugin attribute pluginattribute att get value length getvaluelength xml insertion computer xmlinsertioncomputer has optional children hasoptionalchildren schema element schemaelement hash set hashset i schema object ischemaobject ind index of indexof ind f sel offset fseloffset offset ind f sel len fsellen xml insertion computer xmlinsertioncomputer has optional attributes hasoptionalattributes schema element schemaelement ind index of indexof ind f sel offset fseloffset offset ind f sel len fsellen position caret element f sel offset fseloffset offset len f sel len fsellen string get indent getindent i document idocument document offset string buffer stringbuffer ind buff indbuff string buffer stringbuffer add indentation document get line of offset getlineofoffset offset line offset lineoffset document get line offset getlineoffset indent offset line offset lineoffset indent chars indentchars document line offset lineoffset indent to char array tochararray tab append tab append space indent chars indentchars length ind buff indbuff append indent chars indentchars bad location exception badlocationexception ind buff indbuff to string tostring override string get additional proposal info getadditionalproposalinfo f add info faddinfo f schema object fschemaobject string buffer stringbuffer string buffer stringbuffer html printer htmlprinter insert page prolog insertpageprolog text util textutil get java doc style s hee r l getjavadocstylesheerurl string desc f schema object fschemaobject desc pde ui messages pdeuimessages base wizard selection page basewizardselectionpage no desc nodesc desc f schema object fschemaobject get description getdescription desc desc trim length desc pde ui messages pdeuimessages base wizard selection page basewizardselectionpage no desc nodesc append desc html printer htmlprinter add page epilog addpageepilog f add info faddinfo to string tostring f add info faddinfo override i context information icontextinformation get context information getcontextinformation override string get display string getdisplaystring f schema object fschemaobject virtual schema object virtualschemaobject virtual schema object virtualschemaobject f schema object fschemaobject getvtype xml content assist processor xmlcontentassistprocessor close tag nls xml content assist processor xmlcontentassistprocessor extension point xml content assist processor xmlcontentassistprocessor extension attribute point xml content assist processor xmlcontentassistprocessor attribute f schema object fschemaobject get name getname f schema object fschemaobject i schema attribute ischemaattribute f schema object fschemaobject get name getname f schema object fschemaobject f schema object fschemaobject get name getname f range frange i document element node idocumentelementnode nls nls i document element node idocumentelementnode f range frange getxmltagname override image get image getimage f schema object fschemaobject virtual schema object virtualschemaobject f processor fprocessor get image getimage virtual schema object virtualschemaobject f schema object fschemaobject getvtype f schema object fschemaobject i schema attribute ischemaattribute f processor fprocessor get image getimage xml content assist processor xmlcontentassistprocessor attribute f schema object fschemaobject i schema element ischemaelement f schema object fschemaobject f processor fprocessor get image getimage xml content assist processor xmlcontentassistprocessor element override point get selection getselection i document idocument document f sel offset fseloffset point f sel offset fseloffset f sel len fsellen override object get additional proposal info getadditionalproposalinfo i progress monitor iprogressmonitor monitor get additional proposal info getadditionalproposalinfo override i information control creator iinformationcontrolcreator get information control creator getinformationcontrolcreator f creator fcreator f creator fcreator abstract reusable information control creator abstractreusableinformationcontrolcreator override i information control iinformationcontrol do create information control docreateinformationcontrol shell parent browser information control browserinformationcontrol is available isavailable parent browser information control browserinformationcontrol parent j fac e resources jfaceresources dialog font default information control defaultinformationcontrol parent f creator fcreator override get prefix completion start getprefixcompletionstart i document idocument document completion offset completionoffset override char sequence charsequence get prefix completion text getprefixcompletiontext i document idocument document completion offset completionoffset override is auto insert able isautoinsertable
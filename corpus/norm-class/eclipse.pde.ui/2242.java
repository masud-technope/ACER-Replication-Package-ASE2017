copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation brock janiczak brockj tpg bug gary duprex gary duprex aspectstools bug benjamin cabe benjamin cabe any ware anyware tech bug johannes ahlers johannes ahlers gmx bug org eclipse pde internal wizards plugin java lang reflect invocation target exception invocationtargetexception java util org eclipse core resources org eclipse core runtime org eclipse core runtime preferences i eclipse preferences ieclipsepreferences org eclipse jdt core org eclipse jface viewers i selection iselection org eclipse jface viewers structured selection structuredselection org eclipse pde core build i build entry ibuildentry org eclipse pde core build i build model factory ibuildmodelfactory org eclipse pde core plugin org eclipse pde internal core org eclipse pde internal core build workspace build model workspacebuildmodel org eclipse pde internal core bundle org eclipse pde internal core ibundle org eclipse pde internal core natures pde org eclipse pde internal core plugin org eclipse pde internal core project pde project pdeproject org eclipse pde internal core util core utility coreutility org eclipse pde internal pde plugin pdeplugin org eclipse pde internal pde ui messages pdeuimessages org eclipse pde internal wizards i project provider iprojectprovider org eclipse pde org eclipse org eclipse actions workspace modify operation workspacemodifyoperation org eclipse ide ide org eclipse i set selection target isetselectiontarget org osgi framework constants org osgi service prefs backing store exception backingstoreexception new project creation operation newprojectcreationoperation workspace modify operation workspacemodifyoperation i plugin content wizard iplugincontentwizard f content wizard fcontentwizard i field data ifielddata f data fdata plugin class code generator pluginclasscodegenerator f generator fgenerator workspace plugin model base workspacepluginmodelbase f model fmodel i project provider iprojectprovider f project provider fprojectprovider f result fresult param data param provider representation project param content wizard contentwizard wizard details chosen template code code template new project creation operation newprojectcreationoperation i field data ifielddata data i project provider iprojectprovider provider i plugin content wizard iplugincontentwizard content wizard contentwizard f data fdata data f project provider fprojectprovider provider f content wizard fcontentwizard content wizard contentwizard function modify manifest written project artifacts created core exception coreexception adjust manifests adjustmanifests i progress monitor iprogressmonitor monitor i project iproject project i plugin base ipluginbase bundle core exception coreexception libraries exported compute export i plugin library ipluginlibrary libs f model fmodel get plugin base getpluginbase get libraries getlibraries string packages tree set treeset libs length string filters libs get content filters getcontentfilters library fully exported export source packages don source folders library nls filters length filters equals add all source packages addallsourcepackages project packages filters length nls filters ends with endswith nls packages add filters substring filters length packages is empty isempty i bundle ibundle i bundle ibundle workspace bundle plugin model base workspacebundlepluginmodelbase f model fmodel get bundle model getbundlemodel get bundle getbundle i bundle ibundle set header setheader constants export get comma values from packages set getcommavaluesfrompackagesset packages f data fdata get version getversion create build properties file createbuildpropertiesfile i project iproject project core exception coreexception i file ifile file pde project pdeproject get build properties getbuildproperties project file exists workspace build model workspacebuildmodel model workspace build model workspacebuildmodel file i build model factory ibuildmodelfactory factory model get factory getfactory bin includes i build entry ibuildentry bin entry binentry factory create entry createentry i build entry ibuildentry bin includes fill bin includes fillbinincludes project bin entry binentry create source output build entries createsourceoutputbuildentries model factory model get build getbuild add bin entry binentry model save create source output build entries createsourceoutputbuildentries workspace build model workspacebuildmodel model i build model factory ibuildmodelfactory factory core exception coreexception string src folder srcfolder f data fdata get source folder name getsourcefoldername f data fdata is simple issimple src folder srcfolder string library name libraryname f data fdata get library name getlibraryname library name libraryname nls library name libraryname nls source library i build entry ibuildentry entry factory create entry createentry i build entry ibuildentry jar prefix library name libraryname src folder srcfolder length entry add token addtoken path src folder srcfolder add trailing separator addtrailingseparator to string tostring nls entry add token addtoken nls model get build getbuild add entry output library entry factory create entry createentry i build entry ibuildentry output prefix library name libraryname string output folder outputfolder f data fdata get output folder name getoutputfoldername trim output folder outputfolder length entry add token addtoken path output folder outputfolder add trailing separator addtrailingseparator to string tostring nls entry add token addtoken nls model get build getbuild add entry core exception coreexception java model exception javamodelexception invocation target exception invocationtargetexception interrupted exception interruptedexception create contents createcontents i progress monitor iprogressmonitor monitor i project iproject project core exception coreexception java model exception javamodelexception invocation target exception invocationtargetexception interrupted exception interruptedexception create manifest createmanifest i project iproject project core exception coreexception i file ifile fragment xml fragmentxml pde project pdeproject get fragment xml getfragmentxml project i file ifile plugin xml pluginxml pde project pdeproject get plugin xml getpluginxml project f data fdata has bundle structure hasbundlestructure i file ifile manifest pde project pdeproject get manifest getmanifest project f data fdata i fragment field data ifragmentfielddata f model fmodel workspace bundle fragment model workspacebundlefragmentmodel manifest fragment xml fragmentxml f model fmodel workspace bundle plugin model workspacebundlepluginmodel manifest plugin xml pluginxml f data fdata i fragment field data ifragmentfielddata f model fmodel workspace fragment model workspacefragmentmodel fragment xml fragmentxml f model fmodel workspace plugin model workspacepluginmodel plugin xml pluginxml i plugin base ipluginbase plugin base pluginbase f model fmodel get plugin base getpluginbase string target version targetversion abstract field data abstractfielddata f data fdata get target version gettargetversion plugin base pluginbase set schema version setschemaversion target platform helper targetplatformhelper get schema version for target version getschemaversionfortargetversion target version targetversion plugin base pluginbase set id setid f data fdata get id getid plugin base pluginbase set version setversion f data fdata get version getversion plugin base pluginbase set name setname f data fdata get name getname plugin base pluginbase set provider name setprovidername f data fdata get provider getprovider f model fmodel i bundle plugin model base ibundlepluginmodelbase i bundle plugin model base ibundlepluginmodelbase bmodel i bundle plugin model base ibundlepluginmodelbase f model fmodel i bundle plugin base ibundlepluginbase bmodel get plugin base getpluginbase set target version settargetversion target version targetversion nls bmodel get bundle model getbundlemodel get bundle getbundle set header setheader constants bundle manifest version manifestversion plugin base pluginbase i fragment ifragment i fragment ifragment fragment i fragment ifragment plugin base pluginbase i fragment field data ifragmentfielddata data i fragment field data ifragmentfielddata f data fdata fragment set plugin id setpluginid data get plugin id getpluginid fragment set plugin version setpluginversion data get plugin version getpluginversion fragment set rule setrule data get match getmatch i plugin field data ipluginfielddata f data fdata do generate class dogenerateclass i plugin iplugin plugin base pluginbase set class name setclassname i plugin field data ipluginfielddata f data fdata get class name getclassname f data fdata is simple issimple set plugin libraries setpluginlibraries f model fmodel i plugin reference ipluginreference dependencies get dependencies getdependencies dependencies length i plugin reference ipluginreference dependencies i plugin import ipluginimport iimport f model fmodel get plugin factory getpluginfactory create import createimport iimport set id setid get id getid iimport set version setversion get version getversion iimport set match setmatch get match getmatch plugin base pluginbase add iimport add bundle specific fields applicable plugin base pluginbase bundle plugin base bundlepluginbase i bundle ibundle bundle bundle plugin base bundlepluginbase plugin base pluginbase get bundle getbundle string get comma values from packages set getcommavaluesfrompackagesset get import packages set getimportpackagesset f data fdata get version getversion length bundle set header setheader constants f data fdata abstract field data abstractfielddata required string exe environment exeenvironment abstract field data abstractfielddata f data fdata get execution environment getexecutionenvironment exe environment exeenvironment bundle set header setheader constants bundle requiredexecutionenvironment exe environment exeenvironment string framework abstract field data abstractfielddata f data fdata getosgiframework framework framework equinox skip equinox step add extra headers framework equals i core constants icoreconstants equinox f data fdata i plugin field data ipluginfielddata i plugin field data ipluginfielddata f data fdata do generate class dogenerateclass nls target version targetversion equals nls nls bundle set header setheader nls i core constants icoreconstants eclipse autostart nls version parse double parsedouble target version targetversion version bundle set header setheader constants bundle activationpolicy constants activation lazy nls bundle set header setheader nls i core constants icoreconstants eclipse lazystart nls f content wizard fcontentwizard string new files newfiles f content wizard fcontentwizard get new files getnewfiles new files newfiles new files newfiles length nls plugin properties equals nls new files newfiles bundle set header setheader nls constants bundle localization plugin i project iproject create project createproject core exception coreexception i project iproject project f project provider fprojectprovider get project getproject project exists core utility coreutility create project createproject project f project provider fprojectprovider get location path getlocationpath project open project has nature hasnature pde plugin nature core utility coreutility add nature to project addnaturetoproject project pde plugin nature f data fdata is simple issimple project has nature hasnature java core javacore nature core utility coreutility add nature to project addnaturetoproject project java core javacore nature f data fdata is simple issimple f data fdata get source folder name getsourcefoldername f data fdata get source folder name getsourcefoldername trim length i folder ifolder folder project get folder getfolder f data fdata get source folder name getsourcefoldername folder exists core utility coreutility create folder createfolder folder project override execute i progress monitor iprogressmonitor monitor core exception coreexception invocation target exception invocationtargetexception interrupted exception interruptedexception sub monitor submonitor sub monitor submonitor sub monitor submonitor convert monitor pde ui messages pdeuimessages new project creation operation newprojectcreationoperation creating get number of work units getnumberofworkunits start task sub monitor submonitor sub task subtask pde ui messages pdeuimessages new project creation operation newprojectcreationoperation project create project i project iproject project create project createproject create contents createcontents sub monitor submonitor split project classpath project java nature project has nature hasnature java core javacore nature sub monitor submonitor sub task subtask pde ui messages pdeuimessages new project creation operation newprojectcreationoperation set classpath setclasspath set classpath setclasspath project f data fdata sub monitor submonitor worked f data fdata plugin field data pluginfielddata plugin field data pluginfielddata data plugin field data pluginfielddata f data fdata generate top level java option selected data do generate class dogenerateclass generate top level plugin class generatetoplevelpluginclass project sub monitor submonitor split add api tools nature requested data doenableapitooling add api analysis nature addapianalysisnature generate manifest file sub monitor submonitor sub task subtask pde ui messages pdeuimessages new project creation operation newprojectcreationoperation manifest file manifestfile create manifest createmanifest project sub monitor submonitor worked generate build properties file sub monitor submonitor sub task subtask pde ui messages pdeuimessages new project creation operation newprojectcreationoperation build properties file buildpropertiesfile create build properties file createbuildpropertiesfile project sub monitor submonitor worked generate content contributed template wizards content wizard result contentwizardresult f content wizard fcontentwizard content wizard result contentwizardresult f content wizard fcontentwizard perform finish performfinish project f model fmodel sub monitor submonitor split f data fdata abstract field data abstractfielddata string framework abstract field data abstractfielddata f data fdata getosgiframework framework i eclipse preferences ieclipsepreferences pref project scope projectscope project get node getnode pde core pdecore plugin pref pref put boolean putboolean i core constants icoreconstants resolve require bundle pref put boolean putboolean i core constants icoreconstants extensions property i core constants icoreconstants equinox equals framework pref put boolean putboolean i core constants icoreconstants equinox property pref flush backing store exception backingstoreexception pde plugin pdeplugin log exception logexception f data fdata has bundle structure hasbundlestructure f model fmodel workspace bundle plugin model base workspacebundlepluginmodelbase adjust manifests adjustmanifests sub monitor submonitor split project f model fmodel get plugin base getpluginbase f model fmodel save open file openfile i file ifile f model fmodel get underlying resource getunderlyingresource sub monitor submonitor worked f result fresult content wizard result contentwizardresult string get import packages set getimportpackagesset tree set treeset string tree set treeset f generator fgenerator string packages f generator fgenerator get import packages getimportpackages packages length add packages f content wizard fcontentwizard i bundle content wizard ibundlecontentwizard string packages i bundle content wizard ibundlecontentwizard f content wizard fcontentwizard get import packages getimportpackages packages length add packages fill bin includes fillbinincludes i project iproject project i build entry ibuildentry bin entry binentry core exception coreexception f data fdata has bundle structure hasbundlestructure f content wizard fcontentwizard abstract field data abstractfielddata f data fdata getosgiframework bin entry binentry add token addtoken f data fdata i fragment field data ifragmentfielddata i core constants icoreconstants fragment filename descriptor i core constants icoreconstants plugin filename descriptor f data fdata has bundle structure hasbundlestructure nls bin entry binentry add token addtoken meta inf f data fdata is simple issimple string library name libraryname f data fdata get library name getlibraryname nls bin entry binentry add token addtoken library name libraryname library name libraryname f content wizard fcontentwizard string files f content wizard fcontentwizard get new files getnewfiles files length bin entry binentry files bin entry binentry add token addtoken files generate top level plugin class generatetoplevelpluginclass i project iproject project i progress monitor iprogressmonitor monitor core exception coreexception plugin field data pluginfielddata data plugin field data pluginfielddata f data fdata f generator fgenerator plugin class code generator pluginclasscodegenerator project data get class name getclassname data f content wizard fcontentwizard f generator fgenerator generate monitor i classpath entry iclasspathentry get class path entries getclasspathentries i java project ijavaproject project i field data ifielddata data i classpath entry iclasspathentry internal class path entries internalclasspathentries get internal class path entries getinternalclasspathentries project data i classpath entry iclasspathentry entries i classpath entry iclasspathentry internal class path entries internalclasspathentries length system arraycopy internal class path entries internalclasspathentries entries internal class path entries internalclasspathentries length project string execution environment executionenvironment data abstract field data abstractfielddata execution environment executionenvironment abstract field data abstractfielddata data get execution environment getexecutionenvironment classpath computer classpathcomputer set compliance options setcomplianceoptions project execution environment executionenvironment entries classpath computer classpathcomputer createjreentry execution environment executionenvironment entries classpath computer classpathcomputer create container entry createcontainerentry entries i plugin reference ipluginreference get dependencies getdependencies array list arraylist i plugin reference ipluginreference result array list arraylist f generator fgenerator i plugin reference ipluginreference f generator fgenerator get dependencies getdependencies length result add f content wizard fcontentwizard nls i plugin reference ipluginreference f content wizard fcontentwizard get dependencies getdependencies f data fdata is legacy islegacy length result result add result to array toarray i plugin reference ipluginreference result size i classpath entry iclasspathentry get internal class path entries getinternalclasspathentries i java project ijavaproject project i field data ifielddata data data get source folder name getsourcefoldername i classpath entry iclasspathentry i classpath entry iclasspathentry entries i classpath entry iclasspathentry i path ipath path project get project getproject get full path getfullpath append data get source folder name getsourcefoldername entries java core javacore new source entry newsourceentry path entries get number of work units getnumberofworkunits num units numunits f data fdata has bundle structure hasbundlestructure num units numunits f data fdata i plugin field data ipluginfielddata i plugin field data ipluginfielddata data i plugin field data ipluginfielddata f data fdata data do generate class dogenerateclass num units numunits f content wizard fcontentwizard num units numunits num units numunits get result getresult f result fresult attempts select file active workbench open file editor async exec asyncexec join thread param file file open editor open file openfile i file ifile file pde plugin pdeplugin get default getdefault get workbench getworkbench get display getdisplay async exec asyncexec runnable override i workbench window iworkbenchwindow pde plugin pdeplugin get active workbench window getactiveworkbenchwindow i workbench page iworkbenchpage get active page getactivepage i workbench part iworkbenchpart focus part focuspart get active part getactivepart focus part focuspart i set selection target isetselectiontarget i selection iselection selection structured selection structuredselection file i set selection target isetselectiontarget focus part focuspart select reveal selectreveal selection ide open editor openeditor file part init exception partinitexception set classpath setclasspath i project iproject project i field data ifielddata data java model exception javamodelexception core exception coreexception i java project ijavaproject java project javaproject java core javacore create project output folder data get output folder name getoutputfoldername i path ipath path project get full path getfullpath append data get output folder name getoutputfoldername java project javaproject set output location setoutputlocation path i classpath entry iclasspathentry entries get class path entries getclasspathentries java project javaproject data java project javaproject set raw classpath setrawclasspath entries set plugin libraries setpluginlibraries workspace plugin model base workspacepluginmodelbase model core exception coreexception string library name libraryname f data fdata get library name getlibraryname library name libraryname f data fdata has bundle structure hasbundlestructure nls library name libraryname library name libraryname i plugin library ipluginlibrary library model get plugin factory getpluginfactory create library createlibrary library set name setname library name libraryname library set exported setexported f data fdata has bundle structure hasbundlestructure f model fmodel get plugin base getpluginbase add library param values link packages names link string param version link string representing version code code allowed link string representing packages exported version correctly version exported version number string get comma values from packages set getcommavaluesfrompackagesset string values string version string buffer stringbuffer buffer string buffer stringbuffer iterator string iter values iterator iter has next hasnext buffer length nls space required multiline headers buffer append string iter to string tostring buffer append nls index of indexof version version values size nls nls buffer append version append version append buffer to string tostring add all source packages addallsourcepackages i project iproject project string list i java project ijavaproject java project javaproject java core javacore create project i classpath entry iclasspathentry classpath java project javaproject get raw classpath getrawclasspath classpath length i classpath entry iclasspathentry entry classpath entry get entry kind getentrykind i classpath entry iclasspathentry cpe source i path ipath path entry get path getpath remove first segments removefirstsegments path segment count segmentcount i package fragment root ipackagefragmentroot root java project javaproject get package fragment root getpackagefragmentroot project get folder getfolder path i java element ijavaelement children root get children getchildren children length i package fragment ipackagefragment frag i package fragment ipackagefragment children frag get children getchildren length frag get non java resources getnonjavaresources length list add children get element name getelementname java model exception javamodelexception add api analysis nature project param add add api analysis nature addapianalysisnature i project iproject project f project provider fprojectprovider get project getproject i project description iprojectdescription description project get description getdescription string prev natures prevnatures description get nature ids getnatureids string new natures newnatures string prev natures prevnatures length system arraycopy prev natures prevnatures new natures newnatures prev natures prevnatures length nls new natures newnatures prev natures prevnatures length org eclipse pde api tools api analysis nature apianalysisnature description set nature ids setnatureids new natures newnatures project set description setdescription description null progress monitor nullprogressmonitor core exception coreexception
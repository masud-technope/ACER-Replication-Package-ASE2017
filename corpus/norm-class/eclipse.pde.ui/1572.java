copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation eclipse source eclipsesource corporation ongoing enhancements org eclipse pde internal core text java util org eclipse core runtime core exception coreexception org eclipse pde core i model imodel org eclipse pde internal core xml print handler xmlprinthandler org eclipse pde internal core util pde text helper pdetexthelper document element node documentelementnode documentxmlnode i document element node idocumentelementnode serialversionuid nls string attribute encoding utf nls string attribute nls string attribute nls string empty i document element node idocumentelementnode f parent fparent f is error node fiserrornode f length flength f offset foffset i document element node idocumentelementnode f previous sibling fprevioussibling f indent findent array list arraylist i document element node idocumentelementnode f children fchildren tree map treemap string i document attribute node idocumentattributenode f attributes fattributes string f tag ftag i document text node idocumenttextnode f text node ftextnode string f name space fnamespace empty string f name space prefix fnamespaceprefix empty document element node documentelementnode f parent fparent f is error node fiserrornode f length flength f offset foffset f previous sibling fprevioussibling f indent findent f children fchildren array list arraylist i document element node idocumentelementnode f attributes fattributes tree map treemap string i document attribute node idocumentattributenode f tag ftag f text node ftextnode override array list arraylist i document element node idocumentelementnode get child nodes list getchildnodeslist text edit operations f children fchildren override tree map treemap string i document attribute node idocumentattributenode get node attributes map getnodeattributesmap text edit operations f attributes fattributes override string write shallow writeshallow terminate text edit operations string buffer stringbuffer buffer string buffer stringbuffer print opening angle bracket nls buffer append print namespace string prefix get name space prefix getnamespaceprefix prefix prefix length buffer append get name space prefix getnamespaceprefix nls buffer append print element buffer append getxmltagname fixme limiting is root isroot string namespace get name space getnamespace namespace namespace length nls buffer append nls nls buffer append nls xml ns xmlns prefix prefix length nls buffer append nls buffer append get name space prefix getnamespaceprefix nls buffer append nls nls buffer append nls buffer append namespace nls buffer append nls print attributes buffer append write attributes writeattributes enclosing element terminate nls buffer append print closing angle bracket nls buffer append buffer to string tostring override is leaf node isleafnode override can terminate start tag canterminatestarttag hasxmlchildren hasxmlcontent is leaf node isleafnode override string write indent text edit operations todo teo refactor smaller methods todo teo care indent flag consistent write attributes content string buffer stringbuffer buffer string buffer stringbuffer has children haschildren hasxmlchildren has content hascontent hasxmlcontent terminate can terminate start tag canterminatestarttag print xml decl root is root isroot buffer append writexmldecl print indent indent buffer append get indent getindent print start element attributes buffer append write shallow writeshallow terminate print child elements has children haschildren i document element node idocumentelementnode children get child nodes getchildnodes children length children set line indent setlineindent get line indent getlineindent buffer append get line delimiter getlinedelimiter children write print text content has content hascontent buffer append writexmlcontent todo teo replace xml print handler xmlprinthandler constants terminate buffer append get terminate indent getterminateindent nls buffer append string prefix get name space prefix getnamespaceprefix prefix prefix length buffer append get name space prefix getnamespaceprefix nls buffer append nls buffer append getxmltagname nls buffer append buffer to string tostring string writexmlcontent string buffer stringbuffer buffer string buffer stringbuffer is defined isdefined f text node ftextnode buffer append get content indent getcontentindent buffer append f text node ftextnode write buffer to string tostring string write attributes writeattributes string buffer stringbuffer buffer string buffer stringbuffer i document attribute node idocumentattributenode attributes get node attributes getnodeattributes write attributes attributes length i document attribute node idocumentattributenode attribute attributes nls is defined isdefined attribute attribute get attribute name getattributename starts with startswith xml ns xmlns buffer append get attribute indent getattributeindent attribute write buffer to string tostring override i document element node idocumentelementnode get child nodes getchildnodes text edit operations f children fchildren to array toarray i document element node idocumentelementnode f children fchildren size override index of indexof i document element node idocumentelementnode child text edit operations f children fchildren index of indexof child override i document element node idocumentelementnode get child at getchildat text edit operations f children fchildren size f children fchildren override i document element node idocumentelementnode get parent node getparentnode text edit operations f parent fparent override set parent node setparentnode i document element node idocumentelementnode node text edit operations indirectly f parent fparent node override add child node addchildnode i document element node idocumentelementnode child text edit operations add child node addchildnode child f children fchildren size override add child node addchildnode i document element node idocumentelementnode child position text edit operations f children fchildren add position child child set parent node setparentnode link node with siblings linknodewithsiblings child override i document element node idocumentelementnode remove child node removechildnode i document element node idocumentelementnode child text edit operations f children fchildren index of indexof child f children fchildren remove child f children fchildren size i document element node idocumentelementnode prev sibling prevsibling i document element node idocumentelementnode f children fchildren f children fchildren set previous sibling setprevioussibling prev sibling prevsibling child override i document element node idocumentelementnode remove child node removechildnode text edit operations f children fchildren size child i document element node idocumentelementnode child f children fchildren remove child f children fchildren remove child f children fchildren size i document element node idocumentelementnode previous sibling previoussibling previous sibling previoussibling f children fchildren i document element node idocumentelementnode new node newnode f children fchildren new node newnode set previous sibling setprevioussibling previous sibling previoussibling child override is error node iserrornode text edit operations indirectly f is error node fiserrornode override set is error node setiserrornode is error node iserrornode text edit operations f is error node fiserrornode is error node iserrornode override set offset setoffset offset text edit operations f offset foffset offset override set length setlength length text edit operations f length flength length override get offset getoffset text edit operations f offset foffset override get length getlength text edit operations f length flength override setxmlattribute i document attribute node idocumentattributenode attribute text edit operations f attributes fattributes attribute get attribute name getattributename attribute override string getxmlattributevalue string text edit operations i document attribute node idocumentattributenode attribute f attributes fattributes attribute attribute get attribute value getattributevalue override setxmltagname string tag text edit operations indirectly f tag ftag tag override string getxmltagname text edit operations f tag ftag override i document attribute node idocumentattributenode get document attribute getdocumentattribute string text edit operations f attributes fattributes override get line indent getlineindent text edit operations f indent findent override set line indent setlineindent indent text edit operations f indent findent indent override i document attribute node idocumentattributenode get node attributes getnodeattributes text edit operations array list arraylist i document attribute node idocumentattributenode list array list arraylist i document attribute node idocumentattributenode iterator i document attribute node idocumentattributenode iter f attributes fattributes values iterator iter has next hasnext list add iter list to array toarray i document attribute node idocumentattributenode list size override i document element node idocumentelementnode get previous sibling getprevioussibling text edit operations f previous sibling fprevioussibling override set previous sibling setprevioussibling i document element node idocumentelementnode sibling text edit operations f previous sibling fprevioussibling sibling length indent override string get indent getindent string buffer stringbuffer buffer string buffer stringbuffer f indent findent nls buffer append buffer to string tostring override swap i document element node idocumentelementnode child i document element node idocumentelementnode child text edit operations f children fchildren index of indexof child f children fchildren index of indexof child f children fchildren child f children fchildren child child set previous sibling setprevioussibling i document element node idocumentelementnode f children fchildren child set previous sibling setprevioussibling i document element node idocumentelementnode f children fchildren f children fchildren size f children fchildren set previous sibling setprevioussibling child f children fchildren size f children fchildren set previous sibling setprevioussibling child override add text node addtextnode i document text node idocumenttextnode text node textnode text edit operations f text node ftextnode text node textnode override i document text node idocumenttextnode get text node gettextnode text edit operations f text node ftextnode override remove text node removetextnode text edit operations f text node ftextnode override remove document attribute removedocumentattribute i document attribute node idocumentattributenode attr text edit operations f attributes fattributes remove attr get attribute name getattributename override reconnect i document element node idocumentelementnode parent i model imodel model text edit operations reconnect xml document character is tics characteristics reconnect document reconnectdocument reconnect parent reconnect parent reconnectparent parent reconnect previous sibling reconnect previous sibling reconnectprevioussibling reconnect text node reconnect text reconnecttext reconnect attribute nodes reconnect attributes reconnectattributes reconnect children nodes reconnect children reconnectchildren model reconnect attributes reconnectattributes attributes iterator string f attributes fattributes key set keyset iterator fill field values attributes has next hasnext string key i document attribute node idocumentattributenode attribute f attributes fattributes key attribute reconnect param model reconnect children reconnectchildren i model imodel model fill field values f children fchildren size i document element node idocumentelementnode child f children fchildren reconnect child child reconnect model reconnect document reconnectdocument field indent f indent findent field error node f is error node fiserrornode field length f length flength field offset f offset foffset param parent reconnect parent reconnectparent i document element node idocumentelementnode parent field parent f parent fparent parent reconnect previous sibling reconnectprevioussibling field previous sibling link node with siblings linknodewithsiblings pre node parent param target node targetnode link node with siblings linknodewithsiblings i document element node idocumentelementnode target node targetnode node parent i document element node idocumentelementnode parent node parentnode target node targetnode get parent node getparentnode ensure parent parent node parentnode position node parent children target node position targetnodeposition parent node parentnode index of indexof target node targetnode number children parent including node parent node child count parentnodechildcount parent node parentnode get child count getchildcount node previous sibling node target node position targetnodeposition target node targetnode target node targetnode set previous sibling setprevioussibling target node position targetnodeposition parent node child count parentnodechildcount previous node previousnode target node targetnode i document element node idocumentelementnode previous node previousnode parent node parentnode get child at getchildat target node position targetnodeposition target node targetnode set previous sibling setprevioussibling previous node previousnode second last node index secondlastnodeindex parent node child count parentnodechildcount node node previous sibling node target node position targetnodeposition target node position targetnodeposition second last node index secondlastnodeindex parent node child count parentnodechildcount target node targetnode next node nextnode i document element node idocumentelementnode next node nextnode parent node parentnode get child at getchildat target node position targetnodeposition next node nextnode set previous sibling setprevioussibling target node targetnode previous node previousnode target node targetnode next node nextnode reconnect text reconnecttext field text node f text node ftextnode f text node ftextnode reconnect override get child count getchildcount text edit operations f children fchildren size override is root isroot text edit operations string get file encoding getfileencoding attribute encoding string writexmldecl string buffer stringbuffer buffer string buffer stringbuffer xml print handler xmlprinthandler xml head buffer append get file encoding getfileencoding buffer append xml print handler xmlprinthandler xml dbl quotes buffer append xml print handler xmlprinthandler xml head tag buffer append get line delimiter getlinedelimiter buffer to string tostring string get attribute indent getattributeindent nls get line delimiter getlinedelimiter get indent getindent string get content indent getcontentindent nls get line delimiter getlinedelimiter get indent getindent string get terminate indent getterminateindent subclasses override get line delimiter getlinedelimiter get indent getindent string get line delimiter getlinedelimiter nls system get property getproperty separator param attribute attribute defined is defined isdefined i document attribute node idocumentattributenode attribute attribute attribute get attribute value getattributevalue trim length param node node defined is defined isdefined i document text node idocumenttextnode node node pde text helper pdetexthelper is defined after trim isdefinedaftertrim node get text gettext override hasxmlchildren get child count getchildcount override hasxmlcontent is defined isdefined f text node ftextnode override get node attributes count getnodeattributescount returns number attributes defined values count i document attribute node idocumentattributenode attributes get node attributes getnodeattributes attributes length i document attribute node idocumentattributenode attribute attributes is defined isdefined attribute count count override hasxmlattributes get node attributes count getnodeattributescount override setxmlattribute string string ensure defined length values allowed nls string old value oldvalue getxmlattributevalue check old value oldvalue old value oldvalue equals check attribute exists i document attribute node idocumentattributenode attribute get node attributes map getnodeattributesmap attribute attribute exist attribute create document attribute node createdocumentattributenode attribute set attribute name setattributename attribute set enclosing element setenclosingelement setxmlattribute attribute update attribute set attribute value setattributevalue core exception coreexception override setxmlcontent string text text allowed text nls text check node exists i document text node idocumenttextnode node get text node gettextnode node text exist create node create document text node createdocumenttextnode node set enclosing element setenclosingelement add text node addtextnode node update text node node set text settext text changed override string getxmlcontent i document text node idocumenttextnode node get text node gettextnode node text node node get text gettext override string write write override getxmltype type element override is content collapsed iscontentcollapsed i document attribute node idocumentattributenode create document attribute node createdocumentattributenode document attribute node documentattributenode i document text node idocumenttextnode create document text node createdocumenttextnode document text node documenttextnode override string get name space getnamespace f name space fnamespace override string get name space prefix getnamespaceprefix f name space prefix fnamespaceprefix override set name space setnamespace string namespace f name space fnamespace namespace override set name space prefix setnamespaceprefix string prefix f name space prefix fnamespaceprefix prefix
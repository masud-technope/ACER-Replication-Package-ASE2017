copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation les j ones jones lesojones gmail bug eclipse source eclipsesource corporation ongoing enhancements org eclipse pde internal core java java net uri java util org eclipse core runtime org eclipse jdt launching java runtime javaruntime org eclipse jdt launching environments i execution environment iexecutionenvironment org eclipse osgi service resolver bundle description bundledescription org eclipse osgi service resolver org eclipse pde core plugin org eclipse pde core target org eclipse pde internal build i pde build constants ipdebuildconstants org eclipse pde internal core ifeature i feature model ifeaturemodel org eclipse pde internal core target i u bundle container iubundlecontainer org eclipse pde internal core util org osgi framework target platform helper targetplatformhelper nls string reference prefix reference nls string platform prefix platform nls string file url prefix file nls string jar extension jar map string string f cached locations fcachedlocations properties get config ini properties getconfiginiproperties nls file ini file inifile file target platform targetplatform get location getlocation configuration config ini ini file inifile exists properties pini properties file input stream fileinputstream fis fis file input stream fileinputstream ini file inifile pini load fis fis close pini i o exception ioexception pde core pdecore log exception logexception fis fis close i o exception ioexception pde core pdecore log exception logexception returns list bundles osgi bundles property platform config ini bundles property string list bundles string get bundle list getbundlelist properties properties get config ini properties getconfiginiproperties nls string osgi bundles osgibundles properties properties get property getproperty osgi bundles osgi bundles osgibundles osgi bundles osgibundles get default bundle list getdefaultbundlelist osgi bundles osgibundles str ip path information strippathinformation osgi bundles osgibundles osgi bundles osgibundles list bundles osgi bundles property string get default bundle list getdefaultbundlelist string buffer stringbuffer buffer string buffer stringbuffer get target version gettargetversion nls buffer append org eclipse equinox common start nls buffer append org eclipse update config urator configurator start nls buffer append org eclipse core runtime start nls buffer append org eclipse core runtime start nls buffer append org eclipse update config urator configurator start buffer to string tostring removes path string comma separated osgi bundles replaces escaped removes reference platform file prefixes removes path converting location segment bundle param osgi bundles osgibundles list bundles str ip strip path commma separated list bundles path str ipped stripped string sub string substring string str ip path information strippathinformation string osgi bundles osgibundles string buffer stringbuffer result string buffer stringbuffer nls string tokenizer stringtokenizer tokenizer string tokenizer stringtokenizer osgi bundles osgibundles tokenizer has more elements hasmoreelements string token tokenizer next token nexttoken nls nls token token replace all replaceall read at index atindex token index of indexof string bundle at index atindex token substring at index atindex token bundle bundle trim str ip strip reference platform file prefixes bundle starts with startswith reference prefix bundle length reference prefix length bundle bundle substring reference prefix length bundle starts with startswith platform prefix bundle length platform prefix length bundle bundle substring platform prefix length bundle starts with startswith file url prefix bundle length file url prefix length bundle bundle substring file url prefix length path relative segment bundle symbolic retrieve bundle symbolic i path ipath path path bundle string path is absolute isabsolute get symbolic name getsymbolicname bundle path last segment lastsegment under score index underscoreindex index of indexof under score index underscoreindex substring under score index underscoreindex relative path jar extension version recognizing symbolic bug ends with endswith jar extension substring length result length nls result append nls result append bundle at index atindex result append token substring at index atindex trim result to string tostring string get symbolic name getsymbolicname string path f cached locations fcachedlocations f cached locations fcachedlocations hash map hashmap string string f cached locations fcachedlocations contains key containskey path f cached locations fcachedlocations path todo loading entire manifest unecessary performance hit file file file path file exists map string string manifest manifest utils manifestutils load manifest loadmanifest file string manifest constants bundle symbolicname f cached locations fcachedlocations path core exception coreexception check plugin properties consistency checkpluginpropertiesconsistency map map file config dir configdir file runtime dir runtimedir file config dir configdir i pde build constants ipdebuildconstants bundle core runtime runtime dir runtimedir exists runtime dir runtimedir is directory isdirectory timestamp runtime dir runtimedir last modified lastmodified iterator iter map values iterator iter has next hasnext has changed haschanged i plugin model base ipluginmodelbase iter timestamp core utility coreutility delete content deletecontent runtime dir runtimedir has changed haschanged i plugin model base ipluginmodelbase model timestamp model get underlying resource getunderlyingresource file files file model get install location getinstalllocation list files listfiles files files length files is directory isdirectory string files get name getname starts with startswith constants bundle localization base name basename nls ends with endswith nls properties files last modified lastmodified timestamp utility method check workspace active target platform unresolved repositories unresolved repository based workspace active target platform code code repository based target target resolved core exception coreexception problem accessing workspace target definition i target definition itargetdefinition get unresolved repository based workspace target getunresolvedrepositorybasedworkspacetarget core exception coreexception i target platform service itargetplatformservice service i target platform service itargetplatformservice pde core pdecore get default getdefault acquire service acquireservice i target platform service itargetplatformservice get name getname service core exception coreexception status i status istatus error pde core pdecore plugin pde core messages pdecoremessages target platform helper targetplatformhelper could not acquire target service couldnotacquiretargetservice i target definition itargetdefinition target service get workspace target definition getworkspacetargetdefinition target target is resolved isresolved i target location itargetlocation locations target get target locations gettargetlocations locations locations length i target location itargetlocation i target location itargetlocation locations i target location itargetlocation i u bundle container iubundlecontainer i u bundle container iubundlecontainer i u bundle container iubundlecontainer i target location itargetlocation uri uri get repositories getrepositories uri uri length target string get application name set getapplicationnameset tree set treeset string result tree set treeset string nls i extension iextension extensions pde core pdecore get default getdefault get extensions registry getextensionsregistry find extensions findextensions org eclipse core runtime applications extensions length string extensions get unique identifier getuniqueidentifier i configuration element iconfigurationelement elements extensions get configuration elements getconfigurationelements elements length nls string visiblity elements get attribute getattribute visible visible visiblity value of valueof visiblity boolean value booleanvalue visible result add nls result add org eclipse ide workbench result string get application names getapplicationnames string result get application name set getapplicationnameset result to array toarray string result size tree set treeset string get product name set getproductnameset tree set treeset string result tree set treeset string nls i extension iextension extensions pde core pdecore get default getdefault get extensions registry getextensionsregistry find extensions findextensions org eclipse core runtime products extensions length i configuration element iconfigurationelement elements extensions get configuration elements getconfigurationelements elements length nls product equals elements get name getname string extensions get unique identifier getuniqueidentifier trim length result add result string get product names getproductnames tree set treeset string result get product name set getproductnameset result to array toarray string result size dictionary string string get target environment gettargetenvironment dictionary string string result hashtable string string result i core constants icoreconstants osgi target platform targetplatform getos result i core constants icoreconstants osgi target platform targetplatform getws result i core constants icoreconstants osgi target platform targetplatform getnl result i core constants icoreconstants osgi arch target platform targetplatform getosarch nls result i core constants icoreconstants osgi resolve optional nls result i core constants icoreconstants osgi resolver mode dev elopment development result dictionary string string get target environment gettargetenvironment minimal state minimalstate dictionary string string result get target environment gettargetenvironment result i core constants icoreconstants osgi system bundle get system bundle getsystembundle result suppress warnings suppresswarnings unchecked dictionary string string get platform properties getplatformproperties string profiles minimal state minimalstate profiles profiles length dictionary get target environment gettargetenvironment add java profiles profile file current system bundle array list arraylist dictionary string string result array list arraylist dictionary string string profiles length profiles length i execution environment iexecutionenvironment environment java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager get environment getenvironment profiles environment properties profile props profileprops environment get profile properties getprofileproperties profile props profileprops dictionary string string props target platform helper targetplatformhelper get target environment gettargetenvironment string system packages systempackages profile props profileprops get property getproperty constants framework system packages systempackages system packages systempackages props constants framework system packages systempackages system packages systempackages string profile props profileprops get property getproperty constants framework executionenvironment props constants framework executionenvironment result add props result size result to array toarray dictionary result size dictionary target platform helper targetplatformhelper get target environment gettargetenvironment string get known execution environments getknownexecutionenvironments nls string jre profile jreprofile system get property getproperty pde jre profile jreprofile jre profile jreprofile jre profile jreprofile length nls equals jre profile jreprofile string string jre profile jreprofile i execution environment iexecutionenvironment environments java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager get execution environments getexecutionenvironments string ids string environments length environments length ids environments get id getid ids returns version eclipse target platform pointing link i core constants icoreconstants target version latest target platform code org eclipse osgi code target version eclipse latest version pde string get target version string gettargetversionstring i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel i pde build constants ipdebuildconstants bundle osgi model i core constants icoreconstants target version latest string version model get plugin base getpluginbase get version getversion version util versionutil validate version validateversion version get severity getseverity i status istatus version vid version version major vid get major getmajor minor vid get minor getminor major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target major minor i core constants icoreconstants target i core constants icoreconstants target version latest returns version eclipse target platform pointing link i core constants icoreconstants target version latest target platform code org eclipse osgi code target version eclipse latest version pde get target version gettargetversion parse double parsedouble get target version string gettargetversionstring returns schema version target ting targetting specific version code code passed version current target platform version result get target version gettargetversion param target version targetversion plugin version targeted code code string version string get schema version for target version getschemaversionfortargetversion string target version targetversion target target version targetversion target get target version gettargetversion target parse double parsedouble target version targetversion schemas changed spelling app info appinfo app info appinfo comp liant compliant bug string schema version schemaversion i core constants icoreconstants target target schema version schema version schemaversion i core constants icoreconstants target target per iods periods ids changed schema version schemaversion i core constants icoreconstants target schema version schemaversion reverse engineer target version based schema version code code passed version current target platform version result get target version gettargetversion param schema version schemaversion schema version targeted code code compatible target version string get target version for schema version gettargetversionforschemaversion string schema version schemaversion schema version schemaversion get target version string gettargetversionstring schemas changed spelling app info appinfo app info appinfo comp liant compliant bug schema version schemaversion equals i core constants icoreconstants target schema version good i core constants icoreconstants target schema version schemaversion equals i core constants icoreconstants target schema version good i core constants icoreconstants target compatible latest version get target version string gettargetversionstring schema version current target platform string schema version current target platform string get schema version getschemaversion get schema version for target version getschemaversionfortargetversion pde state pdestate getpdestate pde core pdecore get default getdefault get model manager getmodelmanager get state getstate get state getstate getpdestate get state getstate utility method workspace active target platform ensure resolved running operation monitor progress reported param monitor optional progress monitor report progress resolved target definition code code resolution can celled cancelled core exception coreexception problem accessing workspace target definition i target definition itargetdefinition get workspace target resolved getworkspacetargetresolved i progress monitor iprogressmonitor monitor core exception coreexception i target platform service itargetplatformservice service i target platform service itargetplatformservice pde core pdecore get default getdefault acquire service acquireservice i target platform service itargetplatformservice get name getname service core exception coreexception status i status istatus error pde core pdecore plugin pde core messages pdecoremessages target platform helper targetplatformhelper could not acquire target service couldnotacquiretargetservice i target definition itargetdefinition target service get workspace target definition getworkspacetargetdefinition don resolve don target is resolved isresolved sub monitor submonitor sub mon submon sub monitor submonitor convert monitor target resolve sub mon submon sub mon submon is canceled iscanceled target map string get patch map getpatchmap pde state pdestate hash map hashmap string properties hash map hashmap string i plugin model base ipluginmodelbase models plugin registry pluginregistry get active models getactivemodels models length bundle description bundledescription desc models get bundle description getbundledescription desc desc get bundle id getbundleid classpath util core classpathutilcore hasextensibleapi models nls properties nls nls i core constants icoreconstants ext ensible extensible api classpath util core classpathutilcore is patch fragment ispatchfragment models nls properties nls nls i core constants icoreconstants patch fragment properties hash map hashmap string get bundle class paths getbundleclasspaths pde state pdestate hash map hashmap string properties hash map hashmap string bundle description bundledescription bundles get state getstate get bundles getbundles bundles length properties bundles get bundle id getbundleid get value getvalue bundles properties string get value getvalue bundle description bundledescription bundle pde state pdestate i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel bundle string result model i plugin library ipluginlibrary libs model get plugin base getpluginbase get libraries getlibraries result string libs length libs length result libs get name getname string libs get library names getlibrarynames bundle get bundle id getbundleid result string libs length libs length result libs result length nls string result string get feature paths getfeaturepaths i feature model ifeaturemodel models pde core pdecore get default getdefault get feature model manager getfeaturemodelmanager get models getmodels array list arraylist string list array list arraylist string models length string location models get install location getinstalllocation location list add location i path ipath separator i core constants icoreconstants feature filename descriptor list to array toarray string list size matches current environment matchescurrentenvironment i plugin model base ipluginmodelbase model bundle context bundlecontext context pde core pdecore get default getdefault get bundle context getbundlecontext dictionary string string environment get target environment gettargetenvironment bundle description bundledescription bundle model get bundle description getbundledescription string filter spec filterspec bundle bundle get platform filter getplatformfilter filter spec filterspec context create filter createfilter filter spec filterspec match environment invalid syntax exception invalidsyntaxexception uses new application model usesnewapplicationmodel nls plugin registry pluginregistry find model findmodel org eclipse equinox app reads returns arguments running platform ini file empty string arguments running platform ini file string getinivmargs file install directory installdirectory file platform get install location getinstalllocation geturl get file getfile platform getos equals platform macosx install directory installdirectory file install directory installdirectory eclipse app contents macos nls nls file eclipse ini file eclipseinifile file install directory installdirectory eclipse ini buffered reader bufferedreader string buffer stringbuffer result string buffer stringbuffer eclipse ini file eclipseinifile exists buffered reader bufferedreader file reader filereader eclipse ini file eclipseinifile string str vmargs str read line readline vmargs result length nls result append result append str start concat vmargs vmargs nls str equals nls vmargs vmargs i o exception ioexception pde core pdecore log close i o exception ioexception pde core pdecore log result to string tostring
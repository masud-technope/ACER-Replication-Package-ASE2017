copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal model java file java file filter filefilter java file input stream fileinputstream java file not found exception filenotfoundexception java io exception ioexception java input stream inputstream java util array list arraylist java util arrays java util collections java util hash map hashmap java util iterator java util list java util map org eclipse core runtime core exception coreexception org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional model api type container visitor apitypecontainervisitor org eclipse pde api tools internal provisional model i api element iapielement org eclipse pde api tools internal provisional model i api type container iapitypecontainer org eclipse pde api tools internal provisional model i api type root iapityperoot org eclipse pde api tools internal util util link i api type container iapitypecontainer rooted directory file system directory api type container directoryapitypecontainer api element apielement i api type container iapitypecontainer implementation link i api type root iapityperoot local file system local api type root localapityperoot abstract api type root abstractapityperoot comparable object string f location flocation constructs file file param directory parent link i api element iapielement directory param location param qualified type param component owning api component local api type root localapityperoot directory api type container directoryapitypecontainer directory string location string type name typename directory type name typename f location flocation location override string get type name gettypename get name getname override compare to compareto object get name getname compare to compareto local api type root localapityperoot get name getname override equals object obj obj local api type root localapityperoot local api type root localapityperoot obj get name getname equals get name getname override hash code hashcode get name getname hash code hashcode override get contents getcontents core exception coreexception input stream inputstream stream stream file input stream fileinputstream file f location flocation file not found exception filenotfoundexception abort file util get input stream as byte array getinputstreamasbytearray stream io exception ioexception ioe abort unable read file get type name gettypename ioe stream close io exception ioexception api plugin apiplugin log map names directory file map string string f packages fpackages cache names string f package names fpackagenames constructs link i api type container iapitypecontainer rooted path param parent parent link i api element iapielement code code param location absolute path local file system directory api type container directoryapitypecontainer i api element iapielement parent string location parent i api element iapielement api type container location org eclipse pde api tools internal provisional i api type container iapitypecontainer accept org eclipse pde api tools internal provisional api type container visitor apitypecontainervisitor override accept api type container visitor apitypecontainervisitor visitor core exception coreexception visitor visit init string package names packagenames get package names getpackagenames package names packagenames length string pkg package names packagenames visitor visit package visitpackage pkg string location f packages fpackages pkg location file dir file location dir exists file files dir list files listfiles file filter filefilter file file is file isfile file get name getname ends with endswith util dot suffix files list local api type root localapityperoot class files classfiles array list arraylist files length string files get name getname string type name typename substring length pkg length nls type name typename nls pkg type name typename class files classfiles add local api type root localapityperoot files get absolute path getabsolutepath type name typename collections sort class files classfiles i api type root iapityperoot class file classfile class files classfiles visitor visit pkg class file classfile visitor pkg class file classfile visitor end visit package endvisitpackage pkg visitor java lang object to string tostring override string to string tostring string buffer stringbuffer buf f buff string buffer stringbuffer nls buf f buff append directory file container get name getname buf f buff to string tostring override close core exception coreexception f packages fpackages f package names fpackagenames override i api type root iapityperoot find type root findtyperoot string qualified name qualifiedname core exception coreexception init qualified name qualifiedname last index of lastindexof string cf name cfname qualified name qualifiedname string pkg util pkg qualified name qualifiedname substring cf name cfname qualified name qualifiedname substring string location f packages fpackages pkg location file file file location cf name cfname util dot suffix file exists local api type root localapityperoot file get absolute path getabsolutepath qualified name qualifiedname override string get package names getpackagenames core exception coreexception init f package names fpackagenames list string names array list arraylist f packages fpackages key set keyset string result string names size names to array toarray result arrays sort result f package names fpackagenames result f package names fpackagenames builds cache names directories init f packages fpackages f packages fpackages hash map hashmap process directory processdirectory util file get name getname traverses directory determine files visits directories param package name packagename directory visited param dir directory visited process directory processdirectory string package name packagename file dir file files dir list files listfiles files has class files hasclassfiles list file dirs array list arraylist files length file file files file is directory isdirectory dirs add file get absolute file getabsolutefile has class files hasclassfiles file get name getname ends with endswith util dot suffix f packages fpackages package name packagename dir get absolute path getabsolutepath has class files hasclassfiles iterator file iterator dirs iterator iterator has next hasnext file child iterator string next name nextname package name packagename length next name nextname child get name getname next name nextname nls package name packagename nls child get name getname process directory processdirectory next name nextname child org eclipse pde api tools internal provisional i api type container iapitypecontainer find class file findclassfile java lang string java lang string override i api type root iapityperoot find type root findtyperoot string qualified name qualifiedname string core exception coreexception find type root findtyperoot qualified name qualifiedname override get container type getcontainertype directory
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal model java util array list arraylist java util arrays java util list org eclipse core resources i container icontainer org eclipse core resources i file ifile org eclipse core resources i folder ifolder org eclipse core resources i resource iresource org eclipse core resources i resource proxy iresourceproxy org eclipse core resources i resource proxy visitor iresourceproxyvisitor org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse core runtime path org eclipse pde api tools internal provisional model api type container visitor apitypecontainervisitor org eclipse pde api tools internal provisional model i api element iapielement org eclipse pde api tools internal provisional model i api type container iapitypecontainer org eclipse pde api tools internal provisional model i api type root iapityperoot org eclipse pde api tools internal util util link i api type root iapityperoot rooted project output container workspace project type container projecttypecontainer api element apielement i api type container iapitypecontainer proxy visitor collecting names type containers container visitor containervisitor i resource proxy visitor iresourceproxyvisitor list string collector segment count segmentcount constructor param collector param root container visitor containervisitor list string collector i container icontainer root collector collector segment count segmentcount root get full path getfullpath segment count segmentcount override visit i resource proxy iresourceproxy proxy core exception coreexception proxy get type gettype i resource iresource folder string path proxy request full path requestfullpath remove first segments removefirstsegments segment count segmentcount to string tostring collector add path replace i path ipath separator root directory link i api type container iapitypecontainer i container icontainer f root froot string f package names fpackagenames constructs link i api type container iapitypecontainer rooted location param parent link i api element iapielement parent container param container folder workspace project type container projecttypecontainer i api element iapielement parent i container icontainer container parent i api element iapielement api type container container get name getname f root froot container org eclipse pde api tools internal abstract api type container abstractapitypecontainer accept org eclipse pde api tools internal provisional api type container visitor apitypecontainervisitor override accept api type container visitor apitypecontainervisitor visitor core exception coreexception visitor visit do visit dovisit f root froot util visitor visitor org eclipse pde api tools internal provisional i api type container iapitypecontainer close override close core exception coreexception f package names fpackagenames java lang object to string tostring override string to string tostring string buffer stringbuffer buf f buff string buffer stringbuffer nls buf f buff append project file container get name getname buf f buff to string tostring visits link i container icontainer param container param pkg name pkgname param visitor core exception coreexception do visit dovisit i container icontainer container string pkg name pkgname api type container visitor apitypecontainervisitor visitor core exception coreexception i resource iresource members container members list i container icontainer dirs array list arraylist visit pkg visitpkg visitor visit package visitpackage pkg name pkgname members length i resource iresource file members file get type gettype i resource iresource folder dirs add i container icontainer file i resource iresource file visit pkg visitpkg file get name getname ends with endswith util dot suffix string file get name getname string type name typename substring length pkg name pkgname length string buffer stringbuffer buf string buffer stringbuffer pkg name pkgname buf append buf append type name typename type name typename buf to string tostring resource api type root resourceapityperoot resource api type root resourceapityperoot i file ifile file type name typename visitor visit pkg name pkgname visitor pkg name pkgname visitor end visit package endvisitpackage pkg name pkgname i container icontainer child dirs string next name nextname pkg name pkgname length next name nextname child get name getname string buffer stringbuffer buffer string buffer stringbuffer pkg name pkgname buffer append buffer append child get name getname next name nextname buffer to string tostring do visit dovisit child next name nextname visitor org eclipse pde api tools internal provisional i api type container iapitypecontainer find type root findtyperoot java lang string override i api type root iapityperoot find type root findtyperoot string qualified name qualifiedname core exception coreexception qualified name qualifiedname last index of lastindexof string cf name cfname qualified name qualifiedname string pkg util pkg qualified name qualifiedname substring cf name cfname qualified name qualifiedname substring i folder ifolder folder f root froot get folder getfolder path pkg replace i path ipath separator folder exists i file ifile file folder get file getfile cf name cfname util dot suffix file exists resource api type root resourceapityperoot file qualified name qualifiedname org eclipse pde api tools internal abstract api type container abstractapitypecontainer get package names getpackagenames override string get package names getpackagenames core exception coreexception f package names fpackagenames list string names array list arraylist collect package names collectpackagenames names util f root froot f package names fpackagenames names to array toarray string names size arrays sort f package names fpackagenames f package names fpackagenames traverses directory determine link i api type root iapityperoot visits directories param package name packagename directory visited param dir directory visited collect package names collectpackagenames list string names string package name packagename i container icontainer dir core exception coreexception dir accept container visitor containervisitor names dir i resource iresource org eclipse pde api tools internal provisional i api type container iapitypecontainer find type root findtyperoot java lang string java lang string override i api type root iapityperoot find type root findtyperoot string qualified name qualifiedname string core exception coreexception find type root findtyperoot qualified name qualifiedname override get container type getcontainertype folder
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal editor plugin java lang reflect invocation target exception invocationtargetexception org eclipse core file buf fers filebuffers org eclipse core resources i file ifile org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse jface text org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde internal core classpath helper classpathhelper org eclipse pde internal core target platform helper targetplatformhelper org eclipse pde internal core project pde project pdeproject org eclipse pde internal core util manifest utils manifestutils org eclipse text edits create manifest operation createmanifestoperation i runnable with progress irunnablewithprogress i plugin model base ipluginmodelbase f model fmodel create manifest operation createmanifestoperation i plugin model base ipluginmodelbase model f model fmodel model override i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception interrupted exception interruptedexception handle convert handleconvert trim old manifest trimoldmanifest bad location exception badlocationexception invocation target exception invocationtargetexception core exception coreexception invocation target exception invocationtargetexception handle convert handleconvert core exception coreexception i project iproject project f model fmodel get underlying resource getunderlyingresource get project getproject string target target platform helper targetplatformhelper get target version string gettargetversionstring manifest utils manifestutils converttoosgiformat project target classpath helper classpathhelper get dev dictionary getdevdictionary f model fmodel trim old manifest trimoldmanifest bad location exception badlocationexception core exception coreexception i text file buffer manager itextfilebuffermanager manager file buffers filebuffers get text file buffer manager gettextfilebuffermanager i project iproject project f model fmodel get underlying resource getunderlyingresource get project getproject i file ifile file f model fmodel is fragment model isfragmentmodel pde project pdeproject get fragment xml getfragmentxml project pde project pdeproject get plugin xml getpluginxml project manager connect file get full path getfullpath location kind locationkind normalize i text file buffer itextfilebuffer buffer manager get text file buffer gettextfilebuffer file get full path getfullpath location kind locationkind normalize i document idocument doc buffer get document getdocument find replace document adapter findreplacedocumentadapter adapter find replace document adapter findreplacedocumentadapter doc multi text edit multitextedit multi edit multiedit multi text edit multitextedit nls nls text edit textedit edit edit root element editrootelement f model fmodel is fragment model isfragmentmodel fragment plugin adapter doc edit multi edit multiedit add child addchild edit nls edit remove element removeelement requires adapter doc edit multi edit multiedit add child addchild edit nls edit remove element removeelement runtime adapter doc edit multi edit multiedit add child addchild edit multi edit multiedit has children haschildren multi edit multiedit apply doc buffer commit manager disconnect file get full path getfullpath location kind locationkind normalize text edit textedit edit root element editrootelement string element name elementname find replace document adapter findreplacedocumentadapter adapter i document idocument doc offset bad location exception badlocationexception nls nls i region iregion region adapter find element name elementname region nls string replacement string replacementstring element name elementname doc get char getchar region get offset getoffset region get length getlength nls replacement string replacementstring nls replace edit replaceedit region get offset getoffset region get length getlength replacement string replacementstring text edit textedit remove element removeelement string element name elementname find replace document adapter findreplacedocumentadapter adapter i document idocument doc offset bad location exception badlocationexception nls nls i region iregion region adapter find element name elementname region doc get char getchar region get offset getoffset region get length getlength delete edit deleteedit region get offset getoffset region get length getlength nls nls i region iregion end region endregion adapter find element name elementname end region endregion last pos lastpos end region endregion get offset getoffset end region endregion get length getlength character is whitespace iswhitespace doc get char getchar last pos lastpos last pos lastpos last pos lastpos delete edit deleteedit region get offset getoffset last pos lastpos region get offset getoffset
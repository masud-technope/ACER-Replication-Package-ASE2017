copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal wizards imports java java lang reflect invocation target exception invocationtargetexception java util array list arraylist org eclipse core runtime org eclipse core runtime jobs job org eclipse jface dialogs org eclipse jface dialogs dialog org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse jface viewers org eclipse jface wizard wizard page wizardpage org eclipse osgi util nls org eclipse pde core plugin target platform targetplatform org eclipse pde internal core i core constants icoreconstants org eclipse pde internal core pde core pdecore org eclipse pde internal core feature external feature model externalfeaturemodel org eclipse pde internal core ifeature i feature model ifeaturemodel org eclipse pde internal org eclipse pde internal elements default content provider defaultcontentprovider org eclipse pde internal shared cached checkbox tree viewer cachedcheckboxtreeviewer org eclipse pde internal shared filtered checkbox tree filteredcheckboxtree org eclipse pde internal shared target messages org eclipse pde internal util swt util swtutil org eclipse pde internal wizards list util listutil org eclipse swt swt org eclipse swt events org eclipse swt graphics point org eclipse swt layout grid data griddata org eclipse swt layout grid layout gridlayout org eclipse swt widgets org eclipse platformui org eclipse dialogs pattern filter patternfilter org eclipse progress i progress service iprogressservice org eclipse progress ui job uijob wizard importing features user choose location folder load features select features workspace feature import wizard featureimportwizard feature import wizard page featureimportwizardpage wizard page wizardpage nls string settings droplocation drop location droplocation nls string settings doother do other doother nls string settings binary not binary notbinary wait valid ating validating directory typing delay label f other location label fotherlocationlabel button f runtime location button fruntimelocationbutton button f browse button fbrowsebutton combo f drop location fdroplocation f self set location fselfsetlocation string f curr drop location fcurrdroplocation job f text changed job ftextchangedjob cached checkbox tree viewer cachedcheckboxtreeviewer f feature viewer ffeatureviewer label f counter label fcounterlabel button f select all button fselectallbutton button f deselect all button fdeselectallbutton i feature model ifeaturemodel f models fmodels button f binary button fbinarybutton content provider contentprovider default content provider defaultcontentprovider i structured content provider istructuredcontentprovider override object get elements getelements object parent f models fmodels f models fmodels object location changed job locationchangedjob ui job uijob location changed job locationchangedjob display job display jobdisplay string job display jobdisplay override i status istatus run i n thread runinuithread i progress monitor iprogressmonitor monitor monitor is canceled iscanceled status cancel status validate drop location validatedroplocation f runtime location button fruntimelocationbutton get selection getselection string new loc newloc f drop location fdroplocation get text gettext get message type getmessagetype warning new loc newloc equals f curr drop location fcurrdroplocation f self set location fselfsetlocation handle reload handlereload f curr drop location fcurrdroplocation new loc newloc status status feature import wizard page featureimportwizardpage nls feature import wizard page featureimportwizardpage set title settitle pde ui messages pdeuimessages feature import wizard featureimportwizard first page firstpage title set description setdescription pde ui messages pdeuimessages feature import wizard featureimportwizard first page firstpage desc pde plugin pdeplugin get default getdefault get label provider getlabelprovider connect i dialog page idialogpage create control createcontrol composite override create control createcontrol composite parent initialize dialog units initializedialogunits parent composite composite composite parent swt composite set layout setlayout grid layout gridlayout f runtime location button fruntimelocationbutton button composite swt check fill horizontal fillhorizontal f runtime location button fruntimelocationbutton f runtime location button fruntimelocationbutton set text settext pde ui messages pdeuimessages feature import wizard featureimportwizard first page firstpage runtime location runtimelocation composite other location composite otherlocationcomposite swt factory swtfactory create composite createcomposite composite grid data griddata fill horizontal f other location label fotherlocationlabel label other location composite otherlocationcomposite swt f other location label fotherlocationlabel set text settext pde ui messages pdeuimessages feature import wizard featureimportwizard first page firstpage other folder otherfolder f drop location fdroplocation combo other location composite otherlocationcomposite swt drop fill horizontal fillhorizontal f drop location fdroplocation f browse button fbrowsebutton button other location composite otherlocationcomposite swt push f browse button fbrowsebutton set text settext pde ui messages pdeuimessages feature import wizard featureimportwizard first page firstpage browse f browse button fbrowsebutton set layout data setlayoutdata grid data griddata swt util swtutil set button dimension hint setbuttondimensionhint f browse button fbrowsebutton create feature table createfeaturetable composite composite under table comp undertablecomp swt factory swtfactory create composite createcomposite composite grid data griddata fill horizontal nls f counter label fcounterlabel swt factory swtfactory create label createlabel under table comp undertablecomp f counter label fcounterlabel set layout data setlayoutdata grid data griddata swt left swt top composite button comp buttoncomp swt factory swtfactory create composite createcomposite under table comp undertablecomp swt button comp buttoncomp set layout data setlayoutdata grid data griddata swt swt top f select all button fselectallbutton swt factory swtfactory create push button createpushbutton button comp buttoncomp pde ui messages pdeuimessages wizard checkbox table part wizardcheckboxtablepart select all selectall f select all button fselectallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f feature viewer ffeatureviewer set all checked setallchecked update counter updatecounter dialog changed dialogchanged f deselect all button fdeselectallbutton swt factory swtfactory create push button createpushbutton button comp buttoncomp pde ui messages pdeuimessages wizard checkbox table part wizardcheckboxtablepart deselect all deselectall f deselect all button fdeselectallbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent f feature viewer ffeatureviewer set all checked setallchecked update counter updatecounter dialog changed dialogchanged f binary button fbinarybutton swt factory swtfactory create check button createcheckbutton composite pde ui messages pdeuimessages feature import wizard featureimportwizard first page firstpage binary import binaryimport initialize fields initializefields get dialog settings getdialogsettings hook listeners hooklisteners set control setcontrol composite update counter updatecounter dialog changed dialogchanged dialog apply dialog font applydialogfont composite platformui get workbench getworkbench get help system gethelpsystem set help sethelp composite i help context ids ihelpcontextids feature hook listeners hooklisteners f runtime location button fruntimelocationbutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent set other enabled setotherenabled f runtime location button fruntimelocationbutton get selection getselection set location setlocation f runtime location button fruntimelocationbutton get selection getselection target platform targetplatform get location getlocation f curr drop location fcurrdroplocation handle reload handlereload f drop location fdroplocation add modify listener addmodifylistener modify listener modifylistener override modify text modifytext modify event modifyevent text combo item resolve wait type is item isitem string items f drop location fdroplocation get items getitems items length f drop location fdroplocation get text gettext equals items is item isitem location changed locationchanged is item isitem typing delay f browse button fbrowsebutton add selection listener addselectionlistener selection adapter selectionadapter override widget selected widgetselected selection event selectionevent i path ipath chosen choose drop location choosedroplocation chosen set location setlocation chosen toosstring handle reload handlereload called location aspect container changed schedule ui job uijob verify resolve container reporting problems user previous job running sleeping can celled cancelled param delay delay add job scheduling location changed locationchanged delay f text changed job ftextchangedjob f text changed job ftextchangedjob location changed job locationchangedjob get shell getshell get display getdisplay messages edit directory container page editdirectorycontainerpage f text changed job ftextchangedjob cancel f text changed job ftextchangedjob schedule delay grid data griddata fill horizontal fillhorizontal control control span grab grid data griddata grid data griddata grid data griddata horizontal align fill horizontal span horizontalspan span grab excess horizontal space grabexcesshorizontalspace grab control set layout data setlayoutdata initialize fields initializefields i dialog settings idialogsettings initial settings initialsettings string drop items dropitems string do other doother binary initial settings initialsettings do other doother initial settings initialsettings get boolean getboolean settings doother binary initial settings initialsettings get boolean getboolean settings binary array list arraylist string items array list arraylist string curr initial settings initialsettings settings droplocation string value of valueof curr items curr items add curr items size nls items add drop items dropitems items to array toarray string items size f drop location fdroplocation set items setitems drop items dropitems f runtime location button fruntimelocationbutton set selection setselection do other doother set other enabled setotherenabled do other doother f curr drop location fcurrdroplocation do other doother drop items dropitems target platform targetplatform get location getlocation set location setlocation f curr drop location fcurrdroplocation f binary button fbinarybutton set selection setselection binary validate drop location validatedroplocation handle reload handlereload set other enabled setotherenabled enabled f other location label fotherlocationlabel set enabled setenabled enabled f drop location fdroplocation set enabled setenabled enabled f browse button fbrowsebutton set enabled setenabled enabled store settings storesettings finish pressed finishpressed i dialog settings idialogsettings settings get dialog settings getdialogsettings f runtime location button fruntimelocationbutton get selection getselection binary f binary button fbinarybutton get selection getselection finish pressed finishpressed f drop location fdroplocation get text gettext length settings settings droplocation string value of valueof f drop location fdroplocation get text gettext string items f drop location fdroplocation get items getitems n entries nentries math min items length n entries nentries settings settings droplocation string value of valueof items finish pressed finishpressed settings settings doother settings settings binary binary browses drop location i path ipath choose drop location choosedroplocation directory dialog directorydialog dialog directory dialog directorydialog get shell getshell dialog set filter path setfilterpath f drop location fdroplocation get text gettext dialog set text settext pde ui messages pdeuimessages feature import wizard featureimportwizard messages folder title dialog set message setmessage pde ui messages pdeuimessages feature import wizard featureimportwizard messages folder message string res dialog open res path res validate drop location validatedroplocation string error message errormessage is other location isotherlocation i path ipath curr get drop location getdroplocation curr segment count segmentcount error message errormessage pde ui messages pdeuimessages feature import wizard featureimportwizard errors location missing locationmissing path root is valid path isvalidpath f drop location fdroplocation get text gettext error message errormessage pde ui messages pdeuimessages feature import wizard featureimportwizard errors build folder invalid buildfolderinvalid file file curr to file tofile file exists file is directory isdirectory error message errormessage pde ui messages pdeuimessages feature import wizard featureimportwizard errors build folder missing buildfoldermissing set error message seterrormessage error message errormessage set page complete setpagecomplete error message errormessage is binary isbinary f binary button fbinarybutton get selection getselection returns drop location i path ipath get drop location getdroplocation path f drop location fdroplocation get text gettext trim is other location isotherlocation f runtime location button fruntimelocationbutton get selection getselection handle reload handlereload i feature model ifeaturemodel models get models getmodels f feature viewer ffeatureviewer set input setinput models models f runtime location button fruntimelocationbutton get selection getselection string curr item curritem f drop location fdroplocation get text gettext models length f drop location fdroplocation index of indexof curr item curritem f drop location fdroplocation add curr item curritem f drop location fdroplocation get item count getitemcount f drop location fdroplocation remove store settings storesettings models loaded entire contents combo selected easily lead over writing overwriting contents select f drop location fdroplocation set selection setselection point f drop location fdroplocation get text gettext length f drop location fdroplocation get text gettext length f feature viewer ffeatureviewer set checked elements setcheckedelements models update counter updatecounter dialog changed dialogchanged create feature table createfeaturetable composite parent composite container composite parent swt grid layout gridlayout layout grid layout gridlayout layout margin height marginheight layout margin width marginwidth container set layout setlayout layout grid data griddata grid data griddata grid data griddata fill vertical indent verticalindent height hint heighthint width hint widthhint container set layout data setlayoutdata pattern filter patternfilter filter pattern filter patternfilter filter set include leading wildcard setincludeleadingwildcard filtered checkbox tree filteredcheckboxtree tree filtered checkbox tree filteredcheckboxtree container swt filter f feature viewer ffeatureviewer tree get checkbox tree viewer getcheckboxtreeviewer f feature viewer ffeatureviewer set content provider setcontentprovider i tree content provider itreecontentprovider override input changed inputchanged viewer viewer object old input oldinput object new input newinput override dispose override object get elements getelements object input element inputelement input element inputelement object object input element inputelement object override has children haschildren object element override object get parent getparent object element override object get children getchildren object parent element parentelement object f feature viewer ffeatureviewer set label provider setlabelprovider pde plugin pdeplugin get default getdefault get label provider getlabelprovider f feature viewer ffeatureviewer set comparator setcomparator list util listutil feature comparator f feature viewer ffeatureviewer add check state listener addcheckstatelistener i check state listener icheckstatelistener override check state changed checkstatechanged check state changed event checkstatechangedevent event update counter updatecounter dialog changed dialogchanged f feature viewer ffeatureviewer add double click listener adddoubleclicklistener i double click listener idoubleclicklistener override double click doubleclick double click event doubleclickevent event i selection iselection selection f feature viewer ffeatureviewer get selection getselection selection is empty isempty object selected i structured selection istructuredselection selection get first element getfirstelement f feature viewer ffeatureviewer set checked setchecked selected f feature viewer ffeatureviewer get checked getchecked selected update counter updatecounter dialog changed dialogchanged update counter updatecounter total f models fmodels total f models fmodels length checked f feature viewer ffeatureviewer get checked leaf count getcheckedleafcount f counter label fcounterlabel set text settext nls bind pde ui messages pdeuimessages wizard checkbox table part wizardcheckboxtablepart counter string integer checked to string tostring integer total to string tostring override dispose dispose pde plugin pdeplugin get default getdefault get label provider getlabelprovider disconnect i feature model ifeaturemodel get models getmodels i path ipath get drop location getdroplocation use runtime location useruntimelocation f runtime location button fruntimelocationbutton get selection getselection target platform targetplatform get location getlocation equals f drop location fdroplocation get text gettext trim i runnable with progress irunnablewithprogress runnable i runnable with progress irunnablewithprogress override i progress monitor iprogressmonitor monitor invocation target exception invocationtargetexception interrupted exception interruptedexception monitor begin task begintask pde ui messages pdeuimessages feature import wizard featureimportwizard messages updating i progress monitor iprogressmonitor unknown array list arraylist i feature model ifeaturemodel result array list arraylist use runtime location useruntimelocation i feature model ifeaturemodel all models allmodels pde core pdecore get default getdefault get feature model manager getfeaturemodelmanager get models getmodels all models allmodels length all models allmodels get underlying resource getunderlyingresource result add all models allmodels multi status multistatus errors do load features doloadfeatures result create path createpath errors errors get children getchildren length pde plugin pdeplugin log errors f models fmodels result to array toarray i feature model ifeaturemodel result size monitor i progress service iprogressservice pservice platformui get workbench getworkbench get progress service getprogressservice pservice busy cursor while busycursorwhile runnable invocation target exception invocationtargetexception interrupted exception interruptedexception f models fmodels file create path createpath i path ipath drop location droplocation file features dir featuresdir file drop location droplocation to file tofile i core constants icoreconstants feature folder features dir featuresdir exists features dir featuresdir multi status multistatus do load features doloadfeatures array list arraylist i feature model ifeaturemodel result file path path file dirs path list files listfiles dirs array list arraylist i status istatus result status resultstatus array list arraylist dirs length file dir dirs dir is directory isdirectory file manifest file dir i core constants icoreconstants feature filename descriptor manifest exists i status istatus status do load feature doloadfeature dir manifest result status result status resultstatus add status multi status multistatus i pde ui constants ipdeuiconstants plugin i status istatus result status resultstatus to array toarray i status istatus result status resultstatus size pde ui messages pdeuimessages feature import wizard featureimportwizard detailed page detailedpage problems loading problemsloading i status istatus do load feature doloadfeature file dir file manifest array list arraylist i feature model ifeaturemodel result external feature model externalfeaturemodel model external feature model externalfeaturemodel model set install location setinstalllocation dir get absolute path getabsolutepath i status istatus status input stream inputstream stream stream buffered input stream bufferedinputstream file input stream fileinputstream manifest model load stream model is valid isvalid status status i status istatus warning i pde ui constants ipdeuiconstants plugin i status istatus nls bind pde ui messages pdeuimessages feature import wizard page featureimportwizardpage import has invalid importhasinvalid dir exception status status i status istatus error i pde ui constants ipdeuiconstants plugin i status istatus get message getmessage stream stream close i o exception ioexception status result add model status i feature model ifeaturemodel get selected models getselectedmodels object selected f feature viewer ffeatureviewer get checked elements getcheckedelements i feature model ifeaturemodel result i feature model ifeaturemodel selected length system arraycopy selected result selected length result dialog changed dialogchanged string message f feature viewer ffeatureviewer f models fmodels f models fmodels length message pde ui messages pdeuimessages feature import wizard featureimportwizard messages n o features nofeatures set message setmessage message i message provider imessageprovider set page complete setpagecomplete f feature viewer ffeatureviewer get checked leaf count getcheckedleafcount override is page complete ispagecomplete f feature viewer ffeatureviewer get checked leaf count getcheckedleafcount set location setlocation string location f self set location fselfsetlocation f drop location fdroplocation set text settext location f self set location fselfsetlocation
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal search java file java file output stream fileoutputstream java io exception ioexception java output stream writer outputstreamwriter java print writer printwriter java util array list arraylist java util collections java util hash map hashmap java util hash set hashset java util iterator java util list java util map java util java util regex pattern org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime path org eclipse core runtime sub monitor submonitor org eclipse osgi util nls org eclipse pde api tools internal i api core constants iapicoreconstants org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional visibility modifiers visibilitymodifiers org eclipse pde api tools internal provisional descriptors i component descriptor icomponentdescriptor org eclipse pde api tools internal provisional descriptors i element descriptor ielementdescriptor org eclipse pde api tools internal provisional descriptors i member descriptor imemberdescriptor org eclipse pde api tools internal provisional descriptors i reference type descriptor ireferencetypedescriptor org eclipse pde api tools internal util signatures generates html report xml scan generated report consumer based lists bundles references listing bundles produce types referenced consumer report convertor consumerreportconvertor use report converter usereportconverter scan visitor collects list bundles link i component descriptor icomponentdescriptor consume api references list consumers visitor listconsumersvisitor use scan visitor usescanvisitor link i component descriptor icomponentdescriptor representing consume rs consumers references i component descriptor icomponentdescriptor consume rs consumers hash set hashset override visit component visitcomponent i component descriptor icomponentdescriptor target override visit ref erencing component visitreferencingcomponent i component descriptor icomponentdescriptor component consume rs consumers add component override visit member visitmember i member descriptor imemberdescriptor referenced member referencedmember override visit reference visitreference i reference descriptor ireferencedescriptor reference scan visitor produces report data single consumer bundle visitor collects report data link consumer consumer report visitor consumerreportvisitor use scan visitor usescanvisitor consumer consumer map string producer producers hash map hashmap i component descriptor icomponentdescriptor consumer descriptor consumerdescriptor producer current producer currentproducer type currenttype member current member currentmember cache type descriptions maps enclosing descriptors type objects hash map hashmap i reference type descriptor ireferencetypedescriptor type hash map hashmap constructor param consumer descriptor consumerdescriptor bundle collecting consumer report visitor consumerreportvisitor i component descriptor icomponentdescriptor consumer descriptor consumerdescriptor consumer descriptor consumerdescriptor consumer descriptor consumerdescriptor consumer consumer consumer compose name composename consumer descriptor consumerdescriptor get id getid consumer descriptor consumerdescriptor get version getversion override end visit scan endvisitscan start api plugin apiplugin debug report converter system println nls writing consumer report bundle nls consumer start system current time millis currenttimemillis consumer counts get total ref count gettotalrefcount write consumer report writeconsumerreport consumer producers producers clear api plugin apiplugin debug report converter nls nls system println system current time millis currenttimemillis start exception api plugin apiplugin log override visit component visitcomponent i component descriptor icomponentdescriptor target current producer currentproducer producer current producer currentproducer compose name composename target get id getid target get version getversion override end visit component endvisitcomponent i component descriptor icomponentdescriptor target current producer currentproducer counts get total ref count gettotalrefcount producers contains key containskey current producer currentproducer producers current producer currentproducer current producer currentproducer start api plugin apiplugin debug report converter system println nls writing producer report bundle nls current producer currentproducer start system current time millis currenttimemillis consumer counts get total ref count gettotalrefcount write producer report writeproducerreport consumer current producer currentproducer api plugin apiplugin debug report converter nls nls system println system current time millis currenttimemillis start exception api plugin apiplugin log override visit ref erencing component visitreferencingcomponent i component descriptor icomponentdescriptor component component equals consumer descriptor consumerdescriptor override end visit ref erencing component endvisitreferencingcomponent i component descriptor icomponentdescriptor component visitor runs consumer time html written scan override visit member visitmember i member descriptor imemberdescriptor referenced member referencedmember i reference type descriptor ireferencetypedescriptor desc get enclosing descriptor getenclosingdescriptor referenced member referencedmember desc currenttype desc currenttype currenttype type desc desc currenttype current producer currentproducer types desc currenttype current member currentmember member referenced member referencedmember currenttype referencing members referencingmembers referenced member referencedmember current member currentmember override end visit member endvisitmember i member descriptor imemberdescriptor referenced member referencedmember currenttype counts get total ref count gettotalrefcount i reference type descriptor ireferencetypedescriptor desc get enclosing descriptor getenclosingdescriptor referenced member referencedmember desc remove desc current producer currentproducer types remove currenttype override visit reference visitreference i reference descriptor ireferencedescriptor reference i member descriptor imemberdescriptor from member frommember reference get member getmember accept reference acceptreference reference get referenced member getreferencedmember top atterns topatterns accept reference acceptreference from member frommember from patterns frompatterns line number linenumber reference get line number getlinenumber ref kind refkind reference get reference kind getreferencekind visibility reference get visibility getvisibility string ref name refname org eclipse pde api tools internal builder reference get reference text getreferencetext ref kind refkind list reference current member currentmember children ref name refname array list arraylist current member currentmember children ref name refname add reference from member frommember line number linenumber visibility format messages formatmessages reference get problem messages getproblemmessages from member frommember get element type getelementtype i element descriptor ielementdescriptor type visibility visibility modifiers visibilitymodifiers api consumer counts total api type count current producer currentproducer counts total api type count current member currentmember counts total api type count currenttype counts total api type count visibility modifiers visibilitymodifiers consumer counts total type count current producer currentproducer counts total type count current member currentmember counts total type count currenttype counts total type count visibility modifiers visibilitymodifiers permissible consumer counts total permissable type count current producer currentproducer counts total permissable type count current member currentmember counts total permissable type count currenttype counts total permissable type count fragment permissible consumer counts total fragment permissible type count current producer currentproducer counts total fragment permissible type count current member currentmember counts total fragment permissible type count currenttype counts total fragment permissible type count visibility modifiers visibilitymodifiers illegal api consumer counts total illegal type count current producer currentproducer counts total illegal type count current member currentmember counts total illegal type count currenttype counts total illegal type count i element descriptor ielementdescriptor method visibility visibility modifiers visibilitymodifiers api consumer counts total api method count current producer currentproducer counts total api method count current member currentmember counts total api method count currenttype counts total api method count visibility modifiers visibilitymodifiers consumer counts total method count current producer currentproducer counts total method count current member currentmember counts total method count currenttype counts total method count visibility modifiers visibilitymodifiers permissible consumer counts total permissable method count current producer currentproducer counts total permissable method count current member currentmember counts total permissable method count currenttype counts total permissable method count fragment permissible consumer counts total fragment permissible method count current producer currentproducer counts total fragment permissible method count current member currentmember counts total fragment permissible method count currenttype counts total fragment permissible method count visibility modifiers visibilitymodifiers illegal api consumer counts total illegal method count current producer currentproducer counts total illegal method count current member currentmember counts total illegal method count currenttype counts total illegal method count i element descriptor ielementdescriptor field visibility visibility modifiers visibilitymodifiers api consumer counts total api field count current producer currentproducer counts total api field count current member currentmember counts total api field count currenttype counts total api field count visibility modifiers visibilitymodifiers consumer counts total field count current producer currentproducer counts total field count current member currentmember counts total field count currenttype counts total field count visibility modifiers visibilitymodifiers permissible consumer counts total permissable field count current producer currentproducer counts total permissable field count current member currentmember counts total permissable field count currenttype counts total permissable field count fragment permissible consumer counts total fragment permissible field count current producer currentproducer counts total fragment permissible field count current member currentmember counts total fragment permissible field count currenttype counts total fragment permissible field count visibility modifiers visibilitymodifiers illegal api consumer counts total illegal field count current producer currentproducer counts total illegal field count current member currentmember counts total illegal field count currenttype counts total illegal field count returns reference reported param desc reference reported accept reference acceptreference i member descriptor imemberdescriptor desc pattern patterns patterns patterns length patterns matcher desc get package getpackage get name getname find returns enclosing link i reference type descriptor ireferencetypedescriptor member descriptor param member enclosing link i reference type descriptor ireferencetypedescriptor code code i reference type descriptor ireferencetypedescriptor get enclosing descriptor getenclosingdescriptor i member descriptor imemberdescriptor member member get element type getelementtype i element descriptor ielementdescriptor type i reference type descriptor ireferencetypedescriptor member i element descriptor ielementdescriptor method i element descriptor ielementdescriptor field member get enclosing type getenclosingtype form ats formats arrays messages param messages for matted formatted messages code code string format messages formatmessages string messages messages string buffer stringbuffer buffer string buffer stringbuffer messages length buffer append messages messages length nls buffer append buffer to string tostring consumer string count group countgroup counts count group countgroup producer string map i reference type descriptor ireferencetypedescriptor type types hash map hashmap count group countgroup counts count group countgroup type type type i element descriptor ielementdescriptor desc desc map i member descriptor imemberdescriptor member referencing members referencingmembers hash map hashmap constructor param html root htmlroot folder root html reports written param xml root xmlroot folder root current api scan output located param top atterns topatterns array regular expressions prune references pattern param from patterns frompatterns array regular expressions prune references pattern consumer report convertor consumerreportconvertor string html root htmlroot string xml root xmlroot string top atterns topatterns string from patterns frompatterns html root htmlroot xml root xmlroot top atterns topatterns from patterns frompatterns override list parse i progress monitor iprogressmonitor monitor exception sub monitor submonitor sub mon submon sub monitor submonitor convert monitor list consumers visitor listconsumersvisitor list visitor listvisitor list consumers visitor listconsumersvisitor use scan parser usescanparser lparser use scan parser usescanparser lparser parse get xml location getxmllocation sub mon submon split list visitor listvisitor list consumer consumer reports consumerreports array list arraylist consumer report visitor consumerreportvisitor visitor i component descriptor icomponentdescriptor consumer list visitor listvisitor consume rs consumers visitor consumer report visitor consumerreportvisitor consumer lparser parse get xml location getxmllocation visitor visitor consumer counts get total ref count gettotalrefcount consumer reports consumerreports add visitor consumer consumer reports consumerreports string get consumer title getconsumertitle string bundle nls bind search messages searchmessages consumer report convertor consumerreportconvertor consumer title consumertitle bundle string get producer title getproducertitle string consumer string producer nls bind search messages searchmessages consumer report convertor consumerreportconvertor producer title producertitle consumer producer override string get index title getindextitle search messages searchmessages consumer report convertor consumerreportconvertor index title indextitle writes main file reports param scan result scanresult list link consumer objects returns scan parser param reports root reportsroot override write index page writeindexpage list scan result scanresult exception collections sort scan result scanresult consumer compare to compareto consumer print writer printwriter writer nls file report index reportindex file get html location gethtmllocation html report index reportindex exists report index reportindex create new file createnewfile set report index setreportindex report index reportindex string buffer stringbuffer buffer string buffer stringbuffer buffer append html header buffer append open html append open head append content type meta write metadata headers writemetadataheaders buffer buffer append open title append get index title getindextitle append close title buffer append close head buffer append open body buffer append open append get index title getindextitle append close get metadata getmetadata write metadata summary writemetadatasummary buffer get filtered count getfilteredcount write filter count writefiltercount buffer exception buffer append open append search messages searchmessages use report convertor usereportconvertor additional infos append close has missing hasmissing buffer append open buffer append nls bind search messages searchmessages use report converter usereportconverter missing bundles prev ented prevented scan string href missing html nls nls buffer append close buffer append open buffer append nls bind search messages searchmessages use report converter usereportconverter bundles searched string href searched html nls nls string additional get additional index info getadditionalindexinfo scan result scanresult size additional buffer append additional scan result scanresult size buffer append open append search messages searchmessages use report converter usereportconverter inlined description append close buffer append get colour legend getcolourlegend buffer append get references table header getreferencestableheader search messages searchmessages consumer report convertor consumerreportconvertor producer list header producerlistheader search messages searchmessages use report converter usereportconverter bundle scan result scanresult size file ref ereehtml refereehtml string link object obj scan result scanresult obj consumer consumer consumer consumer obj ref ereehtml refereehtml file get reports root getreportsroot nls consumer file separator nls html link extract link from extractlinkfrom get reports root getreportsroot ref ereehtml refereehtml get absolute path getabsolutepath buffer append get reference table entry getreferencetableentry consumer counts link consumer buffer append close table buffer append get no reports information getnoreportsinformation buffer append footer buffer append close body append close html write file writer print writer printwriter output stream writer outputstreamwriter file output stream fileoutputstream report index reportindex i api core constants iapicoreconstants utf writer print buffer to string tostring writer flush io exception ioexception exception nls bind search messages searchmessages ioe xception ioexception writing html file get report index getreportindex get absolute path getabsolutepath writer writer close writes html report specific consumer lists producers bundles provide api consumer bundle references param consumer consumer write report param producers map producer link producer object exception write consumer report writeconsumerreport consumer consumer map string producer producers exception print writer printwriter writer file originhtml file html root htmlroot file get html location gethtmllocation consumer html root htmlroot exists html root htmlroot mkdirs nls originhtml file html root htmlroot html originhtml exists originhtml create new file createnewfile string buffer stringbuffer buffer string buffer stringbuffer buffer append html header buffer append open html append open head append content type meta buffer append style buffer append script buffer append open title append get consumer title getconsumertitle consumer append close title buffer append close head buffer append open body buffer append open append get consumer title getconsumertitle consumer append close list string producer names producernames array list arraylist producer names producernames add all addall producers key set keyset collections sort producer names producernames compare buffer append get references table header getreferencestableheader search messages searchmessages consumer report convertor consumerreportconvertor consumer list header consumerlistheader search messages searchmessages use report converter usereportconverter bundle producer producer file ref ereehtml refereehtml string link iterator string iter producer names producernames iterator iter has next hasnext producer producers iter producer ref ereehtml refereehtml file get reports root getreportsroot nls producer file separator nls html link extract link from extractlinkfrom get reports root getreportsroot ref ereehtml refereehtml get absolute path getabsolutepath buffer append get reference table entry getreferencetableentry producer counts link producer buffer append close table buffer append nls buffer append open append href html append search messages searchmessages use report converter usereportconverter bundle append close append close buffer append footer writer print writer printwriter output stream writer outputstreamwriter file output stream fileoutputstream originhtml i api core constants iapicoreconstants utf writer println buffer to string tostring writer flush io exception ioexception ioe exception nls bind search messages searchmessages ioe xception ioexception writing html file originhtml get absolute path getabsolutepath ioe writer writer close writes html report producer lists types referenced parent consumer producer called link write consumer report writeconsumerreport consumer param producer producer write report exception write producer report writeproducerreport consumer parent consumer parentconsumer producer producer exception print writer printwriter writer file originhtml file html root htmlroot path get html location gethtmllocation append parent consumer parentconsumer append producer to file tofile html root htmlroot exists html root htmlroot mkdirs nls originhtml file html root htmlroot html originhtml exists originhtml create new file createnewfile string buffer stringbuffer buffer string buffer stringbuffer buffer append html header buffer append open html append open head append content type meta buffer append style buffer append script buffer append open title append get producer title getproducertitle parent consumer parentconsumer producer append close title buffer append close head buffer append open body buffer append open append get producer title getproducertitle parent consumer parentconsumer producer append close string additional get additional referenced type information getadditionalreferencedtypeinformation additional buffer append additional buffer append get references table header getreferencestableheader search messages searchmessages consumer report convertor consumerreportconvertor type list header typelistheader search messages searchmessages use report converter usereportconverter referenced type list i reference type descriptor ireferencetypedescriptor producer types producertypes array list arraylist producer types producertypes add all addall producer types key set keyset collections sort producer types producertypes compare count group countgroup counts string link file type file typefile type type iterator i reference type descriptor ireferencetypedescriptor iter producer types producertypes iterator iter has next hasnext type producer types iter counts type counts string fqname signatures get qualified type signature getqualifiedtypesignature i reference type descriptor ireferencetypedescriptor type desc type file typefile file html root htmlroot fqname html extension type file typefile exists type file typefile create new file createnewfile link extract link from extractlinkfrom html root htmlroot type file typefile get absolute path getabsolutepath buffer append get reference table entry getreferencetableentry counts link fqname write type page writetypepage type referencing members referencingmembers type type file typefile fqname buffer append close table buffer append nls buffer append open append href html append nls bind search messages searchmessages consumer report convertor consumerreportconvertor back link to consumer backlinktoconsumer parent consumer parentconsumer append close append close buffer append footer writer print writer printwriter output stream writer outputstreamwriter file output stream fileoutputstream originhtml i api core constants iapicoreconstants utf writer println buffer to string tostring writer flush io exception ioexception ioe exception nls bind search messages searchmessages ioe xception ioexception writing html file originhtml get absolute path getabsolutepath writer writer close
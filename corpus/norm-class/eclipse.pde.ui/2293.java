copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation lars vogel lars vogel gmail bug org eclipse pde internal correction java java lang reflect invocation target exception invocationtargetexception java util org eclipse core resources i project iproject org eclipse core runtime core exception coreexception org eclipse core runtime null progress monitor nullprogressmonitor org eclipse jdt core org eclipse jdt core compiler i problem iproblem org eclipse jdt core dom org eclipse jdt text java org eclipse jface operation i runnable with progress irunnablewithprogress org eclipse osgi service resolver org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde core plugin plugin registry pluginregistry org eclipse pde internal core workspace model manager workspacemodelmanager org eclipse pde internal correction java find class resolutions operation findclassresolutionsoperation abstract class resolution collector abstractclassresolutioncollector quick fix processor quickfixprocessor i quick fix processor iquickfixprocessor override i java completion proposal ijavacompletionproposal get corrections getcorrections i invocation context iinvocationcontext context i problem location iproblemlocation locations core exception coreexception array list arraylist object array list arraylist abstract class resolution collector abstractclassresolutioncollector collector create collector createcollector i problem location iproblemlocation location locations location get problem id getproblemid i problem iproblem for bidden reference forbiddenreference handle access restriction problem handleaccessrestrictionproblem context location collector fall i problem iproblem import not found importnotfound fall i problem iproblem undefined name undefinedname fall i problem iproblem undefined type undefinedtype fall i problem iproblem unresolved variable unresolvedvariable fall i problem iproblem missing type in method missingtypeinmethod i problem iproblem missing type in constructor missingtypeinconstructor handle import not found handleimportnotfound context location collector to array toarray i java completion proposal ijavacompletionproposal size adds i java completion proposals ijavacompletionproposals for bidden reference forbiddenreference marker handle access restriction problem handleaccessrestrictionproblem i invocation context iinvocationcontext context i problem location iproblemlocation location abstract class resolution collector abstractclassresolutioncollector collector i binding ibinding referenced element referencedelement ast node astnode node location get covered node getcoverednode context getastroot node type referenced element referencedelement type node resolve binding resolvebinding node referenced element referencedelement node resolve binding resolvebinding node method invocation methodinvocation i method binding imethodbinding temp method tempmethod method invocation methodinvocation node resolve method binding resolvemethodbinding temp method tempmethod referenced element referencedelement temp method tempmethod get declaring class getdeclaringclass node field access fieldaccess i variable binding ivariablebinding temp variable tempvariable field access fieldaccess node resolve field binding resolvefieldbinding temp variable tempvariable referenced element referencedelement temp variable tempvariable get declaring class getdeclaringclass referenced element referencedelement project reference element ensure exists workspace plug project i java project ijavaproject referenced java project referencedjavaproject referenced element referencedelement get java element getjavaelement get java project getjavaproject referenced java project referencedjavaproject workspace model manager workspacemodelmanager is plugin project ispluginproject referenced java project referencedjavaproject get project getproject i package fragment ipackagefragment referenced package referencedpackage i package fragment ipackagefragment referenced element referencedelement get java element getjavaelement get ancestor getancestor i java element ijavaelement fragment i java project ijavaproject current project currentproject context get compilation unit getcompilationunit get java project getjavaproject find proposals plug projects workspace model manager workspacemodelmanager is plugin project ispluginproject current project currentproject get project getproject packages exported referenced plug project referenced java project referencedjavaproject equals current project currentproject i plugin model base ipluginmodelbase referenced model referencedmodel plugin registry pluginregistry find model findmodel referenced java project referencedjavaproject get project getproject export package description exportpackagedescription export packages exportpackages referenced model referencedmodel get bundle description getbundledescription get export packages getexportpackages check required exported package exported packageexported referenced package referencedpackage export package description exportpackagedescription export package exportpackage export packages exportpackages export package exportpackage get name getname equals referenced package referencedpackage get element name getelementname package exported packageexported check access restriction caused handle access restriction by import package handleaccessrestrictionbyimportpackage context get compilation unit getcompilationunit get java project getjavaproject get project getproject export package exportpackage collector exported add quickfix package exported packageexported collector add export package resolution modification addexportpackageresolutionmodification referenced package referencedpackage handle access restriction by import package handleaccessrestrictionbyimportpackage referenced package referencedpackage collector adds i java completion proposals ijavacompletionproposals require bundle user bundle handle access restriction by import package handleaccessrestrictionbyimportpackage i package fragment ipackagefragment fragment abstract class resolution collector abstractclassresolutioncollector collector hash set hashset string hash set hashset i project iproject project fragment get java project getjavaproject get project getproject string pkg name pkgname fragment get element name getelementname i plugin model base ipluginmodelbase base plugin registry pluginregistry find model findmodel project export package description exportpackagedescription descs base get bundle description getbundledescription get resolved imports getresolvedimports export package description exportpackagedescription found export package foundexportpackage export package description exportpackagedescription desc descs bundle description bundledescription exporter desc get exporter getexporter add exporter get symbolic name getsymbolicname export package description exportpackagedescription exported pkgs exportedpkgs exporter get export packages getexportpackages export package description exportpackagedescription exported pkg exportedpkg exported pkgs exportedpkgs exported pkg exportedpkg get name getname equals pkg name pkgname fine simply remember found export package foundexportpackage exported pkg exportedpkg collector add require bundle modification addrequirebundlemodification project exported pkg exportedpkg found export package foundexportpackage collector add resolution modification addresolutionmodification project found export package foundexportpackage adds i java completion proposal ijavacompletionproposal require bundle user workspace bundle handle access restriction by import package handleaccessrestrictionbyimportpackage i project iproject current project currentproject export package description exportpackagedescription desc abstract class resolution collector abstractclassresolutioncollector collector bundle description bundledescription supplier desc get supplier getsupplier supplier string supplier id supplierid supplier get symbolic name getsymbolicname i plugin model base ipluginmodelbase base plugin registry pluginregistry find model findmodel current project currentproject bundle description bundledescription base get bundle description getbundledescription bundle specification bundlespecification imports get required bundles getrequiredbundles supplier imported supplierimported bundle specification bundlespecification imports tatement importstatement imports bundle description bundledescription import supplier importsupplier bundle description bundledescription imports tatement importstatement get supplier getsupplier import supplier importsupplier import supplier importsupplier get symbolic name getsymbolicname equals supplier id supplierid supplier imported supplierimported supplier imported supplierimported add propose import package proposeimportpackage import package specification importpackagespecification import packages importpackages get import packages getimportpackages import package specification importpackagespecification import package importpackage import packages importpackages desc get name getname equals import package importpackage get name getname imported require bundle propose import package proposeimportpackage propose import package proposeimportpackage relevance collector add resolution modification addresolutionmodification current project currentproject desc collector add require bundle modification addrequirebundlemodification current project currentproject desc adds i java completion proposals ijavacompletionproposals import not found importnotfound problem handle import not found handleimportnotfound i invocation context iinvocationcontext context i problem location iproblemlocation problem location problemlocation abstract class resolution collector abstractclassresolutioncollector collector compilation unit compilationunit context getastroot ast node astnode selected node selectednode problem location problemlocation get covering node getcoveringnode selected node selectednode ast node astnode node get parent getparent selected node selectednode string class name classname node selected node selectednode i type binding itypebinding type binding typebinding selected node selectednode resolve type binding resolvetypebinding type binding typebinding class name classname type binding typebinding get binary name getbinaryname fallback type resolved class name classname selected node selectednode simple name simplename class name classname simple name simplename selected node selectednode get identifier getidentifier node import declaration importdeclaration find full str ip strip demand qualifier string package name packagename import declaration importdeclaration node get name getname get fully qualified name getfullyqualifiedname import declaration importdeclaration node is on demand isondemand period assume importing single last period lastperiod package name packagename last index of lastindexof package name packagename package name packagename substring last period lastperiod last period lastperiod package name packagename length add search repositories proposal collector add search repositories modification addsearchrepositoriesmodification package name packagename class name classname i project iproject project get java element getjavaelement get java project getjavaproject get project getproject find proposals plug projects workspace model manager workspacemodelmanager is plugin project ispluginproject project i runnable with progress irunnablewithprogress find operation findoperation find class resolutions operation findclassresolutionsoperation project class name classname collector find operation findoperation null progress monitor nullprogressmonitor invocation target exception invocationtargetexception interrupted exception interruptedexception custom abstract class resolution collector abstractclassresolutioncollector add i java completion proposal ijavacompletionproposal adding export entry abstract class resolution collector abstractclassresolutioncollector create collector createcollector collection object result abstract class resolution collector abstractclassresolutioncollector list names resolution created string added import package resolutions addedimportpackageresolutions hash set hashset is done isdone override add resolution modification addresolutionmodification i project iproject project export package description exportpackagedescription desc guard multiple res olutions resolutions added import package resolutions addedimportpackageresolutions desc get name getname object proposal java resolution factory javaresolutionfactory create import package proposal createimportpackageproposal project desc java resolution factory javaresolutionfactory type java completion proposal added import package resolutions addedimportpackageresolutions add desc get name getname result add proposal is done isdone override object add export package resolution modification addexportpackageresolutionmodification i package fragment ipackagefragment a package apackage object proposal add export package resolution modification addexportpackageresolutionmodification a package apackage proposal result add proposal proposal override object add require bundle modification addrequirebundlemodification i project iproject project export package description exportpackagedescription desc relevance object proposal add require bundle modification addrequirebundlemodification project desc relevance proposal result add proposal proposal override object add search repositories modification addsearchrepositoriesmodification string package name packagename object proposal add search repositories modification addsearchrepositoriesmodification package name packagename proposal result add proposal proposal finish add export change override is done isdone is done isdone copied org eclipse jdt internal core ext coreext dom ast n oes astnoes get parent getparent simplified declaration ast node astnode get parent getparent ast node astnode node node node get parent getparent node node get node type getnodetype ast node astnode declaration node override has corrections hascorrections i compilation unit icompilationunit unit problem id problemid problem id problemid i problem iproblem for bidden reference forbiddenreference fall i problem iproblem undefined name undefinedname fall i problem iproblem import not found importnotfound fall i problem iproblem undefined type undefinedtype fall i problem iproblem unresolved variable unresolvedvariable fall i problem iproblem missing type in method missingtypeinmethod i problem iproblem missing type in constructor missingtypeinconstructor i java element ijavaelement parent unit get parent getparent parent i java project ijavaproject project parent get java project getjavaproject project workspace model manager workspacemodelmanager is plugin project ispluginproject project get project getproject
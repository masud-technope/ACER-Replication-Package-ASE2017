copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation code corporation ongoing enhancements org eclipse pde internal core build ers builders java java util map org eclipse core resources org eclipse core runtime org eclipse osgi util nls org eclipse pde core i model imodel org eclipse pde core plugin org eclipse pde internal core org eclipse pde internal core natures pde org eclipse pde internal core schema schema org eclipse pde internal core schema schema descriptor schemadescriptor extension point schema builder extensionpointschemabuilder incremental project builder incrementalprojectbuilder delta visitor deltavisitor i resource delta visitor iresourcedeltavisitor i progress monitor iprogressmonitor monitor delta visitor deltavisitor i progress monitor iprogressmonitor monitor monitor monitor override visit i resource delta iresourcedelta delta i resource iresource resource delta get resource getresource resource i project iproject is int eresting project isinterestingproject i project iproject resource resource i folder ifolder resource i file ifile i file ifile candidate i file ifile resource is schema file isschemafile candidate check changed delta get kind getkind i resource delta iresourcedelta removed compile file compilefile candidate monitor remove output file removeoutputfile candidate monitor override i project iproject build kind map string string args i progress monitor iprogressmonitor monitor core exception coreexception i resource delta iresourcedelta delta kind full build delta get delta getdelta get project getproject delta kind full build is int eresting project isinterestingproject get project getproject compile schemas in compileschemasin get project getproject monitor delta accept delta visitor deltavisitor monitor i project iproject override clean i progress monitor iprogressmonitor monitor core exception coreexception sub monitor submonitor local monitor localmonitor sub monitor submonitor convert monitor nls bind pde core messages pdecoremessages extension point schema builder extensionpointschemabuilder get project getproject get name getname clean existing markers schema files clean schemas in cleanschemasin get project getproject local monitor localmonitor local monitor localmonitor worked local monitor localmonitor cleans pde problem markers schema files container param container param monitor progress monitor core exception coreexception clean schemas in cleanschemasin i container icontainer container i progress monitor iprogressmonitor monitor core exception coreexception monitor is canceled iscanceled operation canceled exception operationcanceledexception i resource iresource members container members members length i resource iresource member members member i container icontainer clean schemas in cleanschemasin i container icontainer member monitor member i file ifile is schema file isschemafile i file ifile member member delete markers deletemarkers pde marker factory pdemarkerfactory marker i resource iresource depth is int eresting project isinterestingproject i project iproject project pde has plugin nature haspluginnature project workspace model manager workspacemodelmanager is binary project isbinaryproject project compile file compilefile i file ifile file i progress monitor iprogressmonitor monitor string message nls bind pde core messages pdecoremessages builders schema compiling file get full path getfullpath to string tostring monitor sub task subtask message schema error reporter schemaerrorreporter reporter schema error reporter schemaerrorreporter file defaultsaxparser parse file reporter reporter validate content validatecontent monitor string writer stringwriter swriter string writer stringwriter print writer printwriter writer print writer printwriter swriter generate doc generatedoc compiler flags compilerflags get boolean getboolean file get project getproject compiler flags compilerflags create docs reporter get document root getdocumentroot reporter get error count geterrorcount generate doc generatedoc ensure folders exist ensurefoldersexist file get project getproject get doc location getdoclocation file string output file name outputfilename get output file name getoutputfilename file i workspace iworkspace workspace file get workspace getworkspace path output path outputpath path output file name outputfilename schema descriptor schemadescriptor desc schema descriptor schemadescriptor file schema schema schema desc get schema getschema schema transformer schematransformer transformer schema transformer schematransformer transformer transform schema writer byte array input stream bytearrayinputstream target nls byte array input stream bytearrayinputstream nls swriter to string tostring get bytes getbytes utf i file ifile output file outputfile workspace get root getroot get file getfile output path outputpath workspace get root getroot exists output path outputpath output file outputfile create target monitor output file outputfile set contents setcontents target monitor unsupported encoding exception unsupportedencodingexception pde core pdecore log exception logexception core exception coreexception pde core pdecore log exception logexception writer close swriter close io exception ioexception monitor sub task subtask pde core messages pdecoremessages builders updating monitor ensure folders exist ensurefoldersexist i project iproject project string path name pathname core exception coreexception i path ipath path path path name pathname i container icontainer parent project path segment count segmentcount string segment path segment i folder ifolder folder parent get folder getfolder path segment folder exists folder create parent folder compile schemas in compileschemasin i container icontainer container i progress monitor iprogressmonitor monitor core exception coreexception monitor sub task subtask pde core messages pdecoremessages builders schema compiling schemas compilingschemas i resource iresource members container members members length i resource iresource member members member i container icontainer compile schemas in compileschemasin i container icontainer member monitor member i file ifile is schema file isschemafile i file ifile member compile file compilefile i file ifile member monitor monitor string get doc location getdoclocation i file ifile file compiler flags compilerflags get string getstring file get project getproject compiler flags compilerflags doc folder string get output file name getoutputfilename i file ifile file string file name filename file get name getname dot file name filename last index of lastindexof nls string page name pagename file name filename substring dot html string mangled plugin id mangledpluginid get m angle d plugin id getmangledpluginid file mangled plugin id mangledpluginid nls page name pagename mangled plugin id mangledpluginid page name pagename i path ipath path file get project getproject get full path getfullpath append get doc location getdoclocation file append page name pagename path to string tostring string get m angle d plugin id getmangledpluginid i file ifile file i project iproject project file get project getproject i model imodel model plugin registry pluginregistry find model findmodel project model i plugin model base ipluginmodelbase i plugin base ipluginbase plugin i plugin model base ipluginmodelbase model get plugin base getpluginbase plugin plugin get id getid replace is schema file isschemafile i file ifile file nls exsd equals file get file extension getfileextension remove output file removeoutputfile i file ifile file i progress monitor iprogressmonitor monitor string output file name outputfilename get output file name getoutputfilename file monitor sub task subtask nls bind pde core messages pdecoremessages builders schema removing output file name outputfilename i workspace iworkspace workspace file get workspace getworkspace i path ipath path path output file name outputfilename workspace get root getroot exists path i file ifile output file outputfile workspace get root getroot get file getfile path output file outputfile output file outputfile delete monitor core exception coreexception pde core pdecore log exception logexception monitor
copyright christian pontesegger rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors christian pontesegger initial api implementation org eclipse pde internal views image browser imagebrowser repositories java java util java util zip org eclipse core resources i file ifile org eclipse core runtime org eclipse core runtime jobs job org eclipse osgi util nls org eclipse pde internal pde plugin pdeplugin org eclipse pde internal pde ui messages pdeuimessages org eclipse pde internal views image browser imagebrowser i image target iimagetarget org eclipse pde internal views image browser imagebrowser image element imageelement org eclipse swt swt exception swtexception org eclipse swt graphics image data imagedata abstract repository abstractrepository job list image element imageelement m elements cache melementscache linked list linkedlist i image target iimagetarget m target mtarget abstract repository abstractrepository i image target iimagetarget target pde ui messages pdeuimessages abstract repository abstractrepository scan for i scanforui m target mtarget target nls nls string extensions string gif png override i status istatus i progress monitor iprogressmonitor monitor m target mtarget needs more needsmore monitor is canceled iscanceled m elements cache melementscache is empty isempty populate cache populatecache monitor populate cache status status image cache m target mtarget notify image notifyimage m elements cache melementscache remove status status clear cache clearcache m elements cache melementscache clear populate cache populatecache i progress monitor iprogressmonitor monitor image data imagedata create image data createimagedata i file ifile file core exception coreexception image data imagedata buffered input stream bufferedinputstream file get contents getcontents is image isimage file resource resource is file isfile is image name isimagename resource get name getname is image name isimagename string file name filename string extension extensions file name filename region matches regionmatches file name filename length extension length extension extension length is jar isjar file file nls file get name getname to lower case tolowercase ends with endswith jar search jar file searchjarfile file jar file jarfile i progress monitor iprogressmonitor monitor zip file zipfile zip file zipfile zip file zipfile zip file zipfile jar file jarfile enumeration zip entry zipentry entries zip file zipfile entries entries has more elements hasmoreelements monitor is canceled iscanceled zip entry zipentry entry entries next element nextelement is image name isimagename entry get name getname input stream inputstream input stream inputstream input stream inputstream zip file zipfile get input stream getinputstream entry image data imagedata image data imagedata image data imagedata input stream inputstream add image element addimageelement image element imageelement image data imagedata jar file jarfile get name getname entry get name getname i o exception ioexception pde plugin pdeplugin log swt exception swtexception pde plugin pdeplugin log status i status istatus error pde plugin pdeplugin get plugin id getpluginid nls bind pde ui messages pdeuimessages abstract repository abstractrepository error loading image from jar errorloadingimagefromjar jar file jarfile get absolute path getabsolutepath entry get name getname input stream inputstream input stream inputstream close exception zip exception zipexception pde plugin pdeplugin log i o exception ioexception pde plugin pdeplugin log zip file zipfile zip file zipfile close i o exception ioexception search directory searchdirectory file directory i progress monitor iprogressmonitor monitor nls file manifest file directory meta inf manifest manifest exists string plugin name pluginname get plugin name getpluginname file input stream fileinputstream manifest directory path length directorypathlength directory get absolute path getabsolutepath length collection file locations hash set hashset locations add directory file locations iterator locations remove file resource list files listfiles monitor is canceled iscanceled resource is directory isdirectory locations add resource is image isimage resource add image element addimageelement image element imageelement create image data createimagedata i file ifile resource plugin name pluginname resource get absolute path getabsolutepath substring directory path length directorypathlength exception locations is empty isempty monitor is canceled iscanceled i o exception ioexception pde plugin pdeplugin log string get plugin name getpluginname input stream inputstream manifest i o exception ioexception properties properties properties buffered input stream bufferedinputstream stream buffered input stream bufferedinputstream manifest properties load stream stream close nls string property properties get property getproperty bundle symbolic name symbolicname nls property property substring property index of indexof trim property trim add image element addimageelement image element imageelement element m elements cache melementscache add element
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core target java java text message format messageformat java util arrays java util comparator java util regex matcher java util regex pattern javax xml parsers javax xml transform javax xml transform dom dom source domsource javax xml transform stream stream result streamresult org eclipse core runtime org eclipse osgi util nls org eclipse pde core target org eclipse pde internal core i core constants icoreconstants org eclipse pde internal core pde core pdecore org dom org xml sax input source inputsource org xml sax sax exception saxexception org xml sax helpers default handler defaulthandler methods serialize deserialize xml representing target definition i target definition itargetdefinition target definition persistence helper targetdefinitionpersistencehelper constants xml element names attributes nls string root target nls string attr nls string locations locations nls string location location nls string attr location path path nls string attr location type type nls string attr use default usedefault nls string include bundles include bundles includebundles nls string environment environment nls string nls string nls string arch arch nls string nls string target jre targetjre nls string exec env exec env execenv nls string jre jre name jrename nls string arguments launcher args launcherargs nls string program args program args programargs nls string args vm args vmargs nls string implicit implicit dependencies implicitdependencies nls string plugin plugin nls string pde instruction pde nls string attr nls string install able installable unit unit nls string repository repository nls string attr include mode include mode includemode nls string mode slicer slicer nls string mode planner planner nls string attr include platforms include all platforms includeallplatforms nls string attr include source include source includesource nls string attr include configure phase include configure p has e includeconfigurephase nls string attr version version nls string attr configuration configuration nls string attr sequence number sequence number sequencenumber nls string content content nls string attr use all plugins useallplugins nls string plugins plugins nls string features features nls string feature feature nls string extra locations extra locations extralocations i target platform service itargetplatformservice f target service ftargetservice serial izes serializes target definition xml writes xml stream param definition target definition serialize param output output stream write xml core exception coreexception parser configuration exception parserconfigurationexception transformer exception transformerexception io exception ioexception sax exception saxexception persistxml i target definition itargetdefinition definition output stream outputstream output core exception coreexception parser configuration exception parserconfigurationexception transformer exception transformerexception io exception ioexception sax exception saxexception document builder factory documentbuilderfactory dfactory document builder factory documentbuilderfactory new instance newinstance document builder documentbuilder doc builder docbuilder dfactory new document builder newdocumentbuilder document doc doc builder docbuilder new document newdocument nls nls processing instruction processinginstruction instruction doc create processing instruction createprocessinginstruction pde instruction attr version i core constants icoreconstants target doc append child appendchild instruction element root element rootelement doc create element createelement root definition get name getname root element rootelement set attribute setattribute attr definition get name getname target definition targetdefinition definition getuimode target definition targetdefinition mode feature root element rootelement set attribute setattribute attr include mode feature root element rootelement set attribute setattribute attr sequence number integer to string tostring target definition targetdefinition definition get sequence number getsequencenumber i target location itargetlocation containers definition get target locations gettargetlocations containers containers length element containers element containerselement doc create element createelement locations containers length element container element containerelement serialize bundle container serializebundlecontainer doc builder docbuilder doc containers container element containerelement containers element containerselement append child appendchild container element containerelement root element rootelement append child appendchild containers element containerselement name version descriptor nameversiondescriptor included definition get included getincluded included arrays sort included comparator name version descriptor nameversiondescriptor override compare name version descriptor nameversiondescriptor name version descriptor nameversiondescriptor compare type comparetype get type gettype compare to compareto get type gettype compare type comparetype compare type comparetype get id getid compare to compareto get id getid element included element includedelement doc create element createelement include bundles serialize bundles serializebundles doc included element includedelement included root element rootelement append child appendchild included element includedelement definition getos definition getws definition get arch getarch definition getnl element env element envelement doc create element createelement environment definition getos element element doc create element createelement set text content settextcontent element definition getos env element envelement append child appendchild element definition getws element element doc create element createelement set text content settextcontent element definition getws env element envelement append child appendchild element definition get arch getarch element element doc create element createelement arch set text content settextcontent element definition get arch getarch env element envelement append child appendchild element definition getnl element element doc create element createelement set text content settextcontent element definition getnl env element envelement append child appendchild element root element rootelement append child appendchild env element envelement definition getjrecontainer element jre element jreelement doc create element createelement target jre i path ipath path definition getjrecontainer jre element jreelement set attribute setattribute attr location path path to portable string toportablestring root element rootelement append child appendchild jre element jreelement definition getvmarguments definition get program arguments getprogramarguments element arg element argelement doc create element createelement arguments definition getvmarguments element element doc create element createelement args set text content settextcontent element definition getvmarguments arg element argelement append child appendchild element definition get program arguments getprogramarguments element element doc create element createelement program args set text content settextcontent element definition get program arguments getprogramarguments arg element argelement append child appendchild element root element rootelement append child appendchild arg element argelement name version descriptor nameversiondescriptor implicit dependencies implicitdependencies definition get implicit dependencies getimplicitdependencies implicit dependencies implicitdependencies implicit dependencies implicitdependencies length element implicit doc create element createelement implicit implicit dependencies implicitdependencies length element plugin doc create element createelement plugin plugin set attribute setattribute attr implicit dependencies implicitdependencies get id getid implicit dependencies implicitdependencies get version getversion plugin set attribute setattribute attr version implicit dependencies implicitdependencies get version getversion implicit append child appendchild plugin root element rootelement append child appendchild implicit doc append child appendchild root element rootelement dom source domsource source dom source domsource doc stream result streamresult output target outputtarget stream result streamresult output transformer factory transformerfactory factory transformer factory transformerfactory new instance newinstance transformer transformer factory new transformer newtransformer nls transformer set output property setoutputproperty output keys outputkeys method xml nls transformer set output property setoutputproperty output keys outputkeys indent transformer transform source output target outputtarget parses xml document input stream deserializes target definition param definition definition filled result deserialization param input stream xml input core exception coreexception parser configuration exception parserconfigurationexception io exception ioexception sax exception saxexception initfromxml i target definition itargetdefinition definition input stream inputstream input core exception coreexception parser configuration exception parserconfigurationexception sax exception saxexception io exception ioexception document builder documentbuilder parser document builder factory documentbuilderfactory new instance newinstance new document builder newdocumentbuilder parser set error handler seterrorhandler default handler defaulthandler document doc parser parse input source inputsource input element root doc get document element getdocumentelement root get node name getnodename equals ignore case equalsignorecase root core exception coreexception status i status istatus error pde core pdecore plugin messages target definition persistence helper targetdefinitionpersistencehelper string version node list nodelist list doc get child nodes getchildnodes list get length getlength node node list item node get node type getnodetype node processing instruction node processing instruction processinginstruction instruction processing instruction processinginstruction node instruction get target gettarget pde instruction string data instruction get data getdata pattern pattern pattern compile nls attr version nls matcher matcher pattern matcher data matcher matches version matcher group note file structure updated update cases version version length version latest target persistence targetpersistence helper init from doc initfromdoc definition root version equals i core constants icoreconstants target target persistence targetpersistence helper init from doc initfromdoc definition root version equals i core constants icoreconstants target target persistence targetpersistence helper init from doc initfromdoc definition root version equals i core constants icoreconstants target target persistence targetpersistence helper init from doc initfromdoc definition root version compare to compareto i core constants icoreconstants target target persistence targetpersistence helper init from doc initfromdoc definition root version doesn match file structure latest string root get attribute getattribute target definition persistence helper targetdefinitionpersistencehelper attr pde core pdecore log status i status istatus warning pde core pdecore plugin message format messageformat format messages target definition persistence helper targetdefinitionpersistencehelper version target persistence targetpersistence helper init from doc initfromdoc definition root i target platform service itargetplatformservice get target platform service gettargetplatformservice core exception coreexception f target service ftargetservice f target service ftargetservice i target platform service itargetplatformservice pde core pdecore get default getdefault acquire service acquireservice i target platform service itargetplatformservice get name getname f target service ftargetservice core exception coreexception status i status istatus error pde core pdecore plugin messages target definition persistence helper targetdefinitionpersistencehelper f target service ftargetservice returns text nodes stored children element param element element check text content string text content element empty string dom exception domexception string get text content gettextcontent element element dom exception domexception node list nodelist children element get child nodes getchildnodes string buffer stringbuffer result string buffer stringbuffer children get length getlength node current node currentnode children item current node currentnode get node type getnodetype node text node result append current node currentnode get node value getnodevalue result to string tostring element serialize bundle container serializebundlecontainer document builder documentbuilder doc builder docbuilder document doc i target location itargetlocation target location targetlocation core exception coreexception sax exception saxexception io exception ioexception target location targetlocation directory bundle container directorybundlecontainer element container element containerelement doc create element createelement location container element containerelement set attribute setattribute attr location type target location targetlocation get type gettype container element containerelement set attribute setattribute attr location path target location targetlocation get location getlocation container element containerelement target location targetlocation feature bundle container featurebundlecontainer element container element containerelement doc create element createelement location container element containerelement set attribute setattribute attr location type target location targetlocation get type gettype container element containerelement set attribute setattribute attr location path target location targetlocation get location getlocation container element containerelement set attribute setattribute attr feature bundle container featurebundlecontainer target location targetlocation get feature id getfeatureid string version feature bundle container featurebundlecontainer target location targetlocation get feature version getfeatureversion version container element containerelement set attribute setattribute attr version version container element containerelement target location targetlocation profile bundle container profilebundlecontainer element container element containerelement doc create element createelement location container element containerelement set attribute setattribute attr location type target location targetlocation get type gettype container element containerelement set attribute setattribute attr location path target location targetlocation get location getlocation string configuration area configurationarea profile bundle container profilebundlecontainer target location targetlocation get configuration location getconfigurationlocation configuration area configurationarea container element containerelement set attribute setattribute attr configuration configuration area configurationarea container element containerelement string xml target location targetlocation serialize xml nls document document doc builder docbuilder parse byte array input stream bytearrayinputstream xml get bytes getbytes utf element root document get document element getdocumentelement root get node name getnodename equals ignore case equalsignorecase location core exception coreexception status i status istatus error pde core pdecore plugin nls bind messages target definition persistence helper targetdefinitionpersistencehelper wrong root element in l wrongrootelementinxml target location targetlocation get type gettype xml root set attribute setattribute attr location type target location targetlocation get type gettype element doc import node importnode root serialize bundles serializebundles document doc element parent name version descriptor nameversiondescriptor bundles bundles length bundles get type gettype name version descriptor nameversiondescriptor type feature element included bundle includedbundle doc create element createelement feature included bundle includedbundle set attribute setattribute attr bundles get id getid string version bundles get version getversion version included bundle includedbundle set attribute setattribute attr version version parent append child appendchild included bundle includedbundle element included bundle includedbundle doc create element createelement plugin included bundle includedbundle set attribute setattribute attr bundles get id getid string version bundles get version getversion version included bundle includedbundle set attribute setattribute attr version version parent append child appendchild included bundle includedbundle removes existing child content ins erts inserts text node text param element element add text content param text text add dom exception domexception set text content settextcontent element element string text dom exception domexception node child child element get first child getfirstchild element remove child removechild child text text length text text node textnode element get owner document getownerdocument create text node createtextnode text element append child appendchild text node textnode
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools model tests java file java util array list arraylist java util hash map hashmap java util hash set hashset java util list java util map java util junit framework test junit framework test case testcase junit framework test suite testsuite org eclipse core runtime core exception coreexception org eclipse core runtime i path ipath org eclipse pde api tools internal model archive api type container archiveapitypecontainer org eclipse pde api tools internal model directory api type container directoryapitypecontainer org eclipse pde api tools internal provisional model api type container visitor apitypecontainervisitor org eclipse pde api tools internal provisional model i api type container iapitypecontainer org eclipse pde api tools internal provisional model i api type root iapityperoot tests file containers api type container tests apitypecontainertests test case testcase test suite test suite testsuite api type container tests apitypecontainertests api type container tests apitypecontainertests api type container tests apitypecontainertests string builds sample archive sample jar sample archive i api type container iapitypecontainer build archive container buildarchivecontainer i path ipath path test suite helper testsuitehelper get plugin directory path getplugindirectorypath nls nls path path append test jars append sample jar file file path to file tofile nls assert true asserttrue missing jar file file exists archive api type container archiveapitypecontainer path toosstring builds sample container directory sample directory container i api type container iapitypecontainer build directory container builddirectorycontainer i path ipath path test suite helper testsuitehelper get plugin directory path getplugindirectorypath nls path path append test bin dir file file path to file tofile nls assert true asserttrue missing bin directory file exists directory api type container directoryapitypecontainer path toosstring tests retrieving names archive core exception coreexception test archive package names testarchivepackagenames core exception coreexception do test package names dotestpackagenames build archive container buildarchivecontainer tests retrieving names directory core exception coreexception test directory package names testdirectorypackagenames core exception coreexception do test package names dotestpackagenames build directory container builddirectorycontainer tests retrieving names param container file container core exception coreexception do test package names dotestpackagenames i api type container iapitypecontainer container core exception coreexception string package names packagenames container get package names getpackagenames string known names knownnames hash set hashset string nls known names knownnames add nls known names knownnames add nls known names knownnames add nls assert equals assertequals wrong number packages package names packagenames length package names packagenames length nls assert true asserttrue missing package names packagenames known names knownnames remove package names packagenames nls assert true asserttrue left packages known names knownnames is empty isempty tests visiting packages archive core exception coreexception test archive vist packages testarchivevistpackages core exception coreexception do test visit packages dotestvisitpackages build archive container buildarchivecontainer tests visiting packages directory core exception coreexception test directory vist packages testdirectoryvistpackages core exception coreexception do test visit packages dotestvisitpackages build directory container builddirectorycontainer test visiting packages param container file container core exception coreexception do test visit packages dotestvisitpackages i api type container iapitypecontainer container core exception coreexception list string expected pkg order expectedpkgorder array list arraylist string nls expected pkg order expectedpkgorder add nls expected pkg order expectedpkgorder add nls expected pkg order expectedpkgorder add list string visit array list arraylist string api type container visitor apitypecontainervisitor visitor api type container visitor apitypecontainervisitor override visit package visitpackage string package name packagename visit add package name packagename override visit string package name packagename i api type root iapityperoot class file classfile assert true asserttrue nls visit types nls override end visit package endvisitpackage string package name packagename assert true asserttrue nls wrong visit order nls visit visit size equals package name packagename override string package name packagename i api type root iapityperoot class file classfile assert true asserttrue nls visit types nls container accept visitor nls assert equals assertequals visited wrong number packages expected pkg order expectedpkgorder size visit size nls assert equals assertequals visit order incorrect expected pkg order expectedpkgorder visit tests visiting files archive core exception coreexception test archive visit class files testarchivevisitclassfiles core exception coreexception do test visit class files dotestvisitclassfiles build archive container buildarchivecontainer tests visiting files directory core exception coreexception test directory visit class files testdirectoryvisitclassfiles core exception coreexception do test visit class files dotestvisitclassfiles build directory container builddirectorycontainer test visiting files param container file container core exception coreexception do test visit class files dotestvisitclassfiles i api type container iapitypecontainer container core exception coreexception map string list string expected types expectedtypes hash map hashmap string list string list string expected pkg order expectedpkgorder array list arraylist string nls expected pkg order expectedpkgorder add list string array list arraylist string nls add def a defa nls add def b defb nls expected types expectedtypes nls expected pkg order expectedpkgorder add array list arraylist string nls add class a classa nls add class b classb nls add class b classb inside b insideb nls expected types expectedtypes nls expected pkg order expectedpkgorder add array list arraylist string nls add class c classc nls add class d classd nls add interface c interfacec nls expected types expectedtypes list string visit array list arraylist string map string list string visit types visittypes hash map hashmap string list string api type container visitor apitypecontainervisitor visitor api type container visitor apitypecontainervisitor override visit package visitpackage string package name packagename visit add package name packagename override visit string package name packagename i api type root iapityperoot class file classfile assert true asserttrue nls visit types nls visit visit size equals package name packagename list string types visit types visittypes package name packagename types types array list arraylist string visit types visittypes package name packagename types types add class file classfile get type name gettypename override end visit package endvisitpackage string package name packagename assert true asserttrue nls wrong visit order nls visit visit size equals package name packagename assert equals assertequals nls visited wrong types nls expected types expectedtypes package name packagename nls visit types visittypes package name packagename override string package name packagename i api type root iapityperoot class file classfile list string types visit types visittypes package name packagename assert true asserttrue nls visit types nls types types size equals class file classfile get type name gettypename container accept visitor nls assert equals assertequals visited wrong number packages expected pkg order expectedpkgorder size visit size nls assert equals assertequals visit order incorrect expected pkg order expectedpkgorder visit
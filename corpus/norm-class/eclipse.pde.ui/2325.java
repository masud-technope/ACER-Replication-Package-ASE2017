copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal search java file java file output stream fileoutputstream java io exception ioexception java output stream writer outputstreamwriter java print writer printwriter java util array list arraylist java util collections java util comparator java util list java util map entry java util tree map treemap org eclipse core runtime i progress monitor iprogressmonitor org eclipse osgi util nls org eclipse pde api tools internal i api core constants iapicoreconstants org eclipse pde api tools internal problems api problem apiproblem org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional descriptors i component descriptor icomponentdescriptor org eclipse pde api tools internal provisional problems i api problem iapiproblem org eclipse pde api tools internal provisional search i metadata imetadata org osgi framework version missing ref report converter missingrefreportconverter use report converter usereportconverter missing ref visitor missingrefvisitor list report reports visit scan visitscan reports array list arraylist visit component visitcomponent i component descriptor icomponentdescriptor target component targetcomponent current report currentreport report current report currentreport compose name composename target component targetcomponent get id getid target component targetcomponent get version getversion reports add current report currentreport builds component param component param version version component code code string string compose name composename string string version string version name versionname version version version name versionname version empty version emptyversion to string tostring string buffer stringbuffer buffer string buffer stringbuffer length version name versionname length nls nls buffer append append append version name versionname append buffer to string tostring end visit component endvisitcomponent write index file for component writeindexfileforcomponent current report currentreport exception api plugin apiplugin log write index file for component writeindexfileforcomponent report report exception print writer printwriter writer file originhtml file html root htmlroot file get html location gethtmllocation report html root htmlroot exists html root htmlroot mkdirs originhtml nls file nls html root htmlroot nls html originhtml exists originhtml create new file createnewfile string buffer stringbuffer buffer string buffer stringbuffer buffer append html header buffer append open html append open head append content type meta buffer append style buffer append script buffer append open title append get problem title getproblemtitle report append close title buffer append close head buffer append open body buffer append open append get problem title getproblemtitle report append close buffer append get problem summary getproblemsummary report string buffer stringbuffer type problems typeproblems string buffer stringbuffer string buffer stringbuffer method problems methodproblems string buffer stringbuffer string buffer stringbuffer field problems fieldproblems string buffer stringbuffer integer key tree map treemap string list i api problem iapiproblem types entry integer tree map treemap string list i api problem iapiproblem entry report api problems apiproblems entry set entryset key entry get key getkey types entry get value getvalue key int value intvalue i api problem iapiproblem api scan type problem type problems typeproblems append get problem table getproblemtable types i api problem iapiproblem api scan method problem method problems methodproblems append get problem table getproblemtable types i api problem iapiproblem api scan field problem field problems fieldproblems append get problem table getproblemtable types buffer append get problems table header getproblemstableheader search messages searchmessages missing ref report converter missingrefreportconverter problem details problemdetails search messages searchmessages missing ref report converter missingrefreportconverter problem types problemtypes type problems typeproblems length buffer append get problem row getproblemrow type problems typeproblems search messages searchmessages missing ref report converter missingrefreportconverter type method problems methodproblems length buffer append get problem row getproblemrow method problems methodproblems search messages searchmessages missing ref report converter missingrefreportconverter method field problems fieldproblems length buffer append get problem row getproblemrow field problems fieldproblems search messages searchmessages missing ref report converter missingrefreportconverter field buffer append close table nls buffer append open append href html append search messages searchmessages missing ref report converter missingrefreportconverter back to index backtoindex append close append nls close buffer append footer buffer append close body writer print writer printwriter output stream writer outputstreamwriter file output stream fileoutputstream originhtml i api core constants iapicoreconstants utf writer println buffer to string tostring writer flush io exception ioexception ioe exception nls bind search messages searchmessages ioe xception ioexception writing html file originhtml get absolute path getabsolutepath writer writer close string buffer stringbuffer get problem row getproblemrow string buffer stringbuffer type string header string buffer stringbuffer buffer string buffer stringbuffer buffer append open nls buffer append align left buffer append open nls buffer append href java script javascript types lnk typeslnk onclick expand title nls buffer append header append nls nls buffer append span span append header append buffer append close append close nls buffer append div colspan types nls buffer append type append buffer append close div buffer append close buffer string buffer stringbuffer get problem table getproblemtable tree map treemap string list i api problem iapiproblem types string buffer stringbuffer buffer string buffer stringbuffer nls buffer append table width border cellspacing cellpadding string tname list i api problem iapiproblem pbs entry string list i api problem iapiproblem entry types entry set entryset tname entry get key getkey pbs entry get value getvalue nls buffer append nls align left nls buffer append colspan bgcolor cccccc append open append tname append close append nls close buffer append close collections sort pbs missing compare missingcompare i api problem iapiproblem pbs buffer append open nls buffer append align left width append get message getmessage append nls close buffer append close buffer append close table buffer object get problem summary getproblemsummary report report string buffer stringbuffer buffer string buffer stringbuffer buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter summary append close buffer append open append nls bind search messages searchmessages missing ref report converter missingrefreportconverter summary desc summarydesc string report integer to string tostring report api problems apiproblems size append close buffer to string tostring returns html mark up markup problems table header param section name sectionname param type references table header string get problems table header getproblemstableheader string section name sectionname string type string buffer stringbuffer buffer string buffer stringbuffer buffer append open append section name sectionname append close buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table header problemtableheader append close nls buffer append div align left main nls buffer append table border width buffer append open nls nls nls buffer append bgcolor append references table header colour append append open append type append buffer append close buffer to string tostring param bundle title string get problem title getproblemtitle string bundle nls bind search messages searchmessages missing ref report converter missingrefreportconverter problem title problemtitle bundle add to current report addtocurrentreport list i api problem iapiproblem api problems apiproblems current report currentreport add api problems apiproblems string xml location xmllocation string html location htmllocation file reports root reportsroot file html index htmlindex report current report currentreport comparator object missing compare missingcompare string string string compare to compareto string api problem apiproblem api problem apiproblem api problem apiproblem get message getmessage compare to compareto api problem apiproblem get message getmessage root item describing component report string tree map treemap integer tree map treemap string list i api problem iapiproblem api problems apiproblems tree map treemap type problems typeproblems method problems methodproblems field problems fieldproblems add list i api problem iapiproblem api pbs apipbs list i api problem iapiproblem list tree map treemap string list i api problem iapiproblem types i api problem iapiproblem api pbs apipbs integer key integer get kind getkind types api problems apiproblems key types types tree map treemap missing compare missingcompare api problems apiproblems key types string tname get type name gettypename list types tname list list array list arraylist types tname list list add get kind getkind type problems typeproblems method problems methodproblems field problems fieldproblems get total gettotal type problems typeproblems method problems methodproblems field problems fieldproblems constructor param html root htmlroot folder root html reports written param xml root xmlroot folder root current api scan output located missing ref report converter missingrefreportconverter string html root htmlroot string xml root xmlroot html root htmlroot xml root xmlroot xml location xmllocation xml root xmlroot html location htmllocation html root htmlroot override convert string xslt i progress monitor iprogressmonitor monitor exception file html root htmlroot file html location htmllocation html root htmlroot exists html root htmlroot mkdirs exception nls bind search messages searchmessages create file html location htmllocation html root htmlroot mkdirs file lreports root lreportsroot get reports root getreportsroot lreports root lreportsroot exists lreports root lreportsroot is directory isdirectory exception nls bind search messages searchmessages invalid directory xml location xmllocation start api plugin apiplugin debug report converter start system current time millis currenttimemillis write not searched page writenotsearchedpage html root htmlroot api plugin apiplugin debug report converter nls nls system println system current time millis currenttimemillis start nls system println parsing scan start system current time millis currenttimemillis list result parse api plugin apiplugin debug report converter nls nls system println system current time millis currenttimemillis start nls system println sorting reports writing start system current time millis currenttimemillis write index page writeindexpage result writes main file reports param result list link report objects returns scan parser override write index page writeindexpage list result exception collections sort result report compare to compareto report print writer printwriter writer nls file report index reportindex file get html location gethtmllocation html report index reportindex exists report index reportindex create new file createnewfile set report index setreportindex report index reportindex string buffer stringbuffer buffer string buffer stringbuffer buffer append html header buffer append open html append open head append content type meta write metadata headers writemetadataheaders buffer buffer append open title append get index title getindextitle append close title buffer append close head buffer append open body buffer append open append get index title getindextitle append close write metadata summary writemetadatasummary buffer get filtered count getfilteredcount write filter count writefiltercount buffer buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter add l bundle info addlbundleinfo append close has missing hasmissing buffer append open buffer append nls bind search messages searchmessages use report converter usereportconverter missing bundles prev ented prevented scan string href missing html nls nls buffer append close buffer append open buffer append nls bind search messages searchmessages missing ref report converter missingrefreportconverter not searched notsearched string href searched html nls nls result size buffer append get problem summary table getproblemsummarytable result size object obj result obj report report report report obj file ref ereehtml refereehtml file get reports root getreportsroot nls report file separator nls html string link extract link from extractlinkfrom get reports root getreportsroot ref ereehtml refereehtml get absolute path getabsolutepath buffer append get reference table entry getreferencetableentry report link buffer append close table buffer append get no reports information getnoreportsinformation buffer append footer buffer append close body append close html write file writer print writer printwriter output stream writer outputstreamwriter file output stream fileoutputstream report index reportindex i api core constants iapicoreconstants utf writer print buffer to string tostring writer flush io exception ioexception exception nls bind search messages searchmessages ioe xception ioexception writing html file get report index getreportindex get absolute path getabsolutepath writer writer close override string get no reports information getnoreportsinformation string buffer stringbuffer buffer string buffer stringbuffer buffer append open append append search messages searchmessages scan problems append close buffer to string tostring returns html mark up markup entry problem summary table param report param link single reference table entry object get reference table entry getreferencetableentry report report string link string buffer stringbuffer buffer string buffer stringbuffer buffer append open nls nls nls buffer append href append link append append get bundle only name getbundleonlyname report append append close append close nls buffer append align left append get version getversion report append close nls buffer append align center append report type problems typeproblems append close nls buffer append align center append report method problems methodproblems append close nls buffer append align center append report field problems fieldproblems append close nls buffer append align center append report get total gettotal append close buffer append close buffer to string tostring string buffer stringbuffer get problem summary table getproblemsummarytable string buffer stringbuffer buffer string buffer stringbuffer buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem summary title problemsummarytitle append close buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem summary problemsummary append close nls buffer append table border width buffer append open nls nls buffer append bgcolor append references table header colour append width title nls buffer append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column bundle tooltip columnbundletooltip append buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column bundle columnbundle append close append close version header nls nls buffer append bgcolor append references table header colour append align center width title nls buffer append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column version tooltip columnversiontooltip append buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column version columnversion append close append close missing types nls nls buffer append bgcolor append references table header colour append align center width title nls buffer append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column missing types tooltip columnmissingtypestooltip append buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column missing types columnmissingtypes append close append close missing methods nls nls buffer append bgcolor append references table header colour append align center width title nls buffer append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column missing methods tooltip columnmissingmethodstooltip append buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column missing methods columnmissingmethods append close append close missing fields nls nls buffer append bgcolor append references table header colour append align center width title nls buffer append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column missing fields tooltip columnmissingfieldstooltip append buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column missing fields columnmissingfields append close append close total nls nls buffer append bgcolor append references table header colour append align center width title nls buffer append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column total tooltip columntotaltooltip append buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter problem table problemtable column total columntotal append close append close buffer override write metadata summary writemetadatasummary string buffer stringbuffer buffer exception missing ref metadata missingrefmetadata metadata missing ref metadata missingrefmetadata get metadata getmetadata buffer append open append search messages searchmessages missing ref report converter missingrefreportconverter metadata title metadatatitle append close nls nls buffer append table border title append search messages searchmessages missing ref report converter missingrefreportconverter metadata table title metadatatabletitle append width buffer append open buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter report date reportdate append close buffer append opentd append metadata get run at date getrunatdate append close buffer append close buffer append open buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter profile location profilelocation append close string metadata get profile getprofile buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter append close buffer append close buffer append open buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter report location reportlocation append close metadata get report location getreportlocation buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter append close buffer append close buffer append open buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter api use scan locations apiusescanlocations append close metadata get api use s cans getapiusescans buffer append opentd append search messages searchmessages missing ref report converter missingrefreportconverter append close buffer append close buffer append close buffer append close buffer append close table override i metadata imetadata get metadata getmetadata exception nls file xml file xmlfile file get reports root getreportsroot meta xml extension xml file xmlfile exists xml directory raw report root nls nls xml file xmlfile file get reports root getreportsroot file separator xml meta xml extension missing ref metadata missingrefmetadata get metadata getmetadata xml file xmlfile override string get index title getindextitle search messages searchmessages missing ref report converter missingrefreportconverter report title reporttitle override write metadata headers writemetadataheaders string buffer stringbuffer buffer nls nls nls nls buffer append meta append description append content append search messages searchmessages missing ref report converter missingrefreportconverter index meta tag indexmetatag append parse xml directories report xml generate html list parse exception missing ref parser missingrefparser lparser missing ref parser missingrefparser missing ref visitor missingrefvisitor visitor missing ref visitor missingrefvisitor lparser parse get xml location getxmllocation visitor visitor reports override string get html location gethtmllocation html location htmllocation override string get xml location getxmllocation xml location xmllocation override file get reports root getreportsroot reports root reportsroot reports root reportsroot file get xml location getxmllocation reports root reportsroot override file get report index getreportindex todo remove html index htmlindex file html location htmllocation html index htmlindex
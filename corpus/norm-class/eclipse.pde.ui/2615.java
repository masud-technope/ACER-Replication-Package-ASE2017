copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal core java file java util array list arraylist org eclipse core resources i resource iresource org eclipse core runtime org eclipse jdt core i classpath entry iclasspathentry org eclipse jdt core java core javacore org eclipse osgi service resolver bundle description bundledescription org eclipse pde core build i build ibuild org eclipse pde core build i build model ibuildmodel org eclipse pde core plugin org eclipse pde internal core bundle bundle fragment bundlefragment org eclipse pde internal core bundle bundle plugin bundleplugin org eclipse pde internal core ibundle i bundle plugin model base ibundlepluginmodelbase org eclipse pde internal core plugin org eclipse pde internal core plugin plugin classpath util core classpathutilcore add libraries addlibraries i plugin model base ipluginmodelbase model array list arraylist i classpath entry iclasspathentry result file model get install location getinstalllocation is file isfile addjardplugin model result i plugin library ipluginlibrary libraries model get plugin base getpluginbase get libraries getlibraries libraries length i plugin library ipluginlibrary resource equals libraries get type gettype i classpath entry iclasspathentry entry create library entry createlibraryentry libraries entry result entry result add entry addjardplugin i plugin model base ipluginmodelbase model array list arraylist i classpath entry iclasspathentry result nls i path ipath source path sourcepath get source annotation getsourceannotation model source path sourcepath source path sourcepath path model get install location getinstalllocation i classpath entry iclasspathentry entry java core javacore new library entry newlibraryentry path model get install location getinstalllocation source path sourcepath entry result entry result add entry i classpath entry iclasspathentry create library entry createlibraryentry i plugin library ipluginlibrary library string library get name getname string expanded name expandedname expand library name expandlibraryname i plugin model base ipluginmodelbase model library get plugin model getpluginmodel i path ipath path get path getpath model expanded name expandedname path model is fragment model isfragmentmodel contains variables containsvariables model resolve library i n fragments resolvelibraryinfragments library expanded name expandedname model path get path getpath model expanded name expandedname java core javacore new library entry newlibraryentry path get source annotation getsourceannotation model expanded name expandedname hasextensibleapi i plugin model base ipluginmodelbase model i plugin base ipluginbase plugin base pluginbase model get plugin base getpluginbase plugin base pluginbase i plugin iplugin hasextensibleapi i plugin iplugin plugin base pluginbase is patch fragment ispatchfragment bundle description bundledescription desc i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel desc model i fragment model ifragmentmodel is patch fragment ispatchfragment i fragment model ifragmentmodel model get fragment getfragment is patch fragment ispatchfragment i plugin model base ipluginmodelbase model i plugin base ipluginbase plugin base pluginbase model get plugin base getpluginbase plugin base pluginbase i fragment ifragment is patch fragment ispatchfragment i fragment ifragment plugin base pluginbase hasextensibleapi i plugin iplugin plugin plugin plugin plugin plugin hasextensibleapi plugin bundle plugin bundleplugin bundle plugin bundleplugin plugin hasextensibleapi is patch fragment ispatchfragment i fragment ifragment fragment fragment fragment fragment fragment is patch ispatch fragment bundle fragment bundlefragment bundle fragment bundlefragment fragment is patch ispatch has bundle structure hasbundlestructure i plugin model base ipluginmodelbase model model get underlying resource getunderlyingresource model i bundle plugin model base ibundlepluginmodelbase i plugin base ipluginbase plugin model get plugin base getpluginbase plugin plugin base pluginbase plugin base pluginbase plugin has bundle structure hasbundlestructure contains variables containsvariables string nls index of indexof nls index of indexof nls nls index of indexof nls nls index of indexof arch nls string expand library name expandlibraryname string source source source length nls nls source index of indexof source nls source replace all replaceall nls i path ipath separator nls target platform targetplatform getws nls source index of indexof source nls source replace all replaceall nls i path ipath separator nls target platform targetplatform getos nls source index of indexof source nls source replace all replaceall nls i path ipath separator nls target platform targetplatform getnl nls source index of indexof arch source nls source replace all replaceall nls arch arch i path ipath separator nls target platform targetplatform getosarch source i path ipath get source annotation getsourceannotation i plugin model base ipluginmodelbase model string library name libraryname string new library name newlibraryname target weaver targetweaver get weaved source library name getweavedsourcelibraryname model library name libraryname string zip name zipname get source zip name getsourcezipname new library name newlibraryname i path ipath path get path getpath model zip name zipname path source location manager sourcelocationmanager manager pde core pdecore get default getdefault get source location manager getsourcelocationmanager path manager find source path findsourcepath model get plugin base getpluginbase path zip name zipname path string get source zip name getsourcezipname string library name libraryname dot library name libraryname last index of lastindexof nls dot library name libraryname substring dot src zip library name libraryname i plugin model base ipluginmodelbase resolve library i n fragments resolvelibraryinfragments i plugin library ipluginlibrary library string library name libraryname i fragment model ifragmentmodel fragments pde manager pdemanager find fragments for findfragmentsfor library get plugin model getpluginmodel fragments length i path ipath path get path getpath fragments library name libraryname path fragments i path ipath get path getpath i plugin model base ipluginmodelbase model string library name libraryname i resource iresource resource model get underlying resource getunderlyingresource resource i resource iresource jar file jarfile resource get project getproject find member findmember library name libraryname jar file jarfile jar file jarfile get full path getfullpath file file file model get install location getinstalllocation library name libraryname file exists path file get absolute path getabsolutepath file file library name libraryname file exists file is absolute isabsolute path library name libraryname i build ibuild get build getbuild i plugin model base ipluginmodelbase model core exception coreexception i build model ibuildmodel build model buildmodel plugin registry pluginregistry create build model createbuildmodel model build model buildmodel build model buildmodel get build getbuild string get file name getfilename i plugin model base ipluginmodelbase model path model get install location getinstalllocation last segment lastsegment
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools builder tests compatibility java util array list arraylist java util hash set hashset java util iterator java util list java util junit framework test org eclipse core runtime core exception coreexception org eclipse jdt core i compilation unit icompilationunit org eclipse jdt core i java element ijavaelement org eclipse jdt core i java project ijavaproject org eclipse jdt core i package fragment ipackagefragment org eclipse jdt core i package fragment root ipackagefragmentroot org eclipse jdt core i type itype org eclipse jdt core java core javacore org eclipse pde api tools internal api baseline manager apibaselinemanager org eclipse pde api tools internal provisional model api type container visitor apitypecontainervisitor org eclipse pde api tools internal provisional model i api baseline iapibaseline org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api type iapitype org eclipse pde api tools internal provisional model i api type container iapitypecontainer org eclipse pde api tools internal provisional model i api type root iapityperoot tests project type container project type container tests projecttypecontainertests compatibility test compatibilitytest project type container tests projecttypecontainertests string tests test suite build test suite buildtestsuite project type container tests projecttypecontainertests javadoc org eclipse pde api tools builder tests api builder test apibuildertest get testing project name gettestingprojectname override string get testing project name gettestingprojectname javadoc org eclipse pde api tools builder tests api builder test apibuildertest get default problem id getdefaultproblemid override get default problem id getdefaultproblemid returns type container bundle project workspace i api type container iapitypecontainer get type container gettypecontainer core exception coreexception i api baseline iapibaseline baseline api baseline manager apibaselinemanager get manager getmanager get workspace baseline getworkspacebaseline nls assert not null assertnotnull missing workspace baseline baseline nls i api component iapicomponent component baseline get api component getapicomponent get env getenv get project getproject bundle nls assert not null assertnotnull missing api component component i api type container iapitypecontainer containers component get api type containers getapitypecontainers nls assert equals assertequals wrong number api type containers containers length i api type container iapitypecontainer container containers container i package fragment ipackagefragment get all packages getallpackages core exception coreexception nls i java project ijavaproject project java core javacore create get env getenv get project getproject bundle i package fragment root ipackagefragmentroot roots project get all package fragment roots getallpackagefragmentroots list i package fragment ipackagefragment pkgs array list arraylist i package fragment ipackagefragment roots length i package fragment root ipackagefragmentroot root roots root get kind getkind i package fragment root ipackagefragmentroot source i java element ijavaelement children root get children getchildren children length i package fragment ipackagefragment frag i package fragment ipackagefragment children pkgs add frag collect all packages collectallpackages frag pkgs pkgs to array toarray i package fragment ipackagefragment pkgs size collect all packages collectallpackages i package fragment ipackagefragment pkg list i package fragment ipackagefragment collect core exception coreexception i java element ijavaelement children pkg get children getchildren children length i java element ijavaelement element children element get element type getelementtype i java element ijavaelement fragment i package fragment ipackagefragment frag i package fragment ipackagefragment element collect add frag collect all packages collectallpackages frag collect returns expected packages test project string get all package names getallpackagenames build expected list string hash set hashset string nls add nls add annotations nls add bundles nls add bundles internal nls add classes nls add classes constructors nls add classes fields nls add classes hierarchy nls add classes internal nls add classes member types membertypes nls add classes methods nls add classes modifiers nls add classes restrictions nls add classes type parameters typeparameters nls add constructors nls add enums nls add fields nls add fields modifiers nls add interfaces nls add interfaces members nls add interfaces restrictions nls add interfaces type parameters typeparameters nls add methods nls add methods modifiers nls add methods type parameters typeparameters nls add nls add version nls add version internal string collect all type names collectalltypenames core exception coreexception i package fragment ipackagefragment all packages allpackages get all packages getallpackages string names hash set hashset string all packages allpackages length i package fragment ipackagefragment pkg all packages allpackages i compilation unit icompilationunit units pkg get compilation units getcompilationunits units length i compilation unit icompilationunit unit units i type itype types unit get types gettypes types length i type itype i type itype types names add i type itype get fully qualified name getfullyqualifiedname names tests packages returned core exception coreexception test package names testpackagenames core exception coreexception i api type container iapitypecontainer container get type container gettypecontainer nls assert equals assertequals project type container i api type container iapitypecontainer folder container get container type getcontainertype build expected list string get all package names getallpackagenames string names container get package names getpackagenames names length names length remove names is empty isempty nls system println left overs leftovers iterator string iterator iterator iterator has next hasnext string string iterator system println string nls assert true asserttrue missing wrong packages type container is empty isempty test type lookup core exception coreexception test find type testfindtype core exception coreexception i api type container iapitypecontainer container get type container gettypecontainer nls i api type root iapityperoot root container find type root findtyperoot classes fields add private field addprivatefield nls assert not null assertnotnull unable find type classes fields add private field addprivatefield root i api type iapitype structure root get structure getstructure nls nls assert equals assertequals wrong type classes fields add private field addprivatefield structure get name getname test type lookup fails type project core exception coreexception test missing type testmissingtype core exception coreexception i api type container iapitypecontainer container get type container gettypecontainer nls i api type root iapityperoot root container find type root findtyperoot bogus type nls assert null assertnull find type bogus type root visits container packages types core exception coreexception test visitor testvisitor core exception coreexception string pkg names pkgnames hash set hashset string string type names typenames hash set hashset string api type container visitor apitypecontainervisitor visitor api type container visitor apitypecontainervisitor override visit package visitpackage string package name packagename pkg names pkgnames add package name packagename override visit string package name packagename i api type root iapityperoot type root typeroot type names typenames add type root typeroot get type name gettypename get type container gettypecontainer accept visitor validate type names string collect all type names collectalltypenames iterator string iterator type names typenames iterator iterator has next hasnext remove iterator is empty isempty nls system println left over leftover types iterator string iterator iterator iterator has next hasnext string string iterator system println string nls assert true asserttrue missing wrong types type container is empty isempty validate names build expected list get all package names getallpackagenames iterator pkg names pkgnames iterator iterator has next hasnext remove iterator is empty isempty nls system println left over leftover packages iterator string iterator iterator iterator has next hasnext string string iterator system println string nls assert true asserttrue missing wrong packages type container is empty isempty
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde tests target java java net url java util junit framework test junit framework test suite testsuite org eclipse core runtime org eclipse equinox framework admin frameworkadmin bundle info bundleinfo org eclipse pde core plugin org eclipse pde core target org eclipse pde internal core org eclipse pde internal core target target definition targetdefinition org eclipse pde internal core target target definition persistence helper targetdefinitionpersistencehelper org eclipse pde internal launching launcher launch arguments helper launchargumentshelper org eclipse pde tests pde tests plugin pdetestsplugin org osgi framework service reference servicereference tests target definitions tested targets created metadata workspace target definition tests workspacetargetdefinitiontests local target definition tests localtargetdefinitiontests abstract target test abstracttargettest name version descriptor nameversiondescriptor multi version description name version descriptor nameversiondescriptor typical bundle name version descriptor nameversiondescriptor multi version high description name version descriptor nameversiondescriptor typical bundle test suite test suite testsuite local target definition tests localtargetdefinitiontests returns target platform service code code target platform service override i target platform service itargetplatformservice get target service gettargetservice service reference servicereference reference pde tests plugin pdetestsplugin get bundle context getbundlecontext get service reference getservicereference i target platform service itargetplatformservice get name getname assert not null assertnotnull missing target platform service reference reference i target platform service itargetplatformservice pde tests plugin pdetestsplugin get bundle context getbundlecontext get service getservice reference retrieves bundles source code target definition returning ur ls urls param target target definition bundle ur ls urls get all bundle ls getallbundleurls i target definition itargetdefinition target exception target is resolved isresolved target resolve target bundle targetbundle bundles target get bundles getbundles urls hash set hashset bundles length target bundle targetbundle bundle bundles urls add file bundle get bundle info getbundleinfo get location getlocation tourl urls tests reset ting resetting target platform work equivalent models target platform core exception coreexception test reset target platform testresettargetplatform exception i target definition itargetdefinition definition get default target platorm getdefaulttargetplatorm urls get all bundle ls getallbundleurls definition fragments hash set hashset target bundle targetbundle bundles definition get bundles getbundles target bundle targetbundle bundle bundles bundle is fragment isfragment fragments add file bundle get bundle info getbundleinfo get location getlocation tourl current platform i plugin model base ipluginmodelbase models target platform helper targetplatformhelper getpdestate get target models gettargetmodels equivalent assert equals assertequals number bundles urls size models length i plugin model base ipluginmodelbase model models string location model get install location getinstalllocation url url file location tourl assert true asserttrue missing plug location urls url model is fragment model isfragmentmodel assert true asserttrue missing frag mnet fragmnet fragments remove url assert true asserttrue number fragments fragments is empty isempty tests target definition equivalent target platform bundles target platform explicit location target weaving exception test default target platform testdefaulttargetplatform exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation target platform targetplatform get default location getdefaultlocation definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition i path ipath location path target platform targetplatform get default location getdefaultlocation url plugin paths pluginpaths utils read bundles txt readbundlestxt location toosstring location append configuration to file tofile tourl plugin paths pluginpaths npe hosting target platform real installation assert equals assertequals number bundles plugin paths pluginpaths length urls size url url plugin paths pluginpaths assert true asserttrue missing plug url to string tostring urls url tests target definition based target platform restricted subset bundles exception test restricted default target platform testrestricteddefaulttargetplatform exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation target platform targetplatform get default location getdefaultlocation name version descriptor nameversiondescriptor restrictions name version descriptor nameversiondescriptor name version descriptor nameversiondescriptor org eclipse jdt launching name version descriptor nameversiondescriptor org eclipse jdt debug definition set target locations settargetlocations i target location itargetlocation container definition set included setincluded restrictions list infos get all bundle infos getallbundleinfos definition assert equals assertequals wrong number bundles infos size collect all symbolic names collectallsymbolicnames infos name version descriptor nameversiondescriptor info restrictions remove info get id getid assert equals assertequals wrong bundles size tests target definition based target platform restricted subset bundle versions exception test version restricted default target platform testversionrestricteddefaulttargetplatform exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation target platform targetplatform get default location getdefaultlocation definition set target locations settargetlocations i target location itargetlocation container list infos get all bundle infos getallbundleinfos definition find versions string string iterator iterator infos iterator iterator has next hasnext bundle info bundleinfo info bundle info bundleinfo iterator info get symbolic name getsymbolicname equals org eclipse jdt launching info get version getversion info get symbolic name getsymbolicname equals org eclipse jdt debug info get version getversion assert not null assertnotnull assert false assertfalse equals bundle info bundleinfo empty version assert not null assertnotnull assert false assertfalse equals bundle info bundleinfo empty version name version descriptor nameversiondescriptor restrictions name version descriptor nameversiondescriptor name version descriptor nameversiondescriptor org eclipse jdt launching name version descriptor nameversiondescriptor org eclipse jdt debug definition set included setincluded restrictions infos get all bundle infos getallbundleinfos definition assert equals assertequals wrong number bundles infos size iterator infos iterator iterator has next hasnext bundle info bundleinfo info bundle info bundleinfo iterator info get symbolic name getsymbolicname equals org eclipse jdt launching assert equals assertequals info get version getversion info get symbolic name getsymbolicname equals org eclipse jdt debug assert equals assertequals info get version getversion tests target definition based target platform restricted subset bundles empty versions bogus exception test missing version restricted default target platform testmissingversionrestricteddefaulttargetplatform exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation target platform targetplatform get default location getdefaultlocation name version descriptor nameversiondescriptor restrictions name version descriptor nameversiondescriptor name version descriptor nameversiondescriptor org eclipse jdt launching xyz name version descriptor nameversiondescriptor org eclipse jdt debug abc definition set target locations settargetlocations i target location itargetlocation container definition set included setincluded restrictions definition resolve target bundle targetbundle bundles definition get bundles getbundles assert equals assertequals wrong number bundles bundles length target bundle targetbundle bundles assert equals assertequals missing bundle version target bundle targetbundle status version exist get status getstatus get code getcode assert equals assertequals error i status istatus error get status getstatus get severity getseverity tests target definition equivalent target platform bundles target platform explicit location target weaving created variable referencing eclipse exception test eclipse home target platform testeclipsehometargetplatform exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation eclipse definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition i path ipath location path target platform targetplatform get default location getdefaultlocation url plugin paths pluginpaths utils read bundles txt readbundlestxt location toosstring location append configuration to file tofile tourl plugin paths pluginpaths npe hosting target platform real installation assert equals assertequals number bundles plugin paths pluginpaths length urls size url url plugin paths pluginpaths assert true asserttrue missing plug url to string tostring urls url tests target definition equivalent target platform bundles target platform explicit location target weaving created variable referencing eclipse exception test eclipse home target platform and configuration area testeclipsehometargetplatformandconfigurationarea exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation eclipse eclipse configuration definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition i path ipath location path target platform targetplatform get default location getdefaultlocation url plugin paths pluginpaths utils read bundles txt readbundlestxt location toosstring location append configuration to file tofile tourl plugin paths pluginpaths npe hosting target platform real installation assert equals assertequals number bundles plugin paths pluginpaths length urls size url url plugin paths pluginpaths assert true asserttrue missing plug url to string tostring urls url tests target definition equivalent target platform bundles target platform platform configuration location target weaving tested j unit junit plug test suite eclipse exception test woven target platform testwoventargetplatform exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new profile location newprofilelocation target platform targetplatform get default location getdefaultlocation file platform get configuration location getconfigurationlocation geturl get file getfile get absolute path getabsolutepath definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition url plugin paths pluginpaths plugin path finder pluginpathfinder get plugin paths getpluginpaths target platform targetplatform get default location getdefaultlocation url url plugin paths pluginpaths assert true asserttrue missing plug url to string tostring urls url assert equals assertequals number bundles plugin paths pluginpaths length urls size tests bundle directory container equivalent scanning locations exception test directory bundle container testdirectorybundlecontainer exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new directory location newdirectorylocation target platform targetplatform get default location getdefaultlocation plugins definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition url plugin paths pluginpaths plugin path finder pluginpathfinder get plugin paths getpluginpaths target platform targetplatform get default location getdefaultlocation assert equals assertequals number bundles plugin paths pluginpaths length urls size url url plugin paths pluginpaths assert true asserttrue missing plug url to string tostring urls url tests bundle directory container equivalent scanning locations variable location exception test variable directory bundle container testvariabledirectorybundlecontainer exception i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new directory location newdirectorylocation eclipse plugins definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition url plugin paths pluginpaths plugin path finder pluginpathfinder get plugin paths getpluginpaths target platform targetplatform get default location getdefaultlocation assert equals assertequals number bundles plugin paths pluginpaths length urls size url url plugin paths pluginpaths assert true asserttrue missing plug url to string tostring urls url tests reading install mix classic osg i osgi plug ins exception test classic plugins testclassicplugins exception extract skeleton i path ipath location extract classic plugins extractclassicplugins i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new directory location newdirectorylocation location toosstring definition set target locations settargetlocations i target location itargetlocation container urls get all bundle ls getallbundleurls definition assert true asserttrue bundles urls size url plugin paths pluginpaths plugin path finder pluginpathfinder get plugin paths getpluginpaths location toosstring url plugin path pluginpath plugin paths pluginpaths url url plugin path pluginpath urls url system err println url to string tostring assert equals assertequals wrong number bundles plugin paths pluginpaths length urls size tests ide ntification identification source bundles install exception test classic source plugins testclassicsourceplugins exception extract skeleton i path ipath location extract classic plugins extractclassicplugins i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new directory location newdirectorylocation location toosstring definition set target locations settargetlocations i target location itargetlocation container definition resolve target bundle targetbundle bundles definition get bundles getbundles list source array list arraylist target bundle targetbundle bundles is source bundle issourcebundle source add assert equals assertequals wrong number source bundles source size names hash set hashset source size names add target bundle targetbundle source get bundle info getbundleinfo get symbolic name getsymbolicname string expected string org eclipse platform source org eclipse jdt source org eclipse pde source org eclipse platform source win win string element expected assert true asserttrue missing source element names element tests reading style plug manifest file bundle manifest exception test classic plugins with non bundle manifest testclassicpluginswithnonbundlemanifest exception extract plug i path ipath location extract classic non bundle manifest plugins extractclassicnonbundlemanifestplugins i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new directory location newdirectorylocation location toosstring definition set target locations settargetlocations i target location itargetlocation container definition resolve target bundle targetbundle bundles definition get all bundles getallbundles assert equals assertequals wrong number bundles bundles length assert equals assertequals wrong bundle org eclipse core variables bundles get bundle info getbundleinfo get symbolic name getsymbolicname returns input stream array param stream stream array param length length read stream unknown input stream array io exception ioexception get input stream as byte array getinputstreamasbytearray input stream inputstream stream length io exception ioexception contents length contents contents length contentslength amount read amountread read amount requested amountrequested math max stream resize contents needed contents length contentslength amount requested amountrequested contents length system arraycopy contents contents contents length contentslength amount requested amountrequested contents length contentslength read bytes amount read amountread stream read contents contents length contentslength amount requested amountrequested amount read amountread remember length contents contents length contentslength amount read amountread amount read amountread resize contents contents length contentslength contents length system arraycopy contents contents contents length contentslength contents length contentslength contents length len read size readsize read size readsize len length fms record read size length actual read size len read size readsize read size readsize stream read contents len length len contents returns location jdt feature running host path local file system path jdt feature i path ipath get jdt feature location getjdtfeaturelocation i path ipath path path target platform targetplatform get default location getdefaultlocation path path append features file dir path to file tofile assert true asserttrue missing features directory dir exists dir is file isfile string files dir list string location string file files file starts with startswith org eclipse jdt location path append file toosstring assert not null assertnotnull missing jdt feature location path location tests jdt feature bundle container bundles exception test feature bundle container testfeaturebundlecontainer exception extract feature i path ipath location extract modified features extractmodifiedfeatures i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new feature location newfeaturelocation location toosstring org eclipse jdt container resolve definition target bundle targetbundle bundles container get bundles getbundles list expected array list arraylist expected add org eclipse jdt expected add org eclipse jdt launching versions j unit junit expected add org junit expected add org junit expected add org junit platform getos equals platform macosx expected add org eclipse jdt launching macosx assert equals assertequals wrong number bundles test jdt feature expected size bundles length target bundle targetbundle bundle bundles expected remove bundle get bundle info getbundleinfo get symbolic name getsymbolicname iterator iterator expected iterator iterator has next hasnext string string iterator system err println missing assert true asserttrue wrong bundles jdt feature expected is empty isempty source bundles target bundle targetbundle bundle bundles assert false assertfalse source bundles bundle is source bundle issourcebundle tests jdt feature bundle container bundles specific exception test mac feature bundle container testmacosfeaturebundlecontainer exception extract feature i path ipath location extract modified features extractmodifiedfeatures i target definition itargetdefinition definition get new target getnewtarget definition setos platform macosx i target location itargetlocation container get target service gettargetservice new feature location newfeaturelocation location toosstring org eclipse jdt container resolve definition target bundle targetbundle bundles container get bundles getbundles list expected array list arraylist expected add org eclipse jdt expected add org eclipse jdt launching versions j unit junit expected add org junit expected add org junit expected add org junit expected add org eclipse jdt launching macosx assert equals assertequals wrong number bundles jdt feature expected size bundles length target bundle targetbundle bundle bundles string symbolic name symbolicname bundle get bundle info getbundleinfo get symbolic name getsymbolicname expected remove symbolic name symbolicname symbolic name symbolicname equals org eclipse jdt launching macosx bundle missing mac i status istatus status bundle get status getstatus platform getos equals platform macosx assert true asserttrue mac bundle status isok assert false assertfalse mac bundle missing status isok assert equals assertequals mac bundle mssing target bundle targetbundle status plugin exist status get code getcode iterator iterator expected iterator iterator has next hasnext string string iterator system err println missing assert true asserttrue wrong bundles jdt feature expected is empty isempty source bundles target bundle targetbundle bundle bundles assert false assertfalse source bundles bundle is source bundle issourcebundle tests target definition based jdt feature restricted subset bundles exception test restricted feature bundle container testrestrictedfeaturebundlecontainer exception extract feature i path ipath location extract modified features extractmodifiedfeatures i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new feature location newfeaturelocation location toosstring org eclipse jdt name version descriptor nameversiondescriptor restrictions name version descriptor nameversiondescriptor name version descriptor nameversiondescriptor org eclipse jdt name version descriptor nameversiondescriptor org junit definition set target locations settargetlocations i target location itargetlocation container definition set included setincluded restrictions list infos get all bundle infos getallbundleinfos definition assert equals assertequals wrong number bundles infos size collect all symbolic names collectallsymbolicnames infos name version descriptor nameversiondescriptor info restrictions remove info get id getid assert equals assertequals wrong bundles size tests jdt source feature bundle container bundles exception test source feature bundle container testsourcefeaturebundlecontainer exception extract feature i path ipath location extract modified features extractmodifiedfeatures i target definition itargetdefinition definition get new target getnewtarget i target location itargetlocation container get target service gettargetservice new feature location newfeaturelocation location toosstring org eclipse jdt source container resolve definition target bundle targetbundle bundles container get bundles getbundles list expected array list arraylist expected add org eclipse jdt source expected add org eclipse jdt launching source versions junit source expected add org junit source expected add org junit source platform getos equals platform macosx expected add org eclipse jdt launching macosx source assert equals assertequals wrong number bundles expected size bundles length target bundle targetbundle bundle bundles bundle get bundle info getbundleinfo get symbolic name getsymbolicname equals org eclipse jdt doc isv assert false assertfalse source bundle bundle is source bundle issourcebundle assert true asserttrue expected remove bundle get bundle info getbundleinfo get symbolic name getsymbolicname assert true asserttrue source bundle bundle is source bundle issourcebundle assert true asserttrue wrong bundles jdt feature expected is empty isempty tests setting target platform stored jdt feature test data exception test set target platform to jdt feature testsettargetplatformtojdtfeature exception extract feature i path ipath location extract modified features extractmodifiedfeatures org eclipse jdt vfr fmt b fmtb p oy hhoek poykhhoek i target definition itargetdefinition target get new target getnewtarget i target location itargetlocation container get target service gettargetservice new feature location newfeaturelocation location toosstring org eclipse jdt vfr fmt b fmtb p oy hhoek poykhhoek target set target locations settargetlocations i target location itargetlocation container set target platform settargetplatform target list expected array list arraylist expected add org eclipse jdt expected add org eclipse jdt launching versions j unit junit expected add org junit expected add org junit expected add org junit platform getos equals platform macosx expected add org eclipse jdt launching macosx current platform i plugin model base ipluginmodelbase models target platform helper targetplatformhelper getpdestate get target models gettargetmodels assert equals assertequals wrong number bundles jdt feature expected size models length i plugin model base ipluginmodelbase model models expected remove model get plugin base getpluginbase get id getid assert true asserttrue model is enabled isenabled iterator iterator expected iterator iterator has next hasnext string string iterator system err println missing assert true asserttrue wrong bundles target platform expected is empty isempty reset target platform resettargetplatform tests setting target platform empty core exception coreexception test set empty target platform testsetemptytargetplatform core exception coreexception set target platform settargetplatform current platform i plugin model base ipluginmodelbase models target platform helper targetplatformhelper getpdestate get target models gettargetmodels assert equals assertequals wrong number bundles empty target models length reset target platform resettargetplatform assert target definitions equal asserttargetdefinitionsequal i target definition itargetdefinition target a targeta i target definition itargetdefinition target b targetb assert true asserttrue target content equal target definition targetdefinition target a targeta is content equal iscontentequal target b targetb reads target definition file tests targets target files location note target appended param target definition exception i target definition itargetdefinition read old target readoldtarget string exception url url pde tests plugin pdetestsplugin get bundle context getbundlecontext get bundle getbundle get entry getentry tests targets target files target file file file file locator filelocator tofileurl url get file getfile i target definition itargetdefinition target get new target getnewtarget file input stream fileinputstream stream file input stream fileinputstream file target definition persistence helper targetdefinitionpersistencehelper initfromxml target stream stream close target directory bundles arguments exception test arguments plugins directory testargumentspluginsdirectory exception test bundle containers arguments i target location itargetlocation directory container directorycontainer get target service gettargetservice new directory location newdirectorylocation target platform targetplatform get default location getdefaultlocation plugins assert null assertnull plugins directory containers arguments directory container directorycontainer getvmarguments directory points installation arguments exception test arguments install directory testargumentsinstalldirectory exception i target location itargetlocation install directory installdirectory get target service gettargetservice new directory location newdirectorylocation target platform targetplatform get default location getdefaultlocation string install args installargs install directory installdirectory getvmarguments assert not null assertnotnull install directory arguments install args installargs assert true asserttrue install directory arguments install args installargs length feature container arguments exception test arguments feature container testargumentsfeaturecontainer exception i target location itargetlocation feature container featurecontainer get target service gettargetservice new feature location newfeaturelocation target platform targetplatform get default location getdefaultlocation exist exist assert null assertnull feature containers arguments feature container featurecontainer getvmarguments profile container arguments exception test arguments profile container testargumentsprofilecontainer exception i target location itargetlocation profile container profilecontainer get target service gettargetservice new profile location newprofilelocation target platform targetplatform get default location getdefaultlocation string arguments profile container profilecontainer getvmarguments assert not null assertnotnull profile containers arguments arguments assert true asserttrue profile containers arguments arguments length tests ability add arguments target platform configs exception test arguments testarguments exception i target definition itargetdefinition definition get new target getnewtarget add program arguments string program args programargs test program argument testprogramargument test program argument testprogramargument definition set program arguments setprogramarguments program args programargs assert equals assertequals program args programargs definition get program arguments getprogramarguments add arguments string vm args vmargs testvmargument testvmargument definition setvmarguments vm args vmargs assert equals assertequals vm args vmargs definition getvmarguments get target service gettargetservice save target definition savetargetdefinition definition set target platform settargetplatform definition check launch configs prepopulated target assert equals assertequals vm args vmargs launch arguments helper launchargumentshelper getinitialvmarguments assert equals assertequals target target arch target arch target console log consolelog concat program args programargs launch arguments helper launchargumentshelper get initial program arguments getinitialprogramarguments get target service gettargetservice delete target deletetarget definition get handle gethandle reset target platform resettargetplatform tests single version bundle included target platform exception test lower version of bundle testlowerversionofbundle exception do include versions doincludeversions name version descriptor nameversiondescriptor multi version description tests single higher version bundle included target platform exception test higher version of bundle testhigherversionofbundle exception do include versions doincludeversions name version descriptor nameversiondescriptor multi version high description tests versions bundle excluded exception test no versions of bundle testnoversionsofbundle exception do include versions doincludeversions name version descriptor nameversiondescriptor tests versions bundle included exception test all versions of bundle testallversionsofbundle exception do include versions doincludeversions tests versions bundle included exception test all versions of bundle explicit testallversionsofbundleexplicit exception do include versions doincludeversions name version descriptor nameversiondescriptor multi version description multi version high description do include versions doincludeversions name version descriptor nameversiondescriptor descriptions exception string bsn multi version description get id getid i path ipath ext ras extras extract multi version plugins extractmultiversionplugins i target definition itargetdefinition target get new target getnewtarget i target location itargetlocation container get target service gettargetservice new directory location newdirectorylocation ext ras extras toosstring target set target locations settargetlocations i target location itargetlocation container target set included setincluded descriptions get target service gettargetservice save target definition savetargetdefinition target set target platform settargetplatform target i plugin model base ipluginmodelbase models plugin registry pluginregistry get external models getexternalmodels enabled hash set hashset i plugin model base ipluginmodelbase models get bundle description getbundledescription get symbolic name getsymbolicname equals bsn name version descriptor nameversiondescriptor desc name version descriptor nameversiondescriptor get plugin base getpluginbase get id getid get plugin base getpluginbase get version getversion is enabled isenabled enabled add desc descriptions assert equals assertequals wrong number enabled bundles descriptions length enabled size name version descriptor nameversiondescriptor description descriptions assert true asserttrue missing bundle enabled description get target service gettargetservice delete target deletetarget target get handle gethandle reset target platform resettargetplatform
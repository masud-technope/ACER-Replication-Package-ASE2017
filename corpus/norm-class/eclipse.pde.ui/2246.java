copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde api tools internal builder java util linked list linkedlist java util list org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse core runtime multi status multistatus org eclipse core runtime sub monitor submonitor org eclipse pde api tools internal provisional api description visitor apidescriptionvisitor org eclipse pde api tools internal provisional api plugin apiplugin org eclipse pde api tools internal provisional i api annotations iapiannotations org eclipse pde api tools internal provisional visibility modifiers visibilitymodifiers org eclipse pde api tools internal provisional builder i api problem detector iapiproblemdetector org eclipse pde api tools internal provisional builder i reference ireference org eclipse pde api tools internal provisional descriptors i element descriptor ielementdescriptor org eclipse pde api tools internal provisional descriptors i package descriptor ipackagedescriptor org eclipse pde api tools internal provisional model api type container visitor apitypecontainervisitor org eclipse pde api tools internal provisional model i api component iapicomponent org eclipse pde api tools internal provisional model i api type iapitype org eclipse pde api tools internal provisional model i api type container iapitypecontainer org eclipse pde api tools internal provisional model i api type root iapityperoot org eclipse pde api tools internal provisional problems i api problem iapiproblem org eclipse pde api tools internal util util ibm icu text message format messageformat reference analyzer reference analyzer referenceanalyzer natural log log math log empty result collection i api problem iapiproblem empty result i api problem iapiproblem problem detector i api problem detector iapiproblemdetector problem detectors i api problem detector iapiproblemdetector visits file extra cting extracting references visitor api type container visitor apitypecontainervisitor i progress monitor iprogressmonitor f monitor fmonitor visitor i progress monitor iprogressmonitor monitor f monitor fmonitor monitor override visit package visitpackage string package name packagename f monitor fmonitor sub task subtask message format messageformat format builder messages buildermessages reference analyzer referenceanalyzer checking api package name packagename override end visit package endvisitpackage string package name packagename f monitor fmonitor worked override visit string package name packagename i api type root iapityperoot class file classfile f monitor fmonitor is canceled iscanceled i api type iapitype type class file classfile get structure getstructure type bad files extract or extractor type is member type ismembertype type is local islocal type is anonymous isanonymous list i reference ireference references type extract references extractreferences f all reference kinds fallreferencekinds potential matches i reference ireference references compute int erested interested problem detectors get log getlog get reference kind getreferencekind i api problem detector iapiproblemdetector detectors f indexed detectors findexeddetectors detectors detectors length i api problem detector iapiproblemdetector detector detectors detector consider reference considerreference f references freferences add core exception coreexception f status fstatus add get status getstatus scan status multi status multistatus f status fstatus bit mask reference kinds problem detectors care f all reference kinds fallreferencekinds list references resolve list i reference ireference f references freferences linked list linkedlist problem detectors indexed log base reference kind int erested interested fast hand references int erested interested problem detectors i api problem detector iapiproblemdetector f indexed detectors findexeddetectors indexes problem detectors reference kinds int erested interested detector int erested interested link org eclipse pde api tools internal provisional search reference modifiers referencemodifiers instantiate initial izes initializes bit mask int eresting interesting reference kinds param detectors problem detectors index problem detectors indexproblemdetectors i api problem detector iapiproblemdetector detectors f indexed detectors findexeddetectors i api problem detector iapiproblemdetector detectors length i api problem detector iapiproblemdetector detector detectors kinds detector get reference kinds getreferencekinds f all reference kinds fallreferencekinds kinds mask bit bit bit mask kinds i api problem detector iapiproblemdetector indexed f indexed detectors findexeddetectors bit indexed f indexed detectors findexeddetectors bit i api problem detector iapiproblemdetector detector i api problem detector iapiproblemdetector i api problem detector iapiproblemdetector indexed length system arraycopy indexed indexed length indexed length detector f indexed detectors findexeddetectors bit mask mask log param bit constant bitconstant single bit constant log base constant power constant equal get log getlog bit constant bitconstant log x logx math log bit constant bitconstant pow log x logx log math pow s cans scans scope extra cting extracting reference param scope scope scan param monitor progress monitor exception core exception coreexception scan fails extract references extractreferences i api type container iapitypecontainer scope i progress monitor iprogressmonitor monitor core exception coreexception f status fstatus multi status multistatus api plugin apiplugin plugin builder messages buildermessages reference analyzer referenceanalyzer api analysis error string package names packagenames scope get package names getpackagenames sub monitor submonitor local monitor localmonitor sub monitor submonitor convert monitor package names packagenames length api type container visitor apitypecontainervisitor visitor visitor local monitor localmonitor start system current time millis currenttimemillis scope accept visitor core exception coreexception f status fstatus add get status getstatus system current time millis currenttimemillis f status fstatus isok core exception coreexception f status fstatus local monitor localmonitor api plugin apiplugin debug reference analyzer nls nls nls system println reference analyzer extracted f references freferences size references start analyzes link i api component iapicomponent link i api type container iapitypecontainer scope returns collection detected link i api problem iapiproblem empty collection code code param component param scope param monitor collection detected link i api problem iapiproblem empty collection code code core exception coreexception i api problem iapiproblem analyze i api component iapicomponent component i api type container iapitypecontainer scope i progress monitor iprogressmonitor monitor core exception coreexception build problem detectors i api problem detector iapiproblemdetector detectors build problem detectors buildproblemdetectors component problem detector builder problemdetectorbuilder monitor analyze extract references sub monitor submonitor local monitor localmonitor sub monitor submonitor convert monitor builder messages buildermessages reference analyzer referenceanalyzer analyzing api local monitor localmonitor sub task subtask builder messages buildermessages reference analyzer referenceanalyzer analyzing api checking extract references extractreferences scope local monitor localmonitor local monitor localmonitor worked local monitor localmonitor is canceled iscanceled empty result resolve problem atic problematic references local monitor localmonitor sub task subtask builder messages buildermessages reference analyzer referenceanalyzer analyzing api checking f references freferences size reference resolver referenceresolver resolve references resolvereferences f references freferences local monitor localmonitor local monitor localmonitor worked local monitor localmonitor is canceled iscanceled empty result create problems list i api problem iapiproblem all problems allproblems linked list linkedlist local monitor localmonitor sub task subtask builder messages buildermessages reference analyzer referenceanalyzer analyzing api checking detectors length i api problem detector iapiproblemdetector detector detectors all problems allproblems add all addall detector create problems createproblems local monitor localmonitor is canceled iscanceled empty result i api problem iapiproblem array all problems allproblems to array toarray i api problem iapiproblem all problems allproblems size local monitor localmonitor worked array clean f indexed detectors findexeddetectors f references freferences clear returns collection problem detectors reference kind param reference kind referencekind i api problem detector iapiproblemdetector get problem detectors getproblemdetectors reference kind referencekind f indexed detectors findexeddetectors get log getlog reference kind referencekind f indexed detectors findexeddetectors length i api problem detector iapiproblemdetector detectors f indexed detectors findexeddetectors detectors detectors problem detectors problem detectors builds problem detectors analyzing component param component component analyzed param kind mask kindmask kinds detectors build link problem detector builder problemdetectorbuilder kinds param monitor problem detectors i api problem detector iapiproblemdetector build problem detectors buildproblemdetectors i api component iapicomponent component kind mask kindmask i progress monitor iprogressmonitor monitor start system current time millis currenttimemillis i api component iapicomponent components component get baseline getbaseline get prerequisite components getprerequisitecomponents i api component iapicomponent component problem detector builder problemdetectorbuilder visitor problem detector builder problemdetectorbuilder component kind mask kindmask components length util update monitor updatemonitor monitor i api component iapicomponent prereq components prereq equals component visitor set owning component setowningcomponent prereq prereq get api description getapidescription accept visitor monitor core exception coreexception api plugin apiplugin log get status getstatus system current time millis currenttimemillis api plugin apiplugin debug reference analyzer nls nls system println time build problem detectors start add names leak component api description visitor apidescriptionvisitor name visitor namevisitor api description visitor apidescriptionvisitor override visit element visitelement i element descriptor ielementdescriptor element i api annotations iapiannotations description element get element type getelementtype i element descriptor ielementdescriptor visibility modifiers visibilitymodifiers is private isprivate description get visibility getvisibility visitor add non api package name addnonapipackagename i package descriptor ipackagedescriptor element get name getname component get api description getapidescription accept name visitor namevisitor list i api problem detector iapiproblemdetector detectors visitor get problem detectors getproblemdetectors size detectors size size problem detectors i api problem detector iapiproblemdetector array detectors to array toarray i api problem detector iapiproblemdetector size index problem detectors indexproblemdetectors array array core exception coreexception api plugin apiplugin log problem detectors
copyright ibm corporation rights reserved program accompanying materials terms eclipse license accompanies distribution http eclipse org legal epl html contributors ibm corporation initial api implementation org eclipse pde internal launching launcher java java util java util zip zip entry zipentry java util zip zip file zipfile org eclipse core resources i workspace runnable iworkspacerunnable org eclipse core runtime core exception coreexception org eclipse core runtime i progress monitor iprogressmonitor org eclipse debug core i launch configuration ilaunchconfiguration org eclipse jdt launching ivm install ivminstall org eclipse jdt launching java runtime javaruntime org eclipse jdt launching environments i execution environment iexecutionenvironment org eclipse jdt launching environments i execution environments manager iexecutionenvironmentsmanager org eclipse osgi service resolver org eclipse pde core plugin i plugin model base ipluginmodelbase org eclipse pde core plugin plugin registry pluginregistry org eclipse pde internal core bundle validation operation bundlevalidationoperation org eclipse pde internal core target platform helper targetplatformhelper org osgi framework constants launch validation operation launchvalidationoperation i workspace runnable iworkspacerunnable bundle validation operation bundlevalidationoperation f operation foperation i launch configuration ilaunchconfiguration f launch configuration flaunchconfiguration launch validation operation launchvalidationoperation i launch configuration ilaunchconfiguration configuration f launch configuration flaunchconfiguration configuration override i progress monitor iprogressmonitor monitor core exception coreexception f operation foperation bundle validation operation bundlevalidationoperation get models getmodels get platform properties getplatformproperties f operation foperation monitor i plugin model base ipluginmodelbase get models getmodels core exception coreexception suppress warnings suppresswarnings rawtypes dictionary get platform properties getplatformproperties core exception coreexception i execution environment iexecutionenvironment envs get matching environments getmatchingenvironments envs length dictionary target platform helper targetplatformhelper get target environment gettargetenvironment add java profiles profile file current system bundle array list arraylist dictionary string string result array list arraylist dictionary string string envs length envs length properties profile props profileprops get java profile properties getjavaprofileproperties envs get id getid profile props profileprops dictionary string string props target platform helper targetplatformhelper get target environment gettargetenvironment string system packages systempackages profile props profileprops get property getproperty constants framework system packages systempackages system packages systempackages props constants framework system packages systempackages system packages systempackages string profile props profileprops get property getproperty constants framework executionenvironment props constants framework executionenvironment result add props result size result to array toarray dictionary result size dictionary target platform helper targetplatformhelper get target environment gettargetenvironment i execution environment iexecutionenvironment get matching environments getmatchingenvironments core exception coreexception ivm install ivminstall install vm helper vmhelper getvminstall f launch configuration flaunchconfiguration install i execution environment iexecutionenvironment i execution environments manager iexecutionenvironmentsmanager manager java runtime javaruntime get execution environments manager getexecutionenvironmentsmanager i execution environment iexecutionenvironment envs manager get execution environments getexecutionenvironments list i execution environment iexecutionenvironment result array list arraylist i execution environment iexecutionenvironment envs length envs length i execution environment iexecutionenvironment env envs ivm install ivminstall compatible env get compatible ms getcompatiblevms compatible length compatible equals install result add env result to array toarray i execution environment iexecutionenvironment result size properties get java profile properties getjavaprofileproperties string nls i plugin model base ipluginmodelbase model plugin registry pluginregistry find model findmodel system bundle model file location file model get install location getinstalllocation nls string filename replace profile input stream inputstream zip file zipfile zip file zipfile find input stream profile properties file location is directory isdirectory file file file location filename file exists file input stream fileinputstream file zip file zipfile zip file zipfile location zip file zipfile open read zip entry zipentry entry zip file zipfile get entry getentry filename entry zip file zipfile get input stream getinputstream entry io exception ioexception properties profile properties profile load profile io exception ioexception close io exception ioexception zip file zipfile zip file zipfile close io exception ioexception has errors haserrors f operation foperation has errors haserrors map object object get input getinput f operation foperation get resolver errors getresolvererrors is empty isempty f operation foperation get state getstate get highest bundle id gethighestbundleid get state getstate f operation foperation get state getstate